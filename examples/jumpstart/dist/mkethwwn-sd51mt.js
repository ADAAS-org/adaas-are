var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __decorateClass = (decorators, target, key, kind) => {
  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;
  for (var i2 = decorators.length - 1, decorator; i2 >= 0; i2--)
    if (decorator = decorators[i2])
      result = (kind ? decorator(target, key, result) : decorator(result)) || result;
  if (kind && result) __defProp(target, key, result);
  return result;
};
var __decorateParam = (index, decorator) => (target, key) => decorator(target, key, index);

// node_modules/@adaas/a-concept/dist/index.mjs
var Ze = Object.defineProperty;
var a = /* @__PURE__ */ __name((p, e) => Ze(p, "name", { value: e, configurable: true }), "a");
var N = { A_CONCEPT_NAME: "A_CONCEPT_NAME", A_CONCEPT_ROOT_SCOPE: "A_CONCEPT_ROOT_SCOPE", A_CONCEPT_ENVIRONMENT: "A_CONCEPT_ENVIRONMENT", A_CONCEPT_ROOT_FOLDER: "A_CONCEPT_ROOT_FOLDER", A_ERROR_DEFAULT_DESCRIPTION: "A_ERROR_DEFAULT_DESCRIPTION" };
var at = [N.A_CONCEPT_NAME, N.A_CONCEPT_ROOT_SCOPE, N.A_CONCEPT_ENVIRONMENT, N.A_CONCEPT_ROOT_FOLDER, N.A_ERROR_DEFAULT_DESCRIPTION];
var He = ((i2) => (i2.INITIALIZED = "INITIALIZED", i2.PROCESSING = "PROCESSING", i2.COMPLETED = "COMPLETED", i2.INTERRUPTED = "INTERRUPTED", i2.FAILED = "FAILED", i2))(He || {});
var _a;
var ce = (_a = class {
  constructor() {
    this.meta = /* @__PURE__ */ new Map();
  }
  [Symbol.iterator]() {
    let e = this.meta.entries();
    return { next: a(() => e.next(), "next") };
  }
  from(e) {
    return this.meta = new Map(e.meta), this;
  }
  set(e, t) {
    let r = this.meta.get(e) || Array.isArray(t) ? [] : t instanceof Map ? /* @__PURE__ */ new Map() : {};
    this.meta.get(e) || Array.isArray(t) ? [...r] : t instanceof Map ? new Map(r) : { ...r };
    this.meta.set(e, t);
  }
  get(e) {
    return this.meta.get(e);
  }
  delete(e) {
    return this.meta.delete(e);
  }
  size() {
    return this.meta.size;
  }
  convertToRegExp(e) {
    return e instanceof RegExp ? e : new RegExp(e);
  }
  find(e) {
    let t = [];
    for (let [r, n] of this.meta.entries()) this.convertToRegExp(String(r)).test(e) && t.push([r, n]);
    return t;
  }
  findByRegex(e) {
    let t = [];
    for (let [r, n] of this.meta.entries()) e.test(String(r)) && t.push([r, n]);
    return t;
  }
  has(e) {
    return this.meta.has(e);
  }
  entries() {
    return this.meta.entries();
  }
  clear() {
    this.meta.clear();
  }
  toArray() {
    return Array.from(this.meta.entries());
  }
  recursiveToJSON(e) {
    switch (true) {
      case e instanceof _a:
        return e.toJSON();
      case e instanceof Map:
        let t = {};
        for (let [n, i2] of e.entries()) t[String(n)] = this.recursiveToJSON(i2);
        return t;
      case Array.isArray(e):
        return e.map((n) => this.recursiveToJSON(n));
      case (!!e && typeof e == "object"):
        let r = {};
        for (let [n, i2] of Object.entries(e)) r[n] = this.recursiveToJSON(i2);
        return r;
      default:
        return e;
    }
  }
  toJSON() {
    let e = {};
    for (let [t, r] of this.meta.entries()) e[String(t)] = this.recursiveToJSON(r);
    return e;
  }
}, __name(_a, "ce"), _a);
a(ce, "A_Meta");
var d = ce;
var We = ((n) => (n.EXTENSIONS = "a-component-extensions", n.FEATURES = "a-component-features", n.ABSTRACTIONS = "a-component-abstractions", n.INJECTIONS = "a-component-injections", n))(We || {});
var Xe = ((r) => (r.SAVE = "save", r.DESTROY = "destroy", r.LOAD = "load", r))(Xe || {});
var Qe = ((n) => (n.FEATURES = "a-container-features", n.INJECTIONS = "a-container-injections", n.ABSTRACTIONS = "a-container-abstractions", n.EXTENSIONS = "a-container-extensions", n))(Qe || {});
var et = ((n) => (n.EXTENSIONS = "a-component-extensions", n.FEATURES = "a-component-features", n.INJECTIONS = "a-component-injections", n.ABSTRACTIONS = "a-component-abstractions", n))(et || {});
var _a2;
var Ee = (_a2 = class extends d {
  injections(e) {
    return this.get("a-component-injections")?.get(e) || [];
  }
  extensions(e) {
    let t = [];
    return this.get("a-component-extensions")?.find(e).forEach(([n, i2]) => {
      i2.forEach((s) => {
        t.push({ name: s.name, handler: s.handler, behavior: s.behavior, before: s.before || "", after: s.after || "", throwOnError: s.throwOnError || true, override: "" });
      });
    }), t;
  }
  features() {
    return this.get("a-component-features")?.toArray().map(([, t]) => t) || [];
  }
  abstractions(e) {
    let t = [], r = this.get("a-component-abstractions"), n = this.get("a-component-injections");
    return r?.find(`CONCEPT_ABSTRACTION::${e}`).forEach(([i2, s]) => {
      s.forEach((_) => {
        let l2 = n?.get(_.handler) || [];
        t.push({ ..._, args: l2 });
      });
    }), t;
  }
}, __name(_a2, "Ee"), _a2);
a(Ee, "A_ComponentMeta");
var $ = Ee;
var _a3;
var Te = (_a3 = class {
  get name() {
    return this.config?.name || this.constructor.name;
  }
  get scope() {
    return c.scope(this);
  }
  constructor(e = {}) {
    this.config = e, c.allocate(this, this.config);
  }
  async call(e, t) {
    return await new v({ name: e, component: this }).process(t);
  }
}, __name(_a3, "Te"), _a3);
a(Te, "A_Container");
var L = Te;
var _a4;
var Se = (_a4 = class extends d {
  injections(e) {
    return this.get("a-container-injections")?.get(e) || [];
  }
  features() {
    return this.get("a-container-features")?.toArray().map(([, t]) => t) || [];
  }
  abstractions(e) {
    let t = [], r = this.get("a-container-abstractions"), n = this.get("a-container-injections");
    return r?.find(`CONCEPT_ABSTRACTION::${e}`).forEach(([i2, s]) => {
      s.forEach((_) => {
        let l2 = n?.get(_.handler) || [];
        t.push({ ..._, args: l2 });
      });
    }), t;
  }
  extensions(e) {
    let t = [];
    return this.get("a-container-extensions")?.find(e).forEach(([n, i2]) => {
      i2.forEach((s) => {
        t.push({ name: s.name, handler: s.handler, behavior: s.behavior, before: s.before || "", after: s.after || "", throwOnError: s.throwOnError || true, override: "" });
      });
    }), t;
  }
}, __name(_a4, "Se"), _a4);
a(Se, "A_ContainerMeta");
var J = Se;
var _a5;
var he = (_a5 = class {
  static toUpperSnakeCase(e) {
    return e.trim().replace(/([a-z])([A-Z])/g, "$1_$2").replace(/[^a-zA-Z0-9]+/g, "_").replace(/_+/g, "_").replace(/^_|_$/g, "").toUpperCase();
  }
  static toCamelCase(e) {
    return e.trim().replace(/[^a-zA-Z0-9]+/g, " ").split(" ").filter(Boolean).map((t, r) => r === 0 ? t.toLowerCase() : t.charAt(0).toUpperCase() + t.slice(1).toLowerCase()).join("");
  }
  static toPascalCase(e) {
    return e.trim().replace(/([a-z])([A-Z])/g, "$1 $2").replace(/[^a-zA-Z0-9]+/g, " ").split(" ").filter(Boolean).map((t) => t.charAt(0).toUpperCase() + t.slice(1).toLowerCase()).join("");
  }
  static toKebabCase(e) {
    return e.replace(/[^a-zA-Z0-9]+/g, " ").replace(/([a-z0-9])([A-Z])/g, "$1 $2").trim().replace(/\s+/g, "-").toLowerCase();
  }
}, __name(_a5, "he"), _a5);
a(he, "A_FormatterHelper");
var y = he;
var _a6;
var ye = (_a6 = class {
  static generateTimeId(e = { timestamp: /* @__PURE__ */ new Date(), random: Math.random().toString(36).slice(2, 8) }) {
    let t = e.timestamp.getTime().toString(36), r = e.random;
    return `${t}-${r}`;
  }
  static parseTimeId(e) {
    let [t, r] = e.split("-");
    return { timestamp: new Date(parseInt(t, 36)), random: r };
  }
  static formatWithLeadingZeros(e, t = 10) {
    return String(e).padStart(t + 1, "0").slice(-t);
  }
  static removeLeadingZeros(e) {
    return String(Number(e));
  }
}, __name(_a6, "ye"), _a6);
a(ye, "A_IdentityHelper");
var K = ye;
var H = { UNEXPECTED_ERROR: "A-Error Unexpected Error", VALIDATION_ERROR: "A-Error Validation Error" };
var Be = "If you see this error please let us know.";
var _a7;
var j = (_a7 = class extends Error {
  static get entity() {
    return y.toKebabCase(this.name);
  }
  static get concept() {
    return c.concept;
  }
  static get scope() {
    return c.root.name;
  }
  constructor(e, t) {
    switch (true) {
      case e instanceof _a7:
        return e;
      case e instanceof Error:
        super(e.message);
        break;
      case o.isErrorSerializedType(e):
        super(e.message);
        break;
      case (o.isErrorConstructorType(e) && "description" in e):
        super(`[${e.title}]: ${e.description}`);
        break;
      case (o.isErrorConstructorType(e) && !("description" in e)):
        super(e.title);
        break;
      case (o.isString(e) && !t):
        super(e);
        break;
      case (o.isString(e) && !!t):
        super(`[${e}]: ${t}`);
        break;
      default:
        throw new _a7(H.VALIDATION_ERROR, "Invalid parameters provided to A_Error constructor");
    }
    this.getInitializer(e, t).call(this, e, t);
  }
  get aseid() {
    return this._aseid;
  }
  get title() {
    return this._title;
  }
  get message() {
    return super.message;
  }
  get code() {
    return this._code || y.toKebabCase(this.title);
  }
  get type() {
    return this.constructor.entity;
  }
  get link() {
    return this._link ? this._link : new URL(`https://adaas.support/a-concept/errors/${this.aseid.toString()}`).toString();
  }
  get scope() {
    return this._aseid.scope;
  }
  get description() {
    return this._description || process.env[N.A_ERROR_DEFAULT_DESCRIPTION] || Be;
  }
  get originalError() {
    return this._originalError;
  }
  getInitializer(e, t) {
    switch (true) {
      case (o.isString(e) && !t):
        return this.fromMessage;
      case (o.isString(e) && !!t):
        return this.fromTitle;
      case e instanceof Error:
        return this.fromError;
      case o.isErrorSerializedType(e):
        return this.fromJSON;
      case o.isErrorConstructorType(e):
        return this.fromConstructor;
      default:
        throw new _a7(H.VALIDATION_ERROR, "Invalid parameters provided to A_Error constructor");
    }
  }
  fromError(e) {
    this._title = H.UNEXPECTED_ERROR, this._aseid = new I({ concept: this.constructor.concept, scope: this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._originalError = e;
  }
  fromMessage(e) {
    this._title = H.UNEXPECTED_ERROR, this._aseid = new I({ concept: this.constructor.concept, scope: this._scope || this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._link = void 0, this._originalError = void 0;
  }
  fromJSON(e) {
    this._aseid = new I(e.aseid), super.message = e.message, this._title = e.title, this._code = e.code, this._scope = e.scope, this._description = e.description, this._originalError = e.originalError ? new _a7(e.originalError) : void 0, this._link = e.link;
  }
  fromTitle(e, t) {
    this.validateTitle(e), this._title = e, this._description = t, this._aseid = new I({ concept: this.constructor.concept, scope: this._scope || this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._link = void 0, this._originalError = void 0;
  }
  fromConstructor(e) {
    if (this.validateTitle(e.title), this._title = e.title, this._code = e.code, this._scope = e.scope ? o.isScopeInstance(e.scope) ? e.scope.name : e.scope : void 0, this._aseid = new I({ concept: this.constructor.concept, scope: this._scope || this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._description = e.description, this._link = e.link, e.originalError instanceof _a7) {
      let t = e.originalError;
      for (; t.originalError instanceof _a7; ) t = t.originalError;
      this._originalError = t.originalError || t;
    } else this._originalError = e.originalError;
  }
  toJSON() {
    return { aseid: this.aseid.toString(), title: this.title, code: this.code, type: this.type, message: this.message, link: this.link, scope: this.scope, description: this.description, originalError: this.originalError?.message };
  }
  validateTitle(e) {
    if (e.length > 60) throw new _a7(H.VALIDATION_ERROR, "A-Error title exceeds 60 characters limit.");
    if (e.length === 0) throw new _a7(H.VALIDATION_ERROR, "A-Error title cannot be empty.");
  }
}, __name(_a7, "j"), _a7);
a(j, "A_Error");
var f = j;
var _a8;
var ie = (_a8 = class extends f {
}, __name(_a8, "ie"), _a8);
a(ie, "ASEID_Error"), ie.ASEIDInitializationError = "ASEID Initialization Error", ie.ASEIDValidationError = "ASEID Validation Error";
var R = ie;
var _a9;
var z = (_a9 = class {
  static isASEID(e) {
    return this.regexp.test(e);
  }
  constructor(e) {
    this.verifyInput(e), this.getInitializer(e).call(this, e);
  }
  get concept() {
    return this._concept || c.concept;
  }
  get scope() {
    return this._scope || c.root.name;
  }
  get entity() {
    return this._entity;
  }
  get id() {
    return this._id;
  }
  get version() {
    return this._version;
  }
  get shard() {
    return this._shard;
  }
  getInitializer(e) {
    switch (true) {
      case o.isString(e):
        return this.fromString;
      case o.isObject(e):
        return this.fromObject;
      default:
        throw new R(R.ASEIDInitializationError, "Invalid parameters provided to ASEID constructor");
    }
  }
  fromString(e) {
    let [t, r, n] = e.split("@"), [i2, s, _] = r.split(":"), l2 = _.includes(".") ? _.split(".")[0] : void 0, E2 = _.includes(".") ? _.split(".")[1] : _;
    this._concept = t || c.root.name, this._scope = i2 || c.root.name, this._entity = s, this._id = E2, this._version = n, this._shard = l2;
  }
  fromObject(e) {
    this._concept = e.concept ? _a9.isASEID(e.concept) ? new _a9(e.concept).id : e.concept : c.concept, this._scope = e.scope ? o.isNumber(e.scope) ? K.formatWithLeadingZeros(e.scope) : _a9.isASEID(e.scope) ? new _a9(e.scope).id : e.scope : c.root.name, this._entity = e.entity, this._id = o.isNumber(e.id) ? K.formatWithLeadingZeros(e.id) : e.id, this._version = e.version, this._shard = e.shard;
  }
  toString() {
    return `${this.concept}@${this.scope}:${this.entity}:${this.shard ? this.shard + "." + this.id : this.id}${this.version ? "@" + this.version : ""}`;
  }
  toJSON() {
    return { concept: this._concept, scope: this._scope, entity: this._entity, id: this._id, version: this._version, shard: this._shard };
  }
  verifyInput(e) {
    switch (true) {
      case (o.isString(e) && !_a9.isASEID(e)):
        throw new R(R.ASEIDValidationError, "Invalid ASEID format provided");
      case (o.isObject(e) && !e.id):
        throw new R(R.ASEIDValidationError, "ASEID id is required");
      case (o.isObject(e) && !e.entity):
        throw new R(R.ASEIDValidationError, "ASEID entity is required");
    }
  }
}, __name(_a9, "z"), _a9);
a(z, "ASEID"), z.regexp = new RegExp("^[a-z|A-Z|0-9|-]+@[a-z|A-Z|0-9|-]+:[a-z|A-Z|0-9|-]+:[a-z|A-Z|0-9|\\.|-]+(@v[0-9|\\.]+|@lts)?$");
var I = z;
var _a10;
var pe = (_a10 = class extends f {
}, __name(_a10, "pe"), _a10);
a(pe, "A_EntityError"), pe.ValidationError = "A-Entity Validation Error";
var Q = pe;
var _a11;
var ge = (_a11 = class {
  static get entity() {
    return y.toKebabCase(this.name);
  }
  static get concept() {
    return c.concept;
  }
  static get scope() {
    return c.root.name;
  }
  constructor(e) {
    this.getInitializer(e).call(this, e);
  }
  get id() {
    return this.aseid.id;
  }
  isStringASEID(e) {
    return typeof e == "string" && I.isASEID(e);
  }
  isASEIDInstance(e) {
    return e instanceof I;
  }
  isSerializedObject(e) {
    return !!e && typeof e == "object" && "aseid" in e;
  }
  isConstructorProps(e) {
    return !!e && typeof e == "object" && !("aseid" in e);
  }
  getInitializer(e) {
    if (!e) return this.fromUndefined;
    if (this.isStringASEID(e)) return this.fromASEID;
    if (this.isASEIDInstance(e)) return this.fromASEID;
    if (this.isSerializedObject(e)) return this.fromJSON;
    if (this.isConstructorProps(e)) return this.fromNew;
    throw new Q(Q.ValidationError, "Unable to determine A-Entity constructor initialization method. Please check the provided parameters.");
  }
  generateASEID(e) {
    return new I({ concept: e?.concept || this.constructor.concept, scope: e?.scope || this.constructor.scope, entity: e?.entity || this.constructor.entity, id: e?.id || K.generateTimeId() });
  }
  async call(e, t) {
    return await new v({ name: e, component: this, scope: t }).process(t);
  }
  async load(e) {
    return this.call("load", e);
  }
  async destroy(e) {
    return this.call("destroy", e);
  }
  async save(e) {
    return this.call("save", e);
  }
  fromASEID(e) {
    e instanceof I ? this.aseid = e : this.aseid = new I(e);
  }
  fromUndefined() {
    this.aseid = this.generateASEID();
  }
  fromNew(e) {
    this.aseid = this.generateASEID();
  }
  fromJSON(e) {
    this.aseid = new I(e.aseid);
  }
  toJSON() {
    return { aseid: this.aseid.toString() };
  }
  toString() {
    return this.aseid ? this.aseid.toString() : this.constructor.name;
  }
}, __name(_a11, "ge"), _a11);
a(ge, "A_Entity");
var M = ge;
var _a12;
var Ce = (_a12 = class extends d {
  features() {
    return this.get("a-component-features")?.toArray().map(([, t]) => t) || [];
  }
  injections(e) {
    return this.get("a-component-injections")?.get(e) || [];
  }
}, __name(_a12, "Ce"), _a12);
a(Ce, "A_EntityMeta");
var W = Ce;
var _a13;
var Pe = (_a13 = class {
  constructor(e = {}) {
    this._name = e.name || this.constructor.name;
  }
  get name() {
    return this._name;
  }
  toJSON() {
    return { name: this.name };
  }
}, __name(_a13, "Pe"), _a13);
a(Pe, "A_Fragment");
var B = Pe;
var _a14;
var Ie = (_a14 = class {
  static resolve() {
    return new Promise((e) => e());
  }
  static isInheritedFrom(e, t) {
    let r = e;
    for (; r; ) {
      if (r === t) return true;
      r = Object.getPrototypeOf(r);
    }
    return false;
  }
  static getParentClasses(e) {
    let t = Object.getPrototypeOf(typeof e == "function" ? e : e.constructor), r = [];
    for (; t && t !== Function.prototype; ) r.push(t), t = Object.getPrototypeOf(t);
    return r;
  }
  static getClassInheritanceChain(e) {
    let t = Object.getPrototypeOf(typeof e == "function" ? e : e.constructor), r = typeof e == "function" ? [e] : [e.constructor];
    for (; t && t !== Function.prototype; ) r.push(t), t = Object.getPrototypeOf(t);
    return r;
  }
  static getParentClass(e) {
    return Object.getPrototypeOf(e);
  }
  static omitProperties(e, t) {
    let r = JSON.parse(JSON.stringify(e));
    function n(i2, s) {
      let _ = s[0];
      s.length === 1 ? delete i2[_] : i2[_] !== void 0 && typeof i2[_] == "object" && n(i2[_], s.slice(1));
    }
    __name(n, "n");
    return a(n, "removeProperties"), t.forEach((i2) => {
      let s = i2.split(".");
      n(r, s);
    }), r;
  }
  static isObject(e) {
    return e !== null && typeof e == "object" && !Array.isArray(e);
  }
  static deepMerge(e, t, r = /* @__PURE__ */ new Map()) {
    if (this.isObject(e) && this.isObject(t)) for (let n in t) this.isObject(t[n]) ? (e[n] || (e[n] = {}), r.has(t[n]) ? e[n] = r.get(t[n]) : (r.set(t[n], {}), this.deepMerge(e[n], t[n], r))) : e[n] = t[n];
    return e;
  }
  static deepClone(e) {
    if (e == null || typeof e != "object") return e;
    if (e instanceof Date) return new Date(e.getTime());
    if (Array.isArray(e)) return e.map((t) => this.deepClone(t));
    if (typeof e == "function") return e;
    if (e instanceof Object) {
      let t = {};
      for (let r in e) e.hasOwnProperty(r) && (t[r] = this.deepClone(e[r]));
      return t;
    }
    throw new Error("Unable to clone the object. Unsupported type.");
  }
  static deepCloneAndMerge(e, t) {
    if (t == null && e == null) return e;
    if (e == null && t) return this.deepClone(t);
    if (typeof e != "object") return e;
    if (e instanceof Date) return new Date(e.getTime());
    if (Array.isArray(e)) return e.map((r) => this.deepCloneAndMerge(r, t));
    if (typeof e == "function") return e;
    if (e instanceof Object) {
      let r = {};
      for (let n in e) t[n] !== null && t[n] !== void 0 ? r[n] = this.deepCloneAndMerge(e[n], t[n]) : r[n] = this.deepClone(e[n]);
      for (let n in t) e[n] !== void 0 && e[n] !== null ? r[n] = this.deepCloneAndMerge(e[n], t[n]) : r[n] = this.deepClone(t[n]);
      return r;
    }
    throw new Error("Unable to clone the object. Unsupported type.");
  }
  static getComponentName(e) {
    let t = "Unknown", r = "Anonymous";
    if (e == null) return t;
    if (typeof e == "string") return e || t;
    if (typeof e == "symbol") try {
      return e.toString();
    } catch {
      return t;
    }
    if (Array.isArray(e)) return e.length === 0 ? t : this.getComponentName(e[0]);
    if (typeof e == "function") {
      let n = e;
      if (n.displayName) return String(n.displayName);
      if (n.name) return String(n.name);
      try {
        let s = Function.prototype.toString.call(e).match(/^(?:class\s+([A-Za-z0-9_$]+)|function\s+([A-Za-z0-9_$]+)|([A-Za-z0-9_$]+)\s*=>)/);
        if (s) return s[1] || s[2] || s[3] || r;
      } catch {
      }
      return r;
    }
    if (typeof e == "object") {
      let n = e;
      if (n.type) return this.getComponentName(n.type);
      if (n.displayName) return String(n.displayName);
      if (n.name) return String(n.name);
      if (n.constructor && n.constructor.name && n.constructor.name !== "Object") return String(n.constructor.name);
      try {
        let i2 = n.toString();
        if (typeof i2 == "string" && i2 !== "[object Object]") return i2;
      } catch {
      }
      return r;
    }
    try {
      return String(e);
    } catch {
      return t;
    }
  }
}, __name(_a14, "Ie"), _a14);
a(Ie, "A_CommonHelper");
var u = Ie;
var _a15;
var U = (_a15 = class extends f {
}, __name(_a15, "U"), _a15);
a(U, "A_ScopeError"), U.InitializationError = "A-Scope Initialization Error", U.ConstructorError = "Unable to construct A-Scope instance", U.ResolutionError = "A-Scope Resolution Error", U.RegistrationError = "A-Scope Registration Error", U.CircularInheritanceError = "A-Scope Circular Inheritance Error", U.DeregistrationError = "A-Scope Deregistration Error";
var A = U;
var _a16;
var me = (_a16 = class {
  constructor(e, t) {
    this._meta = new d();
    this._allowedComponents = /* @__PURE__ */ new Set();
    this._allowedErrors = /* @__PURE__ */ new Set();
    this._allowedEntities = /* @__PURE__ */ new Set();
    this._allowedFragments = /* @__PURE__ */ new Set();
    this._components = /* @__PURE__ */ new Map();
    this._errors = /* @__PURE__ */ new Map();
    this._entities = /* @__PURE__ */ new Map();
    this._fragments = /* @__PURE__ */ new Map();
    this.getInitializer(e).call(this, e, t);
  }
  get name() {
    return this._name;
  }
  get meta() {
    return this._meta;
  }
  get allowedComponents() {
    return this._allowedComponents;
  }
  get allowedEntities() {
    return this._allowedEntities;
  }
  get allowedFragments() {
    return this._allowedFragments;
  }
  get allowedErrors() {
    return this._allowedErrors;
  }
  get entities() {
    return Array.from(this._entities.values());
  }
  get fragments() {
    return Array.from(this._fragments.values());
  }
  get components() {
    return Array.from(this._components.values());
  }
  get errors() {
    return Array.from(this._errors.values());
  }
  get parent() {
    return this._parent;
  }
  *parents() {
    let e = this._parent;
    for (; e; ) yield e, e = e._parent;
  }
  parentOffset(e) {
    let t = this.parent;
    for (; e < -1 && t; ) t = t.parent, e++;
    return t;
  }
  getInitializer(e, t) {
    switch (true) {
      case (!e && !t):
        return this.defaultInitialized;
      case !!e:
        return this.defaultInitialized;
      default:
        throw new A(A.ConstructorError, "Invalid parameters provided to A_Scope constructor");
    }
  }
  defaultInitialized(e = {}, t = {}) {
    this._name = e.name || this.constructor.name, this.initComponents(e.components), this.initErrors(e.errors), this.initFragments(e.fragments), this.initEntities(e.entities), this.initMeta(e.meta), t.parent && (this._parent = t.parent);
  }
  initComponents(e) {
    e?.forEach(this.register.bind(this));
  }
  initErrors(e) {
    e?.forEach(this.register.bind(this));
  }
  initEntities(e) {
    e?.forEach((t) => this.register(t));
  }
  initFragments(e) {
    e?.forEach(this.register.bind(this));
  }
  initMeta(e) {
    e && Object.entries(e).forEach(([t, r]) => {
      this._meta.set(t, r);
    });
  }
  destroy() {
    this._components.forEach((e) => c.deregister(e)), this._fragments.forEach((e) => c.deregister(e)), this._entities.forEach((e) => c.deregister(e)), this._components.clear(), this._errors.clear(), this._fragments.clear(), this._entities.clear(), this.issuer() && c.deallocate(this);
  }
  get(e) {
    return this._meta.get(e);
  }
  set(e, t) {
    this._meta.set(e, t);
  }
  issuer() {
    return c.issuer(this);
  }
  inherit(e) {
    if (!e) throw new A(A.InitializationError, "Invalid parent scope provided");
    if (e === this) throw new A(A.CircularInheritanceError, `Unable to inherit scope ${this.name} from itself`);
    if (e === this._parent) return this;
    let t = this.checkCircularInheritance(e);
    if (t) throw new A(A.CircularInheritanceError, `Circular inheritance detected: ${[...t, e.name].join(" -> ")}`);
    return this._parent = e, this;
  }
  has(e) {
    let t = this.hasFlat(e);
    if (!t && this._parent) try {
      return this._parent.has(e);
    } catch {
      return false;
    }
    return t;
  }
  hasFlat(e) {
    let t = false;
    switch (true) {
      case o.isScopeConstructor(e):
        return true;
      case o.isString(e): {
        Array.from(this.allowedComponents).find((_) => _.name === e) && (t = true), Array.from(this.allowedFragments).find((_) => _.name === e) && (t = true), Array.from(this.allowedEntities).find((_) => _.name === e) && (t = true), Array.from(this.allowedErrors).find((_) => _.name === e) && (t = true);
        break;
      }
      case o.isComponentConstructor(e): {
        t = this.isAllowedComponent(e) || !![...this.allowedComponents].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case o.isEntityConstructor(e): {
        t = this.isAllowedEntity(e) || !![...this.allowedEntities].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case o.isFragmentConstructor(e): {
        t = this.isAllowedFragment(e) || !![...this.allowedFragments].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case o.isErrorConstructor(e): {
        t = this.isAllowedError(e) || !![...this.allowedErrors].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case (this.issuer() && (this.issuer().constructor === e || u.isInheritedFrom(this.issuer().constructor, e))): {
        t = true;
        break;
      }
    }
    return t;
  }
  merge(e) {
    return new _a16({ name: `${this.name} + ${e.name}`, components: [...this.allowedComponents, ...e.allowedComponents], fragments: [...this.fragments, ...e.fragments], entities: [...this.entities, ...e.entities, ...this.allowedEntities, ...e.allowedEntities] }, { parent: this._parent || e._parent });
  }
  resolveConstructor(e) {
    let t = Array.from(this.allowedComponents).find((i2) => i2.name === e || i2.name === y.toPascalCase(e));
    if (t) return t;
    let r = Array.from(this.allowedEntities).find((i2) => i2.name === e || i2.name === y.toPascalCase(e) || i2.entity === e || i2.entity === y.toKebabCase(e));
    if (r) return r;
    let n = Array.from(this.allowedFragments).find((i2) => i2.name === e || i2.name === y.toPascalCase(e));
    if (n) return n;
    if (this._parent) return this._parent.resolveConstructor(e);
  }
  resolveAll(e) {
    let t = [], r = this.resolveFlatAll(e);
    t.push(...r);
    let n = this._parent;
    for (; n && n.has(e); ) {
      let i2 = n.resolveFlatAll(e);
      t.push(...i2), n = n._parent;
    }
    return t;
  }
  resolveFlatAll(e) {
    let t = [];
    switch (true) {
      case o.isComponentConstructor(e): {
        this.allowedComponents.forEach((r) => {
          if (u.isInheritedFrom(r, e)) {
            let n = this.resolve(r);
            n && t.push(n);
          }
        });
        break;
      }
      case o.isFragmentConstructor(e): {
        this.allowedFragments.forEach((r) => {
          if (u.isInheritedFrom(r, e)) {
            let n = this.resolve(r);
            n && t.push(n);
          }
        });
        break;
      }
      case o.isEntityConstructor(e): {
        this.entities.forEach((r) => {
          u.isInheritedFrom(r.constructor, e) && t.push(r);
        });
        break;
      }
      case o.isString(e): {
        let r = this.resolveConstructor(e);
        if (!o.isComponentConstructor(r) && !o.isEntityConstructor(r) && !o.isFragmentConstructor(r)) throw new A(A.ResolutionError, `Unable to resolve all instances for name: ${e} in scope ${this.name} as no matching component, entity or fragment constructor found`);
        if (r) {
          let n = this.resolveAll(r);
          n && t.push(...n);
        }
        break;
      }
      default:
        throw new A(A.ResolutionError, `Invalid parameter provided to resolveAll method: ${e} in scope ${this.name}`);
    }
    return t;
  }
  resolve(e, t) {
    return o.isArray(e) ? e.map((r) => this.resolveOnce(r, t)) : this.resolveOnce(e, t);
  }
  resolveFlat(e, t) {
    return o.isArray(e) ? e.map((r) => this.resolveFlatOnce(r, t)) : this.resolveFlatOnce(e, t);
  }
  resolveByName(e) {
    let t = Array.from(this.allowedComponents).find((s) => s.name === e || s.name === y.toPascalCase(e));
    if (t) return this.resolveOnce(t);
    let r = Array.from(this.allowedEntities).find((s) => s.name === e || s.name === y.toPascalCase(e) || s.entity === e || s.entity === y.toKebabCase(e));
    if (r) return this.resolveOnce(r);
    let n = Array.from(this.allowedFragments).find((s) => s.name === e || s.name === y.toPascalCase(e));
    if (n) return this.resolveOnce(n);
    let i2 = Array.from(this.allowedErrors).find((s) => s.name === e || s.name === y.toPascalCase(e) || s.code === e || s.code === y.toKebabCase(e));
    if (i2) return this.resolveOnce(i2);
  }
  resolveFlatOnce(e, t) {
    let r, n = u.getComponentName(e);
    if (!(!e || !this.has(e))) {
      switch (true) {
        case o.isString(e): {
          r = this.resolveByName(e);
          break;
        }
        case o.isConstructorAllowedForScopeAllocation(e): {
          r = this.resolveIssuer(e);
          break;
        }
        case o.isEntityConstructor(e): {
          r = this.resolveEntity(e, t);
          break;
        }
        case o.isFragmentConstructor(e): {
          r = this.resolveFragment(e);
          break;
        }
        case o.isScopeConstructor(e): {
          r = this.resolveScope(e);
          break;
        }
        case o.isComponentConstructor(e): {
          r = this.resolveComponent(e);
          break;
        }
        case o.isErrorConstructor(e): {
          r = this.resolveError(e);
          break;
        }
        default:
          throw new A(A.ResolutionError, `Injected Component ${n} not found in the scope`);
      }
      return r;
    }
  }
  resolveOnce(e, t) {
    let r = this.resolveFlatOnce(e, t);
    return !r && this.parent ? this.parent.resolveOnce(e, t) : r;
  }
  resolveIssuer(e) {
    let t = this.issuer();
    if (t && (t.constructor === e || u.isInheritedFrom(t?.constructor, e))) return t;
  }
  resolveEntity(e, t) {
    let r = t?.query || {}, n = t?.pagination?.count || 1;
    switch (true) {
      case !t:
        return this.entities.find((i2) => i2 instanceof e);
      case (!!r.aseid && typeof r.aseid == "string" && this._entities.has(r.aseid)):
        return this._entities.get(r.aseid);
      case (!!r.aseid && typeof r.aseid == "object" && r.aseid instanceof I && this._entities.has(r.aseid.toString())):
        return this._entities.get(r.aseid.toString());
      case !!r.id:
        return this.entities.filter((s) => s instanceof e).find((s) => String(s.id) === String(r.id));
      default: {
        let i2 = this.entities.filter((s) => s instanceof e).filter((s) => Object.entries(r).every(([_, l2]) => _ in s ? s[_] === l2 : false));
        return i2.length === 0 ? void 0 : n === 1 ? i2[0] : i2;
      }
    }
  }
  resolveError(e) {
    return this.errors.find((t) => t instanceof e);
  }
  resolveFragment(e) {
    let t = this._fragments.get(e);
    switch (true) {
      case (t && this._fragments.has(e)):
        return t;
      case (!t && Array.from(this._allowedFragments).some((r) => u.isInheritedFrom(r, e))): {
        let r = Array.from(this._allowedFragments).find((n) => u.isInheritedFrom(n, e));
        return this.resolveFragment(r);
      }
      default:
        return;
    }
  }
  resolveScope(e) {
    return this;
  }
  resolveComponent(e) {
    switch (true) {
      case (this.allowedComponents.has(e) && this._components.has(e)):
        return this._components.get(e);
      case (this.allowedComponents.has(e) && !this._components.has(e)): {
        let n = (c.meta(e).get("a-component-injections")?.get("constructor") || []).map((s) => {
          let _ = u.getComponentName(s.target);
          if ("instructions" in s && s.instructions) {
            let { target: l2, parent: E2, flat: C2, instructions: h } = s, P2 = this.resolve(l2, h);
            if (!P2) throw new A(A.ResolutionError, `Unable to resolve dependency ${_} for component ${e.name} in scope ${this.name}`);
            return P2;
          } else {
            let { target: l2, require: E2, create: C2, defaultArgs: h, parent: P2, flat: Y2 } = s, O;
            switch (true) {
              case Y2: {
                O = this.resolveFlat(l2);
                break;
              }
              case (P2 && typeof P2.layerOffset == "number"): {
                let ne2 = this.parentOffset(P2.layerOffset);
                if (!ne2) throw new A(A.ResolutionError, `Unable to resolve parent scope at offset ${P2.layerOffset} for dependency ${_} for component ${e.name} in scope ${this.name}`);
                O = ne2.resolve(l2);
                break;
              }
              default: {
                O = this.resolve(l2);
                break;
              }
            }
            if (C2 && !O && o.isAllowedForDependencyDefaultCreation(l2) && (O = new l2(...h), this.register(O)), E2 && !O) throw new A(A.ResolutionError, `Unable to resolve required dependency ${_} for component ${e.name} in scope ${this.name}`);
            return O;
          }
        }), i2 = new e(...n);
        return this.register(i2), this._components.get(e);
      }
      case (!this.allowedComponents.has(e) && Array.from(this.allowedComponents).some((t) => u.isInheritedFrom(t, e))): {
        let t = Array.from(this.allowedComponents).find((r) => u.isInheritedFrom(r, e));
        return this.resolveComponent(t);
      }
      default:
        return;
    }
  }
  register(e) {
    switch (true) {
      case e instanceof F: {
        this.allowedComponents.has(e.constructor) || this.allowedComponents.add(e.constructor), this._components.set(e.constructor, e), c.register(this, e);
        break;
      }
      case (o.isEntityInstance(e) && !this._entities.has(e.aseid.toString())): {
        this.allowedEntities.has(e.constructor) || this.allowedEntities.add(e.constructor), this._entities.set(e.aseid.toString(), e), c.register(this, e);
        break;
      }
      case o.isFragmentInstance(e): {
        this.allowedFragments.has(e.constructor) || this.allowedFragments.add(e.constructor), this._fragments.set(e.constructor, e), c.register(this, e);
        break;
      }
      case o.isErrorInstance(e): {
        this.allowedErrors.has(e.constructor) || this.allowedErrors.add(e.constructor), this._errors.set(e.code, e), c.register(this, e);
        break;
      }
      case o.isComponentConstructor(e): {
        this.allowedComponents.has(e) || this.allowedComponents.add(e);
        break;
      }
      case o.isFragmentConstructor(e): {
        this.allowedFragments.has(e) || this.allowedFragments.add(e);
        break;
      }
      case o.isEntityConstructor(e): {
        this.allowedEntities.has(e) || this.allowedEntities.add(e);
        break;
      }
      case o.isErrorConstructor(e): {
        this.allowedErrors.has(e) || this.allowedErrors.add(e);
        break;
      }
      default:
        if (e instanceof M) throw new A(A.RegistrationError, `Entity with ASEID ${e.aseid.toString()} is already registered in the scope ${this.name}`);
        if (e instanceof B) throw new A(A.RegistrationError, `Fragment ${e.constructor.name} is already registered in the scope ${this.name}`);
        {
          let t = u.getComponentName(e);
          throw new A(A.RegistrationError, `Cannot register ${t} in the scope ${this.name}`);
        }
    }
  }
  deregister(e) {
    switch (true) {
      case e instanceof F: {
        this._components.delete(e.constructor), c.deregister(e);
        break;
      }
      case o.isEntityInstance(e): {
        this._entities.delete(e.aseid.toString()), c.deregister(e);
        break;
      }
      case o.isFragmentInstance(e): {
        this._fragments.delete(e.constructor), c.deregister(e);
        break;
      }
      case o.isErrorInstance(e): {
        this._errors.delete(e.code), c.deregister(e);
        break;
      }
      case o.isComponentConstructor(e): {
        this.allowedComponents.delete(e);
        break;
      }
      case o.isFragmentConstructor(e): {
        this.allowedFragments.delete(e);
        break;
      }
      case o.isEntityConstructor(e): {
        this.allowedEntities.delete(e);
        break;
      }
      case o.isErrorConstructor(e): {
        this.allowedErrors.delete(e);
        break;
      }
      default:
        let t = u.getComponentName(e);
        throw new A(A.DeregistrationError, `Cannot deregister ${t} from the scope ${this.name}`);
    }
  }
  toJSON() {
    return this.fragments.reduce((e, t) => {
      let r = t.toJSON();
      return { ...e, [r.name]: r };
    }, {});
  }
  isAllowedComponent(e) {
    return o.isComponentConstructor(e) && this.allowedComponents.has(e);
  }
  isAllowedEntity(e) {
    return o.isEntityConstructor(e) && this.allowedEntities.has(e);
  }
  isAllowedFragment(e) {
    return o.isFragmentConstructor(e) && this.allowedFragments.has(e);
  }
  isAllowedError(e) {
    return o.isErrorConstructor(e) && this.allowedErrors.has(e);
  }
  isInheritedFrom(e) {
    let t = this;
    for (; t; ) {
      if (t === e) return true;
      t = t._parent;
    }
    return false;
  }
  checkCircularInheritance(e) {
    let t = [], r = this._parent;
    for (; r; ) {
      if (t.push(r.name), r === e) return t;
      r = r._parent;
    }
    return false;
  }
  printInheritanceChain() {
    let e = [], t = this;
    for (; t; ) e.push(t.name), t = t._parent;
    console.log(e.join(" -> "));
  }
}, __name(_a16, "me"), _a16);
a(me, "A_Scope");
var x = me;
var _a17;
var ue = (_a17 = class extends f {
}, __name(_a17, "ue"), _a17);
a(ue, "A_CallerError"), ue.CallerInitializationError = "Unable to initialize A-Caller";
var ee = ue;
var _a18;
var be = (_a18 = class {
  constructor(e) {
    this.validateParams(e), this._component = e;
  }
  get component() {
    return this._component;
  }
  validateParams(e) {
    if (!o.isAllowedForFeatureCall(e)) throw new ee(ee.CallerInitializationError, `Invalid A-Caller component provided of type: ${typeof e} with value: ${JSON.stringify(e).slice(0, 100)}...`);
  }
}, __name(_a18, "be"), _a18);
a(be, "A_Caller");
var V = be;
var _a19;
var T = (_a19 = class {
  static isString(e) {
    return typeof e == "string" || e instanceof String;
  }
  static isNumber(e) {
    return typeof e == "number" && isFinite(e);
  }
  static isBoolean(e) {
    return typeof e == "boolean";
  }
  static isArray(e) {
    return Array.isArray(e);
  }
  static isObject(e) {
    return e && typeof e == "object" && !Array.isArray(e);
  }
  static isFunction(e) {
    return typeof e == "function";
  }
  static isUndefined(e) {
    return typeof e > "u";
  }
  static isRegExp(e) {
    return e instanceof RegExp;
  }
  static isContainerConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, L);
  }
  static isComponentConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, F);
  }
  static isFragmentConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, B);
  }
  static isEntityConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, M);
  }
  static isScopeConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, x);
  }
  static isErrorConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, f);
  }
  static isFeatureConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, v);
  }
  static isCallerConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, V);
  }
  static isContainerInstance(e) {
    return e instanceof L;
  }
  static isComponentInstance(e) {
    return e instanceof F;
  }
  static isFeatureInstance(e) {
    return e instanceof v;
  }
  static isFragmentInstance(e) {
    return e instanceof B;
  }
  static isEntityInstance(e) {
    return e instanceof M;
  }
  static isScopeInstance(e) {
    return e instanceof x;
  }
  static isErrorInstance(e) {
    return e instanceof f;
  }
  static isComponentMetaInstance(e) {
    return e instanceof $;
  }
  static isContainerMetaInstance(e) {
    return e instanceof J;
  }
  static isEntityMetaInstance(e) {
    return e instanceof W;
  }
  static isConstructorAllowedForScopeAllocation(e) {
    return _a19.isContainerConstructor(e) || _a19.isFeatureConstructor(e);
  }
  static isInstanceAllowedForScopeAllocation(e) {
    return _a19.isContainerInstance(e) || _a19.isFeatureInstance(e);
  }
  static isConstructorAvailableForAbstraction(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e);
  }
  static isTargetAvailableForInjection(e) {
    return _a19.isComponentConstructor(e) || _a19.isComponentInstance(e) || _a19.isContainerInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForFeatureCall(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForFeatureDefinition(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForFeatureExtension(e) {
    return _a19.isComponentInstance(e) || _a19.isContainerInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForAbstractionDefinition(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e);
  }
  static isAllowedForDependencyDefaultCreation(e) {
    return _a19.isComponentConstructor(e) || u.isInheritedFrom(e, F) || _a19.isEntityConstructor(e) || u.isInheritedFrom(e, M);
  }
  static isErrorConstructorType(e) {
    return !!e && _a19.isObject(e) && !(e instanceof Error) && "title" in e;
  }
  static isErrorSerializedType(e) {
    return !!e && _a19.isObject(e) && !(e instanceof Error) && "aseid" in e && I.isASEID(e.aseid);
  }
}, __name(_a19, "T"), _a19);
a(T, "A_TypeGuards");
var o = T;
var _a20;
var q = (_a20 = class extends f {
  fromConstructor(e) {
    super.fromConstructor(e), this.stage = e.stage;
  }
}, __name(_a20, "q"), _a20);
a(q, "A_FeatureError"), q.Interruption = "Feature Interrupted", q.FeatureInitializationError = "Unable to initialize A-Feature", q.FeatureProcessingError = "Error occurred during A-Feature processing", q.FeatureDefinitionError = "Unable to define A-Feature", q.FeatureExtensionError = "Unable to extend A-Feature";
var S = q;
function Ye(p = {}) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isAllowedForFeatureDefinition(e)) throw new S(S.FeatureDefinitionError, `A-Feature cannot be defined on the ${n} level`);
    let i2 = c.meta(e.constructor), s;
    switch (true) {
      case o.isEntityInstance(e):
        s = "a-component-features";
        break;
      case o.isContainerInstance(e):
        s = "a-container-features";
        break;
      case o.isComponentInstance(e):
        s = "a-component-features";
        break;
    }
    let _ = i2.get(s) || new d(), l2 = p.name || t, E2 = p.invoke || false;
    _.set(t, { name: `${e.constructor.name}.${l2}`, handler: t, invoke: E2, template: p.template && p.template.length ? p.template.map((h) => ({ ...h, before: h.before || "", after: h.after || "", behavior: h.behavior || "sync", throwOnError: true, override: h.override || "" })) : [] }), c.meta(e.constructor).set(s, _);
    let C2 = r.value;
    return r.value = function(...h) {
      if (E2) C2.apply(this, h);
      else return C2.apply(this, h);
      if (typeof this.call == "function" && E2) return this.call(l2);
    }, r;
  };
}
__name(Ye, "Ye");
a(Ye, "A_Feature_Define");
function we(p) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isAllowedForFeatureExtension(e)) throw new S(S.FeatureExtensionError, `A-Feature-Extend cannot be applied on the ${n} level`);
    let i2, s = "sync", _ = "", l2 = "", E2 = "", C2 = [], h = [], P2 = true, Y2;
    switch (true) {
      case o.isEntityInstance(e):
        Y2 = "a-component-extensions";
        break;
      case o.isContainerInstance(e):
        Y2 = "a-container-extensions";
        break;
      case o.isComponentInstance(e):
        Y2 = "a-component-extensions";
        break;
    }
    switch (true) {
      case o.isRegExp(p):
        i2 = p;
        break;
      case (!!p && typeof p == "object"):
        Array.isArray(p.scope) ? C2 = p.scope : p.scope && typeof p.scope == "object" && (Array.isArray(p.scope.include) && (C2 = p.scope.include), Array.isArray(p.scope.exclude) && (h = p.scope.exclude)), i2 = tt(p, C2, h, t), s = p.behavior || s, P2 = p.throwOnError !== void 0 ? p.throwOnError : P2, _ = o.isArray(p.before) ? new RegExp(`^${p.before.join("|").replace(/\./g, "\\.")}$`).source : p.before instanceof RegExp ? p.before.source : "", l2 = o.isArray(p.after) ? new RegExp(`^${p.after.join("|").replace(/\./g, "\\.")}$`).source : p.after instanceof RegExp ? p.after.source : "", E2 = o.isArray(p.override) ? new RegExp(`^${p.override.join("|").replace(/\./g, "\\.")}$`).source : p.override instanceof RegExp ? p.override.source : "";
        break;
      default:
        i2 = new RegExp(`^.*${t.replace(/\./g, "\\.")}$`);
        break;
    }
    let O = c.meta(e).get(Y2), ne2 = c.meta(e), fe2 = ne2.get(Y2) ? new d().from(ne2.get(Y2)) : new d();
    if (O && O.size() && O.has(t) && O.get(t).invoke) throw new S(S.FeatureExtensionError, `A-Feature-Extend cannot be used on the method "${t}" because it is already defined as a Feature with "invoke" set to true. Please remove the A-Feature-Extend decorator or set "invoke" to false in the A-Feature decorator.`);
    let oe2 = [...fe2.get(i2.source) || []], Je2 = oe2.findIndex((Ge) => Ge.handler === t), Ke = { name: i2.source, handler: t, behavior: s, before: _, after: l2, throwOnError: P2, override: E2 };
    Je2 !== -1 ? oe2[Je2] = Ke : oe2.push(Ke), oe2.push(), fe2.set(i2.source, oe2), c.meta(e).set(Y2, fe2);
  };
}
__name(we, "we");
a(we, "A_Feature_Extend");
function tt(p, e, t, r) {
  let n = e.length ? `(${e.map((_) => _.name).join("|")})` : ".*", i2 = t.length ? `(?!${t.map((_) => _.name).join("|")})` : "", s = p.scope ? `^${i2}${n}\\.${p.name || r}$` : `.*\\.${p.name || r}$`;
  return new RegExp(s);
}
__name(tt, "tt");
a(tt, "buildTargetRegexp");
var rt = ((s) => (s.PROCESSING = "PROCESSING", s.COMPLETED = "COMPLETED", s.FAILED = "FAILED", s.SKIPPED = "SKIPPED", s.INITIALIZED = "INITIALIZED", s.ABORTED = "ABORTED", s))(rt || {});
var _a21;
var le = (_a21 = class extends f {
  static get CompileError() {
    return "Unable to compile A-Stage";
  }
}, __name(_a21, "le"), _a21);
a(le, "A_StageError"), le.ArgumentsResolutionError = "A-Stage Arguments Resolution Error";
var k = le;
var _a22;
var ve = (_a22 = class {
  constructor(e, t) {
    this._status = "INITIALIZED";
    this._feature = e, this._definition = t;
  }
  get name() {
    return this.toString();
  }
  get definition() {
    return this._definition;
  }
  get status() {
    return this._status;
  }
  get feature() {
    return this._feature;
  }
  get isProcessed() {
    return this._status === "COMPLETED" || this._status === "FAILED" || this._status === "SKIPPED";
  }
  get error() {
    return this._error;
  }
  async getStepArgs(e, t) {
    let r;
    switch (true) {
      case o.isContainerInstance(t.component):
        r = t.component.constructor;
        break;
      case o.isString(t.component):
        r = e.resolveConstructor(t.component);
        break;
      default:
        r = t.component;
        break;
    }
    return Promise.all(c.meta(r).injections(t.handler).map(async (n) => {
      switch (true) {
        case o.isCallerConstructor(n.target):
          return this._feature.caller.component;
        case o.isFeatureConstructor(n.target):
          return this._feature;
        default: {
          let { target: i2, require: s, create: _, defaultArgs: l2, parent: E2, flat: C2 } = n, h, P2 = e;
          switch (true) {
            case C2: {
              h = P2.resolveFlat(i2);
              break;
            }
            case (E2 && typeof E2.layerOffset == "number"): {
              let Y2 = P2.parentOffset(E2.layerOffset);
              if (!Y2) throw new k(k.ArgumentsResolutionError, `Unable to resolve parent scope at layer offset ${E2.layerOffset} for argument ${u.getComponentName(n.target)} for stage ${this.name} in scope ${e.name}`);
              h = Y2.resolve(i2), P2 = Y2;
              break;
            }
            default: {
              h = P2.resolve(i2);
              break;
            }
          }
          if (_ && !h && o.isAllowedForDependencyDefaultCreation(i2)) {
            let Y2 = new i2(...l2);
            return P2.register(Y2), Y2;
          }
          if (s && !h) throw new k(k.ArgumentsResolutionError, `Unable to resolve required argument ${u.getComponentName(n.target)} for stage ${this.name} in scope ${e.name}`);
          return h;
        }
      }
    }));
  }
  getStepComponent(e, t) {
    let { component: r, handler: n } = t, i2;
    switch (true) {
      case o.isContainerInstance(r):
        i2 = r;
        break;
      case o.isString(r):
        i2 = e.resolve(r) || this.feature.scope.resolve(r);
        break;
      default:
        i2 = e.resolve(r) || this.feature.scope.resolve(r);
        break;
    }
    if (!i2) throw new k(k.CompileError, `Unable to resolve component ${typeof r == "string" ? r : r.name} from scope ${e.name}`);
    if (!i2[n]) throw new k(k.CompileError, `Handler ${n} not found in ${i2.constructor.name}`);
    return i2;
  }
  async callStepHandler(e, t) {
    let r = await this.getStepComponent(t, e), n = await this.getStepArgs(t, e);
    return await r[e.handler](...n);
  }
  skip() {
    this._status = "SKIPPED";
  }
  async process(e) {
    let t = o.isScopeInstance(e) ? e : this._feature.scope;
    return this._processed || (this._processed = new Promise(async (r, n) => {
      try {
        return this._status = "PROCESSING", this._definition.behavior === "sync" ? await this.callStepHandler(this._definition, t) : this.callStepHandler(this._definition, t), this.completed(), r();
      } catch (i2) {
        let s = new f(i2);
        return this.failed(s), this._definition.throwOnError ? r() : n(s);
      }
    })), this._processed;
  }
  completed() {
    this._status = "COMPLETED";
  }
  failed(e) {
    this._error = new f(e), this._status = "FAILED";
  }
  toJSON() {
    return { name: this.name, status: this.status };
  }
  toString() {
    return `A-Stage(${this._feature.name}::${this._definition.behavior}@${this._definition.handler})`;
  }
}, __name(_a22, "ve"), _a22);
a(ve, "A_Stage");
var se = ve;
var _a23;
var de = (_a23 = class extends f {
}, __name(_a23, "de"), _a23);
a(de, "A_StepManagerError"), de.CircularDependencyError = "A-StepManager Circular Dependency Error";
var _a24;
var Fe = (_a24 = class {
  constructor(e) {
    this._isBuilt = false;
    this.entities = this.prepareSteps(e), this.graph = /* @__PURE__ */ new Map(), this.visited = /* @__PURE__ */ new Set(), this.tempMark = /* @__PURE__ */ new Set(), this.sortedEntities = [];
  }
  prepareSteps(e) {
    return e.map((t) => ({ ...t, behavior: t.behavior || "sync", before: t.before || "", after: t.after || "", override: t.override || "", throwOnError: false }));
  }
  ID(e) {
    return `${typeof e.component == "string" ? e.component : e.component.name}.${e.handler}`;
  }
  buildGraph() {
    this._isBuilt || (this._isBuilt = true, this.entities = this.entities.filter((e, t, r) => !r.some((n) => n.override ? new RegExp(n.override).test(this.ID(e)) : false)), this.entities.forEach((e) => this.graph.set(this.ID(e), /* @__PURE__ */ new Set())), this.entities.forEach((e) => {
      let t = this.ID(e);
      e.before && this.matchEntities(t, e.before).forEach((n) => {
        this.graph.has(n) || this.graph.set(n, /* @__PURE__ */ new Set()), this.graph.get(n).add(t);
      }), e.after && this.matchEntities(t, e.after).forEach((n) => {
        this.graph.has(t) || this.graph.set(t, /* @__PURE__ */ new Set()), this.graph.get(t).add(n);
      });
    }));
  }
  matchEntities(e, t) {
    let r = new RegExp(t);
    return this.entities.filter((n) => r.test(this.ID(n)) && this.ID(n) !== e).map((n) => this.ID(n));
  }
  visit(e) {
    this.tempMark.has(e) || this.visited.has(e) || (this.tempMark.add(e), (this.graph.get(e) || []).forEach((t) => this.visit(t)), this.tempMark.delete(e), this.visited.add(e), this.sortedEntities.push(e));
  }
  toSortedArray() {
    return this.buildGraph(), this.entities.forEach((e) => {
      this.visited.has(this.ID(e)) || this.visit(this.ID(e));
    }), this.sortedEntities;
  }
  toStages(e) {
    return this.toSortedArray().map((r) => {
      let n = this.entities.find((i2) => this.ID(i2) === r);
      return new se(e, n);
    });
  }
}, __name(_a24, "Fe"), _a24);
a(Fe, "A_StepsManager");
var re = Fe;
var _a25;
var ae = (_a25 = class {
  constructor(e) {
    this._stages = [];
    this._index = 0;
    this._state = "INITIALIZED";
    this.validateParams(e), this.getInitializer(e).call(this, e);
  }
  static get Define() {
    return Ye;
  }
  static get Extend() {
    return we;
  }
  get name() {
    return this._name;
  }
  get error() {
    return this._error;
  }
  get state() {
    return this._state;
  }
  get index() {
    return this._index;
  }
  get stage() {
    return this._current;
  }
  get caller() {
    return this._caller;
  }
  get scope() {
    return c.scope(this);
  }
  get size() {
    return this._stages.length;
  }
  get isDone() {
    return !this.stage || this._index >= this._stages.length;
  }
  get isProcessed() {
    return this.state === "COMPLETED" || this.state === "FAILED" || this.state === "INTERRUPTED";
  }
  [Symbol.iterator]() {
    return { next: a(() => this.isDone ? (this._current = void 0, { value: void 0, done: true }) : (this._current = this._stages[this._index], this._index++, { value: this._current, done: false }), "next") };
  }
  validateParams(e) {
    if (!e || typeof e != "object") throw new S(S.FeatureInitializationError, `Invalid A-Feature initialization parameters of type: ${typeof e} with value: ${JSON.stringify(e).slice(0, 100)}...`);
  }
  getInitializer(e) {
    switch (true) {
      case !("template" in e):
        return this.fromComponent;
      case "template" in e:
        return this.fromTemplate;
      default:
        throw new S(S.FeatureInitializationError, `Invalid A-Feature initialization parameters of type: ${typeof e} with value: ${JSON.stringify(e).slice(0, 100)}...`);
    }
  }
  fromTemplate(e) {
    if (!e.template || !Array.isArray(e.template)) throw new S(S.FeatureInitializationError, `Invalid A-Feature template provided of type: ${typeof e.template} with value: ${JSON.stringify(e.template).slice(0, 100)}...`);
    if (!e.component && (!e.scope || !(e.scope instanceof x))) throw new S(S.FeatureInitializationError, `Invalid A-Feature scope provided of type: ${typeof e.scope} with value: ${JSON.stringify(e.scope).slice(0, 100)}...`);
    this._name = e.name;
    let t, r = e.scope;
    try {
      e.component && (t = c.scope(e.component));
    } catch (i2) {
      if (!r) throw i2;
    }
    t && r && !r.isInheritedFrom(t) && r.inherit(t), this._caller = new V(e.component || new F()), c.allocate(this).inherit(t || r), this._SM = new re(e.template), this._stages = this._SM.toStages(this), this._current = this._stages[0];
  }
  fromComponent(e) {
    if (!e.component || !o.isAllowedForFeatureDefinition(e.component)) throw new S(S.FeatureInitializationError, `Invalid A-Feature component provided of type: ${typeof e.component} with value: ${JSON.stringify(e.component).slice(0, 100)}...`);
    this._name = e.name;
    let t, r = e.scope;
    try {
      t = c.scope(e.component);
    } catch (s) {
      if (!r) throw s;
    }
    t && r && !r.isInheritedFrom(t) && r.inherit(t), this._caller = new V(e.component);
    let n = c.allocate(this);
    n.inherit(t || r);
    let i2 = c.featureTemplate(this._name, this._caller.component, n);
    this._SM = new re(i2), this._stages = this._SM.toStages(this), this._current = this._stages[0];
  }
  async process(e) {
    try {
      if (this.isProcessed) return;
      this._state = "PROCESSING";
      for (let t of this) await t.process(e);
      return await this.completed();
    } catch (t) {
      return await this.failed(new S({ title: S.FeatureProcessingError, description: `An error occurred while processing the A-Feature: ${this.name}. Failed at stage: ${this.stage?.name || "N/A"}.`, stage: this.stage, originalError: t }));
    }
  }
  next(e) {
    let t = this._stages.indexOf(e);
    this._index = t + 1, this._index >= this._stages.length && this.completed();
  }
  async completed() {
    this.isProcessed || (this._state = "COMPLETED", this.scope.destroy());
  }
  async failed(e) {
    if (!this.isProcessed) throw this._state = "FAILED", this._error = e, this.scope.destroy(), this._error;
  }
  async interrupt(e) {
    if (!this.isProcessed) {
      switch (this._state = "INTERRUPTED", true) {
        case o.isString(e):
          this._error = new S(S.Interruption, e);
          break;
        case o.isErrorInstance(e):
          this._error = new S({ code: S.Interruption, title: e.title, description: e.description, stage: this.stage, originalError: e });
          break;
      }
      this.scope.destroy();
    }
  }
  chain(e, t, r) {
    let n, i2;
    e instanceof _a25 ? (n = e, i2 = t instanceof x ? t : void 0) : (n = new _a25({ name: t, component: e }), i2 = r instanceof x ? r : void 0);
    let s = i2 || this.scope;
    return n._caller = this._caller, n.process(s);
  }
  toString() {
    return `A-Feature(${this.caller.component?.constructor?.name || "Unknown"}::${this.name})`;
  }
}, __name(_a25, "ae"), _a25);
a(ae, "A_Feature");
var v = ae;
var _a26;
var xe = (_a26 = class {
  async call(e, t) {
    return await new v({ name: e, component: this }).process(t);
  }
}, __name(_a26, "xe"), _a26);
a(xe, "A_Component");
var F = xe;
var _a27;
var g = (_a27 = class extends f {
}, __name(_a27, "g"), _a27);
a(g, "A_ContextError"), g.NotAllowedForScopeAllocationError = "Component is not allowed for scope allocation", g.ComponentAlreadyHasScopeAllocatedError = "Component already has scope allocated", g.InvalidMetaParameterError = "Invalid parameter provided to get meta", g.InvalidScopeParameterError = "Invalid parameter provided to get scope", g.ScopeNotFoundError = "Scope not found", g.InvalidFeatureParameterError = "Invalid parameter provided to get feature", g.InvalidFeatureDefinitionParameterError = "Invalid parameter provided to define feature", g.InvalidFeatureTemplateParameterError = "Invalid parameter provided to get feature template", g.InvalidFeatureExtensionParameterError = "Invalid parameter provided to extend feature", g.InvalidAbstractionParameterError = "Invalid parameter provided to get abstraction", g.InvalidAbstractionDefinitionParameterError = "Invalid parameter provided to define abstraction", g.InvalidAbstractionTemplateParameterError = "Invalid parameter provided to get abstraction template", g.InvalidAbstractionExtensionParameterError = "Invalid parameter provided to extend abstraction", g.InvalidInjectionParameterError = "Invalid parameter provided to get injections", g.InvalidExtensionParameterError = "Invalid parameter provided to get extensions", g.InvalidRegisterParameterError = "Invalid parameter provided to register component", g.InvalidComponentParameterError = "Invalid component provided", g.ComponentNotRegisteredError = "Component not registered in the context", g.InvalidDeregisterParameterError = "Invalid parameter provided to deregister component";
var m = g;
var _a28;
var D = (_a28 = class {
  constructor() {
    this._registry = /* @__PURE__ */ new WeakMap();
    this._scopeIssuers = /* @__PURE__ */ new WeakMap();
    this._scopeStorage = /* @__PURE__ */ new WeakMap();
    this._metaStorage = /* @__PURE__ */ new Map();
    let e = "root";
    _a28.environment === "server" && (e = process.env[N.A_CONCEPT_ROOT_SCOPE] || "root"), _a28.environment === "browser" && (e = window[N.A_CONCEPT_ROOT_SCOPE] || "root"), this._root = new x({ name: e });
  }
  static get concept() {
    return process.env[N.A_CONCEPT_NAME] || "a-concept";
  }
  static get root() {
    return this.getInstance()._root;
  }
  static get environment() {
    let e = "browser";
    try {
      e = window.location ? "browser" : "server";
    } catch {
      e = "server";
    }
    return e;
  }
  static getInstance() {
    return _a28._instance || (_a28._instance = new _a28()), _a28._instance;
  }
  static register(e, t) {
    let r = u.getComponentName(t), n = this.getInstance();
    if (!t) throw new m(m.InvalidRegisterParameterError, "Unable to register component. Component cannot be null or undefined.");
    if (!e) throw new m(m.InvalidRegisterParameterError, "Unable to register component. Scope cannot be null or undefined.");
    if (!this.isAllowedToBeRegistered(t)) throw new m(m.NotAllowedForScopeAllocationError, `Component ${r} is not allowed for scope allocation.`);
    return n._scopeStorage.set(t, e), e;
  }
  static deregister(e) {
    let t = u.getComponentName(e), r = this.getInstance();
    if (!e) throw new m(m.InvalidDeregisterParameterError, "Unable to deregister component. Component cannot be null or undefined.");
    if (!r._scopeStorage.has(e)) throw new m(m.ComponentNotRegisteredError, `Unable to deregister component. Component ${t} is not registered.`);
    r._scopeStorage.delete(e);
  }
  static allocate(e, t) {
    let r = u.getComponentName(e);
    if (!this.isAllowedForScopeAllocation(e)) throw new m(m.NotAllowedForScopeAllocationError, `Component of type ${r} is not allowed for scope allocation. Only A_Container, A_Feature are allowed.`);
    let n = this.getInstance();
    if (n._registry.has(e)) throw new m(m.ComponentAlreadyHasScopeAllocatedError, `Component ${r} already has a scope allocated.`);
    let i2 = o.isScopeInstance(t) ? t : new x(t || { name: r + "-scope" }, t);
    return i2.isInheritedFrom(_a28.root) || i2.inherit(_a28.root), n._registry.set(e, i2), n._scopeIssuers.set(i2, e), i2;
  }
  static deallocate(e) {
    let t = this.getInstance(), r = o.isScopeInstance(e) ? e : t._registry.get(e);
    if (!r) return;
    let n = o.isComponentInstance(e) ? e : this.issuer(r);
    n && t._registry.delete(n), r && t._scopeIssuers.delete(r);
  }
  static meta(e) {
    let t = u.getComponentName(e), r = this.getInstance();
    if (!e) throw new m(m.InvalidMetaParameterError, "Invalid parameter provided to get meta. Parameter cannot be null or undefined.");
    if (!(this.isAllowedForMeta(e) || this.isAllowedForMetaConstructor(e) || o.isString(e) || o.isFunction(e))) throw new m(m.InvalidMetaParameterError, `Invalid parameter provided to get meta. Component of type ${t} is not allowed for meta storage. Only A_Container, A_Component and A_Entity are allowed.`);
    let n, i2;
    switch (true) {
      case o.isContainerInstance(e): {
        n = e.constructor, i2 = J;
        break;
      }
      case o.isContainerConstructor(e): {
        n = e, i2 = J;
        break;
      }
      case o.isComponentInstance(e): {
        n = e.constructor, i2 = $;
        break;
      }
      case o.isComponentConstructor(e): {
        n = e, i2 = $;
        break;
      }
      case o.isEntityInstance(e): {
        n = e.constructor, i2 = $;
        break;
      }
      case o.isEntityConstructor(e): {
        n = e, i2 = W;
        break;
      }
      case typeof e == "string": {
        let s = Array.from(r._metaStorage).find(([_]) => _.name === e || _.name === y.toKebabCase(e) || _.name === y.toPascalCase(e));
        if (!(s && s.length)) throw new m(m.InvalidMetaParameterError, `Invalid parameter provided to get meta. Component with name ${e} not found in the meta storage.`);
        n = s[0], i2 = $;
        break;
      }
      default: {
        n = e, i2 = d;
        break;
      }
    }
    if (!r._metaStorage.has(n)) {
      let s = r._metaStorage.get(Object.getPrototypeOf(n)) || new i2();
      r._metaStorage.set(n, new i2().from(s));
    }
    return r._metaStorage.get(n);
  }
  static issuer(e) {
    let t = this.getInstance();
    if (!e) throw new m(m.InvalidComponentParameterError, "Invalid parameter provided to get scope issuer. Parameter cannot be null or undefined.");
    return t._scopeIssuers.get(e);
  }
  static scope(e) {
    let t = e?.constructor?.name || String(e), r = this.getInstance();
    if (!e) throw new m(m.InvalidScopeParameterError, "Invalid parameter provided to get scope. Parameter cannot be null or undefined.");
    if (!this.isAllowedForScopeAllocation(e) && !this.isAllowedToBeRegistered(e)) throw new m(m.InvalidScopeParameterError, `Invalid parameter provided to get scope. Component of type ${t} is not allowed for scope allocation.`);
    switch (true) {
      case this.isAllowedForScopeAllocation(e):
        if (!r._registry.has(e)) throw new m(m.ScopeNotFoundError, `Invalid parameter provided to get scope. Component of type ${t} does not have a scope allocated. Make sure to allocate a scope using A_Context.allocate() method before trying to get the scope.`);
        return r._registry.get(e);
      case this.isAllowedToBeRegistered(e):
        if (!r._scopeStorage.has(e)) throw new m(m.ScopeNotFoundError, `Invalid parameter provided to get scope. Component of type ${t} does not have a scope registered. Make sure to register the component using A_Context.register() method before trying to get the scope.`);
        return r._scopeStorage.get(e);
      default:
        throw new m(m.InvalidScopeParameterError, `Invalid parameter provided to get scope. Component of type ${t} is not allowed to be registered.`);
    }
  }
  static featureTemplate(e, t, r = this.scope(t)) {
    let n = u.getComponentName(t);
    if (!t) throw new m(m.InvalidFeatureTemplateParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new m(m.InvalidFeatureTemplateParameterError, "Unable to get feature template. Feature name cannot be null or undefined.");
    if (!o.isAllowedForFeatureDefinition(t)) throw new m(m.InvalidFeatureTemplateParameterError, `Unable to get feature template. Component of type ${n} is not allowed for feature definition.`);
    return [...this.featureDefinition(e, t), ...this.featureExtensions(e, t, r)];
  }
  static featureExtensions(e, t, r) {
    let n = this.getInstance(), i2 = u.getComponentName(t);
    if (!t) throw new m(m.InvalidFeatureExtensionParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new m(m.InvalidFeatureExtensionParameterError, "Unable to get feature template. Feature name cannot be null or undefined.");
    if (!o.isAllowedForFeatureDefinition(t)) throw new m(m.InvalidFeatureExtensionParameterError, `Unable to get feature template. Component of type ${i2} is not allowed for feature definition.`);
    let s = u.getClassInheritanceChain(t).filter((l2) => l2 !== F && l2 !== L && l2 !== M).map((l2) => `${l2.name}.${e}`), _ = [];
    for (let l2 of s) for (let [E2, C2] of n._metaStorage) r.has(E2) && (o.isComponentMetaInstance(C2) || o.isContainerMetaInstance(C2)) && C2.extensions(l2).forEach((h) => {
      _.push({ component: E2, ...h });
    });
    return n.filterToMostDerived(r, _);
  }
  filterToMostDerived(e, t) {
    return t.filter((r) => {
      let n = typeof r.component == "string" ? e.resolveConstructor(r.component) : o.isContainerInstance(r.component) ? r.component.constructor : r.component;
      return !t.some((s) => {
        if (s === r) return false;
        let _ = typeof s.component == "string" ? e.resolveConstructor(s.component) : o.isContainerInstance(s.component) ? s.component.constructor : s.component;
        return n.prototype.isPrototypeOf(_.prototype);
      });
    });
  }
  static featureDefinition(e, t) {
    let r;
    if (!e) throw new m(m.InvalidFeatureTemplateParameterError, "Unable to get feature template. Feature name cannot be null or undefined.");
    if (!t) throw new m(m.InvalidFeatureTemplateParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    switch (true) {
      case t instanceof M:
        r = "a-component-features";
        break;
      case t instanceof L:
        r = "a-container-features";
        break;
      case t instanceof F:
        r = "a-component-features";
        break;
      default:
        throw new m(m.InvalidFeatureTemplateParameterError, `A-Feature cannot be defined on the ${t} level`);
    }
    return [...this.meta(t)?.get(r)?.get(e)?.template || []];
  }
  static abstractionTemplate(e, t) {
    let r = u.getComponentName(t);
    if (!t) throw new m(m.InvalidAbstractionTemplateParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new m(m.InvalidAbstractionTemplateParameterError, "Unable to get feature template. Abstraction stage cannot be null or undefined.");
    if (!o.isAllowedForAbstractionDefinition(t)) throw new m(m.InvalidAbstractionTemplateParameterError, `Unable to get feature template. Component of type ${r} is not allowed for feature definition.`);
    return [...this.abstractionExtensions(e, t)];
  }
  static abstractionExtensions(e, t) {
    let r = this.getInstance(), n = u.getComponentName(t);
    if (!t) throw new m(m.InvalidAbstractionExtensionParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new m(m.InvalidAbstractionExtensionParameterError, "Unable to get feature template. Abstraction stage cannot be null or undefined.");
    if (!o.isAllowedForAbstractionDefinition(t)) throw new m(m.InvalidAbstractionExtensionParameterError, `Unable to get feature template. Component of type ${n} is not allowed for feature definition.`);
    let i2 = [], s = this.scope(t);
    for (let [_, l2] of r._metaStorage) s.has(_) && (o.isComponentMetaInstance(l2) || o.isContainerMetaInstance(l2)) && l2.abstractions(e).forEach((E2) => {
      i2.push({ component: _, ...E2 });
    });
    return r.filterToMostDerived(s, i2);
  }
  static reset() {
    let e = _a28.getInstance();
    e._registry = /* @__PURE__ */ new WeakMap();
    let t = "root";
    _a28.environment === "server" && (t = process.env[N.A_CONCEPT_ROOT_SCOPE] || "root"), _a28.environment === "browser" && (t = window[N.A_CONCEPT_ROOT_SCOPE] || "root"), e._root = new x({ name: t });
  }
  static isAllowedForScopeAllocation(e) {
    return o.isContainerInstance(e) || o.isFeatureInstance(e);
  }
  static isAllowedToBeRegistered(e) {
    return o.isEntityInstance(e) || o.isComponentInstance(e) || o.isFragmentInstance(e) || o.isErrorInstance(e);
  }
  static isAllowedForMeta(e) {
    return o.isContainerInstance(e) || o.isComponentInstance(e) || o.isEntityInstance(e);
  }
  static isAllowedForMetaConstructor(e) {
    return o.isContainerConstructor(e) || o.isComponentConstructor(e) || o.isEntityConstructor(e);
  }
}, __name(_a28, "D"), _a28);
a(D, "A_Context");
var c = D;
var _a29;
var Ae = (_a29 = class extends f {
}, __name(_a29, "Ae"), _a29);
a(Ae, "A_AbstractionError"), Ae.AbstractionExtensionError = "Unable to extend abstraction execution";
var G = Ae;
function De(p, e = {}) {
  return function(t, r, n) {
    let i2 = u.getComponentName(t);
    if (!p) throw new G(G.AbstractionExtensionError, `Abstraction name must be provided to extend abstraction for '${i2}'.`);
    if (!o.isConstructorAvailableForAbstraction(t)) throw new G(G.AbstractionExtensionError, `Unable to extend Abstraction '${p}' for '${i2}'. Only A-Containers and A-Components can extend Abstractions.`);
    let s, _ = c.meta(t);
    switch (true) {
      case (o.isContainerConstructor(t) || o.isContainerInstance(t)):
        s = "a-container-abstractions";
        break;
      case (o.isComponentConstructor(t) || o.isComponentInstance(t)):
        s = "a-component-abstractions";
        break;
    }
    let l2 = `CONCEPT_ABSTRACTION::${p}`, E2 = _.get(s) ? new d().from(_.get(s)) : new d(), C2 = [...E2.get(l2) || []], h = C2.findIndex((Y2) => Y2.handler === r), P2 = { name: l2, handler: r, behavior: e.behavior || "sync", throwOnError: e.throwOnError !== void 0 ? e.throwOnError : true, before: o.isArray(e.before) ? new RegExp(`^${e.before.join("|").replace(/\./g, "\\.")}$`).source : e.before instanceof RegExp ? e.before.source : "", after: o.isArray(e.after) ? new RegExp(`^${e.after.join("|").replace(/\./g, "\\.")}$`).source : e.after instanceof RegExp ? e.after.source : "", override: o.isArray(e.override) ? new RegExp(`^${e.override.join("|").replace(/\./g, "\\.")}$`).source : e.after instanceof RegExp ? e.after.source : "" };
    h !== -1 ? C2[h] = P2 : C2.push(P2), E2.set(l2, C2), c.meta(t).set(s, E2);
  };
}
__name(De, "De");
a(De, "A_Abstraction_Extend");
var _a30;
var Oe = (_a30 = class {
  constructor(e) {
    this._features = [];
    this._index = 0;
    this._name = e.name, this._features = e.containers.map((t) => {
      let r = c.abstractionTemplate(this._name, t);
      return new v({ name: this._name, component: t, template: r });
    }), this._current = this._features[0];
  }
  static get Extend() {
    return De;
  }
  get name() {
    return this._name;
  }
  get feature() {
    return this._current;
  }
  get isDone() {
    return !this.feature || this._index >= this._features.length;
  }
  [Symbol.iterator]() {
    return { next: a(() => this.isDone ? (this._current = void 0, { value: void 0, done: true }) : (this._current = this._features[this._index], { value: this._current, done: false }), "next") };
  }
  next(e) {
    if (this._index >= this._features.length) return;
    let t = this._features.indexOf(e);
    this._index = t + 1;
  }
  async process(e) {
    if (!this.isDone) for (let t of this._features) await t.process(e);
  }
}, __name(_a30, "Oe"), _a30);
a(Oe, "A_Abstraction");
var w = Oe;
var nt = ((_) => (_.Run = "run", _.Build = "build", _.Publish = "publish", _.Deploy = "deploy", _.Load = "load", _.Start = "start", _.Stop = "stop", _))(nt || {});
var ot = ((e) => (e.LIFECYCLE = "a-component-extensions", e))(ot || {});
var _a31;
var Re = (_a31 = class {
  constructor(e) {
    this.props = e;
    this._name = e.name || c.root.name, e.components && e.components.length && e.components.forEach((t) => this.scope.register(t)), e.fragments && e.fragments.length && e.fragments.forEach((t) => this.scope.register(t)), e.entities && e.entities.length && e.entities.forEach((t) => this.scope.register(t)), this._containers = e.containers || [];
  }
  static Load(e) {
    return w.Extend("load", e);
  }
  static Publish(e) {
    return w.Extend("publish");
  }
  static Deploy(e) {
    return w.Extend("deploy", e);
  }
  static Build(e) {
    return w.Extend("build", e);
  }
  static Run(e) {
    return w.Extend("run", e);
  }
  static Start(e) {
    return w.Extend("start", e);
  }
  static Stop(e) {
    return w.Extend("stop", e);
  }
  get name() {
    return c.root.name;
  }
  get scope() {
    return c.root;
  }
  get register() {
    return this.scope.register.bind(this.scope);
  }
  get resolve() {
    return this.scope.resolve.bind(this.scope);
  }
  async load(e) {
    await new w({ name: "load", containers: this._containers }).process(e);
  }
  async run(e) {
    await new w({ name: "run", containers: this._containers }).process(e);
  }
  async start(e) {
    await new w({ name: "start", containers: this._containers }).process(e);
  }
  async stop(e) {
    await new w({ name: "stop", containers: this._containers }).process(e);
  }
  async build(e) {
    await new w({ name: "build", containers: this._containers }).process(e);
  }
  async deploy(e) {
    await new w({ name: "deploy", containers: this._containers }).process(e);
  }
  async publish(e) {
    await new w({ name: "publish", containers: this._containers }).process(e);
  }
  async call(e, t) {
    return await new v({ name: e, component: t }).process();
  }
}, __name(_a31, "Re"), _a31);
a(Re, "A_Concept");
var Ne = Re;
var _a32;
var ke = (_a32 = class extends d {
  constructor(t) {
    super();
    this.containers = t;
  }
}, __name(_a32, "ke"), _a32);
a(ke, "A_ConceptMeta");
var _a33;
var X = (_a33 = class extends f {
}, __name(_a33, "X"), _a33);
a(X, "A_DependencyError"), X.InvalidDependencyTarget = "Invalid Dependency Target", X.InvalidLoadTarget = "Invalid Load Target", X.InvalidLoadPath = "Invalid Load Path", X.InvalidDefaultTarget = "Invalid Default Target";
var b = X;
function je(...p) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isTargetAvailableForInjection(e)) throw new b(b.InvalidDefaultTarget, `A-Default cannot be used on the target of type ${typeof e} (${n})`);
    let i2 = t ? String(t) : "constructor", s;
    switch (true) {
      case (o.isComponentConstructor(e) || o.isComponentInstance(e)):
        s = "a-component-injections";
        break;
      case o.isContainerInstance(e):
        s = "a-container-injections";
        break;
    }
    let _ = c.meta(e).get(s) || new d(), l2 = _.get(i2) || [];
    l2[r] = { ...l2[r] || {}, defaultArgs: p, create: true }, _.set(i2, l2), c.meta(e).set(s, _);
  };
}
__name(je, "je");
a(je, "A_Dependency_Default");
function Ve() {
  return function(p, e, t) {
    let r = u.getComponentName(p);
    if (!o.isTargetAvailableForInjection(p)) throw new b(b.InvalidDependencyTarget, `A-Dependency cannot be used on the target of type ${typeof p} (${r})`);
    let n = e ? String(e) : "constructor", i2;
    switch (true) {
      case (o.isComponentConstructor(p) || o.isComponentInstance(p)):
        i2 = "a-component-injections";
        break;
      case o.isContainerInstance(p):
        i2 = "a-container-injections";
        break;
    }
    let s = c.meta(p).get(i2) || new d(), _ = s.get(n) || [];
    _[t] = { ..._[t] || {}, flat: true }, s.set(n, _), c.meta(p).set(i2, s);
  };
}
__name(Ve, "Ve");
a(Ve, "A_Dependency_Flat");
function $e(p) {
  if (!p || typeof p != "string") throw new b(b.InvalidLoadPath, "A-Load decorator requires a valid path string to the dependency");
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isTargetAvailableForInjection(e)) throw new b(b.InvalidLoadTarget, `A-Load cannot be used on the target of type ${typeof e} (${n})`);
    let i2 = t ? String(t) : "constructor", s;
    switch (true) {
      case (o.isComponentConstructor(e) || o.isComponentInstance(e)):
        s = "a-component-injections";
        break;
      case o.isContainerInstance(e):
        s = "a-container-injections";
        break;
    }
    let _ = c.meta(e).get(s) || new d(), l2 = _.get(i2) || [];
    l2[r] = { ...l2[r] || {}, load: p }, _.set(i2, l2), c.meta(e).set(s, _);
  };
}
__name($e, "$e");
a($e, "A_Dependency_Load");
function qe(p = -1) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isTargetAvailableForInjection(e)) throw new b(b.InvalidDependencyTarget, `A-Dependency cannot be used on the target of type ${typeof e} (${n})`);
    let i2 = t ? String(t) : "constructor", s;
    switch (true) {
      case (o.isComponentConstructor(e) || o.isComponentInstance(e)):
        s = "a-component-injections";
        break;
      case o.isContainerInstance(e):
        s = "a-container-injections";
        break;
    }
    let _ = c.meta(e).get(s) || new d(), l2 = _.get(i2) || [];
    l2[r] = { ...l2[r] || {}, parent: { layerOffset: p } }, _.set(i2, l2), c.meta(e).set(s, _);
  };
}
__name(qe, "qe");
a(qe, "A_Dependency_Parent");
function Le() {
  return function(p, e, t) {
    let r = u.getComponentName(p);
    if (!o.isTargetAvailableForInjection(p)) throw new b(b.InvalidDependencyTarget, `A-Dependency cannot be used on the target of type ${typeof p} (${r})`);
    let n = e ? String(e) : "constructor", i2;
    switch (true) {
      case (o.isComponentConstructor(p) || o.isComponentInstance(p)):
        i2 = "a-component-injections";
        break;
      case o.isContainerInstance(p):
        i2 = "a-container-injections";
        break;
    }
    let s = c.meta(p).get(i2) || new d(), _ = s.get(n) || [];
    _[t] = { ..._[t] || {}, require: true }, s.set(n, _), c.meta(p).set(i2, s);
  };
}
__name(Le, "Le");
a(Le, "A_Dependency_Require");
var _a34;
var Ue = (_a34 = class {
  static get Required() {
    return Le;
  }
  static get Loaded() {
    return $e;
  }
  static get Default() {
    return je;
  }
  static get Parent() {
    return qe;
  }
  static get Flat() {
    return Ve;
  }
  constructor(e) {
    this._name = e;
  }
  get name() {
    return this._name;
  }
}, __name(_a34, "Ue"), _a34);
a(Ue, "A_Dependency");
var ze = Ue;
var _a35;
var _e = (_a35 = class extends f {
}, __name(_a35, "_e"), _a35);
a(_e, "A_InjectError"), _e.InvalidInjectionTarget = "Invalid target for A-Inject decorator", _e.MissingInjectionTarget = "Missing target for A-Inject decorator";
var Z = _e;
function it(p, e) {
  if (!p) throw new Z(Z.MissingInjectionTarget, "A-Inject decorator is missing the target to inject");
  return function(t, r, n) {
    let i2 = u.getComponentName(t);
    if (!o.isTargetAvailableForInjection(t)) throw new Z(Z.InvalidInjectionTarget, `A-Inject cannot be used on the target of type ${typeof t} (${i2})`);
    let s = r ? String(r) : "constructor", _;
    switch (true) {
      case (o.isComponentConstructor(t) || o.isComponentInstance(t)):
        _ = "a-component-injections";
        break;
      case o.isContainerInstance(t):
        _ = "a-container-injections";
        break;
      case o.isEntityInstance(t):
        _ = "a-component-injections";
        break;
    }
    let l2 = c.meta(t).get(_) || new d(), E2 = l2.get(s) || [];
    E2[n] = { target: p, instructions: e }, l2.set(s, E2), c.meta(t).set(_, l2);
  };
}
__name(it, "it");
a(it, "A_Inject");

// node_modules/@adaas/a-utils/dist/index.mjs
var wt = Object.defineProperty;
var Yt = Object.getOwnPropertyDescriptor;
var i = /* @__PURE__ */ __name((j2, t) => wt(j2, "name", { value: t, configurable: true }), "i");
var c2 = /* @__PURE__ */ __name((j2, t, e, r) => {
  for (var o2 = r > 1 ? void 0 : r ? Yt(t, e) : t, n = j2.length - 1, s; n >= 0; n--) (s = j2[n]) && (o2 = (r ? s(t, e, o2) : s(o2)) || o2);
  return r && o2 && wt(t, e, o2), o2;
}, "c");
var l = /* @__PURE__ */ __name((j2, t) => (e, r) => t(e, r, j2), "l");
var _a36;
var $e2 = (_a36 = class extends B {
  constructor(t, e) {
    super({ name: t }), this._meta = new d();
    for (let r in e) this._meta.set(r, e[r]);
  }
  [Symbol.iterator]() {
    return this._meta[Symbol.iterator]();
  }
  get meta() {
    return this._meta;
  }
  get(t) {
    return this._meta.get(t);
  }
  set(t, e) {
    this._meta.set(t, e);
  }
  has(t) {
    return this._meta.has(t);
  }
  drop(t) {
    this._meta.delete(t);
  }
  clear() {
    this._meta.clear();
  }
  toRaw() {
    return this._meta.toJSON();
  }
  toJSON() {
    return { name: this.name, ...this.meta.toJSON() };
  }
}, __name(_a36, "$e"), _a36);
i($e2, "A_ExecutionContext");
var b2 = $e2;
var _a37;
var Ue2 = (_a37 = class extends b2 {
  constructor(t, e) {
    super("operation-context"), this.meta.set("name", t), this.meta.set("params", e || {});
  }
  get name() {
    return this._meta.get("name") || this._name;
  }
  get result() {
    return this._meta.get("result");
  }
  get error() {
    return this._meta.get("error");
  }
  get params() {
    return this._meta.get("params") || {};
  }
  fail(t) {
    this._meta.set("error", t);
  }
  succeed(t) {
    this._meta.set("result", t);
  }
  toJSON() {
    return { name: this.name, params: this.params, result: this.result || {}, error: this.error?.toJSON() };
  }
}, __name(_a37, "Ue"), _a37);
i(Ue2, "A_OperationContext");
var u2 = Ue2;
var _a38;
var ye2 = (_a38 = class extends f {
  constructor(t, e) {
    o.isString(e) ? super(t, e) : super(t), e instanceof u2 && (this._context = e);
  }
  get context() {
    return this._context;
  }
}, __name(_a38, "ye"), _a38);
i(ye2, "A_ChannelError"), ye2.MethodNotImplemented = "A-Channel Method Not Implemented";
var q2 = ye2;
var Ht = ((m2) => (m2.onTimeout = "_A_Channel_onTimeout", m2.onRetry = "_A_Channel_onRetry", m2.onCircuitBreakerOpen = "_A_Channel_onCircuitBreakerOpen", m2.onCache = "_A_Channel_onCache", m2.onConnect = "_A_Channel_onConnect", m2.onDisconnect = "_A_Channel_onDisconnect", m2.onBeforeRequest = "_A_Channel_onBeforeRequest", m2.onRequest = "_A_Channel_onRequest", m2.onAfterRequest = "_A_Channel_onAfterRequest", m2.onError = "_A_Channel_onError", m2.onSend = "_A_Channel_onSend", m2.onConsume = "_A_Channel_onConsume", m2))(Ht || {});
var jt = ((r) => (r.PENDING = "PENDING", r.SUCCESS = "SUCCESS", r.FAILED = "FAILED", r))(jt || {});
var _a39;
var Ye2 = (_a39 = class extends u2 {
  constructor(t) {
    super("request", t);
  }
  get status() {
    return this.result?.status;
  }
  get data() {
    return this.result?.data;
  }
  succeed(t) {
    let e = this.result;
    super.succeed({ ...e, data: t, status: "SUCCESS" });
  }
}, __name(_a39, "Ye"), _a39);
i(Ye2, "A_ChannelRequest");
var le2 = Ye2;
var _a40;
var M2 = (_a40 = class extends F {
  constructor() {
    super();
    this._processing = false;
    this._cache = /* @__PURE__ */ new Map();
  }
  get processing() {
    return this._processing;
  }
  get initialize() {
    return this._initialized || (this._initialized = this.connect()), this._initialized;
  }
  async onConnect(...e) {
  }
  async onDisconnect(...e) {
  }
  async onBeforeRequest(...e) {
  }
  async onRequest(...e) {
  }
  async onAfterRequest(...e) {
  }
  async onError(...e) {
  }
  async onSend(...e) {
  }
  async connect() {
    await this.call("_A_Channel_onConnect");
  }
  async disconnect() {
    await this.call("_A_Channel_onDisconnect");
  }
  async request(e) {
    await this.initialize, this._processing = true;
    let r = new x({ name: `a-channel@scope:request:${K.generateTimeId()}` }).inherit(c.scope(this)), o2 = new le2(e);
    try {
      return r.register(o2), await this.call("_A_Channel_onBeforeRequest", r), await this.call("_A_Channel_onRequest", r), await this.call("_A_Channel_onAfterRequest", r), this._processing = false, o2;
    } catch (n) {
      this._processing = false;
      let s = new q2(n);
      throw o2.fail(s), r.register(s), await this.call("_A_Channel_onError", r), r.destroy(), s;
    }
  }
  async send(e) {
    await this.initialize, this._processing = true;
    let r = new x({ name: `a-channel@scope:send:${K.generateTimeId()}` }).inherit(c.scope(this)), o2 = new u2("send", e);
    try {
      r.inherit(c.scope(this)), r.register(o2), await this.call("_A_Channel_onSend", r), this._processing = false;
    } catch (n) {
      this._processing = false;
      let s = new q2(n);
      r.register(s), o2.fail(s), await this.call("_A_Channel_onError", r), r.destroy();
    }
  }
  async consume() {
    await this.initialize, this._processing = true;
    let e = new x({ name: `a-channel@scope:consume:${K.generateTimeId()}` }).inherit(c.scope(this)), r = new u2("consume", {});
    try {
      return e.inherit(c.scope(this)), e.register(r), await this.call("_A_Channel_onConsume", e), this._processing = false, r;
    } catch (o2) {
      this._processing = false;
      let n = new q2(o2);
      return r.fail(n), await this.call("_A_Channel_onError", e), r;
    }
  }
}, __name(_a40, "M"), _a40);
i(M2, "A_Channel"), c2([v.Extend({ name: "_A_Channel_onConnect" })], M2.prototype, "onConnect", 1), c2([v.Extend({ name: "_A_Channel_onDisconnect" })], M2.prototype, "onDisconnect", 1), c2([v.Extend({ name: "_A_Channel_onBeforeRequest" })], M2.prototype, "onBeforeRequest", 1), c2([v.Extend({ name: "_A_Channel_onRequest" })], M2.prototype, "onRequest", 1), c2([v.Extend({ name: "_A_Channel_onAfterRequest" })], M2.prototype, "onAfterRequest", 1), c2([v.Extend({ name: "_A_Channel_onError" })], M2.prototype, "onError", 1), c2([v.Extend({ name: "_A_Channel_onSend" })], M2.prototype, "onSend", 1);
var Kt = ((s) => (s.CREATED = "CREATED", s.INITIALIZED = "INITIALIZED", s.COMPILED = "COMPILED", s.EXECUTING = "EXECUTING", s.COMPLETED = "COMPLETED", s.FAILED = "FAILED", s))(Kt || {});
var Wt = ((o2) => (o2.CREATED_TO_INITIALIZED = "created_initialized", o2.INITIALIZED_TO_EXECUTING = "initialized_executing", o2.EXECUTING_TO_COMPLETED = "executing_completed", o2.EXECUTING_TO_FAILED = "executing_failed", o2))(Wt || {});
var Jt = ((a2) => (a2.onInit = "_A_Command_onInit", a2.onBeforeExecute = "_A_Command_onBeforeExecute", a2.onExecute = "_A_Command_onExecute", a2.onAfterExecute = "_A_Command_onAfterExecute", a2.onComplete = "_A_Command_onComplete", a2.onFail = "_A_Command_onFail", a2.onError = "_A_Command_onError", a2))(Jt || {});
var Xt = ((a2) => (a2.onInit = "onInit", a2.onBeforeExecute = "onBeforeExecute", a2.onExecute = "onExecute", a2.onAfterExecute = "onAfterExecute", a2.onComplete = "onComplete", a2.onFail = "onFail", a2.onError = "onError", a2))(Xt || {});
var _a41;
var W2 = (_a41 = class extends f {
}, __name(_a41, "W"), _a41);
i(W2, "A_CommandError"), W2.CommandScopeBindingError = "A-Command Scope Binding Error", W2.ExecutionError = "A-Command Execution Error", W2.ResultProcessingError = "A-Command Result Processing Error", W2.CommandInterruptedError = "A-Command Interrupted Error";
var Y = W2;
var _a42;
var pe2 = (_a42 = class extends f {
}, __name(_a42, "pe"), _a42);
i(pe2, "A_StateMachineError"), pe2.InitializationError = "A-StateMachine Initialization Error", pe2.TransitionError = "A-StateMachine Transition Error";
var Z2 = pe2;
var er = ((o2) => (o2.onError = "_A_StateMachine_onError", o2.onInitialize = "_A_StateMachine_onInitialize", o2.onBeforeTransition = "_A_StateMachine_onBeforeTransition", o2.onAfterTransition = "_A_StateMachine_onAfterTransition", o2))(er || {});
var _a43;
var Ve2 = (_a43 = class extends u2 {
  constructor(t) {
    super("a-state-machine-transition", t), this._meta.set("from", t.from), this._meta.set("to", t.to);
  }
  get from() {
    return this._meta.get("from");
  }
  get to() {
    return this._meta.get("to");
  }
}, __name(_a43, "Ve"), _a43);
i(Ve2, "A_StateMachineTransition");
var N2 = Ve2;
var nr;
var ir;
var sr;
var ar;
var _a44;
var J2 = (_a44 = class extends F {
  get ready() {
    return this._initialized || (this._initialized = this.call("_A_StateMachine_onInitialize")), this._initialized;
  }
  async [ar = "_A_StateMachine_onInitialize"](...t) {
  }
  async [sr = "_A_StateMachine_onBeforeTransition"](...t) {
  }
  async [ir = "_A_StateMachine_onAfterTransition"](...t) {
  }
  async [nr = "_A_StateMachine_onError"](...t) {
  }
  async transition(t, e, r) {
    await this.ready;
    let o2 = `${y.toCamelCase(String(t))}_${y.toCamelCase(String(e))}`, n = new N2({ from: String(t), to: String(e), props: r }), s = new x({ name: `A-StateMachine-Transition-Scope-${o2}`, fragments: [n] }).inherit(c.scope(this));
    try {
      return await this.call("_A_StateMachine_onBeforeTransition", s), await this.call(o2, s), await this.call("_A_StateMachine_onAfterTransition", s), s.destroy(), n.result;
    } catch (a2) {
      let _ = new Z2({ title: Z2.TransitionError, description: `An error occurred while transitioning to "${o2}"`, originalError: a2 });
      throw s.register(_), await this.call("_A_StateMachine_onError", s), s.destroy(), _;
    }
  }
}, __name(_a44, "J"), _a44);
i(J2, "A_StateMachine"), c2([v.Extend()], J2.prototype, ar, 1), c2([v.Extend()], J2.prototype, sr, 1), c2([v.Extend()], J2.prototype, ir, 1), c2([v.Extend()], J2.prototype, nr, 1);
var G2 = J2;
var Q2 = [];
var _a45;
var Ee2 = (_a45 = class extends f {
}, __name(_a45, "Ee"), _a45);
i(Ee2, "A_ConfigError"), Ee2.InitializationError = "A-Config Initialization Error";
var $2 = Ee2;
var _a46;
var je2 = (_a46 = class extends b2 {
  constructor(e) {
    super("a-config");
    this.DEFAULT_ALLOWED_TO_READ_PROPERTIES = [...at, ...Q2];
    this._strict = e.strict ?? false, this._configProperties = e.variables ?? [];
    for (let r in e.defaults) this.set(y.toUpperSnakeCase(r), e.defaults[r]);
  }
  get strict() {
    return this._strict;
  }
  get(e) {
    if (this._configProperties.includes(e) || this.DEFAULT_ALLOWED_TO_READ_PROPERTIES.includes(e) || !this._strict) return super.get(y.toUpperSnakeCase(e));
    throw new $2("Property not exists or not allowed to read");
  }
  set(e, r) {
    let o2 = Array.isArray(e) ? e : typeof e == "string" ? [{ property: e, value: r }] : Object.keys(e).map((n) => ({ property: n, value: e[n] }));
    for (let { property: n, value: s } of o2) super.set(y.toUpperSnakeCase(n), s);
  }
}, __name(_a46, "je"), _a46);
i(je2, "A_Config");
var A2 = je2;
var Lt = { red: "31", yellow: "33", green: "32", blue: "34", cyan: "36", magenta: "35", gray: "90", brightBlue: "94", brightCyan: "96", brightMagenta: "95", darkGray: "30", lightGray: "37", indigo: "38;5;54", violet: "38;5;93", purple: "38;5;129", lavender: "38;5;183", skyBlue: "38;5;117", steelBlue: "38;5;67", slateBlue: "38;5;62", deepBlue: "38;5;18", lightBlue: "38;5;153", periwinkle: "38;5;111", cornflower: "38;5;69", powder: "38;5;152", charcoal: "38;5;236", silver: "38;5;250", smoke: "38;5;244", slate: "38;5;240" };
var It = ["blue", "cyan", "magenta", "gray", "brightBlue", "brightCyan", "brightMagenta", "darkGray", "lightGray", "indigo", "violet", "purple", "lavender", "skyBlue", "steelBlue", "slateBlue", "deepBlue", "lightBlue", "periwinkle", "cornflower", "powder", "charcoal", "silver", "smoke", "slate"];
var V2 = { RESET: "\x1B[0m", PREFIX: "\x1B[", SUFFIX: "m" };
var ee2 = { MINUTES_PAD: 2, SECONDS_PAD: 2, MILLISECONDS_PAD: 3, SEPARATOR: ":" };
var y2 = { SCOPE_OPEN: "[", SCOPE_CLOSE: "]", TIME_OPEN: "|", TIME_CLOSE: "|", SEPARATOR: "-------------------------------", INDENT_BASE: 3, PIPE: "| " };
var te = { DEFAULT_WIDTH: 80, MIN_WIDTH: 40, MAX_LINE_LENGTH_RATIO: 0.8, BROWSER_DEFAULT_WIDTH: 120 };
var de2 = { LOG_LEVEL: "A_LOGGER_LEVEL", DEFAULT_SCOPE_LENGTH: "A_LOGGER_DEFAULT_SCOPE_LENGTH", DEFAULT_SCOPE_COLOR: "A_LOGGER_DEFAULT_SCOPE_COLOR", DEFAULT_LOG_COLOR: "A_LOGGER_DEFAULT_LOG_COLOR" };
var _a47;
var T2 = (_a47 = class extends F {
  constructor(e, r) {
    super();
    this.scope = e;
    this.config = r;
    this.COLORS = Lt, this.STANDARD_SCOPE_LENGTH = r?.get(de2.DEFAULT_SCOPE_LENGTH) || 20;
    let o2 = r?.get(de2.DEFAULT_SCOPE_COLOR), n = r?.get(de2.DEFAULT_LOG_COLOR);
    if (o2 || n) this.DEFAULT_SCOPE_COLOR = o2 || this.generateColorFromScopeName(this.scope.name), this.DEFAULT_LOG_COLOR = n || this.generateColorFromScopeName(this.scope.name);
    else {
      let s = this.generateComplementaryColorsFromScope(this.scope.name);
      this.DEFAULT_SCOPE_COLOR = s.scopeColor, this.DEFAULT_LOG_COLOR = s.logColor;
    }
    this.TERMINAL_WIDTH = this.detectTerminalWidth(), this.MAX_CONTENT_WIDTH = Math.floor(this.TERMINAL_WIDTH * te.MAX_LINE_LENGTH_RATIO);
  }
  simpleHash(e) {
    let r = 0;
    for (let o2 = 0; o2 < e.length; o2++) {
      let n = e.charCodeAt(o2);
      r = (r << 5) - r + n, r = r & r;
    }
    return Math.abs(r);
  }
  generateColorFromScopeName(e) {
    let r = It, n = this.simpleHash(e) % r.length;
    return r[n];
  }
  generateComplementaryColorsFromScope(e) {
    let r = [{ scopeColor: "indigo", logColor: "lightBlue" }, { scopeColor: "deepBlue", logColor: "cyan" }, { scopeColor: "purple", logColor: "lavender" }, { scopeColor: "steelBlue", logColor: "skyBlue" }, { scopeColor: "slateBlue", logColor: "periwinkle" }, { scopeColor: "charcoal", logColor: "silver" }, { scopeColor: "violet", logColor: "brightMagenta" }, { scopeColor: "darkGray", logColor: "lightGray" }, { scopeColor: "cornflower", logColor: "powder" }, { scopeColor: "slate", logColor: "smoke" }], n = this.simpleHash(e) % r.length;
    return r[n];
  }
  detectTerminalWidth() {
    try {
      if (c.environment === "browser") return te.BROWSER_DEFAULT_WIDTH;
      if (typeof process < "u" && process.stdout && process.stdout.columns) {
        let e = process.stdout.columns;
        return Math.max(e, te.MIN_WIDTH);
      }
      return te.DEFAULT_WIDTH;
    } catch {
      return te.DEFAULT_WIDTH;
    }
  }
  wrapText(e, r, o2 = true) {
    if (c.environment === "browser") return [e];
    let n = this.formattedScope.length + 4 + this.getTime().length + 4, s = `${r}${y2.PIPE}`, a2 = Math.max(this.TERMINAL_WIDTH - n - 1, 20), _ = Math.max(this.TERMINAL_WIDTH - s.length, 20);
    if (o2 && e.length <= a2) return [e];
    let d2 = [], p = e.split(" "), h = "", m2 = o2 ? a2 : _;
    for (let k2 of p) {
      let Me = h ? 1 : 0;
      if (h.length + Me + k2.length > m2) if (h) d2.push(h), h = k2, m2 = _;
      else {
        if (k2.length > m2) {
          let Ge = this.splitLongWord(k2, m2);
          d2.push(...Ge.slice(0, -1)), h = Ge[Ge.length - 1];
        } else h = k2;
        m2 = _;
      }
      else h += (h ? " " : "") + k2;
    }
    return h && d2.push(h), d2.length ? d2 : [e];
  }
  splitLongWord(e, r) {
    let o2 = [];
    for (let n = 0; n < e.length; n += r) o2.push(e.slice(n, n + r));
    return o2;
  }
  get scopeLength() {
    return Math.max(this.scope.name.length, this.STANDARD_SCOPE_LENGTH);
  }
  get formattedScope() {
    let e = this.scope.name, r = this.STANDARD_SCOPE_LENGTH;
    if (e.length >= r) return e.substring(0, r);
    let o2 = r - e.length, n = Math.floor(o2 / 2), s = o2 - n;
    return " ".repeat(n) + e + " ".repeat(s);
  }
  compile(e, ...r) {
    let o2 = this.getTime(), n = " ".repeat(this.STANDARD_SCOPE_LENGTH + 3), s = r.length > 1;
    return [`${V2.PREFIX}${this.COLORS[this.DEFAULT_SCOPE_COLOR]}${V2.SUFFIX}${y2.SCOPE_OPEN}${this.formattedScope}${y2.SCOPE_CLOSE}${V2.RESET} ${V2.PREFIX}${this.COLORS[e]}${V2.SUFFIX}${y2.TIME_OPEN}${o2}${y2.TIME_CLOSE}`, s ? `
${n}${y2.TIME_OPEN}${y2.SEPARATOR}` : "", ...r.map((a2, _) => {
      let d2 = _ > 0 || s;
      switch (true) {
        case a2 instanceof f:
          return this.compile_A_Error(a2);
        case a2 instanceof Error:
          return this.compile_Error(a2);
        case (typeof a2 == "object" && a2 !== null):
          return this.formatObject(a2, d2, n);
        default:
          return this.formatString(String(a2), d2, n);
      }
    }), s ? `
${n}${y2.TIME_OPEN}${y2.SEPARATOR}${V2.RESET}` : V2.RESET];
  }
  formatObject(e, r, o2) {
    if (c.environment === "browser") return e;
    if (e === null) return r ? `
${o2}${y2.PIPE}null` : "null";
    if (e === void 0) return r ? `
${o2}${y2.PIPE}undefined` : "undefined";
    let n;
    try {
      n = JSON.stringify(e, null, 2);
    } catch {
      try {
        let h = /* @__PURE__ */ new WeakSet();
        n = JSON.stringify(e, (m2, O) => {
          if (typeof O == "object" && O !== null) {
            if (h.has(O)) return "[Circular Reference]";
            h.add(O);
          }
          return O;
        }, 2);
      } catch {
        n = String(e);
      }
    }
    let s = `${o2}${y2.PIPE}`, a2 = this.TERMINAL_WIDTH - s.length - 4, d2 = n.split(`
`).map((p) => {
      let h = p.match(/^(\s*"[^"]+":\s*")([^"]+)(".*)?$/);
      if (h && h[2].length > a2 - h[1].length - (h[3] || "").length) {
        let [, m2, O, k2 = ""] = h;
        if (O.length > a2 - m2.length - k2.length) {
          let Me = this.wrapJsonStringValue(O, a2 - m2.length - k2.length);
          return m2 + Me + k2;
        }
      }
      return p;
    }).join(`
` + s);
    return r ? `
` + s + d2 : d2;
  }
  wrapJsonStringValue(e, r) {
    return e.length <= r ? e : r > 6 ? e.substring(0, r - 3) + "..." : e.substring(0, Math.max(1, r));
  }
  formatString(e, r, o2) {
    if (c.environment === "browser") return ((r ? `
` : "") + e).replace(/\n/g, `
${o2}${y2.PIPE}`);
    let n = this.wrapText(e, o2, !r), s = `${o2}${y2.PIPE}`, a2 = n.map((_, d2) => d2 === 0 && !r ? _ : `${s}${_}`);
    return r ? `
` + a2.join(`
`) : a2.join(`
`);
  }
  shouldLog(e) {
    switch (this.config?.get(de2.LOG_LEVEL) || "info") {
      case "debug":
        return true;
      case "info":
        return e === "info" || e === "warning" || e === "error";
      case "warn":
        return e === "warning" || e === "error";
      case "error":
        return e === "error";
      case "all":
        return true;
      default:
        return false;
    }
  }
  debug(e, ...r) {
    this.shouldLog("debug") && (typeof e == "string" && this.COLORS[e] ? console.log(...this.compile(e, ...r)) : console.log(...this.compile(this.DEFAULT_LOG_COLOR, e, ...r)));
  }
  info(e, ...r) {
    this.shouldLog("info") && (typeof e == "string" && this.COLORS[e] ? console.log(...this.compile(e, ...r)) : console.log(...this.compile(this.DEFAULT_LOG_COLOR, e, ...r)));
  }
  log(e, ...r) {
    this.info(e, ...r);
  }
  warning(...e) {
    this.shouldLog("warning") && console.log(...this.compile("yellow", ...e));
  }
  error(...e) {
    this.shouldLog("error") && console.log(...this.compile("red", ...e));
  }
  log_A_Error(e) {
    let r = this.getTime(), o2 = " ".repeat(this.STANDARD_SCOPE_LENGTH + 3);
    console.log(`\x1B[31m[${this.formattedScope}] |${r}| ERROR ${e.code}
${o2}| ${e.message}
${o2}| ${e.description} 
${o2}|-------------------------------
${o2}| ${e.stack?.split(`
`).map((n, s) => s === 0 ? n : `${o2}| ${n}`).join(`
`) || "No stack trace"}
${o2}|-------------------------------
\x1B[0m` + (e.originalError ? `\x1B[31m${o2}| Wrapped From  ${e.originalError.message}
${o2}|-------------------------------
${o2}| ${e.originalError.stack?.split(`
`).map((n, s) => s === 0 ? n : `${o2}| ${n}`).join(`
`) || "No stack trace"}
${o2}|-------------------------------
\x1B[0m` : "") + (e.link ? `\x1B[31m${o2}| Read in docs: ${e.link}
${o2}|-------------------------------
\x1B[0m` : ""));
  }
  compile_A_Error(e) {
    let r = `${" ".repeat(this.STANDARD_SCOPE_LENGTH + 3)}${y2.PIPE}`, o2 = `${r}-------------------------------`, n = [];
    n.push(""), n.push(o2), n.push(`${r}A_ERROR: ${e.code}`), n.push(o2);
    let s = this.wrapText(`Message: ${e.message}`, r, false), a2 = this.wrapText(`Description: ${e.description}`, r, false);
    if (n.push(...s.map((_) => `${r}${_}`)), n.push(...a2.map((_) => `${r}${_}`)), e.originalError) {
      n.push(o2), n.push(`${r}ORIGINAL ERROR:`), n.push(o2);
      let _ = this.wrapText(`${e.originalError.name}: ${e.originalError.message}`, r, false);
      if (n.push(..._.map((d2) => `${r}${d2}`)), e.originalError.stack) {
        n.push(`${r}Stack trace:`);
        let d2 = this.formatStackTrace(e.originalError.stack, r);
        n.push(...d2);
      }
    }
    if (e.stack) {
      n.push(o2), n.push(`${r}A_ERROR STACK:`), n.push(o2);
      let _ = this.formatStackTrace(e.stack, r);
      n.push(..._);
    }
    if (e.link) {
      n.push(o2);
      let _ = this.wrapText(`Documentation: ${e.link}`, r, false);
      n.push(..._.map((d2) => `${r}${d2}`));
    }
    return n.push(o2), n.join(`
`);
  }
  formatStackTrace(e, r) {
    let o2 = e.split(`
`), n = [];
    return o2.forEach((s, a2) => {
      if (s.trim()) {
        let _ = a2 === 0 ? r : `${r}  `, d2 = this.wrapText(s.trim(), _, false);
        n.push(...d2.map((p) => a2 === 0 && p === d2[0] ? `${r}${p}` : `${r}  ${p}`));
      }
    }), n;
  }
  compile_Error(e) {
    let r = `${" ".repeat(this.STANDARD_SCOPE_LENGTH + 3)}${y2.PIPE}`, o2 = `${r}-------------------------------`, n = [];
    n.push(""), n.push(o2), n.push(`${r}ERROR: ${e.name}`), n.push(o2);
    let s = this.wrapText(`Message: ${e.message}`, r, false);
    if (n.push(...s.map((a2) => `${r}${a2}`)), e.stack) {
      n.push(o2), n.push(`${r}STACK TRACE:`), n.push(o2);
      let a2 = this.formatStackTrace(e.stack, r);
      n.push(...a2);
    }
    return n.push(o2), n.join(`
`);
  }
  getTime() {
    let e = /* @__PURE__ */ new Date(), r = String(e.getMinutes()).padStart(ee2.MINUTES_PAD, "0"), o2 = String(e.getSeconds()).padStart(ee2.SECONDS_PAD, "0"), n = String(e.getMilliseconds()).padStart(ee2.MILLISECONDS_PAD, "0");
    return `${r}${ee2.SEPARATOR}${o2}${ee2.SEPARATOR}${n}`;
  }
}, __name(_a47, "T"), _a47);
i(T2, "A_Logger"), T2 = c2([l(0, it(x)), l(1, it(A2))], T2);
var mr;
var hr;
var gr;
var fr;
var yr;
var Ar;
var Er;
var Tr;
var Sr;
var xr;
var Cr;
var _a48;
var C = (_a48 = class extends M {
  constructor(e) {
    super(e);
    this._listeners = /* @__PURE__ */ new Map();
  }
  static get code() {
    return super.entity;
  }
  get duration() {
    return this._endTime && this._startTime ? this._endTime.getTime() - this._startTime.getTime() : this._startTime ? (/* @__PURE__ */ new Date()).getTime() - this._startTime.getTime() : void 0;
  }
  get idleTime() {
    return this._startTime && this._createdAt ? this._startTime.getTime() - this._createdAt.getTime() : void 0;
  }
  get scope() {
    return this._executionScope;
  }
  get context() {
    return this.scope.resolve(b2);
  }
  get code() {
    return this.constructor.code;
  }
  get status() {
    return this._status;
  }
  get createdAt() {
    return this._createdAt;
  }
  get startedAt() {
    return this._startTime;
  }
  get endedAt() {
    return this._endTime;
  }
  get result() {
    return this._result;
  }
  get error() {
    return this._error;
  }
  get params() {
    return this._params;
  }
  get isProcessed() {
    return this._status === "COMPLETED" || this._status === "FAILED";
  }
  async [Cr = "_A_StateMachine_onBeforeTransition"](e, r, ...o2) {
    this.checkScopeInheritance(), r?.debug("yellow", `Command ${this.aseid.toString()} transitioning from ${e.from} to ${e.to}`);
  }
  async [xr = "created_initialized"](e, ...r) {
    this._status === "CREATED" && (this._createdAt = /* @__PURE__ */ new Date(), this._status = "INITIALIZED", this.emit("onInit"));
  }
  async [Sr = "initialized_executing"](e, ...r) {
    this._status !== "INITIALIZED" && this._status !== "CREATED" || (this._startTime = /* @__PURE__ */ new Date(), this._status = "EXECUTING", this.emit("onExecute"));
  }
  async [Tr = "executing_completed"](e, ...r) {
    this._endTime = /* @__PURE__ */ new Date(), this._status = "COMPLETED", this.emit("onComplete");
  }
  async [Er = "executing_failed"](e, r, ...o2) {
    this._endTime = /* @__PURE__ */ new Date(), this._status = "FAILED", this.emit("onFail");
  }
  async [Ar = "_A_Command_onInit"](e, ...r) {
    await e.transition("CREATED", "INITIALIZED");
  }
  async [yr = "_A_Command_onBeforeExecute"](e, ...r) {
    await e.transition("INITIALIZED", "EXECUTING");
  }
  async [fr = "_A_Command_onExecute"](...e) {
  }
  async [gr = "_A_Command_onAfterExecute"](...e) {
  }
  async [hr = "_A_Command_onComplete"](e, ...r) {
    await e.transition("EXECUTING", "COMPLETED");
  }
  async [mr = "_A_Command_onFail"](e, r, ...o2) {
    await e.transition("EXECUTING", "FAILED");
  }
  async init() {
    await this.call("_A_Command_onInit", this.scope);
  }
  async execute() {
    if (!this.isProcessed) try {
      this.checkScopeInheritance();
      let e = new b2("execute-command");
      this.scope.register(e), await new Promise(async (r, o2) => {
        try {
          let n = new v({ name: "_A_Command_onBeforeExecute", component: this, scope: this.scope }), s = new v({ name: "_A_Command_onExecute", component: this, scope: this.scope }), a2 = new v({ name: "_A_Command_onAfterExecute", component: this, scope: this.scope });
          this.on("onComplete", () => {
            n.interrupt(), s.interrupt(), a2.interrupt(), r();
          }), this.on("onFail", () => {
            n.interrupt(), s.interrupt(), a2.interrupt(), o2(this.error);
          }), await n.process(this.scope), await s.process(this.scope), await a2.process(this.scope), this._origin === "invoked" && await this.complete(), r();
        } catch (n) {
          o2(n);
        }
      });
    } catch (e) {
      let r = e instanceof f ? e : new Y({ title: Y.ExecutionError, description: `An error occurred while executing command "${this.aseid.toString()}".`, originalError: e });
      await this.fail(r);
    }
  }
  async complete(e) {
    this.isProcessed || (this._status = "COMPLETED", this._result = e, await this.call("_A_Command_onComplete", this.scope), this.scope.destroy());
  }
  async fail(e) {
    this.isProcessed || (this._status = "FAILED", e && (this._error = e, this.scope.register(e)), await this.call("_A_Command_onFail", this.scope), this.scope.destroy());
  }
  on(e, r) {
    this._listeners.has(e) || this._listeners.set(e, /* @__PURE__ */ new Set()), this._listeners.get(e).add(r);
  }
  off(e, r) {
    this._listeners.get(e)?.delete(r);
  }
  emit(e) {
    this._listeners.get(e)?.forEach(async (r) => {
      r(this);
    });
  }
  fromNew(e) {
    super.fromNew(e), this._origin = "invoked", this._executionScope = new x({ name: `A-Command-Execution-Scope-${this.aseid.toString()}`, components: [G2] }), this._createdAt = /* @__PURE__ */ new Date(), this._params = e, this._status = "CREATED";
  }
  fromJSON(e) {
    super.fromJSON(e), this._origin = "serialized", this._executionScope = new x({ name: `A-Command-Execution-Scope-${this.aseid.toString()}`, components: [G2] }), e.createdAt && (this._createdAt = new Date(e.createdAt)), e.startedAt && (this._startTime = new Date(e.startedAt)), e.endedAt && (this._endTime = new Date(e.endedAt)), this._params = e.params, this._status = e.status, e.error && (this._error = new Y(e.error)), e.result && (this._result = e.result);
  }
  toJSON() {
    return { ...super.toJSON(), code: this.code, status: this._status, params: this._params, createdAt: this._createdAt.toISOString(), startedAt: this._startTime ? this._startTime.toISOString() : void 0, endedAt: this._endTime ? this._endTime.toISOString() : void 0, duration: this.duration, idleTime: this.idleTime, result: this.result, error: this.error ? this.error.toJSON() : void 0 };
  }
  checkScopeInheritance() {
    let e;
    try {
      e = c.scope(this);
    } catch (r) {
      throw new Y({ title: Y.CommandScopeBindingError, description: `Command ${this.aseid.toString()} is not bound to any context scope. Ensure the command is properly registered within a context before execution.`, originalError: r });
    }
    this.scope.isInheritedFrom(c.scope(this)) || this.scope.inherit(c.scope(this));
  }
}, __name(_a48, "C"), _a48);
i(C, "A_Command"), c2([v.Extend(), l(0, it(N2)), l(1, it(T2))], C.prototype, Cr, 1), c2([v.Extend(), l(0, it(N2))], C.prototype, xr, 1), c2([v.Extend(), l(0, it(N2))], C.prototype, Sr, 1), c2([v.Extend(), l(0, it(N2))], C.prototype, Tr, 1), c2([v.Extend(), l(0, it(N2)), l(1, it(f))], C.prototype, Er, 1), c2([v.Extend(), l(0, it(G2))], C.prototype, Ar, 1), c2([v.Extend({ after: /.*/ }), l(0, ze.Required()), l(0, it(G2))], C.prototype, yr, 1), c2([v.Extend()], C.prototype, fr, 1), c2([v.Extend()], C.prototype, gr, 1), c2([v.Extend({ after: /.*/ }), l(0, it(G2))], C.prototype, hr, 1), c2([v.Extend({ after: /.*/ }), l(0, ze.Required()), l(0, it(G2)), l(1, it(b2))], C.prototype, mr, 1);
var _a49;
var We2 = (_a49 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._fs;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    this._fs = await import("fs");
  }
  initBrowser() {
    this._fs = { readFileSync: i((t, e) => (this.logger.warning("fs.readFileSync not available in browser environment"), ""), "readFileSync"), existsSync: i((t) => (this.logger.warning("fs.existsSync not available in browser environment"), false), "existsSync"), createReadStream: i((t) => (this.logger.warning("fs.createReadStream not available in browser environment"), null), "createReadStream") };
  }
}, __name(_a49, "We"), _a49);
i(We2, "A_FSPolyfillClass");
var Se2 = We2;
var _a50;
var Je = (_a50 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get(t) {
    return this._initialized || (this._fsPolyfill = t, await this.init()), this._crypto;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("crypto");
    this._crypto = { createTextHash: i((e, r = "sha384") => Promise.resolve(`${r}-${t.createHash(r).update(e).digest("base64")}`), "createTextHash"), createFileHash: i((e, r = "sha384") => new Promise(async (o2, n) => {
      try {
        if (!this._fsPolyfill) throw new Error("FS polyfill is required for file hashing");
        let s = t.createHash(r), a2 = this._fsPolyfill.createReadStream(e);
        a2.on("data", (_) => s.update(_)), a2.on("end", () => o2(`${r}-${s.digest("base64")}`)), a2.on("error", (_) => n(_));
      } catch (s) {
        n(s);
      }
    }), "createFileHash") };
  }
  initBrowser() {
    this._crypto = { createFileHash: i(() => (this.logger.warning("File hash not available in browser environment"), Promise.resolve("")), "createFileHash"), createTextHash: i((t, e = "SHA-384") => new Promise(async (r, o2) => {
      try {
        if (!crypto.subtle) throw new Error("SubtleCrypto not available");
        let s = new TextEncoder().encode(t), a2 = await crypto.subtle.digest(e, s), _ = Array.from(new Uint8Array(a2)), d2 = btoa(String.fromCharCode(..._));
        r(`${e}-${d2}`);
      } catch (n) {
        o2(n);
      }
    }), "createTextHash") };
  }
}, __name(_a50, "Je"), _a50);
i(Je, "A_CryptoPolyfillClass");
var xe2 = Je;
var _a51;
var Xe2 = (_a51 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._http;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("http");
    this._http = { request: t.request, get: t.get, createServer: t.createServer };
  }
  initBrowser() {
    this._http = { request: i((t, e) => (this.logger.warning("http.request not available in browser/test environment, use fetch instead"), this.createMockRequest(t, e, false)), "request"), get: i((t, e) => (this.logger.warning("http.get not available in browser/test environment, use fetch instead"), this.createMockRequest(typeof t == "string" ? { hostname: t } : t, e, false)), "get"), createServer: i(() => (this.logger.error("http.createServer not available in browser/test environment"), null), "createServer") };
  }
  createMockRequest(t, e, r = false) {
    return { end: i(() => {
      if (e) {
        let n = { statusCode: 200, headers: {}, on: i((s, a2) => {
          s === "data" ? setTimeout(() => a2("mock data"), 0) : s === "end" && setTimeout(() => a2(), 0);
        }, "on"), pipe: i((s) => {
          s.write && s.write("mock data"), s.end && s.end();
        }, "pipe") };
        setTimeout(() => e(n), 0);
      }
    }, "end"), write: i((n) => {
    }, "write"), on: i((n, s) => {
    }, "on") };
  }
}, __name(_a51, "Xe"), _a51);
i(Xe2, "A_HttpPolyfillClass");
var Ce2 = Xe2;
var _a52;
var Ze2 = (_a52 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._https;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("https");
    this._https = { request: t.request, get: t.get, createServer: t.createServer };
  }
  initBrowser() {
    this._https = { request: i((t, e) => (this.logger.warning("https.request not available in browser/test environment, use fetch instead"), this.createMockRequest(t, e, true)), "request"), get: i((t, e) => (this.logger.warning("https.get not available in browser/test environment, use fetch instead"), this.createMockRequest(typeof t == "string" ? { hostname: t } : t, e, true)), "get"), createServer: i(() => (this.logger.error("https.createServer not available in browser/test environment"), null), "createServer") };
  }
  createMockRequest(t, e, r = true) {
    return { end: i(() => {
      if (e) {
        let n = { statusCode: 200, headers: {}, on: i((s, a2) => {
          s === "data" ? setTimeout(() => a2("mock data"), 0) : s === "end" && setTimeout(() => a2(), 0);
        }, "on"), pipe: i((s) => {
          s.write && s.write("mock data"), s.end && s.end();
        }, "pipe") };
        setTimeout(() => e(n), 0);
      }
    }, "end"), write: i((n) => {
    }, "write"), on: i((n, s) => {
    }, "on") };
  }
}, __name(_a52, "Ze"), _a52);
i(Ze2, "A_HttpsPolyfillClass");
var Re2 = Ze2;
var _a53;
var Qe2 = (_a53 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._path;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    this._path = await import("path");
  }
  initBrowser() {
    this._path = { join: i((...t) => t.join("/").replace(/\/+/g, "/"), "join"), resolve: i((...t) => {
      let e = "";
      for (let r of t) r.startsWith("/") ? e = r : e = this._path.join(e, r);
      return e || "/";
    }, "resolve"), dirname: i((t) => t.split("/").slice(0, -1).join("/") || "/", "dirname"), basename: i((t, e) => {
      let r = t.split("/").pop() || "";
      return e && r.endsWith(e) ? r.slice(0, -e.length) : r;
    }, "basename"), extname: i((t) => {
      let e = t.split(".");
      return e.length > 1 ? "." + e.pop() : "";
    }, "extname"), relative: i((t, e) => e.replace(t, "").replace(/^\//, ""), "relative"), normalize: i((t) => t.replace(/\/+/g, "/").replace(/\/$/, "") || "/", "normalize"), isAbsolute: i((t) => t.startsWith("/") || /^[a-zA-Z]:/.test(t), "isAbsolute"), parse: i((t) => {
      let e = this._path.extname(t), r = this._path.basename(t), o2 = this._path.basename(t, e);
      return { root: "/", dir: this._path.dirname(t), base: r, ext: e, name: o2 };
    }, "parse"), format: i((t) => this._path.join(t.dir || "", t.base || ""), "format"), sep: "/", delimiter: ":" };
  }
}, __name(_a53, "Qe"), _a53);
i(Qe2, "A_PathPolyfillClass");
var we2 = Qe2;
var _a54;
var et2 = (_a54 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._url;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("url");
    this._url = { parse: t.parse, format: t.format, resolve: t.resolve, URL: t.URL || globalThis.URL, URLSearchParams: t.URLSearchParams || globalThis.URLSearchParams };
  }
  initBrowser() {
    this._url = { parse: i((t) => {
      try {
        let e = new URL(t);
        return { protocol: e.protocol, hostname: e.hostname, port: e.port, pathname: e.pathname, search: e.search, hash: e.hash, host: e.host, href: e.href };
      } catch {
        return {};
      }
    }, "parse"), format: i((t) => {
      try {
        return new URL("", t.href || `${t.protocol}//${t.host}${t.pathname}${t.search}${t.hash}`).href;
      } catch {
        return "";
      }
    }, "format"), resolve: i((t, e) => {
      try {
        return new URL(e, t).href;
      } catch {
        return e;
      }
    }, "resolve"), URL: globalThis.URL, URLSearchParams: globalThis.URLSearchParams };
  }
}, __name(_a54, "et"), _a54);
i(et2, "A_UrlPolyfillClass");
var Pe2 = et2;
var _a55;
var tt2 = (_a55 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._buffer;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("buffer");
    this._buffer = { from: t.Buffer.from, alloc: t.Buffer.alloc, allocUnsafe: t.Buffer.allocUnsafe, isBuffer: t.Buffer.isBuffer, concat: t.Buffer.concat };
  }
  initBrowser() {
    this._buffer = { from: i((t, e) => typeof t == "string" ? new TextEncoder().encode(t) : new Uint8Array(t), "from"), alloc: i((t, e) => {
      let r = new Uint8Array(t);
      return e !== void 0 && r.fill(e), r;
    }, "alloc"), allocUnsafe: i((t) => new Uint8Array(t), "allocUnsafe"), isBuffer: i((t) => t instanceof Uint8Array || t instanceof ArrayBuffer, "isBuffer"), concat: i((t, e) => {
      let r = e || t.reduce((s, a2) => s + a2.length, 0), o2 = new Uint8Array(r), n = 0;
      for (let s of t) o2.set(s, n), n += s.length;
      return o2;
    }, "concat") };
  }
}, __name(_a55, "tt"), _a55);
i(tt2, "A_BufferPolyfillClass");
var ve2 = tt2;
var _a56;
var rt2 = (_a56 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._process;
  }
  async init() {
    try {
      c.environment === "server" ? this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  initServer() {
    this._process = { env: process.env, argv: process.argv, platform: process.platform, version: process.version, versions: process.versions, cwd: process.cwd, exit: process.exit, nextTick: process.nextTick };
  }
  initBrowser() {
    this._process = { env: { NODE_ENV: "browser", ...globalThis.process?.env || {} }, argv: ["browser"], platform: "browser", version: "browser", versions: { node: "browser" }, cwd: i(() => "/", "cwd"), exit: i((t) => {
      throw this.logger.warning("process.exit not available in browser"), new Error(`Process exit with code ${t}`);
    }, "exit"), nextTick: i((t, ...e) => {
      setTimeout(() => t(...e), 0);
    }, "nextTick") };
  }
}, __name(_a56, "rt"), _a56);
i(rt2, "A_ProcessPolyfillClass");
var Le2 = rt2;
var _a57;
var f2 = (_a57 = class extends F {
  constructor(e) {
    super();
    this.logger = e;
    this._initializing = null;
  }
  get ready() {
    return this._initialized || (this._initialized = this._loadInternal()), this._initialized;
  }
  async load() {
    await this.ready;
  }
  async attachToWindow() {
    c.environment === "browser" && (globalThis.A_Polyfill = this, globalThis.process = { env: { NODE_ENV: "production" }, cwd: i(() => "/", "cwd") }, globalThis.__dirname = "/");
  }
  async _loadInternal() {
    this._fsPolyfill = new Se2(this.logger), this._cryptoPolyfill = new xe2(this.logger), this._httpPolyfill = new Ce2(this.logger), this._httpsPolyfill = new Re2(this.logger), this._pathPolyfill = new we2(this.logger), this._urlPolyfill = new Pe2(this.logger), this._bufferPolyfill = new ve2(this.logger), this._processPolyfill = new Le2(this.logger), await this._fsPolyfill.get(), await this._cryptoPolyfill.get(await this._fsPolyfill.get()), await this._httpPolyfill.get(), await this._httpsPolyfill.get(), await this._pathPolyfill.get(), await this._urlPolyfill.get(), await this._bufferPolyfill.get(), await this._processPolyfill.get();
  }
  async fs() {
    return await this.ready, await this._fsPolyfill.get();
  }
  async crypto() {
    return await this.ready, await this._cryptoPolyfill.get();
  }
  async http() {
    return await this.ready, await this._httpPolyfill.get();
  }
  async https() {
    return await this.ready, await this._httpsPolyfill.get();
  }
  async path() {
    return await this.ready, await this._pathPolyfill.get();
  }
  async url() {
    return await this.ready, await this._urlPolyfill.get();
  }
  async buffer() {
    return await this.ready, await this._bufferPolyfill.get();
  }
  async process() {
    return await this.ready, await this._processPolyfill.get();
  }
}, __name(_a57, "f"), _a57);
i(f2, "A_Polyfill"), c2([Ne.Load()], f2.prototype, "load", 1), c2([Ne.Load()], f2.prototype, "attachToWindow", 1), f2 = c2([l(0, it(T2))], f2);
var _a58;
var R2 = (_a58 = class extends F {
  constructor(e) {
    super();
    this.polyfill = e;
    this.DEFAULT_ALLOWED_TO_READ_PROPERTIES = [...at, ...Q2];
  }
  async attachContext(e, r, o2) {
    o2 || (o2 = new A2({ defaults: {} }), e.scope.register(o2));
    let n = await this.getProjectRoot();
    o2.set("A_CONCEPT_ROOT_FOLDER", n);
  }
  async initialize(e) {
    let r = await this.read();
    for (let o2 in r) e.set(o2, r[o2]);
  }
  resolve(e) {
    return e;
  }
  async read(e = []) {
    return {};
  }
  async getProjectRoot(e = __dirname) {
    return (await this.polyfill.process()).cwd();
  }
}, __name(_a58, "R"), _a58);
i(R2, "ConfigReader"), c2([Ne.Load(), l(0, it(L)), l(1, it(x)), l(2, it(A2))], R2.prototype, "attachContext", 1), c2([Ne.Load(), l(0, ze.Required()), l(0, it(A2))], R2.prototype, "initialize", 1), R2 = c2([l(0, ze.Required()), l(0, it(f2))], R2);
var _a59;
var ot2 = (_a59 = class extends R2 {
  constructor() {
    super(...arguments);
    this.FileData = /* @__PURE__ */ new Map();
  }
  getConfigurationProperty_File_Alias(e) {
    return y.toCamelCase(e);
  }
  resolve(e) {
    return this.FileData.get(this.getConfigurationProperty_File_Alias(e));
  }
  async read(e) {
    let r = await this.polyfill.fs();
    try {
      let o2 = r.readFileSync(`${c.concept}.conf.json`, "utf8"), n = JSON.parse(o2);
      return this.FileData = new Map(Object.entries(n)), n;
    } catch {
      return {};
    }
  }
}, __name(_a59, "ot"), _a59);
i(ot2, "FileConfigReader");
var me2 = ot2;
var _a60;
var Ie2 = (_a60 = class extends R2 {
  async readEnvFile(t, e, r) {
    let o2 = await e.fs();
    o2.existsSync(".env") && o2.readFileSync(`${t.get("A_CONCEPT_ROOT_FOLDER")}/.env`, "utf-8").split(`
`).forEach((n) => {
      let [s, a2] = n.split("=");
      s && a2 && (process.env[s.trim()] = a2.trim());
    });
  }
  getConfigurationProperty_ENV_Alias(t) {
    return y.toUpperSnakeCase(t);
  }
  resolve(t) {
    return process.env[this.getConfigurationProperty_ENV_Alias(t)];
  }
  async read(t = []) {
    let e = [...t, ...Object.keys(process.env)], r = {};
    return e.forEach((o2) => {
      r[o2] = this.resolve(o2);
    }), r;
  }
}, __name(_a60, "Ie"), _a60);
i(Ie2, "ENVConfigReader"), c2([Ne.Load({ before: ["ENVConfigReader.initialize"] }), l(0, it(A2)), l(1, it(f2)), l(2, it(v))], Ie2.prototype, "readEnvFile", 1);
var re2 = Ie2;
var _a61;
var Oe2 = (_a61 = class extends L {
  async prepare(t) {
    if (!this.scope.has(A2)) {
      let r = new A2({ variables: [...at, ...Q2], defaults: {} });
      this.scope.register(r);
    }
    let e = await t.fs();
    try {
      switch (true) {
        case (c.environment === "server" && !!e.existsSync(`${c.concept}.conf.json`)):
          this.reader = this.scope.resolve(me2);
          break;
        case (c.environment === "server" && !e.existsSync(`${c.concept}.conf.json`)):
          this.reader = this.scope.resolve(re2);
          break;
        case c.environment === "browser":
          this.reader = this.scope.resolve(re2);
          break;
        default:
          throw new $2($2.InitializationError, `Environment ${c.environment} is not supported`);
      }
    } catch (r) {
      if (r instanceof A) throw new $2({ title: $2.InitializationError, description: `Failed to initialize A_ConfigLoader. Reader not found for environment ${c.environment}`, originalError: r });
    }
  }
}, __name(_a61, "Oe"), _a61);
i(Oe2, "A_ConfigLoader"), c2([Ne.Load({ before: /.*/ }), l(0, it(f2))], Oe2.prototype, "prepare", 1);
var be2 = { A_LOGGER_LEVEL: "A_LOGGER_LEVEL", A_LOGGER_DEFAULT_SCOPE_LENGTH: "A_LOGGER_DEFAULT_SCOPE_LENGTH", A_LOGGER_DEFAULT_SCOPE_COLOR: "A_LOGGER_DEFAULT_SCOPE_COLOR", A_LOGGER_DEFAULT_LOG_COLOR: "A_LOGGER_DEFAULT_LOG_COLOR" };
var As = [be2.A_LOGGER_LEVEL, be2.A_LOGGER_DEFAULT_SCOPE_LENGTH, be2.A_LOGGER_DEFAULT_SCOPE_COLOR, be2.A_LOGGER_DEFAULT_LOG_COLOR];
var _a62;
var Ne2 = (_a62 = class extends f {
}, __name(_a62, "Ne"), _a62);
i(Ne2, "A_ManifestError"), Ne2.ManifestInitializationError = "A-Manifest Initialization Error";
var H2 = Ne2;
var _a63;
var st = (_a63 = class {
  constructor(t, e, r, o2 = false) {
    this.manifest = t;
    this.component = e;
    this.method = r;
    this.checkExclusion = o2;
  }
  for(t) {
    let e = this.manifest.internal_checkAccess({ component: this.component, method: this.method, target: t });
    return this.checkExclusion ? !e : e;
  }
}, __name(_a63, "st"), _a63);
i(st, "A_ManifestChecker");
var oe = st;
var _a64;
var ct = (_a64 = class extends B {
  constructor(e = []) {
    super({ name: "A-Manifest" });
    this.rules = [];
    this.prepare(e);
  }
  prepare(e) {
    if (!o.isArray(e)) throw new H2(H2.ManifestInitializationError, "A-Manifest configuration should be an array of configurations");
    for (let r of e) this.processConfigItem(r);
  }
  processConfigItem(e) {
    if (!o.isComponentConstructor(e.component)) throw new H2(H2.ManifestInitializationError, "A-Manifest configuration item should be a A-Component constructor");
    let r = this.constructorToRegex(e.component);
    if (e.apply || e.exclude) {
      let o2 = /.*/;
      this.rules.push({ componentRegex: r, methodRegex: o2, applyRegex: e.apply ? this.allowedComponentsToRegex(e.apply) : void 0, excludeRegex: e.exclude ? this.allowedComponentsToRegex(e.exclude) : void 0 });
    }
    if (e.methods && e.methods.length > 0) for (let o2 of e.methods) {
      let n = this.methodToRegex(o2.method);
      this.rules.push({ componentRegex: r, methodRegex: n, applyRegex: o2.apply ? this.allowedComponentsToRegex(o2.apply) : void 0, excludeRegex: o2.exclude ? this.allowedComponentsToRegex(o2.exclude) : void 0 });
    }
  }
  constructorToRegex(e) {
    return new RegExp(`^${this.escapeRegex(e.name)}$`);
  }
  methodToRegex(e) {
    return e instanceof RegExp ? e : new RegExp(`^${this.escapeRegex(e)}$`);
  }
  allowedComponentsToRegex(e) {
    if (e instanceof RegExp) return e;
    let r = e.map((o2) => this.escapeRegex(o2.name));
    return new RegExp(`^(${r.join("|")})$`);
  }
  escapeRegex(e) {
    return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
  }
  configItemToRegexp(e) {
    return this.constructorToRegex(e);
  }
  ID(e, r) {
    return `${e.name}.${r}`;
  }
  isAllowed(e, r) {
    let o2 = typeof e == "function" ? e : e.constructor;
    return new oe(this, o2, r);
  }
  internal_checkAccess(e) {
    let r = e.component.name, o2 = e.method, n = e.target.name, s = this.rules.filter((a2) => a2.componentRegex.test(r) && a2.methodRegex.test(o2)).sort((a2, _) => {
      let d2 = a2.methodRegex.source === ".*", p = _.methodRegex.source === ".*";
      return d2 && !p ? 1 : !d2 && p ? -1 : 0;
    });
    if (s.length === 0) return true;
    for (let a2 of s) {
      if (a2.excludeRegex && a2.excludeRegex.test(n)) return false;
      if (a2.applyRegex) return a2.applyRegex.test(n);
    }
    return true;
  }
  isExcluded(e, r) {
    let o2 = typeof e == "function" ? e : e.constructor;
    return new oe(this, o2, r, true);
  }
}, __name(_a64, "ct"), _a64);
i(ct, "A_Manifest");
var Qr = ((p) => (p.onInit = "_A_Memory_onInit", p.onDestroy = "_A_Memory_onDestroy", p.onExpire = "_A_Memory_onExpire", p.onError = "_A_Memory_onError", p.onSerialize = "_A_Memory_onSerialize", p.onSet = "_A_Memory_onSet", p.onGet = "_A_Memory_onGet", p.onDrop = "_A_Memory_onDrop", p.onClear = "_A_Memory_onClear", p.onHas = "_A_Memory_onHas", p))(Qr || {});
var _a65;
var lt = (_a65 = class extends B {
  constructor() {
    super(...arguments);
    this._storage = /* @__PURE__ */ new Map();
  }
  set(e, r) {
    this._storage.set(e, r);
  }
  get(e) {
    return this._storage.get(e);
  }
  delete(e) {
    this._storage.delete(e);
  }
  has(e) {
    return this._storage.has(e);
  }
  clear() {
    this._storage.clear();
  }
}, __name(_a65, "lt"), _a65);
i(lt, "A_MemoryContext");
var L2 = lt;
var _a66;
var D2 = (_a66 = class extends f {
}, __name(_a66, "D"), _a66);
i(D2, "A_MemoryError"), D2.MemoryInitializationError = "Memory initialization error", D2.MemoryDestructionError = "Memory destruction error", D2.MemoryGetError = "Memory GET operation failed", D2.MemorySetError = "Memory SET operation failed", D2.MemoryDropError = "Memory DROP operation failed", D2.MemoryClearError = "Memory CLEAR operation failed", D2.MemoryHasError = "Memory HAS operation failed", D2.MemorySerializeError = "Memory toJSON operation failed";
var g2 = D2;
var oo;
var no;
var io;
var so;
var ao;
var co;
var lo;
var _o;
var po;
var _a67;
var I2 = (_a67 = class extends F {
  get ready() {
    return this._ready || (this._ready = this.init()), this._ready;
  }
  async [po = "_A_Memory_onError"](...t) {
  }
  async [_o = "_A_Memory_onExpire"](...t) {
  }
  async [lo = "_A_Memory_onInit"](t, ...e) {
    t || (t = new L2(), c.scope(this).register(t));
  }
  async [co = "_A_Memory_onDestroy"](t, ...e) {
    t.clear();
  }
  async [ao = "_A_Memory_onGet"](t, e, ...r) {
    t.succeed(e.get(t.params.key));
  }
  async [so = "_A_Memory_onHas"](t, e, ...r) {
    t.succeed(e.has(t.params.key));
  }
  async [io = "_A_Memory_onSet"](t, e, r, ...o2) {
    e.set(t.params.key, t.params.value);
  }
  async [no = "_A_Memory_onDrop"](t, e, ...r) {
    e.delete(t.params.key);
  }
  async [oo = "_A_Memory_onClear"](t, e, ...r) {
    e.clear();
  }
  async init() {
    if (this._ready) return this._ready;
    let t = new x({ name: "A-Memory-Init-Scope" }).inherit(c.scope(this));
    try {
      await this.call("_A_Memory_onInit", t);
    } catch (e) {
      let r = new g2({ title: g2.MemoryInitializationError, description: "An error occurred during memory initialization", originalError: e });
      throw t.register(r), await this.call("_A_Memory_onError", t), t.destroy(), r;
    }
  }
  async destroy() {
    let t = new x({ name: "A-Memory-Destroy-Scope" }).inherit(c.scope(this));
    try {
      this._ready = void 0, await this.call("_A_Memory_onDestroy", t);
    } catch (e) {
      let r = new g2({ title: g2.MemoryDestructionError, description: "An error occurred during memory destruction", originalError: e });
      throw t.register(r), await this.call("_A_Memory_onError", t), t.destroy(), r;
    }
  }
  async get(t) {
    let e = new u2("get", { key: t }), r = new x({ name: "A-Memory-Get-Operation-Scope", fragments: [e] }).inherit(c.scope(this));
    try {
      return await this.call("_A_Memory_onGet", r), r.destroy(), e.result;
    } catch (o2) {
      let n = new g2({ title: g2.MemoryGetError, description: `An error occurred while getting the value for key "${String(t)}"`, originalError: o2 });
      throw r.register(n), await this.call("_A_Memory_onError", r), r.destroy(), n;
    }
  }
  async has(t) {
    let e = new u2("has", { key: t }), r = new x({ name: "A-Memory-Has-Operation-Scope", fragments: [e] }).inherit(c.scope(this));
    try {
      return await this.call("_A_Memory_onHas", r), r.destroy(), e.result;
    } catch (o2) {
      let n = new g2({ title: g2.MemoryHasError, description: `An error occurred while checking existence for key "${String(t)}"`, originalError: o2 });
      throw r.register(n), await this.call("_A_Memory_onError", r), r.destroy(), n;
    }
  }
  async set(t, e) {
    let r = new u2("set", { key: t, value: e }), o2 = new x({ name: "A-Memory-Set-Operation-Scope", fragments: [r] }).inherit(c.scope(this));
    try {
      await this.call("_A_Memory_onSet", o2);
    } catch (n) {
      let s = new g2({ title: g2.MemorySetError, description: `An error occurred while setting the value for key "${String(t)}"`, originalError: n });
      throw o2.register(s), await this.call("_A_Memory_onError", o2), o2.destroy(), s;
    }
  }
  async drop(t) {
    let e = new u2("drop", { key: t }), r = new x({ name: "A-Memory-Drop-Operation-Scope", fragments: [e] }).inherit(c.scope(this));
    try {
      await this.call("_A_Memory_onDrop", r);
    } catch (o2) {
      let n = new g2({ title: g2.MemoryDropError, description: `An error occurred while dropping the value for key "${String(t)}"`, originalError: o2 });
      throw r.register(n), await this.call("_A_Memory_onError", r), r.destroy(), n;
    }
  }
  async clear() {
    let t = new u2("clear"), e = new x({ name: "A-Memory-Clear-Operation-Scope", fragments: [t] }).inherit(c.scope(this));
    try {
      await this.call("_A_Memory_onClear", e);
    } catch (r) {
      let o2 = new g2({ title: g2.MemoryClearError, description: "An error occurred while clearing the memory", originalError: r });
      throw e.register(o2), await this.call("_A_Memory_onError", e), e.destroy(), o2;
    }
  }
  async toJSON() {
    let t = new u2("serialize"), e = new x({ name: "A-Memory-Serialize-Operation-Scope", fragments: [t] }).inherit(c.scope(this));
    try {
      return await this.call("_A_Memory_onSerialize", e), t.result;
    } catch (r) {
      let o2 = new g2({ title: g2.MemorySerializeError, description: "An error occurred while serializing the memory", originalError: r });
      throw e.register(o2), await this.call("_A_Memory_onError", e), e.destroy(), o2;
    }
  }
}, __name(_a67, "I"), _a67);
i(I2, "A_Memory"), c2([v.Extend()], I2.prototype, po, 1), c2([v.Extend()], I2.prototype, _o, 1), c2([v.Extend(), l(0, it(L2))], I2.prototype, lo, 1), c2([v.Extend(), l(0, it(L2))], I2.prototype, co, 1), c2([v.Extend(), l(0, ze.Required()), l(0, it(u2)), l(1, it(L2))], I2.prototype, ao, 1), c2([v.Extend(), l(0, ze.Required()), l(0, it(u2)), l(1, it(L2))], I2.prototype, so, 1), c2([v.Extend(), l(0, ze.Required()), l(0, it(u2)), l(1, it(L2)), l(2, it(x))], I2.prototype, io, 1), c2([v.Extend(), l(0, ze.Required()), l(0, it(u2)), l(1, it(L2))], I2.prototype, no, 1), c2([v.Extend(), l(0, ze.Required()), l(0, it(u2)), l(1, it(L2))], I2.prototype, oo, 1);
var uo = ((p) => (p.onBeforeLoad = "_A_Service_onBeforeLoad", p.onLoad = "_A_Service_onLoad", p.onAfterLoad = "_A_Service_onAfterLoad", p.onBeforeStart = "_A_Service_onBeforeStart", p.onStart = "_A_Service_onStart", p.onAfterStart = "_A_Service_onAfterStart", p.onBeforeStop = "_A_Service_onBeforeStop", p.onStop = "_A_Service_onStop", p.onAfterStop = "_A_Service_onAfterStop", p.onError = "_A_Service_onError", p))(uo || {});
var _a68;
var ne = (_a68 = class extends f {
}, __name(_a68, "ne"), _a68);
i(ne, "A_Service_Error"), ne.ServiceLoadError = "Service load error", ne.ServiceStartError = "Service start error", ne.ServiceStopError = "Service stop error";
var S2 = ne;
var go;
var fo;
var yo;
var Ao;
var Eo;
var To;
var So;
var xo;
var Co;
var Ro;
var _a69;
var E = (_a69 = class extends L {
  async load() {
    try {
      await this.call("_A_Service_onBeforeLoad"), await this.call("_A_Service_onLoad"), await this.call("_A_Service_onAfterLoad");
    } catch (t) {
      let e;
      switch (true) {
        case t instanceof S2:
          e = t;
          break;
        case (t instanceof f && t.originalError instanceof S2):
          e = t.originalError;
          break;
        default:
          e = new S2({ title: S2.ServiceLoadError, description: "An error occurred while processing the request.", originalError: t });
          break;
      }
      this.scope.register(e), await this.call("_A_Service_onError");
    }
  }
  async start() {
    try {
      await this.call("_A_Service_onBeforeStart"), await this.call("_A_Service_onStart"), await this.call("_A_Service_onAfterStart");
    } catch (t) {
      let e;
      switch (true) {
        case t instanceof S2:
          e = t;
          break;
        case (t instanceof f && t.originalError instanceof S2):
          e = t.originalError;
          break;
        default:
          e = new S2({ title: S2.ServiceStartError, description: "An error occurred while processing the request.", originalError: t });
          break;
      }
      this.scope.register(e), await this.call("_A_Service_onError");
    }
  }
  async stop() {
    try {
      await this.call("_A_Service_onBeforeStop"), await this.call("_A_Service_onStop"), await this.call("_A_Service_onAfterStop");
    } catch (t) {
      let e;
      switch (true) {
        case t instanceof S2:
          e = t;
          break;
        case (t instanceof f && t.originalError instanceof S2):
          e = t.originalError;
          break;
        default:
          e = new S2({ title: S2.ServiceStopError, description: "An error occurred while processing the request.", originalError: t });
          break;
      }
      this.scope.register(e), await this.call("_A_Service_onError");
    }
  }
  async [Ro = "_A_Service_onBeforeLoad"](t, ...e) {
    t || (this.scope.register(f2), t = this.scope.resolve(f2));
  }
  async [Co = "_A_Service_onLoad"](...t) {
  }
  async [xo = "_A_Service_onAfterLoad"](...t) {
  }
  async [So = "_A_Service_onBeforeStart"](...t) {
  }
  async [To = "_A_Service_onStart"](...t) {
  }
  async [Eo = "_A_Service_onAfterStart"](...t) {
  }
  async [Ao = "_A_Service_onBeforeStop"](...t) {
  }
  async [yo = "_A_Service_onStop"](...t) {
  }
  async [fo = "_A_Service_onAfterStop"](...t) {
  }
  async [go = "_A_Service_onError"](t, e, ...r) {
    e?.error(t);
  }
}, __name(_a69, "E"), _a69);
i(E, "A_Service"), c2([Ne.Load()], E.prototype, "load", 1), c2([Ne.Start()], E.prototype, "start", 1), c2([Ne.Stop()], E.prototype, "stop", 1), c2([v.Extend(), l(0, it(f2))], E.prototype, Ro, 1), c2([v.Extend()], E.prototype, Co, 1), c2([v.Extend()], E.prototype, xo, 1), c2([v.Extend()], E.prototype, So, 1), c2([v.Extend()], E.prototype, To, 1), c2([v.Extend()], E.prototype, Eo, 1), c2([v.Extend()], E.prototype, Ao, 1), c2([v.Extend()], E.prototype, yo, 1), c2([v.Extend()], E.prototype, fo, 1), c2([v.Extend({ before: /.*/ }), l(0, it(f)), l(1, it(T2))], E.prototype, go, 1);
var ut = E;
var _a70;
var ht = (_a70 = class extends B {
  constructor(t) {
    super(), this.url = t instanceof RegExp ? t.source : t;
  }
  get path() {
    let t = this.url.split("?")[0].split("#")[0];
    if (t.includes("://")) {
      let e = t.indexOf("/", t.indexOf("://") + 3);
      if (e === -1) return "/";
      {
        let r = t.slice(e);
        return r.endsWith("/") ? r.slice(0, -1) : r;
      }
    }
    return t.endsWith("/") ? t.slice(0, -1) : t;
  }
  get params() {
    return this.path.match(/:([^\/]+)/g)?.map((t) => t.slice(1)) || [];
  }
  get protocol() {
    switch (true) {
      case this.url.startsWith("http://"):
        return "http";
      case this.url.startsWith("https://"):
        return "https";
      case this.url.startsWith("ws://"):
        return "ws";
      case this.url.startsWith("wss://"):
        return "wss";
      default:
        return this.url.includes("://") ? this.url.split("://")[0] : "http";
    }
  }
  extractParams(t) {
    let r = t.split("?")[0].split("/").filter(Boolean), o2 = this.path.split("/").filter(Boolean), n = {};
    for (let s = 0; s < o2.length; s++) {
      let a2 = o2[s], _ = r[s];
      if (a2.startsWith(":")) {
        let d2 = a2.slice(1);
        n[d2] = _;
      } else if (a2 !== _) return {};
    }
    return n;
  }
  extractQuery(t) {
    let e = {}, r = t.split("?")[1];
    if (!r) return e;
    let o2 = r.split("#")[0];
    for (let n of o2.split("&")) {
      if (!n) continue;
      let [s, a2 = ""] = n.split("=");
      e[decodeURIComponent(s)] = decodeURIComponent(a2);
    }
    return e;
  }
  toString() {
    return `${this.path}`;
  }
  toRegExp() {
    return new RegExp(`^${this.path.replace(/\/:([^\/]+)/g, "/([^/]+)")}$`);
  }
  toAFeatureExtension(t = []) {
    return new RegExp(`^${t.length ? `(${t.join("|")})` : ".*"}\\.${this.path.replace(/\/:([^\/]+)/g, "/([^/]+)")}$`);
  }
}, __name(_a70, "ht"), _a70);
i(ht, "A_Route");
var Po = ((t) => (t.Next = "_A_SignalFeatures_Next", t))(Po || {});
var vo = ((t) => (t.Next = "_A_SignalVectorFeatures_Next", t))(vo || {});
var _a71;
var gt = (_a71 = class extends M {
  static async default() {
  }
  fromJSON(t) {
    super.fromJSON(t), this.data = t.data;
  }
  fromNew(t) {
    this.aseid = this.generateASEID({ entity: t.name }), this.data = t.data;
  }
  async next(t) {
    await this.call("_A_SignalFeatures_Next", t);
  }
  toJSON() {
    return { ...super.toJSON(), data: this.data };
  }
}, __name(_a71, "gt"), _a71);
i(gt, "A_Signal");
var P = gt;
var _a72;
var yt = (_a72 = class extends M {
  fromNew(t) {
    super.fromNew(t), this._structure = t.structure, this._signals = t.values;
  }
  get structure() {
    return this._structure || this._signals.map((t) => t.constructor);
  }
  get length() {
    return this.structure.length;
  }
  [Symbol.iterator]() {
    let t = 0, e = this.structure.map((r) => {
      let o2 = this._signals.findIndex((n) => n.constructor === r);
      return o2 !== -1 ? this._signals[o2] : void 0;
    });
    return { next() {
      return t < e.length ? { done: false, value: e[t++] } : { done: true, value: void 0 };
    } };
  }
  async next(t) {
    return await this.call("_A_SignalVectorFeatures_Next", t);
  }
  has(t) {
    let e;
    return t instanceof M ? e = t.constructor : e = t, this.structure.includes(e);
  }
  get(t) {
    let e;
    t instanceof M ? e = t.constructor : e = t;
    let r = this._signals.findIndex((o2) => o2.constructor === e);
    if (r !== -1) return this._signals[r];
  }
  async toVector(t) {
    return (t || this.structure).map((r) => {
      let o2 = this._signals.findIndex((n) => n.constructor === r);
      return o2 !== -1 ? this._signals[o2] : void 0;
    });
  }
  async toDataVector(t) {
    let e = t || this.structure, r = [];
    for (let o2 of e) {
      let n = this._signals.findIndex((a2) => a2.constructor === o2), s;
      n === -1 ? s = await o2.default() : s = this._signals[n], r.push(s?.toJSON().data);
    }
    return r;
  }
  async toObject(t) {
    let e = t || this.structure, r = {};
    return e.forEach((o2) => {
      let n = o2.name, s = this._signals.findIndex((a2) => a2.constructor === o2);
      if (s !== -1) {
        let a2 = this._signals[s];
        r[n] = a2.toJSON().data;
      } else r[n] = void 0;
    }), r;
  }
  toJSON() {
    return { ...super.toJSON(), structure: this.structure.map((t) => t.name), values: this._signals.map((t) => t.toJSON()) };
  }
}, __name(_a72, "yt"), _a72);
i(yt, "A_SignalVector");
var ge2 = yt;
var _a73;
var At = (_a73 = class extends B {
  constructor(e) {
    super({ name: "A_SignalState" });
    this._state = /* @__PURE__ */ new Map();
    this._structure = e;
  }
  get structure() {
    return this._structure || [];
  }
  set(e, r) {
    let o2 = e instanceof P ? e.constructor : e, n = e instanceof P ? e : r;
    this._state.set(o2, n);
  }
  get(e) {
    let r = e instanceof P ? e.constructor : e;
    return this._state.get(r);
  }
  has(e) {
    let r = e instanceof P ? e.constructor : e;
    return this.structure.includes(r);
  }
  delete(e) {
    let r = e instanceof P ? e.constructor : e;
    return this._state.delete(r);
  }
  toVector() {
    let e = [];
    return this._state.forEach((r, o2) => {
      e.push(r);
    }), new ge2({ structure: this.structure, values: e });
  }
  toObject() {
    let e = {};
    return this.structure.forEach((r) => {
      let o2 = this._state.get(r);
      if (o2 === void 0) throw new Error(`Signal ${r.name} has no value in state`);
      e[r.name] = o2;
    }), e;
  }
}, __name(_a73, "At"), _a73);
i(At, "A_SignalState");
var ie2 = At;
var _a74;
var Et = (_a74 = class extends B {
  get structure() {
    if (this._structure) return this._structure;
    let t = c.scope(this);
    return [...t.allowedEntities].filter((r) => u.isInheritedFrom(r, P)).sort((r, o2) => r.constructor.name.localeCompare(o2.name)).map((r) => t.resolveConstructor(r.name)).filter((r) => r);
  }
  get ready() {
    return this._ready;
  }
  constructor(t) {
    super({ name: "A_SignalConfig" }), this._config = t;
  }
  async initialize() {
    return this._ready || (this._ready = this._initialize()), this._ready;
  }
  async _initialize() {
    if (this._config.structure) this._structure = this._config.structure;
    else if (this._config.stringStructure) {
      let t = this._config.stringStructure.split(",").map((e) => e.trim());
      this._structure = t.map((e) => c.scope(this).resolveConstructor(e)).filter((e) => e);
    }
  }
}, __name(_a74, "Et"), _a74);
i(Et, "A_SignalConfig");
var se2 = Et;
var $o;
var _a75;
var ke2 = (_a75 = class extends F {
  async [$o = "_A_SignalFeatures_Next"](t, e, r, o2, n, s) {
    let a2 = c.scope(this);
    if (s || (s = new se2({ stringStructure: r?.get("A_SIGNAL_VECTOR_STRUCTURE") || void 0 }), a2.register(s)), s.ready || await s.initialize(), n || (n = new ie2(s.structure), a2.register(n)), !n.has(t)) return;
    o2?.debug(`A_SignalBus: Updating state for signal '${t.constructor.name}' with data:`, t.data), n.set(t), await n.toVector().next(e);
  }
}, __name(_a75, "ke"), _a75);
i(ke2, "A_SignalBus"), c2([v.Extend({ scope: [P] }), l(0, it(V)), l(1, it(x)), l(2, it(A2)), l(3, it(T2)), l(4, it(ie2)), l(5, it(se2))], ke2.prototype, $o, 1);
var Tt = ke2;
var _a76;
var St = (_a76 = class {
  constructor() {
    this.promise = new Promise((t, e) => {
      this.resolveFn = t, this.rejectFn = e;
    });
  }
  resolve(t) {
    this.resolveFn(t);
  }
  reject(t) {
    this.rejectFn(t);
  }
}, __name(_a76, "St"), _a76);
i(St, "A_Deferred");
var fe = St;
var _a77;
var xt = (_a77 = class {
  constructor(t, e, r) {
    this.config = { resolveOnClear: false };
    r && (this.config = { ...this.config, ...r }), this.deferred = new fe(), this.timeout = setTimeout(() => e().then((...o2) => this.deferred.resolve(...o2)).catch((...o2) => this.deferred.reject(...o2)), t);
  }
  get promise() {
    return this.deferred.promise;
  }
  clear() {
    this.timeout && (clearTimeout(this.timeout), this.config.resolveOnClear ? this.deferred.resolve(void 0) : this.deferred.reject(new f("Timeout Cleared")));
  }
}, __name(_a77, "xt"), _a77);
i(xt, "A_ScheduleObject");
var ce2 = xt;
var _a78;
var Rt = (_a78 = class extends F {
  async schedule(t, e, r) {
    let o2 = o.isString(t) ? new Date(t).getTime() : t;
    return new ce2(o2 - Date.now(), e, r);
  }
  async delay(t, e, r) {
    return new ce2(t, e, r);
  }
}, __name(_a78, "Rt"), _a78);
i(Rt, "A_Schedule");

// src/components/AreComponent/Are.component.ts
var _Are = class _Are extends F {
  //==================================================================================
  //======================== LIFECYCLE DECORATORS ====================================
  //==================================================================================
  static get EventHandler() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: propertyKey,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeLoad() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onBeforeLoad" /* onBeforeLoad */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterLoad() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onAfterLoad" /* onAfterLoad */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeCompile() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onBeforeCompile" /* onBeforeCompile */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterCompile() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onAfterCompile" /* onAfterCompile */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeMount() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onBeforeMount" /* onBeforeMount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterMount() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onAfterMount" /* onAfterMount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeUnmount() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onBeforeUnmount" /* onBeforeUnmount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterUnmount() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onAfterUnmount" /* onAfterUnmount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeUpdate() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onBeforeUpdate" /* onBeforeUpdate */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterUpdate() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onAfterUpdate" /* onAfterUpdate */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  // ==================================================================================
  // ========================= COMPONENT METHODS =======================================
  // ==================================================================================
  get wrapper() {
    return "";
  }
  /**
   * Returns the template string for the component
   * 
   * Could be overridden to provide dynamic templates based on component state
   * 
   * @returns 
   */
  async template() {
    return ``;
  }
  /**
   * Returns the styles string for the component
   *  
   * Could be overridden to provide dynamic styles based on component state
   * 
   * @returns 
   */
  async styles() {
    return ``;
  }
  /**
   * Returns the data object for the component
   * 
   * Uses as the initial state of the component
   * 
   * @returns 
   */
  async data() {
    return {};
  }
};
__name(_Are, "Are");
var Are = _Are;

// examples/jumpstart/src/components/SignInComponent.component.ts
var _SignInComponent = class _SignInComponent extends Are {
  async data() {
    return {
      btnName: "Sign In"
    };
  }
  async styles() {
    return `
        .card {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            max-width: 300px;
            margin: 0 auto;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position:absolute;
            top:50%;
            left:50%;
            transform: translate(-50%, -50%);
        }
            `;
  }
  async template() {
    return `
              <div class="card">
                <h2>Sign In</h2>
                <input type="email" id="email" placeholder="Email" />
                <input type="password" id="password" placeholder="Password" />
                <a-btn  :name="btnName" :style="{ color: 'red' }"></a-btn>
              </div>
            `;
  }
  // @A_Feature.Extend({
  //     scope: [SignInComponent]
  // })
  // async A_UI_NODE_onBeforeLoad(
  //     @A_Inject(AreNode) node: AreNode,
  //     @A_Inject(A_Scope) scope: A_Scope,
  //     @A_Inject(A_UI_NodeStore) store: A_UI_NodeStore,
  //     @A_Inject(A_Logger) logger: A_Logger,
  // ): Promise<void> {
  //     logger.log('green', `SignInComponent is initializing... : <${node.aseid.entity}> : `, node.aseid.toString());
  //     store.data.set('btnName', 'Custom Sign In Button');
  // }
  // private addListeners(): void {
  //     const btn = document.getElementById("signInBtn") as HTMLButtonElement;
  //     btn.addEventListener("click", () => this.signIn());
  // }
  // private async signIn(): Promise<void> {
  //     const email = (document.getElementById("email") as HTMLInputElement).value;
  //     const password = (document.getElementById("password") as HTMLInputElement).value;
  //     const signInCommand = new SignInCommand({
  //         username: email,
  //         password
  //     });
  //     A_Context.scope(this).register(signInCommand);
  //     await signInCommand.execute();
  //     console.log("SignIn Command Result:", signInCommand.toJSON());
  // }
  // @A_Feature.Extend({
  //     name: A_CommandFeatures.onComplete,
  //     scope: {
  //         include: [SignInCommand]
  //     }
  // })
  // async handleSuccessSignIn(
  //     @A_Inject(A_Memory) memory: A_Memory<{ token: SerializedToken }>,
  //     @A_Inject(A_Caller) command: SignInCommand,
  // ) {
  //     console.log("Sign-in completed with result:", command.result);
  //     alert(command.result)
  //     const resultToken = await memory.get('token')
  //     const token = new Token(resultToken);
  //     memory.set('token', token as any);
  // }
};
__name(_SignInComponent, "SignInComponent");
var SignInComponent = _SignInComponent;

// src/context/AreEvent/AreEvent.context.ts
var _AreEvent = class _AreEvent extends B {
  constructor(eventName, props) {
    super({ name: eventName });
    this._props = props;
    this._node = props.node;
  }
  get node() {
    return this._node;
  }
  get data() {
    return this._props.data;
  }
  get event() {
    return this._props.event;
  }
  bind(node) {
    this._node = node;
  }
};
__name(_AreEvent, "AreEvent");
var AreEvent = _AreEvent;

// src/context/AreIndex/AreIndex.context.ts
var _AreIndex = class _AreIndex extends B {
  constructor(aseid) {
    super({
      name: aseid instanceof I ? aseid.toString() : aseid
    });
    /**
     * Platform-agnostic element index
     * Element can be DOM Element, PDF element, DOCX element, etc.
     * The actual type depends on the compiler being used
     */
    this._index = {
      ASEID_to_Path: /* @__PURE__ */ new Map(),
      Path_to_ASEID: /* @__PURE__ */ new Map(),
      Node_to_Path: /* @__PURE__ */ new Map(),
      Path_to_Node: /* @__PURE__ */ new Map()
    };
  }
  /**
   * Unique hash representing the current state of the index
   * Can be used to identify changes in the index
   */
  get state() {
    const entries = Array.from(this._index.ASEID_to_Path.entries()).sort(([aseidA], [aseidB]) => aseidA.localeCompare(aseidB)).map(([aseid, path]) => `${aseid}:${JSON.stringify(path)}`);
    return entries.join("|");
  }
  get scope() {
    return c.scope(this);
  }
  get parent() {
    return c.scope(this).parent?.resolve(_AreIndex);
  }
  get size() {
    return this._index.ASEID_to_Path.size;
  }
  get nodes() {
    return Array.from(this._index.Node_to_Path.keys());
  }
  get paths() {
    return Array.from(this._index.Path_to_Node.keys());
  }
  get depth() {
    let depth = 0;
    let currentScope = this.scope;
    while (currentScope) {
      depth++;
      currentScope = currentScope.parent;
    }
    return depth;
  }
  /**
   * Adds a platform-agnostic element to the index
   * @param node - AreNode to index
   * @param path - Platform-specific element (DOM, PDF, DOCX, etc.)
   */
  add(node, path) {
    this._index.ASEID_to_Path.set(node.aseid.toString(), path);
    this._index.Path_to_ASEID.set(path, node.aseid.toString());
    this._index.Node_to_Path.set(node, path);
    this._index.Path_to_Node.set(path, node);
  }
  /**
   * Retrieves platform-specific element by AreNode
   * @param node - AreNode to look up
   * @returns Platform-specific element or undefined
   */
  pathOf(node) {
    return this._index.Node_to_Path.get(node);
  }
  /**
   * Retrieves AreNode by platform-specific element
   * @param element - Platform-specific element to look up
   * @returns AreNode or undefined
   */
  nodeOf(path) {
    return this._index.Path_to_Node.get(path);
  }
  /**
   * Removes index entry by AreNode
   * @param node - AreNode to remove from index
   */
  removeByNode(node) {
    const path = this._index.Node_to_Path.get(node);
    if (path) {
      this._index.ASEID_to_Path.delete(node.aseid.toString());
      this._index.Path_to_ASEID.delete(path);
      this._index.Node_to_Path.delete(node);
      this._index.Path_to_Node.delete(path);
    }
  }
  replaceByNode(oldNode, newNode) {
    const path = this._index.Node_to_Path.get(oldNode);
    if (path) {
      this._index.ASEID_to_Path.delete(oldNode.aseid.toString());
      this._index.Path_to_ASEID.set(path, newNode.aseid.toString());
      this._index.Node_to_Path.delete(oldNode);
      this._index.Node_to_Path.set(newNode, path);
      this._index.Path_to_Node.set(path, newNode);
    }
  }
  replaceByElement(oldPath, newPath) {
    const aseid = this._index.Path_to_ASEID.get(oldPath);
    const node = this._index.Path_to_Node.get(oldPath);
    if (aseid && node) {
      this._index.ASEID_to_Path.set(aseid, newPath);
      this._index.Path_to_ASEID.delete(oldPath);
      this._index.Path_to_ASEID.set(newPath, aseid);
      this._index.Node_to_Path.set(node, newPath);
      this._index.Path_to_Node.delete(oldPath);
      this._index.Path_to_Node.set(newPath, node);
    }
  }
  /**
   * Removes index entry by platform-specific element
   * @param path - Platform-specific element to remove from index
   */
  removeByElement(path) {
    const aseid = this._index.Path_to_ASEID.get(path);
    if (aseid) {
      const node = this._index.Path_to_Node.get(path);
      if (node) {
        this._index.ASEID_to_Path.delete(aseid);
        this._index.Path_to_ASEID.delete(path);
        this._index.Node_to_Path.delete(node);
        this._index.Path_to_Node.delete(path);
      }
    }
  }
  clear() {
    this._index.ASEID_to_Path.clear();
    this._index.Path_to_ASEID.clear();
    this._index.Node_to_Path.clear();
    this._index.Path_to_Node.clear();
  }
};
__name(_AreIndex, "AreIndex");
var AreIndex = _AreIndex;

// src/entities/AreNode/AreNode.entity.ts
var _AreNode = class _AreNode extends M {
  get scope() {
    if (!this._scope) {
      this._scope = new x({
        name: `${this.aseid.id}`
      });
    }
    return this._scope;
  }
  get type() {
    return this.aseid.entity;
  }
  fromNew(newEntity) {
    this.aseid = new I({
      id: K.generateTimeId(),
      entity: newEntity.component,
      scope: newEntity.scope
    });
    this.template = newEntity.template || "";
    this.markup = newEntity.markup || "";
    this.styles = newEntity.styles || "";
  }
  fromASEID(aseid) {
    super.fromASEID(aseid);
    this.template = "";
    this.markup = "";
    this.styles = "";
  }
  async emit(event) {
    this.checkScopeInheritance();
    const eventScope = new x({
      name: `${event.name}-scope`,
      fragments: [event]
    }).inherit(this.scope);
    try {
      await this.call("_AreNode_onEvent" /* onEvent */, eventScope);
      eventScope.destroy();
    } catch (error) {
      eventScope.destroy();
      throw error;
    }
  }
  async compile() {
    this.checkScopeInheritance();
    try {
      await this.call("_AreNode_onCompile" /* onCompile */, this.scope);
    } catch (error) {
      throw error;
    }
  }
  async render() {
    this.checkScopeInheritance();
    try {
      await this.call("_AreNode_onRender" /* onRender */, this.scope);
    } catch (error) {
      throw error;
    }
  }
  async update() {
    this.checkScopeInheritance();
    try {
      await this.call("_AreNode_onUpdate" /* onUpdate */, this.scope);
    } catch (error) {
      throw error;
    }
  }
  async mount() {
    this.checkScopeInheritance();
    try {
      await this.call("_AreNode_onMount" /* onMount */, this.scope);
    } catch (error) {
      throw error;
    }
  }
  async load() {
    return await super.load(this.scope);
  }
  async destroy(scope) {
    this.checkScopeInheritance();
    try {
      await super.destroy(scope);
      this.scope.destroy();
    } catch (error) {
      this._scope.destroy();
      throw error;
    }
  }
  //============================================================================================
  //                                Helpers Methods
  //============================================================================================
  /**
   * Method to ensure that the current scope is inherited from the context scope
   * 
   * @throws A_Error if the scope is not inherited from the context scope
   */
  checkScopeInheritance() {
    let attachedScope;
    try {
      attachedScope = c.scope(this);
    } catch (error) {
      throw new f({
        title: `A_UI_Node Scope Inheritance Error`,
        description: `The A_UI_Node entity with ASEID '${this.aseid.toString()}' is not bound to any context scope. Please ensure that the entity is created within a valid context.`,
        originalError: error
      });
    }
  }
};
__name(_AreNode, "AreNode");
var AreNode = _AreNode;

// src/context/AreProps/AreProps.context.ts
var _AreProps = class _AreProps extends b2 {
  constructor(aseid) {
    super(aseid.toString());
  }
  setMultiple(values) {
    Object.entries(values).forEach(([key, value]) => {
      this.set(key, value);
    });
  }
};
__name(_AreProps, "AreProps");
var AreProps = _AreProps;

// src/context/AreStore/AreStore.context.ts
var _AreStore = class _AreStore extends b2 {
  constructor(aseid) {
    super(aseid.toString());
  }
  setMultiple(values) {
    Object.entries(values).forEach(([key, value]) => {
      this.set(key, value);
    });
  }
};
__name(_AreStore, "AreStore");
var AreStore = _AreStore;

// src/entities/AreSceneAction/AreSceneAction.entity.ts
var _AreSceneAction = class _AreSceneAction extends M {
  createHash(str) {
    let hashSource;
    if (str instanceof Map) {
      hashSource = JSON.stringify(Array.from(str.entries()));
    } else if (str instanceof Set) {
      hashSource = JSON.stringify(Array.from(str.values()));
    } else {
      switch (typeof str) {
        case "string":
          hashSource = str;
          break;
        case "undefined":
          hashSource = "undefined";
          break;
        case "object":
          hashSource = JSON.stringify(str);
          break;
        case "number":
          hashSource = str.toString();
          break;
        case "boolean":
          hashSource = str ? "true" : "false";
          break;
        case "function":
          hashSource = str.toString();
          break;
        default:
          hashSource = String(str);
      }
    }
    let hash = 0, i2, chr;
    for (i2 = 0; i2 < hashSource.length; i2++) {
      chr = hashSource.charCodeAt(i2);
      hash = (hash << 5) - hash + chr;
      hash |= 0;
    }
    const hashString = hash.toString();
    return hashString;
  }
  fromNew(newEntity) {
    const identity = newEntity.id || {
      name: newEntity.action,
      node: newEntity.node.aseid.toString()
    };
    const id = this.createHash(identity);
    this.aseid = this.generateASEID({
      entity: y.toKebabCase(newEntity.action),
      id
    });
    this.name = newEntity.action;
    this.node = newEntity.node;
    this.params = newEntity.params;
  }
};
__name(_AreSceneAction, "AreSceneAction");
var AreSceneAction = _AreSceneAction;

// src/context/AreScene/AreScene.context.ts
var _AreScene = class _AreScene extends B {
  constructor(id, template) {
    super({ name: id?.toString() || "are-app" });
    this._template = "";
    this._state = /* @__PURE__ */ new Set();
    this._status = "initialized";
    this._template = (template || "").replace(/\s+/g, " ").trim();
  }
  get id() {
    return this.name;
  }
  /**
   * Get the root scene of the current scene
   */
  get root() {
    let currentScope = this.scope;
    let rootScene = this;
    while (currentScope) {
      const parentScene = currentScope.parent?.resolve(this.constructor);
      if (parentScene) {
        rootScene = parentScene;
      }
      currentScope = currentScope.parent;
    }
    return rootScene;
  }
  get status() {
    return this._status;
  }
  get scope() {
    return c.scope(this);
  }
  get index() {
    return c.scope(this).resolveFlat(AreIndex);
  }
  get parent() {
    return c.scope(this).parent?.resolveFlat(_AreScene);
  }
  get template() {
    return this._template;
  }
  get initialized() {
    return this._status === "initialized";
  }
  get compiled() {
    return this._status === "compiled";
  }
  get rendered() {
    return this._status === "rendered";
  }
  get children() {
    return this.scope.resolveFlatAll(AreNode).map((n) => n.scope.resolveFlat(_AreScene)).filter((s) => !!s);
  }
  get depth() {
    let depth = 0;
    let currentScope = this.scope;
    while (currentScope) {
      if (currentScope.parent && currentScope.parent.resolve(this.constructor)) {
        depth++;
      }
      currentScope = currentScope.parent;
    }
    return depth;
  }
  get actions() {
    return this.scope.resolveFlatAll(AreSceneAction) || [];
  }
  *nodes(filter) {
    for (const path of this.paths()) {
      const node = this.index.nodeOf(path);
      if (!node) {
        continue;
      }
      if (filter && !filter(node)) {
        continue;
      }
      yield node;
    }
  }
  *renderPlanFor(node, filter) {
    const order = filter.order || [];
    const changes = filter.changes || [];
    let plan = this.actions;
    plan = plan.sort((a2, b3) => {
      const aIndex = order.indexOf(a2.name);
      const bIndex = order.indexOf(b3.name);
      return aIndex - bIndex;
    });
    for (const action of plan) {
      if (action.node === node) {
        yield action;
      }
    }
  }
  debug(color, message, ...optionalParams) {
    const logger = this.scope.resolve(T2);
    if (!logger) return;
    logger.debug(
      color,
      `${" - ".repeat(this.depth)}AreScene: [${this.id}] : ${message}`,
      ...optionalParams
    );
  }
  *paths() {
    let paths = this.index.paths;
    paths.sort((a2, b3) => {
      const aParsed = a2.split(".").map((part) => parseInt(part, 10));
      const bParsed = b3.split(".").map((part) => parseInt(part, 10));
      const len = Math.min(aParsed.length, bParsed.length);
      for (let i2 = 0; i2 < len; i2++) {
        if (aParsed[i2] !== bParsed[i2]) {
          return aParsed[i2] - bParsed[i2];
        }
      }
      return aParsed.length - bParsed.length;
    });
    for (const path of paths) {
      yield path;
    }
  }
  plan(action) {
    try {
      this.scope.register(action);
      console.log("\n\n\n\n\nPLANNED:", action);
    } catch (error) {
    }
  }
  unPlan(action) {
    try {
      this.scope.deregister(action);
    } catch (error) {
    }
  }
  attach(node) {
    this.scope.register(node);
    node.scope.inherit(this.scope);
  }
  sceneOf(node) {
    return node.scope.resolveFlat(_AreScene);
  }
  propsOf(node) {
    return node.scope.resolveFlat(AreProps);
  }
  storeOf(node) {
    return node.scope.resolveFlat(AreStore);
  }
  isPlanned(action) {
    return this.scope.resolveFlat(AreSceneAction, {
      query: {
        aseid: action.aseid.toString()
      }
    }) !== void 0;
  }
  isMounted(action) {
    return this._state.has(action);
  }
  mount(action) {
    this._state.add(action);
  }
  unmount(action) {
    this._state.delete(action);
  }
  async clear() {
    this.index.clear();
    this._state.clear();
  }
  async reset(template) {
    this._template = template;
    await this.clear();
  }
  toJSON() {
    return {
      ...super.toJSON(),
      children: Object.fromEntries(
        Array.from(this.children).map((child) => [
          child.id.toString(),
          child.toJSON()
        ])
      )
    };
  }
};
__name(_AreScene, "AreScene");
var AreScene = _AreScene;

// examples/jumpstart/src/components/A-Btn.component.ts
var _ABtn = class _ABtn extends Are {
  async template() {
    return `<button class="a-btn" @click="handleClick"> {{name}} {{number}}</button> <a-input $if="showInput" ></a-input>`;
  }
  async styles() {
    return `
            .a-btn {
                padding: 10px 20px;
                background-color: {{bgColor}}!important;
                color: white;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                font-size: 16px;
            }
        `;
  }
  async data() {
    return {
      name: "A_Button Element",
      showInput: false,
      bgColor: "#007BFF"
    };
  }
  async handleClick(scope, node, store, logger, event, scene) {
    store.set("number", Math.floor(Math.random() * 1e3));
    store.set("name", `Clicked! `);
    store.set("showInput", !store.get("showInput"));
    store.set("bgColor", "#ff5733");
    console.log("event data:", event);
    await node.update();
  }
};
__name(_ABtn, "ABtn");
__decorateClass([
  Are.EventHandler,
  __decorateParam(0, it(x)),
  __decorateParam(1, it(V)),
  __decorateParam(2, it(AreStore)),
  __decorateParam(3, it(T2)),
  __decorateParam(4, it(AreEvent)),
  __decorateParam(5, it(AreScene))
], _ABtn.prototype, "handleClick", 1);
var ABtn = _ABtn;

// examples/jumpstart/src/components/A-Input.component.ts
var _AInput = class _AInput extends Are {
  async template() {
    return `<div><input $no-update @input="onChange" :value="inputValue" type="text" :placeholder="placeholder"> </input>  {{inputValue}}</div>`;
  }
  async data() {
    return {
      placeholder: "A_Input Element",
      inputValue: "Test"
    };
  }
  async A_UI_NODE_onBeforeLoad(node, scope, store, logger) {
    logger.log("green", `AInput is initializing... : <${node.aseid.entity}> : `, node.aseid.toString());
  }
  async onChange(scope, node, store, logger, event, scene) {
    if (event.data.target === null || store.get("inputValue") === event.data.target.value) return;
    logger.log("green", `AInput onChange event triggered... : <${node.aseid.entity}> : `, node.aseid.toString(), event.data.target.value);
    store.set("inputValue", event.data.target.value);
    await node.update();
  }
};
__name(_AInput, "AInput");
__decorateClass([
  Are.EventHandler,
  __decorateParam(0, it(AreNode)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreStore)),
  __decorateParam(3, it(T2))
], _AInput.prototype, "A_UI_NODE_onBeforeLoad", 1);
__decorateClass([
  Are.EventHandler,
  __decorateParam(0, it(x)),
  __decorateParam(1, it(V)),
  __decorateParam(2, it(AreStore)),
  __decorateParam(3, it(T2)),
  __decorateParam(4, it(AreEvent)),
  __decorateParam(5, it(AreScene))
], _AInput.prototype, "onChange", 1);
var AInput = _AInput;

// src/context/AreSyntax/AreSyntax.context.ts
var _AreSyntax = class _AreSyntax extends B {
  constructor(config = {}) {
    super({ name: "AreSyntax" });
    this.STANDARD_HTML_TAGS = /* @__PURE__ */ new Set([
      "html",
      "head",
      "body",
      "div",
      "span",
      "p",
      "a",
      "ul",
      "ol",
      "li",
      "table",
      "thead",
      "tbody",
      "tr",
      "td",
      "th",
      "form",
      "input",
      "button",
      "select",
      "option",
      "textarea",
      "label",
      "img",
      "h1",
      "h2",
      "h3",
      "h4",
      "h5",
      "h6",
      "script",
      "style",
      "link",
      "meta",
      "nav",
      "footer",
      "header",
      "section",
      "article",
      "aside",
      "main",
      "canvas",
      "video",
      "audio",
      "br",
      "hr",
      "strong",
      "em",
      "small",
      "pre",
      "code",
      "iframe",
      "details",
      "summary",
      "svg",
      "path",
      "circle",
      "rect",
      "polygon",
      "g",
      "defs"
    ]);
    this.config = {
      debugMode: config.debugMode || false,
      interpolationDelimiters: config.interpolationDelimiters || ["{{", "}}"],
      bindingDelimiter: config.bindingDelimiter || ":",
      listenerDelimiter: config.listenerDelimiter || "@",
      strictMode: config.strictMode || true,
      customDirectives: config.customDirectives || [],
      trimWhitespace: config.trimWhitespace || true,
      rootTag: config.rootTag || "are-root",
      directiveDelimiter: config.directiveDelimiter || "$"
    };
  }
  isRootNode(node) {
    return node.aseid.entity.toLowerCase() === "are-root";
  }
  /**
   * Determines if a tag is a custom component or standard HTML
   * 
   * @param node 
   * @returns 
   */
  isCustomNode(node) {
    return !this.STANDARD_HTML_TAGS.has(node.aseid.entity.toLowerCase());
  }
  /**
   * Interpolation is a placeholder for dynamic data in the template 
   * Example: {{dataProperty}}
   * 
   * @param template 
   */
  *extractInterpolations(template) {
    const interpolationRegex = new RegExp(`${this.config.interpolationDelimiters[0]}\\s*([a-zA-Z0-9_.$]+)\\s*${this.config.interpolationDelimiters[1]}`, "g");
    let match;
    while ((match = interpolationRegex.exec(template)) !== null) {
      yield { raw: match[0], name: match[1] };
    }
  }
  /**
   * Extracts custom directives from the FIRST/TOP-LEVEL opening tag ONLY.
   * Directives start with `$`
   *
   * Examples:
   *   $if="condition"
   *   $show
   *   $no-update=""
   * 
   * Note: This method intentionally ignores nested elements and only processes
   * the very first opening tag in the provided template string.
   */
  *extractDirectives(template) {
    const trimmedTemplate = template.trim();
    const firstTagMatch = trimmedTemplate.match(
      /^<([a-zA-Z][^\s/>]*)(\s[^>]*?)?>/
    );
    if (!firstTagMatch) return;
    const tag = firstTagMatch[1];
    const attributesPart = firstTagMatch[2];
    if (!attributesPart) return;
    const directiveRegex = /\s+(\$[a-zA-Z0-9_-]+)(?:\s*=\s*(?:"([^"]*)"|'([^']*)'))?/g;
    let match;
    while ((match = directiveRegex.exec(attributesPart)) !== null) {
      const name = match[1];
      if (this.config.customDirectives && this.config.customDirectives.length > 0 && !this.config.customDirectives.includes(name)) {
        continue;
      }
      const raw = match[0];
      const value = match[2] ?? match[3];
      const tagTemplate = firstTagMatch[0];
      yield {
        tag,
        name,
        raw,
        value,
        template: tagTemplate
      };
    }
  }
  /**
   * Extracts component props from the FIRST opening tag.
   *
   * Examples:
   *   label="Click"
   *   :label="'Click Me'"
   *
   * Excludes:
   *   @click
   *   $if
   */
  *extractAttributes(template) {
    const firstTagMatch = template.match(
      /^<([a-zA-Z][^\s/>]*)(\s[^>]*?)?>/
    );
    if (!firstTagMatch) return;
    const tag = firstTagMatch[1];
    const attributesPart = firstTagMatch[2];
    if (!attributesPart) return;
    const propRegex = /\s+(:?)([a-zA-Z][a-zA-Z0-9._-]*)\s*=\s*(?:"([^"]*)"|'([^']*)')/g;
    let match;
    while ((match = propRegex.exec(attributesPart)) !== null) {
      const isBinding = match[1] === ":";
      const name = match[2];
      if (name.startsWith(this.config.listenerDelimiter) || name.startsWith(this.config.directiveDelimiter)) {
        continue;
      }
      const raw = match[0];
      const value = match[3] ?? match[4];
      yield {
        tag,
        name,
        raw,
        value: value || "",
        binding: isBinding
      };
    }
  }
  /**
   * Extracts event listeners from the FIRST/TOP-LEVEL opening tag ONLY in the template.
   * Supports:
   *  - @event="handler"
   *  - @event='handler'
   * 
   * Note: This method intentionally ignores nested elements and only processes
   * the very first opening tag in the provided template string.
   */
  *extractListeners(template) {
    const trimmedTemplate = template.trim();
    const firstTagMatch = trimmedTemplate.match(
      /^<([a-zA-Z][^\s/>]*)(\s[^>]*?)?>/
    );
    if (!firstTagMatch) return;
    const tag = firstTagMatch[1];
    const attributesPart = firstTagMatch[2];
    if (!attributesPart) return;
    const listenerRegex = new RegExp(
      `\\s+${this.config.listenerDelimiter}([a-zA-Z0-9_:-]+)\\s*=\\s*(?:"([^"]*)"|'([^']*)')`,
      "g"
    );
    let match;
    while ((match = listenerRegex.exec(attributesPart)) !== null) {
      const raw = match[0];
      const name = match[1];
      const handler = match[2] ?? match[3] ?? "";
      yield {
        tag,
        name,
        raw,
        handler
      };
    }
  }
  isBindingProp(prop) {
    console.log("Checking if prop is binding:", prop);
    return prop.raw.trim().startsWith(":");
  }
  extractPropValue(prop, parentStore) {
    if (prop.value == null) {
      return void 0;
    }
    if (prop.binding) {
      const value = prop.value.trim();
      if (value.startsWith("'") && value.endsWith("'") || value.startsWith('"') && value.endsWith('"')) {
        return value.slice(1, -1);
      }
      return parentStore?.get(value);
    }
    return prop.value;
  }
  applyDirective(node, template, directive, value) {
    console.log(
      `


=============================
Applying directive '${directive.name}' on <${node.aseid.entity}>
Directive raw: ${directive.raw}


=============================`
    );
    switch (directive.name) {
      // case '$trim': {
      //     return template.replace(directive.raw, '').trim();
      // }
      case "$if": {
        if (value) {
          return template.replace(directive.raw, "");
        } else {
          return template.replace(directive.template, "");
        }
      }
      // case '$no-update': {
      //     return template.replace(directive.raw, '').trim();
      // }
      default: {
        return template;
      }
    }
  }
  // extractPropValue(prop: AreProp, parentStore: AreStore): any {
  //     switch (true) {
  //         case this.isBindingProp(prop) && !(prop.value.startsWith('\'') && prop.value.endsWith('\'')): {
  //             // Dynamic binding (for now only string literals are supported)
  //             // In future it should support expressions and data paths
  //             return parentStore?.get(prop.value);
  //         }
  //         case this.isBindingProp(prop) && (prop.value.startsWith('\'') && prop.value.endsWith('\'')): {
  //             // Static binding
  //             return prop.value.substring(1, prop.value.length - 1);
  //         }
  //         default: {
  //             // Static value
  //             return prop.value;
  //         }
  //     }
  // }
  replaceInterpolation(template, interpolation, value) {
    const key = typeof interpolation === "string" ? interpolation : interpolation.name;
    console.log("Replacing interpolation", key, "with value", value, new RegExp(`${this.config.interpolationDelimiters[0]}\\s*${key}\\s*${this.config.interpolationDelimiters[1]}`, "g"));
    return template.replace(new RegExp(`${this.config.interpolationDelimiters[0]}\\s*${key}\\s*${this.config.interpolationDelimiters[1]}`, "g"), value !== void 0 ? String(value) : "");
  }
};
__name(_AreSyntax, "AreSyntax");
var AreSyntax = _AreSyntax;

// src/components/AreCompiler/AreCompiler.component.ts
var _a79;
var _AreCompiler = class _AreCompiler extends F {
  debug(node, message) {
    const scene = node.scope.resolve(AreScene);
    c.scope(this).resolve(T2)?.debug(
      "magenta",
      `${" - ".repeat(scene.depth)} ${message}`
    );
  }
  async [_a79 = uo.onBeforeLoad](scope, root, config, logger) {
    logger?.debug("cyan", `Initializing AreBrowserDom in AreBrowserCompiler...`);
    const mountPoint = config?.get("ARE_MOUNT_POINT") || "are-app";
    if (!root) {
      scope.register(new AreScene(mountPoint));
      scope.register(new AreIndex(mountPoint));
    }
  }
  async event(node, scope, event, scene, feature, ...args) {
    this.debug(node, `[Event -> Handle] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    if (component) {
      await feature.chain(component, event.name, scope);
    }
  }
  async beforeLoad(node, scope, scene, feature, ...args) {
    this.debug(node, `[Load -> Before] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    if (component)
      await feature.chain(component, "_Are_onBeforeLoad" /* onBeforeLoad */, node.scope);
  }
  async afterLoad(node, scope, scene, feature, ...args) {
    this.debug(node, `[Load -> After] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = this.component(node, scope);
    if (component)
      await feature.chain(component, "_Are_onAfterLoad" /* onAfterLoad */, node.scope);
  }
  component(node, scope) {
    return scope.resolve(y.toPascalCase(node.aseid.entity));
  }
  async load(node, scope, scene, syntax, logger, ...args) {
    const component = this.component(node, scope);
    if (!component) {
      scope.resolve(T2)?.warning(
        "Component Not Found",
        `No component registered for entity: ${node.aseid.entity}. Please ensure that the component is registered in the scope before rendering.`
      );
    }
    const data = await component?.data() || {};
    const template = await component?.template() || "";
    const styles = await component?.styles() || "";
    const newNodeScene = new AreScene(node.aseid, template);
    const newNodeIndex = new AreIndex(node.aseid);
    const newNodeStore = new AreStore(node.aseid);
    const newNodeProps = new AreProps(node.aseid);
    node.scope.register(newNodeScene);
    node.scope.register(newNodeIndex);
    node.scope.register(newNodeStore);
    node.scope.register(newNodeProps);
    const store = scope.resolve(AreStore);
    store.setMultiple(data);
    node.template = template;
    node.styles = styles;
    this.debug(node, `Loaded component <${node.aseid.entity}> with ${this.constructor.name}`);
  }
  async beforeCompile(node, scope, scene, feature, ...args) {
    this.debug(node, `[Compile -> Before] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    if (component)
      await feature.chain(component, "_Are_onBeforeCompile" /* onBeforeCompile */, node.scope);
  }
  async afterCompile(node, scope, scene, feature, ...args) {
    this.debug(node, `[Compile -> After] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    if (component)
      await feature.chain(component, "_Are_onAfterCompile" /* onAfterCompile */, node.scope);
  }
  async compile(node, ...args) {
  }
  async beforeRender(node, scope, scene, feature, ...args) {
    this.debug(node, `[Render -> Before] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    if (component)
      await feature.chain(component, "_Are_onBeforeRender" /* onBeforeRender */, node.scope);
  }
  async afterRender(node, scope, scene, feature, ...args) {
    this.debug(node, `[Render -> After] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    if (component)
      await feature.chain(component, "_Are_onAfterRender" /* onAfterRender */, node.scope);
  }
  async render(node, scene, parentScene, ...args) {
    this.debug(node, `Rendering node <${node.aseid.entity}> into ${scene.name}`);
    for (const newNode of scene.nodes()) {
      scene.attach(newNode);
      await newNode.load();
      await newNode.compile();
    }
    this.debug(node, `Node <${node.aseid.entity}> rendered successfully.`);
  }
  async update(node, scene, ...args) {
  }
  async destroy() {
  }
};
__name(_AreCompiler, "AreCompiler");
__decorateClass([
  v.Extend(),
  __decorateParam(0, ze.Parent()),
  __decorateParam(0, it(x)),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, it(A2)),
  __decorateParam(3, it(T2))
], _AreCompiler.prototype, _a79, 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onEvent" /* onEvent */,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreEvent)),
  __decorateParam(3, it(AreScene)),
  __decorateParam(4, it(v))
], _AreCompiler.prototype, "event", 1);
__decorateClass([
  v.Extend({
    name: Xe.LOAD,
    before: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(v))
], _AreCompiler.prototype, "beforeLoad", 1);
__decorateClass([
  v.Extend({
    name: Xe.LOAD,
    after: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(v))
], _AreCompiler.prototype, "afterLoad", 1);
__decorateClass([
  v.Extend({
    name: Xe.LOAD,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(AreSyntax)),
  __decorateParam(4, it(T2))
], _AreCompiler.prototype, "load", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    before: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(v))
], _AreCompiler.prototype, "beforeCompile", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    after: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(v))
], _AreCompiler.prototype, "afterCompile", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V))
], _AreCompiler.prototype, "compile", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onBeforeRender" /* onBeforeRender */,
    before: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(v))
], _AreCompiler.prototype, "beforeRender", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onAfterRender" /* onAfterRender */,
    after: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(v))
], _AreCompiler.prototype, "afterRender", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onRender" /* onRender */,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, ze.Required()),
  __decorateParam(2, it(AreScene))
], _AreCompiler.prototype, "render", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onUpdate" /* onUpdate */,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(AreScene))
], _AreCompiler.prototype, "update", 1);
__decorateClass([
  v.Extend({
    name: Xe.DESTROY,
    scope: [AreNode]
  })
], _AreCompiler.prototype, "destroy", 1);
var AreCompiler = _AreCompiler;

// src/entities/AreSignal/AreSignal.entity.ts
var _AreSignal = class _AreSignal extends P {
};
__name(_AreSignal, "AreSignal");
var AreSignal = _AreSignal;

// src/signals/AreInit.signal.ts
var _AreInitSignal = class _AreInitSignal extends AreSignal {
  static async default() {
    return new _AreInitSignal({ data: { ready: false } });
  }
};
__name(_AreInitSignal, "AreInitSignal");
var AreInitSignal = _AreInitSignal;

// src/containers/AreApp/AreApp.container.ts
var _a80, _b;
var _AreApp = class _AreApp extends ut {
  get root() {
    return this.scope.resolve(AreScene);
  }
  async [_b = uo.onAfterLoad](logger) {
    logger.info("cyan", `UI Application mounted at <${this.root.name}>`);
  }
  async [_a80 = uo.onStart](logger, scene, compiler, config) {
    const signal = new AreInitSignal({ data: { ready: true } });
    await signal.next(this.scope);
  }
};
__name(_AreApp, "AreApp");
__decorateClass([
  v.Extend(),
  __decorateParam(0, it(T2))
], _AreApp.prototype, _b, 1);
__decorateClass([
  v.Extend(),
  __decorateParam(0, ze.Required()),
  __decorateParam(0, it(T2)),
  __decorateParam(1, ze.Required()),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, it(AreCompiler)),
  __decorateParam(3, it(A2))
], _AreApp.prototype, _a80, 1);
var AreApp = _AreApp;

// src/components/AreBrowserCompiler/AreBrowserCompiler.component.ts
var _a81;
var _AreBrowserCompiler = class _AreBrowserCompiler extends AreCompiler {
  constructor() {
    super(...arguments);
    this.counter = 0;
  }
  async [_a81 = uo.onBeforeLoad](scope, root, config, logger) {
    logger?.debug("cyan", `Initializing AreScene in AreBrowserCompiler...`);
    const mountPointID = config?.get("ARE_MOUNT_POINT") || "are-app";
    if (!root) {
      const mountPointElement = document.getElementById(mountPointID);
      if (!mountPointElement) {
        throw new Error(`Mount point with id '${mountPointID}' not found in the DOM.`);
      }
      scope.register(new AreScene(mountPointID, mountPointElement.innerHTML));
      scope.register(new AreIndex(mountPointID));
      await this.buildSceneIndex(scope.resolve(AreScene));
    }
  }
  async compile(node, scene, parentScene, syntax, scope, props, store, parentStore, logger) {
    this.debug(node, `Compiling node <${node.aseid.entity}> in Scene <${parentScene.name}>`);
    if (node.aseid.entity !== "are-interpolation")
      for (const interpolation of syntax.extractInterpolations(node.template)) {
        node.template = syntax.replaceInterpolation(
          node.template,
          interpolation,
          `<are-interpolation :value="${interpolation.name}"></are-interpolation>`
        );
      }
    let template = node.template || "";
    let styles = node.styles || "";
    for (const attr of syntax.extractAttributes(node.markup)) {
      const name = attr.name;
      const value = (syntax.isBindingProp(attr) ? store.get(attr.value) || parentStore.get(attr.value) : attr.value) || "";
      props.set(name, value);
      parentScene.plan(new AreSceneAction({
        id: [attr, node],
        action: "attribute",
        node,
        params: { name, value }
      }));
    }
    for (const directive of syntax.extractDirectives(node.markup)) {
      let directiveValue;
      if (directive.value) {
        directiveValue = store.get(directive.value) || props.get(directive.value);
      }
      parentScene.plan(new AreSceneAction({
        id: [directive, node],
        action: "directive",
        node,
        params: { directive, value: directiveValue }
      }));
    }
    const mountAction = new AreSceneAction({
      id: ["mount", node],
      action: "mount",
      node,
      params: {}
    });
    if (!parentScene.isPlanned(mountAction)) {
      scene?.debug("red", `AreCompiler: Building Scene Index for <${scene.name}> during compilation of Node <${node.aseid.entity}>`);
      await scene.reset(template);
      await this.buildSceneIndex(scene);
      parentScene.plan(mountAction);
    }
    for (const interpolation of syntax.extractInterpolations(styles)) {
      const value = store.get(interpolation.name);
      styles = syntax.replaceInterpolation(styles, interpolation, value);
    }
    if (styles.trim())
      parentScene.plan(new AreSceneAction({
        id: [styles, node],
        action: "style",
        node,
        params: { styles }
      }));
    for (const listener of syntax.extractListeners(node.markup)) {
      const targetNode = parentScene.scope.parent?.resolve(AreNode, {
        query: {
          aseid: parentScene.name
        }
      });
      const callback = /* @__PURE__ */ __name(async (e) => {
        const newEvent = new AreEvent(listener.handler, {
          event: listener.name,
          data: e
        });
        await targetNode.emit(newEvent);
      }, "callback");
      parentScene.plan(new AreSceneAction({
        id: [node, listener],
        action: "listener",
        node,
        params: {
          listener,
          callback
        }
      }));
    }
    for (const sceneNode of scene.nodes()) {
      const existed = scene.scope.resolveFlat(AreNode, {
        query: {
          aseid: sceneNode.aseid
        }
      });
      if (!existed) {
        scene.attach(sceneNode);
        await sceneNode.load();
      }
      await sceneNode.compile();
    }
  }
  async update(node, scene, logger) {
    logger?.debug(
      "red",
      " ",
      `AreBrowserCompiler: Updating Node <${node.aseid.entity}> in Scene <${scene.name}>`,
      " "
    );
    await node.compile();
    logger?.debug(
      "red",
      " ",
      `AreBrowserCompiler: Node <${node.aseid.entity}> updated successfully.`,
      " "
    );
    await node.mount();
    logger?.debug(
      "red",
      " ",
      `AreBrowserCompiler: Scene <${scene.name}> mounted successfully after Node <${node.aseid.entity}> update.`,
      " "
    );
  }
  async destroy() {
  }
  /**
   * Compute path for DOM element relative to virtual root (legacy method, kept for compatibility)
   * @deprecated Use string-based path computation instead
   */
  computePath(node, virtual) {
    const path = [];
    let current = node;
    while (current && current !== virtual) {
      const parent = current.parentNode;
      if (parent) {
        const index = Array.from(parent.childNodes).filter((n) => n.nodeType === Node.ELEMENT_NODE).indexOf(current);
        path.unshift(index);
      }
      current = parent;
    }
    return path.join(".");
  }
  /**
   * Get DOM element by string path from root element
   * Works with paths generated by the string-based parser
   */
  getElementByPath(root, path) {
    if (!path) {
      return root;
    }
    const indices = path.split(".").map((index) => parseInt(index, 10));
    let current = root;
    for (const index of indices) {
      if (!current) {
        return null;
      }
      const elementChildren = Array.from(current.children).filter((child) => child.nodeType === Node.ELEMENT_NODE);
      if (index >= elementChildren.length) {
        return null;
      }
      current = elementChildren[index];
    }
    return current;
  }
  /**
   * Compute string path for a DOM element relative to a root element
   * This generates the same format as parseHTMLElements uses
   */
  computeStringPath(element, root) {
    if (element === root) {
      return "";
    }
    const path = [];
    let current = element;
    while (current && current !== root) {
      const parent = current.parentElement;
      if (parent) {
        const index = Array.from(parent.children).indexOf(current);
        if (index === -1) {
          return "";
        }
        path.unshift(index);
      }
      current = parent;
    }
    return path.join(".");
  }
  buildSceneIndex(scene) {
    const tempDiv = document.createElement("div");
    tempDiv.innerHTML = scene.template;
    const markupMap = this.createPositionBasedMarkupMap(scene.template);
    this.indexElementsFromDOM(tempDiv, scene, [], markupMap);
  }
  /**
   * Create a position-based mapping by parsing the original template with DOM
   * This ensures 1:1 correspondence between DOM structure and original markup
   */
  createPositionBasedMarkupMap(template) {
    const markupMap = /* @__PURE__ */ new Map();
    const originalDiv = document.createElement("div");
    originalDiv.innerHTML = template;
    this.mapDOMPositions(originalDiv, [], markupMap);
    return markupMap;
  }
  /**
   * Recursively map DOM positions to their exact original markup
   */
  mapDOMPositions(parentElement, parentPath, markupMap) {
    const children = Array.from(parentElement.children);
    for (let i2 = 0; i2 < children.length; i2++) {
      const element = children[i2];
      const currentPath = [...parentPath, i2];
      const pathKey = currentPath.join(".");
      markupMap.set(pathKey, element.outerHTML);
      if (element.children.length > 0) {
        this.mapDOMPositions(element, currentPath, markupMap);
      }
    }
  }
  /**
   * Index elements using actual DOM structure with position-based markup mapping
   */
  indexElementsFromDOM(parentElement, scene, parentPath, markupMap) {
    const children = Array.from(parentElement.children);
    for (let i2 = 0; i2 < children.length; i2++) {
      const element = children[i2];
      const currentPath = [...parentPath, i2];
      const pathKey = currentPath.join(".");
      const originalMarkup = markupMap.get(pathKey);
      const areNode = new AreNode({
        scope: scene.name,
        component: element.tagName.toLowerCase(),
        markup: originalMarkup || element.outerHTML
      });
      scene.index.add(areNode, currentPath.join("."));
      if (element.children.length > 0) {
        this.indexElementsFromDOM(element, scene, currentPath, markupMap);
      }
    }
  }
  async mount(node, scene, parentScene, scope, syntax, logger) {
    const mountPoint = document.getElementById(parentScene.id) || document.querySelector(`[aseid="${parentScene.id}"]`);
    if (!mountPoint) {
      throw new f(`Mount point with id '${parentScene.id}' not found in the DOM.`);
    }
    for (const action of parentScene.renderPlanFor(node, {
      order: ["mount", "style", "listener", "attribute", "directive"]
    })) {
      if (parentScene.isMounted(action)) {
        scene.debug("yellow", `Action '${action.name}' for Node <${node.aseid.entity}> ASEID: ${node.aseid.toString()} already mounted. Skipping...`);
        continue;
      }
      const path = parentScene.index.pathOf(node);
      const element = this.getElementByPath(mountPoint, path);
      scene.debug("red", `Mounting action '${action.name}' for Node <${node.aseid.entity}> ASEID: ${node.aseid.toString()} at path '${path}'`);
      if (!element) {
        throw new f(`Element at path '${path}' not found in the mount point.`);
      }
      switch (action.name) {
        case "mount": {
          if (syntax.isCustomNode(node)) {
            scene.debug("red", `Mounting Node <${node.aseid.entity}> ASEID: ${node.aseid.toString()} at path '${path}'`);
            const wrapper = document.createElement(this.component(node, scope)?.wrapper || "div");
            wrapper.setAttribute("aseid", node.aseid.toString());
            wrapper.innerHTML = scene.template;
            element.replaceWith(wrapper);
          }
          break;
        }
        case "style": {
          const styles = action.params?.styles;
          const styleElementId = `a-style-${node.aseid.entity}`;
          let styleElement = document.querySelector(`#${styleElementId}`);
          if (!styleElement) {
            styleElement = document.createElement("style");
            styleElement.id = styleElementId;
            document.head.appendChild(styleElement);
          }
          styleElement.innerHTML = styles;
          break;
        }
        case "listener": {
          const listener = action.params?.listener;
          const callback = action.params?.callback;
          if (listener && callback) {
            scene.debug("green", `Mounting listener '${listener.name}' for target <${node.aseid.entity}> ASEID: ${node.aseid.toString()}`);
            element.addEventListener(listener.name, callback);
          }
          break;
        }
        case "attribute": {
          const name = action.params?.name;
          const value = action.params?.value;
          if (name) {
            element.setAttribute(name, value);
          }
          break;
        }
        case "directive":
          break;
        default:
          break;
      }
      if (node.type !== "are-interpolation" && action.name === "mount")
        parentScene.mount(action);
    }
    for (const child of scene.nodes()) {
      await child.mount();
    }
  }
  async renderScene(vector, scene, logger, syntax) {
    try {
      logger?.debug(
        "red",
        " ",
        `AreCompiler: Rendering Scene <${scene.name}>`,
        " "
      );
      for (const newNode of scene.nodes()) {
        console.log("\n===============================\n\nWTF??? ", newNode, scene, "\n\n===============================\n");
        scene.attach(newNode);
        await newNode.load();
        await newNode.compile();
        await newNode.mount();
        console.log("\n===============================\n\nMounted Node ", newNode, scene, "\n\n===============================\n");
      }
    } catch (error) {
      logger.error(error);
    }
  }
};
__name(_AreBrowserCompiler, "AreBrowserCompiler");
__decorateClass([
  v.Extend(),
  __decorateParam(0, ze.Parent()),
  __decorateParam(0, it(x)),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, it(A2)),
  __decorateParam(3, it(T2))
], _AreBrowserCompiler.prototype, _a81, 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, ze.Flat()),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, ze.Parent()),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(AreSyntax)),
  __decorateParam(4, it(x)),
  __decorateParam(5, it(AreProps)),
  __decorateParam(6, it(AreStore)),
  __decorateParam(7, ze.Parent()),
  __decorateParam(7, it(AreStore)),
  __decorateParam(8, it(T2))
], _AreBrowserCompiler.prototype, "compile", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onUpdate" /* onUpdate */,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, it(T2))
], _AreBrowserCompiler.prototype, "update", 1);
__decorateClass([
  v.Extend({
    name: Xe.DESTROY,
    scope: [AreNode]
  })
], _AreBrowserCompiler.prototype, "destroy", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onMount" /* onMount */,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, ze.Flat()),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, ze.Parent()),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(x)),
  __decorateParam(4, it(AreSyntax)),
  __decorateParam(5, it(T2))
], _AreBrowserCompiler.prototype, "mount", 1);
__decorateClass([
  v.Extend({
    name: vo.Next
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, it(T2)),
  __decorateParam(3, it(AreSyntax))
], _AreBrowserCompiler.prototype, "renderScene", 1);
var AreBrowserCompiler = _AreBrowserCompiler;

// src/components/AreSlot/AreSlot.component.ts
var _a82;
var _AreSlot = class _AreSlot extends Are {
  async template() {
    return `<div>Are Slot Component</div>`;
  }
  async [_a82 = vo.Next](vector) {
    console.log("AreSlot Signal Vector Emitted:", vector);
  }
  // @A_Feature.Extend({
  //     name: AreNodeFeatures.onCompile,
  //     scope: [AreNode]
  // })
  // async compile(
  //     @A_Inject(A_Caller) node: AreNode,
  //     @A_Inject(AreScene) scene: AreScene,
  //     @A_Inject(A_Logger) logger: A_Logger,
  //     @A_Inject(A_SignalState) signalState?: A_SignalState,
  // ) {
  //     const vector = await signalState?.toVector().toDataVector()
  //     logger.debug('red',
  //         '================================================================',
  //         `Compiling AreSlot Component at Scene: <${scene.name}>`,
  //         '================================================================',
  //         vector
  //     )
  // }
};
__name(_AreSlot, "AreSlot");
__decorateClass([
  v.Extend(),
  __decorateParam(0, it(ge2))
], _AreSlot.prototype, _a82, 1);
var AreSlot = _AreSlot;

// src/components/AreRoot/AreRoot.component.ts
var _AreRoot = class _AreRoot extends Are {
  async template() {
    return `<div> Are Root Component</div>`;
  }
};
__name(_AreRoot, "AreRoot");
var AreRoot = _AreRoot;

// src/components/AreInterpolation/AreInterpolation.component.ts
var _AreInterpolation = class _AreInterpolation extends Are {
  get wrapper() {
    return "span";
  }
  async template() {
    return ``;
  }
  async onAfterCompile(node, scene, logger, props) {
    logger.info("blue", `AreInterpolation onAfterCompile called... : <${node.aseid.entity}> : `, node.aseid.toString(), props);
    await scene.reset(props.get("value"));
  }
};
__name(_AreInterpolation, "AreInterpolation");
__decorateClass([
  Are.onAfterCompile,
  __decorateParam(0, it(V)),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, it(T2)),
  __decorateParam(3, it(AreProps))
], _AreInterpolation.prototype, "onAfterCompile", 1);
var AreInterpolation = _AreInterpolation;

// examples/jumpstart/src/concept.ts
(async () => {
  try {
    const container = new AreApp({
      name: "ARE Jumpstart",
      components: [
        // ----------------------------------
        // Allowed Entities 
        // ----------------------------------
        // ............
        // ----------------------------------
        // Allowed Commands 
        // ----------------------------------
        // ............
        // ----------------------------------
        // UI Components 
        // ----------------------------------
        SignInComponent,
        ABtn,
        AInput,
        AreSlot,
        Tt,
        AreRoot,
        AreInterpolation,
        // ----------------------------------
        // Addons 
        // ----------------------------------
        f2,
        R2,
        // A_ServerProxy
        AreBrowserCompiler,
        T2
      ],
      entities: [
        // ............
        AreInitSignal
      ],
      fragments: [
        new A2({
          defaults: {
            A_UI_MOUNT_POINT: "a-root",
            [de2.LOG_LEVEL]: "debug"
          }
        }),
        new AreSyntax()
      ]
    });
    const concept = new Ne({
      name: "adaas-are-example-jumpstart",
      fragments: [new A2({
        variables: ["CONFIG_VERBOSE", "DEV_MODE"],
        defaults: {
          CONFIG_VERBOSE: true,
          DEV_MODE: true
        }
      })],
      components: [T2, R2, f2],
      containers: [container]
    });
    await concept.load();
    await concept.start();
  } catch (error) {
    const logger = c.root.resolve(T2);
    logger.error(error);
  }
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2NvbnN0YW50cy9lbnYuY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS50eXBlcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtTWV0YS9BLU1ldGEuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5tZXRhLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5tZXRhLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9oZWxwZXJzL0FfRm9ybWF0dGVyLmhlbHBlci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvaGVscGVycy9BX0lkZW50aXR5LmhlbHBlci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRXJyb3IvQV9FcnJvci5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUVycm9yL0FfRXJyb3IuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BU0VJRC9BU0VJRC5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0FTRUlEL0FTRUlELmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1FbnRpdHkvQS1FbnRpdHkuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRW50aXR5L0EtRW50aXR5Lm1ldGEudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUZyYWdtZW50L0EtRnJhZ21lbnQuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2hlbHBlcnMvQV9Db21tb24uaGVscGVyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1TY29wZS9BLVNjb3BlLmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1TY29wZS9BLVNjb3BlLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1DYWxsZXIvQV9DYWxsZXIuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNhbGxlci9BX0NhbGxlci5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRmVhdHVyZS9BLUZlYXR1cmUtRGVmaW5lLmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRmVhdHVyZS9BLUZlYXR1cmUtRXh0ZW5kLmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RhZ2UvQS1TdGFnZS50eXBlcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RhZ2UvQS1TdGFnZS5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RhZ2UvQS1TdGFnZS5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RlcE1hbmFnZXIvQS1TdGVwTWFuYWdlci5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RlcE1hbmFnZXIvQS1TdGVwTWFuYWdlci5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRmVhdHVyZS9BLUZlYXR1cmUuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1BYnN0cmFjdGlvbi9BLUFic3RyYWN0aW9uLmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1BYnN0cmFjdGlvbi9BLUFic3RyYWN0aW9uLUV4dGVuZC5kZWNvcmF0b3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUFic3RyYWN0aW9uL0EtQWJzdHJhY3Rpb24uY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbmNlcHQvQS1Db25jZXB0LmNvbnN0YW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtQ29uY2VwdC9BLUNvbmNlcHQuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbmNlcHQvQS1Db25jZXB0Lm1ldGEudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLURlcGVuZGVuY3kvQS1EZXBlbmRlbmN5LmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1EZXBlbmRlbmN5L0EtRGVwZW5kZW5jeS1EZWZhdWx0LmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRGVwZW5kZW5jeS9BLURlcGVuZGVuY3ktRmxhdC5kZWNvcmF0b3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLURlcGVuZGVuY3kvQS1EZXBlbmRlbmN5LUxvYWQuZGVjb3JhdG9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1EZXBlbmRlbmN5L0EtRGVwZW5kZW5jeS1QYXJlbnQuZGVjb3JhdG9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1EZXBlbmRlbmN5L0EtRGVwZW5kZW5jeS1SZXF1aXJlLmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRGVwZW5kZW5jeS9BLURlcGVuZGVuY3kuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUluamVjdC9BLUluamVjdC5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtSW5qZWN0L0EtSW5qZWN0LmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNoYW5uZWwvQS1DaGFubmVsLmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUV4ZWN1dGlvbi9BLUV4ZWN1dGlvbi5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtT3BlcmF0aW9uL0EtT3BlcmF0aW9uLmNvbnRleHQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1DaGFubmVsL0EtQ2hhbm5lbC5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNoYW5uZWwvQS1DaGFubmVsLmNvbnN0YW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNoYW5uZWwvQS1DaGFubmVsUmVxdWVzdC5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29tbWFuZC9BLUNvbW1hbmQuY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29tbWFuZC9BLUNvbW1hbmQuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TdGF0ZU1hY2hpbmUvQS1TdGF0ZU1hY2hpbmUuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TdGF0ZU1hY2hpbmUvQS1TdGF0ZU1hY2hpbmUuY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU3RhdGVNYWNoaW5lL0EtU3RhdGVNYWNoaW5lVHJhbnNpdGlvbi5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU3RhdGVNYWNoaW5lL0EtU3RhdGVNYWNoaW5lLmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNvbmZpZy9BLUNvbmZpZy5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db25maWcvQS1Db25maWcuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db25maWcvQS1Db25maWcuY29udGV4dC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUxvZ2dlci9BLUxvZ2dlci5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29tbWFuZC9BLUNvbW1hbmQuZW50aXR5LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLUZTLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLUNyeXB0by1Qb2x5ZmlsbC5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVBvbHlmaWxsL2NsYXNzZXMvQS1IdHRwLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLUh0dHBzLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLVBhdGgtUG9seWZpbGwuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Qb2x5ZmlsbC9jbGFzc2VzL0EtVXJsLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLUJ1ZmZlci1Qb2x5ZmlsbC5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVBvbHlmaWxsL2NsYXNzZXMvQS1Qcm9jZXNzLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvQS1Qb2x5ZmlsbC5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db25maWcvY29tcG9uZW50cy9Db25maWdSZWFkZXIuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29uZmlnL2NvbXBvbmVudHMvRmlsZUNvbmZpZ1JlYWRlci5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db25maWcvY29tcG9uZW50cy9FTlZDb25maWdSZWFkZXIuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29uZmlnL0EtQ29uZmlnLmNvbnRhaW5lci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNvbmZpZy9BLUNvbmZpZy50eXBlcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUxvZ2dlci9BLUxvZ2dlci5lbnYudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1NYW5pZmVzdC9BLU1hbmlmZXN0LmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtTWFuaWZlc3QvY2xhc3Nlcy9BLU1hbmlmZXN0Q2hlY2tlci5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLU1hbmlmZXN0L0EtTWFuaWZlc3QuY29udGV4dC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLU1lbW9yeS9BLU1lbW9yeS5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1NZW1vcnkvQS1NZW1vcnkuY29udGV4dC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLU1lbW9yeS9BLU1lbW9yeS5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLU1lbW9yeS9BLU1lbW9yeS5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TZXJ2aWNlL0EtU2VydmljZS5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TZXJ2aWNlL0EtU2VydmljZS5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVNlcnZpY2UvQS1TZXJ2aWNlLmNvbnRhaW5lci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVJvdXRlL0EtUm91dGUuZW50aXR5LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU2lnbmFsL0EtU2lnbmFsLmNvbnN0YW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVNpZ25hbC9lbnRpdGllcy9BLVNpZ25hbC5lbnRpdHkudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TaWduYWwvZW50aXRpZXMvQS1TaWduYWxWZWN0b3IuZW50aXR5LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU2lnbmFsL2NvbnRleHQvQS1TaWduYWxTdGF0ZS5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU2lnbmFsL2NvbnRleHQvQS1TaWduYWxDb25maWcuY29udGV4dC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVNpZ25hbC9jb21wb25lbnRzL0EtU2lnbmFsQnVzLmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVNjaGVkdWxlL0EtRGVmZXJyZWQuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TY2hlZHVsZS9BLVNjaGVkdWxlT2JqZWN0LmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU2NoZWR1bGUvQS1TY2hlZHVsZS5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQXJlQ29tcG9uZW50L0FyZS5jb21wb25lbnQudHMiLCAiLi4vc3JjL2NvbXBvbmVudHMvU2lnbkluQ29tcG9uZW50LmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9zcmMvY29udGV4dC9BcmVFdmVudC9BcmVFdmVudC5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL3NyYy9jb250ZXh0L0FyZUluZGV4L0FyZUluZGV4LmNvbnRleHQudHMiLCAiLi4vLi4vLi4vc3JjL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHkudHMiLCAiLi4vLi4vLi4vc3JjL2NvbnRleHQvQXJlUHJvcHMvQXJlUHJvcHMuY29udGV4dC50cyIsICIuLi8uLi8uLi9zcmMvY29udGV4dC9BcmVTdG9yZS9BcmVTdG9yZS5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL3NyYy9lbnRpdGllcy9BcmVTY2VuZUFjdGlvbi9BcmVTY2VuZUFjdGlvbi5lbnRpdHkudHMiLCAiLi4vLi4vLi4vc3JjL2NvbnRleHQvQXJlU2NlbmUvQXJlU2NlbmUuY29udGV4dC50cyIsICIuLi9zcmMvY29tcG9uZW50cy9BLUJ0bi5jb21wb25lbnQudHMiLCAiLi4vc3JjL2NvbXBvbmVudHMvQS1JbnB1dC5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vc3JjL2NvbnRleHQvQXJlU3ludGF4L0FyZVN5bnRheC5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0FyZUNvbXBpbGVyL0FyZUNvbXBpbGVyLmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9zcmMvZW50aXRpZXMvQXJlU2lnbmFsL0FyZVNpZ25hbC5lbnRpdHkudHMiLCAiLi4vLi4vLi4vc3JjL3NpZ25hbHMvQXJlSW5pdC5zaWduYWwudHMiLCAiLi4vLi4vLi4vc3JjL2NvbnRhaW5lcnMvQXJlQXBwL0FyZUFwcC5jb250YWluZXIudHMiLCAiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQXJlQnJvd3NlckNvbXBpbGVyL0FyZUJyb3dzZXJDb21waWxlci5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQXJlU2xvdC9BcmVTbG90LmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9BcmVSb290L0FyZVJvb3QuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0FyZUludGVycG9sYXRpb24vQXJlSW50ZXJwb2xhdGlvbi5jb21wb25lbnQudHMiLCAiLi4vc3JjL2NvbmNlcHQudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImV4cG9ydCBjb25zdCBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTID0ge1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBBLUNvbmNlcHQgQ29yZSBFbnZpcm9ubWVudCBWYXJpYWJsZXNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gVGhlc2UgZW52aXJvbm1lbnQgdmFyaWFibGVzIGFyZSB1c2VkIGJ5IEEtQ29uY2VwdCBjb3JlIHRvIGNvbmZpZ3VyZSB0aGUgYXBwbGljYXRpb25cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogTmFtZSBvZiB0aGUgYXBwbGljYXRpb25cbiAgICAgKiBcbiAgICAgKiBERUZBVUxUIHZhbHVlIGlzICdhLWNvbmNlcHQnXG4gICAgICogXG4gICAgICogWyFdIFByb3ZpZGVkIG5hbWUgd2lsbCBiZSB1c2VkIGZvciBhbGwgYXNlaWRzIGluIHRoZSBhcHBsaWNhdGlvbiBieSBkZWZhdWx0XG4gICAgICovXG4gICAgQV9DT05DRVBUX05BTUU6ICdBX0NPTkNFUFRfTkFNRScsXG4gICAgLyoqXG4gICAgICogUm9vdCBzY29wZSBvZiB0aGUgYXBwbGljYXRpb25cbiAgICAgKiBcbiAgICAgKiBERUZBVUxUIHZhbHVlIGlzICdyb290J1xuICAgICAqIFxuICAgICAqIFshXSBQcm92aWRlZCBuYW1lIHdpbGwgYmUgdXNlZCBmb3IgYWxsIGFzZWlkcyBpbiB0aGUgYXBwbGljYXRpb24gYnkgZGVmYXVsdFxuICAgICAqL1xuICAgIEFfQ09OQ0VQVF9ST09UX1NDT1BFOiAnQV9DT05DRVBUX1JPT1RfU0NPUEUnLFxuICAgIC8qKlxuICAgICAqIEVudmlyb25tZW50IG9mIHRoZSBhcHBsaWNhdGlvbiBlLmcuIGRldmVsb3BtZW50LCBwcm9kdWN0aW9uLCBzdGFnaW5nXG4gICAgICovXG4gICAgQV9DT05DRVBUX0VOVklST05NRU5UOiAnQV9DT05DRVBUX0VOVklST05NRU5UJyxcbiAgICAvKipcbiAgICAgKiBSb290IGZvbGRlciBvZiB0aGUgYXBwbGljYXRpb25cbiAgICAgKiBbIV0gQXV0b21hdGljYWxseSBzZXQgYnkgQS1Db25jZXB0IHdoZW4gdGhlIGFwcGxpY2F0aW9uIHN0YXJ0c1xuICAgICAqL1xuICAgIEFfQ09OQ0VQVF9ST09UX0ZPTERFUjogJ0FfQ09OQ0VQVF9ST09UX0ZPTERFUicsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGRlZmluZSBhIGRlZmF1bHQgZXJyb3IgZGVzY3JpcHRpb24gZm9yIGVycm9ycyB0aHJvd24gd2l0aG91dCBhIGRlc2NyaXB0aW9uXG4gICAgICovXG4gICAgQV9FUlJPUl9ERUZBVUxUX0RFU0NSSVBUSU9OOiAnQV9FUlJPUl9ERUZBVUxUX0RFU0NSSVBUSU9OJyxcbn0gYXMgY29uc3RcblxuXG4vL3Nob3VsZCBiZSBhbiBhcnJheVxuZXhwb3J0IHR5cGUgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlcyA9ICh0eXBlb2YgQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUylba2V5b2YgdHlwZW9mIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNdW107XG5cblxuZXhwb3J0IGNvbnN0IEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVkgPSBbXG4gICAgQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0NPTkNFUFRfTkFNRSxcbiAgICBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTLkFfQ09OQ0VQVF9ST09UX1NDT1BFLFxuICAgIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMuQV9DT05DRVBUX0VOVklST05NRU5ULFxuICAgIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMuQV9DT05DRVBUX1JPT1RfRk9MREVSLFxuXG4gICAgQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0VSUk9SX0RFRkFVTFRfREVTQ1JJUFRJT04sXG5dIGFzIGNvbnN0O1xuXG4iLCAiaW1wb3J0IHsgQV9UWVBFU19fQV9TdGFnZVN0ZXAsIEFfVFlQRVNfU3RhZ2VFeGVjdXRpb25CZWhhdmlvciB9IGZyb20gXCIuLi9BLVN0YWdlL0EtU3RhZ2UudHlwZXNcIlxuaW1wb3J0IHsgQV9GcmFnbWVudCB9IGZyb20gXCIuLi9BLUZyYWdtZW50L0EtRnJhZ21lbnQuY2xhc3NcIlxuaW1wb3J0IHsgQV9FbnRpdHkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1FbnRpdHkvQS1FbnRpdHkuY2xhc3NcIlxuaW1wb3J0IHsgQV9Db250YWluZXIgfSBmcm9tIFwiLi4vQS1Db250YWluZXIvQS1Db250YWluZXIuY2xhc3NcIlxuaW1wb3J0IHsgQV9Db21wb25lbnQgfSBmcm9tIFwiLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQuY2xhc3NcIlxuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LnR5cGVzXCJcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lcl9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci50eXBlc1wiXG5pbXBvcnQgeyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vQS1FbnRpdHkvQS1FbnRpdHkudHlwZXNcIlxuaW1wb3J0IHsgQV9GZWF0dXJlIH0gZnJvbSBcIi4vQS1GZWF0dXJlLmNsYXNzXCJcbmltcG9ydCB7IEFfVFlQRVNfX1JlcXVpcmVkIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvdHlwZXMvQV9Db21tb24udHlwZXNcIlxuaW1wb3J0IHsgQV9TY29wZSB9IGZyb20gXCIuLi9BLVNjb3BlL0EtU2NvcGUuY2xhc3NcIlxuaW1wb3J0IHsgQV9TdGFnZSB9IGZyb20gXCIuLi9BLVN0YWdlL0EtU3RhZ2UuY2xhc3NcIlxuaW1wb3J0IHsgQV9UWVBFU19fRXJyb3JfSW5pdCB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IudHlwZXNcIlxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBQcmltYXJ5IFR5cGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8qKlxuICogRmVhdHVyZSBjb25zdHJ1Y3RvciB0eXBlXG4gKiBVc2VzIHRoZSBnZW5lcmljIHR5cGUgVCB0byBzcGVjaWZ5IHRoZSB0eXBlIG9mIHRoZSBmZWF0dXJlXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVfQ29uc3RydWN0b3I8VCA9IEFfRmVhdHVyZT4gPSBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUO1xuLyoqXG4gKiBGZWF0dXJlIGluaXRpYWxpemF0aW9uIHR5cGVcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZV9Jbml0PFQgZXh0ZW5kcyBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyA9IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzPiA9IEFfVFlQRVNfX0ZlYXR1cmVfSW5pdFdpdGhDb21wb25lbnQ8VD4gfCBBX1RZUEVTX19GZWF0dXJlX0luaXRXaXRoVGVtcGxhdGU8VD5cbi8qKlxuICogRmVhdHVyZSBpbml0aWFsaXphdGlvbiB0eXBlIHVzaW5nIGNvbXBvbmVudFxuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlX0luaXRXaXRoQ29tcG9uZW50PFQgZXh0ZW5kcyBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyA9IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzPiA9IHtcbiAgICAvKipcbiAgICAgKiBGZWF0dXJlIE5hbWVcbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgLyoqXG4gICAgICogVGhlIGNvbXBvbmVudCBmcm9tIHdoZXJlIHRoZSBmZWF0dXJlIGlzIGNhbGxpbmcuIEl0J3MgaW1wb3J0YW50IGZvciBwcm9wZXIgc2NvcGluZy4gXG4gICAgICogQmFzZWQgb24gdGhlIGNvbXBvbmVudCB3b3VsZCBiZSByZXRyaWV2ZWQgY29ubmVjdGVkIGNvbXBvbmVudHMsIGVudGl0aWVzIGFuZCBjb250YWluZXJzLlxuICAgICAqIFxuICAgICAqIFshXSBDb3VsZCBiZSBDb250YWluZXIsIEVudGl0eSwgQ29tcG9uZW50IG9yIENvbW1hbmRcbiAgICAgKi9cbiAgICBjb21wb25lbnQ6IFQsXG5cbiAgICAvKipcbiAgICAgKiBJbiBjYXNlIHdoZW4gRW50aXR5IGlzIG5vdCBhdHRhY2hlZCB0byB0aGUgc2NvcGUgY2FuIGJlIHVzZWQgdG8gdHJhbnNwYXJlbnRseSBzaG93IGRlcGVuZGVuY2llc1xuICAgICAqIFxuICAgICAqIFxuICAgICAqL1xuICAgIHNjb3BlPzogQV9TY29wZVxufVxuLyoqXG4gKiBGZWF0dXJlIGluaXRpYWxpemF0aW9uIHR5cGUgdXNpbmcgdGVtcGxhdGVcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZV9Jbml0V2l0aFRlbXBsYXRlPFQgZXh0ZW5kcyBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyA9IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzPiA9IHtcbiAgICAvKipcbiAgICAgKiBGZWF0dXJlIE5hbWVcbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgLyoqXG4gICAgICogVGhlIHNjb3BlIGZyb20gd2hlcmUgdG8gcmV0cmlldmUgZGVwZW5kZW50IGNvbXBvbmVudHMsIGVudGl0aWVzIGFuZCBjb250YWluZXJzLiBcbiAgICAgKiBcbiAgICAgKiBbIV0gSW1wb3J0YW50IGZvciBwcm9wZXIgc2NvcGluZy4gXG4gICAgICovXG4gICAgc2NvcGU6IEFfU2NvcGVcbiAgICAvKipcbiAgICAgKiBUaGUgY29tcG9uZW50IGZyb20gd2hlcmUgdGhlIGZlYXR1cmUgaXMgY2FsbGluZy4gSXQncyBpbXBvcnRhbnQgZm9yIHByb3BlciBzY29waW5nLiBcbiAgICAgKiBCYXNlZCBvbiB0aGUgY29tcG9uZW50IHdvdWxkIGJlIHJldHJpZXZlZCBjb25uZWN0ZWQgY29tcG9uZW50cywgZW50aXRpZXMgYW5kIGNvbnRhaW5lcnMuXG4gICAgICogXG4gICAgICogWyFdIENvdWxkIGJlIENvbnRhaW5lciwgRW50aXR5LCBDb21wb25lbnQgb3IgQ29tbWFuZFxuICAgICAqL1xuICAgIGNvbXBvbmVudD86IFQsXG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgRmVhdHVyZSB0ZW1wbGF0ZSB0byBiZSB1c2VkIGluc3RlYWQgb2YgYnVpbGRpbmcgaXQgZnJvbSBkZWNvcmF0b3JzXG4gICAgICovXG4gICAgdGVtcGxhdGU6IEFycmF5PEFfVFlQRVNfX0ZlYXR1cmVEZWZpbmVEZWNvcmF0b3JUZW1wbGF0ZUl0ZW0+XG59XG5cbi8qKlxuICogRmVhdHVyZSBzZXJpYWxpemVkIHR5cGVcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZV9TZXJpYWxpemVkID0ge31cblxuXG4vKipcbiAqIEZlYXR1cmUgbGlmZWN5Y2xlIHN0YXRlc1xuICovXG5leHBvcnQgZW51bSBBX1RZUEVTX19GZWF0dXJlU3RhdGUge1xuICAgIC8qKlxuICAgICAqIFRoZSBmZWF0dXJlIGhhcyBiZWVuIGluaXRpYWxpemVkXG4gICAgICovXG4gICAgSU5JVElBTElaRUQgPSBcIklOSVRJQUxJWkVEXCIsXG4gICAgLyoqXG4gICAgICogVGhlIGZlYXR1cmUgaXMgY3VycmVudGx5IGJlaW5nIHByb2Nlc3NlZFxuICAgICAqL1xuICAgIFBST0NFU1NJTkcgPSBcIlBST0NFU1NJTkdcIixcbiAgICAvKipcbiAgICAgKiBUaGUgZmVhdHVyZSBoYXMgYmVlbiBjb21wbGV0ZWRcbiAgICAgKi9cbiAgICBDT01QTEVURUQgPSBcIkNPTVBMRVRFRFwiLFxuICAgIC8qKlxuICAgICAqIFRoZSBmZWF0dXJlIGhhcyBiZWVuIGludGVycnVwdGVkXG4gICAgICovXG4gICAgSU5URVJSVVBURUQgPSBcIklOVEVSUlVQVEVEXCIsXG4gICAgLyoqXG4gICAgICogVGhlIGZlYXR1cmUgaGFzIGZhaWxlZFxuICAgICAqL1xuICAgIEZBSUxFRCA9IFwiRkFJTEVEXCJcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRXJyb3IgVHlwZXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZUVycm9yX0luaXQgPSB7XG4gICAgLyoqXG4gICAgICogU3RhZ2Ugd2hlcmUgdGhlIGVycm9yIG9jY3VycmVkXG4gICAgICovXG4gICAgc3RhZ2U/OiBBX1N0YWdlXG5cbn0gJiBBX1RZUEVTX19FcnJvcl9Jbml0XG5cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQXZhaWxhYmxlIFR5cGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEEgbGlzdCBvZiBjb21wb25lbnQgd2hlcmUgZmVhdHVyZXMgY2FuIGJlIERlZmluZWRcbiAqIFxuICogWyFdIE9uIHRoaXMgY29tcG9uZW50IEZlYXR1cmUgRGVmaW5pdGlvbiBpcyBBdmFpbGFibGVcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBJbnN0YW5jZVR5cGU8QV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbnN0cnVjdG9ycz5cbi8qKlxuICogQSBsaXN0IG9mIGNvbnN0cnVjdG9ycyB3aGVyZSBmZWF0dXJlcyBjYW4gYmUgRGVmaW5lZFxuICogXG4gKiBbIV0gT24gdGhpcyBjb21wb25lbnQgRmVhdHVyZSBEZWZpbml0aW9uIGlzIEF2YWlsYWJsZVxuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29uc3RydWN0b3JzID0gQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yXG4gICAgfCBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3JcbiAgICB8IEFfVFlQRVNfX0NvbnRhaW5lcl9Db25zdHJ1Y3RvclxuXG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRGVjb3JhdG9yIFR5cGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLUZlYXR1cmUgRGVmaW5lIERlY29yYXRvciBUeXBlcy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLyoqXG4gKiBJbmRpY2F0ZXMgYSB0eXBlIG9mIEZlYXR1cmUgRGVmaW5lIGRlY29yYXRvclxuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yRGVzY3JpcHRvciA9XG4gICAgVHlwZWRQcm9wZXJ0eURlc2NyaXB0b3I8KC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+XG4gICAgfCBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjwoLi4uYXJnczogYW55W10pID0+IGFueT5cbiAgICB8IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPCguLi5hcmdzOiBhbnlbXSkgPT4gUHJvbWlzZTxhbnk+PlxuICAgIHwgVHlwZWRQcm9wZXJ0eURlc2NyaXB0b3I8KC4uLmFyZ3M6IGFueVtdKSA9PiBQcm9taXNlPGFueT4+XG4vKipcbiAqIERlc2NyaWJlcyBhZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcyB0byBiZSB1c2VkIGluIEZlYXR1cmUgRGVmaW5lIGRlY29yYXRvclxuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yQ29uZmlnID0ge1xuICAgIC8qKlxuICAgICAqIEZlYXR1cmUgbmFtZVxuICAgICAqIFxuICAgICAqIFshXSBCeSBkZWZhdWx0IHVzZXMgdGhlIG1ldGhvZCBuYW1lXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBhIGRlZmF1bHQgYmVoYXZpb3Igb2YgdGhlIGZlYXR1cmUuIElmIHRydWUgdGhlIGZlYXR1cmUgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGF0dGFjaGVkIHRvIHRoZSBleGVjdXRpb24uXG4gICAgICogXG4gICAgICogWyFdIEJlZm9yZSBmZWF0dXJlIGV4ZWN1dGlvbiB0aGUgbWV0aG9kIGl0c2VsZiB3aWxsIGJlIGNhbGxlZCB0byBwcmVwYXJlIHRoZSBmZWF0dXJlIHRlbXBsYXRlXG4gICAgICogWyFdIERlZmF1bHQgaXMgZmFsc2VcbiAgICAgKi9cbiAgICBpbnZva2U6IGJvb2xlYW4sXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGFkZCBhIGRlZmF1bHQgYmVoYXZpb3Igb3IgbnVtYmVyIG9mIHN0ZXBzIHRoYXQgd2lsbCBiZSBwYXJ0IG9mIHRoZSBmZWF0dXJlXG4gICAgICovXG4gICAgdGVtcGxhdGU6IEFycmF5PEFfVFlQRVNfX0ZlYXR1cmVEZWZpbmVEZWNvcmF0b3JUZW1wbGF0ZUl0ZW0+XG59XG4vKipcbiAqIERlc2NyaWJlcyBhIHNpbmdsZSB0ZW1wbGF0ZSBpdGVtIHVzZWQgaW4gRmVhdHVyZSBEZWZpbmUgZGVjb3JhdG9yXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVEZWZpbmVEZWNvcmF0b3JUZW1wbGF0ZUl0ZW0gPSBBX1RZUEVTX19SZXF1aXJlZDxQYXJ0aWFsPEFfVFlQRVNfX0FfU3RhZ2VTdGVwPiwgWyduYW1lJywgJ2hhbmRsZXInLCAnY29tcG9uZW50J10+XG4vKipcbiAqIERlc2NyaWJlcyBhIHRhcmdldCB3aGVyZSBGZWF0dXJlIERlZmluZSBkZWNvcmF0b3IgY2FuIGJlIGFwcGxpZWRcbiAqIFxuICogWyFdIFRoZSBmZWF0dXJlIGNhbiBiZSBkZWZpbmVkIG9uIENvbnRhaW5lciwgRW50aXR5LCBDb21wb25lbnQgb3IgQ29tbWFuZFxuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGFyZ2V0ID0gQV9Db250YWluZXJcbiAgICB8IEFfRW50aXR5XG4gICAgfCBBX0NvbXBvbmVudFxuLyoqXG4gKiBBIHR5cGUgb2YgTWV0YSBpbmZvcm1hdGlvbiBzdG9yZWQgYnkgRmVhdHVyZSBEZWZpbmUgZGVjb3JhdG9yXG4gKiBUaGlzIGluZm9ybWF0aW9uIHRoZW4gdXNlcyBieSBBLUNvbnRleHQgdG8gYnVpbGQgYSBwcm9wZXIgZmVhdHVyZSB0ZW1wbGF0ZVxuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YSA9IHtcbiAgICAvKipcbiAgICAgKiBGZWF0dXJlIG5hbWVcbiAgICAgKiBtYWlubHkgaXQncyBhIHVuaXF1ZSBjb21iaW5hdGlvbiBvZiB0aGUgY2xhc3MgbmFtZSBhbmQgbWV0aG9kIG5hbWVcbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgLyoqXG4gICAgICogQWN0dWFsIG1ldGhvZCBuYW1lIGluIHRoZSBjbGFzc1xuICAgICAqL1xuICAgIGhhbmRsZXI6IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgYSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSBmZWF0dXJlLiBJZiB0cnVlIHRoZSBmZWF0dXJlIHdpbGwgYmUgYXV0b21hdGljYWxseSBhdHRhY2hlZCB0byB0aGUgZXhlY3V0aW9uLlxuICAgICAqIFxuICAgICAqIFshXSBCZWZvcmUgZmVhdHVyZSBleGVjdXRpb24gdGhlIG1ldGhvZCBpdHNlbGYgd2lsbCBiZSBjYWxsZWQgdG8gcHJlcGFyZSB0aGUgZmVhdHVyZSB0ZW1wbGF0ZVxuICAgICAqIFshXSBEZWZhdWx0IGlzIGZhbHNlXG4gICAgICovXG4gICAgaW52b2tlOiBib29sZWFuLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBhZGQgYSBkZWZhdWx0IGJlaGF2aW9yIG9yIG51bWJlciBvZiBzdGVwcyB0aGF0IHdpbGwgYmUgcGFydCBvZiB0aGUgZmVhdHVyZVxuICAgICAqL1xuICAgIHRlbXBsYXRlOiBBcnJheTxBX1RZUEVTX19BX1N0YWdlU3RlcD5cbn1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1GZWF0dXJlIEV4dGVuZCBEZWNvcmF0b3IgVHlwZXMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKlxuICogRGVzY3JpcHRvciB0eXBlIGZvciBBX0V4dGVuZCBkZWNvcmF0b3JcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvckRlc2NyaXB0b3IgPVxuICAgIFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPCgpID0+IGFueT5cbiAgICB8IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPCguLi5hcmdzOiBhbnlbXSkgPT4gYW55PlxuICAgIHwgVHlwZWRQcm9wZXJ0eURlc2NyaXB0b3I8KC4uLmFyZ3M6IGFueVtdKSA9PiBQcm9taXNlPGFueT4+XG4gICAgfCBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjwoKSA9PiBQcm9taXNlPGFueT4+XG4vKipcbiAqIFRhcmdldCB0eXBlIGZvciBBX0V4dGVuZCBkZWNvcmF0b3JcbiAqIFxuICogWyFdIENhbiBiZSBhcHBsaWVkIG9ubHkgb24gQS1Db21wb25lbnRzXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JUYXJnZXQgPSBBX0NvbXBvbmVudCB8IEFfQ29udGFpbmVyIHwgQV9FbnRpdHlcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIHR5cGUgZm9yIEFfRXh0ZW5kIGRlY29yYXRvclxuICogXG4gKiBUaGlzIGlzIGFuIElOUFVUIHBhcmFtZXRlciBwcm92aWRlZCBieSB0aGUgdXNlclxuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yQ29uZmlnID0ge1xuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIGNvbnRhaW5lciBMaWZlY3ljbGUgbWV0aG9kIHRvIGJlIGV4dGVuZGVkLlxuICAgICAqIFxuICAgICAqIFshXSBJZiBub3QgcHJvdmlkZWQgd2lsbCBiZSB1c2VkIHRoZSBuYW1lIG9mIHRoZSBtZXRob2QuXG4gICAgICogWyEhXSBJZiBuYW1lIGNvbnRhaW5zIFwiLlwiIGRvdCBpdCB3aWxsIGJlIGNvbnNpZGVyZWQgYXMgYSBwYXRoIHRvIHRoZSBtZXRob2QuXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIENvbnRhaW5lciBjbGFzcyBvciBjb250YWluZXIgbmFtZSB1c2VzIHRvIGlkZW50aWZ5IHRoZSBwcm9wZXIgY29udGFpbmVyIGluIGNhc2Ugd2hlbiB0aGUgbmFtZSBpcyBub3QgdW5pcXVlLlxuICAgICAqIFxuICAgICAqIFshXSBJZiBub3QgcHJvdmlkZWQgd2lsbCBiZSBhcHBsaWVkIHRvIGFsbCBjb250YWluZXJzIHdpdGggdGhlIHNhbWUgbmFtZS5cbiAgICAgKiBbISFdIEJ5IGRlZmF1bHQgdXNlcyBPUiB0byBqb2luIGFsbCBwcm92aWRlZCBpdGVtcy4gSWYgeW91IG5lZWQgbW9yZSBjb21wbGV4IExvZ2ljLCBwbGVhc2UgdXNlIFJlZ2V4cCBpbnN0ZWFkXG4gICAgICogXG4gICAgICogWyEhIV0gSW4gY2FzZSBpZiB5b3UgbmVlZCB0byBleGNsdWRlIHNvbWUgY29udGFpbmVycywgZW50aXRpZXMgb3IgY29tcG9uZW50cywgcGxlYXNlIHVzZSBcImV4Y2x1ZGVcIiBwcm9wZXJ0eVxuICAgICAqIFxuICAgICAqIEV4YW1wbGU6XG4gICAgICogXG4gICAgICogYGBgdHNcbiAgICAgKiAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAqICAgICAgbmFtZTogJ2xvYWQnLFxuICAgICAqICAgICAgc2NvcGU6IHtcbiAgICAgKiAgICAgICAgICBpbmNsdWRlOiBbQV9Db250YWluZXIxLCBBX0VudGl0eTFdLFxuICAgICAqICAgICAgICAgIGV4Y2x1ZGU6IFtBX0NvbXBvbmVudDFdXG4gICAgICogICAgICB9XG4gICAgICogIH0pXG4gICAgICogYGBgXG4gICAgICovXG4gICAgc2NvcGU6IEFycmF5PEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JTY29wZUl0ZW0+IHwgUGFydGlhbDxBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yU2NvcGVDb25maWc+LFxuICAgIC8qKlxuICAgICAqIFRoZSBiZWhhdmlvciBvZiB0aGUgbWV0aG9kLiBcbiAgICAgKiBJbiBjYXNlIGl0cyBhc3luYyBpdCB3aWxsIGJlIGV4ZWN1dGVkIGluZGVwZW5kZW50bHkgZnJvbSB0aGUgbWFpbiB0aHJlYWQuXG4gICAgICogXG4gICAgICogWyFdIEhvd2V2ZXIsIGluIGNhc2Ugb2Ygc3luYywgaXQgd2lsbCBiZSBleGVjdXRlZCBpbiB0aGUgbWFpbiB0aHJlYWQuaW4gdGhlIG9yZGVyIG9mIHRoZSBkZWNsYXJhdGlvbi5cbiAgICAgKiBcbiAgICAgKi9cbiAgICBiZWhhdmlvcjogQV9UWVBFU19TdGFnZUV4ZWN1dGlvbkJlaGF2aW9yXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgbWV0aG9kLlxuICAgICAqIFxuICAgICAqIFshXSBJdCBhcHBsaWVzIGZvciB0aGUgZm9sbG93aW5nIHN0cnVjdHVyZSA6J0NvbXBvbmVudC5tZXRob2ROYW1lJ1xuICAgICAqIFshXSBJbiBjYXNlIHRoZSBtZXRob2QgaGFzIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBpdCB3aWxsIFRocm93IGFuIGVycm9yLlxuICAgICAqIFxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgdHNcbiAgICAgKiAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAqICAgICAgbmFtZTogJ2xvYWQnLFxuICAgICAqICAgICAgYmVmb3JlOiBbJ0NvbXBvbmVudDEubWV0aG9kTmFtZScsICdDb21wb25lbnQyLm1ldGhvZE5hbWUyJ11cbiAgICAgKiAgfSlcbiAgICAgKiAgLy8gT1JcbiAgICAgKiAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAqICAgICAgbmFtZTogJ2xvYWQnLFxuICAgICAqICAgICAgYmVmb3JlOiAvQ29tcG9uZW50MlxcLi4rL1xuICAgICAqICB9KVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGJlZm9yZTogQXJyYXk8c3RyaW5nPiB8IFJlZ0V4cFxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgbWV0aG9kLlxuICAgICAqIFxuICAgICAqIFshXSBJdCBhcHBsaWVzIGZvciB0aGUgZm9sbG93aW5nIHN0cnVjdHVyZSA6J0NvbXBvbmVudC5tZXRob2ROYW1lJ1xuICAgICAqIFshXSBJbiBjYXNlIHRoZSBtZXRob2QgaGFzIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBpdCB3aWxsIFRocm93IGFuIGVycm9yLlxuICAgICAqIFxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgdHNcbiAgICAgKiAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAqICAgICAgbmFtZTogJ2xvYWQnLFxuICAgICAqICAgICAgYWZ0ZXI6IFsnQ29tcG9uZW50MS5tZXRob2ROYW1lJywgJ0NvbXBvbmVudDIubWV0aG9kTmFtZTInXVxuICAgICAqICB9KVxuICAgICAqICAvLyBPUlxuICAgICAqICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICogICAgICBuYW1lOiAnbG9hZCcsXG4gICAgICogICAgICBhZnRlcjogL0NvbXBvbmVudDJcXC4uKy9cbiAgICAgKiAgfSlcbiAgICAgKiBgYGBcbiAgICAgKiBcbiAgICAgKi9cbiAgICBhZnRlcjogQXJyYXk8c3RyaW5nPiB8IFJlZ0V4cFxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRvIHRocm93IGFuIGVycm9yIGlmIHRoZSBzdGVwIGZhaWxzLlxuICAgICAqIFxuICAgICAqIFshXSBCeSBkZWZhdWx0IGlzIHRydWVcbiAgICAgKi9cbiAgICB0aHJvd09uRXJyb3I6IGJvb2xlYW5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBvdmVycmlkZSBwYXJ0aWN1bGFyIHN0ZXBzIGluIHRoZSBmZWF0dXJlIHNlcXVlbmNlIGJ5IHByb3ZpZGVkIG5hbWVzIFtDb21wb25lbnRdLltNZXRob2RdIG9yIGJ5IHJlZ2V4cFxuICAgICAqL1xuICAgIG92ZXJyaWRlOiBBcnJheTxzdHJpbmc+IHwgUmVnRXhwXG59XG4vKipcbiAqIFNjb3BlIGl0ZW0gdGhhdCBjYW4gYmUgdXNlZCBpbiBBX0V4dGVuZCBkZWNvcmF0b3IgY29uZmlndXJhdGlvblxuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yU2NvcGVDb25maWcgPSB7XG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIGNvbXBvbmVudHMsIGVudGl0aWVzIG9yIGNvbnRhaW5lcnMgdG8gaW5jbHVkZSBpbiB0aGUgc2NvcGUgb2YgdGhlIGV4dGVuc2lvblxuICAgICAqL1xuICAgIGluY2x1ZGU/OiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yU2NvcGVJdGVtPixcbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgY29tcG9uZW50cywgZW50aXRpZXMgb3IgY29udGFpbmVycyB0byBleGNsdWRlIGZyb20gdGhlIHNjb3BlIG9mIHRoZSBleHRlbnNpb25cbiAgICAgKi9cbiAgICBleGNsdWRlPzogQXJyYXk8QV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclNjb3BlSXRlbT5cbn1cbi8qKlxuICogQSBzaW5nbGUgaXRlbSB0aGF0IGNhbiBiZSB1c2VkIGluIHNjb3BlIGNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclNjb3BlSXRlbSA9IEFfVFlQRVNfX0NvbnRhaW5lcl9Db25zdHJ1Y3RvclxuICAgIHwgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yXG4gICAgfCBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3JcblxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLU1FVEEgVFlQRVMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8qKlxuICogTWV0YSB0eXBlIGZvciBBX0V4dGVuZCBkZWNvcmF0b3JcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvck1ldGEgPSB7XG4gICAgLyoqXG4gICAgICogT3JpZ2luYWwgRmVhdHVyZSBFeHRlbnNpb24gbmFtZVxuICAgICAqIFxuICAgICAqIFshXSBjb3VsZCBiZSBzdHJpbmcgb3IgcmVnZXhcbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgLyoqXG4gICAgICogQWN0dWFsIG1ldGhvZCBuYW1lIGluIHRoZSBjbGFzc1xuICAgICAqL1xuICAgIGhhbmRsZXI6IHN0cmluZ1xuICAgIC8qKlxuICAgICAqIFRoZSBiZWhhdmlvciBvZiB0aGUgbWV0aG9kLiBcbiAgICAgKiBJbiBjYXNlIGl0cyBhc3luYyBpdCB3aWxsIGJlIGV4ZWN1dGVkIGluZGVwZW5kZW50bHkgZnJvbSB0aGUgbWFpbiB0aHJlYWQuXG4gICAgICogXG4gICAgICogWyFdIEhvd2V2ZXIsIGluIGNhc2Ugb2Ygc3luYywgaXQgd2lsbCBiZSBleGVjdXRlZCBpbiB0aGUgbWFpbiB0aHJlYWQuaW4gdGhlIG9yZGVyIG9mIHRoZSBkZWNsYXJhdGlvbi5cbiAgICAgKiBcbiAgICAgKi9cbiAgICBiZWhhdmlvcjogQV9UWVBFU19TdGFnZUV4ZWN1dGlvbkJlaGF2aW9yXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgbWV0aG9kLlxuICAgICAqIFxuICAgICAqIFshXSBJbiBjYXNlIHRoZSBtZXRob2QgaGFzIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBpdCB3aWxsIFRocm93IGFuIGVycm9yLlxuICAgICAqIFxuICAgICAqL1xuICAgIGJlZm9yZTogc3RyaW5nXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgbWV0aG9kLlxuICAgICAqIFxuICAgICAqIFshXSBJbiBjYXNlIHRoZSBtZXRob2QgaGFzIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBpdCB3aWxsIFRocm93IGFuIGVycm9yLlxuICAgICAqIFxuICAgICAqL1xuICAgIGFmdGVyOiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0byB0aHJvdyBhbiBlcnJvciBpZiB0aGUgc3RlcCBmYWlscy5cbiAgICAgKiBcbiAgICAgKiBbIV0gQnkgZGVmYXVsdCBpcyB0cnVlXG4gICAgICovXG4gICAgdGhyb3dPbkVycm9yOiBib29sZWFuLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBvdmVycmlkZSBwYXJ0aWN1bGFyIHN0ZXBzIGluIHRoZSBmZWF0dXJlIHNlcXVlbmNlIGJ5IHByb3ZpZGVkIG5hbWVzIFtDb21wb25lbnRdLltNZXRob2RdIG9yIGJ5IHJlZ2V4cFxuICAgICAqL1xuICAgIG92ZXJyaWRlOiBzdHJpbmdcbn1cblxuXG4iLCAiLyoqXG4gKiBBIE1ldGEgaXMgYW4gZW50aXR5IHRoYXQgc3RvcmVzIGFsbCB0aGUgbWV0YWRhdGEgZm9yIHRoZSBzcGVjaWZpYyBlbnRpdHkgbGlrZSBjb250YWluZXIsIGNvbXBvbmVudCwgZmVhdHVyZSwgZXRjLiBcbiAqIFxuICogWyFdIE1ldGEgY2FuIGJlIGRpZmZlcmVudCBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2YgaW5wdXQgZGF0YVxuICovXG5leHBvcnQgY2xhc3MgQV9NZXRhPFxuICAgIF9TdG9yYWdlSXRlbXMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gYW55LFxuICAgIF9TZXJpYWxpemVkVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGltcGxlbWVudHMgSXRlcmFibGU8W2tleW9mIF9TdG9yYWdlSXRlbXMsIF9TdG9yYWdlSXRlbXNba2V5b2YgX1N0b3JhZ2VJdGVtc11dPiB7XG5cbiAgICBwcm90ZWN0ZWQgbWV0YTogTWFwPGtleW9mIF9TdG9yYWdlSXRlbXMsIF9TdG9yYWdlSXRlbXNba2V5b2YgX1N0b3JhZ2VJdGVtc10+ID0gbmV3IE1hcCgpO1xuXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gZ2V0IHRoZSBpdGVyYXRvciBmb3IgdGhlIG1ldGEgb2JqZWN0XG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmF0b3I8W2tleW9mIF9TdG9yYWdlSXRlbXMsIF9TdG9yYWdlSXRlbXNba2V5b2YgX1N0b3JhZ2VJdGVtc11dPiB7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5tZXRhLmVudHJpZXMoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQ6ICgpID0+IGl0ZXJhdG9yLm5leHQoKVxuICAgICAgICB9O1xuICAgIH1cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBNRVRBIE9QRVJBVElPTlMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gcmVwbGljYXRlIHJlY2VpdmVkIG1ldGEgb2JqZWN0IGJ5IHJlcGxhY2luZyBpbnRlcm5hbCBtZXRhIHRvIHRoZSByZWNlaXZlZCBvbmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbWV0YSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBmcm9tKFxuICAgICAgICBtZXRhOiBBX01ldGE8X1N0b3JhZ2VJdGVtcz5cbiAgICApOiBBX01ldGE8X1N0b3JhZ2VJdGVtcz4ge1xuICAgICAgICB0aGlzLm1ldGEgPSBuZXcgTWFwKG1ldGEubWV0YSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gc2V0IHZhbHVlcyBpbiB0aGUgbWFwXG4gICAgICogXG4gICAgICogQHBhcmFtIGtleSBcbiAgICAgKiBAcGFyYW0gdmFsdWUgXG4gICAgICovXG4gICAgc2V0PEsgZXh0ZW5kcyBrZXlvZiBfU3RvcmFnZUl0ZW1zPihrZXk6IEssIHZhbHVlOiBfU3RvcmFnZUl0ZW1zW0tdKSB7XG5cbiAgICAgICAgY29uc3QgaW5oZXJpdGVkVmFsdWUgPSB0aGlzLm1ldGEuZ2V0KGtleSlcbiAgICAgICAgICAgIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgICA/IFtdXG4gICAgICAgICAgICA6ICh2YWx1ZSBhcyBhbnkpIGluc3RhbmNlb2YgTWFwXG4gICAgICAgICAgICAgICAgPyBuZXcgTWFwKClcbiAgICAgICAgICAgICAgICA6IHt9O1xuICAgICAgICBjb25zdCB0YXJnZXRWYWx1ZSA9IHRoaXMubWV0YS5nZXQoa2V5KVxuICAgICAgICAgICAgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSlcbiAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgIC4uLmluaGVyaXRlZFZhbHVlIGFzIGFueVxuICAgICAgICAgICAgXSA6ICh2YWx1ZSBhcyBhbnkpIGluc3RhbmNlb2YgTWFwXG4gICAgICAgICAgICAgICAgPyBuZXcgTWFwKGluaGVyaXRlZFZhbHVlIGFzIGFueSlcbiAgICAgICAgICAgICAgICA6IHsgLi4uaW5oZXJpdGVkVmFsdWUgfTtcblxuICAgICAgICB0aGlzLm1ldGEuc2V0KGtleSwgdmFsdWUpO1xuXG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBnZXQgdmFsdWVzIGZyb20gdGhlIG1hcFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXkgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZ2V0PEsgZXh0ZW5kcyBrZXlvZiBfU3RvcmFnZUl0ZW1zPihrZXk6IEspOiBfU3RvcmFnZUl0ZW1zW0tdIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0YS5nZXQoa2V5KSBhcyBfU3RvcmFnZUl0ZW1zW0tdO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGRlbGV0ZSB2YWx1ZXMgZnJvbSB0aGUgbWFwXG4gICAgICogXG4gICAgICogQHBhcmFtIGtleSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBkZWxldGUoa2V5OiBrZXlvZiBfU3RvcmFnZUl0ZW1zKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGEuZGVsZXRlKGtleSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gZ2V0IHRoZSBzaXplIG9mIHRoZSBtYXBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzaXplKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGEuc2l6ZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5lZWRlZCB0byBjb252ZXJ0IHRoZSBrZXkgdG8gYSByZWd1bGFyIGV4cHJlc3Npb24gYW5kIGNvdmVyIGNhc2VzIGxpa2U6IFxuICAgICAqIFxuICAgICAqIHNpbXBsZSAqIGUuZy4gXCJhKlwiIGluc3RlYWQgb2YgXCJhLipcIlxuICAgICAqIFxuICAgICAqIHNpbXBsZSA/IGUuZy4gXCJhP1wiIGluc3RlYWQgb2YgXCJhLlwiXG4gICAgICogXG4gICAgICogZXRjLiBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ga2V5IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByaXZhdGUgY29udmVydFRvUmVnRXhwKGtleTogc3RyaW5nIHwgUmVnRXhwKTogUmVnRXhwIHtcbiAgICAgICAgcmV0dXJuIGtleSBpbnN0YW5jZW9mIFJlZ0V4cFxuICAgICAgICAgICAgPyBrZXlcbiAgICAgICAgICAgIDogbmV3IFJlZ0V4cChrZXkpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGZpbmQgdmFsdWVzIGluIHRoZSBtYXAgYnkgbmFtZS5cbiAgICAgKiBcbiAgICAgKiBDb252ZXJ0cyB0aGUgS2V5IGluIE1hcCB0byBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhbmQgdGhlbiBjb21wYXJlcyB0byB0aGUgbmFtZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuYW1lIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGZpbmQobmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHM6IEFycmF5PFtrZXlvZiBfU3RvcmFnZUl0ZW1zLCBfU3RvcmFnZUl0ZW1zW2tleW9mIF9TdG9yYWdlSXRlbXNdXT4gPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgdGhpcy5tZXRhLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udmVydFRvUmVnRXhwKFN0cmluZyhrZXkpKS50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gZmluZCB2YWx1ZXMgaW4gdGhlIG1hcCBieSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICAgKiBcbiAgICAgKiBDb21wYXJlcyBNYXAgS2V5IHRvIHRoZSBpbnB1dCByZWd1bGFyIGV4cHJlc3Npb25cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcmVnZXggXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZmluZEJ5UmVnZXgocmVnZXg6IFJlZ0V4cCk6IEFycmF5PFtrZXlvZiBfU3RvcmFnZUl0ZW1zLCBfU3RvcmFnZUl0ZW1zW2tleW9mIF9TdG9yYWdlSXRlbXNdXT4ge1xuICAgICAgICBjb25zdCByZXN1bHRzOiBBcnJheTxba2V5b2YgX1N0b3JhZ2VJdGVtcywgX1N0b3JhZ2VJdGVtc1trZXlvZiBfU3RvcmFnZUl0ZW1zXV0+ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHRoaXMubWV0YS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChyZWdleC50ZXN0KFN0cmluZyhrZXkpKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGNoZWNrIGlmIHRoZSBtYXAgaGFzIGEgc3BlY2lmaWMga2V5XG4gICAgICogXG4gICAgICogQHBhcmFtIGtleSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBoYXMoa2V5OiBrZXlvZiBfU3RvcmFnZUl0ZW1zKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGEuaGFzKGtleSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gZ2V0IHRoZSBzaXplIG9mIHRoZSBtYXBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBlbnRyaWVzKCk6IEl0ZXJhYmxlSXRlcmF0b3I8W2tleW9mIF9TdG9yYWdlSXRlbXMsIF9TdG9yYWdlSXRlbXNba2V5b2YgX1N0b3JhZ2VJdGVtc11dPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGEuZW50cmllcygpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGNsZWFyIHRoZSBtYXBcbiAgICAgKi9cbiAgICBjbGVhcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tZXRhLmNsZWFyKCk7XG4gICAgfVxuXG5cbiAgICB0b0FycmF5KCk6IEFycmF5PFtrZXlvZiBfU3RvcmFnZUl0ZW1zLCBfU3RvcmFnZUl0ZW1zW2tleW9mIF9TdG9yYWdlSXRlbXNdXT4ge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLm1ldGEuZW50cmllcygpKTtcbiAgICB9XG5cblxuICAgIHByb3RlY3RlZCByZWN1cnNpdmVUb0pTT04odmFsdWU6IGFueSk6IGFueSB7XG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSB2YWx1ZSBpbnN0YW5jZW9mIEFfTWV0YTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUudG9KU09OKCk7XG5cbiAgICAgICAgICAgIGNhc2UgdmFsdWUgaW5zdGFuY2VvZiBNYXA6XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgdmFsdWUuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtTdHJpbmcoayldID0gdGhpcy5yZWN1cnNpdmVUb0pTT04odik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG5cbiAgICAgICAgICAgIGNhc2UgQXJyYXkuaXNBcnJheSh2YWx1ZSk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm1hcCgoaXRlbSkgPT4gdGhpcy5yZWN1cnNpdmVUb0pTT04oaXRlbSkpO1xuXG4gICAgICAgICAgICBjYXNlICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICBjb25zdCByZXM6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzW2tdID0gdGhpcy5yZWN1cnNpdmVUb0pTT04odik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgbWV0YSB0byBhIEpTT04gb2JqZWN0XG4gICAgICogVXNlcyBpbnRlcm5hbCBzdG9yYWdlIHRvIGNvbnZlcnQgdG8gSlNPTlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvSlNPTigpOiBfU2VyaWFsaXplZFR5cGUge1xuICAgICAgICBjb25zdCBqc29uOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgdGhpcy5tZXRhLmVudHJpZXMoKSkge1xuICAgICAgICAgICAganNvbltTdHJpbmcoa2V5KV0gPSB0aGlzLnJlY3Vyc2l2ZVRvSlNPTih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGpzb24gYXMgX1NlcmlhbGl6ZWRUeXBlO1xuICAgIH1cbn0iLCAiZXhwb3J0IGVudW0gQV9UWVBFU19fRW50aXR5TWV0YUtleSB7XG4gICAgRVhURU5TSU9OUyA9ICdhLWNvbXBvbmVudC1leHRlbnNpb25zJyxcbiAgICBGRUFUVVJFUyA9ICdhLWNvbXBvbmVudC1mZWF0dXJlcycsXG4gICAgQUJTVFJBQ1RJT05TID0gJ2EtY29tcG9uZW50LWFic3RyYWN0aW9ucycsXG4gICAgSU5KRUNUSU9OUyA9ICdhLWNvbXBvbmVudC1pbmplY3Rpb25zJyxcbn1cblxuZXhwb3J0IGVudW0gQV9UWVBFU19fRW50aXR5RmVhdHVyZXMge1xuICAgIFNBVkUgPSAnc2F2ZScsXG4gICAgREVTVFJPWSA9ICdkZXN0cm95JyxcbiAgICBMT0FEID0gJ2xvYWQnXG59IiwgImV4cG9ydCBlbnVtIEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkge1xuICAgIEZFQVRVUkVTID0gJ2EtY29udGFpbmVyLWZlYXR1cmVzJyxcbiAgICBJTkpFQ1RJT05TID0gJ2EtY29udGFpbmVyLWluamVjdGlvbnMnLFxuICAgIEFCU1RSQUNUSU9OUyA9ICdhLWNvbnRhaW5lci1hYnN0cmFjdGlvbnMnLFxuICAgIEVYVEVOU0lPTlMgID0gJ2EtY29udGFpbmVyLWV4dGVuc2lvbnMnLFxufSIsICJcblxuXG5leHBvcnQgZW51bSBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IHtcbiAgICBFWFRFTlNJT05TID0gJ2EtY29tcG9uZW50LWV4dGVuc2lvbnMnLFxuICAgIEZFQVRVUkVTID0gJ2EtY29tcG9uZW50LWZlYXR1cmVzJyxcbiAgICBJTkpFQ1RJT05TID0gJ2EtY29tcG9uZW50LWluamVjdGlvbnMnLFxuICAgIEFCU1RSQUNUSU9OUyA9ICdhLWNvbXBvbmVudC1hYnN0cmFjdGlvbnMnLFxufSIsICJpbXBvcnQgeyBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25NZXRhIH0gZnJvbSBcIi4uL0EtQ29uY2VwdC9BLUNvbmNlcHQudHlwZXNcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCIuLi9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhLCBBX1RZUEVTX19Db21wb25lbnRNZXRhRXh0ZW5zaW9uIH0gZnJvbSBcIi4vQS1Db21wb25lbnQudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tIFwiLi9BLUNvbXBvbmVudC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0ZlYXR1cmVEZWZpbmVEZWNvcmF0b3JNZXRhIH0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUudHlwZXNcIjtcblxuXG5leHBvcnQgY2xhc3MgQV9Db21wb25lbnRNZXRhIGV4dGVuZHMgQV9NZXRhPEFfVFlQRVNfX0NvbXBvbmVudE1ldGE+IHtcblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBnZXQgYWxsIHRoZSBpbmplY3Rpb25zIGZvciBhIGdpdmVuIGhhbmRsZXJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaGFuZGxlciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBpbmplY3Rpb25zKFxuICAgICAgICBoYW5kbGVyOiBzdHJpbmdcbiAgICApOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhIHtcbiAgICAgICAgY29uc3QgaW5qZWN0aW9ucyA9IHRoaXMuZ2V0KEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuSU5KRUNUSU9OUyk7XG5cbiAgICAgICAgY29uc3QgYXJncyA9IGluamVjdGlvbnM/LmdldChoYW5kbGVyKSB8fCBbXTtcblxuICAgICAgICByZXR1cm4gYXJncztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZ2V0IGFsbCB0aGUgZXh0ZW5zaW9ucyBmb3IgYSBnaXZlbiBmZWF0dXJlXG4gICAgICogXG4gICAgICogQHBhcmFtIGZlYXR1cmUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZXh0ZW5zaW9ucyhcbiAgICAgICAgZmVhdHVyZTogc3RyaW5nXG4gICAgKTogQV9UWVBFU19fQ29tcG9uZW50TWV0YUV4dGVuc2lvbltdIHtcbiAgICAgICAgY29uc3Qgc3RlcHM6IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFFeHRlbnNpb25bXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LkVYVEVOU0lPTlMpO1xuXG4gICAgICAgIGV4dGVuc2lvbnNcbiAgICAgICAgICAgIC8vIHJldHVybnMgYWxsIGV4dGVuc2lvbnMgdGhhdCBtYXRjaCB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgPy5maW5kKGZlYXR1cmUpXG4gICAgICAgICAgICAuZm9yRWFjaCgoW2hhbmRsZXIsIGV4dGVuc2lvbnNdKSA9PiB7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5mb3JFYWNoKGV4dGVuc2lvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXBzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50OiBjb25zdHJ1Y3RvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGV4dGVuc2lvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogZXh0ZW5zaW9uLmhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWhhdmlvcjogZXh0ZW5zaW9uLmJlaGF2aW9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBleHRlbnNpb24uYmVmb3JlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IGV4dGVuc2lvbi5hZnRlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93T25FcnJvcjogZXh0ZW5zaW9uLnRocm93T25FcnJvciB8fCB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGU6JydcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgcmV0dXJuIHN0ZXBzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWxsIGZlYXR1cmVzIGRlZmluZWQgaW4gdGhlIENvbXBvbmVudFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGZlYXR1cmVzKCk6IEFycmF5PEFfVFlQRVNfX0ZlYXR1cmVEZWZpbmVEZWNvcmF0b3JNZXRhPiB7XG5cbiAgICAgICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLmdldChBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LkZFQVRVUkVTKTtcblxuICAgICAgICByZXR1cm4gZmVhdHVyZXM/LnRvQXJyYXkoKVxuICAgICAgICAgICAgLy8gcmV0dXJucyBhbGwgZXh0ZW5zaW9ucyB0aGF0IG1hdGNoIHRoZSBmZWF0dXJlXG4gICAgICAgICAgICAubWFwKChbLCBmZWF0dXJlXSkgPT4gZmVhdHVyZSkgfHwgW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHNldCBvZiBpbnN0cnVjdGlvbnMgdG8gcnVuIHByb3BlciBtZXRob2RzIGluIENvbXBvbmVudCBkdXJpbmcgQS1Db25jZXB0IFN0YWdlXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0YWdlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFic3RyYWN0aW9ucyhcbiAgICAgICAgYWJzdHJhY3Rpb246IGFueVxuICAgICk6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbk1ldGFbXSB7XG4gICAgICAgIGNvbnN0IHN0ZXBzOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25NZXRhW10gPSBbXTtcblxuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LkFCU1RSQUNUSU9OUyk7XG4gICAgICAgIGNvbnN0IGluamVjdGlvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LklOSkVDVElPTlMpO1xuXG4gICAgICAgIGFic3RyYWN0aW9uc1xuICAgICAgICAgICAgLy8gcmV0dXJucyBhbGwgZXh0ZW5zaW9ucyB0aGF0IG1hdGNoIHRoZSBmZWF0dXJlXG4gICAgICAgICAgICA/LmZpbmQoYENPTkNFUFRfQUJTVFJBQ1RJT046OiR7YWJzdHJhY3Rpb259YClcbiAgICAgICAgICAgIC5mb3JFYWNoKChbaGFuZGxlciwgZXh0ZW5zaW9uc10pID0+IHtcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zLmZvckVhY2goZXh0ZW5zaW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJncyA9IGluamVjdGlvbnM/LmdldChleHRlbnNpb24uaGFuZGxlcikgfHwgW107XG5cbiAgICAgICAgICAgICAgICAgICAgc3RlcHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5leHRlbnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQ6IGNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgcmV0dXJuIHN0ZXBzO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIi4uL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1Njb3BlIH0gZnJvbSBcIi4uL0EtU2NvcGUvQS1TY29wZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyX0luaXQgfSBmcm9tIFwiLi9BLUNvbnRhaW5lci50eXBlc1wiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfQ29udGFpbmVyIHtcblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gb2YgdGhlIGNvbnRhaW5lciB0aGF0IHdpbGwgYmUgdXNlZCB0byBydW4gaXQuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGNvbmZpZyE6IFBhcnRpYWw8QV9UWVBFU19fQ29udGFpbmVyX0luaXQ+O1xuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIGNvbnRhaW5lclxuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWc/Lm5hbWUgfHwgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzY29wZSB3aGVyZSB0aGUgY29udGFpbmVyIGlzIHJlZ2lzdGVyZWRcbiAgICAgKi9cbiAgICBnZXQgc2NvcGUoKTogQV9TY29wZSB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQuc2NvcGUodGhpcyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGNsYXNzIHNob3VsZCBjb21iaW5lIENvbXBvbmVudHMgdG8gYWNoaWV2ZSB0aGUgZ29hbCB3aXRoaW5nIENvbmNlcHRcbiAgICAgKiBcbiAgICAgKiBDb250YWluZXIgaXMgYSBkaXJlY3QgY29udGFpbmVyIHRoYXQgc2hvdWxkIGJlIFwicnVuXCIgdG8gbWFrZSBDb25jZXB0IHdvcmsuIFxuICAgICAqIFNvIGJlY2F1c2Ugb2YgdGhhdCBDb250YWluZXIgY2FuIGJlOlxuICAgICAqIC0gSFRUUCBTZXJ2ZXJcbiAgICAgKiAtIEJBU0ggU2NyaXB0XG4gICAgICogLSBEYXRhYmFzZSBDb25uZWN0aW9uXG4gICAgICogLSBNaWNyb3NlcnZpY2VcbiAgICAgKiAtIGV0Yy5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gQ29uZmlndXJhdGlvbiBvZiB0aGUgY29udGFpbmVyIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJ1biBpdC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbmZpZ3VyYXRpb24gb2YgdGhlIGNvbnRhaW5lciB0aGF0IHdpbGwgYmUgdXNlZCB0byBydW4gaXQuXG4gICAgICAgICAqL1xuICAgICAgICBjb25maWc6IFBhcnRpYWw8QV9UWVBFU19fQ29udGFpbmVyX0luaXQ+ID0ge31cbiAgICApIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG5cbiAgICAgICAgQV9Db250ZXh0LmFsbG9jYXRlKHRoaXMsIHRoaXMuY29uZmlnKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBmZWF0dXJlIHdpdGggdGhlIGdpdmVuIG5hbWUgaW4gdGhlIGdpdmVuIHNjb3BlXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IFRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIGZlYXR1cmUgZXZlcnkgdGltZSBpdCBpcyBjYWxsZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZmVhdHVyZSAtIHRoZSBuYW1lIG9mIHRoZSBmZWF0dXJlIHRvIGNhbGxcbiAgICAgKiBAcGFyYW0gc2NvcGUgIC0gdGhlIHNjb3BlIGluIHdoaWNoIHRvIGNhbGwgdGhlIGZlYXR1cmVcbiAgICAgKiBAcmV0dXJucyAgLSB2b2lkXG4gICAgICovXG4gICAgYXN5bmMgY2FsbChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5hbWUgb2YgdGhlIGZlYXR1cmUgdG8gY2FsbFxuICAgICAgICAgKi9cbiAgICAgICAgZmVhdHVyZTogc3RyaW5nLFxuICAgICAgICAvKipcbiAgICAgICAgICogc2NvcGUgaW4gd2hpY2ggdGhlIGZlYXR1cmUgd2lsbCBiZSBleGVjdXRlZFxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IG5ld0ZlYXR1cmUgPSBuZXcgQV9GZWF0dXJlKHtcbiAgICAgICAgICAgIG5hbWU6IGZlYXR1cmUsXG4gICAgICAgICAgICBjb21wb25lbnQ6IHRoaXNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ld0ZlYXR1cmUucHJvY2VzcyhzY29wZSk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhLCBBX1RZUEVTX19Db250YWluZXJNZXRhRXh0ZW5zaW9uLCB9IGZyb20gXCIuL0EtQ29udGFpbmVyLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb24sIEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbk1ldGEgfSBmcm9tIFwiLi4vQS1Db25jZXB0L0EtQ29uY2VwdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSBcIi4uL0EtTWV0YS9BLU1ldGEuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkgfSBmcm9tIFwiLi9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0ZlYXR1cmVEZWZpbmVEZWNvcmF0b3JNZXRhIH0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMgfSBmcm9tIFwiLi4vQS1Db25jZXB0L0EtQ29uY2VwdC5jb25zdGFudHNcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX0NvbnRhaW5lck1ldGEgZXh0ZW5kcyBBX01ldGE8QV9UWVBFU19fQ29udGFpbmVyTWV0YT4ge1xuXG5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBnZXQgYWxsIHRoZSBpbmplY3Rpb25zIGZvciBhIGdpdmVuIGhhbmRsZXJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaGFuZGxlciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBpbmplY3Rpb25zKFxuICAgICAgICBoYW5kbGVyOiBzdHJpbmdcbiAgICApOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhIHtcbiAgICAgICAgY29uc3QgaW5qZWN0aW9ucyA9IHRoaXMuZ2V0KEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuSU5KRUNUSU9OUyk7XG5cbiAgICAgICAgY29uc3QgYXJncyA9IGluamVjdGlvbnM/LmdldChoYW5kbGVyKSB8fCBbXTtcblxuICAgICAgICByZXR1cm4gYXJncztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBmZWF0dXJlcyBkZWZpbmVkIGluIHRoZSBDb250YWluZXJcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBmZWF0dXJlcygpOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YT4ge1xuXG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gdGhpcy5nZXQoQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleS5GRUFUVVJFUyk7XG5cbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzPy50b0FycmF5KClcbiAgICAgICAgICAgIC8vIHJldHVybnMgYWxsIGV4dGVuc2lvbnMgdGhhdCBtYXRjaCB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgLm1hcCgoWywgZmVhdHVyZV0pID0+IGZlYXR1cmUpIHx8IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzZXQgb2YgaW5zdHJ1Y3Rpb25zIHRvIHJ1biBwcm9wZXIgbWV0aG9kcyBpbiBDb250YWluZXIgZHVyaW5nIEEtQ29uY2VwdCBTdGFnZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdGFnZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhYnN0cmFjdGlvbnMoXG4gICAgICAgIGFic3RyYWN0aW9uOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zXG4gICAgKTogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9uTWV0YVtdIHtcbiAgICAgICAgY29uc3Qgc3RlcHM6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbk1ldGFbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGFic3RyYWN0aW9ucyA9IHRoaXMuZ2V0KEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuQUJTVFJBQ1RJT05TKTtcbiAgICAgICAgY29uc3QgaW5qZWN0aW9ucyA9IHRoaXMuZ2V0KEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuSU5KRUNUSU9OUyk7XG5cbiAgICAgICAgYWJzdHJhY3Rpb25zXG4gICAgICAgICAgICAvLyByZXR1cm5zIGFsbCBleHRlbnNpb25zIHRoYXQgbWF0Y2ggdGhlIGZlYXR1cmVcbiAgICAgICAgICAgID8uZmluZChgQ09OQ0VQVF9BQlNUUkFDVElPTjo6JHthYnN0cmFjdGlvbn1gKVxuICAgICAgICAgICAgLmZvckVhY2goKFtoYW5kbGVyLCBleHRlbnNpb25zXSkgPT4ge1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMuZm9yRWFjaChleHRlbnNpb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhcmdzID0gaW5qZWN0aW9ucz8uZ2V0KGV4dGVuc2lvbi5oYW5kbGVyKSB8fCBbXTtcblxuICAgICAgICAgICAgICAgICAgICBzdGVwcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmV4dGVuc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIHJldHVybiBzdGVwcztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBnZXQgYWxsIHRoZSBleHRlbnNpb25zIGZvciBhIGdpdmVuIGZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZmVhdHVyZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBleHRlbnNpb25zKFxuICAgICAgICBmZWF0dXJlOiBzdHJpbmdcbiAgICApOiBBX1RZUEVTX19Db250YWluZXJNZXRhRXh0ZW5zaW9uW10ge1xuICAgICAgICBjb25zdCBzdGVwczogQV9UWVBFU19fQ29udGFpbmVyTWV0YUV4dGVuc2lvbltdID0gW107XG5cbiAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IHRoaXMuZ2V0KEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuRVhURU5TSU9OUyk7XG5cbiAgICAgICAgZXh0ZW5zaW9uc1xuICAgICAgICAgICAgLy8gcmV0dXJucyBhbGwgZXh0ZW5zaW9ucyB0aGF0IG1hdGNoIHRoZSBmZWF0dXJlXG4gICAgICAgICAgICA/LmZpbmQoZmVhdHVyZSlcbiAgICAgICAgICAgIC5mb3JFYWNoKChbaGFuZGxlciwgZXh0ZW5zaW9uc10pID0+IHtcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zLmZvckVhY2goZXh0ZW5zaW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21wb25lbnQ6IGNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBleHRlbnNpb24uaGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlaGF2aW9yOiBleHRlbnNpb24uYmVoYXZpb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IGV4dGVuc2lvbi5iZWZvcmUgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlcjogZXh0ZW5zaW9uLmFmdGVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dPbkVycm9yOiBleHRlbnNpb24udGhyb3dPbkVycm9yIHx8IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZTogJydcblxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICByZXR1cm4gc3RlcHM7XG4gICAgfVxuXG59IiwgIlxuLyoqXG4gKiBBX0Zvcm1hdHRlckhlbHBlclxuICogXG4gKiBIZWxwZXIgY2xhc3MgZm9yIGZvcm1hdHRpbmcgc3RyaW5ncyBpbnRvIGRpZmZlcmVudCBjYXNlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFfRm9ybWF0dGVySGVscGVyIHtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHN0cmluZyB0byBVUFBFUl9TTkFLRV9DQVNFXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0ciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgdG9VcHBlclNuYWtlQ2FzZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBzdHJcbiAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDFfJDInKSAgLy8gSGFuZGxlIGNhbWVsQ2FzZVxuICAgICAgICAgICAgLnJlcGxhY2UoL1teYS16QS1aMC05XSsvZywgJ18nKSAgICAgICAvLyBSZXBsYWNlIG5vbi1hbHBoYW51bWVyaWMgd2l0aCB1bmRlcnNjb3Jlc1xuICAgICAgICAgICAgLnJlcGxhY2UoL18rL2csICdfJykgICAgICAgICAgICAgICAgICAvLyBDb2xsYXBzZSBtdWx0aXBsZSB1bmRlcnNjb3Jlc1xuICAgICAgICAgICAgLnJlcGxhY2UoL15ffF8kL2csICcnKSAgICAgICAgICAgICAgICAvLyBSZW1vdmUgbGVhZGluZy90cmFpbGluZyB1bmRlcnNjb3Jlc1xuICAgICAgICAgICAgLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgc3RyaW5nIHRvIGNhbWVsQ2FzZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIHRvQ2FtZWxDYXNlKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN0clxuICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1teYS16QS1aMC05XSsvZywgJyAnKSAgICAgICAvLyBSZXBsYWNlIG5vbi1hbHBoYW51bWVyaWMgd2l0aCBzcGFjZXNcbiAgICAgICAgICAgIC5zcGxpdCgnICcpICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3BsaXQgYnkgc3BhY2VzXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBlbXB0eSBpdGVtc1xuICAgICAgICAgICAgLm1hcCgocGFydCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwYXJ0LnNsaWNlKDEpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oJycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHN0cmluZyB0byBQYXNjYWxDYXNlXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0ciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgdG9QYXNjYWxDYXNlKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN0clxuICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMSAkMicpICAvLyBJbnNlcnQgc3BhY2UgYmVmb3JlIHVwcGVyY2FzZSBpbiBjYW1lbENhc2VcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOV0rL2csICcgJykgICAgICAgLy8gUmVwbGFjZSBub24tYWxwaGFudW1lcmljIHdpdGggc3BhY2VzXG4gICAgICAgICAgICAuc3BsaXQoJyAnKSAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwbGl0IGJ5IHNwYWNlc1xuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKSAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZW1wdHkgaXRlbXNcbiAgICAgICAgICAgIC5tYXAocGFydCA9PiBwYXJ0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcGFydC5zbGljZSgxKS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgLmpvaW4oJycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHN0cmluZyB0byBrZWJhYi1jYXNlXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0ciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgdG9LZWJhYkNhc2Uoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gc3RyXG4gICAgICAgICAgICAvLyAxLiBSZXBsYWNlIGFsbCBub24tYWxwaGFudW1lcmljICh1bmRlcnNjb3JlLCBkb3QsIGV0Yy4pIHdpdGggYSBzcGFjZVxuICAgICAgICAgICAgLnJlcGxhY2UoL1teYS16QS1aMC05XSsvZywgJyAnKVxuICAgICAgICAgICAgLy8gMi4gSW5zZXJ0IHNwYWNlIGJlZm9yZSBhbnkgdXBwZXJjYXNlIHByZWNlZGVkIGJ5IGxvd2VyY2FzZSBvciBkaWdpdFxuICAgICAgICAgICAgLnJlcGxhY2UoLyhbYS16MC05XSkoW0EtWl0pL2csICckMSAkMicpXG4gICAgICAgICAgICAvLyAzLiBUcmltIHNwYWNlcyBhdCBib3RoIGVuZHMgYW5kIHJlcGxhY2UgcmVtYWluaW5nIHNwYWNlcyB3aXRoIGRhc2hlc1xuICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xccysvZywgJy0nKVxuICAgICAgICAgICAgLy8gNC4gTG93ZXJjYXNlIGV2ZXJ5dGhpbmdcbiAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbn0iLCAiXG5leHBvcnQgdHlwZSBBX0lEX1RZUEVTX19UaW1lSWRfUGFydHMgPSB7XG4gICAgdGltZXN0YW1wOiBEYXRlO1xuICAgIHJhbmRvbTogc3RyaW5nO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBBX0lkZW50aXR5SGVscGVyIHtcbiAgICAvKipcbiAgICogR2VuZXJhdGVzIGEgc2hvcnQsIHRpbWUtYmFzZWQgdW5pcXVlIElELlxuICAgKiBFbmNvZGVzIGN1cnJlbnQgdGltZSAobXMgc2luY2UgZXBvY2gpIGFuZCByYW5kb20gYml0cyBpbiBiYXNlMzYuXG4gICAqIEV4YW1wbGU6IFwibWI0ZjFnLTdmOWExY1wiXG4gICAqL1xuICAgIHN0YXRpYyBnZW5lcmF0ZVRpbWVJZChcbiAgICAgICAgcGFydHM6IEFfSURfVFlQRVNfX1RpbWVJZF9QYXJ0cyA9IHsgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLCByYW5kb206IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsIDgpIH1cbiAgICApOiBzdHJpbmcge1xuICAgICAgICBjb25zdCB0aW1lID0gcGFydHMudGltZXN0YW1wLmdldFRpbWUoKS50b1N0cmluZygzNik7IC8vIGJhc2UzNi1lbmNvZGVkIHRpbWVzdGFtcFxuICAgICAgICBjb25zdCByYW5kb20gPSBwYXJ0cy5yYW5kb207IC8vIHVzZSBwcm92aWRlZCByYW5kb20gc3RyaW5nXG4gICAgICAgIHJldHVybiBgJHt0aW1lfS0ke3JhbmRvbX1gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIHNob3J0IElEIGJhY2sgaW50byBpdHMgcGFydHMuXG4gICAgICogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgb3JpZ2luYWwgdGltZXN0YW1wIChhcyBEYXRlKSBhbmQgcmFuZG9tIHN0cmluZy5cbiAgICAgKi9cbiAgICBzdGF0aWMgcGFyc2VUaW1lSWQoaWQ6IHN0cmluZyk6IEFfSURfVFlQRVNfX1RpbWVJZF9QYXJ0cyB7XG4gICAgICAgIGNvbnN0IFt0aW1lUGFydCwgcmFuZG9tUGFydF0gPSBpZC5zcGxpdCgnLScpO1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZShwYXJzZUludCh0aW1lUGFydCwgMzYpKTtcbiAgICAgICAgcmV0dXJuIHsgdGltZXN0YW1wLCByYW5kb206IHJhbmRvbVBhcnQgfTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqICBGb3JtYXQgYSBudW1iZXIgd2l0aCBsZWFkaW5nIHplcm9zIHRvIGEgZml4ZWQgbGVuZ3RoXG4gICAgICogXG4gICAgICogQHBhcmFtIG51bWJlciBcbiAgICAgKiBAcGFyYW0gbWF4WmVyb3MgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGZvcm1hdFdpdGhMZWFkaW5nWmVyb3MobnVtYmVyLCBtYXhaZXJvcyA9IDEwKSB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZE51bWJlciA9IFN0cmluZyhudW1iZXIpLnBhZFN0YXJ0KG1heFplcm9zICsgMSwgJzAnKTtcbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZE51bWJlci5zbGljZSgtbWF4WmVyb3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBsZWFkaW5nIHplcm9zIGZyb20gYSBmb3JtYXR0ZWQgbnVtYmVyXG4gICAgICovXG4gICAgc3RhdGljIHJlbW92ZUxlYWRpbmdaZXJvcyhmb3JtYXR0ZWROdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhOdW1iZXIoZm9ybWF0dGVkTnVtYmVyKSk7IC8vIENvbnZlcnQgdG8gbnVtYmVyIGFuZCBiYWNrIHRvIHN0cmluZyB0byByZW1vdmUgbGVhZGluZyB6ZXJvc1xuICAgIH1cblxuXG59IiwgIlxuXG5cbmV4cG9ydCBjb25zdCBBX0NPTlNUQU5UU19fRVJST1JfQ09ERVMgPSB7XG4gICAgVU5FWFBFQ1RFRF9FUlJPUjogJ0EtRXJyb3IgVW5leHBlY3RlZCBFcnJvcicsXG4gICAgVkFMSURBVElPTl9FUlJPUjogJ0EtRXJyb3IgVmFsaWRhdGlvbiBFcnJvcicsXG59IGFzIGNvbnN0O1xuXG5cblxuZXhwb3J0IGNvbnN0IEFfQ09OU1RBTlRTX19FUlJPUl9ERVNDUklQVElPTiA9ICdJZiB5b3Ugc2VlIHRoaXMgZXJyb3IgcGxlYXNlIGxldCB1cyBrbm93LiciLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19FcnJvcl9Jbml0LFxuICAgIEFfVFlQRVNfX0Vycm9yX1NlcmlhbGl6ZWRcbn0gZnJvbSAnLi9BX0Vycm9yLnR5cGVzJztcbmltcG9ydCB7XG4gICAgQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTLFxuICAgIEFfQ09OU1RBTlRTX19FUlJPUl9ERVNDUklQVElPTlxufSBmcm9tICcuL0FfRXJyb3IuY29uc3RhbnRzJztcbmltcG9ydCB7IEFfRm9ybWF0dGVySGVscGVyIH0gZnJvbSAnQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfRm9ybWF0dGVyLmhlbHBlcic7XG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tICcuLi9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzJztcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gJ0BhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyJztcbmltcG9ydCB7IEFTRUlEIH0gZnJvbSAnLi4vQVNFSUQvQVNFSUQuY2xhc3MnO1xuaW1wb3J0IHsgQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUyB9IGZyb20gJ0BhZGFhcy9hLWNvbmNlcHQvY29uc3RhbnRzL2Vudi5jb25zdGFudHMnO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0Vycm9yPFxuICAgIF9Db25zdHJ1Y3RvclR5cGUgZXh0ZW5kcyBBX1RZUEVTX19FcnJvcl9Jbml0ID0gQV9UWVBFU19fRXJyb3JfSW5pdCxcbiAgICBfU2VyaWFsaXplZFR5cGUgZXh0ZW5kcyBBX1RZUEVTX19FcnJvcl9TZXJpYWxpemVkID0gQV9UWVBFU19fRXJyb3JfU2VyaWFsaXplZFxuPiBleHRlbmRzIEVycm9yIHtcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PSBTdGF0aWMgQS1FcnJvciBJbmZvcm1hdGlvbiA9PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBFcnJvciBJZGVudGlmaWVyIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIGNsYXNzIG5hbWVcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGVudGl0eSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gQV9Gb3JtYXR0ZXJIZWxwZXIudG9LZWJhYkNhc2UodGhpcy5uYW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogREVGQVVMVCBOYW1lc3BhY2Ugb2YgdGhlIGVycm9yIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGUgQV9DT05DRVBUX05BTUVTUEFDRVxuICAgICAqIFxuICAgICAqIFshXSBJZiBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3Qgc2V0LCBpdCB3aWxsIGRlZmF1bHQgdG8gJ2EtY29uY2VwdCdcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGNvbmNlcHQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5jb25jZXB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBERUZBVUxUIFNjb3BlIG9mIHRoZSBlbnRpdHkgZnJvbSBlbnZpcm9ubWVudCB2YXJpYWJsZSBBX0NPTkNFUFRfREVGQVVMVF9TQ09QRVxuICAgICAqIFxuICAgICAqIFshXSBJZiBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3Qgc2V0LCBpdCB3aWxsIGRlZmF1bHQgdG8gJ2NvcmUnXG4gICAgICogWyFdIFNjb3BlIGlzIGFuIGFwcGxpY2F0aW9uIHNwZWNpZmljIGlkZW50aWZpZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBncm91cCBlbnRpdGllcyB0b2dldGhlclxuICAgICAqIFshXSBlLmcuICdkZWZhdWx0JywgJ2NvcmUnLCAncHVibGljJywgJ2ludGVybmFsJywgZXRjXG4gICAgICovXG4gICAgc3RhdGljIGdldCBzY29wZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LnJvb3QubmFtZTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PSBIaWRkZW4gQS1FcnJvciBJbmZvcm1hdGlvbiA9PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBBU0VJRCBvZiB0aGUgZXJyb3IgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2FzZWlkITogQVNFSUQ7XG4gICAgLyoqXG4gICAgICogVGl0bGUgb2YgdGhlIGVycm9yXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF90aXRsZSE6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBQb3NzaWJsZSBTY29wZSBpZiBuZWVkZWQgdG8gaWRlbnRpZnkgdGhlIGVycm9yIGJ5IGl0J3MgZXhlY3V0aW9uIGVudmlyb25tZW50XG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9zY29wZT86IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBVbmlxdWUgY29kZSByZXByZXNlbnRpbmcgdGhlIHR5cGUgb2YgZXJyb3JcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2NvZGU/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogRGV0YWlsZWQgZGVzY3JpcHRpb24gb2YgdGhlIGVycm9yXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9kZXNjcmlwdGlvbj86IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBPcmlnaW5hbCBFcnJvciBpZiBhbnlcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX29yaWdpbmFsRXJyb3I/OiBFcnJvciB8IGFueVxuICAgIC8qKlxuICAgICAqIExpbmsgdG8gdGhlIGRvY3VtZW50YXRpb24gb3Igc3VwcG9ydCBwYWdlIGZvciB0aGUgZXJyb3JcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2xpbms/OiBzdHJpbmc7XG5cblxuXG4gICAgLyoqXG4gICAgICogQV9FcnJvciBpcyBhIGN1c3RvbSBlcnJvciBjbGFzcyBmb3IgQV9Db25jZXB0IGZyYW1ld29yay5cbiAgICAgKiBUaGlzIGVycm9yIGFsbG93cyB0byBoYXZlIG1vcmUgc3RydWN0dXJlZCBlcnJvciBoYW5kbGluZy5cbiAgICAgKiBFYWNoIGVycm9yIGhhcyBhIHVuaXF1ZSBjb2RlLCBkZXNjcmlwdGlvbiBhbmQgYSBsaW5rIHRvIHRoZSBkb2N1bWVudGF0aW9uLlxuICAgICAqIFxuICAgICAqIEV4YW1wbGUgb2YgdXNhZ2U6IFxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBcbiAgICAgKiAvLyAxKSBhbGwgcGFyYW1ldGVycyB3aWxsIGJlIHVzZWQgYXMgcHJvdmlkZWRcbiAgICAgKiB0aHJvdyBuZXcgQV9FcnJvcih7XG4gICAgICogICAgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyxcbiAgICAgKiAgICBjb2RlOiAnVVNFUl9OT1RfRk9VTkQnLFxuICAgICAqICAgIGRlc2NyaXB0aW9uOiAnVGhlIHVzZXIgd2l0aCB0aGUgZ2l2ZW4gSUQgd2FzIG5vdCBmb3VuZC4nLFxuICAgICAqICAgIGxpbms6ICdodHRwczovL3N1cHBvcnQuYWRhYXMub3JnL2Vycm9yL1VTRVJfTk9UX0ZPVU5EJ1xuICAgICAqIH0pO1xuICAgICAqIFxuICAgICAqIC8vIG9yXG4gICAgICogLy8gMikgb25seSBtZXNzYWdlIGlzIHByb3ZpZGVkLCBvdGhlciBwYXJhbWV0ZXJzIHdpbGwgYmUgc2V0IHRvIGRlZmF1bHQgdmFsdWVzOlxuICAgICAqIC8vICAgICAtIGNvZGU6ICd1c2VyLW5vdC1mb3VuZCcgKGtlYmFiLWNhc2Ugb2YgdGhlIG1lc3NhZ2UpXG4gICAgICogLy8gICAgIC0gZGVzY3JpcHRpb246ICdVc2VyIG5vdCBmb3VuZCcgKHNhbWUgYXMgbWVzc2FnZSlcbiAgICAgKiAvLyAgICAgLSBsaW5rOiBFbXB0eVxuICAgICAqIHRocm93IG5ldyBBX0Vycm9yKCdVc2VyIG5vdCBmb3VuZCcpO1xuICAgICAqIFxuICAgICAqIC8vIG9yXG4gICAgICogLy8gMykgUHJvdmlkZWQgTWVzc2FnZSBhbmQgRGVzY3JpcHRpb24sIG90aGVyIHBhcmFtZXRlcnMgd2lsbCBiZSBzZXQgdG8gZGVmYXVsdCB2YWx1ZXM6XG4gICAgICogLy8gICAgIC0gY29kZTogJ3VzZXItbm90LWZvdW5kJyAoa2ViYWItY2FzZSBvZiB0aGUgbWVzc2FnZSlcbiAgICAgKiAvLyAgICAgLSBkZXNjcmlwdGlvbjogJ1RoZSB1c2VyIHdpdGggdGhlIGdpdmVuIElEIHdhcyBub3QgZm91bmQuJyAoYXMgcHJvdmlkZWQpXG4gICAgICogLy8gICAgIC0gbGluazogRW1wdHlcbiAgICAgKiB0aHJvdyBuZXcgQV9FcnJvcignVXNlciBub3QgZm91bmQnLCAnVGhlIHVzZXIgd2l0aCB0aGUgZ2l2ZW4gSUQgd2FzIG5vdCBmb3VuZC4nKTtcbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBgYGBcbiAgICAgKiBbIV0gTm90ZTogVGhlIGJlaGF2aW9yIG9mIEFfRXJyb3IgaXMgc2ltaWxhciB0byB0aGUgQV9FbnRpdHkgaG93ZXZlciBpdCBjYW5ub3QgaGF2ZSBvd24gQV9GZWF0dXJlcy5cbiAgICAgKiBbIV0gTm90ZTogVGhpcyBjbGFzcyBjYW4gYmUgaW5oZXJpdGVkIHRvIGNyZWF0ZSBjdXN0b20gZXJyb3IgY2xhc3Nlcy5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFfRXJyb3IgQ29uc3RydWN0b3IgcGFyYW1zXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbXM6IF9Db25zdHJ1Y3RvclR5cGVcbiAgICApXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFcnJvciBtZXNzYWdlXG4gICAgICAgICAqL1xuICAgICAgICBtZXNzYWdlOiBzdHJpbmdcbiAgICApXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPcmlnaW5hbCBKUyBFcnJvclxuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3I6IEVycm9yXG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogRXJyb3IgbWVzc2FnZVxuICAgICAgICAgKi9cbiAgICAgICAgdGl0bGU6IHN0cmluZyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGFpbGVkIGRlc2NyaXB0aW9uIG9mIHRoZSBlcnJvclxuICAgICAgICAgKi9cbiAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZ1xuICAgIClcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcGFyYW0xOiBfQ29uc3RydWN0b3JUeXBlIHwgRXJyb3IgfCBzdHJpbmcgfCBBX0Vycm9yLFxuICAgICAgICBwYXJhbTI/OiBzdHJpbmdcbiAgICApIHtcbiAgICAgICAgLy8gIHRvIHByZXZlbnQgZXJyb3JzIGFjY3VtdWxhdGlvbiBpbiB0aGUgc3RhY2sgdHJhY2UgaXQgcmV0dXJucyB0aGUgb3JpZ2luYWwgZXJyb3IgaWYgcHJvdmlkZWQgcGFyYW0xIGlzIEFfRXJyb3JcbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIHBhcmFtMSBpbnN0YW5jZW9mIEFfRXJyb3I6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtMSBhcyBBX0Vycm9yPF9Db25zdHJ1Y3RvclR5cGUsIF9TZXJpYWxpemVkVHlwZT47XG5cbiAgICAgICAgICAgIGNhc2UgcGFyYW0xIGluc3RhbmNlb2YgRXJyb3I6XG4gICAgICAgICAgICAgICAgc3VwZXIocGFyYW0xLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Vycm9yU2VyaWFsaXplZFR5cGU8X1NlcmlhbGl6ZWRUeXBlPihwYXJhbTEpOlxuICAgICAgICAgICAgICAgIHN1cGVyKHBhcmFtMS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFcnJvckNvbnN0cnVjdG9yVHlwZTxfQ29uc3RydWN0b3JUeXBlPihwYXJhbTEpICYmICdkZXNjcmlwdGlvbicgaW4gcGFyYW0xOlxuICAgICAgICAgICAgICAgIHN1cGVyKGBbJHtwYXJhbTEudGl0bGV9XTogJHtwYXJhbTEuZGVzY3JpcHRpb259YCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JDb25zdHJ1Y3RvclR5cGU8X0NvbnN0cnVjdG9yVHlwZT4ocGFyYW0xKSAmJiAhKCdkZXNjcmlwdGlvbicgaW4gcGFyYW0xKTpcbiAgICAgICAgICAgICAgICBzdXBlcihwYXJhbTEudGl0bGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1N0cmluZyhwYXJhbTEpICYmICFwYXJhbTI6XG4gICAgICAgICAgICAgICAgc3VwZXIocGFyYW0xKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcocGFyYW0xKSAmJiAhIXBhcmFtMjpcbiAgICAgICAgICAgICAgICBzdXBlcihgWyR7cGFyYW0xfV06ICR7cGFyYW0yfWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX0Vycm9yKFxuICAgICAgICAgICAgICAgICAgICBBX0NPTlNUQU5UU19fRVJST1JfQ09ERVMuVkFMSURBVElPTl9FUlJPUixcbiAgICAgICAgICAgICAgICAgICAgJ0ludmFsaWQgcGFyYW1ldGVycyBwcm92aWRlZCB0byBBX0Vycm9yIGNvbnN0cnVjdG9yJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbml0aWFsaXplciA9IHRoaXMuZ2V0SW5pdGlhbGl6ZXIocGFyYW0xLCBwYXJhbTIpO1xuICAgICAgICAvLyB0aGUgcmV0dXJuZWQgaW5pdGlhbGl6ZXIgaXMgYWxyZWFkeSBib3VuZCB0byBgdGhpc2AgKHdlIHVzZWQgLmJpbmQodGhpcykpLFxuICAgICAgICAvLyBzbyBjYWxsaW5nIGl0IHdpbGwgcnVuIHRoZSBhcHByb3ByaWF0ZSBsb2dpYyBvbiB0aGlzIGluc3RhbmNlOlxuICAgICAgICBpbml0aWFsaXplci5jYWxsKHRoaXMsIHBhcmFtMSwgcGFyYW0yKTtcbiAgICB9XG5cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gUHVibGljIEEtRXJyb3IgSW5mb3JtYXRpb24gPT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgQVNFSUQgb2YgdGhlIGVycm9yIGluc3RhbmNlXG4gICAgICovXG4gICAgZ2V0IGFzZWlkKCk6IEFTRUlEIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FzZWlkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0aXRsZSBvZiB0aGUgZXJyb3JcbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOiAnVXNlciBub3QgZm91bmQnLCAnVmFsaWRhdGlvbiBlcnJvcicsICdVbmF1dGhvcml6ZWQgYWNjZXNzJywgZXRjLlxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBUaGlzIHRpdGxlIHNob3VsZCBiZSBzaG9ydCBhbmQgY29uY2lzZSwgbGVzcyB0aGFuIDYwIGNoYXJhY3RlcnNcbiAgICAgKiBbIV0gTm90ZTogSWYgdGl0bGUgZXhjZWVkcyA2MCBjaGFyYWN0ZXJzLCB0aGVyZSB3b3VsZCBiZSBhbiBlcnJvciB0aHJvd25cbiAgICAgKiBbIV0gTm90ZTogVGhpcyB0aXRsZSBpcyBpbnRlbmRlZCB0byBiZSBodW1hbi1yZWFkYWJsZSBhbmQgY2FuIGJlIGRpc3BsYXllZCBpbiBVSSBvciBsb2dzXG4gICAgICovXG4gICAgZ2V0IHRpdGxlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aXRsZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBFcnJvciBtZXNzYWdlIHdoYXQgaXMgYSBicmllZiB0aXRsZSBvZiB0aGUgZXJyb3JcbiAgICAgKiBcbiAgICAgKi9cbiAgICBnZXQgbWVzc2FnZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gc3VwZXIubWVzc2FnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHVuaXF1ZSBjb2RlIHJlcHJlc2VudGluZyB0aGUgdHlwZSBvZiBlcnJvclxuICAgICAqIFxuICAgICAqIElmIGNvZGUgaXMgbm90IHByb3ZpZGVkLCBpdCB3aWxsIGdlbmVyYXRlIGEga2ViYWItY2FzZSBvZiB0aGUgbWVzc2FnZVxuICAgICAqIFxuICAgICAqIEV4YW1wbGU6ICd2YWxpZGF0aW9uLWVycm9yJywgJ25vdC1mb3VuZCcsICd1c2VyLW5vdC1mb3VuZCcsICd1bmF1dGhvcml6ZWQnIGV0Yy5cbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogSXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIGtlYmFiLWNhc2UgZm9yIGVycm9yIGNvZGVzXG4gICAgICogWyFdIE5vdGU6IElmIG5vdCBwcm92aWRlZCB3b3VsZCBiZSB1c2VkIGEga2ViYWItY2FzZSBtZXNzYWdlIG9mIHRoZSBlcnJvclxuICAgICAqL1xuICAgIGdldCBjb2RlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb2RlIHx8IEFfRm9ybWF0dGVySGVscGVyLnRvS2ViYWJDYXNlKHRoaXMudGl0bGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0eXBlIG9mIHRoZSBlcnJvciB3aGljaCBjb3JyZXNwb25kcyB0byB0aGUgc3RhdGljIGVudGl0eSBvZiB0aGUgY2xhc3NcbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOiAnYS1lcnJvcicsICd2YWxpZGF0aW9uLWVycm9yJywgJ25vdC1mb3VuZC1lcnJvcicsICd1c2VyLWVycm9yJywgZXRjLlxuICAgICAqIFxuICAgICAqIERlZmF1bHRzIHRvIHRoZSBrZWJhYi1jYXNlIG9mIHRoZSBjbGFzcyBuYW1lXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IG5hbWluZyBhZCBzZXBhcmF0aW9uIGFyZSBmdWxseSBkZXBlbmRlbnQgb24gdGhlIGFyY2hpdGVjdHVyZSBvZiB0aGUgYXBwbGljYXRpb25cbiAgICAgKiBbIV0gTm90ZTogSXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIGtlYmFiLWNhc2UgZm9yIGVycm9yIHR5cGVzXG4gICAgICogWyFdIE5vdGU6IFRoaXMgdHlwZSBpcyBpbnRlbmRlZCB0byBncm91cCBzaW1pbGFyIGVycm9ycyB0b2dldGhlclxuICAgICAqL1xuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRXJyb3IpLmVudGl0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpbmsgd2l0aCBwb3NzaWJsZSBkb2N1bWVudGF0aW9uIG9yIHN1cHBvcnQgcGFnZSBmb3IgdGhlIGVycm9yXG4gICAgICogSWYgbGluayBpcyBub3QgcHJvdmlkZWQsIGl0IHdpbGwgZ2VuZXJhdGUgYSBsaW5rIGJhc2VkIG9uIHRoZSBBU0VJRCBvZiB0aGUgZXJyb3IgdGhhdCBwb2ludHMgdG8gdGhlIEEtQ29uY2VwdCBzdXBwb3J0IHBhZ2VcbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOiBodHRwczovL2FkYWFzLnN1cHBvcnQvYS1jb25jZXB0L2Vycm9ycy97QVNFSUR9XG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IEFTRUlEIGlzIGdlbmVyYXRlZCBiYXNlZCBvbiB0aGUgc3RhdGljIHByb3BlcnRpZXMgb2YgdGhlIGNsYXNzIChjb25jZXB0LCBzY29wZSwgZW50aXR5KSBhbmQgdGhlIGNvZGUgb2YgdGhlIGVycm9yXG4gICAgICovXG4gICAgZ2V0IGxpbmsoKSB7XG4gICAgICAgIGlmICh0aGlzLl9saW5rKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbms7XG5cbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChgaHR0cHM6Ly9hZGFhcy5zdXBwb3J0L2EtY29uY2VwdC9lcnJvcnMvJHt0aGlzLmFzZWlkLnRvU3RyaW5nKCl9YCk7XG5cbiAgICAgICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcGUgbmFtZSBvZiB0aGUgZXJyb3IgaW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBJZiBzY29wZSBpcyBub3QgcHJvdmlkZWQsIGl0IHdpbGwgdXNlIHRoZSBzdGF0aWMgc2NvcGUgb2YgdGhlIGNsYXNzXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IFNjb3BlIGlzIGFuIGFwcGxpY2F0aW9uIHNwZWNpZmljIGlkZW50aWZpZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBncm91cCBlbnRpdGllcyB0b2dldGhlclxuICAgICAqIFshXSBlLmcuICdkZWZhdWx0JywgJ2NvcmUnLCAncHVibGljJywgJ2ludGVybmFsJywgZXRjXG4gICAgICovXG4gICAgZ2V0IHNjb3BlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXNlaWQuc2NvcGVcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBkZXRhaWxlZCBkZXNjcmlwdGlvbiBvZiB0aGUgZXJyb3JcbiAgICAgKiBJZiBkZXNjcmlwdGlvbiBpcyBub3QgcHJvdmlkZWQsIGl0IHdpbGwgdXNlIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBBX0VSUk9SX0RFRkFVTFRfREVTQ1JJUFRJT04gb3IgYSBnZW5lcmljIG1lc3NhZ2VcbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOiAnVGhlIHVzZXIgd2l0aCB0aGUgZ2l2ZW4gSUQgd2FzIG5vdCBmb3VuZC4nLCAnVGhlIHByb3ZpZGVkIGRhdGEgaXMgaW52YWxpZC4nLCAnWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIHRoaXMgcmVzb3VyY2UuJywgZXRjLlxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBUaGlzIGRlc2NyaXB0aW9uIGlzIGludGVuZGVkIHRvIHByb3ZpZGUgbW9yZSBjb250ZXh0IGFib3V0IHRoZSBlcnJvciBhbmQgY2FuIGJlIHVzZWQgZm9yIGRlYnVnZ2luZyBvciBsb2dnaW5nIHB1cnBvc2VzXG4gICAgICovXG4gICAgZ2V0IGRlc2NyaXB0aW9uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZXNjcmlwdGlvbiB8fCBwcm9jZXNzLmVudltBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTLkFfRVJST1JfREVGQVVMVF9ERVNDUklQVElPTl0gfHwgQV9DT05TVEFOVFNfX0VSUk9SX0RFU0NSSVBUSU9OO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBvcmlnaW5hbCBlcnJvciBpZiBhbnlcbiAgICAgKiBcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgZm9yIGRlYnVnZ2luZyBwdXJwb3NlcyB0byBzZWUgdGhlIG9yaWdpbmFsIHN0YWNrIHRyYWNlIG9yIGVycm9yIG1lc3NhZ2VcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogT3JpZ2luYWwgZXJyb3IgaXMgb3B0aW9uYWwgYW5kIG1heSBub3QgYmUgcHJlc2VudCBpbiBhbGwgY2FzZXNcbiAgICAgKi9cbiAgICBnZXQgb3JpZ2luYWxFcnJvcigpOiBFcnJvciB8IGFueSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcmlnaW5hbEVycm9yO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoaWNoIGluaXRpYWxpemVyIG1ldGhvZCB0byB1c2UgYmFzZWQgb24gdGhlIHR5cGUgb2YgdGhlIGZpcnN0IHBhcmFtZXRlci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW0xIFxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldEluaXRpYWxpemVyKFxuICAgICAgICBwYXJhbTE6IF9Db25zdHJ1Y3RvclR5cGUgfCBFcnJvciB8IHN0cmluZyB8IGFueSxcbiAgICAgICAgcGFyYW0yPzogc3RyaW5nXG4gICAgKTogKHBhcmFtMTogYW55LCBwYXJhbTI6IGFueSkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKSB7XG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1N0cmluZyhwYXJhbTEpICYmICFwYXJhbTI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbU1lc3NhZ2U7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKHBhcmFtMSkgJiYgISFwYXJhbTI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVRpdGxlO1xuXG4gICAgICAgICAgICBjYXNlIHBhcmFtMSBpbnN0YW5jZW9mIEVycm9yOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21FcnJvcjtcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFcnJvclNlcmlhbGl6ZWRUeXBlPF9TZXJpYWxpemVkVHlwZT4ocGFyYW0xKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tSlNPTjtcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFcnJvckNvbnN0cnVjdG9yVHlwZTxfQ29uc3RydWN0b3JUeXBlPihwYXJhbTEpOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21Db25zdHJ1Y3RvcjtcblxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX0Vycm9yKFxuICAgICAgICAgICAgICAgICAgICBBX0NPTlNUQU5UU19fRVJST1JfQ09ERVMuVkFMSURBVElPTl9FUlJPUixcbiAgICAgICAgICAgICAgICAgICAgJ0ludmFsaWQgcGFyYW1ldGVycyBwcm92aWRlZCB0byBBX0Vycm9yIGNvbnN0cnVjdG9yJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgQV9FcnJvciBpbnN0YW5jZSBmcm9tIGEgc3RhbmRhcmQgRXJyb3Igb2JqZWN0LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBlcnJvciBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZnJvbUVycm9yKGVycm9yOiBFcnJvcik6IHZvaWQge1xuICAgICAgICB0aGlzLl90aXRsZSA9IEFfQ09OU1RBTlRTX19FUlJPUl9DT0RFUy5VTkVYUEVDVEVEX0VSUk9SO1xuXG4gICAgICAgIHRoaXMuX2FzZWlkID0gbmV3IEFTRUlEKHtcbiAgICAgICAgICAgIGNvbmNlcHQ6ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5jb25jZXB0LFxuICAgICAgICAgICAgc2NvcGU6ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5zY29wZSxcbiAgICAgICAgICAgIGVudGl0eTogKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRXJyb3IpLmVudGl0eSxcbiAgICAgICAgICAgIGlkOiB0aGlzLmNvZGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fb3JpZ2luYWxFcnJvciA9IGVycm9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgQV9FcnJvciBpbnN0YW5jZSBmcm9tIGEgbWVzc2FnZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdGl0bGUgXG4gICAgICogQHBhcmFtIGRlc2NyaXB0aW9uIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBmcm9tTWVzc2FnZShtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBBX0NPTlNUQU5UU19fRVJST1JfQ09ERVMuVU5FWFBFQ1RFRF9FUlJPUjtcblxuICAgICAgICB0aGlzLl9hc2VpZCA9IG5ldyBBU0VJRCh7XG4gICAgICAgICAgICBjb25jZXB0OiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuY29uY2VwdCxcbiAgICAgICAgICAgIHNjb3BlOiB0aGlzLl9zY29wZSB8fCAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuc2NvcGUsXG4gICAgICAgICAgICBlbnRpdHk6ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5lbnRpdHksXG4gICAgICAgICAgICBpZDogdGhpcy5jb2RlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2xpbmsgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBBX0Vycm9yIGluc3RhbmNlIGZyb20gYSBzZXJpYWxpemVkIG9iamVjdC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2VyaWFsaXplZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBmcm9tSlNPTihzZXJpYWxpemVkOiBfU2VyaWFsaXplZFR5cGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fYXNlaWQgPSBuZXcgQVNFSUQoc2VyaWFsaXplZC5hc2VpZCk7XG4gICAgICAgIHN1cGVyLm1lc3NhZ2UgPSBzZXJpYWxpemVkLm1lc3NhZ2U7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gc2VyaWFsaXplZC50aXRsZTtcbiAgICAgICAgdGhpcy5fY29kZSA9IHNlcmlhbGl6ZWQuY29kZTtcbiAgICAgICAgdGhpcy5fc2NvcGUgPSBzZXJpYWxpemVkLnNjb3BlO1xuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IHNlcmlhbGl6ZWQuZGVzY3JpcHRpb247XG4gICAgICAgIC8vIE5vdGU6IG9yaWdpbmFsRXJyb3IgaXMgZGVzZXJpYWxpemVkIGFzIG1lc3NhZ2Ugb25seVxuICAgICAgICB0aGlzLl9vcmlnaW5hbEVycm9yID0gc2VyaWFsaXplZC5vcmlnaW5hbEVycm9yID8gbmV3IEFfRXJyb3Ioc2VyaWFsaXplZC5vcmlnaW5hbEVycm9yKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fbGluayA9IHNlcmlhbGl6ZWQubGluaztcbiAgICB9XG5cblxuXG4gICAgZnJvbVRpdGxlKHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZVRpdGxlKHRpdGxlKTtcblxuICAgICAgICB0aGlzLl90aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuXG4gICAgICAgIHRoaXMuX2FzZWlkID0gbmV3IEFTRUlEKHtcbiAgICAgICAgICAgIGNvbmNlcHQ6ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5jb25jZXB0LFxuICAgICAgICAgICAgc2NvcGU6IHRoaXMuX3Njb3BlIHx8ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5zY29wZSxcbiAgICAgICAgICAgIGVudGl0eTogKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRXJyb3IpLmVudGl0eSxcbiAgICAgICAgICAgIGlkOiB0aGlzLmNvZGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fbGluayA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxFcnJvciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIEFfRXJyb3IgaW5zdGFuY2UgZnJvbSBhIGNvbnN0cnVjdG9yIHBhcmFtZXRlcnMgb2JqZWN0LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbXMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGZyb21Db25zdHJ1Y3RvcihwYXJhbXM6IF9Db25zdHJ1Y3RvclR5cGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZVRpdGxlKHBhcmFtcy50aXRsZSk7XG5cbiAgICAgICAgdGhpcy5fdGl0bGUgPSBwYXJhbXMudGl0bGU7XG4gICAgICAgIHRoaXMuX2NvZGUgPSBwYXJhbXMuY29kZTtcbiAgICAgICAgdGhpcy5fc2NvcGUgPSBwYXJhbXMuc2NvcGUgPyAoQV9UeXBlR3VhcmRzLmlzU2NvcGVJbnN0YW5jZShwYXJhbXMuc2NvcGUpID8gcGFyYW1zLnNjb3BlLm5hbWUgOiBwYXJhbXMuc2NvcGUpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHRoaXMuX2FzZWlkID0gbmV3IEFTRUlEKHtcbiAgICAgICAgICAgIGNvbmNlcHQ6ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5jb25jZXB0LFxuICAgICAgICAgICAgc2NvcGU6IHRoaXMuX3Njb3BlIHx8ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5zY29wZSxcbiAgICAgICAgICAgIGVudGl0eTogKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRXJyb3IpLmVudGl0eSxcbiAgICAgICAgICAgIGlkOiB0aGlzLmNvZGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBwYXJhbXMuZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuX2xpbmsgPSBwYXJhbXMubGluaztcblxuICAgICAgICAvLyBIYW5kbGUgb3JpZ2luYWxFcnJvcjogaWYgaXQncyBhbiBBX0Vycm9yLCB3ZSBzaG91bGQgdHJhY2UgYmFjayB0byB0aGUgcm9vdCBjYXVzZVxuICAgICAgICAvLyB0byBhdm9pZCBpbmZpbml0ZSBuZXN0aW5nIG9mIEFfRXJyb3IgaW5zdGFuY2VzXG4gICAgICAgIGlmIChwYXJhbXMub3JpZ2luYWxFcnJvciBpbnN0YW5jZW9mIEFfRXJyb3IpIHtcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIHJvb3Qgb3JpZ2luYWwgZXJyb3IgYnkgdHJhdmVyc2luZyB0aGUgY2hhaW5cbiAgICAgICAgICAgIGxldCByb290RXJyb3IgPSBwYXJhbXMub3JpZ2luYWxFcnJvcjtcbiAgICAgICAgICAgIHdoaWxlIChyb290RXJyb3Iub3JpZ2luYWxFcnJvciBpbnN0YW5jZW9mIEFfRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByb290RXJyb3IgPSByb290RXJyb3Iub3JpZ2luYWxFcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldCB0aGUgcm9vdCBjYXVzZSBhcyB0aGUgb3JpZ2luYWwgZXJyb3JcbiAgICAgICAgICAgIHRoaXMuX29yaWdpbmFsRXJyb3IgPSByb290RXJyb3Iub3JpZ2luYWxFcnJvciB8fCByb290RXJyb3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9vcmlnaW5hbEVycm9yID0gcGFyYW1zLm9yaWdpbmFsRXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemVzIHRoZSBBX0Vycm9yIGluc3RhbmNlIHRvIGEgcGxhaW4gb2JqZWN0LlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvSlNPTigpOiBfU2VyaWFsaXplZFR5cGUge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXNlaWQ6IHRoaXMuYXNlaWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlLFxuICAgICAgICAgICAgY29kZTogdGhpcy5jb2RlLFxuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgICAgICAgbGluazogdGhpcy5saW5rLFxuICAgICAgICAgICAgc2NvcGU6IHRoaXMuc2NvcGUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IHRoaXMub3JpZ2luYWxFcnJvcj8ubWVzc2FnZVxuICAgICAgICB9IGFzIF9TZXJpYWxpemVkVHlwZTtcbiAgICB9XG5cblxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBQUk9URUNURUQgSEVMUEVSUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBwcm92aWRlZCB0aXRsZSBleGNlZWRzIDYwIGNoYXJhY3RlcnMuXG4gICAgICogSWYgaXQgZG9lcywgdGhyb3dzIGEgdmFsaWRhdGlvbiBBX0Vycm9yLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB0aXRsZSBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgdmFsaWRhdGVUaXRsZSh0aXRsZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aXRsZS5sZW5ndGggPiA2MCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTLlZBTElEQVRJT05fRVJST1IsXG4gICAgICAgICAgICAgICAgJ0EtRXJyb3IgdGl0bGUgZXhjZWVkcyA2MCBjaGFyYWN0ZXJzIGxpbWl0LidcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpdGxlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTLlZBTElEQVRJT05fRVJST1IsXG4gICAgICAgICAgICAgICAgJ0EtRXJyb3IgdGl0bGUgY2Fubm90IGJlIGVtcHR5LidcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuXG5cblxuLy8gbWVzc2FnZSA9IHRpdGxlICsgZGVzY3JpcHRpb24gZm9yIGJldHRlciBwcmludGluZyBpbiB0aGUgY29uc29sZVxuLy8gZGVzY3JpcHRpb24gPSBkZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXJyb3Jcbi8vIGNvZGUgPSBrZWJhYmNhc2UgKHRpdGxlKVxuXG4iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBU0VJRF9FcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgQVNFSURJbml0aWFsaXphdGlvbkVycm9yID0gJ0FTRUlEIEluaXRpYWxpemF0aW9uIEVycm9yJztcbiAgICBcbiAgICBzdGF0aWMgcmVhZG9ubHkgQVNFSURWYWxpZGF0aW9uRXJyb3IgPSAnQVNFSUQgVmFsaWRhdGlvbiBFcnJvcic7XG5cbn0iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19BU0VJRF9Db25zdHJ1Y3RvcixcbiAgICBBX1RZUEVTX19BU0VJRF9KU09OXG59IGZyb20gXCIuL0FTRUlELnR5cGVzXCI7XG5pbXBvcnQgeyBBX0lkZW50aXR5SGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0lkZW50aXR5LmhlbHBlclwiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiLi4vQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQVNFSURfRXJyb3IgfSBmcm9tIFwiLi9BU0VJRC5lcnJvclwiO1xuaW1wb3J0IHsgQV9UWVBFU19fUmVxdWlyZWQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC90eXBlcy9BX0NvbW1vbi50eXBlc1wiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFTRUlEIHtcblxuXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gU1RBVElDIE1FVEhPRFMgPT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIEFTRUlEIFJlZ3VsYXIgRXhwcmVzc2lvblxuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSByZWdleHA6IFJlZ0V4cCA9IG5ldyBSZWdFeHAoYF5bYS16fEEtWnwwLTl8LV0rQFthLXp8QS1afDAtOXxcXC1dKzpbYS16fEEtWnwwLTl8XFwtXSs6W2EtenxBLVp8MC05fFxcXFwufC1dKyhAdlswLTl8XFxcXC5dK3xAbHRzKT8kYClcbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiB0aGUgaWRlbnRpdHkgc3RyaW5nIGlzIGFuIEFTRUlEXG4gICAgICogXG4gICAgICogQHBhcmFtIGlkZW50aXR5IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0FTRUlEKGlkZW50aXR5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVnZXhwLnRlc3QoaWRlbnRpdHkpXG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT0gSGlkZGVuIEFTRUlEIEluZm9ybWF0aW9uID09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIENvbmNlcHQgZm9yIHRoZSBBU0VJRFxuICAgICAqIEdlbmVyYWxseSBpdCBpcyB0aGUgYXBwbGljYXRpb24gbmFtZSBvciBjb2RlLCBzaG91bGQgY29ycmVzcG9uZCB0byB0aGUgY29uY2VwdCB3aGVyZSB0aGUgZW50aXR5IGlzIHVzZWRcbiAgICAgKiBDb3VsZCBiZSBJRCBvciBBU0VJRFxuICAgICAqL1xuICAgIHByaXZhdGUgX2NvbmNlcHQhOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogRW50aXR5IFNjb3BlIHRoZSBwcmltYXJ5IGxvY2F0aW9uIG9mIHRoZSByZXNvdXJjZSBcbiAgICAgKiBPcmdhbml6YXRpb24sIG9yIG9yZ2FuaXphdGlvbiBVbml0XG4gICAgICogQ291bGQgYmUgSUQgb3IgQVNFSURcbiAgICAgKiBcbiAgICAgKi9cbiAgICBwcml2YXRlIF9zY29wZSE6IHN0cmluZ1xuICAgIC8qKlxuICAgICAqIEVudGl0eSBUeXBlIHRoZSB0eXBlIG9mIHRoZSByZXNvdXJjZVxuICAgICAqL1xuICAgIHByaXZhdGUgX2VudGl0eSE6IHN0cmluZ1xuICAgIC8qKlxuICAgICAqIEVudGl0eSBJRCB0aGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHJlc291cmNlXG4gICAgICovXG4gICAgcHJpdmF0ZSBfaWQhOiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBWZXJzaW9uIG9mIHRoZSBlbnRpdHkgKG9wdGlvbmFsKVxuICAgICAqL1xuICAgIHByaXZhdGUgX3ZlcnNpb24/OiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBTaGFyZCBvZiB0aGUgZW50aXR5IChvcHRpb25hbClcbiAgICAgKi9cbiAgICBwcml2YXRlIF9zaGFyZD86IHN0cmluZ1xuXG5cblxuXG5cblxuICAgIC8qKlxuICAgICAqIEFTRUlEIGlzIGEgc3RydWN0dXJlZCBpZGVudGlmaWVyIGZvciBlbnRpdGllcyBpbiB0aGUgQS1Db25jZXB0IHN5c3RlbS4gXG4gICAgICogdXNpbmcgdGhlIGZvcm1hdDpcbiAgICAgKiAgQSAtIEEtQ29uY2VwdFxuICAgICAqICBTIC0gU3lzdGVtIFxuICAgICAqICBFIC0gRW50aXR5XG4gICAgICogIEkgLSBJZGVudGlmaWVyXG4gICAgICogIEQgLSBpRGVudGlmaWVyXG4gICAgICogXG4gICAgICogU3RydWN0dXJlOiBDT05DRVBUX05BTUUgKyBAICsgU0NPUEUgKyA6IEVOVElUWV9OQU1FICsgOiArIElEICsgQCArIFZFUlNJT04gXG4gICAgICogXG4gICAgICogRXhhbXBsZTpcbiAgICAgKiAgLSByb290QGNvcmU6dXNyOjAwMDAwMDAwMDFcbiAgICAgKiBcbiAgICAgKiBbIV0gQ29uY2VwdCBpcyBvcHRpb25hbCwgaWYgbm90IHByb3ZpZGVkIHdpbGwgYmUgdXNlZCB0aGUgY3VycmVudCBjb25jZXB0IG5hbWVcbiAgICAgKiBbIV0gU2NvcGUgaXMgb3B0aW9uYWwsIGlmIG5vdCBwcm92aWRlZCB3aWxsIGJlIHVzZWQgdGhlIHJvb3Qgc2NvcGUgb2YgdGhlIGN1cnJlbnQgY29uY2VwdFxuICAgICAqIFshXSBWZXJzaW9uIGlzIG9wdGlvbmFsLCBpZiBub3QgcHJvdmlkZWQgd2lsbCBiZSBjb25zaWRlcmVkIGFzIGxhdGVzdCB2ZXJzaW9uXG4gICAgICogXG4gICAgICogQHBhcmFtIGFzZWlkIC0gQVNFSUQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9yIEFTRUlEIGNvbXBvbmVudHMgYXMgb2JqZWN0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBU0VJRCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICAgICAgICovXG4gICAgICAgIGFzZWlkOiBzdHJpbmdcbiAgICApXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBU0VJRCBjb21wb25lbnRzIGFzIG9iamVjdCBcbiAgICAgICAgICovXG4gICAgICAgIHByb3BzOiBBX1RZUEVTX19SZXF1aXJlZDxQYXJ0aWFsPEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yPiwgWydpZCcsICdlbnRpdHknXT5cbiAgICApXG4gICAgY29uc3RydWN0b3IocGFyYW0xOiBzdHJpbmcgfCBBX1RZUEVTX19SZXF1aXJlZDxQYXJ0aWFsPEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yPiwgWydpZCcsICdlbnRpdHknXT4pIHtcbiAgICAgICAgdGhpcy52ZXJpZnlJbnB1dChwYXJhbTEpO1xuXG4gICAgICAgIGNvbnN0IGluaXRpYWxpemVyID0gdGhpcy5nZXRJbml0aWFsaXplcihwYXJhbTEpO1xuICAgICAgICAvLyB0aGUgcmV0dXJuZWQgaW5pdGlhbGl6ZXIgaXMgYWxyZWFkeSBib3VuZCB0byBgdGhpc2AgKHdlIHVzZWQgLmJpbmQodGhpcykpLFxuICAgICAgICAvLyBzbyBjYWxsaW5nIGl0IHdpbGwgcnVuIHRoZSBhcHByb3ByaWF0ZSBsb2dpYyBvbiB0aGlzIGluc3RhbmNlOlxuICAgICAgICBpbml0aWFsaXplci5jYWxsKHRoaXMsIHBhcmFtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0dGVycyBmb3IgQVNFSUQgY29tcG9uZW50c1xuICAgICAqL1xuICAgIGdldCBjb25jZXB0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25jZXB0IHx8IEFfQ29udGV4dC5jb25jZXB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNjb3BlIG9mIHRoZSBBU0VJRFxuICAgICAqL1xuICAgIGdldCBzY29wZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2NvcGUgfHwgQV9Db250ZXh0LnJvb3QubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBlbnRpdHkgb2YgdGhlIEFTRUlEXG4gICAgICovXG4gICAgZ2V0IGVudGl0eSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW50aXR5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGlkIG9mIHRoZSBBU0VJRFxuICAgICAqL1xuICAgIGdldCBpZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmVyc2lvbiBvZiB0aGUgQVNFSUQgKGlmIGFueSlcbiAgICAgKi9cbiAgICBnZXQgdmVyc2lvbigpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmVyc2lvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzaGFyZCBvZiB0aGUgQVNFSUQgKGlmIGFueSlcbiAgICAgKi9cbiAgICBnZXQgc2hhcmQoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NoYXJkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdldCBJbnRlcm5hbCBJbml0aWFsaXplciBiYXNlZCBvbiB0aGUgdHlwZSBvZiB0aGUgcGFyYW1ldGVyIHByb3ZpZGVkXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtMSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldEluaXRpYWxpemVyKFxuICAgICAgICBwYXJhbTE6IHN0cmluZyB8IEFfVFlQRVNfX1JlcXVpcmVkPFBhcnRpYWw8QV9UWVBFU19fQVNFSURfQ29uc3RydWN0b3I+LCBbJ2lkJywgJ2VudGl0eSddPlxuICAgICk6IChwYXJhbTE6IGFueSkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKSB7XG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcocGFyYW0xKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tU3RyaW5nO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc09iamVjdDxBX1RZUEVTX19BU0VJRF9Db25zdHJ1Y3Rvcj4ocGFyYW0xKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tT2JqZWN0O1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBU0VJRF9FcnJvcihcbiAgICAgICAgICAgICAgICAgICAgQVNFSURfRXJyb3IuQVNFSURJbml0aWFsaXphdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICAnSW52YWxpZCBwYXJhbWV0ZXJzIHByb3ZpZGVkIHRvIEFTRUlEIGNvbnN0cnVjdG9yJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgQVNFSUQgZnJvbSBzdHJpbmdcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW0xIFxuICAgICAqL1xuICAgIHByaXZhdGUgZnJvbVN0cmluZyhwYXJhbTE6IHN0cmluZykge1xuICAgICAgICBjb25zdCBbY29uY2VwdCwgYm9keSwgdmVyc2lvbl0gPSBwYXJhbTEuc3BsaXQoJ0AnKTtcbiAgICAgICAgY29uc3QgW3Njb3BlLCBlbnRpdHksIGlkQ2FuZGlkYXRlXSA9IGJvZHkuc3BsaXQoJzonKTtcblxuICAgICAgICBjb25zdCBzaGFyZCA9IGlkQ2FuZGlkYXRlLmluY2x1ZGVzKCcuJykgPyBpZENhbmRpZGF0ZS5zcGxpdCgnLicpWzBdIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBpZCA9IGlkQ2FuZGlkYXRlLmluY2x1ZGVzKCcuJykgPyBpZENhbmRpZGF0ZS5zcGxpdCgnLicpWzFdIDogaWRDYW5kaWRhdGU7XG5cbiAgICAgICAgdGhpcy5fY29uY2VwdCA9IGNvbmNlcHQgfHwgQV9Db250ZXh0LnJvb3QubmFtZTtcbiAgICAgICAgdGhpcy5fc2NvcGUgPSBzY29wZSB8fCBBX0NvbnRleHQucm9vdC5uYW1lO1xuICAgICAgICB0aGlzLl9lbnRpdHkgPSBlbnRpdHk7XG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XG4gICAgICAgIHRoaXMuX3ZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLl9zaGFyZCA9IHNoYXJkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIEFTRUlEIGZyb20gb2JqZWN0XG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtMSBcbiAgICAgKi9cbiAgICBwcml2YXRlIGZyb21PYmplY3QocGFyYW0xOiBBX1RZUEVTX19SZXF1aXJlZDxQYXJ0aWFsPEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yPiwgWydpZCcsICdlbnRpdHknXT4pIHtcbiAgICAgICAgdGhpcy5fY29uY2VwdCA9IHBhcmFtMS5jb25jZXB0XG4gICAgICAgICAgICA/IEFTRUlELmlzQVNFSUQocGFyYW0xLmNvbmNlcHQpXG4gICAgICAgICAgICAgICAgPyBuZXcgQVNFSUQocGFyYW0xLmNvbmNlcHQpLmlkXG4gICAgICAgICAgICAgICAgOiBwYXJhbTEuY29uY2VwdFxuICAgICAgICAgICAgOiBBX0NvbnRleHQuY29uY2VwdDtcblxuICAgICAgICB0aGlzLl9zY29wZSA9IHBhcmFtMS5zY29wZVxuICAgICAgICAgICAgPyBBX1R5cGVHdWFyZHMuaXNOdW1iZXIocGFyYW0xLnNjb3BlKVxuICAgICAgICAgICAgICAgID8gQV9JZGVudGl0eUhlbHBlci5mb3JtYXRXaXRoTGVhZGluZ1plcm9zKHBhcmFtMS5zY29wZSkgOlxuICAgICAgICAgICAgICAgIEFTRUlELmlzQVNFSUQocGFyYW0xLnNjb3BlKVxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBBU0VJRChwYXJhbTEuc2NvcGUpLmlkXG4gICAgICAgICAgICAgICAgICAgIDogcGFyYW0xLnNjb3BlXG4gICAgICAgICAgICA6IEFfQ29udGV4dC5yb290Lm5hbWVcblxuICAgICAgICB0aGlzLl9lbnRpdHkgPSBwYXJhbTEuZW50aXR5O1xuXG4gICAgICAgIHRoaXMuX2lkID0gQV9UeXBlR3VhcmRzLmlzTnVtYmVyKHBhcmFtMS5pZClcbiAgICAgICAgICAgID8gQV9JZGVudGl0eUhlbHBlci5mb3JtYXRXaXRoTGVhZGluZ1plcm9zKHBhcmFtMS5pZClcbiAgICAgICAgICAgIDogcGFyYW0xLmlkO1xuXG4gICAgICAgIHRoaXMuX3ZlcnNpb24gPSBwYXJhbTEudmVyc2lvbjtcbiAgICAgICAgdGhpcy5fc2hhcmQgPSBwYXJhbTEuc2hhcmQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIEFTRUlEXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuY29uY2VwdH1AJHt0aGlzLnNjb3BlfToke3RoaXMuZW50aXR5fToke3RoaXMuc2hhcmQgPyAodGhpcy5zaGFyZCArICcuJyArIHRoaXMuaWQpIDogdGhpcy5pZH0ke3RoaXMudmVyc2lvbiA/ICgnQCcgKyB0aGlzLnZlcnNpb24pIDogJyd9YFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIEFTRUlEXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgdG9KU09OKCk6IEFfVFlQRVNfX0FTRUlEX0pTT04ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29uY2VwdDogdGhpcy5fY29uY2VwdCxcbiAgICAgICAgICAgIHNjb3BlOiB0aGlzLl9zY29wZSxcbiAgICAgICAgICAgIGVudGl0eTogdGhpcy5fZW50aXR5LFxuICAgICAgICAgICAgaWQ6IHRoaXMuX2lkLFxuICAgICAgICAgICAgdmVyc2lvbjogdGhpcy5fdmVyc2lvbixcbiAgICAgICAgICAgIHNoYXJkOiB0aGlzLl9zaGFyZFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBQUk9URUNURUQgSEVMUEVSUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuICAgIHByb3RlY3RlZCB2ZXJpZnlJbnB1dChwYXJhbTE6IHN0cmluZyB8IEFfVFlQRVNfX1JlcXVpcmVkPFBhcnRpYWw8QV9UWVBFU19fQVNFSURfQ29uc3RydWN0b3I+LCBbJ2lkJywgJ2VudGl0eSddPikge1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgLy8gMSkgY2hlY2sgZm9yIHN0cmluZyBhbmQgdmFsaWRhdGUgaXQgYXMgQVNFSURcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKHBhcmFtMSkgJiYgIUFTRUlELmlzQVNFSUQocGFyYW0xKTpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQVNFSURfRXJyb3IoQVNFSURfRXJyb3IuQVNFSURWYWxpZGF0aW9uRXJyb3IsICdJbnZhbGlkIEFTRUlEIGZvcm1hdCBwcm92aWRlZCcpXG5cbiAgICAgICAgICAgIC8vIDIpIGNoZWNrIGZvciBvYmplY3QgYW5kIHZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNPYmplY3Q8QV9UWVBFU19fQVNFSURfQ29uc3RydWN0b3I+KHBhcmFtMSkgJiYgIXBhcmFtMS5pZDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQVNFSURfRXJyb3IoQVNFSURfRXJyb3IuQVNFSURWYWxpZGF0aW9uRXJyb3IsICdBU0VJRCBpZCBpcyByZXF1aXJlZCcpXG5cbiAgICAgICAgICAgIC8vIDMpIGNoZWNrIGZvciBvYmplY3QgYW5kIHZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNPYmplY3Q8QV9UWVBFU19fQVNFSURfQ29uc3RydWN0b3I+KHBhcmFtMSkgJiYgIXBhcmFtMS5lbnRpdHk6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFTRUlEX0Vycm9yKEFTRUlEX0Vycm9yLkFTRUlEVmFsaWRhdGlvbkVycm9yLCAnQVNFSUQgZW50aXR5IGlzIHJlcXVpcmVkJylcblxuICAgICAgICB9XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfRW50aXR5RXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIC8qKlxuICAgICAqIEVycm9yIGNvZGUgZm9yIHZhbGlkYXRpb24gZXJyb3JzLlxuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBWYWxpZGF0aW9uRXJyb3IgPSAnQS1FbnRpdHkgVmFsaWRhdGlvbiBFcnJvcic7XG5cbn0iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19FbnRpdHlfU2VyaWFsaXplZCxcbiAgICBBX1RZUEVTX19FbnRpdHlfSW5pdCxcbiAgICBBX1RZUEVTX19JRW50aXR5LFxufSBmcm9tIFwiLi9BLUVudGl0eS50eXBlc1wiO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIi4uL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0Zvcm1hdHRlckhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Gb3JtYXR0ZXIuaGVscGVyXCI7XG5pbXBvcnQgeyBBU0VJRCB9IGZyb20gXCIuLi9BU0VJRC9BU0VJRC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9JZGVudGl0eUhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9JZGVudGl0eS5oZWxwZXJcIjtcbmltcG9ydCB7IEFfRW50aXR5RXJyb3IgfSBmcm9tIFwiLi9BLUVudGl0eS5lcnJvclwiO1xuaW1wb3J0IHsgQV9GZWF0dXJlIH0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL0FTRUlEL0FTRUlELnR5cGVzXCI7XG5cblxuLyoqXG4gKiBBX0VudGl0eSBpcyBhbm90aGVyIGFic3RyYWN0aW9uIHRoYXQgZGVzY3JpYmVzIGFsbCBtYWpvciBwYXJ0aWNpcGFudHMgaW4gdGhlIHN5c3RlbSBidXNpbmVzcyBsb2dpYy5cbiAqIEVhY2ggRW50aXR5IHNob3VsZCBoYXZlIGEgY2xlYXIgZGVmaW5pdGlvbiBhbmQgYSBjbGVhciBzZXQgb2YgcmVzcG9uc2liaWxpdGllcy4gXG4gKiBIb3dldmVyLCBlbnRpdHkgbWF5IGhpZGUgc29tZSBvZiBpdHMgcmVzcG9uc2liaWxpdGllcyBiZWhpbmQgdGhlIGludGVyZmFjZSB0byBwcmV2ZW50IG92ZXJsb2FkLiBcbiAqIFxuICogRWFjaCBlbnRpdHkgc2hvdWxkIGJlIGNvbm5lY3RlZCB0byB0aGUgQ29udGV4dEZyYWdtZW50IChTY29wZSkgYW5kIHNob3VsZCBiZSBhYmxlIHRvIGNvbW11bmljYXRlIHdpdGggb3RoZXIgZW50aXRpZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBBX0VudGl0eTxcbiAgICBfQ29uc3RydWN0b3JUeXBlIGV4dGVuZHMgQV9UWVBFU19fRW50aXR5X0luaXQgPSBBX1RZUEVTX19FbnRpdHlfSW5pdCxcbiAgICBfU2VyaWFsaXplZFR5cGUgZXh0ZW5kcyBBX1RZUEVTX19FbnRpdHlfU2VyaWFsaXplZCA9IEFfVFlQRVNfX0VudGl0eV9TZXJpYWxpemVkXG4+XG4gICAgaW1wbGVtZW50cyBBX1RZUEVTX19JRW50aXR5IHtcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09IFN0YXRpYyBBLUVudGl0eSBJbmZvcm1hdGlvbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBFbnRpdHkgSWRlbnRpZmllciB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBjbGFzcyBuYW1lXG4gICAgICovXG4gICAgc3RhdGljIGdldCBlbnRpdHkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEFfRm9ybWF0dGVySGVscGVyLnRvS2ViYWJDYXNlKHRoaXMubmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERFRkFVTFQgQ29uY2VwdCBOYW1lIChBcHBsaWNhdGlvbiBOYW1lKSBvZiB0aGUgZW50aXR5IGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGUgQV9DT05DRVBUX05BTUVcbiAgICAgKiBbIV0gSWYgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvICdhLWNvbmNlcHQnXG4gICAgICovXG4gICAgc3RhdGljIGdldCBjb25jZXB0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQuY29uY2VwdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogREVGQVVMVCBTY29wZSBvZiB0aGUgZW50aXR5IGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGUgQV9DT05DRVBUX0RFRkFVTFRfU0NPUEVcbiAgICAgKiBbIV0gSWYgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvICdjb3JlJ1xuICAgICAqIFshXSBTY29wZSBpcyBhbiBhcHBsaWNhdGlvbiBzcGVjaWZpYyBpZGVudGlmaWVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZ3JvdXAgZW50aXRpZXMgdG9nZXRoZXJcbiAgICAgKiBbIV0gZS5nLiAnZGVmYXVsdCcsICdjb3JlJywgJ3B1YmxpYycsICdpbnRlcm5hbCcsIGV0Y1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgc2NvcGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5yb290Lm5hbWU7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09IEluc3RhbmNlIEEtRW50aXR5IEluZm9ybWF0aW9uID09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEFTRUlEIGlzIGFuIGVudGl0eSBpZGVudGlmaWVyIHRoYXQgaXMgdW5pcXVlIGFjcm9zcyB0aGUgc3lzdGVtXG4gICAgICogQSAtIEFfQ29uY2VwdCBvciBBcHBsaWNhdGlvblxuICAgICAqIFMgLSBTeXN0ZW0gb3IgU2NvcGVcbiAgICAgKiBFIC0gRW50aXR5XG4gICAgICogSUQgLSBJZGVudGlmaWVyXG4gICAgICogXG4gICAgICogWyFdIEFTRUlEIGlzIGltbXV0YWJsZSBhbmQgc2hvdWxkIG5vdCBiZSBjaGFuZ2VkIGFmdGVyIHRoZSBlbnRpdHkgaXMgY3JlYXRlZFxuICAgICAqIFxuICAgICAqIFshXSBBU0VJRCBpcyBjb21wb3NlZCBvZiB0aGUgZm9sbG93aW5nIHBhcnRzOlxuICAgICAqIC0gY29uY2VwdDogYW4gYXBwbGljYXRpb24gc3BlY2lmaWMgaWRlbnRpZmllciBmcm9tIHdoZXJlIHRoZSBlbnRpdHkgaXMgY29taW5nIGZyb21cbiAgICAgKiAtIHNjb3BlOiB0aGUgc2NvcGUgb2YgdGhlIGVudGl0eSBmcm9tIGNvbmNlcHRcbiAgICAgKiAtIGVudGl0eTogdGhlIG5hbWUgb2YgdGhlIGVudGl0eSBmcm9tIGNvbmNlcHRcbiAgICAgKiAtIGlkOiB0aGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIGVudGl0eVxuICAgICAqXG4gICAgICogWyFdIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IEFTRUlELCBwbGVhc2UgcmVmZXIgdG8gdGhlIEFTRUlEIGNsYXNzIGRvY3VtZW50YXRpb25dXG4gICAgICovXG4gICAgYXNlaWQhOiBBU0VJRDtcblxuXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQV9lbnRpdHkgaW5zdGFuY2UgZnJvbSBBc2VpZCBTdHJpbmdcbiAgICAgKiBlLmcuIHByb2plY3RAc2NvcGU6ZW50aXR5OjAwMDAwMDAwMDFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gYXNlaWQgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBU0VJRCBzdHJpbmcgdGhhdCByZXByZXNlbnRzIHRoZSBlbnRpdHlcbiAgICAgICAgICovXG4gICAgICAgIGFzZWlkPzogc3RyaW5nXG4gICAgKVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBBX2VudGl0eSBpbnN0YW5jZSBmcm9tIEFzZWlkIGluc3RhbmNlXG4gICAgICogZS5nLiBuZXcgQVNFSUQoe2NvbmNlcHQ6ICdwcm9qZWN0Jywgc2NvcGU6ICdkZWZhdWx0JywgZW50aXR5OiAnZW50aXR5JywgaWQ6ICcwMDAwMDAwMDAxJ30pXG4gICAgICogXG4gICAgICogQHBhcmFtIGFzZWlkIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogQVNFSUQgaW5zdGFuY2UgdGhhdCByZXByZXNlbnRzIHRoZSBlbnRpdHlcbiAgICAgICAgICovXG4gICAgICAgIGFzZWlkOiBBU0VJRFxuICAgIClcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQV9lbnRpdHkgaW5zdGFuY2UgZnJvbSBzZXJpYWxpemVkIG9iamVjdFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzZXJpYWxpemVkIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogU2VyaWFsaXplZCBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSBlbnRpdHlcbiAgICAgICAgICovXG4gICAgICAgIHNlcmlhbGl6ZWQ6IF9TZXJpYWxpemVkVHlwZVxuICAgIClcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQV9lbnRpdHkgaW5zdGFuY2UgZnJvbSBjb25zdHJ1Y3RvciBvYmplY3RcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbmV3RW50aXR5IFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RydWN0b3Igb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgZW50aXR5XG4gICAgICAgICAqL1xuICAgICAgICBuZXdFbnRpdHk/OiBfQ29uc3RydWN0b3JUeXBlXG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKHByb3BzPzogc3RyaW5nIHwgQVNFSUQgfCBfU2VyaWFsaXplZFR5cGUgfCBfQ29uc3RydWN0b3JUeXBlKSB7XG5cbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZXIgPSB0aGlzLmdldEluaXRpYWxpemVyKHByb3BzKTtcbiAgICAgICAgLy8gdGhlIHJldHVybmVkIGluaXRpYWxpemVyIGlzIGFscmVhZHkgYm91bmQgdG8gYHRoaXNgICh3ZSB1c2VkIC5iaW5kKHRoaXMpKSxcbiAgICAgICAgLy8gc28gY2FsbGluZyBpdCB3aWxsIHJ1biB0aGUgYXBwcm9wcmlhdGUgbG9naWMgb24gdGhpcyBpbnN0YW5jZTpcbiAgICAgICAgaW5pdGlhbGl6ZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gICAgfVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09IERVUExJQ0FURUQgQVNFSUQgR2V0dGVycyA9PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIElEIGZyb20gdGhlIEFTRUlEXG4gICAgICogSUQgaXMgdGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBlbnRpdHlcbiAgICAgKi9cbiAgICBnZXQgaWQoKTogc3RyaW5nIHwgbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXNlaWQuaWQ7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gQ29uc3RydWN0b3IgSGVscGVycyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICAgIC8vIC0tLSBUeXBlIGd1YXJkcyB1c2VkIHRvIGNsYXNzaWZ5IGBwcm9wc2AgcHJvcGVybHkgLS0tXG4gICAgcHJvdGVjdGVkIGlzU3RyaW5nQVNFSUQoeDogdW5rbm93bik6IHggaXMgc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN0cmluZ1wiICYmIEFTRUlELmlzQVNFSUQoeCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGlzQVNFSURJbnN0YW5jZSh4OiB1bmtub3duKTogeCBpcyBBU0VJRCB7XG4gICAgICAgIHJldHVybiB4IGluc3RhbmNlb2YgQVNFSUQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBcInNlcmlhbGl6ZWRcIiBvYmplY3QgaXMgY29uc2lkZXJlZCBzdWNoIGlmIGl0IGlzIGEgbm9uLW51bGwgb2JqZWN0IFxuICAgICAqIGFuZCBjb250YWlucyBhbiBcImFzZWlkXCIgcHJvcGVydHkgKHRoaXMgbWlycm9ycyB5b3VyIG9yaWdpbmFsIGNoZWNrKS4gXG4gICAgICogXG4gICAgICogQHBhcmFtIHggXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGlzU2VyaWFsaXplZE9iamVjdCh4OiB1bmtub3duKTogeCBpcyBfU2VyaWFsaXplZFR5cGUge1xuICAgICAgICByZXR1cm4gISF4ICYmIHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmIFwiYXNlaWRcIiBpbiAoeCBhcyBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yLXN0eWxlIHByb3BzID0gYSBwbGFpbiBvYmplY3Qgd2hpY2ggZG9lcyBOT1QgY29udGFpbiBcImFzZWlkXCIuXG4gICAgICogVGhpcyBpcyB0aGUgXCJjcmVhdGUgZnJvbSBwcm92aWRlZCBmaWVsZHNcIiBjYXNlLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB4IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpc0NvbnN0cnVjdG9yUHJvcHMoeDogdW5rbm93bik6IHggaXMgX0NvbnN0cnVjdG9yVHlwZSB7XG4gICAgICAgIHJldHVybiAhIXggJiYgdHlwZW9mIHggPT09IFwib2JqZWN0XCIgJiYgIShcImFzZWlkXCIgaW4gKHggYXMgb2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgYXBwcm9wcmlhdGUgaW5pdGlhbGl6ZXIgbWV0aG9kIGJhc2VkIG9uIHRoZSB0eXBlIG9mIGBwcm9wc2AuXG4gICAgICogVGhlIG1ldGhvZCBjaGVja3MgaWYgYHByb3BzYCBpczogIFxuICAgICAqIDEpIGEgc3RyaW5nIHRoYXQgbWF0Y2hlcyBBU0VJRCBmb3JtYXQgLT4gZnJvbUFTRUlEXG4gICAgICogMikgYW4gQVNFSUQgaW5zdGFuY2UgLT4gZnJvbUFTRUlEXG4gICAgICogMykgYSBzZXJpYWxpemVkIG9iamVjdCAoaGFzICdhc2VpZCcpIC0+IGZyb21KU09OXG4gICAgICogNCkgYSBwbGFpbiBvYmplY3Qgd2l0aCBubyAnYXNlaWQnIC0+IHRyZWF0IGFzIGNvbnN0cnVjdG9yIHByb3BzIC0+IGZyb21OZXdcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgYHByb3BzYCBpcyB1bmRlZmluZWQsIGl0IHdpbGwgY2FsbCBmcm9tVW5kZWZpbmVkIG1ldGhvZFxuICAgICAqIFxuICAgICAqIElmIG5vbmUgb2YgdGhlIGFib3ZlLCBpdCB0aHJvd3MgYW4gZXJyb3IgaW5kaWNhdGluZyBpbmNvcnJlY3QgY29uc3RydWN0b3IgdXNhZ2UuXG4gICAgICogXG4gICAgICogXG4gICAgICogVG8gZ2V0IGEgY3VzdG9tIGluaXRpYWxpemVyLCBvdmVycmlkZSB0aGlzIG1ldGhvZCBpbiB0aGUgY2hpbGQgY2xhc3MuXG4gICAgICogRXhhbXBsZTpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogcHJvdGVjdGVkIGdldEluaXRpYWxpemVyKFxuICAgICAqICAgcHJvcHM/OiBzdHJpbmcgfCBBU0VJRCB8IF9TZXJpYWxpemVkVHlwZSB8IF9Db25zdHJ1Y3RvclR5cGVcbiAgICAgKiApOiAocHJvcHM6IGFueSkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKSB7XG4gICAgICogICBpZignY3VzdG9tRmllbGQnIGluIHByb3BzKSB7XG4gICAgICogICAgICAgcmV0dXJuIHRoaXMuZnJvbUN1c3RvbUZpZWxkLmJpbmQodGhpcyk7XG4gICAgICogICB9XG4gICAgICogICByZXR1cm4gc3VwZXIuZ2V0SW5pdGlhbGl6ZXIocHJvcHMpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKiBAcGFyYW0gcHJvcHNcbiAgICAgKiBAcmV0dXJucyBUaGUgYXBwcm9wcmlhdGUgaW5pdGlhbGl6ZXIgbWV0aG9kXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldEluaXRpYWxpemVyKFxuICAgICAgICBwcm9wcz86IHN0cmluZyB8IEFTRUlEIHwgX1NlcmlhbGl6ZWRUeXBlIHwgX0NvbnN0cnVjdG9yVHlwZVxuICAgICk6IChwcm9wczogYW55KSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpIHtcblxuICAgICAgICBpZiAoIXByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tVW5kZWZpbmVkXG4gICAgICAgIH1cblxuICAgICAgICAvLyAxKSBzdHJpbmcgdGhhdCBtYXRjaGVzIEFTRUlEIGZvcm1hdCAtPiBmcm9tQVNFSURcbiAgICAgICAgaWYgKHRoaXMuaXNTdHJpbmdBU0VJRChwcm9wcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21BU0VJRCBhcyAocDogc3RyaW5nKSA9PiB2b2lkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMikgQVNFSUQgaW5zdGFuY2UgLT4gZnJvbUFTRUlEXG4gICAgICAgIGlmICh0aGlzLmlzQVNFSURJbnN0YW5jZShwcm9wcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21BU0VJRCBhcyAocDogQVNFSUQpID0+IHZvaWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzKSBzZXJpYWxpemVkIG9iamVjdCAoaGFzICdhc2VpZCcpIC0+IGZyb21KU09OXG4gICAgICAgIGlmICh0aGlzLmlzU2VyaWFsaXplZE9iamVjdChwcm9wcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21KU09OIGFzIChwOiBfU2VyaWFsaXplZFR5cGUpID0+IHZvaWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyA0KSBwbGFpbiBvYmplY3Qgd2l0aCBubyAnYXNlaWQnIC0+IHRyZWF0IGFzIGNvbnN0cnVjdG9yIHByb3BzIC0+IGZyb21OZXdcbiAgICAgICAgaWYgKHRoaXMuaXNDb25zdHJ1Y3RvclByb3BzKHByb3BzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbU5ldyBhcyAocDogX0NvbnN0cnVjdG9yVHlwZSkgPT4gdm9pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vbmUgb2YgdGhlIGFib3ZlIC0+IHRocm93IGNvbnNpc3RlbnQgZXJyb3JcbiAgICAgICAgdGhyb3cgbmV3IEFfRW50aXR5RXJyb3IoQV9FbnRpdHlFcnJvci5WYWxpZGF0aW9uRXJyb3IsICdVbmFibGUgdG8gZGV0ZXJtaW5lIEEtRW50aXR5IGNvbnN0cnVjdG9yIGluaXRpYWxpemF0aW9uIG1ldGhvZC4gUGxlYXNlIGNoZWNrIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzLicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIG5ldyBBU0VJRCBmb3IgdGhlIGVudGl0eS4gXG4gICAgICogSXQgdXNlcyBjbGFzcyBkZWZpbml0aW9ucyBmb3IgY29uY2VwdCwgc2NvcGUsIGFuZCBlbnRpdHksXG4gICAgICogYW5kIGFsbG93cyBvdmVycmlkaW5nIGFueSBvZiB0aGVzZSB2YWx1ZXMuXG4gICAgICogXG4gICAgICogQHBhcmFtIG92ZXJyaWRlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZW5lcmF0ZUFTRUlEKG92ZXJyaWRlPzogUGFydGlhbDxBX1RZUEVTX19BU0VJRF9Db25zdHJ1Y3Rvcj4pOiBBU0VJRCB7XG4gICAgICAgIHJldHVybiBuZXcgQVNFSUQoe1xuICAgICAgICAgICAgY29uY2VwdDogb3ZlcnJpZGU/LmNvbmNlcHQgfHwgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRW50aXR5KS5jb25jZXB0LFxuICAgICAgICAgICAgc2NvcGU6IG92ZXJyaWRlPy5zY29wZSB8fCAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FbnRpdHkpLnNjb3BlLFxuICAgICAgICAgICAgZW50aXR5OiBvdmVycmlkZT8uZW50aXR5IHx8ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0VudGl0eSkuZW50aXR5LFxuICAgICAgICAgICAgaWQ6IG92ZXJyaWRlPy5pZCB8fCBBX0lkZW50aXR5SGVscGVyLmdlbmVyYXRlVGltZUlkKClcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDYWxsIGEgZmVhdHVyZSBvZiB0aGUgY29tcG9uZW50IHdpdGggdGhlIHByb3ZpZGVkIHNjb3BlXG4gICAgICogXG4gICAgICogWyFdIElmIHRoZSBwcm92aWRlZCBzY29wZSBpcyBub3QgaW5oZXJpdGVkIGZyb20gdGhlIGVudGl0eSBzY29wZSwgaXQgd2lsbCBiZSBpbmhlcml0ZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbGlmZWN5Y2xlTWV0aG9kIFxuICAgICAqIEBwYXJhbSBhcmdzIFxuICAgICAqL1xuICAgIGFzeW5jIGNhbGwoXG4gICAgICAgIGZlYXR1cmU6IHN0cmluZyxcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IG5ld0ZlYXR1cmUgPSBuZXcgQV9GZWF0dXJlKHtcbiAgICAgICAgICAgIG5hbWU6IGZlYXR1cmUsXG4gICAgICAgICAgICBjb21wb25lbnQ6IHRoaXMsXG4gICAgICAgICAgICBzY29wZVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgbmV3RmVhdHVyZS5wcm9jZXNzKHNjb3BlKTtcbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09IEVudGl0eSBCYXNlIE1ldGhvZHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgbWV0aG9kIHRoYXQgY2FuIGJlIGNhbGxlZCBhbmQgZXh0ZW5kZWQgdG8gbG9hZCBlbnRpdHkgZGF0YS5cbiAgICAgKi9cbiAgICBhc3luYyBsb2FkKFxuICAgICAgICBzY29wZT86IEFfU2NvcGUsXG4gICAgKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ2xvYWQnLCBzY29wZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgbWV0aG9kIHRoYXQgY2FuIGJlIGNhbGxlZCBhbmQgZXh0ZW5kZWQgdG8gZGVzdHJveSBlbnRpdHkgZGF0YS5cbiAgICAgKi9cbiAgICBhc3luYyBkZXN0cm95KHNjb3BlPzogQV9TY29wZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdkZXN0cm95Jywgc2NvcGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IG1ldGhvZCB0aGF0IGNhbiBiZSBjYWxsZWQgYW5kIGV4dGVuZGVkIHRvIHNhdmUgZW50aXR5IGRhdGEuXG4gICAgICovXG4gICAgYXN5bmMgc2F2ZShzY29wZT86IEFfU2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnc2F2ZScsIHNjb3BlKTtcbiAgICB9XG5cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gRW50aXR5IFNlcmlhbGl6YXRpb24gPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgZW50aXR5IGZyb20gQVNFSUQgc3RyaW5nIG9yIGluc3RhbmNlXG4gICAgICogWyFdIEV4ZWN1dGVkIHdoZW4gdGhlIGNvbnN0cnVjdG9yIGlzIGNhbGxlZCB3aXRoIGEgc3RyaW5nIG9yIEFTRUlEIGluc3RhbmNlIHRoYXQgcmVwcmVzZW50cyB0aGUgQVNFSURcbiAgICAgKiBbIV0gRXhlY3V0ZXMgQnkgRGVmYXVsdCB3aXRoIG5ldyBBX0VudGl0eSgnYXNlaWQtc3RyaW5nJykgb3IgbmV3IEFfRW50aXR5KG5ldyBBU0VJRCguLi4pKSBpZiBnZXRJbml0aWFsaXplciBoYXMgbm90IGJlZW4gb3ZlcnJpZGRlblxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhc2VpZCBcbiAgICAgKi9cbiAgICBmcm9tQVNFSUQoYXNlaWQ6IHN0cmluZyB8IEFTRUlEKTogdm9pZCB7XG4gICAgICAgIGlmIChhc2VpZCBpbnN0YW5jZW9mIEFTRUlEKVxuICAgICAgICAgICAgdGhpcy5hc2VpZCA9IGFzZWlkO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmFzZWlkID0gbmV3IEFTRUlEKGFzZWlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBjYXNlIHdoZW4gbm8gcHJvcHMgYXJlIHByb3ZpZGVkIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgb3ZlcnJpZGRlbiBpbiBjaGlsZCBjbGFzc2VzIHRvIHNldCBkZWZhdWx0IHZhbHVlcyBvciBwZXJmb3JtIHNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljLlxuICAgICAqIEJ5IGRlZmF1bHQsIGl0IGRvZXMgbm90aGluZy5cbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBmcm9tVW5kZWZpbmVkKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmFzZWlkID0gdGhpcy5nZW5lcmF0ZUFTRUlEKCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGVudGl0eSBmcm9tIGNvbnN0cnVjdG9yIG9iamVjdFxuICAgICAqIFshXSBFeGVjdXRlZCB3aGVuIHRoZSBjb25zdHJ1Y3RvciBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3QgdGhhdCBkb2VzIG5vdCBjb250YWluIFwiYXNlaWRcIiBwcm9wZXJ0eVxuICAgICAqIFshXSBFeGVjdXRlcyBCeSBEZWZhdWx0IHdpdGggbmV3IEFfRW50aXR5KHt9KSBpZiBnZXRJbml0aWFsaXplciBoYXMgbm90IGJlZW4gb3ZlcnJpZGRlblxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuZXdFbnRpdHkgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZnJvbU5ldyhuZXdFbnRpdHk6IF9Db25zdHJ1Y3RvclR5cGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hc2VpZCA9ICB0aGlzLmdlbmVyYXRlQVNFSUQoKTtcblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGVudGl0eSBmcm9tIHNlcmlhbGl6ZWQgb2JqZWN0XG4gICAgICogXG4gICAgICogWyFdIEV4ZWN1dGVkIHdoZW4gdGhlIGNvbnN0cnVjdG9yIGlzIGNhbGxlZCB3aXRoIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIFwiYXNlaWRcIiBwcm9wZXJ0eVxuICAgICAqIFshXSBFeGVjdXRlcyBCeSBEZWZhdWx0IHdpdGggbmV3IEFfRW50aXR5KHsgYXNlaWQ6ICcuLi4nIH0pIGlmIGdldEluaXRpYWxpemVyIGhhcyBub3QgYmVlbiBvdmVycmlkZGVuXG4gICAgICogXG4gICAgICogXG4gICAgICogQHBhcmFtIHNlcmlhbGl6ZWQgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZnJvbUpTT04oc2VyaWFsaXplZDogX1NlcmlhbGl6ZWRUeXBlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYXNlaWQgPSBuZXcgQVNFSUQoc2VyaWFsaXplZC5hc2VpZCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGVudGl0eSB0byBhIEpTT04gb2JqZWN0IFxuICAgICAqIFshXSBUaGlzIG1ldGhvZCBzaG91bGQgYmUgZXh0ZW5kZWQgaW4gdGhlIGNoaWxkIGNsYXNzZXMgdG8gaW5jbHVkZSBhbGwgcHJvcGVydGllcyBvZiB0aGUgZW50aXR5XG4gICAgICogWyFdIEluY2x1ZGVzIGFzZWlkIGJ5IGRlZmF1bHQgXG4gICAgICogXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgdG9KU09OKCk6IF9TZXJpYWxpemVkVHlwZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhc2VpZDogdGhpcy5hc2VpZC50b1N0cmluZygpXG4gICAgICAgIH0gYXMgX1NlcmlhbGl6ZWRUeXBlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlbnRpdHlcbiAgICAgKiB3aGF0IGlzIGJhc2ljYWxseSB0aGUgQVNFSUQgc3RyaW5nXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXNlaWQgPyB0aGlzLmFzZWlkLnRvU3RyaW5nKCkgOiB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiLi4vQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5TWV0YSB9IGZyb20gXCIuL0EtRW50aXR5LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19FbnRpdHlNZXRhS2V5IH0gZnJvbSBcIi4vQS1FbnRpdHkuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhIH0gZnJvbSBcIi4uL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfRW50aXR5TWV0YSBleHRlbmRzIEFfTWV0YTxBX1RZUEVTX19FbnRpdHlNZXRhPiB7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBmZWF0dXJlcyBkZWZpbmVkIGluIHRoZSBDb250YWluZXJcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBmZWF0dXJlcygpOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YT4ge1xuXG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gdGhpcy5nZXQoQV9UWVBFU19fRW50aXR5TWV0YUtleS5GRUFUVVJFUyk7XG5cbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzPy50b0FycmF5KClcbiAgICAgICAgICAgIC8vIHJldHVybnMgYWxsIGV4dGVuc2lvbnMgdGhhdCBtYXRjaCB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgLm1hcCgoWywgZmVhdHVyZV0pID0+IGZlYXR1cmUpIHx8IFtdO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGdldCBhbGwgdGhlIGluamVjdGlvbnMgZm9yIGEgZ2l2ZW4gaGFuZGxlclxuICAgICAqIFxuICAgICAqIEBwYXJhbSBoYW5kbGVyIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGluamVjdGlvbnMoXG4gICAgICAgIGhhbmRsZXI6IHN0cmluZ1xuICAgICk6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEge1xuICAgICAgICBjb25zdCBpbmplY3Rpb25zID0gdGhpcy5nZXQoQV9UWVBFU19fRW50aXR5TWV0YUtleS5JTkpFQ1RJT05TKTtcblxuICAgICAgICBjb25zdCBhcmdzID0gaW5qZWN0aW9ucz8uZ2V0KGhhbmRsZXIpIHx8IFtdO1xuXG4gICAgICAgIHJldHVybiBhcmdzO1xuICAgIH1cblxufSIsICJpbXBvcnQgeyBBX1RZUEVTX19EZWVwUGFydGlhbCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L3R5cGVzL0FfQ29tbW9uLnR5cGVzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiLi4vQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fRnJhZ21lbnRfSW5pdCwgQV9UWVBFU19fRnJhZ21lbnRfU2VyaWFsaXplZCB9IGZyb20gXCIuL0EtRnJhZ21lbnQudHlwZXNcIjtcblxuXG4vKipcbiAqIEFfRnJhZ21lbnQgaXMgYSBjb3JlIGFyY2hpdGVjdHVyYWwgY29tcG9uZW50IHRoYXQgcmVwcmVzZW50cyBhIHNpbmdsZXRvbiBleGVjdXRpb24gY29udGV4dFxuICogd2l0aGluIHRoZSBBLUNvbmNlcHQgZnJhbWV3b3JrLiBJdCBzZXJ2ZXMgYXMgYSBzaGFyZWQgbWVtb3J5IGNvbnRhaW5lciB0aGF0IGNhbiBiZSBwYXNzZWRcbiAqIGJldHdlZW4gQ29tcG9uZW50cywgRW50aXRpZXMsIGFuZCBDb21tYW5kcyB0aHJvdWdob3V0IHRoZSBhcHBsaWNhdGlvbiBwaXBlbGluZS5cbiAqIFxuICogS2V5IEZlYXR1cmVzOlxuICogLSBTaW5nbGV0b24gcGF0dGVybjogT25seSBvbmUgaW5zdGFuY2UgcGVyIGZyYWdtZW50IHR5cGUgcGVyIHNjb3BlXG4gKiAtIE1ldGEgc3RvcmFnZTogQnVpbHQtaW4ga2V5LXZhbHVlIHN0b3JhZ2UgZm9yIHBpcGVsaW5lIGRhdGFcbiAqIC0gVHlwZS1zYWZlOiBGdWxsIFR5cGVTY3JpcHQgZ2VuZXJpY3Mgc3VwcG9ydCBmb3IgbWV0YSBpdGVtcyBhbmQgc2VyaWFsaXphdGlvblxuICogLSBTZXJpYWxpemFibGU6IENhbiBiZSBjb252ZXJ0ZWQgdG8gSlNPTiBmb3IgcGVyc2lzdGVuY2Ugb3IgdHJhbnNtaXNzaW9uXG4gKiBcbiAqIEB0ZW1wbGF0ZSBfTWV0YUl0ZW1zIC0gVHlwZSBkZWZpbml0aW9uIGZvciB0aGUgbWV0YSBzdG9yYWdlIHN0cnVjdHVyZVxuICogQHRlbXBsYXRlIF9TZXJpYWxpemVkVHlwZSAtIFR5cGUgZGVmaW5pdGlvbiBmb3IgdGhlIHNlcmlhbGl6ZWQgb3V0cHV0IGZvcm1hdFxuICogXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gQmFzaWMgdXNhZ2Ugd2l0aCB0eXBlZCBtZXRhXG4gKiBjbGFzcyBVc2VyRnJhZ21lbnQgZXh0ZW5kcyBBX0ZyYWdtZW50PHsgdXNlcklkOiBzdHJpbmc7IHJvbGU6IHN0cmluZyB9PiB7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgIHN1cGVyKHsgbmFtZTogJ1VzZXJGcmFnbWVudCcgfSk7XG4gKiAgIH1cbiAqIH0gICAgXG4gKiBcbiAqIC8vIEN1c3RvbSBzZXJpYWxpemF0aW9uXG4gKiBjbGFzcyBTZXNzaW9uRnJhZ21lbnQgZXh0ZW5kcyBBX0ZyYWdtZW50PFxuICogICB7IHNlc3Npb25JZDogc3RyaW5nOyB0aW1lc3RhbXA6IG51bWJlciB9LFxuICogICB7IG5hbWU6IHN0cmluZzsgc2Vzc2lvbkRhdGE6IHN0cmluZyB9XG4gKiA+IHtcbiAqICAgdG9KU09OKCkge1xuICogICAgIHJldHVybiB7XG4gKiAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gKiAgICAgICBzZXNzaW9uRGF0YTogYCR7dGhpcy5nZXQoJ3Nlc3Npb25JZCcpfS0ke3RoaXMuZ2V0KCd0aW1lc3RhbXAnKX1gXG4gKiAgICAgfTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBBX0ZyYWdtZW50PFxuICAgIF9TZXJpYWxpemVkVHlwZSBleHRlbmRzIEFfVFlQRVNfX0ZyYWdtZW50X1NlcmlhbGl6ZWQgPSBBX1RZUEVTX19GcmFnbWVudF9TZXJpYWxpemVkXG4+IHtcbiAgICAvKipcbiAgICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIvbmFtZSBmb3IgdGhpcyBmcmFnbWVudCBpbnN0YW5jZS5cbiAgICAgKiBVc2VkIGZvciBpZGVudGlmaWNhdGlvbiBhbmQgZGVidWdnaW5nIHB1cnBvc2VzLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfbmFtZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBBX0ZyYWdtZW50IGluc3RhbmNlLlxuICAgICAqIFxuICAgICAqIEFfRnJhZ21lbnQgaW1wbGVtZW50cyB0aGUgc2luZ2xldG9uIHBhdHRlcm4gZm9yIGV4ZWN1dGlvbiBjb250ZXh0cywgYWxsb3dpbmdcbiAgICAgKiBzaGFyZWQgc3RhdGUgbWFuYWdlbWVudCBhY3Jvc3MgZGlmZmVyZW50IHBhcnRzIG9mIHRoZSBhcHBsaWNhdGlvbiBwaXBlbGluZS5cbiAgICAgKiBFYWNoIGZyYWdtZW50IHNlcnZlcyBhcyBhIG1lbW9yeSBjb250YWluZXIgdGhhdCBjYW4gc3RvcmUgdHlwZWQgZGF0YSBhbmQgYmVcbiAgICAgKiBzZXJpYWxpemVkIGZvciBwZXJzaXN0ZW5jZSBvciB0cmFuc21pc3Npb24uXG4gICAgICogXG4gICAgICogS2V5IEJlbmVmaXRzOlxuICAgICAqIC0gQ2VudHJhbGl6ZWQgc3RhdGUgbWFuYWdlbWVudCBmb3IgcmVsYXRlZCBvcGVyYXRpb25zXG4gICAgICogLSBUeXBlLXNhZmUgbWV0YSBvcGVyYXRpb25zIHdpdGggZnVsbCBJbnRlbGxpU2Vuc2Ugc3VwcG9ydFxuICAgICAqIC0gU2VyaWFsaXphdGlvbiBzdXBwb3J0IGZvciBkYXRhIHBlcnNpc3RlbmNlIFxuICAgICAqIC0gU2luZ2xldG9uIHBhdHRlcm4gZW5zdXJlcyBjb25zaXN0ZW50IHN0YXRlIHdpdGhpbiBzY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbXMgLSBJbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHBhcmFtcy5uYW1lIC0gT3B0aW9uYWwgY3VzdG9tIG5hbWUgZm9yIHRoZSBmcmFnbWVudCAoZGVmYXVsdHMgdG8gY2xhc3MgbmFtZSlcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCBmcmFnbWVudCA9IG5ldyBBX0ZyYWdtZW50PHsgdXNlcklkOiBzdHJpbmcgfT4oeyBcbiAgICAgKiAgIG5hbWU6ICdVc2VyU2Vzc2lvbkZyYWdtZW50JyBcbiAgICAgKiB9KTtcbiAgICAgKiBmcmFnbWVudC5zZXQoJ3VzZXJJZCcsICcxMjM0NScpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtczogUGFydGlhbDxBX1RZUEVTX19GcmFnbWVudF9Jbml0PiA9IHt9KSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSBwYXJhbXMubmFtZSB8fCB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZnJhZ21lbnQncyB1bmlxdWUgbmFtZS9pZGVudGlmaWVyLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFRoZSBmcmFnbWVudCBuYW1lXG4gICAgICovXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgZnJhZ21lbnQgdG8gYSBKU09OLWNvbXBhdGlibGUgb2JqZWN0LlxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIGNvbWJpbmVzIHRoZSBmcmFnbWVudCdzIG5hbWUgd2l0aCBhbGwgbWV0YSBkYXRhIHRvIGNyZWF0ZVxuICAgICAqIGEgc2VyaWFsaXphYmxlIHJlcHJlc2VudGF0aW9uLiBUaGUgcmV0dXJuIHR5cGUgaXMgZGV0ZXJtaW5lZCBieSB0aGVcbiAgICAgKiBfU2VyaWFsaXplZFR5cGUgZ2VuZXJpYyBwYXJhbWV0ZXIsIGFsbG93aW5nIGZvciBjdXN0b20gc2VyaWFsaXphdGlvbiBmb3JtYXRzLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIEEgc2VyaWFsaXplZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgZnJhZ21lbnRcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCBmcmFnbWVudCA9IG5ldyBBX0ZyYWdtZW50PHsgdXNlcklkOiBzdHJpbmcsIHJvbGU6IHN0cmluZyB9Pih7XG4gICAgICogICBuYW1lOiAnVXNlckZyYWdtZW50J1xuICAgICAqIH0pO1xuICAgICAqIGZyYWdtZW50LnNldCgndXNlcklkJywgJzEyMzQ1Jyk7XG4gICAgICogZnJhZ21lbnQuc2V0KCdyb2xlJywgJ2FkbWluJyk7XG4gICAgICogXG4gICAgICogY29uc3QganNvbiA9IGZyYWdtZW50LnRvSlNPTigpO1xuICAgICAqIC8vIFJlc3VsdDogeyBuYW1lOiAnVXNlckZyYWdtZW50JywgdXNlcklkOiAnMTIzNDUnLCByb2xlOiAnYWRtaW4nIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICB0b0pTT04oKTogX1NlcmlhbGl6ZWRUeXBlIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiByZXN1bHQgYXMgX1NlcmlhbGl6ZWRUeXBlO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9UWVBFU19fRGVlcFBhcnRpYWwgfSBmcm9tIFwiLi4vdHlwZXMvQV9Db21tb24udHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIEFfQ29tbW9uSGVscGVyIHtcblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHByb21pc2UgdGhhdCByZXNvbHZlcyBpbW1lZGlhdGVseS5cbiAgICAgKiBDYW4gYmUgdXNlZCBpbiBhc3luYyBmdW5jdGlvbnMgdG8gY3JlYXRlIGEgcmVzb2x2ZWQgcHJvbWlzZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVzb2x2ZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiByZXNvbHZlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgY2xhc3MgaXMgaW5oZXJpdGVkIGZyb20gYW5vdGhlciBjbGFzc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBjaGlsZENsYXNzIFxuICAgICAqIEBwYXJhbSBwYXJlbnRDbGFzcyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNJbmhlcml0ZWRGcm9tKGNoaWxkQ2xhc3M6IGFueSwgcGFyZW50Q2xhc3M6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgY3VycmVudCA9IGNoaWxkQ2xhc3M7XG5cbiAgICAgICAgLy8gVHJhdmVyc2UgdGhlIHByb3RvdHlwZSBjaGFpblxuICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHBhcmVudENsYXNzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgcGFyZW50IGNsYXNzZXMgb2YgYSBnaXZlbiBjbGFzc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBjaGlsZENsYXNzIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRQYXJlbnRDbGFzc2VzKGNoaWxkQ2xhc3M6IGFueSk6IGFueVtdIHtcblxuICAgICAgICAvLyBmaXJzdCB3ZSBuZWVkIHRvIGNoZWNrIGlzIHRoYXQgYSBjb25zdHJ1Y3RvciBvciBpbnN0YW5jZVxuICAgICAgICBsZXQgY3VycmVudCA9IHR5cGVvZiBjaGlsZENsYXNzID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IE9iamVjdC5nZXRQcm90b3R5cGVPZihjaGlsZENsYXNzKVxuICAgICAgICAgICAgOiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2hpbGRDbGFzcy5jb25zdHJ1Y3Rvcik7XG5cbiAgICAgICAgY29uc3QgcGFyZW50cyA9IFtdIGFzIGFueVtdO1xuXG4gICAgICAgIC8vIFRyYXZlcnNlIHRoZSBwcm90b3R5cGUgY2hhaW5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudCAhPT0gRnVuY3Rpb24ucHJvdG90eXBlKSB7XG4gICAgICAgICAgICBwYXJlbnRzLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICBjdXJyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJlbnRzO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjbGFzcyBpbmhlcml0YW5jZSBjaGFpbiBhcyBhbiBhcnJheSBvZiBjbGFzcyBuYW1lc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBjaGlsZENsYXNzIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRDbGFzc0luaGVyaXRhbmNlQ2hhaW4oY2hpbGRDbGFzczogYW55KTogYW55W10ge1xuXG4gICAgICAgIC8vICBmaXJzdCB3ZSBuZWVkIHRvIGNoZWNrIGlzIHRoYXQgYSBjb25zdHJ1Y3RvciBvciBpbnN0YW5jZVxuICAgICAgICBsZXQgY3VycmVudCA9IHR5cGVvZiBjaGlsZENsYXNzID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IE9iamVjdC5nZXRQcm90b3R5cGVPZihjaGlsZENsYXNzKVxuICAgICAgICAgICAgOiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2hpbGRDbGFzcy5jb25zdHJ1Y3Rvcik7XG5cbiAgICAgICAgLy8gIHRoZW4gaWYgaW5wdXQgaXMgaW5zdGFuY2Ugd2UgaGF2ZSB0byBpbmNsdWRlIGl0cyBvd24gY2xhc3MgbmFtZVxuICAgICAgICBjb25zdCBjaGFpbiA9IHR5cGVvZiBjaGlsZENsYXNzID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IFtjaGlsZENsYXNzXVxuICAgICAgICAgICAgOiBbY2hpbGRDbGFzcy5jb25zdHJ1Y3Rvcl07XG5cblxuICAgICAgICAvLyBUcmF2ZXJzZSB0aGUgcHJvdG90eXBlIGNoYWluXG4gICAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IEZ1bmN0aW9uLnByb3RvdHlwZSkge1xuICAgICAgICAgICAgY2hhaW4ucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYWluO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGFyZW50IGNsYXNzIG9mIGEgZ2l2ZW4gY2xhc3NcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY2hpbGRDbGFzcyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0UGFyZW50Q2xhc3MoY2hpbGRDbGFzczogYW55KTogYW55IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihjaGlsZENsYXNzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgT21pdCBwcm9wZXJ0aWVzIGZyb20gYW4gb2JqZWN0IG9yIGFycmF5IHdpdGggbmVzdGVkIG9iamVjdHNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5wdXQgXG4gICAgICogQHBhcmFtIHBhdGhzIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBvbWl0UHJvcGVydGllczxULCBTIGV4dGVuZHMgc3RyaW5nPihcbiAgICAgICAgaW5wdXQ6IFQsXG4gICAgICAgIHBhdGhzOiBzdHJpbmdbXVxuXG4gICAgKTogT21pdDxULCBTPiB7XG5cbiAgICAgICAgLy8gRGVlcCBjbG9uZSB0aGUgaW5wdXQgb2JqZWN0IG9yIGFycmF5XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaW5wdXQpKTtcblxuICAgICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gcmVjdXJzaXZlbHkgcmVtb3ZlIHByb3BlcnRpZXNcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlUHJvcGVydGllcyh0YXJnZXQ6IFJlY29yZDxzdHJpbmcsIGFueT4gfCBhbnlbXSwgY3VyclBhdGg6IHN0cmluZ1tdKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyS2V5ID0gY3VyclBhdGhbMF07XG4gICAgICAgICAgICBpZiAoY3VyclBhdGgubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgY3VycmVudCBwYXRoIGhhcyBvbmx5IG9uZSBrZXksIGRlbGV0ZSB0aGUgcHJvcGVydHlcbiAgICAgICAgICAgICAgICBkZWxldGUgdGFyZ2V0W2N1cnJLZXldO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRbY3VycktleV0gIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdGFyZ2V0W2N1cnJLZXldID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIC8vIElmIGN1cnJlbnQga2V5IGV4aXN0cyBhbmQgaXMgYW4gb2JqZWN0LCByZWN1cnNpdmVseSBjYWxsIHJlbW92ZVByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICByZW1vdmVQcm9wZXJ0aWVzKHRhcmdldFtjdXJyS2V5XSwgY3VyclBhdGguc2xpY2UoMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGVhY2ggcGF0aCBhbmQgcmVtb3ZlIGNvcnJlc3BvbmRpbmcgcHJvcGVydGllcyBmcm9tIHRoZSByZXN1bHRcbiAgICAgICAgcGF0aHMuZm9yRWFjaChwYXRoID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhLZXlzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgICAgICAgICAgcmVtb3ZlUHJvcGVydGllcyhyZXN1bHQsIHBhdGhLZXlzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdCBhcyBPbWl0PFQsIFM+O1xuICAgIH1cblxuXG4gICAgc3RhdGljIGlzT2JqZWN0KGl0ZW06IHVua25vd24pOiBpdGVtIGlzIFJlY29yZDxzdHJpbmcsIGFueT4ge1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gbnVsbCAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaXRlbSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlZXBNZXJnZTxUID0gYW55Pih0YXJnZXQ6IGFueSwgc291cmNlOiBhbnksIHZpc2l0ZWQgPSBuZXcgTWFwPGFueSwgYW55PigpKTogVCB7XG4gICAgICAgIGlmICh0aGlzLmlzT2JqZWN0KHRhcmdldCkgJiYgdGhpcy5pc09iamVjdChzb3VyY2UpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc09iamVjdChzb3VyY2Vba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc291cmNlIG9iamVjdCBoYXMgYWxyZWFkeSBiZWVuIHZpc2l0ZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2aXNpdGVkLmhhcyhzb3VyY2Vba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2l0ZWQuc2V0KHNvdXJjZVtrZXldLCB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZXBNZXJnZSh0YXJnZXRba2V5XSwgc291cmNlW2tleV0sIHZpc2l0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSB2aXNpdGVkLmdldChzb3VyY2Vba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuXG4gICAgc3RhdGljIGRlZXBDbG9uZTxUPih0YXJnZXQ6IFQpOiBUIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHZhbHVlIGlzIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICh0YXJnZXQgPT09IG51bGwgfHwgdGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgcHJpbWl0aXZlIHR5cGVzIChzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgZXRjLilcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIERhdGVcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0YXJnZXQuZ2V0VGltZSgpKSBhcyBUO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIEFycmF5XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQubWFwKGl0ZW0gPT4gdGhpcy5kZWVwQ2xvbmUoaXRlbSkpIGFzIHVua25vd24gYXMgVDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBGdW5jdGlvblxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBPYmplY3RcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgY2xvbmUgPSB7fSBhcyBUO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb25lW2tleV0gPSB0aGlzLmRlZXBDbG9uZSh0YXJnZXRba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yIGFueSBvdGhlciBjYXNlc1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjbG9uZSB0aGUgb2JqZWN0LiBVbnN1cHBvcnRlZCB0eXBlLicpO1xuICAgIH1cblxuXG4gICAgc3RhdGljIGRlZXBDbG9uZUFuZE1lcmdlPFQ+KHRhcmdldDogQV9UWVBFU19fRGVlcFBhcnRpYWw8VD4sIHNvdXJjZTogVCk6IFQge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoc291cmNlID09PSBudWxsIHx8IHNvdXJjZSA9PT0gdW5kZWZpbmVkKSAmJlxuICAgICAgICAgICAgKHRhcmdldCA9PT0gbnVsbCB8fCB0YXJnZXQgPT09IHVuZGVmaW5lZCkpXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSB2YWx1ZSBpcyBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoKHRhcmdldCA9PT0gbnVsbCB8fCB0YXJnZXQgPT09IHVuZGVmaW5lZCkgJiZcbiAgICAgICAgICAgIHNvdXJjZVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZXBDbG9uZShzb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIHByaW1pdGl2ZSB0eXBlcyAoc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4sIGV0Yy4pXG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFxuICAgICAgICB9XG5cblxuICAgICAgICAvLyBIYW5kbGUgRGF0ZVxuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRhcmdldC5nZXRUaW1lKCkpIGFzIFQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgQXJyYXlcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5tYXAoaXRlbSA9PiB0aGlzLmRlZXBDbG9uZUFuZE1lcmdlKGl0ZW0sIHNvdXJjZSkpIGFzIHVua25vd24gYXMgVDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBGdW5jdGlvblxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBPYmplY3RcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgY2xvbmUgPSB7fSBhcyBUO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2Vba2V5XSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAmJlxuICAgICAgICAgICAgICAgICAgICBzb3VyY2Vba2V5XSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBjbG9uZVtrZXldID0gdGhpcy5kZWVwQ2xvbmVBbmRNZXJnZSh0YXJnZXRba2V5IGFzIGFueV0sIHNvdXJjZVtrZXldKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGNsb25lW2tleSBhcyBhbnldID0gdGhpcy5kZWVwQ2xvbmUodGFyZ2V0W2tleV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgJiZcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gIT09IG51bGxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIGNsb25lW2tleV0gPSB0aGlzLmRlZXBDbG9uZUFuZE1lcmdlKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjbG9uZVtrZXldID0gdGhpcy5kZWVwQ2xvbmUoc291cmNlW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yIGFueSBvdGhlciBjYXNlc1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBjbG9uZSB0aGUgb2JqZWN0LiBVbnN1cHBvcnRlZCB0eXBlLicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIHJlYWRhYmxlIG5hbWUgZm9yIGEgY29tcG9uZW50IChzdHJpbmcsIGNsYXNzLCBmdW5jdGlvbiwgUmVhY3QgZWxlbWVudCwgaW5zdGFuY2UsIGV0Yy4pXG4gICAgICpcbiAgICAgKiBDb3ZlcnM6XG4gICAgICogLSBzdHJpbmcgdGFncyAoXCJkaXZcIilcbiAgICAgKiAtIHN5bWJvbHMgKFN5bWJvbC5mb3IoJ3h4eCcpKVxuICAgICAqIC0gZnVuY3Rpb25zIGFuZCBjbGFzc2VzICh3aXRoIG5hbWUgb3IgZGlzcGxheU5hbWUpXG4gICAgICogLSBSZWFjdCBlbGVtZW50cyAob2JqZWN0IHdpdGggYHR5cGVgKVxuICAgICAqIC0gY29tcG9uZW50IGluc3RhbmNlcyAoY29uc3RydWN0b3IubmFtZSlcbiAgICAgKiAtIG9iamVjdHMgd2l0aCBjdXN0b20gdG9TdHJpbmcgcmV0dXJuaW5nIG1lYW5pbmdmdWwgaW5mb1xuICAgICAqXG4gICAgICogRmFsbHMgYmFjayB0byBzZW5zaWJsZSBkZWZhdWx0cyAoXCJVbmtub3duXCIgLyBcIkFub255bW91c1wiKS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQ6IGFueSk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IFVOS05PV04gPSAnVW5rbm93bic7XG4gICAgICAgIGNvbnN0IEFOT05ZTU9VUyA9ICdBbm9ueW1vdXMnO1xuXG4gICAgICAgIGlmIChjb21wb25lbnQgPT09IG51bGwgfHwgY29tcG9uZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBVTktOT1dOO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RyaW5ncyAoSFRNTCB0YWdzIG9yIGV4cGxpY2l0IG5hbWVzKVxuICAgICAgICBpZiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQgfHwgVU5LTk9XTjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN5bWJvbHNcbiAgICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnQgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgIHJldHVybiBVTktOT1dOO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXJyYXlzIC0gdHJ5IHRvIGRlcml2ZSBmcm9tIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29tcG9uZW50KSkge1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5sZW5ndGggPT09IDApIHJldHVybiBVTktOT1dOO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnRbMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRnVuY3Rpb25zIGFuZCBjbGFzc2VzXG4gICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCBmbkFueSA9IGNvbXBvbmVudCBhcyBhbnk7XG4gICAgICAgICAgICAvLyBDb21tb24gUmVhY3QgY29udmVudGlvblxuICAgICAgICAgICAgaWYgKGZuQW55LmRpc3BsYXlOYW1lKSByZXR1cm4gU3RyaW5nKGZuQW55LmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgIGlmIChmbkFueS5uYW1lKSByZXR1cm4gU3RyaW5nKGZuQW55Lm5hbWUpO1xuXG4gICAgICAgICAgICAvLyBUcnkgdG8gZXh0cmFjdCBhIG5hbWUgZnJvbSBzb3VyY2UgaWYgcG9zc2libGVcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3JjID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAvLyBjbGFzcyBGb28geyAuLi4gfSBvciBmdW5jdGlvbiBmb28oKSB7IC4uLiB9IG9yIGZvbyA9PiAuLi5cbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IHNyYy5tYXRjaCgvXig/OmNsYXNzXFxzKyhbQS1aYS16MC05XyRdKyl8ZnVuY3Rpb25cXHMrKFtBLVphLXowLTlfJF0rKXwoW0EtWmEtejAtOV8kXSspXFxzKj0+KS8pO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hbMV0gfHwgbWF0Y2hbMl0gfHwgbWF0Y2hbM10gfHwgQU5PTllNT1VTO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQU5PTllNT1VTO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT2JqZWN0cyAoaW5zdGFuY2VzLCBSZWFjdCBlbGVtZW50cywgcGxhaW4gb2JqZWN0cylcbiAgICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb25zdCBvYmpBbnkgPSBjb21wb25lbnQgYXMgYW55O1xuXG4gICAgICAgICAgICAvLyBSZWFjdCBlbGVtZW50OiB7IHR5cGU6IENvbXBvbmVudE9yU3RyaW5nLCBwcm9wczogLi4uIH1cbiAgICAgICAgICAgIGlmIChvYmpBbnkudHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENvbXBvbmVudE5hbWUob2JqQW55LnR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZWFjdCBmb3J3YXJkUmVmIC8gbWVtbyB3cmFwcGVycyBvZnRlbiBleHBvc2UgZGlzcGxheU5hbWVcbiAgICAgICAgICAgIGlmIChvYmpBbnkuZGlzcGxheU5hbWUpIHJldHVybiBTdHJpbmcob2JqQW55LmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgIGlmIChvYmpBbnkubmFtZSkgcmV0dXJuIFN0cmluZyhvYmpBbnkubmFtZSk7XG5cbiAgICAgICAgICAgIC8vIEluc3RhbmNlOiB1c2UgY29uc3RydWN0b3IgbmFtZSBpZiBhdmFpbGFibGUgYW5kIG5vdCBPYmplY3RcbiAgICAgICAgICAgIGlmIChvYmpBbnkuY29uc3RydWN0b3IgJiYgb2JqQW55LmNvbnN0cnVjdG9yLm5hbWUgJiYgb2JqQW55LmNvbnN0cnVjdG9yLm5hbWUgIT09ICdPYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhvYmpBbnkuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIG9iamVjdCBpbXBsZW1lbnRzIGEgbWVhbmluZ2Z1bCB0b1N0cmluZywgdHJ5IGl0XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBvYmpBbnkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHMgPT09ICdzdHJpbmcnICYmIHMgIT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgIC8vIGlnbm9yZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gQU5PTllNT1VTO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmFsbGJhY2sgZm9yIG90aGVyIHR5cGVzXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKGNvbXBvbmVudCk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIFVOS05PV047XG4gICAgICAgIH1cbiAgICB9XG59IiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5cbmV4cG9ydCBjbGFzcyBBX1Njb3BlRXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuXG4gICAgc3RhdGljIHJlYWRvbmx5IEluaXRpYWxpemF0aW9uRXJyb3IgPSAnQS1TY29wZSBJbml0aWFsaXphdGlvbiBFcnJvcic7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgQ29uc3RydWN0b3JFcnJvciA9ICdVbmFibGUgdG8gY29uc3RydWN0IEEtU2NvcGUgaW5zdGFuY2UnO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IFJlc29sdXRpb25FcnJvciA9ICdBLVNjb3BlIFJlc29sdXRpb24gRXJyb3InO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IFJlZ2lzdHJhdGlvbkVycm9yID0gJ0EtU2NvcGUgUmVnaXN0cmF0aW9uIEVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBDaXJjdWxhckluaGVyaXRhbmNlRXJyb3IgPSAnQS1TY29wZSBDaXJjdWxhciBJbmhlcml0YW5jZSBFcnJvcic7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgRGVyZWdpc3RyYXRpb25FcnJvciA9ICdBLVNjb3BlIERlcmVnaXN0cmF0aW9uIEVycm9yJztcbn0iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19TY29wZUNvbmZpZyxcbiAgICBBX1RZUEVTX19TY29wZV9Jbml0LFxuICAgIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyxcbiAgICBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzLFxuICAgIEFfVFlQRVNfX1Njb3BlX0NvbnN0cnVjdG9yLFxuICAgIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29uc3RydWN0b3JzXG59IGZyb20gJy4vQS1TY29wZS50eXBlcydcbmltcG9ydCB7XG4gICAgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uSW5zdHJ1Y3Rpb25zLFxuICAgIEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX0VudGl0eUluamVjdGlvblF1ZXJ5LFxuICAgIEFfVFlQRVNfX0luamVjdGFibGVDb25zdHJ1Y3RvcnMsXG59IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9GcmFnbWVudCB9IGZyb20gXCIuLi9BLUZyYWdtZW50L0EtRnJhZ21lbnQuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCIuLi9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbXBvbmVudCB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9FbnRpdHkgfSBmcm9tIFwiLi4vQS1FbnRpdHkvQS1FbnRpdHkuY2xhc3NcIjtcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcbmltcG9ydCB7IEFfRm9ybWF0dGVySGVscGVyIH0gZnJvbSAnQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfRm9ybWF0dGVyLmhlbHBlcic7XG5pbXBvcnQgeyBBU0VJRCB9IGZyb20gJy4uL0FTRUlEL0FTRUlELmNsYXNzJztcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSAnQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlcic7XG5pbXBvcnQgeyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3IgfSBmcm9tICcuLi9BLUVudGl0eS9BLUVudGl0eS50eXBlcyc7XG5pbXBvcnQgeyBBX1Njb3BlRXJyb3IgfSBmcm9tICcuL0EtU2NvcGUuZXJyb3InO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yIH0gZnJvbSAnLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQudHlwZXMnO1xuaW1wb3J0IHsgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3IgfSBmcm9tICcuLi9BLUZyYWdtZW50L0EtRnJhZ21lbnQudHlwZXMnO1xuaW1wb3J0IHsgQV9UWVBFU19fRXJyb3JfQ29uc3RydWN0b3IgfSBmcm9tICcuLi9BLUVycm9yL0FfRXJyb3IudHlwZXMnO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB9IGZyb20gJy4uL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNvbnN0YW50cyc7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tICcuLi9BLU1ldGEvQS1NZXRhLmNsYXNzJztcblxuXG5cblxuZXhwb3J0IGNsYXNzIEFfU2NvcGU8XG4gICAgX01ldGFJdGVtcyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBhbnksXG4gICAgX0NvbXBvbmVudFR5cGUgZXh0ZW5kcyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3JbXSA9IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcltdLFxuICAgIF9FcnJvclR5cGUgZXh0ZW5kcyBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcltdID0gQV9UWVBFU19fRXJyb3JfQ29uc3RydWN0b3JbXSxcbiAgICBfRW50aXR5VHlwZSBleHRlbmRzIEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcltdID0gQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yW10sXG4gICAgX0ZyYWdtZW50VHlwZSBleHRlbmRzIEFfRnJhZ21lbnRbXSA9IEFfRnJhZ21lbnRbXSxcbj4ge1xuXG4gICAgLyoqXG4gICAgICogU2NvcGUgTmFtZSB1c2VzIGZvciBpZGVudGlmaWNhdGlvbiBhbmQgbG9nZ2luZyBwdXJwb3Nlc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBfbmFtZSE6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBQYXJlbnQgc2NvcGUgcmVmZXJlbmNlLCB1c2VkIGZvciBpbmhlcml0YW5jZSBvZiBjb21wb25lbnRzLCBmcmFnbWVudHMsIGVudGl0aWVzIGFuZCBjb21tYW5kc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBfcGFyZW50PzogQV9TY29wZTtcbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtZXRhIHN0b3JhZ2UgdXNpbmcgQV9NZXRhIGZvciB0eXBlLXNhZmUga2V5LXZhbHVlIG9wZXJhdGlvbnMuXG4gICAgICogVGhpcyBzdG9yZXMgYWxsIHRoZSBzY29wZSdzIHJ1bnRpbWUgZGF0YSB0aGF0IGNhbiBiZSBhY2Nlc3NlZCBhbmQgbW9kaWZpZWRcbiAgICAgKiB0aHJvdWdob3V0IHRoZSBleGVjdXRpb24gcGlwZWxpbmUgb3Igd2l0aGluIHJ1bm5pbmcgY29udGFpbmVycy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX21ldGE6IEFfTWV0YTxfTWV0YUl0ZW1zPiA9IG5ldyBBX01ldGE8X01ldGFJdGVtcz4oKTtcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tQUxMb3dlZCBDb25zdHJ1Y3RvcnMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIEEgc2V0IG9mIGFsbG93ZWQgY29tcG9uZW50cywgQSBzZXQgb2YgY29uc3RydWN0b3JzIHRoYXQgYXJlIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICogICAgICBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2FsbG93ZWRDb21wb25lbnRzID0gbmV3IFNldDxfQ29tcG9uZW50VHlwZVtudW1iZXJdPigpO1xuICAgIC8qKlxuICAgICAqIEEgc2V0IG9mIGFsbG93ZWQgZXJyb3JzLCBBIHNldCBvZiBjb25zdHJ1Y3RvcnMgdGhhdCBhcmUgYWxsb3dlZCBpbiB0aGUgc2NvcGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2FsbG93ZWRFcnJvcnMgPSBuZXcgU2V0PF9FcnJvclR5cGVbbnVtYmVyXT4oKTtcbiAgICAvKipcbiAgICAgKiBBIHNldCBvZiBhbGxvd2VkIGVudGl0aWVzLCBBIHNldCBvZiBjb25zdHJ1Y3RvcnMgdGhhdCBhcmUgYWxsb3dlZCBpbiB0aGUgc2NvcGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2FsbG93ZWRFbnRpdGllcyA9IG5ldyBTZXQ8X0VudGl0eVR5cGVbbnVtYmVyXT4oKTtcbiAgICAvKipcbiAgICAgKiBBIHNldCBvZiBhbGxvd2VkIGZyYWdtZW50cywgQSBzZXQgb2YgY29uc3RydWN0b3JzIHRoYXQgYXJlIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9hbGxvd2VkRnJhZ21lbnRzID0gbmV3IFNldDxBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxfRnJhZ21lbnRUeXBlW251bWJlcl0+PigpO1xuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tSW50ZXJuYWwgU3RvcmFnZS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogU3RvcmFnZSBmb3IgdGhlIGNvbXBvbmVudHMsIHNob3VsZCBiZSBzdHJvbmcgYXMgY29tcG9uZW50cyBhcmUgdW5pcXVlIHBlciBzY29wZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfY29tcG9uZW50czogTWFwPF9Db21wb25lbnRUeXBlW251bWJlcl0sIEluc3RhbmNlVHlwZTxfQ29tcG9uZW50VHlwZVtudW1iZXJdPj4gPSBuZXcgTWFwKCk7XG4gICAgLyoqXG4gICAgICogU3RvcmFnZSBmb3IgdGhlIGVycm9ycywgc2hvdWxkIGJlIHN0cm9uZyBhcyBlcnJvcnMgYXJlIHVuaXF1ZSBwZXIgY29kZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfZXJyb3JzOiBNYXA8c3RyaW5nLCBJbnN0YW5jZVR5cGU8X0Vycm9yVHlwZVtudW1iZXJdPj4gPSBuZXcgTWFwKCk7XG4gICAgLyoqXG4gICAgICogU3RvcmFnZSBmb3IgdGhlIGVudGl0aWVzLCBzaG91bGQgYmUgc3Ryb25nIGFzIGVudGl0aWVzIGFyZSB1bmlxdWUgcGVyIGFzZWlkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9lbnRpdGllczogTWFwPHN0cmluZywgSW5zdGFuY2VUeXBlPF9FbnRpdHlUeXBlW251bWJlcl0+PiA9IG5ldyBNYXAoKTtcbiAgICAvKipcbiAgICAgKiBTdG9yYWdlIGZvciB0aGUgZnJhZ21lbnRzLCBzaG91bGQgYmUgd2VhayBhcyBmcmFnbWVudHMgYXJlIHNpbmdsZXRvbnMgcGVyIHNjb3BlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9mcmFnbWVudHM6IE1hcDxBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxfRnJhZ21lbnRUeXBlW251bWJlcl0+LCBfRnJhZ21lbnRUeXBlW251bWJlcl0+ID0gbmV3IE1hcCgpO1xuXG5cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1SZWFkb25seSBBbGxvd2VkIFByb3BlcnRpZXMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgc2NvcGVcbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHsgcmV0dXJuIHRoaXMuX25hbWUgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1ldGEgb2JqZWN0IG9mIHRoZSBzY29wZVxuICAgICAqL1xuICAgIGdldCBtZXRhKCkgeyByZXR1cm4gdGhpcy5fbWV0YSB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgQ29uc3RydWN0b3JzIGZvciBBLUNvbXBvbmVudHMgdGhhdCBhcmUgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAqL1xuICAgIGdldCBhbGxvd2VkQ29tcG9uZW50cygpIHsgcmV0dXJuIHRoaXMuX2FsbG93ZWRDb21wb25lbnRzIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBDb25zdHJ1Y3RvcnMgZm9yIEEtRW50aXRpZXMgdGhhdCBhcmUgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAqL1xuICAgIGdldCBhbGxvd2VkRW50aXRpZXMoKSB7IHJldHVybiB0aGlzLl9hbGxvd2VkRW50aXRpZXMgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIENvbnN0cnVjdG9ycyBmb3IgQS1GcmFnbWVudHMgdGhhdCBhcmUgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAqL1xuICAgIGdldCBhbGxvd2VkRnJhZ21lbnRzKCkgeyByZXR1cm4gdGhpcy5fYWxsb3dlZEZyYWdtZW50cyB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgQ29uc3RydWN0b3JzIGZvciBBLUVycm9ycyB0aGF0IGFyZSBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICovXG4gICAgZ2V0IGFsbG93ZWRFcnJvcnMoKSB7IHJldHVybiB0aGlzLl9hbGxvd2VkRXJyb3JzIH1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVJlYWRvbmx5IFJlZ2lzdGVyZWQgUHJvcGVydGllcy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBBcnJheSBvZiBlbnRpdGllcyByZWdpc3RlcmVkIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBPbmUgZW50aXR5IHBlciBhc2VpZFxuICAgICAqL1xuICAgIGdldCBlbnRpdGllcygpOiBBcnJheTxJbnN0YW5jZVR5cGU8X0VudGl0eVR5cGVbbnVtYmVyXT4+IHsgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fZW50aXRpZXMudmFsdWVzKCkpIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIEFycmF5IG9mIGZyYWdtZW50cyByZWdpc3RlcmVkIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBPbmUgZnJhZ21lbnQgcGVyIHNjb3BlXG4gICAgICovXG4gICAgZ2V0IGZyYWdtZW50cygpOiBBcnJheTxfRnJhZ21lbnRUeXBlW251bWJlcl0+IHsgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fZnJhZ21lbnRzLnZhbHVlcygpKSB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBBcnJheSBvZiBjb21wb25lbnRzIHJlZ2lzdGVyZWQgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogWyFdIE9uZSBjb21wb25lbnQgaW5zdGFuY2UgcGVyIHNjb3BlXG4gICAgICovXG4gICAgZ2V0IGNvbXBvbmVudHMoKTogQXJyYXk8SW5zdGFuY2VUeXBlPF9Db21wb25lbnRUeXBlW251bWJlcl0+PiB7IHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2NvbXBvbmVudHMudmFsdWVzKCkpIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIEFycmF5IG9mIGVycm9ycyByZWdpc3RlcmVkIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBPbmUgZXJyb3IgcGVyIGNvZGVcbiAgICAgKi9cbiAgICBnZXQgZXJyb3JzKCk6IEFycmF5PEluc3RhbmNlVHlwZTxfRXJyb3JUeXBlW251bWJlcl0+PiB7IHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2Vycm9ycy52YWx1ZXMoKSkgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcGFyZW50IHNjb3BlIG9mIHRoZSBjdXJyZW50IHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIHNldFZhbHVlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGdldCBwYXJlbnQoKTogQV9TY29wZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFfU2NvcGUgcmVmZXJzIHRvIHRoZSB2aXNpYmlsaXR5IGFuZCBhY2Nlc3NpYmlsaXR5IG9mIDpcbiAgICAgKiAtIHZhcmlhYmxlcywgXG4gICAgICogLSBDb21wb25lbnRzLCBcbiAgICAgKiAtIENvbnRleHQgRnJhZ21lbnRzIFxuICAgICAqIC0gRW50aXRpZXNcbiAgICAgKiAtIGFuZCBvYmplY3RzIGluIGRpZmZlcmVudCBwYXJ0cyBvZiB5b3VyIGNvZGUuIFxuICAgICAqIFNjb3BlIGRldGVybWluZXMgd2hlcmUgYSBwYXJ0aWN1bGFyIHBpZWNlIG9mIGRhdGEgKGxpa2UgYSB2YXJpYWJsZSBvciBmdW5jdGlvbikgXG4gICAgICogY2FuIGJlIGFjY2Vzc2VkLCBtb2RpZmllZCwgb3IgcmVmZXJlbmNlZCwgYW5kIGl0IHBsYXlzIGEgY3J1Y2lhbCByb2xlIGluIGF2b2lkaW5nIG5hbWluZyBjb2xsaXNpb25zIGFuZCBlbnN1cmluZyBkYXRhIGludGVncml0eS4gXG4gICAgICogXG4gICAgICogWyFdIFRoZSBzY29wZSBiZWhhdmlvciBpcyBzaW1pbGFyIHRvIHRyZWUgc3RydWN0dXJlIHdoZXJlIGVhY2ggc2NvcGUgY2FuIGhhdmUgYSBwYXJlbnQgc2NvcGUgYW5kIGluaGVyaXQgaXRzIGNvbXBvbmVudHMsIGZyYWdtZW50cywgZW50aXRpZXMgYW5kIGVycm9yc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbXMgXG4gICAgICogQHBhcmFtIGNvbmZpZyBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNldCBvZiBjb25zdHJ1Y3RvcnMgdGhhdCBhcmUgYWxsb3dlZCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtczogUGFydGlhbDxBX1RZUEVTX19TY29wZV9Jbml0PF9NZXRhSXRlbXMsIF9Db21wb25lbnRUeXBlLCBfRXJyb3JUeXBlLCBfRW50aXR5VHlwZSwgX0ZyYWdtZW50VHlwZT4+LFxuICAgICAgICAvKipcbiAgICAgICAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbmZpZz86IFBhcnRpYWw8QV9UWVBFU19fU2NvcGVDb25maWc+XG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwYXJhbTE/OiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlX0luaXQ8X01ldGFJdGVtcywgX0NvbXBvbmVudFR5cGUsIF9FcnJvclR5cGUsIF9FbnRpdHlUeXBlLCBfRnJhZ21lbnRUeXBlPj4sXG4gICAgICAgIHBhcmFtMj86IFBhcnRpYWw8QV9UWVBFU19fU2NvcGVDb25maWc+XG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxpemVyID0gdGhpcy5nZXRJbml0aWFsaXplcihwYXJhbTEpO1xuICAgICAgICAvLyB0aGUgcmV0dXJuZWQgaW5pdGlhbGl6ZXIgaXMgYWxyZWFkeSBib3VuZCB0byBgdGhpc2AgKHdlIHVzZWQgLmJpbmQodGhpcykpLFxuICAgICAgICAvLyBzbyBjYWxsaW5nIGl0IHdpbGwgcnVuIHRoZSBhcHByb3ByaWF0ZSBsb2dpYyBvbiB0aGlzIGluc3RhbmNlOlxuICAgICAgICBpbml0aWFsaXplci5jYWxsKHRoaXMsIHBhcmFtMSwgcGFyYW0yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0b3IgdG8gaXRlcmF0ZSB0aHJvdWdoIGFsbCBwYXJlbnQgc2NvcGVzXG4gICAgICovXG4gICAgKnBhcmVudHMoKTogR2VuZXJhdG9yPEFfU2NvcGU+IHtcbiAgICAgICAgbGV0IGN1cnJlbnRQYXJlbnQgPSB0aGlzLl9wYXJlbnQ7XG4gICAgICAgIHdoaWxlIChjdXJyZW50UGFyZW50KSB7XG4gICAgICAgICAgICB5aWVsZCBjdXJyZW50UGFyZW50O1xuICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IGN1cnJlbnRQYXJlbnQuX3BhcmVudDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gcmV0cmlldmUgYSBwYXJlbnQgc2NvcGUgYXQgYSBzcGVjaWZpYyBsZXZlbFxuICAgICAqIFxuICAgICAqIFshXSBOb3RlIHRoYXQgaWYgdGhlIGxldmVsIGlzIG91dCBvZiBib3VuZHMsIHVuZGVmaW5lZCBpcyByZXR1cm5lZFxuICAgICAqIFshIV0gVXNlcyBuZWdhdGl2ZSB2YWx1ZXMgZm9yIGxldmVscyAoZS5nLiAtMSBmb3IgaW1tZWRpYXRlIHBhcmVudCwgLTIgZm9yIGdyYW5kcGFyZW50LCBldGMuKVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBsZXZlbCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwYXJlbnRPZmZzZXQoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZXZlbCBvZiB0aGUgcGFyZW50IHNjb3BlIHRvIHJldHJpZXZlXG4gICAgICAgICAqIFxuICAgICAgICAgKiBFeGFtcGxlczpcbiAgICAgICAgICogLSBsZXZlbCAwIC0gaW1tZWRpYXRlIHBhcmVudFxuICAgICAgICAgKiAtIGxldmVsIC0xIC0gZ3JhbmRwYXJlbnRcbiAgICAgICAgICogLSBsZXZlbCAtMiAtIGdyZWF0LWdyYW5kcGFyZW50XG4gICAgICAgICAqL1xuICAgICAgICBsYXllck9mZnNldDogbnVtYmVyXG4gICAgKTogQV9TY29wZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCBwYXJlbnRTY29wZSA9IHRoaXMucGFyZW50O1xuXG4gICAgICAgIHdoaWxlIChsYXllck9mZnNldCA8IC0xICYmIHBhcmVudFNjb3BlKSB7XG4gICAgICAgICAgICBwYXJlbnRTY29wZSA9IHBhcmVudFNjb3BlLnBhcmVudDtcbiAgICAgICAgICAgIGxheWVyT2Zmc2V0Kys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFyZW50U2NvcGU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoaWNoIGluaXRpYWxpemVyIG1ldGhvZCB0byB1c2UgYmFzZWQgb24gdGhlIHR5cGUgb2YgdGhlIGZpcnN0IHBhcmFtZXRlci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW0xIFxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldEluaXRpYWxpemVyKFxuICAgICAgICBwYXJhbTE/OiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlX0luaXQ8X01ldGFJdGVtcywgX0NvbXBvbmVudFR5cGUsIF9FcnJvclR5cGUsIF9FbnRpdHlUeXBlLCBfRnJhZ21lbnRUeXBlPj4sXG4gICAgICAgIHBhcmFtMj86IFBhcnRpYWw8QV9UWVBFU19fU2NvcGVDb25maWc+XG4gICAgKTogKHBhcmFtMTogYW55LCBwYXJhbTI6IGFueSkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKSB7XG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSAhcGFyYW0xICYmICFwYXJhbTI6IDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0SW5pdGlhbGl6ZWQ7XG5cbiAgICAgICAgICAgIGNhc2UgISFwYXJhbTE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdEluaXRpYWxpemVkO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKEFfU2NvcGVFcnJvci5Db25zdHJ1Y3RvckVycm9yLCAnSW52YWxpZCBwYXJhbWV0ZXJzIHByb3ZpZGVkIHRvIEFfU2NvcGUgY29uc3RydWN0b3InKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICBwcm90ZWN0ZWQgZGVmYXVsdEluaXRpYWxpemVkKFxuICAgICAgICBwYXJhbXM6IFBhcnRpYWw8QV9UWVBFU19fU2NvcGVfSW5pdDxfTWV0YUl0ZW1zLCBfQ29tcG9uZW50VHlwZSwgX0Vycm9yVHlwZSwgX0VudGl0eVR5cGUsIF9GcmFnbWVudFR5cGU+PiA9IHt9LFxuICAgICAgICBjb25maWc6IFBhcnRpYWw8QV9UWVBFU19fU2NvcGVDb25maWc+ID0ge31cbiAgICApIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IHBhcmFtcy5uYW1lIHx8IHRoaXMuY29uc3RydWN0b3IubmFtZVxuXG4gICAgICAgIHRoaXMuaW5pdENvbXBvbmVudHMocGFyYW1zLmNvbXBvbmVudHMpO1xuICAgICAgICB0aGlzLmluaXRFcnJvcnMocGFyYW1zLmVycm9ycyk7XG4gICAgICAgIHRoaXMuaW5pdEZyYWdtZW50cyhwYXJhbXMuZnJhZ21lbnRzKTtcbiAgICAgICAgdGhpcy5pbml0RW50aXRpZXMocGFyYW1zLmVudGl0aWVzKTtcbiAgICAgICAgdGhpcy5pbml0TWV0YShwYXJhbXMubWV0YSk7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudCA9IGNvbmZpZy5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVNjb3BlIEluaXRpYWxpemF0aW9uIE1ldGhvZHMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGluaXRpYWxpemUgdGhlIGNvbXBvbmVudHMgaW4gdGhlIHNjb3BlXG4gICAgICogVG8gc2F2ZSBtZW1vcnkgY29tcG9uZW50cyBhcmUgaW5pdGlhbGl6ZWQgb25seSB3aGVuIHRoZXkgYXJlIHJlcXVlc3RlZFxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIG9ubHkgcmVnaXN0ZXJzIHRoZSBjb21wb25lbnQgaW4gdGhlIHNjb3BlIGluIGNhc2UgdGhleSBhcmUgbm90IHJlZ2lzdGVyZWQgeWV0XG4gICAgICogXG4gICAgICogQHBhcmFtIF9jb21wb25lbnRzIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpbml0Q29tcG9uZW50cyhfY29tcG9uZW50cz86IF9Db21wb25lbnRUeXBlKSB7IF9jb21wb25lbnRzPy5mb3JFYWNoKHRoaXMucmVnaXN0ZXIuYmluZCh0aGlzKSk7IH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGluaXRpYWxpemUgdGhlIGVycm9ycyBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBvbmx5IHJlZ2lzdGVycyB0aGUgZXJyb3JzIGluIHRoZSBzY29wZSBpbiBjYXNlIHRoZXkgYXJlIG5vdCByZWdpc3RlcmVkIHlldFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBfZXJyb3JzIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpbml0RXJyb3JzKF9lcnJvcnM/OiBfRXJyb3JUeXBlKSB7IF9lcnJvcnM/LmZvckVhY2godGhpcy5yZWdpc3Rlci5iaW5kKHRoaXMpKTsgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gaW5pdGlhbGl6ZSB0aGUgZW50aXRpZXMgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogVGhpcyBtZXRob2Qgb25seSByZWdpc3RlcnMgdGhlIGVudGl0aWVzIGluIHRoZSBzY29wZSBpbiBjYXNlIHRoZXkgYXJlIG5vdCByZWdpc3RlcmVkIHlldFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBfZW50aXRpZXMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGluaXRFbnRpdGllcyhfZW50aXRpZXM/OiBbXG4gICAgICAgIC4uLl9FbnRpdHlUeXBlLFxuICAgICAgICAuLi5JbnN0YW5jZVR5cGU8X0VudGl0eVR5cGVbbnVtYmVyXT5bXVxuICAgIF0pIHsgX2VudGl0aWVzPy5mb3JFYWNoKGVudCA9PiB0aGlzLnJlZ2lzdGVyKGVudCBhcyBhbnkpKTsgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gaW5pdGlhbGl6ZSB0aGUgZnJhZ21lbnRzIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIG9ubHkgcmVnaXN0ZXJzIHRoZSBmcmFnbWVudHMgaW4gdGhlIHNjb3BlIGluIGNhc2UgdGhleSBhcmUgbm90IHJlZ2lzdGVyZWQgeWV0XG4gICAgICogXG4gICAgICogQHBhcmFtIF9mcmFnbWVudHMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGluaXRGcmFnbWVudHMoX2ZyYWdtZW50cz86IF9GcmFnbWVudFR5cGUpIHsgX2ZyYWdtZW50cz8uZm9yRWFjaCh0aGlzLnJlZ2lzdGVyLmJpbmQodGhpcykpOyB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBpbml0aWFsaXplIHRoZSBtZXRhIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIG9ubHkgc2V0cyB0aGUgbWV0YSB2YWx1ZXMgaW4gdGhlIHNjb3BlIGluIGNhc2UgdGhleSBhcmUgbm90IHNldCB5ZXRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gX21ldGEgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGluaXRNZXRhKF9tZXRhPzogUGFydGlhbDxfTWV0YUl0ZW1zPikge1xuICAgICAgICBpZiAoX21ldGEpIHtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKF9tZXRhKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXRhLnNldChrZXkgYXMga2V5b2YgX01ldGFJdGVtcywgdmFsdWUgYXMgX01ldGFJdGVtc1trZXlvZiBfTWV0YUl0ZW1zXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVNjb3BlIFB1YmxpYyBNZXRob2RzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gZGVzdHJveSB0aGUgc2NvcGUgYW5kIGFsbCBpdHMgcmVnaXN0ZXJlZCBjb21wb25lbnRzLCBmcmFnbWVudHMgYW5kIGVudGl0aWVzXG4gICAgICogXG4gICAgICogWyFdIFRoaXMgbWV0aG9kIGRlcmVnaXN0ZXJzIGFsbCBjb21wb25lbnRzLCBmcmFnbWVudHMgYW5kIGVudGl0aWVzIGZyb20gdGhlIEEtQ29udGV4dFxuICAgICAqIFshXSBUaGlzIG1ldGhvZCBhbHNvIGNsZWFycyBhbGwgaW50ZXJuYWwgcmVnaXN0cmllcyBhbmQgY29sbGVjdGlvbnNcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50ID0+IEFfQ29udGV4dC5kZXJlZ2lzdGVyKGNvbXBvbmVudCkpO1xuICAgICAgICB0aGlzLl9mcmFnbWVudHMuZm9yRWFjaChmcmFnbWVudCA9PiBBX0NvbnRleHQuZGVyZWdpc3RlcihmcmFnbWVudCkpO1xuICAgICAgICB0aGlzLl9lbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiBBX0NvbnRleHQuZGVyZWdpc3RlcihlbnRpdHkpKTtcblxuICAgICAgICB0aGlzLl9jb21wb25lbnRzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2Vycm9ycy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9mcmFnbWVudHMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fZW50aXRpZXMuY2xlYXIoKTtcblxuICAgICAgICBpZiAodGhpcy5pc3N1ZXIoKSkge1xuXG4gICAgICAgICAgICBBX0NvbnRleHQuZGVhbGxvY2F0ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgdmFsdWUgZnJvbSB0aGUgc2NvcGUncyBtZXRhLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbSAtIFRoZSBrZXkgdG8gcmV0cmlldmVcbiAgICAgKiBAcmV0dXJucyBUaGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBrZXksIG9yIHVuZGVmaW5lZCBpZiBub3QgZm91bmRcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCB1c2VySWQgPSBzY29wZS5nZXQoJ3VzZXJJZCcpO1xuICAgICAqIGlmICh1c2VySWQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGBDdXJyZW50IHVzZXI6ICR7dXNlcklkfWApO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBnZXQ8SyBleHRlbmRzIGtleW9mIF9NZXRhSXRlbXM+KHBhcmFtOiBLKTogX01ldGFJdGVtc1tLXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXRhLmdldChwYXJhbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcmVzIGEgdmFsdWUgaW4gdGhlIHNjb3BlJ3MgbWV0YS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW0gLSBUaGUga2V5IHRvIHN0b3JlIHRoZSB2YWx1ZSB1bmRlclxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBzdG9yZVxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIHNjb3BlLnNldCgndXNlcklkJywgJzEyMzQ1Jyk7XG4gICAgICogc2NvcGUuc2V0KCdyb2xlJywgJ2FkbWluJyk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc2V0PEsgZXh0ZW5kcyBrZXlvZiBfTWV0YUl0ZW1zPihwYXJhbTogSywgdmFsdWU6IF9NZXRhSXRlbXNbS10pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fbWV0YS5zZXQocGFyYW0sIHZhbHVlKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGlzc3VlciBvZiB0aGUgc2NvcGUsIHVzZWZ1bCBmb3IgZGVidWdnaW5nIGFuZCB0cmFja2luZyBwdXJwb3Nlc1xuICAgICAqIFxuICAgICAqIElzc3VlciBjYW4gYmU6XG4gICAgICogLSBBIENvbnRhaW5lciB0aGF0IGFsbG9jYXRlZCB0aGUgc2NvcGVcbiAgICAgKiAtIEEgRmVhdHVyZSB0aGF0IGFsbG9jYXRlZCB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGF0IHRoZSBpc3N1ZXIgaXMgdGhlIGRpcmVjdCBhbGxvY2F0b3Igb2YgdGhlIHNjb3BlLCBzbyBpZiBhIENvbnRhaW5lciBhbGxvY2F0ZWQgYSBGZWF0dXJlIHRoYXQgYWxsb2NhdGVkIHRoZSBzY29wZSwgdGhlIGlzc3VlciB3aWxsIGJlIHRoZSBGZWF0dXJlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgaXNzdWVyPFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHM+KCk6IFQgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0Lmlzc3Vlcih0aGlzKSBhcyBUO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGluaGVyaXQgZnJvbSBhIHBhcmVudCBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBUaGlzIG1ldGhvZCBjaGVja3MgZm9yIGNpcmN1bGFyIGluaGVyaXRhbmNlIGFuZCB0aHJvd3MgYW4gZXJyb3IgaWYgZGV0ZWN0ZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyZW50IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGluaGVyaXQocGFyZW50OiBBX1Njb3BlKTogQV9TY29wZSB7XG4gICAgICAgIGlmICghcGFyZW50KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuSW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgSW52YWxpZCBwYXJlbnQgc2NvcGUgcHJvdmlkZWRgXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGlmIChwYXJlbnQgPT09IHRoaXMpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5DaXJjdWxhckluaGVyaXRhbmNlRXJyb3IsXG4gICAgICAgICAgICAgICAgYFVuYWJsZSB0byBpbmhlcml0IHNjb3BlICR7dGhpcy5uYW1lfSBmcm9tIGl0c2VsZmBcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgaWYgKHBhcmVudCA9PT0gdGhpcy5fcGFyZW50KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgLy8gUHJldmVudCBjaXJjdWxhciBpbmhlcml0YW5jZVxuICAgICAgICBjb25zdCBjaXJjdWxhckNoZWNrID0gdGhpcy5jaGVja0NpcmN1bGFySW5oZXJpdGFuY2UocGFyZW50KTtcblxuICAgICAgICBpZiAoY2lyY3VsYXJDaGVjaylcbiAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9TY29wZUVycm9yLkNpcmN1bGFySW5oZXJpdGFuY2VFcnJvcixcbiAgICAgICAgICAgICAgICBgQ2lyY3VsYXIgaW5oZXJpdGFuY2UgZGV0ZWN0ZWQ6ICR7Wy4uLmNpcmN1bGFyQ2hlY2ssIHBhcmVudC5uYW1lXS5qb2luKCcgLT4gJyl9YFxuICAgICAgICAgICAgKTtcblxuXG4gICAgICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGNoZWNrIGlmIHRoZSBjb21wb25lbnQgaXMgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlIHRoYXQgdGhpcyBtZXRob2QgY2hlY2tzIGZvciB0aGUgY29tcG9uZW50IGluIHRoZSBjdXJyZW50IHNjb3BlIGFuZCBhbGwgcGFyZW50IHNjb3Blc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgaGFzPFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IGNvbnN0cnVjdG9yIHRvIGNoZWNrIGlmIGl0J3MgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8VD5cbiAgICApOiBib29sZWFuXG4gICAgaGFzPFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byBjaGVjayBpZiBpdCdzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgICAgICogXG4gICAgICAgICAqIFshXSBOb3RlIHRoYXQgZW50aXRpZXMgYXJlIHVuaXF1ZSBwZXIgYXNlaWQsIHNvIHRoaXMgbWV0aG9kIGNoZWNrcyBpZiB0aGVyZSdzIGF0IGxlYXN0IG9uZSBlbnRpdHkgb2YgdGhlIHByb3ZpZGVkIHR5cGUgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IGJvb2xlYW5cbiAgICBoYXM8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGZyYWdtZW50IGNvbnN0cnVjdG9yIHRvIGNoZWNrIGlmIGl0J3MgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZnJhZ21lbnQ6IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogYm9vbGVhblxuICAgIGhhczxUIGV4dGVuZHMgQV9FcnJvcj4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVycm9yIGNvbnN0cnVjdG9yIHRvIGNoZWNrIGlmIGl0J3MgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3I6IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogYm9vbGVhblxuICAgIGhhcyhcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBzdHJpbmcgdG8gY2hlY2sgaWYgYSBjb21wb25lbnQsIGVudGl0eSBvciBmcmFnbWVudCB3aXRoIHRoZSBwcm92aWRlZCBuYW1lIGlzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yOiBzdHJpbmdcbiAgICApOiBib29sZWFuXG4gICAgaGFzKFxuICAgICAgICBjdG9yOiB1bmtub3duXG4gICAgKTogYm9vbGVhbiB7XG5cbiAgICAgICAgbGV0IGZvdW5kID0gdGhpcy5oYXNGbGF0KGN0b3IgYXMgYW55KTtcblxuICAgICAgICBpZiAoIWZvdW5kICYmICEhdGhpcy5fcGFyZW50KVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50LmhhcyhjdG9yIGFzIGFueSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGNoZWNrIGlmIHRoZSBjb21wb25lbnQgaXMgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlIHRoYXQgdGhpcyBtZXRob2QgY2hlY2tzIGZvciB0aGUgY29tcG9uZW50IE9OTFkgaW4gdGhlIGN1cnJlbnQgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGhhc0ZsYXQ8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgY29uc3RydWN0b3IgdG8gY2hlY2sgaWYgaXQncyBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IGJvb2xlYW5cbiAgICBoYXNGbGF0PFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byBjaGVjayBpZiBpdCdzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgICAgICogXG4gICAgICAgICAqIFshXSBOb3RlIHRoYXQgZW50aXRpZXMgYXJlIHVuaXF1ZSBwZXIgYXNlaWQsIHNvIHRoaXMgbWV0aG9kIGNoZWNrcyBpZiB0aGVyZSdzIGF0IGxlYXN0IG9uZSBlbnRpdHkgb2YgdGhlIHByb3ZpZGVkIHR5cGUgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IGJvb2xlYW5cbiAgICBoYXNGbGF0PFQgZXh0ZW5kcyBBX0ZyYWdtZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBmcmFnbWVudCBjb25zdHJ1Y3RvciB0byBjaGVjayBpZiBpdCdzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IGJvb2xlYW5cbiAgICBoYXNGbGF0PFQgZXh0ZW5kcyBBX0Vycm9yPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZXJyb3IgY29uc3RydWN0b3IgdG8gY2hlY2sgaWYgaXQncyBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlcnJvcjogQV9UWVBFU19fRXJyb3JfQ29uc3RydWN0b3I8VD5cbiAgICApOiBib29sZWFuXG4gICAgaGFzRmxhdChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBzdHJpbmcgdG8gY2hlY2sgaWYgYSBjb21wb25lbnQsIGVudGl0eSBvciBmcmFnbWVudCB3aXRoIHRoZSBwcm92aWRlZCBuYW1lIGlzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yOiBzdHJpbmdcbiAgICApOiBib29sZWFuXG4gICAgaGFzRmxhdChcbiAgICAgICAgY3RvcjogdW5rbm93blxuICAgICk6IGJvb2xlYW4ge1xuXG4gICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgLy8gMSkgQ2hlY2sgaWYgaXQncyBhIFNjb3BlLiBJdCdzIGFsd2F5cyB0cnVlIHNpbmNlIGl0IHJldHVybnMgaXRzZWxmXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1Njb3BlQ29uc3RydWN0b3IoY3Rvcik6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIC8vIDIpIENoZWNrIGJ5IHN0cmluZyBuYW1lLiAgXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1N0cmluZyhjdG9yKToge1xuXG4gICAgICAgICAgICAgICAgLy8gMi4xIENoZWNrIGlmIGl0J3MgYSBjb21wb25lbnQgbmFtZVxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlQ29tcG9uZW50ID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRDb21wb25lbnRzKS5maW5kKGMgPT4gYy5uYW1lID09PSBjdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAocG9zc2libGVDb21wb25lbnQpIGZvdW5kID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIDIuMiBDaGVjayBpZiBpdCdzIGEgZnJhZ21lbnQgbmFtZVxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlRnJhZ21lbnQgPSBBcnJheS5mcm9tKHRoaXMuYWxsb3dlZEZyYWdtZW50cykuZmluZChmID0+IGYubmFtZSA9PT0gY3Rvcik7XG4gICAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlRnJhZ21lbnQpIGZvdW5kID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIDIuMyBDaGVjayBpZiBpdCdzIGFuIGVudGl0eSBuYW1lIG9yIGVudGl0eSBzdGF0aWMgZW50aXR5IHByb3BlcnR5XG4gICAgICAgICAgICAgICAgY29uc3QgcG9zc2libGVFbnRpdHkgPSBBcnJheS5mcm9tKHRoaXMuYWxsb3dlZEVudGl0aWVzKS5maW5kKGUgPT4gZS5uYW1lID09PSBjdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAocG9zc2libGVFbnRpdHkpIGZvdW5kID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIDIuNCBDaGVjayBpZiBpdCdzIGFuIGVycm9yIG5hbWVcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NzaWJsZUVycm9yID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRFcnJvcnMpLmZpbmQoZSA9PiBlLm5hbWUgPT09IGN0b3IpO1xuICAgICAgICAgICAgICAgIGlmIChwb3NzaWJsZUVycm9yKSBmb3VuZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDMpIENoZWNrIGlmIGl0J3MgYSBDb21wb25lbnRcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IoY3Rvcik6IHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IHRoaXMuaXNBbGxvd2VkQ29tcG9uZW50KGN0b3IpXG4gICAgICAgICAgICAgICAgICAgIHx8ICEhWy4uLnRoaXMuYWxsb3dlZENvbXBvbmVudHNdXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZChjID0+IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjLCBjdG9yKSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDQpIENoZWNrIGlmIGl0J3MgYW4gRW50aXR5XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0VudGl0eUNvbnN0cnVjdG9yKGN0b3IpOiB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0aGlzLmlzQWxsb3dlZEVudGl0eShjdG9yKVxuICAgICAgICAgICAgICAgICAgICB8fCAhIVsuLi50aGlzLmFsbG93ZWRFbnRpdGllc11cbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKGUgPT4gQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGUsIGN0b3IpKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNSkgQ2hlY2sgaWYgaXQncyBhIEZyYWdtZW50XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0ZyYWdtZW50Q29uc3RydWN0b3IoY3Rvcik6IHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IHRoaXMuaXNBbGxvd2VkRnJhZ21lbnQoY3RvcilcbiAgICAgICAgICAgICAgICAgICAgfHwgISFbLi4udGhpcy5hbGxvd2VkRnJhZ21lbnRzXVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoZiA9PiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oZiwgY3RvcikpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDYpIENoZWNrIGlmIGl0J3MgYW4gRXJyb3JcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JDb25zdHJ1Y3RvcihjdG9yKToge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gdGhpcy5pc0FsbG93ZWRFcnJvcihjdG9yKVxuICAgICAgICAgICAgICAgICAgICB8fCAhIVsuLi50aGlzLmFsbG93ZWRFcnJvcnNdXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZChlID0+IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShlLCBjdG9yKSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gNykgQ2hlY2sgc2NvcGUgaXNzdWVyXG4gICAgICAgICAgICBjYXNlIHRoaXMuaXNzdWVyKClcbiAgICAgICAgICAgICAgICAmJiAodGhpcy5pc3N1ZXIoKSEuY29uc3RydWN0b3IgPT09IGN0b3JcbiAgICAgICAgICAgICAgICAgICAgfHwgQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKHRoaXMuaXNzdWVyKCkhLmNvbnN0cnVjdG9yLCBjdG9yXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApOiB7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHR3byBzY29wZXMgaW50byBhIG5ldyBvbmVcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZXM6IFxuICAgICAqICAtIHRoaXMgbWV0aG9kIGRvZXMgTk9UIG1vZGlmeSB0aGUgZXhpc3Rpbmcgc2NvcGVzXG4gICAgICogIC0gcGFyZW50IG9mIHRoZSBuZXcgc2NvcGUgd2lsbCBiZSB0aGUgcGFyZW50IG9mIHRoZSBjdXJyZW50IHNjb3BlIG9yIHRoZSBwYXJlbnQgb2YgYW5vdGhlclNjb3BlIChpZiBleGlzdHMpXG4gICAgICogXG4gICAgICogQHBhcmFtIGFub3RoZXJTY29wZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBtZXJnZShhbm90aGVyU2NvcGU6IEFfU2NvcGUpOiBBX1Njb3BlIHtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IEFfU2NvcGUoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogYCR7dGhpcy5uYW1lfSArICR7YW5vdGhlclNjb3BlLm5hbWV9YCxcblxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFsuLi50aGlzLmFsbG93ZWRDb21wb25lbnRzLCAuLi5hbm90aGVyU2NvcGUuYWxsb3dlZENvbXBvbmVudHNdLFxuICAgICAgICAgICAgICAgIGZyYWdtZW50czogWy4uLnRoaXMuZnJhZ21lbnRzLCAuLi5hbm90aGVyU2NvcGUuZnJhZ21lbnRzXSxcbiAgICAgICAgICAgICAgICBlbnRpdGllczogW1xuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmVudGl0aWVzLCAuLi5hbm90aGVyU2NvcGUuZW50aXRpZXMsXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMuYWxsb3dlZEVudGl0aWVzLCAuLi5hbm90aGVyU2NvcGUuYWxsb3dlZEVudGl0aWVzXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGFyZW50OiB0aGlzLl9wYXJlbnQgfHwgYW5vdGhlclNjb3BlLl9wYXJlbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHJldHJpZXZlIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgY29tcG9uZW50IG9yIGVudGl0eSBieSBpdHMgbmFtZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlczpcbiAgICAgKiAtIEluIGNhc2Ugb2Ygc2VhcmNoIGZvciBBLUVudGl0eSBwbGVhc2UgZW5zdXJlIHRoYXQgcHJvdmlkZWQgc3RyaW5nIGNvcnJlc3BvbmRzIHRvIHRoZSBzdGF0aWMgZW50aXR5IHByb3BlcnR5IG9mIHRoZSBjbGFzcy4gWyFdIEJ5IGRlZmF1bHQgaXQncyB0aGUga2ViYWItY2FzZSBvZiB0aGUgY2xhc3MgbmFtZVxuICAgICAqIC0gSW4gY2FzZSBvZiBzZWFyY2ggZm9yIEFfQ29tcG9uZW50IHBsZWFzZSBlbnN1cmUgdGhhdCBwcm92aWRlZCBzdHJpbmcgY29ycmVzcG9uZHMgdG8gdGhlIGNsYXNzIG5hbWUgaW4gUGFzY2FsQ2FzZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuYW1lIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHJlc29sdmVDb25zdHJ1Y3RvcjxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgZW50aXR5IG5hbWUgb3Igc3RhdGljIGVudGl0eSBwcm9wZXJ0eSB0byByZXRyaWV2ZSBpdHMgY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIG5hbWU6IHN0cmluZ1xuICAgICk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPlxuICAgIHJlc29sdmVDb25zdHJ1Y3RvcjxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgY29tcG9uZW50IG5hbWUgaW4gUGFzY2FsQ2FzZSB0byByZXRyaWV2ZSBpdHMgY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIG5hbWU6IHN0cmluZ1xuICAgICk6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPlxuICAgIHJlc29sdmVDb25zdHJ1Y3RvcjxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBmcmFnbWVudCBuYW1lIGluIFBhc2NhbENhc2UgdG8gcmV0cmlldmUgaXRzIGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBuYW1lOiBzdHJpbmdcbiAgICApOiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPlxuICAgIHJlc29sdmVDb25zdHJ1Y3RvcjxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4obmFtZTogc3RyaW5nKTogQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPFQ+IHwgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+IHwgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8VD4gfCB1bmRlZmluZWQge1xuICAgICAgICAvLyAxKSBDaGVjayBjb21wb25lbnRzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IEFycmF5LmZyb20odGhpcy5hbGxvd2VkQ29tcG9uZW50cykuZmluZChcbiAgICAgICAgICAgIGMgPT4gYy5uYW1lID09PSBuYW1lXG4gICAgICAgICAgICAgICAgfHwgYy5uYW1lID09PSBBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2UobmFtZSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGNvbXBvbmVudCkgcmV0dXJuIGNvbXBvbmVudCBhcyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8VD47XG5cbiAgICAgICAgLy8gMikgQ2hlY2sgZW50aXRpZXNcbiAgICAgICAgY29uc3QgZW50aXR5ID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRFbnRpdGllcykuZmluZChcbiAgICAgICAgICAgIGUgPT4gZS5uYW1lID09PSBuYW1lXG4gICAgICAgICAgICAgICAgfHwgZS5uYW1lID09PSBBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2UobmFtZSlcbiAgICAgICAgICAgICAgICB8fCAoZSBhcyBhbnkpLmVudGl0eSA9PT0gbmFtZVxuICAgICAgICAgICAgICAgIHx8IChlIGFzIGFueSkuZW50aXR5ID09PSBBX0Zvcm1hdHRlckhlbHBlci50b0tlYmFiQ2FzZShuYW1lKVxuICAgICAgICApO1xuICAgICAgICBpZiAoZW50aXR5KSByZXR1cm4gZW50aXR5IGFzIEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPjtcblxuICAgICAgICAvLyAzKSBDaGVjayBmcmFnbWVudHNcbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBBcnJheS5mcm9tKHRoaXMuYWxsb3dlZEZyYWdtZW50cykuZmluZChmID0+IGYubmFtZSA9PT0gbmFtZVxuICAgICAgICAgICAgfHwgZi5uYW1lID09PSBBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2UobmFtZSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGZyYWdtZW50KSByZXR1cm4gZnJhZ21lbnQgYXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8VD47XG5cbiAgICAgICAgLy8gSWYgbm90IGZvdW5kIGluIGN1cnJlbnQgc2NvcGUsIGNoZWNrIHBhcmVudCBzY29wZVxuICAgICAgICBpZiAoISF0aGlzLl9wYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQucmVzb2x2ZUNvbnN0cnVjdG9yKG5hbWUpIGFzIGFueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG5cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgc2hvdWxkIHJlc29sdmUgYWxsIGluc3RhbmNlcyBvZiB0aGUgY29tcG9uZW50cywgb3IgZW50aXRpZXMgd2l0aGluIHRoZSBzY29wZSwgYnkgcHJvdmlkZWQgcGFyZW50IGNsYXNzXG4gICAgICogU28gaW4gY2FzZSBvZiBwcm92aWRpbmcgYSBiYXNlIGNsYXNzIGl0IHNob3VsZCByZXR1cm4gYWxsIGluc3RhbmNlcyB0aGF0IGV4dGVuZHMgdGhpcyBiYXNlIGNsYXNzXG4gICAgICogXG4gICAgICogWyFdIEFwcGxpY2FibGUgZm9yIHRoZSBjdXJyZW50IHNjb3BlIE9OTFksIG5vIHBhcmVudCBzY29wZXMgYXJlIGNoZWNrZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqL1xuICAgIHJlc29sdmVBbGw8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogQXJyYXk8VD5cbiAgICByZXNvbHZlQWxsPFQgZXh0ZW5kcyBBX0ZyYWdtZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBmcmFnbWVudCBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZnJhZ21lbnQ6IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogQXJyYXk8VD5cbiAgICByZXNvbHZlQWxsPFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBvciBhbiBhcnJheSBvZiBpbnN0YW5jZXMgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVudGl0eTogQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogQXJyYXk8VD5cbiAgICByZXNvbHZlQWxsPFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPihcbiAgICAgICAgY29uc3RydWN0b3JOYW1lOiBzdHJpbmdcbiAgICApOiBBcnJheTxUPlxuICAgIHJlc29sdmVBbGw8VCBleHRlbmRzIEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHM+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IGNvbnN0cnVjdG9yIG9yIGFuIGFycmF5IG9mIGNvbnN0cnVjdG9ycyB0byByZXNvbHZlIGl0cyBpbnN0YW5jZShzKSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW0xOiBBX1RZUEVTX19JbmplY3RhYmxlQ29uc3RydWN0b3JzXG4gICAgKTogQXJyYXk8VD4ge1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdHM6IEFycmF5PFQ+ID0gW107XG5cbiAgICAgICAgLy8gMSkgUmVzb2x2ZSBhbGwgaW4gdGhlIGN1cnJlbnQgc2NvcGVcbiAgICAgICAgY29uc3QgY3VycmVudFJlc3VsdHMgPSB0aGlzLnJlc29sdmVGbGF0QWxsPFQ+KHBhcmFtMSBhcyBhbnkpO1xuICAgICAgICByZXN1bHRzLnB1c2goLi4uY3VycmVudFJlc3VsdHMpO1xuXG4gICAgICAgIC8vIDIpIFJlc29sdmUgYWxsIGluIHRoZSBwYXJlbnQgc2NvcGVcblxuICAgICAgICBsZXQgcGFyZW50U2NvcGUgPSB0aGlzLl9wYXJlbnQ7XG5cbiAgICAgICAgd2hpbGUgKHBhcmVudFNjb3BlICYmIHBhcmVudFNjb3BlLmhhcyhwYXJhbTEgYXMgYW55KSkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50UmVzdWx0cyA9IHBhcmVudFNjb3BlLnJlc29sdmVGbGF0QWxsPFQ+KHBhcmFtMSBhcyBhbnkpO1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKC4uLnBhcmVudFJlc3VsdHMpO1xuXG4gICAgICAgICAgICAvLyBNb3ZlIHRvIHRoZSBuZXh0IHBhcmVudCBzY29wZVxuICAgICAgICAgICAgcGFyZW50U2NvcGUgPSBwYXJlbnRTY29wZS5fcGFyZW50O1xuICAgICAgICB9XG5cblxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG5cblxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgcmVzb2x2ZSBhbGwgaW5zdGFuY2VzIG9mIHRoZSBjb21wb25lbnRzLCBvciBlbnRpdGllcyB3aXRoaW4gdGhlIHNjb3BlLCBieSBwcm92aWRlZCBwYXJlbnQgY2xhc3NcbiAgICAgKiBTbyBpbiBjYXNlIG9mIHByb3ZpZGluZyBhIGJhc2UgY2xhc3MgaXQgc2hvdWxkIHJldHVybiBhbGwgaW5zdGFuY2VzIHRoYXQgZXh0ZW5kcyB0aGlzIGJhc2UgY2xhc3NcbiAgICAgKiBcbiAgICAgKiBbIV0gQXBwbGljYWJsZSBmb3IgdGhlIGN1cnJlbnQgc2NvcGUgT05MWSwgbm8gcGFyZW50IHNjb3BlcyBhcmUgY2hlY2tlZFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgXG4gICAgICovXG4gICAgcmVzb2x2ZUZsYXRBbGw8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogQXJyYXk8VD5cbiAgICByZXNvbHZlRmxhdEFsbDxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IEFycmF5PFQ+XG4gICAgcmVzb2x2ZUZsYXRBbGw8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIG9yIGFuIGFycmF5IG9mIGluc3RhbmNlcyBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD5cbiAgICApOiBBcnJheTxUPlxuICAgIHJlc29sdmVGbGF0QWxsPFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPihcbiAgICAgICAgY29uc3RydWN0b3JOYW1lOiBzdHJpbmdcbiAgICApOiBBcnJheTxUPlxuICAgIHJlc29sdmVGbGF0QWxsPFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBjb25zdHJ1Y3RvciBvciBhbiBhcnJheSBvZiBjb25zdHJ1Y3RvcnMgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UocykgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtMTogQV9UWVBFU19fSW5qZWN0YWJsZUNvbnN0cnVjdG9yc1xuICAgICk6IEFycmF5PFQ+IHtcblxuICAgICAgICBjb25zdCByZXN1bHRzOiBBcnJheTxUPiA9IFtdO1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgLy8gMSkgaWYgYSBwYXJhbWV0ZXIgaXMgYSBjb21wb25lbnQgY29uc3RydWN0b3JcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIC8vIDEpIENoZWNrIGNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRDb21wb25lbnRzLmZvckVhY2goY3RvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oY3RvciwgcGFyYW0xKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLnJlc29sdmU8VD4oY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UpIHJlc3VsdHMucHVzaChpbnN0YW5jZSBhcyBUKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMikgaWYgYSBwYXJhbWV0ZXIgaXMgYSBmcmFnbWVudCBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNGcmFnbWVudENvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICAvLyAyKSBDaGVjayBmcmFnbWVudHNcbiAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRGcmFnbWVudHMuZm9yRWFjaChjdG9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBwYXJhbTEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMucmVzb2x2ZShjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZSkgcmVzdWx0cy5wdXNoKGluc3RhbmNlIGFzIFQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5Q29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIC8vIDMpIENoZWNrIGVudGl0aWVzXG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShlbnRpdHkuY29uc3RydWN0b3IsIHBhcmFtMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChlbnRpdHkgYXMgVCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIC8vIDQpIENoZWNrIGJ5IG5hbWVcbiAgICAgICAgICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5yZXNvbHZlQ29uc3RydWN0b3IocGFyYW0xKTtcbiAgICAgICAgICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKGN0b3IpXG4gICAgICAgICAgICAgICAgICAgICYmICFBX1R5cGVHdWFyZHMuaXNFbnRpdHlDb25zdHJ1Y3RvcihjdG9yKVxuICAgICAgICAgICAgICAgICAgICAmJiAhQV9UeXBlR3VhcmRzLmlzRnJhZ21lbnRDb25zdHJ1Y3RvcihjdG9yKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5SZXNvbHV0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIHJlc29sdmUgYWxsIGluc3RhbmNlcyBmb3IgbmFtZTogJHtwYXJhbTF9IGluIHNjb3BlICR7dGhpcy5uYW1lfSBhcyBubyBtYXRjaGluZyBjb21wb25lbnQsIGVudGl0eSBvciBmcmFnbWVudCBjb25zdHJ1Y3RvciBmb3VuZGApO1xuXG5cbiAgICAgICAgICAgICAgICBpZiAoY3Rvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZXMgPSB0aGlzLnJlc29sdmVBbGw8VD4oY3RvciBhcyBhbnkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2VzKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKC4uLmluc3RhbmNlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5SZXNvbHV0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGBJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byByZXNvbHZlQWxsIG1ldGhvZDogJHtwYXJhbTF9IGluIHNjb3BlICR7dGhpcy5uYW1lfWApO1xuICAgICAgICB9XG5cblxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgYWxsb3dzIHRvIHJlc29sdmUvaW5qZWN0IGEgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgZnJvbSB0aGUgc2NvcGVcbiAgICAgKiBEZXBlbmRpbmcgb24gdGhlIHByb3ZpZGVkIHBhcmFtZXRlcnMgaXQgY2FuIHJlc29sdmU6XG4gICAgICogLSBBIHNpbmdsZSBjb21wb25lbnQvZnJhZ21lbnQvZW50aXR5IGJ5IGl0cyBjb25zdHJ1Y3RvciBvciBuYW1lXG4gICAgICogLSBBbiBhcnJheSBvZiBjb21wb25lbnRzL2ZyYWdtZW50cy9lbnRpdGllcyBieSBwcm92aWRpbmcgYW4gYXJyYXkgb2YgY29uc3RydWN0b3JzXG4gICAgICogLSBBbiBlbnRpdHkgb3IgYW4gYXJyYXkgb2YgZW50aXRpZXMgYnkgcHJvdmlkaW5nIHRoZSBlbnRpdHkgY29uc3RydWN0b3IgYW5kIHF1ZXJ5IGluc3RydWN0aW9uc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8VD5cbiAgICApOiBUIHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yW10+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBhcnJheSBvZiBjb21wb25lbnQgY29uc3RydWN0b3JzIHRvIHJlc29sdmUgdGhlaXIgaW5zdGFuY2VzIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnRzOiBbLi4uVF1cbiAgICApOiBBcnJheTxJbnN0YW5jZVR5cGU8VFtudW1iZXJdPj4gfCB1bmRlZmluZWRcbiAgICByZXNvbHZlPFQgZXh0ZW5kcyBBX0ZyYWdtZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBmcmFnbWVudCBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZnJhZ21lbnQ6IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogVCB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yW10+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBhcnJheSBvZiBmcmFnbWVudCBjb25zdHJ1Y3RvcnMgdG8gcmVzb2x2ZSB0aGVpciBpbnN0YW5jZXMgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50czogWy4uLlRdXG4gICAgKTogQXJyYXk8SW5zdGFuY2VUeXBlPFRbbnVtYmVyXT4+IHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2Ugb3IgYW4gYXJyYXkgb2YgaW5zdGFuY2VzIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IFQgfCB1bmRlZmluZWRcblxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIG9yIGFuIGFycmF5IG9mIGluc3RhbmNlcyBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD4sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIG9wdGlvbmFsIGluc3RydWN0aW9ucyB0byBmaW5kIGEgc3BlY2lmaWMgZW50aXR5IG9yIGEgc2V0IG9mIGVudGl0aWVzXG4gICAgICAgICAqL1xuICAgICAgICBpbnN0cnVjdGlvbnM6IFBhcnRpYWw8QV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uSW5zdHJ1Y3Rpb25zPFQ+PlxuICAgICk6IEFycmF5PFQ+XG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9TY29wZT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VzIG9ubHkgaW4gY2FzZSBvZiByZXNvbHZpbmcgYSBzaW5nbGUgZW50aXR5XG4gICAgICAgICAqIFxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU6IEFfVFlQRVNfX1Njb3BlX0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogVCB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfRXJyb3I+KFxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlcyBvbmx5IGluIGNhc2Ugb2YgcmVzb2x2aW5nIGEgc2luZ2xlIGVudGl0eVxuICAgICAgICAgKiBcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlOiBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IFQgfCB1bmRlZmluZWRcbiAgICByZXNvbHZlPFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPihcbiAgICAgICAgY29uc3RydWN0b3JOYW1lOiBzdHJpbmdcbiAgICApOiBUIHwgdW5kZWZpbmVkXG4gICAgLy8gYmFzZSBkZWZpbml0aW9uXG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgY29uc3RydWN0b3Igb3IgYW4gYXJyYXkgb2YgY29uc3RydWN0b3JzIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlKHMpIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbTE6IEFfVFlQRVNfX0luamVjdGFibGVDb25zdHJ1Y3RvcnMsXG5cbiAgICApOiBUIHwgQXJyYXk8VD4gfCB1bmRlZmluZWRcbiAgICByZXNvbHZlPFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZUxpbmtlZENvbnN0cnVjdG9ycz4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgY29uc3RydWN0b3Igb3IgYW4gYXJyYXkgb2YgY29uc3RydWN0b3JzIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlKHMpIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbTE6IEluc3RhbmNlVHlwZTxUPixcblxuICAgICk6IFQgfCBBcnJheTxUPiB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHM+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IGNvbnN0cnVjdG9yIG9yIGFuIGFycmF5IG9mIGNvbnN0cnVjdG9ycyB0byByZXNvbHZlIGl0cyBpbnN0YW5jZShzKSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW0xOiBBX1RZUEVTX19JbmplY3RhYmxlQ29uc3RydWN0b3JzIHwgQXJyYXk8QV9UWVBFU19fSW5qZWN0YWJsZUNvbnN0cnVjdG9ycz4sXG4gICAgICAgIHBhcmFtMj86IFBhcnRpYWw8QV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uSW5zdHJ1Y3Rpb25zPlxuICAgICk6IFQgfCBBcnJheTxUPiB8IHVuZGVmaW5lZCB7XG5cblxuICAgICAgICBpZiAoQV9UeXBlR3VhcmRzLmlzQXJyYXkocGFyYW0xKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmFtMS5tYXAoYyA9PiB0aGlzLnJlc29sdmVPbmNlKGMsIHBhcmFtMikpIGFzIEFycmF5PFQ+O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZU9uY2UocGFyYW0xLCBwYXJhbTIpIGFzIFQ7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgcG9seW1vcnBoaWMgbWV0aG9kIGFsbG93cyB0byByZXNvbHZlL2luamVjdCBhIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IGZyb20gdGhlIHNjb3BlXG4gICAgICogRGVwZW5kaW5nIG9uIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzIGl0IGNhbiByZXNvbHZlOlxuICAgICAqIC0gQSBzaW5nbGUgY29tcG9uZW50L2ZyYWdtZW50L2VudGl0eSBieSBpdHMgY29uc3RydWN0b3Igb3IgbmFtZVxuICAgICAqIC0gQW4gYXJyYXkgb2YgY29tcG9uZW50cy9mcmFnbWVudHMvZW50aXRpZXMgYnkgcHJvdmlkaW5nIGFuIGFycmF5IG9mIGNvbnN0cnVjdG9yc1xuICAgICAqIC0gQW4gZW50aXR5IG9yIGFuIGFycmF5IG9mIGVudGl0aWVzIGJ5IHByb3ZpZGluZyB0aGUgZW50aXR5IGNvbnN0cnVjdG9yIGFuZCBxdWVyeSBpbnN0cnVjdGlvbnNcbiAgICAgKiBcbiAgICAgKiBbIV0gQXBwbGljYWJsZSBmb3IgdGhlIGN1cnJlbnQgc2NvcGUgT05MWSwgbm8gcGFyZW50IHNjb3BlcyBhcmUgY2hlY2tlZFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgXG4gICAgICovXG4gICAgcmVzb2x2ZUZsYXQ8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogVCB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmVGbGF0PFQgZXh0ZW5kcyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3JbXT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGFycmF5IG9mIGNvbXBvbmVudCBjb25zdHJ1Y3RvcnMgdG8gcmVzb2x2ZSB0aGVpciBpbnN0YW5jZXMgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudHM6IFsuLi5UXVxuICAgICk6IEFycmF5PEluc3RhbmNlVHlwZTxUW251bWJlcl0+PiB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmVGbGF0PFQgZXh0ZW5kcyBBX0ZyYWdtZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBmcmFnbWVudCBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZnJhZ21lbnQ6IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogVCB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmVGbGF0PFQgZXh0ZW5kcyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcltdPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gYXJyYXkgb2YgZnJhZ21lbnQgY29uc3RydWN0b3JzIHRvIHJlc29sdmUgdGhlaXIgaW5zdGFuY2VzIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudHM6IFsuLi5UXVxuICAgICk6IEFycmF5PEluc3RhbmNlVHlwZTxUW251bWJlcl0+PiB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmVGbGF0PFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBvciBhbiBhcnJheSBvZiBpbnN0YW5jZXMgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVudGl0eTogQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogVCB8IHVuZGVmaW5lZFxuXG4gICAgcmVzb2x2ZUZsYXQ8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIG9yIGFuIGFycmF5IG9mIGluc3RhbmNlcyBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD4sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIG9wdGlvbmFsIGluc3RydWN0aW9ucyB0byBmaW5kIGEgc3BlY2lmaWMgZW50aXR5IG9yIGEgc2V0IG9mIGVudGl0aWVzXG4gICAgICAgICAqL1xuICAgICAgICBpbnN0cnVjdGlvbnM6IFBhcnRpYWw8QV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uSW5zdHJ1Y3Rpb25zPFQ+PlxuICAgICk6IEFycmF5PFQ+XG4gICAgcmVzb2x2ZUZsYXQ8VCBleHRlbmRzIEFfU2NvcGU+KFxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlcyBvbmx5IGluIGNhc2Ugb2YgcmVzb2x2aW5nIGEgc2luZ2xlIGVudGl0eVxuICAgICAgICAgKiBcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlOiBBX1RZUEVTX19TY29wZV9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IFQgfCB1bmRlZmluZWRcbiAgICByZXNvbHZlRmxhdDxUIGV4dGVuZHMgQV9FcnJvcj4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VzIG9ubHkgaW4gY2FzZSBvZiByZXNvbHZpbmcgYSBzaW5nbGUgZW50aXR5XG4gICAgICAgICAqIFxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU6IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogVCB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmVGbGF0PFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPihcbiAgICAgICAgY29uc3RydWN0b3JOYW1lOiBzdHJpbmdcbiAgICApOiBUIHwgdW5kZWZpbmVkXG4gICAgLy8gYmFzZSBkZWZpbml0aW9uXG4gICAgcmVzb2x2ZUZsYXQ8VCBleHRlbmRzIEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHM+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IGNvbnN0cnVjdG9yIG9yIGFuIGFycmF5IG9mIGNvbnN0cnVjdG9ycyB0byByZXNvbHZlIGl0cyBpbnN0YW5jZShzKSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW0xOiBBX1RZUEVTX19JbmplY3RhYmxlQ29uc3RydWN0b3JzLFxuXG4gICAgKTogVCB8IEFycmF5PFQ+IHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZUZsYXQ8VCBleHRlbmRzIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29uc3RydWN0b3JzPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBjb25zdHJ1Y3RvciBvciBhbiBhcnJheSBvZiBjb25zdHJ1Y3RvcnMgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UocykgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtMTogSW5zdGFuY2VUeXBlPFQ+LFxuXG4gICAgKTogVCB8IEFycmF5PFQ+IHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZUZsYXQ8VCBleHRlbmRzIEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHM+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IGNvbnN0cnVjdG9yIG9yIGFuIGFycmF5IG9mIGNvbnN0cnVjdG9ycyB0byByZXNvbHZlIGl0cyBpbnN0YW5jZShzKSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW0xOiBBX1RZUEVTX19JbmplY3RhYmxlQ29uc3RydWN0b3JzIHwgQXJyYXk8QV9UWVBFU19fSW5qZWN0YWJsZUNvbnN0cnVjdG9ycz4sXG4gICAgICAgIHBhcmFtMj86IFBhcnRpYWw8QV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uSW5zdHJ1Y3Rpb25zPlxuICAgICk6IFQgfCBBcnJheTxUIHwgdW5kZWZpbmVkPiB8IHVuZGVmaW5lZCB7XG5cbiAgICAgICAgaWYgKEFfVHlwZUd1YXJkcy5pc0FycmF5KHBhcmFtMSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJhbTEubWFwKGMgPT4gdGhpcy5yZXNvbHZlRmxhdE9uY2UoYywgcGFyYW0yKSkgYXMgQXJyYXk8VD47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlRmxhdE9uY2UocGFyYW0xLCBwYXJhbTIpIGFzIFQ7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG5cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1JTlRFUk5BTCBSRVNPTFZFUlMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSB0byByZXNvbHZlIGEgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgYnkgaXRzIGNvbnN0cnVjdG9yIG5hbWVcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGNoZWNrcyBmb3IgdGhlIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IGluIHRoZSBjdXJyZW50IHNjb3BlIGFuZCBhbGwgcGFyZW50IHNjb3Blc1xuICAgICAqIFshIV0gTm90ZTogTm8gcGFyZW50IHNjb3BlcyBhcmUgY2hlY2tlZFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuYW1lICAtIG5hbWUgb2YgdGhlIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IHRvIHJlc29sdmUgKGNvbnN0cnVjdG9yIG5hbWUgZm9yIGNvbXBvbmVudHMgYW5kIGZyYWdtZW50cywgc3RhdGljIGVudGl0eSBwcm9wZXJ0eSBmb3IgZW50aXRpZXMsIHN0YXRpYyBjb2RlIHByb3BlcnR5IGZvciBjb21tYW5kcylcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlc29sdmVCeU5hbWUoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSB0byByZXNvbHZlXG4gICAgICAgICAqL1xuICAgICAgICBuYW1lOiBzdHJpbmdcbiAgICApOiBfRW50aXR5VHlwZVtudW1iZXJdIHwgSW5zdGFuY2VUeXBlPF9Db21wb25lbnRUeXBlW251bWJlcl0+IHwgX0ZyYWdtZW50VHlwZVtudW1iZXJdIHxcbiAgICAgICAgSW5zdGFuY2VUeXBlPF9FcnJvclR5cGVbbnVtYmVyXT4gfCB1bmRlZmluZWQge1xuICAgICAgICAvLyAxKSBDaGVjayBjb21wb25lbnRzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IEFycmF5LmZyb20odGhpcy5hbGxvd2VkQ29tcG9uZW50cykuZmluZChcbiAgICAgICAgICAgIGMgPT4gYy5uYW1lID09PSBuYW1lXG4gICAgICAgICAgICAgICAgfHwgYy5uYW1lID09PSBBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2UobmFtZSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGNvbXBvbmVudCkgcmV0dXJuIHRoaXMucmVzb2x2ZU9uY2UoY29tcG9uZW50KSBhcyBJbnN0YW5jZVR5cGU8X0NvbXBvbmVudFR5cGVbbnVtYmVyXT47XG5cbiAgICAgICAgLy8gMikgQ2hlY2sgZW50aXRpZXNcbiAgICAgICAgY29uc3QgZW50aXR5ID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRFbnRpdGllcykuZmluZChcbiAgICAgICAgICAgIGUgPT4gZS5uYW1lID09PSBuYW1lXG4gICAgICAgICAgICAgICAgfHwgZS5uYW1lID09PSBBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2UobmFtZSlcbiAgICAgICAgICAgICAgICB8fCAoZSBhcyBhbnkpLmVudGl0eSA9PT0gbmFtZVxuICAgICAgICAgICAgICAgIHx8IChlIGFzIGFueSkuZW50aXR5ID09PSBBX0Zvcm1hdHRlckhlbHBlci50b0tlYmFiQ2FzZShuYW1lKVxuICAgICAgICApO1xuICAgICAgICBpZiAoZW50aXR5KSByZXR1cm4gdGhpcy5yZXNvbHZlT25jZShlbnRpdHkpIGFzIEluc3RhbmNlVHlwZTxfRW50aXR5VHlwZVtudW1iZXJdPjtcblxuICAgICAgICAvLyAzKSBDaGVjayBmcmFnbWVudHNcbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBBcnJheS5mcm9tKHRoaXMuYWxsb3dlZEZyYWdtZW50cykuZmluZChmID0+IGYubmFtZSA9PT0gbmFtZVxuICAgICAgICAgICAgfHwgZi5uYW1lID09PSBBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2UobmFtZSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGZyYWdtZW50KSByZXR1cm4gdGhpcy5yZXNvbHZlT25jZShmcmFnbWVudCkgYXMgX0ZyYWdtZW50VHlwZVtudW1iZXJdO1xuXG4gICAgICAgIC8vIDQpIENoZWNrIGVycm9yc1xuICAgICAgICBjb25zdCBlcnJvciA9IEFycmF5LmZyb20odGhpcy5hbGxvd2VkRXJyb3JzKS5maW5kKFxuICAgICAgICAgICAgZSA9PiBlLm5hbWUgPT09IG5hbWVcbiAgICAgICAgICAgICAgICB8fCBlLm5hbWUgPT09IEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShuYW1lKVxuICAgICAgICAgICAgICAgIHx8IChlIGFzIGFueSkuY29kZSA9PT0gbmFtZVxuICAgICAgICAgICAgICAgIHx8IChlIGFzIGFueSkuY29kZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9LZWJhYkNhc2UobmFtZSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGVycm9yKSByZXR1cm4gdGhpcy5yZXNvbHZlT25jZShlcnJvcikgYXMgSW5zdGFuY2VUeXBlPF9FcnJvclR5cGVbbnVtYmVyXT47XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyBhIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IGZyb20gdGhlIHNjb3BlIHdpdGhvdXQgY2hlY2tpbmcgcGFyZW50IHNjb3Blc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgXG4gICAgICogQHBhcmFtIGluc3RydWN0aW9ucyBcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlc29sdmVGbGF0T25jZShcbiAgICAgICAgY29tcG9uZW50OiBhbnksXG4gICAgICAgIGluc3RydWN0aW9ucz86IFBhcnRpYWw8QV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uSW5zdHJ1Y3Rpb25zPlxuICAgICk6IEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHMgfCBBX1Njb3BlIHwgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHwgQXJyYXk8QV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4gfCB1bmRlZmluZWQge1xuXG4gICAgICAgIGxldCB2YWx1ZTogQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cyB8IEFfU2NvcGUgfCBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMgfCBBcnJheTxBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQpO1xuXG4gICAgICAgIGlmICghY29tcG9uZW50IHx8ICF0aGlzLmhhcyhjb21wb25lbnQpKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKGNvbXBvbmVudCk6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMucmVzb2x2ZUJ5TmFtZShjb21wb25lbnQpIGFzIEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHMgfCBBX1Njb3BlIHwgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb25zdHJ1Y3RvckFsbG93ZWRGb3JTY29wZUFsbG9jYXRpb24oY29tcG9uZW50KToge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5yZXNvbHZlSXNzdWVyKGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0VudGl0eUNvbnN0cnVjdG9yKGNvbXBvbmVudCk6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMucmVzb2x2ZUVudGl0eShjb21wb25lbnQsIGluc3RydWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0ZyYWdtZW50Q29uc3RydWN0b3IoY29tcG9uZW50KToge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5yZXNvbHZlRnJhZ21lbnQoY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU2NvcGVDb25zdHJ1Y3Rvcihjb21wb25lbnQpOiB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnJlc29sdmVTY29wZShjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3Rvcihjb21wb25lbnQpOiB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnJlc29sdmVDb21wb25lbnQoY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JDb25zdHJ1Y3Rvcihjb21wb25lbnQpOiB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnJlc29sdmVFcnJvcihjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuUmVzb2x1dGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICBgSW5qZWN0ZWQgQ29tcG9uZW50ICR7Y29tcG9uZW50TmFtZX0gbm90IGZvdW5kIGluIHRoZSBzY29wZWBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSB0byByZXNvbHZlIGEgc2luZ2xlIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IGZyb20gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKiBAcGFyYW0gaW5zdHJ1Y3Rpb25zIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVzb2x2ZU9uY2UoXG4gICAgICAgIGNvbXBvbmVudDogYW55LFxuICAgICAgICBpbnN0cnVjdGlvbnM/OiBQYXJ0aWFsPEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX0VudGl0eUluamVjdGlvbkluc3RydWN0aW9ucz5cbiAgICApOiBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzIHwgQV9TY29wZSB8IEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyB8IEFycmF5PEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHM+IHwgdW5kZWZpbmVkIHtcblxuICAgICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLnJlc29sdmVGbGF0T25jZShjb21wb25lbnQsIGluc3RydWN0aW9ucyk7XG5cbiAgICAgICAgLy8gIFRoZSBpZGVhIGhlcmUgdGhhdCBpbiBjYXNlIHdoZW4gU2NvcGUgaGFzIG5vIGV4YWN0IGNvbXBvbmVudCB3ZSBoYXZlIHRvIHJlc29sdmUgaXQgZnJvbSB0aGUgX3BhcmVudFxuICAgICAgICAvLyAgVGhhdCBtZWFucyB0aGF0IHdlIHNob3VsZCBlbnN1cmUgdGhhdCB0aGVyZSdzIG5vIGNvbXBvbmVudHMgdGhhdCBhcmUgY2hpbGRyZW4gb2YgdGhlIHJlcXVpcmVkIGNvbXBvbmVudFxuICAgICAgICBpZiAoIXZhbHVlcyAmJiAhIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQucmVzb2x2ZU9uY2UoY29tcG9uZW50LCBpbnN0cnVjdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIHRoZSBpc3N1ZXIgb2YgdGhlIHNjb3BlIGJ5IHByb3ZpZGVkIGNvbnN0cnVjdG9yXG4gICAgICogXG4gICAgICogWyFdIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBjaGVja3MgT05MWSBmb3IgdGhlIGRpcmVjdCBpc3N1ZXIgb2YgdGhlIHNjb3BlXG4gICAgICogWyEhXSBObyBwYXJlbnQgc2NvcGVzIGFyZSBjaGVja2VkXG4gICAgICogXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNvbHZlSXNzdWVyKFxuICAgICAgICBjdG9yOiBBX1RZUEVTX19TY29wZUxpbmtlZENvbnN0cnVjdG9yc1xuICAgICk6IEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyB8IHVuZGVmaW5lZCB7XG5cbiAgICAgICAgY29uc3QgaXNzdWVyID0gdGhpcy5pc3N1ZXIoKTtcblxuICAgICAgICBpZiAoaXNzdWVyXG4gICAgICAgICAgICAmJiAoXG4gICAgICAgICAgICAgICAgaXNzdWVyLmNvbnN0cnVjdG9yID09PSBjdG9yXG4gICAgICAgICAgICAgICAgfHwgQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGlzc3Vlcj8uY29uc3RydWN0b3IsIGN0b3IpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNzdWVyITtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgdG8gcmVzb2x2ZSBhIHNpbmdsZSBlbnRpdHkgZnJvbSB0aGUgc2NvcGUgYmFzZWQgb24gdGhlIHByb3ZpZGVkIGluc3RydWN0aW9uc1xuICAgICAqIFxuICAgICAqIFshXSBOb3RlIHRoYXQgdGhpcyBtZXRob2QgY2FuIHJldHVybiBlaXRoZXIgYSBzaW5nbGUgZW50aXR5IG9yIGFuIGFycmF5IG9mIGVudGl0aWVzIGRlcGVuZGluZyBvbiB0aGUgaW5zdHJ1Y3Rpb25zIHByb3ZpZGVkXG4gICAgICogWyEhXSBOb3RlOiBObyBwYXJlbnQgc2NvcGVzIGFyZSBjaGVja2VkICBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZW50aXR5IFxuICAgICAqIEBwYXJhbSBpbnN0cnVjdGlvbnMgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNvbHZlRW50aXR5PFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgICAgIGVudGl0eTogQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPFQ+LFxuICAgICAgICBpbnN0cnVjdGlvbnM/OiBQYXJ0aWFsPEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX0VudGl0eUluamVjdGlvbkluc3RydWN0aW9uczxUPj5cbiAgICApOiBUIHwgQXJyYXk8VD4gfCB1bmRlZmluZWQge1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gaW5zdHJ1Y3Rpb25zPy5xdWVyeSB8fCB7fSBhcyBQYXJ0aWFsPEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX0VudGl0eUluamVjdGlvblF1ZXJ5PFQ+PjtcbiAgICAgICAgY29uc3QgY291bnQgPSBpbnN0cnVjdGlvbnM/LnBhZ2luYXRpb24/LmNvdW50IHx8IDE7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIDEpIEluIGNhc2Ugd2hlbiBubyBpbnN0cnVjdGlvbnMgcHJvdmlkZWQsIHJldHVybiB0aGUgZmlyc3QgZm91bmQgZW50aXR5IG9mIHRoZSBwcm92aWRlZCB0eXBlXG4gICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAqIFshXSBOb3RlIHRoYXQgaXQgcmV0dXJucyBPTkxZIE9ORSBlbnRpdHlcbiAgICAgICAgICAgICAqIFshIV0gSW4gY2FzZSB3aGVuIG5vIGVudGl0eSBmb3VuZCBpbiB0aGUgY3VycmVudCBzY29wZSwgaXQgdHJpZXMgdG8gcmVzb2x2ZSBpdCBmcm9tIHRoZSBwYXJlbnQgc2NvcGUgKGlmIGV4aXN0cylcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY2FzZSAhaW5zdHJ1Y3Rpb25zOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW50aXRpZXMuZmluZChlID0+IGUgaW5zdGFuY2VvZiBlbnRpdHkpIGFzIFQgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIDIpIEluIGNhc2Ugd2hlbiBhc2VpZCBpcyBwcm92aWRlZCBpbiB0aGUgcXVlcnksIHdlIGNhbiBkaXJlY3RseSBnZXQgdGhlIGVudGl0eSBmcm9tIHRoZSBtYXBcbiAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICogWyFdIE5vdGUgdGhhdCBpdCByZXR1cm5zIE9OTFkgT05FIGVudGl0eVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjYXNlICEhcXVlcnkuYXNlaWRcbiAgICAgICAgICAgICAgICAmJiB0eXBlb2YgcXVlcnkuYXNlaWQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5fZW50aXRpZXMuaGFzKHF1ZXJ5LmFzZWlkKToge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZW50aXRpZXMuZ2V0KHF1ZXJ5LmFzZWlkKSBhcyBUO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogMykgSW4gY2FzZSB3aGVuIGFzZWlkIGlzIHByb3ZpZGVkIGFzIEFTRUlEIGluc3RhbmNlLCB3ZSBjYW4gZGlyZWN0bHkgZ2V0IHRoZSBlbnRpdHkgZnJvbSB0aGUgbWFwXG4gICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAqIFshXSBOb3RlIHRoYXQgaXQgcmV0dXJucyBPTkxZIE9ORSBlbnRpdHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY2FzZSAhIXF1ZXJ5LmFzZWlkXG4gICAgICAgICAgICAgICAgJiYgdHlwZW9mIHF1ZXJ5LmFzZWlkID09PSAnb2JqZWN0J1xuICAgICAgICAgICAgICAgICYmIHF1ZXJ5LmFzZWlkIGluc3RhbmNlb2YgQVNFSURcbiAgICAgICAgICAgICAgICAmJiB0aGlzLl9lbnRpdGllcy5oYXMocXVlcnkuYXNlaWQudG9TdHJpbmcoKSk6IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzLmdldChxdWVyeS5hc2VpZC50b1N0cmluZygpKSBhcyBUO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogNCkgSW4gY2FzZSB3aGVuIGlkIGlzIHByb3ZpZGVkIGluIHRoZSBxdWVyeSwgd2UgaGF2ZSB0byBmaW5kIHRoZSBlbnRpdHkgYnkgdGhlIGlkXG4gICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAqIFshXSAgTm90ZSB0aGF0IGl0IHJldHVybnMgT05MWSBPTkUgZW50aXR5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhc2UgISFxdWVyeS5pZDoge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSB0aGlzLmVudGl0aWVzXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZSA9PiBlIGluc3RhbmNlb2YgZW50aXR5KVxuICAgICAgICAgICAgICAgICAgICAuZmluZChlID0+IFN0cmluZyhlLmlkKSA9PT0gU3RyaW5nKHF1ZXJ5LmlkKSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZm91bmQgYXMgVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogNSkgSW4gY2FzZSB3aGVuIHRoZXJlJ3MgYSBxdWVyeSBvYmplY3QsIHdlIGhhdmUgdG8gZmlsdGVyIHRoZSBlbnRpdGllcyBieSB0aGUgcXVlcnlcbiAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICogWyFdIE5vdGUgdGhhdCBpdCBjYW4gcmV0dXJuIGVpdGhlciBhIHNpbmdsZSBlbnRpdHkgb3IgYW4gYXJyYXkgb2YgZW50aXRpZXMgZGVwZW5kaW5nIG9uIHRoZSBjb3VudCBpbnN0cnVjdGlvblxuICAgICAgICAgICAgICogWyEhXSBJbiBjYXNlIHdoZW4gbm8gZW50aXR5IGZvdW5kIGluIHRoZSBjdXJyZW50IHNjb3BlLCBpdCB0cmllcyB0byByZXNvbHZlIGl0IGZyb20gdGhlIHBhcmVudCBzY29wZSAoaWYgZXhpc3RzKVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBkZWZhdWx0OiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IHRoaXMuZW50aXRpZXNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihlID0+IGUgaW5zdGFuY2VvZiBlbnRpdHkpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVudHJpZXMocXVlcnkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmV2ZXJ5KChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSBpbiBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGUgYXMgYW55KVtrZXldID09PSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kWzBdIGFzIFQ7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZm91bmQgYXMgVFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSB0byByZXNvbHZlIGEgc2luZ2xlIGVycm9yIGZyb20gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogWyFdIE5vdGUgdGhhdCBlcnJvcnMgYXJlIHNpbmdsZXRvbiBpbnN0YW5jZXMgd2l0aGluIHRoZSBzY29wZVxuICAgICAqIFshIV0gTm8gcGFyZW50IHNjb3BlcyBhcmUgY2hlY2tlZFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBlcnJvciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlc29sdmVFcnJvcjxUIGV4dGVuZHMgQV9FcnJvcj4oZXJyb3I6IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yPFQ+KTogVCB8IHVuZGVmaW5lZCB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JzLmZpbmQoZSA9PiBlIGluc3RhbmNlb2YgZXJyb3IpIGFzIFQgfCB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSB0byByZXNvbHZlIGEgc2luZ2xlIGZyYWdtZW50IGZyb20gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogWyFdIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBjaGVja3MgZm9yIHRoZSBmcmFnbWVudCBpbiB0aGUgY3VycmVudCBzY29wZSBhbmQgYWxsIHBhcmVudCBzY29wZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZnJhZ21lbnQgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNvbHZlRnJhZ21lbnQ8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KGZyYWdtZW50OiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPik6IF9GcmFnbWVudFR5cGVbbnVtYmVyXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50SW5zdGFuY2VQcmVzZW50ZWQgPSB0aGlzLl9mcmFnbWVudHMuZ2V0KGZyYWdtZW50KTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgZnJhZ21lbnRJbnN0YW5jZVByZXNlbnRlZCAmJiB0aGlzLl9mcmFnbWVudHMuaGFzKGZyYWdtZW50KTpcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJhZ21lbnRJbnN0YW5jZVByZXNlbnRlZDtcblxuICAgICAgICAgICAgLy8gMykgSW4gY2FzZSB3aGVuIHRoZXJlJ3MgYSBjb21wb25lbnQgdGhhdCBpcyBpbmhlcml0ZWQgZnJvbSB0aGUgcmVxdWlyZWQgY29tcG9uZW50XG4gICAgICAgICAgICBjYXNlICFmcmFnbWVudEluc3RhbmNlUHJlc2VudGVkICYmIEFycmF5LmZyb20odGhpcy5fYWxsb3dlZEZyYWdtZW50cykuc29tZShlbCA9PiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oZWwsIGZyYWdtZW50KSk6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IEFycmF5LmZyb20odGhpcy5fYWxsb3dlZEZyYWdtZW50cykuZmluZChlbCA9PiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oZWwsIGZyYWdtZW50KSkhO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZUZyYWdtZW50KGZvdW5kKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqICBUaGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgdG8gcmVzb2x2ZSBhIHNpbmdsZSBzY29wZSBmcm9tIHRoZSBjdXJyZW50IHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVzb2x2ZVNjb3BlKHNjb3BlOiBBX1RZUEVTX19TY29wZV9Db25zdHJ1Y3Rvcik6IEFfU2NvcGUge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgdG8gcmVzb2x2ZSBhIHNpbmdsZSBjb21wb25lbnQgZnJvbSB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbISFdIE5vdGU6IE5vIHBhcmVudCBzY29wZXMgYXJlIGNoZWNrZWQgIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNvbHZlQ29tcG9uZW50PFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oY29tcG9uZW50OiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8VD4pOiBJbnN0YW5jZVR5cGU8X0NvbXBvbmVudFR5cGVbbnVtYmVyXT4gfCB1bmRlZmluZWQge1xuXG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAvLyAxKSBJbiBjYXNlIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBhdmFpbGFibGUgYW5kIGV4aXN0cyBpbiB0aGUgc2NvcGVcbiAgICAgICAgICAgIGNhc2UgdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5oYXMoY29tcG9uZW50KSAmJiB0aGlzLl9jb21wb25lbnRzLmhhcyhjb21wb25lbnQpOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudHMuZ2V0KGNvbXBvbmVudCkhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAyKSBJbiBjYXNlIHRoZSBjb21wb25lbnQgYXZhaWxhYmxlIGJ1dCBkb2VzIE5PVCBleGlzdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICAgIGNhc2UgdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5oYXMoY29tcG9uZW50KSAmJiAhdGhpcy5fY29tcG9uZW50cy5oYXMoY29tcG9uZW50KToge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudE1ldGEgPSBBX0NvbnRleHQubWV0YShjb21wb25lbnQpXG5cbiAgICAgICAgICAgICAgICBjb25zdCBhcmdzTWV0YSA9IGNvbXBvbmVudE1ldGEuZ2V0KEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuSU5KRUNUSU9OUyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCByZXNvbHZlZEFyZ3MgPSAoYXJnc01ldGE/LmdldCgnY29uc3RydWN0b3InKSB8fCBbXSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcChhcmcgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIEVycm9yIGhhbmRsaW5nIHB1cnBvc2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShhcmcudGFyZ2V0KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJ2luc3RydWN0aW9ucycgaW4gYXJnICYmICEhYXJnLmluc3RydWN0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdGFyZ2V0LCBwYXJlbnQsIGZsYXQsIGluc3RydWN0aW9ucyB9ID0gYXJnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVwZW5kZW5jeSA9IHRoaXMucmVzb2x2ZSh0YXJnZXQgYXMgYW55LCBpbnN0cnVjdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGVwZW5kZW5jeSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5SZXNvbHV0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIHJlc29sdmUgZGVwZW5kZW5jeSAke2NvbXBvbmVudE5hbWV9IGZvciBjb21wb25lbnQgJHtjb21wb25lbnQubmFtZX0gaW4gc2NvcGUgJHt0aGlzLm5hbWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlcGVuZGVuY3k7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdGFyZ2V0LCByZXF1aXJlLCBjcmVhdGUsIGRlZmF1bHRBcmdzLCBwYXJlbnQsIGZsYXQsIH0gPSBhcmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVwZW5kZW5jeTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tIFJlc29sdXRpb24gU3RyYXRlZ2llcyAtLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxKSBGbGF0IHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBmbGF0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5yZXNvbHZlRmxhdCh0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMikgUGFyZW50IHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBwYXJlbnQgJiYgdHlwZW9mIHBhcmVudC5sYXllck9mZnNldCA9PT0gJ251bWJlcic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFBhcmVudCA9IHRoaXMucGFyZW50T2Zmc2V0KHBhcmVudC5sYXllck9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQV9TY29wZUVycm9yLlJlc29sdXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFVuYWJsZSB0byByZXNvbHZlIHBhcmVudCBzY29wZSBhdCBvZmZzZXQgJHtwYXJlbnQubGF5ZXJPZmZzZXR9IGZvciBkZXBlbmRlbmN5ICR7Y29tcG9uZW50TmFtZX0gZm9yIGNvbXBvbmVudCAke2NvbXBvbmVudC5uYW1lfSBpbiBzY29wZSAke3RoaXMubmFtZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY3kgPSB0YXJnZXRQYXJlbnQucmVzb2x2ZSh0YXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAzKSBOb3JtYWwgcmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5yZXNvbHZlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tIFBvc3QtUmVzb2x1dGlvbiBBY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxKSBDcmVhdGUgZGVmYXVsdCBpbnN0YW5jZSBpbiBjYXNlIHdoZW4gYWxsb3dlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGUgJiYgIWRlcGVuZGVuY3kgJiYgQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckRlcGVuZGVuY3lEZWZhdWx0Q3JlYXRpb24odGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gbmV3IHRhcmdldCguLi5kZWZhdWx0QXJncyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlcihkZXBlbmRlbmN5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAyKSBUaHJvdyBlcnJvciBpbiBjYXNlIHdoZW4gcmVxdWlyZWQgYnV0IG5vdCByZXNvbHZlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlICYmICFkZXBlbmRlbmN5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuUmVzb2x1dGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFVuYWJsZSB0byByZXNvbHZlIHJlcXVpcmVkIGRlcGVuZGVuY3kgJHtjb21wb25lbnROYW1lfSBmb3IgY29tcG9uZW50ICR7Y29tcG9uZW50Lm5hbWV9IGluIHNjb3BlICR7dGhpcy5uYW1lfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBGaW5hbGx5LCByZXR1cm4gdGhlIGRlcGVuZGVuY3kgKGVpdGhlciByZXNvbHZlZCBvciB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlcGVuZGVuY3k7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q29tcG9uZW50ID0gbmV3IGNvbXBvbmVudCguLi5yZXNvbHZlZEFyZ3MpXG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKG5ld0NvbXBvbmVudCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50cy5nZXQoY29tcG9uZW50KSE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDMpIEluIGNhc2Ugd2hlbiB0aGVyZSdzIGEgY29tcG9uZW50IHRoYXQgaXMgaW5oZXJpdGVkIGZyb20gdGhlIHJlcXVpcmVkIGNvbXBvbmVudFxuICAgICAgICAgICAgY2FzZSAhdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5oYXMoY29tcG9uZW50KSAmJiBBcnJheS5mcm9tKHRoaXMuYWxsb3dlZENvbXBvbmVudHMpLnNvbWUoZWwgPT4gQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGVsLCBjb21wb25lbnQpKToge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRDb21wb25lbnRzKS5maW5kKGVsID0+IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShlbCwgY29tcG9uZW50KSkhO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZUNvbXBvbmVudChmb3VuZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byByZWdpc3RlciB0aGUgY29tcG9uZW50IGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBmcmFnbWVudCBcbiAgICAgKi9cbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCBjb25zdHJ1Y3RvciB0byByZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogdm9pZFxuICAgIHJlZ2lzdGVyPFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tbWFuZCBpbnN0YW5jZSB0byByZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogVFxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9FcnJvcj4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVycm9yIGNvbnN0cnVjdG9yIHRvIHJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3I6IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogdm9pZFxuICAgIHJlZ2lzdGVyPFQgZXh0ZW5kcyBBX0Vycm9yPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZXJyb3IgaW5zdGFuY2UgdG8gcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlcnJvcjogVFxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tbWFuZCBpbnN0YW5jZSB0byByZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgaW5zdGFuY2UgdG8gcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudDogVFxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgaW5zdGFuY2UgdG8gcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IFRcbiAgICApOiB2b2lkXG5cbiAgICByZWdpc3RlcihcbiAgICAgICAgcGFyYW0xOiB1bmtub3duXG4gICAgKTogdm9pZCB7XG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0gSW5zdGFuY2VzIC0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gMSkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUNvbXBvbmVudCBpbnN0YW5jZVxuICAgICAgICAgICAgY2FzZSBwYXJhbTEgaW5zdGFuY2VvZiBBX0NvbXBvbmVudDoge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmFsbG93ZWRDb21wb25lbnRzLmhhcyhwYXJhbTEuY29uc3RydWN0b3IgYXMgX0NvbXBvbmVudFR5cGVbbnVtYmVyXSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dlZENvbXBvbmVudHMuYWRkKHBhcmFtMS5jb25zdHJ1Y3RvciBhcyBfQ29tcG9uZW50VHlwZVtudW1iZXJdKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudHMuc2V0KFxuICAgICAgICAgICAgICAgICAgICBwYXJhbTEuY29uc3RydWN0b3IgYXMgX0NvbXBvbmVudFR5cGVbbnVtYmVyXSxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0xIGFzIEluc3RhbmNlVHlwZTxfQ29tcG9uZW50VHlwZVtudW1iZXJdPlxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBBX0NvbnRleHQucmVnaXN0ZXIodGhpcywgcGFyYW0xKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMykgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUVudGl0eSBpbnN0YW5jZVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbTEpICYmICF0aGlzLl9lbnRpdGllcy5oYXMocGFyYW0xLmFzZWlkLnRvU3RyaW5nKCkpOiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYWxsb3dlZEVudGl0aWVzLmhhcyhwYXJhbTEuY29uc3RydWN0b3IgYXMgX0VudGl0eVR5cGVbbnVtYmVyXSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dlZEVudGl0aWVzLmFkZChwYXJhbTEuY29uc3RydWN0b3IgYXMgX0VudGl0eVR5cGVbbnVtYmVyXSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdGllcy5zZXQocGFyYW0xLmFzZWlkLnRvU3RyaW5nKCksIHBhcmFtMSBhcyBJbnN0YW5jZVR5cGU8X0VudGl0eVR5cGVbbnVtYmVyXT4pO1xuICAgICAgICAgICAgICAgIEFfQ29udGV4dC5yZWdpc3Rlcih0aGlzLCBwYXJhbTEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNCkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUZyYWdtZW50IGluc3RhbmNlXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0ZyYWdtZW50SW5zdGFuY2UocGFyYW0xKToge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmFsbG93ZWRGcmFnbWVudHMuaGFzKHBhcmFtMS5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxfRnJhZ21lbnRUeXBlW251bWJlcl0+KSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkRnJhZ21lbnRzLmFkZChwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9mcmFnbWVudHMuc2V0KFxuICAgICAgICAgICAgICAgICAgICBwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPixcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0xIGFzIF9GcmFnbWVudFR5cGVbbnVtYmVyXVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBBX0NvbnRleHQucmVnaXN0ZXIodGhpcywgcGFyYW0xKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNSkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUVycm9yIGluc3RhbmNlXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Vycm9ySW5zdGFuY2UocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkRXJyb3JzLmhhcyhwYXJhbTEuY29uc3RydWN0b3IgYXMgX0Vycm9yVHlwZVtudW1iZXJdKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkRXJyb3JzLmFkZChwYXJhbTEuY29uc3RydWN0b3IgYXMgX0Vycm9yVHlwZVtudW1iZXJdKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9ycy5zZXQoXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtMS5jb2RlLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbTEgYXMgSW5zdGFuY2VUeXBlPF9FcnJvclR5cGVbbnVtYmVyXT5cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgQV9Db250ZXh0LnJlZ2lzdGVyKHRoaXMsIHBhcmFtMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tIENvbnN0cnVjdG9ycyAtLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIDYpIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1Db21wb25lbnQgY29uc3RydWN0b3JcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5oYXMocGFyYW0xKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5hZGQocGFyYW0xIGFzIF9Db21wb25lbnRUeXBlW251bWJlcl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gOCkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUZyYWdtZW50IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0ZyYWdtZW50Q29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkRnJhZ21lbnRzLmhhcyhwYXJhbTEpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRGcmFnbWVudHMuYWRkKHBhcmFtMSBhcyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxfRnJhZ21lbnRUeXBlW251bWJlcl0+KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDkpIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1FbnRpdHkgY29uc3RydWN0b3JcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5Q29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkRW50aXRpZXMuaGFzKHBhcmFtMSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dlZEVudGl0aWVzLmFkZChwYXJhbTEgYXMgX0VudGl0eVR5cGVbbnVtYmVyXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAxMCkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUVycm9yIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Vycm9yQ29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkRXJyb3JzLmhhcyhwYXJhbTEpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRFcnJvcnMuYWRkKHBhcmFtMSBhcyBfRXJyb3JUeXBlW251bWJlcl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLSBJbnZhbGlkIENhc2VzIC0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmIChwYXJhbTEgaW5zdGFuY2VvZiBBX0VudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5SZWdpc3RyYXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGBFbnRpdHkgd2l0aCBBU0VJRCAke3BhcmFtMS5hc2VpZC50b1N0cmluZygpfSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgaW4gdGhlIHNjb3BlICR7dGhpcy5uYW1lfWBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXJhbTEgaW5zdGFuY2VvZiBBX0ZyYWdtZW50KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgQV9TY29wZUVycm9yLlJlZ2lzdHJhdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYEZyYWdtZW50ICR7cGFyYW0xLmNvbnN0cnVjdG9yLm5hbWV9IGlzIGFscmVhZHkgcmVnaXN0ZXJlZCBpbiB0aGUgc2NvcGUgJHt0aGlzLm5hbWV9YFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShwYXJhbTEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuUmVnaXN0cmF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBgQ2Fubm90IHJlZ2lzdGVyICR7Y29tcG9uZW50TmFtZX0gaW4gdGhlIHNjb3BlICR7dGhpcy5uYW1lfWBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gZGVyZWdpc3RlciB0aGUgY29tcG9uZW50IGZyb20gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGZyYWdtZW50IFxuICAgICAqL1xuICAgIGRlcmVnaXN0ZXI8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgY29uc3RydWN0b3IgdG8gZGVyZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogdm9pZFxuICAgIGRlcmVnaXN0ZXIoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tbWFuZCBpbnN0YW5jZSB0byBkZXJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX0NvbXBvbmVudFxuICAgICk6IHZvaWRcbiAgICBkZXJlZ2lzdGVyPFQgZXh0ZW5kcyBBX0Vycm9yPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZXJyb3IgY29uc3RydWN0b3IgdG8gZGVyZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVycm9yOiBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICBkZXJlZ2lzdGVyKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlcnJvciBpbnN0YW5jZSB0byBkZXJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3I6IEFfRXJyb3JcbiAgICApOiB2b2lkXG4gICAgZGVyZWdpc3RlcjxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tbWFuZCBpbnN0YW5jZSB0byBkZXJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZnJhZ21lbnQ6IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogdm9pZFxuICAgIGRlcmVnaXN0ZXIoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgaW5zdGFuY2UgdG8gZGVyZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX0ZyYWdtZW50XG4gICAgKTogdm9pZFxuICAgIGRlcmVnaXN0ZXI8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGNvbnN0cnVjdG9yIHRvIGRlcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICBkZXJlZ2lzdGVyKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgaW5zdGFuY2UgdG8gZGVyZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVudGl0eTogQV9FbnRpdHlcbiAgICApOiB2b2lkXG5cbiAgICBkZXJlZ2lzdGVyKFxuICAgICAgICBwYXJhbTE6IHVua25vd25cbiAgICApOiB2b2lkIHtcbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLSBJbnN0YW5jZXMgLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAxKSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtQ29tcG9uZW50IGluc3RhbmNlXG4gICAgICAgICAgICBjYXNlIHBhcmFtMSBpbnN0YW5jZW9mIEFfQ29tcG9uZW50OiB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wb25lbnRzLmRlbGV0ZShwYXJhbTEuY29uc3RydWN0b3IgYXMgX0NvbXBvbmVudFR5cGVbbnVtYmVyXSk7XG4gICAgICAgICAgICAgICAgQV9Db250ZXh0LmRlcmVnaXN0ZXIocGFyYW0xKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMykgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUVudGl0eSBpbnN0YW5jZVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbTEpOiB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdGllcy5kZWxldGUocGFyYW0xLmFzZWlkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIEFfQ29udGV4dC5kZXJlZ2lzdGVyKHBhcmFtMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA0KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtRnJhZ21lbnQgaW5zdGFuY2VcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRnJhZ21lbnRJbnN0YW5jZShwYXJhbTEpOiB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9mcmFnbWVudHMuZGVsZXRlKHBhcmFtMS5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxfRnJhZ21lbnRUeXBlW251bWJlcl0+KTtcbiAgICAgICAgICAgICAgICBBX0NvbnRleHQuZGVyZWdpc3RlcihwYXJhbTEpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA1KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtRXJyb3IgaW5zdGFuY2VcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JJbnN0YW5jZShwYXJhbTEpOiB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvcnMuZGVsZXRlKHBhcmFtMS5jb2RlKTtcbiAgICAgICAgICAgICAgICBBX0NvbnRleHQuZGVyZWdpc3RlcihwYXJhbTEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLSBDb25zdHJ1Y3RvcnMgLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyA2KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtQ29tcG9uZW50IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRDb21wb25lbnRzLmRlbGV0ZShwYXJhbTEgYXMgX0NvbXBvbmVudFR5cGVbbnVtYmVyXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA4KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtRnJhZ21lbnQgY29uc3RydWN0b3JcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRnJhZ21lbnRDb25zdHJ1Y3RvcihwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkRnJhZ21lbnRzLmRlbGV0ZShwYXJhbTEgYXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA5KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtRW50aXR5IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0VudGl0eUNvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRFbnRpdGllcy5kZWxldGUocGFyYW0xIGFzIF9FbnRpdHlUeXBlW251bWJlcl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMTApIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1FcnJvciBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFcnJvckNvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRFcnJvcnMuZGVsZXRlKHBhcmFtMSBhcyBfRXJyb3JUeXBlW251bWJlcl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLSBJbnZhbGlkIENhc2VzIC0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHBhcmFtMSk7XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuRGVyZWdpc3RyYXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgYENhbm5vdCBkZXJlZ2lzdGVyICR7Y29tcG9uZW50TmFtZX0gZnJvbSB0aGUgc2NvcGUgJHt0aGlzLm5hbWV9YFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VmdWwgd2hlbiB5b3Ugd2FudCB0byBzZXJpYWxpemUgdGhlIHNjb3BlIHRvIEpTT05cbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGlzIGlzIG5vdCBhIGRlZXAgc2VyaWFsaXphdGlvbiwgb25seSB0aGUgZnJhZ21lbnRzIGFyZSBzZXJpYWxpemVkXG4gICAgICogWyFdIEZyYWdtZW50cyBhcmUgYSBzdG9yYWdlIGZvciBpbmZvcm1hdGlvbiB3aGljaCBpcyByZWxldmFudCB0byB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICB0b0pTT04oKTogUmVjb3JkPHN0cmluZywgYW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyYWdtZW50c1xuICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCBmcmFnbWVudCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IGZyYWdtZW50LnRvSlNPTigpXG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICAgICAgICAgIFtzZXJpYWxpemVkLm5hbWVdOiBzZXJpYWxpemVkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge30pO1xuICAgIH1cblxuXG5cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1TY29wZSBUeXBlIENoZWNrIEhlbHBlcnMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX0NvbXBvbmVudCBhbmQgaXMgYWxsb3dlZCBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY3RvciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgaXNBbGxvd2VkQ29tcG9uZW50KGN0b3I6IHVua25vd24pOiBjdG9yIGlzIF9Db21wb25lbnRUeXBlW251bWJlcl0ge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IoY3RvcikgJiYgdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5oYXMoY3Rvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGNvbnN0cnVjdG9yIGlzIG9mIHR5cGUgQV9FbnRpdHkgYW5kIGlzIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGlzQWxsb3dlZEVudGl0eShjdG9yOiB1bmtub3duKTogY3RvciBpcyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8X0VudGl0eVR5cGVbbnVtYmVyXT4ge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzRW50aXR5Q29uc3RydWN0b3IoY3RvcikgJiYgdGhpcy5hbGxvd2VkRW50aXRpZXMuaGFzKGN0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfRnJhZ21lbnQgYW5kIGlzIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGlzQWxsb3dlZEZyYWdtZW50KGN0b3I6IHVua25vd24pOiBjdG9yIGlzIEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPF9GcmFnbWVudFR5cGVbbnVtYmVyXT4ge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzRnJhZ21lbnRDb25zdHJ1Y3RvcihjdG9yKSAmJiB0aGlzLmFsbG93ZWRGcmFnbWVudHMuaGFzKGN0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfRXJyb3IgYW5kIGlzIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGlzQWxsb3dlZEVycm9yKGN0b3I6IHVua25vd24pOiBjdG9yIGlzIEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yPF9FcnJvclR5cGVbbnVtYmVyXT4ge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzRXJyb3JDb25zdHJ1Y3RvcihjdG9yKSAmJiB0aGlzLmFsbG93ZWRFcnJvcnMuaGFzKGN0b3IpO1xuICAgIH1cblxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1ERUJVRyAmIEhlbHBlcnMgTWV0aG9kcy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBjaGVjayBpZiB0aGUgc2NvcGUgaXMgaW5oZXJpdGVkIGZyb20gYW5vdGhlciBzY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzY29wZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBpc0luaGVyaXRlZEZyb20oc2NvcGU6IEFfU2NvcGUpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGN1cnJlbnQ6IEFfU2NvcGUgfCB1bmRlZmluZWQgPSB0aGlzO1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gc2NvcGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Ll9wYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCB0byBjaGVjayBjaXJjdWxhciBpbmhlcml0YW5jZVxuICAgICAqIFNob3VsZCByZXR1cm4gYSBmdWxsIHNlcXVlbmNlIG9mIGluaGVyaXRhbmNlIGZvciBsb2dnaW5nIHB1cnBvc2VzXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGNoZWNrQ2lyY3VsYXJJbmhlcml0YW5jZShzY29wZTogQV9TY29wZSk6IEFycmF5PHN0cmluZz4gfCBmYWxzZSB7XG4gICAgICAgIGNvbnN0IGluaGVyaXRhbmNlQ2hhaW46IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnQ6IEFfU2NvcGUgfCB1bmRlZmluZWQgPSB0aGlzLl9wYXJlbnQ7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGluaGVyaXRhbmNlQ2hhaW4ucHVzaChjdXJyZW50Lm5hbWUpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluaGVyaXRhbmNlQ2hhaW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5fcGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdG8gcHJpbnQgdGhlIGluaGVyaXRhbmNlIGNoYWluIG9mIHRoZSBzY29wZVxuICAgICAqL1xuICAgIHByaW50SW5oZXJpdGFuY2VDaGFpbigpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY2hhaW46IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnQ6IEFfU2NvcGUgfCB1bmRlZmluZWQgPSB0aGlzO1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICBjaGFpbi5wdXNoKGN1cnJlbnQubmFtZSk7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5fcGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coY2hhaW4uam9pbignIC0+ICcpKTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfQ2FsbGVyRXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZXJyb3IgY29kZSBpbmRpY2F0ZXMgdGhhdCB0aGVyZSB3YXMgYW4gaXNzdWUgaW5pdGlhbGl6aW5nIHRoZSBBLUNhbGxlclxuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBDYWxsZXJJbml0aWFsaXphdGlvbkVycm9yID0gJ1VuYWJsZSB0byBpbml0aWFsaXplIEEtQ2FsbGVyJztcbn0iLCAiaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0NhbGxlckVycm9yIH0gZnJvbSBcIi4vQV9DYWxsZXIuZXJyb3JcIjtcblxuXG5cbi8qKlxuICogVGhpcyBpcyBhIGNvbW1vbiBjbGFzcyB0aGF0IHVzZXMgdG8gcmV0dXJuIGFuIGVudGl0eSB0aGF0IGluaXRpYXRlcyBhIGZlYXR1cmUgY2FsbFxuICogXG4gKiBJdCBjYW4gYmUgdXNlZCB0aGVuIGluIEBBX0luamVjdChBX0NhbGxlcikgdG8gZ2V0IHRoZSBlbnRpdHkgdGhhdCBpbml0aWF0ZWQgdGhlIGZlYXR1cmUgY2FsbFxuICogXG4gKiBbIV0gdGhlIGNsYXNzIGl0c2VsZiBtYXkgYmUgcmV0cmlldmVkLCBidXQgbWF5IHJlcXVpcmUgYWRkaXRpb25hbCBwcm9jZXNzaW5nIGluc2lkZSB0aGUgZmVhdHVyZVxuICogXG4gKi9cbmV4cG9ydCBjbGFzcyBBX0NhbGxlcjxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4ge1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvbXBvbmVudCB0aGF0IGluaXRpYXRlZCB0aGUgZmVhdHVyZSBjYWxsXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9jb21wb25lbnQ6IFQ7XG5cblxuICAgIC8qKlxuICAgICAqIEFfQ2FsbGVyIGFsbG93cyB0byBnZXQgdGhlIGNvbXBvbmVudCB0aGF0IGluaXRpYXRlZCB0aGUgZmVhdHVyZSBjYWxsXG4gICAgICogXG4gICAgICogSXQgY2FuIGJlIHVzZWQgdGhlbiBpbiBAQV9JbmplY3QoQV9DYWxsZXIpIHRvIGdldCB0aGUgZW50aXR5IHRoYXQgaW5pdGlhdGVkIHRoZSBmZWF0dXJlIGNhbGxcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgU2NvcGUgaXMgbm90IHByb3ZpZGVkLCBhIG5ldyBlbXB0eSBzY29wZSB3aWxsIGJlIGNyZWF0ZWQgYW5kIGluaGVyaXRlZCBmcm9tIHRoZSBnbG9iYWwgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEBwYXJhbSBzY29wZSBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgY29tcG9uZW50OiBUXG4gICAgKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVQYXJhbXMoY29tcG9uZW50KTtcblxuICAgICAgICB0aGlzLl9jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgfVxuXG4gICAgZ2V0IGNvbXBvbmVudCgpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0aGUgcHJvdmlkZWQgcGFyYW1ldGVycyBhbmQgRW5zdXJlcyB0aGF0IHRoZSBjb21wb25lbnQgaXMgb2YgYW4gYWxsb3dlZCB0eXBlXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgdmFsaWRhdGVQYXJhbXMoXG4gICAgICAgIGNvbXBvbmVudDogVFxuICAgICkge1xuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc0FsbG93ZWRGb3JGZWF0dXJlQ2FsbChjb21wb25lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9DYWxsZXJFcnJvcihcbiAgICAgICAgICAgICAgICBBX0NhbGxlckVycm9yLkNhbGxlckluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEludmFsaWQgQS1DYWxsZXIgY29tcG9uZW50IHByb3ZpZGVkIG9mIHR5cGU6ICR7dHlwZW9mIGNvbXBvbmVudH0gd2l0aCB2YWx1ZTogJHtKU09OLnN0cmluZ2lmeShjb21wb25lbnQpLnNsaWNlKDAsIDEwMCl9Li4uYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19GZWF0dXJlX0NvbnN0cnVjdG9yLFxuICAgIEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzLFxuICAgIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JUYXJnZXRcbn0gZnJvbSBcIi4uL2dsb2JhbC9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5pbXBvcnQge1xuICAgIEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yLFxuICAgIEFfVFlQRVNfX0Vycm9yX0luaXQsXG4gICAgQV9UWVBFU19fRXJyb3JfU2VyaWFsaXplZFxufSBmcm9tIFwiLi4vZ2xvYmFsL0EtRXJyb3IvQV9FcnJvci50eXBlc1wiO1xuaW1wb3J0IHsgQV9Db21wb25lbnQgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbXBvbmVudE1ldGEgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50Lm1ldGFcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQudHlwZXNcIjtcbmltcG9ydCB7IEFfQ29udGFpbmVyIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db250YWluZXJNZXRhIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5tZXRhXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0VudGl0eSB9IGZyb20gXCIuLi9nbG9iYWwvQS1FbnRpdHkvQS1FbnRpdHkuY2xhc3NcIjtcbmltcG9ydCB7IEFfRW50aXR5TWV0YSB9IGZyb20gXCIuLi9nbG9iYWwvQS1FbnRpdHkvQS1FbnRpdHkubWV0YVwiO1xuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS50eXBlc1wiO1xuaW1wb3J0IHsgQV9GZWF0dXJlIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0ZyYWdtZW50IH0gZnJvbSBcIi4uL2dsb2JhbC9BLUZyYWdtZW50L0EtRnJhZ21lbnQuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUZyYWdtZW50L0EtRnJhZ21lbnQudHlwZXNcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtU2NvcGUvQS1TY29wZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9DYWxsZXIgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ2FsbGVyL0FfQ2FsbGVyLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19DYWxsZXJfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ2FsbGVyL0FfQ2FsbGVyLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIi4vQV9Db21tb24uaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BYnN0cmFjdGlvbkF2YWlsYWJsZUNvbXBvbmVudHMgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQWJzdHJhY3Rpb24vQS1BYnN0cmFjdGlvbi50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fU2NvcGVfQ29uc3RydWN0b3IsIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cywgQV9UWVBFU19fU2NvcGVMaW5rZWRDb25zdHJ1Y3RvcnMgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtU2NvcGUvQS1TY29wZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBU0VJRCB9IGZyb20gXCIuLi9nbG9iYWwvQVNFSUQvQVNFSUQuY2xhc3NcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX1R5cGVHdWFyZHMge1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEJBU0UgVHlwZSBHdWFyZHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHZhbHVlIGlzIGEgc3RyaW5nXG4gICAgICogXG4gICAgICogQHBhcmFtIHZhbHVlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc1N0cmluZyh2YWx1ZTogYW55KTogdmFsdWUgaXMgc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdmFsdWUgaW5zdGFuY2VvZiBTdHJpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHZhbHVlIGlzIGEgbnVtYmVyXG4gICAgICogXG4gICAgICogQHBhcmFtIHZhbHVlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc051bWJlcih2YWx1ZTogYW55KTogdmFsdWUgaXMgbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB2YWx1ZSBpcyBhIGJvb2xlYW5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdmFsdWUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQm9vbGVhbih2YWx1ZTogYW55KTogdmFsdWUgaXMgYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdmFsdWUgaXMgYW4gYXJyYXlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdmFsdWUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQXJyYXkodmFsdWU6IGFueSk6IHZhbHVlIGlzIEFycmF5PGFueT4ge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHZhbHVlIGlzIGFuIG9iamVjdFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB2YWx1ZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNPYmplY3Q8VCBleHRlbmRzIE9iamVjdCA9IE9iamVjdD4odmFsdWU6IGFueSk6IHZhbHVlIGlzIFQge1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHZhbHVlIGlzIGEgZnVuY3Rpb25cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdmFsdWUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRnVuY3Rpb24odmFsdWU6IGFueSk6IHZhbHVlIGlzIEZ1bmN0aW9uIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNVbmRlZmluZWQodmFsdWU6IGFueSk6IHZhbHVlIGlzIHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc1JlZ0V4cCh2YWx1ZTogYW55KTogdmFsdWUgaXMgUmVnRXhwIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUmVnRXhwO1xuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1BLUNvbmNlcHQgVHlwZSBHdWFyZHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX0NvbnRhaW5lclxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjdG9yIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0NvbnRhaW5lckNvbnN0cnVjdG9yKGN0b3I6IGFueSk6IGN0b3IgaXMgQV9UWVBFU19fQ29udGFpbmVyX0NvbnN0cnVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nICYmIEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBBX0NvbnRhaW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGNvbnN0cnVjdG9yIGlzIG9mIHR5cGUgQV9Db21wb25lbnRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY3RvciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNDb21wb25lbnRDb25zdHJ1Y3RvcihjdG9yOiBhbnkpOiBjdG9yIGlzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgY3RvciA9PT0gJ2Z1bmN0aW9uJyAmJiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oY3RvciwgQV9Db21wb25lbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfRnJhZ21lbnRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY3RvciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNGcmFnbWVudENvbnN0cnVjdG9yKGN0b3I6IGFueSk6IGN0b3IgaXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3Ige1xuICAgICAgICByZXR1cm4gdHlwZW9mIGN0b3IgPT09ICdmdW5jdGlvbicgJiYgQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGN0b3IsIEFfRnJhZ21lbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfRW50aXR5XG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRW50aXR5Q29uc3RydWN0b3IoY3RvcjogYW55KTogY3RvciBpcyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3Ige1xuICAgICAgICByZXR1cm4gdHlwZW9mIGN0b3IgPT09ICdmdW5jdGlvbicgJiYgQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGN0b3IsIEFfRW50aXR5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX1Njb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzU2NvcGVDb25zdHJ1Y3RvcihjdG9yOiBhbnkpOiBjdG9yIGlzIEFfVFlQRVNfX1Njb3BlX0NvbnN0cnVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nICYmIEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBBX1Njb3BlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX1Njb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRXJyb3JDb25zdHJ1Y3RvcihjdG9yOiBhbnkpOiBjdG9yIGlzIEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nICYmIEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBBX0Vycm9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX0ZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY3RvciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNGZWF0dXJlQ29uc3RydWN0b3IoY3RvcjogYW55KTogY3RvciBpcyBBX1RZUEVTX19GZWF0dXJlX0NvbnN0cnVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nICYmIEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBBX0ZlYXR1cmUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfQ2FsbGVyXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQ2FsbGVyQ29uc3RydWN0b3IoY3RvcjogYW55KTogY3RvciBpcyBBX1RZUEVTX19DYWxsZXJfQ29uc3RydWN0b3Ige1xuICAgICAgICByZXR1cm4gdHlwZW9mIGN0b3IgPT09ICdmdW5jdGlvbicgJiYgQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGN0b3IsIEFfQ2FsbGVyKTtcbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEluc3RhbmNlIHR5cGUgZ3VhcmRzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9Db250YWluZXJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQ29udGFpbmVySW5zdGFuY2UoaW5zdGFuY2U6IGFueSk6IGluc3RhbmNlIGlzIEFfQ29udGFpbmVyIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9Db250YWluZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9Db21wb25lbnRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQ29tcG9uZW50SW5zdGFuY2UoaW5zdGFuY2U6IGFueSk6IGluc3RhbmNlIGlzIEFfQ29tcG9uZW50IHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9Db21wb25lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgaW5zdGFuY2UgaXMgb2YgdHlwZSBBX0ZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRmVhdHVyZUluc3RhbmNlKGluc3RhbmNlOiBhbnkpOiBpbnN0YW5jZSBpcyBBX0ZlYXR1cmUge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBBX0ZlYXR1cmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9GcmFnbWVudFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNGcmFnbWVudEluc3RhbmNlKGluc3RhbmNlOiBhbnkpOiBpbnN0YW5jZSBpcyBBX0ZyYWdtZW50IHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9GcmFnbWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgaW5zdGFuY2UgaXMgb2YgdHlwZSBBX0VudGl0eVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNFbnRpdHlJbnN0YW5jZShpbnN0YW5jZTogYW55KTogaW5zdGFuY2UgaXMgQV9FbnRpdHkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBBX0VudGl0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgaW5zdGFuY2UgaXMgb2YgdHlwZSBBX1Njb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGluc3RhbmNlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc1Njb3BlSW5zdGFuY2UoaW5zdGFuY2U6IGFueSk6IGluc3RhbmNlIGlzIEFfU2NvcGUge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBBX1Njb3BlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBpbnN0YW5jZSBpcyBvZiB0eXBlIEFfRXJyb3JcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRXJyb3JJbnN0YW5jZShpbnN0YW5jZTogYW55KTogaW5zdGFuY2UgaXMgQV9FcnJvciB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSBpbnN0YW5jZW9mIEFfRXJyb3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9Db21wb25lbnRNZXRhXG4gICAgICogXG4gICAgICogQHBhcmFtIGluc3RhbmNlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0NvbXBvbmVudE1ldGFJbnN0YW5jZShpbnN0YW5jZTogYW55KTogaW5zdGFuY2UgaXMgQV9Db21wb25lbnRNZXRhIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9Db21wb25lbnRNZXRhO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBpbnN0YW5jZSBpcyBvZiB0eXBlIEFfQ29udGFpbmVyTWV0YVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNDb250YWluZXJNZXRhSW5zdGFuY2UoaW5zdGFuY2U6IGFueSk6IGluc3RhbmNlIGlzIEFfQ29udGFpbmVyTWV0YSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSBpbnN0YW5jZW9mIEFfQ29udGFpbmVyTWV0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgaW5zdGFuY2UgaXMgb2YgdHlwZSBBX0VudGl0eU1ldGFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRW50aXR5TWV0YUluc3RhbmNlKGluc3RhbmNlOiBhbnkpOiBpbnN0YW5jZSBpcyBBX0VudGl0eU1ldGEge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBBX0VudGl0eU1ldGE7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PSBTUEVDSUFMIFR5cGUgR3VhcmRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgc3RhdGljIGlzQ29uc3RydWN0b3JBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uKHRhcmdldDogYW55KTogdGFyZ2V0IGlzIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29uc3RydWN0b3JzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckNvbnN0cnVjdG9yKHRhcmdldClcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0ZlYXR1cmVDb25zdHJ1Y3Rvcih0YXJnZXQpO1xuICAgIH1cbiAgICBzdGF0aWMgaXNJbnN0YW5jZUFsbG93ZWRGb3JTY29wZUFsbG9jYXRpb24odGFyZ2V0OiBhbnkpOiB0YXJnZXQgaXMgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHRhcmdldClcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0ZlYXR1cmVJbnN0YW5jZSh0YXJnZXQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc0NvbnN0cnVjdG9yQXZhaWxhYmxlRm9yQWJzdHJhY3Rpb24odGFyZ2V0OiBhbnkpOiB0YXJnZXQgaXMgQV9UWVBFU19fQWJzdHJhY3Rpb25BdmFpbGFibGVDb21wb25lbnRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHRhcmdldClcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgaXNUYXJnZXRBdmFpbGFibGVGb3JJbmplY3Rpb24odGFyZ2V0OiBhbnkpOiB0YXJnZXQgaXMgQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IodGFyZ2V0KVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UodGFyZ2V0KVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UodGFyZ2V0KVxuICAgIH1cblxuICAgIHN0YXRpYyBpc0FsbG93ZWRGb3JGZWF0dXJlQ2FsbChwYXJhbTogYW55KTogcGFyYW0gaXMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0VudGl0eUluc3RhbmNlKHBhcmFtKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNBbGxvd2VkRm9yRmVhdHVyZURlZmluaXRpb24ocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzQWxsb3dlZEZvckZlYXR1cmVFeHRlbnNpb24ocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JUYXJnZXQge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0VudGl0eUluc3RhbmNlKHBhcmFtKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNBbGxvd2VkRm9yQWJzdHJhY3Rpb25EZWZpbml0aW9uKHBhcmFtOiBhbnkpOiBwYXJhbSBpcyBBX1RZUEVTX19BYnN0cmFjdGlvbkF2YWlsYWJsZUNvbXBvbmVudHMge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZShwYXJhbSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzQWxsb3dlZEZvckRlcGVuZGVuY3lEZWZhdWx0Q3JlYXRpb24ocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvciB8IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB7XG4gICAgICAgIHJldHVybiBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3RvcihwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShwYXJhbSwgQV9Db21wb25lbnQpXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNFbnRpdHlDb25zdHJ1Y3RvcihwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShwYXJhbSwgQV9FbnRpdHkpXG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gY2hlY2sgaWYgdGhlIHByb3ZpZGVkIHBhcmFtIGlzIG9mIGNvbnN0cnVjdG9yIHR5cGUuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0Vycm9yQ29uc3RydWN0b3JUeXBlPFQgZXh0ZW5kcyBBX1RZUEVTX19FcnJvcl9Jbml0PihwYXJhbTogYW55KTogcGFyYW0gaXMgVCB7XG4gICAgICAgIHJldHVybiAhIXBhcmFtICYmIEFfVHlwZUd1YXJkcy5pc09iamVjdChwYXJhbSkgJiYgIShwYXJhbSBpbnN0YW5jZW9mIEVycm9yKSAmJiBcInRpdGxlXCIgaW4gcGFyYW07XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgaXNFcnJvclNlcmlhbGl6ZWRUeXBlPFQgZXh0ZW5kcyBBX1RZUEVTX19FcnJvcl9TZXJpYWxpemVkPihwYXJhbTogYW55KTogcGFyYW0gaXMgVCB7XG4gICAgICAgIHJldHVybiAhIXBhcmFtICYmIEFfVHlwZUd1YXJkcy5pc09iamVjdChwYXJhbSkgJiYgIShwYXJhbSBpbnN0YW5jZW9mIEVycm9yKSAmJiBcImFzZWlkXCIgaW4gcGFyYW0gJiYgQVNFSUQuaXNBU0VJRChwYXJhbS5hc2VpZCk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9TdGFnZSB9IGZyb20gXCIuLi9BLVN0YWdlL0EtU3RhZ2UuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0ZlYXR1cmVFcnJvcl9Jbml0IH0gZnJvbSBcIi4vQS1GZWF0dXJlLnR5cGVzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9GZWF0dXJlRXJyb3IgZXh0ZW5kcyBBX0Vycm9yPEFfVFlQRVNfX0ZlYXR1cmVFcnJvcl9Jbml0PiB7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgRmVhdHVyZSBoYXMgYmVlbiBpbnRlcnJ1cHRlZFxuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBJbnRlcnJ1cHRpb24gPSAnRmVhdHVyZSBJbnRlcnJ1cHRlZCc7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlcmUgd2FzIGFuIGVycm9yIGluaXRpYWxpemluZyB0aGUgRmVhdHVyZVxuICAgICAqIFxuICAgICAqIEZhaWxlZCBkdXJpbmcgdGhlIEEtRmVhdHVyZSBpbml0aWFsaXphdGlvbiBwcm9jZXNzXG4gICAgICovXG4gICAgc3RhdGljIHJlYWRvbmx5IEZlYXR1cmVJbml0aWFsaXphdGlvbkVycm9yID0gJ1VuYWJsZSB0byBpbml0aWFsaXplIEEtRmVhdHVyZSc7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlcmUgd2FzIGFuIGVycm9yIHByb2Nlc3NpbmcgdGhlIEZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBGYWlsZWQgZHVyaW5nIHRoZSBBLUZlYXR1cmUgcHJvY2Vzc2luZ1xuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBGZWF0dXJlUHJvY2Vzc2luZ0Vycm9yID0gJ0Vycm9yIG9jY3VycmVkIGR1cmluZyBBLUZlYXR1cmUgcHJvY2Vzc2luZyc7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRGVjb3JhdG9yIEVycm9ycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlcmUgd2FzIGFuIGVycm9yIGRlZmluaW5nIHRoZSBGZWF0dXJlXG4gICAgICogXG4gICAgICogRmFpbGVkIGR1cmluZyB0aGUgQEFfRmVhdHVyZS5EZWZpbmUoKSBkZWNvcmF0b3IgZXhlY3V0aW9uXG4gICAgICovXG4gICAgc3RhdGljIHJlYWRvbmx5IEZlYXR1cmVEZWZpbml0aW9uRXJyb3IgPSAnVW5hYmxlIHRvIGRlZmluZSBBLUZlYXR1cmUnO1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGF0IHRoZXJlIHdhcyBhbiBlcnJvciBleHRlbmRpbmcgdGhlIEZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBGYWlsZWQgZHVyaW5nIHRoZSBAQV9GZWF0dXJlLkV4dGVuZCgpIGRlY29yYXRvciBleGVjdXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgRmVhdHVyZUV4dGVuc2lvbkVycm9yID0gJ1VuYWJsZSB0byBleHRlbmQgQS1GZWF0dXJlJztcblxuICAgIFxuICAgIC8qKlxuICAgICAqIFN0YWdlIHdoZXJlIHRoZSBlcnJvciBvY2N1cnJlZFxuICAgICAqL1xuICAgIHN0YWdlPzogQV9TdGFnZVxuXG5cbiAgICBwcm90ZWN0ZWQgZnJvbUNvbnN0cnVjdG9yKHBhcmFtczogQV9UWVBFU19fRmVhdHVyZUVycm9yX0luaXQpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuZnJvbUNvbnN0cnVjdG9yKHBhcmFtcyk7XG5cbiAgICAgICAgdGhpcy5zdGFnZSA9IHBhcmFtcy5zdGFnZTtcbiAgICB9XG59IiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvckNvbmZpZyxcbiAgICBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yRGVzY3JpcHRvcixcbiAgICBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YSxcbiAgICBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGFyZ2V0XG59IGZyb20gXCIuL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfRW50aXR5TWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS5tZXRhXCI7XG5pbXBvcnQgeyBBX0NvbnRhaW5lck1ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIubWV0YVwiO1xuaW1wb3J0IHsgQV9Db21wb25lbnRNZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50Lm1ldGFcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19FbnRpdHlNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRW50aXR5L0EtRW50aXR5LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfRmVhdHVyZUVycm9yIH0gZnJvbSBcIi4vQS1GZWF0dXJlLmVycm9yXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyXCI7XG5cbi8qKlxuICogQS1GZWF0dXJlIGRlY29yYXRvclxuICogXG4gKiBUaGlzIGRlY29yYXRvciBhbGxvd3MgdG8gZGVmaW5lIGEgY3VzdG9tIGxpZmVjeWNsZSBzdGFnZSBmb3IgdGhlIENvbnRhaW5lci5cbiAqIFRoZXNlIHN0YWdlcyBhcmUgZXhlY3V0ZWQgaW4gYSBjb250YWluZXItc3BlY2lmaWMgb3JkZXIgYW5kIGNhbiBiZSBleHRlbmRlZCBieSBjb21wb25lbnRzIHRoYXQgYXJlIGluamVjdGVkIGludG8gdGhlIGNvbnRhaW5lci5cbiAqIFRoaXMgYXBwcm9hY2ggYWxsb3dzIHRvIGNyZWF0ZSBhIGZsZXhpYmxlIGFuZCBleHRlbmRhYmxlIGFyY2hpdGVjdHVyZSBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICogXG4gKiBUaGUgbWFpbiBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIEEtRmVhdHVyZSBhbmQgQS1GZWF0dXJlIGRlY29yYXRvcnMgaXMgdGhhdCBBLUZlYXR1cmUgbWV0aG9kcyBjYW4gYmUgaW5oZXJpdGVkIGFuZCBvdmVycmlkZGVuIGJ5IGNoaWxkIGNsYXNzZXMuXG4gKiBcbiAqIFxuICogQHBhcmFtIHBhcmFtcyBcbiAqIEByZXR1cm5zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gQV9GZWF0dXJlX0RlZmluZShcbiAgICBjb25maWc6IFBhcnRpYWw8QV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvckNvbmZpZz4gPSB7fVxuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgICAgdGFyZ2V0OiBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGFyZ2V0LFxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLFxuICAgICAgICBkZXNjcmlwdG9yOiBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yRGVzY3JpcHRvclxuICAgICkge1xuICAgICAgICAvLyBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KVxuXG5cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNBbGxvd2VkRm9yRmVhdHVyZURlZmluaXRpb24odGFyZ2V0KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICBBX0ZlYXR1cmVFcnJvci5GZWF0dXJlRGVmaW5pdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgIGBBLUZlYXR1cmUgY2Fubm90IGJlIGRlZmluZWQgb24gdGhlICR7Y29tcG9uZW50TmFtZX0gbGV2ZWxgXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IG1ldGE6IEFfRW50aXR5TWV0YSB8IEFfQ29udGFpbmVyTWV0YSB8IEFfQ29tcG9uZW50TWV0YSA9IEFfQ29udGV4dC5tZXRhKHRhcmdldC5jb25zdHJ1Y3RvciBhcyBhbnkpO1xuXG4gICAgICAgIGxldCBtZXRhS2V5O1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19FbnRpdHlNZXRhS2V5LkZFQVRVUkVTO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LkZFQVRVUkVTXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuRkVBVFVSRVNcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gR2V0IHRoZSBleGlzdGVkIG1ldGFkYXRhIG9yIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGE6IEFfTWV0YTx7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdoZXJlIEtleSBpcyB0aGUgbmFtZSBvZiB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgKiBXaGVyZSB2YWx1ZSBpcyB0aGUgbGlzdCBvZiBmZWF0dXJlc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBbS2V5OiBzdHJpbmddOiBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YVxuICAgICAgICB9PiA9IG1ldGEuZ2V0KG1ldGFLZXkpIHx8IG5ldyBBX01ldGEoKTtcblxuXG4gICAgICAgIGNvbnN0IG5hbWUgPSBjb25maWcubmFtZSB8fCBwcm9wZXJ0eUtleTtcbiAgICAgICAgLy8gIGRlZmF1bHQgdG8gZmFsc2VcbiAgICAgICAgY29uc3QgaW52b2tlID0gY29uZmlnLmludm9rZSB8fCBmYWxzZTtcblxuXG4gICAgICAgIC8vIFNldCB0aGUgbWV0YWRhdGEgb2YgdGhlIG1ldGhvZCB0byBkZWZpbmUgYSBjdXN0b20gRmVhdHVyZSB3aXRoIG5hbWUgXG4gICAgICAgIGV4aXN0ZWRNZXRhLnNldChwcm9wZXJ0eUtleSwge1xuICAgICAgICAgICAgbmFtZTogYCR7dGFyZ2V0LmNvbnN0cnVjdG9yLm5hbWV9LiR7bmFtZX1gLFxuICAgICAgICAgICAgaGFuZGxlcjogcHJvcGVydHlLZXksXG4gICAgICAgICAgICBpbnZva2U6IGludm9rZSxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBjb25maWcudGVtcGxhdGUgJiYgY29uZmlnLnRlbXBsYXRlLmxlbmd0aCA/IGNvbmZpZy50ZW1wbGF0ZS5tYXAoXG4gICAgICAgICAgICAgICAgaXRlbSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IGl0ZW0uYmVmb3JlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBhZnRlcjogaXRlbS5hZnRlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3I6IGl0ZW0uYmVoYXZpb3IgfHwgJ3N5bmMnLFxuICAgICAgICAgICAgICAgICAgICB0aHJvd09uRXJyb3I6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlOiBpdGVtLm92ZXJyaWRlIHx8ICcnXG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKSA6IFtdLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyAgVXBkYXRlIHRoZSBtZXRhZGF0YSBvZiB0aGUgY29udGFpbmVyIHdpdGggdGhlIG5ldyBGZWF0dXJlIGRlZmluaXRpb25cbiAgICAgICAgQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQuY29uc3RydWN0b3IgYXMgYW55KVxuICAgICAgICAgICAgLnNldChcbiAgICAgICAgICAgICAgICBtZXRhS2V5LFxuICAgICAgICAgICAgICAgIGV4aXN0ZWRNZXRhXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsTWV0aG9kID0gZGVzY3JpcHRvci52YWx1ZSE7XG5cbiAgICAgICAgLy8gV3JhcCB0aGUgb3JpZ2luYWwgbWV0aG9kIHRvIGFkZCB0aGUgY2FsbCB0byBgY2FsbGBcbiAgICAgICAgLy8gdGhpcyBoZWxwcyB0byBhdXRvbWF0aWNhbGx5IGNhbGwgdGhlIGNvbnRhaW5lci9lbnRpdHkvY29tcG9uZW50IG1ldGhvZCB3aGVuIGl0J3MgY2FsbGVkXG4gICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAoLi4uYXJnczogYW55W10pIHtcblxuICAgICAgICAgICAgLy8gQ2FsbCB0aGUgb3JpZ2luYWwgbWV0aG9kXG4gICAgICAgICAgICBpZiAoIWludm9rZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxNZXRob2QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxNZXRob2QuYXBwbHkodGhpcywgYXJncyk7XG5cbiAgICAgICAgICAgIC8vIENhbGwgeW91ciBgY2FsbGAgd2l0aCB0aGUgZnVuY3Rpb24gbmFtZVxuICAgICAgICAgICAgaWYgKHR5cGVvZiAodGhpcyBhcyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGFyZ2V0KS5jYWxsID09PSBcImZ1bmN0aW9uXCIgJiYgaW52b2tlKVxuICAgICAgICAgICAgICAgIHJldHVybiAodGhpcyBhcyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGFyZ2V0KS5jYWxsKG5hbWUpO1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgfTtcbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yQ29uZmlnLCBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yRGVzY3JpcHRvciwgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclNjb3BlSXRlbSwgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclRhcmdldCB9IGZyb20gXCIuL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSBcIi4uL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9GZWF0dXJlRXJyb3IgfSBmcm9tIFwiLi9BLUZlYXR1cmUuZXJyb3JcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0NvbW1vbi5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0VudGl0eU1ldGFLZXkgfSBmcm9tIFwiLi4vQS1FbnRpdHkvQS1FbnRpdHkuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9Db250YWluZXIgfSBmcm9tIFwiLi4vQS1Db250YWluZXIvQS1Db250YWluZXIuY2xhc3NcIjtcblxuXG5cblxuLyoqXG4gKiBBLUV4dGVuZCBkZWNvcmF0b3JcbiAqIFxuICogVGhpcyBkZWNvcmF0b3IgYWxsb3dzIHRvIGRlZmluZSBhIGN1c3RvbSBFeHRlbmQgc3RhZ2UgZm9yIHRoZSBDb250YWluZXIuXG4gKiBUaGVzZSBzdGFnZXMgYXJlIGV4ZWN1dGVkIGluIGEgY29udGFpbmVyLXNwZWNpZmljIG9yZGVyIGFuZCBjYW4gYmUgZXh0ZW5kZWQgYnkgY29tcG9uZW50cyB0aGF0IGFyZSBpbmplY3RlZCBpbnRvIHRoZSBjb250YWluZXIuXG4gKiBUaGlzIGFwcHJvYWNoIGFsbG93cyB0byBjcmVhdGUgYSBmbGV4aWJsZSBhbmQgZXh0ZW5kYWJsZSBhcmNoaXRlY3R1cmUgZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAqIFxuICogVGhlIG1haW4gZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBBLUV4dGVuZCBhbmQgQS1FeHRlbmQgZGVjb3JhdG9ycyBpcyB0aGF0IEEtRXh0ZW5kIG1ldGhvZHMgY2FuIGJlIGluaGVyaXRlZCBhbmQgb3ZlcnJpZGRlbiBieSBjaGlsZCBjbGFzc2VzLlxuICogXG4gKiBcbiAqIEBwYXJhbSBwYXJhbXMgXG4gKiBAcmV0dXJucyBcbiAqL1xuLyoqXG4gKiBVc2UgcmVnZXhwIGluIGNhc2UgaWYgeW91IG5lZWQgbW9yZSBmbGV4aWJpbGl0eSBhbmQgY29udHJvbCBvdmVyIHRoZSBuYW1lIG9mIHRoZSBtZXRob2RcbiAqIFxuICogQHBhcmFtIHJlZ2V4cCBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfRmVhdHVyZV9FeHRlbmQoXG4gICAgLyoqXG4gICAgICogVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCB0aGUgbmFtZSBvZiB0aGUgRmVhdHVyZSBtZXRob2QgdG8gYmUgZXh0ZW5kZWRcbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIFxuICAgICAqIGBgYHRzXG4gICAgICogIEBBX0ZlYXR1cmUuRXh0ZW5kKC8uKlxcLmxvYWQvKVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHJlZ2V4cDogUmVnRXhwXG4pXG4vKipcbiAqIEluIHRoaXMgY2FzZSB0aGUgbmFtZSBjb25maWd1cmF0aW9ucyB3aWxsIGJlIHVzZWQgYXMgYW4gaW5wdXQgdG8gZ2V0IHNjb3BlIGFuZCBuYW1lIG9mIHRhcmdldCBmdW5jdGlvblxuICogWyFdIE5vdCB0aGF0IGZvciBhbGwgU0NPUEUgd2lsbCBiZSB1c2VkIE9SIG9wZXJhdG9yXG4gKiBcbiAqIEBwYXJhbSBjb25maWcgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBX0ZlYXR1cmVfRXh0ZW5kKFxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBBLUZlYXR1cmUtRXh0ZW5kIGRlY29yYXRvclxuICAgICAqL1xuICAgIGNvbmZpZzogUGFydGlhbDxBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yQ29uZmlnPlxuKVxuLyoqXG4gKiBJbiB0aGlzIGNhc2UgdGhlIG5hbWUgb2YgZnVuY3Rpb24gd2lsbCBiZSB1c2VkIGFzIGEgbmFtZSBvZiB0aGUgRmVhdHVyZS5cbiAqIFshXSBBTkQgaXQgd2lsbCBiZSBhcHBsaWNhYmxlIGZvciBBTlkgZWxlbWVudCB3aGVyZSB0aGUgbmFtZSBpcyB0aGUgc2FtZSBhcyB0aGUgbmFtZSBvZiB0aGUgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfRmVhdHVyZV9FeHRlbmQoKVxuZXhwb3J0IGZ1bmN0aW9uIEFfRmVhdHVyZV9FeHRlbmQoXG4gICAgcGFyYW0xPzogUGFydGlhbDxBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yQ29uZmlnPiB8IFJlZ0V4cFxuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgICAgdGFyZ2V0OiBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yVGFyZ2V0LFxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLFxuICAgICAgICBkZXNjcmlwdG9yOiBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yRGVzY3JpcHRvclxuICAgICkge1xuICAgICAgICAvLyBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KVxuXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckZlYXR1cmVFeHRlbnNpb24odGFyZ2V0KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICBBX0ZlYXR1cmVFcnJvci5GZWF0dXJlRXh0ZW5zaW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEEtRmVhdHVyZS1FeHRlbmQgY2Fubm90IGJlIGFwcGxpZWQgb24gdGhlICR7Y29tcG9uZW50TmFtZX0gbGV2ZWxgXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGxldCB0YXJnZXRSZWdleHA6IFJlZ0V4cDtcbiAgICAgICAgbGV0IGJlaGF2aW9yOiAnc3luYycgfCAnYXN5bmMnID0gJ3N5bmMnO1xuICAgICAgICBsZXQgYmVmb3JlOiBzdHJpbmcgPSAnJztcbiAgICAgICAgbGV0IGFmdGVyOiBzdHJpbmcgPSAnJztcbiAgICAgICAgbGV0IG92ZXJyaWRlOiBzdHJpbmcgPSAnJztcbiAgICAgICAgbGV0IGluY2x1ZGU6IEFycmF5PEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JTY29wZUl0ZW0+ID0gW107XG4gICAgICAgIGxldCBleGNsdWRlOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yU2NvcGVJdGVtPiA9IFtdO1xuICAgICAgICBsZXQgdGhyb3dPbkVycm9yOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgbGV0IG1ldGFLZXk7XG5cblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fRW50aXR5TWV0YUtleS5FWFRFTlNJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LkVYVEVOU0lPTlNcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5FWFRFTlNJT05TXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNSZWdFeHAocGFyYW0xKTpcbiAgICAgICAgICAgICAgICB0YXJnZXRSZWdleHAgPSBwYXJhbTE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgISFwYXJhbTEgJiYgdHlwZW9mIHBhcmFtMSA9PT0gJ29iamVjdCc6XG5cbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJhbTEuc2NvcGUpKVxuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlID0gcGFyYW0xLnNjb3BlO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCEhcGFyYW0xLnNjb3BlICYmIHR5cGVvZiBwYXJhbTEuc2NvcGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmFtMS5zY29wZS5pbmNsdWRlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGUgPSBwYXJhbTEuc2NvcGUuaW5jbHVkZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyYW0xLnNjb3BlLmV4Y2x1ZGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgZXhjbHVkZSA9IHBhcmFtMS5zY29wZS5leGNsdWRlO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgdGFyZ2V0UmVnZXhwID0gYnVpbGRUYXJnZXRSZWdleHAocGFyYW0xLCBpbmNsdWRlLCBleGNsdWRlLCBwcm9wZXJ0eUtleSk7XG5cbiAgICAgICAgICAgICAgICBiZWhhdmlvciA9IHBhcmFtMS5iZWhhdmlvciB8fCBiZWhhdmlvcjtcbiAgICAgICAgICAgICAgICB0aHJvd09uRXJyb3IgPSBwYXJhbTEudGhyb3dPbkVycm9yICE9PSB1bmRlZmluZWQgPyBwYXJhbTEudGhyb3dPbkVycm9yIDogdGhyb3dPbkVycm9yO1xuXG4gICAgICAgICAgICAgICAgYmVmb3JlID0gQV9UeXBlR3VhcmRzLmlzQXJyYXkocGFyYW0xLmJlZm9yZSlcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgUmVnRXhwKGBeJHtwYXJhbTEuYmVmb3JlLmpvaW4oJ3wnKS5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJyl9JGApLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICA6IHBhcmFtMS5iZWZvcmUgaW5zdGFuY2VvZiBSZWdFeHBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyYW0xLmJlZm9yZS5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICBhZnRlciA9IEFfVHlwZUd1YXJkcy5pc0FycmF5KHBhcmFtMS5hZnRlcilcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgUmVnRXhwKGBeJHtwYXJhbTEuYWZ0ZXIuam9pbignfCcpLnJlcGxhY2UoL1xcLi9nLCAnXFxcXC4nKX0kYCkuc291cmNlXG4gICAgICAgICAgICAgICAgICAgIDogcGFyYW0xLmFmdGVyIGluc3RhbmNlb2YgUmVnRXhwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBhcmFtMS5hZnRlci5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJydcblxuICAgICAgICAgICAgICAgIG92ZXJyaWRlID0gQV9UeXBlR3VhcmRzLmlzQXJyYXkocGFyYW0xLm92ZXJyaWRlKVxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBSZWdFeHAoYF4ke3BhcmFtMS5vdmVycmlkZS5qb2luKCd8JykucmVwbGFjZSgvXFwuL2csICdcXFxcLicpfSRgKS5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgOiBwYXJhbTEub3ZlcnJpZGUgaW5zdGFuY2VvZiBSZWdFeHBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyYW0xLm92ZXJyaWRlLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRhcmdldFJlZ2V4cCA9IG5ldyBSZWdFeHAoYF4uKiR7cHJvcGVydHlLZXkucmVwbGFjZSgvXFwuL2csICdcXFxcLicpfSRgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG5cblxuXG5cbiAgICAgICAgY29uc3QgZXhpc3RlZERlZmluaXRpb25zID0gQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQpXG4gICAgICAgICAgICAuZ2V0KG1ldGFLZXkpO1xuXG5cbiAgICAgICAgLy8gR2V0IHRoZSBleGlzdGVkIG1ldGFkYXRhIG9yIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgY29uc3QgbWV0YSA9IEFfQ29udGV4dFxuICAgICAgICAgICAgLm1ldGEodGFyZ2V0KVxuXG4gICAgICAgIGNvbnN0IGV4aXN0ZWRNZXRhID0gbWV0YS5nZXQobWV0YUtleSlcbiAgICAgICAgICAgID8gbmV3IEFfTWV0YSgpLmZyb20obWV0YS5nZXQobWV0YUtleSkhKVxuICAgICAgICAgICAgOiBuZXcgQV9NZXRhKCk7XG5cbiAgICAgICAgaWYgKGV4aXN0ZWREZWZpbml0aW9uc1xuICAgICAgICAgICAgJiYgZXhpc3RlZERlZmluaXRpb25zLnNpemUoKVxuICAgICAgICAgICAgJiYgZXhpc3RlZERlZmluaXRpb25zLmhhcyhwcm9wZXJ0eUtleSlcbiAgICAgICAgICAgICYmIGV4aXN0ZWREZWZpbml0aW9ucy5nZXQocHJvcGVydHlLZXkpIS5pbnZva2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9GZWF0dXJlRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9GZWF0dXJlRXJyb3IuRmVhdHVyZUV4dGVuc2lvbkVycm9yLFxuICAgICAgICAgICAgICAgIGBBLUZlYXR1cmUtRXh0ZW5kIGNhbm5vdCBiZSB1c2VkIG9uIHRoZSBtZXRob2QgXCIke3Byb3BlcnR5S2V5fVwiIGJlY2F1c2UgaXQgaXMgYWxyZWFkeSBkZWZpbmVkIGFzIGEgRmVhdHVyZSB3aXRoIFwiaW52b2tlXCIgc2V0IHRvIHRydWUuIFBsZWFzZSByZW1vdmUgdGhlIEEtRmVhdHVyZS1FeHRlbmQgZGVjb3JhdG9yIG9yIHNldCBcImludm9rZVwiIHRvIGZhbHNlIGluIHRoZSBBLUZlYXR1cmUgZGVjb3JhdG9yLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleGlzdGVkTWV0YVZhbHVlID0gW1xuICAgICAgICAgICAgLi4uKGV4aXN0ZWRNZXRhLmdldCh0YXJnZXRSZWdleHAuc291cmNlKSB8fCBbXSlcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBleGlzdGVkSW5kZXggPSBleGlzdGVkTWV0YVZhbHVlLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaGFuZGxlciA9PT0gcHJvcGVydHlLZXkpO1xuXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IHtcbiAgICAgICAgICAgIG5hbWU6IHRhcmdldFJlZ2V4cC5zb3VyY2UsXG4gICAgICAgICAgICBoYW5kbGVyOiBwcm9wZXJ0eUtleSxcbiAgICAgICAgICAgIGJlaGF2aW9yLFxuICAgICAgICAgICAgYmVmb3JlLFxuICAgICAgICAgICAgYWZ0ZXIsXG4gICAgICAgICAgICB0aHJvd09uRXJyb3IsXG4gICAgICAgICAgICBvdmVycmlkZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV4aXN0ZWRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgZXhpc3RpbmcgbWV0aG9kIGluIHRoZSBtZXRhZGF0YVxuICAgICAgICAgICAgZXhpc3RlZE1ldGFWYWx1ZVtleGlzdGVkSW5kZXhdID0gZXh0ZW5zaW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQWRkIHRoZSBuZXcgbWV0aG9kIHRvIHRoZSBtZXRhZGF0YVxuICAgICAgICAgICAgZXhpc3RlZE1ldGFWYWx1ZS5wdXNoKGV4dGVuc2lvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgdGhlIG5ldyBtZXRob2QgdG8gdGhlIG1ldGFkYXRhXG4gICAgICAgIGV4aXN0ZWRNZXRhVmFsdWUucHVzaCgpO1xuXG4gICAgICAgIC8vIFNldCB0aGUgbWV0YWRhdGEgb2YgdGhlIG1ldGhvZCB0byBkZWZpbmUgYSBjdXN0b20gRmVhdHVyZSB3aXRoIG5hbWVcbiAgICAgICAgZXhpc3RlZE1ldGEuc2V0KHRhcmdldFJlZ2V4cC5zb3VyY2UsIGV4aXN0ZWRNZXRhVmFsdWUpO1xuXG4gICAgICAgIC8vICBVcGRhdGUgdGhlIG1ldGFkYXRhIG9mIHRoZSBjb250YWluZXIgd2l0aCB0aGUgbmV3IEZlYXR1cmUgZGVmaW5pdGlvblxuICAgICAgICBBX0NvbnRleHRcbiAgICAgICAgICAgIC5tZXRhKHRhcmdldClcbiAgICAgICAgICAgIC5zZXQobWV0YUtleSwgZXhpc3RlZE1ldGEpO1xuICAgIH07XG59XG5cblxuLyoqXG4gKiBCdWlsZHMgYSB0YXJnZXQgcmVndWxhciBleHByZXNzaW9uIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzLlxuICogXG4gKiBAcGFyYW0gcGFyYW0xIC0gVGhlIGZpcnN0IHBhcmFtZXRlciwgd2hpY2ggY2FuIGJlIGEgc3RyaW5nIG9yIGFuIG9iamVjdC5cbiAqIEBwYXJhbSBpbmNsdWRlIC0gQW4gYXJyYXkgb2YgaXRlbXMgdG8gaW5jbHVkZSBpbiB0aGUgcmVndWxhciBleHByZXNzaW9uLlxuICogQHBhcmFtIGV4Y2x1ZGUgLSBBbiBhcnJheSBvZiBpdGVtcyB0byBleGNsdWRlIGZyb20gdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAqIEBwYXJhbSBwcm9wZXJ0eUtleSAtIFRoZSBwcm9wZXJ0eSBrZXkgdG8gdXNlIGluIHRoZSByZWd1bGFyIGV4cHJlc3Npb24uXG4gKiBAcmV0dXJucyBBIHJlZ3VsYXIgZXhwcmVzc2lvbiBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFRhcmdldFJlZ2V4cChcbiAgICBwYXJhbTE6IGFueSxcbiAgICBpbmNsdWRlOiBhbnlbXSxcbiAgICBleGNsdWRlOiBhbnlbXSxcbiAgICBwcm9wZXJ0eUtleTogc3RyaW5nXG4pIHtcbiAgICBjb25zdCBpbmNsdWRlUGFydCA9IGluY2x1ZGUubGVuZ3RoXG4gICAgICAgID8gYCgke2luY2x1ZGUubWFwKGVsID0+IGVsLm5hbWUpLmpvaW4oJ3wnKX0pYFxuICAgICAgICA6IGAuKmA7XG5cbiAgICBjb25zdCBleGNsdWRlUGFydCA9IGV4Y2x1ZGUubGVuZ3RoXG4gICAgICAgID8gYCg/ISR7ZXhjbHVkZS5tYXAoZWwgPT4gZWwubmFtZSkuam9pbignfCcpfSlgXG4gICAgICAgIDogYGA7XG5cbiAgICBjb25zdCBwYXR0ZXJuID0gcGFyYW0xLnNjb3BlXG4gICAgICAgID8gYF4ke2V4Y2x1ZGVQYXJ0fSR7aW5jbHVkZVBhcnR9XFxcXC4ke3BhcmFtMS5uYW1lIHx8IHByb3BlcnR5S2V5fSRgXG4gICAgICAgIDogYC4qXFxcXC4ke3BhcmFtMS5uYW1lIHx8IHByb3BlcnR5S2V5fSRgO1xuXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAocGF0dGVybik7XG59IiwgImltcG9ydCB7IEFfQ29udGFpbmVyIH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNsYXNzXCJcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC50eXBlc1wiXG5cblxuXG5leHBvcnQgZW51bSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cyB7XG4gICAgLyoqXG4gICAgICogVGhlIHN0YWdlIGlzIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBQUk9DRVNTSU5HID0gJ1BST0NFU1NJTkcnLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGFnZSBoYXMgYmVlbiBjb21wbGV0ZWRcbiAgICAgKi9cbiAgICBDT01QTEVURUQgPSAnQ09NUExFVEVEJyxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhZ2UgaGFzIGZhaWxlZFxuICAgICAqL1xuICAgIEZBSUxFRCA9ICdGQUlMRUQnLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGFnZSBoYXMgYmVlbiBza2lwcGVkXG4gICAgICovXG4gICAgU0tJUFBFRCA9ICdTS0lQUEVEJyxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhZ2UgaGFzIGJlZW4gcGF1c2VkXG4gICAgICovXG4gICAgLy8gUEFVU0VEID0gJ1BBVVNFRCcsXG4gICAgLyoqXG4gICAgICogVGhlIHN0YWdlIGhhcyBiZWVuIHN0b3BwZWRcbiAgICAgKi9cbiAgICAvLyBTVE9QUEVEID0gJ1NUT1BQRUQnLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGFnZSBoYXMgYmVlbiBzdGFydGVkXG4gICAgICovXG4gICAgLy8gU1RBUlRFRCA9ICdTVEFSVEVEJyxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhZ2UgaGFzIGJlZW4gaW5pdGlhbGl6ZWRcbiAgICAgKi9cbiAgICBJTklUSUFMSVpFRCA9ICdJTklUSUFMSVpFRCcsXG4gICAgLyoqXG4gICAgICogVGhlIHN0YWdlIGhhcyBiZWVuIGFib3J0ZWRcbiAgICAgKi9cbiAgICBBQk9SVEVEID0gJ0FCT1JURUQnXG59XG5cbmV4cG9ydCB0eXBlIEFfVFlQRVNfU3RhZ2VFeGVjdXRpb25CZWhhdmlvciA9ICdhc3luYycgfCAnc3luYydcblxuXG5leHBvcnQgdHlwZSBBX1RZUEVTX19BX1N0YWdlU3RlcCA9IHtcbiAgICAvKipcbiAgICAgKiBUaGUgY29tcG9uZW50IHRvIGJlIGNhbGxlZFxuICAgICAqL1xuICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yIHwgQV9Db250YWluZXIgfCBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBUaGUgbWV0aG9kIHRvIGJlIGNhbGxlZCBvbiB0aGUgY29tcG9uZW50XG4gICAgICovXG4gICAgaGFuZGxlcjogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIE9yaWdpbmFsIEZlYXR1cmUgRXh0ZW5zaW9uIG5hbWVcbiAgICAgKiBcbiAgICAgKiBbIV0gY291bGQgYmUgc3RyaW5nIG9yIHJlZ2V4XG4gICAgICogXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuXG4gICAgLyoqXG4gICAgICogSW4gY2FzZSBpdHMgYXN5bmMgaXQgd2lsbCBiZSBleGVjdXRlZCBpbmRlcGVuZGVudGx5IGZyb20gdGhlIG1haW4gdGhyZWFkLlxuICAgICAqIFxuICAgICAqIFshXSBIb3dldmVyLCBpbiBjYXNlIG9mIHN5bmMsIGl0IHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIG1haW4gdGhyZWFkLmluIHRoZSBvcmRlciBvZiB0aGUgZGVjbGFyYXRpb24uXG4gICAgICogXG4gICAgICovXG4gICAgYmVoYXZpb3I6IEFfVFlQRVNfU3RhZ2VFeGVjdXRpb25CZWhhdmlvclxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgbWV0aG9kLlxuICAgICAqIFxuICAgICAqIFshXSBJbiBjYXNlIHRoZSBtZXRob2QgaGFzIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBpdCB3aWxsIFRocm93IGFuIGVycm9yLlxuICAgICAqIFxuICAgICAqL1xuICAgIGJlZm9yZTogc3RyaW5nXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiB0aGUgZXhlY3V0aW9uIG9mIHRoZSBtZXRob2QuXG4gICAgICogXG4gICAgICogWyFdIEluIGNhc2UgdGhlIG1ldGhvZCBoYXMgY2lyY3VsYXIgZGVwZW5kZW5jaWVzIGl0IHdpbGwgVGhyb3cgYW4gZXJyb3IuXG4gICAgICogXG4gICAgICovXG4gICAgYWZ0ZXI6IHN0cmluZyxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRvIHRocm93IGFuIGVycm9yIGlmIHRoZSBzdGVwIGZhaWxzLlxuICAgICAqIFxuICAgICAqIFshXSBCeSBkZWZhdWx0IGlzIHRydWVcbiAgICAgKi9cbiAgICB0aHJvd09uRXJyb3I6IGJvb2xlYW5cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqL1xuICAgIG92ZXJyaWRlOiBzdHJpbmdcbn1cblxuXG5cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX1N0YWdlX1NlcmlhbGl6ZWQgPSB7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgc3RhZ2VcbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmcsXG5cbiAgICAvKipcbiAgICAgKiAgVGhlIHN0YXR1cyBvZiB0aGUgc3RhZ2VcbiAgICAgKiBcbiAgICAgKi9cbiAgICBzdGF0dXM6IEFfVFlQRVNfX0FfU3RhZ2VfU3RhdHVzLFxuXG5cbn1cblxuXG5cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0FfU3RhZ2VTdGVwUHJvY2Vzc2luZ0V4dHJhUGFyYW1zID0ge1xuICAgIHN0ZXBzOiBBX1RZUEVTX19BX1N0YWdlU3RlcFtdXG4gICAgZmlsdGVyOiAoc3RlcDogQV9UWVBFU19fQV9TdGFnZVN0ZXApID0+IGJvb2xlYW5cbn1cbiIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX1N0YWdlRXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIHN0YXRpYyByZWFkb25seSBBcmd1bWVudHNSZXNvbHV0aW9uRXJyb3IgPSAnQS1TdGFnZSBBcmd1bWVudHMgUmVzb2x1dGlvbiBFcnJvcic7XG5cblxuICAgIHN0YXRpYyBnZXQgQ29tcGlsZUVycm9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnVW5hYmxlIHRvIGNvbXBpbGUgQS1TdGFnZSc7XG4gICAgfVxuXG59XG4iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cyxcbiAgICBBX1RZUEVTX19BX1N0YWdlU3RlcCxcbiAgICBBX1RZUEVTX19TdGFnZV9TZXJpYWxpemVkXG59IGZyb20gXCIuL0EtU3RhZ2UudHlwZXNcIjtcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCIuLi9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0ZlYXR1cmUgfSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9TY29wZSB9IGZyb20gXCIuLi9BLVNjb3BlL0EtU2NvcGUuY2xhc3NcIjtcbmltcG9ydCB7IEFfU3RhZ2VFcnJvciB9IGZyb20gXCIuL0EtU3RhZ2UuZXJyb3JcIjtcbmltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHMgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vQS1Db250YWluZXIvQS1Db250YWluZXIudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlclwiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfU3RhZ2Uge1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZlYXR1cmUgdGhhdCBvd25zIHRoaXMgc3RhZ2VcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlYWRvbmx5IF9mZWF0dXJlITogQV9GZWF0dXJlO1xuICAgIC8qKlxuICAgICAqIEluaXRpYWwgSW5zdHJ1Y3Rpb25zIHRvIHByb2Nlc3MgdGhlIHN0YWdlXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGVmaW5pdGlvbiE6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwO1xuICAgIC8qKlxuICAgICAqIFBvc3NpYmxlIGVycm9ycyBkdXJpbmcgc3RhZ2UgcHJvY2Vzc2luZ1xuICAgICAqL1xuICAgIHByaXZhdGUgX2Vycm9yPzogQV9FcnJvcjtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSBzdGFnZVxuICAgICAqL1xuICAgIHByaXZhdGUgX3N0YXR1czogQV9UWVBFU19fQV9TdGFnZV9TdGF0dXMgPSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5JTklUSUFMSVpFRDtcblxuICAgIC8qKlxuICAgICAqIFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gdGhlIHN0YWdlIGlzIFByb2Nlc3NlZFxuICAgICAqL1xuICAgIHByaXZhdGUgX3Byb2Nlc3NlZDogUHJvbWlzZTx2b2lkPiB8IHVuZGVmaW5lZDtcblxuXG4gICAgLyoqXG4gICAgICogQV9TdGFnZSBpcyBhIGNhbGxhYmxlIEFfRnVuY3Rpb24gd2l0aGluIEFfRmVhdHVyZSB0aGF0IHNob3VsZCBiZSBydW4gd2l0aCBzcGVjaWZpYyBwYXJhbWV0ZXJzLlxuICAgICAqIFshXSBEZXBlbmRpbmcgb24gdGhlIFN0YWdlIERlZmluaXRpb24gdHlwZSBzeW5jL2FzeW5jIGZ1bmN0aW9uIGNhbiBiZSBleGVjdXRlZCBjb3JyZXNwb25kaW5nbHkuXG4gICAgICogXG4gICAgICogQS1TdGFnZSBpcyBhIGNvbW1vbiBvYmplY3QgdGhhdCB1c2VzIHRvIHNpbXBsaWZ5IGxvZ2ljIGFuZCByZS11c2Ugb2YgQS1GZWF0dXJlIGludGVybmFscyBmb3IgYmV0dGVyIGNvbXBvc2l0aW9uLiBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmZWF0dXJlIHRoYXQgb3ducyB0aGlzIHN0YWdlXG4gICAgICAgICAqL1xuICAgICAgICBmZWF0dXJlOiBBX0ZlYXR1cmUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RlcCBkZWZpbml0aW9ucyBvZiB0aGUgc3RhZ2VcbiAgICAgICAgICovXG4gICAgICAgIHN0ZXA6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX2ZlYXR1cmUgPSBmZWF0dXJlO1xuICAgICAgICB0aGlzLl9kZWZpbml0aW9uID0gc3RlcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBuYW1lIG9mIHRoZSBzdGFnZVxuICAgICAqL1xuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRlZmluaXRpb24gb2YgdGhlIHN0YWdlXG4gICAgICovXG4gICAgZ2V0IGRlZmluaXRpb24oKTogQV9UWVBFU19fQV9TdGFnZVN0ZXAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmaW5pdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBzdGF0dXMgb2YgdGhlIHN0YWdlXG4gICAgICovXG4gICAgZ2V0IHN0YXR1cygpOiBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGZlYXR1cmUgdGhhdCBvd25zIHRoaXMgc3RhZ2VcbiAgICAgKi9cbiAgICBnZXQgZmVhdHVyZSgpOiBBX0ZlYXR1cmUge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmVhdHVyZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzdGFnZSBpcyBwcm9jZXNzZWQgKGNvbXBsZXRlZCwgZmFpbGVkLCBvciBza2lwcGVkKVxuICAgICAqL1xuICAgIGdldCBpc1Byb2Nlc3NlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1cyA9PT0gQV9UWVBFU19fQV9TdGFnZV9TdGF0dXMuQ09NUExFVEVEXG4gICAgICAgICAgICB8fCB0aGlzLl9zdGF0dXMgPT09IEFfVFlQRVNfX0FfU3RhZ2VfU3RhdHVzLkZBSUxFRFxuICAgICAgICAgICAgfHwgdGhpcy5fc3RhdHVzID09PSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5TS0lQUEVEO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBlcnJvciBvZiB0aGUgc3RhZ2VcbiAgICAgKi9cbiAgICBnZXQgZXJyb3IoKTogQV9FcnJvciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyB0aGUgYXJndW1lbnRzIG9mIHRoZSBzdGVwXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0ZXAgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIGdldFN0ZXBBcmdzKFxuICAgICAgICBzY29wZTogQV9TY29wZSxcbiAgICAgICAgc3RlcDogQV9UWVBFU19fQV9TdGFnZVN0ZXBcbiAgICApIHtcbiAgICAgICAgbGV0IHJlc29sdmVyQ29uc3RydWN0b3I6IEFfVFlQRVNfX0NvbnRhaW5lcl9Db25zdHJ1Y3RvciB8IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2Uoc3RlcC5jb21wb25lbnQpOlxuICAgICAgICAgICAgICAgIHJlc29sdmVyQ29uc3RydWN0b3IgPSBzdGVwLmNvbXBvbmVudC5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKHN0ZXAuY29tcG9uZW50KTpcbiAgICAgICAgICAgICAgICByZXNvbHZlckNvbnN0cnVjdG9yID0gc2NvcGUucmVzb2x2ZUNvbnN0cnVjdG9yKHN0ZXAuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXNvbHZlckNvbnN0cnVjdG9yID0gc3RlcC5jb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHJldHVybiBQcm9taXNlXG4gICAgICAgICAgICAuYWxsKEFfQ29udGV4dFxuICAgICAgICAgICAgICAgIC5tZXRhKHJlc29sdmVyQ29uc3RydWN0b3IpXG4gICAgICAgICAgICAgICAgLmluamVjdGlvbnMoc3RlcC5oYW5kbGVyKVxuICAgICAgICAgICAgICAgIC5tYXAoYXN5bmMgYXJnID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NhbGxlckNvbnN0cnVjdG9yKGFyZy50YXJnZXQpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mZWF0dXJlLmNhbGxlci5jb21wb25lbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRmVhdHVyZUNvbnN0cnVjdG9yKGFyZy50YXJnZXQpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mZWF0dXJlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB0YXJnZXQsIHJlcXVpcmUsIGNyZWF0ZSwgZGVmYXVsdEFyZ3MsIHBhcmVudCwgZmxhdCB9ID0gYXJnO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVwZW5kZW5jeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0U2NvcGUgPSBzY29wZTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEpIEZsYXQgcmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGZsYXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY3kgPSB0YXJnZXRTY29wZS5yZXNvbHZlRmxhdCh0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMikgUGFyZW50IHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBwYXJlbnQgJiYgdHlwZW9mIHBhcmVudC5sYXllck9mZnNldCA9PT0gJ251bWJlcic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFBhcmVudCA9IHRhcmdldFNjb3BlLnBhcmVudE9mZnNldChwYXJlbnQubGF5ZXJPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRQYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TdGFnZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBX1N0YWdlRXJyb3IuQXJndW1lbnRzUmVzb2x1dGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIHJlc29sdmUgcGFyZW50IHNjb3BlIGF0IGxheWVyIG9mZnNldCAke3BhcmVudC5sYXllck9mZnNldH0gZm9yIGFyZ3VtZW50ICR7QV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShhcmcudGFyZ2V0KX0gZm9yIHN0YWdlICR7dGhpcy5uYW1lfSBpbiBzY29wZSAke3Njb3BlLm5hbWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gdGFyZ2V0UGFyZW50LnJlc29sdmUodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFNjb3BlID0gdGFyZ2V0UGFyZW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAzKSBOb3JtYWwgcmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gdGFyZ2V0U2NvcGUucmVzb2x2ZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlICYmICFkZXBlbmRlbmN5ICYmIEFfVHlwZUd1YXJkcy5pc0FsbG93ZWRGb3JEZXBlbmRlbmN5RGVmYXVsdENyZWF0aW9uKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RGVwZW5kZW5jeSA9IG5ldyB0YXJnZXQoLi4uZGVmYXVsdEFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFNjb3BlLnJlZ2lzdGVyKG5ld0RlcGVuZGVuY3kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3RGVwZW5kZW5jeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWlyZSAmJiAhZGVwZW5kZW5jeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TdGFnZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQV9TdGFnZUVycm9yLkFyZ3VtZW50c1Jlc29sdXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gcmVzb2x2ZSByZXF1aXJlZCBhcmd1bWVudCAke0FfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoYXJnLnRhcmdldCl9IGZvciBzdGFnZSAke3RoaXMubmFtZX0gaW4gc2NvcGUgJHtzY29wZS5uYW1lfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVwZW5kZW5jeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyB0aGUgY29tcG9uZW50IG9mIHRoZSBzdGVwXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0ZXAgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFN0ZXBDb21wb25lbnQoXG4gICAgICAgIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBzdGVwOiBBX1RZUEVTX19BX1N0YWdlU3RlcFxuICAgICkge1xuICAgICAgICBjb25zdCB7IGNvbXBvbmVudCwgaGFuZGxlciB9ID0gc3RlcDtcblxuICAgICAgICBsZXQgaW5zdGFuY2U6IEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHMgfCB1bmRlZmluZWRcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UoY29tcG9uZW50KTpcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcoY29tcG9uZW50KTpcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IHNjb3BlLnJlc29sdmUoY29tcG9uZW50KSB8fCB0aGlzLmZlYXR1cmUuc2NvcGUucmVzb2x2ZShjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gc2NvcGUucmVzb2x2ZShjb21wb25lbnQpIHx8IHRoaXMuZmVhdHVyZS5zY29wZS5yZXNvbHZlKGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWluc3RhbmNlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfU3RhZ2VFcnJvcihBX1N0YWdlRXJyb3IuQ29tcGlsZUVycm9yLCBgVW5hYmxlIHRvIHJlc29sdmUgY29tcG9uZW50ICR7dHlwZW9mIGNvbXBvbmVudCA9PT0gJ3N0cmluZycgPyBjb21wb25lbnQgOiBjb21wb25lbnQubmFtZX0gZnJvbSBzY29wZSAke3Njb3BlLm5hbWV9YCk7XG5cbiAgICAgICAgaWYgKCFpbnN0YW5jZVtoYW5kbGVyXSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX1N0YWdlRXJyb3IoQV9TdGFnZUVycm9yLkNvbXBpbGVFcnJvciwgYEhhbmRsZXIgJHtoYW5kbGVyfSBub3QgZm91bmQgaW4gJHtpbnN0YW5jZS5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuXG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgdGhlIGhhbmRsZXIgb2YgdGhlIHN0ZXBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RlcCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgY2FsbFN0ZXBIYW5kbGVyKFxuICAgICAgICBzdGVwOiBBX1RZUEVTX19BX1N0YWdlU3RlcCxcbiAgICAgICAgc2NvcGU6IEFfU2NvcGVcbiAgICApIHtcbiAgICAgICAgLy8gMSkgUmVzb2x2ZSBjb21wb25lbnRcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gYXdhaXQgdGhpcy5nZXRTdGVwQ29tcG9uZW50KHNjb3BlLCBzdGVwKTtcbiAgICAgICAgLy8gMikgUmVzb2x2ZSBhcmd1bWVudHNcbiAgICAgICAgY29uc3QgY2FsbEFyZ3MgPSBhd2FpdCB0aGlzLmdldFN0ZXBBcmdzKHNjb3BlLCBzdGVwKTtcblxuICAgICAgICAvLyAzKSBDYWxsIGhhbmRsZXJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNvbXBvbmVudFtzdGVwLmhhbmRsZXJdKC4uLmNhbGxBcmdzKTtcbiAgICB9XG5cblxuICAgIHNraXAoKSB7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IEFfVFlQRVNfX0FfU3RhZ2VfU3RhdHVzLlNLSVBQRUQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBwcm9jZXNzZXMgdGhlIHN0YWdlIGJ5IGV4ZWN1dGluZyBhbGwgdGhlIHN0ZXBzXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlIC0gU2NvcGUgdG8gYmUgdXNlZCB0byByZXNvbHZlIHRoZSBzdGVwcyBkZXBlbmRlbmNpZXNcbiAgICAgKi9cbiAgICBhc3luYyBwcm9jZXNzKFxuICAgICAgICAvKipcbiAgICAgICAgICogU2NvcGUgdG8gYmUgdXNlZCB0byByZXNvbHZlIHRoZSBzdGVwcyBkZXBlbmRlbmNpZXNcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcblxuICAgICAgICBjb25zdCB0YXJnZXRTY29wZSA9IEFfVHlwZUd1YXJkcy5pc1Njb3BlSW5zdGFuY2Uoc2NvcGUpXG4gICAgICAgICAgICA/IHNjb3BlXG4gICAgICAgICAgICA6IHRoaXMuX2ZlYXR1cmUuc2NvcGU7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9wcm9jZXNzZWQpXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzZWQgPSBuZXcgUHJvbWlzZTx2b2lkPihcbiAgICAgICAgICAgICAgICBhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5QUk9DRVNTSU5HO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGVmaW5pdGlvbi5iZWhhdmlvciA9PT0gJ3N5bmMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gY2FzZSB3ZSBoYXZlIHRvIHdhaXQgZm9yIHRoZSByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGxTdGVwSGFuZGxlcih0aGlzLl9kZWZpbml0aW9uLCB0YXJnZXRTY29wZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluIGNhc2Ugd2UgZG9uJ3QgaGF2ZSB0byB3YWl0IGZvciB0aGUgcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsU3RlcEhhbmRsZXIodGhpcy5fZGVmaW5pdGlvbiwgdGFyZ2V0U2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlZEVycm9yID0gbmV3IEFfRXJyb3IoZXJyb3IgYXMgYW55KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWlsZWQod3JhcHBlZEVycm9yKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RlZmluaXRpb24udGhyb3dPbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCh3cmFwcGVkRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3NlZDtcbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PSBTdGF0dXMgbWV0aG9kcyA9PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBwcm90ZWN0ZWQgY29tcGxldGVkKCkge1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5DT01QTEVURUQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGZhaWxlZChcbiAgICAgICAgZXJyb3I6IEVycm9yIHwgQV9FcnJvciB8IGFueVxuICAgICkge1xuICAgICAgICB0aGlzLl9lcnJvciA9IG5ldyBBX0Vycm9yKGVycm9yKTtcblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5GQUlMRUQ7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PSBTZXJpYWxpemF0aW9uID09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIHN0YWdlIHRvIEpTT05cbiAgICAgKiBcbiAgICAgKi9cbiAgICB0b0pTT04oKTogQV9UWVBFU19fU3RhZ2VfU2VyaWFsaXplZCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3RhZ2VcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBBLVN0YWdlKCR7dGhpcy5fZmVhdHVyZS5uYW1lfTo6JHt0aGlzLl9kZWZpbml0aW9uLmJlaGF2aW9yfUAke3RoaXMuX2RlZmluaXRpb24uaGFuZGxlcn0pYDtcbiAgICB9XG59ICAgIiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9TdGVwTWFuYWdlckVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cblxuICAgIHN0YXRpYyByZWFkb25seSBDaXJjdWxhckRlcGVuZGVuY3lFcnJvciA9ICdBLVN0ZXBNYW5hZ2VyIENpcmN1bGFyIERlcGVuZGVuY3kgRXJyb3InO1xuXG59IiwgImltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGVtcGxhdGVJdGVtIH0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUudHlwZXNcIjtcbmltcG9ydCB7IEFfU3RhZ2UgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX1N0YWdlU3RlcCB9IGZyb20gXCIuLi9BLVN0YWdlL0EtU3RhZ2UudHlwZXNcIjtcbmltcG9ydCB7IEFfU3RlcE1hbmFnZXJFcnJvciB9IGZyb20gXCIuL0EtU3RlcE1hbmFnZXIuZXJyb3JcIjtcblxuZXhwb3J0IGNsYXNzIEFfU3RlcHNNYW5hZ2VyIHtcblxuICAgIHB1YmxpYyBlbnRpdGllczogQV9UWVBFU19fQV9TdGFnZVN0ZXBbXTtcbiAgICBwdWJsaWMgZ3JhcGg6IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PjtcbiAgICBwdWJsaWMgdmlzaXRlZDogU2V0PHN0cmluZz47XG4gICAgcHVibGljIHRlbXBNYXJrOiBTZXQ8c3RyaW5nPjtcbiAgICBwdWJsaWMgc29ydGVkRW50aXRpZXM6IHN0cmluZ1tdO1xuXG5cbiAgICBwcml2YXRlIF9pc0J1aWx0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihlbnRpdGllczogQXJyYXk8QV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvclRlbXBsYXRlSXRlbT4pIHtcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IHRoaXMucHJlcGFyZVN0ZXBzKGVudGl0aWVzKTtcblxuICAgICAgICB0aGlzLmdyYXBoID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnZpc2l0ZWQgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMudGVtcE1hcmsgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuc29ydGVkRW50aXRpZXMgPSBbXTtcblxuICAgIH1cblxuICAgIHByaXZhdGUgcHJlcGFyZVN0ZXBzKFxuICAgICAgICBlbnRpdGllczogQXJyYXk8QV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvclRlbXBsYXRlSXRlbT5cbiAgICApOiBBcnJheTxBX1RZUEVTX19BX1N0YWdlU3RlcD4ge1xuICAgICAgICByZXR1cm4gZW50aXRpZXNcbiAgICAgICAgICAgIC5tYXAoc3RlcCA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnN0ZXAsXG5cbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogc3RlcC5iZWhhdmlvciB8fCAnc3luYycsXG4gICAgICAgICAgICAgICAgYmVmb3JlOiBzdGVwLmJlZm9yZSB8fCAnJyxcbiAgICAgICAgICAgICAgICBhZnRlcjogc3RlcC5hZnRlciB8fCAnJyxcbiAgICAgICAgICAgICAgICBvdmVycmlkZTogc3RlcC5vdmVycmlkZSB8fCAnJyxcbiAgICAgICAgICAgICAgICB0aHJvd09uRXJyb3I6IGZhbHNlXG4gICAgICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBJRChzdGVwOiBBX1RZUEVTX19BX1N0YWdlU3RlcCkge1xuICAgICAgICByZXR1cm4gYCR7dHlwZW9mIHN0ZXAuY29tcG9uZW50ID09PSAnc3RyaW5nJyA/IHN0ZXAuY29tcG9uZW50IDogc3RlcC5jb21wb25lbnQubmFtZX0uJHtzdGVwLmhhbmRsZXJ9YDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkR3JhcGgoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0J1aWx0KSByZXR1cm47XG4gICAgICAgIHRoaXMuX2lzQnVpbHQgPSB0cnVlO1xuXG4gICAgICAgIC8vIEZpbHRlciBvdmVycmlkZVxuICAgICAgICB0aGlzLmVudGl0aWVzID0gdGhpcy5lbnRpdGllc1xuICAgICAgICAgICAgLmZpbHRlcigoc3RlcCwgaSwgc2VsZikgPT5cbiAgICAgICAgICAgICAgICAhc2VsZi5zb21lKHMgPT4gcy5vdmVycmlkZSA/IG5ldyBSZWdFeHAocy5vdmVycmlkZSkudGVzdCh0aGlzLklEKHN0ZXApKSA6IGZhbHNlKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIGdyYXBoIG5vZGVzXG4gICAgICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4gdGhpcy5ncmFwaC5zZXQodGhpcy5JRChlbnRpdHkpLCBuZXcgU2V0KCkpKTtcblxuICAgICAgICAvLyBBZGQgZGlyZWN0ZWQgZWRnZXMgYmFzZWQgb24gJ2JlZm9yZScgYW5kICdhZnRlcidcbiAgICAgICAgdGhpcy5lbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHlJZCA9IHRoaXMuSUQoZW50aXR5KTtcblxuICAgICAgICAgICAgLy8gQWRkIGVkZ2VzIGZvciAnYmVmb3JlJyBkZXBlbmRlbmNpZXNcbiAgICAgICAgICAgIC8vIElmIGVudGl0eSBzaG91bGQgZXhlY3V0ZSBiZWZvcmUgdGFyZ2V0cywgdGhlbiB0YXJnZXRzIGRlcGVuZCBvbiBlbnRpdHlcbiAgICAgICAgICAgIC8vIFNvIHdlIGFkZCBlZGdlczogdGFyZ2V0IC0+IGVudGl0eSAodGFyZ2V0IGRlcGVuZHMgb24gZW50aXR5KVxuICAgICAgICAgICAgaWYgKGVudGl0eS5iZWZvcmUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRzID0gdGhpcy5tYXRjaEVudGl0aWVzKGVudGl0eUlkLCBlbnRpdHkuYmVmb3JlKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRzLmZvckVhY2godGFyZ2V0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdyYXBoLmhhcyh0YXJnZXQpKSB0aGlzLmdyYXBoLnNldCh0YXJnZXQsIG5ldyBTZXQoKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGguZ2V0KHRhcmdldCkhLmFkZChlbnRpdHlJZCk7IC8vIHRhcmdldCBkZXBlbmRzIG9uIGVudGl0eVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZGQgZWRnZXMgZm9yICdhZnRlcicgZGVwZW5kZW5jaWVzICBcbiAgICAgICAgICAgIC8vIElmIGVudGl0eSBzaG91bGQgZXhlY3V0ZSBhZnRlciBzb3VyY2VzLCB0aGVuIGVudGl0eSBkZXBlbmRzIG9uIHNvdXJjZXNcbiAgICAgICAgICAgIC8vIFNvIHdlIGFkZCBlZGdlczogZW50aXR5IC0+IHNvdXJjZSAoZW50aXR5IGRlcGVuZHMgb24gc291cmNlKVxuICAgICAgICAgICAgaWYgKGVudGl0eS5hZnRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLm1hdGNoRW50aXRpZXMoZW50aXR5SWQsIGVudGl0eS5hZnRlcik7XG5cbiAgICAgICAgICAgICAgICBzb3VyY2VzLmZvckVhY2goc291cmNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdyYXBoLmhhcyhlbnRpdHlJZCkpIHRoaXMuZ3JhcGguc2V0KGVudGl0eUlkLCBuZXcgU2V0KCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyYXBoLmdldChlbnRpdHlJZCkhLmFkZChzb3VyY2UpOyAvLyBlbnRpdHkgZGVwZW5kcyBvbiBzb3VyY2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gTWF0Y2ggZW50aXRpZXMgYnkgbmFtZSBvciByZWdleFxuICAgIHByaXZhdGUgbWF0Y2hFbnRpdGllcyhlbnRpdHlJZDogc3RyaW5nLCBwYXR0ZXJuOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChwYXR0ZXJuKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5lbnRpdGllc1xuICAgICAgICAgICAgLmZpbHRlcihlbnRpdHkgPT4gcmVnZXgudGVzdCh0aGlzLklEKGVudGl0eSkpICYmIHRoaXMuSUQoZW50aXR5KSAhPT0gZW50aXR5SWQpXG4gICAgICAgICAgICAubWFwKGVudGl0eSA9PiB0aGlzLklEKGVudGl0eSkpO1xuICAgIH1cblxuICAgIC8vIFRvcG9sb2dpY2FsIHNvcnQgd2l0aCBjeWNsZSBkZXRlY3Rpb25cbiAgICBwcml2YXRlIHZpc2l0KG5vZGU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy50ZW1wTWFyay5oYXMobm9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIFRPRE86IG1heWJlIHdlIGhhdmUgdG8ga2VlcCB0aGlzIGVycm9yIGJ1dCBvbmx5IGZvciBwYXJ0aWFsIGNhc2VzXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9TdGVwTWFuYWdlckVycm9yKFxuICAgICAgICAgICAgICAgIEFfU3RlcE1hbmFnZXJFcnJvci5DaXJjdWxhckRlcGVuZGVuY3lFcnJvcixcbiAgICAgICAgICAgICAgICBgQ2lyY3VsYXIgZGVwZW5kZW5jeSBkZXRlY3RlZCBpbnZvbHZpbmcgc3RlcDogJHtub2RlfS4gTWFrZSBzdXJlIHRoYXQgeW91ciAnYmVmb3JlJyBhbmQgJ2FmdGVyJyBkZXBlbmRlbmNpZXMgZG8gbm90IGNyZWF0ZSBjeWNsZXMuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy52aXNpdGVkLmhhcyhub2RlKSkge1xuICAgICAgICAgICAgdGhpcy50ZW1wTWFyay5hZGQobm9kZSk7XG5cblxuICAgICAgICAgICAgKHRoaXMuZ3JhcGguZ2V0KG5vZGUpIHx8IFtdKS5mb3JFYWNoKG5laWdoYm9yID0+IHRoaXMudmlzaXQobmVpZ2hib3IpKTtcbiAgICAgICAgICAgIHRoaXMudGVtcE1hcmsuZGVsZXRlKG5vZGUpO1xuICAgICAgICAgICAgdGhpcy52aXNpdGVkLmFkZChub2RlKTtcbiAgICAgICAgICAgIHRoaXMuc29ydGVkRW50aXRpZXMucHVzaChub2RlKTtcblxuICAgICAgICAgICAgLy8gLy8gVmlzaXQgbmVpZ2hib3JzIGluIHN0YWJsZSBvcmRlciAocHJlc2VydmluZyBvcmlnaW5hbCBvcmRlcilcbiAgICAgICAgICAgIC8vIGNvbnN0IG5laWdoYm9ycyA9IEFycmF5LmZyb20odGhpcy5ncmFwaC5nZXQobm9kZSkgfHwgW10pO1xuICAgICAgICAgICAgLy8gLy8gbmVpZ2hib3JzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIC8vIC8vICAgICBjb25zdCBvcmRlckEgPSB0aGlzLm9yaWdpbmFsT3JkZXIuZ2V0KGEpIHx8IDA7XG4gICAgICAgICAgICAvLyAvLyAgICAgY29uc3Qgb3JkZXJCID0gdGhpcy5vcmlnaW5hbE9yZGVyLmdldChiKSB8fCAwO1xuICAgICAgICAgICAgLy8gLy8gICAgIHJldHVybiBvcmRlckEgLSBvcmRlckI7XG4gICAgICAgICAgICAvLyAvLyB9KTtcblxuICAgICAgICAgICAgLy8gbmVpZ2hib3JzLmZvckVhY2gobmVpZ2hib3IgPT4gdGhpcy52aXNpdChuZWlnaGJvcikpO1xuICAgICAgICAgICAgLy8gdGhpcy50ZW1wTWFyay5kZWxldGUobm9kZSk7XG4gICAgICAgICAgICAvLyB0aGlzLnZpc2l0ZWQuYWRkKG5vZGUpO1xuICAgICAgICAgICAgLy8gdGhpcy5zb3J0ZWRFbnRpdGllcy5wdXNoKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICB0b1NvcnRlZEFycmF5KCk6IEFycmF5PHN0cmluZz4ge1xuICAgICAgICB0aGlzLmJ1aWxkR3JhcGgoKTtcblxuICAgICAgICAvLyBTdGFydCB0b3BvbG9naWNhbCBzb3J0XG4gICAgICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnZpc2l0ZWQuaGFzKHRoaXMuSUQoZW50aXR5KSkpIHRoaXMudmlzaXQodGhpcy5JRChlbnRpdHkpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc29ydGVkRW50aXRpZXM7XG4gICAgfVxuXG4gICAgLy8gU29ydCB0aGUgZW50aXRpZXMgYmFzZWQgb24gZGVwZW5kZW5jaWVzXG4gICAgdG9TdGFnZXMoZmVhdHVyZTogQV9GZWF0dXJlKTogQXJyYXk8QV9TdGFnZT4ge1xuXG5cbiAgICAgICAgY29uc3Qgc29ydGVkTmFtZXMgPSB0aGlzLnRvU29ydGVkQXJyYXkoKTtcblxuXG4gICAgICAgIC8vIE1hcCBzb3J0ZWQgbmFtZXMgYmFjayB0byBlbnRpdHkgb2JqZWN0c1xuICAgICAgICByZXR1cm4gc29ydGVkTmFtZXNcbiAgICAgICAgICAgIC5tYXAoaWQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSB0aGlzLmVudGl0aWVzLmZpbmQoZW50aXR5ID0+IHRoaXMuSUQoZW50aXR5KSA9PT0gaWQpITtcblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBX1N0YWdlKGZlYXR1cmUsIHN0ZXApO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cbiIsICJpbXBvcnQge1xuICAgIEFfVFlQRVNfX0ZlYXR1cmVfSW5pdCxcbiAgICBBX1RZUEVTX19GZWF0dXJlX0luaXRXaXRoQ29tcG9uZW50LFxuICAgIEFfVFlQRVNfX0ZlYXR1cmVfSW5pdFdpdGhUZW1wbGF0ZSxcbiAgICBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgICBBX1RZUEVTX19GZWF0dXJlU3RhdGUsXG59IGZyb20gXCIuL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9GZWF0dXJlX0RlZmluZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUZlYXR1cmUvQS1GZWF0dXJlLURlZmluZS5kZWNvcmF0b3JcIjtcbmltcG9ydCB7IEFfRmVhdHVyZV9FeHRlbmQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS1FeHRlbmQuZGVjb3JhdG9yXCI7XG5pbXBvcnQgeyBBX1N0YWdlIH0gZnJvbSBcIi4uL0EtU3RhZ2UvQS1TdGFnZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9TdGVwc01hbmFnZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1TdGVwTWFuYWdlci9BLVN0ZXBNYW5hZ2VyLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1N0YWdlRXJyb3IgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLmVycm9yXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfRmVhdHVyZUVycm9yIH0gZnJvbSBcIi4vQS1GZWF0dXJlLmVycm9yXCI7XG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiLi4vQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9DYWxsZXIgfSBmcm9tIFwiLi4vQS1DYWxsZXIvQV9DYWxsZXIuY2xhc3NcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbXBvbmVudCB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jbGFzc1wiO1xuXG5cbi8qKlxuICogQV9GZWF0dXJlIGlzIHJlcHJlc2VudGluZyBhIGZlYXR1cmUgdGhhdCBjYW4gYmUgZXhlY3V0ZWQgYWNyb3NzIG11bHRpcGxlIGNvbXBvbmVudHNcbiAqIFRoaXMgY2xhc3Mgc3RvcmVzIHRoZSBzdGVwcyBvZiB0aGUgZmVhdHVyZSBhbmQgZXhlY3V0ZXMgdGhlbSBpbiBvcmRlciBvZiBhcHBlYXJhbmNlXG4gKiBcbiAqIFVzaW5nIEFfRmVhdHVyZS5EZWZpbmUgYW5kIEFfRmVhdHVyZS5FeHRlbmQgZGVjb3JhdG9ycyB0byBkZWZpbmUgYW5kIGV4dGVuZCB0aGUgZmVhdHVyZSBtZXRob2RzIFxuICogYWNyb3NzIHRoZSBkaWZmZXJlbnQsIGRpc3RyaWJ1dGVkIGNvbXBvbmVudHNcbiAqIFxuICovXG5leHBvcnQgY2xhc3MgQV9GZWF0dXJlPFQgZXh0ZW5kcyBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyA9IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzPiB7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBTdGF0aWMgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIERlZmluZSBhIG5ldyBBLUZlYXR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IERlZmluZSgpOiB0eXBlb2YgQV9GZWF0dXJlX0RlZmluZSB7XG4gICAgICAgIHJldHVybiBBX0ZlYXR1cmVfRGVmaW5lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dGVuZCBhbiBleGlzdGluZyBBLUZlYXR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IEV4dGVuZCgpOiB0eXBlb2YgQV9GZWF0dXJlX0V4dGVuZCB7XG4gICAgICAgIHJldHVybiBBX0ZlYXR1cmVfRXh0ZW5kO1xuICAgIH1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBJbnRlcm5hbCBQcm9wZXJ0aWVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBGZWF0dXJlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9uYW1lITogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIExpc3Qgb2Ygc3RhZ2VzIHRoYXQgYXJlIHBhcnQgb2YgdGhpcyBGZWF0dXJlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9zdGFnZXM6IEFycmF5PEFfU3RhZ2U+ID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIFN0YWdlIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2N1cnJlbnQ/OiBBX1N0YWdlO1xuICAgIC8qKlxuICAgICAqIEFjdHVhbCBJbmRleCBvZiB0aGUgY3VycmVudCBTdGFnZSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2luZGV4OiBudW1iZXIgPSAwO1xuICAgIC8qKlxuICAgICAqIFN0ZXBzIE1hbmFnZXIgdG8gb3JnYW5pemUgdGhlIHN0ZXBzIGludG8gc3RhZ2VzXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9TTSE6IEFfU3RlcHNNYW5hZ2VyO1xuICAgIC8qKlxuICAgICAqIFRoZSBDYWxsZXIgdGhhdCBpbml0aWF0ZWQgdGhlIEZlYXR1cmUgY2FsbFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfY2FsbGVyITogQV9DYWxsZXI8VD47XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIEZlYXR1cmVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3N0YXRlOiBBX1RZUEVTX19GZWF0dXJlU3RhdGUgPSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuSU5JVElBTElaRUQ7XG4gICAgLyoqXG4gICAgICogVGhlIGVycm9yIHRoYXQgY2F1c2VkIHRoZSBGZWF0dXJlIHRvIGJlIGludGVycnVwdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9lcnJvcj86IEFfRmVhdHVyZUVycm9yXG5cblxuXG4gICAgLyoqXG4gICAgICogQS1GZWF0dXJlIGlzIGEgcGlwZWxpbmUgZGlzdHJpYnV0ZWQgYnkgbXVsdGlwbGUgY29tcG9uZW50cyB0aGF0IGNhbiBiZSBlYXNpbHkgYXR0YWNoZWQgb3IgZGV0YWNoZWQgZnJvbSB0aGUgc2NvcGUuIFxuICAgICAqIEZlYXR1cmUgaXRzZWxmIGRvZXMgbm90IGhhdmUgc2NvcGUsIGJ1dCBhdHRhY2hlZCB0byB0aGUgY2FsbGVyIHdobyBkaWN0YXRlcyBob3cgZmVhdHVyZSBzaG91bGQgYmUgcHJvY2Vzc2VkLiBcbiAgICAgKiBcbiAgICAgKiBDb21wYXJpbmcgdG8gQS1Db21tYW5kIEZlYXR1cmUgZG9lcyBub3Qgc3RvcmUgYW55IHN0YXRlIGV4Y2VwdCBzdGF0dXNlcyBmb3IgYmV0dGVyIGFuYWx5c2lzLiBcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogSWYgQS1GZWF0dXJlIHNob3VsZCBoYXZlIHJlc3VsdCB1c2UgQS1GcmFnbWVudCBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogRmVhdHVyZSBJbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbXM6IEFfVFlQRVNfX0ZlYXR1cmVfSW5pdDxUPlxuICAgICkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlUGFyYW1zKHBhcmFtcyk7XG5cbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZXIgPSB0aGlzLmdldEluaXRpYWxpemVyKHBhcmFtcyk7XG4gICAgICAgIC8vIHRoZSByZXR1cm5lZCBpbml0aWFsaXplciBpcyBhbHJlYWR5IGJvdW5kIHRvIGB0aGlzYCAod2UgdXNlZCAuYmluZCh0aGlzKSksXG4gICAgICAgIC8vIHNvIGNhbGxpbmcgaXQgd2lsbCBydW4gdGhlIGFwcHJvcHJpYXRlIGxvZ2ljIG9uIHRoaXMgaW5zdGFuY2U6XG4gICAgICAgIGluaXRpYWxpemVyLmNhbGwodGhpcywgcGFyYW1zKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBGZWF0dXJlXG4gICAgICovXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMuX25hbWU7IH1cbiAgICAvKipcbiAgICAgKiBUaGUgZXJyb3IgdGhhdCBjYXVzZWQgdGhlIEZlYXR1cmUgdG8gYmUgaW50ZXJydXB0ZWRcbiAgICAgKi9cbiAgICBnZXQgZXJyb3IoKTogQV9GZWF0dXJlRXJyb3IgfCB1bmRlZmluZWQgeyByZXR1cm4gdGhpcy5fZXJyb3I7IH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgRmVhdHVyZVxuICAgICAqL1xuICAgIGdldCBzdGF0ZSgpOiBBX1RZUEVTX19GZWF0dXJlU3RhdGUgeyByZXR1cm4gdGhpcy5fc3RhdGU7IH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBGZWF0dXJlXG4gICAgICovXG4gICAgZ2V0IGluZGV4KCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9pbmRleDsgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgQS1GZWF0dXJlIFN0YWdlXG4gICAgICovXG4gICAgZ2V0IHN0YWdlKCk6IEFfU3RhZ2UgfCB1bmRlZmluZWQgeyByZXR1cm4gdGhpcy5fY3VycmVudDsgfVxuICAgIC8qKlxuICAgICAqIFRoZSBDYWxsZXIgdGhhdCBpbml0aWF0ZWQgdGhlIEZlYXR1cmUgY2FsbFxuICAgICAqL1xuICAgIGdldCBjYWxsZXIoKTogQV9DYWxsZXI8VD4geyByZXR1cm4gdGhpcy5fY2FsbGVyOyB9XG4gICAgLyoqXG4gICAgICogVGhlIFNjb3BlIGFsbG9jYXRlZCBmb3IgdGhlIEZlYXR1cmUgRXhlY3V0aW9uXG4gICAgICovXG4gICAgZ2V0IHNjb3BlKCk6IEFfU2NvcGUgeyByZXR1cm4gQV9Db250ZXh0LnNjb3BlKHRoaXMpOyB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBzdGFnZXMgaW4gdGhlIGZlYXR1cmVcbiAgICAgKi9cbiAgICBnZXQgc2l6ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhZ2VzLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBjaGVja3MgaWYgdGhlIEEtRmVhdHVyZSBpcyBkb25lXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZ2V0IGlzRG9uZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLnN0YWdlXG4gICAgICAgICAgICB8fCB0aGlzLl9pbmRleCA+PSB0aGlzLl9zdGFnZXMubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgZmVhdHVyZSBoYXMgYmVlbiBwcm9jZXNzZWQgKGNvbXBsZXRlZCwgZmFpbGVkLCBvciBpbnRlcnJ1cHRlZClcbiAgICAgKi9cbiAgICBnZXQgaXNQcm9jZXNzZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlID09PSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuQ09NUExFVEVEXG4gICAgICAgICAgICB8fCB0aGlzLnN0YXRlID09PSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuRkFJTEVEXG4gICAgICAgICAgICB8fCB0aGlzLnN0YXRlID09PSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuSU5URVJSVVBURUQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdG9yIHRvIGl0ZXJhdGUgb3ZlciB0aGUgc3RlcHMgb2YgdGhlIGZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYXRvcjxBX1N0YWdlLCBhbnk+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQ6ICgpOiBJdGVyYXRvclJlc3VsdDxBX1N0YWdlLCBhbnk+ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNEb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSB0aGlzLl9zdGFnZXNbdGhpcy5faW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmRleCsrO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5fY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IHVuZGVmaW5lZDsgLy8gUmVzZXQgY3VycmVudCBvbiBlbmRcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBJbml0aWFsaXphdGlvbiBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzIGZvciBBLUZlYXR1cmUgaW5pdGlhbGl6YXRpb25cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCB2YWxpZGF0ZVBhcmFtcyhcbiAgICAgICAgcGFyYW1zOiBBX1RZUEVTX19GZWF0dXJlX0luaXQ8VD5cbiAgICApIHtcbiAgICAgICAgaWYgKCFwYXJhbXMgfHwgdHlwZW9mIHBhcmFtcyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICBBX0ZlYXR1cmVFcnJvci5GZWF0dXJlSW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgSW52YWxpZCBBLUZlYXR1cmUgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVycyBvZiB0eXBlOiAke3R5cGVvZiBwYXJhbXN9IHdpdGggdmFsdWU6ICR7SlNPTi5zdHJpbmdpZnkocGFyYW1zKS5zbGljZSgwLCAxMDApfS4uLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYXBwcm9wcmlhdGUgaW5pdGlhbGl6ZXIgbWV0aG9kIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtcyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0SW5pdGlhbGl6ZXIoXG4gICAgICAgIHBhcmFtczogQV9UWVBFU19fRmVhdHVyZV9Jbml0PFQ+XG4gICAgKTogKHBhcmFtMTogYW55KSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpIHtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgISgndGVtcGxhdGUnIGluIHBhcmFtcyk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbUNvbXBvbmVudDtcblxuICAgICAgICAgICAgY2FzZSAndGVtcGxhdGUnIGluIHBhcmFtczpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tVGVtcGxhdGU7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgQV9GZWF0dXJlRXJyb3IuRmVhdHVyZUluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGBJbnZhbGlkIEEtRmVhdHVyZSBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzIG9mIHR5cGU6ICR7dHlwZW9mIHBhcmFtc30gd2l0aCB2YWx1ZTogJHtKU09OLnN0cmluZ2lmeShwYXJhbXMpLnNsaWNlKDAsIDEwMCl9Li4uYFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIEEtRmVhdHVyZSBmcm9tIHRoZSBwcm92aWRlZCB0ZW1wbGF0ZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbXMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGZyb21UZW1wbGF0ZShcbiAgICAgICAgcGFyYW1zOiBBX1RZUEVTX19GZWF0dXJlX0luaXRXaXRoVGVtcGxhdGU8VD5cbiAgICApIHtcbiAgICAgICAgaWYgKCFwYXJhbXMudGVtcGxhdGUgfHwgIUFycmF5LmlzQXJyYXkocGFyYW1zLnRlbXBsYXRlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfRmVhdHVyZUVycm9yKFxuICAgICAgICAgICAgICAgIEFfRmVhdHVyZUVycm9yLkZlYXR1cmVJbml0aWFsaXphdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgIGBJbnZhbGlkIEEtRmVhdHVyZSB0ZW1wbGF0ZSBwcm92aWRlZCBvZiB0eXBlOiAke3R5cGVvZiBwYXJhbXMudGVtcGxhdGV9IHdpdGggdmFsdWU6ICR7SlNPTi5zdHJpbmdpZnkocGFyYW1zLnRlbXBsYXRlKS5zbGljZSgwLCAxMDApfS4uLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXBhcmFtcy5jb21wb25lbnQgJiYgKCFwYXJhbXMuc2NvcGUgfHwgIShwYXJhbXMuc2NvcGUgaW5zdGFuY2VvZiBBX1Njb3BlKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICBBX0ZlYXR1cmVFcnJvci5GZWF0dXJlSW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgSW52YWxpZCBBLUZlYXR1cmUgc2NvcGUgcHJvdmlkZWQgb2YgdHlwZTogJHt0eXBlb2YgcGFyYW1zLnNjb3BlfSB3aXRoIHZhbHVlOiAke0pTT04uc3RyaW5naWZ5KHBhcmFtcy5zY29wZSkuc2xpY2UoMCwgMTAwKX0uLi5gXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMSkgc2F2ZSBmZWF0dXJlIG5hbWVcbiAgICAgICAgdGhpcy5fbmFtZSA9IHBhcmFtcy5uYW1lO1xuXG4gICAgICAgIC8vIDIpIGdldCBzY29wZSBmcm9tIHdoZXJlIGZlYXR1cmUgaXMgY2FsbGVkXG4gICAgICAgIC8vIDIpIGdldCBzY29wZSBmcm9tIHdoZXJlIGZlYXR1cmUgaXMgY2FsbGVkXG4gICAgICAgIGxldCBjb21wb25lbnRTY29wZTogQV9TY29wZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gIHVzZXMgdG8gZXh0ZW5kIGEgY29tcG9uZW50IHNjb3BlIGlmIGNvbXBvbmVudCBpcyBub3QgcmVnaXN0ZXJlZCBpbiB0aGUgY29udGV4dFxuICAgICAgICBsZXQgZXh0ZXJuYWxTY29wZTogQV9TY29wZSB8IHVuZGVmaW5lZCA9IHBhcmFtcy5zY29wZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5jb21wb25lbnQpXG4gICAgICAgICAgICAgICAgY29tcG9uZW50U2NvcGUgPSBBX0NvbnRleHQuc2NvcGUocGFyYW1zLmNvbXBvbmVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoIWV4dGVybmFsU2NvcGUpXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tcG9uZW50U2NvcGUgJiYgZXh0ZXJuYWxTY29wZSAmJiAhZXh0ZXJuYWxTY29wZS5pc0luaGVyaXRlZEZyb20oY29tcG9uZW50U2NvcGUpKSB7XG4gICAgICAgICAgICBleHRlcm5hbFNjb3BlLmluaGVyaXQoY29tcG9uZW50U2NvcGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMykgY3JlYXRlIGNhbGxlciB3cmFwcGVyIGZvciB0aGUgc2ltcGxlIGluamVjdGlvbiBvZiB0aGUgY2FsbGVyIGNvbXBvbmVudFxuICAgICAgICAvLyAgIC0gSnVzdCB0byBwcmV2ZW50IGlzc3VlcyB3aXRoIHVuZGVmaW5lZCBjYWxsZXIgaW4gZmVhdHVyZXMgd2l0aG91dCBjb21wb25lbnRcbiAgICAgICAgLy8gICAtIFRPRE86IG1heWJlIHdvdWxkIGJlIGJldHRlciB0byBhbGxvdyBwYXNzaW5nIGNhbGxlciBpbiBwYXJhbXM/XG4gICAgICAgIHRoaXMuX2NhbGxlciA9IG5ldyBBX0NhbGxlcjxUPihwYXJhbXMuY29tcG9uZW50IHx8IG5ldyBBX0NvbXBvbmVudCgpIGFzIFQpO1xuXG4gICAgICAgIC8vIDQpIGFsbG9jYXRlIG5ldyBzY29wZSBmb3IgdGhlIGZlYXR1cmVcbiAgICAgICAgY29uc3Qgc2NvcGUgPSBBX0NvbnRleHQuYWxsb2NhdGUodGhpcyk7XG5cbiAgICAgICAgLy8gNSkgZW5zdXJlIHRoYXQgdGhlIHNjb3BlIG9mIHRoZSBjYWxsZXIgY29tcG9uZW50IGlzIGluaGVyaXRlZCBieSB0aGUgZmVhdHVyZSBzY29wZVxuICAgICAgICBzY29wZS5pbmhlcml0KGNvbXBvbmVudFNjb3BlIHx8IGV4dGVybmFsU2NvcGUhKTtcblxuICAgICAgICAvLyA2KSBjcmVhdGUgc3RlcHMgbWFuYWdlciB0byBvcmdhbml6ZSBzdGVwcyBpbnRvIHN0YWdlc1xuICAgICAgICB0aGlzLl9TTSA9IG5ldyBBX1N0ZXBzTWFuYWdlcihwYXJhbXMudGVtcGxhdGUpO1xuXG4gICAgICAgIC8vIDcpIGNyZWF0ZSBzdGFnZXMgZnJvbSB0aGUgc3RlcHNcbiAgICAgICAgdGhpcy5fc3RhZ2VzID0gdGhpcy5fU00udG9TdGFnZXModGhpcyk7XG5cbiAgICAgICAgLy8gOCkgc2V0IHRoZSBmaXJzdCBzdGFnZSBhcyBjdXJyZW50XG4gICAgICAgIHRoaXMuX2N1cnJlbnQgPSB0aGlzLl9zdGFnZXNbMF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBBLUZlYXR1cmUgZnJvbSB0aGUgcHJvdmlkZWQgY29tcG9uZW50XG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtcyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZnJvbUNvbXBvbmVudChcbiAgICAgICAgcGFyYW1zOiBBX1RZUEVTX19GZWF0dXJlX0luaXRXaXRoQ29tcG9uZW50PFQ+XG4gICAgKSB7XG4gICAgICAgIGlmICghcGFyYW1zLmNvbXBvbmVudCB8fCAhQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckZlYXR1cmVEZWZpbml0aW9uKHBhcmFtcy5jb21wb25lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9GZWF0dXJlRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9GZWF0dXJlRXJyb3IuRmVhdHVyZUluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEludmFsaWQgQS1GZWF0dXJlIGNvbXBvbmVudCBwcm92aWRlZCBvZiB0eXBlOiAke3R5cGVvZiBwYXJhbXMuY29tcG9uZW50fSB3aXRoIHZhbHVlOiAke0pTT04uc3RyaW5naWZ5KHBhcmFtcy5jb21wb25lbnQpLnNsaWNlKDAsIDEwMCl9Li4uYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDEpIHNhdmUgZmVhdHVyZSBuYW1lXG4gICAgICAgIHRoaXMuX25hbWUgPSBwYXJhbXMubmFtZTtcblxuICAgICAgICAvLyAyKSBnZXQgc2NvcGUgZnJvbSB3aGVyZSBmZWF0dXJlIGlzIGNhbGxlZFxuICAgICAgICBsZXQgY29tcG9uZW50U2NvcGU6IEFfU2NvcGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIC8vICB1c2VzIHRvIGV4dGVuZCBhIGNvbXBvbmVudCBzY29wZSBpZiBjb21wb25lbnQgaXMgbm90IHJlZ2lzdGVyZWQgaW4gdGhlIGNvbnRleHRcbiAgICAgICAgbGV0IGV4dGVybmFsU2NvcGU6IEFfU2NvcGUgfCB1bmRlZmluZWQgPSBwYXJhbXMuc2NvcGU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbXBvbmVudFNjb3BlID0gQV9Db250ZXh0LnNjb3BlKHBhcmFtcy5jb21wb25lbnQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKCFleHRlcm5hbFNjb3BlKVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudFNjb3BlICYmIGV4dGVybmFsU2NvcGUgJiYgIWV4dGVybmFsU2NvcGUuaXNJbmhlcml0ZWRGcm9tKGNvbXBvbmVudFNjb3BlKSkge1xuICAgICAgICAgICAgZXh0ZXJuYWxTY29wZS5pbmhlcml0KGNvbXBvbmVudFNjb3BlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDMpIGNyZWF0ZSBjYWxsZXIgd3JhcHBlciBmb3IgdGhlIHNpbXBsZSBpbmplY3Rpb24gb2YgdGhlIGNhbGxlciBjb21wb25lbnRcbiAgICAgICAgdGhpcy5fY2FsbGVyID0gbmV3IEFfQ2FsbGVyPFQ+KHBhcmFtcy5jb21wb25lbnQpO1xuXG4gICAgICAgIC8vIDQpIGFsbG9jYXRlIG5ldyBzY29wZSBmb3IgdGhlIGZlYXR1cmVcbiAgICAgICAgY29uc3Qgc2NvcGUgPSBBX0NvbnRleHQuYWxsb2NhdGUodGhpcyk7XG5cbiAgICAgICAgLy8gNSkgZW5zdXJlIHRoYXQgdGhlIHNjb3BlIG9mIHRoZSBjYWxsZXIgY29tcG9uZW50IGlzIGluaGVyaXRlZCBieSB0aGUgZmVhdHVyZSBzY29wZVxuICAgICAgICBzY29wZS5pbmhlcml0KGNvbXBvbmVudFNjb3BlIHx8IGV4dGVybmFsU2NvcGUhKTtcblxuICAgICAgICAvLyA2KSByZXRyaWV2ZSB0aGUgdGVtcGxhdGUgZnJvbSB0aGUgY29udGV4dFxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IEFfQ29udGV4dC5mZWF0dXJlVGVtcGxhdGUodGhpcy5fbmFtZSwgdGhpcy5fY2FsbGVyLmNvbXBvbmVudCwgc2NvcGUpO1xuXG4gICAgICAgIC8vIDcpIGNyZWF0ZSBzdGVwcyBtYW5hZ2VyIHRvIG9yZ2FuaXplIHN0ZXBzIGludG8gc3RhZ2VzXG4gICAgICAgIHRoaXMuX1NNID0gbmV3IEFfU3RlcHNNYW5hZ2VyKHRlbXBsYXRlKTtcblxuICAgICAgICAvLyA4KSBjcmVhdGUgc3RhZ2VzIGZyb20gdGhlIHN0ZXBzXG4gICAgICAgIHRoaXMuX3N0YWdlcyA9IHRoaXMuX1NNLnRvU3RhZ2VzKHRoaXMpO1xuXG4gICAgICAgIC8vIDkpIHNldCB0aGUgZmlyc3Qgc3RhZ2UgYXMgY3VycmVudFxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5fc3RhZ2VzWzBdO1xuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIE1haW4gUHJvY2Vzc2luZyBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcHJvY2Vzc2VzIHRoZSBmZWF0dXJlIGJ5IGV4ZWN1dGluZyBhbGwgdGhlIHN0YWdlc1xuICAgICAqIFxuICAgICAqL1xuICAgIGFzeW5jIHByb2Nlc3MoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPcHRpb25hbCBzY29wZSB0byBiZSB1c2VkIHRvIHJlc29sdmUgdGhlIHN0ZXBzIGRlcGVuZGVuY2llc1xuICAgICAgICAgKiBJZiBub3QgcHJvdmlkZWQsIHRoZSBzY29wZSBvZiB0aGUgY2FsbGVyIGNvbXBvbmVudCB3aWxsIGJlIHVzZWRcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEl0IHNlZW1zIGxpa2UgdGhpcyBpcyBhIGJhZCBpZGVhIHRvIGVuZm9yY2Ugc2NvcGUgaW5oZXJpdGFuY2UgaGVyZVxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyBpZiAoc2NvcGUgJiYgIXNjb3BlLmlzSW5oZXJpdGVkRnJvbShBX0NvbnRleHQuc2NvcGUodGhpcykpKVxuICAgICAgICAgICAgLy8gICAgIHNjb3BlLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNQcm9jZXNzZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IEFfVFlQRVNfX0ZlYXR1cmVTdGF0ZS5QUk9DRVNTSU5HO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN0YWdlIG9mIHRoaXMpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBzdGFnZS5wcm9jZXNzKHNjb3BlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY29tcGxldGVkKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mYWlsZWQobmV3IEFfRmVhdHVyZUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9GZWF0dXJlRXJyb3IuRmVhdHVyZVByb2Nlc3NpbmdFcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHByb2Nlc3NpbmcgdGhlIEEtRmVhdHVyZTogJHt0aGlzLm5hbWV9LiBGYWlsZWQgYXQgc3RhZ2U6ICR7dGhpcy5zdGFnZT8ubmFtZSB8fCAnTi9BJ30uYCxcbiAgICAgICAgICAgICAgICBzdGFnZTogdGhpcy5zdGFnZSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgbW92ZXMgdGhlIGZlYXR1cmUgdG8gdGhlIG5leHQgc3RhZ2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RhZ2UgXG4gICAgICovXG4gICAgbmV4dChzdGFnZSkge1xuICAgICAgICBjb25zdCBzdGFnZUluZGV4ID0gdGhpcy5fc3RhZ2VzLmluZGV4T2Yoc3RhZ2UpO1xuXG4gICAgICAgIHRoaXMuX2luZGV4ID0gc3RhZ2VJbmRleCArIDE7XG5cbiAgICAgICAgaWYgKHRoaXMuX2luZGV4ID49IHRoaXMuX3N0YWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgbWFya3MgdGhlIGZlYXR1cmUgYXMgY29tcGxldGVkIGFuZCByZXR1cm5zIHRoZSByZXN1bHRcbiAgICAgKiBVc2VzIHRvIGludGVycnVwdCBvciBlbmQgdGhlIGZlYXR1cmUgcHJvY2Vzc2luZ1xuICAgICAqIFxuICAgICAqIEBwYXJhbSByZXN1bHQgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgY29tcGxldGVkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5pc1Byb2Nlc3NlZCkgcmV0dXJuO1xuXG5cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuQ09NUExFVEVEO1xuXG4gICAgICAgIHRoaXMuc2NvcGUuZGVzdHJveSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBtYXJrcyB0aGUgZmVhdHVyZSBhcyBmYWlsZWQgYW5kIHRocm93cyBhbiBlcnJvclxuICAgICAqIFVzZXMgdG8gbWFyayB0aGUgZmVhdHVyZSBhcyBmYWlsZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXJyb3IgXG4gICAgICovXG4gICAgYXN5bmMgZmFpbGVkKGVycm9yOiBBX0ZlYXR1cmVFcnJvcikge1xuICAgICAgICBpZiAodGhpcy5pc1Byb2Nlc3NlZCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3N0YXRlID0gQV9UWVBFU19fRmVhdHVyZVN0YXRlLkZBSUxFRDtcblxuICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuXG4gICAgICAgIHRoaXMuc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgIHRocm93IHRoaXMuX2Vycm9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBtYXJrcyB0aGUgZmVhdHVyZSBhcyBmYWlsZWQgYW5kIHRocm93cyBhbiBlcnJvclxuICAgICAqIFVzZXMgdG8gaW50ZXJydXB0IG9yIGVuZCB0aGUgZmVhdHVyZSBwcm9jZXNzaW5nXG4gICAgICogXG4gICAgICogQHBhcmFtIGVycm9yIFxuICAgICAqL1xuICAgIGFzeW5jIGludGVycnVwdChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZWFzb24gb2YgZmVhdHVyZSBpbnRlcnJ1cHRpb25cbiAgICAgICAgICovXG4gICAgICAgIHJlYXNvbj86IHN0cmluZyB8IEFfU3RhZ2VFcnJvciB8IEVycm9yXG4gICAgKSB7XG4gICAgICAgIGlmICh0aGlzLmlzUHJvY2Vzc2VkKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuSU5URVJSVVBURUQ7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1N0cmluZyhyZWFzb24pOlxuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gbmV3IEFfRmVhdHVyZUVycm9yKEFfRmVhdHVyZUVycm9yLkludGVycnVwdGlvbiwgcmVhc29uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFcnJvckluc3RhbmNlKHJlYXNvbik6XG4gICAgICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSBuZXcgQV9GZWF0dXJlRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBBX0ZlYXR1cmVFcnJvci5JbnRlcnJ1cHRpb24sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiByZWFzb24udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZWFzb24uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIHN0YWdlOiB0aGlzLnN0YWdlLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiByZWFzb25cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdGhpcy5zY29wZS5kZXN0cm95KCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gY2hhaW4gdGhlIGZlYXR1cmUgdG8gYW5vdGhlciBmZWF0dXJlLiBcbiAgICAgKiBJbiB0aGlzIGNhc2UgdGhlIHBhcmVudCBmZWF0dXJlIHNjb3BlIChpZiBuZXcgbm90IHByb3ZpZGVkKSwgc3RhZ2VzLCBjYWxsZXIgd2lsbCBiZSB1c2VkLlxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBDaGFpbmVkIGZlYXR1cmUgd2lsbCB1c2UgdGhlIHNhbWUgY2FsbGVyIGFzIHRoZSBwYXJlbnQgZmVhdHVyZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZmVhdHVyZSBcbiAgICAgKi9cbiAgICBjaGFpbihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgRmVhdHVyZSB0byBiZSBjaGFpbmVkXG4gICAgICAgICAqL1xuICAgICAgICBmZWF0dXJlOiBBX0ZlYXR1cmUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPcHRpb25hbCBzY29wZSB0byBiZSB1c2VkIGZvciB0aGUgY2hhaW5lZCBmZWF0dXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlXG4gICAgKVxuICAgIGNoYWluPFQgZXh0ZW5kcyBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyA9IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbXBvbmVudCB3aG9zZSBmZWF0dXJlIHNob3VsZCBiZSBjaGFpbmVkXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzLFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBGZWF0dXJlIE5hbWUgdG8gYmUgY2hhaW5lZFxuICAgICAgICAgKi9cbiAgICAgICAgZmVhdHVyZTogc3RyaW5nLFxuICAgICAgICAvKipcbiAgICAgICAgICogT3B0aW9uYWwgc2NvcGUgdG8gYmUgdXNlZCBmb3IgdGhlIGNoYWluZWQgZmVhdHVyZS5cbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlPzogQV9TY29wZVxuICAgIClcbiAgICBjaGFpbjxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIHBhcmFtMTogQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgfCBBX0ZlYXR1cmUsXG4gICAgICAgIHBhcmFtMj86IHN0cmluZyB8IEFfU2NvcGUsXG4gICAgICAgIHBhcmFtMz86IEFfU2NvcGVcbiAgICApIHtcbiAgICAgICAgbGV0IGZlYXR1cmU6IEFfRmVhdHVyZTtcbiAgICAgICAgbGV0IHNjb3BlOiBBX1Njb3BlIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChwYXJhbTEgaW5zdGFuY2VvZiBBX0ZlYXR1cmUpIHtcbiAgICAgICAgICAgIGZlYXR1cmUgPSBwYXJhbTE7XG4gICAgICAgICAgICBzY29wZSA9IHBhcmFtMiBpbnN0YW5jZW9mIEFfU2NvcGUgPyBwYXJhbTIgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmZWF0dXJlID0gbmV3IEFfRmVhdHVyZSh7XG4gICAgICAgICAgICAgICAgbmFtZTogcGFyYW0yIGFzIHN0cmluZyxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IHBhcmFtMSBhcyBUXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNjb3BlID0gcGFyYW0zIGluc3RhbmNlb2YgQV9TY29wZSA/IHBhcmFtMyA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZlYXR1cmVTY29wZSA9IHNjb3BlIHx8IHRoaXMuc2NvcGU7XG5cbiAgICAgICAgLy8gY3JlYXRlIG5ldyBjYWxsZXIgZm9yIHRoZSBjaGFpbmVkIGZlYXR1cmVcbiAgICAgICAgZmVhdHVyZS5fY2FsbGVyID0gdGhpcy5fY2FsbGVyO1xuXG4gICAgICAgIHJldHVybiBmZWF0dXJlLnByb2Nlc3MoZmVhdHVyZVNjb3BlKTtcbiAgICB9XG5cblxuXG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYEEtRmVhdHVyZSgke3RoaXMuY2FsbGVyLmNvbXBvbmVudD8uY29uc3RydWN0b3I/Lm5hbWUgfHwgJ1Vua25vd24nfTo6JHt0aGlzLm5hbWV9KWA7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiLi4vQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9GZWF0dXJlIH0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUuY2xhc3NcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLmNsYXNzXCI7XG5cblxuXG4vKipcbiAqIEEtQ29tcG9uZW50IGlzIGEgcHJpbWFyeSBcImV4dGVuZGFibGVcIiBvYmplY3QgaW4gdGhlIHN5c3RlbVxuICogQSB1bmlxdWUgY29tYmluYXRpb24gb2YgQ29tcG9uZW50cyBjcmVhdGVzIGNvbXBsZXRlbHkgbmV3IGZ1bmN0aW9uYWxpdHlcbiAqIFxuICogVGhlIG1vc3QgaW1wb3J0YW50IHRoaW5nIGlzIHRoYXQgQS1Db21wb25lbnQgaXMgU1RBVEVMRVNTLCBpdCBtZWFucyB0aGF0IGl0IGRvZXNuJ3Qgc3RvcmUgYW55IHN0YXRlIGluIGl0c2VsZlxuICogXG4gKiBcbiAqIFshXSBFdmVyeSBBLUNvbXBvbmVudCBpcyBhIHNpbmdsZXRvbiwgc28gaWYgeW91IG5lZWQgdG8gY3JlYXRlIG11bHRpcGxlIGluc3RhbmNlcyBvZiB0aGUgc2FtZSBsb2dpYyAtIHVzZSBBLUNvbnRhaW5lclxuICogWyFdIFNvIG9uZSBzY29wZSBjYW4gaGF2ZSBvbmx5IG9uZSBpbnN0YW5jZSBvZiB0aGUgc2FtZSBBLUNvbXBvbmVudFxuICogWyFdIEV2ZXJ5IEEtQ29tcG9uZW50IGNhbiBiZSBleHRlbmRlZCBieSBmZWF0dXJlcyBhbmQgZXh0ZW5zaW9uc1xuICogWyFdIE9OTFkgQS1Db21wb25lbnQgY2FuIGhhdmUgQS1GZWF0dXJlIGV4dGVuc2lvbnNcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBBX0NvbXBvbmVudCB7XG5cblxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBmZWF0dXJlIHdpdGggdGhlIGdpdmVuIG5hbWUgaW4gdGhlIGdpdmVuIHNjb3BlXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IFRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIGZlYXR1cmUgZXZlcnkgdGltZSBpdCBpcyBjYWxsZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZmVhdHVyZSAtIHRoZSBuYW1lIG9mIHRoZSBmZWF0dXJlIHRvIGNhbGxcbiAgICAgKiBAcGFyYW0gc2NvcGUgIC0gdGhlIHNjb3BlIGluIHdoaWNoIHRvIGNhbGwgdGhlIGZlYXR1cmVcbiAgICAgKiBAcmV0dXJucyAgLSB2b2lkXG4gICAgICovXG4gICAgYXN5bmMgY2FsbChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5hbWUgb2YgdGhlIGZlYXR1cmUgdG8gY2FsbFxuICAgICAgICAgKi9cbiAgICAgICAgZmVhdHVyZTogc3RyaW5nLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2NvcGUgaW4gd2hpY2ggdGhlIGZlYXR1cmUgd2lsbCBiZSBleGVjdXRlZFxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IG5ld0ZlYXR1cmUgPSBuZXcgQV9GZWF0dXJlKHtcbiAgICAgICAgICAgIG5hbWU6IGZlYXR1cmUsXG4gICAgICAgICAgICBjb21wb25lbnQ6IHRoaXNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ld0ZlYXR1cmUucHJvY2VzcyhzY29wZSk7XG4gICAgfVxufVxuXG5cblxuIiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9Db250ZXh0RXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuXG4gICAgc3RhdGljIE5vdEFsbG93ZWRGb3JTY29wZUFsbG9jYXRpb25FcnJvciA9ICdDb21wb25lbnQgaXMgbm90IGFsbG93ZWQgZm9yIHNjb3BlIGFsbG9jYXRpb24nO1xuXG4gICAgc3RhdGljIENvbXBvbmVudEFscmVhZHlIYXNTY29wZUFsbG9jYXRlZEVycm9yID0gJ0NvbXBvbmVudCBhbHJlYWR5IGhhcyBzY29wZSBhbGxvY2F0ZWQnO1xuXG4gICAgc3RhdGljIEludmFsaWRNZXRhUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IG1ldGEnO1xuXG4gICAgc3RhdGljIEludmFsaWRTY29wZVBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBzY29wZSc7XG5cbiAgICBzdGF0aWMgU2NvcGVOb3RGb3VuZEVycm9yID0gJ1Njb3BlIG5vdCBmb3VuZCc7XG5cbiAgICBzdGF0aWMgSW52YWxpZEZlYXR1cmVQYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgZmVhdHVyZSc7XG5cbiAgICBzdGF0aWMgSW52YWxpZEZlYXR1cmVEZWZpbml0aW9uUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZGVmaW5lIGZlYXR1cmUnO1xuXG4gICAgc3RhdGljIEludmFsaWRGZWF0dXJlVGVtcGxhdGVQYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZSc7XG5cbiAgICBzdGF0aWMgSW52YWxpZEZlYXR1cmVFeHRlbnNpb25QYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBleHRlbmQgZmVhdHVyZSc7XG5cblxuICAgIHN0YXRpYyBJbnZhbGlkQWJzdHJhY3Rpb25QYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgYWJzdHJhY3Rpb24nO1xuXG4gICAgc3RhdGljIEludmFsaWRBYnN0cmFjdGlvbkRlZmluaXRpb25QYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBkZWZpbmUgYWJzdHJhY3Rpb24nO1xuXG4gICAgc3RhdGljIEludmFsaWRBYnN0cmFjdGlvblRlbXBsYXRlUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IGFic3RyYWN0aW9uIHRlbXBsYXRlJztcblxuICAgIHN0YXRpYyBJbnZhbGlkQWJzdHJhY3Rpb25FeHRlbnNpb25QYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBleHRlbmQgYWJzdHJhY3Rpb24nO1xuXG4gICAgc3RhdGljIEludmFsaWRJbmplY3Rpb25QYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgaW5qZWN0aW9ucyc7XG5cbiAgICBzdGF0aWMgSW52YWxpZEV4dGVuc2lvblBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBleHRlbnNpb25zJztcblxuXG4gICAgc3RhdGljIEludmFsaWRSZWdpc3RlclBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIHJlZ2lzdGVyIGNvbXBvbmVudCc7XG5cblxuICAgIHN0YXRpYyBJbnZhbGlkQ29tcG9uZW50UGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBjb21wb25lbnQgcHJvdmlkZWQnO1xuXG4gICAgc3RhdGljIENvbXBvbmVudE5vdFJlZ2lzdGVyZWRFcnJvciA9ICdDb21wb25lbnQgbm90IHJlZ2lzdGVyZWQgaW4gdGhlIGNvbnRleHQnO1xuXG4gICAgc3RhdGljIEludmFsaWREZXJlZ2lzdGVyUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZGVyZWdpc3RlciBjb21wb25lbnQnO1xufSIsICJpbXBvcnQge1xuICAgIEFfVFlQRVNfX1Njb3BlX0luaXQsXG4gICAgQV9UWVBFU19fU2NvcGVDb25maWcsXG4gICAgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzLFxuICAgIEFfVFlQRVNfU2NvcGVEZXBlbmRlbnRDb21wb25lbnRzXG59IGZyb20gXCIuLi9BLVNjb3BlL0EtU2NvcGUudHlwZXNcIjtcbmltcG9ydCB7XG4gICAgQV9UWVBFU19fTWV0YUxpbmtlZENvbXBvbmVudENvbnN0cnVjdG9ycyxcbiAgICBBX1RZUEVTX19NZXRhTGlua2VkQ29tcG9uZW50c1xufSBmcm9tIFwiLi4vQS1NZXRhL0EtTWV0YS50eXBlc1wiO1xuaW1wb3J0IHtcbiAgICBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgICBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YVxufSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9Db21wb25lbnQgfSBmcm9tIFwiLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQuY2xhc3NcIjtcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbnRhaW5lciB9IGZyb20gXCIuLi9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9TY29wZSB9IGZyb20gXCIuLi9BLVNjb3BlL0EtU2NvcGUuY2xhc3NcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCIuLi9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbXBvbmVudE1ldGEgfSBmcm9tIFwiLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQubWV0YVwiO1xuaW1wb3J0IHsgQV9Db250YWluZXJNZXRhIH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLm1ldGFcIjtcbmltcG9ydCB7IEFfRW50aXR5IH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0VudGl0eU1ldGEgfSBmcm9tIFwiLi4vQS1FbnRpdHkvQS1FbnRpdHkubWV0YVwiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9TdGFnZVN0ZXAgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvY29uc3RhbnRzL2Vudi5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0VudGl0eU1ldGFLZXkgfSBmcm9tIFwiLi4vQS1FbnRpdHkvQS1FbnRpdHkuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRleHRFbnZpcm9ubWVudCB9IGZyb20gXCIuL0EtQ29udGV4dC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX0NvbnRleHRFcnJvciB9IGZyb20gXCIuL0EtQ29udGV4dC5lcnJvclwiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyX0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vQS1FbnRpdHkvQS1FbnRpdHkudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Gb3JtYXR0ZXJIZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfRm9ybWF0dGVyLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9GcmFnbWVudCB9IGZyb20gXCIuLi9BLUZyYWdtZW50L0EtRnJhZ21lbnQuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzIH0gZnJvbSBcIi4uL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zIH0gZnJvbSBcIi4uL0EtQ29uY2VwdC9BLUNvbmNlcHQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9Db250ZXh0IHtcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gU1RBVElDIFBST1BFUlRJRVMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IG5hbWUgb2YgdGhlIGFwcGxpY2F0aW9uIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGUgQV9DT05DRVBUX05BTUVcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvICdhLWNvbmNlcHQnXG4gICAgICovXG4gICAgc3RhdGljIGdldCBjb25jZXB0KCkge1xuICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnZbQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0NPTkNFUFRfTkFNRV0gfHwgJ2EtY29uY2VwdCc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvb3Qgc2NvcGUgb2YgdGhlIGFwcGxpY2F0aW9uIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGUgQV9DT05DRVBUX1JPT1RfU0NPUEVcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvICdyb290J1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgcm9vdCgpOiBBX1Njb3BlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoKS5fcm9vdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW52aXJvbm1lbnQgdGhlIGFwcGxpY2F0aW9uIGlzIHJ1bm5pbmcgaW4uXG4gICAgICogQ2FuIGJlIGVpdGhlciAnc2VydmVyJyBvciAnYnJvd3NlcicuXG4gICAgICogWyFdIERldGVybWluZWQgYnkgY2hlY2tpbmcgaWYgJ3dpbmRvdycgb2JqZWN0IGlzIGF2YWlsYWJsZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGVudmlyb25tZW50KCk6IEFfVFlQRVNfX0NvbnRleHRFbnZpcm9ubWVudCB7XG4gICAgICAgIGxldCB0ZXN0RW52aXJvbm1lbnQ6IEFfVFlQRVNfX0NvbnRleHRFbnZpcm9ubWVudCA9ICdicm93c2VyJztcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGVzdEVudmlyb25tZW50ID0gd2luZG93LmxvY2F0aW9uID8gJ2Jyb3dzZXInIDogJ3NlcnZlcic7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0ZXN0RW52aXJvbm1lbnQgPSAnc2VydmVyJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXN0RW52aXJvbm1lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2luZ2xldG9uIGluc3RhbmNlIG9mIHRoZSBDb250ZXh0XG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBBX0NvbnRleHQ7XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IElOVEVSTkFMIFJFR0lTVFJZID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogUm9vdCBTY29wZSBvZiB0aGUgQ29uY2VwdCBhbmQgRW52aXJvbm1lbnRcbiAgICAgKlxuICAgICAqIFJvb3Qgc2NvcGUgaXMgdGhlIHRvcC1sZXZlbCBzY29wZSB0aGF0IGFsbCBvdGhlciBzY29wZXMgaW5oZXJpdCBmcm9tLlxuICAgICAqIEl0IHN0b3JlcyBnbG9iYWwgY29uZmlndXJhdGlvbnMgYW5kIHNldHRpbmdzIGFuZCBBTEwgU0hBUkVBQkxFIFJFU09VUkNFUy5cbiAgICAgKiBcbiAgICAgKiBbIV0gUm9vdCBzY29wZSBpcyBjcmVhdGVkIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgQ29udGV4dCBpcyBpbml0aWFsaXplZC5cbiAgICAgKiBbIV0gUm9vdCBzY29wZSBuYW1lIGNhbiBiZSBjb25maWd1cmVkIHVzaW5nIGVudmlyb25tZW50IHZhcmlhYmxlIEFfQ09OQ0VQVF9ST09UX1NDT1BFXG4gICAgICovXG4gICAgcHJpdmF0ZSBfcm9vdCE6IEFfU2NvcGVcbiAgICAvKipcbiAgICAgKiBBIHJlZ2lzdHJ5IHRoYXQga2VlcHMgdHJhY2sgb2Ygc2NvcGVzIGZvciBhbGwgY29tcG9uZW50cyAoQ29udGFpbmVycywgRmVhdHVyZXMsIENvbW1hbmRzKSBcbiAgICAgKiBXaGljaCBjYW4gaXNzdWUgYSBzY29wZSBhbGxvY2F0aW9uLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfcmVnaXN0cnk6IFdlYWtNYXA8QV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzLCBBX1Njb3BlPiA9IG5ldyBXZWFrTWFwKCk7XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhIHJlZ2lzdHJ5IHRoYXQgc3RvcmVzIGFuIGlzc3VlciBvZiBlYWNoIHNjb3BlIGFsbG9jYXRpb24uXG4gICAgICogSXQgaGVscHMgdG8gdHJhY2sgd2hpY2ggY29tcG9uZW50IChDb250YWluZXIsIEZlYXR1cmUsIENvbW1hbmQpIGFsbG9jYXRlZCBhIHNwZWNpZmljIHNjb3BlLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfc2NvcGVJc3N1ZXJzOiBXZWFrTWFwPEFfU2NvcGUsIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cz4gPSBuZXcgV2Vha01hcCgpO1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyBhIGNvbnRleHQgYXNzb2NpYXRlZCB3aXRoIGEgc3BlY2lmaWMgY29tcG9uZW50IHRoYXQgZGVwZW5kcyBvbiBhIHNjb3BlLlxuICAgICAqIHVzZXMgZm9yIHF1aWNrIHJldHJpZXZhbCBvZiB0aGUgc2NvcGUgZm9yIHRoZSBjb21wb25lbnQuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9zY29wZVN0b3JhZ2U6IFdlYWtNYXA8QV9UWVBFU19TY29wZURlcGVuZGVudENvbXBvbmVudHMsIEFfU2NvcGU+ID0gbmV3IFdlYWtNYXAoKTtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgbWV0YSBpbmZvcm1hdGlvbiBmb3IgZGlmZmVyZW50IGNvbXBvbmVudCB0eXBlcyBieSB0aGVpciBjb25zdHJ1Y3RvcnMuXG4gICAgICogTWV0YSBwcm92aWRlcyB0byBzdG9yZSBleHRyYSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY2xhc3MgYmVoYXZpb3IgYW5kIGNvbmZpZ3VyYXRpb24uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9tZXRhU3RvcmFnZTogTWFwPEFfVFlQRVNfX01ldGFMaW5rZWRDb21wb25lbnRDb25zdHJ1Y3RvcnMsIEFfTWV0YT4gPSBuZXcgTWFwKCk7XG5cblxuXG4gICAgLyoqXG4gICAgICogUHJpdmF0ZSBjb25zdHJ1Y3RvciB0byBlbmZvcmNlIHNpbmdsZXRvbiBwYXR0ZXJuLlxuICAgICAqIFxuICAgICAqIFshXSBUaGlzIGNsYXNzIHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LiBVc2UgQV9Db250ZXh0LmdldEluc3RhbmNlKCkgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBsZXQgbmFtZSA9ICdyb290JztcblxuICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJylcbiAgICAgICAgICAgIG5hbWUgPSBwcm9jZXNzLmVudltBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTLkFfQ09OQ0VQVF9ST09UX1NDT1BFXSB8fCAncm9vdCc7XG5cbiAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ2Jyb3dzZXInKVxuICAgICAgICAgICAgbmFtZSA9ICh3aW5kb3cgYXMgYW55KVtBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTLkFfQ09OQ0VQVF9ST09UX1NDT1BFXSB8fCAncm9vdCc7XG5cbiAgICAgICAgdGhpcy5fcm9vdCA9IG5ldyBBX1Njb3BlKHsgbmFtZSB9KTtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbnN0YW5jZSBvZiB0aGUgTmFtZXNwYWNlIFByb3ZpZGVyLlxuICAgICAqIFxuICAgICAqIElmIHRoZSBpbnN0YW5jZSBkb2VzIG5vdCBleGlzdCwgaXQgd2lsbCBiZSBjcmVhdGVkLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCFBX0NvbnRleHQuX2luc3RhbmNlKSB7XG4gICAgICAgICAgICBBX0NvbnRleHQuX2luc3RhbmNlID0gbmV3IEFfQ29udGV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5faW5zdGFuY2U7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIG1ldGhvZCBhbGxvd3MgdG8gcmVnaXN0ZXIgYSBjb21wb25lbnQgd2l0aCBhIHNwZWNpZmljIHNjb3BlIGluIHRoZSBjb250ZXh0LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgLSBDb21wb25lbnQgdG8gcmVnaXN0ZXIgd2l0aCBhIHNwZWNpZmljIHNjb3BlLiBDYW4gYmUgZWl0aGVyIEFfQ29udGFpbmVyLCBBX0ZlYXR1cmUuXG4gICAgICogQHBhcmFtIHNjb3BlIC0gU2NvcGUgdG8gYXNzb2NpYXRlIHRoZSBjb21wb25lbnQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVnaXN0ZXIoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBzY29wZSB0aGF0IHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBjb21wb25lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBzY29wZTogQV9TY29wZSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdGhhdCBuZWVkcyB0byBiZSByZWdpc3RlcmVkIHdpdGggYSBzcGVjaWZpYyBzY29wZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19TY29wZURlcGVuZGVudENvbXBvbmVudHMsXG5cbiAgICApOiBBX1Njb3BlIHtcbiAgICAgICAgLy8gdXNlcyBvbmx5IGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQpO1xuXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgIGlmICghY29tcG9uZW50KSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICBBX0NvbnRleHRFcnJvci5JbnZhbGlkUmVnaXN0ZXJQYXJhbWV0ZXJFcnJvcixcbiAgICAgICAgICAgIGBVbmFibGUgdG8gcmVnaXN0ZXIgY29tcG9uZW50LiBDb21wb25lbnQgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuXG4gICAgICAgIGlmICghc2NvcGUpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLkludmFsaWRSZWdpc3RlclBhcmFtZXRlckVycm9yLFxuICAgICAgICAgICAgYFVuYWJsZSB0byByZWdpc3RlciBjb21wb25lbnQuIFNjb3BlIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcblxuICAgICAgICBpZiAoIXRoaXMuaXNBbGxvd2VkVG9CZVJlZ2lzdGVyZWQoY29tcG9uZW50KSkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAgICAgQV9Db250ZXh0RXJyb3IuTm90QWxsb3dlZEZvclNjb3BlQWxsb2NhdGlvbkVycm9yLFxuICAgICAgICAgICAgYENvbXBvbmVudCAke2NvbXBvbmVudE5hbWV9IGlzIG5vdCBhbGxvd2VkIGZvciBzY29wZSBhbGxvY2F0aW9uLmApO1xuXG4gICAgICAgIGluc3RhbmNlLl9zY29wZVN0b3JhZ2Uuc2V0KGNvbXBvbmVudCwgc2NvcGUpO1xuXG4gICAgICAgIHJldHVybiBzY29wZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXJlZ2lzdGVyIG1ldGhvZCBhbGxvd3MgdG8gZGVyZWdpc3RlciBhIGNvbXBvbmVudCBmcm9tIHRoZSBjb250ZXh0LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgLSBDb21wb25lbnQgdG8gZGVyZWdpc3RlciBmcm9tIHRoZSBjb250ZXh0LlxuICAgICAqL1xuICAgIHN0YXRpYyBkZXJlZ2lzdGVyKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCB0aGF0IG5lZWRzIHRvIGJlIGRlcmVnaXN0ZXJlZCBmcm9tIHRoZSBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX1Njb3BlRGVwZW5kZW50Q29tcG9uZW50cyxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgLy8gdXNlcyBvbmx5IGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQpO1xuXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgIGlmICghY29tcG9uZW50KSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICBBX0NvbnRleHRFcnJvci5JbnZhbGlkRGVyZWdpc3RlclBhcmFtZXRlckVycm9yLFxuICAgICAgICAgICAgYFVuYWJsZSB0byBkZXJlZ2lzdGVyIGNvbXBvbmVudC4gQ29tcG9uZW50IGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcblxuICAgICAgICBpZiAoIWluc3RhbmNlLl9zY29wZVN0b3JhZ2UuaGFzKGNvbXBvbmVudCkpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLkNvbXBvbmVudE5vdFJlZ2lzdGVyZWRFcnJvcixcbiAgICAgICAgICAgIGBVbmFibGUgdG8gZGVyZWdpc3RlciBjb21wb25lbnQuIENvbXBvbmVudCAke2NvbXBvbmVudE5hbWV9IGlzIG5vdCByZWdpc3RlcmVkLmApO1xuXG4gICAgICAgIGluc3RhbmNlLl9zY29wZVN0b3JhZ2UuZGVsZXRlKGNvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb2NhdGUgbWV0aG9kIGluc3RhbnRpYXRlcyBhIG5ldyBzY29wZSBmb3IgdGhlIGdpdmVuIGNvbXBvbmVudCBhbmQgcmVnaXN0ZXJzIGl0IGluIHRoZSBjb250ZXh0LlxuICAgICAqIEl0IGJvdW5kcyB0aGUgY29tcG9uZW50IChDb250YWluZXIsIEZlYXR1cmUpIHRvIGEgbmV3IHNjb3BlIHRoYXQgY2FuIGJlIGNvbmZpZ3VyZWQgYW5kIHVzZWQgaW5kZXBlbmRlbnRseS5cbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IC0gQ29tcG9uZW50IHRvIGFsbG9jYXRlIHRoZSBzY29wZSBmb3IuIENhbiBiZSBlaXRoZXIgQV9Db250YWluZXIsIEFfRmVhdHVyZS5cbiAgICAgKiBAcGFyYW0gaW1wb3J0aW5nICAtIENvbmZpZ3VyYXRpb24gb2YgdGhlIHNjb3BlIHRoYXQgd2lsbCBiZSBjcmVhdGVkIGZvciB0aGUgY29tcG9uZW50LlxuICAgICAqL1xuICAgIHN0YXRpYyBhbGxvY2F0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdGhhdCBuZWVkcyBhIHNjb3BlIGFsbG9jYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyxcbiAgICApOiBBX1Njb3BlXG4gICAgc3RhdGljIGFsbG9jYXRlKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCB0aGF0IG5lZWRzIGEgc2NvcGUgYWxsb2NhdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzLFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgc2NvcGUgdGhhdCB3aWxsIGJlIHVzZWQgYXMgYSBiYXNlIGZvciB0aGUgbmV3IHNjb3BlLlxuICAgICAgICAgKi9cbiAgICAgICAgaW1wb3J0aW5nOiBBX1Njb3BlXG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBhbGxvY2F0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdGhhdCBuZWVkcyBhIHNjb3BlIGFsbG9jYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgY29uZmlndXJhdGlvbiBmb3IgdGhlIHNjb3BlIHRoYXQgd2lsbCBiZSBjcmVhdGVkIGZvciB0aGUgY29tcG9uZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnOiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlX0luaXQgJiBBX1RZUEVTX19TY29wZUNvbmZpZz5cbiAgICApOiBBX1Njb3BlXG4gICAgc3RhdGljIGFsbG9jYXRlKFxuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyxcbiAgICAgICAgaW1wb3J0aW5nPzogUGFydGlhbDxBX1RZUEVTX19TY29wZV9Jbml0ICYgQV9UWVBFU19fU2NvcGVDb25maWc+IHwgQV9TY29wZVxuICAgICk6IEFfU2NvcGUge1xuICAgICAgICAvLyB1c2VzIG9ubHkgZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKGNvbXBvbmVudCk7XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1JbnB1dCBWYWxpZGF0aW9uLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gMSkgY2hlY2sgaWYgY29tcG9uZW50IGlzIHZhbGlkXG4gICAgICAgIGlmICghdGhpcy5pc0FsbG93ZWRGb3JTY29wZUFsbG9jYXRpb24oY29tcG9uZW50KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5Ob3RBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uRXJyb3IsIGBDb21wb25lbnQgb2YgdHlwZSAke2NvbXBvbmVudE5hbWV9IGlzIG5vdCBhbGxvd2VkIGZvciBzY29wZSBhbGxvY2F0aW9uLiBPbmx5IEFfQ29udGFpbmVyLCBBX0ZlYXR1cmUgYXJlIGFsbG93ZWQuYCk7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgIC8vIDIpIGNoZWNrIGlmIGNvbXBvbmVudCBhbHJlYWR5IGhhcyBhIHNjb3BlIGFsbG9jYXRlZFxuICAgICAgICBpZiAoaW5zdGFuY2UuX3JlZ2lzdHJ5Lmhhcyhjb21wb25lbnQpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkNvbXBvbmVudEFscmVhZHlIYXNTY29wZUFsbG9jYXRlZEVycm9yLCBgQ29tcG9uZW50ICR7Y29tcG9uZW50TmFtZX0gYWxyZWFkeSBoYXMgYSBzY29wZSBhbGxvY2F0ZWQuYCk7XG5cblxuICAgICAgICAvLyAzKSBDcmVhdGUgYSBuZXcgc2NvcGUgZm9yIHRoZSBjb21wb25lbnRcbiAgICAgICAgY29uc3QgbmV3U2NvcGUgPSBBX1R5cGVHdWFyZHMuaXNTY29wZUluc3RhbmNlKGltcG9ydGluZylcbiAgICAgICAgICAgID8gaW1wb3J0aW5nXG4gICAgICAgICAgICA6IG5ldyBBX1Njb3BlKGltcG9ydGluZyB8fCB7XG4gICAgICAgICAgICAgICAgbmFtZTogY29tcG9uZW50TmFtZSArICctc2NvcGUnXG4gICAgICAgICAgICB9LCBpbXBvcnRpbmcpO1xuXG4gICAgICAgIC8vIDQpIE1ha2Ugc3VyZSB0aGF0IHRoZSBuZXcgc2NvcGUgaW5oZXJpdHMgZnJvbSB0aGUgcm9vdCBzY29wZVxuICAgICAgICBpZiAoIW5ld1Njb3BlLmlzSW5oZXJpdGVkRnJvbShBX0NvbnRleHQucm9vdCkpXG4gICAgICAgICAgICBuZXdTY29wZS5pbmhlcml0KEFfQ29udGV4dC5yb290KTtcblxuICAgICAgICAvLyA1KSBSZWdpc3RlciB0aGUgY29tcG9uZW50IGluIHRoZSBhcHByb3ByaWF0ZSBzdG9yYWdlXG4gICAgICAgIGluc3RhbmNlLl9yZWdpc3RyeS5zZXQoY29tcG9uZW50LCBuZXdTY29wZSk7XG4gICAgICAgIC8vIEFsc28gcmVnaXN0ZXIgdGhlIGlzc3VlciBvZiB0aGUgc2NvcGUgZm9yIGZhc3RlciB0cmFja2luZ1xuICAgICAgICBpbnN0YW5jZS5fc2NvcGVJc3N1ZXJzLnNldChuZXdTY29wZSwgY29tcG9uZW50KTtcblxuICAgICAgICAvLyA2KSBSZXR1cm4gdGhlIG5ld2x5IGNyZWF0ZWQgc2NvcGVcbiAgICAgICAgcmV0dXJuIG5ld1Njb3BlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYWxsb2NhdGUgbWV0aG9kIHJlbW92ZXMgdGhlIHNjb3BlIGFsbG9jYXRpb24gZm9yIHRoZSBnaXZlbiBjb21wb25lbnQgZnJvbSB0aGUgY29udGV4dC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBkZWFsbG9jYXRlKFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBTY29wZSB0aGF0IG5lZWRzIHRvIGJlIGRlYWxsb2NhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU6IEFfU2NvcGUsXG4gICAgKVxuICAgIHN0YXRpYyBkZWFsbG9jYXRlKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCB0aGF0IG5lZWRzIHRvIGhhdmUgaXRzIHNjb3BlIGRlYWxsb2NhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMsXG4gICAgKVxuICAgIHN0YXRpYyBkZWFsbG9jYXRlKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCB0aGF0IG5lZWRzIHRvIGhhdmUgaXRzIHNjb3BlIGRlYWxsb2NhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW0xOiBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMgfCBBX1Njb3BlLFxuICAgICkge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IEFfVHlwZUd1YXJkcy5pc1Njb3BlSW5zdGFuY2UocGFyYW0xKVxuICAgICAgICAgICAgPyBwYXJhbTFcbiAgICAgICAgICAgIDogaW5zdGFuY2UuX3JlZ2lzdHJ5LmdldChwYXJhbTEpO1xuXG4gICAgICAgIGlmICghc2NvcGUpIHJldHVybjtcblxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZShwYXJhbTEpXG4gICAgICAgICAgICA/IHBhcmFtMVxuICAgICAgICAgICAgOiB0aGlzLmlzc3VlcihzY29wZSk7XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudClcbiAgICAgICAgICAgIGluc3RhbmNlLl9yZWdpc3RyeS5kZWxldGUoY29tcG9uZW50KTtcbiAgICAgICAgaWYgKHNjb3BlKVxuICAgICAgICAgICAgaW5zdGFuY2UuX3Njb3BlSXNzdWVycy5kZWxldGUoc2NvcGUpO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgICogR2V0IG9yIENyZWF0ZSBNZXRhIGZvciB0aGUgc3BlY2lmaWMgY2xhc3Mgb3IgaW5zdGFuY2UuXG4gICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBleGlzdGluZyBtZXRhIGlmIGl0IGV4aXN0cywgb3IgY3JlYXRlIGEgbmV3IG9uZSBpZiBpdCBkb2Vzbid0LlxuICAgICAgKiBcbiAgICAgICogTWV0YSBvYmplY3QgY29udGFpbnMgY3VzdG9tIG1ldGFkYXRhIGJhc2VkIG9uIHRoZSBjbGFzcyB0eXBlLlxuICAgICAgKiBcbiAgICAgICogQHBhcmFtIGNvbnRhaW5lciBcbiAgICAgICovXG4gICAgc3RhdGljIG1ldGEoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgbWV0YSBmb3IgdGhlIHNwZWNpZmljIGNvbnRhaW5lciBjbGFzcyBieSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnRhaW5lcjogQV9UWVBFU19fQ29udGFpbmVyX0NvbnN0cnVjdG9yLFxuICAgICk6IEFfQ29udGFpbmVyTWV0YVxuICAgIHN0YXRpYyBtZXRhKFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IG1ldGEgZm9yIHRoZSBzcGVjaWZpYyBjb250YWluZXIgaW5zdGFuY2UuXG4gICAgICAgICAqL1xuICAgICAgICBjb250YWluZXI6IEFfQ29udGFpbmVyLFxuICAgICk6IEFfQ29udGFpbmVyTWV0YVxuICAgIHN0YXRpYyBtZXRhKFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IG1ldGEgZm9yIHRoZSBzcGVjaWZpYyBlbnRpdHkgY2xhc3MgYnkgY29uc3RydWN0b3IuXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcixcbiAgICApOiBBX0VudGl0eU1ldGFcbiAgICBzdGF0aWMgbWV0YShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBtZXRhIGZvciB0aGUgc3BlY2lmaWMgZW50aXR5IGluc3RhbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX0VudGl0eSxcbiAgICApOiBBX0VudGl0eU1ldGFcbiAgICBzdGF0aWMgbWV0YShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBtZXRhIGZvciB0aGUgc3BlY2lmaWMgY29tcG9uZW50IGNsYXNzIGJ5IGNvbnN0cnVjdG9yLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IsXG4gICAgKTogQV9Db21wb25lbnRNZXRhXG4gICAgc3RhdGljIG1ldGEoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgbWV0YSBmb3IgdGhlIHNwZWNpZmljIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9Db21wb25lbnQsXG4gICAgKTogQV9Db21wb25lbnRNZXRhXG4gICAgc3RhdGljIG1ldGEoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgbWV0YSBmb3IgdGhlIHNwZWNpZmljIGNvbXBvbmVudCBieSBpdHMgbmFtZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogc3RyaW5nLFxuICAgICk6IEFfQ29tcG9uZW50TWV0YVxuICAgIHN0YXRpYyBtZXRhKFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IG1ldGEgZm9yIHRoZSBzcGVjaWZpYyBpbmplY3RhYmxlIHRhcmdldCAoY2xhc3Mgb3IgaW5zdGFuY2UpLlxuICAgICAgICAgKi9cbiAgICAgICAgdGFyZ2V0OiBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyxcbiAgICApOiBBX0NvbXBvbmVudE1ldGFcbiAgICBzdGF0aWMgbWV0YTxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55Pj4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgbWV0YSBmb3IgdGhlIHNwZWNpZmljIGNsYXNzIG9yIGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcjogbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55XG4gICAgKTogQV9NZXRhPFQ+XG5cbiAgICBzdGF0aWMgbWV0YTxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55Pj4oXG4gICAgICAgIHBhcmFtMTogQV9UWVBFU19fTWV0YUxpbmtlZENvbXBvbmVudENvbnN0cnVjdG9yc1xuICAgICAgICAgICAgfCBBX1RZUEVTX19NZXRhTGlua2VkQ29tcG9uZW50c1xuICAgICAgICAgICAgfCBzdHJpbmdcbiAgICApOiBBX01ldGE8VD4ge1xuXG4gICAgICAgIC8vIEdldCB0aGUgY29tcG9uZW50IG5hbWUgZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHBhcmFtMSk7XG4gICAgICAgIC8vIEdldCB0aGUgaW5zdGFuY2Ugb2YgdGhlIGNvbnRleHRcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgaWYgKCFwYXJhbTEpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkTWV0YVBhcmFtZXRlckVycm9yLCBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IG1ldGEuIFBhcmFtZXRlciBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBhcmFtZXRlciBpcyBhbGxvd2VkIGZvciBtZXRhIHN0b3JhZ2VcbiAgICAgICAgaWYgKCEoXG4gICAgICAgICAgICB0aGlzLmlzQWxsb3dlZEZvck1ldGEocGFyYW0xKVxuICAgICAgICAgICAgfHwgdGhpcy5pc0FsbG93ZWRGb3JNZXRhQ29uc3RydWN0b3IocGFyYW0xKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKHBhcmFtMSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0Z1bmN0aW9uKHBhcmFtMVxuICAgICAgICAgICAgKSlcbiAgICAgICAgKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZE1ldGFQYXJhbWV0ZXJFcnJvciwgYEludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBtZXRhLiBDb21wb25lbnQgb2YgdHlwZSAke2NvbXBvbmVudE5hbWV9IGlzIG5vdCBhbGxvd2VkIGZvciBtZXRhIHN0b3JhZ2UuIE9ubHkgQV9Db250YWluZXIsIEFfQ29tcG9uZW50IGFuZCBBX0VudGl0eSBhcmUgYWxsb3dlZC5gKTtcblxuICAgICAgICBsZXQgcHJvcGVydHk6IEFfVFlQRVNfX01ldGFMaW5rZWRDb21wb25lbnRDb25zdHJ1Y3RvcnM7XG4gICAgICAgIGxldCBtZXRhVHlwZTogdHlwZW9mIEFfTWV0YTxUPiB8IHR5cGVvZiBBX0NvbnRhaW5lck1ldGEgfCB0eXBlb2YgQV9Db21wb25lbnRNZXRhIHwgdHlwZW9mIEFfRW50aXR5TWV0YVxuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgLy8gMSkgSWYgcGFyYW0xIGlzIGluc3RhbmNlIG9mIEFfQ29udGFpbmVyXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHBhcmFtMS5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3I7XG4gICAgICAgICAgICAgICAgbWV0YVR5cGUgPSBBX0NvbnRhaW5lck1ldGE7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDIpIElmIHBhcmFtMSBpcyBjbGFzcyBvZiBBX0NvbnRhaW5lclxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJDb25zdHJ1Y3RvcihwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBwYXJhbTEgYXMgdHlwZW9mIEFfQ29udGFpbmVyO1xuICAgICAgICAgICAgICAgIG1ldGFUeXBlID0gQV9Db250YWluZXJNZXRhO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAzKSBJZiBwYXJhbTEgaXMgaW5zdGFuY2Ugb2YgQV9Db21wb25lbnRcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcGFyYW0xLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjtcbiAgICAgICAgICAgICAgICBtZXRhVHlwZSA9IEFfQ29tcG9uZW50TWV0YTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNCkgSWYgcGFyYW0xIGlzIGNsYXNzIG9mIEFfQ29tcG9uZW50XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHBhcmFtMSBhcyB0eXBlb2YgQV9Db21wb25lbnQ7XG4gICAgICAgICAgICAgICAgbWV0YVR5cGUgPSBBX0NvbXBvbmVudE1ldGE7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDUpIElmIHBhcmFtMSBpcyBpbnN0YW5jZSBvZiBBX0VudGl0eVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yO1xuICAgICAgICAgICAgICAgIG1ldGFUeXBlID0gQV9Db21wb25lbnRNZXRhO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA2KSBJZiBwYXJhbTEgaXMgY2xhc3Mgb2YgQV9FbnRpdHlcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5Q29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcGFyYW0xO1xuICAgICAgICAgICAgICAgIG1ldGFUeXBlID0gQV9FbnRpdHlNZXRhO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA3KSBJZiBwYXJhbTEgaXMgc3RyaW5nIHRoZW4gd2UgbmVlZCB0byBmaW5kIHRoZSBjb21wb25lbnQgYnkgaXRzIG5hbWVcbiAgICAgICAgICAgIGNhc2UgdHlwZW9mIHBhcmFtMSA9PT0gJ3N0cmluZyc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IEFycmF5LmZyb20oaW5zdGFuY2UuX21ldGFTdG9yYWdlKVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgoW2NdKSA9PiBjLm5hbWUgPT09IHBhcmFtMVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgYy5uYW1lID09PSBBX0Zvcm1hdHRlckhlbHBlci50b0tlYmFiQ2FzZShwYXJhbTEpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBjLm5hbWUgPT09IEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShwYXJhbTEpXG4gICAgICAgICAgICAgICAgICAgICkhO1xuICAgICAgICAgICAgICAgIGlmICghKGZvdW5kICYmIGZvdW5kLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkTWV0YVBhcmFtZXRlckVycm9yLCBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IG1ldGEuIENvbXBvbmVudCB3aXRoIG5hbWUgJHtwYXJhbTF9IG5vdCBmb3VuZCBpbiB0aGUgbWV0YSBzdG9yYWdlLmApO1xuXG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBmb3VuZFswXTtcbiAgICAgICAgICAgICAgICBtZXRhVHlwZSA9IEFfQ29tcG9uZW50TWV0YTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gOCkgSWYgcGFyYW0xIGlzIGFueSBvdGhlciBjbGFzcyBvciBmdW5jdGlvblxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcGFyYW0xO1xuICAgICAgICAgICAgICAgIG1ldGFUeXBlID0gQV9NZXRhO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgbWV0YSBhbHJlYWR5IGV4aXN0cyBmb3IgdGhlIHByb3BlcnR5LCBpZiBub3QgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICBpZiAoIWluc3RhbmNlLl9tZXRhU3RvcmFnZS5oYXMocHJvcGVydHkpKSB7XG4gICAgICAgICAgICBjb25zdCBpbmhlcml0TWV0YSA9IGluc3RhbmNlLl9tZXRhU3RvcmFnZS5nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3BlcnR5KSkgfHwgbmV3IG1ldGFUeXBlKCk7XG4gICAgICAgICAgICBpbnN0YW5jZS5fbWV0YVN0b3JhZ2Uuc2V0KHByb3BlcnR5LCBuZXcgbWV0YVR5cGUoKS5mcm9tKGluaGVyaXRNZXRhIGFzIGFueSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV0dXJuIHRoZSBtZXRhIGZvciB0aGUgcHJvcGVydHlcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLl9tZXRhU3RvcmFnZS5nZXQocHJvcGVydHkpITtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIGFsbG93cyB0byBnZXQgdGhlIGlzc3VlciBvZiBhIHNwZWNpZmljIHNjb3BlLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzY29wZSAtIFNjb3BlIHRvIGdldCB0aGUgaXNzdWVyIGZvci5cbiAgICAgKiBAcmV0dXJucyAtIENvbXBvbmVudCB0aGF0IGlzc3VlZCB0aGUgc2NvcGUuXG4gICAgICovXG4gICAgc3RhdGljIGlzc3VlcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIHNjb3BlIHRvIGdldCBpdHMgaXNzdWVyLlxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU6IEFfU2NvcGVcbiAgICApOiBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMgfCB1bmRlZmluZWQge1xuXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgIGlmICghc2NvcGUpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLkludmFsaWRDb21wb25lbnRQYXJhbWV0ZXJFcnJvcixcbiAgICAgICAgICAgIGBJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgc2NvcGUgaXNzdWVyLiBQYXJhbWV0ZXIgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmBcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBpZiAoIWluc3RhbmNlLl9zY29wZUlzc3VlcnMuaGFzKHNjb3BlKSkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAvLyAgICAgQV9Db250ZXh0RXJyb3IuU2NvcGVOb3RGb3VuZEVycm9yLFxuICAgICAgICAvLyAgICAgYEludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBzY29wZSBpc3N1ZXIuIFByb3ZpZGVkIHNjb3BlIGRvZXMgbm90IGhhdmUgYW4gaXNzdWVyIHJlZ2lzdGVyZWQuYFxuICAgICAgICAvLyApO1xuXG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5fc2NvcGVJc3N1ZXJzLmdldChzY29wZSkhO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNjb3BlIG9mIHRoZSBzcGVjaWZpYyBjbGFzcyBvciBpbnN0YW5jZS5cbiAgICAgKiBcbiAgICAgKiBFdmVyeSBleGVjdXRpb24gaW4gQ29uY2VwdCBoYXMgaXRzIG93biBzY29wZS5cbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiB0aGUgc2NvcGUgb2YgdGhlIHNwZWNpZmljIGNsYXNzIG9yIGluc3RhbmNlLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBlbnRpdHkgXG4gICAgICovXG4gICAgc3RhdGljIHNjb3BlPFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSB0byBnZXQgaXRzIHNjb3BlLlxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBUXG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBzY29wZTxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCB0byBnZXQgaXRzIHNjb3BlLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBUXG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBzY29wZTxUIGV4dGVuZHMgQV9Db250YWluZXI+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbnRhaW5lciB0byBnZXQgaXRzIHNjb3BlLlxuICAgICAgICAgKi9cbiAgICAgICAgY29udGFpbmVyOiBUXG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBzY29wZTxUIGV4dGVuZHMgQV9GZWF0dXJlPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBmZWF0dXJlIHRvIGdldCBpdHMgc2NvcGUuXG4gICAgICAgICAqL1xuICAgICAgICBmZWF0dXJlOiBUXG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBzY29wZTxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgdG8gZ2V0IGl0cyBzY29wZS5cbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBUXG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBzY29wZTxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHwgQV9UWVBFU19TY29wZURlcGVuZGVudENvbXBvbmVudHM+KFxuICAgICAgICBwYXJhbTE6IFRcbiAgICApOiBBX1Njb3BlIHtcblxuICAgICAgICAvLyBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgbmFtZSA9IChwYXJhbTEgYXMgYW55KT8uY29uc3RydWN0b3I/Lm5hbWUgfHwgU3RyaW5nKHBhcmFtMSk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBpbnN0YW5jZSBvZiB0aGUgY29udGV4dFxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAvLyBJbnB1dCB2YWxpZGF0aW9uXG4gICAgICAgIGlmICghcGFyYW0xKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZFNjb3BlUGFyYW1ldGVyRXJyb3IsIGBJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgc2NvcGUuIFBhcmFtZXRlciBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBhcmFtZXRlciBpcyBhbGxvd2VkIGZvciBzY29wZSBhbGxvY2F0aW9uXG4gICAgICAgIGlmICghdGhpcy5pc0FsbG93ZWRGb3JTY29wZUFsbG9jYXRpb24ocGFyYW0xKVxuICAgICAgICAgICAgJiYgIXRoaXMuaXNBbGxvd2VkVG9CZVJlZ2lzdGVyZWQocGFyYW0xKVxuICAgICAgICApXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZFNjb3BlUGFyYW1ldGVyRXJyb3IsIGBJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgc2NvcGUuIENvbXBvbmVudCBvZiB0eXBlICR7bmFtZX0gaXMgbm90IGFsbG93ZWQgZm9yIHNjb3BlIGFsbG9jYXRpb24uYCk7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIHRoaXMuaXNBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uKHBhcmFtMSk6XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgcGFyYW1ldGVyIGhhcyBhIHNjb3BlIGFsbG9jYXRlZFxuICAgICAgICAgICAgICAgIGlmICghaW5zdGFuY2UuX3JlZ2lzdHJ5LmhhcyhwYXJhbTEpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBBX0NvbnRleHRFcnJvci5TY29wZU5vdEZvdW5kRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IHNjb3BlLiBDb21wb25lbnQgb2YgdHlwZSAke25hbWV9IGRvZXMgbm90IGhhdmUgYSBzY29wZSBhbGxvY2F0ZWQuIE1ha2Ugc3VyZSB0byBhbGxvY2F0ZSBhIHNjb3BlIHVzaW5nIEFfQ29udGV4dC5hbGxvY2F0ZSgpIG1ldGhvZCBiZWZvcmUgdHJ5aW5nIHRvIGdldCB0aGUgc2NvcGUuYFxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciBpcyBhbGxvd2VkIGZvciBzY29wZSBhbGxvY2F0aW9uLCByZXR1cm4gdGhlIHNjb3BlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLl9yZWdpc3RyeS5nZXQocGFyYW0xKSE7XG5cbiAgICAgICAgICAgIGNhc2UgdGhpcy5pc0FsbG93ZWRUb0JlUmVnaXN0ZXJlZChwYXJhbTEpOlxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBhcmFtZXRlciBoYXMgYSBzY29wZSByZWdpc3RlcmVkXG4gICAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5fc2NvcGVTdG9yYWdlLmhhcyhwYXJhbTEpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBBX0NvbnRleHRFcnJvci5TY29wZU5vdEZvdW5kRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IHNjb3BlLiBDb21wb25lbnQgb2YgdHlwZSAke25hbWV9IGRvZXMgbm90IGhhdmUgYSBzY29wZSByZWdpc3RlcmVkLiBNYWtlIHN1cmUgdG8gcmVnaXN0ZXIgdGhlIGNvbXBvbmVudCB1c2luZyBBX0NvbnRleHQucmVnaXN0ZXIoKSBtZXRob2QgYmVmb3JlIHRyeWluZyB0byBnZXQgdGhlIHNjb3BlLmBcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwYXJhbWV0ZXIgaXMgYWxsb3dlZCB0byBiZSByZWdpc3RlcmVkLCByZXR1cm4gdGhlIHNjb3BlIGZyb20gdGhlIHN0b3JhZ2VcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2UuX3Njb3BlU3RvcmFnZS5nZXQocGFyYW0xKSE7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkU2NvcGVQYXJhbWV0ZXJFcnJvciwgYEludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBzY29wZS4gQ29tcG9uZW50IG9mIHR5cGUgJHtuYW1lfSBpcyBub3QgYWxsb3dlZCB0byBiZSByZWdpc3RlcmVkLmApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBGRUFUVVJFIE1BTkFHRU1FTlQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1QcmltYXJ5IE1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdGVtcGxhdGUgb2YgdGhlIGZlYXR1cmUgdGhhdCBjYW4gYmUgdGhlbiB1c2VkIHRvIGNyZWF0ZSBhIG5ldyBBLUZlYXR1cmUgSW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogU3RlcHMvU3RhZ2VzIGluY2x1ZGVkIGFyZSBmdWxseSBkZXBlbmRlbnQgb24gdGhlIHNjb3BlIHByb3ZpZGVkIHNpbmNlIGl0IGRpY3RhdGVzIHdoaWNoIGNvbXBvbmVudHMgYXJlIGFjdGl2ZSBhbmQgY2FuIHByb3ZpZGUgZXh0ZW5zaW9ucyBmb3IgdGhlIGZlYXR1cmUuXG4gICAgICogXG4gICAgICogQHBhcmFtIG5hbWUgXG4gICAgICovXG4gICAgc3RhdGljIGZlYXR1cmVUZW1wbGF0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIG5hbWUgb2YgdGhlIGZlYXR1cmUgdG8gZ2V0IHRoZSB0ZW1wbGF0ZSBmb3IuIFJlZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIGFsc28gc3VwcG9ydGVkIHRvIG1hdGNoIG11bHRpcGxlIGZlYXR1cmVzLlxuICAgICAgICAgKi9cbiAgICAgICAgbmFtZTogc3RyaW5nIHwgUmVnRXhwLFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgY29tcG9uZW50IHRvIGdldCB0aGUgZmVhdHVyZSB0ZW1wbGF0ZSBmcm9tLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIHNjb3BlIHRoYXQgZGljdGF0ZXMgd2hpY2ggY29tcG9uZW50cyBhcmUgYWN0aXZlIGFuZCBjYW4gcHJvdmlkZSBleHRlbnNpb25zIGZvciB0aGUgZmVhdHVyZS5cbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlOiBBX1Njb3BlID0gdGhpcy5zY29wZShjb21wb25lbnQpXG4gICAgKTogQXJyYXk8QV9UWVBFU19fQV9TdGFnZVN0ZXA+IHtcbiAgICAgICAgLy8gbmFtZSBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KTtcblxuICAgICAgICAvLyBJbnB1dCB2YWxpZGF0aW9uXG4gICAgICAgIGlmICghY29tcG9uZW50KSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVUZW1wbGF0ZVBhcmFtZXRlckVycm9yLCBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBDb21wb25lbnQgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuICAgICAgICBpZiAoIW5hbWUpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkRmVhdHVyZVRlbXBsYXRlUGFyYW1ldGVyRXJyb3IsIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIEZlYXR1cmUgbmFtZSBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBhcmFtZXRlciBpcyBhbGxvd2VkIGZvciBmZWF0dXJlIGRlZmluaXRpb25cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNBbGxvd2VkRm9yRmVhdHVyZURlZmluaXRpb24oY29tcG9uZW50KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkRmVhdHVyZVRlbXBsYXRlUGFyYW1ldGVyRXJyb3IsIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIENvbXBvbmVudCBvZiB0eXBlICR7Y29tcG9uZW50TmFtZX0gaXMgbm90IGFsbG93ZWQgZm9yIGZlYXR1cmUgZGVmaW5pdGlvbi5gKTtcblxuICAgICAgICBjb25zdCBzdGVwczogQV9UWVBFU19fQV9TdGFnZVN0ZXBbXSA9IFtcbiAgICAgICAgICAgIC8vIDEpIEdldCB0aGUgYmFzZSBmZWF0dXJlIGRlZmluaXRpb24gZnJvbSB0aGUgY29tcG9uZW50XG4gICAgICAgICAgICAuLi50aGlzLmZlYXR1cmVEZWZpbml0aW9uKG5hbWUsIGNvbXBvbmVudCksXG4gICAgICAgICAgICAvLyAyKSBHZXQgYWxsIGV4dGVuc2lvbnMgZm9yIHRoZSBmZWF0dXJlIGZyb20gb3RoZXIgY29tcG9uZW50cyBpbiB0aGUgc2NvcGVcbiAgICAgICAgICAgIC4uLnRoaXMuZmVhdHVyZUV4dGVuc2lvbnMobmFtZSwgY29tcG9uZW50LCBzY29wZSlcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gc3RlcHM7XG4gICAgfVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUhlbHBlciBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWxsIGV4dGVuc2lvbnMgZm9yIHRoZSBzcGVjaWZpYyBmZWF0dXJlIGluIHRoZSBzcGVjaWZpYyBjb21wb25lbnQgd2l0aGluIHRoZSBwcm92aWRlZCBzY29wZS5cbiAgICAgKiBTY29wZSBkaWN0YXRlcyB3aGljaCBjb21wb25lbnRzIGFyZSBhY3RpdmUgYW5kIGNhbiBwcm92aWRlIGV4dGVuc2lvbnMgZm9yIHRoZSBmZWF0dXJlLlxuICAgICAqIFxuICAgICAqIFshXSBUaGlzIG1ldGhvZCBvbmx5IHJldHVybnMgZXh0ZW5zaW9ucywgbm90IHRoZSBiYXNlIGZlYXR1cmUgZGVmaW5pdGlvbi5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGZlYXR1cmVFeHRlbnNpb25zKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgbmFtZSBvZiB0aGUgZmVhdHVyZSB0byBnZXQgdGhlIHRlbXBsYXRlIGZvci4gUmVndWxhciBleHByZXNzaW9ucyBhcmUgYWxzbyBzdXBwb3J0ZWQgdG8gbWF0Y2ggbXVsdGlwbGUgZmVhdHVyZXMuXG4gICAgICAgICAqL1xuICAgICAgICBuYW1lOiBzdHJpbmcgfCBSZWdFeHAsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBjb21wb25lbnQgdG8gZ2V0IHRoZSBmZWF0dXJlIHRlbXBsYXRlIGZyb20uXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzLFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgc2NvcGUgdGhhdCBkaWN0YXRlcyB3aGljaCBjb21wb25lbnRzIGFyZSBhY3RpdmUgYW5kIGNhbiBwcm92aWRlIGV4dGVuc2lvbnMgZm9yIHRoZSBmZWF0dXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU6IEFfU2NvcGVcbiAgICApOiBBcnJheTxBX1RZUEVTX19BX1N0YWdlU3RlcD4ge1xuXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAvLyBuYW1lIGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQpO1xuXG4gICAgICAgIC8vIElucHV0IHZhbGlkYXRpb25cbiAgICAgICAgaWYgKCFjb21wb25lbnQpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkRmVhdHVyZUV4dGVuc2lvblBhcmFtZXRlckVycm9yLCBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBDb21wb25lbnQgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuICAgICAgICBpZiAoIW5hbWUpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkRmVhdHVyZUV4dGVuc2lvblBhcmFtZXRlckVycm9yLCBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBGZWF0dXJlIG5hbWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwYXJhbWV0ZXIgaXMgYWxsb3dlZCBmb3IgZmVhdHVyZSBkZWZpbml0aW9uXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckZlYXR1cmVEZWZpbml0aW9uKGNvbXBvbmVudCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVFeHRlbnNpb25QYXJhbWV0ZXJFcnJvciwgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQ29tcG9uZW50IG9mIHR5cGUgJHtjb21wb25lbnROYW1lfSBpcyBub3QgYWxsb3dlZCBmb3IgZmVhdHVyZSBkZWZpbml0aW9uLmApO1xuXG5cbiAgICAgICAgY29uc3QgY2FsbE5hbWVzID0gQV9Db21tb25IZWxwZXIuZ2V0Q2xhc3NJbmhlcml0YW5jZUNoYWluKGNvbXBvbmVudClcbiAgICAgICAgICAgIC5maWx0ZXIoYyA9PiBjICE9PSBBX0NvbXBvbmVudCAmJiBjICE9PSBBX0NvbnRhaW5lciAmJiBjICE9PSBBX0VudGl0eSlcbiAgICAgICAgICAgIC5tYXAoYyA9PiBgJHtjLm5hbWV9LiR7bmFtZX1gKTtcblxuICAgICAgICAvLyBjb25zdCBjYWxsTmFtZSA9IGAke2NvbXBvbmVudC5jb25zdHJ1Y3Rvci5uYW1lfS4ke25hbWV9YDtcblxuICAgICAgICBjb25zdCBzdGVwczogQV9UWVBFU19fQV9TdGFnZVN0ZXBbXSA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3QgY2FsbE5hbWUgb2YgY2FsbE5hbWVzKSB7XG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGdldCBhbGwgY29tcG9uZW50cyB0aGF0IGhhcyBleHRlbnNpb25zIGZvciB0aGUgZmVhdHVyZSBpbiBjb21wb25lbnRcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2NtcCwgbWV0YV0gb2YgaW5zdGFuY2UuX21ldGFTdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgLy8gSnVzdCB0cnkgdG8gbWFrZSBzdXJlIHRoYXQgY29tcG9uZW50IG5vdCBvbmx5IEluZGV4ZWQgYnV0IGFsc28gcHJlc2VudGVkIGluIHNjb3BlXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmhhcyhjbXApICYmIChcbiAgICAgICAgICAgICAgICAgICAgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50TWV0YUluc3RhbmNlKG1ldGEpXG4gICAgICAgICAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lck1ldGFJbnN0YW5jZShtZXRhKVxuICAgICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGFsbCBleHRlbnNpb25zIGZvciB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgICAgICAgICBtZXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAuZXh0ZW5zaW9ucyhjYWxsTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChkZWNsYXJhdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IGNtcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGVjbGFyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5maWx0ZXJUb01vc3REZXJpdmVkKHNjb3BlLCBzdGVwcyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBtZXRob2QgaGVscHMgdG8gZmlsdGVyIHN0ZXBzIGluIGEgd2F5IHRoYXQgb25seSB0aGUgbW9zdCBkZXJpdmVkIGNsYXNzZXMgYXJlIGtlcHQuXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlIFxuICAgICAqIEBwYXJhbSBpdGVtcyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcml2YXRlIGZpbHRlclRvTW9zdERlcml2ZWQoXG4gICAgICAgIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBpdGVtczogQV9UWVBFU19fQV9TdGFnZVN0ZXBbXSk6IEFycmF5PEFfVFlQRVNfX0FfU3RhZ2VTdGVwPiB7XG4gICAgICAgIHJldHVybiBpdGVtcy5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q2xhc3MgPSB0eXBlb2YgaXRlbS5jb21wb25lbnQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyBzY29wZS5yZXNvbHZlQ29uc3RydWN0b3IoaXRlbS5jb21wb25lbnQpXG4gICAgICAgICAgICAgICAgOiBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZShpdGVtLmNvbXBvbmVudClcbiAgICAgICAgICAgICAgICAgICAgPyBpdGVtLmNvbXBvbmVudC5jb25zdHJ1Y3RvciA6IGl0ZW0uY29tcG9uZW50O1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGNsYXNzIGlzIHBhcmVudCBvZiBhbnkgb3RoZXIgaW4gdGhlIGxpc3RcbiAgICAgICAgICAgIGNvbnN0IGlzUGFyZW50T2ZBbm90aGVyID0gaXRlbXMuc29tZShvdGhlciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyID09PSBpdGVtKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlckNsYXNzID0gdHlwZW9mIG90aGVyLmNvbXBvbmVudCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyBzY29wZS5yZXNvbHZlQ29uc3RydWN0b3Iob3RoZXIuY29tcG9uZW50KVxuICAgICAgICAgICAgICAgICAgICA6IEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKG90aGVyLmNvbXBvbmVudClcbiAgICAgICAgICAgICAgICAgICAgICAgID8gb3RoZXIuY29tcG9uZW50LmNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG90aGVyLmNvbXBvbmVudDtcblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRDbGFzcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvdGhlckNsYXNzLnByb3RvdHlwZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gS2VlcCBvbmx5IGNsYXNzZXMgdGhhdCBhcmUgbm90IHBhcmVudCBvZiBhbnkgb3RoZXJcbiAgICAgICAgICAgIHJldHVybiAhaXNQYXJlbnRPZkFub3RoZXI7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmVhdHVyZSB0ZW1wbGF0ZSBkZWZpbml0aW9uIHdpdGhvdXQgYW55IGV4dGVuc2lvbnMuXG4gICAgICogSXQgY2FuIGJlIHVzZWQgdG8gcmV0cmlldmUgdGhlIGJhc2UgdGVtcGxhdGUgZm9yIGEgZmVhdHVyZSBiZWZvcmUgYW55IG1vZGlmaWNhdGlvbnMgYXJlIGFwcGxpZWQuXG4gICAgICogXG4gICAgICogWyFdIFRoaXMgbWV0aG9kIGRvZXMgbm90IGNvbnNpZGVyIGV4dGVuc2lvbnMgZnJvbSBvdGhlciBjb21wb25lbnRzLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBmZWF0dXJlIFxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGZlYXR1cmVEZWZpbml0aW9uKFxuICAgICAgICAvKipcbiAgICAgICAgICogTmFtZSBvZiB0aGUgZmVhdHVyZSB0byBnZXQgdGhlIHRlbXBsYXRlIGZvci5cbiAgICAgICAgICogUmVndWxhciBleHByZXNzaW9ucyBhcmUgYWxzbyBzdXBwb3J0ZWQgdG8gbWF0Y2ggbXVsdGlwbGUgZmVhdHVyZXMuXG4gICAgICAgICAqL1xuICAgICAgICBmZWF0dXJlOiBzdHJpbmcgfCBSZWdFeHAsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wb25lbnQgdG8gZ2V0IHRoZSBmZWF0dXJlIHRlbXBsYXRlIGZyb20uXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzLFxuICAgICk6IEFycmF5PEFfVFlQRVNfX0FfU3RhZ2VTdGVwPiB7XG4gICAgICAgIGxldCBtZXRhS2V5O1xuXG4gICAgICAgIGlmICghZmVhdHVyZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkRmVhdHVyZVRlbXBsYXRlUGFyYW1ldGVyRXJyb3IsIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIEZlYXR1cmUgbmFtZSBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG4gICAgICAgIGlmICghY29tcG9uZW50KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkludmFsaWRGZWF0dXJlVGVtcGxhdGVQYXJhbWV0ZXJFcnJvciwgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQ29tcG9uZW50IGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcblxuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBjb21wb25lbnQgaW5zdGFuY2VvZiBBX0VudGl0eTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fRW50aXR5TWV0YUtleS5GRUFUVVJFUztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29tcG9uZW50IGluc3RhbmNlb2YgQV9Db250YWluZXI6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuRkVBVFVSRVNcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29tcG9uZW50IGluc3RhbmNlb2YgQV9Db21wb25lbnQ6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuRkVBVFVSRVNcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVUZW1wbGF0ZVBhcmFtZXRlckVycm9yLCBgQS1GZWF0dXJlIGNhbm5vdCBiZSBkZWZpbmVkIG9uIHRoZSAke2NvbXBvbmVudH0gbGV2ZWxgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZlYXR1cmVEZWZpbml0aW9uOiBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YSB8IHVuZGVmaW5lZCA9IHRoaXMubWV0YShjb21wb25lbnQpXG4gICAgICAgICAgICA/LmdldChtZXRhS2V5KVxuICAgICAgICAgICAgPy5nZXQoZmVhdHVyZSk7XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIC4uLihmZWF0dXJlRGVmaW5pdGlvbj8udGVtcGxhdGUgfHwgW10pXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQUJTVFJBQ1RJT04gTUFOQUdFTUVOVCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVByaW1hcnkgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBkZWZpbml0aW9uIG9mIHRoZSBhYnN0cmFjdGlvbiB0aGF0IGNhbiBiZSB0aGVuIHVzZWQgdG8gY3JlYXRlIGEgbmV3IEEtRmVhdHVyZSBJbnN0YW5jZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBTdGVwcy9TdGFnZXMgaW5jbHVkZWQgYXJlIGZ1bGx5IGRlcGVuZGVudCBvbiB0aGUgc2NvcGUgcHJvdmlkZWQgc2luY2UgaXQgZGljdGF0ZXMgd2hpY2ggY29tcG9uZW50cyBhcmUgYWN0aXZlIGFuZCBjYW4gcHJvdmlkZSBleHRlbnNpb25zIGZvciB0aGUgYWJzdHJhY3Rpb24uXG4gICAgICogXG4gICAgICogQHBhcmFtIGFic3RyYWN0aW9uIFxuICAgICAqL1xuICAgIHN0YXRpYyBhYnN0cmFjdGlvblRlbXBsYXRlKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgYWJzdHJhY3Rpb24gc3RhZ2UgdG8gZ2V0IHRoZSBkZWZpbml0aW9uIGZvci5cbiAgICAgICAgICovXG4gICAgICAgIGFic3RyYWN0aW9uOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgY29tcG9uZW50IHRvIGdldCB0aGUgYWJzdHJhY3Rpb24gZGVmaW5pdGlvbiBmcm9tLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgICApOiBBcnJheTxBX1RZUEVTX19BX1N0YWdlU3RlcD4ge1xuICAgICAgICAvLyBuYW1lIGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gKEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KSk7XG5cbiAgICAgICAgLy8gSW5wdXQgdmFsaWRhdGlvblxuICAgICAgICBpZiAoIWNvbXBvbmVudCkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAgICAgQV9Db250ZXh0RXJyb3IuSW52YWxpZEFic3RyYWN0aW9uVGVtcGxhdGVQYXJhbWV0ZXJFcnJvcixcbiAgICAgICAgICAgIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIENvbXBvbmVudCBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG5cbiAgICAgICAgaWYgKCFhYnN0cmFjdGlvbikgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAgICAgQV9Db250ZXh0RXJyb3IuSW52YWxpZEFic3RyYWN0aW9uVGVtcGxhdGVQYXJhbWV0ZXJFcnJvcixcbiAgICAgICAgICAgIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIEFic3RyYWN0aW9uIHN0YWdlIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcGFyYW1ldGVyIGlzIGFsbG93ZWQgZm9yIGZlYXR1cmUgZGVmaW5pdGlvblxuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc0FsbG93ZWRGb3JBYnN0cmFjdGlvbkRlZmluaXRpb24oY29tcG9uZW50KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkQWJzdHJhY3Rpb25UZW1wbGF0ZVBhcmFtZXRlckVycm9yLCBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBDb21wb25lbnQgb2YgdHlwZSAke2NvbXBvbmVudE5hbWV9IGlzIG5vdCBhbGxvd2VkIGZvciBmZWF0dXJlIGRlZmluaXRpb24uYCk7XG5cbiAgICAgICAgY29uc3Qgc3RlcHM6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwW10gPSBbXG4gICAgICAgICAgICAvLyAxKSBHZXQgdGhlIGJhc2UgYWJzdHJhY3Rpb24gZGVmaW5pdGlvbiBmcm9tIHRoZSBjb21wb25lbnRcbiAgICAgICAgICAgIC8vIFshXSBObyBhYnN0cmFjdGlvbiBEZWZpbml0aW9ucyAtPiBUaGV5IGFyZSBsaW1pdGVkIHRvIENvbmNlcHQgQWJzdHJhY3Rpb25zIE9OTFlcbiAgICAgICAgICAgIC8vIC4uLnRoaXMuYWJzdHJhY3Rpb25EZWZpbml0aW9uKGFic3RyYWN0aW9uLCBjb21wb25lbnQpLFxuXG4gICAgICAgICAgICAvLyAyKSBHZXQgYWxsIGV4dGVuc2lvbnMgZm9yIHRoZSBhYnN0cmFjdGlvbiBmcm9tIG90aGVyIGNvbXBvbmVudHMgaW4gdGhlIHNjb3BlXG4gICAgICAgICAgICAuLi50aGlzLmFic3RyYWN0aW9uRXh0ZW5zaW9ucyhhYnN0cmFjdGlvbiwgY29tcG9uZW50KVxuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiBzdGVwcztcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1IZWxwZXIgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHN0YXRpYyBhYnN0cmFjdGlvbkV4dGVuc2lvbnMoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBhYnN0cmFjdGlvbiBuYW1lIHRvIGdldCB0aGUgZGVmaW5pdGlvbiBmb3IuXG4gICAgICAgICAqL1xuICAgICAgICBhYnN0cmFjdGlvbjogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIGNvbXBvbmVudCB0byBnZXQgdGhlIGFic3RyYWN0aW9uIGRlZmluaXRpb24gZnJvbS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMsXG4gICAgKTogQXJyYXk8QV9UWVBFU19fQV9TdGFnZVN0ZXA+IHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLmdldEluc3RhbmNlKCk7XG4gICAgICAgIC8vIG5hbWUgZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKGNvbXBvbmVudCk7XG5cbiAgICAgICAgLy8gSW5wdXQgdmFsaWRhdGlvblxuICAgICAgICBpZiAoIWNvbXBvbmVudCkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAgICAgQV9Db250ZXh0RXJyb3IuSW52YWxpZEFic3RyYWN0aW9uRXh0ZW5zaW9uUGFyYW1ldGVyRXJyb3IsXG4gICAgICAgICAgICBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBDb21wb25lbnQgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmBcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCFhYnN0cmFjdGlvbikgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAgICAgQV9Db250ZXh0RXJyb3IuSW52YWxpZEFic3RyYWN0aW9uRXh0ZW5zaW9uUGFyYW1ldGVyRXJyb3IsXG4gICAgICAgICAgICBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBBYnN0cmFjdGlvbiBzdGFnZSBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYFxuICAgICAgICApO1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcGFyYW1ldGVyIGlzIGFsbG93ZWQgZm9yIGZlYXR1cmUgZGVmaW5pdGlvblxuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc0FsbG93ZWRGb3JBYnN0cmFjdGlvbkRlZmluaXRpb24oY29tcG9uZW50KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvclxuICAgICAgICAgICAgICAgIChBX0NvbnRleHRFcnJvci5JbnZhbGlkQWJzdHJhY3Rpb25FeHRlbnNpb25QYXJhbWV0ZXJFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQ29tcG9uZW50IG9mIHR5cGUgJHtjb21wb25lbnROYW1lfSBpcyBub3QgYWxsb3dlZCBmb3IgZmVhdHVyZSBkZWZpbml0aW9uLmBcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHN0ZXBzOiBBX1RZUEVTX19BX1N0YWdlU3RlcFtdID0gW107XG5cbiAgICAgICAgY29uc3Qgc2NvcGUgPSB0aGlzLnNjb3BlKGNvbXBvbmVudCk7XG5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBnZXQgYWxsIGNvbXBvbmVudHMgdGhhdCBoYXMgZXh0ZW5zaW9ucyBmb3IgdGhlIGZlYXR1cmUgaW4gY29tcG9uZW50XG4gICAgICAgIGZvciAoY29uc3QgW2NtcCwgbWV0YV0gb2YgaW5zdGFuY2UuX21ldGFTdG9yYWdlKSB7XG4gICAgICAgICAgICAvLyBKdXN0IHRyeSB0byBtYWtlIHN1cmUgdGhhdCBjb21wb25lbnQgbm90IG9ubHkgSW5kZXhlZCBidXQgYWxzbyBwcmVzZW50ZWQgaW4gc2NvcGVcbiAgICAgICAgICAgIGlmIChzY29wZS5oYXMoY21wKSAmJiAoXG4gICAgICAgICAgICAgICAgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50TWV0YUluc3RhbmNlKG1ldGEpXG4gICAgICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVyTWV0YUluc3RhbmNlKG1ldGEpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgICAgICAgLy8gR2V0IGFsbCBleHRlbnNpb25zIGZvciB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgICAgIG1ldGFcbiAgICAgICAgICAgICAgICAgICAgLmFic3RyYWN0aW9ucyhhYnN0cmFjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKGRlY2xhcmF0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IGNtcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kZWNsYXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLmZpbHRlclRvTW9zdERlcml2ZWQoc2NvcGUsIHN0ZXBzKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgQ29udGV4dCB0byBpdHMgaW5pdGlhbCBzdGF0ZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVzZXQoKSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gQV9Db250ZXh0LmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgaW5zdGFuY2UuX3JlZ2lzdHJ5ID0gbmV3IFdlYWtNYXAoKTtcblxuICAgICAgICBsZXQgbmFtZSA9ICdyb290JztcblxuICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJylcbiAgICAgICAgICAgIG5hbWUgPSBwcm9jZXNzLmVudltBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTLkFfQ09OQ0VQVF9ST09UX1NDT1BFXSB8fCAncm9vdCc7XG5cbiAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ2Jyb3dzZXInKVxuICAgICAgICAgICAgbmFtZSA9ICh3aW5kb3cgYXMgYW55KVtBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTLkFfQ09OQ0VQVF9ST09UX1NDT1BFXSB8fCAncm9vdCc7XG5cbiAgICAgICAgaW5zdGFuY2UuX3Jvb3QgPSBuZXcgQV9TY29wZSh7IG5hbWUgfSk7XG4gICAgfVxuXG5cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBIRUxQRVJTICYgR1VBUkRTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgcGFyYW0gaXMgYWxsb3dlZCBmb3Igc2NvcGUgYWxsb2NhdGlvbi5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW0gXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQWxsb3dlZEZvclNjb3BlQWxsb2NhdGlvbihwYXJhbTogYW55KTogcGFyYW0gaXMgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzRmVhdHVyZUluc3RhbmNlKHBhcmFtKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgcGFyYW0gaXMgYWxsb3dlZCB0byBiZSByZWdpc3RlcmVkIGluIHRoZSBjb250ZXh0LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNBbGxvd2VkVG9CZVJlZ2lzdGVyZWQocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfU2NvcGVEZXBlbmRlbnRDb21wb25lbnRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0VudGl0eUluc3RhbmNlKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNGcmFnbWVudEluc3RhbmNlKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzRXJyb3JJbnN0YW5jZShwYXJhbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgcGFyYW0gaXMgYWxsb3dlZCBmb3IgbWV0YSBzdG9yYWdlLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNBbGxvd2VkRm9yTWV0YShwYXJhbTogYW55KTogcGFyYW0gaXMgQV9UWVBFU19fTWV0YUxpbmtlZENvbXBvbmVudHMge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0VudGl0eUluc3RhbmNlKHBhcmFtKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgcGFyYW0gaXMgYWxsb3dlZCBmb3IgbWV0YSBzdG9yYWdlIGJ5IGNvbnN0cnVjdG9yLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNBbGxvd2VkRm9yTWV0YUNvbnN0cnVjdG9yKHBhcmFtOiBhbnkpOiBwYXJhbSBpcyBBX1RZUEVTX19NZXRhTGlua2VkQ29tcG9uZW50Q29uc3RydWN0b3JzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckNvbnN0cnVjdG9yKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNFbnRpdHlDb25zdHJ1Y3RvcihwYXJhbSk7XG4gICAgfVxuXG5cblxufSIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuXG5leHBvcnQgY2xhc3MgQV9BYnN0cmFjdGlvbkVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG4gICAgLyoqXG4gICAgICogVGhpcyBlcnJvciBjb2RlIGluZGljYXRlcyB0aGF0IHRoZXJlIHdhcyBhbiBpc3N1ZSBleHRlbmRpbmcgdGhlIGFic3RyYWN0aW9uIGV4ZWN1dGlvblxuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBBYnN0cmFjdGlvbkV4dGVuc2lvbkVycm9yID0gJ1VuYWJsZSB0byBleHRlbmQgYWJzdHJhY3Rpb24gZXhlY3V0aW9uJztcblxufSIsICJpbXBvcnQge1xuICAgIEFfVFlQRVNfX0Fic3RyYWN0aW9uRGVjb3JhdG9yQ29uZmlnLFxuICAgIEFfVFlQRVNfX0Fic3RyYWN0aW9uRGVjb3JhdG9yRGVzY3JpcHRvclxufSBmcm9tIFwiLi9BLUFic3RyYWN0aW9uLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0NvbXBvbmVudCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ29udGFpbmVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbnRhaW5lck1ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIubWV0YVwiO1xuaW1wb3J0IHsgQV9Db21wb25lbnRNZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50Lm1ldGFcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29uY2VwdC9BLUNvbmNlcHQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbiB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbmNlcHQvQS1Db25jZXB0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX0Fic3RyYWN0aW9uRXJyb3IgfSBmcm9tIFwiLi9BLUFic3RyYWN0aW9uLmVycm9yXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0NvbW1vbi5oZWxwZXJcIjtcblxuXG4vKipcbiAqIEEtQWJzdHJhY3Rpb24gRXh0ZW5kIGRlY29yYXRvciBhbGxvd3MgdG8gZXh0ZW5kcyBiZWhhdmlvciBvZiBlYWNoIGNvbmNlcHQgYWJzdHJhY3Rpb24gZXhlY3V0aW9uLiBcbiAqIEluIGNhc2Ugc29tZSBjb21wb25lbnRzIG9yIGNvbnRhaW5lcnMgcmVxdWlyZXMgdG8gZXh0ZW5kIHRoZSBiZWhhdmlvciBvZiB0aGUgYWJzdHJhY3Rpb24gbGlrZSAnc3RhcnQnLCAnYnVpbGQnIG9yICdkZXBsb3knXG4gKiBmb3IgZXhhbXBsZSwgdGhpcyBkZWNvcmF0b3IgYWxsb3dzIHRvIGRvIHNvLiAgICBcbiAqIFxuICogQHBhcmFtIG5hbWUgLSBhYnN0cmFjdGlvbiBuYW1lIFxuICogQHBhcmFtIGNvbmZpZyAtIGNvbmZpZ3VyYXRpb24gb2YgdGhlIGFic3RyYWN0aW9uIGV4dGVuc2lvblxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBX0Fic3RyYWN0aW9uX0V4dGVuZChcbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoZSBDb25jZXB0IEFic3RyYWN0aW9uIHRvIGV4dGVuZFxuICAgICAqL1xuICAgIG5hbWU6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMsXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJhdGlvbiBvZiB0aGUgQWJzdHJhY3Rpb24gRXh0ZW5zaW9uXG4gICAgICogXG4gICAgICovXG4gICAgY29uZmlnOiBQYXJ0aWFsPEFfVFlQRVNfX0Fic3RyYWN0aW9uRGVjb3JhdG9yQ29uZmlnPiA9IHt9XG4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgICB0YXJnZXQ6IEFfQ29udGFpbmVyIHwgQV9Db21wb25lbnQsXG4gICAgICAgIHByb3BlcnR5S2V5OiBzdHJpbmcsXG4gICAgICAgIGRlc2NyaXB0b3I6IEFfVFlQRVNfX0Fic3RyYWN0aW9uRGVjb3JhdG9yRGVzY3JpcHRvclxuICAgICkge1xuICAgICAgICAvLyBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KVxuXG4gICAgICAgIGlmICghbmFtZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0Fic3RyYWN0aW9uRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9BYnN0cmFjdGlvbkVycm9yLkFic3RyYWN0aW9uRXh0ZW5zaW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEFic3RyYWN0aW9uIG5hbWUgbXVzdCBiZSBwcm92aWRlZCB0byBleHRlbmQgYWJzdHJhY3Rpb24gZm9yICcke2NvbXBvbmVudE5hbWV9Jy5gLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAvLyAgT25seSBDb250YWluZXJzIGFuZCBDb21wb25lbnRzIGNhbiBleHRlbmQgQ29uY2VwdCBBYnN0cmFjdGlvbnNcbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNDb25zdHJ1Y3RvckF2YWlsYWJsZUZvckFic3RyYWN0aW9uKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0Fic3RyYWN0aW9uRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9BYnN0cmFjdGlvbkVycm9yLkFic3RyYWN0aW9uRXh0ZW5zaW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYFVuYWJsZSB0byBleHRlbmQgQWJzdHJhY3Rpb24gJyR7bmFtZX0nIGZvciAnJHtjb21wb25lbnROYW1lfScuIE9ubHkgQS1Db250YWluZXJzIGFuZCBBLUNvbXBvbmVudHMgY2FuIGV4dGVuZCBBYnN0cmFjdGlvbnMuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWV0YUtleTtcbiAgICAgICAgY29uc3QgbWV0YTogQV9Db250YWluZXJNZXRhIHwgQV9Db21wb25lbnRNZXRhID0gQV9Db250ZXh0Lm1ldGEodGFyZ2V0KTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVyQ29uc3RydWN0b3IodGFyZ2V0KSB8fCBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LkFCU1RSQUNUSU9OU1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3Rvcih0YXJnZXQpIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuQUJTVFJBQ1RJT05TXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2V0TmFtZSA9IGBDT05DRVBUX0FCU1RSQUNUSU9OOjoke25hbWV9YDtcblxuICAgICAgICAvLyBHZXQgdGhlIGV4aXN0ZWQgbWV0YWRhdGEgb3IgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICBjb25zdCBleGlzdGVkTWV0YTogQV9NZXRhPHtcbiAgICAgICAgICAgIFtLZXk6IHN0cmluZ106IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbltdO1xuICAgICAgICB9PiA9IG1ldGEuZ2V0KG1ldGFLZXkpID9cbiAgICAgICAgICAgICAgICBuZXcgQV9NZXRhKCkuZnJvbShtZXRhLmdldChtZXRhS2V5KSlcbiAgICAgICAgICAgICAgICA6IG5ldyBBX01ldGEoKTtcblxuICAgICAgICAvLyBTZXQgdGhlIG1ldGFkYXRhIG9mIHRoZSBtZXRob2QgdG8gZGVmaW5lIGEgY3VzdG9tIFN0YWdlIHdpdGggbmFtZVxuICAgICAgICBjb25zdCBleGlzdGVkTWV0YVZhbHVlID0gW1xuICAgICAgICAgICAgLi4uKGV4aXN0ZWRNZXRhLmdldChzZXROYW1lKSB8fCBbXSlcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBleGlzdGVkSW5kZXggPSBleGlzdGVkTWV0YVZhbHVlLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaGFuZGxlciA9PT0gcHJvcGVydHlLZXkpO1xuXG4gICAgICAgIGNvbnN0IGFic3RyYWN0aW9uID0ge1xuICAgICAgICAgICAgbmFtZTogc2V0TmFtZSxcbiAgICAgICAgICAgIGhhbmRsZXI6IHByb3BlcnR5S2V5LFxuICAgICAgICAgICAgYmVoYXZpb3I6IGNvbmZpZy5iZWhhdmlvciB8fCAnc3luYycsXG4gICAgICAgICAgICB0aHJvd09uRXJyb3I6IGNvbmZpZy50aHJvd09uRXJyb3IgIT09IHVuZGVmaW5lZCA/IGNvbmZpZy50aHJvd09uRXJyb3IgOiB0cnVlLFxuXG4gICAgICAgICAgICBiZWZvcmU6IEFfVHlwZUd1YXJkcy5pc0FycmF5KGNvbmZpZy5iZWZvcmUpXG4gICAgICAgICAgICAgICAgPyBuZXcgUmVnRXhwKGBeJHtjb25maWcuYmVmb3JlLmpvaW4oJ3wnKS5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJyl9JGApLnNvdXJjZVxuICAgICAgICAgICAgICAgIDogY29uZmlnLmJlZm9yZSBpbnN0YW5jZW9mIFJlZ0V4cFxuICAgICAgICAgICAgICAgICAgICA/IGNvbmZpZy5iZWZvcmUuc291cmNlXG4gICAgICAgICAgICAgICAgICAgIDogJycsXG4gICAgICAgICAgICBhZnRlcjogQV9UeXBlR3VhcmRzLmlzQXJyYXkoY29uZmlnLmFmdGVyKVxuICAgICAgICAgICAgICAgID8gbmV3IFJlZ0V4cChgXiR7Y29uZmlnLmFmdGVyLmpvaW4oJ3wnKS5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJyl9JGApLnNvdXJjZVxuICAgICAgICAgICAgICAgIDogY29uZmlnLmFmdGVyIGluc3RhbmNlb2YgUmVnRXhwXG4gICAgICAgICAgICAgICAgICAgID8gY29uZmlnLmFmdGVyLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICA6ICcnLFxuXG4gICAgICAgICAgICBvdmVycmlkZTogQV9UeXBlR3VhcmRzLmlzQXJyYXkoY29uZmlnLm92ZXJyaWRlKVxuICAgICAgICAgICAgICAgID8gbmV3IFJlZ0V4cChgXiR7Y29uZmlnLm92ZXJyaWRlLmpvaW4oJ3wnKS5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJyl9JGApLnNvdXJjZVxuICAgICAgICAgICAgICAgIDogY29uZmlnLmFmdGVyIGluc3RhbmNlb2YgUmVnRXhwXG4gICAgICAgICAgICAgICAgICAgID8gY29uZmlnLmFmdGVyLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV4aXN0ZWRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgZXhpc3RpbmcgbWV0aG9kIGluIHRoZSBtZXRhZGF0YVxuICAgICAgICAgICAgZXhpc3RlZE1ldGFWYWx1ZVtleGlzdGVkSW5kZXhdID0gYWJzdHJhY3Rpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBBZGQgdGhlIG5ldyBtZXRob2QgdG8gdGhlIG1ldGFkYXRhXG4gICAgICAgICAgICBleGlzdGVkTWV0YVZhbHVlLnB1c2goYWJzdHJhY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBtZXRhZGF0YSBvZiB0aGUgbWV0aG9kIHRvIGRlZmluZSBhIGN1c3RvbSBGZWF0dXJlIHdpdGggbmFtZVxuICAgICAgICBleGlzdGVkTWV0YS5zZXQoc2V0TmFtZSwgZXhpc3RlZE1ldGFWYWx1ZSk7XG5cbiAgICAgICAgLy8gIFVwZGF0ZSB0aGUgbWV0YWRhdGEgb2YgdGhlIGNvbnRhaW5lciB3aXRoIHRoZSBuZXcgU3RhZ2UgZGVmaW5pdGlvblxuICAgICAgICBBX0NvbnRleHRcbiAgICAgICAgICAgIC5tZXRhKHRhcmdldClcbiAgICAgICAgICAgIC5zZXQoXG4gICAgICAgICAgICAgICAgbWV0YUtleSxcbiAgICAgICAgICAgICAgICBleGlzdGVkTWV0YVxuICAgICAgICAgICAgKTtcbiAgICB9O1xufVxuIiwgImltcG9ydCB7IEFfQWJzdHJhY3Rpb25fRXh0ZW5kIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQWJzdHJhY3Rpb24vQS1BYnN0cmFjdGlvbi1FeHRlbmQuZGVjb3JhdG9yXCI7XG5pbXBvcnQgeyBBX0ZlYXR1cmUgfSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQWJzdHJhY3Rpb25fSW5pdCB9IGZyb20gXCIuL0EtQWJzdHJhY3Rpb24udHlwZXNcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiLi4vQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucyB9IGZyb20gXCIuLi9BLUNvbmNlcHQvQS1Db25jZXB0LmNvbnN0YW50c1wiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfQWJzdHJhY3Rpb24ge1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIEFic3RyYWN0aW9uIGUuZy4gJ2RlcGxveScsICdzdGFydCcsICd0ZXN0JywgZXRjLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfbmFtZTogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucztcbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIGZlYXR1cmVzIHRoYXQgYXJlIHBhcnQgb2YgdGhpcyBBYnN0cmFjdGlvblxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfZmVhdHVyZXM6IEFfRmVhdHVyZVtdID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIEZlYXR1cmUgY3VycmVudGx5IGJlaW5nIHByb2Nlc3NlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfY3VycmVudD86IEFfRmVhdHVyZTtcbiAgICAvKipcbiAgICAgKiBBY3R1YWwgSW5kZXggb2YgdGhlIGN1cnJlbnQgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2luZGV4OiBudW1iZXIgPSAwO1xuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kcyBBLUFic3RyYWN0aW9uIHdpdGggYWRkaXRpb25hbCBtZXRob2RzXG4gICAgICovXG4gICAgc3RhdGljIGdldCBFeHRlbmQoKTogdHlwZW9mIEFfQWJzdHJhY3Rpb25fRXh0ZW5kIHtcbiAgICAgICAgcmV0dXJuIEFfQWJzdHJhY3Rpb25fRXh0ZW5kO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEtQWJzdHJhY3Rpb24gaXMgYW4gb2JqZWN0IHRoYXQgaXMgY29tbW9uIGZvciBhbnkgYXBwbGljYXRpb24uIFxuICAgICAqIEJ5IHByb3ZpZGluZyBjb21wb25lbnRzIGFuZCBjcmVhdGluZyBhYnN0cmFjdGlvbiBleHRlbnNpb25zIGl0J3MgcG9zc2libGUgdG8gY3JlYXRlIGEgdW5pcXVlIGJlaGF2aW9yIG9mIHRoZSB3aG9sZSBzb2x1dGlvbi5cbiAgICAgKiBcbiAgICAgKiBFdmVyeSBhcHBsaWNhdGlvbiBoYXMgYmFzaWMgYWJzdHJhY3Rpb25zIGxpa2UgJ3N0YXJ0JywgJ3N0b3AnLCAnZGVwbG95JywgJ3Rlc3QnLCBldGMuIFxuICAgICAqIFRoZXkgY2FuIGJlIGVhc2lseSBleHRlbmRlZCB3aXRoIGFkZGl0aW9uYWwgbG9naWMgZnJvbSBib3RoIGNvbnRhaW5lcnMgYW5kIGNvbXBvbmVudHMuXG4gICAgICogXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtcyBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhcmFtZXRlcnMgdG8gZGVmaW5lIHRoZSBBLUFic3RyYWN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbXM6IEFfVFlQRVNfX0Fic3RyYWN0aW9uX0luaXRcbiAgICApIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IHBhcmFtcy5uYW1lO1xuXG4gICAgICAgIHRoaXMuX2ZlYXR1cmVzID0gcGFyYW1zLmNvbnRhaW5lcnMubWFwKGNvbnRhaW5lciA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IEFfQ29udGV4dC5hYnN0cmFjdGlvblRlbXBsYXRlKFxuICAgICAgICAgICAgICAgIHRoaXMuX25hbWUsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBX0ZlYXR1cmUoe1xuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWUsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBjb250YWluZXIsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnQgPSB0aGlzLl9mZWF0dXJlc1swXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBuYW1lIG9mIHRoZSBBYnN0cmFjdGlvblxuICAgICAqL1xuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLl9uYW1lOyB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZFxuICAgICAqL1xuICAgIGdldCBmZWF0dXJlKCk6IEFfRmVhdHVyZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBjaGVja3MgaWYgdGhlIEEtRmVhdHVyZSBpcyBkb25lXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZ2V0IGlzRG9uZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmZlYXR1cmVcbiAgICAgICAgICAgIHx8IHRoaXMuX2luZGV4ID49IHRoaXMuX2ZlYXR1cmVzLmxlbmd0aFxuXG4gICAgfVxuXG5cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYXRvcjxBX0ZlYXR1cmUsIGFueT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gQ3VzdG9tIG5leHQgbWV0aG9kXG4gICAgICAgICAgICBuZXh0OiAoKTogSXRlcmF0b3JSZXN1bHQ8QV9GZWF0dXJlLCBhbnk+ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNEb25lKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IHRoaXMuX2ZlYXR1cmVzW3RoaXMuX2luZGV4XTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuX2N1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IHVuZGVmaW5lZDsgLy8gUmVzZXQgY3VycmVudCBvbiBlbmRcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgbW92ZXMgdGhlIEFic3RyYWN0aW9uIHByb2Nlc3NpbmcgdG8gdGhlIG5leHQgRmVhdHVyZSBpbiB0aGUgbGlzdFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdGFnZSBcbiAgICAgKi9cbiAgICBuZXh0KHN0YWdlKSB7XG4gICAgICAgIGlmICh0aGlzLl9pbmRleCA+PSB0aGlzLl9mZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YWdlSW5kZXggPSB0aGlzLl9mZWF0dXJlcy5pbmRleE9mKHN0YWdlKTtcblxuICAgICAgICB0aGlzLl9pbmRleCA9IHN0YWdlSW5kZXggKyAxO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gcHJvY2VzcyBhbGwgc3RhZ2VzIG9mIHRoZSBBYnN0cmFjdGlvblxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIHByb2Nlc3MoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGxvd3MgdG8gb3ZlcnJpZGUgdGhlIHNjb3BlIGluIHdoaWNoIHRoZSBBYnN0cmFjdGlvbiB3aWxsIGJlIHByb2Nlc3NlZFxuICAgICAgICAgKiBcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlPzogQV9TY29wZVxuICAgICkge1xuICAgICAgICBpZiAodGhpcy5pc0RvbmUpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgZm9yIChjb25zdCBmZWF0dXJlIG9mIHRoaXMuX2ZlYXR1cmVzKSB7XG5cbiAgICAgICAgICAgIGF3YWl0IGZlYXR1cmUucHJvY2VzcyhzY29wZSk7XG4gICAgICAgIH1cbiAgICB9XG59IiwgImV4cG9ydCBlbnVtIEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMge1xuICAgIC8qKlxuICAgICAqIFJ1biB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBSdW4gPSAncnVuJyxcbiAgICAvKipcbiAgICAgKiBCdWlsZCB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBCdWlsZCA9ICdidWlsZCcsXG4gICAgLyoqXG4gICAgICogUHVibGlzaCB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBQdWJsaXNoID0gJ3B1Ymxpc2gnLFxuICAgIC8qKlxuICAgICAqIERlcGxveSB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBEZXBsb3kgPSAnZGVwbG95JyxcbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIExvYWQgPSAnbG9hZCcsXG4gICAgLyoqXG4gICAgICogU3RhcnQgdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgU3RhcnQgPSAnc3RhcnQnLFxuICAgIC8qKlxuICAgICAqIFN0b3AgdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgU3RvcCA9ICdzdG9wJyxcbn1cblxuXG5cbmV4cG9ydCBlbnVtIEFfVFlQRVNfX0NvbmNlcHRNZXRhS2V5IHtcbiAgICBMSUZFQ1lDTEUgPSAnYS1jb21wb25lbnQtZXh0ZW5zaW9ucycsXG59IiwgImltcG9ydCB7IEFfQ29udGFpbmVyIH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0Fic3RyYWN0aW9uIH0gZnJvbSBcIi4uL0EtQWJzdHJhY3Rpb24vQS1BYnN0cmFjdGlvbi5jbGFzc1wiO1xuaW1wb3J0IHsgQV9BYnN0cmFjdGlvbl9FeHRlbmQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1BYnN0cmFjdGlvbi9BLUFic3RyYWN0aW9uLUV4dGVuZC5kZWNvcmF0b3JcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiLi4vQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucyB9IGZyb20gXCIuL0EtQ29uY2VwdC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbmNlcHRfSW5pdCB9IGZyb20gXCIuL0EtQ29uY2VwdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQWJzdHJhY3Rpb25EZWNvcmF0b3JDb25maWcgfSBmcm9tIFwiLi4vQS1BYnN0cmFjdGlvbi9BLUFic3RyYWN0aW9uLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0ZlYXR1cmUgfSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS5jbGFzc1wiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfQ29uY2VwdDxcbiAgICBfSW1wb3J0cyBleHRlbmRzIEFfQ29udGFpbmVyW10gPSBBX0NvbnRhaW5lcltdXG4+IHtcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09ICBTVEFUSUMgTElGRUNZQ0xFIERFQ09SQVRPUlMgID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGNvbmNlcHQuIFRoaXMgc3RlcCBydW5zIGJlZm9yZSBhbnkgb3RoZXIgc3RlcHMgdG8gZW5zdXJlIHRoYXQgYWxsIGNvbXBvbmVudHMgYXJlIGxvYWRlZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgTG9hZChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHByb3ZpZGUgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgYWJzdHJhY3Rpb24gZXh0ZW5zaW9uIHRvIG1ha2UgaXQgZGVwZW5kZW50IG9uIG90aGVyIGZhY3RvcnNcbiAgICAgICAgICovXG4gICAgICAgIGNvbmZpZz86IFBhcnRpYWw8QV9UWVBFU19fQWJzdHJhY3Rpb25EZWNvcmF0b3JDb25maWc+XG4gICAgKTogUmV0dXJuVHlwZTx0eXBlb2YgQV9BYnN0cmFjdGlvbl9FeHRlbmQ+IHtcbiAgICAgICAgcmV0dXJuIEFfQWJzdHJhY3Rpb24uRXh0ZW5kKEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuTG9hZCwgY29uZmlnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoIHRoZSBjb25jZXB0IHRvIEFEQUFTIHBsYXRmb3JtLiAoT3IgYW55IG90aGVyIHBsYWNlIGRlZmluZWQgaW4gdGhlIGNvbmNlcHQpXG4gICAgICpcbiAgICAgKiBbIV0gVG8gZXh0ZW5kIHRoZSBsb2dpYyBqdXN0IGNyZWF0ZSBhIGN1c3RvbSBjb250YWluZXJzIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBiZWhhdmlvci5cbiAgICAgKi9cbiAgICBzdGF0aWMgUHVibGlzaChcbiAgICAgICAgLyoqXG4gICAgICAgICogcHJvdmlkZSBhZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBhYnN0cmFjdGlvbiBleHRlbnNpb24gdG8gbWFrZSBpdCBkZXBlbmRlbnQgb24gb3RoZXIgZmFjdG9yc1xuICAgICAgICAqL1xuICAgICAgICBjb25maWc/OiBQYXJ0aWFsPEFfVFlQRVNfX0Fic3RyYWN0aW9uRGVjb3JhdG9yQ29uZmlnPlxuICAgICk6IFJldHVyblR5cGU8dHlwZW9mIEFfQWJzdHJhY3Rpb25fRXh0ZW5kPiB7XG4gICAgICAgIHJldHVybiBBX0Fic3RyYWN0aW9uLkV4dGVuZChBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLlB1Ymxpc2gpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlcGxveSB0aGUgY29uY2VwdCB0byB0aGUgZW52aXJvbm1lbnQuXG4gICAgICovXG4gICAgc3RhdGljIERlcGxveShcbiAgICAgICAgLyoqXG4gICAgICAgICogcHJvdmlkZSBhZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBhYnN0cmFjdGlvbiBleHRlbnNpb24gdG8gbWFrZSBpdCBkZXBlbmRlbnQgb24gb3RoZXIgZmFjdG9yc1xuICAgICAgICAqL1xuICAgICAgICBjb25maWc/OiBQYXJ0aWFsPEFfVFlQRVNfX0Fic3RyYWN0aW9uRGVjb3JhdG9yQ29uZmlnPlxuICAgICkge1xuICAgICAgICByZXR1cm4gQV9BYnN0cmFjdGlvbi5FeHRlbmQoQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5EZXBsb3ksIGNvbmZpZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGlsZXMgdGhlIENvbmNlcHQgaW4gY2FzZSB0aGVyZSBhcmUgc29tZSBjb250YWluZXJzIHRoYXQgcmVxdWlyZSB0aGF0LiBcbiAgICAgKiBcbiAgICAgKiBDYW4gYmUgdXNlZCBmb3Igc3RhdGljIHdlYnNpdGVzIG9yIGFueSBvdGhlciBjb25jZXB0IHRoYXQgcmVxdWlyZXMgYSBidWlsZCBzdGVwLlxuICAgICAqIFxuICAgICAqL1xuICAgIHN0YXRpYyBCdWlsZChcbiAgICAgICAgLyoqXG4gICAgICAgICogcHJvdmlkZSBhZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBhYnN0cmFjdGlvbiBleHRlbnNpb24gdG8gbWFrZSBpdCBkZXBlbmRlbnQgb24gb3RoZXIgZmFjdG9yc1xuICAgICAgICAqL1xuICAgICAgICBjb25maWc/OiBQYXJ0aWFsPEFfVFlQRVNfX0Fic3RyYWN0aW9uRGVjb3JhdG9yQ29uZmlnPlxuICAgICkge1xuICAgICAgICByZXR1cm4gQV9BYnN0cmFjdGlvbi5FeHRlbmQoQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5CdWlsZCwgY29uZmlnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgTWFpbiBleGVjdXRpb24gb2YgdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgc3RhdGljIFJ1bihcbiAgICAgICAgLyoqXG4gICAgICAgICogcHJvdmlkZSBhZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBhYnN0cmFjdGlvbiBleHRlbnNpb24gdG8gbWFrZSBpdCBkZXBlbmRlbnQgb24gb3RoZXIgZmFjdG9yc1xuICAgICAgICAqL1xuICAgICAgICBjb25maWc/OiBQYXJ0aWFsPEFfVFlQRVNfX0Fic3RyYWN0aW9uRGVjb3JhdG9yQ29uZmlnPlxuICAgICkge1xuICAgICAgICByZXR1cm4gQV9BYnN0cmFjdGlvbi5FeHRlbmQoQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5SdW4sIGNvbmZpZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIFN0YXJ0IHRoZSBjb25jZXB0LiBVc2VzIGZvciBzZXJ2ZXJzIG9yIGFueSBvdGhlciBiYWNrZ3JvdW5kIHNlcnZpY2VzLlxuICAgICAqL1xuICAgIHN0YXRpYyBTdGFydChcbiAgICAgICAgLyoqXG4gICAgICAgICogcHJvdmlkZSBhZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBhYnN0cmFjdGlvbiBleHRlbnNpb24gdG8gbWFrZSBpdCBkZXBlbmRlbnQgb24gb3RoZXIgZmFjdG9yc1xuICAgICAgICAqL1xuICAgICAgICBjb25maWc/OiBQYXJ0aWFsPEFfVFlQRVNfX0Fic3RyYWN0aW9uRGVjb3JhdG9yQ29uZmlnPlxuICAgICkge1xuICAgICAgICByZXR1cm4gQV9BYnN0cmFjdGlvbi5FeHRlbmQoQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5TdGFydCwgY29uZmlnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wIHRoZSBjb25jZXB0LiBVc2VzIGZvciBzZXJ2ZXJzIG9yIGFueSBvdGhlciBiYWNrZ3JvdW5kIHNlcnZpY2VzLlxuICAgICAqL1xuICAgIHN0YXRpYyBTdG9wKFxuICAgICAgICAvKipcbiAgICAgICAgKiBwcm92aWRlIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIGFic3RyYWN0aW9uIGV4dGVuc2lvbiB0byBtYWtlIGl0IGRlcGVuZGVudCBvbiBvdGhlciBmYWN0b3JzXG4gICAgICAgICovXG4gICAgICAgIGNvbmZpZz86IFBhcnRpYWw8QV9UWVBFU19fQWJzdHJhY3Rpb25EZWNvcmF0b3JDb25maWc+XG4gICAgKSB7XG4gICAgICAgIHJldHVybiBBX0Fic3RyYWN0aW9uLkV4dGVuZChBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLlN0b3AsIGNvbmZpZyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoZSBjb25jZXB0XG4gICAgICogXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIG5hbWUgb2YgdGhlIENvbmNlcHQgaXMgJ2EtY29uY2VwdCdcbiAgICAgKi9cbiAgICBwcml2YXRlIF9uYW1lITogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBpbnRlcm5hbGx5IGRlZmluZWQgY29udGFpbmVycyB0aGF0IHRoZSBjb25jZXB0IHVzZXMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9jb250YWluZXJzITogQV9Db250YWluZXJbXTtcblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PSAgTUFJTiBNZXRob2RzICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbiAgICAvKipcbiAgICAgKiBBLUNvbmNlcHQgaXMgYSBwbGFjZWhvbGRlciBmb3IgdGhlIGNvbmNlcHQgb2YgdGhlIGFueSBwcm9ncmFtLlxuICAgICAqIFxuICAgICAqIENvbmNlcHQgLSBjb3VsZCBiZSBhbnkgUHJvZ3JhbSByZWdhcmRsZXNzIGVudmlyb25tZW50IGFuZCBpdCdzIGdvYWwuXG4gICAgICogSXQgY291bGQgYmUgbW9iaWxlLCB3ZWIgb3Igc2ltcGxlIGh0bWwgcGFnZS5cbiAgICAgKiBBbGwgZGVwZW5kcyBvbiBDb250YWluZXJzIGFuZCBDb21wb25lbnRzIGluc3RhbGxlZCBhbmQgcHJvdmlkZWQgaW4gdGhlIENvbmNlcHQuXG4gICAgICogXG4gICAgICogXG4gICAgICogWyFdIENvbmNlcHQgb3BlcmF0ZXMgT05MWSB3aXRoIGFsbCBDb21wb25lbnRzIGFuZCBDb250YWluZXJzIHByb3ZpZGVkIHRvIGFjaGlldmUgdGhlIGdvYWwuXG4gICAgICogXG4gICAgICogXG4gICAgICogQHBhcmFtIHByb3BzIC0gSW5pdGlhbGl6YXRpb24gcHJvcGVydGllcyBmb3IgdGhlIENvbmNlcHRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIHByb3BzOiBBX1RZUEVTX19Db25jZXB0X0luaXQ8X0ltcG9ydHM+XG4gICAgKSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSBwcm9wcy5uYW1lIHx8IEFfQ29udGV4dC5yb290Lm5hbWU7XG5cbiAgICAgICAgaWYgKHByb3BzLmNvbXBvbmVudHMgJiYgcHJvcHMuY29tcG9uZW50cy5sZW5ndGgpXG4gICAgICAgICAgICBwcm9wcy5jb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50ID0+IHRoaXMuc2NvcGUucmVnaXN0ZXIoY29tcG9uZW50KSlcblxuICAgICAgICBpZiAocHJvcHMuZnJhZ21lbnRzICYmIHByb3BzLmZyYWdtZW50cy5sZW5ndGgpXG4gICAgICAgICAgICBwcm9wcy5mcmFnbWVudHMuZm9yRWFjaChmcmFnbWVudCA9PiB0aGlzLnNjb3BlLnJlZ2lzdGVyKGZyYWdtZW50KSlcblxuICAgICAgICBpZiAocHJvcHMuZW50aXRpZXMgJiYgcHJvcHMuZW50aXRpZXMubGVuZ3RoKVxuICAgICAgICAgICAgcHJvcHMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4gdGhpcy5zY29wZS5yZWdpc3RlcihlbnRpdHkgYXMgYW55KSlcblxuXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lcnMgPSBwcm9wcy5jb250YWluZXJzIHx8IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIGNvbmNlcHRcbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5yb290Lm5hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBwcmltYXJ5IFJvb3Qgc2NvcGUgb2YgdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgZ2V0IHNjb3BlKCkge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LnJvb3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBjbGFzcyBvciB2YWx1ZSBpbiB0aGUgY29uY2VwdCBzY29wZS5cbiAgICAgKi9cbiAgICBnZXQgcmVnaXN0ZXIoKTogQV9TY29wZVsncmVnaXN0ZXInXSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnJlZ2lzdGVyLmJpbmQodGhpcy5zY29wZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZSBhIGNsYXNzIG9yIHZhbHVlIGZyb20gdGhlIGNvbmNlcHQgc2NvcGUuXG4gICAgICovXG4gICAgZ2V0IHJlc29sdmUoKTogQV9TY29wZVsncmVzb2x2ZSddIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUucmVzb2x2ZS5iaW5kKHRoaXMuc2NvcGUpO1xuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PSAgTElGRUNZQ0xFICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBhc3luYyBsb2FkKFxuICAgICAgICBzY29wZT86IEFfU2NvcGUsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGFic3RyYWN0aW9uID0gbmV3IEFfQWJzdHJhY3Rpb24oe1xuICAgICAgICAgICAgbmFtZTogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5Mb2FkLFxuICAgICAgICAgICAgY29udGFpbmVyczogdGhpcy5fY29udGFpbmVycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgYWJzdHJhY3Rpb24ucHJvY2VzcyhzY29wZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJ1biB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBhc3luYyBydW4oXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgY29uc3QgYWJzdHJhY3Rpb24gPSBuZXcgQV9BYnN0cmFjdGlvbih7XG4gICAgICAgICAgICBuYW1lOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLlJ1bixcbiAgICAgICAgICAgIGNvbnRhaW5lcnM6IHRoaXMuX2NvbnRhaW5lcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IGFic3RyYWN0aW9uLnByb2Nlc3Moc2NvcGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydCB0aGUgY29uY2VwdC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqL1xuICAgIGFzeW5jIHN0YXJ0KFxuICAgICAgICBzY29wZT86IEFfU2NvcGUsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGFic3RyYWN0aW9uID0gbmV3IEFfQWJzdHJhY3Rpb24oe1xuICAgICAgICAgICAgbmFtZTogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5TdGFydCxcbiAgICAgICAgICAgIGNvbnRhaW5lcnM6IHRoaXMuX2NvbnRhaW5lcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IGFic3RyYWN0aW9uLnByb2Nlc3Moc2NvcGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wIHRoZSBjb25jZXB0LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbXMgXG4gICAgICovXG4gICAgYXN5bmMgc3RvcChcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlLFxuICAgICkge1xuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbiA9IG5ldyBBX0Fic3RyYWN0aW9uKHtcbiAgICAgICAgICAgIG5hbWU6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuU3RvcCxcbiAgICAgICAgICAgIGNvbnRhaW5lcnM6IHRoaXMuX2NvbnRhaW5lcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IGFic3RyYWN0aW9uLnByb2Nlc3Moc2NvcGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZCB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBhc3luYyBidWlsZChcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlLFxuICAgICkge1xuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbiA9IG5ldyBBX0Fic3RyYWN0aW9uKHtcbiAgICAgICAgICAgIG5hbWU6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuQnVpbGQsXG4gICAgICAgICAgICBjb250YWluZXJzOiB0aGlzLl9jb250YWluZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBhYnN0cmFjdGlvbi5wcm9jZXNzKHNjb3BlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVwbG95IHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIGFzeW5jIGRlcGxveShcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlLFxuICAgICkge1xuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbiA9IG5ldyBBX0Fic3RyYWN0aW9uKHtcbiAgICAgICAgICAgIG5hbWU6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuRGVwbG95LFxuICAgICAgICAgICAgY29udGFpbmVyczogdGhpcy5fY29udGFpbmVycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgYWJzdHJhY3Rpb24ucHJvY2VzcyhzY29wZSk7XG5cbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVibGlzaCB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBhc3luYyBwdWJsaXNoKFxuICAgICAgICBzY29wZT86IEFfU2NvcGUsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGFic3RyYWN0aW9uID0gbmV3IEFfQWJzdHJhY3Rpb24oe1xuICAgICAgICAgICAgbmFtZTogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5QdWJsaXNoLFxuICAgICAgICAgICAgY29udGFpbmVyczogdGhpcy5fY29udGFpbmVycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgYWJzdHJhY3Rpb24ucHJvY2VzcyhzY29wZSk7XG4gICAgfVxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09ICBDQUxMICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG4gICAgLyoqXG4gICAgICogQ2FsbCB0aGUgc3BlY2lmaWMgbWV0aG9kIG9mIHRoZSBjb25jZXB0IG9yIGluY2x1ZGVkIG1vZHVsZXMuXG4gICAgICovXG4gICAgYXN5bmMgY2FsbDxcbiAgICAgICAgSyBleHRlbmRzIFJlY29yZDxfSW1wb3J0c1tudW1iZXJdWyduYW1lJ10sIHN0cmluZz5cbiAgICA+KFxuICAgICAgICAvKipcbiAgICAgICAgICogTmFtZSBvZiB0aGUgbWV0aG9kIHRvIGNhbGxcbiAgICAgICAgICovXG4gICAgICAgIG1ldGhvZDogS1trZXlvZiBLXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRhaW5lciBpbiB3aGljaCB0aGUgbWV0aG9kIGlzIGxvY2F0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGNvbnRhaW5lcjogX0ltcG9ydHNbbnVtYmVyXSxcbiAgICApIHtcbiAgICAgICAgY29uc3QgZmVhdHVyZSA9IG5ldyBBX0ZlYXR1cmUoeyBuYW1lOiBtZXRob2QsIGNvbXBvbmVudDogY29udGFpbmVyIH0pO1xuXG4gICAgICAgIHJldHVybiBhd2FpdCBmZWF0dXJlLnByb2Nlc3MoKTtcbiAgICB9XG59XG5cblxuXG5cbiIsICJcbmltcG9ydCB7IEFfQ29udGFpbmVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNsYXNzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiLi4vQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfQ29uY2VwdE1ldGEgZXh0ZW5kcyBBX01ldGE8YW55PiB7XG5cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGNvbnRhaW5lcnM6IEFycmF5PEFfQ29udGFpbmVyPixcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cblxufSIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuXG5leHBvcnQgY2xhc3MgQV9EZXBlbmRlbmN5RXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIHN0YXRpYyByZWFkb25seSBJbnZhbGlkRGVwZW5kZW5jeVRhcmdldCA9ICdJbnZhbGlkIERlcGVuZGVuY3kgVGFyZ2V0JztcblxuICAgIHN0YXRpYyByZWFkb25seSBJbnZhbGlkTG9hZFRhcmdldCA9ICdJbnZhbGlkIExvYWQgVGFyZ2V0JztcblxuICAgIHN0YXRpYyByZWFkb25seSBJbnZhbGlkTG9hZFBhdGggPSAnSW52YWxpZCBMb2FkIFBhdGgnO1xuXG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgSW52YWxpZERlZmF1bHRUYXJnZXQgPSAnSW52YWxpZCBEZWZhdWx0IFRhcmdldCc7XG59IiwgIlxuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSwgQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMgfSBmcm9tIFwiLi4vQS1JbmplY3QvQS1JbmplY3QudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfRGVwZW5kZW5jeV9EZWZhdWx0RGVjb3JhdG9yUmV0dXJuIH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LnR5cGVzXCI7XG5pbXBvcnQgeyBBX0RlcGVuZGVuY3lFcnJvciB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS5lcnJvclwiO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlclwiO1xuXG5cbi8qKlxuICogU2hvdWxkIGluZGljYXRlIHdoaWNoIERlZmF1bHQgaXMgcmVxdWlyZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfRGVwZW5kZW5jeV9EZWZhdWx0KFxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yIFBhcmFtZXRlcnMgdGhhdCB3aWxsIGJlIHVzZWQgdG8gY3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlXG4gICAgICovXG4gICAgLi4uYXJnczogYW55W11cbik6IEFfVFlQRVNfX0FfRGVwZW5kZW5jeV9EZWZhdWx0RGVjb3JhdG9yUmV0dXJuIHtcblxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgICAgdGFyZ2V0OiBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyxcbiAgICAgICAgbWV0aG9kTmFtZTogc3RyaW5nIHwgc3ltYm9sIHwgdW5kZWZpbmVkLFxuICAgICAgICBwYXJhbWV0ZXJJbmRleDogbnVtYmVyXG4gICAgKSB7XG4gICAgICAgIC8vIGZvciBFcnJvciBoYW5kbGluZyBwdXJwb3Nlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZSh0YXJnZXQpXG5cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNUYXJnZXRBdmFpbGFibGVGb3JJbmplY3Rpb24odGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfRGVwZW5kZW5jeUVycm9yKFxuICAgICAgICAgICAgICAgIEFfRGVwZW5kZW5jeUVycm9yLkludmFsaWREZWZhdWx0VGFyZ2V0LFxuICAgICAgICAgICAgICAgIGBBLURlZmF1bHQgY2Fubm90IGJlIHVzZWQgb24gdGhlIHRhcmdldCBvZiB0eXBlICR7dHlwZW9mIHRhcmdldH0gKCR7Y29tcG9uZW50TmFtZX0pYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRldGVybWluZSB0aGUgbWV0aG9kIG5hbWUgb3IgJ2NvbnN0cnVjdG9yJyBmb3IgY29uc3RydWN0b3IgaW5qZWN0aW9uc1xuICAgICAgICBjb25zdCBtZXRob2QgPSBtZXRob2ROYW1lID8gU3RyaW5nKG1ldGhvZE5hbWUpIDogJ2NvbnN0cnVjdG9yJztcbiAgICAgICAgbGV0IG1ldGFLZXk7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHRhcmdldCkgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBleGlzdGluZyBtZXRhIG9yIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGEgPSBBX0NvbnRleHQubWV0YSh0YXJnZXQpLmdldChtZXRhS2V5KSB8fCBuZXcgQV9NZXRhKCk7XG4gICAgICAgIC8vIGdldCBleGlzdGluZyBpbmplY3Rpb25zIGZvciB0aGUgbWV0aG9kIG9yIGNyZWF0ZSBhIG5ldyBhcnJheVxuICAgICAgICBjb25zdCBwYXJhbXNBcnJheTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSA9IGV4aXN0ZWRNZXRhLmdldChtZXRob2QpIHx8IFtdO1xuXG4gICAgICAgIC8vIHNldCB0aGUgcGFyYW1ldGVyIGluamVjdGlvbiBpbmZvXG4gICAgICAgIHBhcmFtc0FycmF5W3BhcmFtZXRlckluZGV4XSA9IHtcbiAgICAgICAgICAgIC4uLihwYXJhbXNBcnJheVtwYXJhbWV0ZXJJbmRleF0gfHwge30pLFxuICAgICAgICAgICAgZGVmYXVsdEFyZ3M6IGFyZ3MsXG4gICAgICAgICAgICBjcmVhdGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgICAvLyBzYXZlIGJhY2sgdGhlIHVwZGF0ZWQgaW5qZWN0aW9ucyBhcnJheVxuICAgICAgICBleGlzdGVkTWV0YS5zZXQobWV0aG9kLCBwYXJhbXNBcnJheSk7XG5cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIG1ldGEgaW5mb1xuICAgICAgICBBX0NvbnRleHRcbiAgICAgICAgICAgIC5tZXRhKHRhcmdldClcbiAgICAgICAgICAgIC5zZXQoXG4gICAgICAgICAgICAgICAgbWV0YUtleSxcbiAgICAgICAgICAgICAgICBleGlzdGVkTWV0YVxuICAgICAgICAgICAgKTtcbiAgICB9XG59IiwgIlxuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSwgQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMgfSBmcm9tIFwiLi4vQS1JbmplY3QvQS1JbmplY3QudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfRGVwZW5kZW5jeV9GbGF0RGVjb3JhdG9yUmV0dXJuIH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LnR5cGVzXCI7XG5pbXBvcnQgeyBBX0RlcGVuZGVuY3lFcnJvciB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS5lcnJvclwiO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlclwiO1xuXG5cbi8qKlxuICogU2hvdWxkIGluZGljYXRlIHdoaWNoIGRlcGVuZGVuY3kgaXMgcmVxdWlyZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfRGVwZW5kZW5jeV9GbGF0KCk6IEFfVFlQRVNfX0FfRGVwZW5kZW5jeV9GbGF0RGVjb3JhdG9yUmV0dXJuIHtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICAgIHRhcmdldDogQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMsXG4gICAgICAgIG1ldGhvZE5hbWU6IHN0cmluZyB8IHN5bWJvbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgcGFyYW1ldGVySW5kZXg6IG51bWJlclxuICAgICkge1xuICAgICAgICAvLyBmb3IgRXJyb3IgaGFuZGxpbmcgcHVycG9zZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KVxuXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzVGFyZ2V0QXZhaWxhYmxlRm9ySW5qZWN0aW9uKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0RlcGVuZGVuY3lFcnJvcihcbiAgICAgICAgICAgICAgICBBX0RlcGVuZGVuY3lFcnJvci5JbnZhbGlkRGVwZW5kZW5jeVRhcmdldCxcbiAgICAgICAgICAgICAgICBgQS1EZXBlbmRlbmN5IGNhbm5vdCBiZSB1c2VkIG9uIHRoZSB0YXJnZXQgb2YgdHlwZSAke3R5cGVvZiB0YXJnZXR9ICgke2NvbXBvbmVudE5hbWV9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIG1ldGhvZCBuYW1lIG9yICdjb25zdHJ1Y3RvcicgZm9yIGNvbnN0cnVjdG9yIGluamVjdGlvbnNcbiAgICAgICAgY29uc3QgbWV0aG9kID0gbWV0aG9kTmFtZSA/IFN0cmluZyhtZXRob2ROYW1lKSA6ICdjb25zdHJ1Y3Rvcic7XG4gICAgICAgIGxldCBtZXRhS2V5O1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3Rvcih0YXJnZXQpIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgbWV0YSBvciBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIGNvbnN0IGV4aXN0ZWRNZXRhID0gQV9Db250ZXh0Lm1ldGEodGFyZ2V0KS5nZXQobWV0YUtleSkgfHwgbmV3IEFfTWV0YSgpO1xuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgaW5qZWN0aW9ucyBmb3IgdGhlIG1ldGhvZCBvciBjcmVhdGUgYSBuZXcgYXJyYXlcbiAgICAgICAgY29uc3QgcGFyYW1zQXJyYXk6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEgPSBleGlzdGVkTWV0YS5nZXQobWV0aG9kKSB8fCBbXTtcblxuICAgICAgICAvLyBzZXQgdGhlIHBhcmFtZXRlciBpbmplY3Rpb24gaW5mb1xuICAgICAgICBwYXJhbXNBcnJheVtwYXJhbWV0ZXJJbmRleF0gPSB7XG4gICAgICAgICAgICAuLi4ocGFyYW1zQXJyYXlbcGFyYW1ldGVySW5kZXhdIHx8IHt9KSxcbiAgICAgICAgICAgIGZsYXQ6IHRydWUsXG4gICAgICAgIH1cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIGluamVjdGlvbnMgYXJyYXlcbiAgICAgICAgZXhpc3RlZE1ldGEuc2V0KG1ldGhvZCwgcGFyYW1zQXJyYXkpO1xuXG4gICAgICAgIC8vIHNhdmUgYmFjayB0aGUgdXBkYXRlZCBtZXRhIGluZm9cbiAgICAgICAgQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQpXG4gICAgICAgICAgICAuc2V0KFxuICAgICAgICAgICAgICAgIG1ldGFLZXksXG4gICAgICAgICAgICAgICAgZXhpc3RlZE1ldGFcbiAgICAgICAgICAgICk7XG4gICAgfVxufSIsICJcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEsIEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzIH0gZnJvbSBcIi4uL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX0RlcGVuZGVuY3lfTG9hZERlY29yYXRvclJldHVybiB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS50eXBlc1wiO1xuaW1wb3J0IHsgQV9EZXBlbmRlbmN5RXJyb3IgfSBmcm9tIFwiLi9BLURlcGVuZGVuY3kuZXJyb3JcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0NvbW1vbi5oZWxwZXJcIjtcblxuXG4vKipcbiAqIFNob3VsZCBpbmRpY2F0ZSB3aGljaCBMb2FkIGlzIHJlcXVpcmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBX0RlcGVuZGVuY3lfTG9hZChcbiAgICAvKipcbiAgICAgKiBQYXRoIHRvIGxvYWQgdGhlIGRlcGVuZGVuY3kgZnJvbVxuICAgICAqL1xuICAgIHBhdGg6IHN0cmluZ1xuKTogQV9UWVBFU19fQV9EZXBlbmRlbmN5X0xvYWREZWNvcmF0b3JSZXR1cm4ge1xuXG4gICAgaWYgKCFwYXRoIHx8IHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgQV9EZXBlbmRlbmN5RXJyb3IoXG4gICAgICAgICAgICBBX0RlcGVuZGVuY3lFcnJvci5JbnZhbGlkTG9hZFBhdGgsXG4gICAgICAgICAgICBgQS1Mb2FkIGRlY29yYXRvciByZXF1aXJlcyBhIHZhbGlkIHBhdGggc3RyaW5nIHRvIHRoZSBkZXBlbmRlbmN5YFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICAgIHRhcmdldDogQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMsXG4gICAgICAgIG1ldGhvZE5hbWU6IHN0cmluZyB8IHN5bWJvbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgcGFyYW1ldGVySW5kZXg6IG51bWJlclxuICAgICkge1xuICAgICAgICAvLyBmb3IgRXJyb3IgaGFuZGxpbmcgcHVycG9zZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KTtcblxuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc1RhcmdldEF2YWlsYWJsZUZvckluamVjdGlvbih0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9EZXBlbmRlbmN5RXJyb3IoXG4gICAgICAgICAgICAgICAgQV9EZXBlbmRlbmN5RXJyb3IuSW52YWxpZExvYWRUYXJnZXQsXG4gICAgICAgICAgICAgICAgYEEtTG9hZCBjYW5ub3QgYmUgdXNlZCBvbiB0aGUgdGFyZ2V0IG9mIHR5cGUgJHt0eXBlb2YgdGFyZ2V0fSAoJHtjb21wb25lbnROYW1lfSlgXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBtZXRob2QgbmFtZSBvciAnY29uc3RydWN0b3InIGZvciBjb25zdHJ1Y3RvciBpbmplY3Rpb25zXG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IG1ldGhvZE5hbWUgPyBTdHJpbmcobWV0aG9kTmFtZSkgOiAnY29uc3RydWN0b3InO1xuICAgICAgICBsZXQgbWV0YUtleTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IodGFyZ2V0KSB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIG1ldGEgb3IgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICBjb25zdCBleGlzdGVkTWV0YSA9IEFfQ29udGV4dC5tZXRhKHRhcmdldCkuZ2V0KG1ldGFLZXkpIHx8IG5ldyBBX01ldGEoKTtcbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIGluamVjdGlvbnMgZm9yIHRoZSBtZXRob2Qgb3IgY3JlYXRlIGEgbmV3IGFycmF5XG4gICAgICAgIGNvbnN0IHBhcmFtc0FycmF5OiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhID0gZXhpc3RlZE1ldGEuZ2V0KG1ldGhvZCkgfHwgW107XG5cbiAgICAgICAgLy8gc2V0IHRoZSBwYXJhbWV0ZXIgaW5qZWN0aW9uIGluZm9cbiAgICAgICAgcGFyYW1zQXJyYXlbcGFyYW1ldGVySW5kZXhdID0ge1xuICAgICAgICAgICAgLi4uKHBhcmFtc0FycmF5W3BhcmFtZXRlckluZGV4XSB8fCB7fSksXG4gICAgICAgICAgICBsb2FkOiBwYXRoXG4gICAgICAgIH1cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIGluamVjdGlvbnMgYXJyYXlcbiAgICAgICAgZXhpc3RlZE1ldGEuc2V0KG1ldGhvZCwgcGFyYW1zQXJyYXkpO1xuXG4gICAgICAgIC8vIHNhdmUgYmFjayB0aGUgdXBkYXRlZCBtZXRhIGluZm9cbiAgICAgICAgQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQpXG4gICAgICAgICAgICAuc2V0KFxuICAgICAgICAgICAgICAgIG1ldGFLZXksXG4gICAgICAgICAgICAgICAgZXhpc3RlZE1ldGFcbiAgICAgICAgICAgICk7XG4gICAgfVxufSIsICJcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEsIEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzIH0gZnJvbSBcIi4uL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX0RlcGVuZGVuY3lfUGFyZW50RGVjb3JhdG9yUmV0dXJuIH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LnR5cGVzXCI7XG5pbXBvcnQgeyBBX0RlcGVuZGVuY3lFcnJvciB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS5lcnJvclwiO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlclwiO1xuXG5cbi8qKlxuICogU2hvdWxkIGluZGljYXRlIHdoaWNoIGRlcGVuZGVuY3kgaXMgcmVxdWlyZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfRGVwZW5kZW5jeV9QYXJlbnQoXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGhvdyBtYW55IGxheWVycyB1cCB0aGUgcGFyZW50IGRlcGVuZGVuY3kgc2hvdWxkIGJlIHJlc29sdmVkIGZyb20gY3VycmVudCBkZXBlbmRlbmN5XG4gICAgICogXG4gICAgICogRGVmYXVsdDogLTEgKG9uZSBsYXllciB1cClcbiAgICAgKi9cbiAgICBsYXllck9mZnNldDogbnVtYmVyID0gLTFcbik6IEFfVFlQRVNfX0FfRGVwZW5kZW5jeV9QYXJlbnREZWNvcmF0b3JSZXR1cm4ge1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgICAgdGFyZ2V0OiBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyxcbiAgICAgICAgbWV0aG9kTmFtZTogc3RyaW5nIHwgc3ltYm9sIHwgdW5kZWZpbmVkLFxuICAgICAgICBwYXJhbWV0ZXJJbmRleDogbnVtYmVyXG4gICAgKSB7XG4gICAgICAgIC8vIGZvciBFcnJvciBoYW5kbGluZyBwdXJwb3Nlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZSh0YXJnZXQpXG5cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNUYXJnZXRBdmFpbGFibGVGb3JJbmplY3Rpb24odGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfRGVwZW5kZW5jeUVycm9yKFxuICAgICAgICAgICAgICAgIEFfRGVwZW5kZW5jeUVycm9yLkludmFsaWREZXBlbmRlbmN5VGFyZ2V0LFxuICAgICAgICAgICAgICAgIGBBLURlcGVuZGVuY3kgY2Fubm90IGJlIHVzZWQgb24gdGhlIHRhcmdldCBvZiB0eXBlICR7dHlwZW9mIHRhcmdldH0gKCR7Y29tcG9uZW50TmFtZX0pYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRldGVybWluZSB0aGUgbWV0aG9kIG5hbWUgb3IgJ2NvbnN0cnVjdG9yJyBmb3IgY29uc3RydWN0b3IgaW5qZWN0aW9uc1xuICAgICAgICBjb25zdCBtZXRob2QgPSBtZXRob2ROYW1lID8gU3RyaW5nKG1ldGhvZE5hbWUpIDogJ2NvbnN0cnVjdG9yJztcbiAgICAgICAgbGV0IG1ldGFLZXk7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHRhcmdldCkgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBleGlzdGluZyBtZXRhIG9yIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGEgPSBBX0NvbnRleHQubWV0YSh0YXJnZXQpLmdldChtZXRhS2V5KSB8fCBuZXcgQV9NZXRhKCk7XG4gICAgICAgIC8vIGdldCBleGlzdGluZyBpbmplY3Rpb25zIGZvciB0aGUgbWV0aG9kIG9yIGNyZWF0ZSBhIG5ldyBhcnJheVxuICAgICAgICBjb25zdCBwYXJhbXNBcnJheTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSA9IGV4aXN0ZWRNZXRhLmdldChtZXRob2QpIHx8IFtdO1xuXG4gICAgICAgIC8vIHNldCB0aGUgcGFyYW1ldGVyIGluamVjdGlvbiBpbmZvXG4gICAgICAgIHBhcmFtc0FycmF5W3BhcmFtZXRlckluZGV4XSA9IHtcbiAgICAgICAgICAgIC4uLihwYXJhbXNBcnJheVtwYXJhbWV0ZXJJbmRleF0gfHwge30pLFxuICAgICAgICAgICAgcGFyZW50OiB7IGxheWVyT2Zmc2V0IH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzYXZlIGJhY2sgdGhlIHVwZGF0ZWQgaW5qZWN0aW9ucyBhcnJheVxuICAgICAgICBleGlzdGVkTWV0YS5zZXQobWV0aG9kLCBwYXJhbXNBcnJheSk7XG5cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIG1ldGEgaW5mb1xuICAgICAgICBBX0NvbnRleHRcbiAgICAgICAgICAgIC5tZXRhKHRhcmdldClcbiAgICAgICAgICAgIC5zZXQoXG4gICAgICAgICAgICAgICAgbWV0YUtleSxcbiAgICAgICAgICAgICAgICBleGlzdGVkTWV0YVxuICAgICAgICAgICAgKTtcbiAgICB9XG59IiwgIlxuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSwgQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMgfSBmcm9tIFwiLi4vQS1JbmplY3QvQS1JbmplY3QudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfRGVwZW5kZW5jeV9SZXF1aXJlRGVjb3JhdG9yUmV0dXJuIH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LnR5cGVzXCI7XG5pbXBvcnQgeyBBX0RlcGVuZGVuY3lFcnJvciB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS5lcnJvclwiO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlclwiO1xuXG5cbi8qKlxuICogU2hvdWxkIGluZGljYXRlIHdoaWNoIGRlcGVuZGVuY3kgaXMgcmVxdWlyZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfRGVwZW5kZW5jeV9SZXF1aXJlKCk6IEFfVFlQRVNfX0FfRGVwZW5kZW5jeV9SZXF1aXJlRGVjb3JhdG9yUmV0dXJuIHtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICAgIHRhcmdldDogQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMsXG4gICAgICAgIG1ldGhvZE5hbWU6IHN0cmluZyB8IHN5bWJvbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgcGFyYW1ldGVySW5kZXg6IG51bWJlclxuICAgICkge1xuICAgICAgICAvLyBmb3IgRXJyb3IgaGFuZGxpbmcgcHVycG9zZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KVxuXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzVGFyZ2V0QXZhaWxhYmxlRm9ySW5qZWN0aW9uKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0RlcGVuZGVuY3lFcnJvcihcbiAgICAgICAgICAgICAgICBBX0RlcGVuZGVuY3lFcnJvci5JbnZhbGlkRGVwZW5kZW5jeVRhcmdldCxcbiAgICAgICAgICAgICAgICBgQS1EZXBlbmRlbmN5IGNhbm5vdCBiZSB1c2VkIG9uIHRoZSB0YXJnZXQgb2YgdHlwZSAke3R5cGVvZiB0YXJnZXR9ICgke2NvbXBvbmVudE5hbWV9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIG1ldGhvZCBuYW1lIG9yICdjb25zdHJ1Y3RvcicgZm9yIGNvbnN0cnVjdG9yIGluamVjdGlvbnNcbiAgICAgICAgY29uc3QgbWV0aG9kID0gbWV0aG9kTmFtZSA/IFN0cmluZyhtZXRob2ROYW1lKSA6ICdjb25zdHJ1Y3Rvcic7XG4gICAgICAgIGxldCBtZXRhS2V5O1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3Rvcih0YXJnZXQpIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgbWV0YSBvciBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIGNvbnN0IGV4aXN0ZWRNZXRhID0gQV9Db250ZXh0Lm1ldGEodGFyZ2V0KS5nZXQobWV0YUtleSkgfHwgbmV3IEFfTWV0YSgpO1xuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgaW5qZWN0aW9ucyBmb3IgdGhlIG1ldGhvZCBvciBjcmVhdGUgYSBuZXcgYXJyYXlcbiAgICAgICAgY29uc3QgcGFyYW1zQXJyYXk6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEgPSBleGlzdGVkTWV0YS5nZXQobWV0aG9kKSB8fCBbXTtcblxuICAgICAgICAvLyBzZXQgdGhlIHBhcmFtZXRlciBpbmplY3Rpb24gaW5mb1xuICAgICAgICBwYXJhbXNBcnJheVtwYXJhbWV0ZXJJbmRleF0gPSB7XG4gICAgICAgICAgICAuLi4ocGFyYW1zQXJyYXlbcGFyYW1ldGVySW5kZXhdIHx8IHt9KSxcbiAgICAgICAgICAgIHJlcXVpcmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgICAvLyBzYXZlIGJhY2sgdGhlIHVwZGF0ZWQgaW5qZWN0aW9ucyBhcnJheVxuICAgICAgICBleGlzdGVkTWV0YS5zZXQobWV0aG9kLCBwYXJhbXNBcnJheSk7XG5cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIG1ldGEgaW5mb1xuICAgICAgICBBX0NvbnRleHRcbiAgICAgICAgICAgIC5tZXRhKHRhcmdldClcbiAgICAgICAgICAgIC5zZXQoXG4gICAgICAgICAgICAgICAgbWV0YUtleSxcbiAgICAgICAgICAgICAgICBleGlzdGVkTWV0YVxuICAgICAgICAgICAgKTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfRGVwZW5kZW5jeV9EZWZhdWx0IH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LURlZmF1bHQuZGVjb3JhdG9yXCI7XG5pbXBvcnQgeyBBX0RlcGVuZGVuY3lfRmxhdCB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS1GbGF0LmRlY29yYXRvclwiO1xuaW1wb3J0IHsgQV9EZXBlbmRlbmN5X0xvYWQgfSBmcm9tIFwiLi9BLURlcGVuZGVuY3ktTG9hZC5kZWNvcmF0b3JcIjtcbmltcG9ydCB7IEFfRGVwZW5kZW5jeV9QYXJlbnQgfSBmcm9tIFwiLi9BLURlcGVuZGVuY3ktUGFyZW50LmRlY29yYXRvclwiO1xuaW1wb3J0IHsgQV9EZXBlbmRlbmN5X1JlcXVpcmUgfSBmcm9tIFwiLi9BLURlcGVuZGVuY3ktUmVxdWlyZS5kZWNvcmF0b3JcIjtcblxuXG5leHBvcnQgY2xhc3MgQV9EZXBlbmRlbmN5IHtcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gaW5kaWNhdGUgd2hpY2ggSW5qZWN0ZWQgcGFyYW1ldGVyIGlzIHJlcXVpcmVkXG4gICAgICogXG4gICAgICogWyFdIElmIHBhcmFtZXRlciBtYXJrZWQgYXMgcmVxdWlyZWQgaXMgbm90IHByb3ZpZGVkLCBhbiBlcnJvciB3aWxsIGJlIHRocm93blxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgUmVxdWlyZWQoKTogdHlwZW9mIEFfRGVwZW5kZW5jeV9SZXF1aXJlIHtcbiAgICAgICAgcmV0dXJuIEFfRGVwZW5kZW5jeV9SZXF1aXJlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gaW5kaWNhdGUgd2hpY2ggZGVwZW5kZW5jeSBzaG91bGQgYmUgbG9hZGVkIGZyb20gYSBzcGVjaWZpYyBwYXRoXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGdldCBMb2FkZWQoKTogdHlwZW9mIEFfRGVwZW5kZW5jeV9Mb2FkIHtcbiAgICAgICAgcmV0dXJuIEFfRGVwZW5kZW5jeV9Mb2FkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gaW5kaWNhdGUgd2hpY2ggZGVwZW5kZW5jeSBkZWZhdWx0IHBhcmFtZXRlcnMgc2hvdWxkIGJlIHVzZWRcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IERlZmF1bHQoKTogdHlwZW9mIEFfRGVwZW5kZW5jeV9EZWZhdWx0IHtcbiAgICAgICAgcmV0dXJuIEFfRGVwZW5kZW5jeV9EZWZhdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gaW5kaWNhdGUgd2hpY2ggcGFyZW50IGRlcGVuZGVuY3kgc2hvdWxkIGJlIHJlc29sdmVkXG4gICAgICogZS5nLiBmcm9tIHdoaWNoIGxheWVyIHVwIHRoZSBwYXJlbnQgc2hvdWxkIGJlIHRha2VuXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGdldCBQYXJlbnQoKTogdHlwZW9mIEFfRGVwZW5kZW5jeV9QYXJlbnQge1xuICAgICAgICByZXR1cm4gQV9EZXBlbmRlbmN5X1BhcmVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gaW5kaWNhdGUgdGhhdCB0aGUgZGVwZW5kZW5jeSBzaG91bGQgYmUgcmVzb2x2ZWQgaW4gYSBmbGF0IG1hbm5lclxuICAgICAqIE9ubHkgaW4gdGhlIHNhbWUgc2NvcGUsIHdpdGhvdXQgZ29pbmcgdXAgdG8gcGFyZW50IHNjb3Blc1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgRmxhdCgpOiB0eXBlb2YgQV9EZXBlbmRlbmN5X0ZsYXQge1xuICAgICAgICByZXR1cm4gQV9EZXBlbmRlbmN5X0ZsYXQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9uYW1lOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBDbGFzcyBpbnN0YW5jZXMgYWxsb3dzIHRvIGluZGVudGlmeSBkZXBlbmRlbmNpZXMgYnkgbmFtZSBhbmQgdXNlIHRoZW0gZm9yIGJldHRlciB0eXBlIGNoZWNraW5nXG4gICAgICogXG4gICAgICogQHBhcmFtIG5hbWUgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIG5hbWU6IHN0cmluZ1xuICAgICkge1xuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkZXBlbmRlbmN5IG5hbWVcbiAgICAgKiBcbiAgICAgKiBDYW4gYmUgaWRlbnRpZmllciwgdXJsIG9yIGFueSBzdHJpbmcgdmFsdWVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfSW5qZWN0RXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgSW52YWxpZEluamVjdGlvblRhcmdldCA9ICdJbnZhbGlkIHRhcmdldCBmb3IgQS1JbmplY3QgZGVjb3JhdG9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBNaXNzaW5nSW5qZWN0aW9uVGFyZ2V0ID0gJ01pc3NpbmcgdGFyZ2V0IGZvciBBLUluamVjdCBkZWNvcmF0b3InO1xufSIsICJpbXBvcnQge1xuICAgIEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX0VudGl0eUluamVjdGlvbkluc3RydWN0aW9ucyxcbiAgICBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhLFxuICAgIEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yUmV0dXJuLFxuICAgIEFfVFlQRVNfX0luamVjdGFibGVDb25zdHJ1Y3RvcnMsXG4gICAgQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHNcbn0gZnJvbSBcIi4vQS1JbmplY3QudHlwZXNcIjtcbmltcG9ydCB7IEFfQ29tcG9uZW50IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0ZyYWdtZW50IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRnJhZ21lbnQvQS1GcmFnbWVudC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC50eXBlc1wiO1xuaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtTWV0YS9BLU1ldGEuY2xhc3NcIjtcbmltcG9ydCB7IEFfRW50aXR5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRW50aXR5L0EtRW50aXR5LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlX0NvbnN0cnVjdG9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRmVhdHVyZS9BLUZlYXR1cmUudHlwZXNcIjtcbmltcG9ydCB7IEFfQ2FsbGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ2FsbGVyL0FfQ2FsbGVyLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9JbmplY3RFcnJvciB9IGZyb20gXCIuL0EtSW5qZWN0LmVycm9yXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1FbnRpdHkvQS1FbnRpdHkudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRnJhZ21lbnQvQS1GcmFnbWVudC50eXBlc1wiO1xuaW1wb3J0IHsgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLVNjb3BlL0EtU2NvcGUuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX1Njb3BlX0NvbnN0cnVjdG9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtU2NvcGUvQS1TY29wZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9GZWF0dXJlIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRmVhdHVyZS9BLUZlYXR1cmUuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0NvbW1vbi5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci50eXBlc1wiO1xuaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0VudGl0eU1ldGFLZXkgfSBmcm9tIFwiLi4vQS1FbnRpdHkvQS1FbnRpdHkuY29uc3RhbnRzXCI7XG5cblxuLyoqXG4gKiBBLUluamVjdCBkZWNvcmF0b3JcbiAqIFxuICogVGhpcyBEZWNvcmF0b3IgYWxsb3dzIHRvIGluamVjdCBkZXBlbmRlbmNpZXMgaW50byB0aGUgbW9kdWxlIGxpa2UgXG4gKiAtIE5hbWVzcGFjZXMgXG4gKiAtIE90aGVyIENvbmNlcHRzIFxuICogLSBvciBtYXliZSBDb21wb25lbnRzXG4gKiBcbiAqIEBwYXJhbSBwYXJhbXMgLSBzZWUgb3ZlcmxvYWRzXG4gKiBAcmV0dXJucyAtIGRlY29yYXRvciBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gQV9JbmplY3Q8VCBleHRlbmRzIEFfU2NvcGU+KFxuICAgIC8qKipcbiAgICAgKiBQcm92aWRlIHRoZSBTY29wZSBjb25zdHJ1Y3RvciB0aGF0IHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBpbmplY3Rpb24uXG4gICAgICpcbiAgICAgKiBbIV0gSXQgcmV0dXJucyBhbiBpbnN0YW5jZSBvZiB0aGUgU2NvcGUgd2hlcmUgdGhlIEVudGl0eS9Db21wb25lbnQvQ29udGFpbmVyIGlzIGRlZmluZWQuXG4gICAgICovXG4gICAgc2NvcGU6IEFfVFlQRVNfX1Njb3BlX0NvbnN0cnVjdG9yPFQ+XG4pOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvclJldHVyblxuZXhwb3J0IGZ1bmN0aW9uIEFfSW5qZWN0PFQgZXh0ZW5kcyBBX0Vycm9yPihcbiAgICAvKioqXG4gICAgICogUHJvdmlkZSB0aGUgRXJyb3IgY29uc3RydWN0b3IgdGhhdCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgaW5qZWN0aW9uLlxuICAgICAqXG4gICAgICogWyFdIEl0IHJldHVybnMgYW4gSW5zdGFuY2Ugb2YgdGhlIEVycm9yIHdoYXQgaXMgZXhlY3V0ZWQuXG4gICAgICovXG4gICAgZXJyb3I6IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yPFQ+XG4pOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvclJldHVyblxuZXhwb3J0IGZ1bmN0aW9uIEFfSW5qZWN0PFQgZXh0ZW5kcyBBX0ZlYXR1cmU+KFxuICAgIC8qKlxuICAgICAqIFByb3ZpZGUgdGhlIEZlYXR1cmUgY29uc3RydWN0b3IgdGhhdCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgaW5qZWN0aW9uLlxuICAgICAqIFxuICAgICAqIFshXSBJdCByZXR1cm5zIGFuIEluc3RhbmNlIG9mIHRoZSBGZWF0dXJlIHdoYXQgaXMgZXhlY3V0ZWQuIFxuICAgICAqL1xuICAgIGZlYXR1cmU6IEFfVFlQRVNfX0ZlYXR1cmVfQ29uc3RydWN0b3I8VD5cbik6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yUmV0dXJuXG5leHBvcnQgZnVuY3Rpb24gQV9JbmplY3Q8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAvKipcbiAgICAgKiBQcm92aWRlIHRoZSBDb21wb25lbnQgY29uc3RydWN0b3IgdGhhdCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgaW5qZWN0aW9uLlxuICAgICAqIFxuICAgICAqIFshXSBJdCByZXR1cm5zIGFuIEluc3RhbmNlIG9mIHRoZSBDb21wb25lbnQgZnJvbSBjdXJyZW50IFNjb3BlIG9yIGZyb20gUGFyZW50IFNjb3Blcy5cbiAgICAgKi9cbiAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPlxuKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JSZXR1cm5cbi8vICBBbGxvd3MgdG8gaW5qZWN0IGp1c3Qgb25lIEFfRmVhdHVyZUNhbGxlclxuZXhwb3J0IGZ1bmN0aW9uIEFfSW5qZWN0KFxuICAgIC8qKlxuICAgICAqIFByb3ZpZGUgdGhlIEFfQ2FsbGVyIGNvbnN0cnVjdG9yIHRvIGluamVjdCB0aGUgQ2FsbGVyIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBbIV0gSXQgcmV0dXJucyBpbml0aWF0b3Igb2YgdGhlIGNhbGwsIGUuZy4gQ29udGFpbmVyL0NvbXBvbmVudC9Db21tYW5kIHdobyBjYWxsZWQgRmVhdHVyZSBcbiAgICAgKi9cbiAgICBjYWxsZXI6IHR5cGVvZiBBX0NhbGxlclxuKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JSZXR1cm5cbi8vIEFsbG93cyB0byBpbmplY3QganVzdCBvbmUgQ29udGV4dCBGcmFnbWVudFxuZXhwb3J0IGZ1bmN0aW9uIEFfSW5qZWN0PFQgZXh0ZW5kcyBBX0ZyYWdtZW50PihcbiAgICAvKipcbiAgICAgKiBQcm92aWRlIHRoZSBGcmFnbWVudCBjb25zdHJ1Y3RvciB0byBpbmplY3QgdGhlIEZyYWdtZW50IGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBbIV0gSXQgcmV0dXJucyB0aGUgRnJhZ21lbnQgaW5zdGFuY2UgZnJvbSBjdXJyZW50IFNjb3BlIG9yIGZyb20gUGFyZW50IFNjb3Blcy5cbiAgICAgKi9cbiAgICBmcmFnbWVudDogQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8VD5cbik6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yUmV0dXJuXG5leHBvcnQgZnVuY3Rpb24gQV9JbmplY3Q8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAvKipcbiAgICAgKiBQcm92aWRlIHRoZSBFbnRpdHkgY29uc3RydWN0b3IgdG8gaW5qZWN0IHRoZSBFbnRpdHkgaW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogSXQgcmV0dXJucyB0aGUgRW50aXR5IGluc3RhbmNlIGZyb20gY3VycmVudCBTY29wZSBvciBmcm9tIFBhcmVudCBTY29wZXMuXG4gICAgICogWyFdIE5vdGU6IElmIGluc3RhbmNlIGhhcyBtb3JlIHRoYW4gb25lIEVudGl0eSBvZiB0aGUgc2FtZSB0eXBlIEl0IHJldHVybnMgRklSU1QgZm91bmQgRW50aXR5XG4gICAgICogWyFdIE5vdGU6IFVzZSAnY29uZmlnJyB0byBzcGVjaWZ5IHRvIGluamVjdCBzcGVjaWZpYyBvbmUgb3IgZXZlbiBBcnJheSBvZiBFbnRpdGllc1xuICAgICAqL1xuICAgIGVudGl0eTogQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPFQ+LFxuICAgIC8qKlxuICAgICAqIFByb3ZpZGUgYWRkaXRpb25hbCBpbnN0cnVjdGlvbnMgb24gaG93IHRvIHBlcmZvcm0gdGhlIGluamVjdGlvblxuICAgICAqIFxuICAgICAqIFshXSBEZWZhdWx0IFBhZ2luYXRpb24gaXMgMSBpZiBpdCdzIG5lY2Vzc2FyeSB0byBnZXQgbXVsdGlwbGUgRW50aXRpZXMgcGxlYXNlIGN1c3RvbWl6ZSBpdCBpbiB0aGUgaW5zdHJ1Y3Rpb25zXG4gICAgICovXG4gICAgY29uZmlnPzogUGFydGlhbDxBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25JbnN0cnVjdGlvbnM8VD4+XG4pOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvclJldHVybjxUPlxuZXhwb3J0IGZ1bmN0aW9uIEFfSW5qZWN0PFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgLyoqXG4gICAgICogUHJvdmlkZSB0aGUgbmFtZSBvZiBDb21wb25lbnQgY29uc3RydWN0b3IgdG8gaW5qZWN0IHRoZSBDb21wb25lbnQgaW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBbIV0gWW91IGNhbiB1c2UgYm90aCBjdXN0b21pemVkIG9uZSBvciBvcmlnaW5hbCBkZXBlbmRpbmcgb24geW91ciBvdmVycmlkaW5nIHN0cmF0ZWd5XG4gICAgICovXG4gICAgY3Rvcjogc3RyaW5nXG4pOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvclJldHVyblxuZXhwb3J0IGZ1bmN0aW9uIEFfSW5qZWN0KFxuICAgIHBhcmFtMTogQV9UWVBFU19fSW5qZWN0YWJsZUNvbnN0cnVjdG9ycyxcbiAgICBwYXJhbTI/OiBQYXJ0aWFsPEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX0VudGl0eUluamVjdGlvbkluc3RydWN0aW9ucz5cbik6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yUmV0dXJuIHtcblxuICAgIC8vICBwcmUgY2FsbCBjaGVja3NcbiAgICBpZiAoIXBhcmFtMSkge1xuICAgICAgICB0aHJvdyBuZXcgQV9JbmplY3RFcnJvcihcbiAgICAgICAgICAgIEFfSW5qZWN0RXJyb3IuTWlzc2luZ0luamVjdGlvblRhcmdldCxcbiAgICAgICAgICAgIGBBLUluamVjdCBkZWNvcmF0b3IgaXMgbWlzc2luZyB0aGUgdGFyZ2V0IHRvIGluamVjdGBcbiAgICAgICAgKTtcbiAgICB9XG5cblxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICAgIHRhcmdldDogQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMsXG4gICAgICAgIG1ldGhvZE5hbWU6IHN0cmluZyB8IHN5bWJvbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgcGFyYW1ldGVySW5kZXg6IG51bWJlclxuICAgICkge1xuICAgICAgICAvLyBmb3IgRXJyb3IgaGFuZGxpbmcgcHVycG9zZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KVxuXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzVGFyZ2V0QXZhaWxhYmxlRm9ySW5qZWN0aW9uKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0luamVjdEVycm9yKFxuICAgICAgICAgICAgICAgIEFfSW5qZWN0RXJyb3IuSW52YWxpZEluamVjdGlvblRhcmdldCxcbiAgICAgICAgICAgICAgICBgQS1JbmplY3QgY2Fubm90IGJlIHVzZWQgb24gdGhlIHRhcmdldCBvZiB0eXBlICR7dHlwZW9mIHRhcmdldH0gKCR7Y29tcG9uZW50TmFtZX0pYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRldGVybWluZSB0aGUgbWV0aG9kIG5hbWUgb3IgJ2NvbnN0cnVjdG9yJyBmb3IgY29uc3RydWN0b3IgaW5qZWN0aW9uc1xuICAgICAgICBjb25zdCBtZXRob2QgPSBtZXRob2ROYW1lID8gU3RyaW5nKG1ldGhvZE5hbWUpIDogJ2NvbnN0cnVjdG9yJztcbiAgICAgICAgbGV0IG1ldGFLZXk7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHRhcmdldCkgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19FbnRpdHlNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgbWV0YSBvciBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIGNvbnN0IGV4aXN0ZWRNZXRhID0gQV9Db250ZXh0Lm1ldGEodGFyZ2V0KS5nZXQobWV0YUtleSkgfHwgbmV3IEFfTWV0YSgpO1xuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgaW5qZWN0aW9ucyBmb3IgdGhlIG1ldGhvZCBvciBjcmVhdGUgYSBuZXcgYXJyYXlcbiAgICAgICAgY29uc3QgcGFyYW1zQXJyYXk6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEgPSBleGlzdGVkTWV0YS5nZXQobWV0aG9kKSB8fCBbXTtcblxuICAgICAgICAvLyBzZXQgdGhlIHBhcmFtZXRlciBpbmplY3Rpb24gaW5mb1xuICAgICAgICBwYXJhbXNBcnJheVtwYXJhbWV0ZXJJbmRleF0gPSB7XG4gICAgICAgICAgICB0YXJnZXQ6IHBhcmFtMSxcbiAgICAgICAgICAgIGluc3RydWN0aW9uczogcGFyYW0yXG4gICAgICAgIH1cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIGluamVjdGlvbnMgYXJyYXlcbiAgICAgICAgZXhpc3RlZE1ldGEuc2V0KG1ldGhvZCwgcGFyYW1zQXJyYXkpO1xuXG4gICAgICAgIC8vIHNhdmUgYmFjayB0aGUgdXBkYXRlZCBtZXRhIGluZm9cbiAgICAgICAgQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQpXG4gICAgICAgICAgICAuc2V0KFxuICAgICAgICAgICAgICAgIG1ldGFLZXksXG4gICAgICAgICAgICAgICAgZXhpc3RlZE1ldGFcbiAgICAgICAgICAgICk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbXBvbmVudCwgQV9Db250ZXh0LCBBX0Vycm9yLCBBX0ZlYXR1cmUsIEFfSWRlbnRpdHlIZWxwZXIsIEFfSW5qZWN0LCBBX1Njb3BlLCBBX1RZUEVTX19JbmplY3RhYmxlQ29uc3RydWN0b3JzLCBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0NoYW5uZWxFcnJvciB9IGZyb20gXCIuL0EtQ2hhbm5lbC5lcnJvclwiO1xuaW1wb3J0IHsgQV9DaGFubmVsRmVhdHVyZXMgfSBmcm9tIFwiLi9BLUNoYW5uZWwuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX09wZXJhdGlvbkNvbnRleHQgfSBmcm9tIFwiLi4vQS1PcGVyYXRpb24vQS1PcGVyYXRpb24uY29udGV4dFwiO1xuaW1wb3J0IHsgQV9DaGFubmVsUmVxdWVzdCB9IGZyb20gXCIuL0EtQ2hhbm5lbFJlcXVlc3QuY29udGV4dFwiO1xuXG4vKipcbiAqIEEtQ2hhbm5lbCAtIEEgcG93ZXJmdWwsIGV4dGVuc2libGUgY29tbXVuaWNhdGlvbiBjaGFubmVsIGNvbXBvbmVudFxuICogXG4gKiBBLUNoYW5uZWwgcHJvdmlkZXMgYSBzdHJ1Y3R1cmVkIGFwcHJvYWNoIHRvIGltcGxlbWVudGluZyB2YXJpb3VzIGNvbW11bmljYXRpb24gcGF0dGVybnNcbiAqIHN1Y2ggYXMgSFRUUCBjbGllbnRzLCBXZWJTb2NrZXQgY29ubmVjdGlvbnMsIG1lc3NhZ2UgcXVldWVzLCBhbmQgb3RoZXIgbWVzc2FnaW5nIHN5c3RlbXMuXG4gKiBJdCBvZmZlcnMgYSBjb21wbGV0ZSBsaWZlY3ljbGUgbWFuYWdlbWVudCBzeXN0ZW0gd2l0aCBleHRlbnNpYmxlIGhvb2tzIGZvciBjdXN0b20gYmVoYXZpb3IuXG4gKiBcbiAqICMjIEtleSBGZWF0dXJlczpcbiAqIC0g8J+UhCAqKkxpZmVjeWNsZSBNYW5hZ2VtZW50KiogLSBDb21wbGV0ZSBjb25uZWN0aW9uIGFuZCBwcm9jZXNzaW5nIGxpZmVjeWNsZSB3aXRoIGhvb2tzXG4gKiAtIPCfk6EgKipNdWx0aXBsZSBDb21tdW5pY2F0aW9uIFBhdHRlcm5zKiogLSBSZXF1ZXN0L1Jlc3BvbnNlIGFuZCBGaXJlLWFuZC1Gb3JnZXQgbWVzc2FnaW5nICBcbiAqIC0g8J+boe+4jyAqKkVycm9yIEhhbmRsaW5nKiogLSBDb21wcmVoZW5zaXZlIGVycm9yIGNhcHR1cmUgYW5kIG1hbmFnZW1lbnRcbiAqIC0g8J+OryAqKlR5cGUgU2FmZXR5KiogLSBGdWxsIFR5cGVTY3JpcHQgc3VwcG9ydCB3aXRoIGdlbmVyaWMgdHlwZXNcbiAqIC0g8J+UpyAqKkV4dGVuc2libGUqKiAtIENvbXBvbmVudC1iYXNlZCBhcmNoaXRlY3R1cmUgZm9yIGN1c3RvbSBiZWhhdmlvclxuICogLSDimqEgKipDb25jdXJyZW50IFByb2Nlc3NpbmcqKiAtIEhhbmRsZSBtdWx0aXBsZSByZXF1ZXN0cyBzaW11bHRhbmVvdXNseVxuICogXG4gKiAjIyBCYXNpYyBVc2FnZTpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNvbnN0IGNoYW5uZWwgPSBuZXcgQV9DaGFubmVsKCk7XG4gKiBBX0NvbnRleHQucm9vdC5yZWdpc3RlcihjaGFubmVsKTtcbiAqIFxuICogLy8gUmVxdWVzdC9SZXNwb25zZSBwYXR0ZXJuXG4gKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNoYW5uZWwucmVxdWVzdCh7IGFjdGlvbjogJ2dldERhdGEnLCBpZDogMTIzIH0pO1xuICogXG4gKiAvLyBGaXJlLWFuZC1mb3JnZXQgcGF0dGVybiAgXG4gKiBhd2FpdCBjaGFubmVsLnNlbmQoeyB0eXBlOiAnbm90aWZpY2F0aW9uJywgbWVzc2FnZTogJ0hlbGxvIFdvcmxkJyB9KTtcbiAqIGBgYFxuICogXG4gKiAjIyBDdXN0b20gSW1wbGVtZW50YXRpb246XG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBIdHRwQ2hhbm5lbCBleHRlbmRzIEFfQ2hhbm5lbCB7fVxuICogXG4gKiBjbGFzcyBIdHRwUHJvY2Vzc29yIGV4dGVuZHMgQV9Db21wb25lbnQge1xuICogICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHsgc2NvcGU6IFtIdHRwQ2hhbm5lbF0gfSlcbiAqICAgICBhc3luYyBbQV9DaGFubmVsRmVhdHVyZXMub25SZXF1ZXN0XShcbiAqICAgICAgICAgQEFfSW5qZWN0KEFfQ2hhbm5lbFJlcXVlc3QpIGNvbnRleHQ6IEFfQ2hhbm5lbFJlcXVlc3RcbiAqICAgICApIHtcbiAqICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb250ZXh0LnBhcmFtcy51cmwpO1xuICogICAgICAgICAoY29udGV4dCBhcyBhbnkpLl9yZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gKiAgICAgfVxuICogfVxuICogYGBgXG4gKiBcbiAqIEBzZWUge0BsaW5rIC4vUkVBRE1FLm1kfSBGb3IgY29tcGxldGUgZG9jdW1lbnRhdGlvbiBhbmQgZXhhbXBsZXNcbiAqL1xuZXhwb3J0IGNsYXNzIEFfQ2hhbm5lbCBleHRlbmRzIEFfQ29tcG9uZW50IHtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBjaGFubmVsIGlzIGN1cnJlbnRseSBwcm9jZXNzaW5nIHJlcXVlc3RzLlxuICAgICAqIFRoaXMgZmxhZyBpcyBtYW5hZ2VkIGF1dG9tYXRpY2FsbHkgZHVyaW5nIHJlcXVlc3Qvc2VuZCBvcGVyYXRpb25zLlxuICAgICAqIFxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfcHJvY2Vzc2luZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGNoYW5uZWwgaW5pdGlhbGl6YXRpb24gaXMgY29tcGxldGUuXG4gICAgICogRW5zdXJlcyB0aGF0IG9uQ29ubmVjdCBsaWZlY3ljbGUgaG9vayBoYXMgYmVlbiBleGVjdXRlZCBiZWZvcmVcbiAgICAgKiBhbnkgY29tbXVuaWNhdGlvbiBvcGVyYXRpb25zLlxuICAgICAqIFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9pbml0aWFsaXplZD86IFByb21pc2U8dm9pZD47XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBjYWNoZSBzdG9yYWdlIGZvciBjaGFubmVsLXNwZWNpZmljIGRhdGEuXG4gICAgICogQ2FuIGJlIHVzZWQgYnkgY3VzdG9tIGltcGxlbWVudGF0aW9ucyBmb3IgY2FjaGluZyByZXNwb25zZXMsXG4gICAgICogY29ubmVjdGlvbiBwb29scywgb3Igb3RoZXIgY2hhbm5lbC1zcGVjaWZpYyBzdGF0ZS5cbiAgICAgKiBcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9jYWNoZTogTWFwPHN0cmluZywgYW55PiA9IG5ldyBNYXAoKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQV9DaGFubmVsIGluc3RhbmNlLlxuICAgICAqIFxuICAgICAqIFRoZSBjaGFubmVsIG11c3QgYmUgcmVnaXN0ZXJlZCB3aXRoIEFfQ29udGV4dCBiZWZvcmUgdXNlOlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCBjaGFubmVsID0gbmV3IEFfQ2hhbm5lbCgpO1xuICAgICAqIEFfQ29udGV4dC5yb290LnJlZ2lzdGVyKGNoYW5uZWwpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBjaGFubmVsIGlzIGN1cnJlbnRseSBwcm9jZXNzaW5nIHJlcXVlc3RzLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGNoYW5uZWwgaXMgcHJvY2Vzc2luZywgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgZ2V0IHByb2Nlc3NpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBjaGFubmVsIGlzIGZ1bGx5IGluaXRpYWxpemVkLlxuICAgICAqIFxuICAgICAqIEF1dG9tYXRpY2FsbHkgY2FsbHMgdGhlIG9uQ29ubmVjdCBsaWZlY3ljbGUgaG9vayBpZiBub3QgYWxyZWFkeSBjYWxsZWQuXG4gICAgICogVGhpcyBlbnN1cmVzIHRoZSBjaGFubmVsIGlzIHJlYWR5IGZvciBjb21tdW5pY2F0aW9uIG9wZXJhdGlvbnMuXG4gICAgICogXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGluaXRpYWxpemF0aW9uIGlzIGNvbXBsZXRlXG4gICAgICovXG4gICAgZ2V0IGluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdGhpcy5jb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09IExpZmVjeWNsZSBFeHRlbnNpb24gUG9pbnRzID09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBDb25uZWN0aW9uIGxpZmVjeWNsZSBob29rIC0gY2FsbGVkIGR1cmluZyBjaGFubmVsIGluaXRpYWxpemF0aW9uLlxuICAgICAqIFxuICAgICAqIE92ZXJyaWRlIHRoaXMgbWV0aG9kIGluIGN1c3RvbSBjb21wb25lbnRzIHRvIGltcGxlbWVudCBjb25uZWN0aW9uIGxvZ2ljOlxuICAgICAqIC0gSW5pdGlhbGl6ZSBuZXR3b3JrIGNvbm5lY3Rpb25zXG4gICAgICogLSBMb2FkIGNvbmZpZ3VyYXRpb25cbiAgICAgKiAtIFZhbGlkYXRlIGVudmlyb25tZW50XG4gICAgICogLSBTZXQgdXAgY29ubmVjdGlvbiBwb29sc1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNsYXNzIERhdGFiYXNlQ2hhbm5lbCBleHRlbmRzIEFfQ2hhbm5lbCB7fVxuICAgICAqIFxuICAgICAqIGNsYXNzIERhdGFiYXNlQ29ubmVjdG9yIGV4dGVuZHMgQV9Db21wb25lbnQge1xuICAgICAqICAgICBAQV9GZWF0dXJlLkV4dGVuZCh7IHNjb3BlOiBbRGF0YWJhc2VDaGFubmVsXSB9KVxuICAgICAqICAgICBhc3luYyBbQV9DaGFubmVsRmVhdHVyZXMub25Db25uZWN0XSgpIHtcbiAgICAgKiAgICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZURhdGFiYXNlKCk7XG4gICAgICogICAgICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY2hhbm5lbCBjb25uZWN0ZWQnKTtcbiAgICAgKiAgICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFfQ2hhbm5lbEZlYXR1cmVzLm9uQ29ubmVjdFxuICAgIH0pXG4gICAgYXN5bmMgb25Db25uZWN0KC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb24gLSBubyBvcGVyYXRpb25cbiAgICAgICAgLy8gT3ZlcnJpZGUgaW4gY3VzdG9tIGltcGxlbWVudGF0aW9uc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3Rpb24gbGlmZWN5Y2xlIGhvb2sgLSBjYWxsZWQgZHVyaW5nIGNoYW5uZWwgY2xlYW51cC5cbiAgICAgKiBcbiAgICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCBpbiBjdXN0b20gY29tcG9uZW50cyB0byBpbXBsZW1lbnQgY2xlYW51cCBsb2dpYzpcbiAgICAgKiAtIENsb3NlIG5ldHdvcmsgY29ubmVjdGlvbnNcbiAgICAgKiAtIFNhdmUgc3RhdGVcbiAgICAgKiAtIFJlbGVhc2UgcmVzb3VyY2VzXG4gICAgICogLSBDbGVhciBjYWNoZXNcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBAQV9GZWF0dXJlLkV4dGVuZCh7IHNjb3BlOiBbRGF0YWJhc2VDaGFubmVsXSB9KVxuICAgICAqIGFzeW5jIFtBX0NoYW5uZWxGZWF0dXJlcy5vbkRpc2Nvbm5lY3RdKCkge1xuICAgICAqICAgICBhd2FpdCB0aGlzLmNsb3NlQ29ubmVjdGlvbnMoKTtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGNoYW5uZWwgZGlzY29ubmVjdGVkJyk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9DaGFubmVsRmVhdHVyZXMub25EaXNjb25uZWN0XG4gICAgfSlcbiAgICBhc3luYyBvbkRpc2Nvbm5lY3QoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiAtIG5vIG9wZXJhdGlvblxuICAgICAgICAvLyBPdmVycmlkZSBpbiBjdXN0b20gaW1wbGVtZW50YXRpb25zXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJlLXJlcXVlc3QgcHJvY2Vzc2luZyBob29rIC0gY2FsbGVkIGJlZm9yZSBtYWluIHJlcXVlc3QgcHJvY2Vzc2luZy5cbiAgICAgKiBcbiAgICAgKiBVc2UgdGhpcyBob29rIGZvcjpcbiAgICAgKiAtIFJlcXVlc3QgdmFsaWRhdGlvblxuICAgICAqIC0gQXV0aGVudGljYXRpb25cbiAgICAgKiAtIFJhdGUgbGltaXRpbmdcbiAgICAgKiAtIExvZ2dpbmdcbiAgICAgKiAtIFJlcXVlc3QgdHJhbnNmb3JtYXRpb25cbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBAQV9GZWF0dXJlLkV4dGVuZCh7IHNjb3BlOiBbSHR0cENoYW5uZWxdIH0pXG4gICAgICogYXN5bmMgW0FfQ2hhbm5lbEZlYXR1cmVzLm9uQmVmb3JlUmVxdWVzdF0oXG4gICAgICogICAgIEBBX0luamVjdChBX0NoYW5uZWxSZXF1ZXN0KSBjb250ZXh0OiBBX0NoYW5uZWxSZXF1ZXN0XG4gICAgICogKSB7XG4gICAgICogICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIHBhcmFtZXRlcnNcbiAgICAgKiAgICAgaWYgKCFjb250ZXh0LnBhcmFtcy51cmwpIHtcbiAgICAgKiAgICAgICAgIHRocm93IG5ldyBFcnJvcignVVJMIGlzIHJlcXVpcmVkJyk7XG4gICAgICogICAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBX0NoYW5uZWxGZWF0dXJlcy5vbkJlZm9yZVJlcXVlc3RcbiAgICB9KVxuICAgIGFzeW5jIG9uQmVmb3JlUmVxdWVzdCguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9uIC0gbm8gb3BlcmF0aW9uXG4gICAgICAgIC8vIE92ZXJyaWRlIGluIGN1c3RvbSBpbXBsZW1lbnRhdGlvbnNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYWluIHJlcXVlc3QgcHJvY2Vzc2luZyBob29rIC0gY29yZSBidXNpbmVzcyBsb2dpYyBnb2VzIGhlcmUuXG4gICAgICogXG4gICAgICogVGhpcyBpcyB3aGVyZSB0aGUgbWFpbiBjb21tdW5pY2F0aW9uIGxvZ2ljIHNob3VsZCBiZSBpbXBsZW1lbnRlZDpcbiAgICAgKiAtIE1ha2UgSFRUUCByZXF1ZXN0c1xuICAgICAqIC0gU2VuZCBtZXNzYWdlcyB0byBxdWV1ZXNcbiAgICAgKiAtIEV4ZWN1dGUgZGF0YWJhc2UgcXVlcmllc1xuICAgICAqIC0gUHJvY2VzcyBidXNpbmVzcyBsb2dpY1xuICAgICAqIFxuICAgICAqIFNldCB0aGUgcmVzdWx0IGluIHRoZSBjb250ZXh0OiBgKGNvbnRleHQgYXMgYW55KS5fcmVzdWx0ID0geW91clJlc3VsdDtgXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQEFfRmVhdHVyZS5FeHRlbmQoeyBzY29wZTogW0h0dHBDaGFubmVsXSB9KVxuICAgICAqIGFzeW5jIFtBX0NoYW5uZWxGZWF0dXJlcy5vblJlcXVlc3RdKFxuICAgICAqICAgICBAQV9JbmplY3QoQV9DaGFubmVsUmVxdWVzdCkgY29udGV4dDogQV9DaGFubmVsUmVxdWVzdFxuICAgICAqICkge1xuICAgICAqICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbnRleHQucGFyYW1zLnVybCk7XG4gICAgICogICAgIChjb250ZXh0IGFzIGFueSkuX3Jlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBX0NoYW5uZWxGZWF0dXJlcy5vblJlcXVlc3RcbiAgICB9KVxuICAgIGFzeW5jIG9uUmVxdWVzdCguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9uIC0gbm8gb3BlcmF0aW9uXG4gICAgICAgIC8vIE92ZXJyaWRlIGluIGN1c3RvbSBpbXBsZW1lbnRhdGlvbnNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQb3N0LXJlcXVlc3QgcHJvY2Vzc2luZyBob29rIC0gY2FsbGVkIGFmdGVyIHN1Y2Nlc3NmdWwgcmVxdWVzdCBwcm9jZXNzaW5nLlxuICAgICAqIFxuICAgICAqIFVzZSB0aGlzIGhvb2sgZm9yOlxuICAgICAqIC0gUmVzcG9uc2UgdHJhbnNmb3JtYXRpb25cbiAgICAgKiAtIExvZ2dpbmdcbiAgICAgKiAtIEFuYWx5dGljc1xuICAgICAqIC0gQ2FjaGluZyByZXN1bHRzXG4gICAgICogLSBDbGVhbnVwXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQEFfRmVhdHVyZS5FeHRlbmQoeyBzY29wZTogW0h0dHBDaGFubmVsXSB9KVxuICAgICAqIGFzeW5jIFtBX0NoYW5uZWxGZWF0dXJlcy5vbkFmdGVyUmVxdWVzdF0oXG4gICAgICogICAgIEBBX0luamVjdChBX0NoYW5uZWxSZXF1ZXN0KSBjb250ZXh0OiBBX0NoYW5uZWxSZXF1ZXN0XG4gICAgICogKSB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGBSZXF1ZXN0IGNvbXBsZXRlZCBpbiAke0RhdGUubm93KCkgLSBjb250ZXh0LnN0YXJ0VGltZX1tc2ApO1xuICAgICAqICAgICBhd2FpdCB0aGlzLmNhY2hlUmVzcG9uc2UoY29udGV4dC5wYXJhbXMsIGNvbnRleHQuZGF0YSk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9DaGFubmVsRmVhdHVyZXMub25BZnRlclJlcXVlc3RcbiAgICB9KVxuICAgIGFzeW5jIG9uQWZ0ZXJSZXF1ZXN0KC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb24gLSBubyBvcGVyYXRpb25cbiAgICAgICAgLy8gT3ZlcnJpZGUgaW4gY3VzdG9tIGltcGxlbWVudGF0aW9uc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVycm9yIGhhbmRsaW5nIGhvb2sgLSBjYWxsZWQgd2hlbiBhbnkgb3BlcmF0aW9uIGZhaWxzLlxuICAgICAqIFxuICAgICAqIFVzZSB0aGlzIGhvb2sgZm9yOlxuICAgICAqIC0gRXJyb3IgbG9nZ2luZ1xuICAgICAqIC0gRXJyb3IgdHJhbnNmb3JtYXRpb25cbiAgICAgKiAtIEFsZXJ0aW5nXG4gICAgICogLSBSZXRyeSBsb2dpY1xuICAgICAqIC0gRmFsbGJhY2sgbWVjaGFuaXNtc1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBBX0ZlYXR1cmUuRXh0ZW5kKHsgc2NvcGU6IFtIdHRwQ2hhbm5lbF0gfSlcbiAgICAgKiBhc3luYyBbQV9DaGFubmVsRmVhdHVyZXMub25FcnJvcl0oXG4gICAgICogICAgIEBBX0luamVjdChBX0NoYW5uZWxSZXF1ZXN0KSBjb250ZXh0OiBBX0NoYW5uZWxSZXF1ZXN0XG4gICAgICogKSB7XG4gICAgICogICAgIGNvbnNvbGUuZXJyb3IoJ1JlcXVlc3QgZmFpbGVkOicsIGNvbnRleHQucGFyYW1zLCBjb250ZXh0LmZhaWxlZCk7XG4gICAgICogICAgIGF3YWl0IHRoaXMubG9nRXJyb3IoY29udGV4dCk7XG4gICAgICogICAgIGF3YWl0IHRoaXMuc2VuZEFsZXJ0KGNvbnRleHQpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFfQ2hhbm5lbEZlYXR1cmVzLm9uRXJyb3JcbiAgICB9KVxuICAgIGFzeW5jIG9uRXJyb3IoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiAtIG5vIG9wZXJhdGlvblxuICAgICAgICAvLyBPdmVycmlkZSBpbiBjdXN0b20gaW1wbGVtZW50YXRpb25zXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBvcGVyYXRpb24gaG9vayAtIGNhbGxlZCBmb3IgZmlyZS1hbmQtZm9yZ2V0IG1lc3NhZ2luZy5cbiAgICAgKiBcbiAgICAgKiBVc2UgdGhpcyBob29rIGZvcjpcbiAgICAgKiAtIE1lc3NhZ2UgYnJvYWRjYXN0aW5nXG4gICAgICogLSBFdmVudCBwdWJsaXNoaW5nXG4gICAgICogLSBOb3RpZmljYXRpb24gc2VuZGluZ1xuICAgICAqIC0gUXVldWUgb3BlcmF0aW9uc1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBBX0ZlYXR1cmUuRXh0ZW5kKHsgc2NvcGU6IFtFdmVudENoYW5uZWxdIH0pXG4gICAgICogYXN5bmMgW0FfQ2hhbm5lbEZlYXR1cmVzLm9uU2VuZF0oXG4gICAgICogICAgIEBBX0luamVjdChBX0NoYW5uZWxSZXF1ZXN0KSBjb250ZXh0OiBBX0NoYW5uZWxSZXF1ZXN0XG4gICAgICogKSB7XG4gICAgICogICAgIGNvbnN0IHsgZXZlbnRUeXBlLCBwYXlsb2FkIH0gPSBjb250ZXh0LnBhcmFtcztcbiAgICAgKiAgICAgYXdhaXQgdGhpcy5wdWJsaXNoRXZlbnQoZXZlbnRUeXBlLCBwYXlsb2FkKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBX0NoYW5uZWxGZWF0dXJlcy5vblNlbmRcbiAgICB9KVxuICAgIGFzeW5jIG9uU2VuZCguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9uIC0gbm8gb3BlcmF0aW9uXG4gICAgICAgIC8vIE92ZXJyaWRlIGluIGN1c3RvbSBpbXBsZW1lbnRhdGlvbnNcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT0gUHVibGljIEFQSSBNZXRob2RzID09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgY2hhbm5lbCBieSBjYWxsaW5nIHRoZSBvbkNvbm5lY3QgbGlmZWN5Y2xlIGhvb2suXG4gICAgICogXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGF1dG9tYXRpY2FsbHkgd2hlbiBhY2Nlc3NpbmcgdGhlIGBpbml0aWFsaXplYCBwcm9wZXJ0eS5cbiAgICAgKiBZb3UgY2FuIGFsc28gY2FsbCBpdCBtYW51YWxseSBpZiBuZWVkZWQuXG4gICAgICogXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWRcbiAgICAgKi9cbiAgICBhc3luYyBjb25uZWN0KCkge1xuICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9DaGFubmVsRmVhdHVyZXMub25Db25uZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0cyB0aGUgY2hhbm5lbCBieSBjYWxsaW5nIHRoZSBvbkRpc2Nvbm5lY3QgbGlmZWN5Y2xlIGhvb2suXG4gICAgICogXG4gICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHByb3Blcmx5IGNsZWFudXAgcmVzb3VyY2VzIHdoZW4gdGhlIGNoYW5uZWwgaXMgbm8gbG9uZ2VyIG5lZWRlZC5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gY2xlYW51cCBpcyBjb21wbGV0ZVxuICAgICAqL1xuICAgIGFzeW5jIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX0NoYW5uZWxGZWF0dXJlcy5vbkRpc2Nvbm5lY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgcmVxdWVzdCBhbmQgd2FpdHMgZm9yIGEgcmVzcG9uc2UgKFJlcXVlc3QvUmVzcG9uc2UgcGF0dGVybikuXG4gICAgICogXG4gICAgICogVGhpcyBtZXRob2QgZm9sbG93cyB0aGUgY29tcGxldGUgcmVxdWVzdCBsaWZlY3ljbGU6XG4gICAgICogMS4gRW5zdXJlcyBjaGFubmVsIGlzIGluaXRpYWxpemVkXG4gICAgICogMi4gQ3JlYXRlcyByZXF1ZXN0IHNjb3BlIGFuZCBjb250ZXh0XG4gICAgICogMy4gQ2FsbHMgb25CZWZvcmVSZXF1ZXN0IGhvb2tcbiAgICAgKiA0LiBDYWxscyBvblJlcXVlc3QgaG9vayAobWFpbiBwcm9jZXNzaW5nKVxuICAgICAqIDUuIENhbGxzIG9uQWZ0ZXJSZXF1ZXN0IGhvb2tcbiAgICAgKiA2LiBSZXR1cm5zIHRoZSByZXNwb25zZSBjb250ZXh0XG4gICAgICogXG4gICAgICogSWYgYW55IHN0ZXAgZmFpbHMsIHRoZSBvbkVycm9yIGhvb2sgaXMgY2FsbGVkIGFuZCB0aGUgZXJyb3IgaXMgY2FwdHVyZWRcbiAgICAgKiBpbiB0aGUgcmV0dXJuZWQgY29udGV4dC5cbiAgICAgKiBcbiAgICAgKiBAdGVtcGxhdGUgX1BhcmFtc1R5cGUgVGhlIHR5cGUgb2YgcmVxdWVzdCBwYXJhbWV0ZXJzXG4gICAgICogQHRlbXBsYXRlIF9SZXN1bHRUeXBlIFRoZSB0eXBlIG9mIHJlc3BvbnNlIGRhdGFcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFRoZSByZXF1ZXN0IHBhcmFtZXRlcnNcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBX0NoYW5uZWxSZXF1ZXN0PF9QYXJhbXNUeXBlLCBfUmVzdWx0VHlwZT4+fSBSZXF1ZXN0IGNvbnRleHQgd2l0aCByZXNwb25zZVxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIC8vIEJhc2ljIHVzYWdlXG4gICAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjaGFubmVsLnJlcXVlc3QoeyBhY3Rpb246ICdnZXREYXRhJywgaWQ6IDEyMyB9KTtcbiAgICAgKiBcbiAgICAgKiAvLyBUeXBlZCB1c2FnZVxuICAgICAqIGludGVyZmFjZSBVc2VyUmVxdWVzdCB7IHVzZXJJZDogc3RyaW5nOyB9XG4gICAgICogaW50ZXJmYWNlIFVzZXJSZXNwb25zZSB7IG5hbWU6IHN0cmluZzsgZW1haWw6IHN0cmluZzsgfVxuICAgICAqIFxuICAgICAqIGNvbnN0IHVzZXJSZXNwb25zZSA9IGF3YWl0IGNoYW5uZWwucmVxdWVzdDxVc2VyUmVxdWVzdCwgVXNlclJlc3BvbnNlPih7XG4gICAgICogICAgIHVzZXJJZDogJ3VzZXItMTIzJ1xuICAgICAqIH0pO1xuICAgICAqIFxuICAgICAqIGlmICghdXNlclJlc3BvbnNlLmZhaWxlZCkge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnVXNlcjonLCB1c2VyUmVzcG9uc2UuZGF0YS5uYW1lKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgYXN5bmMgcmVxdWVzdDxcbiAgICAgICAgX1BhcmFtc1R5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PixcbiAgICAgICAgX1Jlc3VsdFR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PixcbiAgICA+KHBhcmFtczogX1BhcmFtc1R5cGUpOiBQcm9taXNlPEFfQ2hhbm5lbFJlcXVlc3Q8X1BhcmFtc1R5cGUsIF9SZXN1bHRUeXBlPj4ge1xuICAgICAgICAvLyBFbnN1cmUgY2hhbm5lbCBpcyBpbml0aWFsaXplZCBiZWZvcmUgcHJvY2Vzc2luZ1xuICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemU7XG5cbiAgICAgICAgLy8gU2V0IHByb2Nlc3NpbmcgZmxhZ1xuICAgICAgICB0aGlzLl9wcm9jZXNzaW5nID0gdHJ1ZTtcblxuICAgICAgICAvLyBDcmVhdGUgaXNvbGF0ZWQgc2NvcGUgZm9yIHRoaXMgcmVxdWVzdFxuICAgICAgICBjb25zdCByZXF1ZXN0U2NvcGUgPSBuZXcgQV9TY29wZSh7XG4gICAgICAgICAgICBuYW1lOiBgYS1jaGFubmVsQHNjb3BlOnJlcXVlc3Q6JHtBX0lkZW50aXR5SGVscGVyLmdlbmVyYXRlVGltZUlkKCl9YFxuICAgICAgICB9KVxuICAgICAgICAgICAgLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuICAgICAgICAvLyBDcmVhdGUgcmVxdWVzdCBjb250ZXh0XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgQV9DaGFubmVsUmVxdWVzdDxfUGFyYW1zVHlwZSwgX1Jlc3VsdFR5cGU+KHBhcmFtcyk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFNldCB1cCBkZXBlbmRlbmN5IGluamVjdGlvbiBzY29wZVxuICAgICAgICAgICAgcmVxdWVzdFNjb3BlLnJlZ2lzdGVyKGNvbnRleHQpO1xuXG4gICAgICAgICAgICAvLyBFeGVjdXRlIHJlcXVlc3QgbGlmZWN5Y2xlXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9DaGFubmVsRmVhdHVyZXMub25CZWZvcmVSZXF1ZXN0LCByZXF1ZXN0U2NvcGUpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ2hhbm5lbEZlYXR1cmVzLm9uUmVxdWVzdCwgcmVxdWVzdFNjb3BlKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX0NoYW5uZWxGZWF0dXJlcy5vbkFmdGVyUmVxdWVzdCwgcmVxdWVzdFNjb3BlKTtcblxuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgY2hhbm5lbC1zcGVjaWZpYyBlcnJvclxuICAgICAgICAgICAgY29uc3QgY2hhbm5lbEVycm9yID0gbmV3IEFfQ2hhbm5lbEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIGNvbnRleHQuZmFpbChjaGFubmVsRXJyb3IpO1xuICAgICAgICAgICAgcmVxdWVzdFNjb3BlLnJlZ2lzdGVyKGNoYW5uZWxFcnJvcik7XG5cbiAgICAgICAgICAgIC8vIENhbGwgZXJyb3IgaGFuZGxpbmcgaG9va1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ2hhbm5lbEZlYXR1cmVzLm9uRXJyb3IsIHJlcXVlc3RTY29wZSk7XG5cbiAgICAgICAgICAgIHJlcXVlc3RTY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHRocm93IGNoYW5uZWxFcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgZmlyZS1hbmQtZm9yZ2V0IG1lc3NhZ2UgKFNlbmQgcGF0dGVybikuXG4gICAgICogXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBmb3Igb25lLXdheSBjb21tdW5pY2F0aW9uIHdoZXJlIG5vIHJlc3BvbnNlIGlzIGV4cGVjdGVkOlxuICAgICAqIC0gRXZlbnQgYnJvYWRjYXN0aW5nXG4gICAgICogLSBOb3RpZmljYXRpb24gc2VuZGluZ1xuICAgICAqIC0gTWVzc2FnZSBxdWV1aW5nXG4gICAgICogLSBMb2dnaW5nIG9wZXJhdGlvbnNcbiAgICAgKiBcbiAgICAgKiBUaGUgbWV0aG9kIGZvbGxvd3MgdGhpcyBsaWZlY3ljbGU6XG4gICAgICogMS4gRW5zdXJlcyBjaGFubmVsIGlzIGluaXRpYWxpemVkXG4gICAgICogMi4gQ3JlYXRlcyBzZW5kIHNjb3BlIGFuZCBjb250ZXh0XG4gICAgICogMy4gQ2FsbHMgb25TZW5kIGhvb2tcbiAgICAgKiA0LiBDb21wbGV0ZXMgd2l0aG91dCByZXR1cm5pbmcgZGF0YVxuICAgICAqIFxuICAgICAqIElmIHRoZSBvcGVyYXRpb24gZmFpbHMsIHRoZSBvbkVycm9yIGhvb2sgaXMgY2FsbGVkIGJ1dCBubyBlcnJvciBpcyB0aHJvd25cbiAgICAgKiB0byB0aGUgY2FsbGVyIChmaXJlLWFuZC1mb3JnZXQgc2VtYW50aWNzKS5cbiAgICAgKiBcbiAgICAgKiBAdGVtcGxhdGUgX1BhcmFtc1R5cGUgVGhlIHR5cGUgb2YgbWVzc2FnZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gc2VuZFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBzZW5kIGlzIGNvbXBsZXRlXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogLy8gU2VuZCBub3RpZmljYXRpb25cbiAgICAgKiBhd2FpdCBjaGFubmVsLnNlbmQoe1xuICAgICAqICAgICB0eXBlOiAndXNlci5sb2dpbicsXG4gICAgICogICAgIHVzZXJJZDogJ3VzZXItMTIzJyxcbiAgICAgKiAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgKiB9KTtcbiAgICAgKiBcbiAgICAgKiAvLyBTZW5kIHRvIG1lc3NhZ2UgcXVldWVcbiAgICAgKiBhd2FpdCBjaGFubmVsLnNlbmQoe1xuICAgICAqICAgICBxdWV1ZTogJ2VtYWlsLXF1ZXVlJyxcbiAgICAgKiAgICAgcGF5bG9hZDoge1xuICAgICAqICAgICAgICAgdG86ICd1c2VyQGV4YW1wbGUuY29tJyxcbiAgICAgKiAgICAgICAgIHN1YmplY3Q6ICdXZWxjb21lIScsXG4gICAgICogICAgICAgICBib2R5OiAnV2VsY29tZSB0byBvdXIgc2VydmljZSEnXG4gICAgICogICAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBhc3luYyBzZW5kPF9QYXJhbXNUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4+KFxuICAgICAgICBtZXNzYWdlOiBfUGFyYW1zVHlwZVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBFbnN1cmUgY2hhbm5lbCBpcyBpbml0aWFsaXplZCBiZWZvcmUgcHJvY2Vzc2luZ1xuICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemU7XG5cbiAgICAgICAgLy8gU2V0IHByb2Nlc3NpbmcgZmxhZ1xuICAgICAgICB0aGlzLl9wcm9jZXNzaW5nID0gdHJ1ZTtcblxuICAgICAgICAvLyBDcmVhdGUgaXNvbGF0ZWQgc2NvcGUgZm9yIHRoaXMgc2VuZCBvcGVyYXRpb25cbiAgICAgICAgY29uc3QgcmVxdWVzdFNjb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgbmFtZTogYGEtY2hhbm5lbEBzY29wZTpzZW5kOiR7QV9JZGVudGl0eUhlbHBlci5nZW5lcmF0ZVRpbWVJZCgpfWBcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cblxuICAgICAgICAvLyBDcmVhdGUgcmVxdWVzdCBjb250ZXh0IGZvciB0aGUgbWVzc2FnZVxuICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IEFfT3BlcmF0aW9uQ29udGV4dCgnc2VuZCcsIG1lc3NhZ2UpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBTZXQgdXAgZGVwZW5kZW5jeSBpbmplY3Rpb24gc2NvcGVcbiAgICAgICAgICAgIHJlcXVlc3RTY29wZS5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG4gICAgICAgICAgICByZXF1ZXN0U2NvcGUucmVnaXN0ZXIoY29udGV4dCk7XG5cbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgc2VuZCBvcGVyYXRpb25cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX0NoYW5uZWxGZWF0dXJlcy5vblNlbmQsIHJlcXVlc3RTY29wZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgY2hhbm5lbC1zcGVjaWZpYyBlcnJvclxuICAgICAgICAgICAgY29uc3QgY2hhbm5lbEVycm9yID0gbmV3IEFfQ2hhbm5lbEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIHJlcXVlc3RTY29wZS5yZWdpc3RlcihjaGFubmVsRXJyb3IpO1xuICAgICAgICAgICAgY29udGV4dC5mYWlsKGNoYW5uZWxFcnJvcik7XG5cbiAgICAgICAgICAgIC8vIENhbGwgZXJyb3IgaGFuZGxpbmcgaG9va1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ2hhbm5lbEZlYXR1cmVzLm9uRXJyb3IsIHJlcXVlc3RTY29wZSk7XG5cbiAgICAgICAgICAgIHJlcXVlc3RTY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIC8vIE5vdGU6IFdlIGRvbid0IHJlLXRocm93IHRoZSBlcnJvciBmb3IgZmlyZS1hbmQtZm9yZ2V0IG9wZXJhdGlvbnNcbiAgICAgICAgICAgIC8vIFRoZSBlcnJvciBpcyBoYW5kbGVkIGJ5IHRoZSBvbkVycm9yIGhvb2tcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFRoaXMgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBmdXR1cmUgdmVyc2lvbnMuXG4gICAgICogVXNlIHJlcXVlc3QoKSBvciBzZW5kKCkgbWV0aG9kcyBpbnN0ZWFkIGRlcGVuZGluZyBvbiB5b3VyIGNvbW11bmljYXRpb24gcGF0dGVybi5cbiAgICAgKiBcbiAgICAgKiBGb3IgcmVxdWVzdC9yZXNwb25zZSBwYXR0ZXJuOiBVc2UgcmVxdWVzdCgpXG4gICAgICogRm9yIGZpcmUtYW5kLWZvcmdldCBwYXR0ZXJuOiBVc2Ugc2VuZCgpXG4gICAgICogRm9yIGNvbnN1bWVyIHBhdHRlcm5zOiBJbXBsZW1lbnQgY3VzdG9tIGNvbnN1bWVyIGxvZ2ljIHVzaW5nIHJlcXVlc3QoKSBpbiBhIGxvb3BcbiAgICAgKi9cbiAgICBhc3luYyBjb25zdW1lPFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55Pj4oKTogUHJvbWlzZTxBX09wZXJhdGlvbkNvbnRleHQ8YW55LCBUPj4ge1xuICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemU7XG5cbiAgICAgICAgdGhpcy5fcHJvY2Vzc2luZyA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcmVxdWVzdFNjb3BlID0gbmV3IEFfU2NvcGUoeyBuYW1lOiBgYS1jaGFubmVsQHNjb3BlOmNvbnN1bWU6JHtBX0lkZW50aXR5SGVscGVyLmdlbmVyYXRlVGltZUlkKCl9YCB9KVxuICAgICAgICAgICAgLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgQV9PcGVyYXRpb25Db250ZXh0KCdjb25zdW1lJywge30gYXMgVCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlcXVlc3RTY29wZS5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG4gICAgICAgICAgICByZXF1ZXN0U2NvcGUucmVnaXN0ZXIoY29udGV4dCk7XG5cblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ2hhbm5lbEZlYXR1cmVzLm9uQ29uc3VtZSwgcmVxdWVzdFNjb3BlKTtcblxuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dCBhcyBBX09wZXJhdGlvbkNvbnRleHQ8YW55LCBUPjtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxFcnJvciA9IG5ldyBBX0NoYW5uZWxFcnJvcihlcnJvcilcblxuICAgICAgICAgICAgY29udGV4dC5mYWlsKGNoYW5uZWxFcnJvcik7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX0NoYW5uZWxGZWF0dXJlcy5vbkVycm9yLCByZXF1ZXN0U2NvcGUpO1xuXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dCBhcyBBX09wZXJhdGlvbkNvbnRleHQ8YW55LCBUPjtcbiAgICAgICAgfVxuICAgIH1cblxufSIsICJpbXBvcnQgeyBBX0ZyYWdtZW50LCBBX01ldGEsIEFfVFlQRVNfX0ZyYWdtZW50X1NlcmlhbGl6ZWQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfRXhlY3V0aW9uQ29udGV4dDxcbiAgICBfTWV0YVR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PixcbiAgICBfU2VyaWFsaXplZFR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PlxuPiBleHRlbmRzIEFfRnJhZ21lbnQge1xuXG5cbiAgICBwcm90ZWN0ZWQgX21ldGE6IEFfTWV0YTxfTWV0YVR5cGUsIF9TZXJpYWxpemVkVHlwZT47XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgbmFtZTogc3RyaW5nLFxuICAgICAgICBkZWZhdWx0cz86IFBhcnRpYWw8X01ldGFUeXBlPixcbiAgICApIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lIH0pO1xuICAgICAgICB0aGlzLl9tZXRhID0gbmV3IEFfTWV0YTxfTWV0YVR5cGUsIF9TZXJpYWxpemVkVHlwZT4oKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0cykge1xuICAgICAgICAgICAgdGhpcy5fbWV0YS5zZXQoa2V5IGFzIGtleW9mIF9NZXRhVHlwZSwgZGVmYXVsdHNba2V5IGFzIGtleW9mIF9NZXRhVHlwZV0gYXMgX01ldGFUeXBlW2tleW9mIF9NZXRhVHlwZV0pO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYXRvcjxba2V5b2YgX01ldGFUeXBlLCBfTWV0YVR5cGVba2V5b2YgX01ldGFUeXBlXV0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGFbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgIH1cblxuXG4gICAgZ2V0IG1ldGEoKTogQV9NZXRhPF9NZXRhVHlwZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWV0YTtcbiAgICB9XG5cblxuICAgIGdldDxLIGV4dGVuZHMga2V5b2YgX01ldGFUeXBlPihrZXk6IEspOiBfTWV0YVR5cGVbS10gfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWV0YS5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICBzZXQ8SyBleHRlbmRzIGtleW9mIF9NZXRhVHlwZT4oa2V5OiBLLCB2YWx1ZTogX01ldGFUeXBlW0tdKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX21ldGEuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cblxuICAgIGhhcyhrZXk6IGtleW9mIF9NZXRhVHlwZSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWV0YS5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICBkcm9wKGtleToga2V5b2YgX01ldGFUeXBlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX21ldGEuZGVsZXRlKGtleSk7XG4gICAgfVxuXG4gICAgY2xlYXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX21ldGEuY2xlYXIoKTtcbiAgICB9XG5cblxuICAgIHRvUmF3KCk6IF9TZXJpYWxpemVkVHlwZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXRhLnRvSlNPTigpO1xuICAgIH1cblxuICAgIHRvSlNPTigpOiBBX1RZUEVTX19GcmFnbWVudF9TZXJpYWxpemVkIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIC4uLnRoaXMubWV0YS50b0pTT04oKSxcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9FcnJvciwgQV9GcmFnbWVudCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX09wZXJhdGlvbl9TZXJpYWxpemVkLCBBX09wZXJhdGlvbl9TdG9yYWdlIH0gZnJvbSBcIi4vQS1PcGVyYXRpb24udHlwZXNcIjtcbmltcG9ydCB7IEFfRXhlY3V0aW9uQ29udGV4dCB9IGZyb20gXCIuLi9BLUV4ZWN1dGlvbi9BLUV4ZWN1dGlvbi5jb250ZXh0XCI7XG5cbmV4cG9ydCBjbGFzcyBBX09wZXJhdGlvbkNvbnRleHQ8XG4gICAgX0FsbG93ZWRPcGVyYXRpb25zIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nLFxuICAgIF9QYXJhbXNUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgX1Jlc3VsdFR5cGUgPSBhbnksXG4gICAgX1N0b3JhZ2VUeXBlIGV4dGVuZHMgQV9PcGVyYXRpb25fU3RvcmFnZTxfUmVzdWx0VHlwZSwgX1BhcmFtc1R5cGU+ID0gQV9PcGVyYXRpb25fU3RvcmFnZTxfUmVzdWx0VHlwZSwgX1BhcmFtc1R5cGU+XG4+IGV4dGVuZHMgQV9FeGVjdXRpb25Db250ZXh0PFxuICAgIF9TdG9yYWdlVHlwZSxcbiAgICBBX09wZXJhdGlvbl9TZXJpYWxpemVkPF9SZXN1bHRUeXBlLCBfUGFyYW1zVHlwZT5cbj4ge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIG9wZXJhdGlvbjogX0FsbG93ZWRPcGVyYXRpb25zLFxuICAgICAgICBwYXJhbXM/OiBfUGFyYW1zVHlwZVxuICAgICkge1xuICAgICAgICBzdXBlcignb3BlcmF0aW9uLWNvbnRleHQnKTtcblxuICAgICAgICB0aGlzLm1ldGEuc2V0KCduYW1lJywgb3BlcmF0aW9uKTtcbiAgICAgICAgdGhpcy5tZXRhLnNldCgncGFyYW1zJywgcGFyYW1zIHx8IHt9IGFzIF9QYXJhbXNUeXBlKTtcbiAgICB9XG5cbiAgICBnZXQgbmFtZSgpOiBfQWxsb3dlZE9wZXJhdGlvbnMge1xuICAgICAgICByZXR1cm4gKHRoaXMuX21ldGEuZ2V0KCduYW1lJykgfHwgdGhpcy5fbmFtZSkgYXMgX0FsbG93ZWRPcGVyYXRpb25zO1xuICAgIH1cblxuICAgIGdldCByZXN1bHQoKTogX1Jlc3VsdFR5cGUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWV0YS5nZXQoJ3Jlc3VsdCcpO1xuICAgIH1cblxuICAgIGdldCBlcnJvcigpOiBBX0Vycm9yIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuZ2V0KCdlcnJvcicpO1xuICAgIH1cblxuICAgIGdldCBwYXJhbXMoKTogX1BhcmFtc1R5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWV0YS5nZXQoJ3BhcmFtcycpIHx8IHt9IGFzIF9QYXJhbXNUeXBlO1xuICAgIH1cblxuXG4gICAgZmFpbChlcnJvcjogQV9FcnJvcik6IHZvaWQge1xuICAgICAgICB0aGlzLl9tZXRhLnNldCgnZXJyb3InLCBlcnJvcik7XG4gICAgfVxuXG4gICAgc3VjY2VlZChyZXN1bHQ6IF9SZXN1bHRUeXBlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX21ldGEuc2V0KCdyZXN1bHQnLCByZXN1bHQpO1xuICAgIH1cblxuXG4gICAgdG9KU09OKCk6IEFfT3BlcmF0aW9uX1NlcmlhbGl6ZWQ8X1Jlc3VsdFR5cGUsIF9QYXJhbXNUeXBlPiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBwYXJhbXM6IHRoaXMucGFyYW1zLFxuICAgICAgICAgICAgcmVzdWx0OiB0aGlzLnJlc3VsdCB8fCB7fSBhcyBfUmVzdWx0VHlwZSxcbiAgICAgICAgICAgIGVycm9yOiB0aGlzLmVycm9yPy50b0pTT04oKSxcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9FcnJvciwgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfT3BlcmF0aW9uQ29udGV4dCB9IGZyb20gXCIuLi9BLU9wZXJhdGlvbi9BLU9wZXJhdGlvbi5jb250ZXh0XCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfQ2hhbm5lbEVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT0gRXJyb3IgVHlwZXMgPT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG4gICAgc3RhdGljIHJlYWRvbmx5IE1ldGhvZE5vdEltcGxlbWVudGVkID0gJ0EtQ2hhbm5lbCBNZXRob2QgTm90IEltcGxlbWVudGVkJztcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBQcm9wZXJ0aWVzID09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgcHJvdGVjdGVkIF9jb250ZXh0PzogQV9PcGVyYXRpb25Db250ZXh0XG5cblxuICAgIC8qKlxuICAgICAqIENoYW5uZWwgRXJyb3IgYWxsb3dzIHRvIGtlZXAgdHJhY2sgb2YgZXJyb3JzIHdpdGhpbiBhIGNoYW5uZWwgaWYgc29tZXRoaW5nIGdvZXMgd3JvbmdcbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gb3JpZ2luYWxFcnJvciBcbiAgICAgKiBAcGFyYW0gY29udGV4dCBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgb3JpZ2luYWxFcnJvcjogc3RyaW5nIHwgQV9FcnJvciB8IEVycm9yIHwgYW55LFxuICAgICAgICBjb250ZXh0PzogQV9PcGVyYXRpb25Db250ZXh0IHwgc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIGlmIChBX1R5cGVHdWFyZHMuaXNTdHJpbmcoY29udGV4dCkpXG4gICAgICAgICAgICBzdXBlcihvcmlnaW5hbEVycm9yLCBjb250ZXh0KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc3VwZXIob3JpZ2luYWxFcnJvcik7XG5cbiAgICAgICAgaWYgKGNvbnRleHQgaW5zdGFuY2VvZiBBX09wZXJhdGlvbkNvbnRleHQpXG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dFxuICAgIH1cblxuICAgIC8qKipcbiAgICAgKiBSZXR1cm5zIENvbnRleHQgb2YgdGhlIGVycm9yXG4gICAgICovXG4gICAgZ2V0IGNvbnRleHQoKTogQV9PcGVyYXRpb25Db250ZXh0IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHRcbiAgICB9XG5cblxufSIsICJcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBBREFBUyBBLUNoYW5uZWwgQ29uc3RhbnRzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmV4cG9ydCBlbnVtIEFfQ2hhbm5lbEZlYXR1cmVzIHtcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIHRpbWVvdXQgbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25UaW1lb3V0ID0gJ19BX0NoYW5uZWxfb25UaW1lb3V0JyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIHJldHJ5IGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uUmV0cnkgPSAnX0FfQ2hhbm5lbF9vblJldHJ5JyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIGNpcmN1aXQgYnJlYWtlciBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkNpcmN1aXRCcmVha2VyT3BlbiA9ICdfQV9DaGFubmVsX29uQ2lyY3VpdEJyZWFrZXJPcGVuJyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIGNhY2hlIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uQ2FjaGUgPSAnX0FfQ2hhbm5lbF9vbkNhY2hlJyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIGNvbm5lY3Rpb24gbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25Db25uZWN0ID0gJ19BX0NoYW5uZWxfb25Db25uZWN0JyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIGRpc2Nvbm5lY3Rpb24gbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25EaXNjb25uZWN0ID0gJ19BX0NoYW5uZWxfb25EaXNjb25uZWN0JyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIHJlcXVlc3QgcHJlcGFyYXRpb24gbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25CZWZvcmVSZXF1ZXN0ID0gJ19BX0NoYW5uZWxfb25CZWZvcmVSZXF1ZXN0JyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIHJlcXVlc3Qgc2VuZGluZyBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvblJlcXVlc3QgPSAnX0FfQ2hhbm5lbF9vblJlcXVlc3QnLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgcmVxdWVzdCBwb3N0LXByb2Nlc3NpbmcgbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25BZnRlclJlcXVlc3QgPSAnX0FfQ2hhbm5lbF9vbkFmdGVyUmVxdWVzdCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBlcnJvciBoYW5kbGluZyBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKiBcbiAgICAgKiBbIV0gVGhlIHNhbWUgYXBwcm9hY2ggdXNlcyBmb3IgQUxMIGVycm9ycyB3aXRoaW4gdGhlIGNoYW5uZWxcbiAgICAgKi9cbiAgICBvbkVycm9yID0gJ19BX0NoYW5uZWxfb25FcnJvcicsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBzZW5kIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uU2VuZCA9ICdfQV9DaGFubmVsX29uU2VuZCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBjb25zdW1lIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uQ29uc3VtZSA9ICdfQV9DaGFubmVsX29uQ29uc3VtZScsXG59XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEEtQ2hhbm5lbCBSZXF1ZXN0IENvbnN0YW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgZW51bSBBX0NoYW5uZWxSZXF1ZXN0U3RhdHVzZXMge1xuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgaXMgcGVuZGluZ1xuICAgICAqL1xuICAgIFBFTkRJTkcgPSAnUEVORElORycsXG4gICAgLyoqKlxuICAgICAqIFJlcXVlc3Qgd2FzIHN1Y2Nlc3NmdWxcbiAgICAgKi9cbiAgICBTVUNDRVNTID0gJ1NVQ0NFU1MnLFxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgZmFpbGVkXG4gICAgICovXG4gICAgRkFJTEVEID0gJ0ZBSUxFRCcsXG59IiwgImltcG9ydCB7IEFfT3BlcmF0aW9uQ29udGV4dCB9IGZyb20gXCIuLi9BLU9wZXJhdGlvbi9BLU9wZXJhdGlvbi5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0NoYW5uZWxSZXF1ZXN0U3RhdHVzZXMgfSBmcm9tIFwiLi9BLUNoYW5uZWwuY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBjbGFzcyBBX0NoYW5uZWxSZXF1ZXN0PFxuICAgIF9QYXJhbXNUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgX1Jlc3VsdFR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55Pixcbj4gZXh0ZW5kcyBBX09wZXJhdGlvbkNvbnRleHQ8XG4gICAgJ3JlcXVlc3QnLFxuICAgIF9QYXJhbXNUeXBlLFxuICAgIHtcbiAgICAgICAgZGF0YT86IF9SZXN1bHRUeXBlO1xuICAgICAgICBzdGF0dXM/OiBBX0NoYW5uZWxSZXF1ZXN0U3RhdHVzZXM7XG4gICAgfVxuPiB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcGFyYW1zPzogX1BhcmFtc1R5cGUsXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCdyZXF1ZXN0JywgcGFyYW1zKTtcbiAgICB9XG5cblxuICAgIGdldCBzdGF0dXMoKTogQV9DaGFubmVsUmVxdWVzdFN0YXR1c2VzIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0Py5zdGF0dXM7XG4gICAgfVxuXG4gICAgZ2V0IGRhdGEoKTogX1Jlc3VsdFR5cGUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHQ/LmRhdGE7XG4gICAgfVxuXG5cbiAgICBzdWNjZWVkKHJlc3VsdDogX1Jlc3VsdFR5cGUpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZXhpc3RlZCA9IHRoaXMucmVzdWx0O1xuXG4gICAgICAgIHN1cGVyLnN1Y2NlZWQoe1xuICAgICAgICAgICAgLi4uZXhpc3RlZCxcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgICAgIHN0YXR1czogQV9DaGFubmVsUmVxdWVzdFN0YXR1c2VzLlNVQ0NFU1MsXG4gICAgICAgIH0pO1xuICAgIH1cblxufSAgICAiLCAiLyoqXG4gKiBBLUNvbW1hbmQgU3RhdHVzIEVudW1lcmF0aW9uXG4gKiBcbiAqIERlZmluZXMgYWxsIHBvc3NpYmxlIHN0YXRlcyBhIGNvbW1hbmQgY2FuIGJlIGluIGR1cmluZyBpdHMgbGlmZWN5Y2xlLlxuICogQ29tbWFuZHMgcHJvZ3Jlc3MgdGhyb3VnaCB0aGVzZSBzdGF0ZXMgaW4gYSBzcGVjaWZpYyBvcmRlcjpcbiAqIENSRUFURUQg4oaSIElOSVRJQUxJWkVEIOKGkiBDT01QSUxFRCDihpIgRVhFQ1VUSU5HIOKGkiBDT01QTEVURUQvRkFJTEVEXG4gKi9cbmV4cG9ydCBlbnVtIEFfQ29tbWFuZF9TdGF0dXMge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWwgc3RhdGUgd2hlbiBjb21tYW5kIGlzIGluc3RhbnRpYXRlZCBidXQgbm90IHlldCByZWFkeSBmb3IgZXhlY3V0aW9uXG4gICAgICovXG4gICAgQ1JFQVRFRCA9ICdDUkVBVEVEJyxcblxuICAgIC8qKlxuICAgICAqIENvbW1hbmQgaGFzIGJlZW4gaW5pdGlhbGl6ZWQgd2l0aCBleGVjdXRpb24gc2NvcGUgYW5kIGRlcGVuZGVuY2llc1xuICAgICAqL1xuICAgIElOSVRJQUxJWkVEID0gJ0lOSVRJQUxJWkVEJyxcblxuICAgIC8qKlxuICAgICAqIENvbW1hbmQgaGFzIGJlZW4gY29tcGlsZWQgYW5kIGlzIHJlYWR5IGZvciBleGVjdXRpb25cbiAgICAgKi9cbiAgICBDT01QSUxFRCA9ICdDT01QSUxFRCcsXG5cbiAgICAvKipcbiAgICAgKiBDb21tYW5kIGlzIGN1cnJlbnRseSBiZWluZyBleGVjdXRlZFxuICAgICAqL1xuICAgIEVYRUNVVElORyA9ICdFWEVDVVRJTkcnLFxuXG4gICAgLyoqXG4gICAgICogQ29tbWFuZCBoYXMgY29tcGxldGVkIHN1Y2Nlc3NmdWxseVxuICAgICAqL1xuICAgIENPTVBMRVRFRCA9ICdDT01QTEVURUQnLFxuXG4gICAgLyoqXG4gICAgICogQ29tbWFuZCBleGVjdXRpb24gaGFzIGZhaWxlZCB3aXRoIGVycm9yc1xuICAgICAqL1xuICAgIEZBSUxFRCA9ICdGQUlMRUQnLFxufVxuXG5cbi8qKlxuICogQS1Db21tYW5kIFN0YXRlIFRyYW5zaXRpb25zXG4gKiBcbiAqIERlZmluZXMgdmFsaWQgc3RhdGUgdHJhbnNpdGlvbnMgZm9yIGNvbW1hbmQgbGlmZWN5Y2xlIG1hbmFnZW1lbnQuXG4gKiBUaGVzZSB0cmFuc2l0aW9ucyBhcmUgdXNlZCBieSB0aGUgU3RhdGVNYWNoaW5lIHRvIGVuZm9yY2UgcHJvcGVyIGNvbW1hbmQgZmxvdy5cbiAqL1xuZXhwb3J0IGVudW0gQV9Db21tYW5kVHJhbnNpdGlvbnMge1xuICAgIC8qKiBUcmFuc2l0aW9uIGZyb20gQ1JFQVRFRCB0byBJTklUSUFMSVpFRCBzdGF0ZSAqL1xuICAgIENSRUFURURfVE9fSU5JVElBTElaRUQgPSAnY3JlYXRlZF9pbml0aWFsaXplZCcsXG5cbiAgICAvKiogVHJhbnNpdGlvbiBmcm9tIElOSVRJQUxJWkVEIHRvIEVYRUNVVElORyBzdGF0ZSAqL1xuICAgIElOSVRJQUxJWkVEX1RPX0VYRUNVVElORyA9ICdpbml0aWFsaXplZF9leGVjdXRpbmcnLFxuXG4gICAgLyoqIFRyYW5zaXRpb24gZnJvbSBFWEVDVVRJTkcgdG8gQ09NUExFVEVEIHN0YXRlIChzdWNjZXNzIHBhdGgpICovXG4gICAgRVhFQ1VUSU5HX1RPX0NPTVBMRVRFRCA9ICdleGVjdXRpbmdfY29tcGxldGVkJyxcblxuICAgIC8qKiBUcmFuc2l0aW9uIGZyb20gRVhFQ1VUSU5HIHRvIEZBSUxFRCBzdGF0ZSAoZXJyb3IgcGF0aCkgKi9cbiAgICBFWEVDVVRJTkdfVE9fRkFJTEVEID0gJ2V4ZWN1dGluZ19mYWlsZWQnLFxufVxuXG4vKipcbiAqIEEtQ29tbWFuZCBMaWZlY3ljbGUgRmVhdHVyZXNcbiAqIFxuICogRGVmaW5lcyBmZWF0dXJlIGV4dGVuc2lvbiBwb2ludHMgdGhhdCBjb21wb25lbnRzIGNhbiBpbXBsZW1lbnQgdG8gY3VzdG9taXplXG4gKiBjb21tYW5kIGJlaGF2aW9yIGF0IGRpZmZlcmVudCBzdGFnZXMgb2YgdGhlIGxpZmVjeWNsZS5cbiAqIFxuICogQ29tcG9uZW50cyBjYW4gdXNlIEBBX0ZlYXR1cmUuRXh0ZW5kKCkgZGVjb3JhdG9yIHdpdGggdGhlc2UgZmVhdHVyZSBuYW1lc1xuICogdG8gaW5qZWN0IGN1c3RvbSBsb2dpYyBpbnRvIGNvbW1hbmQgZXhlY3V0aW9uLlxuICovXG5leHBvcnQgZW51bSBBX0NvbW1hbmRGZWF0dXJlcyB7XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGR1cmluZyBjb21tYW5kIGluaXRpYWxpemF0aW9uIHBoYXNlXG4gICAgICogVXNlIHRvIHNldCB1cCBleGVjdXRpb24gZW52aXJvbm1lbnQsIHZhbGlkYXRlIHBhcmFtZXRlcnMsIG9yIHByZXBhcmUgcmVzb3VyY2VzXG4gICAgICovXG4gICAgb25Jbml0ID0gJ19BX0NvbW1hbmRfb25Jbml0JyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBiZWZvcmUgY29tbWFuZCBleGVjdXRpb24gc3RhcnRzXG4gICAgICogVXNlIGZvciBwcmUtZXhlY3V0aW9uIHZhbGlkYXRpb24sIGxvZ2dpbmcsIG9yIHNldHVwIHRhc2tzXG4gICAgICovXG4gICAgb25CZWZvcmVFeGVjdXRlID0gJ19BX0NvbW1hbmRfb25CZWZvcmVFeGVjdXRlJyxcblxuICAgIC8qKlxuICAgICAqIE1haW4gY29tbWFuZCBleGVjdXRpb24gbG9naWNcbiAgICAgKiBDb3JlIGJ1c2luZXNzIGxvZ2ljIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBoZXJlXG4gICAgICovXG4gICAgb25FeGVjdXRlID0gJ19BX0NvbW1hbmRfb25FeGVjdXRlJyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciBjb21tYW5kIGV4ZWN1dGlvbiBjb21wbGV0ZXMgKHN1Y2Nlc3Mgb3IgZmFpbHVyZSlcbiAgICAgKiBVc2UgZm9yIGNsZWFudXAsIGxvZ2dpbmcsIG9yIHBvc3QtcHJvY2Vzc2luZyB0YXNrc1xuICAgICAqL1xuICAgIG9uQWZ0ZXJFeGVjdXRlID0gJ19BX0NvbW1hbmRfb25BZnRlckV4ZWN1dGUnLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gY29tbWFuZCBjb21wbGV0ZXMgc3VjY2Vzc2Z1bGx5XG4gICAgICogVXNlIGZvciBzdWNjZXNzLXNwZWNpZmljIG9wZXJhdGlvbnMgbGlrZSBub3RpZmljYXRpb25zIG9yIHJlc3VsdCBwcm9jZXNzaW5nXG4gICAgICovXG4gICAgb25Db21wbGV0ZSA9ICdfQV9Db21tYW5kX29uQ29tcGxldGUnLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gY29tbWFuZCBleGVjdXRpb24gZmFpbHNcbiAgICAgKiBVc2UgZm9yIGVycm9yIGhhbmRsaW5nLCBjbGVhbnVwLCBvciBmYWlsdXJlIG5vdGlmaWNhdGlvbnNcbiAgICAgKi9cbiAgICBvbkZhaWwgPSAnX0FfQ29tbWFuZF9vbkZhaWwnLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGR1cmluZyBleGVjdXRpb25cbiAgICAgKiBVc2UgZm9yIGVycm9yIGxvZ2dpbmcsIHRyYW5zZm9ybWF0aW9uLCBvciByZWNvdmVyeSBhdHRlbXB0c1xuICAgICAqL1xuICAgIG9uRXJyb3IgPSAnX0FfQ29tbWFuZF9vbkVycm9yJyxcbn1cblxuXG5leHBvcnQgZW51bSBBX0NvbW1hbmRFdmVudCB7XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGR1cmluZyBjb21tYW5kIGluaXRpYWxpemF0aW9uIHBoYXNlXG4gICAgICogVXNlIHRvIHNldCB1cCBleGVjdXRpb24gZW52aXJvbm1lbnQsIHZhbGlkYXRlIHBhcmFtZXRlcnMsIG9yIHByZXBhcmUgcmVzb3VyY2VzXG4gICAgICovXG4gICAgb25Jbml0ID0gJ29uSW5pdCcsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYmVmb3JlIGNvbW1hbmQgZXhlY3V0aW9uIHN0YXJ0c1xuICAgICAqIFVzZSBmb3IgcHJlLWV4ZWN1dGlvbiB2YWxpZGF0aW9uLCBsb2dnaW5nLCBvciBzZXR1cCB0YXNrc1xuICAgICAqL1xuICAgIG9uQmVmb3JlRXhlY3V0ZSA9ICdvbkJlZm9yZUV4ZWN1dGUnLFxuXG4gICAgLyoqXG4gICAgICogTWFpbiBjb21tYW5kIGV4ZWN1dGlvbiBsb2dpY1xuICAgICAqIENvcmUgYnVzaW5lc3MgbG9naWMgc2hvdWxkIGJlIGltcGxlbWVudGVkIGhlcmVcbiAgICAgKi9cbiAgICBvbkV4ZWN1dGUgPSAnb25FeGVjdXRlJyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBhZnRlciBjb21tYW5kIGV4ZWN1dGlvbiBjb21wbGV0ZXMgKHN1Y2Nlc3Mgb3IgZmFpbHVyZSlcbiAgICAgKiBVc2UgZm9yIGNsZWFudXAsIGxvZ2dpbmcsIG9yIHBvc3QtcHJvY2Vzc2luZyB0YXNrc1xuICAgICAqL1xuICAgIG9uQWZ0ZXJFeGVjdXRlID0gJ29uQWZ0ZXJFeGVjdXRlJyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGNvbW1hbmQgY29tcGxldGVzIHN1Y2Nlc3NmdWxseVxuICAgICAqIFVzZSBmb3Igc3VjY2Vzcy1zcGVjaWZpYyBvcGVyYXRpb25zIGxpa2Ugbm90aWZpY2F0aW9ucyBvciByZXN1bHQgcHJvY2Vzc2luZ1xuICAgICAqL1xuICAgIG9uQ29tcGxldGUgPSAnb25Db21wbGV0ZScsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBjb21tYW5kIGV4ZWN1dGlvbiBmYWlsc1xuICAgICAqIFVzZSBmb3IgZXJyb3IgaGFuZGxpbmcsIGNsZWFudXAsIG9yIGZhaWx1cmUgbm90aWZpY2F0aW9uc1xuICAgICAqL1xuICAgIG9uRmFpbCA9ICdvbkZhaWwnLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGR1cmluZyBleGVjdXRpb25cbiAgICAgKiBVc2UgZm9yIGVycm9yIGxvZ2dpbmcsIHRyYW5zZm9ybWF0aW9uLCBvciByZWNvdmVyeSBhdHRlbXB0c1xuICAgICAqL1xuICAgIG9uRXJyb3IgPSAnb25FcnJvcicsXG59XG5cbi8qKlxuICogVHlwZSBhbGlhcyBmb3IgY29tbWFuZCBsaWZlY3ljbGUgZXZlbnQgbmFtZXNcbiAqIFJlcHJlc2VudHMgYWxsIGF2YWlsYWJsZSBldmVudHMgdGhhdCBjYW4gYmUgbGlzdGVuZWQgdG8gb24gYSBjb21tYW5kIGluc3RhbmNlXG4gKi9cbmV4cG9ydCB0eXBlIEFfQ29tbWFuZEV2ZW50cyA9IGtleW9mIHR5cGVvZiBBX0NvbW1hbmRFdmVudDtcblxuXG5cblxuXG4iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfQ29tbWFuZEVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cblxuICAgIHN0YXRpYyByZWFkb25seSBDb21tYW5kU2NvcGVCaW5kaW5nRXJyb3IgPSAnQS1Db21tYW5kIFNjb3BlIEJpbmRpbmcgRXJyb3InO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IEV4ZWN1dGlvbkVycm9yID0gJ0EtQ29tbWFuZCBFeGVjdXRpb24gRXJyb3InO1xuXG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgUmVzdWx0UHJvY2Vzc2luZ0Vycm9yID0gJ0EtQ29tbWFuZCBSZXN1bHQgUHJvY2Vzc2luZyBFcnJvcic7XG5cblxuICAgIC8qKlxuICAgICAqIEVycm9yIGluZGljYXRpbmcgdGhhdCB0aGUgY29tbWFuZCB3YXMgaW50ZXJydXB0ZWQgZHVyaW5nIGV4ZWN1dGlvblxuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBDb21tYW5kSW50ZXJydXB0ZWRFcnJvciA9ICdBLUNvbW1hbmQgSW50ZXJydXB0ZWQgRXJyb3InO1xufSIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcblxuXG5leHBvcnQgY2xhc3MgQV9TdGF0ZU1hY2hpbmVFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IEluaXRpYWxpemF0aW9uRXJyb3IgPSAnQS1TdGF0ZU1hY2hpbmUgSW5pdGlhbGl6YXRpb24gRXJyb3InO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IFRyYW5zaXRpb25FcnJvciA9ICdBLVN0YXRlTWFjaGluZSBUcmFuc2l0aW9uIEVycm9yJztcbiAgICBcbn0iLCAiZXhwb3J0IGVudW0gQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcyB7XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBlcnJvciBoYW5kbGluZyBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkVycm9yID0gJ19BX1N0YXRlTWFjaGluZV9vbkVycm9yJyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIGluaXRpYWxpemF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uSW5pdGlhbGl6ZSA9ICdfQV9TdGF0ZU1hY2hpbmVfb25Jbml0aWFsaXplJyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIHRyYW5zaXRpb24gdmFsaWRhdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkJlZm9yZVRyYW5zaXRpb24gPSAnX0FfU3RhdGVNYWNoaW5lX29uQmVmb3JlVHJhbnNpdGlvbicsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBwb3N0LXRyYW5zaXRpb24gbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25BZnRlclRyYW5zaXRpb24gPSAnX0FfU3RhdGVNYWNoaW5lX29uQWZ0ZXJUcmFuc2l0aW9uJyxcbn0iLCAiaW1wb3J0IHsgQV9PcGVyYXRpb25Db250ZXh0IH0gZnJvbSBcIi4uL0EtT3BlcmF0aW9uL0EtT3BlcmF0aW9uLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvblBhcmFtcywgQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uU3RvcmFnZSB9IGZyb20gXCIuL0EtU3RhdGVNYWNoaW5lLnR5cGVzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uPFxuICAgIF9QYXJhbXNUeXBlID0gYW55LFxuICAgIF9SZXN1bHRUeXBlID0gYW55XG4+IGV4dGVuZHMgQV9PcGVyYXRpb25Db250ZXh0PFxuICAgICdhLXN0YXRlLW1hY2hpbmUtdHJhbnNpdGlvbicsXG4gICAgQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uUGFyYW1zPF9QYXJhbXNUeXBlPixcbiAgICBfUmVzdWx0VHlwZSxcbiAgICBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb25TdG9yYWdlPF9SZXN1bHRUeXBlLCBfUGFyYW1zVHlwZT5cbj4ge1xuXG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcGFyYW1zOiBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb25QYXJhbXM8X1BhcmFtc1R5cGU+XG4gICAgKSB7XG4gICAgICAgIHN1cGVyKFxuICAgICAgICAgICAgJ2Etc3RhdGUtbWFjaGluZS10cmFuc2l0aW9uJyxcbiAgICAgICAgICAgIHBhcmFtc1xuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuX21ldGEuc2V0KCdmcm9tJywgcGFyYW1zLmZyb20pO1xuICAgICAgICB0aGlzLl9tZXRhLnNldCgndG8nLCBwYXJhbXMudG8pO1xuICAgIH1cblxuXG5cbiAgICBnZXQgZnJvbSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWV0YS5nZXQoJ2Zyb20nKSE7XG4gICAgfVxuXG5cblxuICAgIGdldCB0bygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWV0YS5nZXQoJ3RvJykhO1xuICAgIH1cblxufSIsICJpbXBvcnQgeyBBX0NvbXBvbmVudCwgQV9Db250ZXh0LCBBX0ZlYXR1cmUsIEFfRm9ybWF0dGVySGVscGVyLCBBX1Njb3BlIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfU3RhdGVNYWNoaW5lRXJyb3IgfSBmcm9tIFwiLi9BLVN0YXRlTWFjaGluZS5lcnJvclwiO1xuaW1wb3J0IHsgQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcyB9IGZyb20gXCIuL0EtU3RhdGVNYWNoaW5lLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uIH0gZnJvbSBcIi4vQS1TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uLmNvbnRleHRcIjtcblxuLyoqXG4gKiBBX1N0YXRlTWFjaGluZSBpcyBhIHBvd2VyZnVsIHN0YXRlIG1hY2hpbmUgaW1wbGVtZW50YXRpb24gdGhhdCBhbGxvd3MgeW91IHRvIGRlZmluZSBhbmQgbWFuYWdlXG4gKiBjb21wbGV4IHN0YXRlIHRyYW5zaXRpb25zIHdpdGggdmFsaWRhdGlvbiwgaG9va3MsIGFuZCBlcnJvciBoYW5kbGluZy5cbiAqIFxuICogQHRlbXBsYXRlIFQgLSBBIHJlY29yZCB0eXBlIGRlZmluaW5nIHRoZSBzdGF0ZSB0cmFuc2l0aW9ucyBhbmQgdGhlaXIgYXNzb2NpYXRlZCBkYXRhIHR5cGVzLlxuICogICAgICAgICAgICAgICBFYWNoIGtleSByZXByZXNlbnRzIGEgc3RhdGUgbmFtZSwgYW5kIHRoZSB2YWx1ZSByZXByZXNlbnRzIHRoZSBkYXRhIHR5cGUgZm9yIHRoYXQgc3RhdGUuXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbnRlcmZhY2UgT3JkZXJTdGF0ZXMge1xuICogICBwZW5kaW5nOiB7IG9yZGVySWQ6IHN0cmluZyB9O1xuICogICBwcm9jZXNzaW5nOiB7IG9yZGVySWQ6IHN0cmluZzsgcHJvY2Vzc2VkQnk6IHN0cmluZyB9O1xuICogICBjb21wbGV0ZWQ6IHsgb3JkZXJJZDogc3RyaW5nOyBjb21wbGV0ZWRBdDogRGF0ZSB9O1xuICogICBjYW5jZWxsZWQ6IHsgb3JkZXJJZDogc3RyaW5nOyByZWFzb246IHN0cmluZyB9O1xuICogfVxuICogXG4gKiBjbGFzcyBPcmRlclN0YXRlTWFjaGluZSBleHRlbmRzIEFfU3RhdGVNYWNoaW5lPE9yZGVyU3RhdGVzPiB7XG4gKiAgIC8vIERlZmluZSBjdXN0b20gdHJhbnNpdGlvbiBsb2dpY1xuICogICBhc3luYyBwZW5kaW5nX3Byb2Nlc3Npbmcoc2NvcGU6IEFfU2NvcGUpIHtcbiAqICAgICBjb25zdCBvcGVyYXRpb24gPSBzY29wZS5yZXNvbHZlKEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbikhO1xuICogICAgIGNvbnN0IHsgb3JkZXJJZCB9ID0gb3BlcmF0aW9uLnByb3BzO1xuICogICAgIC8vIEN1c3RvbSB2YWxpZGF0aW9uIGFuZCBidXNpbmVzcyBsb2dpY1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIEFfU3RhdGVNYWNoaW5lPFxuICAgIFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PlxuPiBleHRlbmRzIEFfQ29tcG9uZW50IHtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHByb21pc2UgdGhhdCB0cmFja3MgdGhlIGluaXRpYWxpemF0aW9uIHN0YXRlIG9mIHRoZSBzdGF0ZSBtYWNoaW5lLlxuICAgICAqIFVzZWQgdG8gZW5zdXJlIHRoZSBzdGF0ZSBtYWNoaW5lIGlzIHByb3Blcmx5IGluaXRpYWxpemVkIGJlZm9yZSBhbGxvd2luZyB0cmFuc2l0aW9ucy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2luaXRpYWxpemVkPzogUHJvbWlzZTx2b2lkPjtcblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgc3RhdGUgbWFjaGluZSBpcyBmdWxseSBpbml0aWFsaXplZCBhbmQgcmVhZHkgZm9yIHRyYW5zaXRpb25zLlxuICAgICAqIFRoaXMgZW5zdXJlcyB0aGF0IGFsbCBpbml0aWFsaXphdGlvbiBob29rcyBoYXZlIGJlZW4gZXhlY3V0ZWQgYmVmb3JlIGFsbG93aW5nIHN0YXRlIHRyYW5zaXRpb25zLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFByb21pc2U8dm9pZD4gdGhhdCByZXNvbHZlcyB3aGVuIGluaXRpYWxpemF0aW9uIGlzIGNvbXBsZXRlXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3Qgc3RhdGVNYWNoaW5lID0gbmV3IE15U3RhdGVNYWNoaW5lKCk7XG4gICAgICogYXdhaXQgc3RhdGVNYWNoaW5lLnJlYWR5OyAvLyBXYWl0IGZvciBpbml0aWFsaXphdGlvblxuICAgICAqIGF3YWl0IHN0YXRlTWFjaGluZS50cmFuc2l0aW9uKCdpZGxlJywgJ3J1bm5pbmcnKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBnZXQgcmVhZHkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdGhpcy5jYWxsKEFfU3RhdGVNYWNoaW5lRmVhdHVyZXMub25Jbml0aWFsaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZDtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6YXRpb24gaG9vayB0aGF0IHJ1bnMgd2hlbiB0aGUgc3RhdGUgbWFjaGluZSBpcyBmaXJzdCBjcmVhdGVkLlxuICAgICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBleHRlbmRlZCB0byBhZGQgY3VzdG9tIGluaXRpYWxpemF0aW9uIGxvZ2ljLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhcmdzIC0gVmFyaWFibGUgYXJndW1lbnRzIHBhc3NlZCBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPHZvaWQ+XG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY2xhc3MgTXlTdGF0ZU1hY2hpbmUgZXh0ZW5kcyBBX1N0YXRlTWFjaGluZSB7XG4gICAgICogICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgICogICBhc3luYyBbQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcy5vbkluaXRpYWxpemVdKCkge1xuICAgICAqICAgICAvLyBDdXN0b20gaW5pdGlhbGl6YXRpb24gbG9naWNcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ1N0YXRlIG1hY2hpbmUgaW5pdGlhbGl6ZWQnKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uSW5pdGlhbGl6ZV0oLi4uYXJnczogYW55W10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSW5pdGlhbGl6YXRpb24gbG9naWMgY2FuIGJlIGFkZGVkIGhlcmVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIb29rIHRoYXQgcnVucyBiZWZvcmUgYW55IHN0YXRlIHRyYW5zaXRpb24gb2NjdXJzLlxuICAgICAqIFVzZSB0aGlzIHRvIGFkZCB2YWxpZGF0aW9uLCBsb2dnaW5nLCBvciBwcmVwYXJhdGlvbiBsb2dpYyB0aGF0IHNob3VsZCBydW4gZm9yIGFsbCB0cmFuc2l0aW9ucy5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gYXJncyAtIFZhcmlhYmxlIGFyZ3VtZW50cywgdHlwaWNhbGx5IGluY2x1ZGVzIHRoZSB0cmFuc2l0aW9uIHNjb3BlXG4gICAgICogQHJldHVybnMgUHJvbWlzZTx2b2lkPlxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNsYXNzIE15U3RhdGVNYWNoaW5lIGV4dGVuZHMgQV9TdGF0ZU1hY2hpbmUge1xuICAgICAqICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgICAqICAgYXN5bmMgW0FfU3RhdGVNYWNoaW5lRmVhdHVyZXMub25CZWZvcmVUcmFuc2l0aW9uXShzY29wZTogQV9TY29wZSkge1xuICAgICAqICAgICBjb25zdCBvcGVyYXRpb24gPSBzY29wZS5yZXNvbHZlKEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbikhO1xuICAgICAqICAgICBjb25zb2xlLmxvZyhgVHJhbnNpdGlvbmluZyBmcm9tICR7b3BlcmF0aW9uLnByb3BzLmZyb219IHRvICR7b3BlcmF0aW9uLnByb3BzLnRvfWApO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgYXN5bmMgW0FfU3RhdGVNYWNoaW5lRmVhdHVyZXMub25CZWZvcmVUcmFuc2l0aW9uXSguLi5hcmdzOiBhbnlbXSk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSG9vayB0aGF0IHJ1bnMgYWZ0ZXIgYSBzdWNjZXNzZnVsIHN0YXRlIHRyYW5zaXRpb24uXG4gICAgICogVXNlIHRoaXMgdG8gYWRkIGNsZWFudXAsIGxvZ2dpbmcsIG9yIHBvc3QtdHJhbnNpdGlvbiBsb2dpYyB0aGF0IHNob3VsZCBydW4gZm9yIGFsbCB0cmFuc2l0aW9ucy5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gYXJncyAtIFZhcmlhYmxlIGFyZ3VtZW50cywgdHlwaWNhbGx5IGluY2x1ZGVzIHRoZSB0cmFuc2l0aW9uIHNjb3BlXG4gICAgICogQHJldHVybnMgUHJvbWlzZTx2b2lkPlxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNsYXNzIE15U3RhdGVNYWNoaW5lIGV4dGVuZHMgQV9TdGF0ZU1hY2hpbmUge1xuICAgICAqICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgICAqICAgYXN5bmMgW0FfU3RhdGVNYWNoaW5lRmVhdHVyZXMub25BZnRlclRyYW5zaXRpb25dKHNjb3BlOiBBX1Njb3BlKSB7XG4gICAgICogICAgIGNvbnN0IG9wZXJhdGlvbiA9IHNjb3BlLnJlc29sdmUoQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uKSE7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGBTdWNjZXNzZnVsbHkgdHJhbnNpdGlvbmVkIHRvICR7b3BlcmF0aW9uLnByb3BzLnRvfWApO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgYXN5bmMgW0FfU3RhdGVNYWNoaW5lRmVhdHVyZXMub25BZnRlclRyYW5zaXRpb25dKC4uLmFyZ3M6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBoYW5kbGluZyBob29rIHRoYXQgcnVucyB3aGVuIGEgdHJhbnNpdGlvbiBmYWlscy5cbiAgICAgKiBVc2UgdGhpcyB0byBhZGQgY3VzdG9tIGVycm9yIGhhbmRsaW5nLCBsb2dnaW5nLCBvciByZWNvdmVyeSBsb2dpYy5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gYXJncyAtIFZhcmlhYmxlIGFyZ3VtZW50cywgdHlwaWNhbGx5IGluY2x1ZGVzIHRoZSBlcnJvciBzY29wZVxuICAgICAqIEByZXR1cm5zIFByb21pc2U8dm9pZD5cbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBNeVN0YXRlTWFjaGluZSBleHRlbmRzIEFfU3RhdGVNYWNoaW5lIHtcbiAgICAgKiAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAgKiAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uRXJyb3JdKHNjb3BlOiBBX1Njb3BlKSB7XG4gICAgICogICAgIGNvbnN0IGVycm9yID0gc2NvcGUucmVzb2x2ZShBX1N0YXRlTWFjaGluZUVycm9yKTtcbiAgICAgKiAgICAgY29uc29sZS5lcnJvcignVHJhbnNpdGlvbiBmYWlsZWQ6JywgZXJyb3I/Lm1lc3NhZ2UpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgYXN5bmMgW0FfU3RhdGVNYWNoaW5lRmVhdHVyZXMub25FcnJvcl0oLi4uYXJnczogYW55W10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gRGVmYXVsdCBlcnJvciBoYW5kbGluZyBsb2dpYyBjYW4gYmUgYWRkZWQgaGVyZVxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyBhIHN0YXRlIHRyYW5zaXRpb24gZnJvbSBvbmUgc3RhdGUgdG8gYW5vdGhlci5cbiAgICAgKiBUaGlzIGlzIHRoZSBjb3JlIG1ldGhvZCBvZiB0aGUgc3RhdGUgbWFjaGluZSB0aGF0IGhhbmRsZXMgdGhlIGNvbXBsZXRlIHRyYW5zaXRpb24gbGlmZWN5Y2xlLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBmcm9tIC0gVGhlIHN0YXRlIHRvIHRyYW5zaXRpb24gZnJvbSAobXVzdCBiZSBhIGtleSBvZiBUKVxuICAgICAqIEBwYXJhbSB0byAtIFRoZSBzdGF0ZSB0byB0cmFuc2l0aW9uIHRvIChtdXN0IGJlIGEga2V5IG9mIFQpXG4gICAgICogQHBhcmFtIHByb3BzIC0gT3B0aW9uYWwgcHJvcGVydGllcyB0byBwYXNzIHRvIHRoZSB0cmFuc2l0aW9uIGNvbnRleHQgKHNob3VsZCBtYXRjaCBUW2tleW9mIFRdKVxuICAgICAqIEByZXR1cm5zIFByb21pc2U8dm9pZD4gdGhhdCByZXNvbHZlcyB3aGVuIHRoZSB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlXG4gICAgICogXG4gICAgICogQHRocm93cyB7QV9TdGF0ZU1hY2hpbmVFcnJvcn0gV2hlbiB0aGUgdHJhbnNpdGlvbiBmYWlscyBmb3IgYW55IHJlYXNvblxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGludGVyZmFjZSBPcmRlclN0YXRlcyB7XG4gICAgICogICBwZW5kaW5nOiB7IG9yZGVySWQ6IHN0cmluZyB9O1xuICAgICAqICAgcHJvY2Vzc2luZzogeyBvcmRlcklkOiBzdHJpbmc7IHByb2Nlc3NlZEJ5OiBzdHJpbmcgfTtcbiAgICAgKiB9XG4gICAgICogXG4gICAgICogY29uc3Qgb3JkZXJNYWNoaW5lID0gbmV3IEFfU3RhdGVNYWNoaW5lPE9yZGVyU3RhdGVzPigpO1xuICAgICAqIFxuICAgICAqIC8vIFRyYW5zaXRpb24gd2l0aCBwcm9wc1xuICAgICAqIGF3YWl0IG9yZGVyTWFjaGluZS50cmFuc2l0aW9uKCdwZW5kaW5nJywgJ3Byb2Nlc3NpbmcnLCB7XG4gICAgICogICBvcmRlcklkOiAnMTIzNDUnLFxuICAgICAqICAgcHJvY2Vzc2VkQnk6ICd1c2VyLTQ1NidcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKiBcbiAgICAgKiBUaGUgdHJhbnNpdGlvbiBwcm9jZXNzIGZvbGxvd3MgdGhpcyBsaWZlY3ljbGU6XG4gICAgICogMS4gV2FpdCBmb3Igc3RhdGUgbWFjaGluZSBpbml0aWFsaXphdGlvbiAocmVhZHkpXG4gICAgICogMi4gQ3JlYXRlIHRyYW5zaXRpb24gbmFtZSBpbiBjYW1lbENhc2UgZm9ybWF0IChlLmcuLCBcInBlbmRpbmdfcHJvY2Vzc2luZ1wiKVxuICAgICAqIDMuIENyZWF0ZSBvcGVyYXRpb24gY29udGV4dCB3aXRoIHRyYW5zaXRpb24gZGF0YVxuICAgICAqIDQuIENyZWF0ZSBpc29sYXRlZCBzY29wZSBmb3IgdGhlIHRyYW5zaXRpb25cbiAgICAgKiA1LiBDYWxsIG9uQmVmb3JlVHJhbnNpdGlvbiBob29rXG4gICAgICogNi4gRXhlY3V0ZSB0aGUgc3BlY2lmaWMgdHJhbnNpdGlvbiBtZXRob2QgKGlmIGRlZmluZWQpXG4gICAgICogNy4gQ2FsbCBvbkFmdGVyVHJhbnNpdGlvbiBob29rXG4gICAgICogOC4gQ2xlYW4gdXAgc2NvcGUgYW5kIHJldHVybiByZXN1bHRcbiAgICAgKiBcbiAgICAgKiBJZiBhbnkgc3RlcCBmYWlscywgdGhlIG9uRXJyb3IgaG9vayBpcyBjYWxsZWQgYW5kIGEgd3JhcHBlZCBlcnJvciBpcyB0aHJvd24uXG4gICAgICovXG4gICAgYXN5bmMgdHJhbnNpdGlvbihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGF0ZSB0byB0cmFuc2l0aW9uIGZyb21cbiAgICAgICAgICovXG4gICAgICAgIGZyb206IGtleW9mIFQsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RhdGUgdG8gdHJhbnNpdGlvbiB0b1xuICAgICAgICAgKi9cbiAgICAgICAgdG86IGtleW9mIFQsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPcHRpb25hbCBwcm9wZXJ0aWVzIHRvIHBhc3MgdG8gdGhlIHRyYW5zaXRpb24gY29udGV4dFxuICAgICAgICAgKi9cbiAgICAgICAgcHJvcHM/OiBUW2tleW9mIFRdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICBjb25zdCB0cmFuc2l0aW9uTmFtZSA9IGAke0FfRm9ybWF0dGVySGVscGVyLnRvQ2FtZWxDYXNlKFN0cmluZyhmcm9tKSl9XyR7QV9Gb3JtYXR0ZXJIZWxwZXIudG9DYW1lbENhc2UoU3RyaW5nKHRvKSl9YDtcblxuICAgICAgICBjb25zdCB0cmFuc2l0aW9uID0gbmV3IEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbih7XG4gICAgICAgICAgICBmcm9tOiBTdHJpbmcoZnJvbSksXG4gICAgICAgICAgICB0bzogU3RyaW5nKHRvKSxcbiAgICAgICAgICAgIHByb3BzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHNjb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgbmFtZTogYEEtU3RhdGVNYWNoaW5lLVRyYW5zaXRpb24tU2NvcGUtJHt0cmFuc2l0aW9uTmFtZX1gLFxuICAgICAgICAgICAgZnJhZ21lbnRzOiBbdHJhbnNpdGlvbl1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU3RhdGVNYWNoaW5lRmVhdHVyZXMub25CZWZvcmVUcmFuc2l0aW9uLCBzY29wZSk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbCh0cmFuc2l0aW9uTmFtZSwgc2NvcGUpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcy5vbkFmdGVyVHJhbnNpdGlvbiwgc2NvcGUpO1xuXG4gICAgICAgICAgICBzY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cmFuc2l0aW9uLnJlc3VsdDtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZEVycm9yID0gbmV3IEFfU3RhdGVNYWNoaW5lRXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBBX1N0YXRlTWFjaGluZUVycm9yLlRyYW5zaXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHRyYW5zaXRpb25pbmcgdG8gXCIke3RyYW5zaXRpb25OYW1lfVwiYCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKHdyYXBwZWRFcnJvcik7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uRXJyb3IsIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyB3cmFwcGVkRXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuIiwgImV4cG9ydCBjb25zdCBBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVMgPSB7XG5cbn0gYXMgY29uc3RcblxuXG4vL3Nob3VsZCBiZSBhbiBhcnJheVxuZXhwb3J0IHR5cGUgQV9UWVBFU19fQ29uZmlnRU5WVmFyaWFibGVzID0gKHR5cGVvZiBBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVMpW2tleW9mIHR5cGVvZiBBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNdW107XG5cblxuZXhwb3J0IGNvbnN0IEFfQ09OU1RBTlRTX19DT05GSUdfRU5WX1ZBUklBQkxFU19BUlJBWSA9IFtcblxuXSBhcyBjb25zdDtcblxuIiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0NvbmZpZ0Vycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgSW5pdGlhbGl6YXRpb25FcnJvciA9ICdBLUNvbmZpZyBJbml0aWFsaXphdGlvbiBFcnJvcic7XG59IiwgImltcG9ydCB7IEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVksIEFfRm9ybWF0dGVySGVscGVyLCBBX1RZUEVTX19Db25jZXB0RU5WVmFyaWFibGVzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbmZpZ0NvbnRhaW5lckNvbnN0cnVjdG9yIH0gZnJvbSBcIi4vQS1Db25maWcudHlwZXNcIjtcbmltcG9ydCB7IEFfRXhlY3V0aW9uQ29udGV4dCB9IGZyb20gXCIuLi9BLUV4ZWN1dGlvbi9BLUV4ZWN1dGlvbi5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVkgfSBmcm9tIFwiLi9BLUNvbmZpZy5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfQ29uZmlnRXJyb3IgfSBmcm9tIFwiLi9BLUNvbmZpZy5lcnJvclwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0NvbmZpZzxcbiAgICBUIGV4dGVuZHMgQXJyYXk8c3RyaW5nIHwgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlc1tudW1iZXJdPiA9IGFueVtdXG4+IGV4dGVuZHMgQV9FeGVjdXRpb25Db250ZXh0PFxuICAgIHsgW2tleSBpbiBUW251bWJlcl1dOiBhbnk7IH0gJiB7XG4gICAgICAgIFtrZXkgaW4gdHlwZW9mIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVlbbnVtYmVyXV06IGFueVxuICAgIH0gJiB7XG4gICAgICAgIFtrZXkgaW4gdHlwZW9mIEFfQ09OU1RBTlRTX19DT05GSUdfRU5WX1ZBUklBQkxFU19BUlJBWVtudW1iZXJdXTogYW55XG4gICAgfVxuPiB7XG4gICAgcHJvdGVjdGVkIF9zdHJpY3Q6IGJvb2xlYW47XG4gICAgcHJvdGVjdGVkIF9jb25maWdQcm9wZXJ0aWVzITogVDtcblxuICAgIHByb3RlY3RlZCBERUZBVUxUX0FMTE9XRURfVE9fUkVBRF9QUk9QRVJUSUVTID0gW1xuICAgICAgICAuLi5BX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZLFxuICAgICAgICAuLi5BX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVlcbiAgICBdO1xuXG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgY29uZmlnOiBQYXJ0aWFsPEFfVFlQRVNfX0NvbmZpZ0NvbnRhaW5lckNvbnN0cnVjdG9yPFQ+PlxuICAgICkge1xuICAgICAgICBzdXBlcignYS1jb25maWcnKTtcblxuICAgICAgICB0aGlzLl9zdHJpY3QgPSBjb25maWcuc3RyaWN0ID8/IGZhbHNlO1xuICAgICAgICB0aGlzLl9jb25maWdQcm9wZXJ0aWVzID0gY29uZmlnLnZhcmlhYmxlcyA/PyBbXSBhcyBhbnk7XG5cblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjb25maWcuZGVmYXVsdHMpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KFxuICAgICAgICAgICAgICAgIEFfRm9ybWF0dGVySGVscGVyLnRvVXBwZXJTbmFrZUNhc2Uoa2V5KSxcbiAgICAgICAgICAgICAgICBjb25maWcuZGVmYXVsdHNba2V5IGFzIFRbbnVtYmVyXV1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGdldCBzdHJpY3QoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJpY3Q7XG4gICAgfVxuXG5cbiAgICAvKiogXG4gICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gZ2V0IHRoZSBjb25maWd1cmF0aW9uIHByb3BlcnR5IGJ5IG5hbWVcbiAgICAgICogXG4gICAgICAqIEBwYXJhbSBwcm9wZXJ0eSBcbiAgICAgICogQHJldHVybnMgXG4gICAgICAqL1xuICAgIGdldDxLIGV4dGVuZHMgVFtudW1iZXJdPihcbiAgICAgICAgcHJvcGVydHk6IEsgfCB0eXBlb2YgdGhpcy5ERUZBVUxUX0FMTE9XRURfVE9fUkVBRF9QUk9QRVJUSUVTW251bWJlcl1cbiAgICApOiB7IFtrZXkgaW4gVFtudW1iZXJdXTogYW55OyB9W0tdIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZ1Byb3BlcnRpZXMuaW5jbHVkZXMocHJvcGVydHkgYXMgYW55KVxuICAgICAgICAgICAgfHwgdGhpcy5ERUZBVUxUX0FMTE9XRURfVE9fUkVBRF9QUk9QRVJUSUVTLmluY2x1ZGVzKHByb3BlcnR5IGFzIGFueSlcbiAgICAgICAgICAgIHx8ICF0aGlzLl9zdHJpY3RcbiAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmdldChBX0Zvcm1hdHRlckhlbHBlci50b1VwcGVyU25ha2VDYXNlKHByb3BlcnR5KSk7XG5cbiAgICAgICAgdGhyb3cgbmV3IEFfQ29uZmlnRXJyb3IoJ1Byb3BlcnR5IG5vdCBleGlzdHMgb3Igbm90IGFsbG93ZWQgdG8gcmVhZCcpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBzZXQgdGhlIGNvbmZpZ3VyYXRpb24gcHJvcGVydHkgYnkgbmFtZVxuICAgICAqIE9SIHNldCBtdWx0aXBsZSBwcm9wZXJ0aWVzIGF0IG9uY2UgYnkgcGFzc2luZyBhbiBhcnJheSBvZiBvYmplY3RzXG4gICAgICogXG4gICAgICogQHBhcmFtIHZhcmlhYmxlcyBcbiAgICAgKi9cbiAgICBzZXQoXG4gICAgICAgIHZhcmlhYmxlczogQXJyYXk8e1xuICAgICAgICAgICAgcHJvcGVydHk6IFRbbnVtYmVyXSB8IEFfVFlQRVNfX0NvbmNlcHRFTlZWYXJpYWJsZXNbbnVtYmVyXSxcbiAgICAgICAgICAgIHZhbHVlOiBhbnlcbiAgICAgICAgfT5cbiAgICApXG4gICAgc2V0KFxuICAgICAgICB2YXJpYWJsZXM6IFBhcnRpYWw8UmVjb3JkPFRbbnVtYmVyXSB8IEFfVFlQRVNfX0NvbmNlcHRFTlZWYXJpYWJsZXNbbnVtYmVyXSwgYW55Pj5cbiAgICApXG4gICAgc2V0KFxuICAgICAgICBwcm9wZXJ0eTogVFtudW1iZXJdIHwgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlc1tudW1iZXJdLFxuICAgICAgICB2YWx1ZTogYW55XG4gICAgKVxuICAgIHNldChcbiAgICAgICAgcHJvcGVydHk6IFRbbnVtYmVyXSB8IEFfVFlQRVNfX0NvbmNlcHRFTlZWYXJpYWJsZXNbbnVtYmVyXSB8IEFycmF5PHtcbiAgICAgICAgICAgIHByb3BlcnR5OiBUW251bWJlcl0gfCBBX1RZUEVTX19Db25jZXB0RU5WVmFyaWFibGVzW251bWJlcl0sXG4gICAgICAgICAgICB2YWx1ZTogYW55XG4gICAgICAgIH0+IHwgUGFydGlhbDxSZWNvcmQ8VFtudW1iZXJdIHwgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlc1tudW1iZXJdLCBhbnk+PixcbiAgICAgICAgdmFsdWU/OiBhbnlcbiAgICApIHtcbiAgICAgICAgY29uc3QgYXJyYXkgPSBBcnJheS5pc0FycmF5KHByb3BlcnR5KVxuICAgICAgICAgICAgPyBwcm9wZXJ0eVxuICAgICAgICAgICAgOiB0eXBlb2YgcHJvcGVydHkgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyBbeyBwcm9wZXJ0eSwgdmFsdWUgfV1cbiAgICAgICAgICAgICAgICA6IE9iamVjdFxuICAgICAgICAgICAgICAgICAgICAua2V5cyhwcm9wZXJ0eSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoa2V5KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwcm9wZXJ0eVtrZXldXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICBmb3IgKGNvbnN0IHsgcHJvcGVydHksIHZhbHVlIH0gb2YgYXJyYXkpIHtcbiAgICAgICAgICAgIHN1cGVyLnNldChBX0Zvcm1hdHRlckhlbHBlci50b1VwcGVyU25ha2VDYXNlKHByb3BlcnR5KSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufSIsICIvKipcbiAqIEEtTG9nZ2VyIENvbnN0YW50c1xuICogXG4gKiBDb25maWd1cmF0aW9uIGNvbnN0YW50cyBhbmQgZGVmYXVsdCB2YWx1ZXMgZm9yIHRoZSBBX0xvZ2dlciBjb21wb25lbnRcbiAqL1xuXG4vKipcbiAqIERlZmF1bHQgc2NvcGUgbGVuZ3RoIGZvciBjb25zaXN0ZW50IG1lc3NhZ2UgYWxpZ25tZW50XG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0xFTkdUSCA9IDIwO1xuXG4vKipcbiAqIERlZmF1bHQgbG9nIGxldmVsIHdoZW4gbm9uZSBpcyBzcGVjaWZpZWRcbiAqL1xuZXhwb3J0IGNvbnN0IEFfTE9HR0VSX0RFRkFVTFRfTEVWRUwgPSAnYWxsJztcblxuLyoqXG4gKiBUZXJtaW5hbCBjb2xvciBjb2RlcyBtYXBwaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9DT0xPUlMgPSB7XG4gICAgLy8gU3lzdGVtIGNvbG9ycyAocmVzZXJ2ZWQgZm9yIHNwZWNpZmljIHB1cnBvc2VzKVxuICAgIHJlZDogJzMxJywgICAgICAgICAgLy8gRXJyb3JzLCBjcml0aWNhbCBpc3N1ZXNcbiAgICB5ZWxsb3c6ICczMycsICAgICAgIC8vIFdhcm5pbmdzLCBjYXV0aW9uIG1lc3NhZ2VzXG4gICAgZ3JlZW46ICczMicsICAgICAgICAvLyBTdWNjZXNzLCBjb21wbGV0aW9uIG1lc3NhZ2VzXG4gICAgXG4gICAgLy8gU2FmZSBwYWxldHRlIGZvciByYW5kb20gc2VsZWN0aW9uIChncmV5LWJsdWUtdmlvbGV0IHRoZW1lKVxuICAgIGJsdWU6ICczNCcsICAgICAgICAgLy8gSW5mbywgZ2VuZXJhbCBtZXNzYWdlc1xuICAgIGN5YW46ICczNicsICAgICAgICAgLy8gSGVhZGVycywgdGl0bGVzXG4gICAgbWFnZW50YTogJzM1JywgICAgICAvLyBTcGVjaWFsIGhpZ2hsaWdodGluZ1xuICAgIGdyYXk6ICc5MCcsICAgICAgICAgLy8gRGVidWcsIGxlc3MgaW1wb3J0YW50IGluZm9cbiAgICBicmlnaHRCbHVlOiAnOTQnLCAgIC8vIEJyaWdodCBibHVlIHZhcmlhbnRcbiAgICBicmlnaHRDeWFuOiAnOTYnLCAgIC8vIEJyaWdodCBjeWFuIHZhcmlhbnRcbiAgICBicmlnaHRNYWdlbnRhOiAnOTUnLCAvLyBCcmlnaHQgbWFnZW50YSB2YXJpYW50XG4gICAgZGFya0dyYXk6ICczMCcsICAgICAvLyBEYXJrIGdyYXlcbiAgICBsaWdodEdyYXk6ICczNycsICAgIC8vIExpZ2h0IGdyYXkgKHdoaXRlKVxuICAgIFxuICAgIC8vIEV4dGVuZGVkIGJsdWUtdmlvbGV0IHBhbGV0dGVcbiAgICBpbmRpZ286ICczODs1OzU0JywgICAgICAvLyBEZWVwIGluZGlnb1xuICAgIHZpb2xldDogJzM4OzU7OTMnLCAgICAgIC8vIFZpb2xldFxuICAgIHB1cnBsZTogJzM4OzU7MTI5JywgICAgIC8vIFB1cnBsZVxuICAgIGxhdmVuZGVyOiAnMzg7NTsxODMnLCAgIC8vIExhdmVuZGVyXG4gICAgc2t5Qmx1ZTogJzM4OzU7MTE3JywgICAgLy8gU2t5IGJsdWVcbiAgICBzdGVlbEJsdWU6ICczODs1OzY3JywgICAvLyBTdGVlbCBibHVlXG4gICAgc2xhdGVCbHVlOiAnMzg7NTs2MicsICAgLy8gU2xhdGUgYmx1ZVxuICAgIGRlZXBCbHVlOiAnMzg7NTsxOCcsICAgIC8vIERlZXAgYmx1ZVxuICAgIGxpZ2h0Qmx1ZTogJzM4OzU7MTUzJywgIC8vIExpZ2h0IGJsdWVcbiAgICBwZXJpd2lua2xlOiAnMzg7NTsxMTEnLCAvLyBQZXJpd2lua2xlXG4gICAgY29ybmZsb3dlcjogJzM4OzU7NjknLCAgLy8gQ29ybmZsb3dlciBibHVlXG4gICAgcG93ZGVyOiAnMzg7NTsxNTInLCAgICAgLy8gUG93ZGVyIGJsdWVcbiAgICBcbiAgICAvLyBBZGRpdGlvbmFsIGdyYXlzIGZvciB2YXJpZXR5XG4gICAgY2hhcmNvYWw6ICczODs1OzIzNicsICAgLy8gQ2hhcmNvYWxcbiAgICBzaWx2ZXI6ICczODs1OzI1MCcsICAgICAvLyBTaWx2ZXJcbiAgICBzbW9rZTogJzM4OzU7MjQ0JywgICAgICAvLyBTbW9rZSBncmF5XG4gICAgc2xhdGU6ICczODs1OzI0MCcsICAgICAgLy8gU2xhdGUgZ3JheVxufSBhcyBjb25zdDtcblxuLyoqXG4gKiBTYWZlIGNvbG9ycyBmb3IgcmFuZG9tIHNlbGVjdGlvbiAtIGdyZXktYmx1ZS12aW9sZXQgcGFsZXR0ZVxuICogRXhjbHVkZXMgc3lzdGVtIGNvbG9ycyAocmVkLCB5ZWxsb3csIGdyZWVuKSB0byBhdm9pZCBjb25mdXNpb24gd2l0aCB3YXJuaW5ncy9lcnJvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IEFfTE9HR0VSX1NBRkVfUkFORE9NX0NPTE9SUyA9IFtcbiAgICAnYmx1ZScsICdjeWFuJywgJ21hZ2VudGEnLCAnZ3JheScsICdicmlnaHRCbHVlJywgJ2JyaWdodEN5YW4nLCAnYnJpZ2h0TWFnZW50YScsXG4gICAgJ2RhcmtHcmF5JywgJ2xpZ2h0R3JheScsICdpbmRpZ28nLCAndmlvbGV0JywgJ3B1cnBsZScsICdsYXZlbmRlcicsICdza3lCbHVlJyxcbiAgICAnc3RlZWxCbHVlJywgJ3NsYXRlQmx1ZScsICdkZWVwQmx1ZScsICdsaWdodEJsdWUnLCAncGVyaXdpbmtsZScsICdjb3JuZmxvd2VyJyxcbiAgICAncG93ZGVyJywgJ2NoYXJjb2FsJywgJ3NpbHZlcicsICdzbW9rZScsICdzbGF0ZSdcbl0gYXMgY29uc3Q7XG5cbi8qKlxuICogQU5TSSBlc2NhcGUgY29kZXNcbiAqL1xuZXhwb3J0IGNvbnN0IEFfTE9HR0VSX0FOU0kgPSB7XG4gICAgUkVTRVQ6ICdcXHgxYlswbScsXG4gICAgUFJFRklYOiAnXFx4MWJbJyxcbiAgICBTVUZGSVg6ICdtJ1xufSBhcyBjb25zdDtcblxuLyoqXG4gKiBUaW1lc3RhbXAgZm9ybWF0IGNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IEFfTE9HR0VSX1RJTUVfRk9STUFUID0ge1xuICAgIE1JTlVURVNfUEFEOiAyLFxuICAgIFNFQ09ORFNfUEFEOiAyLFxuICAgIE1JTExJU0VDT05EU19QQUQ6IDMsXG4gICAgU0VQQVJBVE9SOiAnOidcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogTG9nIG1lc3NhZ2Ugc3RydWN0dXJlIGNvbnN0YW50c1xuICovXG5leHBvcnQgY29uc3QgQV9MT0dHRVJfRk9STUFUID0ge1xuICAgIFNDT1BFX09QRU46ICdbJyxcbiAgICBTQ09QRV9DTE9TRTogJ10nLFxuICAgIFRJTUVfT1BFTjogJ3wnLFxuICAgIFRJTUVfQ0xPU0U6ICd8JyxcbiAgICBTRVBBUkFUT1I6ICctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyxcbiAgICBJTkRFTlRfQkFTRTogMyxcbiAgICBQSVBFOiAnfCAnXG59IGFzIGNvbnN0O1xuXG4vKipcbiAqIEVudmlyb25tZW50IHZhcmlhYmxlIGtleXNcbiAqL1xuLyoqXG4gKiBUZXJtaW5hbCB3aWR0aCBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9URVJNSU5BTCA9IHtcbiAgICBERUZBVUxUX1dJRFRIOiA4MCwgICAgICAgIC8vIERlZmF1bHQgdGVybWluYWwgd2lkdGggd2hlbiBjYW4ndCBiZSBkZXRlY3RlZFxuICAgIE1JTl9XSURUSDogNDAsICAgICAgICAgICAvLyBNaW5pbXVtIHdpZHRoIGZvciBmb3JtYXR0ZWQgb3V0cHV0XG4gICAgTUFYX0xJTkVfTEVOR1RIX1JBVElPOiAwLjgsIC8vIFVzZSA4MCUgb2YgdGVybWluYWwgd2lkdGggZm9yIGNvbnRlbnRcbiAgICBCUk9XU0VSX0RFRkFVTFRfV0lEVEg6IDEyMCAgLy8gRGVmYXVsdCB3aWR0aCBmb3IgYnJvd3NlciBjb25zb2xlXG59IGFzIGNvbnN0O1xuXG4vKipcbiAqIEVudmlyb25tZW50IHZhcmlhYmxlIGtleXNcbiAqL1xuZXhwb3J0IGNvbnN0IEFfTE9HR0VSX0VOVl9LRVlTID0ge1xuICAgIExPR19MRVZFTDogJ0FfTE9HR0VSX0xFVkVMJyxcbiAgICBERUZBVUxUX1NDT1BFX0xFTkdUSDogJ0FfTE9HR0VSX0RFRkFVTFRfU0NPUEVfTEVOR1RIJyxcbiAgICBERUZBVUxUX1NDT1BFX0NPTE9SOiAnQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9DT0xPUicsXG4gICAgREVGQVVMVF9MT0dfQ09MT1I6ICdBX0xPR0dFUl9ERUZBVUxUX0xPR19DT0xPUidcbn0gYXMgY29uc3Q7IiwgImltcG9ydCB7IEFfQ29tcG9uZW50LCBBX0NvbnRleHQsIEFfRXJyb3IsIEFfSW5qZWN0LCBBX1Njb3BlIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfQ29uZmlnIH0gZnJvbSBcIi4uL0EtQ29uZmlnL0EtQ29uZmlnLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfTG9nZ2VyRW52VmFyaWFibGVzVHlwZSB9IGZyb20gXCIuL0EtTG9nZ2VyLmVudlwiO1xuaW1wb3J0IHsgQV9Mb2dnZXJMZXZlbCwgQV9Mb2dnZXJDb2xvck5hbWUgfSBmcm9tIFwiLi9BLUxvZ2dlci50eXBlc1wiO1xuaW1wb3J0IHtcbiAgICBBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0xFTkdUSCxcbiAgICBBX0xPR0dFUl9DT0xPUlMsXG4gICAgQV9MT0dHRVJfQU5TSSxcbiAgICBBX0xPR0dFUl9USU1FX0ZPUk1BVCxcbiAgICBBX0xPR0dFUl9GT1JNQVQsXG4gICAgQV9MT0dHRVJfRU5WX0tFWVMsXG4gICAgQV9MT0dHRVJfU0FGRV9SQU5ET01fQ09MT1JTLFxuICAgIEFfTE9HR0VSX1RFUk1JTkFMXG59IGZyb20gXCIuL0EtTG9nZ2VyLmNvbnN0YW50c1wiO1xuXG4vKipcbiAqIEFfTG9nZ2VyIC0gQWR2YW5jZWQgTG9nZ2luZyBDb21wb25lbnQgd2l0aCBTY29wZS1iYXNlZCBPdXRwdXQgRm9ybWF0dGluZ1xuICogXG4gKiBUaGlzIGNvbXBvbmVudCBwcm92aWRlcyBjb21wcmVoZW5zaXZlIGxvZ2dpbmcgY2FwYWJpbGl0aWVzIHdpdGg6XG4gKiAtIENvbG9yLWNvZGVkIGNvbnNvbGUgb3V0cHV0IGZvciBkaWZmZXJlbnQgbG9nIGxldmVsc1xuICogLSBTY29wZS1iYXNlZCBtZXNzYWdlIGZvcm1hdHRpbmcgd2l0aCBjb25zaXN0ZW50IGFsaWdubWVudFxuICogLSBTdXBwb3J0IGZvciBtdWx0aXBsZSBkYXRhIHR5cGVzIChvYmplY3RzLCBlcnJvcnMsIHN0cmluZ3MpXG4gKiAtIENvbmZpZ3VyYWJsZSBsb2cgbGV2ZWxzIGZvciBmaWx0ZXJpbmcgb3V0cHV0XG4gKiAtIFNwZWNpYWwgaGFuZGxpbmcgZm9yIEFfRXJyb3IgYW5kIG5hdGl2ZSBFcnJvciBvYmplY3RzXG4gKiAtIFRpbWVzdGFtcCBpbmNsdXNpb24gZm9yIGJldHRlciBkZWJ1Z2dpbmdcbiAqIFxuICogS2V5IEZlYXR1cmVzOlxuICogLSAqKlNjb3BlIEludGVncmF0aW9uKio6IFVzZXMgQV9TY29wZSBmb3IgY29uc2lzdGVudCBtZXNzYWdlIHByZWZpeGluZ1xuICogLSAqKkNvbG9yIFN1cHBvcnQqKjogVGVybWluYWwgY29sb3IgY29kZXMgZm9yIHZpc3VhbCBkaXN0aW5jdGlvblxuICogLSAqKk9iamVjdCBGb3JtYXR0aW5nKio6IFByZXR0eS1wcmludHMgSlNPTiBvYmplY3RzIHdpdGggcHJvcGVyIGluZGVudGF0aW9uXG4gKiAtICoqRXJyb3IgSGFuZGxpbmcqKjogU3BlY2lhbCBmb3JtYXR0aW5nIGZvciBBX0Vycm9yIGFuZCBFcnJvciBvYmplY3RzXG4gKiAtICoqTG9nIExldmVsIEZpbHRlcmluZyoqOiBDb25maWd1cmFibGUgZmlsdGVyaW5nIGJhc2VkIG9uIHNldmVyaXR5XG4gKiAtICoqTXVsdGktbGluZSBTdXBwb3J0Kio6IFByb3BlciBhbGlnbm1lbnQgZm9yIG11bHRpLWxpbmUgbWVzc2FnZXNcbiAqIFxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIC8vIEJhc2ljIHVzYWdlIHdpdGggZGVwZW5kZW5jeSBpbmplY3Rpb24gKHVzZXMgZGV0ZXJtaW5pc3RpYyBjb2xvcnMgYmFzZWQgb24gc2NvcGUgbmFtZSlcbiAqIGNsYXNzIE15U2VydmljZSB7XG4gKiAgIGNvbnN0cnVjdG9yKEBBX0luamVjdChBX0xvZ2dlcikgcHJpdmF0ZSBsb2dnZXI6IEFfTG9nZ2VyKSB7fVxuICogICBcbiAqICAgZG9Tb21ldGhpbmcoKSB7XG4gKiAgICAgdGhpcy5sb2dnZXIuaW5mbygnUHJvY2Vzc2luZyBzdGFydGVkJyk7IC8vIFVzZXMgc2NvcGUtbmFtZS1iYXNlZCBjb2xvcnMsIGFsd2F5cyBzaG93c1xuICogICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdEZWJ1ZyBpbmZvcm1hdGlvbicpOyAvLyBPbmx5IHNob3dzIHdoZW4gZGVidWcgbGV2ZWwgZW5hYmxlZFxuICogICAgIFxuICogICAgIC8vIENvbG9yIG92ZXJsb2FkIG1ldGhvZHMgd2l0aCBlbnVtIHN1cHBvcnRcbiAqICAgICB0aGlzLmxvZ2dlci5pbmZvKCdncmVlbicsICdTdWNjZXNzIG1lc3NhZ2UnKTsgLy8gR3JlZW4gbWVzc2FnZSwgc2NvcGUgc3RheXMgZGVmYXVsdFxuICogICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdncmF5JywgJ1ZlcmJvc2UgZGVidWcgaW5mbycpOyAvLyBHcmF5IG1lc3NhZ2UgZm9yIGxlc3MgaW1wb3J0YW50IGluZm9cbiAqICAgICB0aGlzLmxvZ2dlci5pbmZvKCdicmlnaHRCbHVlJywgJ0ltcG9ydGFudCBub3RpZmljYXRpb24nKTtcbiAqICAgICBcbiAqICAgICAvLyBUZXJtaW5hbCB3aWR0aCBhd2FyZSBmb3JtYXR0aW5nIC0gYXV0b21hdGljYWxseSB3cmFwcyBsb25nIGxpbmVzXG4gKiAgICAgdGhpcy5sb2dnZXIuaW5mbygnVGhpcyBpcyBhIHZlcnkgbG9uZyBtZXNzYWdlIHRoYXQgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHdyYXBwZWQgdG8gZml0IHdpdGhpbiB0aGUgdGVybWluYWwgd2lkdGggd2hpbGUgbWFpbnRhaW5pbmcgcHJvcGVyIGluZGVudGF0aW9uIGFuZCBmb3JtYXR0aW5nJyk7XG4gKiAgICAgXG4gKiAgICAgdGhpcy5sb2dnZXIud2FybmluZygnU29tZXRoaW5nIG1pZ2h0IGJlIHdyb25nJyk7XG4gKiAgICAgdGhpcy5sb2dnZXIuZXJyb3IobmV3IEVycm9yKCdTb21ldGhpbmcgZmFpbGVkJykpO1xuICogICB9XG4gKiB9XG4gKiBcbiAqIC8vIFNhbWUgc2NvcGUgbmFtZXMgd2lsbCBhbHdheXMgZ2V0IHRoZSBzYW1lIGNvbG9ycyBhdXRvbWF0aWNhbGx5XG4gKiBjb25zdCBsb2dnZXIxID0gbmV3IEFfTG9nZ2VyKG5ldyBBX1Njb3BlKHtuYW1lOiAnVXNlclNlcnZpY2UnfSkpOyAvLyBHZXRzIGNvbnNpc3RlbnQgY29sb3JzXG4gKiBjb25zdCBsb2dnZXIyID0gbmV3IEFfTG9nZ2VyKG5ldyBBX1Njb3BlKHtuYW1lOiAnVXNlclNlcnZpY2UnfSkpOyAvLyBHZXRzIHNhbWUgY29sb3JzIGFzIGxvZ2dlcjFcbiAqIFxuICogLy8gQXZhaWxhYmxlIGNvbG9yIG5hbWVzIChBX0xvZ2dlckNvbG9yTmFtZSBlbnVtKTpcbiAqIC8vICdyZWQnLCAneWVsbG93JywgJ2dyZWVuJywgJ2JsdWUnLCAnY3lhbicsICdtYWdlbnRhJywgJ2dyYXknLFxuICogLy8gJ2JyaWdodEJsdWUnLCAnYnJpZ2h0Q3lhbicsICdicmlnaHRNYWdlbnRhJywgJ2RhcmtHcmF5JywgJ2xpZ2h0R3JheScsXG4gKiAvLyAnaW5kaWdvJywgJ3Zpb2xldCcsICdwdXJwbGUnLCAnbGF2ZW5kZXInLCAnc2t5Qmx1ZScsICdzdGVlbEJsdWUnLFxuICogLy8gJ3NsYXRlQmx1ZScsICdkZWVwQmx1ZScsICdsaWdodEJsdWUnLCAncGVyaXdpbmtsZScsICdjb3JuZmxvd2VyJyxcbiAqIC8vICdwb3dkZXInLCAnY2hhcmNvYWwnLCAnc2lsdmVyJywgJ3Ntb2tlJywgJ3NsYXRlJ1xuICogXG4gKiAvLyBDb25maWd1cmF0aW9uIHZpYSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgb3IgQV9Db25maWcgKG92ZXJyaWRlcyBhdXRvbWF0aWMgc2VsZWN0aW9uKVxuICogcHJvY2Vzcy5lbnYuQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9DT0xPUiA9ICdtYWdlbnRhJztcbiAqIHByb2Nlc3MuZW52LkFfTE9HR0VSX0RFRkFVTFRfTE9HX0NPTE9SID0gJ2dyZWVuJztcbiAqIFxuICogLy8gT3IgdGhyb3VnaCBBX0NvbmZpZyBpbnN0YW5jZVxuICogY29uc3QgY29uZmlnID0gbmV3IEFfQ29uZmlnKHtcbiAqICAgQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9DT0xPUjogJ3JlZCcsXG4gKiAgIEFfTE9HR0VSX0RFRkFVTFRfTE9HX0NPTE9SOiAnd2hpdGUnXG4gKiB9KTtcbiAqIGNvbnN0IGxvZ2dlciA9IG5ldyBBX0xvZ2dlcihzY29wZSwgY29uZmlnKTtcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgQV9Mb2dnZXIgZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDb25maWd1cmF0aW9uIGFuZCBDb25zdGFudHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFRlcm1pbmFsIGNvbG9yIGNvZGVzIGZvciBkaWZmZXJlbnQgbG9nIGxldmVscyBhbmQgY3VzdG9tIHN0eWxpbmdcbiAgICAgKiBUaGVzZSBjb2RlcyB3b3JrIHdpdGggQU5TSSBlc2NhcGUgc2VxdWVuY2VzIGZvciBjb2xvcmVkIHRlcm1pbmFsIG91dHB1dFxuICAgICAqL1xuICAgIHJlYWRvbmx5IENPTE9SUztcblxuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIHNjb3BlIGxlbmd0aCBmb3IgY29uc2lzdGVudCBmb3JtYXR0aW5nXG4gICAgICogVGhpcyBlbnN1cmVzIGFsbCBsb2cgbWVzc2FnZXMgYWxpZ24gcHJvcGVybHkgcmVnYXJkbGVzcyBvZiBzY29wZSBuYW1lIGxlbmd0aFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVhZG9ubHkgU1RBTkRBUkRfU0NPUEVfTEVOR1RIO1xuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBjb2xvciBmb3IgdGhlIHNjb3BlIHBvcnRpb24gb2YgbG9nIG1lc3NhZ2VzXG4gICAgICogVGhpcyBjb2xvciBpcyB1c2VkIGZvciB0aGUgc2NvcGUgYnJhY2tldHMgYW5kIGNvbnRlbnQsIGFuZCByZW1haW5zIGNvbnNpc3RlbnRcbiAgICAgKiBmb3IgdGhpcyBsb2dnZXIgaW5zdGFuY2UgcmVnYXJkbGVzcyBvZiBtZXNzYWdlIGNvbG9yIG92ZXJyaWRlc1xuICAgICAqL1xuICAgIHByaXZhdGUgcmVhZG9ubHkgREVGQVVMVF9TQ09QRV9DT0xPUjoga2V5b2YgdHlwZW9mIEFfTE9HR0VSX0NPTE9SUztcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgY29sb3IgZm9yIGxvZyBtZXNzYWdlIGNvbnRlbnQgd2hlbiBubyBleHBsaWNpdCBjb2xvciBpcyBwcm92aWRlZFxuICAgICAqIFRoaXMgY29sb3IgaXMgdXNlZCBmb3IgdGhlIG1lc3NhZ2UgYm9keSB3aGVuIGxvZ2dpbmcgd2l0aG91dCBzcGVjaWZ5aW5nIGEgY29sb3JcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlYWRvbmx5IERFRkFVTFRfTE9HX0NPTE9SOiBrZXlvZiB0eXBlb2YgQV9MT0dHRVJfQ09MT1JTO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCB0ZXJtaW5hbCB3aWR0aCBmb3IgcmVzcG9uc2l2ZSBmb3JtYXR0aW5nXG4gICAgICogQXV0b21hdGljYWxseSBkZXRlY3RlZCBvciBmYWxscyBiYWNrIHRvIGRlZmF1bHQgdmFsdWVzXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWFkb25seSBURVJNSU5BTF9XSURUSDogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogTWF4aW11bSBjb250ZW50IHdpZHRoIGJhc2VkIG9uIHRlcm1pbmFsIHNpemVcbiAgICAgKiBVc2VkIGZvciB3b3JkIHdyYXBwaW5nIGFuZCBsaW5lIGxlbmd0aCBjYWxjdWxhdGlvbnNcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlYWRvbmx5IE1BWF9DT05URU5UX1dJRFRIOiBudW1iZXI7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDb25zdHJ1Y3RvciBhbmQgSW5pdGlhbGl6YXRpb25cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBBX0xvZ2dlciB3aXRoIGRlcGVuZGVuY3kgaW5qZWN0aW9uXG4gICAgICogQ29sb3JzIGFyZSBjb25maWd1cmVkIHRocm91Z2ggQV9Db25maWcgb3IgZ2VuZXJhdGVkIHJhbmRvbWx5IGlmIG5vdCBwcm92aWRlZFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzY29wZSAtIFRoZSBjdXJyZW50IHNjb3BlIGNvbnRleHQgZm9yIG1lc3NhZ2UgcHJlZml4aW5nXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIGxvZyBsZXZlbCBmaWx0ZXJpbmcgYW5kIGNvbG9yIHNldHRpbmdzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBwcm90ZWN0ZWQgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIEBBX0luamVjdChBX0NvbmZpZykgcHJvdGVjdGVkIGNvbmZpZz86IEFfQ29uZmlnPEFfTG9nZ2VyRW52VmFyaWFibGVzVHlwZT5cbiAgICApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5DT0xPUlMgPSBBX0xPR0dFUl9DT0xPUlM7XG4gICAgICAgIHRoaXMuU1RBTkRBUkRfU0NPUEVfTEVOR1RIID0gY29uZmlnPy5nZXQoQV9MT0dHRVJfRU5WX0tFWVMuREVGQVVMVF9TQ09QRV9MRU5HVEgpIHx8IEFfTE9HR0VSX0RFRkFVTFRfU0NPUEVfTEVOR1RIO1xuXG4gICAgICAgIC8vIEdldCBjb2xvcnMgZnJvbSBjb25maWcgb3IgZ2VuZXJhdGUgZGV0ZXJtaW5pc3RpYyBjb2xvcnMgYmFzZWQgb24gc2NvcGUgbmFtZVxuICAgICAgICBjb25zdCBjb25maWdTY29wZUNvbG9yID0gY29uZmlnPy5nZXQoQV9MT0dHRVJfRU5WX0tFWVMuREVGQVVMVF9TQ09QRV9DT0xPUikgYXMga2V5b2YgdHlwZW9mIEFfTE9HR0VSX0NPTE9SUztcbiAgICAgICAgY29uc3QgY29uZmlnTG9nQ29sb3IgPSBjb25maWc/LmdldChBX0xPR0dFUl9FTlZfS0VZUy5ERUZBVUxUX0xPR19DT0xPUikgYXMga2V5b2YgdHlwZW9mIEFfTE9HR0VSX0NPTE9SUztcblxuICAgICAgICBpZiAoY29uZmlnU2NvcGVDb2xvciB8fCBjb25maWdMb2dDb2xvcikge1xuICAgICAgICAgICAgLy8gSWYgYW55IGNvbG9yIGlzIGNvbmZpZ3VyZWQsIHVzZSBjb25maWcgdmFsdWVzIG9yIGZhbGxiYWNrIHRvIHNjb3BlLWJhc2VkIHNlbGVjdGlvblxuICAgICAgICAgICAgdGhpcy5ERUZBVUxUX1NDT1BFX0NPTE9SID0gY29uZmlnU2NvcGVDb2xvciB8fCB0aGlzLmdlbmVyYXRlQ29sb3JGcm9tU2NvcGVOYW1lKHRoaXMuc2NvcGUubmFtZSk7XG4gICAgICAgICAgICB0aGlzLkRFRkFVTFRfTE9HX0NPTE9SID0gY29uZmlnTG9nQ29sb3IgfHwgdGhpcy5nZW5lcmF0ZUNvbG9yRnJvbVNjb3BlTmFtZSh0aGlzLnNjb3BlLm5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgbm8gY29sb3JzIGNvbmZpZ3VyZWQsIGdlbmVyYXRlIGNvbXBsZW1lbnRhcnkgcGFpciBiYXNlZCBvbiBzY29wZSBuYW1lXG4gICAgICAgICAgICBjb25zdCBjb21wbGVtZW50YXJ5Q29sb3JzID0gdGhpcy5nZW5lcmF0ZUNvbXBsZW1lbnRhcnlDb2xvcnNGcm9tU2NvcGUodGhpcy5zY29wZS5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMuREVGQVVMVF9TQ09QRV9DT0xPUiA9IGNvbXBsZW1lbnRhcnlDb2xvcnMuc2NvcGVDb2xvcjtcbiAgICAgICAgICAgIHRoaXMuREVGQVVMVF9MT0dfQ09MT1IgPSBjb21wbGVtZW50YXJ5Q29sb3JzLmxvZ0NvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0ZXJtaW5hbCB3aWR0aCBkZXRlY3Rpb25cbiAgICAgICAgdGhpcy5URVJNSU5BTF9XSURUSCA9IHRoaXMuZGV0ZWN0VGVybWluYWxXaWR0aCgpO1xuICAgICAgICB0aGlzLk1BWF9DT05URU5UX1dJRFRIID0gTWF0aC5mbG9vcih0aGlzLlRFUk1JTkFMX1dJRFRIICogQV9MT0dHRVJfVEVSTUlOQUwuTUFYX0xJTkVfTEVOR1RIX1JBVElPKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDb2xvciBHZW5lcmF0aW9uIFV0aWxpdGllc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYSBzaW1wbGUgaGFzaCBmcm9tIGEgc3RyaW5nXG4gICAgICogVXNlZCB0byBjcmVhdGUgZGV0ZXJtaW5pc3RpYyBjb2xvciBzZWxlY3Rpb24gYmFzZWQgb24gc2NvcGUgbmFtZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHIgLSBUaGUgc3RyaW5nIHRvIGhhc2hcbiAgICAgKiBAcmV0dXJucyBBIG51bWVyaWMgaGFzaCB2YWx1ZVxuICAgICAqL1xuICAgIHByaXZhdGUgc2ltcGxlSGFzaChzdHI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgICAgIGxldCBoYXNoID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNoYXI7XG4gICAgICAgICAgICBoYXNoID0gaGFzaCAmIGhhc2g7IC8vIENvbnZlcnQgdG8gMzItYml0IGludGVnZXJcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC5hYnMoaGFzaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYSBkZXRlcm1pbmlzdGljIGNvbG9yIGJhc2VkIG9uIHNjb3BlIG5hbWVcbiAgICAgKiBTYW1lIHNjb3BlIG5hbWVzIHdpbGwgYWx3YXlzIGdldCB0aGUgc2FtZSBjb2xvciwgYnV0IHVzZXMgc2FmZSBjb2xvciBwYWxldHRlXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlTmFtZSAtIFRoZSBzY29wZSBuYW1lIHRvIGdlbmVyYXRlIGNvbG9yIGZvclxuICAgICAqIEByZXR1cm5zIEEgY29sb3Iga2V5IGZyb20gdGhlIHNhZmUgY29sb3JzIHBhbGV0dGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGdlbmVyYXRlQ29sb3JGcm9tU2NvcGVOYW1lKHNjb3BlTmFtZTogc3RyaW5nKToga2V5b2YgdHlwZW9mIEFfTE9HR0VSX0NPTE9SUyB7XG4gICAgICAgIGNvbnN0IHNhZmVDb2xvcnMgPSBBX0xPR0dFUl9TQUZFX1JBTkRPTV9DT0xPUlM7XG4gICAgICAgIGNvbnN0IGhhc2ggPSB0aGlzLnNpbXBsZUhhc2goc2NvcGVOYW1lKTtcbiAgICAgICAgY29uc3QgY29sb3JJbmRleCA9IGhhc2ggJSBzYWZlQ29sb3JzLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHNhZmVDb2xvcnNbY29sb3JJbmRleF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYSBwYWlyIG9mIGNvbXBsZW1lbnRhcnkgY29sb3JzIGJhc2VkIG9uIHNjb3BlIG5hbWVcbiAgICAgKiBFbnN1cmVzIHZpc3VhbCBoYXJtb255IGJldHdlZW4gc2NvcGUgYW5kIG1lc3NhZ2UgY29sb3JzIHdoaWxlIGJlaW5nIGRldGVybWluaXN0aWNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGVOYW1lIC0gVGhlIHNjb3BlIG5hbWUgdG8gYmFzZSBjb2xvcnMgb25cbiAgICAgKiBAcmV0dXJucyBPYmplY3Qgd2l0aCBzY29wZUNvbG9yIGFuZCBsb2dDb2xvciB0aGF0IHdvcmsgd2VsbCB0b2dldGhlclxuICAgICAqL1xuICAgIHByaXZhdGUgZ2VuZXJhdGVDb21wbGVtZW50YXJ5Q29sb3JzRnJvbVNjb3BlKHNjb3BlTmFtZTogc3RyaW5nKTogeyBzY29wZUNvbG9yOiBrZXlvZiB0eXBlb2YgQV9MT0dHRVJfQ09MT1JTLCBsb2dDb2xvcjoga2V5b2YgdHlwZW9mIEFfTE9HR0VSX0NPTE9SUyB9IHtcbiAgICAgICAgLy8gRGVmaW5lIGNvbG9yIGdyb3VwcyB0aGF0IHdvcmsgd2VsbCB0b2dldGhlclxuICAgICAgICBjb25zdCBjb2xvclBhaXJzID0gW1xuICAgICAgICAgICAgeyBzY29wZUNvbG9yOiAnaW5kaWdvJyBhcyBjb25zdCwgbG9nQ29sb3I6ICdsaWdodEJsdWUnIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHNjb3BlQ29sb3I6ICdkZWVwQmx1ZScgYXMgY29uc3QsIGxvZ0NvbG9yOiAnY3lhbicgYXMgY29uc3QgfSxcbiAgICAgICAgICAgIHsgc2NvcGVDb2xvcjogJ3B1cnBsZScgYXMgY29uc3QsIGxvZ0NvbG9yOiAnbGF2ZW5kZXInIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHNjb3BlQ29sb3I6ICdzdGVlbEJsdWUnIGFzIGNvbnN0LCBsb2dDb2xvcjogJ3NreUJsdWUnIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHNjb3BlQ29sb3I6ICdzbGF0ZUJsdWUnIGFzIGNvbnN0LCBsb2dDb2xvcjogJ3Blcml3aW5rbGUnIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHNjb3BlQ29sb3I6ICdjaGFyY29hbCcgYXMgY29uc3QsIGxvZ0NvbG9yOiAnc2lsdmVyJyBhcyBjb25zdCB9LFxuICAgICAgICAgICAgeyBzY29wZUNvbG9yOiAndmlvbGV0JyBhcyBjb25zdCwgbG9nQ29sb3I6ICdicmlnaHRNYWdlbnRhJyBhcyBjb25zdCB9LFxuICAgICAgICAgICAgeyBzY29wZUNvbG9yOiAnZGFya0dyYXknIGFzIGNvbnN0LCBsb2dDb2xvcjogJ2xpZ2h0R3JheScgYXMgY29uc3QgfSxcbiAgICAgICAgICAgIHsgc2NvcGVDb2xvcjogJ2Nvcm5mbG93ZXInIGFzIGNvbnN0LCBsb2dDb2xvcjogJ3Bvd2RlcicgYXMgY29uc3QgfSxcbiAgICAgICAgICAgIHsgc2NvcGVDb2xvcjogJ3NsYXRlJyBhcyBjb25zdCwgbG9nQ29sb3I6ICdzbW9rZScgYXMgY29uc3QgfSxcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBoYXNoID0gdGhpcy5zaW1wbGVIYXNoKHNjb3BlTmFtZSk7XG4gICAgICAgIGNvbnN0IHBhaXJJbmRleCA9IGhhc2ggJSBjb2xvclBhaXJzLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGNvbG9yUGFpcnNbcGFpckluZGV4XTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBUZXJtaW5hbCBXaWR0aCBEZXRlY3Rpb25cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIERldGVjdCBjdXJyZW50IHRlcm1pbmFsIHdpZHRoIGJhc2VkIG9uIGVudmlyb25tZW50XG4gICAgICogXG4gICAgICogUmV0dXJucyBhcHByb3ByaWF0ZSB3aWR0aCBmb3IgZGlmZmVyZW50IGVudmlyb25tZW50czpcbiAgICAgKiAtIE5vZGUuanM6IFVzZXMgcHJvY2Vzcy5zdGRvdXQuY29sdW1ucyBpZiBhdmFpbGFibGVcbiAgICAgKiAtIEJyb3dzZXI6IFJldHVybnMgYnJvd3NlciBkZWZhdWx0IHdpZHRoXG4gICAgICogLSBGYWxsYmFjazogUmV0dXJucyBkZWZhdWx0IHRlcm1pbmFsIHdpZHRoXG4gICAgICogXG4gICAgICogQHJldHVybnMgVGVybWluYWwgd2lkdGggaW4gY2hhcmFjdGVyc1xuICAgICAqL1xuICAgIHByaXZhdGUgZGV0ZWN0VGVybWluYWxXaWR0aCgpOiBudW1iZXIge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQnJvd3NlciBlbnZpcm9ubWVudFxuICAgICAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ2Jyb3dzZXInKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFfTE9HR0VSX1RFUk1JTkFMLkJST1dTRVJfREVGQVVMVF9XSURUSDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm9kZS5qcyBlbnZpcm9ubWVudCAtIHRyeSB0byBnZXQgYWN0dWFsIHRlcm1pbmFsIHdpZHRoXG4gICAgICAgICAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3Muc3Rkb3V0ICYmIHByb2Nlc3Muc3Rkb3V0LmNvbHVtbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xzID0gcHJvY2Vzcy5zdGRvdXQuY29sdW1ucztcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgbWluaW11bSB3aWR0aCBmb3IgcmVhZGFiaWxpdHlcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoY29scywgQV9MT0dHRVJfVEVSTUlOQUwuTUlOX1dJRFRIKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gZGVmYXVsdCB3aWR0aFxuICAgICAgICAgICAgcmV0dXJuIEFfTE9HR0VSX1RFUk1JTkFMLkRFRkFVTFRfV0lEVEg7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBJZiBhbnkgZXJyb3Igb2NjdXJzLCBmYWxsIGJhY2sgdG8gZGVmYXVsdCB3aWR0aFxuICAgICAgICAgICAgcmV0dXJuIEFfTE9HR0VSX1RFUk1JTkFMLkRFRkFVTFRfV0lEVEg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXcmFwIHRleHQgdG8gZml0IHdpdGhpbiB0ZXJtaW5hbCB3aWR0aCB3aGlsZSBwcmVzZXJ2aW5nIGZvcm1hdHRpbmdcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdGV4dCAtIFRleHQgdG8gd3JhcFxuICAgICAqIEBwYXJhbSBzY29wZVBhZGRpbmcgLSBUaGUgc2NvcGUgcGFkZGluZyBzdHJpbmcgZm9yIGFsaWdubWVudFxuICAgICAqIEBwYXJhbSBpc0ZpcnN0TGluZSAtIFdoZXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgbGluZSAoYWZmZWN0cyBhdmFpbGFibGUgd2lkdGggY2FsY3VsYXRpb24pXG4gICAgICogQHJldHVybnMgQXJyYXkgb2Ygd3JhcHBlZCBsaW5lcyB3aXRoIHByb3BlciBpbmRlbnRhdGlvblxuICAgICAqL1xuICAgIHByaXZhdGUgd3JhcFRleHQodGV4dDogc3RyaW5nLCBzY29wZVBhZGRpbmc6IHN0cmluZywgaXNGaXJzdExpbmU6IGJvb2xlYW4gPSB0cnVlKTogc3RyaW5nW10ge1xuICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnYnJvd3NlcicpIHtcbiAgICAgICAgICAgIC8vIEluIGJyb3dzZXIsIGRvbid0IHdyYXAgLSBsZXQgYnJvd3NlciBjb25zb2xlIGhhbmRsZSBpdFxuICAgICAgICAgICAgcmV0dXJuIFt0ZXh0XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBhdmFpbGFibGUgd2lkdGggZm9yIHRleHQgY29udGVudFxuICAgICAgICAvLyBGaXJzdCBsaW5lOiB0ZXJtaW5hbF93aWR0aCAtIHNjb3BlX2hlYWRlcl9sZW5ndGggKGluY2x1ZGVzIFtzY29wZV0gfHRpbWV8IHBhcnQpXG4gICAgICAgIC8vIENvbnRpbnVhdGlvbiBsaW5lczogdGVybWluYWxfd2lkdGggLSBzY29wZV9wYWRkaW5nIC0gcGlwZV9sZW5ndGhcbiAgICAgICAgY29uc3Qgc2NvcGVIZWFkZXJMZW5ndGggPSB0aGlzLmZvcm1hdHRlZFNjb3BlLmxlbmd0aCArIDQgKyB0aGlzLmdldFRpbWUoKS5sZW5ndGggKyA0OyAvLyBbc2NvcGVdIHx0aW1lfCBcbiAgICAgICAgY29uc3QgY29udGludWF0aW9uSW5kZW50ID0gYCR7c2NvcGVQYWRkaW5nfSR7QV9MT0dHRVJfRk9STUFULlBJUEV9YDtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGZpcnN0TGluZU1heFdpZHRoID0gTWF0aC5tYXgodGhpcy5URVJNSU5BTF9XSURUSCAtIHNjb3BlSGVhZGVyTGVuZ3RoIC0gMSwgMjApOyAvLyAtMSBmb3Igc3BhY2VcbiAgICAgICAgY29uc3QgY29udGludWF0aW9uTWF4V2lkdGggPSBNYXRoLm1heCh0aGlzLlRFUk1JTkFMX1dJRFRIIC0gY29udGludWF0aW9uSW5kZW50Lmxlbmd0aCwgMjApO1xuICAgICAgICBcbiAgICAgICAgLy8gSWYgdGV4dCBmaXRzIG9uIGZpcnN0IGxpbmUsIHJldHVybiBhcyBpc1xuICAgICAgICBpZiAoaXNGaXJzdExpbmUgJiYgdGV4dC5sZW5ndGggPD0gZmlyc3RMaW5lTWF4V2lkdGgpIHtcbiAgICAgICAgICAgIHJldHVybiBbdGV4dF07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgY29uc3Qgd29yZHMgPSB0ZXh0LnNwbGl0KCcgJyk7XG4gICAgICAgIGxldCBjdXJyZW50TGluZSA9ICcnO1xuICAgICAgICBsZXQgY3VycmVudE1heFdpZHRoID0gaXNGaXJzdExpbmUgPyBmaXJzdExpbmVNYXhXaWR0aCA6IGNvbnRpbnVhdGlvbk1heFdpZHRoO1xuICAgICAgICBsZXQgaXNDdXJyZW50TGluZUZpcnN0ID0gaXNGaXJzdExpbmU7XG5cbiAgICAgICAgZm9yIChjb25zdCB3b3JkIG9mIHdvcmRzKSB7XG4gICAgICAgICAgICBjb25zdCBzcGFjZU5lZWRlZCA9IGN1cnJlbnRMaW5lID8gMSA6IDA7IC8vIFNwYWNlIGJlZm9yZSB3b3JkXG4gICAgICAgICAgICBjb25zdCB0b3RhbExlbmd0aCA9IGN1cnJlbnRMaW5lLmxlbmd0aCArIHNwYWNlTmVlZGVkICsgd29yZC5sZW5ndGg7XG5cbiAgICAgICAgICAgIC8vIElmIGFkZGluZyB0aGlzIHdvcmQgd291bGQgZXhjZWVkIGN1cnJlbnQgbGluZSdzIG1heCB3aWR0aFxuICAgICAgICAgICAgaWYgKHRvdGFsTGVuZ3RoID4gY3VycmVudE1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goY3VycmVudExpbmUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TGluZSA9IHdvcmQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIGZpcnN0IGxpbmUsIGFsbCBzdWJzZXF1ZW50IGxpbmVzIHVzZSBjb250aW51YXRpb24gd2lkdGhcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1heFdpZHRoID0gY29udGludWF0aW9uTWF4V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGlzQ3VycmVudExpbmVGaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdvcmQgaXRzZWxmIGlzIHRvbyBsb25nLCBzcGxpdCBpdFxuICAgICAgICAgICAgICAgICAgICBpZiAod29yZC5sZW5ndGggPiBjdXJyZW50TWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rcyA9IHRoaXMuc3BsaXRMb25nV29yZCh3b3JkLCBjdXJyZW50TWF4V2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMucHVzaCguLi5jaHVua3Muc2xpY2UoMCwgLTEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMaW5lID0gY2h1bmtzW2NodW5rcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMaW5lID0gd29yZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TWF4V2lkdGggPSBjb250aW51YXRpb25NYXhXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgaXNDdXJyZW50TGluZUZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50TGluZSArPSAoY3VycmVudExpbmUgPyAnICcgOiAnJykgKyB3b3JkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRMaW5lKSB7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKGN1cnJlbnRMaW5lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsaW5lcy5sZW5ndGggPyBsaW5lcyA6IFt0ZXh0XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdCBhIGxvbmcgd29yZCB0aGF0IGRvZXNuJ3QgZml0IG9uIGEgc2luZ2xlIGxpbmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gd29yZCAtIFdvcmQgdG8gc3BsaXRcbiAgICAgKiBAcGFyYW0gbWF4TGVuZ3RoIC0gTWF4aW11bSBsZW5ndGggcGVyIGNodW5rXG4gICAgICogQHJldHVybnMgQXJyYXkgb2Ygd29yZCBjaHVua3NcbiAgICAgKi9cbiAgICBwcml2YXRlIHNwbGl0TG9uZ1dvcmQod29yZDogc3RyaW5nLCBtYXhMZW5ndGg6IG51bWJlcik6IHN0cmluZ1tdIHtcbiAgICAgICAgY29uc3QgY2h1bmtzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmQubGVuZ3RoOyBpICs9IG1heExlbmd0aCkge1xuICAgICAgICAgICAgY2h1bmtzLnB1c2god29yZC5zbGljZShpLCBpICsgbWF4TGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNodW5rcztcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGYWN0b3J5IE1ldGhvZHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFNjb3BlIGFuZCBGb3JtYXR0aW5nIFV0aWxpdGllc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBmb3JtYXR0ZWQgc2NvcGUgbGVuZ3RoIGZvciBjb25zaXN0ZW50IG1lc3NhZ2UgYWxpZ25tZW50XG4gICAgICogVXNlcyBhIHN0YW5kYXJkIGxlbmd0aCB0byBlbnN1cmUgYWxsIG1lc3NhZ2VzIGFsaWduIHByb3Blcmx5IHJlZ2FyZGxlc3Mgb2Ygc2NvcGUgbmFtZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFRoZSBzY29wZSBsZW5ndGggdG8gdXNlIGZvciBwYWRkaW5nIGNhbGN1bGF0aW9uc1xuICAgICAqL1xuICAgIGdldCBzY29wZUxlbmd0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5zY29wZS5uYW1lLmxlbmd0aCwgdGhpcy5TVEFOREFSRF9TQ09QRV9MRU5HVEgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZm9ybWF0dGVkIHNjb3BlIG5hbWUgd2l0aCBwcm9wZXIgcGFkZGluZywgY2VudGVyZWQgd2l0aGluIHRoZSBjb250YWluZXJcbiAgICAgKiBFbnN1cmVzIGNvbnNpc3RlbnQgd2lkdGggZm9yIGFsbCBzY29wZSBuYW1lcyBpbiBsb2cgb3V0cHV0IHdpdGggY2VudGVyZWQgYWxpZ25tZW50XG4gICAgICogXG4gICAgICogQHJldHVybnMgQ2VudGVyZWQgYW5kIHBhZGRlZCBzY29wZSBuYW1lIGZvciBjb25zaXN0ZW50IGZvcm1hdHRpbmdcbiAgICAgKi9cbiAgICBnZXQgZm9ybWF0dGVkU2NvcGUoKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3Qgc2NvcGVOYW1lID0gdGhpcy5zY29wZS5uYW1lO1xuICAgICAgICBjb25zdCB0b3RhbExlbmd0aCA9IHRoaXMuU1RBTkRBUkRfU0NPUEVfTEVOR1RIO1xuXG4gICAgICAgIC8vIElmIHNjb3BlIG5hbWUgaXMgbG9uZ2VyIHRoYW4gc3RhbmRhcmQgbGVuZ3RoLCB0cnVuY2F0ZSBpdFxuICAgICAgICBpZiAoc2NvcGVOYW1lLmxlbmd0aCA+PSB0b3RhbExlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlTmFtZS5zdWJzdHJpbmcoMCwgdG90YWxMZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHBhZGRpbmcgZm9yIGNlbnRlcmluZ1xuICAgICAgICBjb25zdCB0b3RhbFBhZGRpbmcgPSB0b3RhbExlbmd0aCAtIHNjb3BlTmFtZS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGxlZnRQYWRkaW5nID0gTWF0aC5mbG9vcih0b3RhbFBhZGRpbmcgLyAyKTtcbiAgICAgICAgY29uc3QgcmlnaHRQYWRkaW5nID0gdG90YWxQYWRkaW5nIC0gbGVmdFBhZGRpbmc7XG5cbiAgICAgICAgcmV0dXJuICcgJy5yZXBlYXQobGVmdFBhZGRpbmcpICsgc2NvcGVOYW1lICsgJyAnLnJlcGVhdChyaWdodFBhZGRpbmcpO1xuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gTWVzc2FnZSBDb21waWxhdGlvbiBhbmQgRm9ybWF0dGluZ1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29tcGlsZSBsb2cgYXJndW1lbnRzIGludG8gZm9ybWF0dGVkIGNvbnNvbGUgb3V0cHV0IHdpdGggY29sb3JzIGFuZCBwcm9wZXIgYWxpZ25tZW50XG4gICAgICogXG4gICAgICogVGhpcyBtZXRob2QgaGFuZGxlcyB0aGUgY29yZSBmb3JtYXR0aW5nIGxvZ2ljIGZvciBhbGwgbG9nIG1lc3NhZ2VzOlxuICAgICAqIC0gQXBwbGllcyBzZXBhcmF0ZSBjb2xvcnMgZm9yIHNjb3BlIGFuZCBtZXNzYWdlIGNvbnRlbnRcbiAgICAgKiAtIEZvcm1hdHMgc2NvcGUgbmFtZXMgd2l0aCBjb25zaXN0ZW50IHBhZGRpbmdcbiAgICAgKiAtIEhhbmRsZXMgZGlmZmVyZW50IGRhdGEgdHlwZXMgYXBwcm9wcmlhdGVseVxuICAgICAqIC0gTWFpbnRhaW5zIHByb3BlciBpbmRlbnRhdGlvbiBmb3IgbXVsdGktbGluZSBjb250ZW50XG4gICAgICogXG4gICAgICogQHBhcmFtIG1lc3NhZ2VDb2xvciAtIFRoZSBjb2xvciBrZXkgdG8gYXBwbHkgdG8gdGhlIG1lc3NhZ2UgY29udGVudFxuICAgICAqIEBwYXJhbSBhcmdzIC0gVmFyaWFibGUgYXJndW1lbnRzIHRvIGZvcm1hdCBhbmQgZGlzcGxheVxuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIGZvcm1hdHRlZCBzdHJpbmdzIGFuZC9vciBvYmplY3RzIHJlYWR5IGZvciBjb25zb2xlIG91dHB1dFxuICAgICAqL1xuICAgIGNvbXBpbGUoXG4gICAgICAgIG1lc3NhZ2VDb2xvcjoga2V5b2YgdHlwZW9mIHRoaXMuQ09MT1JTLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICk6IEFycmF5PGFueT4ge1xuICAgICAgICBjb25zdCB0aW1lU3RyaW5nID0gdGhpcy5nZXRUaW1lKCk7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBwYWRkaW5nIGJhc2VkIG9uIGFjdHVhbCBkaXNwbGF5ZWQgc2NvcGUgd2lkdGggKFNUQU5EQVJEX1NDT1BFX0xFTkdUSClcbiAgICAgICAgLy8gUGx1cyAzIGZvciB0aGUgYnJhY2tldHMgYW5kIHNwYWNlOiBbc2NvcGVdIFxuICAgICAgICBjb25zdCBzY29wZVBhZGRpbmcgPSAnICcucmVwZWF0KHRoaXMuU1RBTkRBUkRfU0NPUEVfTEVOR1RIICsgMyk7XG4gICAgICAgIGNvbnN0IGlzTXVsdGlBcmcgPSBhcmdzLmxlbmd0aCA+IDE7XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIC8vIEhlYWRlciB3aXRoIHNlcGFyYXRlIGNvbG9ycyBmb3Igc2NvcGUgYW5kIG1lc3NhZ2UgY29udGVudFxuICAgICAgICAgICAgYCR7QV9MT0dHRVJfQU5TSS5QUkVGSVh9JHt0aGlzLkNPTE9SU1t0aGlzLkRFRkFVTFRfU0NPUEVfQ09MT1JdfSR7QV9MT0dHRVJfQU5TSS5TVUZGSVh9JHtBX0xPR0dFUl9GT1JNQVQuU0NPUEVfT1BFTn0ke3RoaXMuZm9ybWF0dGVkU2NvcGV9JHtBX0xPR0dFUl9GT1JNQVQuU0NPUEVfQ0xPU0V9JHtBX0xPR0dFUl9BTlNJLlJFU0VUfSAke0FfTE9HR0VSX0FOU0kuUFJFRklYfSR7dGhpcy5DT0xPUlNbbWVzc2FnZUNvbG9yXX0ke0FfTE9HR0VSX0FOU0kuU1VGRklYfSR7QV9MT0dHRVJfRk9STUFULlRJTUVfT1BFTn0ke3RpbWVTdHJpbmd9JHtBX0xPR0dFUl9GT1JNQVQuVElNRV9DTE9TRX1gLFxuXG4gICAgICAgICAgICAvLyBUb3Agc2VwYXJhdG9yIGZvciBtdWx0aS1hcmd1bWVudCBtZXNzYWdlc1xuICAgICAgICAgICAgaXNNdWx0aUFyZyA/ICdcXG4nICsgYCR7c2NvcGVQYWRkaW5nfSR7QV9MT0dHRVJfRk9STUFULlRJTUVfT1BFTn0ke0FfTE9HR0VSX0ZPUk1BVC5TRVBBUkFUT1J9YCA6ICcnLFxuXG4gICAgICAgICAgICAvLyBQcm9jZXNzIGVhY2ggYXJndW1lbnQgd2l0aCBhcHByb3ByaWF0ZSBmb3JtYXR0aW5nXG4gICAgICAgICAgICAuLi5hcmdzLm1hcCgoYXJnLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkQWRkTmV3bGluZSA9IGkgPiAwIHx8IGlzTXVsdGlBcmc7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBhcmcgaW5zdGFuY2VvZiBBX0Vycm9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZV9BX0Vycm9yKGFyZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBhcmcgaW5zdGFuY2VvZiBFcnJvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVfRXJyb3IoYXJnKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdE9iamVjdChhcmcsIHNob3VsZEFkZE5ld2xpbmUsIHNjb3BlUGFkZGluZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdFN0cmluZyhTdHJpbmcoYXJnKSwgc2hvdWxkQWRkTmV3bGluZSwgc2NvcGVQYWRkaW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgLy8gQm90dG9tIHNlcGFyYXRvciBhbmQgY29sb3IgcmVzZXRcbiAgICAgICAgICAgIGlzTXVsdGlBcmdcbiAgICAgICAgICAgICAgICA/ICdcXG4nICsgYCR7c2NvcGVQYWRkaW5nfSR7QV9MT0dHRVJfRk9STUFULlRJTUVfT1BFTn0ke0FfTE9HR0VSX0ZPUk1BVC5TRVBBUkFUT1J9JHtBX0xPR0dFUl9BTlNJLlJFU0VUfWBcbiAgICAgICAgICAgICAgICA6IEFfTE9HR0VSX0FOU0kuUkVTRVRcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgYW4gb2JqZWN0IGZvciBkaXNwbGF5IHdpdGggcHJvcGVyIEpTT04gaW5kZW50YXRpb24gYW5kIHRlcm1pbmFsIHdpZHRoIGF3YXJlbmVzc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBvYmogLSBUaGUgb2JqZWN0IHRvIGZvcm1hdFxuICAgICAqIEBwYXJhbSBzaG91bGRBZGROZXdsaW5lIC0gV2hldGhlciB0byBhZGQgYSBuZXdsaW5lIHByZWZpeFxuICAgICAqIEBwYXJhbSBzY29wZVBhZGRpbmcgLSBUaGUgcGFkZGluZyBzdHJpbmcgZm9yIGNvbnNpc3RlbnQgYWxpZ25tZW50XG4gICAgICogQHJldHVybnMgRm9ybWF0dGVkIG9iamVjdCBzdHJpbmcgb3IgdGhlIG9iamVjdCBpdHNlbGYgZm9yIGJyb3dzZXIgZW52aXJvbm1lbnRzXG4gICAgICovXG4gICAgcHJpdmF0ZSBmb3JtYXRPYmplY3Qob2JqOiBhbnksIHNob3VsZEFkZE5ld2xpbmU6IGJvb2xlYW4sIHNjb3BlUGFkZGluZzogc3RyaW5nKTogYW55IHtcblxuICAgICAgICAvLyBJbiBjYXNlIGl0J3MgYnJvd3NlciwgcmV0dXJuIHRoZSBvYmplY3QgYXMgaXMgdG8gdXNlIG5hdGl2ZSBjb25zb2xlIG9iamVjdCByZW5kZXJpbmdcbiAgICAgICAgLy8gVGhpcyBhbGxvd3MgdGhlIGJyb3dzZXIgY29uc29sZSB0byBkaXNwbGF5IG9iamVjdHMgd2l0aCBpdHMgbmF0aXZlIGludGVyYWN0aXZlIGZlYXR1cmVzXG4gICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdicm93c2VyJykge1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBudWxsIGFuZCB1bmRlZmluZWQgdmFsdWVzXG4gICAgICAgIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBzaG91bGRBZGROZXdsaW5lID8gYFxcbiR7c2NvcGVQYWRkaW5nfSR7QV9MT0dHRVJfRk9STUFULlBJUEV9bnVsbGAgOiAnbnVsbCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gc2hvdWxkQWRkTmV3bGluZSA/IGBcXG4ke3Njb3BlUGFkZGluZ30ke0FfTE9HR0VSX0ZPUk1BVC5QSVBFfXVuZGVmaW5lZGAgOiAndW5kZWZpbmVkJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBqc29uU3RyaW5nOiBzdHJpbmc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBqc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkob2JqLCBudWxsLCAyKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBjaXJjdWxhciByZWZlcmVuY2VzIGFuZCBvdGhlciBKU09OIGVycm9yc1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWVuID0gbmV3IFdlYWtTZXQoKTtcbiAgICAgICAgICAgICAgICBqc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkob2JqLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZW4uaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyIFJlZmVyZW5jZV0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vlbi5hZGQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9LCAyKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGZhbGxiYWNrRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBhbGwgZWxzZSBmYWlscywgY29udmVydCB0byBzdHJpbmdcbiAgICAgICAgICAgICAgICBqc29uU3RyaW5nID0gU3RyaW5nKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBseSB0ZXJtaW5hbCB3aWR0aCB3cmFwcGluZyB0byBsb25nIEpTT04gc3RyaW5nIHZhbHVlc1xuICAgICAgICBjb25zdCBjb250aW51YXRpb25JbmRlbnQgPSBgJHtzY29wZVBhZGRpbmd9JHtBX0xPR0dFUl9GT1JNQVQuUElQRX1gO1xuICAgICAgICBjb25zdCBtYXhKc29uTGluZVdpZHRoID0gdGhpcy5URVJNSU5BTF9XSURUSCAtIGNvbnRpbnVhdGlvbkluZGVudC5sZW5ndGggLSA0OyAvLyAtNCBmb3IgSlNPTiBpbmRlbnRhdGlvblxuICAgICAgICBcbiAgICAgICAgLy8gU3BsaXQgaW50byBsaW5lcyBhbmQgd3JhcCBsb25nIHN0cmluZyB2YWx1ZXNcbiAgICAgICAgY29uc3QgbGluZXMgPSBqc29uU3RyaW5nLnNwbGl0KCdcXG4nKS5tYXAobGluZSA9PiB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGxpbmUgY29udGFpbnMgYSBsb25nIHN0cmluZyB2YWx1ZVxuICAgICAgICAgICAgY29uc3Qgc3RyaW5nVmFsdWVNYXRjaCA9IGxpbmUubWF0Y2goL14oXFxzKlwiW15cIl0rXCI6XFxzKlwiKShbXlwiXSspKFwiLiopPyQvKTtcbiAgICAgICAgICAgIGlmIChzdHJpbmdWYWx1ZU1hdGNoICYmIHN0cmluZ1ZhbHVlTWF0Y2hbMl0ubGVuZ3RoID4gbWF4SnNvbkxpbmVXaWR0aCAtIHN0cmluZ1ZhbHVlTWF0Y2hbMV0ubGVuZ3RoIC0gKHN0cmluZ1ZhbHVlTWF0Y2hbM10gfHwgJycpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IFssIHByZWZpeCwgdmFsdWUsIHN1ZmZpeCA9ICcnXSA9IHN0cmluZ1ZhbHVlTWF0Y2g7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gV3JhcCB0aGUgc3RyaW5nIHZhbHVlIGlmIGl0J3MgdG9vIGxvbmdcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gbWF4SnNvbkxpbmVXaWR0aCAtIHByZWZpeC5sZW5ndGggLSBzdWZmaXgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRWYWx1ZSA9IHRoaXMud3JhcEpzb25TdHJpbmdWYWx1ZSh2YWx1ZSwgbWF4SnNvbkxpbmVXaWR0aCAtIHByZWZpeC5sZW5ndGggLSBzdWZmaXgubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArIHdyYXBwZWRWYWx1ZSArIHN1ZmZpeDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGluZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZm9ybWF0dGVkID0gbGluZXMuam9pbignXFxuJyArIGNvbnRpbnVhdGlvbkluZGVudCk7XG4gICAgICAgIHJldHVybiBzaG91bGRBZGROZXdsaW5lID8gJ1xcbicgKyBjb250aW51YXRpb25JbmRlbnQgKyBmb3JtYXR0ZWQgOiBmb3JtYXR0ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JhcCBhIGxvbmcgSlNPTiBzdHJpbmcgdmFsdWUgd2hpbGUgcHJlc2VydmluZyByZWFkYWJpbGl0eVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBzdHJpbmcgdmFsdWUgdG8gd3JhcFxuICAgICAqIEBwYXJhbSBtYXhXaWR0aCAtIE1heGltdW0gd2lkdGggZm9yIHRoZSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIFdyYXBwZWQgc3RyaW5nIHZhbHVlXG4gICAgICovXG4gICAgcHJpdmF0ZSB3cmFwSnNvblN0cmluZ1ZhbHVlKHZhbHVlOiBzdHJpbmcsIG1heFdpZHRoOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBpZiAodmFsdWUubGVuZ3RoIDw9IG1heFdpZHRoKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEZvciBKU09OIHN0cmluZyB2YWx1ZXMsIHRydW5jYXRlIHdpdGggZWxsaXBzaXMgdG8gbWFpbnRhaW4gSlNPTiB2YWxpZGl0eVxuICAgICAgICAvLyBUaGlzIHByZXZlbnRzIHRoZSBKU09OIGZyb20gYmVjb21pbmcgdW5yZWFkYWJsZSBkdWUgdG8gZXhjZXNzaXZlIHdyYXBwaW5nXG4gICAgICAgIC8vIHdoaWxlIHN0aWxsIHNob3dpbmcgdGhlIG1vc3QgaW1wb3J0YW50IHBhcnQgb2YgdGhlIHN0cmluZ1xuICAgICAgICBpZiAobWF4V2lkdGggPiA2KSB7IC8vIEVuc3VyZSB3ZSBoYXZlIHJvb20gZm9yIGVsbGlwc2lzXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuc3Vic3RyaW5nKDAsIG1heFdpZHRoIC0gMykgKyAnLi4uJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIG1heFdpZHRoIGlzIHZlcnkgc21hbGwsIGp1c3QgcmV0dXJuIHRydW5jYXRlZCB2YWx1ZVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cmluZygwLCBNYXRoLm1heCgxLCBtYXhXaWR0aCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IGEgc3RyaW5nIGZvciBkaXNwbGF5IHdpdGggcHJvcGVyIGluZGVudGF0aW9uIGFuZCB0ZXJtaW5hbCB3aWR0aCB3cmFwcGluZ1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHIgLSBUaGUgc3RyaW5nIHRvIGZvcm1hdFxuICAgICAqIEBwYXJhbSBzaG91bGRBZGROZXdsaW5lIC0gV2hldGhlciB0byBhZGQgYSBuZXdsaW5lIHByZWZpeFxuICAgICAqIEBwYXJhbSBzY29wZVBhZGRpbmcgLSBUaGUgcGFkZGluZyBzdHJpbmcgZm9yIGNvbnNpc3RlbnQgYWxpZ25tZW50XG4gICAgICogQHJldHVybnMgRm9ybWF0dGVkIHN0cmluZ1xuICAgICAqL1xuICAgIHByaXZhdGUgZm9ybWF0U3RyaW5nKHN0cjogc3RyaW5nLCBzaG91bGRBZGROZXdsaW5lOiBib29sZWFuLCBzY29wZVBhZGRpbmc6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIC8vIEluIGJyb3dzZXIgZW52aXJvbm1lbnQsIGtlZXAgc2ltcGxlIGZvcm1hdHRpbmdcbiAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ2Jyb3dzZXInKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVmaXggPSBzaG91bGRBZGROZXdsaW5lID8gJ1xcbicgOiAnJztcbiAgICAgICAgICAgIHJldHVybiAocHJlZml4ICsgc3RyKS5yZXBsYWNlKC9cXG4vZywgJ1xcbicgKyBgJHtzY29wZVBhZGRpbmd9JHtBX0xPR0dFUl9GT1JNQVQuUElQRX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciB0ZXJtaW5hbCwgYXBwbHkgaW50ZWxsaWdlbnQgdGV4dCB3cmFwcGluZ1xuICAgICAgICBjb25zdCB3cmFwcGVkTGluZXMgPSB0aGlzLndyYXBUZXh0KHN0ciwgc2NvcGVQYWRkaW5nLCAhc2hvdWxkQWRkTmV3bGluZSk7XG4gICAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbkluZGVudCA9IGAke3Njb3BlUGFkZGluZ30ke0FfTE9HR0VSX0ZPUk1BVC5QSVBFfWA7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3JtYXQgdGhlIHdyYXBwZWQgbGluZXMgd2l0aCBwcm9wZXIgaW5kZW50YXRpb25cbiAgICAgICAgY29uc3QgZm9ybWF0dGVkTGluZXMgPSB3cmFwcGVkTGluZXMubWFwKChsaW5lLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwICYmICFzaG91bGRBZGROZXdsaW5lKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyc3QgbGluZSBpbiBpbmxpbmUgbW9kZSAobm8gbmV3bGluZSBwcmVmaXgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIENvbnRpbnVhdGlvbiBsaW5lcyBvciBmaXJzdCBsaW5lIHdpdGggbmV3bGluZSBwcmVmaXhcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7Y29udGludWF0aW9uSW5kZW50fSR7bGluZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzaG91bGRBZGROZXdsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1xcbicgKyBmb3JtYXR0ZWRMaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXR0ZWRMaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIExvZyBMZXZlbCBNYW5hZ2VtZW50XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgYSBsb2cgbWVzc2FnZSBzaG91bGQgYmUgb3V0cHV0IGJhc2VkIG9uIGNvbmZpZ3VyZWQgbG9nIGxldmVsXG4gICAgICogXG4gICAgICogTG9nIGxldmVsIGhpZXJhcmNoeTpcbiAgICAgKiAtIGRlYnVnOiBTaG93cyBhbGwgbWVzc2FnZXMgKGRlYnVnLCBpbmZvLCB3YXJuaW5nLCBlcnJvcilcbiAgICAgKiAtIGluZm86IFNob3dzIGluZm8sIHdhcm5pbmcsIGFuZCBlcnJvciBtZXNzYWdlc1xuICAgICAqIC0gd2FybjogU2hvd3Mgd2FybmluZyBhbmQgZXJyb3IgbWVzc2FnZXMgb25seVxuICAgICAqIC0gZXJyb3I6IFNob3dzIGVycm9yIG1lc3NhZ2VzIG9ubHlcbiAgICAgKiAtIGFsbDogU2hvd3MgYWxsIG1lc3NhZ2VzIChhbGlhcyBmb3IgZGVidWcpXG4gICAgICogXG4gICAgICogQHBhcmFtIGxvZ01ldGhvZCAtIFRoZSB0eXBlIG9mIGxvZyBtZXRob2QgYmVpbmcgY2FsbGVkXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgbWVzc2FnZSBzaG91bGQgYmUgbG9nZ2VkLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgc2hvdWxkTG9nKGxvZ01ldGhvZDogJ2RlYnVnJyB8ICdpbmZvJyB8ICd3YXJuaW5nJyB8ICdlcnJvcicpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3Qgc2hvdWxkTG9nOiBBX0xvZ2dlckxldmVsID0gdGhpcy5jb25maWc/LmdldChBX0xPR0dFUl9FTlZfS0VZUy5MT0dfTEVWRUwpIHx8ICdpbmZvJztcblxuICAgICAgICBzd2l0Y2ggKHNob3VsZExvZykge1xuICAgICAgICAgICAgY2FzZSAnZGVidWcnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY2FzZSAnaW5mbyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvZ01ldGhvZCA9PT0gJ2luZm8nIHx8IGxvZ01ldGhvZCA9PT0gJ3dhcm5pbmcnIHx8IGxvZ01ldGhvZCA9PT0gJ2Vycm9yJztcbiAgICAgICAgICAgIGNhc2UgJ3dhcm4nOlxuICAgICAgICAgICAgICAgIHJldHVybiBsb2dNZXRob2QgPT09ICd3YXJuaW5nJyB8fCBsb2dNZXRob2QgPT09ICdlcnJvcic7XG4gICAgICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvZ01ldGhvZCA9PT0gJ2Vycm9yJztcbiAgICAgICAgICAgIGNhc2UgJ2FsbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gUHVibGljIExvZ2dpbmcgTWV0aG9kc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogRGVidWcgbG9nZ2luZyBtZXRob2Qgd2l0aCBvcHRpb25hbCBjb2xvciBzcGVjaWZpY2F0aW9uXG4gICAgICogT25seSBsb2dzIHdoZW4gZGVidWcgbGV2ZWwgaXMgZW5hYmxlZFxuICAgICAqIFxuICAgICAqIFN1cHBvcnRzIHR3byB1c2FnZSBwYXR0ZXJuczpcbiAgICAgKiAxLiBkZWJ1ZyhtZXNzYWdlLCAuLi5hcmdzKSAtIFVzZXMgaW5zdGFuY2UncyBkZWZhdWx0IGxvZyBjb2xvclxuICAgICAqIDIuIGRlYnVnKGNvbG9yLCBtZXNzYWdlLCAuLi5hcmdzKSAtIFVzZXMgc3BlY2lmaWVkIGNvbG9yIGZvciBtZXNzYWdlIGNvbnRlbnQgb25seVxuICAgICAqIFxuICAgICAqIE5vdGU6IFRoZSBzY29wZSBjb2xvciBhbHdheXMgcmVtYWlucyB0aGUgaW5zdGFuY2UncyBkZWZhdWx0IHNjb3BlIGNvbG9yLFxuICAgICAqIG9ubHkgdGhlIG1lc3NhZ2UgY29udGVudCBjb2xvciBjaGFuZ2VzIHdoZW4gZXhwbGljaXRseSBzcGVjaWZpZWQuXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbG9yIC0gT3B0aW9uYWwgY29sb3IgbmFtZSBmcm9tIEFfTG9nZ2VyQ29sb3JOYW1lIGVudW0gb3IgdGhlIGZpcnN0IG1lc3NhZ2UgYXJndW1lbnRcbiAgICAgKiBAcGFyYW0gYXJncyAtIEFkZGl0aW9uYWwgYXJndW1lbnRzIHRvIGxvZ1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGxvZ2dlci5kZWJ1ZygnRGVidWcgaW5mb3JtYXRpb24nKTsgLy8gVXNlcyBpbnN0YW5jZSBkZWZhdWx0IGNvbG9yc1xuICAgICAqIGxvZ2dlci5kZWJ1ZygnZ3JheScsICdEZWJ1ZyBtZXNzYWdlJyk7IC8vIEdyYXkgbWVzc2FnZSwgc2NvcGUgc3RheXMgaW5zdGFuY2UgY29sb3JcbiAgICAgKiBsb2dnZXIuZGVidWcoJ1Byb2Nlc3NpbmcgdXNlcjonLCB7IGlkOiAxLCBuYW1lOiAnSm9obicgfSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZGVidWcoY29sb3I6IEFfTG9nZ2VyQ29sb3JOYW1lLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQ7XG4gICAgZGVidWcoLi4uYXJnczogYW55W10pOiB2b2lkO1xuICAgIGRlYnVnKHBhcmFtMTogYW55LCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkTG9nKCdkZWJ1ZycpKSByZXR1cm47XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgZmlyc3QgcGFyYW1ldGVyIGlzIGEgdmFsaWQgY29sb3Iga2V5XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW0xID09PSAnc3RyaW5nJyAmJiB0aGlzLkNPTE9SU1twYXJhbTEgYXMga2V5b2YgdHlwZW9mIHRoaXMuQ09MT1JTXSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coLi4udGhpcy5jb21waWxlKHBhcmFtMSBhcyBrZXlvZiB0eXBlb2YgdGhpcy5DT0xPUlMsIC4uLmFyZ3MpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFVzZSBpbnN0YW5jZSdzIGRlZmF1bHQgbG9nIGNvbG9yIGFuZCB0cmVhdCBwYXJhbTEgYXMgZmlyc3QgbWVzc2FnZSBhcmd1bWVudFxuICAgICAgICAgICAgY29uc29sZS5sb2coLi4udGhpcy5jb21waWxlKHRoaXMuREVGQVVMVF9MT0dfQ09MT1IsIHBhcmFtMSwgLi4uYXJncykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5mbyBsb2dnaW5nIG1ldGhvZCB3aXRoIG9wdGlvbmFsIGNvbG9yIHNwZWNpZmljYXRpb25cbiAgICAgKiBMb2dzIHdpdGhvdXQgYW55IHJlc3RyaWN0aW9ucyAoYWx3YXlzIHNob3dzIHJlZ2FyZGxlc3Mgb2YgbG9nIGxldmVsKVxuICAgICAqIFxuICAgICAqIFN1cHBvcnRzIHR3byB1c2FnZSBwYXR0ZXJuczpcbiAgICAgKiAxLiBpbmZvKG1lc3NhZ2UsIC4uLmFyZ3MpIC0gVXNlcyBpbnN0YW5jZSdzIGRlZmF1bHQgbG9nIGNvbG9yXG4gICAgICogMi4gaW5mbyhjb2xvciwgbWVzc2FnZSwgLi4uYXJncykgLSBVc2VzIHNwZWNpZmllZCBjb2xvciBmb3IgbWVzc2FnZSBjb250ZW50IG9ubHlcbiAgICAgKiBcbiAgICAgKiBOb3RlOiBUaGUgc2NvcGUgY29sb3IgYWx3YXlzIHJlbWFpbnMgdGhlIGluc3RhbmNlJ3MgZGVmYXVsdCBzY29wZSBjb2xvcixcbiAgICAgKiBvbmx5IHRoZSBtZXNzYWdlIGNvbnRlbnQgY29sb3IgY2hhbmdlcyB3aGVuIGV4cGxpY2l0bHkgc3BlY2lmaWVkLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb2xvciAtIE9wdGlvbmFsIGNvbG9yIG5hbWUgZnJvbSBBX0xvZ2dlckNvbG9yTmFtZSBlbnVtIG9yIHRoZSBmaXJzdCBtZXNzYWdlIGFyZ3VtZW50XG4gICAgICogQHBhcmFtIGFyZ3MgLSBBZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBsb2dcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBsb2dnZXIuaW5mbygnSGVsbG8gV29ybGQnKTsgLy8gVXNlcyBpbnN0YW5jZSBkZWZhdWx0IGNvbG9yc1xuICAgICAqIGxvZ2dlci5pbmZvKCdncmVlbicsICdTdWNjZXNzIG1lc3NhZ2UnKTsgLy8gR3JlZW4gbWVzc2FnZSwgc2NvcGUgc3RheXMgaW5zdGFuY2UgY29sb3JcbiAgICAgKiBsb2dnZXIuaW5mbygnUHJvY2Vzc2luZyB1c2VyOicsIHsgaWQ6IDEsIG5hbWU6ICdKb2huJyB9KTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBpbmZvKGNvbG9yOiBBX0xvZ2dlckNvbG9yTmFtZSwgLi4uYXJnczogYW55W10pOiB2b2lkO1xuICAgIGluZm8oLi4uYXJnczogYW55W10pOiB2b2lkO1xuICAgIGluZm8ocGFyYW0xOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRMb2coJ2luZm8nKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGZpcnN0IHBhcmFtZXRlciBpcyBhIHZhbGlkIGNvbG9yIGtleVxuICAgICAgICBpZiAodHlwZW9mIHBhcmFtMSA9PT0gJ3N0cmluZycgJiYgdGhpcy5DT0xPUlNbcGFyYW0xIGFzIGtleW9mIHR5cGVvZiB0aGlzLkNPTE9SU10pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKC4uLnRoaXMuY29tcGlsZShwYXJhbTEgYXMga2V5b2YgdHlwZW9mIHRoaXMuQ09MT1JTLCAuLi5hcmdzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBVc2UgaW5zdGFuY2UncyBkZWZhdWx0IGxvZyBjb2xvciBhbmQgdHJlYXQgcGFyYW0xIGFzIGZpcnN0IG1lc3NhZ2UgYXJndW1lbnRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKC4uLnRoaXMuY29tcGlsZSh0aGlzLkRFRkFVTFRfTE9HX0NPTE9SLCBwYXJhbTEsIC4uLmFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExlZ2FjeSBsb2cgbWV0aG9kIChrZXB0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5KVxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBpbmZvKCkgbWV0aG9kIGluc3RlYWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29sb3IgLSBPcHRpb25hbCBjb2xvciBuYW1lIGZyb20gQV9Mb2dnZXJDb2xvck5hbWUgZW51bSBvciB0aGUgZmlyc3QgbWVzc2FnZSBhcmd1bWVudFxuICAgICAqIEBwYXJhbSBhcmdzIC0gQWRkaXRpb25hbCBhcmd1bWVudHMgdG8gbG9nXG4gICAgICovXG4gICAgbG9nKGNvbG9yOiBBX0xvZ2dlckNvbG9yTmFtZSwgLi4uYXJnczogYW55W10pOiB2b2lkO1xuICAgIGxvZyguLi5hcmdzOiBhbnlbXSk6IHZvaWQ7XG4gICAgbG9nKHBhcmFtMTogYW55LCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICAvLyBEZWxlZ2F0ZSB0byBpbmZvIG1ldGhvZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAgICB0aGlzLmluZm8ocGFyYW0xLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2cgd2FybmluZyBtZXNzYWdlcyB3aXRoIHllbGxvdyBjb2xvciBjb2RpbmdcbiAgICAgKiBcbiAgICAgKiBVc2UgZm9yIG5vbi1jcml0aWNhbCBpc3N1ZXMgdGhhdCBzaG91bGQgYmUgYnJvdWdodCB0byBhdHRlbnRpb25cbiAgICAgKiBidXQgZG9uJ3QgcHJldmVudCBub3JtYWwgb3BlcmF0aW9uXG4gICAgICogXG4gICAgICogQHBhcmFtIGFyZ3MgLSBBcmd1bWVudHMgdG8gbG9nIGFzIHdhcm5pbmdzXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogbG9nZ2VyLndhcm5pbmcoJ0RlcHJlY2F0ZWQgbWV0aG9kIHVzZWQnKTtcbiAgICAgKiBsb2dnZXIud2FybmluZygnUmF0ZSBsaW1pdCBhcHByb2FjaGluZzonLCB7IGN1cnJlbnQ6IDk1LCBsaW1pdDogMTAwIH0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHdhcm5pbmcoLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZExvZygnd2FybmluZycpKSByZXR1cm47XG4gICAgICAgIGNvbnNvbGUubG9nKC4uLnRoaXMuY29tcGlsZSgneWVsbG93JywgLi4uYXJncykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvZyBlcnJvciBtZXNzYWdlcyB3aXRoIHJlZCBjb2xvciBjb2RpbmdcbiAgICAgKiBcbiAgICAgKiBVc2UgZm9yIGNyaXRpY2FsIGlzc3VlcywgZXhjZXB0aW9ucywgYW5kIGZhaWx1cmVzIHRoYXQgbmVlZCBpbW1lZGlhdGUgYXR0ZW50aW9uXG4gICAgICogXG4gICAgICogQHBhcmFtIGFyZ3MgLSBBcmd1bWVudHMgdG8gbG9nIGFzIGVycm9yc1xuICAgICAqIEByZXR1cm5zIHZvaWQgKGZvciBjb21wYXRpYmlsaXR5IHdpdGggY29uc29sZS5sb2cpXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogbG9nZ2VyLmVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgICAqIGxvZ2dlci5lcnJvcihuZXcgRXJyb3IoJ1ZhbGlkYXRpb24gZmFpbGVkJykpO1xuICAgICAqIGxvZ2dlci5lcnJvcignQ3JpdGljYWwgZXJyb3I6JywgZXJyb3IsIHsgY29udGV4dDogJ3VzZXItcmVnaXN0cmF0aW9uJyB9KTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBlcnJvciguLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkTG9nKCdlcnJvcicpKSByZXR1cm47XG4gICAgICAgIGNvbnNvbGUubG9nKC4uLnRoaXMuY29tcGlsZSgncmVkJywgLi4uYXJncykpO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFNwZWNpYWxpemVkIEVycm9yIEZvcm1hdHRpbmdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIExlZ2FjeSBtZXRob2QgZm9yIEFfRXJyb3IgbG9nZ2luZyAoa2VwdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcbiAgICAgKiBcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgZXJyb3IoKSBtZXRob2QgaW5zdGVhZCB3aGljaCBoYW5kbGVzIEFfRXJyb3IgYXV0b21hdGljYWxseVxuICAgICAqIEBwYXJhbSBlcnJvciAtIFRoZSBBX0Vycm9yIGluc3RhbmNlIHRvIGxvZ1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBsb2dfQV9FcnJvcihlcnJvcjogQV9FcnJvcik6IHZvaWQge1xuICAgICAgICBjb25zdCB0aW1lID0gdGhpcy5nZXRUaW1lKCk7XG4gICAgICAgIGNvbnN0IHNjb3BlUGFkZGluZyA9ICcgJy5yZXBlYXQodGhpcy5TVEFOREFSRF9TQ09QRV9MRU5HVEggKyAzKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhgXFx4MWJbMzFtWyR7dGhpcy5mb3JtYXR0ZWRTY29wZX1dIHwke3RpbWV9fCBFUlJPUiAke2Vycm9yLmNvZGV9XG4ke3Njb3BlUGFkZGluZ318ICR7ZXJyb3IubWVzc2FnZX1cbiR7c2NvcGVQYWRkaW5nfXwgJHtlcnJvci5kZXNjcmlwdGlvbn0gXG4ke3Njb3BlUGFkZGluZ318LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuJHtzY29wZVBhZGRpbmd9fCAke2Vycm9yLnN0YWNrPy5zcGxpdCgnXFxuJykubWFwKChsaW5lLCBpbmRleCkgPT4gaW5kZXggPT09IDAgPyBsaW5lIDogYCR7c2NvcGVQYWRkaW5nfXwgJHtsaW5lfWApLmpvaW4oJ1xcbicpIHx8ICdObyBzdGFjayB0cmFjZSd9XG4ke3Njb3BlUGFkZGluZ318LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXFx4MWJbMG1gXG4gICAgICAgICAgICArIChlcnJvci5vcmlnaW5hbEVycm9yID8gYFxceDFiWzMxbSR7c2NvcGVQYWRkaW5nfXwgV3JhcHBlZCBGcm9tICAke2Vycm9yLm9yaWdpbmFsRXJyb3IubWVzc2FnZX1cbiR7c2NvcGVQYWRkaW5nfXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4ke3Njb3BlUGFkZGluZ318ICR7ZXJyb3Iub3JpZ2luYWxFcnJvci5zdGFjaz8uc3BsaXQoJ1xcbicpLm1hcCgobGluZSwgaW5kZXgpID0+IGluZGV4ID09PSAwID8gbGluZSA6IGAke3Njb3BlUGFkZGluZ318ICR7bGluZX1gKS5qb2luKCdcXG4nKSB8fCAnTm8gc3RhY2sgdHJhY2UnfVxuJHtzY29wZVBhZGRpbmd9fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxceDFiWzBtYDogJycpXG4gICAgICAgICAgICArIChlcnJvci5saW5rID8gYFxceDFiWzMxbSR7c2NvcGVQYWRkaW5nfXwgUmVhZCBpbiBkb2NzOiAke2Vycm9yLmxpbmt9XG4ke3Njb3BlUGFkZGluZ318LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXFx4MWJbMG1gOiAnJykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvcm1hdCBBX0Vycm9yIGluc3RhbmNlcyBmb3IgaW5saW5lIGRpc3BsYXkgd2l0aGluIGNvbXBpbGVkIG1lc3NhZ2VzXG4gICAgICogXG4gICAgICogUHJvdmlkZXMgZGV0YWlsZWQgZm9ybWF0dGluZyBmb3IgQV9FcnJvciBvYmplY3RzIHdpdGg6XG4gICAgICogLSBFcnJvciBjb2RlLCBtZXNzYWdlLCBhbmQgZGVzY3JpcHRpb25cbiAgICAgKiAtIE9yaWdpbmFsIGVycm9yIGluZm9ybWF0aW9uIEZJUlNUIChiZXR0ZXIgVVggZm9yIGRlYnVnZ2luZylcbiAgICAgKiAtIFN0YWNrIHRyYWNlcyB3aXRoIHRlcm1pbmFsIHdpZHRoIGF3YXJlbmVzc1xuICAgICAqIC0gRG9jdW1lbnRhdGlvbiBsaW5rcyAoaWYgYXZhaWxhYmxlKVxuICAgICAqIC0gQ29uc2lzdGVudCBmb3JtYXR0aW5nIHdpdGggcmVzdCBvZiBsb2dnZXJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXJyb3IgLSBUaGUgQV9FcnJvciBpbnN0YW5jZSB0byBmb3JtYXRcbiAgICAgKiBAcmV0dXJucyBGb3JtYXR0ZWQgc3RyaW5nIHJlYWR5IGZvciBkaXNwbGF5XG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNvbXBpbGVfQV9FcnJvcihlcnJvcjogQV9FcnJvcik6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbkluZGVudCA9IGAkeycgJy5yZXBlYXQodGhpcy5TVEFOREFSRF9TQ09QRV9MRU5HVEggKyAzKX0ke0FfTE9HR0VSX0ZPUk1BVC5QSVBFfWA7XG4gICAgICAgIGNvbnN0IHNlcGFyYXRvciA9IGAke2NvbnRpbnVhdGlvbkluZGVudH0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tYDtcbiAgICAgICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgLy8gQWRkIGVycm9yIGhlYWRlclxuICAgICAgICBsaW5lcy5wdXNoKCcnKTtcbiAgICAgICAgbGluZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICBsaW5lcy5wdXNoKGAke2NvbnRpbnVhdGlvbkluZGVudH1BX0VSUk9SOiAke2Vycm9yLmNvZGV9YCk7XG4gICAgICAgIGxpbmVzLnB1c2goc2VwYXJhdG9yKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZvcm1hdCBhbmQgd3JhcCBlcnJvciBtZXNzYWdlIGFuZCBkZXNjcmlwdGlvblxuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0aGlzLndyYXBUZXh0KGBNZXNzYWdlOiAke2Vycm9yLm1lc3NhZ2V9YCwgY29udGludWF0aW9uSW5kZW50LCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGVycm9yRGVzY3JpcHRpb24gPSB0aGlzLndyYXBUZXh0KGBEZXNjcmlwdGlvbjogJHtlcnJvci5kZXNjcmlwdGlvbn1gLCBjb250aW51YXRpb25JbmRlbnQsIGZhbHNlKTtcbiAgICAgICAgXG4gICAgICAgIGxpbmVzLnB1c2goLi4uZXJyb3JNZXNzYWdlLm1hcChsaW5lID0+IGAke2NvbnRpbnVhdGlvbkluZGVudH0ke2xpbmV9YCkpO1xuICAgICAgICBsaW5lcy5wdXNoKC4uLmVycm9yRGVzY3JpcHRpb24ubWFwKGxpbmUgPT4gYCR7Y29udGludWF0aW9uSW5kZW50fSR7bGluZX1gKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaG93IG9yaWdpbmFsIGVycm9yIEZJUlNUIChtb3JlIGltcG9ydGFudCBmb3IgZGVidWdnaW5nKVxuICAgICAgICBpZiAoZXJyb3Iub3JpZ2luYWxFcnJvcikge1xuICAgICAgICAgICAgbGluZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgbGluZXMucHVzaChgJHtjb250aW51YXRpb25JbmRlbnR9T1JJR0lOQUwgRVJST1I6YCk7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKHNlcGFyYXRvcik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsTWVzc2FnZSA9IHRoaXMud3JhcFRleHQoYCR7ZXJyb3Iub3JpZ2luYWxFcnJvci5uYW1lfTogJHtlcnJvci5vcmlnaW5hbEVycm9yLm1lc3NhZ2V9YCwgY29udGludWF0aW9uSW5kZW50LCBmYWxzZSk7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKC4uLm9yaWdpbmFsTWVzc2FnZS5tYXAobGluZSA9PiBgJHtjb250aW51YXRpb25JbmRlbnR9JHtsaW5lfWApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGVycm9yLm9yaWdpbmFsRXJyb3Iuc3RhY2spIHtcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKGAke2NvbnRpbnVhdGlvbkluZGVudH1TdGFjayB0cmFjZTpgKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFja0xpbmVzID0gdGhpcy5mb3JtYXRTdGFja1RyYWNlKGVycm9yLm9yaWdpbmFsRXJyb3Iuc3RhY2ssIGNvbnRpbnVhdGlvbkluZGVudCk7XG4gICAgICAgICAgICAgICAgbGluZXMucHVzaCguLi5zdGFja0xpbmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVGhlbiBzaG93IEFfRXJyb3Igc3RhY2sgdHJhY2VcbiAgICAgICAgaWYgKGVycm9yLnN0YWNrKSB7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKHNlcGFyYXRvcik7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKGAke2NvbnRpbnVhdGlvbkluZGVudH1BX0VSUk9SIFNUQUNLOmApO1xuICAgICAgICAgICAgbGluZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgY29uc3Qgc3RhY2tMaW5lcyA9IHRoaXMuZm9ybWF0U3RhY2tUcmFjZShlcnJvci5zdGFjaywgY29udGludWF0aW9uSW5kZW50KTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goLi4uc3RhY2tMaW5lcyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIERvY3VtZW50YXRpb24gbGluayBhdCB0aGUgZW5kXG4gICAgICAgIGlmIChlcnJvci5saW5rKSB7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKHNlcGFyYXRvcik7XG4gICAgICAgICAgICBjb25zdCBsaW5rVGV4dCA9IHRoaXMud3JhcFRleHQoYERvY3VtZW50YXRpb246ICR7ZXJyb3IubGlua31gLCBjb250aW51YXRpb25JbmRlbnQsIGZhbHNlKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goLi4ubGlua1RleHQubWFwKGxpbmUgPT4gYCR7Y29udGludWF0aW9uSW5kZW50fSR7bGluZX1gKSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGxpbmVzLnB1c2goc2VwYXJhdG9yKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgc3RhY2sgdHJhY2Ugd2l0aCBwcm9wZXIgdGVybWluYWwgd2lkdGggd3JhcHBpbmcgYW5kIGluZGVudGF0aW9uXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0YWNrIC0gVGhlIHN0YWNrIHRyYWNlIHN0cmluZ1xuICAgICAqIEBwYXJhbSBiYXNlSW5kZW50IC0gQmFzZSBpbmRlbnRhdGlvbiBmb3IgY29udGludWF0aW9uIGxpbmVzXG4gICAgICogQHJldHVybnMgQXJyYXkgb2YgZm9ybWF0dGVkIHN0YWNrIHRyYWNlIGxpbmVzXG4gICAgICovXG4gICAgcHJpdmF0ZSBmb3JtYXRTdGFja1RyYWNlKHN0YWNrOiBzdHJpbmcsIGJhc2VJbmRlbnQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICAgICAgY29uc3Qgc3RhY2tMaW5lcyA9IHN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBcbiAgICAgICAgc3RhY2tMaW5lcy5mb3JFYWNoKChsaW5lLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKGxpbmUudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgLy8gQWRkIGV4dHJhIGluZGVudGF0aW9uIGZvciBzdGFjayB0cmFjZSBsaW5lc1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YWNrSW5kZW50ID0gaW5kZXggPT09IDAgPyBiYXNlSW5kZW50IDogYCR7YmFzZUluZGVudH0gIGA7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlZExpbmVzID0gdGhpcy53cmFwVGV4dChsaW5lLnRyaW0oKSwgc3RhY2tJbmRlbnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWQucHVzaCguLi53cmFwcGVkTGluZXMubWFwKHdyYXBwZWRMaW5lID0+IFxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9PT0gMCAmJiB3cmFwcGVkTGluZSA9PT0gd3JhcHBlZExpbmVzWzBdIFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgJHtiYXNlSW5kZW50fSR7d3JhcHBlZExpbmV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgJHtiYXNlSW5kZW50fSAgJHt3cmFwcGVkTGluZX1gXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgc3RhbmRhcmQgRXJyb3IgaW5zdGFuY2VzIGZvciBpbmxpbmUgZGlzcGxheSB3aXRoaW4gY29tcGlsZWQgbWVzc2FnZXNcbiAgICAgKiBcbiAgICAgKiBQcm92aWRlcyBjbGVhbiwgcmVhZGFibGUgZm9ybWF0dGluZyBmb3Igc3RhbmRhcmQgSmF2YVNjcmlwdCBlcnJvcnMgd2l0aDpcbiAgICAgKiAtIFRlcm1pbmFsIHdpZHRoIGF3YXJlIG1lc3NhZ2Ugd3JhcHBpbmdcbiAgICAgKiAtIFByb3Blcmx5IGZvcm1hdHRlZCBzdGFjayB0cmFjZXNcbiAgICAgKiAtIENvbnNpc3RlbnQgaW5kZW50YXRpb24gd2l0aCByZXN0IG9mIGxvZ2dlclxuICAgICAqIFxuICAgICAqIEBwYXJhbSBlcnJvciAtIFRoZSBFcnJvciBpbnN0YW5jZSB0byBmb3JtYXRcbiAgICAgKiBAcmV0dXJucyBGb3JtYXR0ZWQgc3RyaW5nIHJlYWR5IGZvciBkaXNwbGF5XG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNvbXBpbGVfRXJyb3IoZXJyb3I6IEVycm9yKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgY29udGludWF0aW9uSW5kZW50ID0gYCR7JyAnLnJlcGVhdCh0aGlzLlNUQU5EQVJEX1NDT1BFX0xFTkdUSCArIDMpfSR7QV9MT0dHRVJfRk9STUFULlBJUEV9YDtcbiAgICAgICAgY29uc3Qgc2VwYXJhdG9yID0gYCR7Y29udGludWF0aW9uSW5kZW50fS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1gO1xuICAgICAgICBjb25zdCBsaW5lczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICAvLyBBZGQgZXJyb3IgaGVhZGVyXG4gICAgICAgIGxpbmVzLnB1c2goJycpO1xuICAgICAgICBsaW5lcy5wdXNoKHNlcGFyYXRvcik7XG4gICAgICAgIGxpbmVzLnB1c2goYCR7Y29udGludWF0aW9uSW5kZW50fUVSUk9SOiAke2Vycm9yLm5hbWV9YCk7XG4gICAgICAgIGxpbmVzLnB1c2goc2VwYXJhdG9yKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZvcm1hdCBhbmQgd3JhcCBlcnJvciBtZXNzYWdlXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRoaXMud3JhcFRleHQoYE1lc3NhZ2U6ICR7ZXJyb3IubWVzc2FnZX1gLCBjb250aW51YXRpb25JbmRlbnQsIGZhbHNlKTtcbiAgICAgICAgbGluZXMucHVzaCguLi5lcnJvck1lc3NhZ2UubWFwKGxpbmUgPT4gYCR7Y29udGludWF0aW9uSW5kZW50fSR7bGluZX1gKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3JtYXQgc3RhY2sgdHJhY2UgaWYgYXZhaWxhYmxlXG4gICAgICAgIGlmIChlcnJvci5zdGFjaykge1xuICAgICAgICAgICAgbGluZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgbGluZXMucHVzaChgJHtjb250aW51YXRpb25JbmRlbnR9U1RBQ0sgVFJBQ0U6YCk7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKHNlcGFyYXRvcik7XG4gICAgICAgICAgICBjb25zdCBzdGFja0xpbmVzID0gdGhpcy5mb3JtYXRTdGFja1RyYWNlKGVycm9yLnN0YWNrLCBjb250aW51YXRpb25JbmRlbnQpO1xuICAgICAgICAgICAgbGluZXMucHVzaCguLi5zdGFja0xpbmVzKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbGluZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGxpbmVzLmpvaW4oJ1xcbicpO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFV0aWxpdHkgTWV0aG9kc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgdGltZXN0YW1wIHN0cmluZyBmb3IgbG9nIG1lc3NhZ2VzXG4gICAgICogXG4gICAgICogRm9ybWF0OiBNTTpTUzptbW0gKG1pbnV0ZXM6c2Vjb25kczptaWxsaXNlY29uZHMpXG4gICAgICogVGhpcyBwcm92aWRlcyBzdWZmaWNpZW50IHByZWNpc2lvbiBmb3IgZGVidWdnaW5nIHdoaWxlIHJlbWFpbmluZyByZWFkYWJsZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIEZvcm1hdHRlZCB0aW1lc3RhbXAgc3RyaW5nXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBSZXR1cm5zOiBcIjE1OjQyOjEzN1wiIGZvciAzOjQyOjE1IFBNIGFuZCAxMzcgbWlsbGlzZWNvbmRzXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFRpbWUoKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgbWludXRlcyA9IFN0cmluZyhub3cuZ2V0TWludXRlcygpKS5wYWRTdGFydChBX0xPR0dFUl9USU1FX0ZPUk1BVC5NSU5VVEVTX1BBRCwgJzAnKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IFN0cmluZyhub3cuZ2V0U2Vjb25kcygpKS5wYWRTdGFydChBX0xPR0dFUl9USU1FX0ZPUk1BVC5TRUNPTkRTX1BBRCwgJzAnKTtcbiAgICAgICAgY29uc3QgbWlsbGlzZWNvbmRzID0gU3RyaW5nKG5vdy5nZXRNaWxsaXNlY29uZHMoKSkucGFkU3RhcnQoQV9MT0dHRVJfVElNRV9GT1JNQVQuTUlMTElTRUNPTkRTX1BBRCwgJzAnKTtcbiAgICAgICAgcmV0dXJuIGAke21pbnV0ZXN9JHtBX0xPR0dFUl9USU1FX0ZPUk1BVC5TRVBBUkFUT1J9JHtzZWNvbmRzfSR7QV9MT0dHRVJfVElNRV9GT1JNQVQuU0VQQVJBVE9SfSR7bWlsbGlzZWNvbmRzfWA7XG4gICAgfVxufSIsICJpbXBvcnQge1xuICAgIEFfQ29tbWFuZF9FeGVjdXRpb25Db250ZXh0LFxuICAgIEFfVFlQRVNfX0NvbW1hbmRfSW5pdCxcbiAgICBBX1RZUEVTX19Db21tYW5kX0xpc3RlbmVyLFxuICAgIEFfVFlQRVNfX0NvbW1hbmRfU2VyaWFsaXplZFxufSBmcm9tIFwiLi9BLUNvbW1hbmQudHlwZXNcIjtcbmltcG9ydCB7XG4gICAgQV9Db21tYW5kRmVhdHVyZXMsXG4gICAgQV9Db21tYW5kX1N0YXR1cyxcbiAgICBBX0NvbW1hbmRUcmFuc2l0aW9ucyxcbiAgICBBX0NvbW1hbmRFdmVudFxufSBmcm9tIFwiLi9BLUNvbW1hbmQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyAgQV9Db250ZXh0LCBBX0RlcGVuZGVuY3ksIEFfRW50aXR5LCBBX0Vycm9yLCBBX0ZlYXR1cmUsIEFfSW5qZWN0LCBBX1Njb3BlIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfQ29tbWFuZEVycm9yIH0gZnJvbSBcIi4vQS1Db21tYW5kLmVycm9yXCI7XG5pbXBvcnQgeyBBX1N0YXRlTWFjaGluZSB9IGZyb20gXCIuLi9BLVN0YXRlTWFjaGluZS9BLVN0YXRlTWFjaGluZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfU3RhdGVNYWNoaW5lRmVhdHVyZXMgfSBmcm9tIFwiLi4vQS1TdGF0ZU1hY2hpbmUvQS1TdGF0ZU1hY2hpbmUuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCIuLi9BLUxvZ2dlci9BLUxvZ2dlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbiB9IGZyb20gXCIuLi9BLVN0YXRlTWFjaGluZS9BLVN0YXRlTWFjaGluZVRyYW5zaXRpb24uY29udGV4dFwiO1xuaW1wb3J0IHsgQV9FeGVjdXRpb25Db250ZXh0IH0gZnJvbSBcIi4uL0EtRXhlY3V0aW9uL0EtRXhlY3V0aW9uLmNvbnRleHRcIjtcblxuLyoqXG4gKiBBX0NvbW1hbmQgLSBBZHZhbmNlZCBDb21tYW5kIFBhdHRlcm4gSW1wbGVtZW50YXRpb25cbiAqIFxuICogQSBjb21wcmVoZW5zaXZlIGNvbW1hbmQgcGF0dGVybiBpbXBsZW1lbnRhdGlvbiB0aGF0IGVuY2Fwc3VsYXRlcyBidXNpbmVzcyBsb2dpY1xuICogYXMgZXhlY3V0YWJsZSBjb21tYW5kcyB3aXRoIGZ1bGwgbGlmZWN5Y2xlIG1hbmFnZW1lbnQsIGV2ZW50IGhhbmRsaW5nLCBhbmQgXG4gKiBzdGF0ZSBwZXJzaXN0ZW5jZSBjYXBhYmlsaXRpZXMuXG4gKiBcbiAqICMjIEtleSBGZWF0dXJlc1xuICogLSAqKlN0cnVjdHVyZWQgTGlmZWN5Y2xlKio6IEF1dG9tYXRpYyBwcm9ncmVzc2lvbiB0aHJvdWdoIGluaXQg4oaSIGNvbXBpbGUg4oaSIGV4ZWN1dGUg4oaSIGNvbXBsZXRlL2ZhaWxcbiAqIC0gKipFdmVudC1Ecml2ZW4qKjogU3Vic2NyaWJlIHRvIGxpZmVjeWNsZSBldmVudHMgYW5kIGVtaXQgY3VzdG9tIGV2ZW50c1xuICogLSAqKlN0YXRlIFBlcnNpc3RlbmNlKio6IEZ1bGwgc2VyaWFsaXphdGlvbi9kZXNlcmlhbGl6YXRpb24gZm9yIGNyb3NzLXNlcnZpY2UgY29tbXVuaWNhdGlvblxuICogLSAqKlR5cGUgU2FmZXR5Kio6IEdlbmVyaWMgdHlwZXMgZm9yIHBhcmFtZXRlcnMsIHJlc3VsdHMsIGFuZCBjdXN0b20gZXZlbnRzXG4gKiAtICoqRGVwZW5kZW5jeSBJbmplY3Rpb24qKjogSW50ZWdyYXRlZCB3aXRoIEEtQ29uY2VwdCdzIERJIHN5c3RlbVxuICogLSAqKkVycm9yIE1hbmFnZW1lbnQqKjogQ29tcHJlaGVuc2l2ZSBlcnJvciBjYXB0dXJlIGFuZCBoYW5kbGluZ1xuICogLSAqKkV4ZWN1dGlvbiBUcmFja2luZyoqOiBCdWlsdC1pbiB0aW1pbmcgYW5kIHBlcmZvcm1hbmNlIG1ldHJpY3NcbiAqIFxuICogIyMgTGlmZWN5Y2xlIFBoYXNlc1xuICogMS4gKipDUkVBVEVEKiogLSBDb21tYW5kIGluc3RhbnRpYXRlZCBidXQgbm90IGluaXRpYWxpemVkXG4gKiAyLiAqKklOSVRJQUxJWkVEKiogLSBFeGVjdXRpb24gc2NvcGUgYW5kIGRlcGVuZGVuY2llcyBzZXQgdXBcbiAqIDMuICoqQ09NUElMRUQqKiAtIFJlYWR5IGZvciBleGVjdXRpb24gd2l0aCBhbGwgcmVzb3VyY2VzIHByZXBhcmVkXG4gKiA0LiAqKkVYRUNVVElORyoqIC0gQ3VycmVudGx5IHJ1bm5pbmcgYnVzaW5lc3MgbG9naWNcbiAqIDUuICoqQ09NUExFVEVEKiogLSBTdWNjZXNzZnVsbHkgZmluaXNoZWQgZXhlY3V0aW9uXG4gKiA2LiAqKkZBSUxFRCoqIC0gRXhlY3V0aW9uIGZhaWxlZCB3aXRoIGVycm9ycyBjYXB0dXJlZFxuICogXG4gKiBAdGVtcGxhdGUgSW52b2tlVHlwZSAtIFR5cGUgZGVmaW5pdGlvbiBmb3IgY29tbWFuZCBwYXJhbWV0ZXJzXG4gKiBAdGVtcGxhdGUgUmVzdWx0VHlwZSAtIFR5cGUgZGVmaW5pdGlvbiBmb3IgY29tbWFuZCBleGVjdXRpb24gcmVzdWx0XG4gKiBAdGVtcGxhdGUgTGlmZWN5Y2xlRXZlbnRzIC0gVW5pb24gdHlwZSBvZiBjdXN0b20gbGlmZWN5Y2xlIGV2ZW50IG5hbWVzXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAvLyBEZWZpbmUgcGFyYW1ldGVyIGFuZCByZXN1bHQgdHlwZXNcbiAqIGludGVyZmFjZSBVc2VyQ3JlYXRlUGFyYW1zIHtcbiAqICAgbmFtZTogc3RyaW5nO1xuICogICBlbWFpbDogc3RyaW5nO1xuICogICByb2xlOiAnYWRtaW4nIHwgJ3VzZXInO1xuICogfVxuICogXG4gKiBpbnRlcmZhY2UgVXNlckNyZWF0ZVJlc3VsdCB7XG4gKiAgIHVzZXJJZDogc3RyaW5nO1xuICogICBzdWNjZXNzOiBib29sZWFuO1xuICogfVxuICogXG4gKiAvLyBDcmVhdGUgY3VzdG9tIGNvbW1hbmRcbiAqIGNsYXNzIENyZWF0ZVVzZXJDb21tYW5kIGV4dGVuZHMgQV9Db21tYW5kPFVzZXJDcmVhdGVQYXJhbXMsIFVzZXJDcmVhdGVSZXN1bHQ+IHt9XG4gKiBcbiAqIC8vIEV4ZWN1dGUgY29tbWFuZFxuICogY29uc3QgY29tbWFuZCA9IG5ldyBDcmVhdGVVc2VyQ29tbWFuZCh7XG4gKiAgIG5hbWU6ICdKb2huIERvZScsXG4gKiAgIGVtYWlsOiAnam9obkBleGFtcGxlLmNvbScsXG4gKiAgIHJvbGU6ICd1c2VyJ1xuICogfSk7XG4gKiBcbiAqIHNjb3BlLnJlZ2lzdGVyKGNvbW1hbmQpO1xuICogYXdhaXQgY29tbWFuZC5leGVjdXRlKCk7XG4gKiBcbiAqIGNvbnNvbGUubG9nKCdSZXN1bHQ6JywgY29tbWFuZC5yZXN1bHQpO1xuICogY29uc29sZS5sb2coJ1N0YXR1czonLCBjb21tYW5kLnN0YXR1cyk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIEFfQ29tbWFuZDxcbiAgICBJbnZva2VUeXBlIGV4dGVuZHMgQV9UWVBFU19fQ29tbWFuZF9Jbml0ID0gQV9UWVBFU19fQ29tbWFuZF9Jbml0LFxuICAgIFJlc3VsdFR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PixcbiAgICBMaWZlY3ljbGVFdmVudHMgZXh0ZW5kcyBzdHJpbmcgfCBrZXlvZiB0eXBlb2YgQV9Db21tYW5kRXZlbnQgPSBrZXlvZiB0eXBlb2YgQV9Db21tYW5kRXZlbnQsXG4+IGV4dGVuZHMgQV9FbnRpdHk8SW52b2tlVHlwZSwgQV9UWVBFU19fQ29tbWFuZF9TZXJpYWxpemVkPEludm9rZVR5cGUsIFJlc3VsdFR5cGU+PiB7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PSBTdGF0aWMgQ29tbWFuZCBJbmZvcm1hdGlvbiA9PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBjb21tYW5kIGlkZW50aWZpZXIgZGVyaXZlZCBmcm9tIHRoZSBjbGFzcyBuYW1lXG4gICAgICogVXNlZCBmb3IgY29tbWFuZCByZWdpc3RyYXRpb24gYW5kIHNlcmlhbGl6YXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGNvZGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmVudGl0eTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PSBJbnN0YW5jZSBQcm9wZXJ0aWVzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKiBUaGUgb3JpZ2luIG9mIHRoZSBjb21tYW5kLCB1c2VkIHRvIGtub3cgaGFzIGl0IGJlZW4gY3JlYXRlZCBmcm9tIHNlcmlhbGl6YXRpb24gb3IgaW52b2tlZCAqL1xuICAgIHByb3RlY3RlZCBfb3JpZ2luITogJ2ludm9rZWQnIHwgJ3NlcmlhbGl6ZWQnO1xuXG4gICAgLyoqIENvbW1hbmQgZXhlY3V0aW9uIHNjb3BlIGZvciBkZXBlbmRlbmN5IGluamVjdGlvbiBhbmQgZmVhdHVyZSByZXNvbHV0aW9uICovXG4gICAgcHJvdGVjdGVkIF9leGVjdXRpb25TY29wZSE6IEFfU2NvcGU7XG5cbiAgICAvKiogUmVzdWx0IGRhdGEgcHJvZHVjZWQgYnkgc3VjY2Vzc2Z1bCBjb21tYW5kIGV4ZWN1dGlvbiAqL1xuICAgIHByb3RlY3RlZCBfcmVzdWx0PzogUmVzdWx0VHlwZTtcblxuICAgIC8qKiBTZXQgb2YgZXJyb3JzIHRoYXQgb2NjdXJyZWQgZHVyaW5nIGNvbW1hbmQgZXhlY3V0aW9uICovXG4gICAgcHJvdGVjdGVkIF9lcnJvciE6IEFfRXJyb3I7XG5cbiAgICAvKiogQ29tbWFuZCBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzICovXG4gICAgcHJvdGVjdGVkIF9wYXJhbXMhOiBJbnZva2VUeXBlO1xuXG4gICAgLyoqIEN1cnJlbnQgbGlmZWN5Y2xlIHN0YXR1cyBvZiB0aGUgY29tbWFuZCAqL1xuICAgIHByb3RlY3RlZCBfc3RhdHVzITogQV9Db21tYW5kX1N0YXR1c1xuXG4gICAgLyoqIE1hcCBvZiBldmVudCBsaXN0ZW5lcnMgb3JnYW5pemVkIGJ5IGV2ZW50IG5hbWUgKi9cbiAgICBwcm90ZWN0ZWQgX2xpc3RlbmVyczogTWFwPFxuICAgICAgICBMaWZlY3ljbGVFdmVudHMgfCBrZXlvZiB0eXBlb2YgQV9Db21tYW5kRXZlbnQsXG4gICAgICAgIFNldDxBX1RZUEVTX19Db21tYW5kX0xpc3RlbmVyPEludm9rZVR5cGUsIFJlc3VsdFR5cGUsIExpZmVjeWNsZUV2ZW50cz4+XG4gICAgPiA9IG5ldyBNYXAoKTtcblxuICAgIC8qKiBUaW1lc3RhbXAgd2hlbiBjb21tYW5kIGV4ZWN1dGlvbiBzdGFydGVkICovXG4gICAgcHJvdGVjdGVkIF9zdGFydFRpbWU/OiBEYXRlO1xuXG4gICAgLyoqIFRpbWVzdGFtcCB3aGVuIGNvbW1hbmQgZXhlY3V0aW9uIGVuZGVkICovXG4gICAgcHJvdGVjdGVkIF9lbmRUaW1lPzogRGF0ZTtcblxuICAgIC8qKiBUaW1lc3RhbXAgd2hlbiBjb21tYW5kIHdhcyBjcmVhdGVkICovXG4gICAgcHJvdGVjdGVkIF9jcmVhdGVkQXQhOiBEYXRlO1xuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PSBQdWJsaWMgR2V0dGVyIFByb3BlcnRpZXMgPT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogVG90YWwgZXhlY3V0aW9uIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xuICAgICAqIFxuICAgICAqIC0gSWYgY29tcGxldGVkL2ZhaWxlZDogUmV0dXJucyB0b3RhbCB0aW1lIGZyb20gc3RhcnQgdG8gZW5kXG4gICAgICogLSBJZiBjdXJyZW50bHkgZXhlY3V0aW5nOiBSZXR1cm5zIGVsYXBzZWQgdGltZSBzaW5jZSBzdGFydFxuICAgICAqIC0gSWYgbm90IHN0YXJ0ZWQ6IFJldHVybnMgdW5kZWZpbmVkXG4gICAgICovXG4gICAgZ2V0IGR1cmF0aW9uKCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmRUaW1lICYmIHRoaXMuX3N0YXJ0VGltZVxuICAgICAgICAgICAgPyB0aGlzLl9lbmRUaW1lLmdldFRpbWUoKSAtIHRoaXMuX3N0YXJ0VGltZS5nZXRUaW1lKClcbiAgICAgICAgICAgIDogdGhpcy5fc3RhcnRUaW1lXG4gICAgICAgICAgICAgICAgPyBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRoaXMuX3N0YXJ0VGltZS5nZXRUaW1lKClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZGxlIHRpbWUgYmVmb3JlIGV4ZWN1dGlvbiBzdGFydGVkIGluIG1pbGxpc2Vjb25kc1xuICAgICAqIFxuICAgICAqIFRpbWUgYmV0d2VlbiBjb21tYW5kIGNyZWF0aW9uIGFuZCBleGVjdXRpb24gc3RhcnQuXG4gICAgICogVXNlZnVsIGZvciBtb25pdG9yaW5nIGNvbW1hbmQgcXVldWUgcGVyZm9ybWFuY2UuXG4gICAgICovXG4gICAgZ2V0IGlkbGVUaW1lKCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFydFRpbWUgJiYgdGhpcy5fY3JlYXRlZEF0XG4gICAgICAgICAgICA/IHRoaXMuX3N0YXJ0VGltZS5nZXRUaW1lKCkgLSB0aGlzLl9jcmVhdGVkQXQuZ2V0VGltZSgpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21tYW5kIGV4ZWN1dGlvbiBzY29wZSBmb3IgZGVwZW5kZW5jeSBpbmplY3Rpb25cbiAgICAgKiBcbiAgICAgKiBQcm92aWRlcyBhY2Nlc3MgdG8gY29tcG9uZW50cywgc2VydmljZXMsIGFuZCBzaGFyZWQgcmVzb3VyY2VzXG4gICAgICogZHVyaW5nIGNvbW1hbmQgZXhlY3V0aW9uLiBJbmhlcml0cyBmcm9tIHRoZSBzY29wZSB3aGVyZSB0aGVcbiAgICAgKiBjb21tYW5kIHdhcyByZWdpc3RlcmVkLlxuICAgICAqL1xuICAgIGdldCBzY29wZSgpOiBBX1Njb3BlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V4ZWN1dGlvblNjb3BlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRpb24gY29udGV4dCBhc3NvY2lhdGVkIHdpdGggdGhlIGNvbW1hbmRcbiAgICAgKi9cbiAgICBnZXQgY29udGV4dCgpOiBBX0V4ZWN1dGlvbkNvbnRleHQ8QV9Db21tYW5kX0V4ZWN1dGlvbkNvbnRleHQ8SW52b2tlVHlwZSwgUmVzdWx0VHlwZT4+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUucmVzb2x2ZShBX0V4ZWN1dGlvbkNvbnRleHQ8QV9Db21tYW5kX0V4ZWN1dGlvbkNvbnRleHQ8SW52b2tlVHlwZSwgUmVzdWx0VHlwZT4+KSE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVW5pcXVlIGNvbW1hbmQgdHlwZSBpZGVudGlmaWVyXG4gICAgICogXG4gICAgICogRGVyaXZlZCBmcm9tIHRoZSBjbGFzcyBuYW1lIGFuZCB1c2VkIGZvcjpcbiAgICAgKiAtIENvbW1hbmQgcmVnaXN0cmF0aW9uIGFuZCByZXNvbHV0aW9uXG4gICAgICogLSBTZXJpYWxpemF0aW9uIGFuZCBkZXNlcmlhbGl6YXRpb25cbiAgICAgKiAtIExvZ2dpbmcgYW5kIGRlYnVnZ2luZ1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlICdjcmVhdGUtdXNlci1jb21tYW5kJywgJ3Byb2Nlc3Mtb3JkZXItY29tbWFuZCdcbiAgICAgKi9cbiAgICBnZXQgY29kZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfQ29tbWFuZCkuY29kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3VycmVudCBsaWZlY3ljbGUgc3RhdHVzIG9mIHRoZSBjb21tYW5kXG4gICAgICogXG4gICAgICogSW5kaWNhdGVzIHRoZSBjdXJyZW50IHBoYXNlIGluIHRoZSBjb21tYW5kIGV4ZWN1dGlvbiBsaWZlY3ljbGUuXG4gICAgICogVXNlZCB0byB0cmFjayBwcm9ncmVzcyBhbmQgZGV0ZXJtaW5lIGF2YWlsYWJsZSBvcGVyYXRpb25zLlxuICAgICAqL1xuICAgIGdldCBzdGF0dXMoKTogQV9Db21tYW5kX1N0YXR1cyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGltZXN0YW1wIHdoZW4gdGhlIGNvbW1hbmQgd2FzIGNyZWF0ZWRcbiAgICAgKiBcbiAgICAgKiBNYXJrcyB0aGUgaW5pdGlhbCBpbnN0YW50aWF0aW9uIHRpbWUsIHVzZWZ1bCBmb3IgdHJhY2tpbmdcbiAgICAgKiBjb21tYW5kIGFnZSBhbmQgcXVldWUgcGVyZm9ybWFuY2UgbWV0cmljcy5cbiAgICAgKi9cbiAgICBnZXQgY3JlYXRlZEF0KCk6IERhdGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlZEF0ITtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaW1lc3RhbXAgd2hlbiBjb21tYW5kIGV4ZWN1dGlvbiBzdGFydGVkXG4gICAgICogXG4gICAgICogVW5kZWZpbmVkIHVudGlsIGV4ZWN1dGlvbiBiZWdpbnMuIFVzZWQgZm9yIGNhbGN1bGF0aW5nXG4gICAgICogZXhlY3V0aW9uIGR1cmF0aW9uIGFuZCBpZGxlIHRpbWUuXG4gICAgICovXG4gICAgZ2V0IHN0YXJ0ZWRBdCgpOiBEYXRlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0VGltZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaW1lc3RhbXAgd2hlbiBjb21tYW5kIGV4ZWN1dGlvbiBlbmRlZFxuICAgICAqIFxuICAgICAqIFNldCB3aGVuIGNvbW1hbmQgcmVhY2hlcyBDT01QTEVURUQgb3IgRkFJTEVEIHN0YXR1cy5cbiAgICAgKiBVc2VkIGZvciBjYWxjdWxhdGluZyB0b3RhbCBleGVjdXRpb24gZHVyYXRpb24uXG4gICAgICovXG4gICAgZ2V0IGVuZGVkQXQoKTogRGF0ZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmRUaW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc3VsdCBkYXRhIHByb2R1Y2VkIGJ5IGNvbW1hbmQgZXhlY3V0aW9uXG4gICAgICogXG4gICAgICogQ29udGFpbnMgdGhlIG91dHB1dCBkYXRhIGZyb20gc3VjY2Vzc2Z1bCBjb21tYW5kIGV4ZWN1dGlvbi5cbiAgICAgKiBVbmRlZmluZWQgdW50aWwgY29tbWFuZCBjb21wbGV0ZXMgc3VjY2Vzc2Z1bGx5LlxuICAgICAqL1xuICAgIGdldCByZXN1bHQoKTogUmVzdWx0VHlwZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXJyYXkgb2YgZXJyb3JzIHRoYXQgb2NjdXJyZWQgZHVyaW5nIGV4ZWN1dGlvblxuICAgICAqIFxuICAgICAqIEF1dG9tYXRpY2FsbHkgd3JhcHMgbmF0aXZlIGVycm9ycyBpbiBBX0Vycm9yIGluc3RhbmNlc1xuICAgICAqIGZvciBjb25zaXN0ZW50IGVycm9yIGhhbmRsaW5nLiBFbXB0eSBhcnJheSBpZiBubyBlcnJvcnMgb2NjdXJyZWQuXG4gICAgICovXG4gICAgZ2V0IGVycm9yKCk6IEFfRXJyb3IgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tbWFuZCBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzXG4gICAgICogXG4gICAgICogQ29udGFpbnMgdGhlIGlucHV0IGRhdGEgdXNlZCB0byBjcmVhdGUgYW5kIGNvbmZpZ3VyZSB0aGUgY29tbWFuZC5cbiAgICAgKiBUaGVzZSBwYXJhbWV0ZXJzIGFyZSBpbW11dGFibGUgZHVyaW5nIGNvbW1hbmQgZXhlY3V0aW9uLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFfRXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21tYW5kIGluaXRpYWxpemF0aW9uIHBhcmFtZXRlcnNcbiAgICAgKiBcbiAgICAgKiBDb250YWlucyB0aGUgaW5wdXQgZGF0YSB1c2VkIHRvIGNyZWF0ZSBhbmQgY29uZmlndXJlIHRoZSBjb21tYW5kLlxuICAgICAqIFRoZXNlIHBhcmFtZXRlcnMgYXJlIGltbXV0YWJsZSBkdXJpbmcgY29tbWFuZCBleGVjdXRpb24uXG4gICAgICovXG4gICAgZ2V0IHBhcmFtcygpOiBJbnZva2VUeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIGNvbW1hbmQgaGFzIGJlZW4gcHJvY2Vzc2VkIChjb21wbGV0ZWQgb3IgZmFpbGVkKVxuICAgICAqIFxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY29tbWFuZCBoYXMgY29tcGxldGVkIG9yIGZhaWxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGdldCBpc1Byb2Nlc3NlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1cyA9PT0gQV9Db21tYW5kX1N0YXR1cy5DT01QTEVURURcbiAgICAgICAgICAgIHx8IHRoaXMuX3N0YXR1cyA9PT0gQV9Db21tYW5kX1N0YXR1cy5GQUlMRUQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQS1Db21tYW5kIHJlcHJlc2VudHMgYW4gZXhlY3V0YWJsZSBjb21tYW5kIHdpdGggYSBzcGVjaWZpYyBjb2RlIGFuZCBwYXJhbWV0ZXJzLlxuICAgICAqIEl0IGNhbiBiZSBleGVjdXRlZCB3aXRoaW4gYSBnaXZlbiBzY29wZSBhbmQgc3RvcmVzIGV4ZWN1dGlvbiByZXN1bHRzIGFuZCBlcnJvcnMuXG4gICAgICogXG4gICAgICogXG4gICAgICogQS1Db21tYW5kIHNob3VsZCBiZSBjb250ZXh0IGluZGVwZW5kZW50IGFuZCBleGVjdXRpb24gbG9naWMgc2hvdWxkIGJlIGJhc2VkIG9uIGF0dGFjaGVkIGNvbXBvbmVudHMgXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvZGUgXG4gICAgICogQHBhcmFtIHBhcmFtcyBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbW1hbmQgaW52b2NhdGlvbiBwYXJhbWV0ZXJzXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbXM6IEludm9rZVR5cGUgfCBBX1RZUEVTX19Db21tYW5kX1NlcmlhbGl6ZWQ8SW52b2tlVHlwZSwgUmVzdWx0VHlwZT4gfCBzdHJpbmcsXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHBhcmFtcyBhcyBhbnkpO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQS1TdGF0ZU1hY2hpbmUgRmVhdHVyZSBFeHRlbnNpb25zXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQmVmb3JlVHJhbnNpdGlvbl0oXG4gICAgICAgIEBBX0luamVjdChBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24pIHRyYW5zaXRpb246IEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbixcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI/OiBBX0xvZ2dlcixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgdGhpcy5jaGVja1Njb3BlSW5oZXJpdGFuY2UoKTtcblxuICAgICAgICAvLyAgYW5kIHJlZ2lzdGVyIGFsbCBhbGxvd2VkIHN0YXR1cyB0cmFuc2l0aW9uc1xuICAgICAgICAvLyAgc3dpdGNoIGFjcm9zcyBhbGxvd2VkIHRyYW5zaXRpb25zLCBpZiBub3QgYWxsb3dlZCB0aHJvdyBhbiBlcnJvclxuICAgICAgICBsb2dnZXI/LmRlYnVnKCd5ZWxsb3cnLCBgQ29tbWFuZCAke3RoaXMuYXNlaWQudG9TdHJpbmcoKX0gdHJhbnNpdGlvbmluZyBmcm9tICR7dHJhbnNpdGlvbi5mcm9tfSB0byAke3RyYW5zaXRpb24udG99YCk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9Db21tYW5kVHJhbnNpdGlvbnMuQ1JFQVRFRF9UT19JTklUSUFMSVpFRF0oXG4gICAgICAgIEBBX0luamVjdChBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24pIHRyYW5zaXRpb246IEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXR1cyAhPT0gQV9Db21tYW5kX1N0YXR1cy5DUkVBVEVEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jcmVhdGVkQXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX0NvbW1hbmRfU3RhdHVzLklOSVRJQUxJWkVEO1xuXG4gICAgICAgIHRoaXMuZW1pdChBX0NvbW1hbmRFdmVudC5vbkluaXQpO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZFRyYW5zaXRpb25zLklOSVRJQUxJWkVEX1RPX0VYRUNVVElOR10oXG4gICAgICAgIEBBX0luamVjdChBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24pIHRyYW5zaXRpb246IEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXR1cyAhPT0gQV9Db21tYW5kX1N0YXR1cy5JTklUSUFMSVpFRFxuICAgICAgICAgICAgJiYgdGhpcy5fc3RhdHVzICE9PSBBX0NvbW1hbmRfU3RhdHVzLkNSRUFURURcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX0NvbW1hbmRfU3RhdHVzLkVYRUNVVElORztcblxuICAgICAgICB0aGlzLmVtaXQoQV9Db21tYW5kRXZlbnQub25FeGVjdXRlKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBjb21tYW5kIGNvbXBsZXRpb24gYWZ0ZXIgc3VjY2Vzc2Z1bCBleGVjdXRpb25cbiAgICAgKiBcbiAgICAgKiBFWEVDVVRJT04gLT4gQ09NUExFVEVEIHRyYW5zaXRpb25cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZFRyYW5zaXRpb25zLkVYRUNVVElOR19UT19DT01QTEVURURdKFxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uKSB0cmFuc2l0aW9uOiBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuX2VuZFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX0NvbW1hbmRfU3RhdHVzLkNPTVBMRVRFRDtcblxuICAgICAgICB0aGlzLmVtaXQoQV9Db21tYW5kRXZlbnQub25Db21wbGV0ZSk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgY29tbWFuZCBmYWlsdXJlIGR1cmluZyBleGVjdXRpb25cbiAgICAgKiBcbiAgICAgKiBFWEVDVVRJT04gLT4gRkFJTEVEIHRyYW5zaXRpb25cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZFRyYW5zaXRpb25zLkVYRUNVVElOR19UT19GQUlMRURdKFxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uKSB0cmFuc2l0aW9uOiBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24sXG4gICAgICAgIEBBX0luamVjdChBX0Vycm9yKSBlcnJvcjogQV9FcnJvcixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5fZW5kVGltZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgdGhpcy5fc3RhdHVzID0gQV9Db21tYW5kX1N0YXR1cy5GQUlMRUQ7XG5cbiAgICAgICAgdGhpcy5lbWl0KEFfQ29tbWFuZEV2ZW50Lm9uRmFpbCk7XG4gICAgfVxuXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEEtQ29tbWFuZCBMaWZlY3ljbGUgRmVhdHVyZSBFeHRlbnNpb25zXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBiZWhhdmlvciBmb3IgQ29tbWFuZCBJbml0aWFsaXphdGlvbiB1c2VzIFN0YXRlTWFjaGluZSB0byB0cmFuc2l0aW9uIHN0YXRlc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBbQV9Db21tYW5kRmVhdHVyZXMub25Jbml0XShcbiAgICAgICAgQEFfSW5qZWN0KEFfU3RhdGVNYWNoaW5lKSBzdGF0ZU1hY2hpbmU6IEFfU3RhdGVNYWNoaW5lLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCBzdGF0ZU1hY2hpbmUudHJhbnNpdGlvbihBX0NvbW1hbmRfU3RhdHVzLkNSRUFURUQsIEFfQ29tbWFuZF9TdGF0dXMuSU5JVElBTElaRUQpO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgYWZ0ZXI6IC8uKi9cbiAgICB9KVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9Db21tYW5kRmVhdHVyZXMub25CZWZvcmVFeGVjdXRlXShcbiAgICAgICAgQEFfRGVwZW5kZW5jeS5SZXF1aXJlZCgpXG4gICAgICAgIEBBX0luamVjdChBX1N0YXRlTWFjaGluZSkgc3RhdGVNYWNoaW5lOiBBX1N0YXRlTWFjaGluZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgc3RhdGVNYWNoaW5lLnRyYW5zaXRpb24oQV9Db21tYW5kX1N0YXR1cy5JTklUSUFMSVpFRCwgQV9Db21tYW5kX1N0YXR1cy5FWEVDVVRJTkcpO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZEZlYXR1cmVzLm9uRXhlY3V0ZV0oXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIEJ5IERlZmF1bHQgb24gQWZ0ZXJFeGVjdXRlIGNhbGxzIHRoZSBDb21wbGV0aW9uIG1ldGhvZCB0byBtYXJrIHRoZSBjb21tYW5kIGFzIGNvbXBsZXRlZFxuICAgICAqIFxuICAgICAqIFshXSBUaGlzIGNhbiBiZSBvdmVycmlkZGVuIHRvIGltcGxlbWVudCBjdXN0b20gYmVoYXZpb3IgdXNpbmcgQV9GZWF0dXJlIG92ZXJyaWRlc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBbQV9Db21tYW5kRmVhdHVyZXMub25BZnRlckV4ZWN1dGVdKFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgYWZ0ZXI6IC8uKi9cbiAgICB9KVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9Db21tYW5kRmVhdHVyZXMub25Db21wbGV0ZV0oXG4gICAgICAgIEBBX0luamVjdChBX1N0YXRlTWFjaGluZSkgc3RhdGVNYWNoaW5lOiBBX1N0YXRlTWFjaGluZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgc3RhdGVNYWNoaW5lLnRyYW5zaXRpb24oQV9Db21tYW5kX1N0YXR1cy5FWEVDVVRJTkcsIEFfQ29tbWFuZF9TdGF0dXMuQ09NUExFVEVEKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIGFmdGVyOiAvLiovXG4gICAgfSlcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZEZlYXR1cmVzLm9uRmFpbF0oXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmUpIHN0YXRlTWFjaGluZTogQV9TdGF0ZU1hY2hpbmUsXG4gICAgICAgIEBBX0luamVjdChBX0V4ZWN1dGlvbkNvbnRleHQpIG9wZXJhdGlvbjogQV9FeGVjdXRpb25Db250ZXh0PEFfQ29tbWFuZF9FeGVjdXRpb25Db250ZXh0PEludm9rZVR5cGUsIFJlc3VsdFR5cGU+PixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgc3RhdGVNYWNoaW5lLnRyYW5zaXRpb24oQV9Db21tYW5kX1N0YXR1cy5FWEVDVVRJTkcsIEFfQ29tbWFuZF9TdGF0dXMuRkFJTEVEKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEEtQ29tbWFuZCBMaWZlY3ljbGUgTWV0aG9kc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGNvbW1hbmQgYmVmb3JlIGV4ZWN1dGlvbi5cbiAgICAgKi9cbiAgICBhc3luYyBpbml0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9Db21tYW5kRmVhdHVyZXMub25Jbml0LCB0aGlzLnNjb3BlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY29tbWFuZCBsb2dpYy5cbiAgICAgKi9cbiAgICBhc3luYyBleGVjdXRlKCk6IFByb21pc2U8YW55PiB7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNQcm9jZXNzZWQpIHJldHVybjtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5jaGVja1Njb3BlSW5oZXJpdGFuY2UoKTtcblxuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBBX0V4ZWN1dGlvbkNvbnRleHQ8QV9Db21tYW5kX0V4ZWN1dGlvbkNvbnRleHQ8SW52b2tlVHlwZSwgUmVzdWx0VHlwZT4+KCdleGVjdXRlLWNvbW1hbmQnKTtcblxuICAgICAgICAgICAgdGhpcy5zY29wZS5yZWdpc3Rlcihjb250ZXh0KTtcblxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb25CZWZvcmVFeGVjdXRlRmVhdHVyZSA9IG5ldyBBX0ZlYXR1cmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogQV9Db21tYW5kRmVhdHVyZXMub25CZWZvcmVFeGVjdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6IHRoaXMuc2NvcGVcbiAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbkV4ZWN1dGVGZWF0dXJlID0gbmV3IEFfRmVhdHVyZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBBX0NvbW1hbmRGZWF0dXJlcy5vbkV4ZWN1dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZTogdGhpcy5zY29wZVxuICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9uQWZ0ZXJFeGVjdXRlRmVhdHVyZSA9IG5ldyBBX0ZlYXR1cmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogQV9Db21tYW5kRmVhdHVyZXMub25BZnRlckV4ZWN1dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZTogdGhpcy5zY29wZVxuICAgICAgICAgICAgICAgICAgICB9KVxuXG5cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uKEFfQ29tbWFuZEV2ZW50Lm9uQ29tcGxldGUsICgpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgb25CZWZvcmVFeGVjdXRlRmVhdHVyZS5pbnRlcnJ1cHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRXhlY3V0ZUZlYXR1cmUuaW50ZXJydXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkFmdGVyRXhlY3V0ZUZlYXR1cmUuaW50ZXJydXB0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbihBX0NvbW1hbmRFdmVudC5vbkZhaWwsICgpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgb25CZWZvcmVFeGVjdXRlRmVhdHVyZS5pbnRlcnJ1cHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRXhlY3V0ZUZlYXR1cmUuaW50ZXJydXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkFmdGVyRXhlY3V0ZUZlYXR1cmUuaW50ZXJydXB0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCh0aGlzLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBvbkJlZm9yZUV4ZWN1dGVGZWF0dXJlLnByb2Nlc3ModGhpcy5zY29wZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgb25FeGVjdXRlRmVhdHVyZS5wcm9jZXNzKHRoaXMuc2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG9uQWZ0ZXJFeGVjdXRlRmVhdHVyZS5wcm9jZXNzKHRoaXMuc2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKiBvbmx5IGluIGNhc2UgaXQgd2FzIHJlYWxseSBpbnZva2VkIHdlIGF1dG9tYXRpY2FsbHkgdHJhbnNpdCBpdCB0byBDT01QTEVURUQgc3RhdGUgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29yaWdpbiA9PT0gJ2ludm9rZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG5cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBsZXQgdGFyZ2V0RXJyb3IgPSBlcnJvciBpbnN0YW5jZW9mIEFfRXJyb3JcbiAgICAgICAgICAgICAgICA/IGVycm9yXG4gICAgICAgICAgICAgICAgOiBuZXcgQV9Db21tYW5kRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogQV9Db21tYW5kRXJyb3IuRXhlY3V0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZXhlY3V0aW5nIGNvbW1hbmQgXCIke3RoaXMuYXNlaWQudG9TdHJpbmcoKX1cIi5gLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmZhaWwodGFyZ2V0RXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFya3MgdGhlIGNvbW1hbmQgYXMgY29tcGxldGVkXG4gICAgICogXG4gICAgICogXG4gICAgICogQ2FsbGluZyBUaGlzIG1ldGhvZCB3aWxsIHNldCB0aGUgY29tbWFuZCBzdGF0dXMgdG8gQ09NUExFVEVELCByZWNvcmQgdGhlIGVuZCB0aW1lLFxuICAgICAqIHN0b3JlIHRoZSByZXN1bHQsIGVtaXQgdGhlIG9uQ29tcGxldGUgZXZlbnQsIGFuZCBkZXN0cm95IHRoZSBleGVjdXRpb24gc2NvcGUuXG4gICAgICpcbiAgICAgKiBbIV0gQWZ0ZXIgQ2FsbGluZyB0aGlzIG1ldGhvZCwgdGhlIGNvbW1hbmQgaXMgY29uc2lkZXJlZCBmdWxseSBwcm9jZXNzZWQgQW5kIGZ1cnRoZXIgcHJvY2Vzc2luZyB3aWxsIGJlIElOVEVSUlVQVEVELiBcbiAgICAgKiBbIV0gSWYgdGhlIGNvbW1hbmQgaXMgYWxyZWFkeSBwcm9jZXNzZWQgKENPTVBMRVRFRCBvciBGQUlMRUQpLCB0aGlzIG1ldGhvZCBkb2VzIG5vdGhpbmcuXG4gICAgICogWyFdIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgd2l0aCBvcHRpb25hbCByZXN1bHQgZGF0YSB0byBzdG9yZSB3aXRoIHRoZSBjb21tYW5kLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBPcHRpb25hbCByZXN1bHQgZGF0YSB0byBzdG9yZSB3aXRoIHRoZSBjb21tYW5kXG4gICAgICovXG4gICAgYXN5bmMgY29tcGxldGUocmVzdWx0PzogUmVzdWx0VHlwZSkge1xuICAgICAgICBpZiAodGhpcy5pc1Byb2Nlc3NlZCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IEFfQ29tbWFuZF9TdGF0dXMuQ09NUExFVEVEO1xuXG4gICAgICAgIHRoaXMuX3Jlc3VsdCA9IHJlc3VsdDtcblxuICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9Db21tYW5kRmVhdHVyZXMub25Db21wbGV0ZSwgdGhpcy5zY29wZSk7XG5cbiAgICAgICAgdGhpcy5zY29wZS5kZXN0cm95KCk7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIE1hcmtzIHRoZSBjb21tYW5kIGFzIGZhaWxlZFxuICAgICAqL1xuICAgIGFzeW5jIGZhaWwoZXJyb3I/OiBBX0Vycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLmlzUHJvY2Vzc2VkKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fc3RhdHVzID0gQV9Db21tYW5kX1N0YXR1cy5GQUlMRUQ7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICAgIHRoaXMuc2NvcGUucmVnaXN0ZXIoZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ29tbWFuZEZlYXR1cmVzLm9uRmFpbCwgdGhpcy5zY29wZSk7XG5cbiAgICAgICAgdGhpcy5zY29wZS5kZXN0cm95KCk7XG4gICAgfVxuXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgIFxuICAgIC8vIEEtQ29tbWFuZCBFdmVudC1FbWl0dGVyIG1ldGhvZHNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGFuIGV2ZW50IGxpc3RlbmVyIGZvciBhIHNwZWNpZmljIGV2ZW50XG4gICAgICogXG4gICAgICogQHBhcmFtIGV2ZW50IFxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBcbiAgICAgKi9cbiAgICBvbihldmVudDogTGlmZWN5Y2xlRXZlbnRzIHwgQV9Db21tYW5kRXZlbnQsIGxpc3RlbmVyOiBBX1RZUEVTX19Db21tYW5kX0xpc3RlbmVyPEludm9rZVR5cGUsIFJlc3VsdFR5cGUsIExpZmVjeWNsZUV2ZW50cz4pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9saXN0ZW5lcnMuaGFzKGV2ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnNldChldmVudCwgbmV3IFNldCgpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9saXN0ZW5lcnMuZ2V0KGV2ZW50KSEuYWRkKGxpc3RlbmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBldmVudCBsaXN0ZW5lciBmb3IgYSBzcGVjaWZpYyBldmVudFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBldmVudCBcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgXG4gICAgICovXG4gICAgb2ZmKGV2ZW50OiBMaWZlY3ljbGVFdmVudHMgfCBBX0NvbW1hbmRFdmVudCwgbGlzdGVuZXI6IEFfVFlQRVNfX0NvbW1hbmRfTGlzdGVuZXI8SW52b2tlVHlwZSwgUmVzdWx0VHlwZSwgTGlmZWN5Y2xlRXZlbnRzPikge1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMuZ2V0KGV2ZW50KT8uZGVsZXRlKGxpc3RlbmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdHMgYW4gZXZlbnQgdG8gYWxsIHJlZ2lzdGVyZWQgbGlzdGVuZXJzXG4gICAgICogXG4gICAgICogQHBhcmFtIGV2ZW50IFxuICAgICAqL1xuICAgIGVtaXQoZXZlbnQ6IExpZmVjeWNsZUV2ZW50cyB8IGtleW9mIHR5cGVvZiBBX0NvbW1hbmRFdmVudCkge1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMuZ2V0KGV2ZW50KT8uZm9yRWFjaChhc3luYyBsaXN0ZW5lciA9PiB7XG4gICAgICAgICAgICBsaXN0ZW5lcih0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEEtRW50aXR5IEJhc2UgQ2xhc3MgT3ZlcnJpZGVzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBTZXJpYWxpemF0aW9uIC8gRGVzZXJpYWxpemF0aW9uXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gY3JlYXRlIGEgQ29tbWFuZCBpbnN0YW5jZSBmcm9tIG5ldyBkYXRhXG4gICAgICogXG4gICAgICogQHBhcmFtIG5ld0VudGl0eSBcbiAgICAgKi9cbiAgICBmcm9tTmV3KG5ld0VudGl0eTogSW52b2tlVHlwZSk6IHZvaWQge1xuICAgICAgICBzdXBlci5mcm9tTmV3KG5ld0VudGl0eSk7XG5cbiAgICAgICAgdGhpcy5fb3JpZ2luID0gJ2ludm9rZWQnO1xuXG4gICAgICAgIHRoaXMuX2V4ZWN1dGlvblNjb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgbmFtZTogYEEtQ29tbWFuZC1FeGVjdXRpb24tU2NvcGUtJHt0aGlzLmFzZWlkLnRvU3RyaW5nKCl9YCxcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtBX1N0YXRlTWFjaGluZV0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2NyZWF0ZWRBdCA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgdGhpcy5fcGFyYW1zID0gbmV3RW50aXR5O1xuXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IEFfQ29tbWFuZF9TdGF0dXMuQ1JFQVRFRDtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGNvbnZlcnQgc2VyaWFsaXplZCBkYXRhIHRvIENvbW1hbmQgaW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBbIV0gQnkgZGVmYXVsdCBpdCBvbWl0cyBwYXJhbXMgYXMgdGhleSBhcmUgbm90IHN0b3JlZCBpbiB0aGUgc2VyaWFsaXplZCBkYXRhXG4gICAgICogXG4gICAgICogQHBhcmFtIHNlcmlhbGl6ZWQgXG4gICAgICovXG4gICAgZnJvbUpTT04oc2VyaWFsaXplZDogQV9UWVBFU19fQ29tbWFuZF9TZXJpYWxpemVkPEludm9rZVR5cGUsIFJlc3VsdFR5cGU+KTogdm9pZCB7XG4gICAgICAgIHN1cGVyLmZyb21KU09OKHNlcmlhbGl6ZWQpO1xuXG4gICAgICAgIHRoaXMuX29yaWdpbiA9ICdzZXJpYWxpemVkJztcblxuICAgICAgICB0aGlzLl9leGVjdXRpb25TY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6IGBBLUNvbW1hbmQtRXhlY3V0aW9uLVNjb3BlLSR7dGhpcy5hc2VpZC50b1N0cmluZygpfWAsXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbQV9TdGF0ZU1hY2hpbmVdLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc2VyaWFsaXplZC5jcmVhdGVkQXQpIHRoaXMuX2NyZWF0ZWRBdCA9IG5ldyBEYXRlKHNlcmlhbGl6ZWQuY3JlYXRlZEF0KTtcbiAgICAgICAgaWYgKHNlcmlhbGl6ZWQuc3RhcnRlZEF0KSB0aGlzLl9zdGFydFRpbWUgPSBuZXcgRGF0ZShzZXJpYWxpemVkLnN0YXJ0ZWRBdCk7XG4gICAgICAgIGlmIChzZXJpYWxpemVkLmVuZGVkQXQpIHRoaXMuX2VuZFRpbWUgPSBuZXcgRGF0ZShzZXJpYWxpemVkLmVuZGVkQXQpO1xuXG4gICAgICAgIHRoaXMuX3BhcmFtcyA9IHNlcmlhbGl6ZWQucGFyYW1zXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IHNlcmlhbGl6ZWQuc3RhdHVzO1xuXG4gICAgICAgIGlmIChzZXJpYWxpemVkLmVycm9yKVxuICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSBuZXcgQV9Db21tYW5kRXJyb3Ioc2VyaWFsaXplZC5lcnJvcilcblxuICAgICAgICBpZiAoc2VyaWFsaXplZC5yZXN1bHQpXG4gICAgICAgICAgICB0aGlzLl9yZXN1bHQgPSBzZXJpYWxpemVkLnJlc3VsdDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBDb21tYW5kIGluc3RhbmNlIHRvIGEgcGxhaW4gb2JqZWN0XG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgdG9KU09OKCk6IEFfVFlQRVNfX0NvbW1hbmRfU2VyaWFsaXplZDxJbnZva2VUeXBlLCBSZXN1bHRUeXBlPiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdXBlci50b0pTT04oKSxcbiAgICAgICAgICAgIGNvZGU6IHRoaXMuY29kZSxcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy5fc3RhdHVzLFxuICAgICAgICAgICAgcGFyYW1zOiB0aGlzLl9wYXJhbXMsXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IHRoaXMuX2NyZWF0ZWRBdC50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgc3RhcnRlZEF0OiB0aGlzLl9zdGFydFRpbWUgPyB0aGlzLl9zdGFydFRpbWUudG9JU09TdHJpbmcoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVuZGVkQXQ6IHRoaXMuX2VuZFRpbWUgPyB0aGlzLl9lbmRUaW1lLnRvSVNPU3RyaW5nKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbixcbiAgICAgICAgICAgIGlkbGVUaW1lOiB0aGlzLmlkbGVUaW1lLFxuICAgICAgICAgICAgcmVzdWx0OiB0aGlzLnJlc3VsdCxcbiAgICAgICAgICAgIGVycm9yOiB0aGlzLmVycm9yID8gdGhpcy5lcnJvci50b0pTT04oKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfVxuICAgIH07XG5cblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVycyBNZXRob2RzXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGUgY29tbWFuZCdzIGV4ZWN1dGlvbiBzY29wZSBpbmhlcml0cyBmcm9tIHRoZSBjb250ZXh0IHNjb3BlXG4gICAgICogXG4gICAgICogVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBjb21tYW5kIGlzIG5vdCBib3VuZCB0byBhbnkgY29udGV4dCBzY29wZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBjaGVja1Njb3BlSW5oZXJpdGFuY2UoKTogdm9pZCB7XG4gICAgICAgIGxldCBhdHRhY2hlZFNjb3BlOiBBX1Njb3BlO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhdHRhY2hlZFNjb3BlID0gQV9Db250ZXh0LnNjb3BlKHRoaXMpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29tbWFuZEVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9Db21tYW5kRXJyb3IuQ29tbWFuZFNjb3BlQmluZGluZ0Vycm9yLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQ29tbWFuZCAke3RoaXMuYXNlaWQudG9TdHJpbmcoKX0gaXMgbm90IGJvdW5kIHRvIGFueSBjb250ZXh0IHNjb3BlLiBFbnN1cmUgdGhlIGNvbW1hbmQgaXMgcHJvcGVybHkgcmVnaXN0ZXJlZCB3aXRoaW4gYSBjb250ZXh0IGJlZm9yZSBleGVjdXRpb24uYCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuc2NvcGUuaXNJbmhlcml0ZWRGcm9tKEFfQ29udGV4dC5zY29wZSh0aGlzKSkpIHtcbiAgICAgICAgICAgIHRoaXMuc2NvcGUuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IElmc3BvbHlmaWxsIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwudHlwZXNcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgQV9GU1BvbHlmaWxsQ2xhc3Mge1xuICAgIHByaXZhdGUgX2ZzITogSWZzcG9seWZpbGw7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuXG4gICAgfVxuXG4gICAgZ2V0IGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZDtcbiAgICB9XG5cblxuICAgIGFzeW5jIGdldCgpOiBQcm9taXNlPElmc3BvbHlmaWxsPiB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9mcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50PT09ICdzZXJ2ZXInKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0U2VydmVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdFNlcnZlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5fZnMgPSBhd2FpdCBpbXBvcnQoJ2ZzJykgYXMgSWZzcG9seWZpbGw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0QnJvd3NlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fZnMgPSB7XG4gICAgICAgICAgICByZWFkRmlsZVN5bmM6IChwYXRoOiBzdHJpbmcsIGVuY29kaW5nOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuaW5nKCdmcy5yZWFkRmlsZVN5bmMgbm90IGF2YWlsYWJsZSBpbiBicm93c2VyIGVudmlyb25tZW50Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4aXN0c1N5bmM6IChwYXRoOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuaW5nKCdmcy5leGlzdHNTeW5jIG5vdCBhdmFpbGFibGUgaW4gYnJvd3NlciBlbnZpcm9ubWVudCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVhdGVSZWFkU3RyZWFtOiAocGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnZnMuY3JlYXRlUmVhZFN0cmVhbSBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXIgZW52aXJvbm1lbnQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBJY3J5cHRvSW50ZXJmYWNlLCBJZnNwb2x5ZmlsbCB9IGZyb20gXCIuLi9BLVBvbHlmaWxsLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCIuLi8uLi9BLUxvZ2dlci9BLUxvZ2dlci5jb21wb25lbnRcIjtcblxuZXhwb3J0IGNsYXNzIEFfQ3J5cHRvUG9seWZpbGxDbGFzcyB7XG4gICAgcHJpdmF0ZSBfY3J5cHRvITogSWNyeXB0b0ludGVyZmFjZTtcbiAgICBwcml2YXRlIF9pbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2ZzUG9seWZpbGw/OiBJZnNwb2x5ZmlsbDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuICAgIH1cblxuICAgIGdldCBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0KGZzUG9seWZpbGw/OiBJZnNwb2x5ZmlsbCk6IFByb21pc2U8SWNyeXB0b0ludGVyZmFjZT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLl9mc1BvbHlmaWxsID0gZnNQb2x5ZmlsbDtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jcnlwdG87XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbml0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ3NlcnZlcicpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmluaXRTZXJ2ZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0QnJvd3NlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5pbml0QnJvd3NlcigpO1xuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbml0U2VydmVyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBjcnlwdG8gPSBhd2FpdCBpbXBvcnQoJ2NyeXB0bycpO1xuICAgICAgICB0aGlzLl9jcnlwdG8gPSB7XG4gICAgICAgICAgICBjcmVhdGVUZXh0SGFzaDogKHRleHQ6IHN0cmluZywgYWxnb3JpdGhtOiBzdHJpbmcgPSAnc2hhMzg0JykgPT4gUHJvbWlzZS5yZXNvbHZlKFxuICAgICAgICAgICAgICAgIGAke2FsZ29yaXRobX0tJHtjcnlwdG8uY3JlYXRlSGFzaChhbGdvcml0aG0pLnVwZGF0ZSh0ZXh0KS5kaWdlc3QoJ2Jhc2U2NCcpfWBcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBjcmVhdGVGaWxlSGFzaDogKGZpbGVQYXRoOiBzdHJpbmcsIGFsZ29yaXRobTogc3RyaW5nID0gJ3NoYTM4NCcpID0+IG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2ZzUG9seWZpbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRlMgcG9seWZpbGwgaXMgcmVxdWlyZWQgZm9yIGZpbGUgaGFzaGluZycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBjcnlwdG8uY3JlYXRlSGFzaChhbGdvcml0aG0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlU3RyZWFtID0gdGhpcy5fZnNQb2x5ZmlsbC5jcmVhdGVSZWFkU3RyZWFtKGZpbGVQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsZVN0cmVhbS5vbignZGF0YScsIChkYXRhOiBhbnkpID0+IGhhc2gudXBkYXRlKGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsZVN0cmVhbS5vbignZW5kJywgKCkgPT4gcmVzb2x2ZShgJHthbGdvcml0aG19LSR7aGFzaC5kaWdlc3QoJ2Jhc2U2NCcpfWApKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsZVN0cmVhbS5vbignZXJyb3InLCAoZXJyOiBhbnkpID0+IHJlamVjdChlcnIpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0QnJvd3NlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY3J5cHRvID0ge1xuICAgICAgICAgICAgY3JlYXRlRmlsZUhhc2g6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuaW5nKCdGaWxlIGhhc2ggbm90IGF2YWlsYWJsZSBpbiBicm93c2VyIGVudmlyb25tZW50Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3JlYXRlVGV4dEhhc2g6ICh0ZXh0OiBzdHJpbmcsIGFsZ29yaXRobTogc3RyaW5nID0gJ1NIQS0zODQnKSA9PiBuZXcgUHJvbWlzZTxzdHJpbmc+KGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNyeXB0by5zdWJ0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3VidGxlQ3J5cHRvIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBlbmNvZGVyLmVuY29kZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzaEJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KGFsZ29yaXRobSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc2hBcnJheSA9IEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkoaGFzaEJ1ZmZlcikpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNoQmFzZTY0ID0gYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLmhhc2hBcnJheSkpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGAke2FsZ29yaXRobX0tJHtoYXNoQmFzZTY0fWApO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBJaHR0cEludGVyZmFjZSB9IGZyb20gXCIuLi9BLVBvbHlmaWxsLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCIuLi8uLi9BLUxvZ2dlci9BLUxvZ2dlci5jb21wb25lbnRcIjtcblxuZXhwb3J0IGNsYXNzIEFfSHR0cFBvbHlmaWxsQ2xhc3Mge1xuICAgIHByaXZhdGUgX2h0dHAhOiBJaHR0cEludGVyZmFjZTtcbiAgICBwcml2YXRlIF9pbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByb3RlY3RlZCBsb2dnZXI6IEFfTG9nZ2VyXG4gICAgKSB7XG5cbiAgICB9XG5cbiAgICBnZXQgaXNJbml0aWFsaXplZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkO1xuICAgIH1cblxuICAgIGFzeW5jIGdldCgpOiBQcm9taXNlPElodHRwSW50ZXJmYWNlPiB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0U2VydmVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdFNlcnZlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgaHR0cE1vZHVsZSA9IGF3YWl0IGltcG9ydCgnaHR0cCcpO1xuICAgICAgICB0aGlzLl9odHRwID0ge1xuICAgICAgICAgICAgcmVxdWVzdDogaHR0cE1vZHVsZS5yZXF1ZXN0LFxuICAgICAgICAgICAgZ2V0OiBodHRwTW9kdWxlLmdldCxcbiAgICAgICAgICAgIGNyZWF0ZVNlcnZlcjogaHR0cE1vZHVsZS5jcmVhdGVTZXJ2ZXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRCcm93c2VyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9odHRwID0ge1xuICAgICAgICAgICAgcmVxdWVzdDogKG9wdGlvbnM6IGFueSwgY2FsbGJhY2s/OiAocmVzOiBhbnkpID0+IHZvaWQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuaW5nKCdodHRwLnJlcXVlc3Qgbm90IGF2YWlsYWJsZSBpbiBicm93c2VyL3Rlc3QgZW52aXJvbm1lbnQsIHVzZSBmZXRjaCBpbnN0ZWFkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlTW9ja1JlcXVlc3Qob3B0aW9ucywgY2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6ICh1cmw6IHN0cmluZyB8IGFueSwgY2FsbGJhY2s/OiAocmVzOiBhbnkpID0+IHZvaWQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuaW5nKCdodHRwLmdldCBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXIvdGVzdCBlbnZpcm9ubWVudCwgdXNlIGZldGNoIGluc3RlYWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVNb2NrUmVxdWVzdCh0eXBlb2YgdXJsID09PSAnc3RyaW5nJyA/IHsgaG9zdG5hbWU6IHVybCB9IDogdXJsLCBjYWxsYmFjaywgZmFsc2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNyZWF0ZVNlcnZlcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdodHRwLmNyZWF0ZVNlcnZlciBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXIvdGVzdCBlbnZpcm9ubWVudCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlTW9ja1JlcXVlc3Qob3B0aW9uczogYW55LCBjYWxsYmFjaz86IChyZXM6IGFueSkgPT4gdm9pZCwgaXNIdHRwczogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIC8vIFJldHVybiBhIG1vY2sgcmVxdWVzdCB0aGF0IGRvZXNuJ3QgbWFrZSByZWFsIG5ldHdvcmsgY2FsbHNcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgICAgIGVuZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIE1vY2sgcmVzcG9uc2UgZm9yIGFsbCBlbnZpcm9ubWVudHNcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9ja1Jlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbjogKGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAnZGF0YScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBoYW5kbGVyKCdtb2NrIGRhdGEnKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBoYW5kbGVyKCksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwaXBlOiAoZGVzdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3Qud3JpdGUpIGRlc3Qud3JpdGUoJ21vY2sgZGF0YScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXN0LmVuZCkgZGVzdC5lbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBjYWxsYmFjayhtb2NrUmVzcG9uc2UpLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd3JpdGU6IChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBNb2NrIHdyaXRlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb246IChldmVudDogc3RyaW5nLCBoYW5kbGVyOiBGdW5jdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIE1vY2sgZXZlbnQgaGFuZGxpbmdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBJaHR0cHNJbnRlcmZhY2UgfSBmcm9tIFwiLi4vQS1Qb2x5ZmlsbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBBX0h0dHBzUG9seWZpbGxDbGFzcyB7XG4gICAgcHJpdmF0ZSBfaHR0cHMhOiBJaHR0cHNJbnRlcmZhY2U7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuXG4gICAgfVxuXG4gICAgZ2V0IGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZDtcbiAgICB9XG5cbiAgICBhc3luYyBnZXQoKTogUHJvbWlzZTxJaHR0cHNJbnRlcmZhY2U+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2h0dHBzO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0U2VydmVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdFNlcnZlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgaHR0cHNNb2R1bGUgPSBhd2FpdCBpbXBvcnQoJ2h0dHBzJyk7XG4gICAgICAgIHRoaXMuX2h0dHBzID0ge1xuICAgICAgICAgICAgcmVxdWVzdDogaHR0cHNNb2R1bGUucmVxdWVzdCxcbiAgICAgICAgICAgIGdldDogaHR0cHNNb2R1bGUuZ2V0LFxuICAgICAgICAgICAgY3JlYXRlU2VydmVyOiBodHRwc01vZHVsZS5jcmVhdGVTZXJ2ZXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRCcm93c2VyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9odHRwcyA9IHtcbiAgICAgICAgICAgIHJlcXVlc3Q6IChvcHRpb25zOiBhbnksIGNhbGxiYWNrPzogKHJlczogYW55KSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnaHR0cHMucmVxdWVzdCBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXIvdGVzdCBlbnZpcm9ubWVudCwgdXNlIGZldGNoIGluc3RlYWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVNb2NrUmVxdWVzdChvcHRpb25zLCBjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiAodXJsOiBzdHJpbmcgfCBhbnksIGNhbGxiYWNrPzogKHJlczogYW55KSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnaHR0cHMuZ2V0IG5vdCBhdmFpbGFibGUgaW4gYnJvd3Nlci90ZXN0IGVudmlyb25tZW50LCB1c2UgZmV0Y2ggaW5zdGVhZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZU1vY2tSZXF1ZXN0KHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnID8geyBob3N0bmFtZTogdXJsIH0gOiB1cmwsIGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVhdGVTZXJ2ZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignaHR0cHMuY3JlYXRlU2VydmVyIG5vdCBhdmFpbGFibGUgaW4gYnJvd3Nlci90ZXN0IGVudmlyb25tZW50Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVNb2NrUmVxdWVzdChvcHRpb25zOiBhbnksIGNhbGxiYWNrPzogKHJlczogYW55KSA9PiB2b2lkLCBpc0h0dHBzOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICAvLyBSZXR1cm4gYSBtb2NrIHJlcXVlc3QgdGhhdCBkb2Vzbid0IG1ha2UgcmVhbCBuZXR3b3JrIGNhbGxzXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgICAgICBlbmQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBNb2NrIHJlc3BvbnNlIGZvciBhbGwgZW52aXJvbm1lbnRzXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb246IChldmVudDogc3RyaW5nLCBoYW5kbGVyOiBGdW5jdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2RhdGEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gaGFuZGxlcignbW9jayBkYXRhJyksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdlbmQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gaGFuZGxlcigpLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGlwZTogKGRlc3Q6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXN0LndyaXRlKSBkZXN0LndyaXRlKCdtb2NrIGRhdGEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVzdC5lbmQpIGRlc3QuZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gY2FsbGJhY2sobW9ja1Jlc3BvbnNlKSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdyaXRlOiAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTW9jayB3cml0ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uOiAoZXZlbnQ6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAvLyBNb2NrIGV2ZW50IGhhbmRsaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgSXBhdGhJbnRlcmZhY2UgfSBmcm9tIFwiLi4vQS1Qb2x5ZmlsbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBBX1BhdGhQb2x5ZmlsbENsYXNzIHtcbiAgICBwcml2YXRlIF9wYXRoITogSXBhdGhJbnRlcmZhY2U7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuXG4gICAgfVxuXG4gICAgZ2V0IGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZDtcbiAgICB9XG5cblxuICAgIGFzeW5jIGdldCgpOiBQcm9taXNlPElwYXRoSW50ZXJmYWNlPiB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXRoO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0U2VydmVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdFNlcnZlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5fcGF0aCA9IGF3YWl0IGltcG9ydCgncGF0aCcpIGFzIElwYXRoSW50ZXJmYWNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdEJyb3dzZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3BhdGggPSB7XG4gICAgICAgICAgICBqb2luOiAoLi4ucGF0aHM6IHN0cmluZ1tdKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdGhzLmpvaW4oJy8nKS5yZXBsYWNlKC9cXC8rL2csICcvJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzb2x2ZTogKC4uLnBhdGhzOiBzdHJpbmdbXSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCByZXNvbHZlZFBhdGggPSAnJztcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhdGggb2YgcGF0aHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGguc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZFBhdGggPSBwYXRoO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRQYXRoID0gdGhpcy5fcGF0aC5qb2luKHJlc29sdmVkUGF0aCwgcGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkUGF0aCB8fCAnLyc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlybmFtZTogKHBhdGg6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0cy5zbGljZSgwLCAtMSkuam9pbignLycpIHx8ICcvJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiYXNlbmFtZTogKHBhdGg6IHN0cmluZywgZXh0Pzogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZSA9IHBhdGguc3BsaXQoJy8nKS5wb3AoKSB8fCAnJztcbiAgICAgICAgICAgICAgICByZXR1cm4gZXh0ICYmIGJhc2UuZW5kc1dpdGgoZXh0KSA/IGJhc2Uuc2xpY2UoMCwgLWV4dC5sZW5ndGgpIDogYmFzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHRuYW1lOiAocGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnRzLmxlbmd0aCA+IDEgPyAnLicgKyBwYXJ0cy5wb3AoKSA6ICcnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbGF0aXZlOiAoZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gU2ltcGxpZmllZCByZWxhdGl2ZSBwYXRoIGNhbGN1bGF0aW9uXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvLnJlcGxhY2UoZnJvbSwgJycpLnJlcGxhY2UoL15cXC8vLCAnJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm9ybWFsaXplOiAocGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdGgucmVwbGFjZSgvXFwvKy9nLCAnLycpLnJlcGxhY2UoL1xcLyQvLCAnJykgfHwgJy8nO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzQWJzb2x1dGU6IChwYXRoOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF0aC5zdGFydHNXaXRoKCcvJykgfHwgL15bYS16QS1aXTovLnRlc3QocGF0aCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyc2U6IChwYXRoOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBleHQgPSB0aGlzLl9wYXRoLmV4dG5hbWUocGF0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMuX3BhdGguYmFzZW5hbWUocGF0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuX3BhdGguYmFzZW5hbWUocGF0aCwgZXh0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXIgPSB0aGlzLl9wYXRoLmRpcm5hbWUocGF0aCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcm9vdDogJy8nLCBkaXIsIGJhc2UsIGV4dCwgbmFtZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvcm1hdDogKHBhdGhPYmplY3Q6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXRoLmpvaW4ocGF0aE9iamVjdC5kaXIgfHwgJycsIHBhdGhPYmplY3QuYmFzZSB8fCAnJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VwOiAnLycsXG4gICAgICAgICAgICBkZWxpbWl0ZXI6ICc6J1xuICAgICAgICB9O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEl1cmxJbnRlcmZhY2UgfSBmcm9tIFwiLi4vQS1Qb2x5ZmlsbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBBX1VybFBvbHlmaWxsQ2xhc3Mge1xuICAgIHByaXZhdGUgX3VybCE6IEl1cmxJbnRlcmZhY2U7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGdldCBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByb3RlY3RlZCBsb2dnZXI6IEFfTG9nZ2VyXG4gICAgKSB7XG5cbiAgICB9XG5cbiAgICBhc3luYyBnZXQoKTogUHJvbWlzZTxJdXJsSW50ZXJmYWNlPiB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl91cmw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbml0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ3NlcnZlcicpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmluaXRTZXJ2ZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0QnJvd3NlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5pbml0QnJvd3NlcigpO1xuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbml0U2VydmVyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB1cmxNb2R1bGUgPSBhd2FpdCBpbXBvcnQoJ3VybCcpO1xuICAgICAgICB0aGlzLl91cmwgPSB7XG4gICAgICAgICAgICBwYXJzZTogdXJsTW9kdWxlLnBhcnNlLFxuICAgICAgICAgICAgZm9ybWF0OiB1cmxNb2R1bGUuZm9ybWF0LFxuICAgICAgICAgICAgcmVzb2x2ZTogdXJsTW9kdWxlLnJlc29sdmUsXG4gICAgICAgICAgICBVUkw6ICh1cmxNb2R1bGUuVVJMIHx8IGdsb2JhbFRoaXMuVVJMKSBhcyBhbnksXG4gICAgICAgICAgICBVUkxTZWFyY2hQYXJhbXM6ICh1cmxNb2R1bGUuVVJMU2VhcmNoUGFyYW1zIHx8IGdsb2JhbFRoaXMuVVJMU2VhcmNoUGFyYW1zKSBhcyBhbnlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRCcm93c2VyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl91cmwgPSB7XG4gICAgICAgICAgICBwYXJzZTogKHVybFN0cmluZzogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh1cmxTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdG9jb2w6IHVybC5wcm90b2NvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RuYW1lOiB1cmwuaG9zdG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3J0OiB1cmwucG9ydCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhuYW1lOiB1cmwucGF0aG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2g6IHVybC5zZWFyY2gsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNoOiB1cmwuaGFzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3Q6IHVybC5ob3N0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogdXJsLmhyZWZcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb3JtYXQ6ICh1cmxPYmplY3Q6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVVJMKCcnLCB1cmxPYmplY3QuaHJlZiB8fCBgJHt1cmxPYmplY3QucHJvdG9jb2x9Ly8ke3VybE9iamVjdC5ob3N0fSR7dXJsT2JqZWN0LnBhdGhuYW1lfSR7dXJsT2JqZWN0LnNlYXJjaH0ke3VybE9iamVjdC5oYXNofWApLmhyZWY7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzb2x2ZTogKGZyb206IHN0cmluZywgdG86IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVVJMKHRvLCBmcm9tKS5ocmVmO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFVSTDogZ2xvYmFsVGhpcy5VUkwsXG4gICAgICAgICAgICBVUkxTZWFyY2hQYXJhbXM6IGdsb2JhbFRoaXMuVVJMU2VhcmNoUGFyYW1zXG4gICAgICAgIH07XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgSWJ1ZmZlckludGVyZmFjZSB9IGZyb20gXCIuLi9BLVBvbHlmaWxsLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCIuLi8uLi9BLUxvZ2dlci9BLUxvZ2dlci5jb21wb25lbnRcIjtcblxuZXhwb3J0IGNsYXNzIEFfQnVmZmVyUG9seWZpbGxDbGFzcyB7XG4gICAgcHJpdmF0ZSBfYnVmZmVyITogSWJ1ZmZlckludGVyZmFjZTtcbiAgICBwcml2YXRlIF9pbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByb3RlY3RlZCBsb2dnZXI6IEFfTG9nZ2VyXG4gICAgKSB7XG5cbiAgICB9XG5cbiAgICBnZXQgaXNJbml0aWFsaXplZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkO1xuICAgIH1cblxuXG4gICAgYXN5bmMgZ2V0KCk6IFByb21pc2U8SWJ1ZmZlckludGVyZmFjZT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0U2VydmVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdFNlcnZlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgYnVmZmVyTW9kdWxlID0gYXdhaXQgaW1wb3J0KCdidWZmZXInKTtcbiAgICAgICAgdGhpcy5fYnVmZmVyID0ge1xuICAgICAgICAgICAgZnJvbTogYnVmZmVyTW9kdWxlLkJ1ZmZlci5mcm9tLFxuICAgICAgICAgICAgYWxsb2M6IGJ1ZmZlck1vZHVsZS5CdWZmZXIuYWxsb2MsXG4gICAgICAgICAgICBhbGxvY1Vuc2FmZTogYnVmZmVyTW9kdWxlLkJ1ZmZlci5hbGxvY1Vuc2FmZSxcbiAgICAgICAgICAgIGlzQnVmZmVyOiBidWZmZXJNb2R1bGUuQnVmZmVyLmlzQnVmZmVyLFxuICAgICAgICAgICAgY29uY2F0OiBidWZmZXJNb2R1bGUuQnVmZmVyLmNvbmNhdFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdEJyb3dzZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IHtcbiAgICAgICAgICAgIGZyb206IChkYXRhOiBhbnksIGVuY29kaW5nPzogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWxsb2M6IChzaXplOiBudW1iZXIsIGZpbGw/OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICAgICAgICAgICAgICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5maWxsKGZpbGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFsbG9jVW5zYWZlOiAoc2l6ZTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHNpemUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzQnVmZmVyOiAob2JqOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBvYmogaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25jYXQ6IChsaXN0OiBhbnlbXSwgdG90YWxMZW5ndGg/OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSB0b3RhbExlbmd0aCB8fCBsaXN0LnJlZHVjZSgoc3VtLCBidWYpID0+IHN1bSArIGJ1Zi5sZW5ndGgsIDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBidWYgb2YgbGlzdCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc2V0KGJ1Ziwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGJ1Zi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgSXByb2Nlc3NJbnRlcmZhY2UgfSBmcm9tIFwiLi4vQS1Qb2x5ZmlsbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBBX1Byb2Nlc3NQb2x5ZmlsbENsYXNzIHtcbiAgICBwcml2YXRlIF9wcm9jZXNzITogSXByb2Nlc3NJbnRlcmZhY2U7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGdldCBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByb3RlY3RlZCBsb2dnZXI6IEFfTG9nZ2VyXG4gICAgKSB7XG5cbiAgICB9XG5cbiAgICBhc3luYyBnZXQoKTogUHJvbWlzZTxJcHJvY2Vzc0ludGVyZmFjZT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRTZXJ2ZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSB7XG4gICAgICAgICAgICBlbnY6IHByb2Nlc3MuZW52IGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4gICAgICAgICAgICBhcmd2OiBwcm9jZXNzLmFyZ3YsXG4gICAgICAgICAgICBwbGF0Zm9ybTogcHJvY2Vzcy5wbGF0Zm9ybSxcbiAgICAgICAgICAgIHZlcnNpb246IHByb2Nlc3MudmVyc2lvbixcbiAgICAgICAgICAgIHZlcnNpb25zOiBwcm9jZXNzLnZlcnNpb25zIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4gICAgICAgICAgICBjd2Q6IHByb2Nlc3MuY3dkLFxuICAgICAgICAgICAgZXhpdDogcHJvY2Vzcy5leGl0LFxuICAgICAgICAgICAgbmV4dFRpY2s6IHByb2Nlc3MubmV4dFRpY2tcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRCcm93c2VyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9wcm9jZXNzID0ge1xuICAgICAgICAgICAgZW52OiB7XG4gICAgICAgICAgICAgICAgTk9ERV9FTlY6ICdicm93c2VyJyxcbiAgICAgICAgICAgICAgICAuLi4oKGdsb2JhbFRoaXMgYXMgYW55KS5wcm9jZXNzPy5lbnYgfHwge30pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXJndjogWydicm93c2VyJ10sXG4gICAgICAgICAgICBwbGF0Zm9ybTogJ2Jyb3dzZXInLFxuICAgICAgICAgICAgdmVyc2lvbjogJ2Jyb3dzZXInLFxuICAgICAgICAgICAgdmVyc2lvbnM6IHsgbm9kZTogJ2Jyb3dzZXInIH0sXG4gICAgICAgICAgICBjd2Q6ICgpID0+ICcvJyxcbiAgICAgICAgICAgIGV4aXQ6IChjb2RlPzogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygncHJvY2Vzcy5leGl0IG5vdCBhdmFpbGFibGUgaW4gYnJvd3NlcicpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvY2VzcyBleGl0IHdpdGggY29kZSAke2NvZGV9YCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmV4dFRpY2s6IChjYWxsYmFjazogRnVuY3Rpb24sIC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBjYWxsYmFjayguLi5hcmdzKSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbXBvbmVudCwgQV9Db25jZXB0LCBBX0NvbnRleHQsIEFfSW5qZWN0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQV9GU1BvbHlmaWxsQ2xhc3MgfSBmcm9tIFwiLi9jbGFzc2VzL0EtRlMtUG9seWZpbGwuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ3J5cHRvUG9seWZpbGxDbGFzcyB9IGZyb20gXCIuL2NsYXNzZXMvQS1DcnlwdG8tUG9seWZpbGwuY2xhc3NcIjtcbmltcG9ydCB7IEFfSHR0cFBvbHlmaWxsQ2xhc3MgfSBmcm9tIFwiLi9jbGFzc2VzL0EtSHR0cC1Qb2x5ZmlsbC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9IdHRwc1BvbHlmaWxsQ2xhc3MgfSBmcm9tIFwiLi9jbGFzc2VzL0EtSHR0cHMtUG9seWZpbGwuY2xhc3NcIjtcbmltcG9ydCB7IEFfUGF0aFBvbHlmaWxsQ2xhc3MgfSBmcm9tIFwiLi9jbGFzc2VzL0EtUGF0aC1Qb2x5ZmlsbC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9VcmxQb2x5ZmlsbENsYXNzIH0gZnJvbSBcIi4vY2xhc3Nlcy9BLVVybC1Qb2x5ZmlsbC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9CdWZmZXJQb2x5ZmlsbENsYXNzIH0gZnJvbSBcIi4vY2xhc3Nlcy9BLUJ1ZmZlci1Qb2x5ZmlsbC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Qcm9jZXNzUG9seWZpbGxDbGFzcyB9IGZyb20gXCIuL2NsYXNzZXMvQS1Qcm9jZXNzLVBvbHlmaWxsLmNsYXNzXCI7XG5cbmV4cG9ydCBjbGFzcyBBX1BvbHlmaWxsIGV4dGVuZHMgQV9Db21wb25lbnQge1xuXG4gICAgcHJvdGVjdGVkIF9mc1BvbHlmaWxsITogQV9GU1BvbHlmaWxsQ2xhc3M7XG4gICAgcHJvdGVjdGVkIF9jcnlwdG9Qb2x5ZmlsbCE6IEFfQ3J5cHRvUG9seWZpbGxDbGFzcztcbiAgICBwcm90ZWN0ZWQgX2h0dHBQb2x5ZmlsbCE6IEFfSHR0cFBvbHlmaWxsQ2xhc3M7XG4gICAgcHJvdGVjdGVkIF9odHRwc1BvbHlmaWxsITogQV9IdHRwc1BvbHlmaWxsQ2xhc3M7XG4gICAgcHJvdGVjdGVkIF9wYXRoUG9seWZpbGwhOiBBX1BhdGhQb2x5ZmlsbENsYXNzO1xuICAgIHByb3RlY3RlZCBfdXJsUG9seWZpbGwhOiBBX1VybFBvbHlmaWxsQ2xhc3M7XG4gICAgcHJvdGVjdGVkIF9idWZmZXJQb2x5ZmlsbCE6IEFfQnVmZmVyUG9seWZpbGxDbGFzcztcbiAgICBwcm90ZWN0ZWQgX3Byb2Nlc3NQb2x5ZmlsbCE6IEFfUHJvY2Vzc1BvbHlmaWxsQ2xhc3M7XG5cbiAgICBwcm90ZWN0ZWQgX2luaXRpYWxpemluZzogUHJvbWlzZTx2b2lkPiB8IG51bGwgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBjaGFubmVsIGlzIGNvbm5lY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfaW5pdGlhbGl6ZWQ/OiBQcm9taXNlPHZvaWQ+O1xuXG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBjaGFubmVsIGlzIGNvbm5lY3RlZFxuICAgICAqL1xuICAgIGdldCByZWFkeSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0aGlzLl9sb2FkSW50ZXJuYWwoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG5cblxuICAgIEBBX0NvbmNlcHQuTG9hZCgpXG4gICAgYXN5bmMgbG9hZCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcbiAgICB9XG5cbiAgICBAQV9Db25jZXB0LkxvYWQoKVxuICAgIGFzeW5jIGF0dGFjaFRvV2luZG93KCkge1xuICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ICE9PSAnYnJvd3NlcicpIHJldHVybjtcblxuXG4gICAgICAgIChnbG9iYWxUaGlzIGFzIGFueSkuQV9Qb2x5ZmlsbCA9IHRoaXM7XG4gICAgICAgIC8vIGF0dGFjaCBlbnYgdmFyaWFibGVzXG4gICAgICAgIChnbG9iYWxUaGlzIGFzIGFueSkucHJvY2VzcyA9IHsgZW52OiB7IE5PREVfRU5WOiAncHJvZHVjdGlvbicgfSwgY3dkOiAoKSA9PiBcIi9cIiB9O1xuICAgICAgICAoZ2xvYmFsVGhpcyBhcyBhbnkpLl9fZGlybmFtZSA9IFwiL1wiO1xuXG4gICAgfVxuXG5cbiAgICBwcm90ZWN0ZWQgYXN5bmMgX2xvYWRJbnRlcm5hbCgpIHtcblxuICAgICAgICB0aGlzLl9mc1BvbHlmaWxsID0gbmV3IEFfRlNQb2x5ZmlsbENsYXNzKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5fY3J5cHRvUG9seWZpbGwgPSBuZXcgQV9DcnlwdG9Qb2x5ZmlsbENsYXNzKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5faHR0cFBvbHlmaWxsID0gbmV3IEFfSHR0cFBvbHlmaWxsQ2xhc3ModGhpcy5sb2dnZXIpO1xuICAgICAgICB0aGlzLl9odHRwc1BvbHlmaWxsID0gbmV3IEFfSHR0cHNQb2x5ZmlsbENsYXNzKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5fcGF0aFBvbHlmaWxsID0gbmV3IEFfUGF0aFBvbHlmaWxsQ2xhc3ModGhpcy5sb2dnZXIpO1xuICAgICAgICB0aGlzLl91cmxQb2x5ZmlsbCA9IG5ldyBBX1VybFBvbHlmaWxsQ2xhc3ModGhpcy5sb2dnZXIpO1xuICAgICAgICB0aGlzLl9idWZmZXJQb2x5ZmlsbCA9IG5ldyBBX0J1ZmZlclBvbHlmaWxsQ2xhc3ModGhpcy5sb2dnZXIpO1xuICAgICAgICB0aGlzLl9wcm9jZXNzUG9seWZpbGwgPSBuZXcgQV9Qcm9jZXNzUG9seWZpbGxDbGFzcyh0aGlzLmxvZ2dlcik7XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBhbGwgcG9seWZpbGxzIHRvIGVuc3VyZSB0aGV5J3JlIHJlYWR5XG4gICAgICAgIGF3YWl0IHRoaXMuX2ZzUG9seWZpbGwuZ2V0KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuX2NyeXB0b1BvbHlmaWxsLmdldChhd2FpdCB0aGlzLl9mc1BvbHlmaWxsLmdldCgpKTtcbiAgICAgICAgYXdhaXQgdGhpcy5faHR0cFBvbHlmaWxsLmdldCgpO1xuICAgICAgICBhd2FpdCB0aGlzLl9odHRwc1BvbHlmaWxsLmdldCgpO1xuICAgICAgICBhd2FpdCB0aGlzLl9wYXRoUG9seWZpbGwuZ2V0KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuX3VybFBvbHlmaWxsLmdldCgpO1xuICAgICAgICBhd2FpdCB0aGlzLl9idWZmZXJQb2x5ZmlsbC5nZXQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fcHJvY2Vzc1BvbHlmaWxsLmdldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byB1c2UgdGhlICdmcycgcG9seWZpbGwgbWV0aG9kcyByZWdhcmRsZXNzIG9mIHRoZSBlbnZpcm9ubWVudFxuICAgICAqIFRoaXMgbWV0aG9kIGxvYWRzIHRoZSAnZnMnIHBvbHlmaWxsIGFuZCByZXR1cm5zIGl0cyBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIGZzKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5O1xuXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9mc1BvbHlmaWxsLmdldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byB1c2UgdGhlICdjcnlwdG8nIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ2NyeXB0bycgcG9seWZpbGwgYW5kIHJldHVybnMgaXRzIGluc3RhbmNlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgY3J5cHRvKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5O1xuXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9jcnlwdG9Qb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAnaHR0cCcgcG9seWZpbGwgbWV0aG9kcyByZWdhcmRsZXNzIG9mIHRoZSBlbnZpcm9ubWVudFxuICAgICAqIFRoaXMgbWV0aG9kIGxvYWRzIHRoZSAnaHR0cCcgcG9seWZpbGwgYW5kIHJldHVybnMgaXRzIGluc3RhbmNlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgaHR0cCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5faHR0cFBvbHlmaWxsLmdldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byB1c2UgdGhlICdodHRwcycgcG9seWZpbGwgbWV0aG9kcyByZWdhcmRsZXNzIG9mIHRoZSBlbnZpcm9ubWVudFxuICAgICAqIFRoaXMgbWV0aG9kIGxvYWRzIHRoZSAnaHR0cHMnIHBvbHlmaWxsIGFuZCByZXR1cm5zIGl0cyBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIGh0dHBzKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5O1xuXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9odHRwc1BvbHlmaWxsLmdldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byB1c2UgdGhlICdwYXRoJyBwb2x5ZmlsbCBtZXRob2RzIHJlZ2FyZGxlc3Mgb2YgdGhlIGVudmlyb25tZW50XG4gICAgICogVGhpcyBtZXRob2QgbG9hZHMgdGhlICdwYXRoJyBwb2x5ZmlsbCBhbmQgcmV0dXJucyBpdHMgaW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhc3luYyBwYXRoKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5O1xuXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9wYXRoUG9seWZpbGwuZ2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHVzZSB0aGUgJ3VybCcgcG9seWZpbGwgbWV0aG9kcyByZWdhcmRsZXNzIG9mIHRoZSBlbnZpcm9ubWVudFxuICAgICAqIFRoaXMgbWV0aG9kIGxvYWRzIHRoZSAndXJsJyBwb2x5ZmlsbCBhbmQgcmV0dXJucyBpdHMgaW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhc3luYyB1cmwoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3VybFBvbHlmaWxsLmdldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byB1c2UgdGhlICdidWZmZXInIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ2J1ZmZlcicgcG9seWZpbGwgYW5kIHJldHVybnMgaXRzIGluc3RhbmNlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgYnVmZmVyKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5O1xuXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9idWZmZXJQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAncHJvY2VzcycgcG9seWZpbGwgbWV0aG9kcyByZWdhcmRsZXNzIG9mIHRoZSBlbnZpcm9ubWVudFxuICAgICAqIFRoaXMgbWV0aG9kIGxvYWRzIHRoZSAncHJvY2VzcycgcG9seWZpbGwgYW5kIHJldHVybnMgaXRzIGluc3RhbmNlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgcHJvY2VzcygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fcHJvY2Vzc1BvbHlmaWxsLmdldCgpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQsIEFfQ29uY2VwdCwgQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFU19BUlJBWSwgQV9Db250YWluZXIsIEFfQ29udGV4dCwgQV9EZXBlbmRlbmN5LCBBX0ZlYXR1cmUsIEFfSW5qZWN0LCBBX1Njb3BlIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfQ29uZmlnIH0gZnJvbSBcIi4uL0EtQ29uZmlnLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfQ09OU1RBTlRTX19DT05GSUdfRU5WX1ZBUklBQkxFU19BUlJBWSB9IGZyb20gXCIuLi9BLUNvbmZpZy5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfUG9seWZpbGwgfSBmcm9tIFwiLi4vLi4vQS1Qb2x5ZmlsbC9BLVBvbHlmaWxsLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQV9NZW1vcnkgfSBmcm9tIFwiLi4vLi4vQS1NZW1vcnkvQS1NZW1vcnkuY29tcG9uZW50XCI7XG5cbi8qKlxuICogQ29uZmlnIFJlYWRlclxuICovXG5leHBvcnQgY2xhc3MgQ29uZmlnUmVhZGVyIGV4dGVuZHMgQV9Db21wb25lbnQge1xuXG4gICAgcHJvdGVjdGVkIERFRkFVTFRfQUxMT1dFRF9UT19SRUFEX1BST1BFUlRJRVMgPSBbXG4gICAgICAgIC4uLkFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVksXG4gICAgICAgIC4uLkFfQ09OU1RBTlRTX19DT05GSUdfRU5WX1ZBUklBQkxFU19BUlJBWVxuICAgIF07XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQEFfRGVwZW5kZW5jeS5SZXF1aXJlZCgpXG4gICAgICAgIEBBX0luamVjdChBX1BvbHlmaWxsKSBwcm90ZWN0ZWQgcG9seWZpbGw6IEFfUG9seWZpbGwsXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgQEFfQ29uY2VwdC5Mb2FkKClcbiAgICBhc3luYyBhdHRhY2hDb250ZXh0KFxuICAgICAgICBAQV9JbmplY3QoQV9Db250YWluZXIpIGNvbnRhaW5lcjogQV9Db250YWluZXIsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBjb250ZXh0OiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQV9Db25maWcpIGNvbmZpZz86IEFfQ29uZmlnPGFueT4sXG4gICAgKSB7XG4gICAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgICAgICBjb25maWcgPSBuZXcgQV9Db25maWcoe1xuICAgICAgICAgICAgICAgIGRlZmF1bHRzOiB7fVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5zY29wZS5yZWdpc3Rlcihjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgcm9vdERpciA9IGF3YWl0IHRoaXMuZ2V0UHJvamVjdFJvb3QoKTtcblxuICAgICAgICBjb25maWcuc2V0KCdBX0NPTkNFUFRfUk9PVF9GT0xERVInLCByb290RGlyKTtcbiAgICB9XG5cbiAgICBAQV9Db25jZXB0LkxvYWQoKVxuICAgIGFzeW5jIGluaXRpYWxpemUoXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9Db25maWcpIGNvbmZpZzogQV9Db25maWcsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnJlYWQoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICBjb25maWcuc2V0KGtleSwgZGF0YVtrZXldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29uZmlndXJhdGlvbiBwcm9wZXJ0eSBieSBOYW1lXG4gICAgICogQHBhcmFtIHByb3BlcnR5IFxuICAgICAqL1xuICAgIHJlc29sdmU8X1JldHVyblR5cGUgPSBhbnk+KHByb3BlcnR5OiBzdHJpbmcpOiBfUmV0dXJuVHlwZSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eSBhcyBfUmV0dXJuVHlwZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZWFkcyB0aGUgY29uZmlndXJhdGlvbiBhbmQgc2V0cyB0aGUgdmFsdWVzIHRvIHRoZSBjb250ZXh0XG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgcmVhZDxUIGV4dGVuZHMgc3RyaW5nPihcbiAgICAgICAgdmFyaWFibGVzOiBBcnJheTxUPiA9IFtdXG4gICAgKTogUHJvbWlzZTxSZWNvcmQ8VCwgYW55Pj4ge1xuICAgICAgICByZXR1cm4ge30gYXMgUmVjb3JkPFQsIGFueT47XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhlIHByb2plY3QgYnkgbG9jYXRpbmcgdGhlIGZvbGRlciBjb250YWluaW5nIHBhY2thZ2UuanNvblxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdGFydFBhdGggLSBUaGUgaW5pdGlhbCBkaXJlY3RvcnkgdG8gc3RhcnQgc2VhcmNoaW5nIGZyb20gKGRlZmF1bHQgaXMgX19kaXJuYW1lKVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gLSBUaGUgcGF0aCB0byB0aGUgcm9vdCBkaXJlY3Rvcnkgb3IgbnVsbCBpZiBwYWNrYWdlLmpzb24gaXMgbm90IGZvdW5kXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIGdldFByb2plY3RSb290KHN0YXJ0UGF0aCA9IF9fZGlybmFtZSkge1xuICAgICAgICBjb25zdCBwcm9jZXNzID0gYXdhaXQgdGhpcy5wb2x5ZmlsbC5wcm9jZXNzKCk7XG5cbiAgICAgICAgcmV0dXJuIHByb2Nlc3MuY3dkKCk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQsIEFfRm9ybWF0dGVySGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IENvbmZpZ1JlYWRlciB9IGZyb20gXCIuL0NvbmZpZ1JlYWRlci5jb21wb25lbnRcIjtcblxuZXhwb3J0IGNsYXNzIEZpbGVDb25maWdSZWFkZXIgZXh0ZW5kcyBDb25maWdSZWFkZXIge1xuXG4gICAgcHJpdmF0ZSBGaWxlRGF0YTogTWFwPHN0cmluZywgYW55PiA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbmZpZ3VyYXRpb24gcHJvcGVydHkgTmFtZVxuICAgICAqIEBwYXJhbSBwcm9wZXJ0eSBcbiAgICAgKi9cbiAgICBnZXRDb25maWd1cmF0aW9uUHJvcGVydHlfRmlsZV9BbGlhcyhwcm9wZXJ0eTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEFfRm9ybWF0dGVySGVscGVyLnRvQ2FtZWxDYXNlKHByb3BlcnR5KTtcbiAgICB9XG5cblxuICAgIHJlc29sdmU8X1JldHVyblR5cGUgPSBhbnk+KHByb3BlcnR5OiBzdHJpbmcpOiBfUmV0dXJuVHlwZSB7XG4gICAgICAgIHJldHVybiB0aGlzLkZpbGVEYXRhLmdldCh0aGlzLmdldENvbmZpZ3VyYXRpb25Qcm9wZXJ0eV9GaWxlX0FsaWFzKHByb3BlcnR5KSkgYXMgX1JldHVyblR5cGU7XG4gICAgfVxuXG5cbiAgICBhc3luYyByZWFkPFQgZXh0ZW5kcyBzdHJpbmc+KFxuICAgICAgICB2YXJpYWJsZXM/OiBBcnJheTxUPlxuICAgICk6IFByb21pc2U8UmVjb3JkPFQsIGFueT4+IHtcblxuICAgICAgICBjb25zdCBmcyA9IGF3YWl0IHRoaXMucG9seWZpbGwuZnMoKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhgJHtBX0NvbnRleHQuY29uY2VwdH0uY29uZi5qc29uYCwgJ3V0ZjgnKTtcblxuICAgICAgICAgICAgY29uc3QgY29uZmlnOiBSZWNvcmQ8VCwgYW55PiA9IEpTT04ucGFyc2UoZGF0YSk7XG5cbiAgICAgICAgICAgIHRoaXMuRmlsZURhdGEgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKGNvbmZpZykpO1xuXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyB0aGlzLmNvbnRleHQuTG9nZ2VyLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB7fSBhcyBSZWNvcmQ8VCwgYW55PjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBBX0NvbmNlcHQsIEFfRmVhdHVyZSwgQV9Gb3JtYXR0ZXJIZWxwZXIsIEFfSW5qZWN0LCBBX1RZUEVTX19Db25jZXB0RU5WVmFyaWFibGVzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IENvbmZpZ1JlYWRlciB9IGZyb20gXCIuL0NvbmZpZ1JlYWRlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfQ29uZmlnIH0gZnJvbSBcIi4uL0EtQ29uZmlnLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfUG9seWZpbGwgfSBmcm9tIFwiLi4vLi4vQS1Qb2x5ZmlsbC9BLVBvbHlmaWxsLmNvbXBvbmVudFwiO1xuXG5cbmV4cG9ydCBjbGFzcyBFTlZDb25maWdSZWFkZXIgZXh0ZW5kcyBDb25maWdSZWFkZXIge1xuXG5cbiAgICBAQV9Db25jZXB0LkxvYWQoe1xuICAgICAgICBiZWZvcmU6IFsnRU5WQ29uZmlnUmVhZGVyLmluaXRpYWxpemUnXVxuICAgIH0pXG4gICAgYXN5bmMgcmVhZEVudkZpbGUoXG4gICAgICAgIEBBX0luamVjdChBX0NvbmZpZykgY29uZmlnOiBBX0NvbmZpZzxBX1RZUEVTX19Db25jZXB0RU5WVmFyaWFibGVzPixcbiAgICAgICAgQEFfSW5qZWN0KEFfUG9seWZpbGwpIHBvbHlmaWxsOiBBX1BvbHlmaWxsLFxuICAgICAgICBAQV9JbmplY3QoQV9GZWF0dXJlKSBmZWF0dXJlOiBBX0ZlYXR1cmUsXG5cbiAgICApIHtcbiAgICAgICAgY29uc3QgZnMgPSBhd2FpdCBwb2x5ZmlsbC5mcygpO1xuXG4gICAgICAgIGlmIChmcy5leGlzdHNTeW5jKCcuZW52JykpXG4gICAgICAgICAgICBmcy5yZWFkRmlsZVN5bmMoYCR7Y29uZmlnLmdldCgnQV9DT05DRVBUX1JPT1RfRk9MREVSJyl9Ly5lbnZgLCAndXRmLTgnKS5zcGxpdCgnXFxuJykuZm9yRWFjaChsaW5lID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBsaW5lLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICAgICAgaWYgKGtleSAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudltrZXkudHJpbSgpXSA9IHZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29uZmlndXJhdGlvbiBwcm9wZXJ0eSBOYW1lIFxuICAgICAqIEBwYXJhbSBwcm9wZXJ0eSBcbiAgICAgKi9cbiAgICBnZXRDb25maWd1cmF0aW9uUHJvcGVydHlfRU5WX0FsaWFzKHByb3BlcnR5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gQV9Gb3JtYXR0ZXJIZWxwZXIudG9VcHBlclNuYWtlQ2FzZShwcm9wZXJ0eSk7XG4gICAgfVxuXG5cbiAgICByZXNvbHZlPF9SZXR1cm5UeXBlID0gYW55Pihwcm9wZXJ0eTogc3RyaW5nKTogX1JldHVyblR5cGUge1xuICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnZbdGhpcy5nZXRDb25maWd1cmF0aW9uUHJvcGVydHlfRU5WX0FsaWFzKHByb3BlcnR5KV0gYXMgX1JldHVyblR5cGU7XG4gICAgfVxuXG5cbiAgICBhc3luYyByZWFkPFQgZXh0ZW5kcyBzdHJpbmc+KHZhcmlhYmxlczogQXJyYXk8VD4gPSBbXSk6IFByb21pc2U8UmVjb3JkPFQsIGFueT4+IHtcbiAgICAgICAgY29uc3QgYWxsVmFyaWFibGVzID0gW1xuICAgICAgICAgICAgLi4udmFyaWFibGVzLFxuICAgICAgICAgICAgLi4uT2JqZWN0LmtleXMocHJvY2Vzcy5lbnYpLFxuICAgICAgICBdXG5cbiAgICAgICAgY29uc3QgY29uZmlnOiBSZWNvcmQ8VCwgYW55PiA9IHt9IGFzIFJlY29yZDxULCBhbnk+O1xuXG4gICAgICAgIGFsbFZhcmlhYmxlcy5mb3JFYWNoKHZhcmlhYmxlID0+IHtcbiAgICAgICAgICAgIGNvbmZpZ1t2YXJpYWJsZV0gPSB0aGlzLnJlc29sdmUodmFyaWFibGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn0gIiwgImltcG9ydCB7IEFfQ2FsbGVyLCBBX0NvbmNlcHQsIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVksIEFfQ29udGFpbmVyLCBBX0NvbnRleHQsIEFfRnJhZ21lbnQsIEFfSW5qZWN0LCBBX1Njb3BlLCBBX1Njb3BlRXJyb3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQ29uZmlnUmVhZGVyIH0gZnJvbSBcIi4vY29tcG9uZW50cy9Db25maWdSZWFkZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBX0NvbmZpZyB9IGZyb20gXCIuL0EtQ29uZmlnLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfUG9seWZpbGwgfSBmcm9tIFwiLi4vQS1Qb2x5ZmlsbC9BLVBvbHlmaWxsLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQV9Db25maWdFcnJvciB9IGZyb20gXCIuL0EtQ29uZmlnLmVycm9yXCI7XG5pbXBvcnQgeyBGaWxlQ29uZmlnUmVhZGVyIH0gZnJvbSBcIi4vY29tcG9uZW50cy9GaWxlQ29uZmlnUmVhZGVyLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgRU5WQ29uZmlnUmVhZGVyIH0gZnJvbSBcIi4vY29tcG9uZW50cy9FTlZDb25maWdSZWFkZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVkgfSBmcm9tIFwiLi9BLUNvbmZpZy5jb25zdGFudHNcIjtcblxuXG5leHBvcnQgY2xhc3MgQV9Db25maWdMb2FkZXIgZXh0ZW5kcyBBX0NvbnRhaW5lciB7XG5cbiAgICBwcml2YXRlIHJlYWRlciE6IENvbmZpZ1JlYWRlclxuXG5cbiAgICBAQV9Db25jZXB0LkxvYWQoe1xuICAgICAgICBiZWZvcmU6IC8uKi9cbiAgICB9KVxuICAgIGFzeW5jIHByZXBhcmUoXG4gICAgICAgIEBBX0luamVjdChBX1BvbHlmaWxsKSBwb2x5ZmlsbDogQV9Qb2x5ZmlsbFxuICAgICkge1xuICAgICAgICBpZiAoIXRoaXMuc2NvcGUuaGFzKEFfQ29uZmlnKSkge1xuICAgICAgICAgICAgY29uc3QgbmV3Q29uZmlnID0gbmV3IEFfQ29uZmlnKHtcbiAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgLi4uQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFU19BUlJBWSxcbiAgICAgICAgICAgICAgICAgICAgLi4uQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTX0FSUkFZXG4gICAgICAgICAgICAgICAgXSBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICBkZWZhdWx0czoge31cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnNjb3BlLnJlZ2lzdGVyPEFfRnJhZ21lbnQ+KG5ld0NvbmZpZyk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGNvbnN0IGZzID0gYXdhaXQgcG9seWZpbGwuZnMoKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlIEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ3NlcnZlcicgJiYgISFmcy5leGlzdHNTeW5jKGAke0FfQ29udGV4dC5jb25jZXB0fS5jb25mLmpzb25gKTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkZXIgPSB0aGlzLnNjb3BlLnJlc29sdmU8Q29uZmlnUmVhZGVyPihGaWxlQ29uZmlnUmVhZGVyKSE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInICYmICFmcy5leGlzdHNTeW5jKGAke0FfQ29udGV4dC5jb25jZXB0fS5jb25mLmpzb25gKTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkZXIgPSB0aGlzLnNjb3BlLnJlc29sdmU8Q29uZmlnUmVhZGVyPihFTlZDb25maWdSZWFkZXIpITtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ2Jyb3dzZXInOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRlciA9IHRoaXMuc2NvcGUucmVzb2x2ZTxDb25maWdSZWFkZXI+KEVOVkNvbmZpZ1JlYWRlcikhO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbmZpZ0Vycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgQV9Db25maWdFcnJvci5Jbml0aWFsaXphdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYEVudmlyb25tZW50ICR7QV9Db250ZXh0LmVudmlyb25tZW50fSBpcyBub3Qgc3VwcG9ydGVkYFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgQV9TY29wZUVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29uZmlnRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogQV9Db25maWdFcnJvci5Jbml0aWFsaXphdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEZhaWxlZCB0byBpbml0aWFsaXplIEFfQ29uZmlnTG9hZGVyLiBSZWFkZXIgbm90IGZvdW5kIGZvciBlbnZpcm9ubWVudCAke0FfQ29udGV4dC5lbnZpcm9ubWVudH1gLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX1RZUEVTX19Db25jZXB0RU5WVmFyaWFibGVzLCBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5cbmV4cG9ydCBlbnVtIEFfVFlQRVNfX0NvbmZpZ0ZlYXR1cmUge1xuXG59XG5cblxuZXhwb3J0IHR5cGUgQV9UWVBFU19fQ29uZmlnQ29udGFpbmVyQ29uc3RydWN0b3I8VCBleHRlbmRzICBBcnJheTxzdHJpbmcgfCBBX1RZUEVTX19Db25jZXB0RU5WVmFyaWFibGVzW251bWJlcl0+PiA9IHtcblxuICAgIC8qKlxuICAgICAqIElmIHNldCB0byB0cnVlLCB0aGUgU0RLIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIHZhcmlhYmxlIGlzIG5vdCBkZWZpbmVkIE9SIG5vdCBwcmVzZW50ZWQgaW4gdGhlIGRlZmF1bHRzXG4gICAgICovXG4gICAgc3RyaWN0OiBib29sZWFuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZGVmaW5lIHRoZSBuYW1lcyBvZiB2YXJpYWJsZSB0byBiZSBsb2FkZWRcbiAgICAgKi9cbiAgICB2YXJpYWJsZXM6IFRcblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBzZXQgdGhlIGRlZmF1bHQgdmFsdWVzIGZvciB0aGUgdmFyaWFibGVzXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgW2tleSBpbiBUW251bWJlcl1dPzogYW55XG4gICAgfVxufSAmIEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yO1xuIiwgIlxuXG5leHBvcnQgY29uc3QgQV9Mb2dnZXJFbnZWYXJpYWJsZXMgPSB7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbG9nIGxldmVsIGZvciB0aGUgbG9nZ2VyXG4gICAgICogXG4gICAgICogQGV4YW1wbGUgJ2RlYnVnJywgJ2luZm8nLCAnd2FybicsICdlcnJvcidcbiAgICAgKi9cbiAgICBBX0xPR0dFUl9MRVZFTDogJ0FfTE9HR0VSX0xFVkVMJyxcblxuICAgIC8qKiAgICAgXG4gICAgICogU2V0cyB0aGUgZGVmYXVsdCBzY29wZSBsZW5ndGggZm9yIGxvZyBtZXNzYWdlc1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlICdBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0xFTkdUSCdcbiAgICAgKi9cbiAgICBBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0xFTkdUSDogJ0FfTE9HR0VSX0RFRkFVTFRfU0NPUEVfTEVOR1RIJyxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGRlZmF1bHQgY29sb3IgZm9yIHNjb3BlIGRpc3BsYXkgaW4gbG9nIG1lc3NhZ2VzXG4gICAgICogXG4gICAgICogQGV4YW1wbGUgJ2dyZWVuJywgJ2JsdWUnLCAncmVkJywgJ3llbGxvdycsICdncmF5JywgJ21hZ2VudGEnLCAnY3lhbicsICd3aGl0ZScsICdwaW5rJ1xuICAgICAqL1xuICAgIEFfTE9HR0VSX0RFRkFVTFRfU0NPUEVfQ09MT1I6ICdBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0NPTE9SJyxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGRlZmF1bHQgY29sb3IgZm9yIGxvZyBtZXNzYWdlIGNvbnRlbnRcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZSAnZ3JlZW4nLCAnYmx1ZScsICdyZWQnLCAneWVsbG93JywgJ2dyYXknLCAnbWFnZW50YScsICdjeWFuJywgJ3doaXRlJywgJ3BpbmsnXG4gICAgICovXG4gICAgQV9MT0dHRVJfREVGQVVMVF9MT0dfQ09MT1I6ICdBX0xPR0dFUl9ERUZBVUxUX0xPR19DT0xPUicsXG59IGFzIGNvbnN0O1xuXG5cblxuZXhwb3J0IGNvbnN0IEFfTG9nZ2VyRW52VmFyaWFibGVzQXJyYXkgPSBbXG4gICAgQV9Mb2dnZXJFbnZWYXJpYWJsZXMuQV9MT0dHRVJfTEVWRUwsXG4gICAgQV9Mb2dnZXJFbnZWYXJpYWJsZXMuQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9MRU5HVEgsXG4gICAgQV9Mb2dnZXJFbnZWYXJpYWJsZXMuQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9DT0xPUixcbiAgICBBX0xvZ2dlckVudlZhcmlhYmxlcy5BX0xPR0dFUl9ERUZBVUxUX0xPR19DT0xPUixcbl0gYXMgY29uc3Q7XG5cblxuZXhwb3J0IHR5cGUgQV9Mb2dnZXJFbnZWYXJpYWJsZXNUeXBlID0gKHR5cGVvZiBBX0xvZ2dlckVudlZhcmlhYmxlcylba2V5b2YgdHlwZW9mIEFfTG9nZ2VyRW52VmFyaWFibGVzXVtdOyIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcblxuZXhwb3J0IGNsYXNzIEFfTWFuaWZlc3RFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IE1hbmlmZXN0SW5pdGlhbGl6YXRpb25FcnJvciA9ICdBLU1hbmlmZXN0IEluaXRpYWxpemF0aW9uIEVycm9yJztcblxufVxuIiwgImltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX01hbmlmZXN0IH0gZnJvbSBcIi4uL0EtTWFuaWZlc3QuY29udGV4dFwiO1xuaW1wb3J0IHsgQV9VVElMU19UWVBFU19fTWFuaWZlc3RfQWxsb3dlZENvbXBvbmVudHMgfSBmcm9tIFwiLi4vQS1NYW5pZmVzdC50eXBlc1wiO1xuXG4vKipcbiAqIEZsdWVudCBBUEkgZm9yIGNoZWNraW5nIG1hbmlmZXN0IHBlcm1pc3Npb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBBX01hbmlmZXN0Q2hlY2tlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgbWFuaWZlc3Q6IEFfTWFuaWZlc3QsXG4gICAgICAgIHByaXZhdGUgY29tcG9uZW50OiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IsXG4gICAgICAgIHByaXZhdGUgbWV0aG9kOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgY2hlY2tFeGNsdXNpb246IGJvb2xlYW4gPSBmYWxzZVxuICAgICkge31cblxuICAgIGZvcih0YXJnZXQ6IEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0X0FsbG93ZWRDb21wb25lbnRzKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMubWFuaWZlc3QuaW50ZXJuYWxfY2hlY2tBY2Nlc3Moe1xuICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgIG1ldGhvZDogdGhpcy5tZXRob2QsXG4gICAgICAgICAgICB0YXJnZXQ6IHRhcmdldFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jaGVja0V4Y2x1c2lvbiA/ICFyZXN1bHQgOiByZXN1bHQ7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbXBvbmVudCwgQV9GcmFnbWVudCwgQV9UeXBlR3VhcmRzLCBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9VVElMU19UWVBFU19fTWFuaWZlc3RfSW5pdCwgQV9VVElMU19UWVBFU19fTWFuaWZlc3RfQ29tcG9uZW50TGV2ZWxDb25maWcsIEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0X0FsbG93ZWRDb21wb25lbnRzLCBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdFJ1bGUsIEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0UXVlcnkgfSBmcm9tIFwiLi9BLU1hbmlmZXN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX01hbmlmZXN0RXJyb3IgfSBmcm9tIFwiLi9BLU1hbmlmZXN0LmVycm9yXCI7XG5pbXBvcnQgeyBBX01hbmlmZXN0Q2hlY2tlciB9IGZyb20gXCIuL2NsYXNzZXMvQS1NYW5pZmVzdENoZWNrZXIuY2xhc3NcIjtcblxuXG5cblxuXG5leHBvcnQgY2xhc3MgQV9NYW5pZmVzdCBleHRlbmRzIEFfRnJhZ21lbnQge1xuXG4gICAgcHJpdmF0ZSBydWxlczogQV9VVElMU19UWVBFU19fTWFuaWZlc3RSdWxlW10gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEEtTWFuaWZlc3QgaXMgYSBjb25maWd1cmF0aW9uIHNldCB0aGF0IGFsbG93cyB0byBpbmNsdWRlIG9yIGV4Y2x1ZGUgY29tcG9uZW50IGFwcGxpY2F0aW9uIGZvciB0aGUgcGFydGljdWxhciBtZXRob2RzLlxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGUsIGlmIEEtU2NvcGUgcHJvdmlkZXMgcG9seW1vcnBoaWMgQS1Db21wb25lbnQgdGhhdCBhcHBsaWVzIGZvciBBbGwgQS1FbnRpdGllcyBpbiBpdCBidXQgeW91IGhhdmUgYW5vdGhlciBjb21wb25lbnQgdGhhdCBzaG91bGQgYmUgdXNlZCBmb3Igb25seSBPbmUgcGFydGljdWxhciBFbnRpdHksIHlvdSBjYW4gdXNlIEEtTWFuaWZlc3QgdG8gc3BlY2lmeSB0aGlzIGJlaGF2aW9yLlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEJ5IGRlZmF1bHQgaWYgQ29tcG9uZW50IGlzIHByb3ZpZGVkIGluIHRoZSBzY29wZSAtIGl0IGFwcGxpZXMgZm9yIGFsbCBlbnRpdGllcyBpbiBpdC4gSG93ZXZlciwgaWYgeW91IHdhbnQgdG8gZXhjbHVkZSBzb21lIGVudGl0aWVzIG9yIGluY2x1ZGUgb25seSBzb21lIGVudGl0aWVzIGZvciB0aGUgcGFydGljdWxhciBjb21wb25lbnQgLSB5b3UgY2FuIHVzZSBBLU1hbmlmZXN0IHRvIGRlZmluZSB0aGlzIGJlaGF2aW9yLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb25maWcgLSBBcnJheSBvZiBjb21wb25lbnQgY29uZmlndXJhdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6IEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0X0luaXQgPSBbXSkge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiAnQS1NYW5pZmVzdCcsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucHJlcGFyZShjb25maWcpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU2hvdWxkIGNvbnZlcnQgcmVjZWl2ZWQgY29uZmlndXJhdGlvbiBpbnRvIGludGVybmFsIFJlZ2V4cCBhcHBsaWNhYmxlIGZvciBpbnRlcm5hbCBzdG9yYWdlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHByZXBhcmUoY29uZmlnOiBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdF9Jbml0KSB7XG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzQXJyYXkoY29uZmlnKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX01hbmlmZXN0RXJyb3IoXG4gICAgICAgICAgICAgICAgQV9NYW5pZmVzdEVycm9yLk1hbmlmZXN0SW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgQS1NYW5pZmVzdCBjb25maWd1cmF0aW9uIHNob3VsZCBiZSBhbiBhcnJheSBvZiBjb25maWd1cmF0aW9uc2BcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGNvbmZpZykge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzQ29uZmlnSXRlbShpdGVtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYSBzaW5nbGUgY29uZmlndXJhdGlvbiBpdGVtIGFuZCBjb252ZXJ0IGl0IHRvIGludGVybmFsIHJ1bGVzXG4gICAgICovXG4gICAgcHJpdmF0ZSBwcm9jZXNzQ29uZmlnSXRlbShpdGVtOiBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdF9Db21wb25lbnRMZXZlbENvbmZpZykge1xuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKGl0ZW0uY29tcG9uZW50KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX01hbmlmZXN0RXJyb3IoXG4gICAgICAgICAgICAgICAgQV9NYW5pZmVzdEVycm9yLk1hbmlmZXN0SW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgQS1NYW5pZmVzdCBjb25maWd1cmF0aW9uIGl0ZW0gc2hvdWxkIGJlIGEgQS1Db21wb25lbnQgY29uc3RydWN0b3JgXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFJlZ2V4ID0gdGhpcy5jb25zdHJ1Y3RvclRvUmVnZXgoaXRlbS5jb21wb25lbnQpO1xuXG4gICAgICAgIC8vIEFsd2F5cyBhZGQgY29tcG9uZW50LWxldmVsIHJ1bGUgZmlyc3QgKGFwcGxpZXMgdG8gYWxsIG1ldGhvZHMpXG4gICAgICAgIGlmIChpdGVtLmFwcGx5IHx8IGl0ZW0uZXhjbHVkZSkge1xuICAgICAgICAgICAgY29uc3QgbWV0aG9kUmVnZXggPSAvLiovOyAvLyBNYXRjaCBhbGwgbWV0aG9kc1xuXG4gICAgICAgICAgICB0aGlzLnJ1bGVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFJlZ2V4LFxuICAgICAgICAgICAgICAgIG1ldGhvZFJlZ2V4LFxuICAgICAgICAgICAgICAgIGFwcGx5UmVnZXg6IGl0ZW0uYXBwbHkgPyB0aGlzLmFsbG93ZWRDb21wb25lbnRzVG9SZWdleChpdGVtLmFwcGx5KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBleGNsdWRlUmVnZXg6IGl0ZW0uZXhjbHVkZSA/IHRoaXMuYWxsb3dlZENvbXBvbmVudHNUb1JlZ2V4KGl0ZW0uZXhjbHVkZSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZW4gYWRkIG1ldGhvZC1sZXZlbCBjb25maWd1cmF0aW9ucyAodGhlc2Ugd2lsbCBvdmVycmlkZSBjb21wb25lbnQtbGV2ZWwpXG4gICAgICAgIGlmIChpdGVtLm1ldGhvZHMgJiYgaXRlbS5tZXRob2RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWV0aG9kQ29uZmlnIG9mIGl0ZW0ubWV0aG9kcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGhvZFJlZ2V4ID0gdGhpcy5tZXRob2RUb1JlZ2V4KG1ldGhvZENvbmZpZy5tZXRob2QpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5ydWxlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50UmVnZXgsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZFJlZ2V4LFxuICAgICAgICAgICAgICAgICAgICBhcHBseVJlZ2V4OiBtZXRob2RDb25maWcuYXBwbHkgPyB0aGlzLmFsbG93ZWRDb21wb25lbnRzVG9SZWdleChtZXRob2RDb25maWcuYXBwbHkpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBleGNsdWRlUmVnZXg6IG1ldGhvZENvbmZpZy5leGNsdWRlID8gdGhpcy5hbGxvd2VkQ29tcG9uZW50c1RvUmVnZXgobWV0aG9kQ29uZmlnLmV4Y2x1ZGUpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSBjb25zdHJ1Y3RvciB0byBhIHJlZ2V4IHBhdHRlcm5cbiAgICAgKi9cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yVG9SZWdleChjdG9yOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IpOiBSZWdFeHAge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7dGhpcy5lc2NhcGVSZWdleChjdG9yLm5hbWUpfSRgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgbWV0aG9kIG5hbWUgb3IgcmVnZXggdG8gYSByZWdleCBwYXR0ZXJuXG4gICAgICovXG4gICAgcHJpdmF0ZSBtZXRob2RUb1JlZ2V4KG1ldGhvZDogc3RyaW5nIHwgUmVnRXhwKTogUmVnRXhwIHtcbiAgICAgICAgaWYgKG1ldGhvZCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7dGhpcy5lc2NhcGVSZWdleChtZXRob2QgYXMgc3RyaW5nKX0kYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhbGxvd2VkIGNvbXBvbmVudHMgYXJyYXkgb3IgcmVnZXggdG8gYSBzaW5nbGUgcmVnZXhcbiAgICAgKi9cbiAgICBwcml2YXRlIGFsbG93ZWRDb21wb25lbnRzVG9SZWdleChjb21wb25lbnRzOiBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdF9BbGxvd2VkQ29tcG9uZW50c1tdIHwgUmVnRXhwKTogUmVnRXhwIHtcbiAgICAgICAgaWYgKGNvbXBvbmVudHMgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF0dGVybnMgPSBjb21wb25lbnRzLm1hcChjdG9yID0+IHRoaXMuZXNjYXBlUmVnZXgoY3Rvci5uYW1lKSk7XG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKGBeKCR7cGF0dGVybnMuam9pbignfCcpfSkkYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXNjYXBlIHNwZWNpYWwgcmVnZXggY2hhcmFjdGVycyBpbiBhIHN0cmluZ1xuICAgICAqL1xuICAgIHByaXZhdGUgZXNjYXBlUmVnZXgoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbmZpZ0l0ZW1Ub1JlZ2V4cChpdGVtOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IpOiBSZWdFeHAge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RvclRvUmVnZXgoaXRlbSk7XG4gICAgfVxuXG5cbiAgICBwcm90ZWN0ZWQgSUQoY29tcG9uZW50OiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IsIG1ldGhvZDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBgJHtjb21wb25lbnQubmFtZX0uJHttZXRob2R9YDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIGNvbXBvbmVudCBhbmQgbWV0aG9kIGNvbWJpbmF0aW9uIGlzIGFsbG93ZWQgZm9yIGEgdGFyZ2V0XG4gICAgICovXG4gICAgaXNBbGxvd2VkPFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgICAgIGN0b3I6IFQgfCBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8VD4sXG4gICAgICAgIG1ldGhvZDogc3RyaW5nXG4gICAgKTogQV9NYW5pZmVzdENoZWNrZXIge1xuICAgICAgICBjb25zdCBjb21wb25lbnRDdG9yID0gdHlwZW9mIGN0b3IgPT09ICdmdW5jdGlvbicgPyBjdG9yIDogY3Rvci5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I7XG4gICAgICAgIHJldHVybiBuZXcgQV9NYW5pZmVzdENoZWNrZXIodGhpcywgY29tcG9uZW50Q3RvciwgbWV0aG9kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtZXRob2QgdG8gY2hlY2sgaWYgYWNjZXNzIGlzIGFsbG93ZWRcbiAgICAgKi9cbiAgICBpbnRlcm5hbF9jaGVja0FjY2VzcyhxdWVyeTogQV9VVElMU19UWVBFU19fTWFuaWZlc3RRdWVyeSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gcXVlcnkuY29tcG9uZW50Lm5hbWU7XG4gICAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBxdWVyeS5tZXRob2Q7XG4gICAgICAgIGNvbnN0IHRhcmdldE5hbWUgPSBxdWVyeS50YXJnZXQubmFtZTtcblxuICAgICAgICAvLyBGaW5kIG1hdGNoaW5nIHJ1bGVzLCBzb3J0ZWQgYnkgc3BlY2lmaWNpdHkgKG1ldGhvZC1zcGVjaWZpYyBydWxlcyBmaXJzdClcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdSdWxlcyA9IHRoaXMucnVsZXNcbiAgICAgICAgICAgIC5maWx0ZXIocnVsZSA9PlxuICAgICAgICAgICAgICAgIHJ1bGUuY29tcG9uZW50UmVnZXgudGVzdChjb21wb25lbnROYW1lKSAmJlxuICAgICAgICAgICAgICAgIHJ1bGUubWV0aG9kUmVnZXgudGVzdChtZXRob2ROYW1lKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBNZXRob2Qtc3BlY2lmaWMgcnVsZXMgKG5vdCAuKiBwYXR0ZXJuKSBzaG91bGQgY29tZSBiZWZvcmUgZ2VuZXJhbCBydWxlc1xuICAgICAgICAgICAgICAgIGNvbnN0IGFJc0dlbmVyYWwgPSBhLm1ldGhvZFJlZ2V4LnNvdXJjZSA9PT0gJy4qJztcbiAgICAgICAgICAgICAgICBjb25zdCBiSXNHZW5lcmFsID0gYi5tZXRob2RSZWdleC5zb3VyY2UgPT09ICcuKic7XG5cbiAgICAgICAgICAgICAgICBpZiAoYUlzR2VuZXJhbCAmJiAhYklzR2VuZXJhbCkgcmV0dXJuIDE7ICAvLyBiIGNvbWVzIGZpcnN0XG4gICAgICAgICAgICAgICAgaWYgKCFhSXNHZW5lcmFsICYmIGJJc0dlbmVyYWwpIHJldHVybiAtMTsgLy8gYSBjb21lcyBmaXJzdFxuICAgICAgICAgICAgICAgIHJldHVybiAwOyAvLyBzYW1lIHByaW9yaXR5XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBJZiBubyBydWxlcyBtYXRjaCwgYWxsb3cgYnkgZGVmYXVsdFxuICAgICAgICBpZiAobWF0Y2hpbmdSdWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJvY2VzcyBydWxlcyBpbiBvcmRlciBvZiBzcGVjaWZpY2l0eSAobW9zdCBzcGVjaWZpYyBmaXJzdClcbiAgICAgICAgZm9yIChjb25zdCBydWxlIG9mIG1hdGNoaW5nUnVsZXMpIHtcbiAgICAgICAgICAgIC8vIElmIHRoaXMgcnVsZSBoYXMgYW4gZXhjbHVzaW9uIHRoYXQgbWF0Y2hlcywgZGVueSBhY2Nlc3NcbiAgICAgICAgICAgIGlmIChydWxlLmV4Y2x1ZGVSZWdleCAmJiBydWxlLmV4Y2x1ZGVSZWdleC50ZXN0KHRhcmdldE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB0aGlzIHJ1bGUgaGFzIGFuIGFwcGx5IGxpc3QsIGNoZWNrIGlmIHRhcmdldCBpcyBpbiBpdFxuICAgICAgICAgICAgaWYgKHJ1bGUuYXBwbHlSZWdleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBydWxlLmFwcGx5UmVnZXgudGVzdCh0YXJnZXROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHdlIGhhdmUgcnVsZXMgYnV0IG5vIHNwZWNpZmljIGFwcGx5L2V4Y2x1ZGUsIGFsbG93IGJ5IGRlZmF1bHRcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaXNFeGNsdWRlZDxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgICAgICBjdG9yOiBUIHwgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+LFxuICAgICAgICBtZXRob2Q6IHN0cmluZ1xuICAgICk6IEFfTWFuaWZlc3RDaGVja2VyIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50Q3RvciA9IHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nID8gY3RvciA6IGN0b3IuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gbmV3IEFfTWFuaWZlc3RDaGVja2VyKHRoaXMsIGNvbXBvbmVudEN0b3IsIG1ldGhvZCwgdHJ1ZSk7XG4gICAgfVxufVxuIiwgIlxuXG5leHBvcnQgZW51bSBBX01lbW9yeUZlYXR1cmVzIHtcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIGluaXRpYWxpemF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uSW5pdCA9ICdfQV9NZW1vcnlfb25Jbml0JyxcblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgZGVzdHJ1Y3Rpb24gbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25EZXN0cm95ID0gJ19BX01lbW9yeV9vbkRlc3Ryb3knLFxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBleHBpcmF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uRXhwaXJlID0gJ19BX01lbW9yeV9vbkV4cGlyZScsXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIGVycm9yIGhhbmRsaW5nIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uRXJyb3IgPSAnX0FfTWVtb3J5X29uRXJyb3InLFxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBzZXJpYWxpemF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uU2VyaWFsaXplID0gJ19BX01lbW9yeV9vblNlcmlhbGl6ZScsXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIHNldCBvcGVyYXRpb24gbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25TZXQgPSAnX0FfTWVtb3J5X29uU2V0JyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIGdldCBvcGVyYXRpb24gbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25HZXQgPSAnX0FfTWVtb3J5X29uR2V0JyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIGRyb3Agb3BlcmF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uRHJvcCA9ICdfQV9NZW1vcnlfb25Ecm9wJyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIGNsZWFyIG9wZXJhdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkNsZWFyID0gJ19BX01lbW9yeV9vbkNsZWFyJyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIGhhcyBvcGVyYXRpb24gbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25IYXMgPSAnX0FfTWVtb3J5X29uSGFzJyxcbn0iLCAiaW1wb3J0IHsgQV9FcnJvciwgQV9GcmFnbWVudCwgQV9UWVBFU19fRnJhZ21lbnRfU2VyaWFsaXplZCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBlcnJvciB9IGZyb20gXCJjb25zb2xlXCI7XG5cblxuXG5cbmV4cG9ydCBjbGFzcyBBX01lbW9yeUNvbnRleHQ8XG4gICAgX01lbW9yeVR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PixcbiAgICBfU2VyaWFsaXplZFR5cGUgZXh0ZW5kcyBBX1RZUEVTX19GcmFnbWVudF9TZXJpYWxpemVkID0gQV9UWVBFU19fRnJhZ21lbnRfU2VyaWFsaXplZFxuPiBleHRlbmRzIEFfRnJhZ21lbnQge1xuICAgIHByb3RlY3RlZCBfc3RvcmFnZTogTWFwPGtleW9mIF9NZW1vcnlUeXBlLCBfTWVtb3J5VHlwZVtrZXlvZiBfTWVtb3J5VHlwZV0+ID0gbmV3IE1hcCgpO1xuXG4gICAgc2V0PEsgZXh0ZW5kcyBrZXlvZiBfTWVtb3J5VHlwZT4ocGFyYW06IEssIHZhbHVlOiBfTWVtb3J5VHlwZVtLXSk6IHZvaWQge1xuICAgICAgICB0aGlzLl9zdG9yYWdlLnNldChwYXJhbSwgdmFsdWUpO1xuICAgIH1cblxuXG4gICAgZ2V0PEsgZXh0ZW5kcyBrZXlvZiBfTWVtb3J5VHlwZT4ocGFyYW06IEspOiBfTWVtb3J5VHlwZVtLXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdG9yYWdlLmdldChwYXJhbSk7XG4gICAgfVxuXG5cbiAgICBkZWxldGU8SyBleHRlbmRzIGtleW9mIF9NZW1vcnlUeXBlPihwYXJhbTogSyk6IHZvaWQge1xuICAgICAgICB0aGlzLl9zdG9yYWdlLmRlbGV0ZShwYXJhbSk7XG4gICAgfVxuXG5cbiAgICBoYXM8SyBleHRlbmRzIGtleW9mIF9NZW1vcnlUeXBlPihwYXJhbTogSyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RvcmFnZS5oYXMocGFyYW0pO1xuICAgIH1cblxuICAgIGNsZWFyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9zdG9yYWdlLmNsZWFyKCk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcblxuXG5leHBvcnQgY2xhc3MgQV9NZW1vcnlFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IE1lbW9yeUluaXRpYWxpemF0aW9uRXJyb3IgPSAnTWVtb3J5IGluaXRpYWxpemF0aW9uIGVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBNZW1vcnlEZXN0cnVjdGlvbkVycm9yID0gJ01lbW9yeSBkZXN0cnVjdGlvbiBlcnJvcic7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWVtb3J5R2V0RXJyb3IgPSAnTWVtb3J5IEdFVCBvcGVyYXRpb24gZmFpbGVkJztcblxuICAgIHN0YXRpYyByZWFkb25seSBNZW1vcnlTZXRFcnJvciA9ICdNZW1vcnkgU0VUIG9wZXJhdGlvbiBmYWlsZWQnO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IE1lbW9yeURyb3BFcnJvciA9ICdNZW1vcnkgRFJPUCBvcGVyYXRpb24gZmFpbGVkJztcblxuICAgIHN0YXRpYyByZWFkb25seSBNZW1vcnlDbGVhckVycm9yID0gJ01lbW9yeSBDTEVBUiBvcGVyYXRpb24gZmFpbGVkJztcblxuICAgIHN0YXRpYyByZWFkb25seSBNZW1vcnlIYXNFcnJvciA9ICdNZW1vcnkgSEFTIG9wZXJhdGlvbiBmYWlsZWQnO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IE1lbW9yeVNlcmlhbGl6ZUVycm9yID0gJ01lbW9yeSB0b0pTT04gb3BlcmF0aW9uIGZhaWxlZCc7XG59XG4iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQsIEFfSW5qZWN0LCBBX1Njb3BlLCBBX0ZlYXR1cmUsIEFfRGVwZW5kZW5jeSwgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfTWVtb3J5RmVhdHVyZXMgfSBmcm9tIFwiLi9BLU1lbW9yeS5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfTWVtb3J5Q29udGV4dCB9IGZyb20gXCIuL0EtTWVtb3J5LmNvbnRleHRcIjtcbmltcG9ydCB7IEFfTWVtb3J5RXJyb3IgfSBmcm9tIFwiLi9BLU1lbW9yeS5lcnJvclwiO1xuaW1wb3J0IHsgQV9PcGVyYXRpb25Db250ZXh0IH0gZnJvbSBcIi4uL0EtT3BlcmF0aW9uL0EtT3BlcmF0aW9uLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfTWVtb3J5T3BlcmF0aW9uQ29udGV4dCB9IGZyb20gXCIuL0EtTWVtb3J5LnR5cGVzXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfTWVtb3J5PFxuICAgIF9TdG9yYWdlVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgIF9TZXJpYWxpemVkVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGV4dGVuZHMgQV9Db21wb25lbnQge1xuXG4gICAgcHJvdGVjdGVkIF9yZWFkeT86IFByb21pc2U8dm9pZD5cblxuXG4gICAgZ2V0IHJlYWR5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIXRoaXMuX3JlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLl9yZWFkeSA9IHRoaXMuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWFkeTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PUEtTWVtb3J5IExpZmVjeWNsZSBIb29rcz09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGVycm9ycyBkdXJpbmcgbWVtb3J5IG9wZXJhdGlvbnNcbiAgICAgKi9cbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vbkVycm9yXSguLi5hcmdzOiBhbnlbXSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBIYW5kbGUgZXJyb3JcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBtZW1vcnkgZXhwaXJhdGlvblxuICAgICAqL1xuICAgIGFzeW5jIFtBX01lbW9yeUZlYXR1cmVzLm9uRXhwaXJlXSguLi5hcmdzOiBhbnlbXSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBDbGVhciBtZW1vcnkgb24gZXhwaXJlXG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBtZW1vcnkgY29udGV4dFxuICAgICAqL1xuICAgIGFzeW5jIFtBX01lbW9yeUZlYXR1cmVzLm9uSW5pdF0oXG4gICAgICAgIEBBX0luamVjdChBX01lbW9yeUNvbnRleHQpIGNvbnRleHQ6IEFfTWVtb3J5Q29udGV4dDxfU3RvcmFnZVR5cGU+LFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBJbml0aWFsaXplIG1lbW9yeVxuICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSBuZXcgQV9NZW1vcnlDb250ZXh0PF9TdG9yYWdlVHlwZT4oKTtcbiAgICAgICAgICAgIEFfQ29udGV4dC5zY29wZSh0aGlzKS5yZWdpc3Rlcihjb250ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vbkRlc3Ryb3ldKFxuICAgICAgICBAQV9JbmplY3QoQV9NZW1vcnlDb250ZXh0KSBjb250ZXh0OiBBX01lbW9yeUNvbnRleHQ8X1N0b3JhZ2VUeXBlPixcbiAgICAgICAgLi4uYXJnczogYW55W10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gQ2xlYW51cCBtZW1vcnlcbiAgICAgICAgY29udGV4dC5jbGVhcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlICdnZXQnIG9wZXJhdGlvbiBmb3IgcmV0cmlldmluZyBhIHZhbHVlIGZyb20gbWVtb3J5XG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIGFzeW5jIFtBX01lbW9yeUZlYXR1cmVzLm9uR2V0XShcbiAgICAgICAgQEFfRGVwZW5kZW5jeS5SZXF1aXJlZCgpXG4gICAgICAgIEBBX0luamVjdChBX09wZXJhdGlvbkNvbnRleHQpIG9wZXJhdGlvbjogQV9NZW1vcnlPcGVyYXRpb25Db250ZXh0LFxuICAgICAgICBAQV9JbmplY3QoQV9NZW1vcnlDb250ZXh0KSBjb250ZXh0OiBBX01lbW9yeUNvbnRleHQ8X1N0b3JhZ2VUeXBlPixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSGFuZGxlIGdldCBvcGVyYXRpb25cbiAgICAgICAgb3BlcmF0aW9uLnN1Y2NlZWQoY29udGV4dC5nZXQob3BlcmF0aW9uLnBhcmFtcy5rZXkpKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgJ2hhcycgb3BlcmF0aW9uIGZvciBjaGVja2luZyBleGlzdGVuY2Ugb2YgYSBrZXkgaW4gbWVtb3J5XG4gICAgICovXG4gICAgYXN5bmMgW0FfTWVtb3J5RmVhdHVyZXMub25IYXNdKFxuICAgICAgICBAQV9EZXBlbmRlbmN5LlJlcXVpcmVkKClcbiAgICAgICAgQEFfSW5qZWN0KEFfT3BlcmF0aW9uQ29udGV4dCkgb3BlcmF0aW9uOiBBX01lbW9yeU9wZXJhdGlvbkNvbnRleHQ8Ym9vbGVhbj4sXG4gICAgICAgIEBBX0luamVjdChBX01lbW9yeUNvbnRleHQpIGNvbnRleHQ6IEFfTWVtb3J5Q29udGV4dDxfU3RvcmFnZVR5cGU+LFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBIYW5kbGUgaGFzIG9wZXJhdGlvblxuICAgICAgICBvcGVyYXRpb24uc3VjY2VlZChjb250ZXh0LmhhcyhvcGVyYXRpb24ucGFyYW1zLmtleSkpO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSAnc2V0JyBvcGVyYXRpb24gZm9yIHNhdmluZyBhIHZhbHVlIGluIG1lbW9yeVxuICAgICAqL1xuICAgIGFzeW5jIFtBX01lbW9yeUZlYXR1cmVzLm9uU2V0XShcbiAgICAgICAgQEFfRGVwZW5kZW5jeS5SZXF1aXJlZCgpXG4gICAgICAgIEBBX0luamVjdChBX09wZXJhdGlvbkNvbnRleHQpIG9wZXJhdGlvbjogQV9NZW1vcnlPcGVyYXRpb25Db250ZXh0LFxuICAgICAgICBAQV9JbmplY3QoQV9NZW1vcnlDb250ZXh0KSBjb250ZXh0OiBBX01lbW9yeUNvbnRleHQ8X1N0b3JhZ2VUeXBlPixcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBIYW5kbGUgc2V0IG9wZXJhdGlvblxuICAgICAgICBjb250ZXh0LnNldChvcGVyYXRpb24ucGFyYW1zLmtleSwgb3BlcmF0aW9uLnBhcmFtcy52YWx1ZSk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlICdkcm9wJyBvcGVyYXRpb24gZm9yIHJlbW92aW5nIGEgdmFsdWUgZnJvbSBtZW1vcnlcbiAgICAgKi9cbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vbkRyb3BdKFxuICAgICAgICBAQV9EZXBlbmRlbmN5LlJlcXVpcmVkKClcbiAgICAgICAgQEFfSW5qZWN0KEFfT3BlcmF0aW9uQ29udGV4dCkgb3BlcmF0aW9uOiBBX01lbW9yeU9wZXJhdGlvbkNvbnRleHQsXG4gICAgICAgIEBBX0luamVjdChBX01lbW9yeUNvbnRleHQpIGNvbnRleHQ6IEFfTWVtb3J5Q29udGV4dDxfU3RvcmFnZVR5cGU+LFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBIYW5kbGUgZHJvcCBvcGVyYXRpb25cbiAgICAgICAgY29udGV4dC5kZWxldGUob3BlcmF0aW9uLnBhcmFtcy5rZXkpO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSAnY2xlYXInIG9wZXJhdGlvbiBmb3IgY2xlYXJpbmcgYWxsIHZhbHVlcyBmcm9tIG1lbW9yeVxuICAgICAqL1xuICAgIGFzeW5jIFtBX01lbW9yeUZlYXR1cmVzLm9uQ2xlYXJdKFxuICAgICAgICBAQV9EZXBlbmRlbmN5LlJlcXVpcmVkKClcbiAgICAgICAgQEFfSW5qZWN0KEFfT3BlcmF0aW9uQ29udGV4dCkgb3BlcmF0aW9uOiBBX01lbW9yeU9wZXJhdGlvbkNvbnRleHQsXG4gICAgICAgIEBBX0luamVjdChBX01lbW9yeUNvbnRleHQpIGNvbnRleHQ6IEFfTWVtb3J5Q29udGV4dDxfU3RvcmFnZVR5cGU+LFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBIYW5kbGUgY2xlYXIgb3BlcmF0aW9uXG4gICAgICAgIGNvbnRleHQuY2xlYXIoKTtcbiAgICB9XG5cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1BLU1lbW9yeSBNZXRob2RzPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgbWVtb3J5IGNvbnRleHRcbiAgICAgKi9cbiAgICBhc3luYyBpbml0KCkge1xuICAgICAgICBpZiAodGhpcy5fcmVhZHkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVhZHk7XG5cbiAgICAgICAgY29uc3Qgc2NvcGUgPSBuZXcgQV9TY29wZSh7IG5hbWU6ICdBLU1lbW9yeS1Jbml0LVNjb3BlJyB9KVxuICAgICAgICAgICAgLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25Jbml0LCBzY29wZSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGluaXRFcnJvciA9IG5ldyBBX01lbW9yeUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9NZW1vcnlFcnJvci5NZW1vcnlJbml0aWFsaXphdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIG1lbW9yeSBpbml0aWFsaXphdGlvbicsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKGluaXRFcnJvcik7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uRXJyb3IsIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyBpbml0RXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgbWVtb3J5IGNvbnRleHRcbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHJlc3BvbnNpYmxlIGZvciBjbGVhbmluZyB1cCBhbnkgcmVzb3VyY2VzXG4gICAgICogdXNlZCBieSB0aGUgbWVtb3J5IGNvbnRleHQgYW5kIHJlc2V0dGluZyBpdHMgc3RhdGUuXG4gICAgICovXG4gICAgYXN5bmMgZGVzdHJveSgpIHtcblxuICAgICAgICBjb25zdCBzY29wZSA9IG5ldyBBX1Njb3BlKHsgbmFtZTogJ0EtTWVtb3J5LURlc3Ryb3ktU2NvcGUnIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9yZWFkeSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25EZXN0cm95LCBzY29wZSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc3Ryb3lFcnJvciA9IG5ldyBBX01lbW9yeUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9NZW1vcnlFcnJvci5NZW1vcnlEZXN0cnVjdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIG1lbW9yeSBkZXN0cnVjdGlvbicsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKGRlc3Ryb3lFcnJvcik7XG5cblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25FcnJvciwgc2NvcGUpO1xuXG4gICAgICAgICAgICBzY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHRocm93IGRlc3Ryb3lFcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAgKiBSZXRyaWV2ZXMgYSB2YWx1ZSBmcm9tIHRoZSBjb250ZXh0IG1lbW9yeVxuICAgICAgKiBcbiAgICAgICogQHBhcmFtIGtleSAtIG1lbW9yeSBrZXkgdG8gcmV0cmlldmVcbiAgICAgICogQHJldHVybnMgLSB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggdGhlIGtleSBvciB1bmRlZmluZWQgaWYgbm90IGZvdW5kXG4gICAgICAqL1xuICAgIGFzeW5jIGdldDxLIGV4dGVuZHMga2V5b2YgX1N0b3JhZ2VUeXBlPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtleSB0byByZXRyaWV2ZSB0aGUgdmFsdWUgZm9yXG4gICAgICAgICAqL1xuICAgICAgICBrZXk6IEtcbiAgICApOiBQcm9taXNlPF9TdG9yYWdlVHlwZVtLXSB8IHVuZGVmaW5lZD4ge1xuXG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IG5ldyBBX09wZXJhdGlvbkNvbnRleHQoJ2dldCcsIHsga2V5IH0pO1xuXG4gICAgICAgIGNvbnN0IHNjb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgbmFtZTogJ0EtTWVtb3J5LUdldC1PcGVyYXRpb24tU2NvcGUnLFxuICAgICAgICAgICAgZnJhZ21lbnRzOiBbb3BlcmF0aW9uXVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkdldCwgc2NvcGUpO1xuXG4gICAgICAgICAgICBzY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvcGVyYXRpb24ucmVzdWx0O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBnZXRFcnJvciA9IG5ldyBBX01lbW9yeUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9NZW1vcnlFcnJvci5NZW1vcnlHZXRFcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGdldHRpbmcgdGhlIHZhbHVlIGZvciBrZXkgXCIke1N0cmluZyhrZXkpfVwiYCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKGdldEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25FcnJvciwgc2NvcGUpO1xuXG4gICAgICAgICAgICBzY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHRocm93IGdldEVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgdmFsdWUgZXhpc3RzIGluIHRoZSBjb250ZXh0IG1lbW9yeVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXkgLSBtZW1vcnkga2V5IHRvIGNoZWNrXG4gICAgICogQHJldHVybnMgLSB0cnVlIGlmIGtleSBleGlzdHMsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGFzeW5jIGhhcyhrZXk6IGtleW9mIF9TdG9yYWdlVHlwZSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBuZXcgQV9PcGVyYXRpb25Db250ZXh0KCdoYXMnLCB7IGtleSB9KTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6ICdBLU1lbW9yeS1IYXMtT3BlcmF0aW9uLVNjb3BlJyxcbiAgICAgICAgICAgIGZyYWdtZW50czogW29wZXJhdGlvbl1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25IYXMsIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb3BlcmF0aW9uLnJlc3VsdDtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZ2V0RXJyb3IgPSBuZXcgQV9NZW1vcnlFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfTWVtb3J5RXJyb3IuTWVtb3J5SGFzRXJyb3IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBjaGVja2luZyBleGlzdGVuY2UgZm9yIGtleSBcIiR7U3RyaW5nKGtleSl9XCJgLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2NvcGUucmVnaXN0ZXIoZ2V0RXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkVycm9yLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgZ2V0RXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYXZlcyBhIHZhbHVlIGluIHRoZSBjb250ZXh0IG1lbW9yeVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXkgXG4gICAgICogQHBhcmFtIHZhbHVlIFxuICAgICAqL1xuICAgIGFzeW5jIHNldDxLIGV4dGVuZHMga2V5b2YgX1N0b3JhZ2VUeXBlPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtleSB0byBzYXZlIHRoZSB2YWx1ZSB1bmRlclxuICAgICAgICAgKi9cbiAgICAgICAga2V5OiBLLFxuICAgICAgICAvKipcbiAgICAgICAgICogVmFsdWUgdG8gc2F2ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFsdWU6IF9TdG9yYWdlVHlwZVtLXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBuZXcgQV9PcGVyYXRpb25Db250ZXh0KCdzZXQnLCB7IGtleSwgdmFsdWUgfSk7XG5cbiAgICAgICAgY29uc3Qgc2NvcGUgPSBuZXcgQV9TY29wZSh7XG4gICAgICAgICAgICBuYW1lOiAnQS1NZW1vcnktU2V0LU9wZXJhdGlvbi1TY29wZScsXG4gICAgICAgICAgICBmcmFnbWVudHM6IFtvcGVyYXRpb25dXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uU2V0LCBzY29wZSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHNldEVycm9yID0gbmV3IEFfTWVtb3J5RXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBBX01lbW9yeUVycm9yLk1lbW9yeVNldEVycm9yLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgc2V0dGluZyB0aGUgdmFsdWUgZm9yIGtleSBcIiR7U3RyaW5nKGtleSl9XCJgLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2NvcGUucmVnaXN0ZXIoc2V0RXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkVycm9yLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgc2V0RXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSB2YWx1ZSBmcm9tIHRoZSBjb250ZXh0IG1lbW9yeSBieSBrZXlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ga2V5IFxuICAgICAqL1xuICAgIGFzeW5jIGRyb3Aoa2V5OiBrZXlvZiBfU3RvcmFnZVR5cGUpOiBQcm9taXNlPHZvaWQ+IHtcblxuICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBuZXcgQV9PcGVyYXRpb25Db250ZXh0KCdkcm9wJywgeyBrZXkgfSk7XG5cbiAgICAgICAgY29uc3Qgc2NvcGUgPSBuZXcgQV9TY29wZSh7XG4gICAgICAgICAgICBuYW1lOiAnQS1NZW1vcnktRHJvcC1PcGVyYXRpb24tU2NvcGUnLFxuICAgICAgICAgICAgZnJhZ21lbnRzOiBbb3BlcmF0aW9uXVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkRyb3AsIHNjb3BlKTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZHJvcEVycm9yID0gbmV3IEFfTWVtb3J5RXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBBX01lbW9yeUVycm9yLk1lbW9yeURyb3BFcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGRyb3BwaW5nIHRoZSB2YWx1ZSBmb3Iga2V5IFwiJHtTdHJpbmcoa2V5KX1cImAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzY29wZS5yZWdpc3Rlcihkcm9wRXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkVycm9yLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgZHJvcEVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBzdG9yZWQgdmFsdWVzIGluIHRoZSBjb250ZXh0IG1lbW9yeVxuICAgICAqL1xuICAgIGFzeW5jIGNsZWFyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBuZXcgQV9PcGVyYXRpb25Db250ZXh0KCdjbGVhcicpO1xuXG4gICAgICAgIGNvbnN0IHNjb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgbmFtZTogJ0EtTWVtb3J5LUNsZWFyLU9wZXJhdGlvbi1TY29wZScsXG4gICAgICAgICAgICBmcmFnbWVudHM6IFtvcGVyYXRpb25dXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uQ2xlYXIsIHNjb3BlKTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgY2xlYXJFcnJvciA9IG5ldyBBX01lbW9yeUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9NZW1vcnlFcnJvci5NZW1vcnlDbGVhckVycm9yLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY2xlYXJpbmcgdGhlIG1lbW9yeWAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzY29wZS5yZWdpc3RlcihjbGVhckVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25FcnJvciwgc2NvcGUpO1xuXG4gICAgICAgICAgICBzY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHRocm93IGNsZWFyRXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIG1lbW9yeSBjb250ZXh0IHRvIGEgSlNPTiBvYmplY3RcbiAgICAgKiAgXG4gICAgICogQHJldHVybnMgLSBzZXJpYWxpemVkIG1lbW9yeSBvYmplY3QgXG4gICAgICovXG4gICAgYXN5bmMgdG9KU09OKCk6IFByb21pc2U8X1NlcmlhbGl6ZWRUeXBlPiB7XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IG5ldyBBX09wZXJhdGlvbkNvbnRleHQoJ3NlcmlhbGl6ZScpO1xuXG4gICAgICAgIGNvbnN0IHNjb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgbmFtZTogJ0EtTWVtb3J5LVNlcmlhbGl6ZS1PcGVyYXRpb24tU2NvcGUnLFxuICAgICAgICAgICAgZnJhZ21lbnRzOiBbb3BlcmF0aW9uXVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vblNlcmlhbGl6ZSwgc2NvcGUpO1xuXG4gICAgICAgICAgICByZXR1cm4gb3BlcmF0aW9uLnJlc3VsdCBhcyBfU2VyaWFsaXplZFR5cGU7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZUVycm9yID0gbmV3IEFfTWVtb3J5RXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBBX01lbW9yeUVycm9yLk1lbW9yeVNlcmlhbGl6ZUVycm9yLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgc2VyaWFsaXppbmcgdGhlIG1lbW9yeWAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzY29wZS5yZWdpc3RlcihzZXJpYWxpemVFcnJvcik7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uRXJyb3IsIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyBzZXJpYWxpemVFcnJvcjtcbiAgICAgICAgfVxuXG4gICAgfVxufSIsICJleHBvcnQgZW51bSBBX1NlcnZpY2VGZWF0dXJlcyB7XG5cbiAgICBvbkJlZm9yZUxvYWQgPSAnX0FfU2VydmljZV9vbkJlZm9yZUxvYWQnLFxuICAgIG9uTG9hZCA9ICdfQV9TZXJ2aWNlX29uTG9hZCcsXG4gICAgb25BZnRlckxvYWQgPSAnX0FfU2VydmljZV9vbkFmdGVyTG9hZCcsXG5cbiAgICBvbkJlZm9yZVN0YXJ0ID0gJ19BX1NlcnZpY2Vfb25CZWZvcmVTdGFydCcsXG4gICAgb25TdGFydCA9ICdfQV9TZXJ2aWNlX29uU3RhcnQnLFxuICAgIG9uQWZ0ZXJTdGFydCA9ICdfQV9TZXJ2aWNlX29uQWZ0ZXJTdGFydCcsXG5cbiAgICBvbkJlZm9yZVN0b3AgPSAnX0FfU2VydmljZV9vbkJlZm9yZVN0b3AnLFxuICAgIG9uU3RvcCA9ICdfQV9TZXJ2aWNlX29uU3RvcCcsXG4gICAgb25BZnRlclN0b3AgPSAnX0FfU2VydmljZV9vbkFmdGVyU3RvcCcsXG5cblxuICAgIG9uRXJyb3IgPSAnX0FfU2VydmljZV9vbkVycm9yJyxcbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9TZXJ2aWNlX0Vycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgU2VydmljZUxvYWRFcnJvciA9ICdTZXJ2aWNlIGxvYWQgZXJyb3InO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IFNlcnZpY2VTdGFydEVycm9yID0gJ1NlcnZpY2Ugc3RhcnQgZXJyb3InO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IFNlcnZpY2VTdG9wRXJyb3IgPSAnU2VydmljZSBzdG9wIGVycm9yJztcblxuICAgIFxuXG59IiwgImltcG9ydCB7IEFfQ29uY2VwdCwgQV9Db250YWluZXIsIEFfRXJyb3IsIEFfRmVhdHVyZSwgQV9JbmplY3QgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9TZXJ2aWNlRmVhdHVyZXMgfSBmcm9tIFwiLi9BLVNlcnZpY2UuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1BvbHlmaWxsIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwvQS1Qb2x5ZmlsbC5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfQ29uZmlnIH0gZnJvbSBcIi4uL0EtQ29uZmlnL0EtQ29uZmlnLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQV9TZXJ2aWNlX0Vycm9yIH0gZnJvbSBcIi4vQS1TZXJ2aWNlLmVycm9yXCI7XG5cblxuXG5cbi8qKlxuICogQS1TZXJ2aWNlIGlzIGEgY29udGFpbmVyIHRoYXQgY2FuIHJ1biBkaWZmZXJlbnQgdHlwZXMgb2Ygc2VydmljZXMsIHN1Y2ggYXMgSFRUUCBzZXJ2ZXJzLCB3b3JrZXJzLCBldGMuXG4gKiBEZXBlbmRpbmcgb24gdGhlIHByb3ZpZGVkIGNvbmZpZyBhbmQgY29uZmlndXJhdGlvbiwgaXQgd2lsbCBsb2FkIHRoZSBuZWNlc3NhcnkgY29tcG9uZW50cyBhbmQgc3RhcnQgdGhlIHNlcnZpY2UuXG4gKiBcbiAqL1xuZXhwb3J0IGNsYXNzIEFfU2VydmljZSBleHRlbmRzIEFfQ29udGFpbmVyIHtcblxuXG4gICAgQEFfQ29uY2VwdC5Mb2FkKClcbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBzZXJ2aWNlXG4gICAgICovXG4gICAgYXN5bmMgbG9hZCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1NlcnZpY2VGZWF0dXJlcy5vbkJlZm9yZUxvYWQpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TZXJ2aWNlRmVhdHVyZXMub25Mb2FkKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uQWZ0ZXJMb2FkKTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICAgICAgICBsZXQgd3JhcHBlZEVycm9yO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGVycm9yIGluc3RhbmNlb2YgQV9TZXJ2aWNlX0Vycm9yOlxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIGVycm9yIGluc3RhbmNlb2YgQV9FcnJvciAmJiBlcnJvci5vcmlnaW5hbEVycm9yIGluc3RhbmNlb2YgQV9TZXJ2aWNlX0Vycm9yOlxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRXJyb3IgPSBlcnJvci5vcmlnaW5hbEVycm9yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZWRFcnJvciA9IG5ldyBBX1NlcnZpY2VfRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IEFfU2VydmljZV9FcnJvci5TZXJ2aWNlTG9hZEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBwcm9jZXNzaW5nIHRoZSByZXF1ZXN0LicsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zY29wZS5yZWdpc3Rlcih3cmFwcGVkRXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TZXJ2aWNlRmVhdHVyZXMub25FcnJvcik7XG4gICAgICAgIH1cblxuICAgIH1cblxuXG4gICAgQEFfQ29uY2VwdC5TdGFydCgpXG4gICAgLyoqXG4gICAgICogU3RhcnQgdGhlIHNlcnZlclxuICAgICAqL1xuICAgIGFzeW5jIHN0YXJ0KCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uQmVmb3JlU3RhcnQpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TZXJ2aWNlRmVhdHVyZXMub25TdGFydCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1NlcnZpY2VGZWF0dXJlcy5vbkFmdGVyU3RhcnQpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cbiAgICAgICAgICAgIGxldCB3cmFwcGVkRXJyb3I7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgZXJyb3IgaW5zdGFuY2VvZiBBX1NlcnZpY2VfRXJyb3I6XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZWRFcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgZXJyb3IgaW5zdGFuY2VvZiBBX0Vycm9yICYmIGVycm9yLm9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBBX1NlcnZpY2VfRXJyb3I6XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZWRFcnJvciA9IGVycm9yLm9yaWdpbmFsRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEVycm9yID0gbmV3IEFfU2VydmljZV9FcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogQV9TZXJ2aWNlX0Vycm9yLlNlcnZpY2VTdGFydEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBwcm9jZXNzaW5nIHRoZSByZXF1ZXN0LicsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zY29wZS5yZWdpc3Rlcih3cmFwcGVkRXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TZXJ2aWNlRmVhdHVyZXMub25FcnJvcik7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIEBBX0NvbmNlcHQuU3RvcCgpXG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgc2VydmVyXG4gICAgICovXG4gICAgYXN5bmMgc3RvcCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1NlcnZpY2VGZWF0dXJlcy5vbkJlZm9yZVN0b3ApO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TZXJ2aWNlRmVhdHVyZXMub25TdG9wKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uQWZ0ZXJTdG9wKTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICAgICAgICBsZXQgd3JhcHBlZEVycm9yO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGVycm9yIGluc3RhbmNlb2YgQV9TZXJ2aWNlX0Vycm9yOlxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIGVycm9yIGluc3RhbmNlb2YgQV9FcnJvciAmJiBlcnJvci5vcmlnaW5hbEVycm9yIGluc3RhbmNlb2YgQV9TZXJ2aWNlX0Vycm9yOlxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRXJyb3IgPSBlcnJvci5vcmlnaW5hbEVycm9yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZWRFcnJvciA9IG5ldyBBX1NlcnZpY2VfRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IEFfU2VydmljZV9FcnJvci5TZXJ2aWNlU3RvcEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBwcm9jZXNzaW5nIHRoZSByZXF1ZXN0LicsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zY29wZS5yZWdpc3Rlcih3cmFwcGVkRXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TZXJ2aWNlRmVhdHVyZXMub25FcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEEtU2VydmljZSBMaWZlY3ljbGUgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfU2VydmljZUZlYXR1cmVzLm9uQmVmb3JlTG9hZF0oXG4gICAgICAgIEBBX0luamVjdChBX1BvbHlmaWxsKSBwb2x5ZmlsbDogQV9Qb2x5ZmlsbCxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBQb2x5ZmlsbFxuICAgICAgICBpZiAoIXBvbHlmaWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNjb3BlLnJlZ2lzdGVyKEFfUG9seWZpbGwpO1xuICAgICAgICAgICAgcG9seWZpbGwgPSB0aGlzLnNjb3BlLnJlc29sdmUoQV9Qb2x5ZmlsbCkhXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vbkxvYWRdKC4uLmFyZ3M6IGFueVtdKSB7IH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfU2VydmljZUZlYXR1cmVzLm9uQWZ0ZXJMb2FkXSguLi5hcmdzOiBhbnlbXSkgeyB9XG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfU2VydmljZUZlYXR1cmVzLm9uQmVmb3JlU3RhcnRdKC4uLmFyZ3M6IGFueVtdKSB7IH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfU2VydmljZUZlYXR1cmVzLm9uU3RhcnRdKC4uLmFyZ3M6IGFueVtdKSB7IH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgIFtBX1NlcnZpY2VGZWF0dXJlcy5vbkFmdGVyU3RhcnRdKC4uLmFyZ3M6IGFueVtdKSB7IH1cblxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vbkJlZm9yZVN0b3BdKC4uLmFyZ3M6IGFueVtdKSB7IH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfU2VydmljZUZlYXR1cmVzLm9uU3RvcF0oLi4uYXJnczogYW55W10pIHsgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25BZnRlclN0b3BdKC4uLmFyZ3M6IGFueVtdKSB7IH1cblxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIGJlZm9yZTogLy4qL1xuICAgIH0pXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vbkVycm9yXShcbiAgICAgICAgQEFfSW5qZWN0KEFfRXJyb3IpIGVycm9yOiBBX0Vycm9yLFxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcj86IEFfTG9nZ2VyLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICkge1xuICAgICAgICBsb2dnZXI/LmVycm9yKGVycm9yKTtcbiAgICB9XG5cbn1cblxuXG5cblxuXG5cblxuXG4iLCAiaW1wb3J0IHsgQV9GcmFnbWVudCB9IGZyb20gJ0BhZGFhcy9hLWNvbmNlcHQnO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfUm91dGU8XG4gICAgX1RQYXJhbXMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PixcbiAgICBfVFF1ZXJ5IGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT5cbj4gZXh0ZW5kcyBBX0ZyYWdtZW50IHtcblxuICAgIHB1YmxpYyB1cmwhOiBzdHJpbmc7XG5cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICB1cmw6IHN0cmluZyB8IFJlZ0V4cCxcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy51cmwgPSB1cmwgaW5zdGFuY2VvZiBSZWdFeHAgPyB1cmwuc291cmNlIDogdXJsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgcGF0aCBvbmx5IHdpdGhvdXQgcXVlcnkgYW5kIGhhc2hcbiAgICAgKi9cbiAgICBnZXQgcGF0aCgpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBwID0gdGhpcy51cmwuc3BsaXQoJz8nKVswXS5zcGxpdCgnIycpWzBdO1xuXG5cbiAgICAgICAgLy8gIGVuc3VyZSB0aGF0IGxhc3QgY2hhciBpcyBub3QgL1xuICAgICAgICAvLyAgYW5kIHJlbW92ZSBwcm90b2NvbCBhbmQgZG9tYWluIGlmIHByZXNlbnRcbiAgICAgICAgaWYgKHAuaW5jbHVkZXMoJzovLycpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoU3RhcnRJbmRleCA9IHAuaW5kZXhPZignLycsIHAuaW5kZXhPZignOi8vJykgKyAzKTtcbiAgICAgICAgICAgIGlmIChwYXRoU3RhcnRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gcC5zbGljZShwYXRoU3RhcnRJbmRleCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdGguZW5kc1dpdGgoJy8nKSA/IHBhdGguc2xpY2UoMCwgLTEpIDogcGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcC5lbmRzV2l0aCgnLycpID8gcC5zbGljZSgwLCAtMSkgOiBwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFycmF5IG9mIHBhcmFtZXRlciBuYW1lcyBpbiB0aGUgcm91dGUgcGF0aFxuICAgICAqL1xuICAgIGdldCBwYXJhbXMoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoXG4gICAgICAgICAgICAubWF0Y2goLzooW15cXC9dKykvZylcbiAgICAgICAgICAgID8ubWFwKChwYXJhbSkgPT4gcGFyYW0uc2xpY2UoMSkpXG4gICAgICAgICAgICB8fCBbXTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgcHJvdG9jb2wgYmFzZWQgb24gVVJMIHNjaGVtZVxuICAgICAqL1xuICAgIGdldCBwcm90b2NvbCgpOiBzdHJpbmcge1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgdGhpcy51cmwuc3RhcnRzV2l0aCgnaHR0cDovLycpOlxuICAgICAgICAgICAgICAgIHJldHVybiAnaHR0cCc7XG4gICAgICAgICAgICBjYXNlIHRoaXMudXJsLnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJyk6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdodHRwcyc7XG4gICAgICAgICAgICBjYXNlIHRoaXMudXJsLnN0YXJ0c1dpdGgoJ3dzOi8vJyk6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd3cyc7XG4gICAgICAgICAgICBjYXNlIHRoaXMudXJsLnN0YXJ0c1dpdGgoJ3dzczovLycpOlxuICAgICAgICAgICAgICAgIHJldHVybiAnd3NzJztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXJsLmluY2x1ZGVzKCc6Ly8nKSA/IHRoaXMudXJsLnNwbGl0KCc6Ly8nKVswXSA6ICdodHRwJztcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZXh0cmFjdFBhcmFtcyh1cmw6IHN0cmluZyk6IF9UUGFyYW1zIHtcbiAgICAgICAgLy8gUmVtb3ZlIHF1ZXJ5IHN0cmluZyAoYW55dGhpbmcgYWZ0ZXIgPylcbiAgICAgICAgY29uc3QgY2xlYW5VcmwgPSB1cmwuc3BsaXQoJz8nKVswXTtcblxuICAgICAgICBjb25zdCB1cmxTZWdtZW50cyA9IGNsZWFuVXJsLnNwbGl0KCcvJykuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBjb25zdCBtYXNrU2VnbWVudHMgPSB0aGlzLnBhdGguc3BsaXQoJy8nKS5maWx0ZXIoQm9vbGVhbik7XG5cbiAgICAgICAgY29uc3QgcGFyYW1zID0ge307XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXNrU2VnbWVudHMubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgY29uc3QgbWFza1NlZ21lbnQgPSBtYXNrU2VnbWVudHNbaV07XG4gICAgICAgICAgICBjb25zdCB1cmxTZWdtZW50ID0gdXJsU2VnbWVudHNbaV07XG5cbiAgICAgICAgICAgIGlmIChtYXNrU2VnbWVudC5zdGFydHNXaXRoKCc6JykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbU5hbWUgPSBtYXNrU2VnbWVudC5zbGljZSgxKTsgLy8gUmVtb3ZlICc6JyBmcm9tIG1hc2tcbiAgICAgICAgICAgICAgICBwYXJhbXNbcGFyYW1OYW1lXSA9IHVybFNlZ21lbnQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hc2tTZWdtZW50ICE9PSB1cmxTZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgc3RhdGljIHNlZ21lbnRzIGRvbuKAmXQgbWF0Y2gg4oaSIGZhaWxcbiAgICAgICAgICAgICAgICByZXR1cm4ge30gYXMgX1RQYXJhbXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFyYW1zIGFzIF9UUGFyYW1zO1xuICAgIH1cblxuICAgIGV4dHJhY3RRdWVyeSh1cmw6IHN0cmluZyk6IF9UUXVlcnkge1xuICAgICAgICBjb25zdCBxdWVyeTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXG4gICAgICAgIC8vIFRha2Ugb25seSB0aGUgcGFydCBhZnRlciBcIj9cIlxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHVybC5zcGxpdCgnPycpWzFdO1xuICAgICAgICBpZiAoIXF1ZXJ5U3RyaW5nKSByZXR1cm4gcXVlcnkgYXMgX1RRdWVyeTtcblxuICAgICAgICAvLyBSZW1vdmUgZnJhZ21lbnQgKCMuLi4pIGlmIHByZXNlbnRcbiAgICAgICAgY29uc3QgY2xlYW5RdWVyeSA9IHF1ZXJ5U3RyaW5nLnNwbGl0KCcjJylbMF07XG5cbiAgICAgICAgLy8gU3BsaXQgaW50byBrZXk9dmFsdWUgcGFpcnNcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIGNsZWFuUXVlcnkuc3BsaXQoJyYnKSkge1xuICAgICAgICAgICAgaWYgKCFwYWlyKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IFtrZXksIHZhbHVlID0gJyddID0gcGFpci5zcGxpdCgnPScpO1xuICAgICAgICAgICAgcXVlcnlbZGVjb2RlVVJJQ29tcG9uZW50KGtleSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBxdWVyeSBhcyBfVFF1ZXJ5O1xuICAgIH1cblxuXG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICAvLyBwYXRoIGNhbiBiZSBsaWtlIC9hcGkvdjEvdXNlcnMvOmlkXG4gICAgICAgIC8vIGFuZCBiZWNhdXNlIG9mIHRoYXQgOmlkIHdlIG5lZWQgdG8gcmVwbGFjZSBpdCB3aXRoIHJlZ2V4IHRoYXQgbWF0Y2hlcyBjaGFycyBhbmQgbnVtYmVycyBvbmx5ICAgXG4gICAgICAgIHJldHVybiBgJHt0aGlzLnBhdGh9YDtcbiAgICAgICAgLy8gLnJlcGxhY2UoL1xcLzooW15cXC9dKykvZywgJ1xcXFwvKFteXFwvXSspJylcbiAgICB9XG5cbiAgICB0b1JlZ0V4cCgpOiBSZWdFeHAge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7dGhpcy5wYXRoLnJlcGxhY2UoL1xcLzooW15cXC9dKykvZywgJy8oW14vXSspJyl9JGApO1xuICAgIH1cblxuICAgIHRvQUZlYXR1cmVFeHRlbnNpb24oZXh0ZW5zaW9uU2NvcGU6IEFycmF5PHN0cmluZz4gPSBbXSk6IFJlZ0V4cCB7XG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHtleHRlbnNpb25TY29wZS5sZW5ndGhcbiAgICAgICAgICAgID8gYCgke2V4dGVuc2lvblNjb3BlLmpvaW4oJ3wnKX0pYFxuICAgICAgICAgICAgOiAnLionXG4gICAgICAgICAgICB9XFxcXC4ke3RoaXMucGF0aC5yZXBsYWNlKC9cXC86KFteXFwvXSspL2csICcvKFteL10rKScpfSRgKTtcbiAgICB9XG59XG5cbiIsICJcbmV4cG9ydCBlbnVtIEFfU2lnbmFsRmVhdHVyZXMge1xuICAgIE5leHQgPSAnX0FfU2lnbmFsRmVhdHVyZXNfTmV4dCcsXG59XG5cblxuXG5leHBvcnQgZW51bSBBX1NpZ25hbFZlY3RvckZlYXR1cmVzIHtcbiAgICBOZXh0ID0gJ19BX1NpZ25hbFZlY3RvckZlYXR1cmVzX05leHQnLFxufSIsICJpbXBvcnQgeyBBX0VudGl0eSwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX1NpZ25hbF9Jbml0LCBBX1NpZ25hbF9TZXJpYWxpemVkIH0gZnJvbSBcIi4uL0EtU2lnbmFsLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1NpZ25hbEZlYXR1cmVzIH0gZnJvbSBcIi4uL0EtU2lnbmFsLmNvbnN0YW50c1wiO1xuXG4vKipcbiAqIEEgU2lnbmFsIEVudGl0eSBpcyBhbiBpbmRpdmlkdWFsIHNpZ25hbCBpbnN0YW5jZSB0aGF0IGNhcnJpZXMgZGF0YS5cbiAqIFNpZ25hbHMgaXMgYSBldmVudCB0eXBlcyB0aGF0IHVzZXMgZm9yIHZlY3RvcnMgb2Ygc2lnbmFscyB0byBiZSB1c2VkIGZvciBmdXJ0aGVyIHByb2Nlc3NpbmcuIFxuICogXG4gKiBDb21wYXJpbmcgdG8gc3RhbmRhcmQgZXZlbnRzLCBzaWduYWxzIHNob3VsZCBiZSB1c2VkIGluIGNhc2Ugd2hlbiB0aGUgZXZlbnQgaW1wYWN0cyBzb21lIFwic3RhdGVcIiBcbiAqIGFuZCB0aGUgc3RhdGUgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgZXZlbnQgaXRzZWxmLlxuICogXG4gKiBGb3IgZXhhbXBsZSwgYSBzaWduYWwgY2FuIHJlcHJlc2VudCB0aGUgY3VycmVudCBzdGF0dXMgb2YgYSB1c2VyIChvbmxpbmUvb2ZmbGluZS9hd2F5KSwgXG4gKiB3aGlsZSBhbiBldmVudCB3b3VsZCByZXByZXNlbnQgYSBzaW5nbGUgYWN0aW9uICh1c2VyIGxvZ2dlZCBpbi9sb2dnZWQgb3V0KS5cbiAqIFxuICogU2lnbmFscyBhcmUgdHlwaWNhbGx5IHVzZWQgaW4gc2NlbmFyaW9zIHdoZXJlIHRoZSBjdXJyZW50IHN0YXRlIGlzIG1vcmUgaW1wb3J0YW50IHRoYW4gaW5kaXZpZHVhbCBldmVudHMsIFxuICogc3VjaCBhcyBtb25pdG9yaW5nIHN5c3RlbXMsIHJlYWwtdGltZSBkYXNoYm9hcmRzLCBvciBzdGF0ZWZ1bCBhcHBsaWNhdGlvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBBX1NpZ25hbDxcbiAgICBfVFNpZ25hbERhdGFUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT5cbj4gZXh0ZW5kcyBBX0VudGl0eTxBX1NpZ25hbF9Jbml0PF9UU2lnbmFsRGF0YVR5cGU+LCBBX1NpZ25hbF9TZXJpYWxpemVkPF9UU2lnbmFsRGF0YVR5cGU+PiB7XG5cbiAgICBkYXRhITogX1RTaWduYWxEYXRhVHlwZTtcblxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGRlZmluZSBkZWZhdWx0IGRhdGEgZm9yIHRoZSBzaWduYWwuXG4gICAgICogXG4gICAgICogSWYgbm8gZGF0YSBpcyBwcm92aWRlZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24sIHRoZSBkZWZhdWx0IGRhdGEgd2lsbCBiZSB1c2VkLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBkZWZhdWx0KCk6IFByb21pc2U8QV9TaWduYWwgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cblxuXG4gICAgZnJvbUpTT04oc2VyaWFsaXplZEVudGl0eTogQV9TaWduYWxfU2VyaWFsaXplZDxfVFNpZ25hbERhdGFUeXBlPik6IHZvaWQge1xuICAgICAgICBzdXBlci5mcm9tSlNPTihzZXJpYWxpemVkRW50aXR5KTtcbiAgICAgICAgdGhpcy5kYXRhID0gc2VyaWFsaXplZEVudGl0eS5kYXRhO1xuICAgIH1cblxuXG4gICAgZnJvbU5ldyhuZXdFbnRpdHk6IEFfU2lnbmFsX0luaXQ8X1RTaWduYWxEYXRhVHlwZT4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hc2VpZCA9IHRoaXMuZ2VuZXJhdGVBU0VJRCh7IGVudGl0eTogbmV3RW50aXR5Lm5hbWUgfSk7XG4gICAgICAgIHRoaXMuZGF0YSA9IG5ld0VudGl0eS5kYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVtaXRzIHRoaXMgc2lnbmFsIHdpdGhpbiB0aGUgcHJvdmlkZWQgc2NvcGUuXG4gICAgICogXG4gICAgICogU2NvcGUgaXMgbWFuZGF0b3J5IHNpbmNlIHNpZ25hbCBpdHNlbGYgc2hvdWxkIG5vdCBiZSByZWdpc3RlcmVkIGluIHRoZSBzY29wZSwgXG4gICAgICogYnV0IHNob3VsZCB1c2UgcGFydGljdWxhciBzY29wZSBjb250ZXh0IHRvIHVzZSBwcm9wZXIgc2V0IG9mIGNvbXBvbmVudHNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGUgXG4gICAgICovXG4gICAgYXN5bmMgbmV4dChzY29wZTogQV9TY29wZSkge1xuICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TaWduYWxGZWF0dXJlcy5OZXh0LCBzY29wZSk7XG4gICAgfVxuXG5cbiAgICB0b0pTT04oKTogQV9TaWduYWxfU2VyaWFsaXplZDxfVFNpZ25hbERhdGFUeXBlPiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdXBlci50b0pTT04oKSxcbiAgICAgICAgICAgIGRhdGE6IHRoaXMuZGF0YVxuICAgICAgICB9O1xuICAgIH1cblxufSIsICJpbXBvcnQgeyBBX0VudGl0eSwgQV9TY29wZSwgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yLCBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9TaWduYWxWZWN0b3JfU2VyaWFsaXplZCwgQV9TaWduYWxWZWN0b3JfSW5pdCB9IGZyb20gXCIuLi9BLVNpZ25hbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9TaWduYWwgfSBmcm9tIFwiLi9BLVNpZ25hbC5lbnRpdHlcIjtcbmltcG9ydCB7IEFfU2lnbmFsVmVjdG9yRmVhdHVyZXMgfSBmcm9tIFwiLi4vQS1TaWduYWwuY29uc3RhbnRzXCI7XG5cblxuLyoqXG4gKiBBIFNpZ25hbCBWZWN0b3IgRW50aXR5IGlzIGEgY29sbGVjdGlvbiBvZiBzaWduYWxzIHN0cnVjdHVyZWQgaW4gYSBzcGVjaWZpYyB3YXkuXG4gKiBJdCBhbGxvd3MgZ3JvdXBpbmcgbXVsdGlwbGUgc2lnbmFscyB0b2dldGhlciBmb3IgYmF0Y2ggcHJvY2Vzc2luZyBvciB0cmFuc21pc3Npb24uXG4gKiBcbiAqIFNpZ25hbCBWZWN0b3JzIGFyZSB1c2VmdWwgaW4gc2NlbmFyaW9zIHdoZXJlIG11bHRpcGxlIHJlbGF0ZWQgc2lnbmFscyBuZWVkIHRvIGJlIGhhbmRsZWQgdG9nZXRoZXIsXG4gKiBhcyBhIHN0YXRlIG9mIHRoZSBzeXN0ZW0gb3IgYSBzbmFwc2hvdCBvZiB2YXJpb3VzIHBhcmFtZXRlcnMgYXQgYSBnaXZlbiB0aW1lLlxuICogXG4gKiBAdGVtcGxhdGUgVFNpZ25hbHNDb25zdHJ1Y3RvcnMgLSBBcnJheSBvZiBzaWduYWwgY29uc3RydWN0b3IgdHlwZXMgKGUuZy4sIFt0eXBlb2YgTXlTaWduYWwsIHR5cGVvZiBDdXN0b21TaWduYWxdKVxuICogQHRlbXBsYXRlIFRTaWduYWxzIC0gQXJyYXkgb2Ygc2lnbmFsIGluc3RhbmNlcyBkZXJpdmVkIGZyb20gY29uc3RydWN0b3JzXG4gKi9cbmV4cG9ydCBjbGFzcyBBX1NpZ25hbFZlY3RvcjxcbiAgICBUU2lnbmFscyBleHRlbmRzIEFycmF5PEFfU2lnbmFsPiA9IEFycmF5PEFfU2lnbmFsPixcbiAgICBUU2lnbmFsc0NvbnN0cnVjdG9ycyBleHRlbmRzIEFycmF5PEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4+ID0gVFNpZ25hbHMgZXh0ZW5kcyBBcnJheTxpbmZlciBVPiA/IFUgZXh0ZW5kcyBBX1NpZ25hbCA/IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxVPltdIDogbmV2ZXIgOiBuZXZlclxuPiBleHRlbmRzIEFfRW50aXR5PEFfU2lnbmFsVmVjdG9yX0luaXQ8VFNpZ25hbHNbbnVtYmVyXVtdLCBUU2lnbmFsc0NvbnN0cnVjdG9ycz4sIEFfU2lnbmFsVmVjdG9yX1NlcmlhbGl6ZWQ+IHtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdHJ1Y3R1cmUgb2YgdGhlIHNpZ25hbCB2ZWN0b3IsIGRlZmluaW5nIHRoZSB0eXBlcyBvZiBzaWduYWxzIGl0IGNvbnRhaW5zLlxuICAgICAqIFxuICAgICAqIEZvciBleGFtcGxlOlxuICAgICAqIFtVc2VyU2lnbkluU2lnbmFsLCBVc2VyU3RhdHVzU2lnbmFsLCBVc2VyQWN0aXZpdHlTaWduYWxdXG4gICAgICogXG4gICAgICogWyFdIGlmIG5vdCBwcm92aWRlZCwgaXQgd2lsbCBiZSBkZXJpdmVkIGZyb20gdGhlIHNpZ25hbHMgdmFsdWVzLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfc3RydWN0dXJlPzogVFNpZ25hbHNDb25zdHJ1Y3RvcnM7XG4gICAgLyoqXG4gICAgICogSXQncyBhY3R1YWwgdmVjdG9yIFZhbHVlcyBvZiBTaWduYWxzIGxpa2UgOlxuICAgICAqIFtVc2VyQWN0aW9uU2lnbmFsLCBVc2VyTW91c2VQb3NpdGlvblNpZ25hbCwgRXh0ZXJuYWxEZXBlbmRlbmN5U2lnbmFsXVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfc2lnbmFscyE6IFRTaWduYWxzW251bWJlcl1bXVxuXG5cbiAgICBmcm9tTmV3KG5ld0VudGl0eTogQV9TaWduYWxWZWN0b3JfSW5pdDxUU2lnbmFsc1tudW1iZXJdW10sIFRTaWduYWxzQ29uc3RydWN0b3JzPik6IHZvaWQge1xuICAgICAgICBzdXBlci5mcm9tTmV3KG5ld0VudGl0eSk7XG4gICAgICAgIHRoaXMuX3N0cnVjdHVyZSA9IG5ld0VudGl0eS5zdHJ1Y3R1cmU7XG4gICAgICAgIHRoaXMuX3NpZ25hbHMgPSBuZXdFbnRpdHkudmFsdWVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBzdHJ1Y3R1cmUgb2YgdGhlIHNpZ25hbCB2ZWN0b3IsIGRlZmluaW5nIHRoZSB0eXBlcyBvZiBzaWduYWxzIGl0IGNvbnRhaW5zLlxuICAgICAqIFxuICAgICAqIEZvciBleGFtcGxlOlxuICAgICAqIFtVc2VyU2lnbkluU2lnbmFsLCBVc2VyU3RhdHVzU2lnbmFsLCBVc2VyQWN0aXZpdHlTaWduYWxdXG4gICAgICogXG4gICAgICovXG4gICAgZ2V0IHN0cnVjdHVyZSgpOiBUU2lnbmFsc0NvbnN0cnVjdG9ycyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJ1Y3R1cmUgfHwgdGhpcy5fc2lnbmFscy5tYXAocyA9PiBzLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4pIGFzIFRTaWduYWxzQ29uc3RydWN0b3JzO1xuICAgIH1cblxuXG4gICAgZ2V0IGxlbmd0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmUubGVuZ3RoO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBpdGVyYXRpb24gb3ZlciB0aGUgc2lnbmFscyBpbiB0aGUgdmVjdG9yLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhdG9yPFRTaWduYWxzW251bWJlcl0+IHtcbiAgICAgICAgbGV0IHBvaW50ZXIgPSAwO1xuICAgICAgICBjb25zdCBzaWduYWxzID0gdGhpcy5zdHJ1Y3R1cmUubWFwKChzaWduYWxDb25zdHJ1Y3RvcikgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2lnbmFsSW5kZXggPSB0aGlzLl9zaWduYWxzLmZpbmRJbmRleChzID0+IHMuY29uc3RydWN0b3IgPT09IHNpZ25hbENvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIHJldHVybiBzaWduYWxJbmRleCAhPT0gLTEgPyB0aGlzLl9zaWduYWxzW3NpZ25hbEluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSkgYXMgVFNpZ25hbHNbbnVtYmVyXVtdO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0KCk6IEl0ZXJhdG9yUmVzdWx0PFRTaWduYWxzW251bWJlcl0+IHtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnRlciA8IHNpZ25hbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzaWduYWxzW3BvaW50ZXIrK11cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQgYXMgYW55XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRW1pdHMgdGhlIHNpZ25hbCB2ZWN0b3IgdG8gdGhlIHNwZWNpZmllZCBzY29wZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGVcbiAgICAgKi9cbiAgICBhc3luYyBuZXh0KHNjb3BlOiBBX1Njb3BlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNhbGwoQV9TaWduYWxWZWN0b3JGZWF0dXJlcy5OZXh0LCBzY29wZSk7XG4gICAgfVxuXG4gICAgXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSB2ZWN0b3IgY29udGFpbnMgYSBzaWduYWwgb2YgdGhlIHNwZWNpZmllZCB0eXBlLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzaWduYWwgXG4gICAgICovXG4gICAgaGFzKHNpZ25hbDogQV9TaWduYWwpOiBib29sZWFuXG4gICAgaGFzKHNpZ25hbENvbnN0cnVjdG9yOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8QV9TaWduYWw+KTogYm9vbGVhblxuICAgIGhhcyhwYXJhbTE6IEFfU2lnbmFsIHwgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPik6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgc2lnbmFsQ29uc3RydWN0b3I6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD47XG4gICAgICAgIGlmIChwYXJhbTEgaW5zdGFuY2VvZiBBX0VudGl0eSkge1xuICAgICAgICAgICAgc2lnbmFsQ29uc3RydWN0b3IgPSBwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNpZ25hbENvbnN0cnVjdG9yID0gcGFyYW0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnN0cnVjdHVyZS5pbmNsdWRlcyhzaWduYWxDb25zdHJ1Y3Rvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBzaWduYWwgb2YgdGhlIHNwZWNpZmllZCB0eXBlIGZyb20gdGhlIHZlY3Rvci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2lnbmFsIFxuICAgICAqL1xuICAgIGdldDxUIGV4dGVuZHMgQV9TaWduYWw+KHNpZ25hbDogVCk6IFQgfCB1bmRlZmluZWRcbiAgICBnZXQ8VCBleHRlbmRzIEFfU2lnbmFsPihzaWduYWxDb25zdHJ1Y3RvcjogQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPFQ+KTogVCB8IHVuZGVmaW5lZFxuICAgIGdldDxUIGV4dGVuZHMgQV9TaWduYWw+KHBhcmFtMTogVCB8IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPik6IFQgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgc2lnbmFsQ29uc3RydWN0b3I6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxBX1NpZ25hbD47XG5cbiAgICAgICAgaWYgKHBhcmFtMSBpbnN0YW5jZW9mIEFfRW50aXR5KSB7XG4gICAgICAgICAgICBzaWduYWxDb25zdHJ1Y3RvciA9IHBhcmFtMS5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8QV9TaWduYWw+O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2lnbmFsQ29uc3RydWN0b3IgPSBwYXJhbTEgYXMgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPEFfU2lnbmFsPjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fc2lnbmFscy5maW5kSW5kZXgocyA9PiBzLmNvbnN0cnVjdG9yID09PSBzaWduYWxDb25zdHJ1Y3Rvcik7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpZ25hbHNbaW5kZXhdIGFzIFQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0byBBcnJheSBvZiB2YWx1ZXMgb2Ygc2lnbmFscyBpbiB0aGUgdmVjdG9yXG4gICAgICogTWFpbnRhaW5zIHRoZSBvcmRlciBzcGVjaWZpZWQgaW4gdGhlIHN0cnVjdHVyZS9nZW5lcmljIHR5cGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RydWN0dXJlIC0gT3B0aW9uYWwgc3RydWN0dXJlIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IG9yZGVyaW5nXG4gICAgICogQHJldHVybnMgQXJyYXkgb2Ygc2lnbmFsIGluc3RhbmNlcyBpbiB0aGUgc3BlY2lmaWVkIG9yZGVyXG4gICAgICovXG4gICAgYXN5bmMgdG9WZWN0b3I8XG4gICAgICAgIFQgZXh0ZW5kcyBBcnJheTxBX1NpZ25hbD4gPSBUU2lnbmFscyxcbiAgICA+KFxuICAgICAgICBzdHJ1Y3R1cmU/OiB7IFtLIGluIGtleW9mIFRdOiBUW0tdIGV4dGVuZHMgQV9TaWduYWwgPyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VFtLXT4gOiBuZXZlciB9XG4gICAgKTogUHJvbWlzZTx7IFtLIGluIGtleW9mIFRdOiBUW0tdIH0+IHtcbiAgICAgICAgY29uc3QgdXNlZFN0cnVjdHVyZSA9IHN0cnVjdHVyZSB8fCB0aGlzLnN0cnVjdHVyZTtcblxuICAgICAgICByZXR1cm4gdXNlZFN0cnVjdHVyZS5tYXAoKHNpZ25hbENvbnN0cnVjdG9yKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzaWduYWxJbmRleCA9IHRoaXMuX3NpZ25hbHMuZmluZEluZGV4KHMgPT4gcy5jb25zdHJ1Y3RvciA9PT0gc2lnbmFsQ29uc3RydWN0b3IpO1xuICAgICAgICAgICAgcmV0dXJuIHNpZ25hbEluZGV4ICE9PSAtMSA/IHRoaXMuX3NpZ25hbHNbc2lnbmFsSW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgICB9KSBhcyB7IFtLIGluIGtleW9mIFRdOiBUW0tdIH07XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0byBBcnJheSBvZiBkYXRhIG9mIHNpZ25hbHMgaW4gdGhlIHZlY3RvclxuICAgICAqIE1haW50YWlucyB0aGUgb3JkZXIgc3BlY2lmaWVkIGluIHRoZSBzdHJ1Y3R1cmUvZ2VuZXJpYyB0eXBlXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0cnVjdHVyZSAtIE9wdGlvbmFsIHN0cnVjdHVyZSB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBvcmRlcmluZ1xuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIHNlcmlhbGl6ZWQgc2lnbmFsIGRhdGEgaW4gdGhlIHNwZWNpZmllZCBvcmRlclxuICAgICAqL1xuICAgIGFzeW5jIHRvRGF0YVZlY3RvcjxcbiAgICAgICAgVCBleHRlbmRzIEFycmF5PEFfU2lnbmFsPiA9IFRTaWduYWxzLFxuICAgID4oXG4gICAgICAgIHN0cnVjdHVyZT86IHsgW0sgaW4ga2V5b2YgVF06IFRbS10gZXh0ZW5kcyBBX1NpZ25hbCA/IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUW0tdPiA6IG5ldmVyIH1cbiAgICApOiBQcm9taXNlPHsgW0sgaW4ga2V5b2YgVF06IFRbS10gZXh0ZW5kcyBBX1NpZ25hbDxpbmZlciBEPiA/IEQgfCB1bmRlZmluZWQgOiBuZXZlciB9PiB7XG5cbiAgICAgICAgY29uc3QgdXNlZFN0cnVjdHVyZSA9IHN0cnVjdHVyZSB8fCB0aGlzLnN0cnVjdHVyZTtcblxuICAgICAgICBjb25zdCByZXN1bHRzOiBBcnJheTxhbnk+ID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCBzaWduYWxDb25zdHJ1Y3RvciBvZiB1c2VkU3RydWN0dXJlKSB7XG4gICAgICAgICAgICBjb25zdCBzaWduYWxJbmRleCA9IHRoaXMuX3NpZ25hbHMuZmluZEluZGV4KHMgPT4gcy5jb25zdHJ1Y3RvciA9PT0gc2lnbmFsQ29uc3RydWN0b3IpO1xuICAgICAgICAgICAgbGV0IGRhdGE6IGFueTtcbiAgICAgICAgICAgIGlmIChzaWduYWxJbmRleCA9PT0gLTEpIHtcblxuICAgICAgICAgICAgICAgIGRhdGEgPSBhd2FpdCAoc2lnbmFsQ29uc3RydWN0b3IgYXMgdHlwZW9mIEFfU2lnbmFsKS5kZWZhdWx0KClcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzaWduYWwgPSB0aGlzLl9zaWduYWxzW3NpZ25hbEluZGV4XTtcbiAgICAgICAgICAgICAgICBkYXRhID0gc2lnbmFsO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChkYXRhPy50b0pTT04oKS5kYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHRzIGFzIHsgW0sgaW4ga2V5b2YgVF06IFRbS10gZXh0ZW5kcyBBX1NpZ25hbDxpbmZlciBEPiA/IEQgfCB1bmRlZmluZWQgOiBuZXZlciB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRvIE9iamVjdCB3aXRoIHNpZ25hbCBjb25zdHJ1Y3RvciBuYW1lcyBhcyBrZXlzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIGRhdGEgdmFsdWVzXG4gICAgICogVXNlcyB0aGUgc3RydWN0dXJlIG9yZGVyaW5nIHRvIGVuc3VyZSBjb25zaXN0ZW50IGtleSBvcmRlcmluZ1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIE9iamVjdCB3aXRoIHNpZ25hbCBjb25zdHJ1Y3RvciBuYW1lcyBhcyBrZXlzIGFuZCBzaWduYWwgZGF0YSBhcyB2YWx1ZXNcbiAgICAgKi9cbiAgICBhc3luYyB0b09iamVjdDxcbiAgICAgICAgVCBleHRlbmRzIEFycmF5PEFfU2lnbmFsPiA9IFRTaWduYWxzLFxuICAgID4oXG4gICAgICAgIHN0cnVjdHVyZT86IHsgW0sgaW4ga2V5b2YgVF06IFRbS10gZXh0ZW5kcyBBX1NpZ25hbCA/IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUW0tdPiA6IG5ldmVyIH1cbiAgICApOiBQcm9taXNlPHsgW2tleTogc3RyaW5nXTogVFtudW1iZXJdIGV4dGVuZHMgQV9TaWduYWw8aW5mZXIgRD4gPyBEIHwgdW5kZWZpbmVkIDogbmV2ZXIgfT4ge1xuXG4gICAgICAgIGNvbnN0IHVzZWRTdHJ1Y3R1cmUgPSBzdHJ1Y3R1cmUgfHwgdGhpcy5zdHJ1Y3R1cmU7XG5cbiAgICAgICAgY29uc3Qgb2JqOiB7IFtrZXk6IHN0cmluZ106IFRbbnVtYmVyXSBleHRlbmRzIEFfU2lnbmFsPGluZmVyIEQ+ID8gRCB8IHVuZGVmaW5lZCA6IG5ldmVyIH0gPSB7fTtcbiAgICAgICAgdXNlZFN0cnVjdHVyZS5mb3JFYWNoKChzaWduYWxDb25zdHJ1Y3RvcikgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2lnbmFsTmFtZSA9IHNpZ25hbENvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICBjb25zdCBzaWduYWxJbmRleCA9IHRoaXMuX3NpZ25hbHMuZmluZEluZGV4KHMgPT4gcy5jb25zdHJ1Y3RvciA9PT0gc2lnbmFsQ29uc3RydWN0b3IpO1xuXG4gICAgICAgICAgICBpZiAoc2lnbmFsSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmFsID0gdGhpcy5fc2lnbmFsc1tzaWduYWxJbmRleF07XG4gICAgICAgICAgICAgICAgb2JqW3NpZ25hbE5hbWVdID0gc2lnbmFsLnRvSlNPTigpLmRhdGEgYXMgYW55O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmpbc2lnbmFsTmFtZV0gPSB1bmRlZmluZWQgYXMgYW55O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgU2lnbmFsIFZlY3RvciB0byBhIEpTT04tY29tcGF0aWJsZSBmb3JtYXQuXG4gICAgICogXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgdG9KU09OKCk6IEFfU2lnbmFsVmVjdG9yX1NlcmlhbGl6ZWQge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBzdHJ1Y3R1cmU6IHRoaXMuc3RydWN0dXJlLm1hcChzID0+IHMubmFtZSksXG4gICAgICAgICAgICB2YWx1ZXM6IHRoaXMuX3NpZ25hbHMubWFwKHMgPT4gcy50b0pTT04oKSlcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQV9Db250ZXh0LCBBX0ZyYWdtZW50LCBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9TaWduYWwgfSBmcm9tIFwiLi4vZW50aXRpZXMvQS1TaWduYWwuZW50aXR5XCI7XG5pbXBvcnQgeyBBX1NpZ25hbFZlY3RvciB9IGZyb20gXCIuLi9lbnRpdGllcy9BLVNpZ25hbFZlY3Rvci5lbnRpdHlcIjtcblxuLyoqXG4gKiBBX1NpZ25hbFN0YXRlIG1hbmFnZXMgdGhlIGxhdGVzdCBzdGF0ZSBvZiBhbGwgc2lnbmFscyB3aXRoaW4gYSBnaXZlbiBzY29wZS5cbiAqIFxuICogVGhpcyBjbGFzcyBtYWludGFpbnMgYSBtYXBwaW5nIGJldHdlZW4gc2lnbmFsIGNvbnN0cnVjdG9ycyBhbmQgdGhlaXIgbW9zdCByZWNlbnRseSBlbWl0dGVkIHZhbHVlcyxcbiAqIHByb3ZpZGluZyBhIGNlbnRyYWxpemVkIHN0YXRlIHN0b3JlIGZvciBzaWduYWwgbWFuYWdlbWVudCB3aXRoaW4gYW4gYXBwbGljYXRpb24gY29udGV4dC5cbiAqIFxuICogQHRlbXBsYXRlIFRTaWduYWxEYXRhIC0gVW5pb24gdHlwZSBvZiBhbGwgcG9zc2libGUgc2lnbmFsIGRhdGEgdHlwZXMgdGhhdCBjYW4gYmUgc3RvcmVkIChtdXN0IGV4dGVuZCBSZWNvcmQ8c3RyaW5nLCBhbnk+KVxuICogXG4gKiBUaGUgZ2VuZXJpYyBlbnN1cmVzIHR5cGUgc2FmZXR5IGJ5IG1haW50YWluaW5nIGNvcnJlc3BvbmRlbmNlIGJldHdlZW46XG4gKiAtIFNpZ25hbCBjb25zdHJ1Y3RvciB0eXBlcyBhbmQgdGhlaXIgZGF0YSB0eXBlc1xuICogLSBTaWduYWwgaW5zdGFuY2VzIGFuZCB0aGVpciBlbWl0dGVkIHZhbHVlIHR5cGVzXG4gKiAtIFZlY3RvciBzdHJ1Y3R1cmUgYW5kIHRoZSBkYXRhIGl0IGNvbnRhaW5zXG4gKi9cbmV4cG9ydCBjbGFzcyBBX1NpZ25hbFN0YXRlPFxuICAgIFRTaWduYWxEYXRhIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT5cbj4gZXh0ZW5kcyBBX0ZyYWdtZW50IHtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIG1hcCBzdG9yaW5nIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBzaWduYWwgY29uc3RydWN0b3JzIGFuZCB0aGVpciBsYXRlc3QgdmFsdWVzXG4gICAgICogS2V5OiBTaWduYWwgY29uc3RydWN0b3IgZnVuY3Rpb25cbiAgICAgKiBWYWx1ZTogTGF0ZXN0IGVtaXR0ZWQgZGF0YSBmcm9tIHRoYXQgc2lnbmFsIHR5cGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3N0YXRlOiBNYXA8QV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPiwgQV9TaWduYWw+ID0gbmV3IE1hcCgpO1xuXG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgc3RydWN0dXJlIGRlZmluaW5nIHRoZSBvcmRlcmVkIGxpc3Qgb2Ygc2lnbmFsIGNvbnN0cnVjdG9yc1xuICAgICAqIFVzZWQgZm9yIHZlY3RvciBvcGVyYXRpb25zIGFuZCBpbml0aWFsaXphdGlvblxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfc3RydWN0dXJlOiBBcnJheTxBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8QV9TaWduYWw+PjtcblxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgb3JkZXJlZCBzdHJ1Y3R1cmUgb2Ygc2lnbmFsIGNvbnN0cnVjdG9yc1xuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIHNpZ25hbCBjb25zdHJ1Y3RvcnMgaW4gdGhlaXIgZGVmaW5lZCBvcmRlclxuICAgICAqL1xuICAgIGdldCBzdHJ1Y3R1cmUoKTogQXJyYXk8QV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RydWN0dXJlIHx8IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQV9TaWduYWxTdGF0ZSBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHJ1Y3R1cmUgLSBPcHRpb25hbCBhcnJheSBkZWZpbmluZyB0aGUgb3JkZXJlZCBzdHJ1Y3R1cmUgb2Ygc2lnbmFsIGNvbnN0cnVjdG9yc1xuICAgICAqICAgICAgICAgICAgICAgICAgIFRoaXMgc3RydWN0dXJlIGlzIHVzZWQgZm9yIHZlY3RvciBvcGVyYXRpb25zIGFuZCBkZXRlcm1pbmVzIHRoZSBvcmRlclxuICAgICAqICAgICAgICAgICAgICAgICAgIGluIHdoaWNoIHNpZ25hbHMgYXJlIHByb2Nlc3NlZCBhbmQgc2VyaWFsaXplZFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBzdHJ1Y3R1cmU6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD5bXVxuICAgICkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IFwiQV9TaWduYWxTdGF0ZVwiIH0pO1xuXG4gICAgICAgIHRoaXMuX3N0cnVjdHVyZSA9IHN0cnVjdHVyZTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBzdGF0ZSBtYXAgd2l0aCB1bmRlZmluZWQgdmFsdWVzIGZvciBlYWNoIHNpZ25hbCBpbiB0aGUgc3RydWN0dXJlXG4gICAgICAgIC8vIFRoaXMgZW5zdXJlcyBhbGwgZXhwZWN0ZWQgc2lnbmFscyBoYXZlIGVudHJpZXMgaW4gdGhlIHN0YXRlIG1hcCBmcm9tIHRoZSBzdGFydFxuICAgICAgXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsYXRlc3QgdmFsdWUgZm9yIGEgc3BlY2lmaWMgc2lnbmFsIHR5cGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2lnbmFsIC0gVGhlIHNpZ25hbCBjb25zdHJ1Y3RvciB0byBhc3NvY2lhdGUgdGhlIHZhbHVlIHdpdGhcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgZGF0YSB2YWx1ZSBlbWl0dGVkIGJ5IHRoZSBzaWduYWxcbiAgICAgKi9cbiAgICBzZXQoXG4gICAgICAgIHNpZ25hbDogQV9TaWduYWwsXG4gICAgICAgIHZhbHVlOiBBX1NpZ25hbFxuICAgICk6IHZvaWRcbiAgICBzZXQoXG4gICAgICAgIHNpZ25hbDogQV9TaWduYWxcbiAgICApOiB2b2lkXG4gICAgc2V0KFxuICAgICAgICBzaWduYWw6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4sXG4gICAgICAgIHZhbHVlOiBBX1NpZ25hbFxuICAgICk6IHZvaWRcbiAgICBzZXQoXG4gICAgICAgIHBhcmFtMTogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPiB8IEFfU2lnbmFsLFxuICAgICAgICBwYXJhbTI/OiBBX1NpZ25hbFxuICAgICk6IHZvaWQge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBwYXJhbTEgaW5zdGFuY2VvZiBBX1NpZ25hbCA/IHBhcmFtMS5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8QV9TaWduYWw+IDogcGFyYW0xO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcmFtMSBpbnN0YW5jZW9mIEFfU2lnbmFsID8gcGFyYW0xIDogcGFyYW0yITtcblxuICAgICAgICB0aGlzLl9zdGF0ZS5zZXQoc2lnbmFsLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBsYXRlc3QgdmFsdWUgZm9yIGEgc3BlY2lmaWMgc2lnbmFsIHR5cGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2lnbmFsIC0gVGhlIHNpZ25hbCBjb25zdHJ1Y3RvciB0byBnZXQgdGhlIHZhbHVlIGZvclxuICAgICAqIEByZXR1cm5zIFRoZSBsYXRlc3QgZGF0YSB2YWx1ZSBvciB1bmRlZmluZWQgaWYgbm8gdmFsdWUgaGFzIGJlZW4gc2V0XG4gICAgICovXG4gICAgZ2V0KFxuICAgICAgICBzaWduYWw6IEFfU2lnbmFsXG4gICAgKTogQV9TaWduYWwgfCB1bmRlZmluZWRcbiAgICBnZXQoXG4gICAgICAgIHNpZ25hbDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPlxuICAgICk6IEFfU2lnbmFsIHwgdW5kZWZpbmVkXG4gICAgZ2V0KFxuICAgICAgICBwYXJhbTogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPiB8IEFfU2lnbmFsXG4gICAgKTogQV9TaWduYWwgfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBwYXJhbSBpbnN0YW5jZW9mIEFfU2lnbmFsID8gcGFyYW0uY29uc3RydWN0b3IgYXMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPiA6IHBhcmFtO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUuZ2V0KHNpZ25hbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgc2lnbmFsIHR5cGUgaGFzIGJlZW4gcmVnaXN0ZXJlZCBpbiB0aGUgc3RhdGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2lnbmFsIC0gVGhlIHNpZ25hbCBjb25zdHJ1Y3RvciB0byBjaGVjayBmb3JcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBzaWduYWwgdHlwZSBleGlzdHMgaW4gdGhlIHN0YXRlIG1hcFxuICAgICAqL1xuICAgIGhhcyhcbiAgICAgICAgc2lnbmFsOiBBX1NpZ25hbFxuICAgICk6IGJvb2xlYW5cbiAgICBoYXMoXG4gICAgICAgIHNpZ25hbDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPlxuICAgICk6IGJvb2xlYW5cbiAgICBoYXMoXG4gICAgICAgIHBhcmFtOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8QV9TaWduYWw+IHwgQV9TaWduYWxcbiAgICApOiBib29sZWFuIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gcGFyYW0gaW5zdGFuY2VvZiBBX1NpZ25hbCA/IHBhcmFtLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4gOiBwYXJhbTtcblxuICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmUuaW5jbHVkZXMoc2lnbmFsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgc2lnbmFsIHR5cGUgYW5kIGl0cyBhc3NvY2lhdGVkIHZhbHVlIGZyb20gdGhlIHN0YXRlXG4gICAgICogXG4gICAgICogQHBhcmFtIHNpZ25hbCAtIFRoZSBzaWduYWwgY29uc3RydWN0b3IgdG8gcmVtb3ZlXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgc2lnbmFsIHdhcyBzdWNjZXNzZnVsbHkgZGVsZXRlZCwgZmFsc2UgaWYgaXQgZGlkbid0IGV4aXN0XG4gICAgICovXG4gICAgZGVsZXRlKFxuICAgICAgICBzaWduYWw6IEFfU2lnbmFsXG4gICAgKTogYm9vbGVhblxuICAgIGRlbGV0ZShcbiAgICAgICAgc2lnbmFsOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8QV9TaWduYWw+XG4gICAgKTogYm9vbGVhblxuICAgIGRlbGV0ZShcbiAgICAgICAgcGFyYW06IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4gfCBBX1NpZ25hbFxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBwYXJhbSBpbnN0YW5jZW9mIEFfU2lnbmFsID8gcGFyYW0uY29uc3RydWN0b3IgYXMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPiA6IHBhcmFtO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUuZGVsZXRlKHNpZ25hbCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgY3VycmVudCBzdGF0ZSB0byBhIHZlY3RvciAob3JkZXJlZCBhcnJheSkgZm9ybWF0XG4gICAgICogXG4gICAgICogVGhlIG9yZGVyIGlzIGRldGVybWluZWQgYnkgdGhlIHN0cnVjdHVyZSBhcnJheSBwcm92aWRlZCBkdXJpbmcgY29uc3RydWN0aW9uLlxuICAgICAqIEVhY2ggcG9zaXRpb24gaW4gdGhlIHZlY3RvciBjb3JyZXNwb25kcyB0byBhIHNwZWNpZmljIHNpZ25hbCB0eXBlJ3MgbGF0ZXN0IHZhbHVlLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIHNpZ25hbCB2YWx1ZXMgaW4gdGhlIG9yZGVyIGRlZmluZWQgYnkgdGhlIHN0cnVjdHVyZVxuICAgICAqIEB0aHJvd3MgRXJyb3IgaWYgc3RydWN0dXJlIGlzIG5vdCBkZWZpbmVkIG9yIGlmIGFueSBzaWduYWwgdmFsdWUgaXMgdW5kZWZpbmVkXG4gICAgICovXG4gICAgdG9WZWN0b3IoKTogQV9TaWduYWxWZWN0b3Ige1xuICAgICAgICBjb25zdCB2ZWN0b3I6IEFycmF5PEFfU2lnbmFsPiA9IFtdO1xuXG4gICAgICAgIHRoaXMuX3N0YXRlLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIHZlY3Rvci5wdXNoKHZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBX1NpZ25hbFZlY3Rvcih7XG4gICAgICAgICAgICBzdHJ1Y3R1cmU6IHRoaXMuc3RydWN0dXJlLFxuICAgICAgICAgICAgdmFsdWVzOiB2ZWN0b3JcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGN1cnJlbnQgc3RhdGUgdG8gYW4gb2JqZWN0IHdpdGggc2lnbmFsIGNvbnN0cnVjdG9yIG5hbWVzIGFzIGtleXNcbiAgICAgKiBcbiAgICAgKiBUaGlzIHByb3ZpZGVzIGEgbW9yZSByZWFkYWJsZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3RhdGUgd2hlcmUgZWFjaCBzaWduYWxcbiAgICAgKiB0eXBlIGlzIGlkZW50aWZpZWQgYnkgaXRzIGNvbnN0cnVjdG9yIG5hbWUuXG4gICAgICogXG4gICAgICogQHJldHVybnMgT2JqZWN0IG1hcHBpbmcgc2lnbmFsIGNvbnN0cnVjdG9yIG5hbWVzIHRvIHRoZWlyIGxhdGVzdCB2YWx1ZXNcbiAgICAgKiBAdGhyb3dzIEVycm9yIGlmIGFueSBzaWduYWwgdmFsdWUgaXMgdW5kZWZpbmVkXG4gICAgICovXG4gICAgdG9PYmplY3QoKTogUmVjb3JkPHN0cmluZywgQV9TaWduYWw+IHtcbiAgICAgICAgY29uc3Qgb2JqOiBSZWNvcmQ8c3RyaW5nLCBBX1NpZ25hbD4gPSB7fTtcblxuICAgICAgICB0aGlzLnN0cnVjdHVyZS5mb3JFYWNoKChzaWduYWxDb25zdHJ1Y3RvcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9zdGF0ZS5nZXQoc2lnbmFsQ29uc3RydWN0b3IpO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNpZ25hbCAke3NpZ25hbENvbnN0cnVjdG9yLm5hbWV9IGhhcyBubyB2YWx1ZSBpbiBzdGF0ZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JqW3NpZ25hbENvbnN0cnVjdG9yLm5hbWVdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG59IiwgImltcG9ydCB7IEFfQ29tbW9uSGVscGVyLCBBX0NvbnRleHQsIEFfRnJhZ21lbnQsIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciwgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfU2lnbmFsQ29uZmlnX0luaXQgfSBmcm9tIFwiLi4vQS1TaWduYWwudHlwZXNcIjtcbmltcG9ydCB7IEFfU2lnbmFsIH0gZnJvbSBcIi4uL2VudGl0aWVzL0EtU2lnbmFsLmVudGl0eVwiO1xuXG5cblxuLyoqXG4gKiBUaGlzIGNvbXBvbmVudCBzaG91bGQgZGljdGF0ZSBhIHN0cnVjdHVyZSBvZiB0aGUgdmVjdG9yIGZvciBhbGwgc2lnbmFscyB3aXRoaW4gYSBnaXZlbiBzY29wZS5cbiAqIHNvIGlmIHRoZXJlJ3JlIG11bHRpcGxlIHNpZ25hbHMgaXQgc2hvdWxkIHNheSB3aGF0IHR5cGUgYXQgd2hhdCBwb3NpdGlvbiBzaG91bGQgYmUgZXhwZWN0ZWQuXG4gKiBcbiAqIGUuZy4gW0FfUm91dGVyV2F0Y2hlciwgQV9TY29wZVdhdGNoZXIsIEFfTG9nZ2VyV2F0Y2hlcl1cbiAqIFRoaXMgc3RydWN0dXJlIHRoZW4gc2hvdWxkIGJlIHVzZWQgZm9yIGFueSBmdXJ0aGVyIHByb2Nlc3Npbmcgb2Ygc2lnbmFscyB3aXRoaW4gdGhlIHNjb3BlLlxuICovXG5leHBvcnQgY2xhc3MgQV9TaWduYWxDb25maWcgZXh0ZW5kcyBBX0ZyYWdtZW50IHtcblxuICAgIHByb3RlY3RlZCBfc3RydWN0dXJlPzogQXJyYXk8QV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPEFfU2lnbmFsPj47XG5cbiAgICBwcm90ZWN0ZWQgX2NvbmZpZzogQV9TaWduYWxDb25maWdfSW5pdFxuXG4gICAgcHJvdGVjdGVkIF9yZWFkeT86IFByb21pc2U8dm9pZD47XG5cbiAgICBnZXQgc3RydWN0dXJlKCk6IEFycmF5PEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4+IHtcbiAgICAgICAgaWYgKHRoaXMuX3N0cnVjdHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0cnVjdHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNjb3BlID0gQV9Db250ZXh0LnNjb3BlKHRoaXMpO1xuXG4gICAgICAgIC8vICBqdXN0IHNvcnQgYnkgY29uc3RydWN0b3IgbmFtZSB0byBoYXZlIGNvbnNpc3RlbnQgb3JkZXJcbiAgICAgICAgY29uc3QgY29uc3RydWN0b3JzID0gWy4uLnNjb3BlLmFsbG93ZWRFbnRpdGllc11cbiAgICAgICAgICAgIC5maWx0ZXIoZSA9PiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oZSwgQV9TaWduYWwpKVxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEuY29uc3RydWN0b3IubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpXG4gICAgICAgICAgICAubWFwKHMgPT4gc2NvcGUucmVzb2x2ZUNvbnN0cnVjdG9yPEFfU2lnbmFsPihzLm5hbWUpKTtcblxuICAgICAgICByZXR1cm4gY29uc3RydWN0b3JzLmZpbHRlcihzID0+IHMpIGFzIEFycmF5PEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4+O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZXMgZm9yIHN5bmNocm9uaXphdGlvbiB0byBlbnN1cmUgdGhlIGNvbmZpZyBpcyBpbml0aWFsaXplZC5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBjb25maWd1cmF0aW9uIGhhcyBiZWVuIGluaXRpYWxpemVkLlxuICAgICAqL1xuICAgIGdldCByZWFkeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwYXJhbXM6IEFfU2lnbmFsQ29uZmlnX0luaXRcbiAgICApIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiBcIkFfU2lnbmFsQ29uZmlnXCIgfSk7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IHBhcmFtcztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBzaWduYWwgY29uZmlndXJhdGlvbiBpZiBub3QgYWxyZWFkeSBpbml0aWFsaXplZC5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhc3luYyBpbml0aWFsaXplKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3JlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLl9yZWFkeSA9IHRoaXMuX2luaXRpYWxpemUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIHNpZ25hbCBjb25maWd1cmF0aW9uIGJ5IHByb2Nlc3NpbmcgdGhlIHByb3ZpZGVkIHN0cnVjdHVyZSBvciBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gICAgICogVGhpcyBtZXRob2Qgc2V0cyB1cCB0aGUgaW50ZXJuYWwgc3RydWN0dXJlIG9mIHNpZ25hbCBjb25zdHJ1Y3RvcnMgYmFzZWQgb24gdGhlIGNvbmZpZ3VyYXRpb24uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIF9pbml0aWFsaXplKCkge1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLnN0cnVjdHVyZSkge1xuICAgICAgICAgICAgdGhpcy5fc3RydWN0dXJlID0gdGhpcy5fY29uZmlnLnN0cnVjdHVyZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9jb25maWcuc3RyaW5nU3RydWN0dXJlKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpbmdTdHJ1Y3R1cmUgPSB0aGlzLl9jb25maWcuc3RyaW5nU3RydWN0dXJlLnNwbGl0KCcsJykubWFwKHMgPT4gcy50cmltKCkpO1xuICAgICAgICAgICAgdGhpcy5fc3RydWN0dXJlID0gc3RyaW5nU3RydWN0dXJlXG4gICAgICAgICAgICAgICAgLm1hcChuYW1lID0+IEFfQ29udGV4dC5zY29wZSh0aGlzKS5yZXNvbHZlQ29uc3RydWN0b3I8QV9TaWduYWw+KG5hbWUpKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIocyA9PiBzKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG59IiwgImltcG9ydCB7IEFfQ2FsbGVyLCBBX0NvbXBvbmVudCwgQV9Db250ZXh0LCBBX0ZlYXR1cmUsIEFfSW5qZWN0LCBBX1Njb3BlIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfU2lnbmFsRmVhdHVyZXMgfSBmcm9tIFwiLi4vQS1TaWduYWwuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1NpZ25hbFN0YXRlIH0gZnJvbSBcIi4uL2NvbnRleHQvQS1TaWduYWxTdGF0ZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX1NpZ25hbENvbmZpZyB9IGZyb20gXCIuLi9jb250ZXh0L0EtU2lnbmFsQ29uZmlnLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfQ29uZmlnIH0gZnJvbSBcIi4uLy4uL0EtQ29uZmlnL0EtQ29uZmlnLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQV9TaWduYWwgfSBmcm9tIFwiLi4vZW50aXRpZXMvQS1TaWduYWwuZW50aXR5XCI7XG5cblxuXG4vKipcbiAqIFRoaXMgY29tcG9uZW50IHNob3VsZCBsaXN0ZW4gZm9yIGFsbCBhdmFpbGFibGUgc2lnbmFsIHdhdGNoZXJzIGNvbXBvbmVudHMgaW4gdGhpcyBhbmQgYWxsIHBhcmVudCBzY29wZXMuIFxuICogV2hlbiBhIHNpZ25hbCBpcyBlbWl0dGVkLCBpdCBzaG91bGQgZm9yd2FyZCB0aGUgc2lnbmFsIHRvIGFsbCByZWdpc3RlcmVkIHdhdGNoZXJzLlxuICogXG4gKiBBX1NpZ25hbEJ1cyBzaG91bGQgYWx3YXlzIHJldHVybiB0aGUgc2FtZSB2ZWN0b3Igc3RydWN0dXJlIG9mIHRoZSBzaWduYWxzLCBhbmQgdGhhdCdzIHdoeSBpdCBzaG91bGQgc3RvcmUgdGhlIHN0YXRlIG9mIHRoZSBsYXRlc3QgYmVoYXZpb3IuIFxuICogRm9yIGV4YW1wbGUgaWYgdGhlcmUgYXJlIDMgd2F0Y2hlcnMgcmVnaXN0ZXJlZCwgdGhlIGJ1cyBzaG91bGQgYWx3YXlzIHJldHVybiBhIHZlY3RvciBvZiAzIGVsZW1lbnRzLCBiYXNlZCBvbiB0aGUgQV9TaWduYWxDb25maWcgc3RydWN0dXJlLlxuICogXG4gKiBcbiAqIFRoZSBjb21wb25lbnQgaXRzZWxmIGlzIHN0YXRlbGVzcyBhbmQgYWxsIG1ldGhvZHMgdXNlcyBvbmx5IHBhcmFtZXRlcnMgKGNvbnRleHQpIGlzIHByb3ZpZGVkIHdpdGguXG4gKi9cbmV4cG9ydCBjbGFzcyBBX1NpZ25hbEJ1cyBleHRlbmRzIEFfQ29tcG9uZW50IHtcblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2RzIGV4dGVuZHMgQS1TaWduYWwgRW1pdCBmZWF0dXJlIHRvIGhhbmRsZSBzaWduYWwgZW1pc3Npb24gd2l0aGluIHRoZSBidXMuXG4gICAgICogXG4gICAgICogSXQgdXBkYXRlcyB0aGUgc2lnbmFsIHN0YXRlIGFuZCBlbWl0cyB0aGUgdXBkYXRlZCBzaWduYWwgdmVjdG9yLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzaWduYWwgXG4gICAgICogQHBhcmFtIGdsb2JhbENvbmZpZyBcbiAgICAgKiBAcGFyYW0gbG9nZ2VyIFxuICAgICAqIEBwYXJhbSBzdGF0ZSBcbiAgICAgKiBAcGFyYW0gY29uZmlnIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgc2NvcGU6IFtBX1NpZ25hbF1cbiAgICB9KVxuICAgIGFzeW5jIFtBX1NpZ25hbEZlYXR1cmVzLk5leHRdKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIHNpZ25hbDogQV9TaWduYWwsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcblxuICAgICAgICBAQV9JbmplY3QoQV9Db25maWcpIGdsb2JhbENvbmZpZz86IEFfQ29uZmlnPFsnQV9TSUdOQUxfVkVDVE9SX1NUUlVDVFVSRSddPixcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI/OiBBX0xvZ2dlcixcbiAgICAgICAgQEFfSW5qZWN0KEFfU2lnbmFsU3RhdGUpIHN0YXRlPzogQV9TaWduYWxTdGF0ZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfU2lnbmFsQ29uZmlnKSBjb25maWc/OiBBX1NpZ25hbENvbmZpZyxcbiAgICApIHtcblxuICAgICAgICAvKlxuICAgICAgICAxKSBjcmVhdGUgYSBzaWduYWwgd2hlbiBpdCBvY2N1cnMgdmlhIG5ldyBBX1NpZ25hbCgnc29tZWRhdGEnKVxuICAgICAgICAyKSBlbWl0IGEgc2lnbmFsIHdoZW4gbmVlZGVkIHZpYSBzaWduYWwuZW1pdChzY29wZSlcbiAgICAgICAgMykgdGhlIGJ1cyBzaG91bGQgbGlzdGVuIGZvciBhbGwgZW1pdHRlZCBzaWduYWxzIHdpdGhpbiB0aGUgc2NvcGVcbiAgICAgICAgNCkgd2hlbiBhIHNpZ25hbCBpcyBlbWl0dGVkLCB0aGUgYnVzIHNob3VsZCBzdG9yZSBhIHNpZ25hbCBpbiBzb21lIHBsYWNlIChwcm9iYWJseSBpdCdzIG1lbW9yeSlcbiAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2UgbmVlZCBhIGNvbnRleHQgd2hlcmUgY29tcG9uZW50IGlzIHJlZ2lzdGVyZWQsIHRvIHByZXZlbnQgYW55IGR1cGxpY2F0ZSByZWdpc3RyYXRpb25zXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBjb21wb25lbnRDb250ZXh0ID0gQV9Db250ZXh0LnNjb3BlKHRoaXMpO1xuXG5cbiAgICAgICAgaWYgKCFjb25maWcpIHtcbiAgICAgICAgICAgIGNvbmZpZyA9IG5ldyBBX1NpZ25hbENvbmZpZyh7XG4gICAgICAgICAgICAgICAgc3RyaW5nU3RydWN0dXJlOiBnbG9iYWxDb25maWc/LmdldCgnQV9TSUdOQUxfVkVDVE9SX1NUUlVDVFVSRScpIHx8IHVuZGVmaW5lZFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbXBvbmVudENvbnRleHQucmVnaXN0ZXIoY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29uZmlnLnJlYWR5KVxuICAgICAgICAgICAgYXdhaXQgY29uZmlnLmluaXRpYWxpemUoKTtcblxuICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IG5ldyBBX1NpZ25hbFN0YXRlKGNvbmZpZy5zdHJ1Y3R1cmUpO1xuICAgICAgICAgICAgY29tcG9uZW50Q29udGV4dC5yZWdpc3RlcihzdGF0ZSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGlmICghc3RhdGUuaGFzKHNpZ25hbCkpXG4gICAgICAgICAgICByZXR1cm47XG5cblxuICAgICAgICAvLyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vICBBbmQgZmluYWxseSBpZiBhbGwgY2hlY2tzIGFyZSBwYXNzZWQsIHdlIGNhbiB1cGRhdGUgdGhlIHN0YXRlXG4gICAgICAgIC8vICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBsb2dnZXI/LmRlYnVnKGBBX1NpZ25hbEJ1czogVXBkYXRpbmcgc3RhdGUgZm9yIHNpZ25hbCAnJHtzaWduYWwuY29uc3RydWN0b3IubmFtZX0nIHdpdGggZGF0YTpgLCBzaWduYWwuZGF0YSk7XG5cbiAgICAgICAgc3RhdGUuc2V0KHNpZ25hbCk7XG5cbiAgICAgICAgY29uc3QgdmVjdG9yID0gc3RhdGUudG9WZWN0b3IoKTtcblxuICAgICAgICBhd2FpdCB2ZWN0b3IubmV4dChzY29wZSk7XG4gICAgfVxufVxuIiwgImV4cG9ydCBjbGFzcyBBX0RlZmVycmVkPFQ+IHtcbiAgICBwdWJsaWMgcHJvbWlzZTogUHJvbWlzZTxUPjtcbiAgICBwcml2YXRlIHJlc29sdmVGbiE6ICh2YWx1ZTogVCB8IFByb21pc2VMaWtlPFQ+KSA9PiB2b2lkO1xuICAgIHByaXZhdGUgcmVqZWN0Rm4hOiAocmVhc29uPzogYW55KSA9PiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRlZmVycmVkIHByb21pc2VcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCBjYW4gYmUgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQgbGF0ZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2U8VD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlRm4gPSByZXNvbHZlO1xuICAgICAgICAgICAgdGhpcy5yZWplY3RGbiA9IHJlamVjdDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVzb2x2ZSh2YWx1ZTogVCB8IFByb21pc2VMaWtlPFQ+KTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVzb2x2ZUZuKHZhbHVlKTtcbiAgICB9XG5cbiAgICByZWplY3QocmVhc29uPzogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVqZWN0Rm4ocmVhc29uKTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfRGVmZXJyZWQgfSBmcm9tIFwiLi9BLURlZmVycmVkLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfVVRJTFNfVFlQRVNfX1NjaGVkdWxlT2JqZWN0Q2FsbGJhY2ssIEFfVVRJTFNfVFlQRVNfX1NjaGVkdWxlT2JqZWN0Q29uZmlnIH0gZnJvbSBcIi4vQS1TY2hlZHVsZS50eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgQV9TY2hlZHVsZU9iamVjdDxUIGV4dGVuZHMgYW55ID0gYW55PiB7XG5cbiAgICBwcml2YXRlIHRpbWVvdXQhOiBOb2RlSlMuVGltZW91dDtcbiAgICBwcml2YXRlIGRlZmVycmVkITogQV9EZWZlcnJlZDxUPjtcblxuICAgIHByaXZhdGUgY29uZmlnOiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENvbmZpZyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSB0aW1lb3V0IGlzIGNsZWFyZWQsIHNob3VsZCB0aGUgcHJvbWlzZSByZXNvbHZlIG9yIHJlamVjdD9cbiAgICAgICAgICogQlkgRGVmYXVsdCBpdCByZWplY3RzXG4gICAgICAgICAqIFxuICAgICAgICAgKiAhISFOT1RFOiBJZiB0aGUgcHJvcGVydHkgaXMgc2V0IHRvIHRydWUsIHRoZSBwcm9taXNlIHdpbGwgcmVzb2x2ZSB3aXRoIHVuZGVmaW5lZFxuICAgICAgICAgKi9cbiAgICAgICAgcmVzb2x2ZU9uQ2xlYXI6IGZhbHNlXG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNjaGVkdWxlZCBvYmplY3QgdGhhdCB3aWxsIGV4ZWN1dGUgdGhlIGFjdGlvbiBhZnRlciBzcGVjaWZpZWQgbWlsbGlzZWNvbmRzXG4gICAgICogXG4gICAgICogXG4gICAgICogQHBhcmFtIG1zIC0gbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIGV4ZWN1dGluZyB0aGUgYWN0aW9uXG4gICAgICogQHBhcmFtIGFjdGlvbiAtIHRoZSBhY3Rpb24gdG8gZXhlY3V0ZVxuICAgICAqIEBwYXJhbSBjb25maWcgLSBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBzY2hlZHVsZSBvYmplY3RcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBleGVjdXRpbmcgdGhlIGFjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgbXM6IG51bWJlcixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhY3Rpb24gdG8gZXhlY3V0ZSBhZnRlciB0aGUgc3BlY2lmaWVkIG1pbGxpc2Vjb25kc1xuICAgICAgICAgKi9cbiAgICAgICAgYWN0aW9uOiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENhbGxiYWNrPFQ+LFxuICAgICAgICAvKipcbiAgICAgICAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgc2NoZWR1bGUgb2JqZWN0XG4gICAgICAgICAqL1xuICAgICAgICBjb25maWc/OiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENvbmZpZ1xuICAgICkge1xuICAgICAgICBpZiAoY29uZmlnKVxuICAgICAgICAgICAgdGhpcy5jb25maWcgPSB7IC4uLnRoaXMuY29uZmlnLCAuLi5jb25maWcgfTtcblxuICAgICAgICB0aGlzLmRlZmVycmVkID0gbmV3IEFfRGVmZXJyZWQ8VD4oKTtcblxuICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgKCkgPT4gYWN0aW9uKClcbiAgICAgICAgICAgICAgICAudGhlbigoLi4uYXJncykgPT4gdGhpcy5kZWZlcnJlZC5yZXNvbHZlKC4uLmFyZ3MpKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoLi4uYXJncykgPT4gdGhpcy5kZWZlcnJlZC5yZWplY3QoLi4uYXJncykpLFxuICAgICAgICAgICAgbXNcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXQgcHJvbWlzZSgpOiBQcm9taXNlPFQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICBjbGVhcigpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5yZXNvbHZlT25DbGVhcilcbiAgICAgICAgICAgICAgICB0aGlzLmRlZmVycmVkLnJlc29sdmUodW5kZWZpbmVkIGFzIFQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuZGVmZXJyZWQucmVqZWN0KG5ldyBBX0Vycm9yKFwiVGltZW91dCBDbGVhcmVkXCIpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwgImltcG9ydCB7IEFfQ29tcG9uZW50LCBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9TY2hlZHVsZU9iamVjdCB9IGZyb20gXCIuL0EtU2NoZWR1bGVPYmplY3QuY2xhc3NcIjtcbmltcG9ydCB7IEFfVVRJTFNfVFlQRVNfX1NjaGVkdWxlT2JqZWN0Q2FsbGJhY2ssIEFfVVRJTFNfVFlQRVNfX1NjaGVkdWxlT2JqZWN0Q29uZmlnIH0gZnJvbSBcIi4vQS1TY2hlZHVsZS50eXBlc1wiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfU2NoZWR1bGUgZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gc2NoZWR1bGUgYSBjYWxsYmFjayBmb3IgcGFydGljdWxhciB0aW1lIGluIHRoZSBmdXR1cmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdGltZXN0YW1wIC0gVW5peCB0aW1lc3RhbXAgaW4gbWlsbGlzZWNvbmRzXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGVcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgc2NoZWR1bGUgb2JqZWN0XG4gICAgICovXG4gICAgYXN5bmMgc2NoZWR1bGU8VCBleHRlbmRzIGFueSA9IGFueT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVbml4IHRpbWVzdGFtcCBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICovXG4gICAgICAgIHRpbWVzdGFtcDogbnVtYmVyLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGVcbiAgICAgICAgICovXG4gICAgICAgIGNhbGxiYWNrOiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENhbGxiYWNrPFQ+LFxuICAgICAgICAvKipcbiAgICAgICAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgc2NoZWR1bGUgb2JqZWN0XG4gICAgICAgICAqL1xuICAgICAgICBjb25maWc/OiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENvbmZpZ1xuICAgICk6IFByb21pc2U8QV9TY2hlZHVsZU9iamVjdDxUPj5cbiAgICBhc3luYyBzY2hlZHVsZTxUIGV4dGVuZHMgYW55ID0gYW55PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElTTyBkYXRlIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRhdGUgYW5kIHRpbWUgdG8gc2NoZWR1bGUgdGhlIGNhbGxiYWNrIGZvclxuICAgICAgICAgKi9cbiAgICAgICAgZGF0ZTogc3RyaW5nLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGVcbiAgICAgICAgICovXG4gICAgICAgIGNhbGxiYWNrOiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENhbGxiYWNrPFQ+LFxuICAgICAgICAvKipcbiAgICAgICAgKiBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBzY2hlZHVsZSBvYmplY3RcbiAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDb25maWdcbiAgICApOiBQcm9taXNlPEFfU2NoZWR1bGVPYmplY3Q8VD4+XG4gICAgYXN5bmMgc2NoZWR1bGU8VCBleHRlbmRzIGFueSA9IGFueT4oXG4gICAgICAgIGRhdGU6IHN0cmluZyB8IG51bWJlcixcbiAgICAgICAgY2FsbGJhY2s6IEFfVVRJTFNfVFlQRVNfX1NjaGVkdWxlT2JqZWN0Q2FsbGJhY2s8VD4sXG4gICAgICAgIGNvbmZpZz86IEFfVVRJTFNfVFlQRVNfX1NjaGVkdWxlT2JqZWN0Q29uZmlnXG4gICAgKTogUHJvbWlzZTxBX1NjaGVkdWxlT2JqZWN0PFQ+PiB7XG5cbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gQV9UeXBlR3VhcmRzLmlzU3RyaW5nKGRhdGUpXG4gICAgICAgICAgICA/IChuZXcgRGF0ZShkYXRlKSkuZ2V0VGltZSgpXG4gICAgICAgICAgICA6IGRhdGU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBX1NjaGVkdWxlT2JqZWN0PFQ+KFxuICAgICAgICAgICAgdGltZXN0YW1wIC0gRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgY29uZmlnXG4gICAgICAgICk7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleGVjdXRlIGNhbGxiYWNrIGFmdGVyIHBhcnRpY3VsYXIgZGVsYXkgaW4gbWlsbGlzZWNvbmRzXG4gICAgICogU28gdGhlIGNhbGxiYWNrIHdpbGwgYmUgZXhlY3V0ZWQgYWZ0ZXIgdGhlIHNwZWNpZmllZCBkZWxheVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBtcyBcbiAgICAgKi9cbiAgICBhc3luYyBkZWxheTxUIGV4dGVuZHMgYW55ID0gYW55PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGF5IGluIG1pbGxpc2Vjb25kc1xuICAgICAgICAgKi9cbiAgICAgICAgbXM6IG51bWJlcixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayB0byBleGVjdXRlIGFmdGVyIHRoZSBkZWxheVxuICAgICAgICAgKi9cbiAgICAgICAgY2FsbGJhY2s6IEFfVVRJTFNfVFlQRVNfX1NjaGVkdWxlT2JqZWN0Q2FsbGJhY2s8VD4sXG4gICAgICAgIC8qKlxuICAgICAgICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIHNjaGVkdWxlIG9iamVjdFxuICAgICAgICAqL1xuICAgICAgICBjb25maWc/OiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENvbmZpZ1xuICAgICk6IFByb21pc2U8QV9TY2hlZHVsZU9iamVjdDxUPj4ge1xuICAgICAgICByZXR1cm4gbmV3IEFfU2NoZWR1bGVPYmplY3Q8VD4oXG4gICAgICAgICAgICBtcyxcbiAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgY29uZmlnXG4gICAgICAgICk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbXBvbmVudCwgQV9GZWF0dXJlIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFyZUZlYXR1cmVzIH0gZnJvbSBcIi4vQXJlLmNvbnN0YW50c1wiO1xuXG5cbmV4cG9ydCBjbGFzcyBBcmU8XG4gICAgX0RhdGFUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT5cbj4gZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG5cblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09IExJRkVDWUNMRSBERUNPUkFUT1JTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgc3RhdGljIGdldCBFdmVudEhhbmRsZXIoKSB7XG4gICAgICAgIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IHByb3BlcnR5S2V5LFxuICAgICAgICAgICAgICAgIHNjb3BlOiBbdGFyZ2V0LmNvbnN0cnVjdG9yXSxcbiAgICAgICAgICAgIH0pKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBvbkJlZm9yZUxvYWQoKSB7XG4gICAgICAgIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IEFyZUZlYXR1cmVzLm9uQmVmb3JlTG9hZCxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgc3RhdGljIGdldCBvbkFmdGVyTG9hZCgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgICAgICAgICAgbmFtZTogQXJlRmVhdHVyZXMub25BZnRlckxvYWQsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHN0YXRpYyBnZXQgb25CZWZvcmVDb21waWxlKCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBcmVGZWF0dXJlcy5vbkJlZm9yZUNvbXBpbGUsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9uQWZ0ZXJDb21waWxlKCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBcmVGZWF0dXJlcy5vbkFmdGVyQ29tcGlsZSxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb25CZWZvcmVNb3VudCgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgICAgICAgICAgbmFtZTogQXJlRmVhdHVyZXMub25CZWZvcmVNb3VudCxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb25BZnRlck1vdW50KCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBcmVGZWF0dXJlcy5vbkFmdGVyTW91bnQsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9uQmVmb3JlVW5tb3VudCgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgICAgICAgICAgbmFtZTogQXJlRmVhdHVyZXMub25CZWZvcmVVbm1vdW50LFxuICAgICAgICAgICAgICAgIHNjb3BlOiBbdGFyZ2V0LmNvbnN0cnVjdG9yXSxcbiAgICAgICAgICAgIH0pKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBvbkFmdGVyVW5tb3VudCgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgICAgICAgICAgbmFtZTogQXJlRmVhdHVyZXMub25BZnRlclVubW91bnQsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9uQmVmb3JlVXBkYXRlKCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBcmVGZWF0dXJlcy5vbkJlZm9yZVVwZGF0ZSxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb25BZnRlclVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgICAgICAgICAgbmFtZTogQXJlRmVhdHVyZXMub25BZnRlclVwZGF0ZSxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PSBDT01QT05FTlQgTUVUSE9EUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBnZXQgd3JhcHBlcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdGVtcGxhdGUgc3RyaW5nIGZvciB0aGUgY29tcG9uZW50XG4gICAgICogXG4gICAgICogQ291bGQgYmUgb3ZlcnJpZGRlbiB0byBwcm92aWRlIGR5bmFtaWMgdGVtcGxhdGVzIGJhc2VkIG9uIGNvbXBvbmVudCBzdGF0ZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIHRlbXBsYXRlKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiBgYDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzdHlsZXMgc3RyaW5nIGZvciB0aGUgY29tcG9uZW50XG4gICAgICogIFxuICAgICAqIENvdWxkIGJlIG92ZXJyaWRkZW4gdG8gcHJvdmlkZSBkeW5hbWljIHN0eWxlcyBiYXNlZCBvbiBjb21wb25lbnQgc3RhdGVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhc3luYyBzdHlsZXMoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIGBgO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRhdGEgb2JqZWN0IGZvciB0aGUgY29tcG9uZW50XG4gICAgICogXG4gICAgICogVXNlcyBhcyB0aGUgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgY29tcG9uZW50XG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgZGF0YSgpOiBQcm9taXNlPF9EYXRhVHlwZT4ge1xuICAgICAgICByZXR1cm4ge30gYXMgX0RhdGFUeXBlO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9DYWxsZXIsIEFfQ29uY2VwdCwgQV9Db250ZXh0LCBBX0ZlYXR1cmUsIEFfSW5qZWN0LCBBX1Njb3BlIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfQ29tbWFuZEZlYXR1cmVzLCBBX0xvZ2dlciwgQV9NZW1vcnksIEFfUG9seWZpbGwgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFyZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlQ29tcG9uZW50L0FyZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUVtYWlsKGVtYWlsOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC8udGVzdChlbWFpbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93QWxlcnQobWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgYWxlcnQobWVzc2FnZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBTaWduSW5Db21wb25lbnQgZXh0ZW5kcyBBcmUge1xuXG4gICAgYXN5bmMgZGF0YSgpOiBQcm9taXNlPHsgYnRuTmFtZTogc3RyaW5nIH0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJ0bk5hbWU6ICdTaWduIEluJ1xuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgYXN5bmMgc3R5bGVzKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgIC5jYXJkIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgICAgIG1heC13aWR0aDogMzAwcHg7XG4gICAgICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgICAgIHRvcDo1MCU7XG4gICAgICAgICAgICBsZWZ0OjUwJTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgICAgICB9XG4gICAgICAgICAgICBgXG4gICAgfVxuXG4gICAgYXN5bmMgdGVtcGxhdGUoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmRcIj5cbiAgICAgICAgICAgICAgICA8aDI+U2lnbiBJbjwvaDI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJlbWFpbFwiIGlkPVwiZW1haWxcIiBwbGFjZWhvbGRlcj1cIkVtYWlsXCIgLz5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgaWQ9XCJwYXNzd29yZFwiIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmRcIiAvPlxuICAgICAgICAgICAgICAgIDxhLWJ0biAgOm5hbWU9XCJidG5OYW1lXCIgOnN0eWxlPVwieyBjb2xvcjogJ3JlZCcgfVwiPjwvYS1idG4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICB9XG5cblxuICAgIC8vIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAvLyAgICAgc2NvcGU6IFtTaWduSW5Db21wb25lbnRdXG4gICAgLy8gfSlcbiAgICAvLyBhc3luYyBBX1VJX05PREVfb25CZWZvcmVMb2FkKFxuICAgIC8vICAgICBAQV9JbmplY3QoQXJlTm9kZSkgbm9kZTogQXJlTm9kZSxcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9VSV9Ob2RlU3RvcmUpIHN0b3JlOiBBX1VJX05vZGVTdG9yZSxcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuICAgIC8vICk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgLy8gICAgIGxvZ2dlci5sb2coJ2dyZWVuJywgYFNpZ25JbkNvbXBvbmVudCBpcyBpbml0aWFsaXppbmcuLi4gOiA8JHtub2RlLmFzZWlkLmVudGl0eX0+IDogYCwgbm9kZS5hc2VpZC50b1N0cmluZygpKTtcblxuXG4gICAgLy8gICAgIHN0b3JlLmRhdGEuc2V0KCdidG5OYW1lJywgJ0N1c3RvbSBTaWduIEluIEJ1dHRvbicpO1xuICAgIC8vIH1cblxuXG4gICAgLy8gcHJpdmF0ZSBhZGRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgLy8gICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2lnbkluQnRuXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIC8vICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuc2lnbkluKCkpO1xuICAgIC8vIH1cblxuICAgIC8vIHByaXZhdGUgYXN5bmMgc2lnbkluKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vICAgICBjb25zdCBlbWFpbCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVtYWlsXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgIC8vICAgICBjb25zdCBwYXNzd29yZCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhc3N3b3JkXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuXG4gICAgLy8gICAgIGNvbnN0IHNpZ25JbkNvbW1hbmQgPSBuZXcgU2lnbkluQ29tbWFuZCh7XG4gICAgLy8gICAgICAgICB1c2VybmFtZTogZW1haWwsXG4gICAgLy8gICAgICAgICBwYXNzd29yZFxuICAgIC8vICAgICB9KTtcblxuXG4gICAgLy8gICAgIEFfQ29udGV4dC5zY29wZSh0aGlzKS5yZWdpc3RlcihzaWduSW5Db21tYW5kKTtcblxuICAgIC8vICAgICBhd2FpdCBzaWduSW5Db21tYW5kLmV4ZWN1dGUoKTtcblxuICAgIC8vICAgICBjb25zb2xlLmxvZyhcIlNpZ25JbiBDb21tYW5kIFJlc3VsdDpcIiwgc2lnbkluQ29tbWFuZC50b0pTT04oKSk7XG4gICAgLy8gfVxuXG5cbiAgICAvLyBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgLy8gICAgIG5hbWU6IEFfQ29tbWFuZEZlYXR1cmVzLm9uQ29tcGxldGUsXG4gICAgLy8gICAgIHNjb3BlOiB7XG4gICAgLy8gICAgICAgICBpbmNsdWRlOiBbU2lnbkluQ29tbWFuZF1cbiAgICAvLyAgICAgfVxuICAgIC8vIH0pXG4gICAgLy8gYXN5bmMgaGFuZGxlU3VjY2Vzc1NpZ25JbihcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfTWVtb3J5KSBtZW1vcnk6IEFfTWVtb3J5PHsgdG9rZW46IFNlcmlhbGl6ZWRUb2tlbiB9PixcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBjb21tYW5kOiBTaWduSW5Db21tYW5kLFxuICAgIC8vICkge1xuXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKFwiU2lnbi1pbiBjb21wbGV0ZWQgd2l0aCByZXN1bHQ6XCIsIGNvbW1hbmQucmVzdWx0KTtcblxuICAgIC8vICAgICBhbGVydChjb21tYW5kLnJlc3VsdClcblxuICAgIC8vICAgICBjb25zdCByZXN1bHRUb2tlbiA9IGF3YWl0IG1lbW9yeS5nZXQoJ3Rva2VuJylcblxuICAgIC8vICAgICBjb25zdCB0b2tlbiA9IG5ldyBUb2tlbihyZXN1bHRUb2tlbik7XG5cbiAgICAvLyAgICAgbWVtb3J5LnNldCgndG9rZW4nLCB0b2tlbiBhcyBhbnkpO1xuICAgIC8vIH1cbn1cbiIsICJpbXBvcnQgeyBBX0ZyYWdtZW50IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIlxuaW1wb3J0IHsgQXJlTm9kZSB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHlcIlxuXG5cbmV4cG9ydCBjbGFzcyBBcmVFdmVudDxcbiAgICBUIGV4dGVuZHMgYW55ID0gYW55XG4+IGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cblxuICAgIHByb3RlY3RlZCBfbm9kZT86IEFyZU5vZGVcblxuICAgIHByb3RlY3RlZCBfcHJvcHM6IHtcbiAgICAgICAgZGF0YTogVCxcbiAgICAgICAgZXZlbnQ6IHN0cmluZ1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGV2ZW50TmFtZTogc3RyaW5nLCBwcm9wczoge1xuICAgICAgICBkYXRhOiBULFxuICAgICAgICBub2RlPzogQXJlTm9kZSxcbiAgICAgICAgZXZlbnQ6IHN0cmluZ1xuICAgIH0pIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiBldmVudE5hbWUgfSlcblxuXG4gICAgICAgIHRoaXMuX3Byb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuX25vZGUgPSBwcm9wcy5ub2RlO1xuICAgIH1cblxuICAgIGdldCBub2RlKCk6IEFyZU5vZGUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fbm9kZTtcbiAgICB9XG5cbiAgICBnZXQgZGF0YSgpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BzLmRhdGFcbiAgICB9XG5cbiAgICBnZXQgZXZlbnQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BzLmV2ZW50XG4gICAgfVxuXG5cbiAgICBiaW5kKG5vZGU6IEFyZU5vZGUpIHtcbiAgICAgICAgdGhpcy5fbm9kZSA9IG5vZGU7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQsIEFfRnJhZ21lbnQsIEFfU2NvcGUsIEFTRUlEIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQXJlSW5kZXg8XG4gICAgX1BhdGhUeXBlID0gYW55XG4+IGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cbiAgICBjb25zdHJ1Y3Rvcihhc2VpZDogc3RyaW5nIHwgQVNFSUQpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogYXNlaWQgaW5zdGFuY2VvZiBBU0VJRCA/IGFzZWlkLnRvU3RyaW5nKCkgOiBhc2VpZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQbGF0Zm9ybS1hZ25vc3RpYyBlbGVtZW50IGluZGV4XG4gICAgICogRWxlbWVudCBjYW4gYmUgRE9NIEVsZW1lbnQsIFBERiBlbGVtZW50LCBET0NYIGVsZW1lbnQsIGV0Yy5cbiAgICAgKiBUaGUgYWN0dWFsIHR5cGUgZGVwZW5kcyBvbiB0aGUgY29tcGlsZXIgYmVpbmcgdXNlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfaW5kZXg6IHtcbiAgICAgICAgQVNFSURfdG9fUGF0aDogTWFwPHN0cmluZywgX1BhdGhUeXBlPixcbiAgICAgICAgUGF0aF90b19BU0VJRDogTWFwPF9QYXRoVHlwZSwgc3RyaW5nPixcblxuICAgICAgICBcbiAgICAgICAgTm9kZV90b19QYXRoOiBNYXA8QXJlTm9kZSwgX1BhdGhUeXBlPixcbiAgICAgICAgUGF0aF90b19Ob2RlOiBNYXA8X1BhdGhUeXBlLCBBcmVOb2RlPixcbiAgICB9ID0ge1xuICAgICAgICAgICAgQVNFSURfdG9fUGF0aDogbmV3IE1hcCgpLFxuICAgICAgICAgICAgUGF0aF90b19BU0VJRDogbmV3IE1hcCgpLFxuICAgICAgICAgICAgTm9kZV90b19QYXRoOiBuZXcgTWFwKCksXG4gICAgICAgICAgICBQYXRoX3RvX05vZGU6IG5ldyBNYXAoKSxcbiAgICAgICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBVbmlxdWUgaGFzaCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGluZGV4XG4gICAgICogQ2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgY2hhbmdlcyBpbiB0aGUgaW5kZXhcbiAgICAgKi9cbiAgICBnZXQgc3RhdGUoKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IEFycmF5LmZyb20odGhpcy5faW5kZXguQVNFSURfdG9fUGF0aC5lbnRyaWVzKCkpXG4gICAgICAgICAgICAuc29ydCgoW2FzZWlkQV0sIFthc2VpZEJdKSA9PiBhc2VpZEEubG9jYWxlQ29tcGFyZShhc2VpZEIpKVxuICAgICAgICAgICAgLm1hcCgoW2FzZWlkLCBwYXRoXSkgPT4gYCR7YXNlaWR9OiR7SlNPTi5zdHJpbmdpZnkocGF0aCl9YCk7XG4gICAgICAgIHJldHVybiBlbnRyaWVzLmpvaW4oJ3wnKTtcbiAgICB9XG5cbiAgICBnZXQgc2NvcGUoKTogQV9TY29wZSB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQuc2NvcGUodGhpcyk7XG4gICAgfVxuXG4gICAgZ2V0IHBhcmVudCgpIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5zY29wZSh0aGlzKS5wYXJlbnQ/LnJlc29sdmU8QXJlSW5kZXg+KEFyZUluZGV4KTtcbiAgICB9XG5cbiAgICBnZXQgc2l6ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXguQVNFSURfdG9fUGF0aC5zaXplO1xuICAgIH1cblxuICAgIGdldCBub2RlcygpOiBBcnJheTxBcmVOb2RlPiB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2luZGV4Lk5vZGVfdG9fUGF0aC5rZXlzKCkpO1xuICAgIH1cblxuICAgIGdldCBwYXRocygpOiBBcnJheTxfUGF0aFR5cGU+IHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5faW5kZXguUGF0aF90b19Ob2RlLmtleXMoKSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldCBkZXB0aCgpOiBudW1iZXIge1xuICAgICAgICBsZXQgZGVwdGggPSAwO1xuICAgICAgICBsZXQgY3VycmVudFNjb3BlOiBBX1Njb3BlIHwgdW5kZWZpbmVkID0gdGhpcy5zY29wZTtcblxuICAgICAgICB3aGlsZSAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gY3VycmVudFNjb3BlLnBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZXB0aDtcbiAgICB9XG4gICAgXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcGxhdGZvcm0tYWdub3N0aWMgZWxlbWVudCB0byB0aGUgaW5kZXhcbiAgICAgKiBAcGFyYW0gbm9kZSAtIEFyZU5vZGUgdG8gaW5kZXhcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFBsYXRmb3JtLXNwZWNpZmljIGVsZW1lbnQgKERPTSwgUERGLCBET0NYLCBldGMuKVxuICAgICAqL1xuICAgIGFkZChub2RlOiBBcmVOb2RlLCBwYXRoOiBfUGF0aFR5cGUpIHtcbiAgICAgICAgdGhpcy5faW5kZXguQVNFSURfdG9fUGF0aC5zZXQobm9kZS5hc2VpZC50b1N0cmluZygpLCBwYXRoKTtcbiAgICAgICAgdGhpcy5faW5kZXguUGF0aF90b19BU0VJRC5zZXQocGF0aCwgbm9kZS5hc2VpZC50b1N0cmluZygpKTtcbiAgICAgICAgdGhpcy5faW5kZXguTm9kZV90b19QYXRoLnNldChub2RlLCBwYXRoKTtcbiAgICAgICAgdGhpcy5faW5kZXguUGF0aF90b19Ob2RlLnNldChwYXRoLCBub2RlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgcGxhdGZvcm0tc3BlY2lmaWMgZWxlbWVudCBieSBBcmVOb2RlXG4gICAgICogQHBhcmFtIG5vZGUgLSBBcmVOb2RlIHRvIGxvb2sgdXBcbiAgICAgKiBAcmV0dXJucyBQbGF0Zm9ybS1zcGVjaWZpYyBlbGVtZW50IG9yIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIHBhdGhPZihub2RlOiBBcmVOb2RlKTogX1BhdGhUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4Lk5vZGVfdG9fUGF0aC5nZXQobm9kZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIEFyZU5vZGUgYnkgcGxhdGZvcm0tc3BlY2lmaWMgZWxlbWVudFxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gUGxhdGZvcm0tc3BlY2lmaWMgZWxlbWVudCB0byBsb29rIHVwXG4gICAgICogQHJldHVybnMgQXJlTm9kZSBvciB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBub2RlT2YocGF0aDogX1BhdGhUeXBlKTogQXJlTm9kZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleC5QYXRoX3RvX05vZGUuZ2V0KHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgaW5kZXggZW50cnkgYnkgQXJlTm9kZVxuICAgICAqIEBwYXJhbSBub2RlIC0gQXJlTm9kZSB0byByZW1vdmUgZnJvbSBpbmRleFxuICAgICAqL1xuICAgIHJlbW92ZUJ5Tm9kZShub2RlOiBBcmVOb2RlKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLl9pbmRleC5Ob2RlX3RvX1BhdGguZ2V0KG5vZGUpO1xuICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgdGhpcy5faW5kZXguQVNFSURfdG9fUGF0aC5kZWxldGUobm9kZS5hc2VpZC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4LlBhdGhfdG9fQVNFSUQuZGVsZXRlKHBhdGgpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXguTm9kZV90b19QYXRoLmRlbGV0ZShub2RlKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4LlBhdGhfdG9fTm9kZS5kZWxldGUocGF0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHJlcGxhY2VCeU5vZGUob2xkTm9kZTogQXJlTm9kZSwgbmV3Tm9kZTogQXJlTm9kZSkge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5faW5kZXguTm9kZV90b19QYXRoLmdldChvbGROb2RlKTtcbiAgICAgICAgaWYgKHBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4LkFTRUlEX3RvX1BhdGguZGVsZXRlKG9sZE5vZGUuYXNlaWQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleC5QYXRoX3RvX0FTRUlELnNldChwYXRoLCBuZXdOb2RlLmFzZWlkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXguTm9kZV90b19QYXRoLmRlbGV0ZShvbGROb2RlKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4Lk5vZGVfdG9fUGF0aC5zZXQobmV3Tm9kZSwgcGF0aCk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleC5QYXRoX3RvX05vZGUuc2V0KHBhdGgsIG5ld05vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICByZXBsYWNlQnlFbGVtZW50KG9sZFBhdGg6IF9QYXRoVHlwZSwgbmV3UGF0aDogX1BhdGhUeXBlKSB7XG4gICAgICAgIGNvbnN0IGFzZWlkID0gdGhpcy5faW5kZXguUGF0aF90b19BU0VJRC5nZXQob2xkUGF0aCk7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLl9pbmRleC5QYXRoX3RvX05vZGUuZ2V0KG9sZFBhdGgpO1xuICAgICAgICBpZiAoYXNlaWQgJiYgbm9kZSkge1xuICAgICAgICAgICAgdGhpcy5faW5kZXguQVNFSURfdG9fUGF0aC5zZXQoYXNlaWQsIG5ld1BhdGgpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXguUGF0aF90b19BU0VJRC5kZWxldGUob2xkUGF0aCk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleC5QYXRoX3RvX0FTRUlELnNldChuZXdQYXRoLCBhc2VpZCk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleC5Ob2RlX3RvX1BhdGguc2V0KG5vZGUsIG5ld1BhdGgpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXguUGF0aF90b19Ob2RlLmRlbGV0ZShvbGRQYXRoKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4LlBhdGhfdG9fTm9kZS5zZXQobmV3UGF0aCwgbm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGluZGV4IGVudHJ5IGJ5IHBsYXRmb3JtLXNwZWNpZmljIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFBsYXRmb3JtLXNwZWNpZmljIGVsZW1lbnQgdG8gcmVtb3ZlIGZyb20gaW5kZXhcbiAgICAgKi9cbiAgICByZW1vdmVCeUVsZW1lbnQocGF0aDogX1BhdGhUeXBlKSB7XG4gICAgICAgIGNvbnN0IGFzZWlkID0gdGhpcy5faW5kZXguUGF0aF90b19BU0VJRC5nZXQocGF0aCk7XG4gICAgICAgIGlmIChhc2VpZCkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuX2luZGV4LlBhdGhfdG9fTm9kZS5nZXQocGF0aCk7XG4gICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4LkFTRUlEX3RvX1BhdGguZGVsZXRlKGFzZWlkKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbmRleC5QYXRoX3RvX0FTRUlELmRlbGV0ZShwYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbmRleC5Ob2RlX3RvX1BhdGguZGVsZXRlKG5vZGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4LlBhdGhfdG9fTm9kZS5kZWxldGUocGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5faW5kZXguQVNFSURfdG9fUGF0aC5jbGVhcigpO1xuICAgICAgICB0aGlzLl9pbmRleC5QYXRoX3RvX0FTRUlELmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2luZGV4Lk5vZGVfdG9fUGF0aC5jbGVhcigpO1xuICAgICAgICB0aGlzLl9pbmRleC5QYXRoX3RvX05vZGUuY2xlYXIoKTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ29udGV4dCwgQV9FbnRpdHksIEFfRXJyb3IsIEFfRm9ybWF0dGVySGVscGVyLCBBX0lkZW50aXR5SGVscGVyLCBBX1Njb3BlLCBBU0VJRCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBcmVOb2RlTmV3UHJvcHMgfSBmcm9tIFwiLi9BcmVOb2RlLnR5cGVzXCI7XG5pbXBvcnQgeyBBcmVFdmVudCB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlRXZlbnQvQXJlRXZlbnQuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlTm9kZUZlYXR1cmVzIH0gZnJvbSBcIi4vQXJlTm9kZS5jb25zdGFudHNcIjtcblxuZXhwb3J0IGNsYXNzIEFyZU5vZGUgZXh0ZW5kcyBBX0VudGl0eTxBcmVOb2RlTmV3UHJvcHM+IHtcblxuXG4gICAgLyoqXG4gICAgICogVGVtcGxhdGUgc3RyaW5nIGRlZmluZWQgZm9yIHRoZSBub2RlXG4gICAgICogRXhhbXBsZTogYDxkaXY+e3tuYW1lfX08L2Rpdj5gXG4gICAgICovXG4gICAgdGVtcGxhdGUhOiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBNYXJrdXAgc3RyaW5nIGRlZmluZWQgZm9yIHRoZSBub2RlXG4gICAgICogRXhhbXBsZTogYDxjdXN0b20tY29tcG9uZW50IDpwcm9wPVwidmFsdWVcIj4gPGRpdj5Jbm5lciBDb250ZW50PC9kaXY+IDwvY3VzdG9tLWNvbXBvbmVudD5gXG4gICAgICovXG4gICAgbWFya3VwITogc3RyaW5nXG4gICAgLyoqXG4gICAgICogU3R5bGVzIHN0cmluZyBkZWZpbmVkIGZvciB0aGUgbm9kZVxuICAgICAqL1xuICAgIHN0eWxlcyE6IHN0cmluZ1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjb3BlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG5vZGVcbiAgICAgKiB1c2VzIHRvIHN0b3JlIGFsbCBuZXN0ZWQgZnJhZ21lbnRzIGFuZCBlbnRpdGllcyBsaWtlIG90aGVyIEFyZU5vZGVzIGFuZCBTY2VuZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfc2NvcGUhOiBBX1Njb3BlXG5cbiAgICBnZXQgc2NvcGUoKTogQV9TY29wZSB7XG4gICAgICAgIGlmICghdGhpcy5fc2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Njb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgICAgIG5hbWU6IGAke3RoaXMuYXNlaWQuaWR9YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Njb3BlO1xuICAgIH1cblxuXG4gICAgZ2V0IHR5cGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXNlaWQuZW50aXR5O1xuICAgIH1cblxuXG4gICAgZnJvbU5ldyhuZXdFbnRpdHk6IEFyZU5vZGVOZXdQcm9wcyk6IHZvaWQge1xuICAgICAgICB0aGlzLmFzZWlkID0gbmV3IEFTRUlEKHtcbiAgICAgICAgICAgIGlkOiBBX0lkZW50aXR5SGVscGVyLmdlbmVyYXRlVGltZUlkKCksXG4gICAgICAgICAgICBlbnRpdHk6IG5ld0VudGl0eS5jb21wb25lbnQsXG4gICAgICAgICAgICBzY29wZTogbmV3RW50aXR5LnNjb3BlLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnRlbXBsYXRlID0gbmV3RW50aXR5LnRlbXBsYXRlIHx8ICcnO1xuICAgICAgICB0aGlzLm1hcmt1cCA9IG5ld0VudGl0eS5tYXJrdXAgfHwgJyc7XG4gICAgICAgIHRoaXMuc3R5bGVzID0gbmV3RW50aXR5LnN0eWxlcyB8fCAnJztcbiAgICB9XG5cblxuICAgIGZyb21BU0VJRChhc2VpZDogc3RyaW5nIHwgQVNFSUQpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuZnJvbUFTRUlEKGFzZWlkKTtcblxuICAgICAgICB0aGlzLnRlbXBsYXRlID0gJyc7XG4gICAgICAgIHRoaXMubWFya3VwID0gJyc7XG4gICAgICAgIHRoaXMuc3R5bGVzID0gJyc7XG4gICAgfVxuXG5cblxuXG5cblxuXG4gICAgYXN5bmMgZW1pdChcbiAgICAgICAgZXZlbnQ6IEFyZUV2ZW50LFxuICAgICkge1xuICAgICAgICB0aGlzLmNoZWNrU2NvcGVJbmhlcml0YW5jZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpc29sYXRlZCBldmVudCBzY29wZSB0byBhdm9pZCBwb2xsdXRpbmcgdGhlIG5vZGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGV2ZW50U2NvcGUgPSBuZXcgQV9TY29wZSh7XG4gICAgICAgICAgICBuYW1lOiBgJHtldmVudC5uYW1lfS1zY29wZWAsXG4gICAgICAgICAgICBmcmFnbWVudHM6IFtldmVudF1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KHRoaXMuc2NvcGUpXG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFyZU5vZGVGZWF0dXJlcy5vbkV2ZW50LCBldmVudFNjb3BlKVxuXG4gICAgICAgICAgICBldmVudFNjb3BlLmRlc3Ryb3koKVxuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cbiAgICAgICAgICAgIGV2ZW50U2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgYXN5bmMgY29tcGlsZSgpOiBQcm9taXNlPHZvaWQ+IHtcblxuICAgICAgICB0aGlzLmNoZWNrU2NvcGVJbmhlcml0YW5jZSgpO1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBcmVOb2RlRmVhdHVyZXMub25Db21waWxlLCB0aGlzLnNjb3BlKTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyByZW5kZXIoKTogUHJvbWlzZTx2b2lkPiB7XG5cbiAgICAgICAgdGhpcy5jaGVja1Njb3BlSW5oZXJpdGFuY2UoKTtcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQXJlTm9kZUZlYXR1cmVzLm9uUmVuZGVyLCB0aGlzLnNjb3BlKTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGFzeW5jIHVwZGF0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcblxuICAgICAgICB0aGlzLmNoZWNrU2NvcGVJbmhlcml0YW5jZSgpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQXJlTm9kZUZlYXR1cmVzLm9uVXBkYXRlLCB0aGlzLnNjb3BlKTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBtb3VudCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5jaGVja1Njb3BlSW5oZXJpdGFuY2UoKTtcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQXJlTm9kZUZlYXR1cmVzLm9uTW91bnQsIHRoaXMuc2NvcGUpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGxvYWQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHN1cGVyLmxvYWQodGhpcy5zY29wZSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVzdHJveShzY29wZT86IEFfU2NvcGUpOiBQcm9taXNlPGFueT4ge1xuXG4gICAgICAgIHRoaXMuY2hlY2tTY29wZUluaGVyaXRhbmNlKCk7XG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgc3VwZXIuZGVzdHJveShzY29wZSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3Njb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVscGVycyBNZXRob2RzXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBlbnN1cmUgdGhhdCB0aGUgY3VycmVudCBzY29wZSBpcyBpbmhlcml0ZWQgZnJvbSB0aGUgY29udGV4dCBzY29wZVxuICAgICAqIFxuICAgICAqIEB0aHJvd3MgQV9FcnJvciBpZiB0aGUgc2NvcGUgaXMgbm90IGluaGVyaXRlZCBmcm9tIHRoZSBjb250ZXh0IHNjb3BlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNoZWNrU2NvcGVJbmhlcml0YW5jZSgpOiB2b2lkIHtcbiAgICAgICAgbGV0IGF0dGFjaGVkU2NvcGU6IEFfU2NvcGU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF0dGFjaGVkU2NvcGUgPSBBX0NvbnRleHQuc2NvcGUodGhpcyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9FcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGBBX1VJX05vZGUgU2NvcGUgSW5oZXJpdGFuY2UgRXJyb3JgLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgVGhlIEFfVUlfTm9kZSBlbnRpdHkgd2l0aCBBU0VJRCAnJHt0aGlzLmFzZWlkLnRvU3RyaW5nKCl9JyBpcyBub3QgYm91bmQgdG8gYW55IGNvbnRleHQgc2NvcGUuIFBsZWFzZSBlbnN1cmUgdGhhdCB0aGUgZW50aXR5IGlzIGNyZWF0ZWQgd2l0aGluIGEgdmFsaWQgY29udGV4dC5gLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHsgQVNFSUQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9FeGVjdXRpb25Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFyZVByb3BzPFxuICAgIFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PlxuPiBleHRlbmRzIEFfRXhlY3V0aW9uQ29udGV4dDxUPiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihhc2VpZDogQVNFSUQpIHtcbiAgICAgICAgc3VwZXIoYXNlaWQudG9TdHJpbmcoKSk7XG4gICAgfVxuXG5cbiAgICBzZXRNdWx0aXBsZSh2YWx1ZXM6IFBhcnRpYWw8VD4pOiB2b2lkIHtcbiAgICAgICAgT2JqZWN0LmVudHJpZXModmFsdWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSBhcyBrZXlvZiBULCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQVNFSUQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9FeGVjdXRpb25Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFyZVN0b3JlPFxuICAgIFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PlxuPiBleHRlbmRzIEFfRXhlY3V0aW9uQ29udGV4dDxUPiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihhc2VpZDogQVNFSUQpIHtcbiAgICAgICAgc3VwZXIoYXNlaWQudG9TdHJpbmcoKSk7XG4gICAgfVxuXG5cbiAgICBzZXRNdWx0aXBsZSh2YWx1ZXM6IFBhcnRpYWw8VD4pOiB2b2lkIHtcbiAgICAgICAgT2JqZWN0LmVudHJpZXModmFsdWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSBhcyBrZXlvZiBULCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCAiXG5pbXBvcnQgeyBBX0VudGl0eSwgQV9Gb3JtYXR0ZXJIZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQXJlU2NlbmVBY3Rpb25OZXdQcm9wcyB9IGZyb20gXCIuL0FyZVNjZW5lQWN0aW9uLnR5cGVzXCI7XG5pbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIi4uL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHlcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBcmVTY2VuZUFjdGlvbjxUIGV4dGVuZHMgYW55ID0gUmVjb3JkPHN0cmluZywgYW55Pj4gZXh0ZW5kcyBBX0VudGl0eTxBcmVTY2VuZUFjdGlvbk5ld1Byb3BzPFQ+PiB7XG5cbiAgICBuYW1lITogc3RyaW5nXG4gICAgbm9kZSE6IEFyZU5vZGVcblxuICAgIHBhcmFtcz86IFRcblxuXG4gICAgaGFzaFNvdXJjZSE6IHN0cmluZ1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGV2ZW4gaGFzaCB1c2VzIGZvciBkZWR1cGxpY2F0aW9uXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0ciBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY3JlYXRlSGFzaChzdHI/OiBzdHJpbmcpOiBzdHJpbmdcbiAgICBwcm90ZWN0ZWQgY3JlYXRlSGFzaChzdHI/OiB1bmRlZmluZWQpOiBzdHJpbmdcbiAgICBwcm90ZWN0ZWQgY3JlYXRlSGFzaChzdHI/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogc3RyaW5nXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUhhc2goc3RyPzogQXJyYXk8YW55Pik6IHN0cmluZ1xuICAgIHByb3RlY3RlZCBjcmVhdGVIYXNoKHN0cj86IG51bWJlcik6IHN0cmluZ1xuICAgIHByb3RlY3RlZCBjcmVhdGVIYXNoKHN0cj86IGJvb2xlYW4pOiBzdHJpbmdcbiAgICBwcm90ZWN0ZWQgY3JlYXRlSGFzaChzdHI/OiBudWxsKTogc3RyaW5nXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUhhc2gobWFwPzogTWFwPGFueSwgYW55Pik6IHN0cmluZ1xuICAgIHByb3RlY3RlZCBjcmVhdGVIYXNoKHNldD86IFNldDxhbnk+KTogc3RyaW5nXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUhhc2goc3RyPzogYW55KTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGhhc2hTb3VyY2U6IHN0cmluZztcblxuICAgICAgICBpZiAoc3RyIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICBoYXNoU291cmNlID0gSlNPTi5zdHJpbmdpZnkoQXJyYXkuZnJvbShzdHIuZW50cmllcygpKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgICAgICBoYXNoU291cmNlID0gSlNPTi5zdHJpbmdpZnkoQXJyYXkuZnJvbShzdHIudmFsdWVzKCkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHN0cikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIGhhc2hTb3VyY2UgPSBzdHI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgICAgICAgICAgICAgIGhhc2hTb3VyY2UgPSAndW5kZWZpbmVkJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgaGFzaFNvdXJjZSA9IEpTT04uc3RyaW5naWZ5KHN0cik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgICAgIGhhc2hTb3VyY2UgPSBzdHIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICAgICAgICAgIGhhc2hTb3VyY2UgPSBzdHIgPyAndHJ1ZScgOiAnZmFsc2UnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIGhhc2hTb3VyY2UgPSBzdHIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaGFzaFNvdXJjZSA9IFN0cmluZyhzdHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhhc2ggPSAwLCBpLCBjaHI7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBoYXNoU291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaHIgPSBoYXNoU291cmNlLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBjaHI7XG4gICAgICAgICAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBoYXNoU3RyaW5nID0gaGFzaC50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiBoYXNoU3RyaW5nO1xuICAgIH1cblxuICAgIGZyb21OZXcobmV3RW50aXR5OiBBcmVTY2VuZUFjdGlvbk5ld1Byb3BzPFQ+KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGlkZW50aXR5ID0gbmV3RW50aXR5LmlkIHx8IHtcbiAgICAgICAgICAgIG5hbWU6IG5ld0VudGl0eS5hY3Rpb24sXG4gICAgICAgICAgICBub2RlOiBuZXdFbnRpdHkubm9kZS5hc2VpZC50b1N0cmluZygpLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5jcmVhdGVIYXNoKGlkZW50aXR5KTtcblxuXG4gICAgICAgIHRoaXMuYXNlaWQgPSB0aGlzLmdlbmVyYXRlQVNFSUQoe1xuICAgICAgICAgICAgZW50aXR5OiBBX0Zvcm1hdHRlckhlbHBlci50b0tlYmFiQ2FzZShuZXdFbnRpdHkuYWN0aW9uKSxcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gbmV3RW50aXR5LmFjdGlvbjtcbiAgICAgICAgdGhpcy5ub2RlID0gbmV3RW50aXR5Lm5vZGU7XG4gICAgICAgIHRoaXMucGFyYW1zID0gbmV3RW50aXR5LnBhcmFtcztcblxuICAgIH1cbn1cblxuXG5cblxuZXhwb3J0IGNsYXNzIEFyZU1vdW50U2NlbmVBY3Rpb24gZXh0ZW5kcyBBcmVTY2VuZUFjdGlvbiB7IH1cblxuXG5leHBvcnQgY2xhc3MgQXJlTGlzdGVuZXJTY2VuZUFjdGlvbiBleHRlbmRzIEFyZVNjZW5lQWN0aW9uPHtcbiAgICBldmVudDogc3RyaW5nO1xuICAgIGhhbmRsZXI6IEZ1bmN0aW9uO1xufT4ge1xuXG5cbiAgICBnZXQgZXZlbnQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1zIS5ldmVudDtcbiAgICB9XG5cbiAgICBnZXQgaGFuZGxlcigpOiBGdW5jdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmFtcyEuaGFuZGxlcjtcbiAgICB9XG59XG5cbiIsICJpbXBvcnQgeyBBX0NvbnRleHQsIEFfRnJhZ21lbnQsIEFfU2NvcGUsIEFfVFlQRVNfX0ZyYWdtZW50X1NlcmlhbGl6ZWQsIEFTRUlEIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFyZUluZGV4IH0gZnJvbSBcIi4uL0FyZUluZGV4L0FyZUluZGV4LmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5pbXBvcnQgeyBBcmVFdmVudCB9IGZyb20gXCIuLi9BcmVFdmVudC9BcmVFdmVudC5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTQ2VuZV9TZXJpYWxpemVkIH0gZnJvbSBcIi4vQXJlU2NlbmUudHlwZXNcIjtcbmltcG9ydCB7IEFyZVByb3BzIH0gZnJvbSBcIi4uL0FyZVByb3BzL0FyZVByb3BzLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZVN0b3JlIH0gZnJvbSBcIi4uL0FyZVN0b3JlL0FyZVN0b3JlLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfTG9nZ2VyLCBBX0xvZ2dlckNvbG9yTmFtZSB9IGZyb20gXCJAYWRhYXMvYS11dGlsc1wiO1xuaW1wb3J0IHsgQXJlU2NlbmVBY3Rpb24gfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVTY2VuZUFjdGlvbi9BcmVTY2VuZUFjdGlvbi5lbnRpdHlcIjtcblxuZXhwb3J0IGNsYXNzIEFyZVNjZW5lIGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cbiAgICBwcm90ZWN0ZWQgX3RlbXBsYXRlOiBzdHJpbmcgPSAnJztcbiAgICBwcm90ZWN0ZWQgX3N0YXRlOiBTZXQ8QXJlU2NlbmVBY3Rpb24+ID0gbmV3IFNldCgpO1xuXG4gICAgcHJvdGVjdGVkIF9zdGF0dXM6ICdpbml0aWFsaXplZCcgfCAnY29tcGlsZWQnIHwgJ3JlbmRlcmVkJyA9ICdpbml0aWFsaXplZCc7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjZW5lIGlkZW50aXR5IHdpbGwgYmUgdXNlZCB0byBpZGVudGlmeSBtb3VudGluZyBwb2ludCBpbiB0aGUgcGFyZW50IHNjZW5lXG4gICAgICAgICAqL1xuICAgICAgICBpZD86IHN0cmluZyB8IEFTRUlELFxuICAgICAgICAvKipcbiAgICAgICAgICogSW5pdGlhbCB0ZW1wbGF0ZSBmb3IgdGhlIHNjZW5lLiBcbiAgICAgICAgICovXG4gICAgICAgIHRlbXBsYXRlPzogc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHsgbmFtZTogaWQ/LnRvU3RyaW5nKCkgfHwgJ2FyZS1hcHAnIH0pO1xuICAgICAgICB0aGlzLl90ZW1wbGF0ZSA9ICh0ZW1wbGF0ZSB8fCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpO1xuICAgIH1cblxuICAgIGdldCBpZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcm9vdCBzY2VuZSBvZiB0aGUgY3VycmVudCBzY2VuZVxuICAgICAqL1xuICAgIGdldCByb290KCk6IEFyZVNjZW5lIHtcbiAgICAgICAgbGV0IGN1cnJlbnRTY29wZTogQV9TY29wZSB8IHVuZGVmaW5lZCA9IHRoaXMuc2NvcGU7XG4gICAgICAgIGxldCByb290U2NlbmU6IEFyZVNjZW5lID0gdGhpcztcblxuICAgICAgICB3aGlsZSAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRTY2VuZSA9IGN1cnJlbnRTY29wZS5wYXJlbnQ/LnJlc29sdmU8QXJlU2NlbmU+KHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFyZVNjZW5lKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRTY2VuZSkge1xuICAgICAgICAgICAgICAgIHJvb3RTY2VuZSA9IHBhcmVudFNjZW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gY3VycmVudFNjb3BlLnBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByb290U2NlbmU7XG4gICAgfVxuXG4gICAgZ2V0IHN0YXR1cygpOiAnaW5pdGlhbGl6ZWQnIHwgJ2NvbXBpbGVkJyB8ICdyZW5kZXJlZCcge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzO1xuICAgIH1cblxuICAgIGdldCBzY29wZSgpOiBBX1Njb3BlIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5zY29wZSh0aGlzKTtcbiAgICB9XG5cbiAgICBnZXQgaW5kZXgoKTogQXJlSW5kZXg8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQuc2NvcGUodGhpcykucmVzb2x2ZUZsYXQ8QXJlSW5kZXg8c3RyaW5nPj4oQXJlSW5kZXgpITtcbiAgICB9XG5cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LnNjb3BlKHRoaXMpLnBhcmVudD8ucmVzb2x2ZUZsYXQ8QXJlU2NlbmU+KEFyZVNjZW5lKTtcbiAgICB9XG5cbiAgICBnZXQgdGVtcGxhdGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RlbXBsYXRlO1xuICAgIH1cblxuICAgIGdldCBpbml0aWFsaXplZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1cyA9PT0gJ2luaXRpYWxpemVkJztcbiAgICB9XG5cblxuICAgIGdldCBjb21waWxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1cyA9PT0gJ2NvbXBpbGVkJztcbiAgICB9XG5cbiAgICBnZXQgcmVuZGVyZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXMgPT09ICdyZW5kZXJlZCc7XG4gICAgfVxuXG5cbiAgICBnZXQgY2hpbGRyZW4oKTogQXJyYXk8QXJlU2NlbmU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUucmVzb2x2ZUZsYXRBbGw8QXJlTm9kZT4oQXJlTm9kZSlcbiAgICAgICAgICAgIC5tYXAobiA9PiBuLnNjb3BlLnJlc29sdmVGbGF0PEFyZVNjZW5lPihBcmVTY2VuZSkpXG4gICAgICAgICAgICAuZmlsdGVyKHMgPT4gISFzKTtcbiAgICB9XG5cblxuICAgIGdldCBkZXB0aCgpOiBudW1iZXIge1xuICAgICAgICBsZXQgZGVwdGggPSAwO1xuICAgICAgICBsZXQgY3VycmVudFNjb3BlOiBBX1Njb3BlIHwgdW5kZWZpbmVkID0gdGhpcy5zY29wZTtcblxuICAgICAgICB3aGlsZSAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFNjb3BlLnBhcmVudCAmJiBjdXJyZW50U2NvcGUucGFyZW50LnJlc29sdmU8QXJlU2NlbmU+KHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFyZVNjZW5lKSkge1xuICAgICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBjdXJyZW50U2NvcGUucGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlcHRoO1xuICAgIH1cblxuXG4gICAgZ2V0IGFjdGlvbnMoKTogQXJyYXk8QXJlU2NlbmVBY3Rpb24+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUucmVzb2x2ZUZsYXRBbGw8QXJlU2NlbmVBY3Rpb24+KEFyZVNjZW5lQWN0aW9uKSB8fCBbXTtcbiAgICB9XG5cblxuICAgICpub2RlcyhcbiAgICAgICAgZmlsdGVyPzogKG5vZGU6IEFyZU5vZGUpID0+IGJvb2xlYW5cbiAgICApOiBJdGVyYWJsZTxBcmVOb2RlPiB7XG5cbiAgICAgICAgZm9yIChjb25zdCBwYXRoIG9mIHRoaXMucGF0aHMoKSkge1xuXG4gICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5pbmRleC5ub2RlT2YocGF0aCk7XG5cbiAgICAgICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmlsdGVyICYmICFmaWx0ZXIobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgeWllbGQgbm9kZTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgKnJlbmRlclBsYW5Gb3IoXG4gICAgICAgIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIGZpbHRlcjoge1xuICAgICAgICAgICAgY2hhbmdlcz86IEFycmF5PHN0cmluZz5cbiAgICAgICAgICAgIG9yZGVyPzogQXJyYXk8c3RyaW5nPlxuXG4gICAgICAgIH1cbiAgICApIHtcblxuICAgICAgICBjb25zdCBvcmRlciA9IGZpbHRlci5vcmRlciB8fCBbXTtcbiAgICAgICAgY29uc3QgY2hhbmdlcyA9IGZpbHRlci5jaGFuZ2VzIHx8IFtdO1xuXG4gICAgICAgIGxldCBwbGFuID0gdGhpcy5hY3Rpb25zO1xuXG4gICAgICAgIHBsYW4gPSBwbGFuLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFJbmRleCA9IG9yZGVyLmluZGV4T2YoYS5uYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGJJbmRleCA9IG9yZGVyLmluZGV4T2YoYi5uYW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIGFJbmRleCAtIGJJbmRleDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBhY3Rpb24gb2YgcGxhbikge1xuICAgICAgICAgICAgaWYgKGFjdGlvbi5ub2RlID09PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgYWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBkZWJ1Zyhjb2xvcjogQV9Mb2dnZXJDb2xvck5hbWUsIG1lc3NhZ2U6IHN0cmluZywgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSB7XG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMuc2NvcGUucmVzb2x2ZShBX0xvZ2dlcik7XG5cbiAgICAgICAgaWYgKCFsb2dnZXIpIHJldHVybjtcblxuICAgICAgICBsb2dnZXIuZGVidWcoXG4gICAgICAgICAgICBjb2xvcixcbiAgICAgICAgICAgIGAkeycgLSAnLnJlcGVhdCh0aGlzLmRlcHRoKX1gICtcbiAgICAgICAgICAgIGBBcmVTY2VuZTogWyR7dGhpcy5pZH1dIDogJHttZXNzYWdlfWAsIC4uLm9wdGlvbmFsUGFyYW1zXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgKnBhdGhzKCk6IEl0ZXJhYmxlPHN0cmluZz4ge1xuICAgICAgICBsZXQgcGF0aHMgPSB0aGlzLmluZGV4LnBhdGhzO1xuXG4gICAgICAgIC8vICBjcmVhdGUgcHJvcGVyIHRyZWUgc2VxdWVuY2VcbiAgICAgICAgcGF0aHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgY29uc3QgYVBhcnNlZCA9IGEuc3BsaXQoJy4nKS5tYXAocGFydCA9PiBwYXJzZUludChwYXJ0LCAxMCkpO1xuICAgICAgICAgICAgY29uc3QgYlBhcnNlZCA9IGIuc3BsaXQoJy4nKS5tYXAocGFydCA9PiBwYXJzZUludChwYXJ0LCAxMCkpO1xuXG4gICAgICAgICAgICBjb25zdCBsZW4gPSBNYXRoLm1pbihhUGFyc2VkLmxlbmd0aCwgYlBhcnNlZC5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChhUGFyc2VkW2ldICE9PSBiUGFyc2VkW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhUGFyc2VkW2ldIC0gYlBhcnNlZFtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYVBhcnNlZC5sZW5ndGggLSBiUGFyc2VkLmxlbmd0aDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8geWllbGQgcGF0aHNcbiAgICAgICAgZm9yIChjb25zdCBwYXRoIG9mIHBhdGhzKSB7XG4gICAgICAgICAgICB5aWVsZCBwYXRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGxhbihhY3Rpb246IEFyZVNjZW5lQWN0aW9uKSB7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuc2NvcGUucmVnaXN0ZXIoYWN0aW9uKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdcXG5cXG5cXG5cXG5cXG5QTEFOTkVEOicsIGFjdGlvbik7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgdW5QbGFuKFxuICAgICAgICBhY3Rpb246IEFyZVNjZW5lQWN0aW9uXG4gICAgKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnNjb3BlLmRlcmVnaXN0ZXIoYWN0aW9uKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXR0YWNoKG5vZGU6IEFyZU5vZGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zY29wZS5yZWdpc3Rlcihub2RlKTtcbiAgICAgICAgbm9kZS5zY29wZS5pbmhlcml0KHRoaXMuc2NvcGUpXG4gICAgfVxuXG4gICAgc2NlbmVPZihub2RlOiBBcmVOb2RlKTogQXJlU2NlbmUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gbm9kZS5zY29wZS5yZXNvbHZlRmxhdDxBcmVTY2VuZT4oQXJlU2NlbmUpO1xuICAgIH1cblxuICAgIHByb3BzT2Yobm9kZTogQXJlTm9kZSk6IEFyZVByb3BzIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuc2NvcGUucmVzb2x2ZUZsYXQ8QXJlUHJvcHM+KEFyZVByb3BzKSE7XG4gICAgfVxuXG4gICAgc3RvcmVPZihub2RlOiBBcmVOb2RlKTogQXJlU3RvcmUge1xuICAgICAgICByZXR1cm4gbm9kZS5zY29wZS5yZXNvbHZlRmxhdDxBcmVTdG9yZT4oQXJlU3RvcmUpITtcbiAgICB9XG4gICAgaXNQbGFubmVkKGFjdGlvbjogQXJlU2NlbmVBY3Rpb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUucmVzb2x2ZUZsYXQ8QXJlU2NlbmVBY3Rpb24+KEFyZVNjZW5lQWN0aW9uLCB7XG4gICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgIGFzZWlkOiBhY3Rpb24uYXNlaWQudG9TdHJpbmcoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSAhPT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlzTW91bnRlZChhY3Rpb246IEFyZVNjZW5lQWN0aW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZS5oYXMoYWN0aW9uKTtcbiAgICB9XG5cbiAgICBtb3VudChhY3Rpb24/OiBBcmVTY2VuZUFjdGlvbikge1xuICAgICAgICB0aGlzLl9zdGF0ZS5hZGQoYWN0aW9uISk7XG4gICAgfVxuXG4gICAgdW5tb3VudChhY3Rpb24/OiBBcmVTY2VuZUFjdGlvbikge1xuICAgICAgICB0aGlzLl9zdGF0ZS5kZWxldGUoYWN0aW9uISk7XG4gICAgfVxuXG4gICAgYXN5bmMgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuaW5kZXguY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fc3RhdGUuY2xlYXIoKTtcbiAgICB9XG5cblxuICAgIGFzeW5jIHJlc2V0KHRlbXBsYXRlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fdGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgICAgYXdhaXQgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuXG5cbiAgICB0b0pTT04oKTogQXJlU0NlbmVfU2VyaWFsaXplZCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdXBlci50b0pTT04oKSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgICAgICAgQXJyYXkuZnJvbSh0aGlzLmNoaWxkcmVuKS5tYXAoY2hpbGQgPT4gW1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5pZC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBjaGlsZC50b0pTT04oKVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuXG5cblxuLy8gIEp1c3QgdG8gY292ZXIgdGhlIHByb3BlciBsaWZlY3ljbGVcblxuLypcbiAxKSBDcmVhdGUgU2NlbmUgd2l0aCB0ZW1wbGF0ZSBmcm9tIG1vdW50aW5nIHBvaW50IGNvbnRlbnRcbiAyKSBEbyBpbmRleGluZyBvZiB0aGUgc2NlbmUgXG5cbiovIiwgImltcG9ydCB7IEFfQ2FsbGVyLCBBX0ZlYXR1cmUsIEFfRm9ybWF0dGVySGVscGVyLCBBX0luamVjdCwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCJAYWRhYXMvYS11dGlsc1wiO1xuaW1wb3J0IHsgQXJlIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29tcG9uZW50cy9BcmVDb21wb25lbnQvQXJlLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQXJlRXZlbnQgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZUV2ZW50L0FyZUV2ZW50LmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZVNjZW5lIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTY2VuZS9BcmVTY2VuZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTdG9yZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU3RvcmUvQXJlU3RvcmUuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlTm9kZSB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHlcIjtcbmltcG9ydCB7IEFyZUluaXRTaWduYWwgfSBmcm9tIFwic3JjL3NpZ25hbHMvQXJlSW5pdC5zaWduYWxcIjtcblxuXG5leHBvcnQgY2xhc3MgQUJ0biBleHRlbmRzIEFyZSB7XG5cblxuICAgIGFzeW5jIHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYDxidXR0b24gY2xhc3M9XCJhLWJ0blwiIEBjbGljaz1cImhhbmRsZUNsaWNrXCI+IHt7bmFtZX19IHt7bnVtYmVyfX08L2J1dHRvbj4gPGEtaW5wdXQgJGlmPVwic2hvd0lucHV0XCIgPjwvYS1pbnB1dD5gO1xuICAgIH1cblxuXG4gICAgYXN5bmMgc3R5bGVzKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAuYS1idG4ge1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB7e2JnQ29sb3J9fSFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIH1cblxuICAgIGFzeW5jIGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiAnQV9CdXR0b24gRWxlbWVudCcsXG4gICAgICAgICAgICBzaG93SW5wdXQ6IGZhbHNlLFxuICAgICAgICAgICAgYmdDb2xvcjogJyMwMDdCRkYnLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIEBBcmUub25CZWZvcmVMb2FkXG4gICAgLy8gYXN5bmMgb25Mb2FkKFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgLy8gICAgIEBBX0luamVjdChBcmVTdG9yZSkgc3RvcmU6IEFyZVN0b3JlLFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgLy8gKSB7XG4gICAgLy8gICAgIGxvZ2dlci5kZWJ1ZygncmVkJywgYEJlZm9yZSBBQnRuIENvbXBvbmVudCBMb2FkIC4uLiA6IDwke25vZGUuYXNlaWQuZW50aXR5fT4gOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX1gKTtcbiAgICAvLyB9XG5cbiAgICAvLyBAQXJlLm9uQWZ0ZXJMb2FkXG4gICAgLy8gYXN5bmMgb25BZnRlckxvYWQoXG4gICAgLy8gICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFyZVN0b3JlKSBzdG9yZTogQXJlU3RvcmUsXG4gICAgLy8gICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyOiBBX0xvZ2dlcixcbiAgICAvLyApIHtcbiAgICAvLyAgICAgbG9nZ2VyLmRlYnVnKCdyZWQnLCBgQWZ0ZXIgQUJ0biBDb21wb25lbnQgTG9hZCAuLi4gOiA8JHtub2RlLmFzZWlkLmVudGl0eX0+IDogJHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9YCk7XG4gICAgLy8gfVxuXG4gICAgQEFyZS5FdmVudEhhbmRsZXJcbiAgICBhc3luYyBoYW5kbGVDbGljayhcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTdG9yZSkgc3RvcmU6IEFyZVN0b3JlLFxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgICAgIEBBX0luamVjdChBcmVFdmVudCkgZXZlbnQ6IEFyZUV2ZW50LFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcbiAgICApIHtcblxuICAgICAgICAvLyAganVzdCBzZXQgcmFuZG9tIFRleHRcbiAgICAgICAgc3RvcmUuc2V0KCdudW1iZXInLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKSk7XG4gICAgICAgIHN0b3JlLnNldCgnbmFtZScsIGBDbGlja2VkISBgKTtcblxuICAgICAgICBzdG9yZS5zZXQoJ3Nob3dJbnB1dCcsICFzdG9yZS5nZXQoJ3Nob3dJbnB1dCcpKTtcbiAgICAgICAgc3RvcmUuc2V0KCdiZ0NvbG9yJywgJyNmZjU3MzMnKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnZXZlbnQgZGF0YTonLCBldmVudCk7XG5cbiAgICAgICAgYXdhaXQgbm9kZS51cGRhdGUoKTtcblxuICAgICAgICAvLyBhd2FpdCBuZXcgQXJlVXBkYXRlU2lnbmFsKG5vZGUpLm5leHQoc2NvcGUpO1xuICAgIH1cblxufSIsICJpbXBvcnQgeyBBX0NhbGxlciwgQV9GZWF0dXJlLCBBX0luamVjdCwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCJAYWRhYXMvYS11dGlsc1wiO1xuaW1wb3J0IHsgQXJlIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29tcG9uZW50cy9BcmVDb21wb25lbnQvQXJlLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQXJlRXZlbnQgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZUV2ZW50L0FyZUV2ZW50LmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZVNjZW5lIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTY2VuZS9BcmVTY2VuZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTdG9yZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU3RvcmUvQXJlU3RvcmUuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlTm9kZSB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHlcIjtcblxuXG5leHBvcnQgY2xhc3MgQUlucHV0IGV4dGVuZHMgQXJlIHtcblxuICAgIGFzeW5jIHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYDxkaXY+PGlucHV0ICRuby11cGRhdGUgQGlucHV0PVwib25DaGFuZ2VcIiA6dmFsdWU9XCJpbnB1dFZhbHVlXCIgdHlwZT1cInRleHRcIiA6cGxhY2Vob2xkZXI9XCJwbGFjZWhvbGRlclwiPiA8L2lucHV0PiAge3tpbnB1dFZhbHVlfX08L2Rpdj5gO1xuICAgIH1cblxuXG4gICAgYXN5bmMgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnQV9JbnB1dCBFbGVtZW50JyxcbiAgICAgICAgICAgIGlucHV0VmFsdWU6ICdUZXN0JyxcbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIEBBcmUuRXZlbnRIYW5kbGVyXG4gICAgYXN5bmMgQV9VSV9OT0RFX29uQmVmb3JlTG9hZChcbiAgICAgICAgQEFfSW5qZWN0KEFyZU5vZGUpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVN0b3JlKSBzdG9yZTogQXJlU3RvcmUsXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyOiBBX0xvZ2dlcixcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgbG9nZ2VyLmxvZygnZ3JlZW4nLCBgQUlucHV0IGlzIGluaXRpYWxpemluZy4uLiA6IDwke25vZGUuYXNlaWQuZW50aXR5fT4gOiBgLCBub2RlLmFzZWlkLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIC8vIHN0b3JlLmRhdGEuc2V0KCdidG5OYW1lJywgJ05vcGUnKTtcbiAgICB9XG5cblxuICAgIEBBcmUuRXZlbnRIYW5kbGVyXG4gICAgYXN5bmMgb25DaGFuZ2UoXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU3RvcmUpIHN0b3JlOiBBcmVTdG9yZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuICAgICAgICBAQV9JbmplY3QoQXJlRXZlbnQpIGV2ZW50OiBBcmVFdmVudDxJbnB1dEV2ZW50PixcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgKSB7XG5cbiAgICAgICAgLy8gY29uc3QgdGltZW91dCA9IHN0b3JlLmdldCgndGltZW91dCcpO1xuXG4gICAgICAgIC8vIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEudGFyZ2V0ID09PSBudWxsXG4gICAgICAgICAgICB8fFxuICAgICAgICAgICAgc3RvcmUuZ2V0KCdpbnB1dFZhbHVlJykgPT09IChldmVudC5kYXRhLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZVxuICAgICAgICApIHJldHVybjtcblxuICAgICAgICBsb2dnZXIubG9nKCdncmVlbicsIGBBSW5wdXQgb25DaGFuZ2UgZXZlbnQgdHJpZ2dlcmVkLi4uIDogPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiA6IGAsIG5vZGUuYXNlaWQudG9TdHJpbmcoKSwgKGV2ZW50LmRhdGEudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKTtcblxuXG5cbiAgICAgICAgc3RvcmUuc2V0KCdpbnB1dFZhbHVlJywgKGV2ZW50LmRhdGEudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKTtcblxuXG4gICAgICAgIC8vIHN0b3JlLnNldCgndGltZW91dCcsIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBub2RlLnVwZGF0ZSgpO1xuXG4gICAgICAgIC8vIH0sIDEwMDApKVxuXG4gICAgfVxuXG59IiwgImltcG9ydCB7IEFfRnJhZ21lbnQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQXJlIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29tcG9uZW50cy9BcmVDb21wb25lbnQvQXJlLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQXJlTm9kZSB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHlcIjtcbmltcG9ydCB7IEFyZVByb3BzIH0gZnJvbSBcIi4uL0FyZVByb3BzL0FyZVByb3BzLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZVN0b3JlIH0gZnJvbSBcIi4uL0FyZVN0b3JlL0FyZVN0b3JlLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZVN5bnRheEluaXRPcHRpb25zIH0gZnJvbSBcIi4vQXJlU3ludGF4LnR5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIEFyZUF0dHJpYnV0ZSA9IHtcbiAgICB0YWc6IHN0cmluZzsgICAgICAgIC8vIHRhZyBuYW1lXG4gICAgbmFtZTogc3RyaW5nOyAgICAgICAvLyBwcm9wIG5hbWUgKGUuZy4gXCJsYWJlbFwiKVxuICAgIHJhdzogc3RyaW5nOyAgICAgICAgLy8gcmF3IGF0dHJpYnV0ZSB0ZXh0XG4gICAgdmFsdWU6IHN0cmluZzsgICAgIC8vIGV4cHJlc3Npb24gb3IgbGl0ZXJhbFxuICAgIGJpbmRpbmc6IGJvb2xlYW47ICAgLy8gdHJ1ZSBpZiA6cHJvcFxufTtcblxuZXhwb3J0IHR5cGUgQXJlSW50ZXJwb2xhdGlvbiA9IHtcbiAgICByYXc6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG59XG5cblxuZXhwb3J0IHR5cGUgQXJlTGlzdGVuZXIgPSB7XG4gICAgdGFnOiBzdHJpbmc7ICAgICAgLy8gdGFnIG5hbWUgd2hlcmUgbGlzdGVuZXIgd2FzIGZvdW5kXG4gICAgbmFtZTogc3RyaW5nOyAgICAgLy8gZXZlbnQgbmFtZSAoZS5nLiBcImlucHV0XCIpXG4gICAgcmF3OiBzdHJpbmc7ICAgICAgLy8gZnVsbCByYXcgYXR0cmlidXRlIChlLmcuICcgQGlucHV0PVwib25DaGFuZ2VcIicpXG4gICAgaGFuZGxlcjogc3RyaW5nOyAgLy8gaGFuZGxlciBleHByZXNzaW9uIChlLmcuIFwib25DaGFuZ2VcIilcbn07XG5cblxuZXhwb3J0IHR5cGUgQXJlRGlyZWN0aXZlID0ge1xuICAgIHRhZzogc3RyaW5nOyAgICAgIC8vIHRhZyBuYW1lXG4gICAgbmFtZTogc3RyaW5nOyAgICAgLy8gZGlyZWN0aXZlIG5hbWUgKGUuZy4gXCIkaWZcIilcbiAgICByYXc6IHN0cmluZzsgICAgICAvLyBmdWxsIHJhdyBhdHRyaWJ1dGVcbiAgICB2YWx1ZT86IHN0cmluZzsgICAvLyBvcHRpb25hbCB2YWx1ZSBleHByZXNzaW9uXG4gICAgdGVtcGxhdGU6IHN0cmluZzsgLy8gZnVsbCB0YWcgdGVtcGxhdGUgd2hlcmUgZGlyZWN0aXZlIHdhcyBmb3VuZFxufTtcblxuXG5leHBvcnQgY2xhc3MgQXJlU3ludGF4IGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cbiAgICByZWFkb25seSBjb25maWchOiBSZXF1aXJlZDxBcmVTeW50YXhJbml0T3B0aW9ucz47XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgY29uZmlnOiBQYXJ0aWFsPEFyZVN5bnRheEluaXRPcHRpb25zPiA9IHt9XG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHsgbmFtZTogJ0FyZVN5bnRheCcgfSk7XG5cbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICBkZWJ1Z01vZGU6IGNvbmZpZy5kZWJ1Z01vZGUgfHwgZmFsc2UsXG4gICAgICAgICAgICBpbnRlcnBvbGF0aW9uRGVsaW1pdGVyczogY29uZmlnLmludGVycG9sYXRpb25EZWxpbWl0ZXJzIHx8IFsne3snLCAnfX0nXSxcbiAgICAgICAgICAgIGJpbmRpbmdEZWxpbWl0ZXI6IGNvbmZpZy5iaW5kaW5nRGVsaW1pdGVyIHx8ICc6JyxcbiAgICAgICAgICAgIGxpc3RlbmVyRGVsaW1pdGVyOiBjb25maWcubGlzdGVuZXJEZWxpbWl0ZXIgfHwgJ0AnLFxuICAgICAgICAgICAgc3RyaWN0TW9kZTogY29uZmlnLnN0cmljdE1vZGUgfHwgdHJ1ZSxcbiAgICAgICAgICAgIGN1c3RvbURpcmVjdGl2ZXM6IGNvbmZpZy5jdXN0b21EaXJlY3RpdmVzIHx8IFtdLFxuICAgICAgICAgICAgdHJpbVdoaXRlc3BhY2U6IGNvbmZpZy50cmltV2hpdGVzcGFjZSB8fCB0cnVlLFxuICAgICAgICAgICAgcm9vdFRhZzogY29uZmlnLnJvb3RUYWcgfHwgJ2FyZS1yb290JyxcbiAgICAgICAgICAgIGRpcmVjdGl2ZURlbGltaXRlcjogY29uZmlnLmRpcmVjdGl2ZURlbGltaXRlciB8fCAnJCcsXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByb3RlY3RlZCBTVEFOREFSRF9IVE1MX1RBR1MgPSBuZXcgU2V0KFtcbiAgICAgICAgXCJodG1sXCIsIFwiaGVhZFwiLCBcImJvZHlcIiwgXCJkaXZcIiwgXCJzcGFuXCIsIFwicFwiLCBcImFcIiwgXCJ1bFwiLCBcIm9sXCIsIFwibGlcIixcbiAgICAgICAgXCJ0YWJsZVwiLCBcInRoZWFkXCIsIFwidGJvZHlcIiwgXCJ0clwiLCBcInRkXCIsIFwidGhcIiwgXCJmb3JtXCIsIFwiaW5wdXRcIiwgXCJidXR0b25cIixcbiAgICAgICAgXCJzZWxlY3RcIiwgXCJvcHRpb25cIiwgXCJ0ZXh0YXJlYVwiLCBcImxhYmVsXCIsIFwiaW1nXCIsIFwiaDFcIiwgXCJoMlwiLCBcImgzXCIsIFwiaDRcIixcbiAgICAgICAgXCJoNVwiLCBcImg2XCIsIFwic2NyaXB0XCIsIFwic3R5bGVcIiwgXCJsaW5rXCIsIFwibWV0YVwiLCBcIm5hdlwiLCBcImZvb3RlclwiLCBcImhlYWRlclwiLFxuICAgICAgICBcInNlY3Rpb25cIiwgXCJhcnRpY2xlXCIsIFwiYXNpZGVcIiwgXCJtYWluXCIsIFwiY2FudmFzXCIsIFwidmlkZW9cIiwgXCJhdWRpb1wiLCBcImJyXCIsXG4gICAgICAgIFwiaHJcIiwgXCJzdHJvbmdcIiwgXCJlbVwiLCBcInNtYWxsXCIsIFwicHJlXCIsIFwiY29kZVwiLCBcImlmcmFtZVwiLCBcImRldGFpbHNcIixcbiAgICAgICAgXCJzdW1tYXJ5XCIsIFwic3ZnXCIsIFwicGF0aFwiLCBcImNpcmNsZVwiLCBcInJlY3RcIiwgXCJwb2x5Z29uXCIsIFwiZ1wiLCBcImRlZnNcIlxuICAgIF0pO1xuXG5cbiAgICBpc1Jvb3ROb2RlKG5vZGU6IEFyZU5vZGUpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuYXNlaWQuZW50aXR5LnRvTG93ZXJDYXNlKCkgPT09ICdhcmUtcm9vdCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBhIHRhZyBpcyBhIGN1c3RvbSBjb21wb25lbnQgb3Igc3RhbmRhcmQgSFRNTFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBub2RlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGlzQ3VzdG9tTm9kZShub2RlOiBBcmVOb2RlKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy5TVEFOREFSRF9IVE1MX1RBR1MuaGFzKG5vZGUuYXNlaWQuZW50aXR5LnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogSW50ZXJwb2xhdGlvbiBpcyBhIHBsYWNlaG9sZGVyIGZvciBkeW5hbWljIGRhdGEgaW4gdGhlIHRlbXBsYXRlIFxuICAgICAqIEV4YW1wbGU6IHt7ZGF0YVByb3BlcnR5fX1cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdGVtcGxhdGUgXG4gICAgICovXG4gICAgKmV4dHJhY3RJbnRlcnBvbGF0aW9ucyh0ZW1wbGF0ZTogc3RyaW5nKTogSXRlcmFibGU8QXJlSW50ZXJwb2xhdGlvbj4ge1xuICAgICAgICBjb25zdCBpbnRlcnBvbGF0aW9uUmVnZXggPSBuZXcgUmVnRXhwKGAke3RoaXMuY29uZmlnLmludGVycG9sYXRpb25EZWxpbWl0ZXJzWzBdfVxcXFxzKihbYS16QS1aMC05Xy4kXSspXFxcXHMqJHt0aGlzLmNvbmZpZy5pbnRlcnBvbGF0aW9uRGVsaW1pdGVyc1sxXX1gLCAnZycpO1xuICAgICAgICBsZXQgbWF0Y2g6IFJlZ0V4cEV4ZWNBcnJheSB8IG51bGw7XG5cbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IGludGVycG9sYXRpb25SZWdleC5leGVjKHRlbXBsYXRlKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHlpZWxkIHsgcmF3OiBtYXRjaFswXSwgbmFtZTogbWF0Y2hbMV0gfTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgY3VzdG9tIGRpcmVjdGl2ZXMgZnJvbSB0aGUgRklSU1QvVE9QLUxFVkVMIG9wZW5pbmcgdGFnIE9OTFkuXG4gICAgICogRGlyZWN0aXZlcyBzdGFydCB3aXRoIGAkYFxuICAgICAqXG4gICAgICogRXhhbXBsZXM6XG4gICAgICogICAkaWY9XCJjb25kaXRpb25cIlxuICAgICAqICAgJHNob3dcbiAgICAgKiAgICRuby11cGRhdGU9XCJcIlxuICAgICAqIFxuICAgICAqIE5vdGU6IFRoaXMgbWV0aG9kIGludGVudGlvbmFsbHkgaWdub3JlcyBuZXN0ZWQgZWxlbWVudHMgYW5kIG9ubHkgcHJvY2Vzc2VzXG4gICAgICogdGhlIHZlcnkgZmlyc3Qgb3BlbmluZyB0YWcgaW4gdGhlIHByb3ZpZGVkIHRlbXBsYXRlIHN0cmluZy5cbiAgICAgKi9cbiAgICAqZXh0cmFjdERpcmVjdGl2ZXModGVtcGxhdGU6IHN0cmluZyk6IEl0ZXJhYmxlPEFyZURpcmVjdGl2ZT4ge1xuICAgICAgICAvLyBUcmltIHdoaXRlc3BhY2UgdG8gZW5zdXJlIHdlIHN0YXJ0IGF0IHRoZSBhY3R1YWwgZmlyc3QgdGFnXG4gICAgICAgIGNvbnN0IHRyaW1tZWRUZW1wbGF0ZSA9IHRlbXBsYXRlLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIC8vIE1hdGNoIE9OTFkgdGhlIHZlcnkgZmlyc3Qgb3BlbmluZyB0YWcgKGFuY2hvcmVkIHdpdGggXilcbiAgICAgICAgY29uc3QgZmlyc3RUYWdNYXRjaCA9IHRyaW1tZWRUZW1wbGF0ZS5tYXRjaChcbiAgICAgICAgICAgIC9ePChbYS16QS1aXVteXFxzLz5dKikoXFxzW14+XSo/KT8+L1xuICAgICAgICApO1xuXG4gICAgICAgIGlmICghZmlyc3RUYWdNYXRjaCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHRhZyA9IGZpcnN0VGFnTWF0Y2hbMV07XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXNQYXJ0ID0gZmlyc3RUYWdNYXRjaFsyXTtcblxuICAgICAgICAvLyBJZiBubyBhdHRyaWJ1dGVzLCBubyBkaXJlY3RpdmVzIHBvc3NpYmxlXG4gICAgICAgIGlmICghYXR0cmlidXRlc1BhcnQpIHJldHVybjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXh0cmFjdCBkaXJlY3RpdmVzIGZyb20gdGhlIGZpcnN0IHRhZydzIGF0dHJpYnV0ZXMgb25seS5cbiAgICAgICAgICogTWF0Y2hlcyBwYXR0ZXJucyBsaWtlOlxuICAgICAgICAgKiAgJGlmPVwiY29uZGl0aW9uXCJcbiAgICAgICAgICogICRzaG93XG4gICAgICAgICAqICAkbm8tdXBkYXRlPVwiXCJcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGRpcmVjdGl2ZVJlZ2V4ID0gL1xccysoXFwkW2EtekEtWjAtOV8tXSspKD86XFxzKj1cXHMqKD86XCIoW15cIl0qKVwifCcoW14nXSopJykpPy9nO1xuXG4gICAgICAgIGxldCBtYXRjaDogUmVnRXhwRXhlY0FycmF5IHwgbnVsbDtcblxuICAgICAgICB3aGlsZSAoKG1hdGNoID0gZGlyZWN0aXZlUmVnZXguZXhlYyhhdHRyaWJ1dGVzUGFydCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gbWF0Y2hbMV07XG5cbiAgICAgICAgICAgIC8vIE9wdGlvbmFsIHdoaXRlbGlzdCBzdXBwb3J0IC0gb25seSBhcHBseSBpZiB3aGl0ZWxpc3QgaXMgZXhwbGljaXRseSBwcm92aWRlZFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmN1c3RvbURpcmVjdGl2ZXMgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5jdXN0b21EaXJlY3RpdmVzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5jb25maWcuY3VzdG9tRGlyZWN0aXZlcy5pbmNsdWRlcyhuYW1lKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJhdyA9IG1hdGNoWzBdO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBtYXRjaFsyXSA/PyBtYXRjaFszXTtcbiAgICAgICAgICAgIGNvbnN0IHRhZ1RlbXBsYXRlID0gZmlyc3RUYWdNYXRjaFswXTsgLy8gT25seSB0aGUgZmlyc3QgdGFnXG5cbiAgICAgICAgICAgIHlpZWxkIHtcbiAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICByYXcsXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRhZ1RlbXBsYXRlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyBjb21wb25lbnQgcHJvcHMgZnJvbSB0aGUgRklSU1Qgb3BlbmluZyB0YWcuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlczpcbiAgICAgKiAgIGxhYmVsPVwiQ2xpY2tcIlxuICAgICAqICAgOmxhYmVsPVwiJ0NsaWNrIE1lJ1wiXG4gICAgICpcbiAgICAgKiBFeGNsdWRlczpcbiAgICAgKiAgIEBjbGlja1xuICAgICAqICAgJGlmXG4gICAgICovXG4gICAgKmV4dHJhY3RBdHRyaWJ1dGVzKHRlbXBsYXRlOiBzdHJpbmcpOiBJdGVyYWJsZTxBcmVBdHRyaWJ1dGU+IHtcbiAgICAgICAgLy8gTWF0Y2ggZmlyc3Qgb3BlbmluZyB0YWdcbiAgICAgICAgY29uc3QgZmlyc3RUYWdNYXRjaCA9IHRlbXBsYXRlLm1hdGNoKFxuICAgICAgICAgICAgL148KFthLXpBLVpdW15cXHMvPl0qKShcXHNbXj5dKj8pPz4vXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCFmaXJzdFRhZ01hdGNoKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgdGFnID0gZmlyc3RUYWdNYXRjaFsxXTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlc1BhcnQgPSBmaXJzdFRhZ01hdGNoWzJdO1xuXG4gICAgICAgIGlmICghYXR0cmlidXRlc1BhcnQpIHJldHVybjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWF0Y2hlczpcbiAgICAgICAgICogICBsYWJlbD1cInRleHRcIlxuICAgICAgICAgKiAgIDpsYWJlbD1cIidDbGljaydcIlxuICAgICAgICAgKlxuICAgICAgICAgKiBTa2lwczpcbiAgICAgICAgICogICBAY2xpY2tcbiAgICAgICAgICogICAkaWZcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHByb3BSZWdleCA9XG4gICAgICAgICAgICAvXFxzKyg6PykoW2EtekEtWl1bYS16QS1aMC05Ll8tXSopXFxzKj1cXHMqKD86XCIoW15cIl0qKVwifCcoW14nXSopJykvZztcblxuICAgICAgICBsZXQgbWF0Y2g6IFJlZ0V4cEV4ZWNBcnJheSB8IG51bGw7XG5cbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IHByb3BSZWdleC5leGVjKGF0dHJpYnV0ZXNQYXJ0KSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzQmluZGluZyA9IG1hdGNoWzFdID09PSAnOic7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gbWF0Y2hbMl07XG5cbiAgICAgICAgICAgIC8vIEV4Y2x1ZGUgbGlzdGVuZXJzICYgZGlyZWN0aXZlcyBleHBsaWNpdGx5XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgbmFtZS5zdGFydHNXaXRoKHRoaXMuY29uZmlnLmxpc3RlbmVyRGVsaW1pdGVyKSB8fFxuICAgICAgICAgICAgICAgIG5hbWUuc3RhcnRzV2l0aCh0aGlzLmNvbmZpZy5kaXJlY3RpdmVEZWxpbWl0ZXIpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmF3ID0gbWF0Y2hbMF07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG1hdGNoWzNdID8/IG1hdGNoWzRdO1xuXG4gICAgICAgICAgICB5aWVsZCB7XG4gICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgcmF3LFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSB8fCAnJyxcbiAgICAgICAgICAgICAgICBiaW5kaW5nOiBpc0JpbmRpbmdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIGV2ZW50IGxpc3RlbmVycyBmcm9tIHRoZSBGSVJTVC9UT1AtTEVWRUwgb3BlbmluZyB0YWcgT05MWSBpbiB0aGUgdGVtcGxhdGUuXG4gICAgICogU3VwcG9ydHM6XG4gICAgICogIC0gQGV2ZW50PVwiaGFuZGxlclwiXG4gICAgICogIC0gQGV2ZW50PSdoYW5kbGVyJ1xuICAgICAqIFxuICAgICAqIE5vdGU6IFRoaXMgbWV0aG9kIGludGVudGlvbmFsbHkgaWdub3JlcyBuZXN0ZWQgZWxlbWVudHMgYW5kIG9ubHkgcHJvY2Vzc2VzXG4gICAgICogdGhlIHZlcnkgZmlyc3Qgb3BlbmluZyB0YWcgaW4gdGhlIHByb3ZpZGVkIHRlbXBsYXRlIHN0cmluZy5cbiAgICAgKi9cbiAgICAqZXh0cmFjdExpc3RlbmVycyh0ZW1wbGF0ZTogc3RyaW5nKTogSXRlcmFibGU8QXJlTGlzdGVuZXI+IHtcbiAgICAgICAgLy8gVHJpbSB3aGl0ZXNwYWNlIHRvIGVuc3VyZSB3ZSBzdGFydCBhdCB0aGUgYWN0dWFsIGZpcnN0IHRhZ1xuICAgICAgICBjb25zdCB0cmltbWVkVGVtcGxhdGUgPSB0ZW1wbGF0ZS50cmltKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBNYXRjaCBPTkxZIHRoZSB2ZXJ5IGZpcnN0IG9wZW5pbmcgdGFnIChhbmNob3JlZCB3aXRoIF4pXG4gICAgICAgIGNvbnN0IGZpcnN0VGFnTWF0Y2ggPSB0cmltbWVkVGVtcGxhdGUubWF0Y2goXG4gICAgICAgICAgICAvXjwoW2EtekEtWl1bXlxccy8+XSopKFxcc1tePl0qPyk/Pi9cbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIWZpcnN0VGFnTWF0Y2gpIHJldHVybjtcblxuICAgICAgICBjb25zdCB0YWcgPSBmaXJzdFRhZ01hdGNoWzFdO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzUGFydCA9IGZpcnN0VGFnTWF0Y2hbMl07XG5cbiAgICAgICAgLy8gSWYgbm8gYXR0cmlidXRlcywgbm8gbGlzdGVuZXJzIHBvc3NpYmxlXG4gICAgICAgIGlmICghYXR0cmlidXRlc1BhcnQpIHJldHVybjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXh0cmFjdCBsaXN0ZW5lcnMgZnJvbSB0aGUgZmlyc3QgdGFnJ3MgYXR0cmlidXRlcyBvbmx5LlxuICAgICAgICAgKiBNYXRjaCBsaXN0ZW5lciBhdHRyaWJ1dGVzOlxuICAgICAgICAgKiAgQGlucHV0PVwib25DaGFuZ2VcIlxuICAgICAgICAgKiAgQGNoYW5nZT0naGFuZGxlQ2hhbmdlJ1xuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgbGlzdGVuZXJSZWdleCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICBgXFxcXHMrJHt0aGlzLmNvbmZpZy5saXN0ZW5lckRlbGltaXRlcn0oW2EtekEtWjAtOV86LV0rKWAgK1xuICAgICAgICAgICAgYFxcXFxzKj1cXFxccyooPzpcIihbXlwiXSopXCJ8JyhbXiddKiknKWAsXG4gICAgICAgICAgICAnZydcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgbWF0Y2g6IFJlZ0V4cEV4ZWNBcnJheSB8IG51bGw7XG5cbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IGxpc3RlbmVyUmVnZXguZXhlYyhhdHRyaWJ1dGVzUGFydCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCByYXcgPSBtYXRjaFswXTtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBtYXRjaFsxXTtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSBtYXRjaFsyXSA/PyBtYXRjaFszXSA/PyBcIlwiO1xuXG4gICAgICAgICAgICB5aWVsZCB7XG4gICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgcmF3LFxuICAgICAgICAgICAgICAgIGhhbmRsZXJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgaXNCaW5kaW5nUHJvcChwcm9wOiBBcmVBdHRyaWJ1dGUpOiBib29sZWFuIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0NoZWNraW5nIGlmIHByb3AgaXMgYmluZGluZzonLCBwcm9wKTtcbiAgICAgICAgcmV0dXJuIHByb3AucmF3LnRyaW0oKS5zdGFydHNXaXRoKCc6JylcbiAgICB9XG5cblxuICAgIGV4dHJhY3RQcm9wVmFsdWUocHJvcDogQXJlQXR0cmlidXRlLCBwYXJlbnRTdG9yZTogQXJlU3RvcmUpOiBhbnkge1xuXG4gICAgICAgIGlmIChwcm9wLnZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCaW5kaW5nIHByb3AgKHN0YXJ0cyB3aXRoIDopXG4gICAgICAgIGlmIChwcm9wLmJpbmRpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcHJvcC52YWx1ZS50cmltKCk7XG5cbiAgICAgICAgICAgIC8vIFN0YXRpYyBsaXRlcmFsIGJpbmRpbmc6IDpsYWJlbD1cIidDbGljaydcIiBvciA6XCJDbGlja1wiXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKHZhbHVlLnN0YXJ0c1dpdGgoXCInXCIpICYmIHZhbHVlLmVuZHNXaXRoKFwiJ1wiKSkgfHxcbiAgICAgICAgICAgICAgICAodmFsdWUuc3RhcnRzV2l0aCgnXCInKSAmJiB2YWx1ZS5lbmRzV2l0aCgnXCInKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zbGljZSgxLCAtMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIER5bmFtaWMgYmluZGluZzogOmxhYmVsPVwic29tZUtleVwiXG4gICAgICAgICAgICAvLyAoZnV0dXJlOiBleHByZXNzaW9ucywgcGF0aHMsIGNvbXB1dGVkLCBldGMuKVxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudFN0b3JlPy5nZXQodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RhdGljIHByb3A6IGxhYmVsPVwiQ2xpY2tcIlxuICAgICAgICByZXR1cm4gcHJvcC52YWx1ZTtcbiAgICB9XG5cblxuICAgIGFwcGx5RGlyZWN0aXZlKG5vZGU6IEFyZU5vZGUsIHRlbXBsYXRlOiBzdHJpbmcsIGRpcmVjdGl2ZTogQXJlRGlyZWN0aXZlLCB2YWx1ZT86IGFueSk6IHN0cmluZyB7XG5cbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAnXFxuXFxuXFxuJyArICc9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSdcbiAgICAgICAgICAgICsgYFxcbkFwcGx5aW5nIGRpcmVjdGl2ZSAnJHtkaXJlY3RpdmUubmFtZX0nIG9uIDwke25vZGUuYXNlaWQuZW50aXR5fT5gXG4gICAgICAgICAgICArIGBcXG5EaXJlY3RpdmUgcmF3OiAke2RpcmVjdGl2ZS5yYXd9YFxuICAgICAgICAgICAgKyAnXFxuXFxuXFxuJyArICc9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSdcbiAgICAgICAgKVxuXG4gICAgICAgIHN3aXRjaCAoZGlyZWN0aXZlLm5hbWUpIHtcbiAgICAgICAgICAgIC8vIGNhc2UgJyR0cmltJzoge1xuICAgICAgICAgICAgLy8gICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKGRpcmVjdGl2ZS5yYXcsICcnKS50cmltKCk7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBjYXNlICckaWYnOiB7XG4gICAgICAgICAgICAgICAgLy8gT25seSByZW1vdmUgdGhlIGVsZW1lbnQgaWYgdGhlIGNvbmRpdGlvbiBpcyBmYWxzeVxuICAgICAgICAgICAgICAgIC8vIElmIGNvbmRpdGlvbiBpcyB0cnV0aHksIGtlZXAgdGhlIGVsZW1lbnQgYnV0IHJlbW92ZSB0aGUgZGlyZWN0aXZlIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb25kaXRpb24gaXMgdHJ1ZSAtIGtlZXAgZWxlbWVudCwganVzdCByZW1vdmUgdGhlICRpZiBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoZGlyZWN0aXZlLnJhdywgJycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbmRpdGlvbiBpcyBmYWxzZSAtIHJlbW92ZSB0aGUgZW50aXJlIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoZGlyZWN0aXZlLnRlbXBsYXRlLCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2FzZSAnJG5vLXVwZGF0ZSc6IHtcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZShkaXJlY3RpdmUucmF3LCAnJykudHJpbSgpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy8gZXh0cmFjdFByb3BWYWx1ZShwcm9wOiBBcmVQcm9wLCBwYXJlbnRTdG9yZTogQXJlU3RvcmUpOiBhbnkge1xuICAgIC8vICAgICBzd2l0Y2ggKHRydWUpIHtcblxuICAgIC8vICAgICAgICAgY2FzZSB0aGlzLmlzQmluZGluZ1Byb3AocHJvcCkgJiYgIShwcm9wLnZhbHVlLnN0YXJ0c1dpdGgoJ1xcJycpICYmIHByb3AudmFsdWUuZW5kc1dpdGgoJ1xcJycpKToge1xuICAgIC8vICAgICAgICAgICAgIC8vIER5bmFtaWMgYmluZGluZyAoZm9yIG5vdyBvbmx5IHN0cmluZyBsaXRlcmFscyBhcmUgc3VwcG9ydGVkKVxuICAgIC8vICAgICAgICAgICAgIC8vIEluIGZ1dHVyZSBpdCBzaG91bGQgc3VwcG9ydCBleHByZXNzaW9ucyBhbmQgZGF0YSBwYXRoc1xuICAgIC8vICAgICAgICAgICAgIHJldHVybiBwYXJlbnRTdG9yZT8uZ2V0KHByb3AudmFsdWUpO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgY2FzZSB0aGlzLmlzQmluZGluZ1Byb3AocHJvcCkgJiYgKHByb3AudmFsdWUuc3RhcnRzV2l0aCgnXFwnJykgJiYgcHJvcC52YWx1ZS5lbmRzV2l0aCgnXFwnJykpOiB7XG4gICAgLy8gICAgICAgICAgICAgLy8gU3RhdGljIGJpbmRpbmdcbiAgICAvLyAgICAgICAgICAgICByZXR1cm4gcHJvcC52YWx1ZS5zdWJzdHJpbmcoMSwgcHJvcC52YWx1ZS5sZW5ndGggLSAxKTtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAvLyAgICAgICAgICAgICAvLyBTdGF0aWMgdmFsdWVcbiAgICAvLyAgICAgICAgICAgICByZXR1cm4gcHJvcC52YWx1ZTtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIHJlcGxhY2VJbnRlcnBvbGF0aW9uKHRlbXBsYXRlOiBzdHJpbmcsIGludGVycG9sYXRpb246IEFyZUludGVycG9sYXRpb24gfCBzdHJpbmcsIHZhbHVlOiBhbnkpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBrZXkgPSB0eXBlb2YgaW50ZXJwb2xhdGlvbiA9PT0gJ3N0cmluZycgPyBpbnRlcnBvbGF0aW9uIDogaW50ZXJwb2xhdGlvbi5uYW1lO1xuXG5cbiAgICAgICAgY29uc29sZS5sb2coJ1JlcGxhY2luZyBpbnRlcnBvbGF0aW9uJywga2V5LCAnd2l0aCB2YWx1ZScsIHZhbHVlLCBuZXcgUmVnRXhwKGAke3RoaXMuY29uZmlnLmludGVycG9sYXRpb25EZWxpbWl0ZXJzWzBdfVxcXFxzKiR7a2V5fVxcXFxzKiR7dGhpcy5jb25maWcuaW50ZXJwb2xhdGlvbkRlbGltaXRlcnNbMV19YCwgJ2cnKSk7XG5cbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UobmV3IFJlZ0V4cChgJHt0aGlzLmNvbmZpZy5pbnRlcnBvbGF0aW9uRGVsaW1pdGVyc1swXX1cXFxccyoke2tleX1cXFxccyoke3RoaXMuY29uZmlnLmludGVycG9sYXRpb25EZWxpbWl0ZXJzWzFdfWAsICdnJyksIHZhbHVlICE9PSB1bmRlZmluZWQgPyBTdHJpbmcodmFsdWUpIDogJycpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9DYWxsZXIsIEFfQ29tcG9uZW50LCBBX0NvbnRleHQsIEFfRGVwZW5kZW5jeSwgQV9GZWF0dXJlLCBBX0Zvcm1hdHRlckhlbHBlciwgQV9JbmplY3QsIEFfU2NvcGUsIEFfVFlQRVNfX0VudGl0eUZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfQ29uZmlnLCBBX0xvZ2dlciwgQV9MT0dHRVJfQ09MT1JTLCBBX1NlcnZpY2VGZWF0dXJlcywgQV9TaWduYWxfSW5pdCwgQV9TaWduYWxCdXMsIEFfU2lnbmFsVmVjdG9yLCBBX1NpZ25hbFZlY3RvckZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5pbXBvcnQgeyBBcmVOb2RlRmVhdHVyZXMgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiO1xuaW1wb3J0IHsgQXJlRmVhdHVyZXMgfSBmcm9tIFwiLi4vQXJlQ29tcG9uZW50L0FyZS5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFyZVN0b3JlIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTdG9yZS9BcmVTdG9yZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTY2VuZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU2NlbmUvQXJlU2NlbmUuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlIH0gZnJvbSBcIi4uL0FyZUNvbXBvbmVudC9BcmUuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVJbmRleCB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlSW5kZXgvQXJlSW5kZXguY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlUHJvcHMgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVByb3BzL0FyZVByb3BzLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZUluaXRTaWduYWwgfSBmcm9tIFwic3JjL3NpZ25hbHMvQXJlSW5pdC5zaWduYWxcIjtcbmltcG9ydCB7IEFyZUV2ZW50IH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVFdmVudC9BcmVFdmVudC5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTeW50YXggfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN5bnRheC9BcmVTeW50YXguY29udGV4dFwiO1xuXG5leHBvcnQgY2xhc3MgQXJlQ29tcGlsZXIgZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG5cblxuXG4gICAgcHJvdGVjdGVkIGRlYnVnKG5vZGU6IEFyZU5vZGUsIG1lc3NhZ2U6IHN0cmluZykge1xuXG4gICAgICAgIC8vIGNvbnN0IHNjZW5lID0gQV9Db250ZXh0LnNjb3BlKG5vZGUpLnJlc29sdmUoQXJlU2NlbmUpITtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSBub2RlLnNjb3BlLnJlc29sdmUoQXJlU2NlbmUpITtcblxuICAgICAgICBBX0NvbnRleHQuc2NvcGUodGhpcykucmVzb2x2ZShBX0xvZ2dlcik/LmRlYnVnKFxuICAgICAgICAgICAgJ21hZ2VudGEnLFxuICAgICAgICAgICAgYCR7JyAtICcucmVwZWF0KHNjZW5lLmRlcHRoKX0gJHttZXNzYWdlfWBcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vbkJlZm9yZUxvYWRdKFxuICAgICAgICBAQV9EZXBlbmRlbmN5LlBhcmVudCgpXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSByb290PzogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBX0NvbmZpZykgY29uZmlnPzogQV9Db25maWc8YW55PixcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI/OiBBX0xvZ2dlcixcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gMSkgSW5pdGlhbGl6ZSBTY2VuZSBpZiBub3QgcHJlc2VudFxuICAgICAgICBsb2dnZXI/LmRlYnVnKCdjeWFuJywgYEluaXRpYWxpemluZyBBcmVCcm93c2VyRG9tIGluIEFyZUJyb3dzZXJDb21waWxlci4uLmApO1xuICAgICAgICBjb25zdCBtb3VudFBvaW50ID0gY29uZmlnPy5nZXQoJ0FSRV9NT1VOVF9QT0lOVCcpIHx8ICdhcmUtYXBwJztcblxuICAgICAgICBpZiAoIXJvb3QpIHtcbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKG5ldyBBcmVTY2VuZShtb3VudFBvaW50KSk7XG4gICAgICAgICAgICBzY29wZS5yZWdpc3RlcihuZXcgQXJlSW5kZXgobW91bnRQb2ludCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT0gQ09NUE9ORU5UIE1FVEhPRFMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25FdmVudCxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgZXZlbnQoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQXJlRXZlbnQpIGV2ZW50OiBBcmVFdmVudCxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBX0ZlYXR1cmUpIGZlYXR1cmU6IEFfRmVhdHVyZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgdGhpcy5kZWJ1Zyhub2RlLCBgW0V2ZW50IC0+IEhhbmRsZV0gQ29tcG9uZW50IFRyaWdnZXIgZm9yIDwke25vZGUuYXNlaWQuZW50aXR5fT4gIHdpdGggYXNlaWQgOnske25vZGUuYXNlaWQudG9TdHJpbmcoKX19YCk7XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gc2NvcGUucmVzb2x2ZTxBcmU+KEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShub2RlLmFzZWlkLmVudGl0eSkpO1xuXG4gICAgICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgICAgIGF3YWl0IGZlYXR1cmUuY2hhaW4oY29tcG9uZW50LCBldmVudC5uYW1lLCBzY29wZSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9UWVBFU19fRW50aXR5RmVhdHVyZXMuTE9BRCxcbiAgICAgICAgYmVmb3JlOiAvLiovLFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyBiZWZvcmVMb2FkKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBX0ZlYXR1cmUpIGZlYXR1cmU6IEFfRmVhdHVyZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgdGhpcy5kZWJ1Zyhub2RlLCBgW0xvYWQgLT4gQmVmb3JlXSBDb21wb25lbnQgVHJpZ2dlciBmb3IgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiAgd2l0aCBhc2VpZCA6eyR7bm9kZS5hc2VpZC50b1N0cmluZygpfX1gKTtcblxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBzY29wZS5yZXNvbHZlPEFyZT4oQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5vZGUuYXNlaWQuZW50aXR5KSk7XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudClcbiAgICAgICAgICAgIGF3YWl0IGZlYXR1cmUuY2hhaW4oY29tcG9uZW50LCBBcmVGZWF0dXJlcy5vbkJlZm9yZUxvYWQsIG5vZGUuc2NvcGUpO1xuICAgIH1cblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBX1RZUEVTX19FbnRpdHlGZWF0dXJlcy5MT0FELFxuICAgICAgICBhZnRlcjogLy4qLyxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgYWZ0ZXJMb2FkKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBX0ZlYXR1cmUpIGZlYXR1cmU6IEFfRmVhdHVyZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgdGhpcy5kZWJ1Zyhub2RlLCBgW0xvYWQgLT4gQWZ0ZXJdIENvbXBvbmVudCBUcmlnZ2VyIGZvciA8JHtub2RlLmFzZWlkLmVudGl0eX0+ICB3aXRoIGFzZWlkIDp7JHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9fWApO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50KG5vZGUsIHNjb3BlKTtcblxuICAgICAgICBpZiAoY29tcG9uZW50KVxuICAgICAgICAgICAgYXdhaXQgZmVhdHVyZS5jaGFpbihjb21wb25lbnQsIEFyZUZlYXR1cmVzLm9uQWZ0ZXJMb2FkLCBub2RlLnNjb3BlKTtcblxuICAgIH1cblxuXG4gICAgY29tcG9uZW50KG5vZGU6IEFyZU5vZGUsIHNjb3BlOiBBX1Njb3BlKTogQXJlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHNjb3BlLnJlc29sdmU8QXJlPihBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2Uobm9kZS5hc2VpZC5lbnRpdHkpKTtcbiAgICB9XG5cblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBX1RZUEVTX19FbnRpdHlGZWF0dXJlcy5MT0FELFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyBsb2FkKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBcmVTeW50YXgpIHN5bnRheDogQXJlU3ludGF4LFxuXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKSB7XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnQobm9kZSwgc2NvcGUpO1xuXG5cbiAgICAgICAgXG4gICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgICBzY29wZS5yZXNvbHZlKEFfTG9nZ2VyKT8ud2FybmluZyhcbiAgICAgICAgICAgICAgICAnQ29tcG9uZW50IE5vdCBGb3VuZCcsXG4gICAgICAgICAgICAgICAgYE5vIGNvbXBvbmVudCByZWdpc3RlcmVkIGZvciBlbnRpdHk6ICR7bm9kZS5hc2VpZC5lbnRpdHl9LiBQbGVhc2UgZW5zdXJlIHRoYXQgdGhlIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkIGluIHRoZSBzY29wZSBiZWZvcmUgcmVuZGVyaW5nLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBjb21wb25lbnQ/LmRhdGEoKSB8fCB7fTtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBhd2FpdCBjb21wb25lbnQ/LnRlbXBsYXRlKCkgfHwgJyc7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IGF3YWl0IGNvbXBvbmVudD8uc3R5bGVzKCkgfHwgJyc7XG5cbiAgICAgICAgY29uc3QgbmV3Tm9kZVNjZW5lID0gbmV3IEFyZVNjZW5lKG5vZGUuYXNlaWQsIHRlbXBsYXRlKTtcbiAgICAgICAgY29uc3QgbmV3Tm9kZUluZGV4ID0gbmV3IEFyZUluZGV4KG5vZGUuYXNlaWQpO1xuICAgICAgICBjb25zdCBuZXdOb2RlU3RvcmUgPSBuZXcgQXJlU3RvcmUobm9kZS5hc2VpZCk7XG4gICAgICAgIGNvbnN0IG5ld05vZGVQcm9wcyA9IG5ldyBBcmVQcm9wcyhub2RlLmFzZWlkKTtcblxuICAgICAgICBub2RlLnNjb3BlLnJlZ2lzdGVyKG5ld05vZGVTY2VuZSk7XG4gICAgICAgIG5vZGUuc2NvcGUucmVnaXN0ZXIobmV3Tm9kZUluZGV4KTtcbiAgICAgICAgbm9kZS5zY29wZS5yZWdpc3RlcihuZXdOb2RlU3RvcmUpO1xuICAgICAgICBub2RlLnNjb3BlLnJlZ2lzdGVyKG5ld05vZGVQcm9wcyk7XG5cblxuXG4gICAgICAgIC8vIC5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpO1xuXG4gICAgICAgIC8vIGNvbnN0IHNjZW5lID0gc2NvcGUucmVzb2x2ZTxBcmVTY2VuZT4oQXJlU2NlbmUpITtcblxuICAgICAgICAvLyBBZGQgc3R5bGVzIHRvIHRoZSBzY2VuZVxuICAgICAgICAvLyBhd2FpdCBzY2VuZS5hZGRTdHlsZXMobm9kZSwgc3R5bGVzKTtcblxuICAgICAgICAvLyBVcGRhdGUgc2NlbmUgd2l0aCB0ZW1wbGF0ZSB0aGF0IGNhbiBiZSBtb2RpZmllZCB2aWEgbGF0ZXIgZHVyaW5nIGNvbXBpbGUgcGhhc2VcbiAgICAgICAgLy8gYXdhaXQgc2NlbmUucmVzZXQobm9kZS50ZW1wbGF0ZSk7XG5cbiAgICAgICAgY29uc3Qgc3RvcmUgPSBzY29wZS5yZXNvbHZlPEFyZVN0b3JlPihBcmVTdG9yZSkhO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBzdG9yZSB3aXRoIGNvbXBvbmVudCBkZWZhdWx0IGRhdGFcbiAgICAgICAgc3RvcmUuc2V0TXVsdGlwbGUoZGF0YSk7XG5cblxuICAgICAgICAvLyBDb3B5IG9yaWdpbmFsIHRlbXBsYXRlIHRvIHRoZSBub2RlXG4gICAgICAgIG5vZGUudGVtcGxhdGUgPSB0ZW1wbGF0ZVxuICAgICAgICAvLyAucmVwbGFjZSgvXFxzKy9nLCAnICcpLnRyaW0oKTtcbiAgICAgICAgbm9kZS5zdHlsZXMgPSBzdHlsZXNcblxuICAgICAgICB0aGlzLmRlYnVnKG5vZGUsIGBMb2FkZWQgY29tcG9uZW50IDwke25vZGUuYXNlaWQuZW50aXR5fT4gd2l0aCAke3RoaXMuY29uc3RydWN0b3IubmFtZX1gKTtcbiAgICB9XG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uQ29tcGlsZSxcbiAgICAgICAgYmVmb3JlOiAvLiovLFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyBiZWZvcmVDb21waWxlKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBX0ZlYXR1cmUpIGZlYXR1cmU6IEFfRmVhdHVyZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgdGhpcy5kZWJ1Zyhub2RlLCBgW0NvbXBpbGUgLT4gQmVmb3JlXSBDb21wb25lbnQgVHJpZ2dlciBmb3IgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiAgd2l0aCBhc2VpZCA6eyR7bm9kZS5hc2VpZC50b1N0cmluZygpfX1gKTtcblxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBzY29wZS5yZXNvbHZlPEFyZT4oQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5vZGUuYXNlaWQuZW50aXR5KSk7XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudClcbiAgICAgICAgICAgIGF3YWl0IGZlYXR1cmUuY2hhaW4oY29tcG9uZW50LCBBcmVGZWF0dXJlcy5vbkJlZm9yZUNvbXBpbGUsIG5vZGUuc2NvcGUpO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uQ29tcGlsZSxcbiAgICAgICAgYWZ0ZXI6IC8uKi8sXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGFmdGVyQ29tcGlsZShcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgICAgICBAQV9JbmplY3QoQV9GZWF0dXJlKSBmZWF0dXJlOiBBX0ZlYXR1cmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKSB7XG5cbiAgICAgICAgdGhpcy5kZWJ1Zyhub2RlLCBgW0NvbXBpbGUgLT4gQWZ0ZXJdIENvbXBvbmVudCBUcmlnZ2VyIGZvciA8JHtub2RlLmFzZWlkLmVudGl0eX0+ICB3aXRoIGFzZWlkIDp7JHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9fWApO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjb3BlLnJlc29sdmU8QXJlPihBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2Uobm9kZS5hc2VpZC5lbnRpdHkpKTtcblxuXG4gICAgICAgIGlmIChjb21wb25lbnQpXG4gICAgICAgICAgICBhd2FpdCBmZWF0dXJlLmNoYWluKGNvbXBvbmVudCwgQXJlRmVhdHVyZXMub25BZnRlckNvbXBpbGUsIG5vZGUuc2NvcGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBpbGVzIHRoZSBBcmVOb2RlIHVzaW5nIEFyZUNvbXBpbGVyXG4gICAgICogXG4gICAgICogXG4gICAgICogQHBhcmFtIGxvZ2dlciBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZU5vZGVGZWF0dXJlcy5vbkNvbXBpbGUsXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGNvbXBpbGUoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcblxuICAgICAgICAvLyBDb21waWxhdGlvbiBsb2dpYyBjYW4gYmUgYWRkZWQgaGVyZVxuXG4gICAgfVxuXG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uQmVmb3JlUmVuZGVyLFxuICAgICAgICBiZWZvcmU6IC8uKi8sXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGJlZm9yZVJlbmRlcihcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgICAgICBAQV9JbmplY3QoQV9GZWF0dXJlKSBmZWF0dXJlOiBBX0ZlYXR1cmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKSB7XG4gICAgICAgIHRoaXMuZGVidWcobm9kZSwgYFtSZW5kZXIgLT4gQmVmb3JlXSBDb21wb25lbnQgVHJpZ2dlciBmb3IgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiAgd2l0aCBhc2VpZCA6eyR7bm9kZS5hc2VpZC50b1N0cmluZygpfX1gKTtcblxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBzY29wZS5yZXNvbHZlPEFyZT4oQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5vZGUuYXNlaWQuZW50aXR5KSk7XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudClcbiAgICAgICAgICAgIGF3YWl0IGZlYXR1cmUuY2hhaW4oY29tcG9uZW50LCBBcmVGZWF0dXJlcy5vbkJlZm9yZVJlbmRlciwgbm9kZS5zY29wZSk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25BZnRlclJlbmRlcixcbiAgICAgICAgYWZ0ZXI6IC8uKi8sXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGFmdGVyUmVuZGVyKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBX0ZlYXR1cmUpIGZlYXR1cmU6IEFfRmVhdHVyZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgdGhpcy5kZWJ1Zyhub2RlLCBgW1JlbmRlciAtPiBBZnRlcl0gQ29tcG9uZW50IFRyaWdnZXIgZm9yIDwke25vZGUuYXNlaWQuZW50aXR5fT4gIHdpdGggYXNlaWQgOnske25vZGUuYXNlaWQudG9TdHJpbmcoKX19YCk7XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gc2NvcGUucmVzb2x2ZTxBcmU+KEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShub2RlLmFzZWlkLmVudGl0eSkpO1xuXG4gICAgICAgIGlmIChjb21wb25lbnQpXG4gICAgICAgICAgICBhd2FpdCBmZWF0dXJlLmNoYWluKGNvbXBvbmVudCwgQXJlRmVhdHVyZXMub25BZnRlclJlbmRlciwgbm9kZS5zY29wZSk7XG5cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIEFyZU5vZGUgaW50byB0aGUgQXJlU2NlbmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGUgXG4gICAgICogQHBhcmFtIG5vZGUgXG4gICAgICogQHBhcmFtIHNjZW5lIFxuICAgICAqIEBwYXJhbSBsb2dnZXIgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25SZW5kZXIsXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIHJlbmRlcihcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcblxuICAgICAgICBAQV9EZXBlbmRlbmN5LlJlcXVpcmVkKClcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBwYXJlbnRTY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKSB7XG5cbiAgICAgICAgdGhpcy5kZWJ1Zyhub2RlLCBgUmVuZGVyaW5nIG5vZGUgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiBpbnRvICR7c2NlbmUubmFtZX1gKTtcblxuICAgICAgICBmb3IgKGNvbnN0IG5ld05vZGUgb2Ygc2NlbmUubm9kZXMoKSkge1xuXG4gICAgICAgICAgICBzY2VuZS5hdHRhY2gobmV3Tm9kZSk7XG5cbiAgICAgICAgICAgIGF3YWl0IG5ld05vZGUubG9hZCgpO1xuXG4gICAgICAgICAgICBhd2FpdCBuZXdOb2RlLmNvbXBpbGUoKTtcblxuICAgICAgICB9XG5cblxuICAgICAgICB0aGlzLmRlYnVnKG5vZGUsIGBOb2RlIDwke25vZGUuYXNlaWQuZW50aXR5fT4gcmVuZGVyZWQgc3VjY2Vzc2Z1bGx5LmApO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgQXJlTm9kZVxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uVXBkYXRlLFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyB1cGRhdGUoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG5cbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcblxuICAgIH1cblxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFfVFlQRVNfX0VudGl0eUZlYXR1cmVzLkRFU1RST1ksXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGRlc3Ryb3koKSB7XG5cbiAgICB9XG5cblxuXG5cblxufSIsICJpbXBvcnQgeyBBX1NpZ25hbCB9IGZyb20gXCJAYWRhYXMvYS11dGlsc1wiO1xuXG5cblxuXG5leHBvcnQgY2xhc3MgQXJlU2lnbmFsPFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55Pj4gZXh0ZW5kcyBBX1NpZ25hbDxUPiB7XG5cblxufSIsICJpbXBvcnQgeyBBcmVTaWduYWwgfSBmcm9tIFwiLi4vZW50aXRpZXMvQXJlU2lnbmFsL0FyZVNpZ25hbC5lbnRpdHlcIjtcblxuZXhwb3J0IGNsYXNzIEFyZUluaXRTaWduYWwgZXh0ZW5kcyBBcmVTaWduYWw8eyByZWFkeTogYm9vbGVhbiB9PiB7XG4gICAgc3RhdGljIGFzeW5jIGRlZmF1bHQoKTogUHJvbWlzZTxBcmVTaWduYWwgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBBcmVJbml0U2lnbmFsKHsgZGF0YTogeyByZWFkeTogZmFsc2UgfSB9KTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfRGVwZW5kZW5jeSwgQV9GZWF0dXJlLCBBX0luamVjdCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0NvbmZpZywgQV9Mb2dnZXIsIEFfUG9seWZpbGwsIEFfU2VydmljZSwgQV9TZXJ2aWNlRmVhdHVyZXMsIEFfU2lnbmFsIH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5pbXBvcnQgeyBBcmVDb21waWxlciB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlQ29tcGlsZXIvQXJlQ29tcGlsZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVTY2VuZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU2NlbmUvQXJlU2NlbmUuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlSW5pdFNpZ25hbCB9IGZyb20gXCJzcmMvc2lnbmFscy9BcmVJbml0LnNpZ25hbFwiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFyZUFwcCBleHRlbmRzIEFfU2VydmljZSB7XG5cbiAgICBnZXQgcm9vdCgpOiBBcmVTY2VuZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnJlc29sdmU8QXJlU2NlbmU+KEFyZVNjZW5lKSE7XG4gICAgfVxuXG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfU2VydmljZUZlYXR1cmVzLm9uQWZ0ZXJMb2FkXShcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgICAgIGxvZ2dlci5pbmZvKCdjeWFuJywgYFVJIEFwcGxpY2F0aW9uIG1vdW50ZWQgYXQgPCR7dGhpcy5yb290Lm5hbWV9PmApO1xuICAgIH1cblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25TdGFydF0oXG5cbiAgICAgICAgQEFfRGVwZW5kZW5jeS5SZXF1aXJlZCgpXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyOiBBX0xvZ2dlcixcblxuICAgICAgICBAQV9EZXBlbmRlbmN5LlJlcXVpcmVkKClcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG5cbiAgICAgICAgQEFfSW5qZWN0KEFyZUNvbXBpbGVyKSBjb21waWxlcjogQXJlQ29tcGlsZXIsXG5cbiAgICAgICAgQEFfSW5qZWN0KEFfQ29uZmlnKSBjb25maWc/OiBBX0NvbmZpZzxhbnk+LFxuXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IG5ldyBBcmVJbml0U2lnbmFsKHsgZGF0YTogeyByZWFkeTogdHJ1ZSB9IH0pO1xuXG4gICAgICAgIGF3YWl0IHNpZ25hbC5uZXh0KHRoaXMuc2NvcGUpO1xuICAgIH1cblxufSIsICJpbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiO1xuaW1wb3J0IHsgQXJlSW5kZXggfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZUluZGV4L0FyZUluZGV4LmNvbnRleHRcIjtcbmltcG9ydCB7IEFfQ29uZmlnLCBBX0xvZ2dlciwgQV9Qb2x5ZmlsbCwgQV9TY2hlZHVsZSwgQV9TY2hlZHVsZU9iamVjdCwgQV9TZXJ2aWNlRmVhdHVyZXMsIEFfU2lnbmFsVmVjdG9yLCBBX1NpZ25hbFZlY3RvckZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5pbXBvcnQgeyBBX0NhbGxlciwgQV9Db21tb25IZWxwZXIsIEFfQ29tcG9uZW50LCBBX0NvbnRhaW5lciwgQV9EZXBlbmRlbmN5LCBBX0Vycm9yLCBBX0ZlYXR1cmUsIEFfRm9ybWF0dGVySGVscGVyLCBBX0luamVjdCwgQV9TY29wZSwgQV9UWVBFU19fRW50aXR5RmVhdHVyZXMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQXJlTm9kZUZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQXJlU3RvcmUgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN0b3JlL0FyZVN0b3JlLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZVByb3BzIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVQcm9wcy9BcmVQcm9wcy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmUgfSBmcm9tIFwiLi4vQXJlQ29tcG9uZW50L0FyZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFyZUNvbXBpbGVyIH0gZnJvbSBcIi4uL0FyZUNvbXBpbGVyL0FyZUNvbXBpbGVyLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQXJlU2NlbmUgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVNjZW5lL0FyZVNjZW5lLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZUV2ZW50IH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVFdmVudC9BcmVFdmVudC5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTeW50YXggfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN5bnRheC9BcmVTeW50YXguY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlSW5pdFNpZ25hbCB9IGZyb20gXCJzcmMvc2lnbmFscy9BcmVJbml0LnNpZ25hbFwiO1xuaW1wb3J0IHsgQXJlU2NlbmVBY3Rpb24gfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVTY2VuZUFjdGlvbi9BcmVTY2VuZUFjdGlvbi5lbnRpdHlcIjtcblxuLyoqXG4gKiBCcm93c2VyIERPTSBzcGVjaWZpYyBzY2VuZSBpbXBsZW1lbnRhdGlvblxuICogSGFuZGxlcyBhbGwgYnJvd3Nlci9ET00gcmVsYXRlZCBvcGVyYXRpb25zIGFuZCBwcm92aWRlcyB3ZWItc3BlY2lmaWMgY29tcGlsYXRpb24gbG9naWNcbiAqL1xuZXhwb3J0IGNsYXNzIEFyZUJyb3dzZXJDb21waWxlciBleHRlbmRzIEFyZUNvbXBpbGVyIHtcblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25CZWZvcmVMb2FkXShcbiAgICAgICAgQEFfRGVwZW5kZW5jeS5QYXJlbnQoKVxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgcm9vdD86IEFyZVNjZW5lLFxuICAgICAgICBAQV9JbmplY3QoQV9Db25maWcpIGNvbmZpZz86IEFfQ29uZmlnPGFueT4sXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIDEpIEluaXRpYWxpemUgU2NlbmUgaWYgbm90IHByZXNlbnRcbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZygnY3lhbicsIGBJbml0aWFsaXppbmcgQXJlU2NlbmUgaW4gQXJlQnJvd3NlckNvbXBpbGVyLi4uYCk7XG4gICAgICAgIGNvbnN0IG1vdW50UG9pbnRJRCA9IGNvbmZpZz8uZ2V0KCdBUkVfTU9VTlRfUE9JTlQnKSB8fCAnYXJlLWFwcCc7XG5cbiAgICAgICAgaWYgKCFyb290KSB7XG4gICAgICAgICAgICBjb25zdCBtb3VudFBvaW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vdW50UG9pbnRJRCk7XG5cbiAgICAgICAgICAgIGlmICghbW91bnRQb2ludEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1vdW50IHBvaW50IHdpdGggaWQgJyR7bW91bnRQb2ludElEfScgbm90IGZvdW5kIGluIHRoZSBET00uYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKG5ldyBBcmVTY2VuZShtb3VudFBvaW50SUQsIG1vdW50UG9pbnRFbGVtZW50LmlubmVySFRNTCkpO1xuICAgICAgICAgICAgc2NvcGUucmVnaXN0ZXIobmV3IEFyZUluZGV4KG1vdW50UG9pbnRJRCkpO1xuXG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYnVpbGRTY2VuZUluZGV4KHNjb3BlLnJlc29sdmU8QXJlU2NlbmU+KEFyZVNjZW5lKSEpO1xuICAgICAgICB9XG5cbiAgICB9XG5cblxuXG5cbiAgICBwcm90ZWN0ZWQgY291bnRlciA9IDBcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09IENPTVBPTkVOVCBNRVRIT0RTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBDb21waWxlcyB0aGUgQXJlTm9kZSB1c2luZyBBcmVDb21waWxlclxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBsb2dnZXIgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25Db21waWxlLFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyBjb21waWxlKFxuICAgICAgICAvKipcbiAgICAgICAgICogQWN0dWFsIE5vZGUgbm8gYmUgY29tcGlsZWRcbiAgICAgICAgICovXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vZGVzIG93bmVkIFNjZW5lXG4gICAgICAgICAqIFxuICAgICAgICAgKi9cbiAgICAgICAgQEFfRGVwZW5kZW5jeS5GbGF0KClcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJlbnQgU2NlbmUgd2hlcmUgdGhlIG5vZGUgaXMgcmVnaXN0ZXJlZFxuICAgICAgICAgKi9cbiAgICAgICAgQEFfRGVwZW5kZW5jeS5QYXJlbnQoKVxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHBhcmVudFNjZW5lOiBBcmVTY2VuZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2xvYmFsIFN5bnRheCBEZWZpbml0aW9uIGZvciBwYXJzaW5nIG1hcmt1cFxuICAgICAgICAgKi9cbiAgICAgICAgQEFfSW5qZWN0KEFyZVN5bnRheCkgc3ludGF4OiBBcmVTeW50YXgsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY29wZSBvZiB0aGUgQ29tcGlsYXRpb24gRmVhdHVyZSAtIGFjdHVhbGx5IHRoZSBBcmVOb2RlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG5cbiAgICAgICAgQEFfSW5qZWN0KEFyZVByb3BzKSBwcm9wczogQXJlUHJvcHMsXG4gICAgICAgIEBBX0luamVjdChBcmVTdG9yZSkgc3RvcmU6IEFyZVN0b3JlLFxuXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUGFyZW50KClcbiAgICAgICAgQEFfSW5qZWN0KEFyZVN0b3JlKSBwYXJlbnRTdG9yZTogQXJlU3RvcmUsXG5cblxuXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgKSB7XG5cbiAgICAgICAgdGhpcy5kZWJ1Zyhub2RlLCBgQ29tcGlsaW5nIG5vZGUgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiBpbiBTY2VuZSA8JHtwYXJlbnRTY2VuZS5uYW1lfT5gKTtcblxuXG4gICAgICAgIC8vIDEpIGZpcnN0IERlYWwgV0l0aCBpbnRlcnBvbGF0aW9ucyAtIHJlcGxhY2UgdGhlbSB3aXRoIHdyYXBwZWQgTm9kZXMgXG4gICAgICAgIGlmIChub2RlLmFzZWlkLmVudGl0eSAhPT0gJ2FyZS1pbnRlcnBvbGF0aW9uJylcbiAgICAgICAgICAgIGZvciAoY29uc3QgaW50ZXJwb2xhdGlvbiBvZiBzeW50YXguZXh0cmFjdEludGVycG9sYXRpb25zKG5vZGUudGVtcGxhdGUpKSB7XG4gICAgICAgICAgICAgICAgbm9kZS50ZW1wbGF0ZSA9IHN5bnRheC5yZXBsYWNlSW50ZXJwb2xhdGlvbihub2RlLnRlbXBsYXRlLCBpbnRlcnBvbGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBgPGFyZS1pbnRlcnBvbGF0aW9uIDp2YWx1ZT1cIiR7aW50ZXJwb2xhdGlvbi5uYW1lfVwiPjwvYXJlLWludGVycG9sYXRpb24+YFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRlbXBsYXRlID0gbm9kZS50ZW1wbGF0ZSB8fCAnJztcbiAgICAgICAgbGV0IHN0eWxlcyA9IG5vZGUuc3R5bGVzIHx8ICcnO1xuXG5cblxuICAgICAgICAvLyAxKSBleHRyYWN0IGFsbCBwcm9wcyBmcm9tIHRoZSBtYXJrdXAgYW5kIHNldCB0aGVtIGluIHRoZSBwcm9wcyBzdG9yZVxuICAgICAgICBmb3IgKGNvbnN0IGF0dHIgb2Ygc3ludGF4LmV4dHJhY3RBdHRyaWJ1dGVzKG5vZGUubWFya3VwKSkge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGF0dHIubmFtZTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gKHN5bnRheC5pc0JpbmRpbmdQcm9wKGF0dHIpID9cbiAgICAgICAgICAgICAgICBzdG9yZS5nZXQoYXR0ci52YWx1ZSkgfHwgcGFyZW50U3RvcmUuZ2V0KGF0dHIudmFsdWUpXG4gICAgICAgICAgICAgICAgOiBhdHRyLnZhbHVlKSB8fCAnJztcblxuICAgICAgICAgICAgcHJvcHMuc2V0KG5hbWUsIHZhbHVlKTtcblxuICAgICAgICAgICAgcGFyZW50U2NlbmUucGxhbihuZXcgQXJlU2NlbmVBY3Rpb24oe1xuICAgICAgICAgICAgICAgIGlkOiBbYXR0ciwgbm9kZV0sXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnYXR0cmlidXRlJyxcbiAgICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBuYW1lLCB2YWx1ZSB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzYSkgUHJvY2VzcyBkaXJlY3RpdmVzIGZpcnN0IGJlZm9yZSBvdGhlciBvcGVyYXRpb25zXG4gICAgICAgIGZvciAoY29uc3QgZGlyZWN0aXZlIG9mIHN5bnRheC5leHRyYWN0RGlyZWN0aXZlcyhub2RlLm1hcmt1cCkpIHtcbiAgICAgICAgICAgIGxldCBkaXJlY3RpdmVWYWx1ZTogYW55O1xuXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGRpcmVjdGl2ZSB2YWx1ZSBmcm9tIHN0b3JlIG9yIHByb3BzXG4gICAgICAgICAgICBpZiAoZGlyZWN0aXZlLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlVmFsdWUgPSBzdG9yZS5nZXQoZGlyZWN0aXZlLnZhbHVlKSB8fCBwcm9wcy5nZXQoZGlyZWN0aXZlLnZhbHVlKTtcbiAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgICAgIHBhcmVudFNjZW5lLnBsYW4obmV3IEFyZVNjZW5lQWN0aW9uKHtcbiAgICAgICAgICAgICAgICBpZDogW2RpcmVjdGl2ZSwgbm9kZV0sXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnZGlyZWN0aXZlJyxcbiAgICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBkaXJlY3RpdmUsIHZhbHVlOiBkaXJlY3RpdmVWYWx1ZSB9XG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1vdW50QWN0aW9uID0gbmV3IEFyZVNjZW5lQWN0aW9uKHtcbiAgICAgICAgICAgIGlkOiBbJ21vdW50Jywgbm9kZV0sXG4gICAgICAgICAgICBhY3Rpb246ICdtb3VudCcsXG4gICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgcGFyYW1zOiB7fVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmICghcGFyZW50U2NlbmUuaXNQbGFubmVkKG1vdW50QWN0aW9uKSkge1xuICAgICAgICAgICAgc2NlbmU/LmRlYnVnKCdyZWQnLCBgQXJlQ29tcGlsZXI6IEJ1aWxkaW5nIFNjZW5lIEluZGV4IGZvciA8JHtzY2VuZS5uYW1lfT4gZHVyaW5nIGNvbXBpbGF0aW9uIG9mIE5vZGUgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PmApO1xuXG4gICAgICAgICAgICBhd2FpdCBzY2VuZS5yZXNldCh0ZW1wbGF0ZSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmJ1aWxkU2NlbmVJbmRleChzY2VuZSk7XG5cbiAgICAgICAgICAgIHBhcmVudFNjZW5lLnBsYW4obW91bnRBY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMikgcmVwbGFjZSBhbGwgc3R5bGUgaW50ZXJwb2xhdGlvbnMgaW4gdGhlIHN0eWxlc1xuICAgICAgICBmb3IgKGNvbnN0IGludGVycG9sYXRpb24gb2Ygc3ludGF4LmV4dHJhY3RJbnRlcnBvbGF0aW9ucyhzdHlsZXMpKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHN0b3JlLmdldChpbnRlcnBvbGF0aW9uLm5hbWUpO1xuXG4gICAgICAgICAgICBzdHlsZXMgPSBzeW50YXgucmVwbGFjZUludGVycG9sYXRpb24oc3R5bGVzLCBpbnRlcnBvbGF0aW9uLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlcy50cmltKCkpXG4gICAgICAgICAgICBwYXJlbnRTY2VuZS5wbGFuKG5ldyBBcmVTY2VuZUFjdGlvbih7XG4gICAgICAgICAgICAgICAgaWQ6IFtzdHlsZXMsIG5vZGVdLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3N0eWxlJyxcbiAgICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyBzdHlsZXMgfVxuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgIC8vIDMpIGdvIHRocm91Z2ggYWxsIGxpc3RlbmVycyBhbmQgcmVnaXN0ZXIgdGhlbSBpbiB0aGUgc2NlbmVcbiAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBzeW50YXguZXh0cmFjdExpc3RlbmVycyhub2RlLm1hcmt1cCkpIHtcblxuXG4gICAgICAgICAgICBjb25zdCB0YXJnZXROb2RlID0gcGFyZW50U2NlbmUuc2NvcGUucGFyZW50Py5yZXNvbHZlPEFyZU5vZGU+KEFyZU5vZGUsIHtcbiAgICAgICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICBhc2VpZDogcGFyZW50U2NlbmUubmFtZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pIGFzIGFueTtcblxuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0V2ZW50ID0gbmV3IEFyZUV2ZW50KGxpc3RlbmVyLmhhbmRsZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGxpc3RlbmVyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGVcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgYXdhaXQgdGFyZ2V0Tm9kZS5lbWl0KG5ld0V2ZW50KTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJlbnRTY2VuZS5wbGFuKG5ldyBBcmVTY2VuZUFjdGlvbih7XG4gICAgICAgICAgICAgICAgaWQ6IFtub2RlLCBsaXN0ZW5lcl0sXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnbGlzdGVuZXInLFxuICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLCBjYWxsYmFja1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBzY2VuZU5vZGUgb2Ygc2NlbmUubm9kZXMoKSkge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RlZCA9IHNjZW5lLnNjb3BlLnJlc29sdmVGbGF0PEFyZU5vZGU+KEFyZU5vZGUsIHtcbiAgICAgICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICBhc2VpZDogc2NlbmVOb2RlLmFzZWlkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghZXhpc3RlZCkge1xuICAgICAgICAgICAgICAgIHNjZW5lLmF0dGFjaChzY2VuZU5vZGUpXG5cbiAgICAgICAgICAgICAgICBhd2FpdCBzY2VuZU5vZGUubG9hZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCBzY2VuZU5vZGUuY29tcGlsZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIEFyZU5vZGVcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZU5vZGVGZWF0dXJlcy5vblVwZGF0ZSxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgdXBkYXRlKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgKSB7XG4gICAgICAgIGxvZ2dlcj8uZGVidWcoJ3JlZCcsXG4gICAgICAgICAgICAnICcsXG4gICAgICAgICAgICBgQXJlQnJvd3NlckNvbXBpbGVyOiBVcGRhdGluZyBOb2RlIDwke25vZGUuYXNlaWQuZW50aXR5fT4gaW4gU2NlbmUgPCR7c2NlbmUubmFtZX0+YCxcbiAgICAgICAgICAgICcgJ1xuICAgICAgICApO1xuXG4gICAgICAgIGF3YWl0IG5vZGUuY29tcGlsZSgpO1xuXG4gICAgICAgIGxvZ2dlcj8uZGVidWcoJ3JlZCcsXG4gICAgICAgICAgICAnICcsXG4gICAgICAgICAgICBgQXJlQnJvd3NlckNvbXBpbGVyOiBOb2RlIDwke25vZGUuYXNlaWQuZW50aXR5fT4gdXBkYXRlZCBzdWNjZXNzZnVsbHkuYCxcbiAgICAgICAgICAgICcgJ1xuICAgICAgICApO1xuXG4gICAgICAgIC8vICBBbmQgdGhlbiByZS1tb3VudCB0aGUgcGFyZW50IHNjZW5lXG4gICAgICAgIC8vIGJlY2F1c2UgY3VycmVudCBzY2VuZSBpcyBhIGN1cnJlbnQgbm9kZSAtIGNvbnRlbnRcblxuICAgICAgICBhd2FpdCBub2RlLm1vdW50KCk7XG5cbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZygncmVkJyxcbiAgICAgICAgICAgICcgJyxcbiAgICAgICAgICAgIGBBcmVCcm93c2VyQ29tcGlsZXI6IFNjZW5lIDwke3NjZW5lLm5hbWV9PiBtb3VudGVkIHN1Y2Nlc3NmdWxseSBhZnRlciBOb2RlIDwke25vZGUuYXNlaWQuZW50aXR5fT4gdXBkYXRlLmAsXG4gICAgICAgICAgICAnICdcbiAgICAgICAgKTtcbiAgICB9XG5cblxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFfVFlQRVNfX0VudGl0eUZlYXR1cmVzLkRFU1RST1ksXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGRlc3Ryb3koKSB7XG5cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgcGF0aCBmb3IgRE9NIGVsZW1lbnQgcmVsYXRpdmUgdG8gdmlydHVhbCByb290IChsZWdhY3kgbWV0aG9kLCBrZXB0IGZvciBjb21wYXRpYmlsaXR5KVxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBzdHJpbmctYmFzZWQgcGF0aCBjb21wdXRhdGlvbiBpbnN0ZWFkXG4gICAgICovXG4gICAgY29tcHV0ZVBhdGgobm9kZTogTm9kZSwgdmlydHVhbDogRWxlbWVudCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHBhdGg6IG51bWJlcltdID0gW107XG4gICAgICAgIGxldCBjdXJyZW50OiBOb2RlIHwgbnVsbCA9IG5vZGU7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudCAhPT0gdmlydHVhbCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gY3VycmVudC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gQXJyYXkuZnJvbShwYXJlbnQuY2hpbGROb2RlcylcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihuID0+IChuIGFzIGFueSkubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKVxuICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50KTtcblxuICAgICAgICAgICAgICAgIHBhdGgudW5zaGlmdChpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gcGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhdGguam9pbignLicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBET00gZWxlbWVudCBieSBzdHJpbmcgcGF0aCBmcm9tIHJvb3QgZWxlbWVudFxuICAgICAqIFdvcmtzIHdpdGggcGF0aHMgZ2VuZXJhdGVkIGJ5IHRoZSBzdHJpbmctYmFzZWQgcGFyc2VyXG4gICAgICovXG4gICAgZ2V0RWxlbWVudEJ5UGF0aChcbiAgICAgICAgcm9vdDogRWxlbWVudCxcbiAgICAgICAgcGF0aDogc3RyaW5nXG4gICAgKTogRWxlbWVudCB8IG51bGwge1xuICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiByb290O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5kaWNlcyA9IHBhdGguc3BsaXQoJy4nKS5tYXAoaW5kZXggPT4gcGFyc2VJbnQoaW5kZXgsIDEwKSk7XG4gICAgICAgIGxldCBjdXJyZW50OiBFbGVtZW50IHwgbnVsbCA9IHJvb3Q7XG5cbiAgICAgICAgZm9yIChjb25zdCBpbmRleCBvZiBpbmRpY2VzKSB7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IG9ubHkgZWxlbWVudCBjaGlsZHJlbiAobm90IHRleHQgbm9kZXMsIGNvbW1lbnRzLCBldGMuKVxuICAgICAgICAgICAgY29uc3QgZWxlbWVudENoaWxkcmVuID0gQXJyYXkuZnJvbShjdXJyZW50LmNoaWxkcmVuKS5maWx0ZXIoY2hpbGQgPT4gY2hpbGQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ID49IGVsZW1lbnRDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudCA9IGVsZW1lbnRDaGlsZHJlbltpbmRleF0gYXMgRWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgc3RyaW5nIHBhdGggZm9yIGEgRE9NIGVsZW1lbnQgcmVsYXRpdmUgdG8gYSByb290IGVsZW1lbnRcbiAgICAgKiBUaGlzIGdlbmVyYXRlcyB0aGUgc2FtZSBmb3JtYXQgYXMgcGFyc2VIVE1MRWxlbWVudHMgdXNlc1xuICAgICAqL1xuICAgIGNvbXB1dGVTdHJpbmdQYXRoKGVsZW1lbnQ6IEVsZW1lbnQsIHJvb3Q6IEVsZW1lbnQpOiBzdHJpbmcge1xuICAgICAgICBpZiAoZWxlbWVudCA9PT0gcm9vdCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF0aDogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnQ6IEVsZW1lbnQgfCBudWxsID0gZWxlbWVudDtcblxuICAgICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSByb290KSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBjdXJyZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBBcnJheS5mcm9tKHBhcmVudC5jaGlsZHJlbikuaW5kZXhPZihjdXJyZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGF0aC51bnNoaWZ0KGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGF0aC5qb2luKCcuJyk7XG4gICAgfVxuXG5cbiAgICBidWlsZFNjZW5lSW5kZXgoXG4gICAgICAgIHNjZW5lOiBBcmVTY2VuZSxcbiAgICApIHtcbiAgICAgICAgLy8gVXNlIGEgcG9zaXRpb24tYmFzZWQgYXBwcm9hY2ggdGhhdCBtYXBzIERPTSBwYXRocyB0byBvcmlnaW5hbCBtYXJrdXAgZXhhY3RseVxuICAgICAgICBjb25zdCB0ZW1wRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRlbXBEaXYuaW5uZXJIVE1MID0gc2NlbmUudGVtcGxhdGU7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGEgbWFwcGluZyBvZiBET00gcGF0aHMgdG8gb3JpZ2luYWwgbWFya3VwIHVzaW5nIERPTSB0cmF2ZXJzYWxcbiAgICAgICAgY29uc3QgbWFya3VwTWFwID0gdGhpcy5jcmVhdGVQb3NpdGlvbkJhc2VkTWFya3VwTWFwKHNjZW5lLnRlbXBsYXRlKTtcblxuICAgICAgICB0aGlzLmluZGV4RWxlbWVudHNGcm9tRE9NKHRlbXBEaXYsIHNjZW5lLCBbXSwgbWFya3VwTWFwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBwb3NpdGlvbi1iYXNlZCBtYXBwaW5nIGJ5IHBhcnNpbmcgdGhlIG9yaWdpbmFsIHRlbXBsYXRlIHdpdGggRE9NXG4gICAgICogVGhpcyBlbnN1cmVzIDE6MSBjb3JyZXNwb25kZW5jZSBiZXR3ZWVuIERPTSBzdHJ1Y3R1cmUgYW5kIG9yaWdpbmFsIG1hcmt1cFxuICAgICAqL1xuICAgIHByaXZhdGUgY3JlYXRlUG9zaXRpb25CYXNlZE1hcmt1cE1hcCh0ZW1wbGF0ZTogc3RyaW5nKTogTWFwPHN0cmluZywgc3RyaW5nPiB7XG4gICAgICAgIGNvbnN0IG1hcmt1cE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG9yaWdpbmFsRGl2LmlubmVySFRNTCA9IHRlbXBsYXRlO1xuXG4gICAgICAgIC8vIFRyYXZlcnNlIHRoZSBvcmlnaW5hbCBET00gYW5kIG1hcCBlYWNoIHBvc2l0aW9uIHRvIGl0cyBvdXRlckhUTUxcbiAgICAgICAgdGhpcy5tYXBET01Qb3NpdGlvbnMob3JpZ2luYWxEaXYsIFtdLCBtYXJrdXBNYXApO1xuXG4gICAgICAgIHJldHVybiBtYXJrdXBNYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgbWFwIERPTSBwb3NpdGlvbnMgdG8gdGhlaXIgZXhhY3Qgb3JpZ2luYWwgbWFya3VwXG4gICAgICovXG4gICAgcHJpdmF0ZSBtYXBET01Qb3NpdGlvbnMoXG4gICAgICAgIHBhcmVudEVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgICAgIHBhcmVudFBhdGg6IG51bWJlcltdLFxuICAgICAgICBtYXJrdXBNYXA6IE1hcDxzdHJpbmcsIHN0cmluZz5cbiAgICApOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKHBhcmVudEVsZW1lbnQuY2hpbGRyZW4pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gWy4uLnBhcmVudFBhdGgsIGldO1xuICAgICAgICAgICAgY29uc3QgcGF0aEtleSA9IGN1cnJlbnRQYXRoLmpvaW4oJy4nKTtcblxuICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGV4YWN0IG91dGVySFRNTCBmb3IgdGhpcyBwb3NpdGlvblxuICAgICAgICAgICAgbWFya3VwTWFwLnNldChwYXRoS2V5LCBlbGVtZW50Lm91dGVySFRNTCk7XG5cbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHByb2Nlc3MgY2hpbGRyZW5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hcERPTVBvc2l0aW9ucyhlbGVtZW50LCBjdXJyZW50UGF0aCwgbWFya3VwTWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZGV4IGVsZW1lbnRzIHVzaW5nIGFjdHVhbCBET00gc3RydWN0dXJlIHdpdGggcG9zaXRpb24tYmFzZWQgbWFya3VwIG1hcHBpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGluZGV4RWxlbWVudHNGcm9tRE9NKFxuICAgICAgICBwYXJlbnRFbGVtZW50OiBFbGVtZW50LFxuICAgICAgICBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIHBhcmVudFBhdGg6IG51bWJlcltdLFxuICAgICAgICBtYXJrdXBNYXA6IE1hcDxzdHJpbmcsIHN0cmluZz5cbiAgICApOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKHBhcmVudEVsZW1lbnQuY2hpbGRyZW4pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gWy4uLnBhcmVudFBhdGgsIGldO1xuICAgICAgICAgICAgY29uc3QgcGF0aEtleSA9IGN1cnJlbnRQYXRoLmpvaW4oJy4nKTtcblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBleGFjdCBtYXJrdXAgZm9yIHRoaXMgcG9zaXRpb24gZnJvbSBvdXIgbWFwcGluZ1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxNYXJrdXAgPSBtYXJrdXBNYXAuZ2V0KHBhdGhLZXkpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgQXJlTm9kZSB3aXRoIHByZXNlcnZlZCBvcmlnaW5hbCBtYXJrdXBcbiAgICAgICAgICAgIGNvbnN0IGFyZU5vZGUgPSBuZXcgQXJlTm9kZSh7XG4gICAgICAgICAgICAgICAgc2NvcGU6IHNjZW5lLm5hbWUsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgICBtYXJrdXA6IG9yaWdpbmFsTWFya3VwIHx8IGVsZW1lbnQub3V0ZXJIVE1MLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEFkZCB0byBzY2VuZSBpbmRleFxuICAgICAgICAgICAgc2NlbmUuaW5kZXguYWRkKGFyZU5vZGUsIGN1cnJlbnRQYXRoLmpvaW4oJy4nKSk7XG5cbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHByb2Nlc3MgY2hpbGRyZW5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4RWxlbWVudHNGcm9tRE9NKGVsZW1lbnQsIHNjZW5lLCBjdXJyZW50UGF0aCwgbWFya3VwTWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25Nb3VudCxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgbW91bnQoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb2RlIHRvIGJlIG1vdW50ZWRcbiAgICAgICAgICovXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vZGUgQ29udGVudFxuICAgICAgICAgKi9cbiAgICAgICAgQEFfRGVwZW5kZW5jeS5GbGF0KClcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjZW5lIHdoZXJlIHRhcmdldCBub2RlIGlzIHJlZ2lzdGVyZWRcbiAgICAgICAgICovXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUGFyZW50KClcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBwYXJlbnRTY2VuZTogQXJlU2NlbmUsXG5cbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU3ludGF4KSBzeW50YXg6IEFyZVN5bnRheCxcblxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcj86IEFfTG9nZ2VyLFxuICAgICkge1xuXG4gICAgICAgIGNvbnN0IG1vdW50UG9pbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJlbnRTY2VuZS5pZCEpIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFthc2VpZD1cIiR7cGFyZW50U2NlbmUuaWR9XCJdYCk7XG5cbiAgICAgICAgaWYgKCFtb3VudFBvaW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9FcnJvcihgTW91bnQgcG9pbnQgd2l0aCBpZCAnJHtwYXJlbnRTY2VuZS5pZH0nIG5vdCBmb3VuZCBpbiB0aGUgRE9NLmApO1xuICAgICAgICB9XG5cblxuXG4gICAgICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIHBhcmVudFNjZW5lLnJlbmRlclBsYW5Gb3Iobm9kZSwge1xuICAgICAgICAgICAgb3JkZXI6IFsnbW91bnQnLCAnc3R5bGUnLCAnbGlzdGVuZXInLCAnYXR0cmlidXRlJywgJ2RpcmVjdGl2ZSddXG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50U2NlbmUuaXNNb3VudGVkKGFjdGlvbikpIHtcbiAgICAgICAgICAgICAgICBzY2VuZS5kZWJ1ZygneWVsbG93JywgYEFjdGlvbiAnJHthY3Rpb24ubmFtZX0nIGZvciBOb2RlIDwke25vZGUuYXNlaWQuZW50aXR5fT4gQVNFSUQ6ICR7bm9kZS5hc2VpZC50b1N0cmluZygpfSBhbHJlYWR5IG1vdW50ZWQuIFNraXBwaW5nLi4uYCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBwYXJlbnRTY2VuZS5pbmRleC5wYXRoT2Yobm9kZSkhO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZ2V0RWxlbWVudEJ5UGF0aChtb3VudFBvaW50LCBwYXRoKTtcblxuICAgICAgICAgICAgc2NlbmUuZGVidWcoJ3JlZCcsIGBNb3VudGluZyBhY3Rpb24gJyR7YWN0aW9uLm5hbWV9JyBmb3IgTm9kZSA8JHtub2RlLmFzZWlkLmVudGl0eX0+IEFTRUlEOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX0gYXQgcGF0aCAnJHtwYXRofSdgKTtcblxuICAgICAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfRXJyb3IoYEVsZW1lbnQgYXQgcGF0aCAnJHtwYXRofScgbm90IGZvdW5kIGluIHRoZSBtb3VudCBwb2ludC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAoYWN0aW9uLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdtb3VudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN5bnRheC5pc0N1c3RvbU5vZGUobm9kZSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2NlbmUuZGVidWcoJ3JlZCcsIGBNb3VudGluZyBOb2RlIDwke25vZGUuYXNlaWQuZW50aXR5fT4gQVNFSUQ6ICR7bm9kZS5hc2VpZC50b1N0cmluZygpfSBhdCBwYXRoICcke3BhdGh9J2ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5jb21wb25lbnQobm9kZSwgc2NvcGUpPy53cmFwcGVyIHx8ICdkaXYnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2FzZWlkJywgbm9kZS5hc2VpZC50b1N0cmluZygpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5pbm5lckhUTUwgPSBzY2VuZS50ZW1wbGF0ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVwbGFjZSB0aGUgcGxhY2VtZW50IHdpdGggdGhlIHJlbmRlcmVkIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIChlbGVtZW50KS5yZXBsYWNlV2l0aCh3cmFwcGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnc3R5bGUnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlcyA9IGFjdGlvbi5wYXJhbXM/LnN0eWxlcztcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHlsZUVsZW1lbnRJZCA9IGBhLXN0eWxlLSR7bm9kZS5hc2VpZC5lbnRpdHl9YDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3N0eWxlRWxlbWVudElkfWApIGFzIEhUTUxTdHlsZUVsZW1lbnQgfCBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3R5bGVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVFbGVtZW50LmlkID0gc3R5bGVFbGVtZW50SWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGVFbGVtZW50LmlubmVySFRNTCA9IHN0eWxlcztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2FzZSAnbGlzdGVuZXInOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyID0gYWN0aW9uLnBhcmFtcz8ubGlzdGVuZXI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gYWN0aW9uLnBhcmFtcz8uY2FsbGJhY2s7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyICYmIGNhbGxiYWNrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNjZW5lLmRlYnVnKCdncmVlbicsIGBNb3VudGluZyBsaXN0ZW5lciAnJHtsaXN0ZW5lci5uYW1lfScgZm9yIHRhcmdldCA8JHtub2RlLmFzZWlkLmVudGl0eX0+IEFTRUlEOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX1gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGxpc3RlbmVyLm5hbWUsIGNhbGxiYWNrIGFzIEV2ZW50TGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdhdHRyaWJ1dGUnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBhY3Rpb24ucGFyYW1zPy5uYW1lO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGFjdGlvbi5wYXJhbXM/LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzY2VuZS5kZWJ1ZygnZ3JlZW4nLCBgU2V0dGluZyBhdHRyaWJ1dGUgJyR7bmFtZX0nPScke3ZhbHVlfScgZm9yIHRhcmdldCA8JHtub2RlLmFzZWlkLmVudGl0eX0+IEFTRUlEOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX1gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdkaXJlY3RpdmUnOlxuICAgICAgICAgICAgICAgICAgICAvLyBEaXJlY3RpdmVzIGFyZSBhbHJlYWR5IHByb2Nlc3NlZCBkdXJpbmcgY29tcGlsYXRpb25cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgaWYgKG5vZGUudHlwZSAhPT0gJ2FyZS1pbnRlcnBvbGF0aW9uJyAmJiBhY3Rpb24ubmFtZSA9PT0gJ21vdW50JylcbiAgICAgICAgICAgICAgICBwYXJlbnRTY2VuZS5tb3VudChhY3Rpb24pXG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHNjZW5lLm5vZGVzKCkpIHtcblxuICAgICAgICAgICAgYXdhaXQgY2hpbGQubW91bnQoKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9TaWduYWxWZWN0b3JGZWF0dXJlcy5OZXh0XG4gICAgfSlcbiAgICBhc3luYyByZW5kZXJTY2VuZShcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSB2ZWN0b3I6IEFfU2lnbmFsVmVjdG9yPFtBcmVJbml0U2lnbmFsXT4sXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgICAgIEBBX0luamVjdChBcmVTeW50YXgpIHN5bnRheDogQXJlU3ludGF4LFxuICAgICkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9nZ2VyPy5kZWJ1ZygncmVkJyxcbiAgICAgICAgICAgICAgICAnICcsXG4gICAgICAgICAgICAgICAgYEFyZUNvbXBpbGVyOiBSZW5kZXJpbmcgU2NlbmUgPCR7c2NlbmUubmFtZX0+YCxcbiAgICAgICAgICAgICAgICAnICdcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgbmV3Tm9kZSBvZiBzY2VuZS5ub2RlcygpKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnXFxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcblxcbldURj8/PyAnLCBuZXdOb2RlLCBzY2VuZSwgJ1xcblxcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXG4nKTtcblxuICAgICAgICAgICAgICAgIHNjZW5lLmF0dGFjaChuZXdOb2RlKTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IG5ld05vZGUubG9hZCgpO1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3Tm9kZS5jb21waWxlKCk7XG5cbiAgICAgICAgICAgICAgICBhd2FpdCBuZXdOb2RlLm1vdW50KCk7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnXFxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcblxcbk1vdW50ZWQgTm9kZSAnLCBuZXdOb2RlLCBzY2VuZSwgJ1xcblxcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cXG4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0xvZ2dlciwgQV9TaWduYWxWZWN0b3JGZWF0dXJlcywgQV9TaWduYWxTdGF0ZSwgQV9TaWduYWxWZWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFyZSB9IGZyb20gXCIuLi9BcmVDb21wb25lbnQvQXJlLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQV9DYWxsZXIsIEFfRmVhdHVyZSwgQV9JbmplY3QgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQXJlTm9kZUZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQXJlTm9kZSB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHlcIjtcbmltcG9ydCB7IEFyZVNjZW5lIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTY2VuZS9BcmVTY2VuZS5jb250ZXh0XCI7XG5cblxuXG5cbmV4cG9ydCBjbGFzcyBBcmVTbG90IGV4dGVuZHMgQXJlIHtcblxuXG5cbiAgICBhc3luYyB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGA8ZGl2PkFyZSBTbG90IENvbXBvbmVudDwvZGl2PmA7XG4gICAgfVxuXG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBhc3luYyBbQV9TaWduYWxWZWN0b3JGZWF0dXJlcy5OZXh0XShcbiAgICAgICAgQEFfSW5qZWN0KEFfU2lnbmFsVmVjdG9yKSB2ZWN0b3I6IEFfU2lnbmFsVmVjdG9yXG4gICAgKSB7XG4gICAgICAgIC8vIEVtaXQgc2lnbmFscyBpZiBuZWVkZWRcblxuICAgICAgICBjb25zb2xlLmxvZygnQXJlU2xvdCBTaWduYWwgVmVjdG9yIEVtaXR0ZWQ6JywgdmVjdG9yKTtcbiAgICB9XG5cblxuXG4gICAgLy8gQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgIC8vICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25Db21waWxlLFxuICAgIC8vICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgLy8gfSlcbiAgICAvLyBhc3luYyBjb21waWxlKFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgLy8gICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgLy8gICAgIEBBX0luamVjdChBX1NpZ25hbFN0YXRlKSBzaWduYWxTdGF0ZT86IEFfU2lnbmFsU3RhdGUsXG4gICAgLy8gKSB7XG5cbiAgICAvLyAgICAgY29uc3QgdmVjdG9yID0gYXdhaXQgc2lnbmFsU3RhdGU/LnRvVmVjdG9yKCkudG9EYXRhVmVjdG9yKClcblxuICAgIC8vICAgICBsb2dnZXIuZGVidWcoJ3JlZCcsXG4gICAgLy8gICAgICAgICAnPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScsXG4gICAgLy8gICAgICAgICBgQ29tcGlsaW5nIEFyZVNsb3QgQ29tcG9uZW50IGF0IFNjZW5lOiA8JHtzY2VuZS5uYW1lfT5gLFxuICAgIC8vICAgICAgICAgJz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nLFxuICAgIC8vICAgICAgICAgdmVjdG9yXG4gICAgLy8gICAgIClcbiAgICAvLyB9XG5cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQXJlIH0gZnJvbSBcIi4uL0FyZUNvbXBvbmVudC9BcmUuY29tcG9uZW50XCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQXJlUm9vdCBleHRlbmRzIEFyZXtcblxuXG4gICAgYXN5bmMgdGVtcGxhdGUoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIGA8ZGl2PiBBcmUgUm9vdCBDb21wb25lbnQ8L2Rpdj5gO1xuICAgIH1cblxufSIsICJpbXBvcnQgeyBBX0NhbGxlciwgQV9JbmplY3QgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQXJlIH0gZnJvbSBcIi4uL0FyZUNvbXBvbmVudC9BcmUuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiO1xuaW1wb3J0IHsgQXJlU2NlbmUgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVNjZW5lL0FyZVNjZW5lLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5pbXBvcnQgeyBBcmVQcm9wcyB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlUHJvcHMvQXJlUHJvcHMuY29udGV4dFwiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFyZUludGVycG9sYXRpb24gZXh0ZW5kcyBBcmUge1xuXG4gICAgZ2V0IHdyYXBwZXIoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdzcGFuJztcbiAgICB9XG5cbiAgICBhc3luYyB0ZW1wbGF0ZSgpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICByZXR1cm4gYGA7XG4gICAgfVxuXG5cbiAgICBAQXJlLm9uQWZ0ZXJDb21waWxlXG4gICAgYXN5bmMgb25BZnRlckNvbXBpbGUoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyOiBBX0xvZ2dlcixcbiAgICAgICAgQEFfSW5qZWN0KEFyZVByb3BzKSBwcm9wczogQXJlUHJvcHMsXG4gICAgKSB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCdibHVlJywgYEFyZUludGVycG9sYXRpb24gb25BZnRlckNvbXBpbGUgY2FsbGVkLi4uIDogPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiA6IGAsIG5vZGUuYXNlaWQudG9TdHJpbmcoKSwgcHJvcHMpO1xuXG4gICAgICAgIGF3YWl0IHNjZW5lLnJlc2V0KHByb3BzLmdldCgndmFsdWUnKSk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbmNlcHQsIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVksIEFfQ29udGFpbmVyLCBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiXG5pbXBvcnQgeyBBX0NvbmZpZywgQV9Mb2dnZXIsIEFfTE9HR0VSX0RFRkFVTFRfTEVWRUwsIEFfTE9HR0VSX0VOVl9LRVlTLCBBX1BvbHlmaWxsLCBBX1NpZ25hbEJ1cywgQ29uZmlnUmVhZGVyLCB9IGZyb20gXCJAYWRhYXMvYS11dGlsc1wiXG5pbXBvcnQgeyBTaWduSW5Db21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL1NpZ25JbkNvbXBvbmVudC5jb21wb25lbnRcIlxuaW1wb3J0IHsgQUJ0biB9IGZyb20gXCIuL2NvbXBvbmVudHMvQS1CdG4uY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBSW5wdXQgfSBmcm9tIFwiLi9jb21wb25lbnRzL0EtSW5wdXQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVBcHAgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250YWluZXJzL0FyZUFwcC9BcmVBcHAuY29udGFpbmVyXCI7XG5pbXBvcnQgeyBBcmVCcm93c2VyQ29tcGlsZXIgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb21wb25lbnRzL0FyZUJyb3dzZXJDb21waWxlci9BcmVCcm93c2VyQ29tcGlsZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVTbG90IH0gZnJvbSBcIkBhZGFhcy9hcmUvY29tcG9uZW50cy9BcmVTbG90L0FyZVNsb3QuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVJbml0U2lnbmFsIH0gZnJvbSBcInNyYy9zaWduYWxzL0FyZUluaXQuc2lnbmFsXCI7XG5pbXBvcnQgeyBBcmVTeW50YXggfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN5bnRheC9BcmVTeW50YXguY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlUm9vdCB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlUm9vdC9BcmVSb290LmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQXJlSW50ZXJwb2xhdGlvbiB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlSW50ZXJwb2xhdGlvbi9BcmVJbnRlcnBvbGF0aW9uLmNvbXBvbmVudFwiO1xuXG5cbi8vIC8vICBUT0RPOiBGaXggZm9yIGJ1aWxkIHN5c3RlbSAtLS1cbi8vIHdpbmRvdy5wcm9jZXNzID0geyBlbnY6IHsgTk9ERV9FTlY6ICdwcm9kdWN0aW9uJyB9LCBjd2Q6ICgpID0+IFwiL1wiIH0gYXMgYW55OyAvLyAtLS0gSUdOT1JFIC0tLVxuLy8gd2luZG93Ll9fZGlybmFtZSA9IFwiL1wiOyAvLyAtLS0gSUdOT1JFIC0tLVxuXG4oYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gbmV3IEFyZUFwcCh7XG4gICAgICAgICAgICBuYW1lOiAnQVJFIEp1bXBzdGFydCcsXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIC8vIEFsbG93ZWQgRW50aXRpZXMgXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIC8vIC4uLi4uLi4uLi4uLlxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvLyBBbGxvd2VkIENvbW1hbmRzIFxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvLyAuLi4uLi4uLi4uLi5cbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgLy8gVUkgQ29tcG9uZW50cyBcbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgU2lnbkluQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIEFCdG4sXG4gICAgICAgICAgICAgICAgQUlucHV0LFxuICAgICAgICAgICAgICAgIEFyZVNsb3QsXG4gICAgICAgICAgICAgICAgQV9TaWduYWxCdXMsXG4gICAgICAgICAgICAgICAgQXJlUm9vdCxcbiAgICAgICAgICAgICAgICBBcmVJbnRlcnBvbGF0aW9uLFxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvLyBBZGRvbnMgXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIEFfUG9seWZpbGwsXG4gICAgICAgICAgICAgICAgQ29uZmlnUmVhZGVyLFxuICAgICAgICAgICAgICAgIC8vIEFfU2VydmVyUHJveHlcbiAgICAgICAgICAgICAgICBBcmVCcm93c2VyQ29tcGlsZXIsXG4gICAgICAgICAgICAgICAgQV9Mb2dnZXJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBlbnRpdGllczogW1xuICAgICAgICAgICAgICAgIC8vIC4uLi4uLi4uLi4uLlxuICAgICAgICAgICAgICAgIEFyZUluaXRTaWduYWwsXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBmcmFnbWVudHM6IFtcbiAgICAgICAgICAgICAgICBuZXcgQV9Db25maWcoe1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgQV9VSV9NT1VOVF9QT0lOVDogJ2Etcm9vdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBbQV9MT0dHRVJfRU5WX0tFWVMuTE9HX0xFVkVMXTogJ2RlYnVnJyxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIG5ldyBBcmVTeW50YXgoKVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBjb25jZXB0ID0gbmV3IEFfQ29uY2VwdCh7XG4gICAgICAgICAgICBuYW1lOiAnYWRhYXMtYXJlLWV4YW1wbGUtanVtcHN0YXJ0JyxcbiAgICAgICAgICAgIGZyYWdtZW50czogW25ldyBBX0NvbmZpZyh7XG4gICAgICAgICAgICAgICAgdmFyaWFibGVzOiBbJ0NPTkZJR19WRVJCT1NFJywgJ0RFVl9NT0RFJ10gYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgQ09ORklHX1ZFUkJPU0U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIERFVl9NT0RFOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSldLFxuICAgICAgICAgICAgY29tcG9uZW50czogW0FfTG9nZ2VyLCBDb25maWdSZWFkZXIsIEFfUG9seWZpbGxdLFxuICAgICAgICAgICAgY29udGFpbmVyczogW2NvbnRhaW5lcl1cbiAgICAgICAgfSlcblxuXG4gICAgICAgIGF3YWl0IGNvbmNlcHQubG9hZCgpO1xuICAgICAgICBhd2FpdCBjb25jZXB0LnN0YXJ0KCk7XG5cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IEFfQ29udGV4dC5yb290LnJlc29sdmU8QV9Mb2dnZXI+KEFfTG9nZ2VyKSE7XG4gICAgICAgIGxvZ2dlci5lcnJvcihlcnJvcik7XG4gICAgfVxuXG5cblxufSkoKTsiXSwK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QUNELElBQVVELElBQWNELEVBQVU7QUFBQSxNQUMvQyxZQUFZLENBQUMsU0FBUztBQUFBLElBQzFCLENBQUM7QUFHRCxVQUFNLFFBQVEsS0FBSztBQUNuQixVQUFNLFFBQVEsTUFBTTtBQUFBLEVBR3hCLFNBQVMsT0FBTztBQUNaLFVBQU0sU0FBUyxFQUFVLEtBQUssUUFBa0JFLEVBQVE7QUFDeEQsV0FBTyxNQUFNLEtBQUs7QUFBQSxFQUN0QjtBQUlKLEdBQUc7IiwKICAibmFtZXMiOiBbIkFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMiLCAiQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFU19BUlJBWSIsICJBX1RZUEVTX19GZWF0dXJlU3RhdGUiLCAiX0FfTWV0YSIsICJpdGVyYXRvciIsICJfX25hbWUiLCAibWV0YSIsICJrZXkiLCAidmFsdWUiLCAiaW5oZXJpdGVkVmFsdWUiLCAibmFtZSIsICJyZXN1bHRzIiwgInJlZ2V4IiwgIm9iaiIsICJrIiwgInYiLCAiaXRlbSIsICJyZXMiLCAianNvbiIsICJBX01ldGEiLCAiQV9UWVBFU19fRW50aXR5TWV0YUtleSIsICJBX1RZUEVTX19FbnRpdHlGZWF0dXJlcyIsICJBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IiwgIkFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkiLCAiX2EiLCAiX0FfQ29tcG9uZW50TWV0YSIsICJoYW5kbGVyIiwgImZlYXR1cmUiLCAic3RlcHMiLCAiZXh0ZW5zaW9ucyIsICJleHRlbnNpb24iLCAiYWJzdHJhY3Rpb24iLCAiYWJzdHJhY3Rpb25zIiwgImluamVjdGlvbnMiLCAiYXJncyIsICJBX0NvbXBvbmVudE1ldGEiLCAiX0FfQ29udGFpbmVyIiwgIkFfQ29udGV4dCIsICJjb25maWciLCAic2NvcGUiLCAiQV9GZWF0dXJlIiwgIkFfQ29udGFpbmVyIiwgIl9BX0NvbnRhaW5lck1ldGEiLCAiQV9Db250YWluZXJNZXRhIiwgIl9BX0Zvcm1hdHRlckhlbHBlciIsICJzdHIiLCAicGFydCIsICJpbmRleCIsICJBX0Zvcm1hdHRlckhlbHBlciIsICJfQV9JZGVudGl0eUhlbHBlciIsICJwYXJ0cyIsICJ0aW1lIiwgInJhbmRvbSIsICJpZCIsICJ0aW1lUGFydCIsICJyYW5kb21QYXJ0IiwgIm51bWJlciIsICJtYXhaZXJvcyIsICJmb3JtYXR0ZWROdW1iZXIiLCAiQV9JZGVudGl0eUhlbHBlciIsICJBX0NPTlNUQU5UU19fRVJST1JfQ09ERVMiLCAiQV9DT05TVEFOVFNfX0VSUk9SX0RFU0NSSVBUSU9OIiwgIl9BX0Vycm9yIiwgInBhcmFtMSIsICJwYXJhbTIiLCAiQV9UeXBlR3VhcmRzIiwgImVycm9yIiwgIkFTRUlEIiwgIm1lc3NhZ2UiLCAic2VyaWFsaXplZCIsICJ0aXRsZSIsICJkZXNjcmlwdGlvbiIsICJwYXJhbXMiLCAicm9vdEVycm9yIiwgIkFfRXJyb3IiLCAiX0FTRUlEX0Vycm9yIiwgIkFTRUlEX0Vycm9yIiwgIl9BU0VJRCIsICJpZGVudGl0eSIsICJjb25jZXB0IiwgImJvZHkiLCAidmVyc2lvbiIsICJlbnRpdHkiLCAiaWRDYW5kaWRhdGUiLCAic2hhcmQiLCAiX0FfRW50aXR5RXJyb3IiLCAiQV9FbnRpdHlFcnJvciIsICJfQV9FbnRpdHkiLCAicHJvcHMiLCAieCIsICJvdmVycmlkZSIsICJhc2VpZCIsICJuZXdFbnRpdHkiLCAiQV9FbnRpdHkiLCAiX0FfRW50aXR5TWV0YSIsICJBX0VudGl0eU1ldGEiLCAiX0FfRnJhZ21lbnQiLCAiQV9GcmFnbWVudCIsICJfQV9Db21tb25IZWxwZXIiLCAicmVzb2x2ZSIsICJjaGlsZENsYXNzIiwgInBhcmVudENsYXNzIiwgImN1cnJlbnQiLCAicGFyZW50cyIsICJjaGFpbiIsICJpbnB1dCIsICJwYXRocyIsICJyZXN1bHQiLCAicmVtb3ZlUHJvcGVydGllcyIsICJ0YXJnZXQiLCAiY3VyclBhdGgiLCAiY3VycktleSIsICJwYXRoIiwgInBhdGhLZXlzIiwgInNvdXJjZSIsICJ2aXNpdGVkIiwgImNsb25lIiwgImNvbXBvbmVudCIsICJVTktOT1dOIiwgIkFOT05ZTU9VUyIsICJmbkFueSIsICJtYXRjaCIsICJvYmpBbnkiLCAicyIsICJBX0NvbW1vbkhlbHBlciIsICJfQV9TY29wZUVycm9yIiwgIkFfU2NvcGVFcnJvciIsICJfQV9TY29wZSIsICJjdXJyZW50UGFyZW50IiwgImxheWVyT2Zmc2V0IiwgInBhcmVudFNjb3BlIiwgIl9jb21wb25lbnRzIiwgIl9lcnJvcnMiLCAiX2VudGl0aWVzIiwgImVudCIsICJfZnJhZ21lbnRzIiwgIl9tZXRhIiwgImZyYWdtZW50IiwgInBhcmFtIiwgInBhcmVudCIsICJjaXJjdWxhckNoZWNrIiwgImN0b3IiLCAiZm91bmQiLCAiYyIsICJmIiwgImUiLCAiYW5vdGhlclNjb3BlIiwgImN1cnJlbnRSZXN1bHRzIiwgInBhcmVudFJlc3VsdHMiLCAiaW5zdGFuY2UiLCAiaW5zdGFuY2VzIiwgImluc3RydWN0aW9ucyIsICJjb21wb25lbnROYW1lIiwgInZhbHVlcyIsICJpc3N1ZXIiLCAicXVlcnkiLCAiY291bnQiLCAiZnJhZ21lbnRJbnN0YW5jZVByZXNlbnRlZCIsICJlbCIsICJyZXNvbHZlZEFyZ3MiLCAiYXJnIiwgImZsYXQiLCAiZGVwZW5kZW5jeSIsICJyZXF1aXJlIiwgImNyZWF0ZSIsICJkZWZhdWx0QXJncyIsICJ0YXJnZXRQYXJlbnQiLCAibmV3Q29tcG9uZW50IiwgIkFfQ29tcG9uZW50IiwgImFjYyIsICJpbmhlcml0YW5jZUNoYWluIiwgIkFfU2NvcGUiLCAiX0FfQ2FsbGVyRXJyb3IiLCAiQV9DYWxsZXJFcnJvciIsICJfQV9DYWxsZXIiLCAiQV9DYWxsZXIiLCAiX0FfVHlwZUd1YXJkcyIsICJfQV9GZWF0dXJlRXJyb3IiLCAiQV9GZWF0dXJlRXJyb3IiLCAiQV9GZWF0dXJlX0RlZmluZSIsICJwcm9wZXJ0eUtleSIsICJkZXNjcmlwdG9yIiwgIm1ldGFLZXkiLCAiZXhpc3RlZE1ldGEiLCAiaW52b2tlIiwgIm9yaWdpbmFsTWV0aG9kIiwgIkFfRmVhdHVyZV9FeHRlbmQiLCAidGFyZ2V0UmVnZXhwIiwgImJlaGF2aW9yIiwgImJlZm9yZSIsICJhZnRlciIsICJpbmNsdWRlIiwgImV4Y2x1ZGUiLCAidGhyb3dPbkVycm9yIiwgImJ1aWxkVGFyZ2V0UmVnZXhwIiwgImV4aXN0ZWREZWZpbml0aW9ucyIsICJleGlzdGVkTWV0YVZhbHVlIiwgImV4aXN0ZWRJbmRleCIsICJpbmNsdWRlUGFydCIsICJleGNsdWRlUGFydCIsICJwYXR0ZXJuIiwgIkFfVFlQRVNfX0FfU3RhZ2VfU3RhdHVzIiwgIl9BX1N0YWdlRXJyb3IiLCAiQV9TdGFnZUVycm9yIiwgIl9BX1N0YWdlIiwgInN0ZXAiLCAicmVzb2x2ZXJDb25zdHJ1Y3RvciIsICJ0YXJnZXRTY29wZSIsICJuZXdEZXBlbmRlbmN5IiwgImNhbGxBcmdzIiwgInJlamVjdCIsICJ3cmFwcGVkRXJyb3IiLCAiQV9TdGFnZSIsICJfQV9TdGVwTWFuYWdlckVycm9yIiwgIl9hIiwgIl9BX1N0ZXBzTWFuYWdlciIsICJlbnRpdGllcyIsICJzdGVwIiwgImkiLCAic2VsZiIsICJzIiwgImVudGl0eSIsICJlbnRpdHlJZCIsICJ0YXJnZXQiLCAic291cmNlIiwgInBhdHRlcm4iLCAicmVnZXgiLCAibm9kZSIsICJuZWlnaGJvciIsICJmZWF0dXJlIiwgImlkIiwgIkFfU3RhZ2UiLCAiX19uYW1lIiwgIkFfU3RlcHNNYW5hZ2VyIiwgIl9BX0ZlYXR1cmUiLCAicGFyYW1zIiwgIkFfRmVhdHVyZV9EZWZpbmUiLCAiQV9GZWF0dXJlX0V4dGVuZCIsICJBX0NvbnRleHQiLCAiQV9GZWF0dXJlRXJyb3IiLCAiQV9TY29wZSIsICJjb21wb25lbnRTY29wZSIsICJleHRlcm5hbFNjb3BlIiwgImVycm9yIiwgIkFfQ2FsbGVyIiwgIkFfQ29tcG9uZW50IiwgIkFfVHlwZUd1YXJkcyIsICJzY29wZSIsICJ0ZW1wbGF0ZSIsICJzdGFnZSIsICJzdGFnZUluZGV4IiwgInJlYXNvbiIsICJwYXJhbTEiLCAicGFyYW0yIiwgInBhcmFtMyIsICJmZWF0dXJlU2NvcGUiLCAiQV9GZWF0dXJlIiwgIl9BX0NvbXBvbmVudCIsICJfQV9Db250ZXh0RXJyb3IiLCAiQV9FcnJvciIsICJBX0NvbnRleHRFcnJvciIsICJfQV9Db250ZXh0IiwgIm5hbWUiLCAiQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUyIsICJ0ZXN0RW52aXJvbm1lbnQiLCAiY29tcG9uZW50IiwgImNvbXBvbmVudE5hbWUiLCAiQV9Db21tb25IZWxwZXIiLCAiaW5zdGFuY2UiLCAiaW1wb3J0aW5nIiwgIm5ld1Njb3BlIiwgInByb3BlcnR5IiwgIm1ldGFUeXBlIiwgIkFfQ29udGFpbmVyTWV0YSIsICJBX0NvbXBvbmVudE1ldGEiLCAiQV9FbnRpdHlNZXRhIiwgImZvdW5kIiwgImMiLCAiQV9Gb3JtYXR0ZXJIZWxwZXIiLCAiQV9NZXRhIiwgImluaGVyaXRNZXRhIiwgImNhbGxOYW1lcyIsICJBX0NvbnRhaW5lciIsICJBX0VudGl0eSIsICJzdGVwcyIsICJjYWxsTmFtZSIsICJjbXAiLCAibWV0YSIsICJkZWNsYXJhdGlvbiIsICJpdGVtcyIsICJpdGVtIiwgImN1cnJlbnRDbGFzcyIsICJvdGhlciIsICJvdGhlckNsYXNzIiwgIm1ldGFLZXkiLCAiYWJzdHJhY3Rpb24iLCAicGFyYW0iLCAiX0FfQWJzdHJhY3Rpb25FcnJvciIsICJBX0Fic3RyYWN0aW9uRXJyb3IiLCAiQV9BYnN0cmFjdGlvbl9FeHRlbmQiLCAiY29uZmlnIiwgInByb3BlcnR5S2V5IiwgImRlc2NyaXB0b3IiLCAic2V0TmFtZSIsICJleGlzdGVkTWV0YSIsICJleGlzdGVkTWV0YVZhbHVlIiwgImV4aXN0ZWRJbmRleCIsICJfQV9BYnN0cmFjdGlvbiIsICJjb250YWluZXIiLCAiQV9BYnN0cmFjdGlvbiIsICJBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zIiwgIkFfVFlQRVNfX0NvbmNlcHRNZXRhS2V5IiwgIl9BX0NvbmNlcHQiLCAicHJvcHMiLCAiZnJhZ21lbnQiLCAibWV0aG9kIiwgIkFfQ29uY2VwdCIsICJfQV9Db25jZXB0TWV0YSIsICJjb250YWluZXJzIiwgIl9hIiwgIl9BX0RlcGVuZGVuY3lFcnJvciIsICJBX0Vycm9yIiwgIl9fbmFtZSIsICJBX0RlcGVuZGVuY3lFcnJvciIsICJBX0RlcGVuZGVuY3lfRGVmYXVsdCIsICJhcmdzIiwgInRhcmdldCIsICJtZXRob2ROYW1lIiwgInBhcmFtZXRlckluZGV4IiwgImNvbXBvbmVudE5hbWUiLCAiQV9Db21tb25IZWxwZXIiLCAiQV9UeXBlR3VhcmRzIiwgIm1ldGhvZCIsICJtZXRhS2V5IiwgImV4aXN0ZWRNZXRhIiwgIkFfQ29udGV4dCIsICJBX01ldGEiLCAicGFyYW1zQXJyYXkiLCAiQV9EZXBlbmRlbmN5X0ZsYXQiLCAiQV9EZXBlbmRlbmN5X0xvYWQiLCAicGF0aCIsICJBX0RlcGVuZGVuY3lfUGFyZW50IiwgImxheWVyT2Zmc2V0IiwgIkFfRGVwZW5kZW5jeV9SZXF1aXJlIiwgIl9BX0RlcGVuZGVuY3kiLCAibmFtZSIsICJBX0RlcGVuZGVuY3kiLCAiX0FfSW5qZWN0RXJyb3IiLCAiQV9JbmplY3RFcnJvciIsICJBX0luamVjdCIsICJwYXJhbTEiLCAicGFyYW0yIiwgImoiLCAiYyIsICJvIiwgIl9BX0V4ZWN1dGlvbkNvbnRleHQiLCAiX2EiLCAiQV9GcmFnbWVudCIsICJuYW1lIiwgImRlZmF1bHRzIiwgIkFfTWV0YSIsICJrZXkiLCAidmFsdWUiLCAiX19uYW1lIiwgIkFfRXhlY3V0aW9uQ29udGV4dCIsICJfQV9PcGVyYXRpb25Db250ZXh0IiwgIm9wZXJhdGlvbiIsICJwYXJhbXMiLCAiZXJyb3IiLCAicmVzdWx0IiwgIkFfT3BlcmF0aW9uQ29udGV4dCIsICJfQV9DaGFubmVsRXJyb3IiLCAiQV9FcnJvciIsICJvcmlnaW5hbEVycm9yIiwgImNvbnRleHQiLCAiQV9UeXBlR3VhcmRzIiwgIkFfQ2hhbm5lbEVycm9yIiwgIkFfQ2hhbm5lbEZlYXR1cmVzIiwgIkFfQ2hhbm5lbFJlcXVlc3RTdGF0dXNlcyIsICJfQV9DaGFubmVsUmVxdWVzdCIsICJleGlzdGVkIiwgIkFfQ2hhbm5lbFJlcXVlc3QiLCAiX0FfQ2hhbm5lbCIsICJBX0NvbXBvbmVudCIsICJhcmdzIiwgInJlcXVlc3RTY29wZSIsICJBX1Njb3BlIiwgIkFfSWRlbnRpdHlIZWxwZXIiLCAiQV9Db250ZXh0IiwgImNoYW5uZWxFcnJvciIsICJtZXNzYWdlIiwgIl9fZGVjb3JhdGVDbGFzcyIsICJBX0ZlYXR1cmUiLCAiQV9Db21tYW5kX1N0YXR1cyIsICJBX0NvbW1hbmRUcmFuc2l0aW9ucyIsICJBX0NvbW1hbmRGZWF0dXJlcyIsICJBX0NvbW1hbmRFdmVudCIsICJfQV9Db21tYW5kRXJyb3IiLCAiX2EiLCAiQV9FcnJvciIsICJfX25hbWUiLCAiQV9Db21tYW5kRXJyb3IiLCAiX0FfU3RhdGVNYWNoaW5lRXJyb3IiLCAiQV9TdGF0ZU1hY2hpbmVFcnJvciIsICJBX1N0YXRlTWFjaGluZUZlYXR1cmVzIiwgIl9BX1N0YXRlTWFjaGluZVRyYW5zaXRpb24iLCAiQV9PcGVyYXRpb25Db250ZXh0IiwgInBhcmFtcyIsICJBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24iLCAiX2IiLCAiX2MiLCAiX2QiLCAiX0FfU3RhdGVNYWNoaW5lIiwgIkFfQ29tcG9uZW50IiwgImFyZ3MiLCAiZnJvbSIsICJ0byIsICJwcm9wcyIsICJ0cmFuc2l0aW9uTmFtZSIsICJBX0Zvcm1hdHRlckhlbHBlciIsICJ0cmFuc2l0aW9uIiwgInNjb3BlIiwgIkFfU2NvcGUiLCAiQV9Db250ZXh0IiwgImVycm9yIiwgIndyYXBwZWRFcnJvciIsICJfX2RlY29yYXRlQ2xhc3MiLCAiQV9GZWF0dXJlIiwgIkFfU3RhdGVNYWNoaW5lIiwgIkFfQ09OU1RBTlRTX19DT05GSUdfRU5WX1ZBUklBQkxFU19BUlJBWSIsICJfQV9Db25maWdFcnJvciIsICJfYSIsICJBX0Vycm9yIiwgIl9fbmFtZSIsICJBX0NvbmZpZ0Vycm9yIiwgIl9BX0NvbmZpZyIsICJBX0V4ZWN1dGlvbkNvbnRleHQiLCAiY29uZmlnIiwgIkFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVkiLCAia2V5IiwgIkFfRm9ybWF0dGVySGVscGVyIiwgInByb3BlcnR5IiwgInZhbHVlIiwgImFycmF5IiwgIkFfQ29uZmlnIiwgIkFfTE9HR0VSX0NPTE9SUyIsICJBX0xPR0dFUl9TQUZFX1JBTkRPTV9DT0xPUlMiLCAiQV9MT0dHRVJfQU5TSSIsICJBX0xPR0dFUl9USU1FX0ZPUk1BVCIsICJBX0xPR0dFUl9GT1JNQVQiLCAiQV9MT0dHRVJfVEVSTUlOQUwiLCAiQV9MT0dHRVJfRU5WX0tFWVMiLCAiQV9Mb2dnZXIiLCAiX2EiLCAiQV9Db21wb25lbnQiLCAic2NvcGUiLCAiY29uZmlnIiwgImNvbmZpZ1Njb3BlQ29sb3IiLCAiY29uZmlnTG9nQ29sb3IiLCAiY29tcGxlbWVudGFyeUNvbG9ycyIsICJzdHIiLCAiaGFzaCIsICJpIiwgImNoYXIiLCAic2NvcGVOYW1lIiwgInNhZmVDb2xvcnMiLCAiY29sb3JJbmRleCIsICJjb2xvclBhaXJzIiwgInBhaXJJbmRleCIsICJBX0NvbnRleHQiLCAiY29scyIsICJ0ZXh0IiwgInNjb3BlUGFkZGluZyIsICJpc0ZpcnN0TGluZSIsICJzY29wZUhlYWRlckxlbmd0aCIsICJjb250aW51YXRpb25JbmRlbnQiLCAiZmlyc3RMaW5lTWF4V2lkdGgiLCAiY29udGludWF0aW9uTWF4V2lkdGgiLCAibGluZXMiLCAid29yZHMiLCAiY3VycmVudExpbmUiLCAiY3VycmVudE1heFdpZHRoIiwgIndvcmQiLCAic3BhY2VOZWVkZWQiLCAiY2h1bmtzIiwgIm1heExlbmd0aCIsICJ0b3RhbExlbmd0aCIsICJ0b3RhbFBhZGRpbmciLCAibGVmdFBhZGRpbmciLCAicmlnaHRQYWRkaW5nIiwgIm1lc3NhZ2VDb2xvciIsICJhcmdzIiwgInRpbWVTdHJpbmciLCAiaXNNdWx0aUFyZyIsICJhcmciLCAic2hvdWxkQWRkTmV3bGluZSIsICJBX0Vycm9yIiwgIm9iaiIsICJqc29uU3RyaW5nIiwgInNlZW4iLCAia2V5IiwgInZhbHVlIiwgIm1heEpzb25MaW5lV2lkdGgiLCAiZm9ybWF0dGVkIiwgImxpbmUiLCAic3RyaW5nVmFsdWVNYXRjaCIsICJwcmVmaXgiLCAic3VmZml4IiwgIndyYXBwZWRWYWx1ZSIsICJtYXhXaWR0aCIsICJ3cmFwcGVkTGluZXMiLCAiZm9ybWF0dGVkTGluZXMiLCAiaW5kZXgiLCAibG9nTWV0aG9kIiwgInBhcmFtMSIsICJlcnJvciIsICJ0aW1lIiwgInNlcGFyYXRvciIsICJlcnJvck1lc3NhZ2UiLCAiZXJyb3JEZXNjcmlwdGlvbiIsICJvcmlnaW5hbE1lc3NhZ2UiLCAic3RhY2tMaW5lcyIsICJsaW5rVGV4dCIsICJzdGFjayIsICJiYXNlSW5kZW50IiwgInN0YWNrSW5kZW50IiwgIndyYXBwZWRMaW5lIiwgIm5vdyIsICJtaW51dGVzIiwgInNlY29uZHMiLCAibWlsbGlzZWNvbmRzIiwgIl9fbmFtZSIsICJfX2RlY29yYXRlQ2xhc3MiLCAiX19kZWNvcmF0ZVBhcmFtIiwgIkFfSW5qZWN0IiwgIkFfU2NvcGUiLCAiQV9Db25maWciLCAiX2IiLCAiX2MiLCAiX2QiLCAiX2UiLCAiX2YiLCAiX2ciLCAiX2giLCAiX2kiLCAiX2oiLCAiX2siLCAiX0FfQ29tbWFuZCIsICJBX0VudGl0eSIsICJwYXJhbXMiLCAiQV9FeGVjdXRpb25Db250ZXh0IiwgInRyYW5zaXRpb24iLCAibG9nZ2VyIiwgInN0YXRlTWFjaGluZSIsICJvcGVyYXRpb24iLCAiY29udGV4dCIsICJyZXNvbHZlIiwgInJlamVjdCIsICJvbkJlZm9yZUV4ZWN1dGVGZWF0dXJlIiwgIkFfRmVhdHVyZSIsICJvbkV4ZWN1dGVGZWF0dXJlIiwgIm9uQWZ0ZXJFeGVjdXRlRmVhdHVyZSIsICJ0YXJnZXRFcnJvciIsICJBX0NvbW1hbmRFcnJvciIsICJyZXN1bHQiLCAiZXZlbnQiLCAibGlzdGVuZXIiLCAibmV3RW50aXR5IiwgIkFfU3RhdGVNYWNoaW5lIiwgInNlcmlhbGl6ZWQiLCAiYXR0YWNoZWRTY29wZSIsICJBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24iLCAiQV9EZXBlbmRlbmN5IiwgIl9BX0ZTUG9seWZpbGxDbGFzcyIsICJfYSIsICJsb2dnZXIiLCAiQV9Db250ZXh0IiwgIl9fbmFtZSIsICJwYXRoIiwgImVuY29kaW5nIiwgIkFfRlNQb2x5ZmlsbENsYXNzIiwgIl9BX0NyeXB0b1BvbHlmaWxsQ2xhc3MiLCAiZnNQb2x5ZmlsbCIsICJjcnlwdG8iLCAidGV4dCIsICJhbGdvcml0aG0iLCAiZmlsZVBhdGgiLCAicmVzb2x2ZSIsICJyZWplY3QiLCAiaGFzaCIsICJmaWxlU3RyZWFtIiwgImRhdGEiLCAiZXJyIiwgImVycm9yIiwgImhhc2hCdWZmZXIiLCAiaGFzaEFycmF5IiwgImhhc2hCYXNlNjQiLCAiQV9DcnlwdG9Qb2x5ZmlsbENsYXNzIiwgIl9BX0h0dHBQb2x5ZmlsbENsYXNzIiwgImh0dHBNb2R1bGUiLCAib3B0aW9ucyIsICJjYWxsYmFjayIsICJ1cmwiLCAiaXNIdHRwcyIsICJtb2NrUmVzcG9uc2UiLCAiZXZlbnQiLCAiaGFuZGxlciIsICJkZXN0IiwgIkFfSHR0cFBvbHlmaWxsQ2xhc3MiLCAiX0FfSHR0cHNQb2x5ZmlsbENsYXNzIiwgImh0dHBzTW9kdWxlIiwgIkFfSHR0cHNQb2x5ZmlsbENsYXNzIiwgIl9BX1BhdGhQb2x5ZmlsbENsYXNzIiwgInBhdGhzIiwgInJlc29sdmVkUGF0aCIsICJleHQiLCAiYmFzZSIsICJwYXJ0cyIsICJmcm9tIiwgInRvIiwgIm5hbWUiLCAicGF0aE9iamVjdCIsICJBX1BhdGhQb2x5ZmlsbENsYXNzIiwgIl9BX1VybFBvbHlmaWxsQ2xhc3MiLCAidXJsTW9kdWxlIiwgInVybFN0cmluZyIsICJ1cmxPYmplY3QiLCAiQV9VcmxQb2x5ZmlsbENsYXNzIiwgIl9BX0J1ZmZlclBvbHlmaWxsQ2xhc3MiLCAiYnVmZmVyTW9kdWxlIiwgInNpemUiLCAiZmlsbCIsICJidWZmZXIiLCAib2JqIiwgImxpc3QiLCAidG90YWxMZW5ndGgiLCAibGVuZ3RoIiwgInN1bSIsICJidWYiLCAicmVzdWx0IiwgIm9mZnNldCIsICJBX0J1ZmZlclBvbHlmaWxsQ2xhc3MiLCAiX0FfUHJvY2Vzc1BvbHlmaWxsQ2xhc3MiLCAiY29kZSIsICJhcmdzIiwgIkFfUHJvY2Vzc1BvbHlmaWxsQ2xhc3MiLCAiQV9Qb2x5ZmlsbCIsICJBX0NvbXBvbmVudCIsICJfX2RlY29yYXRlQ2xhc3MiLCAiQV9Db25jZXB0IiwgIl9fZGVjb3JhdGVQYXJhbSIsICJBX0luamVjdCIsICJBX0xvZ2dlciIsICJDb25maWdSZWFkZXIiLCAicG9seWZpbGwiLCAiQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFU19BUlJBWSIsICJBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVkiLCAiY29udGFpbmVyIiwgImNvbnRleHQiLCAiY29uZmlnIiwgIkFfQ29uZmlnIiwgInJvb3REaXIiLCAia2V5IiwgInByb3BlcnR5IiwgInZhcmlhYmxlcyIsICJzdGFydFBhdGgiLCAiQV9Db250YWluZXIiLCAiQV9TY29wZSIsICJBX0RlcGVuZGVuY3kiLCAiX0ZpbGVDb25maWdSZWFkZXIiLCAiQV9Gb3JtYXR0ZXJIZWxwZXIiLCAiZnMiLCAiRmlsZUNvbmZpZ1JlYWRlciIsICJfRU5WQ29uZmlnUmVhZGVyIiwgImZlYXR1cmUiLCAibGluZSIsICJ2YWx1ZSIsICJhbGxWYXJpYWJsZXMiLCAidmFyaWFibGUiLCAiQV9GZWF0dXJlIiwgIkVOVkNvbmZpZ1JlYWRlciIsICJfQV9Db25maWdMb2FkZXIiLCAibmV3Q29uZmlnIiwgIkFfQ29uZmlnRXJyb3IiLCAiQV9TY29wZUVycm9yIiwgIkFfTG9nZ2VyRW52VmFyaWFibGVzIiwgIkFfTG9nZ2VyRW52VmFyaWFibGVzQXJyYXkiLCAiX0FfTWFuaWZlc3RFcnJvciIsICJfYSIsICJBX0Vycm9yIiwgIl9fbmFtZSIsICJBX01hbmlmZXN0RXJyb3IiLCAiX0FfTWFuaWZlc3RDaGVja2VyIiwgIm1hbmlmZXN0IiwgImNvbXBvbmVudCIsICJtZXRob2QiLCAiY2hlY2tFeGNsdXNpb24iLCAidGFyZ2V0IiwgInJlc3VsdCIsICJBX01hbmlmZXN0Q2hlY2tlciIsICJfQV9NYW5pZmVzdCIsICJBX0ZyYWdtZW50IiwgImNvbmZpZyIsICJBX1R5cGVHdWFyZHMiLCAiaXRlbSIsICJjb21wb25lbnRSZWdleCIsICJtZXRob2RSZWdleCIsICJtZXRob2RDb25maWciLCAiY3RvciIsICJjb21wb25lbnRzIiwgInBhdHRlcm5zIiwgInN0ciIsICJjb21wb25lbnRDdG9yIiwgInF1ZXJ5IiwgImNvbXBvbmVudE5hbWUiLCAibWV0aG9kTmFtZSIsICJ0YXJnZXROYW1lIiwgIm1hdGNoaW5nUnVsZXMiLCAicnVsZSIsICJhIiwgImIiLCAiYUlzR2VuZXJhbCIsICJiSXNHZW5lcmFsIiwgIkFfTWVtb3J5RmVhdHVyZXMiLCAiX0FfTWVtb3J5Q29udGV4dCIsICJfYSIsICJBX0ZyYWdtZW50IiwgInBhcmFtIiwgInZhbHVlIiwgIl9fbmFtZSIsICJBX01lbW9yeUNvbnRleHQiLCAiX0FfTWVtb3J5RXJyb3IiLCAiQV9FcnJvciIsICJBX01lbW9yeUVycm9yIiwgIl9iIiwgIl9jIiwgIl9kIiwgIl9lIiwgIl9mIiwgIl9nIiwgIl9oIiwgIl9pIiwgIl9BX01lbW9yeSIsICJBX0NvbXBvbmVudCIsICJhcmdzIiwgImNvbnRleHQiLCAiQV9Db250ZXh0IiwgIm9wZXJhdGlvbiIsICJzY29wZSIsICJBX1Njb3BlIiwgImVycm9yIiwgImluaXRFcnJvciIsICJkZXN0cm95RXJyb3IiLCAia2V5IiwgIkFfT3BlcmF0aW9uQ29udGV4dCIsICJnZXRFcnJvciIsICJzZXRFcnJvciIsICJkcm9wRXJyb3IiLCAiY2xlYXJFcnJvciIsICJzZXJpYWxpemVFcnJvciIsICJfX2RlY29yYXRlQ2xhc3MiLCAiQV9GZWF0dXJlIiwgIl9fZGVjb3JhdGVQYXJhbSIsICJBX0luamVjdCIsICJBX0RlcGVuZGVuY3kiLCAiQV9TZXJ2aWNlRmVhdHVyZXMiLCAiX0FfU2VydmljZV9FcnJvciIsICJfYSIsICJBX0Vycm9yIiwgIl9fbmFtZSIsICJBX1NlcnZpY2VfRXJyb3IiLCAiX2IiLCAiX2MiLCAiX2QiLCAiX2UiLCAiX2YiLCAiX2ciLCAiX2giLCAiX2kiLCAiX2oiLCAiX0FfU2VydmljZSIsICJBX0NvbnRhaW5lciIsICJlcnJvciIsICJ3cmFwcGVkRXJyb3IiLCAicG9seWZpbGwiLCAiYXJncyIsICJBX1BvbHlmaWxsIiwgImxvZ2dlciIsICJfX2RlY29yYXRlQ2xhc3MiLCAiQV9Db25jZXB0IiwgIkFfRmVhdHVyZSIsICJfX2RlY29yYXRlUGFyYW0iLCAiQV9JbmplY3QiLCAiQV9Mb2dnZXIiLCAiQV9TZXJ2aWNlIiwgIl9BX1JvdXRlIiwgIkFfRnJhZ21lbnQiLCAidXJsIiwgInAiLCAicGF0aFN0YXJ0SW5kZXgiLCAicGF0aCIsICJwYXJhbSIsICJ1cmxTZWdtZW50cyIsICJtYXNrU2VnbWVudHMiLCAicGFyYW1zIiwgImkiLCAibWFza1NlZ21lbnQiLCAidXJsU2VnbWVudCIsICJwYXJhbU5hbWUiLCAicXVlcnkiLCAicXVlcnlTdHJpbmciLCAiY2xlYW5RdWVyeSIsICJwYWlyIiwgImtleSIsICJ2YWx1ZSIsICJleHRlbnNpb25TY29wZSIsICJBX1NpZ25hbEZlYXR1cmVzIiwgIkFfU2lnbmFsVmVjdG9yRmVhdHVyZXMiLCAiX0FfU2lnbmFsIiwgIl9hIiwgIkFfRW50aXR5IiwgInNlcmlhbGl6ZWRFbnRpdHkiLCAibmV3RW50aXR5IiwgInNjb3BlIiwgIl9fbmFtZSIsICJBX1NpZ25hbCIsICJfQV9TaWduYWxWZWN0b3IiLCAicyIsICJwb2ludGVyIiwgInNpZ25hbHMiLCAic2lnbmFsQ29uc3RydWN0b3IiLCAic2lnbmFsSW5kZXgiLCAicGFyYW0xIiwgImluZGV4IiwgInN0cnVjdHVyZSIsICJ1c2VkU3RydWN0dXJlIiwgInJlc3VsdHMiLCAiZGF0YSIsICJvYmoiLCAic2lnbmFsTmFtZSIsICJzaWduYWwiLCAiQV9TaWduYWxWZWN0b3IiLCAiX0FfU2lnbmFsU3RhdGUiLCAiQV9GcmFnbWVudCIsICJwYXJhbTIiLCAidmFsdWUiLCAicGFyYW0iLCAidmVjdG9yIiwgImtleSIsICJBX1NpZ25hbFN0YXRlIiwgIl9BX1NpZ25hbENvbmZpZyIsICJBX0NvbnRleHQiLCAiZSIsICJBX0NvbW1vbkhlbHBlciIsICJhIiwgImIiLCAicGFyYW1zIiwgInN0cmluZ1N0cnVjdHVyZSIsICJuYW1lIiwgIkFfU2lnbmFsQ29uZmlnIiwgIl9BX1NpZ25hbEJ1cyIsICJBX0NvbXBvbmVudCIsICJnbG9iYWxDb25maWciLCAibG9nZ2VyIiwgInN0YXRlIiwgImNvbmZpZyIsICJjb21wb25lbnRDb250ZXh0IiwgIl9fZGVjb3JhdGVDbGFzcyIsICJBX0ZlYXR1cmUiLCAiX19kZWNvcmF0ZVBhcmFtIiwgIkFfSW5qZWN0IiwgIkFfQ2FsbGVyIiwgIkFfU2NvcGUiLCAiQV9Db25maWciLCAiQV9Mb2dnZXIiLCAiQV9TaWduYWxCdXMiLCAiX0FfRGVmZXJyZWQiLCAicmVzb2x2ZSIsICJyZWplY3QiLCAicmVhc29uIiwgIkFfRGVmZXJyZWQiLCAiX0FfU2NoZWR1bGVPYmplY3QiLCAibXMiLCAiYWN0aW9uIiwgImFyZ3MiLCAiQV9FcnJvciIsICJBX1NjaGVkdWxlT2JqZWN0IiwgIl9BX1NjaGVkdWxlIiwgImRhdGUiLCAiY2FsbGJhY2siLCAidGltZXN0YW1wIiwgIkFfVHlwZUd1YXJkcyIsICJiIiwgImIiLCAiaSIsICJhIiwgImIiLCAiVCIsICJpIiwgIlQiLCAiVCIsICJfYSIsICJUIiwgIkEiLCAiX2EiLCAiVCIsICJBIiwgIl9hIiwgImkiLCAiQSIsICJUIiwgIl9hIiwgImdlIiwgIlQiLCAiZiIsICJSIiwgIlQiLCAiQSIsICJkZSJdCn0K
