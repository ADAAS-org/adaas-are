var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __decorateClass = (decorators, target, key, kind) => {
  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;
  for (var i2 = decorators.length - 1, decorator; i2 >= 0; i2--)
    if (decorator = decorators[i2])
      result = (kind ? decorator(target, key, result) : decorator(result)) || result;
  if (kind && result) __defProp(target, key, result);
  return result;
};
var __decorateParam = (index, decorator) => (target, key) => decorator(target, key, index);

// node_modules/@adaas/a-concept/dist/index.mjs
var Ze = Object.defineProperty;
var a = /* @__PURE__ */ __name((p, e) => Ze(p, "name", { value: e, configurable: true }), "a");
var N = { A_CONCEPT_NAME: "A_CONCEPT_NAME", A_CONCEPT_ROOT_SCOPE: "A_CONCEPT_ROOT_SCOPE", A_CONCEPT_ENVIRONMENT: "A_CONCEPT_ENVIRONMENT", A_CONCEPT_ROOT_FOLDER: "A_CONCEPT_ROOT_FOLDER", A_ERROR_DEFAULT_DESCRIPTION: "A_ERROR_DEFAULT_DESCRIPTION" };
var at = [N.A_CONCEPT_NAME, N.A_CONCEPT_ROOT_SCOPE, N.A_CONCEPT_ENVIRONMENT, N.A_CONCEPT_ROOT_FOLDER, N.A_ERROR_DEFAULT_DESCRIPTION];
var He = ((i2) => (i2.INITIALIZED = "INITIALIZED", i2.PROCESSING = "PROCESSING", i2.COMPLETED = "COMPLETED", i2.INTERRUPTED = "INTERRUPTED", i2.FAILED = "FAILED", i2))(He || {});
var _a;
var ce = (_a = class {
  constructor() {
    this.meta = /* @__PURE__ */ new Map();
  }
  [Symbol.iterator]() {
    let e = this.meta.entries();
    return { next: a(() => e.next(), "next") };
  }
  from(e) {
    return this.meta = new Map(e.meta), this;
  }
  set(e, t) {
    let r = this.meta.get(e) || Array.isArray(t) ? [] : t instanceof Map ? /* @__PURE__ */ new Map() : {};
    this.meta.get(e) || Array.isArray(t) ? [...r] : t instanceof Map ? new Map(r) : { ...r };
    this.meta.set(e, t);
  }
  get(e) {
    return this.meta.get(e);
  }
  delete(e) {
    return this.meta.delete(e);
  }
  size() {
    return this.meta.size;
  }
  convertToRegExp(e) {
    return e instanceof RegExp ? e : new RegExp(e);
  }
  find(e) {
    let t = [];
    for (let [r, n] of this.meta.entries()) this.convertToRegExp(String(r)).test(e) && t.push([r, n]);
    return t;
  }
  findByRegex(e) {
    let t = [];
    for (let [r, n] of this.meta.entries()) e.test(String(r)) && t.push([r, n]);
    return t;
  }
  has(e) {
    return this.meta.has(e);
  }
  entries() {
    return this.meta.entries();
  }
  clear() {
    this.meta.clear();
  }
  toArray() {
    return Array.from(this.meta.entries());
  }
  recursiveToJSON(e) {
    switch (true) {
      case e instanceof _a:
        return e.toJSON();
      case e instanceof Map:
        let t = {};
        for (let [n, i2] of e.entries()) t[String(n)] = this.recursiveToJSON(i2);
        return t;
      case Array.isArray(e):
        return e.map((n) => this.recursiveToJSON(n));
      case (!!e && typeof e == "object"):
        let r = {};
        for (let [n, i2] of Object.entries(e)) r[n] = this.recursiveToJSON(i2);
        return r;
      default:
        return e;
    }
  }
  toJSON() {
    let e = {};
    for (let [t, r] of this.meta.entries()) e[String(t)] = this.recursiveToJSON(r);
    return e;
  }
}, __name(_a, "ce"), _a);
a(ce, "A_Meta");
var d = ce;
var We = ((n) => (n.EXTENSIONS = "a-component-extensions", n.FEATURES = "a-component-features", n.ABSTRACTIONS = "a-component-abstractions", n.INJECTIONS = "a-component-injections", n))(We || {});
var Xe = ((r) => (r.SAVE = "save", r.DESTROY = "destroy", r.LOAD = "load", r))(Xe || {});
var Qe = ((n) => (n.FEATURES = "a-container-features", n.INJECTIONS = "a-container-injections", n.ABSTRACTIONS = "a-container-abstractions", n.EXTENSIONS = "a-container-extensions", n))(Qe || {});
var et = ((n) => (n.EXTENSIONS = "a-component-extensions", n.FEATURES = "a-component-features", n.INJECTIONS = "a-component-injections", n.ABSTRACTIONS = "a-component-abstractions", n))(et || {});
var _a2;
var Ee = (_a2 = class extends d {
  injections(e) {
    return this.get("a-component-injections")?.get(e) || [];
  }
  extensions(e) {
    let t = [];
    return this.get("a-component-extensions")?.find(e).forEach(([n, i2]) => {
      i2.forEach((s) => {
        t.push({ name: s.name, handler: s.handler, behavior: s.behavior, before: s.before || "", after: s.after || "", throwOnError: s.throwOnError || true, override: "" });
      });
    }), t;
  }
  features() {
    return this.get("a-component-features")?.toArray().map(([, t]) => t) || [];
  }
  abstractions(e) {
    let t = [], r = this.get("a-component-abstractions"), n = this.get("a-component-injections");
    return r?.find(`CONCEPT_ABSTRACTION::${e}`).forEach(([i2, s]) => {
      s.forEach((_) => {
        let l2 = n?.get(_.handler) || [];
        t.push({ ..._, args: l2 });
      });
    }), t;
  }
}, __name(_a2, "Ee"), _a2);
a(Ee, "A_ComponentMeta");
var $ = Ee;
var _a3;
var Te = (_a3 = class {
  get name() {
    return this.config?.name || this.constructor.name;
  }
  get scope() {
    return c.scope(this);
  }
  constructor(e = {}) {
    this.config = e, c.allocate(this, this.config);
  }
  async call(e, t) {
    return await new v({ name: e, component: this }).process(t);
  }
}, __name(_a3, "Te"), _a3);
a(Te, "A_Container");
var L = Te;
var _a4;
var Se = (_a4 = class extends d {
  injections(e) {
    return this.get("a-container-injections")?.get(e) || [];
  }
  features() {
    return this.get("a-container-features")?.toArray().map(([, t]) => t) || [];
  }
  abstractions(e) {
    let t = [], r = this.get("a-container-abstractions"), n = this.get("a-container-injections");
    return r?.find(`CONCEPT_ABSTRACTION::${e}`).forEach(([i2, s]) => {
      s.forEach((_) => {
        let l2 = n?.get(_.handler) || [];
        t.push({ ..._, args: l2 });
      });
    }), t;
  }
  extensions(e) {
    let t = [];
    return this.get("a-container-extensions")?.find(e).forEach(([n, i2]) => {
      i2.forEach((s) => {
        t.push({ name: s.name, handler: s.handler, behavior: s.behavior, before: s.before || "", after: s.after || "", throwOnError: s.throwOnError || true, override: "" });
      });
    }), t;
  }
}, __name(_a4, "Se"), _a4);
a(Se, "A_ContainerMeta");
var J = Se;
var _a5;
var he = (_a5 = class {
  static toUpperSnakeCase(e) {
    return e.trim().replace(/([a-z])([A-Z])/g, "$1_$2").replace(/[^a-zA-Z0-9]+/g, "_").replace(/_+/g, "_").replace(/^_|_$/g, "").toUpperCase();
  }
  static toCamelCase(e) {
    return e.trim().replace(/[^a-zA-Z0-9]+/g, " ").split(" ").filter(Boolean).map((t, r) => r === 0 ? t.toLowerCase() : t.charAt(0).toUpperCase() + t.slice(1).toLowerCase()).join("");
  }
  static toPascalCase(e) {
    return e.trim().replace(/([a-z])([A-Z])/g, "$1 $2").replace(/[^a-zA-Z0-9]+/g, " ").split(" ").filter(Boolean).map((t) => t.charAt(0).toUpperCase() + t.slice(1).toLowerCase()).join("");
  }
  static toKebabCase(e) {
    return e.replace(/[^a-zA-Z0-9]+/g, " ").replace(/([a-z0-9])([A-Z])/g, "$1 $2").trim().replace(/\s+/g, "-").toLowerCase();
  }
}, __name(_a5, "he"), _a5);
a(he, "A_FormatterHelper");
var y = he;
var _a6;
var ye = (_a6 = class {
  static generateTimeId(e = { timestamp: /* @__PURE__ */ new Date(), random: Math.random().toString(36).slice(2, 8) }) {
    let t = e.timestamp.getTime().toString(36), r = e.random;
    return `${t}-${r}`;
  }
  static parseTimeId(e) {
    let [t, r] = e.split("-");
    return { timestamp: new Date(parseInt(t, 36)), random: r };
  }
  static formatWithLeadingZeros(e, t = 10) {
    return String(e).padStart(t + 1, "0").slice(-t);
  }
  static removeLeadingZeros(e) {
    return String(Number(e));
  }
}, __name(_a6, "ye"), _a6);
a(ye, "A_IdentityHelper");
var K = ye;
var H = { UNEXPECTED_ERROR: "A-Error Unexpected Error", VALIDATION_ERROR: "A-Error Validation Error" };
var Be = "If you see this error please let us know.";
var _a7;
var j = (_a7 = class extends Error {
  static get entity() {
    return y.toKebabCase(this.name);
  }
  static get concept() {
    return c.concept;
  }
  static get scope() {
    return c.root.name;
  }
  constructor(e, t) {
    switch (true) {
      case e instanceof _a7:
        return e;
      case e instanceof Error:
        super(e.message);
        break;
      case o.isErrorSerializedType(e):
        super(e.message);
        break;
      case (o.isErrorConstructorType(e) && "description" in e):
        super(`[${e.title}]: ${e.description}`);
        break;
      case (o.isErrorConstructorType(e) && !("description" in e)):
        super(e.title);
        break;
      case (o.isString(e) && !t):
        super(e);
        break;
      case (o.isString(e) && !!t):
        super(`[${e}]: ${t}`);
        break;
      default:
        throw new _a7(H.VALIDATION_ERROR, "Invalid parameters provided to A_Error constructor");
    }
    this.getInitializer(e, t).call(this, e, t);
  }
  get aseid() {
    return this._aseid;
  }
  get title() {
    return this._title;
  }
  get message() {
    return super.message;
  }
  get code() {
    return this._code || y.toKebabCase(this.title);
  }
  get type() {
    return this.constructor.entity;
  }
  get link() {
    return this._link ? this._link : new URL(`https://adaas.support/a-concept/errors/${this.aseid.toString()}`).toString();
  }
  get scope() {
    return this._aseid.scope;
  }
  get description() {
    return this._description || process.env[N.A_ERROR_DEFAULT_DESCRIPTION] || Be;
  }
  get originalError() {
    return this._originalError;
  }
  getInitializer(e, t) {
    switch (true) {
      case (o.isString(e) && !t):
        return this.fromMessage;
      case (o.isString(e) && !!t):
        return this.fromTitle;
      case e instanceof Error:
        return this.fromError;
      case o.isErrorSerializedType(e):
        return this.fromJSON;
      case o.isErrorConstructorType(e):
        return this.fromConstructor;
      default:
        throw new _a7(H.VALIDATION_ERROR, "Invalid parameters provided to A_Error constructor");
    }
  }
  fromError(e) {
    this._title = H.UNEXPECTED_ERROR, this._aseid = new I({ concept: this.constructor.concept, scope: this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._originalError = e;
  }
  fromMessage(e) {
    this._title = H.UNEXPECTED_ERROR, this._aseid = new I({ concept: this.constructor.concept, scope: this._scope || this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._link = void 0, this._originalError = void 0;
  }
  fromJSON(e) {
    this._aseid = new I(e.aseid), super.message = e.message, this._title = e.title, this._code = e.code, this._scope = e.scope, this._description = e.description, this._originalError = e.originalError ? new _a7(e.originalError) : void 0, this._link = e.link;
  }
  fromTitle(e, t) {
    this.validateTitle(e), this._title = e, this._description = t, this._aseid = new I({ concept: this.constructor.concept, scope: this._scope || this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._link = void 0, this._originalError = void 0;
  }
  fromConstructor(e) {
    if (this.validateTitle(e.title), this._title = e.title, this._code = e.code, this._scope = e.scope ? o.isScopeInstance(e.scope) ? e.scope.name : e.scope : void 0, this._aseid = new I({ concept: this.constructor.concept, scope: this._scope || this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._description = e.description, this._link = e.link, e.originalError instanceof _a7) {
      let t = e.originalError;
      for (; t.originalError instanceof _a7; ) t = t.originalError;
      this._originalError = t.originalError || t;
    } else this._originalError = e.originalError;
  }
  toJSON() {
    return { aseid: this.aseid.toString(), title: this.title, code: this.code, type: this.type, message: this.message, link: this.link, scope: this.scope, description: this.description, originalError: this.originalError?.message };
  }
  validateTitle(e) {
    if (e.length > 60) throw new _a7(H.VALIDATION_ERROR, "A-Error title exceeds 60 characters limit.");
    if (e.length === 0) throw new _a7(H.VALIDATION_ERROR, "A-Error title cannot be empty.");
  }
}, __name(_a7, "j"), _a7);
a(j, "A_Error");
var f = j;
var _a8;
var ie = (_a8 = class extends f {
}, __name(_a8, "ie"), _a8);
a(ie, "ASEID_Error"), ie.ASEIDInitializationError = "ASEID Initialization Error", ie.ASEIDValidationError = "ASEID Validation Error";
var R = ie;
var _a9;
var z = (_a9 = class {
  static isASEID(e) {
    return this.regexp.test(e);
  }
  constructor(e) {
    this.verifyInput(e), this.getInitializer(e).call(this, e);
  }
  get concept() {
    return this._concept || c.concept;
  }
  get scope() {
    return this._scope || c.root.name;
  }
  get entity() {
    return this._entity;
  }
  get id() {
    return this._id;
  }
  get version() {
    return this._version;
  }
  get shard() {
    return this._shard;
  }
  getInitializer(e) {
    switch (true) {
      case o.isString(e):
        return this.fromString;
      case o.isObject(e):
        return this.fromObject;
      default:
        throw new R(R.ASEIDInitializationError, "Invalid parameters provided to ASEID constructor");
    }
  }
  fromString(e) {
    let [t, r, n] = e.split("@"), [i2, s, _] = r.split(":"), l2 = _.includes(".") ? _.split(".")[0] : void 0, E2 = _.includes(".") ? _.split(".")[1] : _;
    this._concept = t || c.root.name, this._scope = i2 || c.root.name, this._entity = s, this._id = E2, this._version = n, this._shard = l2;
  }
  fromObject(e) {
    this._concept = e.concept ? _a9.isASEID(e.concept) ? new _a9(e.concept).id : e.concept : c.concept, this._scope = e.scope ? o.isNumber(e.scope) ? K.formatWithLeadingZeros(e.scope) : _a9.isASEID(e.scope) ? new _a9(e.scope).id : e.scope : c.root.name, this._entity = e.entity, this._id = o.isNumber(e.id) ? K.formatWithLeadingZeros(e.id) : e.id, this._version = e.version, this._shard = e.shard;
  }
  toString() {
    return `${this.concept}@${this.scope}:${this.entity}:${this.shard ? this.shard + "." + this.id : this.id}${this.version ? "@" + this.version : ""}`;
  }
  toJSON() {
    return { concept: this._concept, scope: this._scope, entity: this._entity, id: this._id, version: this._version, shard: this._shard };
  }
  verifyInput(e) {
    switch (true) {
      case (o.isString(e) && !_a9.isASEID(e)):
        throw new R(R.ASEIDValidationError, "Invalid ASEID format provided");
      case (o.isObject(e) && !e.id):
        throw new R(R.ASEIDValidationError, "ASEID id is required");
      case (o.isObject(e) && !e.entity):
        throw new R(R.ASEIDValidationError, "ASEID entity is required");
    }
  }
}, __name(_a9, "z"), _a9);
a(z, "ASEID"), z.regexp = new RegExp("^[a-z|A-Z|0-9|-]+@[a-z|A-Z|0-9|-]+:[a-z|A-Z|0-9|-]+:[a-z|A-Z|0-9|\\.|-]+(@v[0-9|\\.]+|@lts)?$");
var I = z;
var _a10;
var pe = (_a10 = class extends f {
}, __name(_a10, "pe"), _a10);
a(pe, "A_EntityError"), pe.ValidationError = "A-Entity Validation Error";
var Q = pe;
var _a11;
var ge = (_a11 = class {
  static get entity() {
    return y.toKebabCase(this.name);
  }
  static get concept() {
    return c.concept;
  }
  static get scope() {
    return c.root.name;
  }
  constructor(e) {
    this.getInitializer(e).call(this, e);
  }
  get id() {
    return this.aseid.id;
  }
  isStringASEID(e) {
    return typeof e == "string" && I.isASEID(e);
  }
  isASEIDInstance(e) {
    return e instanceof I;
  }
  isSerializedObject(e) {
    return !!e && typeof e == "object" && "aseid" in e;
  }
  isConstructorProps(e) {
    return !!e && typeof e == "object" && !("aseid" in e);
  }
  getInitializer(e) {
    if (!e) return this.fromUndefined;
    if (this.isStringASEID(e)) return this.fromASEID;
    if (this.isASEIDInstance(e)) return this.fromASEID;
    if (this.isSerializedObject(e)) return this.fromJSON;
    if (this.isConstructorProps(e)) return this.fromNew;
    throw new Q(Q.ValidationError, "Unable to determine A-Entity constructor initialization method. Please check the provided parameters.");
  }
  generateASEID(e) {
    return new I({ concept: e?.concept || this.constructor.concept, scope: e?.scope || this.constructor.scope, entity: e?.entity || this.constructor.entity, id: e?.id || K.generateTimeId() });
  }
  async call(e, t) {
    return await new v({ name: e, component: this, scope: t }).process(t);
  }
  async load(e) {
    return this.call("load", e);
  }
  async destroy(e) {
    return this.call("destroy", e);
  }
  async save(e) {
    return this.call("save", e);
  }
  fromASEID(e) {
    e instanceof I ? this.aseid = e : this.aseid = new I(e);
  }
  fromUndefined() {
    this.aseid = this.generateASEID();
  }
  fromNew(e) {
    this.aseid = this.generateASEID();
  }
  fromJSON(e) {
    this.aseid = new I(e.aseid);
  }
  toJSON() {
    return { aseid: this.aseid.toString() };
  }
  toString() {
    return this.aseid ? this.aseid.toString() : this.constructor.name;
  }
}, __name(_a11, "ge"), _a11);
a(ge, "A_Entity");
var M = ge;
var _a12;
var Ce = (_a12 = class extends d {
  features() {
    return this.get("a-component-features")?.toArray().map(([, t]) => t) || [];
  }
  injections(e) {
    return this.get("a-component-injections")?.get(e) || [];
  }
}, __name(_a12, "Ce"), _a12);
a(Ce, "A_EntityMeta");
var W = Ce;
var _a13;
var Pe = (_a13 = class {
  constructor(e = {}) {
    this._name = e.name || this.constructor.name;
  }
  get name() {
    return this._name;
  }
  toJSON() {
    return { name: this.name };
  }
}, __name(_a13, "Pe"), _a13);
a(Pe, "A_Fragment");
var B = Pe;
var _a14;
var Ie = (_a14 = class {
  static resolve() {
    return new Promise((e) => e());
  }
  static isInheritedFrom(e, t) {
    let r = e;
    for (; r; ) {
      if (r === t) return true;
      r = Object.getPrototypeOf(r);
    }
    return false;
  }
  static getParentClasses(e) {
    let t = Object.getPrototypeOf(typeof e == "function" ? e : e.constructor), r = [];
    for (; t && t !== Function.prototype; ) r.push(t), t = Object.getPrototypeOf(t);
    return r;
  }
  static getClassInheritanceChain(e) {
    let t = Object.getPrototypeOf(typeof e == "function" ? e : e.constructor), r = typeof e == "function" ? [e] : [e.constructor];
    for (; t && t !== Function.prototype; ) r.push(t), t = Object.getPrototypeOf(t);
    return r;
  }
  static getParentClass(e) {
    return Object.getPrototypeOf(e);
  }
  static omitProperties(e, t) {
    let r = JSON.parse(JSON.stringify(e));
    function n(i2, s) {
      let _ = s[0];
      s.length === 1 ? delete i2[_] : i2[_] !== void 0 && typeof i2[_] == "object" && n(i2[_], s.slice(1));
    }
    __name(n, "n");
    return a(n, "removeProperties"), t.forEach((i2) => {
      let s = i2.split(".");
      n(r, s);
    }), r;
  }
  static isObject(e) {
    return e !== null && typeof e == "object" && !Array.isArray(e);
  }
  static deepMerge(e, t, r = /* @__PURE__ */ new Map()) {
    if (this.isObject(e) && this.isObject(t)) for (let n in t) this.isObject(t[n]) ? (e[n] || (e[n] = {}), r.has(t[n]) ? e[n] = r.get(t[n]) : (r.set(t[n], {}), this.deepMerge(e[n], t[n], r))) : e[n] = t[n];
    return e;
  }
  static deepClone(e) {
    if (e == null || typeof e != "object") return e;
    if (e instanceof Date) return new Date(e.getTime());
    if (Array.isArray(e)) return e.map((t) => this.deepClone(t));
    if (typeof e == "function") return e;
    if (e instanceof Object) {
      let t = {};
      for (let r in e) e.hasOwnProperty(r) && (t[r] = this.deepClone(e[r]));
      return t;
    }
    throw new Error("Unable to clone the object. Unsupported type.");
  }
  static deepCloneAndMerge(e, t) {
    if (t == null && e == null) return e;
    if (e == null && t) return this.deepClone(t);
    if (typeof e != "object") return e;
    if (e instanceof Date) return new Date(e.getTime());
    if (Array.isArray(e)) return e.map((r) => this.deepCloneAndMerge(r, t));
    if (typeof e == "function") return e;
    if (e instanceof Object) {
      let r = {};
      for (let n in e) t[n] !== null && t[n] !== void 0 ? r[n] = this.deepCloneAndMerge(e[n], t[n]) : r[n] = this.deepClone(e[n]);
      for (let n in t) e[n] !== void 0 && e[n] !== null ? r[n] = this.deepCloneAndMerge(e[n], t[n]) : r[n] = this.deepClone(t[n]);
      return r;
    }
    throw new Error("Unable to clone the object. Unsupported type.");
  }
  static getComponentName(e) {
    let t = "Unknown", r = "Anonymous";
    if (e == null) return t;
    if (typeof e == "string") return e || t;
    if (typeof e == "symbol") try {
      return e.toString();
    } catch {
      return t;
    }
    if (Array.isArray(e)) return e.length === 0 ? t : this.getComponentName(e[0]);
    if (typeof e == "function") {
      let n = e;
      if (n.displayName) return String(n.displayName);
      if (n.name) return String(n.name);
      try {
        let s = Function.prototype.toString.call(e).match(/^(?:class\s+([A-Za-z0-9_$]+)|function\s+([A-Za-z0-9_$]+)|([A-Za-z0-9_$]+)\s*=>)/);
        if (s) return s[1] || s[2] || s[3] || r;
      } catch {
      }
      return r;
    }
    if (typeof e == "object") {
      let n = e;
      if (n.type) return this.getComponentName(n.type);
      if (n.displayName) return String(n.displayName);
      if (n.name) return String(n.name);
      if (n.constructor && n.constructor.name && n.constructor.name !== "Object") return String(n.constructor.name);
      try {
        let i2 = n.toString();
        if (typeof i2 == "string" && i2 !== "[object Object]") return i2;
      } catch {
      }
      return r;
    }
    try {
      return String(e);
    } catch {
      return t;
    }
  }
}, __name(_a14, "Ie"), _a14);
a(Ie, "A_CommonHelper");
var u = Ie;
var _a15;
var U = (_a15 = class extends f {
}, __name(_a15, "U"), _a15);
a(U, "A_ScopeError"), U.InitializationError = "A-Scope Initialization Error", U.ConstructorError = "Unable to construct A-Scope instance", U.ResolutionError = "A-Scope Resolution Error", U.RegistrationError = "A-Scope Registration Error", U.CircularInheritanceError = "A-Scope Circular Inheritance Error", U.DeregistrationError = "A-Scope Deregistration Error";
var A = U;
var _a16;
var me = (_a16 = class {
  constructor(e, t) {
    this._meta = new d();
    this._allowedComponents = /* @__PURE__ */ new Set();
    this._allowedErrors = /* @__PURE__ */ new Set();
    this._allowedEntities = /* @__PURE__ */ new Set();
    this._allowedFragments = /* @__PURE__ */ new Set();
    this._components = /* @__PURE__ */ new Map();
    this._errors = /* @__PURE__ */ new Map();
    this._entities = /* @__PURE__ */ new Map();
    this._fragments = /* @__PURE__ */ new Map();
    this.getInitializer(e).call(this, e, t);
  }
  get name() {
    return this._name;
  }
  get meta() {
    return this._meta;
  }
  get allowedComponents() {
    return this._allowedComponents;
  }
  get allowedEntities() {
    return this._allowedEntities;
  }
  get allowedFragments() {
    return this._allowedFragments;
  }
  get allowedErrors() {
    return this._allowedErrors;
  }
  get entities() {
    return Array.from(this._entities.values());
  }
  get fragments() {
    return Array.from(this._fragments.values());
  }
  get components() {
    return Array.from(this._components.values());
  }
  get errors() {
    return Array.from(this._errors.values());
  }
  get parent() {
    return this._parent;
  }
  *parents() {
    let e = this._parent;
    for (; e; ) yield e, e = e._parent;
  }
  parentOffset(e) {
    let t = this.parent;
    for (; e < -1 && t; ) t = t.parent, e++;
    return t;
  }
  getInitializer(e, t) {
    switch (true) {
      case (!e && !t):
        return this.defaultInitialized;
      case !!e:
        return this.defaultInitialized;
      default:
        throw new A(A.ConstructorError, "Invalid parameters provided to A_Scope constructor");
    }
  }
  defaultInitialized(e = {}, t = {}) {
    this._name = e.name || this.constructor.name, this.initComponents(e.components), this.initErrors(e.errors), this.initFragments(e.fragments), this.initEntities(e.entities), this.initMeta(e.meta), t.parent && (this._parent = t.parent);
  }
  initComponents(e) {
    e?.forEach(this.register.bind(this));
  }
  initErrors(e) {
    e?.forEach(this.register.bind(this));
  }
  initEntities(e) {
    e?.forEach((t) => this.register(t));
  }
  initFragments(e) {
    e?.forEach(this.register.bind(this));
  }
  initMeta(e) {
    e && Object.entries(e).forEach(([t, r]) => {
      this._meta.set(t, r);
    });
  }
  destroy() {
    this._components.forEach((e) => c.deregister(e)), this._fragments.forEach((e) => c.deregister(e)), this._entities.forEach((e) => c.deregister(e)), this._components.clear(), this._errors.clear(), this._fragments.clear(), this._entities.clear(), this.issuer() && c.deallocate(this);
  }
  get(e) {
    return this._meta.get(e);
  }
  set(e, t) {
    this._meta.set(e, t);
  }
  issuer() {
    return c.issuer(this);
  }
  inherit(e) {
    if (!e) throw new A(A.InitializationError, "Invalid parent scope provided");
    if (e === this) throw new A(A.CircularInheritanceError, `Unable to inherit scope ${this.name} from itself`);
    if (e === this._parent) return this;
    let t = this.checkCircularInheritance(e);
    if (t) throw new A(A.CircularInheritanceError, `Circular inheritance detected: ${[...t, e.name].join(" -> ")}`);
    return this._parent = e, this;
  }
  has(e) {
    let t = this.hasFlat(e);
    if (!t && this._parent) try {
      return this._parent.has(e);
    } catch {
      return false;
    }
    return t;
  }
  hasFlat(e) {
    let t = false;
    switch (true) {
      case o.isScopeConstructor(e):
        return true;
      case o.isString(e): {
        Array.from(this.allowedComponents).find((_) => _.name === e) && (t = true), Array.from(this.allowedFragments).find((_) => _.name === e) && (t = true), Array.from(this.allowedEntities).find((_) => _.name === e) && (t = true), Array.from(this.allowedErrors).find((_) => _.name === e) && (t = true);
        break;
      }
      case o.isComponentConstructor(e): {
        t = this.isAllowedComponent(e) || !![...this.allowedComponents].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case o.isEntityConstructor(e): {
        t = this.isAllowedEntity(e) || !![...this.allowedEntities].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case o.isFragmentConstructor(e): {
        t = this.isAllowedFragment(e) || !![...this.allowedFragments].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case o.isErrorConstructor(e): {
        t = this.isAllowedError(e) || !![...this.allowedErrors].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case (this.issuer() && (this.issuer().constructor === e || u.isInheritedFrom(this.issuer().constructor, e))): {
        t = true;
        break;
      }
    }
    return t;
  }
  merge(e) {
    return new _a16({ name: `${this.name} + ${e.name}`, components: [...this.allowedComponents, ...e.allowedComponents], fragments: [...this.fragments, ...e.fragments], entities: [...this.entities, ...e.entities, ...this.allowedEntities, ...e.allowedEntities] }, { parent: this._parent || e._parent });
  }
  resolveConstructor(e) {
    let t = Array.from(this.allowedComponents).find((i2) => i2.name === e || i2.name === y.toPascalCase(e));
    if (t) return t;
    let r = Array.from(this.allowedEntities).find((i2) => i2.name === e || i2.name === y.toPascalCase(e) || i2.entity === e || i2.entity === y.toKebabCase(e));
    if (r) return r;
    let n = Array.from(this.allowedFragments).find((i2) => i2.name === e || i2.name === y.toPascalCase(e));
    if (n) return n;
    if (this._parent) return this._parent.resolveConstructor(e);
  }
  resolveAll(e) {
    let t = [], r = this.resolveFlatAll(e);
    t.push(...r);
    let n = this._parent;
    for (; n && n.has(e); ) {
      let i2 = n.resolveFlatAll(e);
      t.push(...i2), n = n._parent;
    }
    return t;
  }
  resolveFlatAll(e) {
    let t = [];
    switch (true) {
      case o.isComponentConstructor(e): {
        this.allowedComponents.forEach((r) => {
          if (u.isInheritedFrom(r, e)) {
            let n = this.resolve(r);
            n && t.push(n);
          }
        });
        break;
      }
      case o.isFragmentConstructor(e): {
        this.allowedFragments.forEach((r) => {
          if (u.isInheritedFrom(r, e)) {
            let n = this.resolve(r);
            n && t.push(n);
          }
        });
        break;
      }
      case o.isEntityConstructor(e): {
        this.entities.forEach((r) => {
          u.isInheritedFrom(r.constructor, e) && t.push(r);
        });
        break;
      }
      case o.isString(e): {
        let r = this.resolveConstructor(e);
        if (!o.isComponentConstructor(r) && !o.isEntityConstructor(r) && !o.isFragmentConstructor(r)) throw new A(A.ResolutionError, `Unable to resolve all instances for name: ${e} in scope ${this.name} as no matching component, entity or fragment constructor found`);
        if (r) {
          let n = this.resolveAll(r);
          n && t.push(...n);
        }
        break;
      }
      default:
        throw new A(A.ResolutionError, `Invalid parameter provided to resolveAll method: ${e} in scope ${this.name}`);
    }
    return t;
  }
  resolve(e, t) {
    return o.isArray(e) ? e.map((r) => this.resolveOnce(r, t)) : this.resolveOnce(e, t);
  }
  resolveFlat(e, t) {
    return o.isArray(e) ? e.map((r) => this.resolveFlatOnce(r, t)) : this.resolveFlatOnce(e, t);
  }
  resolveByName(e) {
    let t = Array.from(this.allowedComponents).find((s) => s.name === e || s.name === y.toPascalCase(e));
    if (t) return this.resolveOnce(t);
    let r = Array.from(this.allowedEntities).find((s) => s.name === e || s.name === y.toPascalCase(e) || s.entity === e || s.entity === y.toKebabCase(e));
    if (r) return this.resolveOnce(r);
    let n = Array.from(this.allowedFragments).find((s) => s.name === e || s.name === y.toPascalCase(e));
    if (n) return this.resolveOnce(n);
    let i2 = Array.from(this.allowedErrors).find((s) => s.name === e || s.name === y.toPascalCase(e) || s.code === e || s.code === y.toKebabCase(e));
    if (i2) return this.resolveOnce(i2);
  }
  resolveFlatOnce(e, t) {
    let r, n = u.getComponentName(e);
    if (!(!e || !this.has(e))) {
      switch (true) {
        case o.isString(e): {
          r = this.resolveByName(e);
          break;
        }
        case o.isConstructorAllowedForScopeAllocation(e): {
          r = this.resolveIssuer(e);
          break;
        }
        case o.isEntityConstructor(e): {
          r = this.resolveEntity(e, t);
          break;
        }
        case o.isFragmentConstructor(e): {
          r = this.resolveFragment(e);
          break;
        }
        case o.isScopeConstructor(e): {
          r = this.resolveScope(e);
          break;
        }
        case o.isComponentConstructor(e): {
          r = this.resolveComponent(e);
          break;
        }
        case o.isErrorConstructor(e): {
          r = this.resolveError(e);
          break;
        }
        default:
          throw new A(A.ResolutionError, `Injected Component ${n} not found in the scope`);
      }
      return r;
    }
  }
  resolveOnce(e, t) {
    let r = this.resolveFlatOnce(e, t);
    return !r && this.parent ? this.parent.resolveOnce(e, t) : r;
  }
  resolveIssuer(e) {
    let t = this.issuer();
    if (t && (t.constructor === e || u.isInheritedFrom(t?.constructor, e))) return t;
  }
  resolveEntity(e, t) {
    let r = t?.query || {}, n = t?.pagination?.count || 1;
    switch (true) {
      case !t:
        return this.entities.find((i2) => i2 instanceof e);
      case (!!r.aseid && typeof r.aseid == "string" && this._entities.has(r.aseid)):
        return this._entities.get(r.aseid);
      case (!!r.aseid && typeof r.aseid == "object" && r.aseid instanceof I && this._entities.has(r.aseid.toString())):
        return this._entities.get(r.aseid.toString());
      case !!r.id:
        return this.entities.filter((s) => s instanceof e).find((s) => String(s.id) === String(r.id));
      default: {
        let i2 = this.entities.filter((s) => s instanceof e).filter((s) => Object.entries(r).every(([_, l2]) => _ in s ? s[_] === l2 : false));
        return i2.length === 0 ? void 0 : n === 1 ? i2[0] : i2;
      }
    }
  }
  resolveError(e) {
    return this.errors.find((t) => t instanceof e);
  }
  resolveFragment(e) {
    let t = this._fragments.get(e);
    switch (true) {
      case (t && this._fragments.has(e)):
        return t;
      case (!t && Array.from(this._allowedFragments).some((r) => u.isInheritedFrom(r, e))): {
        let r = Array.from(this._allowedFragments).find((n) => u.isInheritedFrom(n, e));
        return this.resolveFragment(r);
      }
      default:
        return;
    }
  }
  resolveScope(e) {
    return this;
  }
  resolveComponent(e) {
    switch (true) {
      case (this.allowedComponents.has(e) && this._components.has(e)):
        return this._components.get(e);
      case (this.allowedComponents.has(e) && !this._components.has(e)): {
        let n = (c.meta(e).get("a-component-injections")?.get("constructor") || []).map((s) => {
          let _ = u.getComponentName(s.target);
          if ("instructions" in s && s.instructions) {
            let { target: l2, parent: E2, flat: C2, instructions: h } = s, P2 = this.resolve(l2, h);
            if (!P2) throw new A(A.ResolutionError, `Unable to resolve dependency ${_} for component ${e.name} in scope ${this.name}`);
            return P2;
          } else {
            let { target: l2, require: E2, create: C2, defaultArgs: h, parent: P2, flat: Y2 } = s, O;
            switch (true) {
              case Y2: {
                O = this.resolveFlat(l2);
                break;
              }
              case (P2 && typeof P2.layerOffset == "number"): {
                let ne2 = this.parentOffset(P2.layerOffset);
                if (!ne2) throw new A(A.ResolutionError, `Unable to resolve parent scope at offset ${P2.layerOffset} for dependency ${_} for component ${e.name} in scope ${this.name}`);
                O = ne2.resolve(l2);
                break;
              }
              default: {
                O = this.resolve(l2);
                break;
              }
            }
            if (C2 && !O && o.isAllowedForDependencyDefaultCreation(l2) && (O = new l2(...h), this.register(O)), E2 && !O) throw new A(A.ResolutionError, `Unable to resolve required dependency ${_} for component ${e.name} in scope ${this.name}`);
            return O;
          }
        }), i2 = new e(...n);
        return this.register(i2), this._components.get(e);
      }
      case (!this.allowedComponents.has(e) && Array.from(this.allowedComponents).some((t) => u.isInheritedFrom(t, e))): {
        let t = Array.from(this.allowedComponents).find((r) => u.isInheritedFrom(r, e));
        return this.resolveComponent(t);
      }
      default:
        return;
    }
  }
  register(e) {
    switch (true) {
      case e instanceof F: {
        this.allowedComponents.has(e.constructor) || this.allowedComponents.add(e.constructor), this._components.set(e.constructor, e), c.register(this, e);
        break;
      }
      case (o.isEntityInstance(e) && !this._entities.has(e.aseid.toString())): {
        this.allowedEntities.has(e.constructor) || this.allowedEntities.add(e.constructor), this._entities.set(e.aseid.toString(), e), c.register(this, e);
        break;
      }
      case o.isFragmentInstance(e): {
        this.allowedFragments.has(e.constructor) || this.allowedFragments.add(e.constructor), this._fragments.set(e.constructor, e), c.register(this, e);
        break;
      }
      case o.isErrorInstance(e): {
        this.allowedErrors.has(e.constructor) || this.allowedErrors.add(e.constructor), this._errors.set(e.code, e), c.register(this, e);
        break;
      }
      case o.isComponentConstructor(e): {
        this.allowedComponents.has(e) || this.allowedComponents.add(e);
        break;
      }
      case o.isFragmentConstructor(e): {
        this.allowedFragments.has(e) || this.allowedFragments.add(e);
        break;
      }
      case o.isEntityConstructor(e): {
        this.allowedEntities.has(e) || this.allowedEntities.add(e);
        break;
      }
      case o.isErrorConstructor(e): {
        this.allowedErrors.has(e) || this.allowedErrors.add(e);
        break;
      }
      default:
        if (e instanceof M) throw new A(A.RegistrationError, `Entity with ASEID ${e.aseid.toString()} is already registered in the scope ${this.name}`);
        if (e instanceof B) throw new A(A.RegistrationError, `Fragment ${e.constructor.name} is already registered in the scope ${this.name}`);
        {
          let t = u.getComponentName(e);
          throw new A(A.RegistrationError, `Cannot register ${t} in the scope ${this.name}`);
        }
    }
  }
  deregister(e) {
    switch (true) {
      case e instanceof F: {
        this._components.delete(e.constructor), c.deregister(e);
        break;
      }
      case o.isEntityInstance(e): {
        this._entities.delete(e.aseid.toString()), c.deregister(e);
        break;
      }
      case o.isFragmentInstance(e): {
        this._fragments.delete(e.constructor), c.deregister(e);
        break;
      }
      case o.isErrorInstance(e): {
        this._errors.delete(e.code), c.deregister(e);
        break;
      }
      case o.isComponentConstructor(e): {
        this.allowedComponents.delete(e);
        break;
      }
      case o.isFragmentConstructor(e): {
        this.allowedFragments.delete(e);
        break;
      }
      case o.isEntityConstructor(e): {
        this.allowedEntities.delete(e);
        break;
      }
      case o.isErrorConstructor(e): {
        this.allowedErrors.delete(e);
        break;
      }
      default:
        let t = u.getComponentName(e);
        throw new A(A.DeregistrationError, `Cannot deregister ${t} from the scope ${this.name}`);
    }
  }
  toJSON() {
    return this.fragments.reduce((e, t) => {
      let r = t.toJSON();
      return { ...e, [r.name]: r };
    }, {});
  }
  isAllowedComponent(e) {
    return o.isComponentConstructor(e) && this.allowedComponents.has(e);
  }
  isAllowedEntity(e) {
    return o.isEntityConstructor(e) && this.allowedEntities.has(e);
  }
  isAllowedFragment(e) {
    return o.isFragmentConstructor(e) && this.allowedFragments.has(e);
  }
  isAllowedError(e) {
    return o.isErrorConstructor(e) && this.allowedErrors.has(e);
  }
  isInheritedFrom(e) {
    let t = this;
    for (; t; ) {
      if (t === e) return true;
      t = t._parent;
    }
    return false;
  }
  checkCircularInheritance(e) {
    let t = [], r = this._parent;
    for (; r; ) {
      if (t.push(r.name), r === e) return t;
      r = r._parent;
    }
    return false;
  }
  printInheritanceChain() {
    let e = [], t = this;
    for (; t; ) e.push(t.name), t = t._parent;
    console.log(e.join(" -> "));
  }
}, __name(_a16, "me"), _a16);
a(me, "A_Scope");
var x = me;
var _a17;
var ue = (_a17 = class extends f {
}, __name(_a17, "ue"), _a17);
a(ue, "A_CallerError"), ue.CallerInitializationError = "Unable to initialize A-Caller";
var ee = ue;
var _a18;
var be = (_a18 = class {
  constructor(e) {
    this.validateParams(e), this._component = e;
  }
  get component() {
    return this._component;
  }
  validateParams(e) {
    if (!o.isAllowedForFeatureCall(e)) throw new ee(ee.CallerInitializationError, `Invalid A-Caller component provided of type: ${typeof e} with value: ${JSON.stringify(e).slice(0, 100)}...`);
  }
}, __name(_a18, "be"), _a18);
a(be, "A_Caller");
var V = be;
var _a19;
var T = (_a19 = class {
  static isString(e) {
    return typeof e == "string" || e instanceof String;
  }
  static isNumber(e) {
    return typeof e == "number" && isFinite(e);
  }
  static isBoolean(e) {
    return typeof e == "boolean";
  }
  static isArray(e) {
    return Array.isArray(e);
  }
  static isObject(e) {
    return e && typeof e == "object" && !Array.isArray(e);
  }
  static isFunction(e) {
    return typeof e == "function";
  }
  static isUndefined(e) {
    return typeof e > "u";
  }
  static isRegExp(e) {
    return e instanceof RegExp;
  }
  static isContainerConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, L);
  }
  static isComponentConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, F);
  }
  static isFragmentConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, B);
  }
  static isEntityConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, M);
  }
  static isScopeConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, x);
  }
  static isErrorConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, f);
  }
  static isFeatureConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, v);
  }
  static isCallerConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, V);
  }
  static isContainerInstance(e) {
    return e instanceof L;
  }
  static isComponentInstance(e) {
    return e instanceof F;
  }
  static isFeatureInstance(e) {
    return e instanceof v;
  }
  static isFragmentInstance(e) {
    return e instanceof B;
  }
  static isEntityInstance(e) {
    return e instanceof M;
  }
  static isScopeInstance(e) {
    return e instanceof x;
  }
  static isErrorInstance(e) {
    return e instanceof f;
  }
  static isComponentMetaInstance(e) {
    return e instanceof $;
  }
  static isContainerMetaInstance(e) {
    return e instanceof J;
  }
  static isEntityMetaInstance(e) {
    return e instanceof W;
  }
  static isConstructorAllowedForScopeAllocation(e) {
    return _a19.isContainerConstructor(e) || _a19.isFeatureConstructor(e);
  }
  static isInstanceAllowedForScopeAllocation(e) {
    return _a19.isContainerInstance(e) || _a19.isFeatureInstance(e);
  }
  static isConstructorAvailableForAbstraction(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e);
  }
  static isTargetAvailableForInjection(e) {
    return _a19.isComponentConstructor(e) || _a19.isComponentInstance(e) || _a19.isContainerInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForFeatureCall(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForFeatureDefinition(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForFeatureExtension(e) {
    return _a19.isComponentInstance(e) || _a19.isContainerInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForAbstractionDefinition(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e);
  }
  static isAllowedForDependencyDefaultCreation(e) {
    return _a19.isComponentConstructor(e) || u.isInheritedFrom(e, F) || _a19.isEntityConstructor(e) || u.isInheritedFrom(e, M);
  }
  static isErrorConstructorType(e) {
    return !!e && _a19.isObject(e) && !(e instanceof Error) && "title" in e;
  }
  static isErrorSerializedType(e) {
    return !!e && _a19.isObject(e) && !(e instanceof Error) && "aseid" in e && I.isASEID(e.aseid);
  }
}, __name(_a19, "T"), _a19);
a(T, "A_TypeGuards");
var o = T;
var _a20;
var q = (_a20 = class extends f {
  fromConstructor(e) {
    super.fromConstructor(e), this.stage = e.stage;
  }
}, __name(_a20, "q"), _a20);
a(q, "A_FeatureError"), q.Interruption = "Feature Interrupted", q.FeatureInitializationError = "Unable to initialize A-Feature", q.FeatureProcessingError = "Error occurred during A-Feature processing", q.FeatureDefinitionError = "Unable to define A-Feature", q.FeatureExtensionError = "Unable to extend A-Feature";
var S = q;
function Ye(p = {}) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isAllowedForFeatureDefinition(e)) throw new S(S.FeatureDefinitionError, `A-Feature cannot be defined on the ${n} level`);
    let i2 = c.meta(e.constructor), s;
    switch (true) {
      case o.isEntityInstance(e):
        s = "a-component-features";
        break;
      case o.isContainerInstance(e):
        s = "a-container-features";
        break;
      case o.isComponentInstance(e):
        s = "a-component-features";
        break;
    }
    let _ = i2.get(s) || new d(), l2 = p.name || t, E2 = p.invoke || false;
    _.set(t, { name: `${e.constructor.name}.${l2}`, handler: t, invoke: E2, template: p.template && p.template.length ? p.template.map((h) => ({ ...h, before: h.before || "", after: h.after || "", behavior: h.behavior || "sync", throwOnError: true, override: h.override || "" })) : [] }), c.meta(e.constructor).set(s, _);
    let C2 = r.value;
    return r.value = function(...h) {
      if (E2) C2.apply(this, h);
      else return C2.apply(this, h);
      if (typeof this.call == "function" && E2) return this.call(l2);
    }, r;
  };
}
__name(Ye, "Ye");
a(Ye, "A_Feature_Define");
function we(p) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isAllowedForFeatureExtension(e)) throw new S(S.FeatureExtensionError, `A-Feature-Extend cannot be applied on the ${n} level`);
    let i2, s = "sync", _ = "", l2 = "", E2 = "", C2 = [], h = [], P2 = true, Y2;
    switch (true) {
      case o.isEntityInstance(e):
        Y2 = "a-component-extensions";
        break;
      case o.isContainerInstance(e):
        Y2 = "a-container-extensions";
        break;
      case o.isComponentInstance(e):
        Y2 = "a-component-extensions";
        break;
    }
    switch (true) {
      case o.isRegExp(p):
        i2 = p;
        break;
      case (!!p && typeof p == "object"):
        Array.isArray(p.scope) ? C2 = p.scope : p.scope && typeof p.scope == "object" && (Array.isArray(p.scope.include) && (C2 = p.scope.include), Array.isArray(p.scope.exclude) && (h = p.scope.exclude)), i2 = tt(p, C2, h, t), s = p.behavior || s, P2 = p.throwOnError !== void 0 ? p.throwOnError : P2, _ = o.isArray(p.before) ? new RegExp(`^${p.before.join("|").replace(/\./g, "\\.")}$`).source : p.before instanceof RegExp ? p.before.source : "", l2 = o.isArray(p.after) ? new RegExp(`^${p.after.join("|").replace(/\./g, "\\.")}$`).source : p.after instanceof RegExp ? p.after.source : "", E2 = o.isArray(p.override) ? new RegExp(`^${p.override.join("|").replace(/\./g, "\\.")}$`).source : p.override instanceof RegExp ? p.override.source : "";
        break;
      default:
        i2 = new RegExp(`^.*${t.replace(/\./g, "\\.")}$`);
        break;
    }
    let O = c.meta(e).get(Y2), ne2 = c.meta(e), fe2 = ne2.get(Y2) ? new d().from(ne2.get(Y2)) : new d();
    if (O && O.size() && O.has(t) && O.get(t).invoke) throw new S(S.FeatureExtensionError, `A-Feature-Extend cannot be used on the method "${t}" because it is already defined as a Feature with "invoke" set to true. Please remove the A-Feature-Extend decorator or set "invoke" to false in the A-Feature decorator.`);
    let oe2 = [...fe2.get(i2.source) || []], Je2 = oe2.findIndex((Ge) => Ge.handler === t), Ke = { name: i2.source, handler: t, behavior: s, before: _, after: l2, throwOnError: P2, override: E2 };
    Je2 !== -1 ? oe2[Je2] = Ke : oe2.push(Ke), oe2.push(), fe2.set(i2.source, oe2), c.meta(e).set(Y2, fe2);
  };
}
__name(we, "we");
a(we, "A_Feature_Extend");
function tt(p, e, t, r) {
  let n = e.length ? `(${e.map((_) => _.name).join("|")})` : ".*", i2 = t.length ? `(?!${t.map((_) => _.name).join("|")})` : "", s = p.scope ? `^${i2}${n}\\.${p.name || r}$` : `.*\\.${p.name || r}$`;
  return new RegExp(s);
}
__name(tt, "tt");
a(tt, "buildTargetRegexp");
var rt = ((s) => (s.PROCESSING = "PROCESSING", s.COMPLETED = "COMPLETED", s.FAILED = "FAILED", s.SKIPPED = "SKIPPED", s.INITIALIZED = "INITIALIZED", s.ABORTED = "ABORTED", s))(rt || {});
var _a21;
var le = (_a21 = class extends f {
  static get CompileError() {
    return "Unable to compile A-Stage";
  }
}, __name(_a21, "le"), _a21);
a(le, "A_StageError"), le.ArgumentsResolutionError = "A-Stage Arguments Resolution Error";
var k = le;
var _a22;
var ve = (_a22 = class {
  constructor(e, t) {
    this._status = "INITIALIZED";
    this._feature = e, this._definition = t;
  }
  get name() {
    return this.toString();
  }
  get definition() {
    return this._definition;
  }
  get status() {
    return this._status;
  }
  get feature() {
    return this._feature;
  }
  get isProcessed() {
    return this._status === "COMPLETED" || this._status === "FAILED" || this._status === "SKIPPED";
  }
  get error() {
    return this._error;
  }
  async getStepArgs(e, t) {
    let r;
    switch (true) {
      case o.isContainerInstance(t.component):
        r = t.component.constructor;
        break;
      case o.isString(t.component):
        r = e.resolveConstructor(t.component);
        break;
      default:
        r = t.component;
        break;
    }
    return Promise.all(c.meta(r).injections(t.handler).map(async (n) => {
      switch (true) {
        case o.isCallerConstructor(n.target):
          return this._feature.caller.component;
        case o.isFeatureConstructor(n.target):
          return this._feature;
        default: {
          let { target: i2, require: s, create: _, defaultArgs: l2, parent: E2, flat: C2 } = n, h, P2 = e;
          switch (true) {
            case C2: {
              h = P2.resolveFlat(i2);
              break;
            }
            case (E2 && typeof E2.layerOffset == "number"): {
              let Y2 = P2.parentOffset(E2.layerOffset);
              if (!Y2) throw new k(k.ArgumentsResolutionError, `Unable to resolve parent scope at layer offset ${E2.layerOffset} for argument ${u.getComponentName(n.target)} for stage ${this.name} in scope ${e.name}`);
              h = Y2.resolve(i2), P2 = Y2;
              break;
            }
            default: {
              h = P2.resolve(i2);
              break;
            }
          }
          if (_ && !h && o.isAllowedForDependencyDefaultCreation(i2)) {
            let Y2 = new i2(...l2);
            return P2.register(Y2), Y2;
          }
          if (s && !h) throw new k(k.ArgumentsResolutionError, `Unable to resolve required argument ${u.getComponentName(n.target)} for stage ${this.name} in scope ${e.name}`);
          return h;
        }
      }
    }));
  }
  getStepComponent(e, t) {
    let { component: r, handler: n } = t, i2;
    switch (true) {
      case o.isContainerInstance(r):
        i2 = r;
        break;
      case o.isString(r):
        i2 = e.resolve(r) || this.feature.scope.resolve(r);
        break;
      default:
        i2 = e.resolve(r) || this.feature.scope.resolve(r);
        break;
    }
    if (!i2) throw new k(k.CompileError, `Unable to resolve component ${typeof r == "string" ? r : r.name} from scope ${e.name}`);
    if (!i2[n]) throw new k(k.CompileError, `Handler ${n} not found in ${i2.constructor.name}`);
    return i2;
  }
  async callStepHandler(e, t) {
    let r = await this.getStepComponent(t, e), n = await this.getStepArgs(t, e);
    return await r[e.handler](...n);
  }
  skip() {
    this._status = "SKIPPED";
  }
  async process(e) {
    let t = o.isScopeInstance(e) ? e : this._feature.scope;
    return this._processed || (this._processed = new Promise(async (r, n) => {
      try {
        return this._status = "PROCESSING", this._definition.behavior === "sync" ? await this.callStepHandler(this._definition, t) : this.callStepHandler(this._definition, t), this.completed(), r();
      } catch (i2) {
        let s = new f(i2);
        return this.failed(s), this._definition.throwOnError ? r() : n(s);
      }
    })), this._processed;
  }
  completed() {
    this._status = "COMPLETED";
  }
  failed(e) {
    this._error = new f(e), this._status = "FAILED";
  }
  toJSON() {
    return { name: this.name, status: this.status };
  }
  toString() {
    return `A-Stage(${this._feature.name}::${this._definition.behavior}@${this._definition.handler})`;
  }
}, __name(_a22, "ve"), _a22);
a(ve, "A_Stage");
var se = ve;
var _a23;
var de = (_a23 = class extends f {
}, __name(_a23, "de"), _a23);
a(de, "A_StepManagerError"), de.CircularDependencyError = "A-StepManager Circular Dependency Error";
var _a24;
var Fe = (_a24 = class {
  constructor(e) {
    this._isBuilt = false;
    this.entities = this.prepareSteps(e), this.graph = /* @__PURE__ */ new Map(), this.visited = /* @__PURE__ */ new Set(), this.tempMark = /* @__PURE__ */ new Set(), this.sortedEntities = [];
  }
  prepareSteps(e) {
    return e.map((t) => ({ ...t, behavior: t.behavior || "sync", before: t.before || "", after: t.after || "", override: t.override || "", throwOnError: false }));
  }
  ID(e) {
    return `${typeof e.component == "string" ? e.component : e.component.name}.${e.handler}`;
  }
  buildGraph() {
    this._isBuilt || (this._isBuilt = true, this.entities = this.entities.filter((e, t, r) => !r.some((n) => n.override ? new RegExp(n.override).test(this.ID(e)) : false)), this.entities.forEach((e) => this.graph.set(this.ID(e), /* @__PURE__ */ new Set())), this.entities.forEach((e) => {
      let t = this.ID(e);
      e.before && this.matchEntities(t, e.before).forEach((n) => {
        this.graph.has(n) || this.graph.set(n, /* @__PURE__ */ new Set()), this.graph.get(n).add(t);
      }), e.after && this.matchEntities(t, e.after).forEach((n) => {
        this.graph.has(t) || this.graph.set(t, /* @__PURE__ */ new Set()), this.graph.get(t).add(n);
      });
    }));
  }
  matchEntities(e, t) {
    let r = new RegExp(t);
    return this.entities.filter((n) => r.test(this.ID(n)) && this.ID(n) !== e).map((n) => this.ID(n));
  }
  visit(e) {
    this.tempMark.has(e) || this.visited.has(e) || (this.tempMark.add(e), (this.graph.get(e) || []).forEach((t) => this.visit(t)), this.tempMark.delete(e), this.visited.add(e), this.sortedEntities.push(e));
  }
  toSortedArray() {
    return this.buildGraph(), this.entities.forEach((e) => {
      this.visited.has(this.ID(e)) || this.visit(this.ID(e));
    }), this.sortedEntities;
  }
  toStages(e) {
    return this.toSortedArray().map((r) => {
      let n = this.entities.find((i2) => this.ID(i2) === r);
      return new se(e, n);
    });
  }
}, __name(_a24, "Fe"), _a24);
a(Fe, "A_StepsManager");
var re = Fe;
var _a25;
var ae = (_a25 = class {
  constructor(e) {
    this._stages = [];
    this._index = 0;
    this._state = "INITIALIZED";
    this.validateParams(e), this.getInitializer(e).call(this, e);
  }
  static get Define() {
    return Ye;
  }
  static get Extend() {
    return we;
  }
  get name() {
    return this._name;
  }
  get error() {
    return this._error;
  }
  get state() {
    return this._state;
  }
  get index() {
    return this._index;
  }
  get stage() {
    return this._current;
  }
  get caller() {
    return this._caller;
  }
  get scope() {
    return c.scope(this);
  }
  get size() {
    return this._stages.length;
  }
  get isDone() {
    return !this.stage || this._index >= this._stages.length;
  }
  get isProcessed() {
    return this.state === "COMPLETED" || this.state === "FAILED" || this.state === "INTERRUPTED";
  }
  [Symbol.iterator]() {
    return { next: a(() => this.isDone ? (this._current = void 0, { value: void 0, done: true }) : (this._current = this._stages[this._index], this._index++, { value: this._current, done: false }), "next") };
  }
  validateParams(e) {
    if (!e || typeof e != "object") throw new S(S.FeatureInitializationError, `Invalid A-Feature initialization parameters of type: ${typeof e} with value: ${JSON.stringify(e).slice(0, 100)}...`);
  }
  getInitializer(e) {
    switch (true) {
      case !("template" in e):
        return this.fromComponent;
      case "template" in e:
        return this.fromTemplate;
      default:
        throw new S(S.FeatureInitializationError, `Invalid A-Feature initialization parameters of type: ${typeof e} with value: ${JSON.stringify(e).slice(0, 100)}...`);
    }
  }
  fromTemplate(e) {
    if (!e.template || !Array.isArray(e.template)) throw new S(S.FeatureInitializationError, `Invalid A-Feature template provided of type: ${typeof e.template} with value: ${JSON.stringify(e.template).slice(0, 100)}...`);
    if (!e.component && (!e.scope || !(e.scope instanceof x))) throw new S(S.FeatureInitializationError, `Invalid A-Feature scope provided of type: ${typeof e.scope} with value: ${JSON.stringify(e.scope).slice(0, 100)}...`);
    this._name = e.name;
    let t, r = e.scope;
    try {
      e.component && (t = c.scope(e.component));
    } catch (i2) {
      if (!r) throw i2;
    }
    t && r && !r.isInheritedFrom(t) && r.inherit(t), this._caller = new V(e.component || new F()), c.allocate(this).inherit(t || r), this._SM = new re(e.template), this._stages = this._SM.toStages(this), this._current = this._stages[0];
  }
  fromComponent(e) {
    if (!e.component || !o.isAllowedForFeatureDefinition(e.component)) throw new S(S.FeatureInitializationError, `Invalid A-Feature component provided of type: ${typeof e.component} with value: ${JSON.stringify(e.component).slice(0, 100)}...`);
    this._name = e.name;
    let t, r = e.scope;
    try {
      t = c.scope(e.component);
    } catch (s) {
      if (!r) throw s;
    }
    t && r && !r.isInheritedFrom(t) && r.inherit(t), this._caller = new V(e.component);
    let n = c.allocate(this);
    n.inherit(t || r);
    let i2 = c.featureTemplate(this._name, this._caller.component, n);
    this._SM = new re(i2), this._stages = this._SM.toStages(this), this._current = this._stages[0];
  }
  async process(e) {
    try {
      if (this.isProcessed) return;
      this._state = "PROCESSING";
      for (let t of this) await t.process(e);
      return await this.completed();
    } catch (t) {
      return await this.failed(new S({ title: S.FeatureProcessingError, description: `An error occurred while processing the A-Feature: ${this.name}. Failed at stage: ${this.stage?.name || "N/A"}.`, stage: this.stage, originalError: t }));
    }
  }
  next(e) {
    let t = this._stages.indexOf(e);
    this._index = t + 1, this._index >= this._stages.length && this.completed();
  }
  async completed() {
    this.isProcessed || (this._state = "COMPLETED", this.scope.destroy());
  }
  async failed(e) {
    if (!this.isProcessed) throw this._state = "FAILED", this._error = e, this.scope.destroy(), this._error;
  }
  async interrupt(e) {
    if (!this.isProcessed) {
      switch (this._state = "INTERRUPTED", true) {
        case o.isString(e):
          this._error = new S(S.Interruption, e);
          break;
        case o.isErrorInstance(e):
          this._error = new S({ code: S.Interruption, title: e.title, description: e.description, stage: this.stage, originalError: e });
          break;
      }
      this.scope.destroy();
    }
  }
  chain(e, t, r) {
    let n, i2;
    e instanceof _a25 ? (n = e, i2 = t instanceof x ? t : void 0) : (n = new _a25({ name: t, component: e }), i2 = r instanceof x ? r : void 0);
    let s = i2 || this.scope;
    return n._caller = this._caller, n.process(s);
  }
  toString() {
    return `A-Feature(${this.caller.component?.constructor?.name || "Unknown"}::${this.name})`;
  }
}, __name(_a25, "ae"), _a25);
a(ae, "A_Feature");
var v = ae;
var _a26;
var xe = (_a26 = class {
  async call(e, t) {
    return await new v({ name: e, component: this }).process(t);
  }
}, __name(_a26, "xe"), _a26);
a(xe, "A_Component");
var F = xe;
var _a27;
var g = (_a27 = class extends f {
}, __name(_a27, "g"), _a27);
a(g, "A_ContextError"), g.NotAllowedForScopeAllocationError = "Component is not allowed for scope allocation", g.ComponentAlreadyHasScopeAllocatedError = "Component already has scope allocated", g.InvalidMetaParameterError = "Invalid parameter provided to get meta", g.InvalidScopeParameterError = "Invalid parameter provided to get scope", g.ScopeNotFoundError = "Scope not found", g.InvalidFeatureParameterError = "Invalid parameter provided to get feature", g.InvalidFeatureDefinitionParameterError = "Invalid parameter provided to define feature", g.InvalidFeatureTemplateParameterError = "Invalid parameter provided to get feature template", g.InvalidFeatureExtensionParameterError = "Invalid parameter provided to extend feature", g.InvalidAbstractionParameterError = "Invalid parameter provided to get abstraction", g.InvalidAbstractionDefinitionParameterError = "Invalid parameter provided to define abstraction", g.InvalidAbstractionTemplateParameterError = "Invalid parameter provided to get abstraction template", g.InvalidAbstractionExtensionParameterError = "Invalid parameter provided to extend abstraction", g.InvalidInjectionParameterError = "Invalid parameter provided to get injections", g.InvalidExtensionParameterError = "Invalid parameter provided to get extensions", g.InvalidRegisterParameterError = "Invalid parameter provided to register component", g.InvalidComponentParameterError = "Invalid component provided", g.ComponentNotRegisteredError = "Component not registered in the context", g.InvalidDeregisterParameterError = "Invalid parameter provided to deregister component";
var m = g;
var _a28;
var D = (_a28 = class {
  constructor() {
    this._registry = /* @__PURE__ */ new WeakMap();
    this._scopeIssuers = /* @__PURE__ */ new WeakMap();
    this._scopeStorage = /* @__PURE__ */ new WeakMap();
    this._metaStorage = /* @__PURE__ */ new Map();
    let e = "root";
    _a28.environment === "server" && (e = process.env[N.A_CONCEPT_ROOT_SCOPE] || "root"), _a28.environment === "browser" && (e = window[N.A_CONCEPT_ROOT_SCOPE] || "root"), this._root = new x({ name: e });
  }
  static get concept() {
    return process.env[N.A_CONCEPT_NAME] || "a-concept";
  }
  static get root() {
    return this.getInstance()._root;
  }
  static get environment() {
    let e = "browser";
    try {
      e = window.location ? "browser" : "server";
    } catch {
      e = "server";
    }
    return e;
  }
  static getInstance() {
    return _a28._instance || (_a28._instance = new _a28()), _a28._instance;
  }
  static register(e, t) {
    let r = u.getComponentName(t), n = this.getInstance();
    if (!t) throw new m(m.InvalidRegisterParameterError, "Unable to register component. Component cannot be null or undefined.");
    if (!e) throw new m(m.InvalidRegisterParameterError, "Unable to register component. Scope cannot be null or undefined.");
    if (!this.isAllowedToBeRegistered(t)) throw new m(m.NotAllowedForScopeAllocationError, `Component ${r} is not allowed for scope allocation.`);
    return n._scopeStorage.set(t, e), e;
  }
  static deregister(e) {
    let t = u.getComponentName(e), r = this.getInstance();
    if (!e) throw new m(m.InvalidDeregisterParameterError, "Unable to deregister component. Component cannot be null or undefined.");
    if (!r._scopeStorage.has(e)) throw new m(m.ComponentNotRegisteredError, `Unable to deregister component. Component ${t} is not registered.`);
    r._scopeStorage.delete(e);
  }
  static allocate(e, t) {
    let r = u.getComponentName(e);
    if (!this.isAllowedForScopeAllocation(e)) throw new m(m.NotAllowedForScopeAllocationError, `Component of type ${r} is not allowed for scope allocation. Only A_Container, A_Feature are allowed.`);
    let n = this.getInstance();
    if (n._registry.has(e)) throw new m(m.ComponentAlreadyHasScopeAllocatedError, `Component ${r} already has a scope allocated.`);
    let i2 = o.isScopeInstance(t) ? t : new x(t || { name: r + "-scope" }, t);
    return i2.isInheritedFrom(_a28.root) || i2.inherit(_a28.root), n._registry.set(e, i2), n._scopeIssuers.set(i2, e), i2;
  }
  static deallocate(e) {
    let t = this.getInstance(), r = o.isScopeInstance(e) ? e : t._registry.get(e);
    if (!r) return;
    let n = o.isComponentInstance(e) ? e : this.issuer(r);
    n && t._registry.delete(n), r && t._scopeIssuers.delete(r);
  }
  static meta(e) {
    let t = u.getComponentName(e), r = this.getInstance();
    if (!e) throw new m(m.InvalidMetaParameterError, "Invalid parameter provided to get meta. Parameter cannot be null or undefined.");
    if (!(this.isAllowedForMeta(e) || this.isAllowedForMetaConstructor(e) || o.isString(e) || o.isFunction(e))) throw new m(m.InvalidMetaParameterError, `Invalid parameter provided to get meta. Component of type ${t} is not allowed for meta storage. Only A_Container, A_Component and A_Entity are allowed.`);
    let n, i2;
    switch (true) {
      case o.isContainerInstance(e): {
        n = e.constructor, i2 = J;
        break;
      }
      case o.isContainerConstructor(e): {
        n = e, i2 = J;
        break;
      }
      case o.isComponentInstance(e): {
        n = e.constructor, i2 = $;
        break;
      }
      case o.isComponentConstructor(e): {
        n = e, i2 = $;
        break;
      }
      case o.isEntityInstance(e): {
        n = e.constructor, i2 = $;
        break;
      }
      case o.isEntityConstructor(e): {
        n = e, i2 = W;
        break;
      }
      case typeof e == "string": {
        let s = Array.from(r._metaStorage).find(([_]) => _.name === e || _.name === y.toKebabCase(e) || _.name === y.toPascalCase(e));
        if (!(s && s.length)) throw new m(m.InvalidMetaParameterError, `Invalid parameter provided to get meta. Component with name ${e} not found in the meta storage.`);
        n = s[0], i2 = $;
        break;
      }
      default: {
        n = e, i2 = d;
        break;
      }
    }
    if (!r._metaStorage.has(n)) {
      let s = r._metaStorage.get(Object.getPrototypeOf(n)) || new i2();
      r._metaStorage.set(n, new i2().from(s));
    }
    return r._metaStorage.get(n);
  }
  static issuer(e) {
    let t = this.getInstance();
    if (!e) throw new m(m.InvalidComponentParameterError, "Invalid parameter provided to get scope issuer. Parameter cannot be null or undefined.");
    return t._scopeIssuers.get(e);
  }
  static scope(e) {
    let t = e?.constructor?.name || String(e), r = this.getInstance();
    if (!e) throw new m(m.InvalidScopeParameterError, "Invalid parameter provided to get scope. Parameter cannot be null or undefined.");
    if (!this.isAllowedForScopeAllocation(e) && !this.isAllowedToBeRegistered(e)) throw new m(m.InvalidScopeParameterError, `Invalid parameter provided to get scope. Component of type ${t} is not allowed for scope allocation.`);
    switch (true) {
      case this.isAllowedForScopeAllocation(e):
        if (!r._registry.has(e)) throw new m(m.ScopeNotFoundError, `Invalid parameter provided to get scope. Component of type ${t} does not have a scope allocated. Make sure to allocate a scope using A_Context.allocate() method before trying to get the scope.`);
        return r._registry.get(e);
      case this.isAllowedToBeRegistered(e):
        if (!r._scopeStorage.has(e)) throw new m(m.ScopeNotFoundError, `Invalid parameter provided to get scope. Component of type ${t} does not have a scope registered. Make sure to register the component using A_Context.register() method before trying to get the scope.`);
        return r._scopeStorage.get(e);
      default:
        throw new m(m.InvalidScopeParameterError, `Invalid parameter provided to get scope. Component of type ${t} is not allowed to be registered.`);
    }
  }
  static featureTemplate(e, t, r = this.scope(t)) {
    let n = u.getComponentName(t);
    if (!t) throw new m(m.InvalidFeatureTemplateParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new m(m.InvalidFeatureTemplateParameterError, "Unable to get feature template. Feature name cannot be null or undefined.");
    if (!o.isAllowedForFeatureDefinition(t)) throw new m(m.InvalidFeatureTemplateParameterError, `Unable to get feature template. Component of type ${n} is not allowed for feature definition.`);
    return [...this.featureDefinition(e, t), ...this.featureExtensions(e, t, r)];
  }
  static featureExtensions(e, t, r) {
    let n = this.getInstance(), i2 = u.getComponentName(t);
    if (!t) throw new m(m.InvalidFeatureExtensionParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new m(m.InvalidFeatureExtensionParameterError, "Unable to get feature template. Feature name cannot be null or undefined.");
    if (!o.isAllowedForFeatureDefinition(t)) throw new m(m.InvalidFeatureExtensionParameterError, `Unable to get feature template. Component of type ${i2} is not allowed for feature definition.`);
    let s = u.getClassInheritanceChain(t).filter((l2) => l2 !== F && l2 !== L && l2 !== M).map((l2) => `${l2.name}.${e}`), _ = [];
    for (let l2 of s) for (let [E2, C2] of n._metaStorage) r.has(E2) && (o.isComponentMetaInstance(C2) || o.isContainerMetaInstance(C2)) && C2.extensions(l2).forEach((h) => {
      _.push({ component: E2, ...h });
    });
    return n.filterToMostDerived(r, _);
  }
  filterToMostDerived(e, t) {
    return t.filter((r) => {
      let n = typeof r.component == "string" ? e.resolveConstructor(r.component) : o.isContainerInstance(r.component) ? r.component.constructor : r.component;
      return !t.some((s) => {
        if (s === r) return false;
        let _ = typeof s.component == "string" ? e.resolveConstructor(s.component) : o.isContainerInstance(s.component) ? s.component.constructor : s.component;
        return n.prototype.isPrototypeOf(_.prototype);
      });
    });
  }
  static featureDefinition(e, t) {
    let r;
    if (!e) throw new m(m.InvalidFeatureTemplateParameterError, "Unable to get feature template. Feature name cannot be null or undefined.");
    if (!t) throw new m(m.InvalidFeatureTemplateParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    switch (true) {
      case t instanceof M:
        r = "a-component-features";
        break;
      case t instanceof L:
        r = "a-container-features";
        break;
      case t instanceof F:
        r = "a-component-features";
        break;
      default:
        throw new m(m.InvalidFeatureTemplateParameterError, `A-Feature cannot be defined on the ${t} level`);
    }
    return [...this.meta(t)?.get(r)?.get(e)?.template || []];
  }
  static abstractionTemplate(e, t) {
    let r = u.getComponentName(t);
    if (!t) throw new m(m.InvalidAbstractionTemplateParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new m(m.InvalidAbstractionTemplateParameterError, "Unable to get feature template. Abstraction stage cannot be null or undefined.");
    if (!o.isAllowedForAbstractionDefinition(t)) throw new m(m.InvalidAbstractionTemplateParameterError, `Unable to get feature template. Component of type ${r} is not allowed for feature definition.`);
    return [...this.abstractionExtensions(e, t)];
  }
  static abstractionExtensions(e, t) {
    let r = this.getInstance(), n = u.getComponentName(t);
    if (!t) throw new m(m.InvalidAbstractionExtensionParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new m(m.InvalidAbstractionExtensionParameterError, "Unable to get feature template. Abstraction stage cannot be null or undefined.");
    if (!o.isAllowedForAbstractionDefinition(t)) throw new m(m.InvalidAbstractionExtensionParameterError, `Unable to get feature template. Component of type ${n} is not allowed for feature definition.`);
    let i2 = [], s = this.scope(t);
    for (let [_, l2] of r._metaStorage) s.has(_) && (o.isComponentMetaInstance(l2) || o.isContainerMetaInstance(l2)) && l2.abstractions(e).forEach((E2) => {
      i2.push({ component: _, ...E2 });
    });
    return r.filterToMostDerived(s, i2);
  }
  static reset() {
    let e = _a28.getInstance();
    e._registry = /* @__PURE__ */ new WeakMap();
    let t = "root";
    _a28.environment === "server" && (t = process.env[N.A_CONCEPT_ROOT_SCOPE] || "root"), _a28.environment === "browser" && (t = window[N.A_CONCEPT_ROOT_SCOPE] || "root"), e._root = new x({ name: t });
  }
  static isAllowedForScopeAllocation(e) {
    return o.isContainerInstance(e) || o.isFeatureInstance(e);
  }
  static isAllowedToBeRegistered(e) {
    return o.isEntityInstance(e) || o.isComponentInstance(e) || o.isFragmentInstance(e) || o.isErrorInstance(e);
  }
  static isAllowedForMeta(e) {
    return o.isContainerInstance(e) || o.isComponentInstance(e) || o.isEntityInstance(e);
  }
  static isAllowedForMetaConstructor(e) {
    return o.isContainerConstructor(e) || o.isComponentConstructor(e) || o.isEntityConstructor(e);
  }
}, __name(_a28, "D"), _a28);
a(D, "A_Context");
var c = D;
var _a29;
var Ae = (_a29 = class extends f {
}, __name(_a29, "Ae"), _a29);
a(Ae, "A_AbstractionError"), Ae.AbstractionExtensionError = "Unable to extend abstraction execution";
var G = Ae;
function De(p, e = {}) {
  return function(t, r, n) {
    let i2 = u.getComponentName(t);
    if (!p) throw new G(G.AbstractionExtensionError, `Abstraction name must be provided to extend abstraction for '${i2}'.`);
    if (!o.isConstructorAvailableForAbstraction(t)) throw new G(G.AbstractionExtensionError, `Unable to extend Abstraction '${p}' for '${i2}'. Only A-Containers and A-Components can extend Abstractions.`);
    let s, _ = c.meta(t);
    switch (true) {
      case (o.isContainerConstructor(t) || o.isContainerInstance(t)):
        s = "a-container-abstractions";
        break;
      case (o.isComponentConstructor(t) || o.isComponentInstance(t)):
        s = "a-component-abstractions";
        break;
    }
    let l2 = `CONCEPT_ABSTRACTION::${p}`, E2 = _.get(s) ? new d().from(_.get(s)) : new d(), C2 = [...E2.get(l2) || []], h = C2.findIndex((Y2) => Y2.handler === r), P2 = { name: l2, handler: r, behavior: e.behavior || "sync", throwOnError: e.throwOnError !== void 0 ? e.throwOnError : true, before: o.isArray(e.before) ? new RegExp(`^${e.before.join("|").replace(/\./g, "\\.")}$`).source : e.before instanceof RegExp ? e.before.source : "", after: o.isArray(e.after) ? new RegExp(`^${e.after.join("|").replace(/\./g, "\\.")}$`).source : e.after instanceof RegExp ? e.after.source : "", override: o.isArray(e.override) ? new RegExp(`^${e.override.join("|").replace(/\./g, "\\.")}$`).source : e.after instanceof RegExp ? e.after.source : "" };
    h !== -1 ? C2[h] = P2 : C2.push(P2), E2.set(l2, C2), c.meta(t).set(s, E2);
  };
}
__name(De, "De");
a(De, "A_Abstraction_Extend");
var _a30;
var Oe = (_a30 = class {
  constructor(e) {
    this._features = [];
    this._index = 0;
    this._name = e.name, this._features = e.containers.map((t) => {
      let r = c.abstractionTemplate(this._name, t);
      return new v({ name: this._name, component: t, template: r });
    }), this._current = this._features[0];
  }
  static get Extend() {
    return De;
  }
  get name() {
    return this._name;
  }
  get feature() {
    return this._current;
  }
  get isDone() {
    return !this.feature || this._index >= this._features.length;
  }
  [Symbol.iterator]() {
    return { next: a(() => this.isDone ? (this._current = void 0, { value: void 0, done: true }) : (this._current = this._features[this._index], { value: this._current, done: false }), "next") };
  }
  next(e) {
    if (this._index >= this._features.length) return;
    let t = this._features.indexOf(e);
    this._index = t + 1;
  }
  async process(e) {
    if (!this.isDone) for (let t of this._features) await t.process(e);
  }
}, __name(_a30, "Oe"), _a30);
a(Oe, "A_Abstraction");
var w = Oe;
var nt = ((_) => (_.Run = "run", _.Build = "build", _.Publish = "publish", _.Deploy = "deploy", _.Load = "load", _.Start = "start", _.Stop = "stop", _))(nt || {});
var ot = ((e) => (e.LIFECYCLE = "a-component-extensions", e))(ot || {});
var _a31;
var Re = (_a31 = class {
  constructor(e) {
    this.props = e;
    this._name = e.name || c.root.name, e.components && e.components.length && e.components.forEach((t) => this.scope.register(t)), e.fragments && e.fragments.length && e.fragments.forEach((t) => this.scope.register(t)), e.entities && e.entities.length && e.entities.forEach((t) => this.scope.register(t)), this._containers = e.containers || [];
  }
  static Load(e) {
    return w.Extend("load", e);
  }
  static Publish(e) {
    return w.Extend("publish");
  }
  static Deploy(e) {
    return w.Extend("deploy", e);
  }
  static Build(e) {
    return w.Extend("build", e);
  }
  static Run(e) {
    return w.Extend("run", e);
  }
  static Start(e) {
    return w.Extend("start", e);
  }
  static Stop(e) {
    return w.Extend("stop", e);
  }
  get name() {
    return c.root.name;
  }
  get scope() {
    return c.root;
  }
  get register() {
    return this.scope.register.bind(this.scope);
  }
  get resolve() {
    return this.scope.resolve.bind(this.scope);
  }
  async load(e) {
    await new w({ name: "load", containers: this._containers }).process(e);
  }
  async run(e) {
    await new w({ name: "run", containers: this._containers }).process(e);
  }
  async start(e) {
    await new w({ name: "start", containers: this._containers }).process(e);
  }
  async stop(e) {
    await new w({ name: "stop", containers: this._containers }).process(e);
  }
  async build(e) {
    await new w({ name: "build", containers: this._containers }).process(e);
  }
  async deploy(e) {
    await new w({ name: "deploy", containers: this._containers }).process(e);
  }
  async publish(e) {
    await new w({ name: "publish", containers: this._containers }).process(e);
  }
  async call(e, t) {
    return await new v({ name: e, component: t }).process();
  }
}, __name(_a31, "Re"), _a31);
a(Re, "A_Concept");
var Ne = Re;
var _a32;
var ke = (_a32 = class extends d {
  constructor(t) {
    super();
    this.containers = t;
  }
}, __name(_a32, "ke"), _a32);
a(ke, "A_ConceptMeta");
var _a33;
var X = (_a33 = class extends f {
}, __name(_a33, "X"), _a33);
a(X, "A_DependencyError"), X.InvalidDependencyTarget = "Invalid Dependency Target", X.InvalidLoadTarget = "Invalid Load Target", X.InvalidLoadPath = "Invalid Load Path", X.InvalidDefaultTarget = "Invalid Default Target";
var b = X;
function je(...p) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isTargetAvailableForInjection(e)) throw new b(b.InvalidDefaultTarget, `A-Default cannot be used on the target of type ${typeof e} (${n})`);
    let i2 = t ? String(t) : "constructor", s;
    switch (true) {
      case (o.isComponentConstructor(e) || o.isComponentInstance(e)):
        s = "a-component-injections";
        break;
      case o.isContainerInstance(e):
        s = "a-container-injections";
        break;
    }
    let _ = c.meta(e).get(s) || new d(), l2 = _.get(i2) || [];
    l2[r] = { ...l2[r] || {}, defaultArgs: p, create: true }, _.set(i2, l2), c.meta(e).set(s, _);
  };
}
__name(je, "je");
a(je, "A_Dependency_Default");
function Ve() {
  return function(p, e, t) {
    let r = u.getComponentName(p);
    if (!o.isTargetAvailableForInjection(p)) throw new b(b.InvalidDependencyTarget, `A-Dependency cannot be used on the target of type ${typeof p} (${r})`);
    let n = e ? String(e) : "constructor", i2;
    switch (true) {
      case (o.isComponentConstructor(p) || o.isComponentInstance(p)):
        i2 = "a-component-injections";
        break;
      case o.isContainerInstance(p):
        i2 = "a-container-injections";
        break;
    }
    let s = c.meta(p).get(i2) || new d(), _ = s.get(n) || [];
    _[t] = { ..._[t] || {}, flat: true }, s.set(n, _), c.meta(p).set(i2, s);
  };
}
__name(Ve, "Ve");
a(Ve, "A_Dependency_Flat");
function $e(p) {
  if (!p || typeof p != "string") throw new b(b.InvalidLoadPath, "A-Load decorator requires a valid path string to the dependency");
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isTargetAvailableForInjection(e)) throw new b(b.InvalidLoadTarget, `A-Load cannot be used on the target of type ${typeof e} (${n})`);
    let i2 = t ? String(t) : "constructor", s;
    switch (true) {
      case (o.isComponentConstructor(e) || o.isComponentInstance(e)):
        s = "a-component-injections";
        break;
      case o.isContainerInstance(e):
        s = "a-container-injections";
        break;
    }
    let _ = c.meta(e).get(s) || new d(), l2 = _.get(i2) || [];
    l2[r] = { ...l2[r] || {}, load: p }, _.set(i2, l2), c.meta(e).set(s, _);
  };
}
__name($e, "$e");
a($e, "A_Dependency_Load");
function qe(p = -1) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isTargetAvailableForInjection(e)) throw new b(b.InvalidDependencyTarget, `A-Dependency cannot be used on the target of type ${typeof e} (${n})`);
    let i2 = t ? String(t) : "constructor", s;
    switch (true) {
      case (o.isComponentConstructor(e) || o.isComponentInstance(e)):
        s = "a-component-injections";
        break;
      case o.isContainerInstance(e):
        s = "a-container-injections";
        break;
    }
    let _ = c.meta(e).get(s) || new d(), l2 = _.get(i2) || [];
    l2[r] = { ...l2[r] || {}, parent: { layerOffset: p } }, _.set(i2, l2), c.meta(e).set(s, _);
  };
}
__name(qe, "qe");
a(qe, "A_Dependency_Parent");
function Le() {
  return function(p, e, t) {
    let r = u.getComponentName(p);
    if (!o.isTargetAvailableForInjection(p)) throw new b(b.InvalidDependencyTarget, `A-Dependency cannot be used on the target of type ${typeof p} (${r})`);
    let n = e ? String(e) : "constructor", i2;
    switch (true) {
      case (o.isComponentConstructor(p) || o.isComponentInstance(p)):
        i2 = "a-component-injections";
        break;
      case o.isContainerInstance(p):
        i2 = "a-container-injections";
        break;
    }
    let s = c.meta(p).get(i2) || new d(), _ = s.get(n) || [];
    _[t] = { ..._[t] || {}, require: true }, s.set(n, _), c.meta(p).set(i2, s);
  };
}
__name(Le, "Le");
a(Le, "A_Dependency_Require");
var _a34;
var Ue = (_a34 = class {
  static get Required() {
    return Le;
  }
  static get Loaded() {
    return $e;
  }
  static get Default() {
    return je;
  }
  static get Parent() {
    return qe;
  }
  static get Flat() {
    return Ve;
  }
  constructor(e) {
    this._name = e;
  }
  get name() {
    return this._name;
  }
}, __name(_a34, "Ue"), _a34);
a(Ue, "A_Dependency");
var ze = Ue;
var _a35;
var _e = (_a35 = class extends f {
}, __name(_a35, "_e"), _a35);
a(_e, "A_InjectError"), _e.InvalidInjectionTarget = "Invalid target for A-Inject decorator", _e.MissingInjectionTarget = "Missing target for A-Inject decorator";
var Z = _e;
function it(p, e) {
  if (!p) throw new Z(Z.MissingInjectionTarget, "A-Inject decorator is missing the target to inject");
  return function(t, r, n) {
    let i2 = u.getComponentName(t);
    if (!o.isTargetAvailableForInjection(t)) throw new Z(Z.InvalidInjectionTarget, `A-Inject cannot be used on the target of type ${typeof t} (${i2})`);
    let s = r ? String(r) : "constructor", _;
    switch (true) {
      case (o.isComponentConstructor(t) || o.isComponentInstance(t)):
        _ = "a-component-injections";
        break;
      case o.isContainerInstance(t):
        _ = "a-container-injections";
        break;
      case o.isEntityInstance(t):
        _ = "a-component-injections";
        break;
    }
    let l2 = c.meta(t).get(_) || new d(), E2 = l2.get(s) || [];
    E2[n] = { target: p, instructions: e }, l2.set(s, E2), c.meta(t).set(_, l2);
  };
}
__name(it, "it");
a(it, "A_Inject");

// node_modules/@adaas/a-utils/dist/index.mjs
var wt = Object.defineProperty;
var Yt = Object.getOwnPropertyDescriptor;
var i = /* @__PURE__ */ __name((j2, t) => wt(j2, "name", { value: t, configurable: true }), "i");
var c2 = /* @__PURE__ */ __name((j2, t, e, r) => {
  for (var o2 = r > 1 ? void 0 : r ? Yt(t, e) : t, n = j2.length - 1, s; n >= 0; n--) (s = j2[n]) && (o2 = (r ? s(t, e, o2) : s(o2)) || o2);
  return r && o2 && wt(t, e, o2), o2;
}, "c");
var l = /* @__PURE__ */ __name((j2, t) => (e, r) => t(e, r, j2), "l");
var _a36;
var $e2 = (_a36 = class extends B {
  constructor(t, e) {
    super({ name: t }), this._meta = new d();
    for (let r in e) this._meta.set(r, e[r]);
  }
  [Symbol.iterator]() {
    return this._meta[Symbol.iterator]();
  }
  get meta() {
    return this._meta;
  }
  get(t) {
    return this._meta.get(t);
  }
  set(t, e) {
    this._meta.set(t, e);
  }
  has(t) {
    return this._meta.has(t);
  }
  drop(t) {
    this._meta.delete(t);
  }
  clear() {
    this._meta.clear();
  }
  toRaw() {
    return this._meta.toJSON();
  }
  toJSON() {
    return { name: this.name, ...this.meta.toJSON() };
  }
}, __name(_a36, "$e"), _a36);
i($e2, "A_ExecutionContext");
var b2 = $e2;
var _a37;
var Ue2 = (_a37 = class extends b2 {
  constructor(t, e) {
    super("operation-context"), this.meta.set("name", t), this.meta.set("params", e || {});
  }
  get name() {
    return this._meta.get("name") || this._name;
  }
  get result() {
    return this._meta.get("result");
  }
  get error() {
    return this._meta.get("error");
  }
  get params() {
    return this._meta.get("params") || {};
  }
  fail(t) {
    this._meta.set("error", t);
  }
  succeed(t) {
    this._meta.set("result", t);
  }
  toJSON() {
    return { name: this.name, params: this.params, result: this.result || {}, error: this.error?.toJSON() };
  }
}, __name(_a37, "Ue"), _a37);
i(Ue2, "A_OperationContext");
var u2 = Ue2;
var _a38;
var ye2 = (_a38 = class extends f {
  constructor(t, e) {
    o.isString(e) ? super(t, e) : super(t), e instanceof u2 && (this._context = e);
  }
  get context() {
    return this._context;
  }
}, __name(_a38, "ye"), _a38);
i(ye2, "A_ChannelError"), ye2.MethodNotImplemented = "A-Channel Method Not Implemented";
var q2 = ye2;
var Ht = ((m2) => (m2.onTimeout = "_A_Channel_onTimeout", m2.onRetry = "_A_Channel_onRetry", m2.onCircuitBreakerOpen = "_A_Channel_onCircuitBreakerOpen", m2.onCache = "_A_Channel_onCache", m2.onConnect = "_A_Channel_onConnect", m2.onDisconnect = "_A_Channel_onDisconnect", m2.onBeforeRequest = "_A_Channel_onBeforeRequest", m2.onRequest = "_A_Channel_onRequest", m2.onAfterRequest = "_A_Channel_onAfterRequest", m2.onError = "_A_Channel_onError", m2.onSend = "_A_Channel_onSend", m2.onConsume = "_A_Channel_onConsume", m2))(Ht || {});
var jt = ((r) => (r.PENDING = "PENDING", r.SUCCESS = "SUCCESS", r.FAILED = "FAILED", r))(jt || {});
var _a39;
var Ye2 = (_a39 = class extends u2 {
  constructor(t) {
    super("request", t);
  }
  get status() {
    return this.result?.status;
  }
  get data() {
    return this.result?.data;
  }
  succeed(t) {
    let e = this.result;
    super.succeed({ ...e, data: t, status: "SUCCESS" });
  }
}, __name(_a39, "Ye"), _a39);
i(Ye2, "A_ChannelRequest");
var le2 = Ye2;
var _a40;
var M2 = (_a40 = class extends F {
  constructor() {
    super();
    this._processing = false;
    this._cache = /* @__PURE__ */ new Map();
  }
  get processing() {
    return this._processing;
  }
  get initialize() {
    return this._initialized || (this._initialized = this.connect()), this._initialized;
  }
  async onConnect(...e) {
  }
  async onDisconnect(...e) {
  }
  async onBeforeRequest(...e) {
  }
  async onRequest(...e) {
  }
  async onAfterRequest(...e) {
  }
  async onError(...e) {
  }
  async onSend(...e) {
  }
  async connect() {
    await this.call("_A_Channel_onConnect");
  }
  async disconnect() {
    await this.call("_A_Channel_onDisconnect");
  }
  async request(e) {
    await this.initialize, this._processing = true;
    let r = new x({ name: `a-channel@scope:request:${K.generateTimeId()}` }).inherit(c.scope(this)), o2 = new le2(e);
    try {
      return r.register(o2), await this.call("_A_Channel_onBeforeRequest", r), await this.call("_A_Channel_onRequest", r), await this.call("_A_Channel_onAfterRequest", r), this._processing = false, o2;
    } catch (n) {
      this._processing = false;
      let s = new q2(n);
      throw o2.fail(s), r.register(s), await this.call("_A_Channel_onError", r), r.destroy(), s;
    }
  }
  async send(e) {
    await this.initialize, this._processing = true;
    let r = new x({ name: `a-channel@scope:send:${K.generateTimeId()}` }).inherit(c.scope(this)), o2 = new u2("send", e);
    try {
      r.inherit(c.scope(this)), r.register(o2), await this.call("_A_Channel_onSend", r), this._processing = false;
    } catch (n) {
      this._processing = false;
      let s = new q2(n);
      r.register(s), o2.fail(s), await this.call("_A_Channel_onError", r), r.destroy();
    }
  }
  async consume() {
    await this.initialize, this._processing = true;
    let e = new x({ name: `a-channel@scope:consume:${K.generateTimeId()}` }).inherit(c.scope(this)), r = new u2("consume", {});
    try {
      return e.inherit(c.scope(this)), e.register(r), await this.call("_A_Channel_onConsume", e), this._processing = false, r;
    } catch (o2) {
      this._processing = false;
      let n = new q2(o2);
      return r.fail(n), await this.call("_A_Channel_onError", e), r;
    }
  }
}, __name(_a40, "M"), _a40);
i(M2, "A_Channel"), c2([v.Extend({ name: "_A_Channel_onConnect" })], M2.prototype, "onConnect", 1), c2([v.Extend({ name: "_A_Channel_onDisconnect" })], M2.prototype, "onDisconnect", 1), c2([v.Extend({ name: "_A_Channel_onBeforeRequest" })], M2.prototype, "onBeforeRequest", 1), c2([v.Extend({ name: "_A_Channel_onRequest" })], M2.prototype, "onRequest", 1), c2([v.Extend({ name: "_A_Channel_onAfterRequest" })], M2.prototype, "onAfterRequest", 1), c2([v.Extend({ name: "_A_Channel_onError" })], M2.prototype, "onError", 1), c2([v.Extend({ name: "_A_Channel_onSend" })], M2.prototype, "onSend", 1);
var Kt = ((s) => (s.CREATED = "CREATED", s.INITIALIZED = "INITIALIZED", s.COMPILED = "COMPILED", s.EXECUTING = "EXECUTING", s.COMPLETED = "COMPLETED", s.FAILED = "FAILED", s))(Kt || {});
var Wt = ((o2) => (o2.CREATED_TO_INITIALIZED = "created_initialized", o2.INITIALIZED_TO_EXECUTING = "initialized_executing", o2.EXECUTING_TO_COMPLETED = "executing_completed", o2.EXECUTING_TO_FAILED = "executing_failed", o2))(Wt || {});
var Jt = ((a2) => (a2.onInit = "_A_Command_onInit", a2.onBeforeExecute = "_A_Command_onBeforeExecute", a2.onExecute = "_A_Command_onExecute", a2.onAfterExecute = "_A_Command_onAfterExecute", a2.onComplete = "_A_Command_onComplete", a2.onFail = "_A_Command_onFail", a2.onError = "_A_Command_onError", a2))(Jt || {});
var Xt = ((a2) => (a2.onInit = "onInit", a2.onBeforeExecute = "onBeforeExecute", a2.onExecute = "onExecute", a2.onAfterExecute = "onAfterExecute", a2.onComplete = "onComplete", a2.onFail = "onFail", a2.onError = "onError", a2))(Xt || {});
var _a41;
var W2 = (_a41 = class extends f {
}, __name(_a41, "W"), _a41);
i(W2, "A_CommandError"), W2.CommandScopeBindingError = "A-Command Scope Binding Error", W2.ExecutionError = "A-Command Execution Error", W2.ResultProcessingError = "A-Command Result Processing Error", W2.CommandInterruptedError = "A-Command Interrupted Error";
var Y = W2;
var _a42;
var pe2 = (_a42 = class extends f {
}, __name(_a42, "pe"), _a42);
i(pe2, "A_StateMachineError"), pe2.InitializationError = "A-StateMachine Initialization Error", pe2.TransitionError = "A-StateMachine Transition Error";
var Z2 = pe2;
var er = ((o2) => (o2.onError = "_A_StateMachine_onError", o2.onInitialize = "_A_StateMachine_onInitialize", o2.onBeforeTransition = "_A_StateMachine_onBeforeTransition", o2.onAfterTransition = "_A_StateMachine_onAfterTransition", o2))(er || {});
var _a43;
var Ve2 = (_a43 = class extends u2 {
  constructor(t) {
    super("a-state-machine-transition", t), this._meta.set("from", t.from), this._meta.set("to", t.to);
  }
  get from() {
    return this._meta.get("from");
  }
  get to() {
    return this._meta.get("to");
  }
}, __name(_a43, "Ve"), _a43);
i(Ve2, "A_StateMachineTransition");
var N2 = Ve2;
var nr;
var ir;
var sr;
var ar;
var _a44;
var J2 = (_a44 = class extends F {
  get ready() {
    return this._initialized || (this._initialized = this.call("_A_StateMachine_onInitialize")), this._initialized;
  }
  async [ar = "_A_StateMachine_onInitialize"](...t) {
  }
  async [sr = "_A_StateMachine_onBeforeTransition"](...t) {
  }
  async [ir = "_A_StateMachine_onAfterTransition"](...t) {
  }
  async [nr = "_A_StateMachine_onError"](...t) {
  }
  async transition(t, e, r) {
    await this.ready;
    let o2 = `${y.toCamelCase(String(t))}_${y.toCamelCase(String(e))}`, n = new N2({ from: String(t), to: String(e), props: r }), s = new x({ name: `A-StateMachine-Transition-Scope-${o2}`, fragments: [n] }).inherit(c.scope(this));
    try {
      return await this.call("_A_StateMachine_onBeforeTransition", s), await this.call(o2, s), await this.call("_A_StateMachine_onAfterTransition", s), s.destroy(), n.result;
    } catch (a2) {
      let _ = new Z2({ title: Z2.TransitionError, description: `An error occurred while transitioning to "${o2}"`, originalError: a2 });
      throw s.register(_), await this.call("_A_StateMachine_onError", s), s.destroy(), _;
    }
  }
}, __name(_a44, "J"), _a44);
i(J2, "A_StateMachine"), c2([v.Extend()], J2.prototype, ar, 1), c2([v.Extend()], J2.prototype, sr, 1), c2([v.Extend()], J2.prototype, ir, 1), c2([v.Extend()], J2.prototype, nr, 1);
var G2 = J2;
var Q2 = [];
var _a45;
var Ee2 = (_a45 = class extends f {
}, __name(_a45, "Ee"), _a45);
i(Ee2, "A_ConfigError"), Ee2.InitializationError = "A-Config Initialization Error";
var $2 = Ee2;
var _a46;
var je2 = (_a46 = class extends b2 {
  constructor(e) {
    super("a-config");
    this.DEFAULT_ALLOWED_TO_READ_PROPERTIES = [...at, ...Q2];
    this._strict = e.strict ?? false, this._configProperties = e.variables ?? [];
    for (let r in e.defaults) this.set(y.toUpperSnakeCase(r), e.defaults[r]);
  }
  get strict() {
    return this._strict;
  }
  get(e) {
    if (this._configProperties.includes(e) || this.DEFAULT_ALLOWED_TO_READ_PROPERTIES.includes(e) || !this._strict) return super.get(y.toUpperSnakeCase(e));
    throw new $2("Property not exists or not allowed to read");
  }
  set(e, r) {
    let o2 = Array.isArray(e) ? e : typeof e == "string" ? [{ property: e, value: r }] : Object.keys(e).map((n) => ({ property: n, value: e[n] }));
    for (let { property: n, value: s } of o2) super.set(y.toUpperSnakeCase(n), s);
  }
}, __name(_a46, "je"), _a46);
i(je2, "A_Config");
var A2 = je2;
var Lt = { red: "31", yellow: "33", green: "32", blue: "34", cyan: "36", magenta: "35", gray: "90", brightBlue: "94", brightCyan: "96", brightMagenta: "95", darkGray: "30", lightGray: "37", indigo: "38;5;54", violet: "38;5;93", purple: "38;5;129", lavender: "38;5;183", skyBlue: "38;5;117", steelBlue: "38;5;67", slateBlue: "38;5;62", deepBlue: "38;5;18", lightBlue: "38;5;153", periwinkle: "38;5;111", cornflower: "38;5;69", powder: "38;5;152", charcoal: "38;5;236", silver: "38;5;250", smoke: "38;5;244", slate: "38;5;240" };
var It = ["blue", "cyan", "magenta", "gray", "brightBlue", "brightCyan", "brightMagenta", "darkGray", "lightGray", "indigo", "violet", "purple", "lavender", "skyBlue", "steelBlue", "slateBlue", "deepBlue", "lightBlue", "periwinkle", "cornflower", "powder", "charcoal", "silver", "smoke", "slate"];
var V2 = { RESET: "\x1B[0m", PREFIX: "\x1B[", SUFFIX: "m" };
var ee2 = { MINUTES_PAD: 2, SECONDS_PAD: 2, MILLISECONDS_PAD: 3, SEPARATOR: ":" };
var y2 = { SCOPE_OPEN: "[", SCOPE_CLOSE: "]", TIME_OPEN: "|", TIME_CLOSE: "|", SEPARATOR: "-------------------------------", INDENT_BASE: 3, PIPE: "| " };
var te = { DEFAULT_WIDTH: 80, MIN_WIDTH: 40, MAX_LINE_LENGTH_RATIO: 0.8, BROWSER_DEFAULT_WIDTH: 120 };
var de2 = { LOG_LEVEL: "A_LOGGER_LEVEL", DEFAULT_SCOPE_LENGTH: "A_LOGGER_DEFAULT_SCOPE_LENGTH", DEFAULT_SCOPE_COLOR: "A_LOGGER_DEFAULT_SCOPE_COLOR", DEFAULT_LOG_COLOR: "A_LOGGER_DEFAULT_LOG_COLOR" };
var _a47;
var T2 = (_a47 = class extends F {
  constructor(e, r) {
    super();
    this.scope = e;
    this.config = r;
    this.COLORS = Lt, this.STANDARD_SCOPE_LENGTH = r?.get(de2.DEFAULT_SCOPE_LENGTH) || 20;
    let o2 = r?.get(de2.DEFAULT_SCOPE_COLOR), n = r?.get(de2.DEFAULT_LOG_COLOR);
    if (o2 || n) this.DEFAULT_SCOPE_COLOR = o2 || this.generateColorFromScopeName(this.scope.name), this.DEFAULT_LOG_COLOR = n || this.generateColorFromScopeName(this.scope.name);
    else {
      let s = this.generateComplementaryColorsFromScope(this.scope.name);
      this.DEFAULT_SCOPE_COLOR = s.scopeColor, this.DEFAULT_LOG_COLOR = s.logColor;
    }
    this.TERMINAL_WIDTH = this.detectTerminalWidth(), this.MAX_CONTENT_WIDTH = Math.floor(this.TERMINAL_WIDTH * te.MAX_LINE_LENGTH_RATIO);
  }
  simpleHash(e) {
    let r = 0;
    for (let o2 = 0; o2 < e.length; o2++) {
      let n = e.charCodeAt(o2);
      r = (r << 5) - r + n, r = r & r;
    }
    return Math.abs(r);
  }
  generateColorFromScopeName(e) {
    let r = It, n = this.simpleHash(e) % r.length;
    return r[n];
  }
  generateComplementaryColorsFromScope(e) {
    let r = [{ scopeColor: "indigo", logColor: "lightBlue" }, { scopeColor: "deepBlue", logColor: "cyan" }, { scopeColor: "purple", logColor: "lavender" }, { scopeColor: "steelBlue", logColor: "skyBlue" }, { scopeColor: "slateBlue", logColor: "periwinkle" }, { scopeColor: "charcoal", logColor: "silver" }, { scopeColor: "violet", logColor: "brightMagenta" }, { scopeColor: "darkGray", logColor: "lightGray" }, { scopeColor: "cornflower", logColor: "powder" }, { scopeColor: "slate", logColor: "smoke" }], n = this.simpleHash(e) % r.length;
    return r[n];
  }
  detectTerminalWidth() {
    try {
      if (c.environment === "browser") return te.BROWSER_DEFAULT_WIDTH;
      if (typeof process < "u" && process.stdout && process.stdout.columns) {
        let e = process.stdout.columns;
        return Math.max(e, te.MIN_WIDTH);
      }
      return te.DEFAULT_WIDTH;
    } catch {
      return te.DEFAULT_WIDTH;
    }
  }
  wrapText(e, r, o2 = true) {
    if (c.environment === "browser") return [e];
    let n = this.formattedScope.length + 4 + this.getTime().length + 4, s = `${r}${y2.PIPE}`, a2 = Math.max(this.TERMINAL_WIDTH - n - 1, 20), _ = Math.max(this.TERMINAL_WIDTH - s.length, 20);
    if (o2 && e.length <= a2) return [e];
    let d2 = [], p = e.split(" "), h = "", m2 = o2 ? a2 : _;
    for (let k2 of p) {
      let Me = h ? 1 : 0;
      if (h.length + Me + k2.length > m2) if (h) d2.push(h), h = k2, m2 = _;
      else {
        if (k2.length > m2) {
          let Ge = this.splitLongWord(k2, m2);
          d2.push(...Ge.slice(0, -1)), h = Ge[Ge.length - 1];
        } else h = k2;
        m2 = _;
      }
      else h += (h ? " " : "") + k2;
    }
    return h && d2.push(h), d2.length ? d2 : [e];
  }
  splitLongWord(e, r) {
    let o2 = [];
    for (let n = 0; n < e.length; n += r) o2.push(e.slice(n, n + r));
    return o2;
  }
  get scopeLength() {
    return Math.max(this.scope.name.length, this.STANDARD_SCOPE_LENGTH);
  }
  get formattedScope() {
    let e = this.scope.name, r = this.STANDARD_SCOPE_LENGTH;
    if (e.length >= r) return e.substring(0, r);
    let o2 = r - e.length, n = Math.floor(o2 / 2), s = o2 - n;
    return " ".repeat(n) + e + " ".repeat(s);
  }
  compile(e, ...r) {
    let o2 = this.getTime(), n = " ".repeat(this.STANDARD_SCOPE_LENGTH + 3), s = r.length > 1;
    return [`${V2.PREFIX}${this.COLORS[this.DEFAULT_SCOPE_COLOR]}${V2.SUFFIX}${y2.SCOPE_OPEN}${this.formattedScope}${y2.SCOPE_CLOSE}${V2.RESET} ${V2.PREFIX}${this.COLORS[e]}${V2.SUFFIX}${y2.TIME_OPEN}${o2}${y2.TIME_CLOSE}`, s ? `
${n}${y2.TIME_OPEN}${y2.SEPARATOR}` : "", ...r.map((a2, _) => {
      let d2 = _ > 0 || s;
      switch (true) {
        case a2 instanceof f:
          return this.compile_A_Error(a2);
        case a2 instanceof Error:
          return this.compile_Error(a2);
        case (typeof a2 == "object" && a2 !== null):
          return this.formatObject(a2, d2, n);
        default:
          return this.formatString(String(a2), d2, n);
      }
    }), s ? `
${n}${y2.TIME_OPEN}${y2.SEPARATOR}${V2.RESET}` : V2.RESET];
  }
  formatObject(e, r, o2) {
    if (c.environment === "browser") return e;
    if (e === null) return r ? `
${o2}${y2.PIPE}null` : "null";
    if (e === void 0) return r ? `
${o2}${y2.PIPE}undefined` : "undefined";
    let n;
    try {
      n = JSON.stringify(e, null, 2);
    } catch {
      try {
        let h = /* @__PURE__ */ new WeakSet();
        n = JSON.stringify(e, (m2, O) => {
          if (typeof O == "object" && O !== null) {
            if (h.has(O)) return "[Circular Reference]";
            h.add(O);
          }
          return O;
        }, 2);
      } catch {
        n = String(e);
      }
    }
    let s = `${o2}${y2.PIPE}`, a2 = this.TERMINAL_WIDTH - s.length - 4, d2 = n.split(`
`).map((p) => {
      let h = p.match(/^(\s*"[^"]+":\s*")([^"]+)(".*)?$/);
      if (h && h[2].length > a2 - h[1].length - (h[3] || "").length) {
        let [, m2, O, k2 = ""] = h;
        if (O.length > a2 - m2.length - k2.length) {
          let Me = this.wrapJsonStringValue(O, a2 - m2.length - k2.length);
          return m2 + Me + k2;
        }
      }
      return p;
    }).join(`
` + s);
    return r ? `
` + s + d2 : d2;
  }
  wrapJsonStringValue(e, r) {
    return e.length <= r ? e : r > 6 ? e.substring(0, r - 3) + "..." : e.substring(0, Math.max(1, r));
  }
  formatString(e, r, o2) {
    if (c.environment === "browser") return ((r ? `
` : "") + e).replace(/\n/g, `
${o2}${y2.PIPE}`);
    let n = this.wrapText(e, o2, !r), s = `${o2}${y2.PIPE}`, a2 = n.map((_, d2) => d2 === 0 && !r ? _ : `${s}${_}`);
    return r ? `
` + a2.join(`
`) : a2.join(`
`);
  }
  shouldLog(e) {
    switch (this.config?.get(de2.LOG_LEVEL) || "info") {
      case "debug":
        return true;
      case "info":
        return e === "info" || e === "warning" || e === "error";
      case "warn":
        return e === "warning" || e === "error";
      case "error":
        return e === "error";
      case "all":
        return true;
      default:
        return false;
    }
  }
  debug(e, ...r) {
    this.shouldLog("debug") && (typeof e == "string" && this.COLORS[e] ? console.log(...this.compile(e, ...r)) : console.log(...this.compile(this.DEFAULT_LOG_COLOR, e, ...r)));
  }
  info(e, ...r) {
    this.shouldLog("info") && (typeof e == "string" && this.COLORS[e] ? console.log(...this.compile(e, ...r)) : console.log(...this.compile(this.DEFAULT_LOG_COLOR, e, ...r)));
  }
  log(e, ...r) {
    this.info(e, ...r);
  }
  warning(...e) {
    this.shouldLog("warning") && console.log(...this.compile("yellow", ...e));
  }
  error(...e) {
    this.shouldLog("error") && console.log(...this.compile("red", ...e));
  }
  log_A_Error(e) {
    let r = this.getTime(), o2 = " ".repeat(this.STANDARD_SCOPE_LENGTH + 3);
    console.log(`\x1B[31m[${this.formattedScope}] |${r}| ERROR ${e.code}
${o2}| ${e.message}
${o2}| ${e.description} 
${o2}|-------------------------------
${o2}| ${e.stack?.split(`
`).map((n, s) => s === 0 ? n : `${o2}| ${n}`).join(`
`) || "No stack trace"}
${o2}|-------------------------------
\x1B[0m` + (e.originalError ? `\x1B[31m${o2}| Wrapped From  ${e.originalError.message}
${o2}|-------------------------------
${o2}| ${e.originalError.stack?.split(`
`).map((n, s) => s === 0 ? n : `${o2}| ${n}`).join(`
`) || "No stack trace"}
${o2}|-------------------------------
\x1B[0m` : "") + (e.link ? `\x1B[31m${o2}| Read in docs: ${e.link}
${o2}|-------------------------------
\x1B[0m` : ""));
  }
  compile_A_Error(e) {
    let r = `${" ".repeat(this.STANDARD_SCOPE_LENGTH + 3)}${y2.PIPE}`, o2 = `${r}-------------------------------`, n = [];
    n.push(""), n.push(o2), n.push(`${r}A_ERROR: ${e.code}`), n.push(o2);
    let s = this.wrapText(`Message: ${e.message}`, r, false), a2 = this.wrapText(`Description: ${e.description}`, r, false);
    if (n.push(...s.map((_) => `${r}${_}`)), n.push(...a2.map((_) => `${r}${_}`)), e.originalError) {
      n.push(o2), n.push(`${r}ORIGINAL ERROR:`), n.push(o2);
      let _ = this.wrapText(`${e.originalError.name}: ${e.originalError.message}`, r, false);
      if (n.push(..._.map((d2) => `${r}${d2}`)), e.originalError.stack) {
        n.push(`${r}Stack trace:`);
        let d2 = this.formatStackTrace(e.originalError.stack, r);
        n.push(...d2);
      }
    }
    if (e.stack) {
      n.push(o2), n.push(`${r}A_ERROR STACK:`), n.push(o2);
      let _ = this.formatStackTrace(e.stack, r);
      n.push(..._);
    }
    if (e.link) {
      n.push(o2);
      let _ = this.wrapText(`Documentation: ${e.link}`, r, false);
      n.push(..._.map((d2) => `${r}${d2}`));
    }
    return n.push(o2), n.join(`
`);
  }
  formatStackTrace(e, r) {
    let o2 = e.split(`
`), n = [];
    return o2.forEach((s, a2) => {
      if (s.trim()) {
        let _ = a2 === 0 ? r : `${r}  `, d2 = this.wrapText(s.trim(), _, false);
        n.push(...d2.map((p) => a2 === 0 && p === d2[0] ? `${r}${p}` : `${r}  ${p}`));
      }
    }), n;
  }
  compile_Error(e) {
    let r = `${" ".repeat(this.STANDARD_SCOPE_LENGTH + 3)}${y2.PIPE}`, o2 = `${r}-------------------------------`, n = [];
    n.push(""), n.push(o2), n.push(`${r}ERROR: ${e.name}`), n.push(o2);
    let s = this.wrapText(`Message: ${e.message}`, r, false);
    if (n.push(...s.map((a2) => `${r}${a2}`)), e.stack) {
      n.push(o2), n.push(`${r}STACK TRACE:`), n.push(o2);
      let a2 = this.formatStackTrace(e.stack, r);
      n.push(...a2);
    }
    return n.push(o2), n.join(`
`);
  }
  getTime() {
    let e = /* @__PURE__ */ new Date(), r = String(e.getMinutes()).padStart(ee2.MINUTES_PAD, "0"), o2 = String(e.getSeconds()).padStart(ee2.SECONDS_PAD, "0"), n = String(e.getMilliseconds()).padStart(ee2.MILLISECONDS_PAD, "0");
    return `${r}${ee2.SEPARATOR}${o2}${ee2.SEPARATOR}${n}`;
  }
}, __name(_a47, "T"), _a47);
i(T2, "A_Logger"), T2 = c2([l(0, it(x)), l(1, it(A2))], T2);
var mr;
var hr;
var gr;
var fr;
var yr;
var Ar;
var Er;
var Tr;
var Sr;
var xr;
var Cr;
var _a48;
var C = (_a48 = class extends M {
  constructor(e) {
    super(e);
    this._listeners = /* @__PURE__ */ new Map();
  }
  static get code() {
    return super.entity;
  }
  get duration() {
    return this._endTime && this._startTime ? this._endTime.getTime() - this._startTime.getTime() : this._startTime ? (/* @__PURE__ */ new Date()).getTime() - this._startTime.getTime() : void 0;
  }
  get idleTime() {
    return this._startTime && this._createdAt ? this._startTime.getTime() - this._createdAt.getTime() : void 0;
  }
  get scope() {
    return this._executionScope;
  }
  get context() {
    return this.scope.resolve(b2);
  }
  get code() {
    return this.constructor.code;
  }
  get status() {
    return this._status;
  }
  get createdAt() {
    return this._createdAt;
  }
  get startedAt() {
    return this._startTime;
  }
  get endedAt() {
    return this._endTime;
  }
  get result() {
    return this._result;
  }
  get error() {
    return this._error;
  }
  get params() {
    return this._params;
  }
  get isProcessed() {
    return this._status === "COMPLETED" || this._status === "FAILED";
  }
  async [Cr = "_A_StateMachine_onBeforeTransition"](e, r, ...o2) {
    this.checkScopeInheritance(), r?.debug("yellow", `Command ${this.aseid.toString()} transitioning from ${e.from} to ${e.to}`);
  }
  async [xr = "created_initialized"](e, ...r) {
    this._status === "CREATED" && (this._createdAt = /* @__PURE__ */ new Date(), this._status = "INITIALIZED", this.emit("onInit"));
  }
  async [Sr = "initialized_executing"](e, ...r) {
    this._status !== "INITIALIZED" && this._status !== "CREATED" || (this._startTime = /* @__PURE__ */ new Date(), this._status = "EXECUTING", this.emit("onExecute"));
  }
  async [Tr = "executing_completed"](e, ...r) {
    this._endTime = /* @__PURE__ */ new Date(), this._status = "COMPLETED", this.emit("onComplete");
  }
  async [Er = "executing_failed"](e, r, ...o2) {
    this._endTime = /* @__PURE__ */ new Date(), this._status = "FAILED", this.emit("onFail");
  }
  async [Ar = "_A_Command_onInit"](e, ...r) {
    await e.transition("CREATED", "INITIALIZED");
  }
  async [yr = "_A_Command_onBeforeExecute"](e, ...r) {
    await e.transition("INITIALIZED", "EXECUTING");
  }
  async [fr = "_A_Command_onExecute"](...e) {
  }
  async [gr = "_A_Command_onAfterExecute"](...e) {
  }
  async [hr = "_A_Command_onComplete"](e, ...r) {
    await e.transition("EXECUTING", "COMPLETED");
  }
  async [mr = "_A_Command_onFail"](e, r, ...o2) {
    await e.transition("EXECUTING", "FAILED");
  }
  async init() {
    await this.call("_A_Command_onInit", this.scope);
  }
  async execute() {
    if (!this.isProcessed) try {
      this.checkScopeInheritance();
      let e = new b2("execute-command");
      this.scope.register(e), await new Promise(async (r, o2) => {
        try {
          let n = new v({ name: "_A_Command_onBeforeExecute", component: this, scope: this.scope }), s = new v({ name: "_A_Command_onExecute", component: this, scope: this.scope }), a2 = new v({ name: "_A_Command_onAfterExecute", component: this, scope: this.scope });
          this.on("onComplete", () => {
            n.interrupt(), s.interrupt(), a2.interrupt(), r();
          }), this.on("onFail", () => {
            n.interrupt(), s.interrupt(), a2.interrupt(), o2(this.error);
          }), await n.process(this.scope), await s.process(this.scope), await a2.process(this.scope), this._origin === "invoked" && await this.complete(), r();
        } catch (n) {
          o2(n);
        }
      });
    } catch (e) {
      let r = e instanceof f ? e : new Y({ title: Y.ExecutionError, description: `An error occurred while executing command "${this.aseid.toString()}".`, originalError: e });
      await this.fail(r);
    }
  }
  async complete(e) {
    this.isProcessed || (this._status = "COMPLETED", this._result = e, await this.call("_A_Command_onComplete", this.scope), this.scope.destroy());
  }
  async fail(e) {
    this.isProcessed || (this._status = "FAILED", e && (this._error = e, this.scope.register(e)), await this.call("_A_Command_onFail", this.scope), this.scope.destroy());
  }
  on(e, r) {
    this._listeners.has(e) || this._listeners.set(e, /* @__PURE__ */ new Set()), this._listeners.get(e).add(r);
  }
  off(e, r) {
    this._listeners.get(e)?.delete(r);
  }
  emit(e) {
    this._listeners.get(e)?.forEach(async (r) => {
      r(this);
    });
  }
  fromNew(e) {
    super.fromNew(e), this._origin = "invoked", this._executionScope = new x({ name: `A-Command-Execution-Scope-${this.aseid.toString()}`, components: [G2] }), this._createdAt = /* @__PURE__ */ new Date(), this._params = e, this._status = "CREATED";
  }
  fromJSON(e) {
    super.fromJSON(e), this._origin = "serialized", this._executionScope = new x({ name: `A-Command-Execution-Scope-${this.aseid.toString()}`, components: [G2] }), e.createdAt && (this._createdAt = new Date(e.createdAt)), e.startedAt && (this._startTime = new Date(e.startedAt)), e.endedAt && (this._endTime = new Date(e.endedAt)), this._params = e.params, this._status = e.status, e.error && (this._error = new Y(e.error)), e.result && (this._result = e.result);
  }
  toJSON() {
    return { ...super.toJSON(), code: this.code, status: this._status, params: this._params, createdAt: this._createdAt.toISOString(), startedAt: this._startTime ? this._startTime.toISOString() : void 0, endedAt: this._endTime ? this._endTime.toISOString() : void 0, duration: this.duration, idleTime: this.idleTime, result: this.result, error: this.error ? this.error.toJSON() : void 0 };
  }
  checkScopeInheritance() {
    let e;
    try {
      e = c.scope(this);
    } catch (r) {
      throw new Y({ title: Y.CommandScopeBindingError, description: `Command ${this.aseid.toString()} is not bound to any context scope. Ensure the command is properly registered within a context before execution.`, originalError: r });
    }
    this.scope.isInheritedFrom(c.scope(this)) || this.scope.inherit(c.scope(this));
  }
}, __name(_a48, "C"), _a48);
i(C, "A_Command"), c2([v.Extend(), l(0, it(N2)), l(1, it(T2))], C.prototype, Cr, 1), c2([v.Extend(), l(0, it(N2))], C.prototype, xr, 1), c2([v.Extend(), l(0, it(N2))], C.prototype, Sr, 1), c2([v.Extend(), l(0, it(N2))], C.prototype, Tr, 1), c2([v.Extend(), l(0, it(N2)), l(1, it(f))], C.prototype, Er, 1), c2([v.Extend(), l(0, it(G2))], C.prototype, Ar, 1), c2([v.Extend({ after: /.*/ }), l(0, ze.Required()), l(0, it(G2))], C.prototype, yr, 1), c2([v.Extend()], C.prototype, fr, 1), c2([v.Extend()], C.prototype, gr, 1), c2([v.Extend({ after: /.*/ }), l(0, it(G2))], C.prototype, hr, 1), c2([v.Extend({ after: /.*/ }), l(0, ze.Required()), l(0, it(G2)), l(1, it(b2))], C.prototype, mr, 1);
var _a49;
var We2 = (_a49 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._fs;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    this._fs = await import("fs");
  }
  initBrowser() {
    this._fs = { readFileSync: i((t, e) => (this.logger.warning("fs.readFileSync not available in browser environment"), ""), "readFileSync"), existsSync: i((t) => (this.logger.warning("fs.existsSync not available in browser environment"), false), "existsSync"), createReadStream: i((t) => (this.logger.warning("fs.createReadStream not available in browser environment"), null), "createReadStream") };
  }
}, __name(_a49, "We"), _a49);
i(We2, "A_FSPolyfillClass");
var Se2 = We2;
var _a50;
var Je = (_a50 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get(t) {
    return this._initialized || (this._fsPolyfill = t, await this.init()), this._crypto;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("crypto");
    this._crypto = { createTextHash: i((e, r = "sha384") => Promise.resolve(`${r}-${t.createHash(r).update(e).digest("base64")}`), "createTextHash"), createFileHash: i((e, r = "sha384") => new Promise(async (o2, n) => {
      try {
        if (!this._fsPolyfill) throw new Error("FS polyfill is required for file hashing");
        let s = t.createHash(r), a2 = this._fsPolyfill.createReadStream(e);
        a2.on("data", (_) => s.update(_)), a2.on("end", () => o2(`${r}-${s.digest("base64")}`)), a2.on("error", (_) => n(_));
      } catch (s) {
        n(s);
      }
    }), "createFileHash") };
  }
  initBrowser() {
    this._crypto = { createFileHash: i(() => (this.logger.warning("File hash not available in browser environment"), Promise.resolve("")), "createFileHash"), createTextHash: i((t, e = "SHA-384") => new Promise(async (r, o2) => {
      try {
        if (!crypto.subtle) throw new Error("SubtleCrypto not available");
        let s = new TextEncoder().encode(t), a2 = await crypto.subtle.digest(e, s), _ = Array.from(new Uint8Array(a2)), d2 = btoa(String.fromCharCode(..._));
        r(`${e}-${d2}`);
      } catch (n) {
        o2(n);
      }
    }), "createTextHash") };
  }
}, __name(_a50, "Je"), _a50);
i(Je, "A_CryptoPolyfillClass");
var xe2 = Je;
var _a51;
var Xe2 = (_a51 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._http;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("http");
    this._http = { request: t.request, get: t.get, createServer: t.createServer };
  }
  initBrowser() {
    this._http = { request: i((t, e) => (this.logger.warning("http.request not available in browser/test environment, use fetch instead"), this.createMockRequest(t, e, false)), "request"), get: i((t, e) => (this.logger.warning("http.get not available in browser/test environment, use fetch instead"), this.createMockRequest(typeof t == "string" ? { hostname: t } : t, e, false)), "get"), createServer: i(() => (this.logger.error("http.createServer not available in browser/test environment"), null), "createServer") };
  }
  createMockRequest(t, e, r = false) {
    return { end: i(() => {
      if (e) {
        let n = { statusCode: 200, headers: {}, on: i((s, a2) => {
          s === "data" ? setTimeout(() => a2("mock data"), 0) : s === "end" && setTimeout(() => a2(), 0);
        }, "on"), pipe: i((s) => {
          s.write && s.write("mock data"), s.end && s.end();
        }, "pipe") };
        setTimeout(() => e(n), 0);
      }
    }, "end"), write: i((n) => {
    }, "write"), on: i((n, s) => {
    }, "on") };
  }
}, __name(_a51, "Xe"), _a51);
i(Xe2, "A_HttpPolyfillClass");
var Ce2 = Xe2;
var _a52;
var Ze2 = (_a52 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._https;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("https");
    this._https = { request: t.request, get: t.get, createServer: t.createServer };
  }
  initBrowser() {
    this._https = { request: i((t, e) => (this.logger.warning("https.request not available in browser/test environment, use fetch instead"), this.createMockRequest(t, e, true)), "request"), get: i((t, e) => (this.logger.warning("https.get not available in browser/test environment, use fetch instead"), this.createMockRequest(typeof t == "string" ? { hostname: t } : t, e, true)), "get"), createServer: i(() => (this.logger.error("https.createServer not available in browser/test environment"), null), "createServer") };
  }
  createMockRequest(t, e, r = true) {
    return { end: i(() => {
      if (e) {
        let n = { statusCode: 200, headers: {}, on: i((s, a2) => {
          s === "data" ? setTimeout(() => a2("mock data"), 0) : s === "end" && setTimeout(() => a2(), 0);
        }, "on"), pipe: i((s) => {
          s.write && s.write("mock data"), s.end && s.end();
        }, "pipe") };
        setTimeout(() => e(n), 0);
      }
    }, "end"), write: i((n) => {
    }, "write"), on: i((n, s) => {
    }, "on") };
  }
}, __name(_a52, "Ze"), _a52);
i(Ze2, "A_HttpsPolyfillClass");
var Re2 = Ze2;
var _a53;
var Qe2 = (_a53 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._path;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    this._path = await import("path");
  }
  initBrowser() {
    this._path = { join: i((...t) => t.join("/").replace(/\/+/g, "/"), "join"), resolve: i((...t) => {
      let e = "";
      for (let r of t) r.startsWith("/") ? e = r : e = this._path.join(e, r);
      return e || "/";
    }, "resolve"), dirname: i((t) => t.split("/").slice(0, -1).join("/") || "/", "dirname"), basename: i((t, e) => {
      let r = t.split("/").pop() || "";
      return e && r.endsWith(e) ? r.slice(0, -e.length) : r;
    }, "basename"), extname: i((t) => {
      let e = t.split(".");
      return e.length > 1 ? "." + e.pop() : "";
    }, "extname"), relative: i((t, e) => e.replace(t, "").replace(/^\//, ""), "relative"), normalize: i((t) => t.replace(/\/+/g, "/").replace(/\/$/, "") || "/", "normalize"), isAbsolute: i((t) => t.startsWith("/") || /^[a-zA-Z]:/.test(t), "isAbsolute"), parse: i((t) => {
      let e = this._path.extname(t), r = this._path.basename(t), o2 = this._path.basename(t, e);
      return { root: "/", dir: this._path.dirname(t), base: r, ext: e, name: o2 };
    }, "parse"), format: i((t) => this._path.join(t.dir || "", t.base || ""), "format"), sep: "/", delimiter: ":" };
  }
}, __name(_a53, "Qe"), _a53);
i(Qe2, "A_PathPolyfillClass");
var we2 = Qe2;
var _a54;
var et2 = (_a54 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._url;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("url");
    this._url = { parse: t.parse, format: t.format, resolve: t.resolve, URL: t.URL || globalThis.URL, URLSearchParams: t.URLSearchParams || globalThis.URLSearchParams };
  }
  initBrowser() {
    this._url = { parse: i((t) => {
      try {
        let e = new URL(t);
        return { protocol: e.protocol, hostname: e.hostname, port: e.port, pathname: e.pathname, search: e.search, hash: e.hash, host: e.host, href: e.href };
      } catch {
        return {};
      }
    }, "parse"), format: i((t) => {
      try {
        return new URL("", t.href || `${t.protocol}//${t.host}${t.pathname}${t.search}${t.hash}`).href;
      } catch {
        return "";
      }
    }, "format"), resolve: i((t, e) => {
      try {
        return new URL(e, t).href;
      } catch {
        return e;
      }
    }, "resolve"), URL: globalThis.URL, URLSearchParams: globalThis.URLSearchParams };
  }
}, __name(_a54, "et"), _a54);
i(et2, "A_UrlPolyfillClass");
var Pe2 = et2;
var _a55;
var tt2 = (_a55 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._buffer;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("buffer");
    this._buffer = { from: t.Buffer.from, alloc: t.Buffer.alloc, allocUnsafe: t.Buffer.allocUnsafe, isBuffer: t.Buffer.isBuffer, concat: t.Buffer.concat };
  }
  initBrowser() {
    this._buffer = { from: i((t, e) => typeof t == "string" ? new TextEncoder().encode(t) : new Uint8Array(t), "from"), alloc: i((t, e) => {
      let r = new Uint8Array(t);
      return e !== void 0 && r.fill(e), r;
    }, "alloc"), allocUnsafe: i((t) => new Uint8Array(t), "allocUnsafe"), isBuffer: i((t) => t instanceof Uint8Array || t instanceof ArrayBuffer, "isBuffer"), concat: i((t, e) => {
      let r = e || t.reduce((s, a2) => s + a2.length, 0), o2 = new Uint8Array(r), n = 0;
      for (let s of t) o2.set(s, n), n += s.length;
      return o2;
    }, "concat") };
  }
}, __name(_a55, "tt"), _a55);
i(tt2, "A_BufferPolyfillClass");
var ve2 = tt2;
var _a56;
var rt2 = (_a56 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._process;
  }
  async init() {
    try {
      c.environment === "server" ? this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  initServer() {
    this._process = { env: process.env, argv: process.argv, platform: process.platform, version: process.version, versions: process.versions, cwd: process.cwd, exit: process.exit, nextTick: process.nextTick };
  }
  initBrowser() {
    this._process = { env: { NODE_ENV: "browser", ...globalThis.process?.env || {} }, argv: ["browser"], platform: "browser", version: "browser", versions: { node: "browser" }, cwd: i(() => "/", "cwd"), exit: i((t) => {
      throw this.logger.warning("process.exit not available in browser"), new Error(`Process exit with code ${t}`);
    }, "exit"), nextTick: i((t, ...e) => {
      setTimeout(() => t(...e), 0);
    }, "nextTick") };
  }
}, __name(_a56, "rt"), _a56);
i(rt2, "A_ProcessPolyfillClass");
var Le2 = rt2;
var _a57;
var f2 = (_a57 = class extends F {
  constructor(e) {
    super();
    this.logger = e;
    this._initializing = null;
  }
  get ready() {
    return this._initialized || (this._initialized = this._loadInternal()), this._initialized;
  }
  async load() {
    await this.ready;
  }
  async attachToWindow() {
    c.environment === "browser" && (globalThis.A_Polyfill = this, globalThis.process = { env: { NODE_ENV: "production" }, cwd: i(() => "/", "cwd") }, globalThis.__dirname = "/");
  }
  async _loadInternal() {
    this._fsPolyfill = new Se2(this.logger), this._cryptoPolyfill = new xe2(this.logger), this._httpPolyfill = new Ce2(this.logger), this._httpsPolyfill = new Re2(this.logger), this._pathPolyfill = new we2(this.logger), this._urlPolyfill = new Pe2(this.logger), this._bufferPolyfill = new ve2(this.logger), this._processPolyfill = new Le2(this.logger), await this._fsPolyfill.get(), await this._cryptoPolyfill.get(await this._fsPolyfill.get()), await this._httpPolyfill.get(), await this._httpsPolyfill.get(), await this._pathPolyfill.get(), await this._urlPolyfill.get(), await this._bufferPolyfill.get(), await this._processPolyfill.get();
  }
  async fs() {
    return await this.ready, await this._fsPolyfill.get();
  }
  async crypto() {
    return await this.ready, await this._cryptoPolyfill.get();
  }
  async http() {
    return await this.ready, await this._httpPolyfill.get();
  }
  async https() {
    return await this.ready, await this._httpsPolyfill.get();
  }
  async path() {
    return await this.ready, await this._pathPolyfill.get();
  }
  async url() {
    return await this.ready, await this._urlPolyfill.get();
  }
  async buffer() {
    return await this.ready, await this._bufferPolyfill.get();
  }
  async process() {
    return await this.ready, await this._processPolyfill.get();
  }
}, __name(_a57, "f"), _a57);
i(f2, "A_Polyfill"), c2([Ne.Load()], f2.prototype, "load", 1), c2([Ne.Load()], f2.prototype, "attachToWindow", 1), f2 = c2([l(0, it(T2))], f2);
var _a58;
var R2 = (_a58 = class extends F {
  constructor(e) {
    super();
    this.polyfill = e;
    this.DEFAULT_ALLOWED_TO_READ_PROPERTIES = [...at, ...Q2];
  }
  async attachContext(e, r, o2) {
    o2 || (o2 = new A2({ defaults: {} }), e.scope.register(o2));
    let n = await this.getProjectRoot();
    o2.set("A_CONCEPT_ROOT_FOLDER", n);
  }
  async initialize(e) {
    let r = await this.read();
    for (let o2 in r) e.set(o2, r[o2]);
  }
  resolve(e) {
    return e;
  }
  async read(e = []) {
    return {};
  }
  async getProjectRoot(e = __dirname) {
    return (await this.polyfill.process()).cwd();
  }
}, __name(_a58, "R"), _a58);
i(R2, "ConfigReader"), c2([Ne.Load(), l(0, it(L)), l(1, it(x)), l(2, it(A2))], R2.prototype, "attachContext", 1), c2([Ne.Load(), l(0, ze.Required()), l(0, it(A2))], R2.prototype, "initialize", 1), R2 = c2([l(0, ze.Required()), l(0, it(f2))], R2);
var _a59;
var ot2 = (_a59 = class extends R2 {
  constructor() {
    super(...arguments);
    this.FileData = /* @__PURE__ */ new Map();
  }
  getConfigurationProperty_File_Alias(e) {
    return y.toCamelCase(e);
  }
  resolve(e) {
    return this.FileData.get(this.getConfigurationProperty_File_Alias(e));
  }
  async read(e) {
    let r = await this.polyfill.fs();
    try {
      let o2 = r.readFileSync(`${c.concept}.conf.json`, "utf8"), n = JSON.parse(o2);
      return this.FileData = new Map(Object.entries(n)), n;
    } catch {
      return {};
    }
  }
}, __name(_a59, "ot"), _a59);
i(ot2, "FileConfigReader");
var me2 = ot2;
var _a60;
var Ie2 = (_a60 = class extends R2 {
  async readEnvFile(t, e, r) {
    let o2 = await e.fs();
    o2.existsSync(".env") && o2.readFileSync(`${t.get("A_CONCEPT_ROOT_FOLDER")}/.env`, "utf-8").split(`
`).forEach((n) => {
      let [s, a2] = n.split("=");
      s && a2 && (process.env[s.trim()] = a2.trim());
    });
  }
  getConfigurationProperty_ENV_Alias(t) {
    return y.toUpperSnakeCase(t);
  }
  resolve(t) {
    return process.env[this.getConfigurationProperty_ENV_Alias(t)];
  }
  async read(t = []) {
    let e = [...t, ...Object.keys(process.env)], r = {};
    return e.forEach((o2) => {
      r[o2] = this.resolve(o2);
    }), r;
  }
}, __name(_a60, "Ie"), _a60);
i(Ie2, "ENVConfigReader"), c2([Ne.Load({ before: ["ENVConfigReader.initialize"] }), l(0, it(A2)), l(1, it(f2)), l(2, it(v))], Ie2.prototype, "readEnvFile", 1);
var re2 = Ie2;
var _a61;
var Oe2 = (_a61 = class extends L {
  async prepare(t) {
    if (!this.scope.has(A2)) {
      let r = new A2({ variables: [...at, ...Q2], defaults: {} });
      this.scope.register(r);
    }
    let e = await t.fs();
    try {
      switch (true) {
        case (c.environment === "server" && !!e.existsSync(`${c.concept}.conf.json`)):
          this.reader = this.scope.resolve(me2);
          break;
        case (c.environment === "server" && !e.existsSync(`${c.concept}.conf.json`)):
          this.reader = this.scope.resolve(re2);
          break;
        case c.environment === "browser":
          this.reader = this.scope.resolve(re2);
          break;
        default:
          throw new $2($2.InitializationError, `Environment ${c.environment} is not supported`);
      }
    } catch (r) {
      if (r instanceof A) throw new $2({ title: $2.InitializationError, description: `Failed to initialize A_ConfigLoader. Reader not found for environment ${c.environment}`, originalError: r });
    }
  }
}, __name(_a61, "Oe"), _a61);
i(Oe2, "A_ConfigLoader"), c2([Ne.Load({ before: /.*/ }), l(0, it(f2))], Oe2.prototype, "prepare", 1);
var be2 = { A_LOGGER_LEVEL: "A_LOGGER_LEVEL", A_LOGGER_DEFAULT_SCOPE_LENGTH: "A_LOGGER_DEFAULT_SCOPE_LENGTH", A_LOGGER_DEFAULT_SCOPE_COLOR: "A_LOGGER_DEFAULT_SCOPE_COLOR", A_LOGGER_DEFAULT_LOG_COLOR: "A_LOGGER_DEFAULT_LOG_COLOR" };
var As = [be2.A_LOGGER_LEVEL, be2.A_LOGGER_DEFAULT_SCOPE_LENGTH, be2.A_LOGGER_DEFAULT_SCOPE_COLOR, be2.A_LOGGER_DEFAULT_LOG_COLOR];
var _a62;
var Ne2 = (_a62 = class extends f {
}, __name(_a62, "Ne"), _a62);
i(Ne2, "A_ManifestError"), Ne2.ManifestInitializationError = "A-Manifest Initialization Error";
var H2 = Ne2;
var _a63;
var st = (_a63 = class {
  constructor(t, e, r, o2 = false) {
    this.manifest = t;
    this.component = e;
    this.method = r;
    this.checkExclusion = o2;
  }
  for(t) {
    let e = this.manifest.internal_checkAccess({ component: this.component, method: this.method, target: t });
    return this.checkExclusion ? !e : e;
  }
}, __name(_a63, "st"), _a63);
i(st, "A_ManifestChecker");
var oe = st;
var _a64;
var ct = (_a64 = class extends B {
  constructor(e = []) {
    super({ name: "A-Manifest" });
    this.rules = [];
    this.prepare(e);
  }
  prepare(e) {
    if (!o.isArray(e)) throw new H2(H2.ManifestInitializationError, "A-Manifest configuration should be an array of configurations");
    for (let r of e) this.processConfigItem(r);
  }
  processConfigItem(e) {
    if (!o.isComponentConstructor(e.component)) throw new H2(H2.ManifestInitializationError, "A-Manifest configuration item should be a A-Component constructor");
    let r = this.constructorToRegex(e.component);
    if (e.apply || e.exclude) {
      let o2 = /.*/;
      this.rules.push({ componentRegex: r, methodRegex: o2, applyRegex: e.apply ? this.allowedComponentsToRegex(e.apply) : void 0, excludeRegex: e.exclude ? this.allowedComponentsToRegex(e.exclude) : void 0 });
    }
    if (e.methods && e.methods.length > 0) for (let o2 of e.methods) {
      let n = this.methodToRegex(o2.method);
      this.rules.push({ componentRegex: r, methodRegex: n, applyRegex: o2.apply ? this.allowedComponentsToRegex(o2.apply) : void 0, excludeRegex: o2.exclude ? this.allowedComponentsToRegex(o2.exclude) : void 0 });
    }
  }
  constructorToRegex(e) {
    return new RegExp(`^${this.escapeRegex(e.name)}$`);
  }
  methodToRegex(e) {
    return e instanceof RegExp ? e : new RegExp(`^${this.escapeRegex(e)}$`);
  }
  allowedComponentsToRegex(e) {
    if (e instanceof RegExp) return e;
    let r = e.map((o2) => this.escapeRegex(o2.name));
    return new RegExp(`^(${r.join("|")})$`);
  }
  escapeRegex(e) {
    return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
  }
  configItemToRegexp(e) {
    return this.constructorToRegex(e);
  }
  ID(e, r) {
    return `${e.name}.${r}`;
  }
  isAllowed(e, r) {
    let o2 = typeof e == "function" ? e : e.constructor;
    return new oe(this, o2, r);
  }
  internal_checkAccess(e) {
    let r = e.component.name, o2 = e.method, n = e.target.name, s = this.rules.filter((a2) => a2.componentRegex.test(r) && a2.methodRegex.test(o2)).sort((a2, _) => {
      let d2 = a2.methodRegex.source === ".*", p = _.methodRegex.source === ".*";
      return d2 && !p ? 1 : !d2 && p ? -1 : 0;
    });
    if (s.length === 0) return true;
    for (let a2 of s) {
      if (a2.excludeRegex && a2.excludeRegex.test(n)) return false;
      if (a2.applyRegex) return a2.applyRegex.test(n);
    }
    return true;
  }
  isExcluded(e, r) {
    let o2 = typeof e == "function" ? e : e.constructor;
    return new oe(this, o2, r, true);
  }
}, __name(_a64, "ct"), _a64);
i(ct, "A_Manifest");
var Qr = ((p) => (p.onInit = "_A_Memory_onInit", p.onDestroy = "_A_Memory_onDestroy", p.onExpire = "_A_Memory_onExpire", p.onError = "_A_Memory_onError", p.onSerialize = "_A_Memory_onSerialize", p.onSet = "_A_Memory_onSet", p.onGet = "_A_Memory_onGet", p.onDrop = "_A_Memory_onDrop", p.onClear = "_A_Memory_onClear", p.onHas = "_A_Memory_onHas", p))(Qr || {});
var _a65;
var lt = (_a65 = class extends B {
  constructor() {
    super(...arguments);
    this._storage = /* @__PURE__ */ new Map();
  }
  set(e, r) {
    this._storage.set(e, r);
  }
  get(e) {
    return this._storage.get(e);
  }
  delete(e) {
    this._storage.delete(e);
  }
  has(e) {
    return this._storage.has(e);
  }
  clear() {
    this._storage.clear();
  }
}, __name(_a65, "lt"), _a65);
i(lt, "A_MemoryContext");
var L2 = lt;
var _a66;
var D2 = (_a66 = class extends f {
}, __name(_a66, "D"), _a66);
i(D2, "A_MemoryError"), D2.MemoryInitializationError = "Memory initialization error", D2.MemoryDestructionError = "Memory destruction error", D2.MemoryGetError = "Memory GET operation failed", D2.MemorySetError = "Memory SET operation failed", D2.MemoryDropError = "Memory DROP operation failed", D2.MemoryClearError = "Memory CLEAR operation failed", D2.MemoryHasError = "Memory HAS operation failed", D2.MemorySerializeError = "Memory toJSON operation failed";
var g2 = D2;
var oo;
var no;
var io;
var so;
var ao;
var co;
var lo;
var _o;
var po;
var _a67;
var I2 = (_a67 = class extends F {
  get ready() {
    return this._ready || (this._ready = this.init()), this._ready;
  }
  async [po = "_A_Memory_onError"](...t) {
  }
  async [_o = "_A_Memory_onExpire"](...t) {
  }
  async [lo = "_A_Memory_onInit"](t, ...e) {
    t || (t = new L2(), c.scope(this).register(t));
  }
  async [co = "_A_Memory_onDestroy"](t, ...e) {
    t.clear();
  }
  async [ao = "_A_Memory_onGet"](t, e, ...r) {
    t.succeed(e.get(t.params.key));
  }
  async [so = "_A_Memory_onHas"](t, e, ...r) {
    t.succeed(e.has(t.params.key));
  }
  async [io = "_A_Memory_onSet"](t, e, r, ...o2) {
    e.set(t.params.key, t.params.value);
  }
  async [no = "_A_Memory_onDrop"](t, e, ...r) {
    e.delete(t.params.key);
  }
  async [oo = "_A_Memory_onClear"](t, e, ...r) {
    e.clear();
  }
  async init() {
    if (this._ready) return this._ready;
    let t = new x({ name: "A-Memory-Init-Scope" }).inherit(c.scope(this));
    try {
      await this.call("_A_Memory_onInit", t);
    } catch (e) {
      let r = new g2({ title: g2.MemoryInitializationError, description: "An error occurred during memory initialization", originalError: e });
      throw t.register(r), await this.call("_A_Memory_onError", t), t.destroy(), r;
    }
  }
  async destroy() {
    let t = new x({ name: "A-Memory-Destroy-Scope" }).inherit(c.scope(this));
    try {
      this._ready = void 0, await this.call("_A_Memory_onDestroy", t);
    } catch (e) {
      let r = new g2({ title: g2.MemoryDestructionError, description: "An error occurred during memory destruction", originalError: e });
      throw t.register(r), await this.call("_A_Memory_onError", t), t.destroy(), r;
    }
  }
  async get(t) {
    let e = new u2("get", { key: t }), r = new x({ name: "A-Memory-Get-Operation-Scope", fragments: [e] }).inherit(c.scope(this));
    try {
      return await this.call("_A_Memory_onGet", r), r.destroy(), e.result;
    } catch (o2) {
      let n = new g2({ title: g2.MemoryGetError, description: `An error occurred while getting the value for key "${String(t)}"`, originalError: o2 });
      throw r.register(n), await this.call("_A_Memory_onError", r), r.destroy(), n;
    }
  }
  async has(t) {
    let e = new u2("has", { key: t }), r = new x({ name: "A-Memory-Has-Operation-Scope", fragments: [e] }).inherit(c.scope(this));
    try {
      return await this.call("_A_Memory_onHas", r), r.destroy(), e.result;
    } catch (o2) {
      let n = new g2({ title: g2.MemoryHasError, description: `An error occurred while checking existence for key "${String(t)}"`, originalError: o2 });
      throw r.register(n), await this.call("_A_Memory_onError", r), r.destroy(), n;
    }
  }
  async set(t, e) {
    let r = new u2("set", { key: t, value: e }), o2 = new x({ name: "A-Memory-Set-Operation-Scope", fragments: [r] }).inherit(c.scope(this));
    try {
      await this.call("_A_Memory_onSet", o2);
    } catch (n) {
      let s = new g2({ title: g2.MemorySetError, description: `An error occurred while setting the value for key "${String(t)}"`, originalError: n });
      throw o2.register(s), await this.call("_A_Memory_onError", o2), o2.destroy(), s;
    }
  }
  async drop(t) {
    let e = new u2("drop", { key: t }), r = new x({ name: "A-Memory-Drop-Operation-Scope", fragments: [e] }).inherit(c.scope(this));
    try {
      await this.call("_A_Memory_onDrop", r);
    } catch (o2) {
      let n = new g2({ title: g2.MemoryDropError, description: `An error occurred while dropping the value for key "${String(t)}"`, originalError: o2 });
      throw r.register(n), await this.call("_A_Memory_onError", r), r.destroy(), n;
    }
  }
  async clear() {
    let t = new u2("clear"), e = new x({ name: "A-Memory-Clear-Operation-Scope", fragments: [t] }).inherit(c.scope(this));
    try {
      await this.call("_A_Memory_onClear", e);
    } catch (r) {
      let o2 = new g2({ title: g2.MemoryClearError, description: "An error occurred while clearing the memory", originalError: r });
      throw e.register(o2), await this.call("_A_Memory_onError", e), e.destroy(), o2;
    }
  }
  async toJSON() {
    let t = new u2("serialize"), e = new x({ name: "A-Memory-Serialize-Operation-Scope", fragments: [t] }).inherit(c.scope(this));
    try {
      return await this.call("_A_Memory_onSerialize", e), t.result;
    } catch (r) {
      let o2 = new g2({ title: g2.MemorySerializeError, description: "An error occurred while serializing the memory", originalError: r });
      throw e.register(o2), await this.call("_A_Memory_onError", e), e.destroy(), o2;
    }
  }
}, __name(_a67, "I"), _a67);
i(I2, "A_Memory"), c2([v.Extend()], I2.prototype, po, 1), c2([v.Extend()], I2.prototype, _o, 1), c2([v.Extend(), l(0, it(L2))], I2.prototype, lo, 1), c2([v.Extend(), l(0, it(L2))], I2.prototype, co, 1), c2([v.Extend(), l(0, ze.Required()), l(0, it(u2)), l(1, it(L2))], I2.prototype, ao, 1), c2([v.Extend(), l(0, ze.Required()), l(0, it(u2)), l(1, it(L2))], I2.prototype, so, 1), c2([v.Extend(), l(0, ze.Required()), l(0, it(u2)), l(1, it(L2)), l(2, it(x))], I2.prototype, io, 1), c2([v.Extend(), l(0, ze.Required()), l(0, it(u2)), l(1, it(L2))], I2.prototype, no, 1), c2([v.Extend(), l(0, ze.Required()), l(0, it(u2)), l(1, it(L2))], I2.prototype, oo, 1);
var uo = ((p) => (p.onBeforeLoad = "_A_Service_onBeforeLoad", p.onLoad = "_A_Service_onLoad", p.onAfterLoad = "_A_Service_onAfterLoad", p.onBeforeStart = "_A_Service_onBeforeStart", p.onStart = "_A_Service_onStart", p.onAfterStart = "_A_Service_onAfterStart", p.onBeforeStop = "_A_Service_onBeforeStop", p.onStop = "_A_Service_onStop", p.onAfterStop = "_A_Service_onAfterStop", p.onError = "_A_Service_onError", p))(uo || {});
var _a68;
var ne = (_a68 = class extends f {
}, __name(_a68, "ne"), _a68);
i(ne, "A_Service_Error"), ne.ServiceLoadError = "Service load error", ne.ServiceStartError = "Service start error", ne.ServiceStopError = "Service stop error";
var S2 = ne;
var go;
var fo;
var yo;
var Ao;
var Eo;
var To;
var So;
var xo;
var Co;
var Ro;
var _a69;
var E = (_a69 = class extends L {
  async load() {
    try {
      await this.call("_A_Service_onBeforeLoad"), await this.call("_A_Service_onLoad"), await this.call("_A_Service_onAfterLoad");
    } catch (t) {
      let e;
      switch (true) {
        case t instanceof S2:
          e = t;
          break;
        case (t instanceof f && t.originalError instanceof S2):
          e = t.originalError;
          break;
        default:
          e = new S2({ title: S2.ServiceLoadError, description: "An error occurred while processing the request.", originalError: t });
          break;
      }
      this.scope.register(e), await this.call("_A_Service_onError");
    }
  }
  async start() {
    try {
      await this.call("_A_Service_onBeforeStart"), await this.call("_A_Service_onStart"), await this.call("_A_Service_onAfterStart");
    } catch (t) {
      let e;
      switch (true) {
        case t instanceof S2:
          e = t;
          break;
        case (t instanceof f && t.originalError instanceof S2):
          e = t.originalError;
          break;
        default:
          e = new S2({ title: S2.ServiceStartError, description: "An error occurred while processing the request.", originalError: t });
          break;
      }
      this.scope.register(e), await this.call("_A_Service_onError");
    }
  }
  async stop() {
    try {
      await this.call("_A_Service_onBeforeStop"), await this.call("_A_Service_onStop"), await this.call("_A_Service_onAfterStop");
    } catch (t) {
      let e;
      switch (true) {
        case t instanceof S2:
          e = t;
          break;
        case (t instanceof f && t.originalError instanceof S2):
          e = t.originalError;
          break;
        default:
          e = new S2({ title: S2.ServiceStopError, description: "An error occurred while processing the request.", originalError: t });
          break;
      }
      this.scope.register(e), await this.call("_A_Service_onError");
    }
  }
  async [Ro = "_A_Service_onBeforeLoad"](t, ...e) {
    t || (this.scope.register(f2), t = this.scope.resolve(f2));
  }
  async [Co = "_A_Service_onLoad"](...t) {
  }
  async [xo = "_A_Service_onAfterLoad"](...t) {
  }
  async [So = "_A_Service_onBeforeStart"](...t) {
  }
  async [To = "_A_Service_onStart"](...t) {
  }
  async [Eo = "_A_Service_onAfterStart"](...t) {
  }
  async [Ao = "_A_Service_onBeforeStop"](...t) {
  }
  async [yo = "_A_Service_onStop"](...t) {
  }
  async [fo = "_A_Service_onAfterStop"](...t) {
  }
  async [go = "_A_Service_onError"](t, e, ...r) {
    e?.error(t);
  }
}, __name(_a69, "E"), _a69);
i(E, "A_Service"), c2([Ne.Load()], E.prototype, "load", 1), c2([Ne.Start()], E.prototype, "start", 1), c2([Ne.Stop()], E.prototype, "stop", 1), c2([v.Extend(), l(0, it(f2))], E.prototype, Ro, 1), c2([v.Extend()], E.prototype, Co, 1), c2([v.Extend()], E.prototype, xo, 1), c2([v.Extend()], E.prototype, So, 1), c2([v.Extend()], E.prototype, To, 1), c2([v.Extend()], E.prototype, Eo, 1), c2([v.Extend()], E.prototype, Ao, 1), c2([v.Extend()], E.prototype, yo, 1), c2([v.Extend()], E.prototype, fo, 1), c2([v.Extend({ before: /.*/ }), l(0, it(f)), l(1, it(T2))], E.prototype, go, 1);
var ut = E;
var _a70;
var ht = (_a70 = class extends B {
  constructor(t) {
    super(), this.url = t instanceof RegExp ? t.source : t;
  }
  get path() {
    let t = this.url.split("?")[0].split("#")[0];
    if (t.includes("://")) {
      let e = t.indexOf("/", t.indexOf("://") + 3);
      if (e === -1) return "/";
      {
        let r = t.slice(e);
        return r.endsWith("/") ? r.slice(0, -1) : r;
      }
    }
    return t.endsWith("/") ? t.slice(0, -1) : t;
  }
  get params() {
    return this.path.match(/:([^\/]+)/g)?.map((t) => t.slice(1)) || [];
  }
  get protocol() {
    switch (true) {
      case this.url.startsWith("http://"):
        return "http";
      case this.url.startsWith("https://"):
        return "https";
      case this.url.startsWith("ws://"):
        return "ws";
      case this.url.startsWith("wss://"):
        return "wss";
      default:
        return this.url.includes("://") ? this.url.split("://")[0] : "http";
    }
  }
  extractParams(t) {
    let r = t.split("?")[0].split("/").filter(Boolean), o2 = this.path.split("/").filter(Boolean), n = {};
    for (let s = 0; s < o2.length; s++) {
      let a2 = o2[s], _ = r[s];
      if (a2.startsWith(":")) {
        let d2 = a2.slice(1);
        n[d2] = _;
      } else if (a2 !== _) return {};
    }
    return n;
  }
  extractQuery(t) {
    let e = {}, r = t.split("?")[1];
    if (!r) return e;
    let o2 = r.split("#")[0];
    for (let n of o2.split("&")) {
      if (!n) continue;
      let [s, a2 = ""] = n.split("=");
      e[decodeURIComponent(s)] = decodeURIComponent(a2);
    }
    return e;
  }
  toString() {
    return `${this.path}`;
  }
  toRegExp() {
    return new RegExp(`^${this.path.replace(/\/:([^\/]+)/g, "/([^/]+)")}$`);
  }
  toAFeatureExtension(t = []) {
    return new RegExp(`^${t.length ? `(${t.join("|")})` : ".*"}\\.${this.path.replace(/\/:([^\/]+)/g, "/([^/]+)")}$`);
  }
}, __name(_a70, "ht"), _a70);
i(ht, "A_Route");
var Po = ((t) => (t.Next = "_A_SignalFeatures_Next", t))(Po || {});
var vo = ((t) => (t.Next = "_A_SignalVectorFeatures_Next", t))(vo || {});
var _a71;
var gt = (_a71 = class extends M {
  static async default() {
  }
  fromJSON(t) {
    super.fromJSON(t), this.data = t.data;
  }
  fromNew(t) {
    this.aseid = this.generateASEID({ entity: t.name }), this.data = t.data;
  }
  async next(t) {
    await this.call("_A_SignalFeatures_Next", t);
  }
  toJSON() {
    return { ...super.toJSON(), data: this.data };
  }
}, __name(_a71, "gt"), _a71);
i(gt, "A_Signal");
var P = gt;
var _a72;
var yt = (_a72 = class extends M {
  fromNew(t) {
    super.fromNew(t), this._structure = t.structure, this._signals = t.values;
  }
  get structure() {
    return this._structure || this._signals.map((t) => t.constructor);
  }
  get length() {
    return this.structure.length;
  }
  [Symbol.iterator]() {
    let t = 0, e = this.structure.map((r) => {
      let o2 = this._signals.findIndex((n) => n.constructor === r);
      return o2 !== -1 ? this._signals[o2] : void 0;
    });
    return { next() {
      return t < e.length ? { done: false, value: e[t++] } : { done: true, value: void 0 };
    } };
  }
  async next(t) {
    return await this.call("_A_SignalVectorFeatures_Next", t);
  }
  has(t) {
    let e;
    return t instanceof M ? e = t.constructor : e = t, this.structure.includes(e);
  }
  get(t) {
    let e;
    t instanceof M ? e = t.constructor : e = t;
    let r = this._signals.findIndex((o2) => o2.constructor === e);
    if (r !== -1) return this._signals[r];
  }
  async toVector(t) {
    return (t || this.structure).map((r) => {
      let o2 = this._signals.findIndex((n) => n.constructor === r);
      return o2 !== -1 ? this._signals[o2] : void 0;
    });
  }
  async toDataVector(t) {
    let e = t || this.structure, r = [];
    for (let o2 of e) {
      let n = this._signals.findIndex((a2) => a2.constructor === o2), s;
      n === -1 ? s = await o2.default() : s = this._signals[n], r.push(s?.toJSON().data);
    }
    return r;
  }
  async toObject(t) {
    let e = t || this.structure, r = {};
    return e.forEach((o2) => {
      let n = o2.name, s = this._signals.findIndex((a2) => a2.constructor === o2);
      if (s !== -1) {
        let a2 = this._signals[s];
        r[n] = a2.toJSON().data;
      } else r[n] = void 0;
    }), r;
  }
  toJSON() {
    return { ...super.toJSON(), structure: this.structure.map((t) => t.name), values: this._signals.map((t) => t.toJSON()) };
  }
}, __name(_a72, "yt"), _a72);
i(yt, "A_SignalVector");
var ge2 = yt;
var _a73;
var At = (_a73 = class extends B {
  constructor(e) {
    super({ name: "A_SignalState" });
    this._state = /* @__PURE__ */ new Map();
    this._structure = e;
  }
  get structure() {
    return this._structure || [];
  }
  set(e, r) {
    let o2 = e instanceof P ? e.constructor : e, n = e instanceof P ? e : r;
    this._state.set(o2, n);
  }
  get(e) {
    let r = e instanceof P ? e.constructor : e;
    return this._state.get(r);
  }
  has(e) {
    let r = e instanceof P ? e.constructor : e;
    return this.structure.includes(r);
  }
  delete(e) {
    let r = e instanceof P ? e.constructor : e;
    return this._state.delete(r);
  }
  toVector() {
    let e = [];
    return this._state.forEach((r, o2) => {
      e.push(r);
    }), new ge2({ structure: this.structure, values: e });
  }
  toObject() {
    let e = {};
    return this.structure.forEach((r) => {
      let o2 = this._state.get(r);
      if (o2 === void 0) throw new Error(`Signal ${r.name} has no value in state`);
      e[r.name] = o2;
    }), e;
  }
}, __name(_a73, "At"), _a73);
i(At, "A_SignalState");
var ie2 = At;
var _a74;
var Et = (_a74 = class extends B {
  get structure() {
    if (this._structure) return this._structure;
    let t = c.scope(this);
    return [...t.allowedEntities].filter((r) => u.isInheritedFrom(r, P)).sort((r, o2) => r.constructor.name.localeCompare(o2.name)).map((r) => t.resolveConstructor(r.name)).filter((r) => r);
  }
  get ready() {
    return this._ready;
  }
  constructor(t) {
    super({ name: "A_SignalConfig" }), this._config = t;
  }
  async initialize() {
    return this._ready || (this._ready = this._initialize()), this._ready;
  }
  async _initialize() {
    if (this._config.structure) this._structure = this._config.structure;
    else if (this._config.stringStructure) {
      let t = this._config.stringStructure.split(",").map((e) => e.trim());
      this._structure = t.map((e) => c.scope(this).resolveConstructor(e)).filter((e) => e);
    }
  }
}, __name(_a74, "Et"), _a74);
i(Et, "A_SignalConfig");
var se2 = Et;
var $o;
var _a75;
var ke2 = (_a75 = class extends F {
  async [$o = "_A_SignalFeatures_Next"](t, e, r, o2, n, s) {
    let a2 = c.scope(this);
    if (s || (s = new se2({ stringStructure: r?.get("A_SIGNAL_VECTOR_STRUCTURE") || void 0 }), a2.register(s)), s.ready || await s.initialize(), n || (n = new ie2(s.structure), a2.register(n)), !n.has(t)) return;
    o2?.debug(`A_SignalBus: Updating state for signal '${t.constructor.name}' with data:`, t.data), n.set(t), await n.toVector().next(e);
  }
}, __name(_a75, "ke"), _a75);
i(ke2, "A_SignalBus"), c2([v.Extend({ scope: [P] }), l(0, it(V)), l(1, it(x)), l(2, it(A2)), l(3, it(T2)), l(4, it(ie2)), l(5, it(se2))], ke2.prototype, $o, 1);
var Tt = ke2;
var _a76;
var St = (_a76 = class {
  constructor() {
    this.promise = new Promise((t, e) => {
      this.resolveFn = t, this.rejectFn = e;
    });
  }
  resolve(t) {
    this.resolveFn(t);
  }
  reject(t) {
    this.rejectFn(t);
  }
}, __name(_a76, "St"), _a76);
i(St, "A_Deferred");
var fe = St;
var _a77;
var xt = (_a77 = class {
  constructor(t, e, r) {
    this.config = { resolveOnClear: false };
    r && (this.config = { ...this.config, ...r }), this.deferred = new fe(), this.timeout = setTimeout(() => e().then((...o2) => this.deferred.resolve(...o2)).catch((...o2) => this.deferred.reject(...o2)), t);
  }
  get promise() {
    return this.deferred.promise;
  }
  clear() {
    this.timeout && (clearTimeout(this.timeout), this.config.resolveOnClear ? this.deferred.resolve(void 0) : this.deferred.reject(new f("Timeout Cleared")));
  }
}, __name(_a77, "xt"), _a77);
i(xt, "A_ScheduleObject");
var ce2 = xt;
var _a78;
var Rt = (_a78 = class extends F {
  async schedule(t, e, r) {
    let o2 = o.isString(t) ? new Date(t).getTime() : t;
    return new ce2(o2 - Date.now(), e, r);
  }
  async delay(t, e, r) {
    return new ce2(t, e, r);
  }
}, __name(_a78, "Rt"), _a78);
i(Rt, "A_Schedule");

// src/components/AreComponent/Are.component.ts
var _Are = class _Are extends F {
  //==================================================================================
  //======================== LIFECYCLE DECORATORS ====================================
  //==================================================================================
  static get EventHandler() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: propertyKey,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeLoad() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onBeforeLoad" /* onBeforeLoad */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterLoad() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onAfterLoad" /* onAfterLoad */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeCompile() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onBeforeCompile" /* onBeforeCompile */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterCompile() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onAfterCompile" /* onAfterCompile */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeMount() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onBeforeMount" /* onBeforeMount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterMount() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onAfterMount" /* onAfterMount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeUnmount() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onBeforeUnmount" /* onBeforeUnmount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterUnmount() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onAfterUnmount" /* onAfterUnmount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeUpdate() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onBeforeUpdate" /* onBeforeUpdate */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterUpdate() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onAfterUpdate" /* onAfterUpdate */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  // ==================================================================================
  // ========================= COMPONENT METHODS =======================================
  // ==================================================================================
  /**
   * Returns the template string for the component
   * 
   * Could be overridden to provide dynamic templates based on component state
   * 
   * @returns 
   */
  async template() {
    return ``;
  }
  /**
   * Returns the styles string for the component
   *  
   * Could be overridden to provide dynamic styles based on component state
   * 
   * @returns 
   */
  async styles() {
    return ``;
  }
  /**
   * Returns the data object for the component
   * 
   * Uses as the initial state of the component
   * 
   * @returns 
   */
  async data() {
    return {};
  }
};
__name(_Are, "Are");
var Are = _Are;

// examples/jumpstart/src/components/SignInComponent.component.ts
var _SignInComponent = class _SignInComponent extends Are {
  async data() {
    return {
      btnName: "Sign In"
    };
  }
  async styles() {
    return `
        .card {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            max-width: 300px;
            margin: 0 auto;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position:absolute;
            top:50%;
            left:50%;
            transform: translate(-50%, -50%);
        }
            `;
  }
  async template() {
    return `
              <div class="card">
                <h2>Sign In</h2>
                <input type="email" id="email" placeholder="Email" />
                <input type="password" id="password" placeholder="Password" />
                <a-btn @click="signIn" :name="btnName" :style="{ color: 'red' }"></a-btn>
              </div>
            `;
  }
  // @A_Feature.Extend({
  //     scope: [SignInComponent]
  // })
  // async A_UI_NODE_onBeforeLoad(
  //     @A_Inject(AreNode) node: AreNode,
  //     @A_Inject(A_Scope) scope: A_Scope,
  //     @A_Inject(A_UI_NodeStore) store: A_UI_NodeStore,
  //     @A_Inject(A_Logger) logger: A_Logger,
  // ): Promise<void> {
  //     logger.log('green', `SignInComponent is initializing... : <${node.aseid.entity}> : `, node.aseid.toString());
  //     store.data.set('btnName', 'Custom Sign In Button');
  // }
  // private addListeners(): void {
  //     const btn = document.getElementById("signInBtn") as HTMLButtonElement;
  //     btn.addEventListener("click", () => this.signIn());
  // }
  // private async signIn(): Promise<void> {
  //     const email = (document.getElementById("email") as HTMLInputElement).value;
  //     const password = (document.getElementById("password") as HTMLInputElement).value;
  //     const signInCommand = new SignInCommand({
  //         username: email,
  //         password
  //     });
  //     A_Context.scope(this).register(signInCommand);
  //     await signInCommand.execute();
  //     console.log("SignIn Command Result:", signInCommand.toJSON());
  // }
  // @A_Feature.Extend({
  //     name: A_CommandFeatures.onComplete,
  //     scope: {
  //         include: [SignInCommand]
  //     }
  // })
  // async handleSuccessSignIn(
  //     @A_Inject(A_Memory) memory: A_Memory<{ token: SerializedToken }>,
  //     @A_Inject(A_Caller) command: SignInCommand,
  // ) {
  //     console.log("Sign-in completed with result:", command.result);
  //     alert(command.result)
  //     const resultToken = await memory.get('token')
  //     const token = new Token(resultToken);
  //     memory.set('token', token as any);
  // }
};
__name(_SignInComponent, "SignInComponent");
var SignInComponent = _SignInComponent;

// src/context/AreEvent/AreEvent.context.ts
var _AreEvent = class _AreEvent extends B {
  constructor(eventName, props) {
    super({ name: eventName });
    this._props = props;
    this._node = props.node;
  }
  get node() {
    return this._node;
  }
  get data() {
    return this._props.data;
  }
  get event() {
    return this._props.event;
  }
  bind(node) {
    this._node = node;
  }
};
__name(_AreEvent, "AreEvent");
var AreEvent = _AreEvent;

// src/context/AreIndex/AreIndex.context.ts
var _AreIndex = class _AreIndex extends B {
  constructor(aseid) {
    super({
      name: aseid instanceof I ? aseid.toString() : aseid
    });
    /**
     * Platform-agnostic element index
     * Element can be DOM Element, PDF element, DOCX element, etc.
     * The actual type depends on the compiler being used
     */
    this._index = {
      ASEID_to_Path: /* @__PURE__ */ new Map(),
      Path_to_ASEID: /* @__PURE__ */ new Map(),
      Node_to_Path: /* @__PURE__ */ new Map(),
      Path_to_Node: /* @__PURE__ */ new Map()
    };
  }
  /**
   * Unique hash representing the current state of the index
   * Can be used to identify changes in the index
   */
  get state() {
    const entries = Array.from(this._index.ASEID_to_Path.entries()).sort(([aseidA], [aseidB]) => aseidA.localeCompare(aseidB)).map(([aseid, path]) => `${aseid}:${JSON.stringify(path)}`);
    return entries.join("|");
  }
  get scope() {
    return c.scope(this);
  }
  get parent() {
    return c.scope(this).parent?.resolve(_AreIndex);
  }
  get size() {
    return this._index.ASEID_to_Path.size;
  }
  get nodes() {
    return Array.from(this._index.Node_to_Path.keys());
  }
  get paths() {
    return Array.from(this._index.Path_to_Node.keys());
  }
  get depth() {
    let depth = 0;
    let currentScope = this.scope;
    while (currentScope) {
      depth++;
      currentScope = currentScope.parent;
    }
    return depth;
  }
  /**
   * Adds a platform-agnostic element to the index
   * @param node - AreNode to index
   * @param path - Platform-specific element (DOM, PDF, DOCX, etc.)
   */
  add(node, path) {
    this._index.ASEID_to_Path.set(node.aseid.toString(), path);
    this._index.Path_to_ASEID.set(path, node.aseid.toString());
    this._index.Node_to_Path.set(node, path);
    this._index.Path_to_Node.set(path, node);
  }
  /**
   * Retrieves platform-specific element by AreNode
   * @param node - AreNode to look up
   * @returns Platform-specific element or undefined
   */
  pathOf(node) {
    return this._index.Node_to_Path.get(node);
  }
  /**
   * Retrieves AreNode by platform-specific element
   * @param element - Platform-specific element to look up
   * @returns AreNode or undefined
   */
  nodeOf(path) {
    return this._index.Path_to_Node.get(path);
  }
  /**
   * Removes index entry by AreNode
   * @param node - AreNode to remove from index
   */
  removeByNode(node) {
    const path = this._index.Node_to_Path.get(node);
    if (path) {
      this._index.ASEID_to_Path.delete(node.aseid.toString());
      this._index.Path_to_ASEID.delete(path);
      this._index.Node_to_Path.delete(node);
      this._index.Path_to_Node.delete(path);
    }
  }
  replaceByNode(oldNode, newNode) {
    const path = this._index.Node_to_Path.get(oldNode);
    if (path) {
      this._index.ASEID_to_Path.delete(oldNode.aseid.toString());
      this._index.Path_to_ASEID.set(path, newNode.aseid.toString());
      this._index.Node_to_Path.delete(oldNode);
      this._index.Node_to_Path.set(newNode, path);
      this._index.Path_to_Node.set(path, newNode);
    }
  }
  replaceByElement(oldPath, newPath) {
    const aseid = this._index.Path_to_ASEID.get(oldPath);
    const node = this._index.Path_to_Node.get(oldPath);
    if (aseid && node) {
      this._index.ASEID_to_Path.set(aseid, newPath);
      this._index.Path_to_ASEID.delete(oldPath);
      this._index.Path_to_ASEID.set(newPath, aseid);
      this._index.Node_to_Path.set(node, newPath);
      this._index.Path_to_Node.delete(oldPath);
      this._index.Path_to_Node.set(newPath, node);
    }
  }
  /**
   * Removes index entry by platform-specific element
   * @param path - Platform-specific element to remove from index
   */
  removeByElement(path) {
    const aseid = this._index.Path_to_ASEID.get(path);
    if (aseid) {
      const node = this._index.Path_to_Node.get(path);
      if (node) {
        this._index.ASEID_to_Path.delete(aseid);
        this._index.Path_to_ASEID.delete(path);
        this._index.Node_to_Path.delete(node);
        this._index.Path_to_Node.delete(path);
      }
    }
  }
  clear() {
    this._index.ASEID_to_Path.clear();
    this._index.Path_to_ASEID.clear();
    this._index.Node_to_Path.clear();
    this._index.Path_to_Node.clear();
  }
};
__name(_AreIndex, "AreIndex");
var AreIndex = _AreIndex;

// src/entities/AreNode/AreNode.entity.ts
var _AreNode = class _AreNode extends M {
  get scope() {
    if (!this._scope) {
      this._scope = new x({
        name: `${this.aseid.id}`
      });
    }
    return this._scope;
  }
  fromNew(newEntity) {
    this.aseid = new I({
      id: K.generateTimeId(),
      entity: newEntity.component,
      scope: newEntity.scope
    });
    this.template = newEntity.template || "";
    this.markup = newEntity.markup || "";
    this.styles = newEntity.styles || "";
  }
  fromASEID(aseid) {
    super.fromASEID(aseid);
    this.template = "";
    this.markup = "";
    this.styles = "";
  }
  async emit(event) {
    this.checkScopeInheritance();
    const eventScope = new x({
      name: `${event.name}-scope`,
      fragments: [event]
    }).inherit(this.scope);
    try {
      await this.call("_AreNode_onEvent" /* onEvent */, eventScope);
      eventScope.destroy();
    } catch (error) {
      eventScope.destroy();
      throw error;
    }
  }
  async compile() {
    this.checkScopeInheritance();
    try {
      await this.call("_AreNode_onCompile" /* onCompile */, this.scope);
    } catch (error) {
      throw error;
    }
  }
  async render() {
    this.checkScopeInheritance();
    try {
      await this.call("_AreNode_onRender" /* onRender */, this.scope);
    } catch (error) {
      throw error;
    }
  }
  async update() {
    this.checkScopeInheritance();
    try {
      await this.call("_AreNode_onUpdate" /* onUpdate */, this.scope);
    } catch (error) {
      throw error;
    }
  }
  async mount() {
    this.checkScopeInheritance();
    try {
      await this.call("_AreNode_onMount" /* onMount */, this.scope);
    } catch (error) {
      throw error;
    }
  }
  async load() {
    return await super.load(this.scope);
  }
  async destroy(scope) {
    this.checkScopeInheritance();
    try {
      await super.destroy(scope);
      this.scope.destroy();
    } catch (error) {
      this._scope.destroy();
      throw error;
    }
  }
  //============================================================================================
  //                                Helpers Methods
  //============================================================================================
  /**
   * Method to ensure that the current scope is inherited from the context scope
   * 
   * @throws A_Error if the scope is not inherited from the context scope
   */
  checkScopeInheritance() {
    let attachedScope;
    try {
      attachedScope = c.scope(this);
    } catch (error) {
      throw new f({
        title: `A_UI_Node Scope Inheritance Error`,
        description: `The A_UI_Node entity with ASEID '${this.aseid.toString()}' is not bound to any context scope. Please ensure that the entity is created within a valid context.`,
        originalError: error
      });
    }
  }
};
__name(_AreNode, "AreNode");
var AreNode = _AreNode;

// src/context/AreProps/AreProps.context.ts
var _AreProps = class _AreProps extends b2 {
  constructor(aseid) {
    super(aseid.toString());
  }
  setMultiple(values) {
    Object.entries(values).forEach(([key, value]) => {
      this.set(key, value);
    });
  }
};
__name(_AreProps, "AreProps");
var AreProps = _AreProps;

// src/context/AreStore/AreStore.context.ts
var _AreStore = class _AreStore extends b2 {
  constructor(aseid) {
    super(aseid.toString());
  }
  setMultiple(values) {
    Object.entries(values).forEach(([key, value]) => {
      this.set(key, value);
    });
  }
};
__name(_AreStore, "AreStore");
var AreStore = _AreStore;

// src/context/AreScene/AreScene.context.ts
var _AreScene = class _AreScene extends B {
  constructor(id, template) {
    super({ name: id?.toString() || "are-app" });
    this._template = "";
    this._listeners = /* @__PURE__ */ new Map();
    this._styles = /* @__PURE__ */ new Map();
    this._bindings = /* @__PURE__ */ new Map();
    this._stateHashes = /* @__PURE__ */ new Map();
    this._status = "initialized";
    this._template = (template || "").replace(/\s+/g, " ").trim();
  }
  get id() {
    return this.name;
  }
  /**
   * Get the root scene of the current scene
   */
  get root() {
    let currentScope = this.scope;
    let rootScene = this;
    while (currentScope) {
      const parentScene = currentScope.parent?.resolve(this.constructor);
      if (parentScene) {
        rootScene = parentScene;
      }
      currentScope = currentScope.parent;
    }
    return rootScene;
  }
  get status() {
    return this._status;
  }
  get scope() {
    return c.scope(this);
  }
  get index() {
    return c.scope(this).resolveFlat(AreIndex);
  }
  get parent() {
    return c.scope(this).parent?.resolveFlat(_AreScene);
  }
  get template() {
    return this._template;
  }
  get initialized() {
    return this._status === "initialized";
  }
  get compiled() {
    return this._status === "compiled";
  }
  get rendered() {
    return this._status === "rendered";
  }
  get children() {
    return this.scope.resolveFlatAll(AreNode).map((n) => n.scope.resolveFlat(_AreScene)).filter((s) => !!s);
  }
  get depth() {
    let depth = 0;
    let currentScope = this.scope;
    while (currentScope) {
      if (currentScope.parent && currentScope.parent.resolve(this.constructor)) {
        depth++;
      }
      currentScope = currentScope.parent;
    }
    return depth;
  }
  get styles() {
    return this._styles.entries();
  }
  *nodes(filter) {
    for (const path of this.paths()) {
      const node = this.index.nodeOf(path);
      if (!node) {
        continue;
      }
      if (filter && !filter(node)) {
        continue;
      }
      yield node;
    }
  }
  *paths() {
    let paths = this.index.paths;
    paths.sort((a2, b3) => {
      const aParsed = a2.split(".").map((part) => parseInt(part, 10));
      const bParsed = b3.split(".").map((part) => parseInt(part, 10));
      const len = Math.min(aParsed.length, bParsed.length);
      for (let i2 = 0; i2 < len; i2++) {
        if (aParsed[i2] !== bParsed[i2]) {
          return aParsed[i2] - bParsed[i2];
        }
      }
      return aParsed.length - bParsed.length;
    });
    for (const path of paths) {
      yield path;
    }
  }
  attach(node) {
    console.log("ATTACH NODE TO SCENE", node.aseid.entity, "TO SCENE", this.id);
    this.scope.register(node);
    node.scope.inherit(this.scope);
  }
  async mount(node) {
    const newHash = this.computeHash(node);
    this._stateHashes.set(node, newHash);
  }
  async unmount(node) {
    this._stateHashes.delete(node);
  }
  hasChangesFor(node) {
    const previousHash = this.getHash(node);
    const currentHash = this.computeHash(node);
    let result = false;
    if (!previousHash || previousHash !== currentHash) {
      result = true;
    }
    return result;
  }
  sceneFor(node) {
    return node.scope.resolveFlat(_AreScene);
  }
  propsOf(node) {
    return node.scope.resolveFlat(AreProps);
  }
  storeOf(node) {
    return node.scope.resolveFlat(AreStore);
  }
  getHash(node) {
    return this._stateHashes.get(node);
  }
  computeHash(node) {
    const nodeBindings = this._bindings.get(node);
    const nodeListeners = this._listeners.get(node);
    const nodeStyles = this._styles.get(node);
    const nestedScene = this.sceneFor(node);
    const props = this.propsOf(node);
    const store = this.storeOf(node);
    const hashSource = JSON.stringify({
      bindings: nodeBindings ? Array.from(nodeBindings.entries() || []) : null,
      listeners: nodeListeners ? Array.from(nodeListeners.entries()).map(([key, value]) => [key, Array.from(value)]) : null,
      styles: nodeStyles || null,
      nestedScene: nestedScene ? nestedScene.toJSON() : null,
      props: props ? props.toJSON() : null,
      store: store ? store.toJSON() : null
    });
    let hash = 0, i2, chr;
    for (i2 = 0; i2 < hashSource.length; i2++) {
      chr = hashSource.charCodeAt(i2);
      hash = (hash << 5) - hash + chr;
      hash |= 0;
    }
    return hash.toString();
  }
  async addStyles(node, styles) {
    this._styles.set(node, styles);
  }
  async getStyles(node) {
    return this._styles.get(node);
  }
  async addListener(event, handler, parentNode, node) {
    const callback = /* @__PURE__ */ __name(async (e) => {
      const newEvent = new AreEvent(handler, {
        event,
        data: e
      });
      await parentNode.emit(newEvent);
    }, "callback");
    const existingListeners = this._listeners.get(node) || /* @__PURE__ */ new Map();
    const handlers = existingListeners.get(event) || /* @__PURE__ */ new Set();
    handlers.add(callback);
    existingListeners.set(event, handlers);
    this._listeners.set(node, existingListeners);
  }
  async getListeners(node) {
    return this._listeners.get(node) || null;
  }
  async getBindings(node) {
    return this._bindings.get(node) || null;
  }
  async bind(node, name, value) {
    const existingBindings = this._bindings.get(node) || /* @__PURE__ */ new Map();
    existingBindings.set(name, value);
    this._bindings.set(node, existingBindings);
  }
  /**
   * This function will combine all binding scenes into one build scene 
   * and return the final compiled markup with all paths properly set.
   * 
   * All paths in the index should be updated and the full tree should be built.
   * 
   */
  async compile() {
    this._status = "compiled";
  }
  async render() {
    this._status = "rendered";
  }
  async clear() {
    this.index.clear();
    this._listeners.clear();
    this._styles.clear();
    this._bindings.clear();
  }
  async reset(template) {
    this._template = template;
    await this.clear();
  }
  toJSON() {
    return {
      ...super.toJSON(),
      children: Object.fromEntries(
        Array.from(this.children).map((child) => [
          child.id.toString(),
          child.toJSON()
        ])
      )
    };
  }
};
__name(_AreScene, "AreScene");
var AreScene = _AreScene;

// examples/jumpstart/src/components/A-Btn.component.ts
var _ABtn = class _ABtn extends Are {
  async template() {
    return `<button class="a-btn" @click="handleClick">{{name}}</button> <a-input a-if="showInput" @click="handleclikc"></a-input>`;
  }
  async styles() {
    return `
            .a-btn {
                padding: 10px 20px;
                background-color: {{bgColor}}!important;
                color: white;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                font-size: 16px;
            }
        `;
  }
  async data() {
    return {
      name: "A_Button Element",
      bgColor: "#007BFF"
    };
  }
  async onLoad(node, store, logger) {
    logger.debug("red", `Before ABtn Component Load ... : <${node.aseid.entity}> : ${node.aseid.toString()}`);
  }
  async onAfterLoad(node, store, logger) {
    logger.debug("red", `After ABtn Component Load ... : <${node.aseid.entity}> : ${node.aseid.toString()}`);
  }
  async handleClick(scope, node, store, logger, event, scene) {
    store.set("name", "Button Clicked!");
    store.set("bgColor", "#ff5733");
    console.log("event data:", event);
    await node.update();
  }
};
__name(_ABtn, "ABtn");
__decorateClass([
  Are.onBeforeLoad,
  __decorateParam(0, it(V)),
  __decorateParam(1, it(AreStore)),
  __decorateParam(2, it(T2))
], _ABtn.prototype, "onLoad", 1);
__decorateClass([
  Are.onAfterLoad,
  __decorateParam(0, it(V)),
  __decorateParam(1, it(AreStore)),
  __decorateParam(2, it(T2))
], _ABtn.prototype, "onAfterLoad", 1);
__decorateClass([
  Are.EventHandler,
  __decorateParam(0, it(x)),
  __decorateParam(1, it(V)),
  __decorateParam(2, it(AreStore)),
  __decorateParam(3, it(T2)),
  __decorateParam(4, it(AreEvent)),
  __decorateParam(5, it(AreScene))
], _ABtn.prototype, "handleClick", 1);
var ABtn = _ABtn;

// examples/jumpstart/src/components/A-Input.component.ts
var _AInput = class _AInput extends Are {
  async template() {
    return `<div><input $no-update @input="onChange" type="text" placeholder="A_Input Element"/>   {{inputValue}}</div>`;
  }
  async data() {
    return {
      inputValue: "Test"
    };
  }
  async A_UI_NODE_onBeforeLoad(node, scope, store, logger) {
    logger.log("green", `AInput is initializing... : <${node.aseid.entity}> : `, node.aseid.toString());
  }
  async onChange(scope, node, store, logger, event, scene) {
    if (event.data.target === null || store.get("inputValue") === event.data.target.value) return;
    logger.log("green", `AInput onChange event triggered... : <${node.aseid.entity}> : `, node.aseid.toString(), event.data.target.value);
    store.set("inputValue", event.data.target.value);
    await node.update();
  }
};
__name(_AInput, "AInput");
__decorateClass([
  Are.EventHandler,
  __decorateParam(0, it(AreNode)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreStore)),
  __decorateParam(3, it(T2))
], _AInput.prototype, "A_UI_NODE_onBeforeLoad", 1);
__decorateClass([
  Are.EventHandler,
  __decorateParam(0, it(x)),
  __decorateParam(1, it(V)),
  __decorateParam(2, it(AreStore)),
  __decorateParam(3, it(T2)),
  __decorateParam(4, it(AreEvent)),
  __decorateParam(5, it(AreScene))
], _AInput.prototype, "onChange", 1);
var AInput = _AInput;

// src/context/AreSyntax/AreSyntax.context.ts
var _AreSyntax = class _AreSyntax extends B {
  constructor(config = {}) {
    super({ name: "AreSyntax" });
    this.STANDARD_HTML_TAGS = /* @__PURE__ */ new Set([
      "html",
      "head",
      "body",
      "div",
      "span",
      "p",
      "a",
      "ul",
      "ol",
      "li",
      "table",
      "thead",
      "tbody",
      "tr",
      "td",
      "th",
      "form",
      "input",
      "button",
      "select",
      "option",
      "textarea",
      "label",
      "img",
      "h1",
      "h2",
      "h3",
      "h4",
      "h5",
      "h6",
      "script",
      "style",
      "link",
      "meta",
      "nav",
      "footer",
      "header",
      "section",
      "article",
      "aside",
      "main",
      "canvas",
      "video",
      "audio",
      "br",
      "hr",
      "strong",
      "em",
      "small",
      "pre",
      "code",
      "iframe",
      "details",
      "summary",
      "svg",
      "path",
      "circle",
      "rect",
      "polygon",
      "g",
      "defs"
    ]);
    this.config = {
      debugMode: config.debugMode || false,
      interpolationDelimiters: config.interpolationDelimiters || ["{{", "}}"],
      bindingDelimiter: config.bindingDelimiter || ":",
      listenerDelimiter: config.listenerDelimiter || "@",
      strictMode: config.strictMode || true,
      customDirectives: config.customDirectives || [],
      trimWhitespace: config.trimWhitespace || true,
      rootTag: config.rootTag || "are-root"
    };
  }
  isRootNode(node) {
    return node.aseid.entity.toLowerCase() === "are-root";
  }
  /**
   * Determines if a tag is a custom component or standard HTML
   * 
   * @param node 
   * @returns 
   */
  isCustomNode(node) {
    return !this.STANDARD_HTML_TAGS.has(node.aseid.entity.toLowerCase());
  }
  /**
   * Interpolation is a placeholder for dynamic data in the template 
   * Example: {{dataProperty}}
   * 
   * @param template 
   */
  *extractInterpolations(template) {
    const interpolationRegex = new RegExp(`${this.config.interpolationDelimiters[0]}\\s*([a-zA-Z0-9_.$]+)\\s*${this.config.interpolationDelimiters[1]}`, "g");
    let match;
    while ((match = interpolationRegex.exec(template)) !== null) {
      yield { raw: match[0], name: match[1] };
    }
  }
  /**
   * All props of the tag started with default $ is a directive 
   * Example: $if="condition", $for, $show, $hide, $no-update
   * 
   * @param template 
   */
  *extractDirectives(template) {
    for (const directive of this.config.customDirectives) {
      const directiveRegex = new RegExp(`\\s+${directive}(\\s|=|>)`, "g");
      if (directiveRegex.test(template)) {
        yield directive;
      }
    }
  }
  /**
   * Extracts all properties from a tag in the template
   * Example: <are-btn :label="'Click Me'" @click="handleClick" />
   * 
   * @param template 
   */
  *extractProps(template) {
    const attrRegex = new RegExp(`([a-zA-Z0-9${this.config.bindingDelimiter}${this.config.listenerDelimiter}][a-zA-Z0-9:._-]+)\\s*=\\s*"(.*?)"`, "g");
    let attrMatch;
    while ((attrMatch = attrRegex.exec(template)) !== null) {
      const raw = attrMatch[0];
      const name = attrMatch[1];
      const value = attrMatch[2];
      yield { name, raw, value };
    }
  }
  *extractListeners(template) {
    const eventRegex = new RegExp(`@([a-zA-Z0-9${this.config.bindingDelimiter}${this.config.listenerDelimiter}_-]+)\\s*=\\s*"(.*?)"`, "g");
    let eventMatch;
    while ((eventMatch = eventRegex.exec(template)) !== null) {
      const raw = eventMatch[0];
      const name = eventMatch[1];
      const handler = eventMatch[2];
      yield { name, raw, handler };
    }
  }
  isBindingProp(prop) {
    return prop.raw.startsWith(":");
  }
  extractPropName(prop) {
    return prop.name.substring(1);
  }
  extractPropValue(prop, parentStore) {
    switch (true) {
      case (this.isBindingProp(prop) && !(prop.value.startsWith("'") && prop.value.endsWith("'"))): {
        return parentStore?.get(prop.value);
      }
      case (this.isBindingProp(prop) && (prop.value.startsWith("'") && prop.value.endsWith("'"))): {
        return prop.value.substring(1, prop.value.length - 1);
      }
      default: {
        return prop.value;
      }
    }
  }
  replaceInterpolation(template, interpolation, value) {
    const key = typeof interpolation === "string" ? interpolation : interpolation.name;
    console.log("Replacing interpolation", key, "with value", value, new RegExp(`${this.config.interpolationDelimiters[0]}\\s*${key}\\s*${this.config.interpolationDelimiters[1]}`, "g"));
    return template.replace(new RegExp(`${this.config.interpolationDelimiters[0]}\\s*${key}\\s*${this.config.interpolationDelimiters[1]}`, "g"), value !== void 0 ? String(value) : "");
  }
};
__name(_AreSyntax, "AreSyntax");
var AreSyntax = _AreSyntax;

// src/components/AreCompiler/AreCompiler.component.ts
var _a79;
var _AreCompiler = class _AreCompiler extends F {
  debug(node, message) {
    const scene = node.scope.resolve(AreScene);
    c.scope(this).resolve(T2)?.debug(
      "magenta",
      `${" - ".repeat(scene.depth)} ${message}`
    );
  }
  async [_a79 = uo.onBeforeLoad](scope, root, config, logger) {
    logger?.debug("cyan", `Initializing AreBrowserDom in AreBrowserCompiler...`);
    const mountPoint = config?.get("ARE_MOUNT_POINT") || "are-app";
    if (!root) {
      scope.register(new AreScene(mountPoint));
      scope.register(new AreIndex(mountPoint));
    }
  }
  async event(node, scope, event, scene, feature, ...args) {
    this.debug(node, `[Event -> Handle] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    if (component) {
      await feature.chain(component, event.name, scope);
    }
  }
  async beforeLoad(node, scope, scene, feature, ...args) {
    this.debug(node, `[Load -> Before] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    if (component)
      await feature.chain(component, "_Are_onBeforeLoad" /* onBeforeLoad */, node.scope);
  }
  async afterLoad(node, scope, scene, feature, ...args) {
    console.log("feature", feature);
    this.debug(node, `[Load -> After] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = this.component(node, scope);
    if (component)
      await feature.chain(component, "_Are_onAfterLoad" /* onAfterLoad */, node.scope);
  }
  component(node, scope) {
    return scope.resolve(y.toPascalCase(node.aseid.entity));
  }
  async load(node, scope, scene, syntax, logger, ...args) {
    const component = this.component(node, scope);
    if (!component) {
      scope.resolve(T2)?.warning(
        "Component Not Found",
        `No component registered for entity: ${node.aseid.entity}. Please ensure that the component is registered in the scope before rendering.`
      );
      return;
    }
    const data = await component.data();
    const template = await component.template();
    const styles = await component.styles();
    const newNodeScene = new AreScene(node.aseid, template);
    const newNodeIndex = new AreIndex(node.aseid);
    const newNodeStore = new AreStore(node.aseid);
    const newNodeProps = new AreProps(node.aseid);
    node.scope.register(newNodeScene);
    node.scope.register(newNodeIndex);
    node.scope.register(newNodeStore);
    node.scope.register(newNodeProps);
    const store = scope.resolve(AreStore);
    store.setMultiple(data);
    node.template = template;
    node.styles = styles;
    this.debug(node, `Loaded component <${node.aseid.entity}> with ${this.constructor.name}`);
  }
  async beforeCompile(node, scope, scene, feature, ...args) {
    this.debug(node, `[Compile -> Before] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    if (component)
      await feature.chain(component, "_Are_onBeforeCompile" /* onBeforeCompile */, node.scope);
  }
  async afterCompile(node, scope, scene, feature, ...args) {
    this.debug(node, `[Compile -> After] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    if (component)
      await feature.chain(component, "_Are_onAfterCompile" /* onAfterCompile */, node.scope);
  }
  async compile(node, ...args) {
  }
  async beforeRender(node, scope, scene, feature, ...args) {
    this.debug(node, `[Render -> Before] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    if (component)
      await feature.chain(component, "_Are_onBeforeRender" /* onBeforeRender */, node.scope);
  }
  async afterRender(node, scope, scene, feature, ...args) {
    this.debug(node, `[Render -> After] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    if (component)
      await feature.chain(component, "_Are_onAfterRender" /* onAfterRender */, node.scope);
  }
  async render(node, scene, parentScene, ...args) {
    this.debug(node, `Rendering node <${node.aseid.entity}> into ${scene.name}`);
    for (const newNode of scene.nodes()) {
      scene.attach(newNode);
      await newNode.load();
      await newNode.compile();
    }
    this.debug(node, `Node <${node.aseid.entity}> rendered successfully.`);
  }
  async update(node, scene, ...args) {
  }
  async destroy() {
  }
};
__name(_AreCompiler, "AreCompiler");
__decorateClass([
  v.Extend(),
  __decorateParam(0, ze.Parent()),
  __decorateParam(0, it(x)),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, it(A2)),
  __decorateParam(3, it(T2))
], _AreCompiler.prototype, _a79, 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onEvent" /* onEvent */,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreEvent)),
  __decorateParam(3, it(AreScene)),
  __decorateParam(4, it(v))
], _AreCompiler.prototype, "event", 1);
__decorateClass([
  v.Extend({
    name: Xe.LOAD,
    before: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(v))
], _AreCompiler.prototype, "beforeLoad", 1);
__decorateClass([
  v.Extend({
    name: Xe.LOAD,
    after: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(v))
], _AreCompiler.prototype, "afterLoad", 1);
__decorateClass([
  v.Extend({
    name: Xe.LOAD,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(AreSyntax)),
  __decorateParam(4, it(T2))
], _AreCompiler.prototype, "load", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    before: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(v))
], _AreCompiler.prototype, "beforeCompile", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    after: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(v))
], _AreCompiler.prototype, "afterCompile", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V))
], _AreCompiler.prototype, "compile", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onBeforeRender" /* onBeforeRender */,
    before: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(v))
], _AreCompiler.prototype, "beforeRender", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onAfterRender" /* onAfterRender */,
    after: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(x)),
  __decorateParam(2, it(AreScene)),
  __decorateParam(3, it(v))
], _AreCompiler.prototype, "afterRender", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onRender" /* onRender */,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, ze.Required()),
  __decorateParam(2, it(AreScene))
], _AreCompiler.prototype, "render", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onUpdate" /* onUpdate */,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(AreScene))
], _AreCompiler.prototype, "update", 1);
__decorateClass([
  v.Extend({
    name: Xe.DESTROY,
    scope: [AreNode]
  })
], _AreCompiler.prototype, "destroy", 1);
var AreCompiler = _AreCompiler;

// src/entities/AreSignal/AreSignal.entity.ts
var _AreSignal = class _AreSignal extends P {
};
__name(_AreSignal, "AreSignal");
var AreSignal = _AreSignal;

// src/signals/AreInit.signal.ts
var _AreInitSignal = class _AreInitSignal extends AreSignal {
  static async default() {
    return new _AreInitSignal({ data: { ready: false } });
  }
};
__name(_AreInitSignal, "AreInitSignal");
var AreInitSignal = _AreInitSignal;

// src/containers/AreApp/AreApp.container.ts
var _a80, _b;
var _AreApp = class _AreApp extends ut {
  get root() {
    return this.scope.resolve(AreScene);
  }
  async [_b = uo.onAfterLoad](logger) {
    logger.info("cyan", `UI Application mounted at <${this.root.name}>`);
  }
  async [_a80 = uo.onStart](logger, scene, compiler, config) {
    const signal = new AreInitSignal({ data: { ready: true } });
    await signal.next(this.scope);
  }
};
__name(_AreApp, "AreApp");
__decorateClass([
  v.Extend(),
  __decorateParam(0, it(T2))
], _AreApp.prototype, _b, 1);
__decorateClass([
  v.Extend(),
  __decorateParam(0, ze.Required()),
  __decorateParam(0, it(T2)),
  __decorateParam(1, ze.Required()),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, it(AreCompiler)),
  __decorateParam(3, it(A2))
], _AreApp.prototype, _a80, 1);
var AreApp = _AreApp;

// src/components/AreBrowserCompiler/AreBrowserCompiler.component.ts
var _a81;
var _AreBrowserCompiler = class _AreBrowserCompiler extends AreCompiler {
  async [_a81 = uo.onBeforeLoad](scope, root, config, logger) {
    logger?.debug("cyan", `Initializing AreScene in AreBrowserCompiler...`);
    const mountPointID = config?.get("ARE_MOUNT_POINT") || "are-app";
    if (!root) {
      const mountPointElement = document.getElementById(mountPointID);
      if (!mountPointElement) {
        throw new Error(`Mount point with id '${mountPointID}' not found in the DOM.`);
      }
      scope.register(new AreScene(mountPointID, mountPointElement.innerHTML));
      scope.register(new AreIndex(mountPointID));
      await this.buildSceneIndex(scope.resolve(AreScene));
    }
  }
  async compile(node, syntax, scope, props, store, parentScene, parentStore, scene, logger) {
    this.debug(node, `Compiling node <${node.aseid.entity}> in Scene <${parentScene.name}>`);
    if (!scene)
      return;
    if (!this.component(node, scope)) {
      this.debug(node, `Node <${node.aseid.entity}> is not a registered component. Skipping compilation.`);
      return;
    }
    if (node.aseid.entity !== "are-interpolation")
      for (const interpolation of syntax.extractInterpolations(node.template)) {
        node.template = syntax.replaceInterpolation(
          node.template,
          interpolation,
          `<are-interpolation :value="${interpolation.name}"></are-interpolation>`
        );
      }
    let template = node.template || "";
    let styles = node.styles || "";
    if (scene && !scene.rendered) {
      logger?.debug(
        "red",
        `${" - ".repeat(scene.depth)}AreCompiler: Building Scene Index for <${scene.name}> during compilation of Node <${node.aseid.entity}>`
      );
      await scene.reset(template);
      await this.buildSceneIndex(scene);
    }
    for (const prop of syntax.extractProps(node.markup)) {
      const name = syntax.extractPropName(prop);
      const value = syntax.extractPropValue(prop, parentStore);
      logger?.log(
        "green",
        `${" - ".repeat(scene ? scene.depth : 0)}[Compile -> ADD -> Prop] '${name}' in component <${node.aseid.entity}> with value = ${value}`
      );
      props.set(name, value);
    }
    for (const interpolation of syntax.extractInterpolations(styles)) {
      const value = store.get(interpolation.name);
      styles = syntax.replaceInterpolation(styles, interpolation, value);
    }
    await scene.addStyles(node, styles);
    for (const sceneNode of scene.nodes()) {
      if (syntax.isCustomNode(sceneNode)) {
        const existed = scene.scope.resolveFlat(AreNode, {
          query: {
            aseid: sceneNode.aseid
          }
        });
        if (!existed) {
          logger?.debug(
            "green",
            `${" - ".repeat(scene.depth)}[Compile -> ADD -> Component] Attaching custom component <${sceneNode.aseid.entity}> ASEID: ${sceneNode.aseid.toString()} to Scene <${scene.name}>`
          );
          scene.attach(sceneNode);
          await sceneNode.load();
        }
        await sceneNode.compile();
        continue;
      }
      for (const interpolation of syntax.extractInterpolations(sceneNode.markup)) {
        const value = store.get(interpolation.name) || props.get(interpolation.name);
        await scene.bind(sceneNode, interpolation.name, value);
        logger?.debug(
          "green",
          `${" - ".repeat(scene.depth)}[Compile -> ADD -> Binding] '${interpolation.name}' with value '${value}' in component <${node.aseid.entity}> for element <${sceneNode.aseid.entity}> ASEID : ${sceneNode.aseid.toString()}; hashes:[${scene.computeHash(sceneNode)}::${scene.getHash(sceneNode)}]`
        );
      }
      for (const listeners of syntax.extractListeners(sceneNode.markup)) {
        await scene.addListener(listeners.name, listeners.handler, node, sceneNode);
      }
    }
    this.debug(node, `Node <${node.aseid.entity}> compiled successfully.`);
  }
  async update(node, scene, logger) {
    logger?.debug(
      "red",
      " ",
      `AreBrowserCompiler: Updating Node <${node.aseid.entity}> in Scene <${scene.name}>`,
      " "
    );
    await node.compile();
    logger?.debug(
      "red",
      " ",
      `AreBrowserCompiler: Node <${node.aseid.entity}> updated successfully.`,
      " "
    );
    await this.mountScene(scene);
    logger?.debug(
      "red",
      " ",
      `AreBrowserCompiler: Scene <${scene.name}> mounted successfully after Node <${node.aseid.entity}> update.`,
      " "
    );
  }
  async destroy() {
  }
  computePath(node, virtual) {
    const path = [];
    let current = node;
    while (current && current !== virtual) {
      const parent = current.parentNode;
      if (parent) {
        const index = Array.from(parent.childNodes).filter((n) => n.nodeType === Node.ELEMENT_NODE).indexOf(current);
        path.unshift(index);
      }
      current = parent;
    }
    return path.join(".");
  }
  getElementBypath(root, path) {
    const indices = path.split(".").map((index) => parseInt(index, 10));
    let current = root;
    for (const index of indices) {
      const elementChildren = Array.from(current.childNodes).filter((n) => n.nodeType === Node.ELEMENT_NODE);
      current = elementChildren[index];
      if (!current) {
        return null;
      }
    }
    return current;
  }
  buildSceneIndex(scene) {
    const virtual = new DOMParser().parseFromString(scene.template, "text/html");
    const walker = document.createTreeWalker(virtual.body, NodeFilter.SHOW_ELEMENT);
    let current = walker.nextNode();
    while (current) {
      const path = this.computePath(current, virtual.body);
      const areNode = new AreNode({
        scope: scene.name,
        component: current && current.tagName ? current.tagName.toLowerCase() : "text-node",
        markup: current instanceof Element ? current.outerHTML : current.textContent || ""
      });
      scene.index.add(areNode, path);
      current = walker.nextNode();
    }
  }
  async mountScene(scene, mountPointElement) {
    const syntax = scene.scope.resolve(AreSyntax);
    const logger = scene.scope.resolve(T2);
    logger.debug(
      "cyan",
      `${" - ".repeat(scene.depth)}AreBrowserCompiler: Mounting Scene <${scene.name}>`
    );
    if (!mountPointElement)
      mountPointElement = document.getElementById(scene.id) || document.querySelector(`[aseid="${scene.id}"]`);
    if (!mountPointElement) {
      throw new Error(`Mount point with id '${scene.id}' not found in the DOM.`);
    }
    const walker = document.createTreeWalker(mountPointElement, NodeFilter.SHOW_ELEMENT);
    let current = walker.nextNode();
    const treeWalkerStack = /* @__PURE__ */ new Map();
    while (current) {
      const path = this.computePath(current, mountPointElement);
      if (path) {
        treeWalkerStack.set(current, path);
      }
      current = walker.nextNode();
    }
    for (const [current2, path] of treeWalkerStack) {
      const node = scene.index.nodeOf(path);
      logger.debug("cyan", `${" - ".repeat(scene.depth)}[${path}] - CURRENT NODE: ${current2.tagName.toLowerCase()} :: MAPPED ASEID: ${node ? node.aseid.toString() : "NOT FOUND IN INDEX"}`);
      if (!node)
        continue;
      if (!scene.hasChangesFor(node)) {
        logger.debug(
          "magenta",
          `${" - ".repeat(scene.depth)}[${path}] - NO CHANGES DETECTED FOR NODE <${node.aseid.entity}>. aseid: ${node.aseid.toString()} SKIPPING MOUNTING. hashes: [${scene.computeHash(node)}::${scene.getHash(node)}]`
        );
        continue;
      }
      logger.debug("green", `${" - ".repeat(scene.depth)}[${path}] - MOUNTING NODE <${node.aseid.entity}>`);
      const wrapper = document.createElement("div");
      wrapper.setAttribute("aseid", node.aseid.toString());
      const nodeScene = node.scope.resolve(AreScene);
      if (nodeScene) {
        wrapper.innerHTML = nodeScene.template;
        const styles = await nodeScene.getStyles(node);
        if (styles) {
          const styleElementId = `a-style-${node.aseid.entity}`;
          let styleElement = document.querySelector(`#${styleElementId}`);
          if (!styleElement) {
            styleElement = document.createElement("style");
            styleElement.id = styleElementId;
            document.head.appendChild(styleElement);
          }
          styleElement.innerHTML = styles;
        }
        const build = await this.mountScene(nodeScene, wrapper);
        wrapper.replaceChildren(...Array.from(build.childNodes));
        current2.replaceWith(wrapper);
      }
      const eventMap = await scene.getListeners(node);
      if (eventMap) {
        for (const [event, handlers] of eventMap.entries()) {
          for (const handler of handlers) {
            current2.addEventListener(event, handler);
          }
        }
      }
      const bindingsMap = await scene.getBindings(node);
      if (bindingsMap) {
        console.log("bindingsMap", bindingsMap);
        for (const [name, value] of bindingsMap.entries()) {
          console.log("Binding", name, "with value", value, "on node", node.aseid.toString(), syntax.replaceInterpolation(
            current2.innerHTML,
            name,
            value
          ));
          current2.innerHTML = syntax.replaceInterpolation(
            current2.innerHTML,
            name,
            value
          );
        }
      }
      await scene.mount(node);
      logger.log("green", `${" - ".repeat(scene.depth)}[${path}] - NODE <${node.aseid.entity}> MOUNTED SUCCESSFULLY. hashes: [${scene.computeHash(node)}::${scene.getHash(node)}]`);
    }
    logger.debug(
      "cyan",
      `${" - ".repeat(scene.depth)}AreBrowserCompiler: Scene <${scene.name}> mounted successfully.`
    );
    await scene.render();
    return mountPointElement;
  }
  async renderScene(vector, scene, logger, syntax) {
    try {
      logger?.debug(
        "red",
        " ",
        `AreCompiler: Rendering Scene <${scene.name}>`,
        " "
      );
      for (const newNode of scene.nodes(syntax.isCustomNode.bind(syntax))) {
        scene.attach(newNode);
        await newNode.load();
        await newNode.compile();
      }
      logger?.debug(
        "red",
        " ",
        `AreCompiler: Mounting Scene <${scene.name}>`,
        " "
      );
      await this.mountScene(scene);
      logger?.debug(
        "red",
        " ",
        `AreCompiler: Scene <${scene.name}> rendered successfully.`,
        " "
      );
    } catch (error) {
      logger.error(error);
    }
  }
};
__name(_AreBrowserCompiler, "AreBrowserCompiler");
__decorateClass([
  v.Extend(),
  __decorateParam(0, ze.Parent()),
  __decorateParam(0, it(x)),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, it(A2)),
  __decorateParam(3, it(T2))
], _AreBrowserCompiler.prototype, _a81, 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(AreSyntax)),
  __decorateParam(2, it(x)),
  __decorateParam(3, it(AreProps)),
  __decorateParam(4, it(AreStore)),
  __decorateParam(5, ze.Parent()),
  __decorateParam(5, it(AreScene)),
  __decorateParam(6, ze.Parent()),
  __decorateParam(6, it(AreStore)),
  __decorateParam(7, ze.Flat()),
  __decorateParam(7, it(AreScene)),
  __decorateParam(8, it(T2))
], _AreBrowserCompiler.prototype, "compile", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onUpdate" /* onUpdate */,
    scope: [AreNode]
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, it(T2))
], _AreBrowserCompiler.prototype, "update", 1);
__decorateClass([
  v.Extend({
    name: Xe.DESTROY,
    scope: [AreNode]
  })
], _AreBrowserCompiler.prototype, "destroy", 1);
__decorateClass([
  v.Extend({
    name: vo.Next
  }),
  __decorateParam(0, it(V)),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, it(T2)),
  __decorateParam(3, it(AreSyntax))
], _AreBrowserCompiler.prototype, "renderScene", 1);
var AreBrowserCompiler = _AreBrowserCompiler;

// src/components/AreSlot/AreSlot.component.ts
var _a82;
var _AreSlot = class _AreSlot extends Are {
  async template() {
    return `<div>Are Slot Component</div>`;
  }
  async [_a82 = vo.Next](vector) {
    console.log("AreSlot Signal Vector Emitted:", vector);
  }
  // @A_Feature.Extend({
  //     name: AreNodeFeatures.onCompile,
  //     scope: [AreNode]
  // })
  // async compile(
  //     @A_Inject(A_Caller) node: AreNode,
  //     @A_Inject(AreScene) scene: AreScene,
  //     @A_Inject(A_Logger) logger: A_Logger,
  //     @A_Inject(A_SignalState) signalState?: A_SignalState,
  // ) {
  //     const vector = await signalState?.toVector().toDataVector()
  //     logger.debug('red',
  //         '================================================================',
  //         `Compiling AreSlot Component at Scene: <${scene.name}>`,
  //         '================================================================',
  //         vector
  //     )
  // }
};
__name(_AreSlot, "AreSlot");
__decorateClass([
  v.Extend(),
  __decorateParam(0, it(ge2))
], _AreSlot.prototype, _a82, 1);
var AreSlot = _AreSlot;

// src/components/AreRoot/AreRoot.component.ts
var _AreRoot = class _AreRoot extends Are {
  async template() {
    return `<div> Are Root Component</div>`;
  }
};
__name(_AreRoot, "AreRoot");
var AreRoot = _AreRoot;

// src/components/AreInterpolation/AreInterpolation.component.ts
var _AreInterpolation = class _AreInterpolation extends Are {
  async template() {
    return ``;
  }
  async A_INTERPOLATION_onAfterCompile(node, scene, logger, props) {
    logger.info("blue", `AreInterpolation onAfterCompile called... : <${node.aseid.entity}> : `, node.aseid.toString());
    await scene.reset(props.get("value"));
  }
};
__name(_AreInterpolation, "AreInterpolation");
__decorateClass([
  Are.onAfterCompile,
  __decorateParam(0, it(V)),
  __decorateParam(1, it(AreScene)),
  __decorateParam(2, it(T2)),
  __decorateParam(3, it(AreProps))
], _AreInterpolation.prototype, "A_INTERPOLATION_onAfterCompile", 1);
var AreInterpolation = _AreInterpolation;

// examples/jumpstart/src/concept.ts
(async () => {
  try {
    const container = new AreApp({
      name: "ARE Jumpstart",
      components: [
        // ----------------------------------
        // Allowed Entities 
        // ----------------------------------
        // ............
        // ----------------------------------
        // Allowed Commands 
        // ----------------------------------
        // ............
        // ----------------------------------
        // UI Components 
        // ----------------------------------
        SignInComponent,
        ABtn,
        AInput,
        AreSlot,
        Tt,
        AreRoot,
        AreInterpolation,
        // ----------------------------------
        // Addons 
        // ----------------------------------
        f2,
        R2,
        // A_ServerProxy
        AreBrowserCompiler,
        T2
      ],
      entities: [
        // ............
        AreInitSignal
      ],
      fragments: [
        new A2({
          defaults: {
            A_UI_MOUNT_POINT: "a-root",
            [de2.LOG_LEVEL]: "debug"
          }
        }),
        new AreSyntax()
      ]
    });
    const concept = new Ne({
      name: "adaas-are-example-jumpstart",
      fragments: [new A2({
        variables: ["CONFIG_VERBOSE", "DEV_MODE"],
        defaults: {
          CONFIG_VERBOSE: true,
          DEV_MODE: true
        }
      })],
      components: [T2, R2, f2],
      containers: [container]
    });
    await concept.load();
    await concept.start();
  } catch (error) {
    const logger = c.root.resolve(T2);
    logger.error(error);
  }
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2NvbnN0YW50cy9lbnYuY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS50eXBlcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtTWV0YS9BLU1ldGEuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5tZXRhLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5tZXRhLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9oZWxwZXJzL0FfRm9ybWF0dGVyLmhlbHBlci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvaGVscGVycy9BX0lkZW50aXR5LmhlbHBlci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRXJyb3IvQV9FcnJvci5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUVycm9yL0FfRXJyb3IuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BU0VJRC9BU0VJRC5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0FTRUlEL0FTRUlELmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1FbnRpdHkvQS1FbnRpdHkuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRW50aXR5L0EtRW50aXR5Lm1ldGEudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUZyYWdtZW50L0EtRnJhZ21lbnQuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2hlbHBlcnMvQV9Db21tb24uaGVscGVyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1TY29wZS9BLVNjb3BlLmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1TY29wZS9BLVNjb3BlLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1DYWxsZXIvQV9DYWxsZXIuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNhbGxlci9BX0NhbGxlci5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRmVhdHVyZS9BLUZlYXR1cmUtRGVmaW5lLmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRmVhdHVyZS9BLUZlYXR1cmUtRXh0ZW5kLmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RhZ2UvQS1TdGFnZS50eXBlcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RhZ2UvQS1TdGFnZS5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RhZ2UvQS1TdGFnZS5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RlcE1hbmFnZXIvQS1TdGVwTWFuYWdlci5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RlcE1hbmFnZXIvQS1TdGVwTWFuYWdlci5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRmVhdHVyZS9BLUZlYXR1cmUuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1BYnN0cmFjdGlvbi9BLUFic3RyYWN0aW9uLmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1BYnN0cmFjdGlvbi9BLUFic3RyYWN0aW9uLUV4dGVuZC5kZWNvcmF0b3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUFic3RyYWN0aW9uL0EtQWJzdHJhY3Rpb24uY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbmNlcHQvQS1Db25jZXB0LmNvbnN0YW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtQ29uY2VwdC9BLUNvbmNlcHQuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbmNlcHQvQS1Db25jZXB0Lm1ldGEudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLURlcGVuZGVuY3kvQS1EZXBlbmRlbmN5LmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1EZXBlbmRlbmN5L0EtRGVwZW5kZW5jeS1EZWZhdWx0LmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRGVwZW5kZW5jeS9BLURlcGVuZGVuY3ktRmxhdC5kZWNvcmF0b3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLURlcGVuZGVuY3kvQS1EZXBlbmRlbmN5LUxvYWQuZGVjb3JhdG9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1EZXBlbmRlbmN5L0EtRGVwZW5kZW5jeS1QYXJlbnQuZGVjb3JhdG9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1EZXBlbmRlbmN5L0EtRGVwZW5kZW5jeS1SZXF1aXJlLmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRGVwZW5kZW5jeS9BLURlcGVuZGVuY3kuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUluamVjdC9BLUluamVjdC5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtSW5qZWN0L0EtSW5qZWN0LmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNoYW5uZWwvQS1DaGFubmVsLmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUV4ZWN1dGlvbi9BLUV4ZWN1dGlvbi5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtT3BlcmF0aW9uL0EtT3BlcmF0aW9uLmNvbnRleHQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1DaGFubmVsL0EtQ2hhbm5lbC5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNoYW5uZWwvQS1DaGFubmVsLmNvbnN0YW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNoYW5uZWwvQS1DaGFubmVsUmVxdWVzdC5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29tbWFuZC9BLUNvbW1hbmQuY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29tbWFuZC9BLUNvbW1hbmQuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TdGF0ZU1hY2hpbmUvQS1TdGF0ZU1hY2hpbmUuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TdGF0ZU1hY2hpbmUvQS1TdGF0ZU1hY2hpbmUuY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU3RhdGVNYWNoaW5lL0EtU3RhdGVNYWNoaW5lVHJhbnNpdGlvbi5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU3RhdGVNYWNoaW5lL0EtU3RhdGVNYWNoaW5lLmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNvbmZpZy9BLUNvbmZpZy5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db25maWcvQS1Db25maWcuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db25maWcvQS1Db25maWcuY29udGV4dC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUxvZ2dlci9BLUxvZ2dlci5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29tbWFuZC9BLUNvbW1hbmQuZW50aXR5LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLUZTLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLUNyeXB0by1Qb2x5ZmlsbC5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVBvbHlmaWxsL2NsYXNzZXMvQS1IdHRwLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLUh0dHBzLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLVBhdGgtUG9seWZpbGwuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Qb2x5ZmlsbC9jbGFzc2VzL0EtVXJsLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLUJ1ZmZlci1Qb2x5ZmlsbC5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVBvbHlmaWxsL2NsYXNzZXMvQS1Qcm9jZXNzLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvQS1Qb2x5ZmlsbC5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db25maWcvY29tcG9uZW50cy9Db25maWdSZWFkZXIuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29uZmlnL2NvbXBvbmVudHMvRmlsZUNvbmZpZ1JlYWRlci5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db25maWcvY29tcG9uZW50cy9FTlZDb25maWdSZWFkZXIuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29uZmlnL0EtQ29uZmlnLmNvbnRhaW5lci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNvbmZpZy9BLUNvbmZpZy50eXBlcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUxvZ2dlci9BLUxvZ2dlci5lbnYudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1NYW5pZmVzdC9BLU1hbmlmZXN0LmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtTWFuaWZlc3QvY2xhc3Nlcy9BLU1hbmlmZXN0Q2hlY2tlci5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLU1hbmlmZXN0L0EtTWFuaWZlc3QuY29udGV4dC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLU1lbW9yeS9BLU1lbW9yeS5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1NZW1vcnkvQS1NZW1vcnkuY29udGV4dC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLU1lbW9yeS9BLU1lbW9yeS5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLU1lbW9yeS9BLU1lbW9yeS5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TZXJ2aWNlL0EtU2VydmljZS5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TZXJ2aWNlL0EtU2VydmljZS5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVNlcnZpY2UvQS1TZXJ2aWNlLmNvbnRhaW5lci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVJvdXRlL0EtUm91dGUuZW50aXR5LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU2lnbmFsL0EtU2lnbmFsLmNvbnN0YW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVNpZ25hbC9lbnRpdGllcy9BLVNpZ25hbC5lbnRpdHkudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TaWduYWwvZW50aXRpZXMvQS1TaWduYWxWZWN0b3IuZW50aXR5LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU2lnbmFsL2NvbnRleHQvQS1TaWduYWxTdGF0ZS5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU2lnbmFsL2NvbnRleHQvQS1TaWduYWxDb25maWcuY29udGV4dC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVNpZ25hbC9jb21wb25lbnRzL0EtU2lnbmFsQnVzLmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVNjaGVkdWxlL0EtRGVmZXJyZWQuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TY2hlZHVsZS9BLVNjaGVkdWxlT2JqZWN0LmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU2NoZWR1bGUvQS1TY2hlZHVsZS5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQXJlQ29tcG9uZW50L0FyZS5jb21wb25lbnQudHMiLCAiLi4vc3JjL2NvbXBvbmVudHMvU2lnbkluQ29tcG9uZW50LmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9zcmMvY29udGV4dC9BcmVFdmVudC9BcmVFdmVudC5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL3NyYy9jb250ZXh0L0FyZUluZGV4L0FyZUluZGV4LmNvbnRleHQudHMiLCAiLi4vLi4vLi4vc3JjL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHkudHMiLCAiLi4vLi4vLi4vc3JjL2NvbnRleHQvQXJlUHJvcHMvQXJlUHJvcHMuY29udGV4dC50cyIsICIuLi8uLi8uLi9zcmMvY29udGV4dC9BcmVTdG9yZS9BcmVTdG9yZS5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL3NyYy9jb250ZXh0L0FyZVNjZW5lL0FyZVNjZW5lLmNvbnRleHQudHMiLCAiLi4vc3JjL2NvbXBvbmVudHMvQS1CdG4uY29tcG9uZW50LnRzIiwgIi4uL3NyYy9jb21wb25lbnRzL0EtSW5wdXQuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL3NyYy9jb250ZXh0L0FyZVN5bnRheC9BcmVTeW50YXguY29udGV4dC50cyIsICIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9BcmVDb21waWxlci9BcmVDb21waWxlci5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vc3JjL2VudGl0aWVzL0FyZVNpZ25hbC9BcmVTaWduYWwuZW50aXR5LnRzIiwgIi4uLy4uLy4uL3NyYy9zaWduYWxzL0FyZUluaXQuc2lnbmFsLnRzIiwgIi4uLy4uLy4uL3NyYy9jb250YWluZXJzL0FyZUFwcC9BcmVBcHAuY29udGFpbmVyLnRzIiwgIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0FyZUJyb3dzZXJDb21waWxlci9BcmVCcm93c2VyQ29tcGlsZXIuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0FyZVNsb3QvQXJlU2xvdC5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQXJlUm9vdC9BcmVSb290LmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9BcmVJbnRlcnBvbGF0aW9uL0FyZUludGVycG9sYXRpb24uY29tcG9uZW50LnRzIiwgIi4uL3NyYy9jb25jZXB0LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJleHBvcnQgY29uc3QgQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUyA9IHtcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQS1Db25jZXB0IENvcmUgRW52aXJvbm1lbnQgVmFyaWFibGVzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFRoZXNlIGVudmlyb25tZW50IHZhcmlhYmxlcyBhcmUgdXNlZCBieSBBLUNvbmNlcHQgY29yZSB0byBjb25maWd1cmUgdGhlIGFwcGxpY2F0aW9uXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogXG4gICAgICogREVGQVVMVCB2YWx1ZSBpcyAnYS1jb25jZXB0J1xuICAgICAqIFxuICAgICAqIFshXSBQcm92aWRlZCBuYW1lIHdpbGwgYmUgdXNlZCBmb3IgYWxsIGFzZWlkcyBpbiB0aGUgYXBwbGljYXRpb24gYnkgZGVmYXVsdFxuICAgICAqL1xuICAgIEFfQ09OQ0VQVF9OQU1FOiAnQV9DT05DRVBUX05BTUUnLFxuICAgIC8qKlxuICAgICAqIFJvb3Qgc2NvcGUgb2YgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogXG4gICAgICogREVGQVVMVCB2YWx1ZSBpcyAncm9vdCdcbiAgICAgKiBcbiAgICAgKiBbIV0gUHJvdmlkZWQgbmFtZSB3aWxsIGJlIHVzZWQgZm9yIGFsbCBhc2VpZHMgaW4gdGhlIGFwcGxpY2F0aW9uIGJ5IGRlZmF1bHRcbiAgICAgKi9cbiAgICBBX0NPTkNFUFRfUk9PVF9TQ09QRTogJ0FfQ09OQ0VQVF9ST09UX1NDT1BFJyxcbiAgICAvKipcbiAgICAgKiBFbnZpcm9ubWVudCBvZiB0aGUgYXBwbGljYXRpb24gZS5nLiBkZXZlbG9wbWVudCwgcHJvZHVjdGlvbiwgc3RhZ2luZ1xuICAgICAqL1xuICAgIEFfQ09OQ0VQVF9FTlZJUk9OTUVOVDogJ0FfQ09OQ0VQVF9FTlZJUk9OTUVOVCcsXG4gICAgLyoqXG4gICAgICogUm9vdCBmb2xkZXIgb2YgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogWyFdIEF1dG9tYXRpY2FsbHkgc2V0IGJ5IEEtQ29uY2VwdCB3aGVuIHRoZSBhcHBsaWNhdGlvbiBzdGFydHNcbiAgICAgKi9cbiAgICBBX0NPTkNFUFRfUk9PVF9GT0xERVI6ICdBX0NPTkNFUFRfUk9PVF9GT0xERVInLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgYSBkZWZhdWx0IGVycm9yIGRlc2NyaXB0aW9uIGZvciBlcnJvcnMgdGhyb3duIHdpdGhvdXQgYSBkZXNjcmlwdGlvblxuICAgICAqL1xuICAgIEFfRVJST1JfREVGQVVMVF9ERVNDUklQVElPTjogJ0FfRVJST1JfREVGQVVMVF9ERVNDUklQVElPTicsXG59IGFzIGNvbnN0XG5cblxuLy9zaG91bGQgYmUgYW4gYXJyYXlcbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0NvbmNlcHRFTlZWYXJpYWJsZXMgPSAodHlwZW9mIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMpW2tleW9mIHR5cGVvZiBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTXVtdO1xuXG5cbmV4cG9ydCBjb25zdCBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZID0gW1xuICAgIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMuQV9DT05DRVBUX05BTUUsXG4gICAgQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0NPTkNFUFRfUk9PVF9TQ09QRSxcbiAgICBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTLkFfQ09OQ0VQVF9FTlZJUk9OTUVOVCxcbiAgICBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTLkFfQ09OQ0VQVF9ST09UX0ZPTERFUixcblxuICAgIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMuQV9FUlJPUl9ERUZBVUxUX0RFU0NSSVBUSU9OLFxuXSBhcyBjb25zdDtcblxuIiwgImltcG9ydCB7IEFfVFlQRVNfX0FfU3RhZ2VTdGVwLCBBX1RZUEVTX1N0YWdlRXhlY3V0aW9uQmVoYXZpb3IgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLnR5cGVzXCJcbmltcG9ydCB7IEFfRnJhZ21lbnQgfSBmcm9tIFwiLi4vQS1GcmFnbWVudC9BLUZyYWdtZW50LmNsYXNzXCJcbmltcG9ydCB7IEFfRW50aXR5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRW50aXR5L0EtRW50aXR5LmNsYXNzXCJcbmltcG9ydCB7IEFfQ29udGFpbmVyIH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNsYXNzXCJcbmltcG9ydCB7IEFfQ29tcG9uZW50IH0gZnJvbSBcIi4uL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNsYXNzXCJcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC50eXBlc1wiXG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vQS1Db250YWluZXIvQS1Db250YWluZXIudHlwZXNcIlxuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5LnR5cGVzXCJcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuL0EtRmVhdHVyZS5jbGFzc1wiXG5pbXBvcnQgeyBBX1RZUEVTX19SZXF1aXJlZCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L3R5cGVzL0FfQ29tbW9uLnR5cGVzXCJcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLmNsYXNzXCJcbmltcG9ydCB7IEFfU3RhZ2UgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLmNsYXNzXCJcbmltcG9ydCB7IEFfVFlQRVNfX0Vycm9yX0luaXQgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLnR5cGVzXCJcblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gUHJpbWFyeSBUeXBlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vKipcbiAqIEZlYXR1cmUgY29uc3RydWN0b3IgdHlwZVxuICogVXNlcyB0aGUgZ2VuZXJpYyB0eXBlIFQgdG8gc3BlY2lmeSB0aGUgdHlwZSBvZiB0aGUgZmVhdHVyZVxuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlX0NvbnN0cnVjdG9yPFQgPSBBX0ZlYXR1cmU+ID0gbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVDtcbi8qKlxuICogRmVhdHVyZSBpbml0aWFsaXphdGlvbiB0eXBlXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVfSW5pdDxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4gPSBBX1RZUEVTX19GZWF0dXJlX0luaXRXaXRoQ29tcG9uZW50PFQ+IHwgQV9UWVBFU19fRmVhdHVyZV9Jbml0V2l0aFRlbXBsYXRlPFQ+XG4vKipcbiAqIEZlYXR1cmUgaW5pdGlhbGl6YXRpb24gdHlwZSB1c2luZyBjb21wb25lbnRcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZV9Jbml0V2l0aENvbXBvbmVudDxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4gPSB7XG4gICAgLyoqXG4gICAgICogRmVhdHVyZSBOYW1lXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIFRoZSBjb21wb25lbnQgZnJvbSB3aGVyZSB0aGUgZmVhdHVyZSBpcyBjYWxsaW5nLiBJdCdzIGltcG9ydGFudCBmb3IgcHJvcGVyIHNjb3BpbmcuIFxuICAgICAqIEJhc2VkIG9uIHRoZSBjb21wb25lbnQgd291bGQgYmUgcmV0cmlldmVkIGNvbm5lY3RlZCBjb21wb25lbnRzLCBlbnRpdGllcyBhbmQgY29udGFpbmVycy5cbiAgICAgKiBcbiAgICAgKiBbIV0gQ291bGQgYmUgQ29udGFpbmVyLCBFbnRpdHksIENvbXBvbmVudCBvciBDb21tYW5kXG4gICAgICovXG4gICAgY29tcG9uZW50OiBULFxuXG4gICAgLyoqXG4gICAgICogSW4gY2FzZSB3aGVuIEVudGl0eSBpcyBub3QgYXR0YWNoZWQgdG8gdGhlIHNjb3BlIGNhbiBiZSB1c2VkIHRvIHRyYW5zcGFyZW50bHkgc2hvdyBkZXBlbmRlbmNpZXNcbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKi9cbiAgICBzY29wZT86IEFfU2NvcGVcbn1cbi8qKlxuICogRmVhdHVyZSBpbml0aWFsaXphdGlvbiB0eXBlIHVzaW5nIHRlbXBsYXRlXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVfSW5pdFdpdGhUZW1wbGF0ZTxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4gPSB7XG4gICAgLyoqXG4gICAgICogRmVhdHVyZSBOYW1lXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIFRoZSBzY29wZSBmcm9tIHdoZXJlIHRvIHJldHJpZXZlIGRlcGVuZGVudCBjb21wb25lbnRzLCBlbnRpdGllcyBhbmQgY29udGFpbmVycy4gXG4gICAgICogXG4gICAgICogWyFdIEltcG9ydGFudCBmb3IgcHJvcGVyIHNjb3BpbmcuIFxuICAgICAqL1xuICAgIHNjb3BlOiBBX1Njb3BlXG4gICAgLyoqXG4gICAgICogVGhlIGNvbXBvbmVudCBmcm9tIHdoZXJlIHRoZSBmZWF0dXJlIGlzIGNhbGxpbmcuIEl0J3MgaW1wb3J0YW50IGZvciBwcm9wZXIgc2NvcGluZy4gXG4gICAgICogQmFzZWQgb24gdGhlIGNvbXBvbmVudCB3b3VsZCBiZSByZXRyaWV2ZWQgY29ubmVjdGVkIGNvbXBvbmVudHMsIGVudGl0aWVzIGFuZCBjb250YWluZXJzLlxuICAgICAqIFxuICAgICAqIFshXSBDb3VsZCBiZSBDb250YWluZXIsIEVudGl0eSwgQ29tcG9uZW50IG9yIENvbW1hbmRcbiAgICAgKi9cbiAgICBjb21wb25lbnQ/OiBULFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIEZlYXR1cmUgdGVtcGxhdGUgdG8gYmUgdXNlZCBpbnN0ZWFkIG9mIGJ1aWxkaW5nIGl0IGZyb20gZGVjb3JhdG9yc1xuICAgICAqL1xuICAgIHRlbXBsYXRlOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGVtcGxhdGVJdGVtPlxufVxuXG4vKipcbiAqIEZlYXR1cmUgc2VyaWFsaXplZCB0eXBlXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVfU2VyaWFsaXplZCA9IHt9XG5cblxuLyoqXG4gKiBGZWF0dXJlIGxpZmVjeWNsZSBzdGF0ZXNcbiAqL1xuZXhwb3J0IGVudW0gQV9UWVBFU19fRmVhdHVyZVN0YXRlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgZmVhdHVyZSBoYXMgYmVlbiBpbml0aWFsaXplZFxuICAgICAqL1xuICAgIElOSVRJQUxJWkVEID0gXCJJTklUSUFMSVpFRFwiLFxuICAgIC8qKlxuICAgICAqIFRoZSBmZWF0dXJlIGlzIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBQUk9DRVNTSU5HID0gXCJQUk9DRVNTSU5HXCIsXG4gICAgLyoqXG4gICAgICogVGhlIGZlYXR1cmUgaGFzIGJlZW4gY29tcGxldGVkXG4gICAgICovXG4gICAgQ09NUExFVEVEID0gXCJDT01QTEVURURcIixcbiAgICAvKipcbiAgICAgKiBUaGUgZmVhdHVyZSBoYXMgYmVlbiBpbnRlcnJ1cHRlZFxuICAgICAqL1xuICAgIElOVEVSUlVQVEVEID0gXCJJTlRFUlJVUFRFRFwiLFxuICAgIC8qKlxuICAgICAqIFRoZSBmZWF0dXJlIGhhcyBmYWlsZWRcbiAgICAgKi9cbiAgICBGQUlMRUQgPSBcIkZBSUxFRFwiXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVycm9yIFR5cGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVFcnJvcl9Jbml0ID0ge1xuICAgIC8qKlxuICAgICAqIFN0YWdlIHdoZXJlIHRoZSBlcnJvciBvY2N1cnJlZFxuICAgICAqL1xuICAgIHN0YWdlPzogQV9TdGFnZVxuXG59ICYgQV9UWVBFU19fRXJyb3JfSW5pdFxuXG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09LVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEF2YWlsYWJsZSBUeXBlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBBIGxpc3Qgb2YgY29tcG9uZW50IHdoZXJlIGZlYXR1cmVzIGNhbiBiZSBEZWZpbmVkXG4gKiBcbiAqIFshXSBPbiB0aGlzIGNvbXBvbmVudCBGZWF0dXJlIERlZmluaXRpb24gaXMgQXZhaWxhYmxlXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzID0gSW5zdGFuY2VUeXBlPEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb25zdHJ1Y3RvcnM+XG4vKipcbiAqIEEgbGlzdCBvZiBjb25zdHJ1Y3RvcnMgd2hlcmUgZmVhdHVyZXMgY2FuIGJlIERlZmluZWRcbiAqIFxuICogWyFdIE9uIHRoaXMgY29tcG9uZW50IEZlYXR1cmUgRGVmaW5pdGlvbiBpcyBBdmFpbGFibGVcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbnN0cnVjdG9ycyA9IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvclxuICAgIHwgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yXG4gICAgfCBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3JcblxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIERlY29yYXRvciBUeXBlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1GZWF0dXJlIERlZmluZSBEZWNvcmF0b3IgVHlwZXMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKlxuICogSW5kaWNhdGVzIGEgdHlwZSBvZiBGZWF0dXJlIERlZmluZSBkZWNvcmF0b3JcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvckRlc2NyaXB0b3IgPVxuICAgIFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPCguLi5hcmdzOiBhbnlbXSkgPT4gYW55PlxuICAgIHwgVHlwZWRQcm9wZXJ0eURlc2NyaXB0b3I8KC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+XG4gICAgfCBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjwoLi4uYXJnczogYW55W10pID0+IFByb21pc2U8YW55Pj5cbiAgICB8IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPCguLi5hcmdzOiBhbnlbXSkgPT4gUHJvbWlzZTxhbnk+PlxuLyoqXG4gKiBEZXNjcmliZXMgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMgdG8gYmUgdXNlZCBpbiBGZWF0dXJlIERlZmluZSBkZWNvcmF0b3JcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvckNvbmZpZyA9IHtcbiAgICAvKipcbiAgICAgKiBGZWF0dXJlIG5hbWVcbiAgICAgKiBcbiAgICAgKiBbIV0gQnkgZGVmYXVsdCB1c2VzIHRoZSBtZXRob2QgbmFtZVxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgYSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSBmZWF0dXJlLiBJZiB0cnVlIHRoZSBmZWF0dXJlIHdpbGwgYmUgYXV0b21hdGljYWxseSBhdHRhY2hlZCB0byB0aGUgZXhlY3V0aW9uLlxuICAgICAqIFxuICAgICAqIFshXSBCZWZvcmUgZmVhdHVyZSBleGVjdXRpb24gdGhlIG1ldGhvZCBpdHNlbGYgd2lsbCBiZSBjYWxsZWQgdG8gcHJlcGFyZSB0aGUgZmVhdHVyZSB0ZW1wbGF0ZVxuICAgICAqIFshXSBEZWZhdWx0IGlzIGZhbHNlXG4gICAgICovXG4gICAgaW52b2tlOiBib29sZWFuLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBhZGQgYSBkZWZhdWx0IGJlaGF2aW9yIG9yIG51bWJlciBvZiBzdGVwcyB0aGF0IHdpbGwgYmUgcGFydCBvZiB0aGUgZmVhdHVyZVxuICAgICAqL1xuICAgIHRlbXBsYXRlOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGVtcGxhdGVJdGVtPlxufVxuLyoqXG4gKiBEZXNjcmliZXMgYSBzaW5nbGUgdGVtcGxhdGUgaXRlbSB1c2VkIGluIEZlYXR1cmUgRGVmaW5lIGRlY29yYXRvclxuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGVtcGxhdGVJdGVtID0gQV9UWVBFU19fUmVxdWlyZWQ8UGFydGlhbDxBX1RZUEVTX19BX1N0YWdlU3RlcD4sIFsnbmFtZScsICdoYW5kbGVyJywgJ2NvbXBvbmVudCddPlxuLyoqXG4gKiBEZXNjcmliZXMgYSB0YXJnZXQgd2hlcmUgRmVhdHVyZSBEZWZpbmUgZGVjb3JhdG9yIGNhbiBiZSBhcHBsaWVkXG4gKiBcbiAqIFshXSBUaGUgZmVhdHVyZSBjYW4gYmUgZGVmaW5lZCBvbiBDb250YWluZXIsIEVudGl0eSwgQ29tcG9uZW50IG9yIENvbW1hbmRcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvclRhcmdldCA9IEFfQ29udGFpbmVyXG4gICAgfCBBX0VudGl0eVxuICAgIHwgQV9Db21wb25lbnRcbi8qKlxuICogQSB0eXBlIG9mIE1ldGEgaW5mb3JtYXRpb24gc3RvcmVkIGJ5IEZlYXR1cmUgRGVmaW5lIGRlY29yYXRvclxuICogVGhpcyBpbmZvcm1hdGlvbiB0aGVuIHVzZXMgYnkgQS1Db250ZXh0IHRvIGJ1aWxkIGEgcHJvcGVyIGZlYXR1cmUgdGVtcGxhdGVcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGEgPSB7XG4gICAgLyoqXG4gICAgICogRmVhdHVyZSBuYW1lXG4gICAgICogbWFpbmx5IGl0J3MgYSB1bmlxdWUgY29tYmluYXRpb24gb2YgdGhlIGNsYXNzIG5hbWUgYW5kIG1ldGhvZCBuYW1lXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIEFjdHVhbCBtZXRob2QgbmFtZSBpbiB0aGUgY2xhc3NcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBzdHJpbmcsXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGEgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUgZmVhdHVyZS4gSWYgdHJ1ZSB0aGUgZmVhdHVyZSB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgYXR0YWNoZWQgdG8gdGhlIGV4ZWN1dGlvbi5cbiAgICAgKiBcbiAgICAgKiBbIV0gQmVmb3JlIGZlYXR1cmUgZXhlY3V0aW9uIHRoZSBtZXRob2QgaXRzZWxmIHdpbGwgYmUgY2FsbGVkIHRvIHByZXBhcmUgdGhlIGZlYXR1cmUgdGVtcGxhdGVcbiAgICAgKiBbIV0gRGVmYXVsdCBpcyBmYWxzZVxuICAgICAqL1xuICAgIGludm9rZTogYm9vbGVhbixcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gYWRkIGEgZGVmYXVsdCBiZWhhdmlvciBvciBudW1iZXIgb2Ygc3RlcHMgdGhhdCB3aWxsIGJlIHBhcnQgb2YgdGhlIGZlYXR1cmVcbiAgICAgKi9cbiAgICB0ZW1wbGF0ZTogQXJyYXk8QV9UWVBFU19fQV9TdGFnZVN0ZXA+XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tRmVhdHVyZSBFeHRlbmQgRGVjb3JhdG9yIFR5cGVzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKipcbiAqIERlc2NyaXB0b3IgdHlwZSBmb3IgQV9FeHRlbmQgZGVjb3JhdG9yXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JEZXNjcmlwdG9yID1cbiAgICBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjwoKSA9PiBhbnk+XG4gICAgfCBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjwoLi4uYXJnczogYW55W10pID0+IGFueT5cbiAgICB8IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPCguLi5hcmdzOiBhbnlbXSkgPT4gUHJvbWlzZTxhbnk+PlxuICAgIHwgVHlwZWRQcm9wZXJ0eURlc2NyaXB0b3I8KCkgPT4gUHJvbWlzZTxhbnk+PlxuLyoqXG4gKiBUYXJnZXQgdHlwZSBmb3IgQV9FeHRlbmQgZGVjb3JhdG9yXG4gKiBcbiAqIFshXSBDYW4gYmUgYXBwbGllZCBvbmx5IG9uIEEtQ29tcG9uZW50c1xuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yVGFyZ2V0ID0gQV9Db21wb25lbnQgfCBBX0NvbnRhaW5lciB8IEFfRW50aXR5XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiB0eXBlIGZvciBBX0V4dGVuZCBkZWNvcmF0b3JcbiAqIFxuICogVGhpcyBpcyBhbiBJTlBVVCBwYXJhbWV0ZXIgcHJvdmlkZWQgYnkgdGhlIHVzZXJcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvckNvbmZpZyA9IHtcbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoZSBjb250YWluZXIgTGlmZWN5Y2xlIG1ldGhvZCB0byBiZSBleHRlbmRlZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgbm90IHByb3ZpZGVkIHdpbGwgYmUgdXNlZCB0aGUgbmFtZSBvZiB0aGUgbWV0aG9kLlxuICAgICAqIFshIV0gSWYgbmFtZSBjb250YWlucyBcIi5cIiBkb3QgaXQgd2lsbCBiZSBjb25zaWRlcmVkIGFzIGEgcGF0aCB0byB0aGUgbWV0aG9kLlxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBDb250YWluZXIgY2xhc3Mgb3IgY29udGFpbmVyIG5hbWUgdXNlcyB0byBpZGVudGlmeSB0aGUgcHJvcGVyIGNvbnRhaW5lciBpbiBjYXNlIHdoZW4gdGhlIG5hbWUgaXMgbm90IHVuaXF1ZS5cbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgbm90IHByb3ZpZGVkIHdpbGwgYmUgYXBwbGllZCB0byBhbGwgY29udGFpbmVycyB3aXRoIHRoZSBzYW1lIG5hbWUuXG4gICAgICogWyEhXSBCeSBkZWZhdWx0IHVzZXMgT1IgdG8gam9pbiBhbGwgcHJvdmlkZWQgaXRlbXMuIElmIHlvdSBuZWVkIG1vcmUgY29tcGxleCBMb2dpYywgcGxlYXNlIHVzZSBSZWdleHAgaW5zdGVhZFxuICAgICAqIFxuICAgICAqIFshISFdIEluIGNhc2UgaWYgeW91IG5lZWQgdG8gZXhjbHVkZSBzb21lIGNvbnRhaW5lcnMsIGVudGl0aWVzIG9yIGNvbXBvbmVudHMsIHBsZWFzZSB1c2UgXCJleGNsdWRlXCIgcHJvcGVydHlcbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIFxuICAgICAqIGBgYHRzXG4gICAgICogIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgKiAgICAgIG5hbWU6ICdsb2FkJyxcbiAgICAgKiAgICAgIHNjb3BlOiB7XG4gICAgICogICAgICAgICAgaW5jbHVkZTogW0FfQ29udGFpbmVyMSwgQV9FbnRpdHkxXSxcbiAgICAgKiAgICAgICAgICBleGNsdWRlOiBbQV9Db21wb25lbnQxXVxuICAgICAqICAgICAgfVxuICAgICAqICB9KVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHNjb3BlOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yU2NvcGVJdGVtPiB8IFBhcnRpYWw8QV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclNjb3BlQ29uZmlnPixcbiAgICAvKipcbiAgICAgKiBUaGUgYmVoYXZpb3Igb2YgdGhlIG1ldGhvZC4gXG4gICAgICogSW4gY2FzZSBpdHMgYXN5bmMgaXQgd2lsbCBiZSBleGVjdXRlZCBpbmRlcGVuZGVudGx5IGZyb20gdGhlIG1haW4gdGhyZWFkLlxuICAgICAqIFxuICAgICAqIFshXSBIb3dldmVyLCBpbiBjYXNlIG9mIHN5bmMsIGl0IHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIG1haW4gdGhyZWFkLmluIHRoZSBvcmRlciBvZiB0aGUgZGVjbGFyYXRpb24uXG4gICAgICogXG4gICAgICovXG4gICAgYmVoYXZpb3I6IEFfVFlQRVNfU3RhZ2VFeGVjdXRpb25CZWhhdmlvclxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIHRoZSBleGVjdXRpb24gb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSXQgYXBwbGllcyBmb3IgdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmUgOidDb21wb25lbnQubWV0aG9kTmFtZSdcbiAgICAgKiBbIV0gSW4gY2FzZSB0aGUgbWV0aG9kIGhhcyBjaXJjdWxhciBkZXBlbmRlbmNpZXMgaXQgd2lsbCBUaHJvdyBhbiBlcnJvci5cbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIGBgYHRzXG4gICAgICogIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgKiAgICAgIG5hbWU6ICdsb2FkJyxcbiAgICAgKiAgICAgIGJlZm9yZTogWydDb21wb25lbnQxLm1ldGhvZE5hbWUnLCAnQ29tcG9uZW50Mi5tZXRob2ROYW1lMiddXG4gICAgICogIH0pXG4gICAgICogIC8vIE9SXG4gICAgICogIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgKiAgICAgIG5hbWU6ICdsb2FkJyxcbiAgICAgKiAgICAgIGJlZm9yZTogL0NvbXBvbmVudDJcXC4uKy9cbiAgICAgKiAgfSlcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBiZWZvcmU6IEFycmF5PHN0cmluZz4gfCBSZWdFeHBcblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIHRoZSBleGVjdXRpb24gb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSXQgYXBwbGllcyBmb3IgdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmUgOidDb21wb25lbnQubWV0aG9kTmFtZSdcbiAgICAgKiBbIV0gSW4gY2FzZSB0aGUgbWV0aG9kIGhhcyBjaXJjdWxhciBkZXBlbmRlbmNpZXMgaXQgd2lsbCBUaHJvdyBhbiBlcnJvci5cbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIGBgYHRzXG4gICAgICogIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgKiAgICAgIG5hbWU6ICdsb2FkJyxcbiAgICAgKiAgICAgIGFmdGVyOiBbJ0NvbXBvbmVudDEubWV0aG9kTmFtZScsICdDb21wb25lbnQyLm1ldGhvZE5hbWUyJ11cbiAgICAgKiAgfSlcbiAgICAgKiAgLy8gT1JcbiAgICAgKiAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAqICAgICAgbmFtZTogJ2xvYWQnLFxuICAgICAqICAgICAgYWZ0ZXI6IC9Db21wb25lbnQyXFwuLisvXG4gICAgICogIH0pXG4gICAgICogYGBgXG4gICAgICogXG4gICAgICovXG4gICAgYWZ0ZXI6IEFycmF5PHN0cmluZz4gfCBSZWdFeHBcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0byB0aHJvdyBhbiBlcnJvciBpZiB0aGUgc3RlcCBmYWlscy5cbiAgICAgKiBcbiAgICAgKiBbIV0gQnkgZGVmYXVsdCBpcyB0cnVlXG4gICAgICovXG4gICAgdGhyb3dPbkVycm9yOiBib29sZWFuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gb3ZlcnJpZGUgcGFydGljdWxhciBzdGVwcyBpbiB0aGUgZmVhdHVyZSBzZXF1ZW5jZSBieSBwcm92aWRlZCBuYW1lcyBbQ29tcG9uZW50XS5bTWV0aG9kXSBvciBieSByZWdleHBcbiAgICAgKi9cbiAgICBvdmVycmlkZTogQXJyYXk8c3RyaW5nPiB8IFJlZ0V4cFxufVxuLyoqXG4gKiBTY29wZSBpdGVtIHRoYXQgY2FuIGJlIHVzZWQgaW4gQV9FeHRlbmQgZGVjb3JhdG9yIGNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclNjb3BlQ29uZmlnID0ge1xuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBjb21wb25lbnRzLCBlbnRpdGllcyBvciBjb250YWluZXJzIHRvIGluY2x1ZGUgaW4gdGhlIHNjb3BlIG9mIHRoZSBleHRlbnNpb25cbiAgICAgKi9cbiAgICBpbmNsdWRlPzogQXJyYXk8QV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclNjb3BlSXRlbT4sXG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIGNvbXBvbmVudHMsIGVudGl0aWVzIG9yIGNvbnRhaW5lcnMgdG8gZXhjbHVkZSBmcm9tIHRoZSBzY29wZSBvZiB0aGUgZXh0ZW5zaW9uXG4gICAgICovXG4gICAgZXhjbHVkZT86IEFycmF5PEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JTY29wZUl0ZW0+XG59XG4vKipcbiAqIEEgc2luZ2xlIGl0ZW0gdGhhdCBjYW4gYmUgdXNlZCBpbiBzY29wZSBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JTY29wZUl0ZW0gPSBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3JcbiAgICB8IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvclxuICAgIHwgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yXG5cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1NRVRBIFRZUEVTLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vKipcbiAqIE1ldGEgdHlwZSBmb3IgQV9FeHRlbmQgZGVjb3JhdG9yXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JNZXRhID0ge1xuICAgIC8qKlxuICAgICAqIE9yaWdpbmFsIEZlYXR1cmUgRXh0ZW5zaW9uIG5hbWVcbiAgICAgKiBcbiAgICAgKiBbIV0gY291bGQgYmUgc3RyaW5nIG9yIHJlZ2V4XG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIEFjdHVhbCBtZXRob2QgbmFtZSBpbiB0aGUgY2xhc3NcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBUaGUgYmVoYXZpb3Igb2YgdGhlIG1ldGhvZC4gXG4gICAgICogSW4gY2FzZSBpdHMgYXN5bmMgaXQgd2lsbCBiZSBleGVjdXRlZCBpbmRlcGVuZGVudGx5IGZyb20gdGhlIG1haW4gdGhyZWFkLlxuICAgICAqIFxuICAgICAqIFshXSBIb3dldmVyLCBpbiBjYXNlIG9mIHN5bmMsIGl0IHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIG1haW4gdGhyZWFkLmluIHRoZSBvcmRlciBvZiB0aGUgZGVjbGFyYXRpb24uXG4gICAgICogXG4gICAgICovXG4gICAgYmVoYXZpb3I6IEFfVFlQRVNfU3RhZ2VFeGVjdXRpb25CZWhhdmlvclxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIHRoZSBleGVjdXRpb24gb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSW4gY2FzZSB0aGUgbWV0aG9kIGhhcyBjaXJjdWxhciBkZXBlbmRlbmNpZXMgaXQgd2lsbCBUaHJvdyBhbiBlcnJvci5cbiAgICAgKiBcbiAgICAgKi9cbiAgICBiZWZvcmU6IHN0cmluZ1xuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIHRoZSBleGVjdXRpb24gb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSW4gY2FzZSB0aGUgbWV0aG9kIGhhcyBjaXJjdWxhciBkZXBlbmRlbmNpZXMgaXQgd2lsbCBUaHJvdyBhbiBlcnJvci5cbiAgICAgKiBcbiAgICAgKi9cbiAgICBhZnRlcjogc3RyaW5nXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdG8gdGhyb3cgYW4gZXJyb3IgaWYgdGhlIHN0ZXAgZmFpbHMuXG4gICAgICogXG4gICAgICogWyFdIEJ5IGRlZmF1bHQgaXMgdHJ1ZVxuICAgICAqL1xuICAgIHRocm93T25FcnJvcjogYm9vbGVhbixcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gb3ZlcnJpZGUgcGFydGljdWxhciBzdGVwcyBpbiB0aGUgZmVhdHVyZSBzZXF1ZW5jZSBieSBwcm92aWRlZCBuYW1lcyBbQ29tcG9uZW50XS5bTWV0aG9kXSBvciBieSByZWdleHBcbiAgICAgKi9cbiAgICBvdmVycmlkZTogc3RyaW5nXG59XG5cblxuIiwgIi8qKlxuICogQSBNZXRhIGlzIGFuIGVudGl0eSB0aGF0IHN0b3JlcyBhbGwgdGhlIG1ldGFkYXRhIGZvciB0aGUgc3BlY2lmaWMgZW50aXR5IGxpa2UgY29udGFpbmVyLCBjb21wb25lbnQsIGZlYXR1cmUsIGV0Yy4gXG4gKiBcbiAqIFshXSBNZXRhIGNhbiBiZSBkaWZmZXJlbnQgZGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIGlucHV0IGRhdGFcbiAqL1xuZXhwb3J0IGNsYXNzIEFfTWV0YTxcbiAgICBfU3RvcmFnZUl0ZW1zIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IGFueSxcbiAgICBfU2VyaWFsaXplZFR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PlxuPiBpbXBsZW1lbnRzIEl0ZXJhYmxlPFtrZXlvZiBfU3RvcmFnZUl0ZW1zLCBfU3RvcmFnZUl0ZW1zW2tleW9mIF9TdG9yYWdlSXRlbXNdXT4ge1xuXG4gICAgcHJvdGVjdGVkIG1ldGE6IE1hcDxrZXlvZiBfU3RvcmFnZUl0ZW1zLCBfU3RvcmFnZUl0ZW1zW2tleW9mIF9TdG9yYWdlSXRlbXNdPiA9IG5ldyBNYXAoKTtcblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGdldCB0aGUgaXRlcmF0b3IgZm9yIHRoZSBtZXRhIG9iamVjdFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhdG9yPFtrZXlvZiBfU3RvcmFnZUl0ZW1zLCBfU3RvcmFnZUl0ZW1zW2tleW9mIF9TdG9yYWdlSXRlbXNdXT4ge1xuICAgICAgICBjb25zdCBpdGVyYXRvciA9IHRoaXMubWV0YS5lbnRyaWVzKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0OiAoKSA9PiBpdGVyYXRvci5uZXh0KClcbiAgICAgICAgfTtcbiAgICB9XG5cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTUVUQSBPUEVSQVRJT05TID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHJlcGxpY2F0ZSByZWNlaXZlZCBtZXRhIG9iamVjdCBieSByZXBsYWNpbmcgaW50ZXJuYWwgbWV0YSB0byB0aGUgcmVjZWl2ZWQgb25lXG4gICAgICogXG4gICAgICogQHBhcmFtIG1ldGEgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZnJvbShcbiAgICAgICAgbWV0YTogQV9NZXRhPF9TdG9yYWdlSXRlbXM+XG4gICAgKTogQV9NZXRhPF9TdG9yYWdlSXRlbXM+IHtcbiAgICAgICAgdGhpcy5tZXRhID0gbmV3IE1hcChtZXRhLm1ldGEpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIHNldCB2YWx1ZXMgaW4gdGhlIG1hcFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXkgXG4gICAgICogQHBhcmFtIHZhbHVlIFxuICAgICAqL1xuICAgIHNldDxLIGV4dGVuZHMga2V5b2YgX1N0b3JhZ2VJdGVtcz4oa2V5OiBLLCB2YWx1ZTogX1N0b3JhZ2VJdGVtc1tLXSkge1xuXG4gICAgICAgIGNvbnN0IGluaGVyaXRlZFZhbHVlID0gdGhpcy5tZXRhLmdldChrZXkpXG4gICAgICAgICAgICB8fCBBcnJheS5pc0FycmF5KHZhbHVlKVxuICAgICAgICAgICAgPyBbXVxuICAgICAgICAgICAgOiAodmFsdWUgYXMgYW55KSBpbnN0YW5jZW9mIE1hcFxuICAgICAgICAgICAgICAgID8gbmV3IE1hcCgpXG4gICAgICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSB0aGlzLm1ldGEuZ2V0KGtleSlcbiAgICAgICAgICAgIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICAuLi5pbmhlcml0ZWRWYWx1ZSBhcyBhbnlcbiAgICAgICAgICAgIF0gOiAodmFsdWUgYXMgYW55KSBpbnN0YW5jZW9mIE1hcFxuICAgICAgICAgICAgICAgID8gbmV3IE1hcChpbmhlcml0ZWRWYWx1ZSBhcyBhbnkpXG4gICAgICAgICAgICAgICAgOiB7IC4uLmluaGVyaXRlZFZhbHVlIH07XG5cbiAgICAgICAgdGhpcy5tZXRhLnNldChrZXksIHZhbHVlKTtcblxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gZ2V0IHZhbHVlcyBmcm9tIHRoZSBtYXBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ga2V5IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGdldDxLIGV4dGVuZHMga2V5b2YgX1N0b3JhZ2VJdGVtcz4oa2V5OiBLKTogX1N0b3JhZ2VJdGVtc1tLXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGEuZ2V0KGtleSkgYXMgX1N0b3JhZ2VJdGVtc1tLXTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBkZWxldGUgdmFsdWVzIGZyb20gdGhlIG1hcFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXkgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZGVsZXRlKGtleToga2V5b2YgX1N0b3JhZ2VJdGVtcyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhLmRlbGV0ZShrZXkpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGdldCB0aGUgc2l6ZSBvZiB0aGUgbWFwXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc2l6ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhLnNpemU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBuZWVkZWQgdG8gY29udmVydCB0aGUga2V5IHRvIGEgcmVndWxhciBleHByZXNzaW9uIGFuZCBjb3ZlciBjYXNlcyBsaWtlOiBcbiAgICAgKiBcbiAgICAgKiBzaW1wbGUgKiBlLmcuIFwiYSpcIiBpbnN0ZWFkIG9mIFwiYS4qXCJcbiAgICAgKiBcbiAgICAgKiBzaW1wbGUgPyBlLmcuIFwiYT9cIiBpbnN0ZWFkIG9mIFwiYS5cIlxuICAgICAqIFxuICAgICAqIGV0Yy4gXG4gICAgICogXG4gICAgICogQHBhcmFtIGtleSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcml2YXRlIGNvbnZlcnRUb1JlZ0V4cChrZXk6IHN0cmluZyB8IFJlZ0V4cCk6IFJlZ0V4cCB7XG4gICAgICAgIHJldHVybiBrZXkgaW5zdGFuY2VvZiBSZWdFeHBcbiAgICAgICAgICAgID8ga2V5XG4gICAgICAgICAgICA6IG5ldyBSZWdFeHAoa2V5KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBmaW5kIHZhbHVlcyBpbiB0aGUgbWFwIGJ5IG5hbWUuXG4gICAgICogXG4gICAgICogQ29udmVydHMgdGhlIEtleSBpbiBNYXAgdG8gYSByZWd1bGFyIGV4cHJlc3Npb24gYW5kIHRoZW4gY29tcGFyZXMgdG8gdGhlIG5hbWVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbmFtZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBmaW5kKG5hbWU6IHN0cmluZykge1xuICAgICAgICBjb25zdCByZXN1bHRzOiBBcnJheTxba2V5b2YgX1N0b3JhZ2VJdGVtcywgX1N0b3JhZ2VJdGVtc1trZXlvZiBfU3RvcmFnZUl0ZW1zXV0+ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHRoaXMubWV0YS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnZlcnRUb1JlZ0V4cChTdHJpbmcoa2V5KSkudGVzdChuYW1lKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGZpbmQgdmFsdWVzIGluIHRoZSBtYXAgYnkgcmVndWxhciBleHByZXNzaW9uXG4gICAgICogXG4gICAgICogQ29tcGFyZXMgTWFwIEtleSB0byB0aGUgaW5wdXQgcmVndWxhciBleHByZXNzaW9uXG4gICAgICogXG4gICAgICogQHBhcmFtIHJlZ2V4IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGZpbmRCeVJlZ2V4KHJlZ2V4OiBSZWdFeHApOiBBcnJheTxba2V5b2YgX1N0b3JhZ2VJdGVtcywgX1N0b3JhZ2VJdGVtc1trZXlvZiBfU3RvcmFnZUl0ZW1zXV0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0czogQXJyYXk8W2tleW9mIF9TdG9yYWdlSXRlbXMsIF9TdG9yYWdlSXRlbXNba2V5b2YgX1N0b3JhZ2VJdGVtc11dPiA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiB0aGlzLm1ldGEuZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAocmVnZXgudGVzdChTdHJpbmcoa2V5KSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjaGVjayBpZiB0aGUgbWFwIGhhcyBhIHNwZWNpZmljIGtleVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXkgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgaGFzKGtleToga2V5b2YgX1N0b3JhZ2VJdGVtcyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhLmhhcyhrZXkpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGdldCB0aGUgc2l6ZSBvZiB0aGUgbWFwXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZW50cmllcygpOiBJdGVyYWJsZUl0ZXJhdG9yPFtrZXlvZiBfU3RvcmFnZUl0ZW1zLCBfU3RvcmFnZUl0ZW1zW2tleW9mIF9TdG9yYWdlSXRlbXNdXT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhLmVudHJpZXMoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjbGVhciB0aGUgbWFwXG4gICAgICovXG4gICAgY2xlYXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWV0YS5jbGVhcigpO1xuICAgIH1cblxuXG4gICAgdG9BcnJheSgpOiBBcnJheTxba2V5b2YgX1N0b3JhZ2VJdGVtcywgX1N0b3JhZ2VJdGVtc1trZXlvZiBfU3RvcmFnZUl0ZW1zXV0+IHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5tZXRhLmVudHJpZXMoKSk7XG4gICAgfVxuXG5cbiAgICBwcm90ZWN0ZWQgcmVjdXJzaXZlVG9KU09OKHZhbHVlOiBhbnkpOiBhbnkge1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgdmFsdWUgaW5zdGFuY2VvZiBBX01ldGE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvSlNPTigpO1xuXG4gICAgICAgICAgICBjYXNlIHZhbHVlIGluc3RhbmNlb2YgTWFwOlxuICAgICAgICAgICAgICAgIGNvbnN0IG9iajogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIHZhbHVlLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBvYmpbU3RyaW5nKGspXSA9IHRoaXMucmVjdXJzaXZlVG9KU09OKHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuXG4gICAgICAgICAgICBjYXNlIEFycmF5LmlzQXJyYXkodmFsdWUpOlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5tYXAoKGl0ZW0pID0+IHRoaXMucmVjdXJzaXZlVG9KU09OKGl0ZW0pKTtcblxuICAgICAgICAgICAgY2FzZSAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1trXSA9IHRoaXMucmVjdXJzaXZlVG9KU09OKHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIG1ldGEgdG8gYSBKU09OIG9iamVjdFxuICAgICAqIFVzZXMgaW50ZXJuYWwgc3RvcmFnZSB0byBjb252ZXJ0IHRvIEpTT05cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICB0b0pTT04oKTogX1NlcmlhbGl6ZWRUeXBlIHtcbiAgICAgICAgY29uc3QganNvbjogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHRoaXMubWV0YS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGpzb25bU3RyaW5nKGtleSldID0gdGhpcy5yZWN1cnNpdmVUb0pTT04odmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqc29uIGFzIF9TZXJpYWxpemVkVHlwZTtcbiAgICB9XG59IiwgImV4cG9ydCBlbnVtIEFfVFlQRVNfX0VudGl0eU1ldGFLZXkge1xuICAgIEVYVEVOU0lPTlMgPSAnYS1jb21wb25lbnQtZXh0ZW5zaW9ucycsXG4gICAgRkVBVFVSRVMgPSAnYS1jb21wb25lbnQtZmVhdHVyZXMnLFxuICAgIEFCU1RSQUNUSU9OUyA9ICdhLWNvbXBvbmVudC1hYnN0cmFjdGlvbnMnLFxuICAgIElOSkVDVElPTlMgPSAnYS1jb21wb25lbnQtaW5qZWN0aW9ucycsXG59XG5cbmV4cG9ydCBlbnVtIEFfVFlQRVNfX0VudGl0eUZlYXR1cmVzIHtcbiAgICBTQVZFID0gJ3NhdmUnLFxuICAgIERFU1RST1kgPSAnZGVzdHJveScsXG4gICAgTE9BRCA9ICdsb2FkJ1xufSIsICJleHBvcnQgZW51bSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IHtcbiAgICBGRUFUVVJFUyA9ICdhLWNvbnRhaW5lci1mZWF0dXJlcycsXG4gICAgSU5KRUNUSU9OUyA9ICdhLWNvbnRhaW5lci1pbmplY3Rpb25zJyxcbiAgICBBQlNUUkFDVElPTlMgPSAnYS1jb250YWluZXItYWJzdHJhY3Rpb25zJyxcbiAgICBFWFRFTlNJT05TICA9ICdhLWNvbnRhaW5lci1leHRlbnNpb25zJyxcbn0iLCAiXG5cblxuZXhwb3J0IGVudW0gQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB7XG4gICAgRVhURU5TSU9OUyA9ICdhLWNvbXBvbmVudC1leHRlbnNpb25zJyxcbiAgICBGRUFUVVJFUyA9ICdhLWNvbXBvbmVudC1mZWF0dXJlcycsXG4gICAgSU5KRUNUSU9OUyA9ICdhLWNvbXBvbmVudC1pbmplY3Rpb25zJyxcbiAgICBBQlNUUkFDVElPTlMgPSAnYS1jb21wb25lbnQtYWJzdHJhY3Rpb25zJyxcbn0iLCAiaW1wb3J0IHsgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9uTWV0YSB9IGZyb20gXCIuLi9BLUNvbmNlcHQvQS1Db25jZXB0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiLi4vQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YSwgQV9UWVBFU19fQ29tcG9uZW50TWV0YUV4dGVuc2lvbiB9IGZyb20gXCIuL0EtQ29tcG9uZW50LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSBcIi4vQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfQ29tcG9uZW50TWV0YSBleHRlbmRzIEFfTWV0YTxBX1RZUEVTX19Db21wb25lbnRNZXRhPiB7XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZ2V0IGFsbCB0aGUgaW5qZWN0aW9ucyBmb3IgYSBnaXZlbiBoYW5kbGVyXG4gICAgICogXG4gICAgICogQHBhcmFtIGhhbmRsZXIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgaW5qZWN0aW9ucyhcbiAgICAgICAgaGFuZGxlcjogc3RyaW5nXG4gICAgKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSB7XG4gICAgICAgIGNvbnN0IGluamVjdGlvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LklOSkVDVElPTlMpO1xuXG4gICAgICAgIGNvbnN0IGFyZ3MgPSBpbmplY3Rpb25zPy5nZXQoaGFuZGxlcikgfHwgW107XG5cbiAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGdldCBhbGwgdGhlIGV4dGVuc2lvbnMgZm9yIGEgZ2l2ZW4gZmVhdHVyZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBmZWF0dXJlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGV4dGVuc2lvbnMoXG4gICAgICAgIGZlYXR1cmU6IHN0cmluZ1xuICAgICk6IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFFeHRlbnNpb25bXSB7XG4gICAgICAgIGNvbnN0IHN0ZXBzOiBBX1RZUEVTX19Db21wb25lbnRNZXRhRXh0ZW5zaW9uW10gPSBbXTtcblxuICAgICAgICBjb25zdCBleHRlbnNpb25zID0gdGhpcy5nZXQoQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5FWFRFTlNJT05TKTtcblxuICAgICAgICBleHRlbnNpb25zXG4gICAgICAgICAgICAvLyByZXR1cm5zIGFsbCBleHRlbnNpb25zIHRoYXQgbWF0Y2ggdGhlIGZlYXR1cmVcbiAgICAgICAgICAgID8uZmluZChmZWF0dXJlKVxuICAgICAgICAgICAgLmZvckVhY2goKFtoYW5kbGVyLCBleHRlbnNpb25zXSkgPT4ge1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMuZm9yRWFjaChleHRlbnNpb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICBzdGVwcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudDogY29uc3RydWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGV4dGVuc2lvbi5oYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3I6IGV4dGVuc2lvbi5iZWhhdmlvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZTogZXh0ZW5zaW9uLmJlZm9yZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyOiBleHRlbnNpb24uYWZ0ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvd09uRXJyb3I6IGV4dGVuc2lvbi50aHJvd09uRXJyb3IgfHwgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlOicnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIHJldHVybiBzdGVwcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBmZWF0dXJlcyBkZWZpbmVkIGluIHRoZSBDb21wb25lbnRcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBmZWF0dXJlcygpOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YT4ge1xuXG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gdGhpcy5nZXQoQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5GRUFUVVJFUyk7XG5cbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzPy50b0FycmF5KClcbiAgICAgICAgICAgIC8vIHJldHVybnMgYWxsIGV4dGVuc2lvbnMgdGhhdCBtYXRjaCB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgLm1hcCgoWywgZmVhdHVyZV0pID0+IGZlYXR1cmUpIHx8IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzZXQgb2YgaW5zdHJ1Y3Rpb25zIHRvIHJ1biBwcm9wZXIgbWV0aG9kcyBpbiBDb21wb25lbnQgZHVyaW5nIEEtQ29uY2VwdCBTdGFnZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdGFnZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhYnN0cmFjdGlvbnMoXG4gICAgICAgIGFic3RyYWN0aW9uOiBhbnlcbiAgICApOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25NZXRhW10ge1xuICAgICAgICBjb25zdCBzdGVwczogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9uTWV0YVtdID0gW107XG5cbiAgICAgICAgY29uc3QgYWJzdHJhY3Rpb25zID0gdGhpcy5nZXQoQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5BQlNUUkFDVElPTlMpO1xuICAgICAgICBjb25zdCBpbmplY3Rpb25zID0gdGhpcy5nZXQoQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5JTkpFQ1RJT05TKTtcblxuICAgICAgICBhYnN0cmFjdGlvbnNcbiAgICAgICAgICAgIC8vIHJldHVybnMgYWxsIGV4dGVuc2lvbnMgdGhhdCBtYXRjaCB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgPy5maW5kKGBDT05DRVBUX0FCU1RSQUNUSU9OOjoke2Fic3RyYWN0aW9ufWApXG4gICAgICAgICAgICAuZm9yRWFjaCgoW2hhbmRsZXIsIGV4dGVuc2lvbnNdKSA9PiB7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5mb3JFYWNoKGV4dGVuc2lvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBpbmplY3Rpb25zPy5nZXQoZXh0ZW5zaW9uLmhhbmRsZXIpIHx8IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIHN0ZXBzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZXh0ZW5zaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50OiBjb25zdHJ1Y3RvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIHJldHVybiBzdGVwcztcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCIuLi9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0ZlYXR1cmUgfSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9TY29wZSB9IGZyb20gXCIuLi9BLVNjb3BlL0EtU2NvcGUuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lcl9Jbml0IH0gZnJvbSBcIi4vQS1Db250YWluZXIudHlwZXNcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX0NvbnRhaW5lciB7XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIG9mIHRoZSBjb250YWluZXIgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcnVuIGl0LlxuICAgICAqL1xuICAgIHByb3RlY3RlZCByZWFkb25seSBjb25maWchOiBQYXJ0aWFsPEFfVFlQRVNfX0NvbnRhaW5lcl9Jbml0PjtcbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoZSBjb250YWluZXJcbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnPy5uYW1lIHx8IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2NvcGUgd2hlcmUgdGhlIGNvbnRhaW5lciBpcyByZWdpc3RlcmVkXG4gICAgICovXG4gICAgZ2V0IHNjb3BlKCk6IEFfU2NvcGUge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LnNjb3BlKHRoaXMpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBjbGFzcyBzaG91bGQgY29tYmluZSBDb21wb25lbnRzIHRvIGFjaGlldmUgdGhlIGdvYWwgd2l0aGluZyBDb25jZXB0XG4gICAgICogXG4gICAgICogQ29udGFpbmVyIGlzIGEgZGlyZWN0IGNvbnRhaW5lciB0aGF0IHNob3VsZCBiZSBcInJ1blwiIHRvIG1ha2UgQ29uY2VwdCB3b3JrLiBcbiAgICAgKiBTbyBiZWNhdXNlIG9mIHRoYXQgQ29udGFpbmVyIGNhbiBiZTpcbiAgICAgKiAtIEhUVFAgU2VydmVyXG4gICAgICogLSBCQVNIIFNjcmlwdFxuICAgICAqIC0gRGF0YWJhc2UgQ29ubmVjdGlvblxuICAgICAqIC0gTWljcm9zZXJ2aWNlXG4gICAgICogLSBldGMuXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIENvbmZpZ3VyYXRpb24gb2YgdGhlIGNvbnRhaW5lciB0aGF0IHdpbGwgYmUgdXNlZCB0byBydW4gaXQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25maWd1cmF0aW9uIG9mIHRoZSBjb250YWluZXIgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcnVuIGl0LlxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnOiBQYXJ0aWFsPEFfVFlQRVNfX0NvbnRhaW5lcl9Jbml0PiA9IHt9XG4gICAgKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgICAgIEFfQ29udGV4dC5hbGxvY2F0ZSh0aGlzLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDYWxscyB0aGUgZmVhdHVyZSB3aXRoIHRoZSBnaXZlbiBuYW1lIGluIHRoZSBnaXZlbiBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBUaGlzIG1ldGhvZCBjcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBmZWF0dXJlIGV2ZXJ5IHRpbWUgaXQgaXMgY2FsbGVkXG4gICAgICogXG4gICAgICogQHBhcmFtIGZlYXR1cmUgLSB0aGUgbmFtZSBvZiB0aGUgZmVhdHVyZSB0byBjYWxsXG4gICAgICogQHBhcmFtIHNjb3BlICAtIHRoZSBzY29wZSBpbiB3aGljaCB0byBjYWxsIHRoZSBmZWF0dXJlXG4gICAgICogQHJldHVybnMgIC0gdm9pZFxuICAgICAqL1xuICAgIGFzeW5jIGNhbGwoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOYW1lIG9mIHRoZSBmZWF0dXJlIHRvIGNhbGxcbiAgICAgICAgICovXG4gICAgICAgIGZlYXR1cmU6IHN0cmluZyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNjb3BlIGluIHdoaWNoIHRoZSBmZWF0dXJlIHdpbGwgYmUgZXhlY3V0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlPzogQV9TY29wZVxuICAgICkge1xuICAgICAgICBjb25zdCBuZXdGZWF0dXJlID0gbmV3IEFfRmVhdHVyZSh7XG4gICAgICAgICAgICBuYW1lOiBmZWF0dXJlLFxuICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBhd2FpdCBuZXdGZWF0dXJlLnByb2Nlc3Moc2NvcGUpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YSwgQV9UWVBFU19fQ29udGFpbmVyTWV0YUV4dGVuc2lvbiwgfSBmcm9tIFwiLi9BLUNvbnRhaW5lci50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9uLCBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25NZXRhIH0gZnJvbSBcIi4uL0EtQ29uY2VwdC9BLUNvbmNlcHQudHlwZXNcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCIuLi9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IH0gZnJvbSBcIi4vQS1Db250YWluZXIuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zIH0gZnJvbSBcIi4uL0EtQ29uY2VwdC9BLUNvbmNlcHQuY29uc3RhbnRzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9Db250YWluZXJNZXRhIGV4dGVuZHMgQV9NZXRhPEFfVFlQRVNfX0NvbnRhaW5lck1ldGE+IHtcblxuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZ2V0IGFsbCB0aGUgaW5qZWN0aW9ucyBmb3IgYSBnaXZlbiBoYW5kbGVyXG4gICAgICogXG4gICAgICogQHBhcmFtIGhhbmRsZXIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgaW5qZWN0aW9ucyhcbiAgICAgICAgaGFuZGxlcjogc3RyaW5nXG4gICAgKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSB7XG4gICAgICAgIGNvbnN0IGluamVjdGlvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LklOSkVDVElPTlMpO1xuXG4gICAgICAgIGNvbnN0IGFyZ3MgPSBpbmplY3Rpb25zPy5nZXQoaGFuZGxlcikgfHwgW107XG5cbiAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgZmVhdHVyZXMgZGVmaW5lZCBpbiB0aGUgQ29udGFpbmVyXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZmVhdHVyZXMoKTogQXJyYXk8QV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGE+IHtcblxuICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMuZ2V0KEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuRkVBVFVSRVMpO1xuXG4gICAgICAgIHJldHVybiBmZWF0dXJlcz8udG9BcnJheSgpXG4gICAgICAgICAgICAvLyByZXR1cm5zIGFsbCBleHRlbnNpb25zIHRoYXQgbWF0Y2ggdGhlIGZlYXR1cmVcbiAgICAgICAgICAgIC5tYXAoKFssIGZlYXR1cmVdKSA9PiBmZWF0dXJlKSB8fCBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc2V0IG9mIGluc3RydWN0aW9ucyB0byBydW4gcHJvcGVyIG1ldGhvZHMgaW4gQ29udGFpbmVyIGR1cmluZyBBLUNvbmNlcHQgU3RhZ2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RhZ2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYWJzdHJhY3Rpb25zKFxuICAgICAgICBhYnN0cmFjdGlvbjogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9uc1xuICAgICk6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbk1ldGFbXSB7XG4gICAgICAgIGNvbnN0IHN0ZXBzOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25NZXRhW10gPSBbXTtcblxuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LkFCU1RSQUNUSU9OUyk7XG4gICAgICAgIGNvbnN0IGluamVjdGlvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LklOSkVDVElPTlMpO1xuXG4gICAgICAgIGFic3RyYWN0aW9uc1xuICAgICAgICAgICAgLy8gcmV0dXJucyBhbGwgZXh0ZW5zaW9ucyB0aGF0IG1hdGNoIHRoZSBmZWF0dXJlXG4gICAgICAgICAgICA/LmZpbmQoYENPTkNFUFRfQUJTVFJBQ1RJT046OiR7YWJzdHJhY3Rpb259YClcbiAgICAgICAgICAgIC5mb3JFYWNoKChbaGFuZGxlciwgZXh0ZW5zaW9uc10pID0+IHtcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zLmZvckVhY2goZXh0ZW5zaW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJncyA9IGluamVjdGlvbnM/LmdldChleHRlbnNpb24uaGFuZGxlcikgfHwgW107XG5cbiAgICAgICAgICAgICAgICAgICAgc3RlcHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5leHRlbnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICByZXR1cm4gc3RlcHM7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZ2V0IGFsbCB0aGUgZXh0ZW5zaW9ucyBmb3IgYSBnaXZlbiBmZWF0dXJlXG4gICAgICogXG4gICAgICogQHBhcmFtIGZlYXR1cmUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZXh0ZW5zaW9ucyhcbiAgICAgICAgZmVhdHVyZTogc3RyaW5nXG4gICAgKTogQV9UWVBFU19fQ29udGFpbmVyTWV0YUV4dGVuc2lvbltdIHtcbiAgICAgICAgY29uc3Qgc3RlcHM6IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFFeHRlbnNpb25bXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LkVYVEVOU0lPTlMpO1xuXG4gICAgICAgIGV4dGVuc2lvbnNcbiAgICAgICAgICAgIC8vIHJldHVybnMgYWxsIGV4dGVuc2lvbnMgdGhhdCBtYXRjaCB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgPy5maW5kKGZlYXR1cmUpXG4gICAgICAgICAgICAuZm9yRWFjaCgoW2hhbmRsZXIsIGV4dGVuc2lvbnNdKSA9PiB7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5mb3JFYWNoKGV4dGVuc2lvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXBzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50OiBjb25zdHJ1Y3RvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGV4dGVuc2lvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogZXh0ZW5zaW9uLmhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWhhdmlvcjogZXh0ZW5zaW9uLmJlaGF2aW9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBleHRlbnNpb24uYmVmb3JlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IGV4dGVuc2lvbi5hZnRlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93T25FcnJvcjogZXh0ZW5zaW9uLnRocm93T25FcnJvciB8fCB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGU6ICcnXG5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgcmV0dXJuIHN0ZXBzO1xuICAgIH1cblxufSIsICJcbi8qKlxuICogQV9Gb3JtYXR0ZXJIZWxwZXJcbiAqIFxuICogSGVscGVyIGNsYXNzIGZvciBmb3JtYXR0aW5nIHN0cmluZ3MgaW50byBkaWZmZXJlbnQgY2FzZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBBX0Zvcm1hdHRlckhlbHBlciB7XG4gICAgLyoqXG4gICAgICogQ29udmVydCBzdHJpbmcgdG8gVVBQRVJfU05BS0VfQ0FTRVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIHRvVXBwZXJTbmFrZUNhc2Uoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gc3RyXG4gICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgJyQxXyQyJykgIC8vIEhhbmRsZSBjYW1lbENhc2VcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOV0rL2csICdfJykgICAgICAgLy8gUmVwbGFjZSBub24tYWxwaGFudW1lcmljIHdpdGggdW5kZXJzY29yZXNcbiAgICAgICAgICAgIC5yZXBsYWNlKC9fKy9nLCAnXycpICAgICAgICAgICAgICAgICAgLy8gQ29sbGFwc2UgbXVsdGlwbGUgdW5kZXJzY29yZXNcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eX3xfJC9nLCAnJykgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcvdHJhaWxpbmcgdW5kZXJzY29yZXNcbiAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHN0cmluZyB0byBjYW1lbENhc2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RyIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyB0b0NhbWVsQ2FzZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBzdHJcbiAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOV0rL2csICcgJykgICAgICAgLy8gUmVwbGFjZSBub24tYWxwaGFudW1lcmljIHdpdGggc3BhY2VzXG4gICAgICAgICAgICAuc3BsaXQoJyAnKSAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwbGl0IGJ5IHNwYWNlc1xuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKSAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZW1wdHkgaXRlbXNcbiAgICAgICAgICAgIC5tYXAoKHBhcnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcGFydC5zbGljZSgxKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKCcnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBzdHJpbmcgdG8gUGFzY2FsQ2FzZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIHRvUGFzY2FsQ2FzZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBzdHJcbiAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEgJDInKSAgLy8gSW5zZXJ0IHNwYWNlIGJlZm9yZSB1cHBlcmNhc2UgaW4gY2FtZWxDYXNlXG4gICAgICAgICAgICAucmVwbGFjZSgvW15hLXpBLVowLTldKy9nLCAnICcpICAgICAgIC8vIFJlcGxhY2Ugbm9uLWFscGhhbnVtZXJpYyB3aXRoIHNwYWNlc1xuICAgICAgICAgICAgLnNwbGl0KCcgJykgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTcGxpdCBieSBzcGFjZXNcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbikgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGVtcHR5IGl0ZW1zXG4gICAgICAgICAgICAubWFwKHBhcnQgPT4gcGFydC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHBhcnQuc2xpY2UoMSkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgIC5qb2luKCcnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBzdHJpbmcgdG8ga2ViYWItY2FzZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIHRvS2ViYWJDYXNlKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN0clxuICAgICAgICAgICAgLy8gMS4gUmVwbGFjZSBhbGwgbm9uLWFscGhhbnVtZXJpYyAodW5kZXJzY29yZSwgZG90LCBldGMuKSB3aXRoIGEgc3BhY2VcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOV0rL2csICcgJylcbiAgICAgICAgICAgIC8vIDIuIEluc2VydCBzcGFjZSBiZWZvcmUgYW55IHVwcGVyY2FzZSBwcmVjZWRlZCBieSBsb3dlcmNhc2Ugb3IgZGlnaXRcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oW2EtejAtOV0pKFtBLVpdKS9nLCAnJDEgJDInKVxuICAgICAgICAgICAgLy8gMy4gVHJpbSBzcGFjZXMgYXQgYm90aCBlbmRzIGFuZCByZXBsYWNlIHJlbWFpbmluZyBzcGFjZXMgd2l0aCBkYXNoZXNcbiAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcbiAgICAgICAgICAgIC8vIDQuIExvd2VyY2FzZSBldmVyeXRoaW5nXG4gICAgICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICB9XG59IiwgIlxuZXhwb3J0IHR5cGUgQV9JRF9UWVBFU19fVGltZUlkX1BhcnRzID0ge1xuICAgIHRpbWVzdGFtcDogRGF0ZTtcbiAgICByYW5kb206IHN0cmluZztcbn1cblxuXG5leHBvcnQgY2xhc3MgQV9JZGVudGl0eUhlbHBlciB7XG4gICAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIHNob3J0LCB0aW1lLWJhc2VkIHVuaXF1ZSBJRC5cbiAgICogRW5jb2RlcyBjdXJyZW50IHRpbWUgKG1zIHNpbmNlIGVwb2NoKSBhbmQgcmFuZG9tIGJpdHMgaW4gYmFzZTM2LlxuICAgKiBFeGFtcGxlOiBcIm1iNGYxZy03ZjlhMWNcIlxuICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdGVUaW1lSWQoXG4gICAgICAgIHBhcnRzOiBBX0lEX1RZUEVTX19UaW1lSWRfUGFydHMgPSB7IHRpbWVzdGFtcDogbmV3IERhdGUoKSwgcmFuZG9tOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA4KSB9XG4gICAgKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgdGltZSA9IHBhcnRzLnRpbWVzdGFtcC5nZXRUaW1lKCkudG9TdHJpbmcoMzYpOyAvLyBiYXNlMzYtZW5jb2RlZCB0aW1lc3RhbXBcbiAgICAgICAgY29uc3QgcmFuZG9tID0gcGFydHMucmFuZG9tOyAvLyB1c2UgcHJvdmlkZWQgcmFuZG9tIHN0cmluZ1xuICAgICAgICByZXR1cm4gYCR7dGltZX0tJHtyYW5kb219YDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBzaG9ydCBJRCBiYWNrIGludG8gaXRzIHBhcnRzLlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIG9yaWdpbmFsIHRpbWVzdGFtcCAoYXMgRGF0ZSkgYW5kIHJhbmRvbSBzdHJpbmcuXG4gICAgICovXG4gICAgc3RhdGljIHBhcnNlVGltZUlkKGlkOiBzdHJpbmcpOiBBX0lEX1RZUEVTX19UaW1lSWRfUGFydHMge1xuICAgICAgICBjb25zdCBbdGltZVBhcnQsIHJhbmRvbVBhcnRdID0gaWQuc3BsaXQoJy0nKTtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUocGFyc2VJbnQodGltZVBhcnQsIDM2KSk7XG4gICAgICAgIHJldHVybiB7IHRpbWVzdGFtcCwgcmFuZG9tOiByYW5kb21QYXJ0IH07XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiAgRm9ybWF0IGEgbnVtYmVyIHdpdGggbGVhZGluZyB6ZXJvcyB0byBhIGZpeGVkIGxlbmd0aFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBudW1iZXIgXG4gICAgICogQHBhcmFtIG1heFplcm9zIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBmb3JtYXRXaXRoTGVhZGluZ1plcm9zKG51bWJlciwgbWF4WmVyb3MgPSAxMCkge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWROdW1iZXIgPSBTdHJpbmcobnVtYmVyKS5wYWRTdGFydChtYXhaZXJvcyArIDEsICcwJyk7XG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWROdW1iZXIuc2xpY2UoLW1heFplcm9zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgbGVhZGluZyB6ZXJvcyBmcm9tIGEgZm9ybWF0dGVkIG51bWJlclxuICAgICAqL1xuICAgIHN0YXRpYyByZW1vdmVMZWFkaW5nWmVyb3MoZm9ybWF0dGVkTnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcoTnVtYmVyKGZvcm1hdHRlZE51bWJlcikpOyAvLyBDb252ZXJ0IHRvIG51bWJlciBhbmQgYmFjayB0byBzdHJpbmcgdG8gcmVtb3ZlIGxlYWRpbmcgemVyb3NcbiAgICB9XG5cblxufSIsICJcblxuXG5leHBvcnQgY29uc3QgQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTID0ge1xuICAgIFVORVhQRUNURURfRVJST1I6ICdBLUVycm9yIFVuZXhwZWN0ZWQgRXJyb3InLFxuICAgIFZBTElEQVRJT05fRVJST1I6ICdBLUVycm9yIFZhbGlkYXRpb24gRXJyb3InLFxufSBhcyBjb25zdDtcblxuXG5cbmV4cG9ydCBjb25zdCBBX0NPTlNUQU5UU19fRVJST1JfREVTQ1JJUFRJT04gPSAnSWYgeW91IHNlZSB0aGlzIGVycm9yIHBsZWFzZSBsZXQgdXMga25vdy4nIiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fRXJyb3JfSW5pdCxcbiAgICBBX1RZUEVTX19FcnJvcl9TZXJpYWxpemVkXG59IGZyb20gJy4vQV9FcnJvci50eXBlcyc7XG5pbXBvcnQge1xuICAgIEFfQ09OU1RBTlRTX19FUlJPUl9DT0RFUyxcbiAgICBBX0NPTlNUQU5UU19fRVJST1JfREVTQ1JJUFRJT05cbn0gZnJvbSAnLi9BX0Vycm9yLmNvbnN0YW50cyc7XG5pbXBvcnQgeyBBX0Zvcm1hdHRlckhlbHBlciB9IGZyb20gJ0BhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0Zvcm1hdHRlci5oZWxwZXInO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSAnLi4vQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzcyc7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tICdAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlcic7XG5pbXBvcnQgeyBBU0VJRCB9IGZyb20gJy4uL0FTRUlEL0FTRUlELmNsYXNzJztcbmltcG9ydCB7IEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMgfSBmcm9tICdAYWRhYXMvYS1jb25jZXB0L2NvbnN0YW50cy9lbnYuY29uc3RhbnRzJztcblxuXG5leHBvcnQgY2xhc3MgQV9FcnJvcjxcbiAgICBfQ29uc3RydWN0b3JUeXBlIGV4dGVuZHMgQV9UWVBFU19fRXJyb3JfSW5pdCA9IEFfVFlQRVNfX0Vycm9yX0luaXQsXG4gICAgX1NlcmlhbGl6ZWRUeXBlIGV4dGVuZHMgQV9UWVBFU19fRXJyb3JfU2VyaWFsaXplZCA9IEFfVFlQRVNfX0Vycm9yX1NlcmlhbGl6ZWRcbj4gZXh0ZW5kcyBFcnJvciB7XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gU3RhdGljIEEtRXJyb3IgSW5mb3JtYXRpb24gPT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogRXJyb3IgSWRlbnRpZmllciB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBjbGFzcyBuYW1lXG4gICAgICovXG4gICAgc3RhdGljIGdldCBlbnRpdHkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEFfRm9ybWF0dGVySGVscGVyLnRvS2ViYWJDYXNlKHRoaXMubmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERFRkFVTFQgTmFtZXNwYWNlIG9mIHRoZSBlcnJvciBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlIEFfQ09OQ0VQVF9OQU1FU1BBQ0VcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvICdhLWNvbmNlcHQnXG4gICAgICovXG4gICAgc3RhdGljIGdldCBjb25jZXB0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQuY29uY2VwdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogREVGQVVMVCBTY29wZSBvZiB0aGUgZW50aXR5IGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGUgQV9DT05DRVBUX0RFRkFVTFRfU0NPUEVcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvICdjb3JlJ1xuICAgICAqIFshXSBTY29wZSBpcyBhbiBhcHBsaWNhdGlvbiBzcGVjaWZpYyBpZGVudGlmaWVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZ3JvdXAgZW50aXRpZXMgdG9nZXRoZXJcbiAgICAgKiBbIV0gZS5nLiAnZGVmYXVsdCcsICdjb3JlJywgJ3B1YmxpYycsICdpbnRlcm5hbCcsIGV0Y1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgc2NvcGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5yb290Lm5hbWU7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gSGlkZGVuIEEtRXJyb3IgSW5mb3JtYXRpb24gPT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogQVNFSUQgb2YgdGhlIGVycm9yIGluc3RhbmNlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9hc2VpZCE6IEFTRUlEO1xuICAgIC8qKlxuICAgICAqIFRpdGxlIG9mIHRoZSBlcnJvclxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfdGl0bGUhOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogUG9zc2libGUgU2NvcGUgaWYgbmVlZGVkIHRvIGlkZW50aWZ5IHRoZSBlcnJvciBieSBpdCdzIGV4ZWN1dGlvbiBlbnZpcm9ubWVudFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfc2NvcGU/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogVW5pcXVlIGNvZGUgcmVwcmVzZW50aW5nIHRoZSB0eXBlIG9mIGVycm9yXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9jb2RlPzogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIERldGFpbGVkIGRlc2NyaXB0aW9uIG9mIHRoZSBlcnJvclxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogT3JpZ2luYWwgRXJyb3IgaWYgYW55XG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9vcmlnaW5hbEVycm9yPzogRXJyb3IgfCBhbnlcbiAgICAvKipcbiAgICAgKiBMaW5rIHRvIHRoZSBkb2N1bWVudGF0aW9uIG9yIHN1cHBvcnQgcGFnZSBmb3IgdGhlIGVycm9yXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9saW5rPzogc3RyaW5nO1xuXG5cblxuICAgIC8qKlxuICAgICAqIEFfRXJyb3IgaXMgYSBjdXN0b20gZXJyb3IgY2xhc3MgZm9yIEFfQ29uY2VwdCBmcmFtZXdvcmsuXG4gICAgICogVGhpcyBlcnJvciBhbGxvd3MgdG8gaGF2ZSBtb3JlIHN0cnVjdHVyZWQgZXJyb3IgaGFuZGxpbmcuXG4gICAgICogRWFjaCBlcnJvciBoYXMgYSB1bmlxdWUgY29kZSwgZGVzY3JpcHRpb24gYW5kIGEgbGluayB0byB0aGUgZG9jdW1lbnRhdGlvbi5cbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlIG9mIHVzYWdlOiBcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogXG4gICAgICogLy8gMSkgYWxsIHBhcmFtZXRlcnMgd2lsbCBiZSB1c2VkIGFzIHByb3ZpZGVkXG4gICAgICogdGhyb3cgbmV3IEFfRXJyb3Ioe1xuICAgICAqICAgIG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcsXG4gICAgICogICAgY29kZTogJ1VTRVJfTk9UX0ZPVU5EJyxcbiAgICAgKiAgICBkZXNjcmlwdGlvbjogJ1RoZSB1c2VyIHdpdGggdGhlIGdpdmVuIElEIHdhcyBub3QgZm91bmQuJyxcbiAgICAgKiAgICBsaW5rOiAnaHR0cHM6Ly9zdXBwb3J0LmFkYWFzLm9yZy9lcnJvci9VU0VSX05PVF9GT1VORCdcbiAgICAgKiB9KTtcbiAgICAgKiBcbiAgICAgKiAvLyBvclxuICAgICAqIC8vIDIpIG9ubHkgbWVzc2FnZSBpcyBwcm92aWRlZCwgb3RoZXIgcGFyYW1ldGVycyB3aWxsIGJlIHNldCB0byBkZWZhdWx0IHZhbHVlczpcbiAgICAgKiAvLyAgICAgLSBjb2RlOiAndXNlci1ub3QtZm91bmQnIChrZWJhYi1jYXNlIG9mIHRoZSBtZXNzYWdlKVxuICAgICAqIC8vICAgICAtIGRlc2NyaXB0aW9uOiAnVXNlciBub3QgZm91bmQnIChzYW1lIGFzIG1lc3NhZ2UpXG4gICAgICogLy8gICAgIC0gbGluazogRW1wdHlcbiAgICAgKiB0aHJvdyBuZXcgQV9FcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICAgKiBcbiAgICAgKiAvLyBvclxuICAgICAqIC8vIDMpIFByb3ZpZGVkIE1lc3NhZ2UgYW5kIERlc2NyaXB0aW9uLCBvdGhlciBwYXJhbWV0ZXJzIHdpbGwgYmUgc2V0IHRvIGRlZmF1bHQgdmFsdWVzOlxuICAgICAqIC8vICAgICAtIGNvZGU6ICd1c2VyLW5vdC1mb3VuZCcgKGtlYmFiLWNhc2Ugb2YgdGhlIG1lc3NhZ2UpXG4gICAgICogLy8gICAgIC0gZGVzY3JpcHRpb246ICdUaGUgdXNlciB3aXRoIHRoZSBnaXZlbiBJRCB3YXMgbm90IGZvdW5kLicgKGFzIHByb3ZpZGVkKVxuICAgICAqIC8vICAgICAtIGxpbms6IEVtcHR5XG4gICAgICogdGhyb3cgbmV3IEFfRXJyb3IoJ1VzZXIgbm90IGZvdW5kJywgJ1RoZSB1c2VyIHdpdGggdGhlIGdpdmVuIElEIHdhcyBub3QgZm91bmQuJyk7XG4gICAgICogXG4gICAgICogXG4gICAgICogYGBgXG4gICAgICogWyFdIE5vdGU6IFRoZSBiZWhhdmlvciBvZiBBX0Vycm9yIGlzIHNpbWlsYXIgdG8gdGhlIEFfRW50aXR5IGhvd2V2ZXIgaXQgY2Fubm90IGhhdmUgb3duIEFfRmVhdHVyZXMuXG4gICAgICogWyFdIE5vdGU6IFRoaXMgY2xhc3MgY2FuIGJlIGluaGVyaXRlZCB0byBjcmVhdGUgY3VzdG9tIGVycm9yIGNsYXNzZXMuXG4gICAgICogXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBX0Vycm9yIENvbnN0cnVjdG9yIHBhcmFtc1xuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW1zOiBfQ29uc3RydWN0b3JUeXBlXG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogRXJyb3IgbWVzc2FnZVxuICAgICAgICAgKi9cbiAgICAgICAgbWVzc2FnZTogc3RyaW5nXG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogT3JpZ2luYWwgSlMgRXJyb3JcbiAgICAgICAgICovXG4gICAgICAgIGVycm9yOiBFcnJvclxuICAgIClcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVycm9yIG1lc3NhZ2VcbiAgICAgICAgICovXG4gICAgICAgIHRpdGxlOiBzdHJpbmcsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRhaWxlZCBkZXNjcmlwdGlvbiBvZiB0aGUgZXJyb3JcbiAgICAgICAgICovXG4gICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgICApXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBhcmFtMTogX0NvbnN0cnVjdG9yVHlwZSB8IEVycm9yIHwgc3RyaW5nIHwgQV9FcnJvcixcbiAgICAgICAgcGFyYW0yPzogc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIC8vICB0byBwcmV2ZW50IGVycm9ycyBhY2N1bXVsYXRpb24gaW4gdGhlIHN0YWNrIHRyYWNlIGl0IHJldHVybnMgdGhlIG9yaWdpbmFsIGVycm9yIGlmIHByb3ZpZGVkIHBhcmFtMSBpcyBBX0Vycm9yXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBwYXJhbTEgaW5zdGFuY2VvZiBBX0Vycm9yOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbTEgYXMgQV9FcnJvcjxfQ29uc3RydWN0b3JUeXBlLCBfU2VyaWFsaXplZFR5cGU+O1xuXG4gICAgICAgICAgICBjYXNlIHBhcmFtMSBpbnN0YW5jZW9mIEVycm9yOlxuICAgICAgICAgICAgICAgIHN1cGVyKHBhcmFtMS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFcnJvclNlcmlhbGl6ZWRUeXBlPF9TZXJpYWxpemVkVHlwZT4ocGFyYW0xKTpcbiAgICAgICAgICAgICAgICBzdXBlcihwYXJhbTEubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JDb25zdHJ1Y3RvclR5cGU8X0NvbnN0cnVjdG9yVHlwZT4ocGFyYW0xKSAmJiAnZGVzY3JpcHRpb24nIGluIHBhcmFtMTpcbiAgICAgICAgICAgICAgICBzdXBlcihgWyR7cGFyYW0xLnRpdGxlfV06ICR7cGFyYW0xLmRlc2NyaXB0aW9ufWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Vycm9yQ29uc3RydWN0b3JUeXBlPF9Db25zdHJ1Y3RvclR5cGU+KHBhcmFtMSkgJiYgISgnZGVzY3JpcHRpb24nIGluIHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgc3VwZXIocGFyYW0xLnRpdGxlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcocGFyYW0xKSAmJiAhcGFyYW0yOlxuICAgICAgICAgICAgICAgIHN1cGVyKHBhcmFtMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKHBhcmFtMSkgJiYgISFwYXJhbTI6XG4gICAgICAgICAgICAgICAgc3VwZXIoYFske3BhcmFtMX1dOiAke3BhcmFtMn1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9FcnJvcihcbiAgICAgICAgICAgICAgICAgICAgQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTLlZBTElEQVRJT05fRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICdJbnZhbGlkIHBhcmFtZXRlcnMgcHJvdmlkZWQgdG8gQV9FcnJvciBjb25zdHJ1Y3RvcidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZXIgPSB0aGlzLmdldEluaXRpYWxpemVyKHBhcmFtMSwgcGFyYW0yKTtcbiAgICAgICAgLy8gdGhlIHJldHVybmVkIGluaXRpYWxpemVyIGlzIGFscmVhZHkgYm91bmQgdG8gYHRoaXNgICh3ZSB1c2VkIC5iaW5kKHRoaXMpKSxcbiAgICAgICAgLy8gc28gY2FsbGluZyBpdCB3aWxsIHJ1biB0aGUgYXBwcm9wcmlhdGUgbG9naWMgb24gdGhpcyBpbnN0YW5jZTpcbiAgICAgICAgaW5pdGlhbGl6ZXIuY2FsbCh0aGlzLCBwYXJhbTEsIHBhcmFtMik7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09IFB1YmxpYyBBLUVycm9yIEluZm9ybWF0aW9uID09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEFTRUlEIG9mIHRoZSBlcnJvciBpbnN0YW5jZVxuICAgICAqL1xuICAgIGdldCBhc2VpZCgpOiBBU0VJRCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hc2VpZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdGl0bGUgb2YgdGhlIGVycm9yXG4gICAgICogXG4gICAgICogRXhhbXBsZTogJ1VzZXIgbm90IGZvdW5kJywgJ1ZhbGlkYXRpb24gZXJyb3InLCAnVW5hdXRob3JpemVkIGFjY2VzcycsIGV0Yy5cbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogVGhpcyB0aXRsZSBzaG91bGQgYmUgc2hvcnQgYW5kIGNvbmNpc2UsIGxlc3MgdGhhbiA2MCBjaGFyYWN0ZXJzXG4gICAgICogWyFdIE5vdGU6IElmIHRpdGxlIGV4Y2VlZHMgNjAgY2hhcmFjdGVycywgdGhlcmUgd291bGQgYmUgYW4gZXJyb3IgdGhyb3duXG4gICAgICogWyFdIE5vdGU6IFRoaXMgdGl0bGUgaXMgaW50ZW5kZWQgdG8gYmUgaHVtYW4tcmVhZGFibGUgYW5kIGNhbiBiZSBkaXNwbGF5ZWQgaW4gVUkgb3IgbG9nc1xuICAgICAqL1xuICAgIGdldCB0aXRsZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGl0bGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gRXJyb3IgbWVzc2FnZSB3aGF0IGlzIGEgYnJpZWYgdGl0bGUgb2YgdGhlIGVycm9yXG4gICAgICogXG4gICAgICovXG4gICAgZ2V0IG1lc3NhZ2UoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLm1lc3NhZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB1bmlxdWUgY29kZSByZXByZXNlbnRpbmcgdGhlIHR5cGUgb2YgZXJyb3JcbiAgICAgKiBcbiAgICAgKiBJZiBjb2RlIGlzIG5vdCBwcm92aWRlZCwgaXQgd2lsbCBnZW5lcmF0ZSBhIGtlYmFiLWNhc2Ugb2YgdGhlIG1lc3NhZ2VcbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOiAndmFsaWRhdGlvbi1lcnJvcicsICdub3QtZm91bmQnLCAndXNlci1ub3QtZm91bmQnLCAndW5hdXRob3JpemVkJyBldGMuXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IEl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSBrZWJhYi1jYXNlIGZvciBlcnJvciBjb2Rlc1xuICAgICAqIFshXSBOb3RlOiBJZiBub3QgcHJvdmlkZWQgd291bGQgYmUgdXNlZCBhIGtlYmFiLWNhc2UgbWVzc2FnZSBvZiB0aGUgZXJyb3JcbiAgICAgKi9cbiAgICBnZXQgY29kZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29kZSB8fCBBX0Zvcm1hdHRlckhlbHBlci50b0tlYmFiQ2FzZSh0aGlzLnRpdGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdHlwZSBvZiB0aGUgZXJyb3Igd2hpY2ggY29ycmVzcG9uZHMgdG8gdGhlIHN0YXRpYyBlbnRpdHkgb2YgdGhlIGNsYXNzXG4gICAgICogXG4gICAgICogRXhhbXBsZTogJ2EtZXJyb3InLCAndmFsaWRhdGlvbi1lcnJvcicsICdub3QtZm91bmQtZXJyb3InLCAndXNlci1lcnJvcicsIGV0Yy5cbiAgICAgKiBcbiAgICAgKiBEZWZhdWx0cyB0byB0aGUga2ViYWItY2FzZSBvZiB0aGUgY2xhc3MgbmFtZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBuYW1pbmcgYWQgc2VwYXJhdGlvbiBhcmUgZnVsbHkgZGVwZW5kZW50IG9uIHRoZSBhcmNoaXRlY3R1cmUgb2YgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogWyFdIE5vdGU6IEl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSBrZWJhYi1jYXNlIGZvciBlcnJvciB0eXBlc1xuICAgICAqIFshXSBOb3RlOiBUaGlzIHR5cGUgaXMgaW50ZW5kZWQgdG8gZ3JvdXAgc2ltaWxhciBlcnJvcnMgdG9nZXRoZXJcbiAgICAgKi9cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5lbnRpdHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaW5rIHdpdGggcG9zc2libGUgZG9jdW1lbnRhdGlvbiBvciBzdXBwb3J0IHBhZ2UgZm9yIHRoZSBlcnJvclxuICAgICAqIElmIGxpbmsgaXMgbm90IHByb3ZpZGVkLCBpdCB3aWxsIGdlbmVyYXRlIGEgbGluayBiYXNlZCBvbiB0aGUgQVNFSUQgb2YgdGhlIGVycm9yIHRoYXQgcG9pbnRzIHRvIHRoZSBBLUNvbmNlcHQgc3VwcG9ydCBwYWdlXG4gICAgICogXG4gICAgICogRXhhbXBsZTogaHR0cHM6Ly9hZGFhcy5zdXBwb3J0L2EtY29uY2VwdC9lcnJvcnMve0FTRUlEfVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBBU0VJRCBpcyBnZW5lcmF0ZWQgYmFzZWQgb24gdGhlIHN0YXRpYyBwcm9wZXJ0aWVzIG9mIHRoZSBjbGFzcyAoY29uY2VwdCwgc2NvcGUsIGVudGl0eSkgYW5kIHRoZSBjb2RlIG9mIHRoZSBlcnJvclxuICAgICAqL1xuICAgIGdldCBsaW5rKCkge1xuICAgICAgICBpZiAodGhpcy5fbGluaylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5rO1xuXG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYGh0dHBzOi8vYWRhYXMuc3VwcG9ydC9hLWNvbmNlcHQvZXJyb3JzLyR7dGhpcy5hc2VpZC50b1N0cmluZygpfWApO1xuXG4gICAgICAgIHJldHVybiB1cmwudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHNjb3BlIG5hbWUgb2YgdGhlIGVycm9yIGluc3RhbmNlXG4gICAgICogXG4gICAgICogSWYgc2NvcGUgaXMgbm90IHByb3ZpZGVkLCBpdCB3aWxsIHVzZSB0aGUgc3RhdGljIHNjb3BlIG9mIHRoZSBjbGFzc1xuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBTY29wZSBpcyBhbiBhcHBsaWNhdGlvbiBzcGVjaWZpYyBpZGVudGlmaWVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZ3JvdXAgZW50aXRpZXMgdG9nZXRoZXJcbiAgICAgKiBbIV0gZS5nLiAnZGVmYXVsdCcsICdjb3JlJywgJ3B1YmxpYycsICdpbnRlcm5hbCcsIGV0Y1xuICAgICAqL1xuICAgIGdldCBzY29wZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FzZWlkLnNjb3BlXG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgZGV0YWlsZWQgZGVzY3JpcHRpb24gb2YgdGhlIGVycm9yXG4gICAgICogSWYgZGVzY3JpcHRpb24gaXMgbm90IHByb3ZpZGVkLCBpdCB3aWxsIHVzZSB0aGUgZW52aXJvbm1lbnQgdmFyaWFibGUgQV9FUlJPUl9ERUZBVUxUX0RFU0NSSVBUSU9OIG9yIGEgZ2VuZXJpYyBtZXNzYWdlXG4gICAgICogXG4gICAgICogRXhhbXBsZTogJ1RoZSB1c2VyIHdpdGggdGhlIGdpdmVuIElEIHdhcyBub3QgZm91bmQuJywgJ1RoZSBwcm92aWRlZCBkYXRhIGlzIGludmFsaWQuJywgJ1lvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGlzIHJlc291cmNlLicsIGV0Yy5cbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogVGhpcyBkZXNjcmlwdGlvbiBpcyBpbnRlbmRlZCB0byBwcm92aWRlIG1vcmUgY29udGV4dCBhYm91dCB0aGUgZXJyb3IgYW5kIGNhbiBiZSB1c2VkIGZvciBkZWJ1Z2dpbmcgb3IgbG9nZ2luZyBwdXJwb3Nlc1xuICAgICAqL1xuICAgIGdldCBkZXNjcmlwdGlvbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzY3JpcHRpb24gfHwgcHJvY2Vzcy5lbnZbQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0VSUk9SX0RFRkFVTFRfREVTQ1JJUFRJT05dIHx8IEFfQ09OU1RBTlRTX19FUlJPUl9ERVNDUklQVElPTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgb3JpZ2luYWwgZXJyb3IgaWYgYW55XG4gICAgICogXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZnVsIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMgdG8gc2VlIHRoZSBvcmlnaW5hbCBzdGFjayB0cmFjZSBvciBlcnJvciBtZXNzYWdlXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IE9yaWdpbmFsIGVycm9yIGlzIG9wdGlvbmFsIGFuZCBtYXkgbm90IGJlIHByZXNlbnQgaW4gYWxsIGNhc2VzXG4gICAgICovXG4gICAgZ2V0IG9yaWdpbmFsRXJyb3IoKTogRXJyb3IgfCBhbnkgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3JpZ2luYWxFcnJvcjtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGljaCBpbml0aWFsaXplciBtZXRob2QgdG8gdXNlIGJhc2VkIG9uIHRoZSB0eXBlIG9mIHRoZSBmaXJzdCBwYXJhbWV0ZXIuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtMSBcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRJbml0aWFsaXplcihcbiAgICAgICAgcGFyYW0xOiBfQ29uc3RydWN0b3JUeXBlIHwgRXJyb3IgfCBzdHJpbmcgfCBhbnksXG4gICAgICAgIHBhcmFtMj86IHN0cmluZ1xuICAgICk6IChwYXJhbTE6IGFueSwgcGFyYW0yOiBhbnkpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCkge1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcocGFyYW0xKSAmJiAhcGFyYW0yOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21NZXNzYWdlO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1N0cmluZyhwYXJhbTEpICYmICEhcGFyYW0yOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21UaXRsZTtcblxuICAgICAgICAgICAgY2FzZSBwYXJhbTEgaW5zdGFuY2VvZiBFcnJvcjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tRXJyb3I7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JTZXJpYWxpemVkVHlwZTxfU2VyaWFsaXplZFR5cGU+KHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbUpTT047XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JDb25zdHJ1Y3RvclR5cGU8X0NvbnN0cnVjdG9yVHlwZT4ocGFyYW0xKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tQ29uc3RydWN0b3I7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9FcnJvcihcbiAgICAgICAgICAgICAgICAgICAgQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTLlZBTElEQVRJT05fRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICdJbnZhbGlkIHBhcmFtZXRlcnMgcHJvdmlkZWQgdG8gQV9FcnJvciBjb25zdHJ1Y3RvcidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIEFfRXJyb3IgaW5zdGFuY2UgZnJvbSBhIHN0YW5kYXJkIEVycm9yIG9iamVjdC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXJyb3IgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGZyb21FcnJvcihlcnJvcjogRXJyb3IpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBBX0NPTlNUQU5UU19fRVJST1JfQ09ERVMuVU5FWFBFQ1RFRF9FUlJPUjtcblxuICAgICAgICB0aGlzLl9hc2VpZCA9IG5ldyBBU0VJRCh7XG4gICAgICAgICAgICBjb25jZXB0OiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuY29uY2VwdCxcbiAgICAgICAgICAgIHNjb3BlOiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuc2NvcGUsXG4gICAgICAgICAgICBlbnRpdHk6ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5lbnRpdHksXG4gICAgICAgICAgICBpZDogdGhpcy5jb2RlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX29yaWdpbmFsRXJyb3IgPSBlcnJvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIEFfRXJyb3IgaW5zdGFuY2UgZnJvbSBhIG1lc3NhZ2UuXG4gICAgICogXG4gICAgICogQHBhcmFtIHRpdGxlIFxuICAgICAqIEBwYXJhbSBkZXNjcmlwdGlvbiBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZnJvbU1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTLlVORVhQRUNURURfRVJST1I7XG5cbiAgICAgICAgdGhpcy5fYXNlaWQgPSBuZXcgQVNFSUQoe1xuICAgICAgICAgICAgY29uY2VwdDogKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRXJyb3IpLmNvbmNlcHQsXG4gICAgICAgICAgICBzY29wZTogdGhpcy5fc2NvcGUgfHwgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRXJyb3IpLnNjb3BlLFxuICAgICAgICAgICAgZW50aXR5OiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuZW50aXR5LFxuICAgICAgICAgICAgaWQ6IHRoaXMuY29kZVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9saW5rID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9vcmlnaW5hbEVycm9yID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgQV9FcnJvciBpbnN0YW5jZSBmcm9tIGEgc2VyaWFsaXplZCBvYmplY3QuXG4gICAgICogXG4gICAgICogQHBhcmFtIHNlcmlhbGl6ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZnJvbUpTT04oc2VyaWFsaXplZDogX1NlcmlhbGl6ZWRUeXBlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2FzZWlkID0gbmV3IEFTRUlEKHNlcmlhbGl6ZWQuYXNlaWQpO1xuICAgICAgICBzdXBlci5tZXNzYWdlID0gc2VyaWFsaXplZC5tZXNzYWdlO1xuICAgICAgICB0aGlzLl90aXRsZSA9IHNlcmlhbGl6ZWQudGl0bGU7XG4gICAgICAgIHRoaXMuX2NvZGUgPSBzZXJpYWxpemVkLmNvZGU7XG4gICAgICAgIHRoaXMuX3Njb3BlID0gc2VyaWFsaXplZC5zY29wZTtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBzZXJpYWxpemVkLmRlc2NyaXB0aW9uO1xuICAgICAgICAvLyBOb3RlOiBvcmlnaW5hbEVycm9yIGlzIGRlc2VyaWFsaXplZCBhcyBtZXNzYWdlIG9ubHlcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxFcnJvciA9IHNlcmlhbGl6ZWQub3JpZ2luYWxFcnJvciA/IG5ldyBBX0Vycm9yKHNlcmlhbGl6ZWQub3JpZ2luYWxFcnJvcikgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2xpbmsgPSBzZXJpYWxpemVkLmxpbms7XG4gICAgfVxuXG5cblxuICAgIGZyb21UaXRsZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVUaXRsZSh0aXRsZSk7XG5cbiAgICAgICAgdGhpcy5fdGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcblxuICAgICAgICB0aGlzLl9hc2VpZCA9IG5ldyBBU0VJRCh7XG4gICAgICAgICAgICBjb25jZXB0OiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuY29uY2VwdCxcbiAgICAgICAgICAgIHNjb3BlOiB0aGlzLl9zY29wZSB8fCAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuc2NvcGUsXG4gICAgICAgICAgICBlbnRpdHk6ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5lbnRpdHksXG4gICAgICAgICAgICBpZDogdGhpcy5jb2RlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2xpbmsgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBBX0Vycm9yIGluc3RhbmNlIGZyb20gYSBjb25zdHJ1Y3RvciBwYXJhbWV0ZXJzIG9iamVjdC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBmcm9tQ29uc3RydWN0b3IocGFyYW1zOiBfQ29uc3RydWN0b3JUeXBlKTogdm9pZCB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVUaXRsZShwYXJhbXMudGl0bGUpO1xuXG4gICAgICAgIHRoaXMuX3RpdGxlID0gcGFyYW1zLnRpdGxlO1xuICAgICAgICB0aGlzLl9jb2RlID0gcGFyYW1zLmNvZGU7XG4gICAgICAgIHRoaXMuX3Njb3BlID0gcGFyYW1zLnNjb3BlID8gKEFfVHlwZUd1YXJkcy5pc1Njb3BlSW5zdGFuY2UocGFyYW1zLnNjb3BlKSA/IHBhcmFtcy5zY29wZS5uYW1lIDogcGFyYW1zLnNjb3BlKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICB0aGlzLl9hc2VpZCA9IG5ldyBBU0VJRCh7XG4gICAgICAgICAgICBjb25jZXB0OiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuY29uY2VwdCxcbiAgICAgICAgICAgIHNjb3BlOiB0aGlzLl9zY29wZSB8fCAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuc2NvcGUsXG4gICAgICAgICAgICBlbnRpdHk6ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5lbnRpdHksXG4gICAgICAgICAgICBpZDogdGhpcy5jb2RlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gcGFyYW1zLmRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLl9saW5rID0gcGFyYW1zLmxpbms7XG5cbiAgICAgICAgLy8gSGFuZGxlIG9yaWdpbmFsRXJyb3I6IGlmIGl0J3MgYW4gQV9FcnJvciwgd2Ugc2hvdWxkIHRyYWNlIGJhY2sgdG8gdGhlIHJvb3QgY2F1c2VcbiAgICAgICAgLy8gdG8gYXZvaWQgaW5maW5pdGUgbmVzdGluZyBvZiBBX0Vycm9yIGluc3RhbmNlc1xuICAgICAgICBpZiAocGFyYW1zLm9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBBX0Vycm9yKSB7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSByb290IG9yaWdpbmFsIGVycm9yIGJ5IHRyYXZlcnNpbmcgdGhlIGNoYWluXG4gICAgICAgICAgICBsZXQgcm9vdEVycm9yID0gcGFyYW1zLm9yaWdpbmFsRXJyb3I7XG4gICAgICAgICAgICB3aGlsZSAocm9vdEVycm9yLm9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBBX0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgcm9vdEVycm9yID0gcm9vdEVycm9yLm9yaWdpbmFsRXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXQgdGhlIHJvb3QgY2F1c2UgYXMgdGhlIG9yaWdpbmFsIGVycm9yXG4gICAgICAgICAgICB0aGlzLl9vcmlnaW5hbEVycm9yID0gcm9vdEVycm9yLm9yaWdpbmFsRXJyb3IgfHwgcm9vdEVycm9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxFcnJvciA9IHBhcmFtcy5vcmlnaW5hbEVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgQV9FcnJvciBpbnN0YW5jZSB0byBhIHBsYWluIG9iamVjdC5cbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICB0b0pTT04oKTogX1NlcmlhbGl6ZWRUeXBlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFzZWlkOiB0aGlzLmFzZWlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgICAgICAgIGNvZGU6IHRoaXMuY29kZSxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgICAgIGxpbms6IHRoaXMubGluayxcbiAgICAgICAgICAgIHNjb3BlOiB0aGlzLnNjb3BlLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBvcmlnaW5hbEVycm9yOiB0aGlzLm9yaWdpbmFsRXJyb3I/Lm1lc3NhZ2VcbiAgICAgICAgfSBhcyBfU2VyaWFsaXplZFR5cGU7XG4gICAgfVxuXG5cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gUFJPVEVDVEVEIEhFTFBFUlMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgcHJvdmlkZWQgdGl0bGUgZXhjZWVkcyA2MCBjaGFyYWN0ZXJzLlxuICAgICAqIElmIGl0IGRvZXMsIHRocm93cyBhIHZhbGlkYXRpb24gQV9FcnJvci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdGl0bGUgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHZhbGlkYXRlVGl0bGUodGl0bGU6IHN0cmluZykge1xuICAgICAgICBpZiAodGl0bGUubGVuZ3RoID4gNjApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0Vycm9yKFxuICAgICAgICAgICAgICAgIEFfQ09OU1RBTlRTX19FUlJPUl9DT0RFUy5WQUxJREFUSU9OX0VSUk9SLFxuICAgICAgICAgICAgICAgICdBLUVycm9yIHRpdGxlIGV4Y2VlZHMgNjAgY2hhcmFjdGVycyBsaW1pdC4nXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aXRsZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0Vycm9yKFxuICAgICAgICAgICAgICAgIEFfQ09OU1RBTlRTX19FUlJPUl9DT0RFUy5WQUxJREFUSU9OX0VSUk9SLFxuICAgICAgICAgICAgICAgICdBLUVycm9yIHRpdGxlIGNhbm5vdCBiZSBlbXB0eS4nXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuXG5cbi8vIG1lc3NhZ2UgPSB0aXRsZSArIGRlc2NyaXB0aW9uIGZvciBiZXR0ZXIgcHJpbnRpbmcgaW4gdGhlIGNvbnNvbGVcbi8vIGRlc2NyaXB0aW9uID0gZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVycm9yXG4vLyBjb2RlID0ga2ViYWJjYXNlICh0aXRsZSlcblxuIiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQVNFSURfRXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuXG4gICAgc3RhdGljIHJlYWRvbmx5IEFTRUlESW5pdGlhbGl6YXRpb25FcnJvciA9ICdBU0VJRCBJbml0aWFsaXphdGlvbiBFcnJvcic7XG4gICAgXG4gICAgc3RhdGljIHJlYWRvbmx5IEFTRUlEVmFsaWRhdGlvbkVycm9yID0gJ0FTRUlEIFZhbGlkYXRpb24gRXJyb3InO1xuXG59IiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fQVNFSURfQ29uc3RydWN0b3IsXG4gICAgQV9UWVBFU19fQVNFSURfSlNPTlxufSBmcm9tIFwiLi9BU0VJRC50eXBlc1wiO1xuaW1wb3J0IHsgQV9JZGVudGl0eUhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9JZGVudGl0eS5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIi4uL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFTRUlEX0Vycm9yIH0gZnJvbSBcIi4vQVNFSUQuZXJyb3JcIjtcbmltcG9ydCB7IEFfVFlQRVNfX1JlcXVpcmVkIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvdHlwZXMvQV9Db21tb24udHlwZXNcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBU0VJRCB7XG5cblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFNUQVRJQyBNRVRIT0RTID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBBU0VJRCBSZWd1bGFyIEV4cHJlc3Npb25cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgcmVnZXhwOiBSZWdFeHAgPSBuZXcgUmVnRXhwKGBeW2EtenxBLVp8MC05fC1dK0BbYS16fEEtWnwwLTl8XFwtXSs6W2EtenxBLVp8MC05fFxcLV0rOlthLXp8QS1afDAtOXxcXFxcLnwtXSsoQHZbMC05fFxcXFwuXSt8QGx0cyk/JGApXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgdGhlIGlkZW50aXR5IHN0cmluZyBpcyBhbiBBU0VJRFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBpZGVudGl0eSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNBU0VJRChpZGVudGl0eTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2V4cC50ZXN0KGlkZW50aXR5KVxuICAgIH1cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09IEhpZGRlbiBBU0VJRCBJbmZvcm1hdGlvbiA9PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBDb25jZXB0IGZvciB0aGUgQVNFSURcbiAgICAgKiBHZW5lcmFsbHkgaXQgaXMgdGhlIGFwcGxpY2F0aW9uIG5hbWUgb3IgY29kZSwgc2hvdWxkIGNvcnJlc3BvbmQgdG8gdGhlIGNvbmNlcHQgd2hlcmUgdGhlIGVudGl0eSBpcyB1c2VkXG4gICAgICogQ291bGQgYmUgSUQgb3IgQVNFSURcbiAgICAgKi9cbiAgICBwcml2YXRlIF9jb25jZXB0ITogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEVudGl0eSBTY29wZSB0aGUgcHJpbWFyeSBsb2NhdGlvbiBvZiB0aGUgcmVzb3VyY2UgXG4gICAgICogT3JnYW5pemF0aW9uLCBvciBvcmdhbml6YXRpb24gVW5pdFxuICAgICAqIENvdWxkIGJlIElEIG9yIEFTRUlEXG4gICAgICogXG4gICAgICovXG4gICAgcHJpdmF0ZSBfc2NvcGUhOiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBFbnRpdHkgVHlwZSB0aGUgdHlwZSBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKi9cbiAgICBwcml2YXRlIF9lbnRpdHkhOiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBFbnRpdHkgSUQgdGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSByZXNvdXJjZVxuICAgICAqL1xuICAgIHByaXZhdGUgX2lkITogc3RyaW5nXG4gICAgLyoqXG4gICAgICogVmVyc2lvbiBvZiB0aGUgZW50aXR5IChvcHRpb25hbClcbiAgICAgKi9cbiAgICBwcml2YXRlIF92ZXJzaW9uPzogc3RyaW5nXG4gICAgLyoqXG4gICAgICogU2hhcmQgb2YgdGhlIGVudGl0eSAob3B0aW9uYWwpXG4gICAgICovXG4gICAgcHJpdmF0ZSBfc2hhcmQ/OiBzdHJpbmdcblxuXG5cblxuXG5cbiAgICAvKipcbiAgICAgKiBBU0VJRCBpcyBhIHN0cnVjdHVyZWQgaWRlbnRpZmllciBmb3IgZW50aXRpZXMgaW4gdGhlIEEtQ29uY2VwdCBzeXN0ZW0uIFxuICAgICAqIHVzaW5nIHRoZSBmb3JtYXQ6XG4gICAgICogIEEgLSBBLUNvbmNlcHRcbiAgICAgKiAgUyAtIFN5c3RlbSBcbiAgICAgKiAgRSAtIEVudGl0eVxuICAgICAqICBJIC0gSWRlbnRpZmllclxuICAgICAqICBEIC0gaURlbnRpZmllclxuICAgICAqIFxuICAgICAqIFN0cnVjdHVyZTogQ09OQ0VQVF9OQU1FICsgQCArIFNDT1BFICsgOiBFTlRJVFlfTkFNRSArIDogKyBJRCArIEAgKyBWRVJTSU9OIFxuICAgICAqIFxuICAgICAqIEV4YW1wbGU6XG4gICAgICogIC0gcm9vdEBjb3JlOnVzcjowMDAwMDAwMDAxXG4gICAgICogXG4gICAgICogWyFdIENvbmNlcHQgaXMgb3B0aW9uYWwsIGlmIG5vdCBwcm92aWRlZCB3aWxsIGJlIHVzZWQgdGhlIGN1cnJlbnQgY29uY2VwdCBuYW1lXG4gICAgICogWyFdIFNjb3BlIGlzIG9wdGlvbmFsLCBpZiBub3QgcHJvdmlkZWQgd2lsbCBiZSB1c2VkIHRoZSByb290IHNjb3BlIG9mIHRoZSBjdXJyZW50IGNvbmNlcHRcbiAgICAgKiBbIV0gVmVyc2lvbiBpcyBvcHRpb25hbCwgaWYgbm90IHByb3ZpZGVkIHdpbGwgYmUgY29uc2lkZXJlZCBhcyBsYXRlc3QgdmVyc2lvblxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhc2VpZCAtIEFTRUlEIHN0cmluZyByZXByZXNlbnRhdGlvbiBvciBBU0VJRCBjb21wb25lbnRzIGFzIG9iamVjdFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogQVNFSUQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBhc2VpZDogc3RyaW5nXG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogQVNFSUQgY29tcG9uZW50cyBhcyBvYmplY3QgXG4gICAgICAgICAqL1xuICAgICAgICBwcm9wczogQV9UWVBFU19fUmVxdWlyZWQ8UGFydGlhbDxBX1RZUEVTX19BU0VJRF9Db25zdHJ1Y3Rvcj4sIFsnaWQnLCAnZW50aXR5J10+XG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKHBhcmFtMTogc3RyaW5nIHwgQV9UWVBFU19fUmVxdWlyZWQ8UGFydGlhbDxBX1RZUEVTX19BU0VJRF9Db25zdHJ1Y3Rvcj4sIFsnaWQnLCAnZW50aXR5J10+KSB7XG4gICAgICAgIHRoaXMudmVyaWZ5SW5wdXQocGFyYW0xKTtcblxuICAgICAgICBjb25zdCBpbml0aWFsaXplciA9IHRoaXMuZ2V0SW5pdGlhbGl6ZXIocGFyYW0xKTtcbiAgICAgICAgLy8gdGhlIHJldHVybmVkIGluaXRpYWxpemVyIGlzIGFscmVhZHkgYm91bmQgdG8gYHRoaXNgICh3ZSB1c2VkIC5iaW5kKHRoaXMpKSxcbiAgICAgICAgLy8gc28gY2FsbGluZyBpdCB3aWxsIHJ1biB0aGUgYXBwcm9wcmlhdGUgbG9naWMgb24gdGhpcyBpbnN0YW5jZTpcbiAgICAgICAgaW5pdGlhbGl6ZXIuY2FsbCh0aGlzLCBwYXJhbTEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlcnMgZm9yIEFTRUlEIGNvbXBvbmVudHNcbiAgICAgKi9cbiAgICBnZXQgY29uY2VwdCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uY2VwdCB8fCBBX0NvbnRleHQuY29uY2VwdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzY29wZSBvZiB0aGUgQVNFSURcbiAgICAgKi9cbiAgICBnZXQgc2NvcGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Njb3BlIHx8IEFfQ29udGV4dC5yb290Lm5hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZW50aXR5IG9mIHRoZSBBU0VJRFxuICAgICAqL1xuICAgIGdldCBlbnRpdHkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpZCBvZiB0aGUgQVNFSURcbiAgICAgKi9cbiAgICBnZXQgaWQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZlcnNpb24gb2YgdGhlIEFTRUlEIChpZiBhbnkpXG4gICAgICovXG4gICAgZ2V0IHZlcnNpb24oKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZlcnNpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2hhcmQgb2YgdGhlIEFTRUlEIChpZiBhbnkpXG4gICAgICovXG4gICAgZ2V0IHNoYXJkKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaGFyZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZXQgSW50ZXJuYWwgSW5pdGlhbGl6ZXIgYmFzZWQgb24gdGhlIHR5cGUgb2YgdGhlIHBhcmFtZXRlciBwcm92aWRlZFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbTEgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRJbml0aWFsaXplcihcbiAgICAgICAgcGFyYW0xOiBzdHJpbmcgfCBBX1RZUEVTX19SZXF1aXJlZDxQYXJ0aWFsPEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yPiwgWydpZCcsICdlbnRpdHknXT5cbiAgICApOiAocGFyYW0xOiBhbnkpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCkge1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVN0cmluZztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNPYmplY3Q8QV9UWVBFU19fQVNFSURfQ29uc3RydWN0b3I+KHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbU9iamVjdDtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQVNFSURfRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIEFTRUlEX0Vycm9yLkFTRUlESW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgJ0ludmFsaWQgcGFyYW1ldGVycyBwcm92aWRlZCB0byBBU0VJRCBjb25zdHJ1Y3RvcidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIEFTRUlEIGZyb20gc3RyaW5nXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtMSBcbiAgICAgKi9cbiAgICBwcml2YXRlIGZyb21TdHJpbmcocGFyYW0xOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgW2NvbmNlcHQsIGJvZHksIHZlcnNpb25dID0gcGFyYW0xLnNwbGl0KCdAJyk7XG4gICAgICAgIGNvbnN0IFtzY29wZSwgZW50aXR5LCBpZENhbmRpZGF0ZV0gPSBib2R5LnNwbGl0KCc6Jyk7XG5cbiAgICAgICAgY29uc3Qgc2hhcmQgPSBpZENhbmRpZGF0ZS5pbmNsdWRlcygnLicpID8gaWRDYW5kaWRhdGUuc3BsaXQoJy4nKVswXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgaWQgPSBpZENhbmRpZGF0ZS5pbmNsdWRlcygnLicpID8gaWRDYW5kaWRhdGUuc3BsaXQoJy4nKVsxXSA6IGlkQ2FuZGlkYXRlO1xuXG4gICAgICAgIHRoaXMuX2NvbmNlcHQgPSBjb25jZXB0IHx8IEFfQ29udGV4dC5yb290Lm5hbWU7XG4gICAgICAgIHRoaXMuX3Njb3BlID0gc2NvcGUgfHwgQV9Db250ZXh0LnJvb3QubmFtZTtcbiAgICAgICAgdGhpcy5fZW50aXR5ID0gZW50aXR5O1xuICAgICAgICB0aGlzLl9pZCA9IGlkO1xuICAgICAgICB0aGlzLl92ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy5fc2hhcmQgPSBzaGFyZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBBU0VJRCBmcm9tIG9iamVjdFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbTEgXG4gICAgICovXG4gICAgcHJpdmF0ZSBmcm9tT2JqZWN0KHBhcmFtMTogQV9UWVBFU19fUmVxdWlyZWQ8UGFydGlhbDxBX1RZUEVTX19BU0VJRF9Db25zdHJ1Y3Rvcj4sIFsnaWQnLCAnZW50aXR5J10+KSB7XG4gICAgICAgIHRoaXMuX2NvbmNlcHQgPSBwYXJhbTEuY29uY2VwdFxuICAgICAgICAgICAgPyBBU0VJRC5pc0FTRUlEKHBhcmFtMS5jb25jZXB0KVxuICAgICAgICAgICAgICAgID8gbmV3IEFTRUlEKHBhcmFtMS5jb25jZXB0KS5pZFxuICAgICAgICAgICAgICAgIDogcGFyYW0xLmNvbmNlcHRcbiAgICAgICAgICAgIDogQV9Db250ZXh0LmNvbmNlcHQ7XG5cbiAgICAgICAgdGhpcy5fc2NvcGUgPSBwYXJhbTEuc2NvcGVcbiAgICAgICAgICAgID8gQV9UeXBlR3VhcmRzLmlzTnVtYmVyKHBhcmFtMS5zY29wZSlcbiAgICAgICAgICAgICAgICA/IEFfSWRlbnRpdHlIZWxwZXIuZm9ybWF0V2l0aExlYWRpbmdaZXJvcyhwYXJhbTEuc2NvcGUpIDpcbiAgICAgICAgICAgICAgICBBU0VJRC5pc0FTRUlEKHBhcmFtMS5zY29wZSlcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgQVNFSUQocGFyYW0xLnNjb3BlKS5pZFxuICAgICAgICAgICAgICAgICAgICA6IHBhcmFtMS5zY29wZVxuICAgICAgICAgICAgOiBBX0NvbnRleHQucm9vdC5uYW1lXG5cbiAgICAgICAgdGhpcy5fZW50aXR5ID0gcGFyYW0xLmVudGl0eTtcblxuICAgICAgICB0aGlzLl9pZCA9IEFfVHlwZUd1YXJkcy5pc051bWJlcihwYXJhbTEuaWQpXG4gICAgICAgICAgICA/IEFfSWRlbnRpdHlIZWxwZXIuZm9ybWF0V2l0aExlYWRpbmdaZXJvcyhwYXJhbTEuaWQpXG4gICAgICAgICAgICA6IHBhcmFtMS5pZDtcblxuICAgICAgICB0aGlzLl92ZXJzaW9uID0gcGFyYW0xLnZlcnNpb247XG4gICAgICAgIHRoaXMuX3NoYXJkID0gcGFyYW0xLnNoYXJkO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBBU0VJRFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmNvbmNlcHR9QCR7dGhpcy5zY29wZX06JHt0aGlzLmVudGl0eX06JHt0aGlzLnNoYXJkID8gKHRoaXMuc2hhcmQgKyAnLicgKyB0aGlzLmlkKSA6IHRoaXMuaWR9JHt0aGlzLnZlcnNpb24gPyAoJ0AnICsgdGhpcy52ZXJzaW9uKSA6ICcnfWBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBBU0VJRFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvSlNPTigpOiBBX1RZUEVTX19BU0VJRF9KU09OIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbmNlcHQ6IHRoaXMuX2NvbmNlcHQsXG4gICAgICAgICAgICBzY29wZTogdGhpcy5fc2NvcGUsXG4gICAgICAgICAgICBlbnRpdHk6IHRoaXMuX2VudGl0eSxcbiAgICAgICAgICAgIGlkOiB0aGlzLl9pZCxcbiAgICAgICAgICAgIHZlcnNpb246IHRoaXMuX3ZlcnNpb24sXG4gICAgICAgICAgICBzaGFyZDogdGhpcy5fc2hhcmRcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gUFJPVEVDVEVEIEhFTFBFUlMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbiAgICBwcm90ZWN0ZWQgdmVyaWZ5SW5wdXQocGFyYW0xOiBzdHJpbmcgfCBBX1RZUEVTX19SZXF1aXJlZDxQYXJ0aWFsPEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yPiwgWydpZCcsICdlbnRpdHknXT4pIHtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIC8vIDEpIGNoZWNrIGZvciBzdHJpbmcgYW5kIHZhbGlkYXRlIGl0IGFzIEFTRUlEXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1N0cmluZyhwYXJhbTEpICYmICFBU0VJRC5pc0FTRUlEKHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFTRUlEX0Vycm9yKEFTRUlEX0Vycm9yLkFTRUlEVmFsaWRhdGlvbkVycm9yLCAnSW52YWxpZCBBU0VJRCBmb3JtYXQgcHJvdmlkZWQnKVxuXG4gICAgICAgICAgICAvLyAyKSBjaGVjayBmb3Igb2JqZWN0IGFuZCB2YWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzT2JqZWN0PEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yPihwYXJhbTEpICYmICFwYXJhbTEuaWQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFTRUlEX0Vycm9yKEFTRUlEX0Vycm9yLkFTRUlEVmFsaWRhdGlvbkVycm9yLCAnQVNFSUQgaWQgaXMgcmVxdWlyZWQnKVxuXG4gICAgICAgICAgICAvLyAzKSBjaGVjayBmb3Igb2JqZWN0IGFuZCB2YWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzT2JqZWN0PEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yPihwYXJhbTEpICYmICFwYXJhbTEuZW50aXR5OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBU0VJRF9FcnJvcihBU0VJRF9FcnJvci5BU0VJRFZhbGlkYXRpb25FcnJvciwgJ0FTRUlEIGVudGl0eSBpcyByZXF1aXJlZCcpXG5cbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX0VudGl0eUVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGZvciB2YWxpZGF0aW9uIGVycm9ycy5cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgVmFsaWRhdGlvbkVycm9yID0gJ0EtRW50aXR5IFZhbGlkYXRpb24gRXJyb3InO1xuXG59IiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fRW50aXR5X1NlcmlhbGl6ZWQsXG4gICAgQV9UWVBFU19fRW50aXR5X0luaXQsXG4gICAgQV9UWVBFU19fSUVudGl0eSxcbn0gZnJvbSBcIi4vQS1FbnRpdHkudHlwZXNcIjtcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCIuLi9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1Njb3BlIH0gZnJvbSBcIi4uL0EtU2NvcGUvQS1TY29wZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Gb3JtYXR0ZXJIZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfRm9ybWF0dGVyLmhlbHBlclwiO1xuaW1wb3J0IHsgQVNFSUQgfSBmcm9tIFwiLi4vQVNFSUQvQVNFSUQuY2xhc3NcIjtcbmltcG9ydCB7IEFfSWRlbnRpdHlIZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfSWRlbnRpdHkuaGVscGVyXCI7XG5pbXBvcnQgeyBBX0VudGl0eUVycm9yIH0gZnJvbSBcIi4vQS1FbnRpdHkuZXJyb3JcIjtcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BU0VJRF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BU0VJRC9BU0VJRC50eXBlc1wiO1xuXG5cbi8qKlxuICogQV9FbnRpdHkgaXMgYW5vdGhlciBhYnN0cmFjdGlvbiB0aGF0IGRlc2NyaWJlcyBhbGwgbWFqb3IgcGFydGljaXBhbnRzIGluIHRoZSBzeXN0ZW0gYnVzaW5lc3MgbG9naWMuXG4gKiBFYWNoIEVudGl0eSBzaG91bGQgaGF2ZSBhIGNsZWFyIGRlZmluaXRpb24gYW5kIGEgY2xlYXIgc2V0IG9mIHJlc3BvbnNpYmlsaXRpZXMuIFxuICogSG93ZXZlciwgZW50aXR5IG1heSBoaWRlIHNvbWUgb2YgaXRzIHJlc3BvbnNpYmlsaXRpZXMgYmVoaW5kIHRoZSBpbnRlcmZhY2UgdG8gcHJldmVudCBvdmVybG9hZC4gXG4gKiBcbiAqIEVhY2ggZW50aXR5IHNob3VsZCBiZSBjb25uZWN0ZWQgdG8gdGhlIENvbnRleHRGcmFnbWVudCAoU2NvcGUpIGFuZCBzaG91bGQgYmUgYWJsZSB0byBjb21tdW5pY2F0ZSB3aXRoIG90aGVyIGVudGl0aWVzLlxuICovXG5leHBvcnQgY2xhc3MgQV9FbnRpdHk8XG4gICAgX0NvbnN0cnVjdG9yVHlwZSBleHRlbmRzIEFfVFlQRVNfX0VudGl0eV9Jbml0ID0gQV9UWVBFU19fRW50aXR5X0luaXQsXG4gICAgX1NlcmlhbGl6ZWRUeXBlIGV4dGVuZHMgQV9UWVBFU19fRW50aXR5X1NlcmlhbGl6ZWQgPSBBX1RZUEVTX19FbnRpdHlfU2VyaWFsaXplZFxuPlxuICAgIGltcGxlbWVudHMgQV9UWVBFU19fSUVudGl0eSB7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PSBTdGF0aWMgQS1FbnRpdHkgSW5mb3JtYXRpb24gPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogRW50aXR5IElkZW50aWZpZXIgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgY2xhc3MgbmFtZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgZW50aXR5KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBBX0Zvcm1hdHRlckhlbHBlci50b0tlYmFiQ2FzZSh0aGlzLm5hbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBERUZBVUxUIENvbmNlcHQgTmFtZSAoQXBwbGljYXRpb24gTmFtZSkgb2YgdGhlIGVudGl0eSBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlIEFfQ09OQ0VQVF9OQU1FXG4gICAgICogWyFdIElmIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQsIGl0IHdpbGwgZGVmYXVsdCB0byAnYS1jb25jZXB0J1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgY29uY2VwdCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LmNvbmNlcHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERFRkFVTFQgU2NvcGUgb2YgdGhlIGVudGl0eSBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlIEFfQ09OQ0VQVF9ERUZBVUxUX1NDT1BFXG4gICAgICogWyFdIElmIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQsIGl0IHdpbGwgZGVmYXVsdCB0byAnY29yZSdcbiAgICAgKiBbIV0gU2NvcGUgaXMgYW4gYXBwbGljYXRpb24gc3BlY2lmaWMgaWRlbnRpZmllciB0aGF0IGNhbiBiZSB1c2VkIHRvIGdyb3VwIGVudGl0aWVzIHRvZ2V0aGVyXG4gICAgICogWyFdIGUuZy4gJ2RlZmF1bHQnLCAnY29yZScsICdwdWJsaWMnLCAnaW50ZXJuYWwnLCBldGNcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHNjb3BlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQucm9vdC5uYW1lO1xuICAgIH1cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PSBJbnN0YW5jZSBBLUVudGl0eSBJbmZvcm1hdGlvbiA9PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBBU0VJRCBpcyBhbiBlbnRpdHkgaWRlbnRpZmllciB0aGF0IGlzIHVuaXF1ZSBhY3Jvc3MgdGhlIHN5c3RlbVxuICAgICAqIEEgLSBBX0NvbmNlcHQgb3IgQXBwbGljYXRpb25cbiAgICAgKiBTIC0gU3lzdGVtIG9yIFNjb3BlXG4gICAgICogRSAtIEVudGl0eVxuICAgICAqIElEIC0gSWRlbnRpZmllclxuICAgICAqIFxuICAgICAqIFshXSBBU0VJRCBpcyBpbW11dGFibGUgYW5kIHNob3VsZCBub3QgYmUgY2hhbmdlZCBhZnRlciB0aGUgZW50aXR5IGlzIGNyZWF0ZWRcbiAgICAgKiBcbiAgICAgKiBbIV0gQVNFSUQgaXMgY29tcG9zZWQgb2YgdGhlIGZvbGxvd2luZyBwYXJ0czpcbiAgICAgKiAtIGNvbmNlcHQ6IGFuIGFwcGxpY2F0aW9uIHNwZWNpZmljIGlkZW50aWZpZXIgZnJvbSB3aGVyZSB0aGUgZW50aXR5IGlzIGNvbWluZyBmcm9tXG4gICAgICogLSBzY29wZTogdGhlIHNjb3BlIG9mIHRoZSBlbnRpdHkgZnJvbSBjb25jZXB0XG4gICAgICogLSBlbnRpdHk6IHRoZSBuYW1lIG9mIHRoZSBlbnRpdHkgZnJvbSBjb25jZXB0XG4gICAgICogLSBpZDogdGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBlbnRpdHlcbiAgICAgKlxuICAgICAqIFshXSBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBBU0VJRCwgcGxlYXNlIHJlZmVyIHRvIHRoZSBBU0VJRCBjbGFzcyBkb2N1bWVudGF0aW9uXVxuICAgICAqL1xuICAgIGFzZWlkITogQVNFSUQ7XG5cblxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEFfZW50aXR5IGluc3RhbmNlIGZyb20gQXNlaWQgU3RyaW5nXG4gICAgICogZS5nLiBwcm9qZWN0QHNjb3BlOmVudGl0eTowMDAwMDAwMDAxXG4gICAgICogXG4gICAgICogQHBhcmFtIGFzZWlkIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogQVNFSUQgc3RyaW5nIHRoYXQgcmVwcmVzZW50cyB0aGUgZW50aXR5XG4gICAgICAgICAqL1xuICAgICAgICBhc2VpZD86IHN0cmluZ1xuICAgIClcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQV9lbnRpdHkgaW5zdGFuY2UgZnJvbSBBc2VpZCBpbnN0YW5jZVxuICAgICAqIGUuZy4gbmV3IEFTRUlEKHtjb25jZXB0OiAncHJvamVjdCcsIHNjb3BlOiAnZGVmYXVsdCcsIGVudGl0eTogJ2VudGl0eScsIGlkOiAnMDAwMDAwMDAwMSd9KVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhc2VpZCBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFTRUlEIGluc3RhbmNlIHRoYXQgcmVwcmVzZW50cyB0aGUgZW50aXR5XG4gICAgICAgICAqL1xuICAgICAgICBhc2VpZDogQVNFSURcbiAgICApXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEFfZW50aXR5IGluc3RhbmNlIGZyb20gc2VyaWFsaXplZCBvYmplY3RcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2VyaWFsaXplZCBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlcmlhbGl6ZWQgb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgZW50aXR5XG4gICAgICAgICAqL1xuICAgICAgICBzZXJpYWxpemVkOiBfU2VyaWFsaXplZFR5cGVcbiAgICApXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEFfZW50aXR5IGluc3RhbmNlIGZyb20gY29uc3RydWN0b3Igb2JqZWN0XG4gICAgICogXG4gICAgICogQHBhcmFtIG5ld0VudGl0eSBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnN0cnVjdG9yIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgdGhlIGVudGl0eVxuICAgICAgICAgKi9cbiAgICAgICAgbmV3RW50aXR5PzogX0NvbnN0cnVjdG9yVHlwZVxuICAgIClcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcz86IHN0cmluZyB8IEFTRUlEIHwgX1NlcmlhbGl6ZWRUeXBlIHwgX0NvbnN0cnVjdG9yVHlwZSkge1xuXG4gICAgICAgIGNvbnN0IGluaXRpYWxpemVyID0gdGhpcy5nZXRJbml0aWFsaXplcihwcm9wcyk7XG4gICAgICAgIC8vIHRoZSByZXR1cm5lZCBpbml0aWFsaXplciBpcyBhbHJlYWR5IGJvdW5kIHRvIGB0aGlzYCAod2UgdXNlZCAuYmluZCh0aGlzKSksXG4gICAgICAgIC8vIHNvIGNhbGxpbmcgaXQgd2lsbCBydW4gdGhlIGFwcHJvcHJpYXRlIGxvZ2ljIG9uIHRoaXMgaW5zdGFuY2U6XG4gICAgICAgIGluaXRpYWxpemVyLmNhbGwodGhpcywgcHJvcHMpO1xuICAgIH1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PSBEVVBMSUNBVEVEIEFTRUlEIEdldHRlcnMgPT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSBJRCBmcm9tIHRoZSBBU0VJRFxuICAgICAqIElEIGlzIHRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgZW50aXR5XG4gICAgICovXG4gICAgZ2V0IGlkKCk6IHN0cmluZyB8IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzZWlkLmlkO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09IENvbnN0cnVjdG9yIEhlbHBlcnMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbiAgICAvLyAtLS0gVHlwZSBndWFyZHMgdXNlZCB0byBjbGFzc2lmeSBgcHJvcHNgIHByb3Blcmx5IC0tLVxuICAgIHByb3RlY3RlZCBpc1N0cmluZ0FTRUlEKHg6IHVua25vd24pOiB4IGlzIHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzdHJpbmdcIiAmJiBBU0VJRC5pc0FTRUlEKHgpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBpc0FTRUlESW5zdGFuY2UoeDogdW5rbm93bik6IHggaXMgQVNFSUQge1xuICAgICAgICByZXR1cm4geCBpbnN0YW5jZW9mIEFTRUlEO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgXCJzZXJpYWxpemVkXCIgb2JqZWN0IGlzIGNvbnNpZGVyZWQgc3VjaCBpZiBpdCBpcyBhIG5vbi1udWxsIG9iamVjdCBcbiAgICAgKiBhbmQgY29udGFpbnMgYW4gXCJhc2VpZFwiIHByb3BlcnR5ICh0aGlzIG1pcnJvcnMgeW91ciBvcmlnaW5hbCBjaGVjaykuIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB4IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpc1NlcmlhbGl6ZWRPYmplY3QoeDogdW5rbm93bik6IHggaXMgX1NlcmlhbGl6ZWRUeXBlIHtcbiAgICAgICAgcmV0dXJuICEheCAmJiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiBcImFzZWlkXCIgaW4gKHggYXMgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3Rvci1zdHlsZSBwcm9wcyA9IGEgcGxhaW4gb2JqZWN0IHdoaWNoIGRvZXMgTk9UIGNvbnRhaW4gXCJhc2VpZFwiLlxuICAgICAqIFRoaXMgaXMgdGhlIFwiY3JlYXRlIGZyb20gcHJvdmlkZWQgZmllbGRzXCIgY2FzZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0geCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgaXNDb25zdHJ1Y3RvclByb3BzKHg6IHVua25vd24pOiB4IGlzIF9Db25zdHJ1Y3RvclR5cGUge1xuICAgICAgICByZXR1cm4gISF4ICYmIHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmICEoXCJhc2VpZFwiIGluICh4IGFzIG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIGFwcHJvcHJpYXRlIGluaXRpYWxpemVyIG1ldGhvZCBiYXNlZCBvbiB0aGUgdHlwZSBvZiBgcHJvcHNgLlxuICAgICAqIFRoZSBtZXRob2QgY2hlY2tzIGlmIGBwcm9wc2AgaXM6ICBcbiAgICAgKiAxKSBhIHN0cmluZyB0aGF0IG1hdGNoZXMgQVNFSUQgZm9ybWF0IC0+IGZyb21BU0VJRFxuICAgICAqIDIpIGFuIEFTRUlEIGluc3RhbmNlIC0+IGZyb21BU0VJRFxuICAgICAqIDMpIGEgc2VyaWFsaXplZCBvYmplY3QgKGhhcyAnYXNlaWQnKSAtPiBmcm9tSlNPTlxuICAgICAqIDQpIGEgcGxhaW4gb2JqZWN0IHdpdGggbm8gJ2FzZWlkJyAtPiB0cmVhdCBhcyBjb25zdHJ1Y3RvciBwcm9wcyAtPiBmcm9tTmV3XG4gICAgICogXG4gICAgICogWyFdIElmIGBwcm9wc2AgaXMgdW5kZWZpbmVkLCBpdCB3aWxsIGNhbGwgZnJvbVVuZGVmaW5lZCBtZXRob2RcbiAgICAgKiBcbiAgICAgKiBJZiBub25lIG9mIHRoZSBhYm92ZSwgaXQgdGhyb3dzIGFuIGVycm9yIGluZGljYXRpbmcgaW5jb3JyZWN0IGNvbnN0cnVjdG9yIHVzYWdlLlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIFRvIGdldCBhIGN1c3RvbSBpbml0aWFsaXplciwgb3ZlcnJpZGUgdGhpcyBtZXRob2QgaW4gdGhlIGNoaWxkIGNsYXNzLlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIHByb3RlY3RlZCBnZXRJbml0aWFsaXplcihcbiAgICAgKiAgIHByb3BzPzogc3RyaW5nIHwgQVNFSUQgfCBfU2VyaWFsaXplZFR5cGUgfCBfQ29uc3RydWN0b3JUeXBlXG4gICAgICogKTogKHByb3BzOiBhbnkpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCkge1xuICAgICAqICAgaWYoJ2N1c3RvbUZpZWxkJyBpbiBwcm9wcykge1xuICAgICAqICAgICAgIHJldHVybiB0aGlzLmZyb21DdXN0b21GaWVsZC5iaW5kKHRoaXMpO1xuICAgICAqICAgfVxuICAgICAqICAgcmV0dXJuIHN1cGVyLmdldEluaXRpYWxpemVyKHByb3BzKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICogQHBhcmFtIHByb3BzXG4gICAgICogQHJldHVybnMgVGhlIGFwcHJvcHJpYXRlIGluaXRpYWxpemVyIG1ldGhvZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRJbml0aWFsaXplcihcbiAgICAgICAgcHJvcHM/OiBzdHJpbmcgfCBBU0VJRCB8IF9TZXJpYWxpemVkVHlwZSB8IF9Db25zdHJ1Y3RvclR5cGVcbiAgICApOiAocHJvcHM6IGFueSkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKSB7XG5cbiAgICAgICAgaWYgKCFwcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVVuZGVmaW5lZFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gMSkgc3RyaW5nIHRoYXQgbWF0Y2hlcyBBU0VJRCBmb3JtYXQgLT4gZnJvbUFTRUlEXG4gICAgICAgIGlmICh0aGlzLmlzU3RyaW5nQVNFSUQocHJvcHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tQVNFSUQgYXMgKHA6IHN0cmluZykgPT4gdm9pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDIpIEFTRUlEIGluc3RhbmNlIC0+IGZyb21BU0VJRFxuICAgICAgICBpZiAodGhpcy5pc0FTRUlESW5zdGFuY2UocHJvcHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tQVNFSUQgYXMgKHA6IEFTRUlEKSA9PiB2b2lkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMykgc2VyaWFsaXplZCBvYmplY3QgKGhhcyAnYXNlaWQnKSAtPiBmcm9tSlNPTlxuICAgICAgICBpZiAodGhpcy5pc1NlcmlhbGl6ZWRPYmplY3QocHJvcHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tSlNPTiBhcyAocDogX1NlcmlhbGl6ZWRUeXBlKSA9PiB2b2lkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNCkgcGxhaW4gb2JqZWN0IHdpdGggbm8gJ2FzZWlkJyAtPiB0cmVhdCBhcyBjb25zdHJ1Y3RvciBwcm9wcyAtPiBmcm9tTmV3XG4gICAgICAgIGlmICh0aGlzLmlzQ29uc3RydWN0b3JQcm9wcyhwcm9wcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21OZXcgYXMgKHA6IF9Db25zdHJ1Y3RvclR5cGUpID0+IHZvaWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBub25lIG9mIHRoZSBhYm92ZSAtPiB0aHJvdyBjb25zaXN0ZW50IGVycm9yXG4gICAgICAgIHRocm93IG5ldyBBX0VudGl0eUVycm9yKEFfRW50aXR5RXJyb3IuVmFsaWRhdGlvbkVycm9yLCAnVW5hYmxlIHRvIGRldGVybWluZSBBLUVudGl0eSBjb25zdHJ1Y3RvciBpbml0aWFsaXphdGlvbiBtZXRob2QuIFBsZWFzZSBjaGVjayB0aGUgcHJvdmlkZWQgcGFyYW1ldGVycy4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBuZXcgQVNFSUQgZm9yIHRoZSBlbnRpdHkuIFxuICAgICAqIEl0IHVzZXMgY2xhc3MgZGVmaW5pdGlvbnMgZm9yIGNvbmNlcHQsIHNjb3BlLCBhbmQgZW50aXR5LFxuICAgICAqIGFuZCBhbGxvd3Mgb3ZlcnJpZGluZyBhbnkgb2YgdGhlc2UgdmFsdWVzLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBvdmVycmlkZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2VuZXJhdGVBU0VJRChvdmVycmlkZT86IFBhcnRpYWw8QV9UWVBFU19fQVNFSURfQ29uc3RydWN0b3I+KTogQVNFSUQge1xuICAgICAgICByZXR1cm4gbmV3IEFTRUlEKHtcbiAgICAgICAgICAgIGNvbmNlcHQ6IG92ZXJyaWRlPy5jb25jZXB0IHx8ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0VudGl0eSkuY29uY2VwdCxcbiAgICAgICAgICAgIHNjb3BlOiBvdmVycmlkZT8uc2NvcGUgfHwgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRW50aXR5KS5zY29wZSxcbiAgICAgICAgICAgIGVudGl0eTogb3ZlcnJpZGU/LmVudGl0eSB8fCAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FbnRpdHkpLmVudGl0eSxcbiAgICAgICAgICAgIGlkOiBvdmVycmlkZT8uaWQgfHwgQV9JZGVudGl0eUhlbHBlci5nZW5lcmF0ZVRpbWVJZCgpXG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ2FsbCBhIGZlYXR1cmUgb2YgdGhlIGNvbXBvbmVudCB3aXRoIHRoZSBwcm92aWRlZCBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBJZiB0aGUgcHJvdmlkZWQgc2NvcGUgaXMgbm90IGluaGVyaXRlZCBmcm9tIHRoZSBlbnRpdHkgc2NvcGUsIGl0IHdpbGwgYmUgaW5oZXJpdGVkXG4gICAgICogXG4gICAgICogQHBhcmFtIGxpZmVjeWNsZU1ldGhvZCBcbiAgICAgKiBAcGFyYW0gYXJncyBcbiAgICAgKi9cbiAgICBhc3luYyBjYWxsKFxuICAgICAgICBmZWF0dXJlOiBzdHJpbmcsXG4gICAgICAgIHNjb3BlPzogQV9TY29wZVxuICAgICkge1xuICAgICAgICBjb25zdCBuZXdGZWF0dXJlID0gbmV3IEFfRmVhdHVyZSh7XG4gICAgICAgICAgICBuYW1lOiBmZWF0dXJlLFxuICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzLFxuICAgICAgICAgICAgc2NvcGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ld0ZlYXR1cmUucHJvY2VzcyhzY29wZSk7XG4gICAgfVxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PSBFbnRpdHkgQmFzZSBNZXRob2RzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IG1ldGhvZCB0aGF0IGNhbiBiZSBjYWxsZWQgYW5kIGV4dGVuZGVkIHRvIGxvYWQgZW50aXR5IGRhdGEuXG4gICAgICovXG4gICAgYXN5bmMgbG9hZChcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlLFxuICAgICkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdsb2FkJywgc2NvcGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IG1ldGhvZCB0aGF0IGNhbiBiZSBjYWxsZWQgYW5kIGV4dGVuZGVkIHRvIGRlc3Ryb3kgZW50aXR5IGRhdGEuXG4gICAgICovXG4gICAgYXN5bmMgZGVzdHJveShzY29wZT86IEFfU2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnZGVzdHJveScsIHNjb3BlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBtZXRob2QgdGhhdCBjYW4gYmUgY2FsbGVkIGFuZCBleHRlbmRlZCB0byBzYXZlIGVudGl0eSBkYXRhLlxuICAgICAqL1xuICAgIGFzeW5jIHNhdmUoc2NvcGU/OiBBX1Njb3BlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ3NhdmUnLCBzY29wZSk7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09IEVudGl0eSBTZXJpYWxpemF0aW9uID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGVudGl0eSBmcm9tIEFTRUlEIHN0cmluZyBvciBpbnN0YW5jZVxuICAgICAqIFshXSBFeGVjdXRlZCB3aGVuIHRoZSBjb25zdHJ1Y3RvciBpcyBjYWxsZWQgd2l0aCBhIHN0cmluZyBvciBBU0VJRCBpbnN0YW5jZSB0aGF0IHJlcHJlc2VudHMgdGhlIEFTRUlEXG4gICAgICogWyFdIEV4ZWN1dGVzIEJ5IERlZmF1bHQgd2l0aCBuZXcgQV9FbnRpdHkoJ2FzZWlkLXN0cmluZycpIG9yIG5ldyBBX0VudGl0eShuZXcgQVNFSUQoLi4uKSkgaWYgZ2V0SW5pdGlhbGl6ZXIgaGFzIG5vdCBiZWVuIG92ZXJyaWRkZW5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gYXNlaWQgXG4gICAgICovXG4gICAgZnJvbUFTRUlEKGFzZWlkOiBzdHJpbmcgfCBBU0VJRCk6IHZvaWQge1xuICAgICAgICBpZiAoYXNlaWQgaW5zdGFuY2VvZiBBU0VJRClcbiAgICAgICAgICAgIHRoaXMuYXNlaWQgPSBhc2VpZDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5hc2VpZCA9IG5ldyBBU0VJRChhc2VpZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgY2FzZSB3aGVuIG5vIHByb3BzIGFyZSBwcm92aWRlZCB0byB0aGUgY29uc3RydWN0b3IuXG4gICAgICogVGhpcyBtZXRob2QgY2FuIGJlIG92ZXJyaWRkZW4gaW4gY2hpbGQgY2xhc3NlcyB0byBzZXQgZGVmYXVsdCB2YWx1ZXMgb3IgcGVyZm9ybSBzcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYy5cbiAgICAgKiBCeSBkZWZhdWx0LCBpdCBkb2VzIG5vdGhpbmcuXG4gICAgICogXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZnJvbVVuZGVmaW5lZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hc2VpZCA9IHRoaXMuZ2VuZXJhdGVBU0VJRCgpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBlbnRpdHkgZnJvbSBjb25zdHJ1Y3RvciBvYmplY3RcbiAgICAgKiBbIV0gRXhlY3V0ZWQgd2hlbiB0aGUgY29uc3RydWN0b3IgaXMgY2FsbGVkIHdpdGggYW4gb2JqZWN0IHRoYXQgZG9lcyBub3QgY29udGFpbiBcImFzZWlkXCIgcHJvcGVydHlcbiAgICAgKiBbIV0gRXhlY3V0ZXMgQnkgRGVmYXVsdCB3aXRoIG5ldyBBX0VudGl0eSh7fSkgaWYgZ2V0SW5pdGlhbGl6ZXIgaGFzIG5vdCBiZWVuIG92ZXJyaWRkZW5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbmV3RW50aXR5IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGZyb21OZXcobmV3RW50aXR5OiBfQ29uc3RydWN0b3JUeXBlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYXNlaWQgPSAgdGhpcy5nZW5lcmF0ZUFTRUlEKCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBlbnRpdHkgZnJvbSBzZXJpYWxpemVkIG9iamVjdFxuICAgICAqIFxuICAgICAqIFshXSBFeGVjdXRlZCB3aGVuIHRoZSBjb25zdHJ1Y3RvciBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3QgdGhhdCBjb250YWlucyBcImFzZWlkXCIgcHJvcGVydHlcbiAgICAgKiBbIV0gRXhlY3V0ZXMgQnkgRGVmYXVsdCB3aXRoIG5ldyBBX0VudGl0eSh7IGFzZWlkOiAnLi4uJyB9KSBpZiBnZXRJbml0aWFsaXplciBoYXMgbm90IGJlZW4gb3ZlcnJpZGRlblxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzZXJpYWxpemVkIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGZyb21KU09OKHNlcmlhbGl6ZWQ6IF9TZXJpYWxpemVkVHlwZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmFzZWlkID0gbmV3IEFTRUlEKHNlcmlhbGl6ZWQuYXNlaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBlbnRpdHkgdG8gYSBKU09OIG9iamVjdCBcbiAgICAgKiBbIV0gVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGV4dGVuZGVkIGluIHRoZSBjaGlsZCBjbGFzc2VzIHRvIGluY2x1ZGUgYWxsIHByb3BlcnRpZXMgb2YgdGhlIGVudGl0eVxuICAgICAqIFshXSBJbmNsdWRlcyBhc2VpZCBieSBkZWZhdWx0IFxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvSlNPTigpOiBfU2VyaWFsaXplZFR5cGUge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXNlaWQ6IHRoaXMuYXNlaWQudG9TdHJpbmcoKVxuICAgICAgICB9IGFzIF9TZXJpYWxpemVkVHlwZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZW50aXR5XG4gICAgICogd2hhdCBpcyBiYXNpY2FsbHkgdGhlIEFTRUlEIHN0cmluZ1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzZWlkID8gdGhpcy5hc2VpZC50b1N0cmluZygpIDogdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSBcIi4uL0EtTWV0YS9BLU1ldGEuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0VudGl0eU1ldGEgfSBmcm9tIFwiLi9BLUVudGl0eS50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5TWV0YUtleSB9IGZyb20gXCIuL0EtRW50aXR5LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGEgfSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSB9IGZyb20gXCIuLi9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0VudGl0eU1ldGEgZXh0ZW5kcyBBX01ldGE8QV9UWVBFU19fRW50aXR5TWV0YT4ge1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgZmVhdHVyZXMgZGVmaW5lZCBpbiB0aGUgQ29udGFpbmVyXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZmVhdHVyZXMoKTogQXJyYXk8QV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGE+IHtcblxuICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMuZ2V0KEFfVFlQRVNfX0VudGl0eU1ldGFLZXkuRkVBVFVSRVMpO1xuXG4gICAgICAgIHJldHVybiBmZWF0dXJlcz8udG9BcnJheSgpXG4gICAgICAgICAgICAvLyByZXR1cm5zIGFsbCBleHRlbnNpb25zIHRoYXQgbWF0Y2ggdGhlIGZlYXR1cmVcbiAgICAgICAgICAgIC5tYXAoKFssIGZlYXR1cmVdKSA9PiBmZWF0dXJlKSB8fCBbXTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBnZXQgYWxsIHRoZSBpbmplY3Rpb25zIGZvciBhIGdpdmVuIGhhbmRsZXJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaGFuZGxlciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBpbmplY3Rpb25zKFxuICAgICAgICBoYW5kbGVyOiBzdHJpbmdcbiAgICApOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhIHtcbiAgICAgICAgY29uc3QgaW5qZWN0aW9ucyA9IHRoaXMuZ2V0KEFfVFlQRVNfX0VudGl0eU1ldGFLZXkuSU5KRUNUSU9OUyk7XG5cbiAgICAgICAgY29uc3QgYXJncyA9IGluamVjdGlvbnM/LmdldChoYW5kbGVyKSB8fCBbXTtcblxuICAgICAgICByZXR1cm4gYXJncztcbiAgICB9XG5cbn0iLCAiaW1wb3J0IHsgQV9UWVBFU19fRGVlcFBhcnRpYWwgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC90eXBlcy9BX0NvbW1vbi50eXBlc1wiO1xuaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSBcIi4uL0EtTWV0YS9BLU1ldGEuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0ZyYWdtZW50X0luaXQsIEFfVFlQRVNfX0ZyYWdtZW50X1NlcmlhbGl6ZWQgfSBmcm9tIFwiLi9BLUZyYWdtZW50LnR5cGVzXCI7XG5cblxuLyoqXG4gKiBBX0ZyYWdtZW50IGlzIGEgY29yZSBhcmNoaXRlY3R1cmFsIGNvbXBvbmVudCB0aGF0IHJlcHJlc2VudHMgYSBzaW5nbGV0b24gZXhlY3V0aW9uIGNvbnRleHRcbiAqIHdpdGhpbiB0aGUgQS1Db25jZXB0IGZyYW1ld29yay4gSXQgc2VydmVzIGFzIGEgc2hhcmVkIG1lbW9yeSBjb250YWluZXIgdGhhdCBjYW4gYmUgcGFzc2VkXG4gKiBiZXR3ZWVuIENvbXBvbmVudHMsIEVudGl0aWVzLCBhbmQgQ29tbWFuZHMgdGhyb3VnaG91dCB0aGUgYXBwbGljYXRpb24gcGlwZWxpbmUuXG4gKiBcbiAqIEtleSBGZWF0dXJlczpcbiAqIC0gU2luZ2xldG9uIHBhdHRlcm46IE9ubHkgb25lIGluc3RhbmNlIHBlciBmcmFnbWVudCB0eXBlIHBlciBzY29wZVxuICogLSBNZXRhIHN0b3JhZ2U6IEJ1aWx0LWluIGtleS12YWx1ZSBzdG9yYWdlIGZvciBwaXBlbGluZSBkYXRhXG4gKiAtIFR5cGUtc2FmZTogRnVsbCBUeXBlU2NyaXB0IGdlbmVyaWNzIHN1cHBvcnQgZm9yIG1ldGEgaXRlbXMgYW5kIHNlcmlhbGl6YXRpb25cbiAqIC0gU2VyaWFsaXphYmxlOiBDYW4gYmUgY29udmVydGVkIHRvIEpTT04gZm9yIHBlcnNpc3RlbmNlIG9yIHRyYW5zbWlzc2lvblxuICogXG4gKiBAdGVtcGxhdGUgX01ldGFJdGVtcyAtIFR5cGUgZGVmaW5pdGlvbiBmb3IgdGhlIG1ldGEgc3RvcmFnZSBzdHJ1Y3R1cmVcbiAqIEB0ZW1wbGF0ZSBfU2VyaWFsaXplZFR5cGUgLSBUeXBlIGRlZmluaXRpb24gZm9yIHRoZSBzZXJpYWxpemVkIG91dHB1dCBmb3JtYXRcbiAqIFxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIC8vIEJhc2ljIHVzYWdlIHdpdGggdHlwZWQgbWV0YVxuICogY2xhc3MgVXNlckZyYWdtZW50IGV4dGVuZHMgQV9GcmFnbWVudDx7IHVzZXJJZDogc3RyaW5nOyByb2xlOiBzdHJpbmcgfT4ge1xuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICBzdXBlcih7IG5hbWU6ICdVc2VyRnJhZ21lbnQnIH0pO1xuICogICB9XG4gKiB9ICAgIFxuICogXG4gKiAvLyBDdXN0b20gc2VyaWFsaXphdGlvblxuICogY2xhc3MgU2Vzc2lvbkZyYWdtZW50IGV4dGVuZHMgQV9GcmFnbWVudDxcbiAqICAgeyBzZXNzaW9uSWQ6IHN0cmluZzsgdGltZXN0YW1wOiBudW1iZXIgfSxcbiAqICAgeyBuYW1lOiBzdHJpbmc7IHNlc3Npb25EYXRhOiBzdHJpbmcgfVxuICogPiB7XG4gKiAgIHRvSlNPTigpIHtcbiAqICAgICByZXR1cm4ge1xuICogICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICogICAgICAgc2Vzc2lvbkRhdGE6IGAke3RoaXMuZ2V0KCdzZXNzaW9uSWQnKX0tJHt0aGlzLmdldCgndGltZXN0YW1wJyl9YFxuICogICAgIH07XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgQV9GcmFnbWVudDxcbiAgICBfU2VyaWFsaXplZFR5cGUgZXh0ZW5kcyBBX1RZUEVTX19GcmFnbWVudF9TZXJpYWxpemVkID0gQV9UWVBFU19fRnJhZ21lbnRfU2VyaWFsaXplZFxuPiB7XG4gICAgLyoqXG4gICAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyL25hbWUgZm9yIHRoaXMgZnJhZ21lbnQgaW5zdGFuY2UuXG4gICAgICogVXNlZCBmb3IgaWRlbnRpZmljYXRpb24gYW5kIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX25hbWU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQV9GcmFnbWVudCBpbnN0YW5jZS5cbiAgICAgKiBcbiAgICAgKiBBX0ZyYWdtZW50IGltcGxlbWVudHMgdGhlIHNpbmdsZXRvbiBwYXR0ZXJuIGZvciBleGVjdXRpb24gY29udGV4dHMsIGFsbG93aW5nXG4gICAgICogc2hhcmVkIHN0YXRlIG1hbmFnZW1lbnQgYWNyb3NzIGRpZmZlcmVudCBwYXJ0cyBvZiB0aGUgYXBwbGljYXRpb24gcGlwZWxpbmUuXG4gICAgICogRWFjaCBmcmFnbWVudCBzZXJ2ZXMgYXMgYSBtZW1vcnkgY29udGFpbmVyIHRoYXQgY2FuIHN0b3JlIHR5cGVkIGRhdGEgYW5kIGJlXG4gICAgICogc2VyaWFsaXplZCBmb3IgcGVyc2lzdGVuY2Ugb3IgdHJhbnNtaXNzaW9uLlxuICAgICAqIFxuICAgICAqIEtleSBCZW5lZml0czpcbiAgICAgKiAtIENlbnRyYWxpemVkIHN0YXRlIG1hbmFnZW1lbnQgZm9yIHJlbGF0ZWQgb3BlcmF0aW9uc1xuICAgICAqIC0gVHlwZS1zYWZlIG1ldGEgb3BlcmF0aW9ucyB3aXRoIGZ1bGwgSW50ZWxsaVNlbnNlIHN1cHBvcnRcbiAgICAgKiAtIFNlcmlhbGl6YXRpb24gc3VwcG9ydCBmb3IgZGF0YSBwZXJzaXN0ZW5jZSBcbiAgICAgKiAtIFNpbmdsZXRvbiBwYXR0ZXJuIGVuc3VyZXMgY29uc2lzdGVudCBzdGF0ZSB3aXRoaW4gc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIC0gSW5pdGlhbGl6YXRpb24gcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBwYXJhbXMubmFtZSAtIE9wdGlvbmFsIGN1c3RvbSBuYW1lIGZvciB0aGUgZnJhZ21lbnQgKGRlZmF1bHRzIHRvIGNsYXNzIG5hbWUpXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgZnJhZ21lbnQgPSBuZXcgQV9GcmFnbWVudDx7IHVzZXJJZDogc3RyaW5nIH0+KHsgXG4gICAgICogICBuYW1lOiAnVXNlclNlc3Npb25GcmFnbWVudCcgXG4gICAgICogfSk7XG4gICAgICogZnJhZ21lbnQuc2V0KCd1c2VySWQnLCAnMTIzNDUnKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihwYXJhbXM6IFBhcnRpYWw8QV9UWVBFU19fRnJhZ21lbnRfSW5pdD4gPSB7fSkge1xuICAgICAgICB0aGlzLl9uYW1lID0gcGFyYW1zLm5hbWUgfHwgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZyYWdtZW50J3MgdW5pcXVlIG5hbWUvaWRlbnRpZmllci5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBUaGUgZnJhZ21lbnQgbmFtZVxuICAgICAqL1xuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIGZyYWdtZW50IHRvIGEgSlNPTi1jb21wYXRpYmxlIG9iamVjdC5cbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBjb21iaW5lcyB0aGUgZnJhZ21lbnQncyBuYW1lIHdpdGggYWxsIG1ldGEgZGF0YSB0byBjcmVhdGVcbiAgICAgKiBhIHNlcmlhbGl6YWJsZSByZXByZXNlbnRhdGlvbi4gVGhlIHJldHVybiB0eXBlIGlzIGRldGVybWluZWQgYnkgdGhlXG4gICAgICogX1NlcmlhbGl6ZWRUeXBlIGdlbmVyaWMgcGFyYW1ldGVyLCBhbGxvd2luZyBmb3IgY3VzdG9tIHNlcmlhbGl6YXRpb24gZm9ybWF0cy5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBBIHNlcmlhbGl6ZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIGZyYWdtZW50XG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgZnJhZ21lbnQgPSBuZXcgQV9GcmFnbWVudDx7IHVzZXJJZDogc3RyaW5nLCByb2xlOiBzdHJpbmcgfT4oe1xuICAgICAqICAgbmFtZTogJ1VzZXJGcmFnbWVudCdcbiAgICAgKiB9KTtcbiAgICAgKiBmcmFnbWVudC5zZXQoJ3VzZXJJZCcsICcxMjM0NScpO1xuICAgICAqIGZyYWdtZW50LnNldCgncm9sZScsICdhZG1pbicpO1xuICAgICAqIFxuICAgICAqIGNvbnN0IGpzb24gPSBmcmFnbWVudC50b0pTT04oKTtcbiAgICAgKiAvLyBSZXN1bHQ6IHsgbmFtZTogJ1VzZXJGcmFnbWVudCcsIHVzZXJJZDogJzEyMzQ1Jywgcm9sZTogJ2FkbWluJyB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgdG9KU09OKCk6IF9TZXJpYWxpemVkVHlwZSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0IGFzIF9TZXJpYWxpemVkVHlwZTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfVFlQRVNfX0RlZXBQYXJ0aWFsIH0gZnJvbSBcIi4uL3R5cGVzL0FfQ29tbW9uLnR5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBBX0NvbW1vbkhlbHBlciB7XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgaW1tZWRpYXRlbHkuXG4gICAgICogQ2FuIGJlIHVzZWQgaW4gYXN5bmMgZnVuY3Rpb25zIHRvIGNyZWF0ZSBhIHJlc29sdmVkIHByb21pc2UuXG4gICAgICovXG4gICAgc3RhdGljIHJlc29sdmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4gcmVzb2x2ZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIGNsYXNzIGlzIGluaGVyaXRlZCBmcm9tIGFub3RoZXIgY2xhc3NcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY2hpbGRDbGFzcyBcbiAgICAgKiBAcGFyYW0gcGFyZW50Q2xhc3MgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzSW5oZXJpdGVkRnJvbShjaGlsZENsYXNzOiBhbnksIHBhcmVudENsYXNzOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBjaGlsZENsYXNzO1xuXG4gICAgICAgIC8vIFRyYXZlcnNlIHRoZSBwcm90b3R5cGUgY2hhaW5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBwYXJlbnRDbGFzcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHBhcmVudCBjbGFzc2VzIG9mIGEgZ2l2ZW4gY2xhc3NcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY2hpbGRDbGFzcyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0UGFyZW50Q2xhc3NlcyhjaGlsZENsYXNzOiBhbnkpOiBhbnlbXSB7XG5cbiAgICAgICAgLy8gZmlyc3Qgd2UgbmVlZCB0byBjaGVjayBpcyB0aGF0IGEgY29uc3RydWN0b3Igb3IgaW5zdGFuY2VcbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0eXBlb2YgY2hpbGRDbGFzcyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2hpbGRDbGFzcylcbiAgICAgICAgICAgIDogT2JqZWN0LmdldFByb3RvdHlwZU9mKGNoaWxkQ2xhc3MuY29uc3RydWN0b3IpO1xuXG4gICAgICAgIGNvbnN0IHBhcmVudHMgPSBbXSBhcyBhbnlbXTtcblxuICAgICAgICAvLyBUcmF2ZXJzZSB0aGUgcHJvdG90eXBlIGNoYWluXG4gICAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IEZ1bmN0aW9uLnByb3RvdHlwZSkge1xuICAgICAgICAgICAgcGFyZW50cy5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgY3VycmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyZW50cztcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY2xhc3MgaW5oZXJpdGFuY2UgY2hhaW4gYXMgYW4gYXJyYXkgb2YgY2xhc3MgbmFtZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY2hpbGRDbGFzcyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0Q2xhc3NJbmhlcml0YW5jZUNoYWluKGNoaWxkQ2xhc3M6IGFueSk6IGFueVtdIHtcblxuICAgICAgICAvLyAgZmlyc3Qgd2UgbmVlZCB0byBjaGVjayBpcyB0aGF0IGEgY29uc3RydWN0b3Igb3IgaW5zdGFuY2VcbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0eXBlb2YgY2hpbGRDbGFzcyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2hpbGRDbGFzcylcbiAgICAgICAgICAgIDogT2JqZWN0LmdldFByb3RvdHlwZU9mKGNoaWxkQ2xhc3MuY29uc3RydWN0b3IpO1xuXG4gICAgICAgIC8vICB0aGVuIGlmIGlucHV0IGlzIGluc3RhbmNlIHdlIGhhdmUgdG8gaW5jbHVkZSBpdHMgb3duIGNsYXNzIG5hbWVcbiAgICAgICAgY29uc3QgY2hhaW4gPSB0eXBlb2YgY2hpbGRDbGFzcyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBbY2hpbGRDbGFzc11cbiAgICAgICAgICAgIDogW2NoaWxkQ2xhc3MuY29uc3RydWN0b3JdO1xuXG5cbiAgICAgICAgLy8gVHJhdmVyc2UgdGhlIHByb3RvdHlwZSBjaGFpblxuICAgICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSBGdW5jdGlvbi5wcm90b3R5cGUpIHtcbiAgICAgICAgICAgIGNoYWluLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICBjdXJyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFpbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBhcmVudCBjbGFzcyBvZiBhIGdpdmVuIGNsYXNzXG4gICAgICogXG4gICAgICogQHBhcmFtIGNoaWxkQ2xhc3MgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGdldFBhcmVudENsYXNzKGNoaWxkQ2xhc3M6IGFueSk6IGFueSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2hpbGRDbGFzcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIE9taXQgcHJvcGVydGllcyBmcm9tIGFuIG9iamVjdCBvciBhcnJheSB3aXRoIG5lc3RlZCBvYmplY3RzXG4gICAgICogXG4gICAgICogQHBhcmFtIGlucHV0IFxuICAgICAqIEBwYXJhbSBwYXRocyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgb21pdFByb3BlcnRpZXM8VCwgUyBleHRlbmRzIHN0cmluZz4oXG4gICAgICAgIGlucHV0OiBULFxuICAgICAgICBwYXRoczogc3RyaW5nW11cblxuICAgICk6IE9taXQ8VCwgUz4ge1xuXG4gICAgICAgIC8vIERlZXAgY2xvbmUgdGhlIGlucHV0IG9iamVjdCBvciBhcnJheVxuICAgICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGlucHV0KSk7XG5cbiAgICAgICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHJlY3Vyc2l2ZWx5IHJlbW92ZSBwcm9wZXJ0aWVzXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZVByb3BlcnRpZXModGFyZ2V0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgYW55W10sIGN1cnJQYXRoOiBzdHJpbmdbXSkge1xuICAgICAgICAgICAgY29uc3QgY3VycktleSA9IGN1cnJQYXRoWzBdO1xuICAgICAgICAgICAgaWYgKGN1cnJQYXRoLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIElmIGN1cnJlbnQgcGF0aCBoYXMgb25seSBvbmUga2V5LCBkZWxldGUgdGhlIHByb3BlcnR5XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRhcmdldFtjdXJyS2V5XTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0W2N1cnJLZXldICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHRhcmdldFtjdXJyS2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBjdXJyZW50IGtleSBleGlzdHMgYW5kIGlzIGFuIG9iamVjdCwgcmVjdXJzaXZlbHkgY2FsbCByZW1vdmVQcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgcmVtb3ZlUHJvcGVydGllcyh0YXJnZXRbY3VycktleV0sIGN1cnJQYXRoLnNsaWNlKDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBlYWNoIHBhdGggYW5kIHJlbW92ZSBjb3JyZXNwb25kaW5nIHByb3BlcnRpZXMgZnJvbSB0aGUgcmVzdWx0XG4gICAgICAgIHBhdGhzLmZvckVhY2gocGF0aCA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoS2V5cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIHJlbW92ZVByb3BlcnRpZXMocmVzdWx0LCBwYXRoS2V5cyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQgYXMgT21pdDxULCBTPjtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBpc09iamVjdChpdGVtOiB1bmtub3duKTogaXRlbSBpcyBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IG51bGwgJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGl0ZW0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWVwTWVyZ2U8VCA9IGFueT4odGFyZ2V0OiBhbnksIHNvdXJjZTogYW55LCB2aXNpdGVkID0gbmV3IE1hcDxhbnksIGFueT4oKSk6IFQge1xuICAgICAgICBpZiAodGhpcy5pc09iamVjdCh0YXJnZXQpICYmIHRoaXMuaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNPYmplY3Qoc291cmNlW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0W2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0ge307XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNvdXJjZSBvYmplY3QgaGFzIGFscmVhZHkgYmVlbiB2aXNpdGVkXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmlzaXRlZC5oYXMoc291cmNlW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpdGVkLnNldChzb3VyY2Vba2V5XSwge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWVwTWVyZ2UodGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldLCB2aXNpdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gdmlzaXRlZC5nZXQoc291cmNlW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBkZWVwQ2xvbmU8VD4odGFyZ2V0OiBUKTogVCB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSB2YWx1ZSBpcyBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAodGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIHByaW1pdGl2ZSB0eXBlcyAoc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4sIGV0Yy4pXG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBEYXRlXG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodGFyZ2V0LmdldFRpbWUoKSkgYXMgVDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBBcnJheVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lm1hcChpdGVtID0+IHRoaXMuZGVlcENsb25lKGl0ZW0pKSBhcyB1bmtub3duIGFzIFQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgRnVuY3Rpb25cbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgT2JqZWN0XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lID0ge30gYXMgVDtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBjbG9uZVtrZXldID0gdGhpcy5kZWVwQ2xvbmUodGFyZ2V0W2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjbG9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBhbnkgb3RoZXIgY2FzZXNcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY2xvbmUgdGhlIG9iamVjdC4gVW5zdXBwb3J0ZWQgdHlwZS4nKTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBkZWVwQ2xvbmVBbmRNZXJnZTxUPih0YXJnZXQ6IEFfVFlQRVNfX0RlZXBQYXJ0aWFsPFQ+LCBzb3VyY2U6IFQpOiBUIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKHNvdXJjZSA9PT0gbnVsbCB8fCBzb3VyY2UgPT09IHVuZGVmaW5lZCkgJiZcbiAgICAgICAgICAgICh0YXJnZXQgPT09IG51bGwgfHwgdGFyZ2V0ID09PSB1bmRlZmluZWQpKVxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgdmFsdWUgaXMgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKCh0YXJnZXQgPT09IG51bGwgfHwgdGFyZ2V0ID09PSB1bmRlZmluZWQpICYmXG4gICAgICAgICAgICBzb3VyY2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWVwQ2xvbmUoc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBwcmltaXRpdmUgdHlwZXMgKHN0cmluZywgbnVtYmVyLCBib29sZWFuLCBldGMuKVxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gSGFuZGxlIERhdGVcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0YXJnZXQuZ2V0VGltZSgpKSBhcyBUO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIEFycmF5XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQubWFwKGl0ZW0gPT4gdGhpcy5kZWVwQ2xvbmVBbmRNZXJnZShpdGVtLCBzb3VyY2UpKSBhcyB1bmtub3duIGFzIFQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgRnVuY3Rpb25cbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgT2JqZWN0XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lID0ge30gYXMgVDtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgc291cmNlW2tleV0gIT09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgJiZcbiAgICAgICAgICAgICAgICAgICAgc291cmNlW2tleV0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVba2V5XSA9IHRoaXMuZGVlcENsb25lQW5kTWVyZ2UodGFyZ2V0W2tleSBhcyBhbnldLCBzb3VyY2Vba2V5XSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjbG9uZVtrZXkgYXMgYW55XSA9IHRoaXMuZGVlcENsb25lKHRhcmdldFtrZXldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICYmXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldICE9PSBudWxsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBjbG9uZVtrZXldID0gdGhpcy5kZWVwQ2xvbmVBbmRNZXJnZSh0YXJnZXRba2V5XSwgc291cmNlW2tleV0pO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVba2V5XSA9IHRoaXMuZGVlcENsb25lKHNvdXJjZVtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjbG9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBhbnkgb3RoZXIgY2FzZXNcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY2xvbmUgdGhlIG9iamVjdC4gVW5zdXBwb3J0ZWQgdHlwZS4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSByZWFkYWJsZSBuYW1lIGZvciBhIGNvbXBvbmVudCAoc3RyaW5nLCBjbGFzcywgZnVuY3Rpb24sIFJlYWN0IGVsZW1lbnQsIGluc3RhbmNlLCBldGMuKVxuICAgICAqXG4gICAgICogQ292ZXJzOlxuICAgICAqIC0gc3RyaW5nIHRhZ3MgKFwiZGl2XCIpXG4gICAgICogLSBzeW1ib2xzIChTeW1ib2wuZm9yKCd4eHgnKSlcbiAgICAgKiAtIGZ1bmN0aW9ucyBhbmQgY2xhc3NlcyAod2l0aCBuYW1lIG9yIGRpc3BsYXlOYW1lKVxuICAgICAqIC0gUmVhY3QgZWxlbWVudHMgKG9iamVjdCB3aXRoIGB0eXBlYClcbiAgICAgKiAtIGNvbXBvbmVudCBpbnN0YW5jZXMgKGNvbnN0cnVjdG9yLm5hbWUpXG4gICAgICogLSBvYmplY3RzIHdpdGggY3VzdG9tIHRvU3RyaW5nIHJldHVybmluZyBtZWFuaW5nZnVsIGluZm9cbiAgICAgKlxuICAgICAqIEZhbGxzIGJhY2sgdG8gc2Vuc2libGUgZGVmYXVsdHMgKFwiVW5rbm93blwiIC8gXCJBbm9ueW1vdXNcIikuXG4gICAgICovXG4gICAgc3RhdGljIGdldENvbXBvbmVudE5hbWUoY29tcG9uZW50OiBhbnkpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBVTktOT1dOID0gJ1Vua25vd24nO1xuICAgICAgICBjb25zdCBBTk9OWU1PVVMgPSAnQW5vbnltb3VzJztcblxuICAgICAgICBpZiAoY29tcG9uZW50ID09PSBudWxsIHx8IGNvbXBvbmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gVU5LTk9XTjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0cmluZ3MgKEhUTUwgdGFncyBvciBleHBsaWNpdCBuYW1lcylcbiAgICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50IHx8IFVOS05PV047XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTeW1ib2xzXG4gICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50ID09PSAnc3ltYm9sJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gVU5LTk9XTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFycmF5cyAtIHRyeSB0byBkZXJpdmUgZnJvbSBmaXJzdCBlbGVtZW50XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQubGVuZ3RoID09PSAwKSByZXR1cm4gVU5LTk9XTjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENvbXBvbmVudE5hbWUoY29tcG9uZW50WzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZ1bmN0aW9ucyBhbmQgY2xhc3Nlc1xuICAgICAgICBpZiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgZm5BbnkgPSBjb21wb25lbnQgYXMgYW55O1xuICAgICAgICAgICAgLy8gQ29tbW9uIFJlYWN0IGNvbnZlbnRpb25cbiAgICAgICAgICAgIGlmIChmbkFueS5kaXNwbGF5TmFtZSkgcmV0dXJuIFN0cmluZyhmbkFueS5kaXNwbGF5TmFtZSk7XG4gICAgICAgICAgICBpZiAoZm5BbnkubmFtZSkgcmV0dXJuIFN0cmluZyhmbkFueS5uYW1lKTtcblxuICAgICAgICAgICAgLy8gVHJ5IHRvIGV4dHJhY3QgYSBuYW1lIGZyb20gc291cmNlIGlmIHBvc3NpYmxlXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNyYyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgLy8gY2xhc3MgRm9vIHsgLi4uIH0gb3IgZnVuY3Rpb24gZm9vKCkgeyAuLi4gfSBvciBmb28gPT4gLi4uXG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBzcmMubWF0Y2goL14oPzpjbGFzc1xccysoW0EtWmEtejAtOV8kXSspfGZ1bmN0aW9uXFxzKyhbQS1aYS16MC05XyRdKyl8KFtBLVphLXowLTlfJF0rKVxccyo9PikvKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoWzFdIHx8IG1hdGNoWzJdIHx8IG1hdGNoWzNdIHx8IEFOT05ZTU9VUztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvLyBmYWxsdGhyb3VnaFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEFOT05ZTU9VUztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9iamVjdHMgKGluc3RhbmNlcywgUmVhY3QgZWxlbWVudHMsIHBsYWluIG9iamVjdHMpXG4gICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3Qgb2JqQW55ID0gY29tcG9uZW50IGFzIGFueTtcblxuICAgICAgICAgICAgLy8gUmVhY3QgZWxlbWVudDogeyB0eXBlOiBDb21wb25lbnRPclN0cmluZywgcHJvcHM6IC4uLiB9XG4gICAgICAgICAgICBpZiAob2JqQW55LnR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb21wb25lbnROYW1lKG9iakFueS50eXBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVhY3QgZm9yd2FyZFJlZiAvIG1lbW8gd3JhcHBlcnMgb2Z0ZW4gZXhwb3NlIGRpc3BsYXlOYW1lXG4gICAgICAgICAgICBpZiAob2JqQW55LmRpc3BsYXlOYW1lKSByZXR1cm4gU3RyaW5nKG9iakFueS5kaXNwbGF5TmFtZSk7XG4gICAgICAgICAgICBpZiAob2JqQW55Lm5hbWUpIHJldHVybiBTdHJpbmcob2JqQW55Lm5hbWUpO1xuXG4gICAgICAgICAgICAvLyBJbnN0YW5jZTogdXNlIGNvbnN0cnVjdG9yIG5hbWUgaWYgYXZhaWxhYmxlIGFuZCBub3QgT2JqZWN0XG4gICAgICAgICAgICBpZiAob2JqQW55LmNvbnN0cnVjdG9yICYmIG9iakFueS5jb25zdHJ1Y3Rvci5uYW1lICYmIG9iakFueS5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnT2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcob2JqQW55LmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiBvYmplY3QgaW1wbGVtZW50cyBhIG1lYW5pbmdmdWwgdG9TdHJpbmcsIHRyeSBpdFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gb2JqQW55LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzID09PSAnc3RyaW5nJyAmJiBzICE9PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvLyBpZ25vcmVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEFOT05ZTU9VUztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZhbGxiYWNrIGZvciBvdGhlciB0eXBlc1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhjb21wb25lbnQpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBVTktOT1dOO1xuICAgICAgICB9XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuXG5leHBvcnQgY2xhc3MgQV9TY29wZUVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cblxuICAgIHN0YXRpYyByZWFkb25seSBJbml0aWFsaXphdGlvbkVycm9yID0gJ0EtU2NvcGUgSW5pdGlhbGl6YXRpb24gRXJyb3InO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IENvbnN0cnVjdG9yRXJyb3IgPSAnVW5hYmxlIHRvIGNvbnN0cnVjdCBBLVNjb3BlIGluc3RhbmNlJztcblxuICAgIHN0YXRpYyByZWFkb25seSBSZXNvbHV0aW9uRXJyb3IgPSAnQS1TY29wZSBSZXNvbHV0aW9uIEVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBSZWdpc3RyYXRpb25FcnJvciA9ICdBLVNjb3BlIFJlZ2lzdHJhdGlvbiBFcnJvcic7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgQ2lyY3VsYXJJbmhlcml0YW5jZUVycm9yID0gJ0EtU2NvcGUgQ2lyY3VsYXIgSW5oZXJpdGFuY2UgRXJyb3InO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IERlcmVnaXN0cmF0aW9uRXJyb3IgPSAnQS1TY29wZSBEZXJlZ2lzdHJhdGlvbiBFcnJvcic7XG59IiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fU2NvcGVDb25maWcsXG4gICAgQV9UWVBFU19fU2NvcGVfSW5pdCxcbiAgICBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMsXG4gICAgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cyxcbiAgICBBX1RZUEVTX19TY29wZV9Db25zdHJ1Y3RvcixcbiAgICBBX1RZUEVTX19TY29wZUxpbmtlZENvbnN0cnVjdG9yc1xufSBmcm9tICcuL0EtU2NvcGUudHlwZXMnXG5pbXBvcnQge1xuICAgIEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX0VudGl0eUluamVjdGlvbkluc3RydWN0aW9ucyxcbiAgICBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25RdWVyeSxcbiAgICBBX1RZUEVTX19JbmplY3RhYmxlQ29uc3RydWN0b3JzLFxufSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1JbmplY3QvQS1JbmplY3QudHlwZXNcIjtcbmltcG9ydCB7IEFfRnJhZ21lbnQgfSBmcm9tIFwiLi4vQS1GcmFnbWVudC9BLUZyYWdtZW50LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiLi4vQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db21wb25lbnQgfSBmcm9tIFwiLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQuY2xhc3NcIjtcbmltcG9ydCB7IEFfRW50aXR5IH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0Zvcm1hdHRlckhlbHBlciB9IGZyb20gJ0BhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0Zvcm1hdHRlci5oZWxwZXInO1xuaW1wb3J0IHsgQVNFSUQgfSBmcm9tICcuLi9BU0VJRC9BU0VJRC5jbGFzcyc7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gJ0BhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0NvbW1vbi5oZWxwZXInO1xuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIH0gZnJvbSAnLi4vQS1FbnRpdHkvQS1FbnRpdHkudHlwZXMnO1xuaW1wb3J0IHsgQV9TY29wZUVycm9yIH0gZnJvbSAnLi9BLVNjb3BlLmVycm9yJztcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gJy4uL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LnR5cGVzJztcbmltcG9ydCB7IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yIH0gZnJvbSAnLi4vQS1GcmFnbWVudC9BLUZyYWdtZW50LnR5cGVzJztcbmltcG9ydCB7IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yIH0gZnJvbSAnLi4vQS1FcnJvci9BX0Vycm9yLnR5cGVzJztcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tICcuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHMnO1xuaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSAnLi4vQS1NZXRhL0EtTWV0YS5jbGFzcyc7XG5cblxuXG5cbmV4cG9ydCBjbGFzcyBBX1Njb3BlPFxuICAgIF9NZXRhSXRlbXMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gYW55LFxuICAgIF9Db21wb25lbnRUeXBlIGV4dGVuZHMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yW10gPSBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3JbXSxcbiAgICBfRXJyb3JUeXBlIGV4dGVuZHMgQV9UWVBFU19fRXJyb3JfQ29uc3RydWN0b3JbXSA9IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yW10sXG4gICAgX0VudGl0eVR5cGUgZXh0ZW5kcyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3JbXSA9IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcltdLFxuICAgIF9GcmFnbWVudFR5cGUgZXh0ZW5kcyBBX0ZyYWdtZW50W10gPSBBX0ZyYWdtZW50W10sXG4+IHtcblxuICAgIC8qKlxuICAgICAqIFNjb3BlIE5hbWUgdXNlcyBmb3IgaWRlbnRpZmljYXRpb24gYW5kIGxvZ2dpbmcgcHVycG9zZXNcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX25hbWUhOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogUGFyZW50IHNjb3BlIHJlZmVyZW5jZSwgdXNlZCBmb3IgaW5oZXJpdGFuY2Ugb2YgY29tcG9uZW50cywgZnJhZ21lbnRzLCBlbnRpdGllcyBhbmQgY29tbWFuZHNcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3BhcmVudD86IEFfU2NvcGU7XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgbWV0YSBzdG9yYWdlIHVzaW5nIEFfTWV0YSBmb3IgdHlwZS1zYWZlIGtleS12YWx1ZSBvcGVyYXRpb25zLlxuICAgICAqIFRoaXMgc3RvcmVzIGFsbCB0aGUgc2NvcGUncyBydW50aW1lIGRhdGEgdGhhdCBjYW4gYmUgYWNjZXNzZWQgYW5kIG1vZGlmaWVkXG4gICAgICogdGhyb3VnaG91dCB0aGUgZXhlY3V0aW9uIHBpcGVsaW5lIG9yIHdpdGhpbiBydW5uaW5nIGNvbnRhaW5lcnMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9tZXRhOiBBX01ldGE8X01ldGFJdGVtcz4gPSBuZXcgQV9NZXRhPF9NZXRhSXRlbXM+KCk7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLUFMTG93ZWQgQ29uc3RydWN0b3JzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBBIHNldCBvZiBhbGxvd2VkIGNvbXBvbmVudHMsIEEgc2V0IG9mIGNvbnN0cnVjdG9ycyB0aGF0IGFyZSBhbGxvd2VkIGluIHRoZSBzY29wZVxuICAgICAqICAgICAgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9hbGxvd2VkQ29tcG9uZW50cyA9IG5ldyBTZXQ8X0NvbXBvbmVudFR5cGVbbnVtYmVyXT4oKTtcbiAgICAvKipcbiAgICAgKiBBIHNldCBvZiBhbGxvd2VkIGVycm9ycywgQSBzZXQgb2YgY29uc3RydWN0b3JzIHRoYXQgYXJlIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9hbGxvd2VkRXJyb3JzID0gbmV3IFNldDxfRXJyb3JUeXBlW251bWJlcl0+KCk7XG4gICAgLyoqXG4gICAgICogQSBzZXQgb2YgYWxsb3dlZCBlbnRpdGllcywgQSBzZXQgb2YgY29uc3RydWN0b3JzIHRoYXQgYXJlIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9hbGxvd2VkRW50aXRpZXMgPSBuZXcgU2V0PF9FbnRpdHlUeXBlW251bWJlcl0+KCk7XG4gICAgLyoqXG4gICAgICogQSBzZXQgb2YgYWxsb3dlZCBmcmFnbWVudHMsIEEgc2V0IG9mIGNvbnN0cnVjdG9ycyB0aGF0IGFyZSBhbGxvd2VkIGluIHRoZSBzY29wZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfYWxsb3dlZEZyYWdtZW50cyA9IG5ldyBTZXQ8QV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPj4oKTtcblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLUludGVybmFsIFN0b3JhZ2UtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFN0b3JhZ2UgZm9yIHRoZSBjb21wb25lbnRzLCBzaG91bGQgYmUgc3Ryb25nIGFzIGNvbXBvbmVudHMgYXJlIHVuaXF1ZSBwZXIgc2NvcGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2NvbXBvbmVudHM6IE1hcDxfQ29tcG9uZW50VHlwZVtudW1iZXJdLCBJbnN0YW5jZVR5cGU8X0NvbXBvbmVudFR5cGVbbnVtYmVyXT4+ID0gbmV3IE1hcCgpO1xuICAgIC8qKlxuICAgICAqIFN0b3JhZ2UgZm9yIHRoZSBlcnJvcnMsIHNob3VsZCBiZSBzdHJvbmcgYXMgZXJyb3JzIGFyZSB1bmlxdWUgcGVyIGNvZGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2Vycm9yczogTWFwPHN0cmluZywgSW5zdGFuY2VUeXBlPF9FcnJvclR5cGVbbnVtYmVyXT4+ID0gbmV3IE1hcCgpO1xuICAgIC8qKlxuICAgICAqIFN0b3JhZ2UgZm9yIHRoZSBlbnRpdGllcywgc2hvdWxkIGJlIHN0cm9uZyBhcyBlbnRpdGllcyBhcmUgdW5pcXVlIHBlciBhc2VpZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfZW50aXRpZXM6IE1hcDxzdHJpbmcsIEluc3RhbmNlVHlwZTxfRW50aXR5VHlwZVtudW1iZXJdPj4gPSBuZXcgTWFwKCk7XG4gICAgLyoqXG4gICAgICogU3RvcmFnZSBmb3IgdGhlIGZyYWdtZW50cywgc2hvdWxkIGJlIHdlYWsgYXMgZnJhZ21lbnRzIGFyZSBzaW5nbGV0b25zIHBlciBzY29wZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfZnJhZ21lbnRzOiBNYXA8QV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPiwgX0ZyYWdtZW50VHlwZVtudW1iZXJdPiA9IG5ldyBNYXAoKTtcblxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tUmVhZG9ubHkgQWxsb3dlZCBQcm9wZXJ0aWVzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5hbWUgb2YgdGhlIHNjb3BlXG4gICAgICovXG4gICAgZ2V0IG5hbWUoKSB7IHJldHVybiB0aGlzLl9uYW1lIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtZXRhIG9iamVjdCBvZiB0aGUgc2NvcGVcbiAgICAgKi9cbiAgICBnZXQgbWV0YSgpIHsgcmV0dXJuIHRoaXMuX21ldGEgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIENvbnN0cnVjdG9ycyBmb3IgQS1Db21wb25lbnRzIHRoYXQgYXJlIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgKi9cbiAgICBnZXQgYWxsb3dlZENvbXBvbmVudHMoKSB7IHJldHVybiB0aGlzLl9hbGxvd2VkQ29tcG9uZW50cyB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgQ29uc3RydWN0b3JzIGZvciBBLUVudGl0aWVzIHRoYXQgYXJlIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgKi9cbiAgICBnZXQgYWxsb3dlZEVudGl0aWVzKCkgeyByZXR1cm4gdGhpcy5fYWxsb3dlZEVudGl0aWVzIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBDb25zdHJ1Y3RvcnMgZm9yIEEtRnJhZ21lbnRzIHRoYXQgYXJlIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgKi9cbiAgICBnZXQgYWxsb3dlZEZyYWdtZW50cygpIHsgcmV0dXJuIHRoaXMuX2FsbG93ZWRGcmFnbWVudHMgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIENvbnN0cnVjdG9ycyBmb3IgQS1FcnJvcnMgdGhhdCBhcmUgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAqL1xuICAgIGdldCBhbGxvd2VkRXJyb3JzKCkgeyByZXR1cm4gdGhpcy5fYWxsb3dlZEVycm9ycyB9XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1SZWFkb25seSBSZWdpc3RlcmVkIFByb3BlcnRpZXMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gQXJyYXkgb2YgZW50aXRpZXMgcmVnaXN0ZXJlZCBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gT25lIGVudGl0eSBwZXIgYXNlaWRcbiAgICAgKi9cbiAgICBnZXQgZW50aXRpZXMoKTogQXJyYXk8SW5zdGFuY2VUeXBlPF9FbnRpdHlUeXBlW251bWJlcl0+PiB7IHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2VudGl0aWVzLnZhbHVlcygpKSB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBBcnJheSBvZiBmcmFnbWVudHMgcmVnaXN0ZXJlZCBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gT25lIGZyYWdtZW50IHBlciBzY29wZVxuICAgICAqL1xuICAgIGdldCBmcmFnbWVudHMoKTogQXJyYXk8X0ZyYWdtZW50VHlwZVtudW1iZXJdPiB7IHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2ZyYWdtZW50cy52YWx1ZXMoKSkgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gQXJyYXkgb2YgY29tcG9uZW50cyByZWdpc3RlcmVkIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBPbmUgY29tcG9uZW50IGluc3RhbmNlIHBlciBzY29wZVxuICAgICAqL1xuICAgIGdldCBjb21wb25lbnRzKCk6IEFycmF5PEluc3RhbmNlVHlwZTxfQ29tcG9uZW50VHlwZVtudW1iZXJdPj4geyByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9jb21wb25lbnRzLnZhbHVlcygpKSB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBBcnJheSBvZiBlcnJvcnMgcmVnaXN0ZXJlZCBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gT25lIGVycm9yIHBlciBjb2RlXG4gICAgICovXG4gICAgZ2V0IGVycm9ycygpOiBBcnJheTxJbnN0YW5jZVR5cGU8X0Vycm9yVHlwZVtudW1iZXJdPj4geyByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9lcnJvcnMudmFsdWVzKCkpIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBhcmVudCBzY29wZSBvZiB0aGUgY3VycmVudCBzY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzZXRWYWx1ZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBnZXQgcGFyZW50KCk6IEFfU2NvcGUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBX1Njb3BlIHJlZmVycyB0byB0aGUgdmlzaWJpbGl0eSBhbmQgYWNjZXNzaWJpbGl0eSBvZiA6XG4gICAgICogLSB2YXJpYWJsZXMsIFxuICAgICAqIC0gQ29tcG9uZW50cywgXG4gICAgICogLSBDb250ZXh0IEZyYWdtZW50cyBcbiAgICAgKiAtIEVudGl0aWVzXG4gICAgICogLSBhbmQgb2JqZWN0cyBpbiBkaWZmZXJlbnQgcGFydHMgb2YgeW91ciBjb2RlLiBcbiAgICAgKiBTY29wZSBkZXRlcm1pbmVzIHdoZXJlIGEgcGFydGljdWxhciBwaWVjZSBvZiBkYXRhIChsaWtlIGEgdmFyaWFibGUgb3IgZnVuY3Rpb24pIFxuICAgICAqIGNhbiBiZSBhY2Nlc3NlZCwgbW9kaWZpZWQsIG9yIHJlZmVyZW5jZWQsIGFuZCBpdCBwbGF5cyBhIGNydWNpYWwgcm9sZSBpbiBhdm9pZGluZyBuYW1pbmcgY29sbGlzaW9ucyBhbmQgZW5zdXJpbmcgZGF0YSBpbnRlZ3JpdHkuIFxuICAgICAqIFxuICAgICAqIFshXSBUaGUgc2NvcGUgYmVoYXZpb3IgaXMgc2ltaWxhciB0byB0cmVlIHN0cnVjdHVyZSB3aGVyZSBlYWNoIHNjb3BlIGNhbiBoYXZlIGEgcGFyZW50IHNjb3BlIGFuZCBpbmhlcml0IGl0cyBjb21wb25lbnRzLCBmcmFnbWVudHMsIGVudGl0aWVzIGFuZCBlcnJvcnNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqIEBwYXJhbSBjb25maWcgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKVxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBzZXQgb2YgY29uc3RydWN0b3JzIHRoYXQgYXJlIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbXM6IFBhcnRpYWw8QV9UWVBFU19fU2NvcGVfSW5pdDxfTWV0YUl0ZW1zLCBfQ29tcG9uZW50VHlwZSwgX0Vycm9yVHlwZSwgX0VudGl0eVR5cGUsIF9GcmFnbWVudFR5cGU+PixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb25maWc/OiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlQ29uZmlnPlxuICAgIClcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcGFyYW0xPzogUGFydGlhbDxBX1RZUEVTX19TY29wZV9Jbml0PF9NZXRhSXRlbXMsIF9Db21wb25lbnRUeXBlLCBfRXJyb3JUeXBlLCBfRW50aXR5VHlwZSwgX0ZyYWdtZW50VHlwZT4+LFxuICAgICAgICBwYXJhbTI/OiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlQ29uZmlnPlxuICAgICkge1xuICAgICAgICBjb25zdCBpbml0aWFsaXplciA9IHRoaXMuZ2V0SW5pdGlhbGl6ZXIocGFyYW0xKTtcbiAgICAgICAgLy8gdGhlIHJldHVybmVkIGluaXRpYWxpemVyIGlzIGFscmVhZHkgYm91bmQgdG8gYHRoaXNgICh3ZSB1c2VkIC5iaW5kKHRoaXMpKSxcbiAgICAgICAgLy8gc28gY2FsbGluZyBpdCB3aWxsIHJ1biB0aGUgYXBwcm9wcmlhdGUgbG9naWMgb24gdGhpcyBpbnN0YW5jZTpcbiAgICAgICAgaW5pdGlhbGl6ZXIuY2FsbCh0aGlzLCBwYXJhbTEsIHBhcmFtMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdG9yIHRvIGl0ZXJhdGUgdGhyb3VnaCBhbGwgcGFyZW50IHNjb3Blc1xuICAgICAqL1xuICAgICpwYXJlbnRzKCk6IEdlbmVyYXRvcjxBX1Njb3BlPiB7XG4gICAgICAgIGxldCBjdXJyZW50UGFyZW50ID0gdGhpcy5fcGFyZW50O1xuICAgICAgICB3aGlsZSAoY3VycmVudFBhcmVudCkge1xuICAgICAgICAgICAgeWllbGQgY3VycmVudFBhcmVudDtcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBjdXJyZW50UGFyZW50Ll9wYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIHJldHJpZXZlIGEgcGFyZW50IHNjb3BlIGF0IGEgc3BlY2lmaWMgbGV2ZWxcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGF0IGlmIHRoZSBsZXZlbCBpcyBvdXQgb2YgYm91bmRzLCB1bmRlZmluZWQgaXMgcmV0dXJuZWRcbiAgICAgKiBbISFdIFVzZXMgbmVnYXRpdmUgdmFsdWVzIGZvciBsZXZlbHMgKGUuZy4gLTEgZm9yIGltbWVkaWF0ZSBwYXJlbnQsIC0yIGZvciBncmFuZHBhcmVudCwgZXRjLilcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbGV2ZWwgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcGFyZW50T2Zmc2V0KFxuICAgICAgICAvKipcbiAgICAgICAgICogTGV2ZWwgb2YgdGhlIHBhcmVudCBzY29wZSB0byByZXRyaWV2ZVxuICAgICAgICAgKiBcbiAgICAgICAgICogRXhhbXBsZXM6XG4gICAgICAgICAqIC0gbGV2ZWwgMCAtIGltbWVkaWF0ZSBwYXJlbnRcbiAgICAgICAgICogLSBsZXZlbCAtMSAtIGdyYW5kcGFyZW50XG4gICAgICAgICAqIC0gbGV2ZWwgLTIgLSBncmVhdC1ncmFuZHBhcmVudFxuICAgICAgICAgKi9cbiAgICAgICAgbGF5ZXJPZmZzZXQ6IG51bWJlclxuICAgICk6IEFfU2NvcGUgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgcGFyZW50U2NvcGUgPSB0aGlzLnBhcmVudDtcblxuICAgICAgICB3aGlsZSAobGF5ZXJPZmZzZXQgPCAtMSAmJiBwYXJlbnRTY29wZSkge1xuICAgICAgICAgICAgcGFyZW50U2NvcGUgPSBwYXJlbnRTY29wZS5wYXJlbnQ7XG4gICAgICAgICAgICBsYXllck9mZnNldCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhcmVudFNjb3BlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGljaCBpbml0aWFsaXplciBtZXRob2QgdG8gdXNlIGJhc2VkIG9uIHRoZSB0eXBlIG9mIHRoZSBmaXJzdCBwYXJhbWV0ZXIuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtMSBcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRJbml0aWFsaXplcihcbiAgICAgICAgcGFyYW0xPzogUGFydGlhbDxBX1RZUEVTX19TY29wZV9Jbml0PF9NZXRhSXRlbXMsIF9Db21wb25lbnRUeXBlLCBfRXJyb3JUeXBlLCBfRW50aXR5VHlwZSwgX0ZyYWdtZW50VHlwZT4+LFxuICAgICAgICBwYXJhbTI/OiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlQ29uZmlnPlxuICAgICk6IChwYXJhbTE6IGFueSwgcGFyYW0yOiBhbnkpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCkge1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgIXBhcmFtMSAmJiAhcGFyYW0yOiA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdEluaXRpYWxpemVkO1xuXG4gICAgICAgICAgICBjYXNlICEhcGFyYW0xOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRJbml0aWFsaXplZDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihBX1Njb3BlRXJyb3IuQ29uc3RydWN0b3JFcnJvciwgJ0ludmFsaWQgcGFyYW1ldGVycyBwcm92aWRlZCB0byBBX1Njb3BlIGNvbnN0cnVjdG9yJyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgcHJvdGVjdGVkIGRlZmF1bHRJbml0aWFsaXplZChcbiAgICAgICAgcGFyYW1zOiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlX0luaXQ8X01ldGFJdGVtcywgX0NvbXBvbmVudFR5cGUsIF9FcnJvclR5cGUsIF9FbnRpdHlUeXBlLCBfRnJhZ21lbnRUeXBlPj4gPSB7fSxcbiAgICAgICAgY29uZmlnOiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlQ29uZmlnPiA9IHt9XG4gICAgKSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSBwYXJhbXMubmFtZSB8fCB0aGlzLmNvbnN0cnVjdG9yLm5hbWVcblxuICAgICAgICB0aGlzLmluaXRDb21wb25lbnRzKHBhcmFtcy5jb21wb25lbnRzKTtcbiAgICAgICAgdGhpcy5pbml0RXJyb3JzKHBhcmFtcy5lcnJvcnMpO1xuICAgICAgICB0aGlzLmluaXRGcmFnbWVudHMocGFyYW1zLmZyYWdtZW50cyk7XG4gICAgICAgIHRoaXMuaW5pdEVudGl0aWVzKHBhcmFtcy5lbnRpdGllcyk7XG4gICAgICAgIHRoaXMuaW5pdE1ldGEocGFyYW1zLm1ldGEpO1xuXG4gICAgICAgIGlmIChjb25maWcucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnQgPSBjb25maWcucGFyZW50O1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1TY29wZSBJbml0aWFsaXphdGlvbiBNZXRob2RzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBpbml0aWFsaXplIHRoZSBjb21wb25lbnRzIGluIHRoZSBzY29wZVxuICAgICAqIFRvIHNhdmUgbWVtb3J5IGNvbXBvbmVudHMgYXJlIGluaXRpYWxpemVkIG9ubHkgd2hlbiB0aGV5IGFyZSByZXF1ZXN0ZWRcbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBvbmx5IHJlZ2lzdGVycyB0aGUgY29tcG9uZW50IGluIHRoZSBzY29wZSBpbiBjYXNlIHRoZXkgYXJlIG5vdCByZWdpc3RlcmVkIHlldFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBfY29tcG9uZW50cyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgaW5pdENvbXBvbmVudHMoX2NvbXBvbmVudHM/OiBfQ29tcG9uZW50VHlwZSkgeyBfY29tcG9uZW50cz8uZm9yRWFjaCh0aGlzLnJlZ2lzdGVyLmJpbmQodGhpcykpOyB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBpbml0aWFsaXplIHRoZSBlcnJvcnMgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogVGhpcyBtZXRob2Qgb25seSByZWdpc3RlcnMgdGhlIGVycm9ycyBpbiB0aGUgc2NvcGUgaW4gY2FzZSB0aGV5IGFyZSBub3QgcmVnaXN0ZXJlZCB5ZXRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gX2Vycm9ycyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgaW5pdEVycm9ycyhfZXJyb3JzPzogX0Vycm9yVHlwZSkgeyBfZXJyb3JzPy5mb3JFYWNoKHRoaXMucmVnaXN0ZXIuYmluZCh0aGlzKSk7IH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGluaXRpYWxpemUgdGhlIGVudGl0aWVzIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIG9ubHkgcmVnaXN0ZXJzIHRoZSBlbnRpdGllcyBpbiB0aGUgc2NvcGUgaW4gY2FzZSB0aGV5IGFyZSBub3QgcmVnaXN0ZXJlZCB5ZXRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gX2VudGl0aWVzIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpbml0RW50aXRpZXMoX2VudGl0aWVzPzogW1xuICAgICAgICAuLi5fRW50aXR5VHlwZSxcbiAgICAgICAgLi4uSW5zdGFuY2VUeXBlPF9FbnRpdHlUeXBlW251bWJlcl0+W11cbiAgICBdKSB7IF9lbnRpdGllcz8uZm9yRWFjaChlbnQgPT4gdGhpcy5yZWdpc3RlcihlbnQgYXMgYW55KSk7IH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGluaXRpYWxpemUgdGhlIGZyYWdtZW50cyBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBvbmx5IHJlZ2lzdGVycyB0aGUgZnJhZ21lbnRzIGluIHRoZSBzY29wZSBpbiBjYXNlIHRoZXkgYXJlIG5vdCByZWdpc3RlcmVkIHlldFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBfZnJhZ21lbnRzIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpbml0RnJhZ21lbnRzKF9mcmFnbWVudHM/OiBfRnJhZ21lbnRUeXBlKSB7IF9mcmFnbWVudHM/LmZvckVhY2godGhpcy5yZWdpc3Rlci5iaW5kKHRoaXMpKTsgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gaW5pdGlhbGl6ZSB0aGUgbWV0YSBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBvbmx5IHNldHMgdGhlIG1ldGEgdmFsdWVzIGluIHRoZSBzY29wZSBpbiBjYXNlIHRoZXkgYXJlIG5vdCBzZXQgeWV0XG4gICAgICogXG4gICAgICogQHBhcmFtIF9tZXRhIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpbml0TWV0YShfbWV0YT86IFBhcnRpYWw8X01ldGFJdGVtcz4pIHtcbiAgICAgICAgaWYgKF9tZXRhKSB7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhfbWV0YSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWV0YS5zZXQoa2V5IGFzIGtleW9mIF9NZXRhSXRlbXMsIHZhbHVlIGFzIF9NZXRhSXRlbXNba2V5b2YgX01ldGFJdGVtc10pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1TY29wZSBQdWJsaWMgTWV0aG9kcy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGRlc3Ryb3kgdGhlIHNjb3BlIGFuZCBhbGwgaXRzIHJlZ2lzdGVyZWQgY29tcG9uZW50cywgZnJhZ21lbnRzIGFuZCBlbnRpdGllc1xuICAgICAqIFxuICAgICAqIFshXSBUaGlzIG1ldGhvZCBkZXJlZ2lzdGVycyBhbGwgY29tcG9uZW50cywgZnJhZ21lbnRzIGFuZCBlbnRpdGllcyBmcm9tIHRoZSBBLUNvbnRleHRcbiAgICAgKiBbIV0gVGhpcyBtZXRob2QgYWxzbyBjbGVhcnMgYWxsIGludGVybmFsIHJlZ2lzdHJpZXMgYW5kIGNvbGxlY3Rpb25zXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50cy5mb3JFYWNoKGNvbXBvbmVudCA9PiBBX0NvbnRleHQuZGVyZWdpc3Rlcihjb21wb25lbnQpKTtcbiAgICAgICAgdGhpcy5fZnJhZ21lbnRzLmZvckVhY2goZnJhZ21lbnQgPT4gQV9Db250ZXh0LmRlcmVnaXN0ZXIoZnJhZ21lbnQpKTtcbiAgICAgICAgdGhpcy5fZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4gQV9Db250ZXh0LmRlcmVnaXN0ZXIoZW50aXR5KSk7XG5cbiAgICAgICAgdGhpcy5fY29tcG9uZW50cy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9lcnJvcnMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fZnJhZ21lbnRzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2VudGl0aWVzLmNsZWFyKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNzdWVyKCkpIHtcblxuICAgICAgICAgICAgQV9Db250ZXh0LmRlYWxsb2NhdGUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHZhbHVlIGZyb20gdGhlIHNjb3BlJ3MgbWV0YS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW0gLSBUaGUga2V5IHRvIHJldHJpZXZlXG4gICAgICogQHJldHVybnMgVGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGUga2V5LCBvciB1bmRlZmluZWQgaWYgbm90IGZvdW5kXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgdXNlcklkID0gc2NvcGUuZ2V0KCd1c2VySWQnKTtcbiAgICAgKiBpZiAodXNlcklkKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhgQ3VycmVudCB1c2VyOiAke3VzZXJJZH1gKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0PEsgZXh0ZW5kcyBrZXlvZiBfTWV0YUl0ZW1zPihwYXJhbTogSyk6IF9NZXRhSXRlbXNbS10gfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWV0YS5nZXQocGFyYW0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3JlcyBhIHZhbHVlIGluIHRoZSBzY29wZSdzIG1ldGEuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtIC0gVGhlIGtleSB0byBzdG9yZSB0aGUgdmFsdWUgdW5kZXJcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gc3RvcmVcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBzY29wZS5zZXQoJ3VzZXJJZCcsICcxMjM0NScpO1xuICAgICAqIHNjb3BlLnNldCgncm9sZScsICdhZG1pbicpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHNldDxLIGV4dGVuZHMga2V5b2YgX01ldGFJdGVtcz4ocGFyYW06IEssIHZhbHVlOiBfTWV0YUl0ZW1zW0tdKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX21ldGEuc2V0KHBhcmFtLCB2YWx1ZSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpc3N1ZXIgb2YgdGhlIHNjb3BlLCB1c2VmdWwgZm9yIGRlYnVnZ2luZyBhbmQgdHJhY2tpbmcgcHVycG9zZXNcbiAgICAgKiBcbiAgICAgKiBJc3N1ZXIgY2FuIGJlOlxuICAgICAqIC0gQSBDb250YWluZXIgdGhhdCBhbGxvY2F0ZWQgdGhlIHNjb3BlXG4gICAgICogLSBBIEZlYXR1cmUgdGhhdCBhbGxvY2F0ZWQgdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogWyFdIE5vdGUgdGhhdCB0aGUgaXNzdWVyIGlzIHRoZSBkaXJlY3QgYWxsb2NhdG9yIG9mIHRoZSBzY29wZSwgc28gaWYgYSBDb250YWluZXIgYWxsb2NhdGVkIGEgRmVhdHVyZSB0aGF0IGFsbG9jYXRlZCB0aGUgc2NvcGUsIHRoZSBpc3N1ZXIgd2lsbCBiZSB0aGUgRmVhdHVyZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGlzc3VlcjxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzPigpOiBUIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5pc3N1ZXIodGhpcykgYXMgVDtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBpbmhlcml0IGZyb20gYSBwYXJlbnQgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gVGhpcyBtZXRob2QgY2hlY2tzIGZvciBjaXJjdWxhciBpbmhlcml0YW5jZSBhbmQgdGhyb3dzIGFuIGVycm9yIGlmIGRldGVjdGVkXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmVudCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBpbmhlcml0KHBhcmVudDogQV9TY29wZSk6IEFfU2NvcGUge1xuICAgICAgICBpZiAoIXBhcmVudClcbiAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9TY29wZUVycm9yLkluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEludmFsaWQgcGFyZW50IHNjb3BlIHByb3ZpZGVkYFxuICAgICAgICAgICAgKTtcblxuICAgICAgICBpZiAocGFyZW50ID09PSB0aGlzKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuQ2lyY3VsYXJJbmhlcml0YW5jZUVycm9yLFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gaW5oZXJpdCBzY29wZSAke3RoaXMubmFtZX0gZnJvbSBpdHNlbGZgXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGlmIChwYXJlbnQgPT09IHRoaXMuX3BhcmVudClcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIC8vIFByZXZlbnQgY2lyY3VsYXIgaW5oZXJpdGFuY2VcbiAgICAgICAgY29uc3QgY2lyY3VsYXJDaGVjayA9IHRoaXMuY2hlY2tDaXJjdWxhckluaGVyaXRhbmNlKHBhcmVudCk7XG5cbiAgICAgICAgaWYgKGNpcmN1bGFyQ2hlY2spXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5DaXJjdWxhckluaGVyaXRhbmNlRXJyb3IsXG4gICAgICAgICAgICAgICAgYENpcmN1bGFyIGluaGVyaXRhbmNlIGRldGVjdGVkOiAke1suLi5jaXJjdWxhckNoZWNrLCBwYXJlbnQubmFtZV0uam9pbignIC0+ICcpfWBcbiAgICAgICAgICAgICk7XG5cblxuICAgICAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBjaGVjayBpZiB0aGUgY29tcG9uZW50IGlzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGNoZWNrcyBmb3IgdGhlIGNvbXBvbmVudCBpbiB0aGUgY3VycmVudCBzY29wZSBhbmQgYWxsIHBhcmVudCBzY29wZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGhhczxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCBjb25zdHJ1Y3RvciB0byBjaGVjayBpZiBpdCdzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogYm9vbGVhblxuICAgIGhhczxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gY2hlY2sgaWYgaXQncyBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqIFxuICAgICAgICAgKiBbIV0gTm90ZSB0aGF0IGVudGl0aWVzIGFyZSB1bmlxdWUgcGVyIGFzZWlkLCBzbyB0aGlzIG1ldGhvZCBjaGVja3MgaWYgdGhlcmUncyBhdCBsZWFzdCBvbmUgZW50aXR5IG9mIHRoZSBwcm92aWRlZCB0eXBlIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD5cbiAgICApOiBib29sZWFuXG4gICAgaGFzPFQgZXh0ZW5kcyBBX0ZyYWdtZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBmcmFnbWVudCBjb25zdHJ1Y3RvciB0byBjaGVjayBpZiBpdCdzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IGJvb2xlYW5cbiAgICBoYXM8VCBleHRlbmRzIEFfRXJyb3I+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlcnJvciBjb25zdHJ1Y3RvciB0byBjaGVjayBpZiBpdCdzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVycm9yOiBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IGJvb2xlYW5cbiAgICBoYXMoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgc3RyaW5nIHRvIGNoZWNrIGlmIGEgY29tcG9uZW50LCBlbnRpdHkgb3IgZnJhZ21lbnQgd2l0aCB0aGUgcHJvdmlkZWQgbmFtZSBpcyBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3Rvcjogc3RyaW5nXG4gICAgKTogYm9vbGVhblxuICAgIGhhcyhcbiAgICAgICAgY3RvcjogdW5rbm93blxuICAgICk6IGJvb2xlYW4ge1xuXG4gICAgICAgIGxldCBmb3VuZCA9IHRoaXMuaGFzRmxhdChjdG9yIGFzIGFueSk7XG5cbiAgICAgICAgaWYgKCFmb3VuZCAmJiAhIXRoaXMuX3BhcmVudClcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudC5oYXMoY3RvciBhcyBhbnkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBjaGVjayBpZiB0aGUgY29tcG9uZW50IGlzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGNoZWNrcyBmb3IgdGhlIGNvbXBvbmVudCBPTkxZIGluIHRoZSBjdXJyZW50IHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBoYXNGbGF0PFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IGNvbnN0cnVjdG9yIHRvIGNoZWNrIGlmIGl0J3MgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8VD5cbiAgICApOiBib29sZWFuXG4gICAgaGFzRmxhdDxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gY2hlY2sgaWYgaXQncyBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqIFxuICAgICAgICAgKiBbIV0gTm90ZSB0aGF0IGVudGl0aWVzIGFyZSB1bmlxdWUgcGVyIGFzZWlkLCBzbyB0aGlzIG1ldGhvZCBjaGVja3MgaWYgdGhlcmUncyBhdCBsZWFzdCBvbmUgZW50aXR5IG9mIHRoZSBwcm92aWRlZCB0eXBlIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD5cbiAgICApOiBib29sZWFuXG4gICAgaGFzRmxhdDxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgY29uc3RydWN0b3IgdG8gY2hlY2sgaWYgaXQncyBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudDogQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8VD5cbiAgICApOiBib29sZWFuXG4gICAgaGFzRmxhdDxUIGV4dGVuZHMgQV9FcnJvcj4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVycm9yIGNvbnN0cnVjdG9yIHRvIGNoZWNrIGlmIGl0J3MgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3I6IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogYm9vbGVhblxuICAgIGhhc0ZsYXQoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgc3RyaW5nIHRvIGNoZWNrIGlmIGEgY29tcG9uZW50LCBlbnRpdHkgb3IgZnJhZ21lbnQgd2l0aCB0aGUgcHJvdmlkZWQgbmFtZSBpcyBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3Rvcjogc3RyaW5nXG4gICAgKTogYm9vbGVhblxuICAgIGhhc0ZsYXQoXG4gICAgICAgIGN0b3I6IHVua25vd25cbiAgICApOiBib29sZWFuIHtcblxuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIC8vIDEpIENoZWNrIGlmIGl0J3MgYSBTY29wZS4gSXQncyBhbHdheXMgdHJ1ZSBzaW5jZSBpdCByZXR1cm5zIGl0c2VsZlxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTY29wZUNvbnN0cnVjdG9yKGN0b3IpOlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICAvLyAyKSBDaGVjayBieSBzdHJpbmcgbmFtZS4gIFxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcoY3Rvcik6IHtcblxuICAgICAgICAgICAgICAgIC8vIDIuMSBDaGVjayBpZiBpdCdzIGEgY29tcG9uZW50IG5hbWVcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NzaWJsZUNvbXBvbmVudCA9IEFycmF5LmZyb20odGhpcy5hbGxvd2VkQ29tcG9uZW50cykuZmluZChjID0+IGMubmFtZSA9PT0gY3Rvcik7XG4gICAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlQ29tcG9uZW50KSBmb3VuZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAvLyAyLjIgQ2hlY2sgaWYgaXQncyBhIGZyYWdtZW50IG5hbWVcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NzaWJsZUZyYWdtZW50ID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRGcmFnbWVudHMpLmZpbmQoZiA9PiBmLm5hbWUgPT09IGN0b3IpO1xuICAgICAgICAgICAgICAgIGlmIChwb3NzaWJsZUZyYWdtZW50KSBmb3VuZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAvLyAyLjMgQ2hlY2sgaWYgaXQncyBhbiBlbnRpdHkgbmFtZSBvciBlbnRpdHkgc3RhdGljIGVudGl0eSBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlRW50aXR5ID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRFbnRpdGllcykuZmluZChlID0+IGUubmFtZSA9PT0gY3Rvcik7XG4gICAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlRW50aXR5KSBmb3VuZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAvLyAyLjQgQ2hlY2sgaWYgaXQncyBhbiBlcnJvciBuYW1lXG4gICAgICAgICAgICAgICAgY29uc3QgcG9zc2libGVFcnJvciA9IEFycmF5LmZyb20odGhpcy5hbGxvd2VkRXJyb3JzKS5maW5kKGUgPT4gZS5uYW1lID09PSBjdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAocG9zc2libGVFcnJvcikgZm91bmQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAzKSBDaGVjayBpZiBpdCdzIGEgQ29tcG9uZW50XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKGN0b3IpOiB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0aGlzLmlzQWxsb3dlZENvbXBvbmVudChjdG9yKVxuICAgICAgICAgICAgICAgICAgICB8fCAhIVsuLi50aGlzLmFsbG93ZWRDb21wb25lbnRzXVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoYyA9PiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oYywgY3RvcikpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA0KSBDaGVjayBpZiBpdCdzIGFuIEVudGl0eVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlDb25zdHJ1Y3RvcihjdG9yKToge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gdGhpcy5pc0FsbG93ZWRFbnRpdHkoY3RvcilcbiAgICAgICAgICAgICAgICAgICAgfHwgISFbLi4udGhpcy5hbGxvd2VkRW50aXRpZXNdXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZChlID0+IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShlLCBjdG9yKSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDUpIENoZWNrIGlmIGl0J3MgYSBGcmFnbWVudFxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNGcmFnbWVudENvbnN0cnVjdG9yKGN0b3IpOiB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0aGlzLmlzQWxsb3dlZEZyYWdtZW50KGN0b3IpXG4gICAgICAgICAgICAgICAgICAgIHx8ICEhWy4uLnRoaXMuYWxsb3dlZEZyYWdtZW50c11cbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKGYgPT4gQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGYsIGN0b3IpKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyA2KSBDaGVjayBpZiBpdCdzIGFuIEVycm9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Vycm9yQ29uc3RydWN0b3IoY3Rvcik6IHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IHRoaXMuaXNBbGxvd2VkRXJyb3IoY3RvcilcbiAgICAgICAgICAgICAgICAgICAgfHwgISFbLi4udGhpcy5hbGxvd2VkRXJyb3JzXVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoZSA9PiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oZSwgY3RvcikpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDcpIENoZWNrIHNjb3BlIGlzc3VlclxuICAgICAgICAgICAgY2FzZSB0aGlzLmlzc3VlcigpXG4gICAgICAgICAgICAgICAgJiYgKHRoaXMuaXNzdWVyKCkhLmNvbnN0cnVjdG9yID09PSBjdG9yXG4gICAgICAgICAgICAgICAgICAgIHx8IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbSh0aGlzLmlzc3VlcigpIS5jb25zdHJ1Y3RvciwgY3RvclxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKToge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1lcmdlcyB0d28gc2NvcGVzIGludG8gYSBuZXcgb25lXG4gICAgICogXG4gICAgICogWyFdIE5vdGVzOiBcbiAgICAgKiAgLSB0aGlzIG1ldGhvZCBkb2VzIE5PVCBtb2RpZnkgdGhlIGV4aXN0aW5nIHNjb3Blc1xuICAgICAqICAtIHBhcmVudCBvZiB0aGUgbmV3IHNjb3BlIHdpbGwgYmUgdGhlIHBhcmVudCBvZiB0aGUgY3VycmVudCBzY29wZSBvciB0aGUgcGFyZW50IG9mIGFub3RoZXJTY29wZSAoaWYgZXhpc3RzKVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhbm90aGVyU2NvcGUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgbWVyZ2UoYW5vdGhlclNjb3BlOiBBX1Njb3BlKTogQV9TY29wZSB7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBBX1Njb3BlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IGAke3RoaXMubmFtZX0gKyAke2Fub3RoZXJTY29wZS5uYW1lfWAsXG5cbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbLi4udGhpcy5hbGxvd2VkQ29tcG9uZW50cywgLi4uYW5vdGhlclNjb3BlLmFsbG93ZWRDb21wb25lbnRzXSxcbiAgICAgICAgICAgICAgICBmcmFnbWVudHM6IFsuLi50aGlzLmZyYWdtZW50cywgLi4uYW5vdGhlclNjb3BlLmZyYWdtZW50c10sXG4gICAgICAgICAgICAgICAgZW50aXRpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5lbnRpdGllcywgLi4uYW5vdGhlclNjb3BlLmVudGl0aWVzLFxuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmFsbG93ZWRFbnRpdGllcywgLi4uYW5vdGhlclNjb3BlLmFsbG93ZWRFbnRpdGllc1xuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy5fcGFyZW50IHx8IGFub3RoZXJTY29wZS5fcGFyZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byByZXRyaWV2ZSB0aGUgY29uc3RydWN0b3Igb2YgdGhlIGNvbXBvbmVudCBvciBlbnRpdHkgYnkgaXRzIG5hbWVcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZXM6XG4gICAgICogLSBJbiBjYXNlIG9mIHNlYXJjaCBmb3IgQS1FbnRpdHkgcGxlYXNlIGVuc3VyZSB0aGF0IHByb3ZpZGVkIHN0cmluZyBjb3JyZXNwb25kcyB0byB0aGUgc3RhdGljIGVudGl0eSBwcm9wZXJ0eSBvZiB0aGUgY2xhc3MuIFshXSBCeSBkZWZhdWx0IGl0J3MgdGhlIGtlYmFiLWNhc2Ugb2YgdGhlIGNsYXNzIG5hbWVcbiAgICAgKiAtIEluIGNhc2Ugb2Ygc2VhcmNoIGZvciBBX0NvbXBvbmVudCBwbGVhc2UgZW5zdXJlIHRoYXQgcHJvdmlkZWQgc3RyaW5nIGNvcnJlc3BvbmRzIHRvIHRoZSBjbGFzcyBuYW1lIGluIFBhc2NhbENhc2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbmFtZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICByZXNvbHZlQ29uc3RydWN0b3I8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIGVudGl0eSBuYW1lIG9yIHN0YXRpYyBlbnRpdHkgcHJvcGVydHkgdG8gcmV0cmlldmUgaXRzIGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBuYW1lOiBzdHJpbmdcbiAgICApOiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD5cbiAgICByZXNvbHZlQ29uc3RydWN0b3I8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIGNvbXBvbmVudCBuYW1lIGluIFBhc2NhbENhc2UgdG8gcmV0cmlldmUgaXRzIGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBuYW1lOiBzdHJpbmdcbiAgICApOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8VD5cbiAgICByZXNvbHZlQ29uc3RydWN0b3I8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgZnJhZ21lbnQgbmFtZSBpbiBQYXNjYWxDYXNlIHRvIHJldHJpZXZlIGl0cyBjb25zdHJ1Y3RvclxuICAgICAgICAgKi9cbiAgICAgICAgbmFtZTogc3RyaW5nXG4gICAgKTogQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8VD5cbiAgICByZXNvbHZlQ29uc3RydWN0b3I8VCBleHRlbmRzIEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHM+KG5hbWU6IHN0cmluZyk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPiB8IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPiB8IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgLy8gMSkgQ2hlY2sgY29tcG9uZW50c1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBBcnJheS5mcm9tKHRoaXMuYWxsb3dlZENvbXBvbmVudHMpLmZpbmQoXG4gICAgICAgICAgICBjID0+IGMubmFtZSA9PT0gbmFtZVxuICAgICAgICAgICAgICAgIHx8IGMubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5hbWUpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChjb21wb25lbnQpIHJldHVybiBjb21wb25lbnQgYXMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+O1xuXG4gICAgICAgIC8vIDIpIENoZWNrIGVudGl0aWVzXG4gICAgICAgIGNvbnN0IGVudGl0eSA9IEFycmF5LmZyb20odGhpcy5hbGxvd2VkRW50aXRpZXMpLmZpbmQoXG4gICAgICAgICAgICBlID0+IGUubmFtZSA9PT0gbmFtZVxuICAgICAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5hbWUpXG4gICAgICAgICAgICAgICAgfHwgKGUgYXMgYW55KS5lbnRpdHkgPT09IG5hbWVcbiAgICAgICAgICAgICAgICB8fCAoZSBhcyBhbnkpLmVudGl0eSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9LZWJhYkNhc2UobmFtZSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGVudGl0eSkgcmV0dXJuIGVudGl0eSBhcyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD47XG5cbiAgICAgICAgLy8gMykgQ2hlY2sgZnJhZ21lbnRzXG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRGcmFnbWVudHMpLmZpbmQoZiA9PiBmLm5hbWUgPT09IG5hbWVcbiAgICAgICAgICAgIHx8IGYubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5hbWUpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChmcmFnbWVudCkgcmV0dXJuIGZyYWdtZW50IGFzIEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+O1xuXG4gICAgICAgIC8vIElmIG5vdCBmb3VuZCBpbiBjdXJyZW50IHNjb3BlLCBjaGVjayBwYXJlbnQgc2NvcGVcbiAgICAgICAgaWYgKCEhdGhpcy5fcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50LnJlc29sdmVDb25zdHJ1Y3RvcihuYW1lKSBhcyBhbnk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuXG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHNob3VsZCByZXNvbHZlIGFsbCBpbnN0YW5jZXMgb2YgdGhlIGNvbXBvbmVudHMsIG9yIGVudGl0aWVzIHdpdGhpbiB0aGUgc2NvcGUsIGJ5IHByb3ZpZGVkIHBhcmVudCBjbGFzc1xuICAgICAqIFNvIGluIGNhc2Ugb2YgcHJvdmlkaW5nIGEgYmFzZSBjbGFzcyBpdCBzaG91bGQgcmV0dXJuIGFsbCBpbnN0YW5jZXMgdGhhdCBleHRlbmRzIHRoaXMgYmFzZSBjbGFzc1xuICAgICAqIFxuICAgICAqIFshXSBBcHBsaWNhYmxlIGZvciB0aGUgY3VycmVudCBzY29wZSBPTkxZLCBubyBwYXJlbnQgc2NvcGVzIGFyZSBjaGVja2VkXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKi9cbiAgICByZXNvbHZlQWxsPFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IEFycmF5PFQ+XG4gICAgcmVzb2x2ZUFsbDxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IEFycmF5PFQ+XG4gICAgcmVzb2x2ZUFsbDxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2Ugb3IgYW4gYXJyYXkgb2YgaW5zdGFuY2VzIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IEFycmF5PFQ+XG4gICAgcmVzb2x2ZUFsbDxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIGNvbnN0cnVjdG9yTmFtZTogc3RyaW5nXG4gICAgKTogQXJyYXk8VD5cbiAgICByZXNvbHZlQWxsPFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBjb25zdHJ1Y3RvciBvciBhbiBhcnJheSBvZiBjb25zdHJ1Y3RvcnMgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UocykgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtMTogQV9UWVBFU19fSW5qZWN0YWJsZUNvbnN0cnVjdG9yc1xuICAgICk6IEFycmF5PFQ+IHtcblxuICAgICAgICBjb25zdCByZXN1bHRzOiBBcnJheTxUPiA9IFtdO1xuXG4gICAgICAgIC8vIDEpIFJlc29sdmUgYWxsIGluIHRoZSBjdXJyZW50IHNjb3BlXG4gICAgICAgIGNvbnN0IGN1cnJlbnRSZXN1bHRzID0gdGhpcy5yZXNvbHZlRmxhdEFsbDxUPihwYXJhbTEgYXMgYW55KTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKC4uLmN1cnJlbnRSZXN1bHRzKTtcblxuICAgICAgICAvLyAyKSBSZXNvbHZlIGFsbCBpbiB0aGUgcGFyZW50IHNjb3BlXG5cbiAgICAgICAgbGV0IHBhcmVudFNjb3BlID0gdGhpcy5fcGFyZW50O1xuXG4gICAgICAgIHdoaWxlIChwYXJlbnRTY29wZSAmJiBwYXJlbnRTY29wZS5oYXMocGFyYW0xIGFzIGFueSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFJlc3VsdHMgPSBwYXJlbnRTY29wZS5yZXNvbHZlRmxhdEFsbDxUPihwYXJhbTEgYXMgYW55KTtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCguLi5wYXJlbnRSZXN1bHRzKTtcblxuICAgICAgICAgICAgLy8gTW92ZSB0byB0aGUgbmV4dCBwYXJlbnQgc2NvcGVcbiAgICAgICAgICAgIHBhcmVudFNjb3BlID0gcGFyZW50U2NvcGUuX3BhcmVudDtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG5cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgc2hvdWxkIHJlc29sdmUgYWxsIGluc3RhbmNlcyBvZiB0aGUgY29tcG9uZW50cywgb3IgZW50aXRpZXMgd2l0aGluIHRoZSBzY29wZSwgYnkgcHJvdmlkZWQgcGFyZW50IGNsYXNzXG4gICAgICogU28gaW4gY2FzZSBvZiBwcm92aWRpbmcgYSBiYXNlIGNsYXNzIGl0IHNob3VsZCByZXR1cm4gYWxsIGluc3RhbmNlcyB0aGF0IGV4dGVuZHMgdGhpcyBiYXNlIGNsYXNzXG4gICAgICogXG4gICAgICogWyFdIEFwcGxpY2FibGUgZm9yIHRoZSBjdXJyZW50IHNjb3BlIE9OTFksIG5vIHBhcmVudCBzY29wZXMgYXJlIGNoZWNrZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqL1xuICAgIHJlc29sdmVGbGF0QWxsPFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IEFycmF5PFQ+XG4gICAgcmVzb2x2ZUZsYXRBbGw8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGZyYWdtZW50IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudDogQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8VD5cbiAgICApOiBBcnJheTxUPlxuICAgIHJlc29sdmVGbGF0QWxsPFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBvciBhbiBhcnJheSBvZiBpbnN0YW5jZXMgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVudGl0eTogQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogQXJyYXk8VD5cbiAgICByZXNvbHZlRmxhdEFsbDxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIGNvbnN0cnVjdG9yTmFtZTogc3RyaW5nXG4gICAgKTogQXJyYXk8VD5cbiAgICByZXNvbHZlRmxhdEFsbDxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgY29uc3RydWN0b3Igb3IgYW4gYXJyYXkgb2YgY29uc3RydWN0b3JzIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlKHMpIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbTE6IEFfVFlQRVNfX0luamVjdGFibGVDb25zdHJ1Y3RvcnNcbiAgICApOiBBcnJheTxUPiB7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0czogQXJyYXk8VD4gPSBbXTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIC8vIDEpIGlmIGEgcGFyYW1ldGVyIGlzIGEgY29tcG9uZW50IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICAvLyAxKSBDaGVjayBjb21wb25lbnRzXG4gICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5mb3JFYWNoKGN0b3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGN0b3IsIHBhcmFtMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5yZXNvbHZlPFQ+KGN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlKSByZXN1bHRzLnB1c2goaW5zdGFuY2UgYXMgVCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDIpIGlmIGEgcGFyYW1ldGVyIGlzIGEgZnJhZ21lbnQgY29uc3RydWN0b3JcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRnJhZ21lbnRDb25zdHJ1Y3RvcihwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgLy8gMikgQ2hlY2sgZnJhZ21lbnRzXG4gICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkRnJhZ21lbnRzLmZvckVhY2goY3RvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oY3RvciwgcGFyYW0xKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLnJlc29sdmUoY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UpIHJlc3VsdHMucHVzaChpbnN0YW5jZSBhcyBUKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0VudGl0eUNvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICAvLyAzKSBDaGVjayBlbnRpdGllc1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oZW50aXR5LmNvbnN0cnVjdG9yLCBwYXJhbTEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goZW50aXR5IGFzIFQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICAvLyA0KSBDaGVjayBieSBuYW1lXG4gICAgICAgICAgICAgICAgY29uc3QgY3RvciA9IHRoaXMucmVzb2x2ZUNvbnN0cnVjdG9yKHBhcmFtMSk7XG4gICAgICAgICAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3RvcihjdG9yKVxuICAgICAgICAgICAgICAgICAgICAmJiAhQV9UeXBlR3VhcmRzLmlzRW50aXR5Q29uc3RydWN0b3IoY3RvcilcbiAgICAgICAgICAgICAgICAgICAgJiYgIUFfVHlwZUd1YXJkcy5pc0ZyYWdtZW50Q29uc3RydWN0b3IoY3RvcilcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuUmVzb2x1dGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYFVuYWJsZSB0byByZXNvbHZlIGFsbCBpbnN0YW5jZXMgZm9yIG5hbWU6ICR7cGFyYW0xfSBpbiBzY29wZSAke3RoaXMubmFtZX0gYXMgbm8gbWF0Y2hpbmcgY29tcG9uZW50LCBlbnRpdHkgb3IgZnJhZ21lbnQgY29uc3RydWN0b3IgZm91bmRgKTtcblxuXG4gICAgICAgICAgICAgICAgaWYgKGN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5zdGFuY2VzID0gdGhpcy5yZXNvbHZlQWxsPFQ+KGN0b3IgYXMgYW55KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlcylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCguLi5pbnN0YW5jZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuUmVzb2x1dGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gcmVzb2x2ZUFsbCBtZXRob2Q6ICR7cGFyYW0xfSBpbiBzY29wZSAke3RoaXMubmFtZX1gKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGFsbG93cyB0byByZXNvbHZlL2luamVjdCBhIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IGZyb20gdGhlIHNjb3BlXG4gICAgICogRGVwZW5kaW5nIG9uIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzIGl0IGNhbiByZXNvbHZlOlxuICAgICAqIC0gQSBzaW5nbGUgY29tcG9uZW50L2ZyYWdtZW50L2VudGl0eSBieSBpdHMgY29uc3RydWN0b3Igb3IgbmFtZVxuICAgICAqIC0gQW4gYXJyYXkgb2YgY29tcG9uZW50cy9mcmFnbWVudHMvZW50aXRpZXMgYnkgcHJvdmlkaW5nIGFuIGFycmF5IG9mIGNvbnN0cnVjdG9yc1xuICAgICAqIC0gQW4gZW50aXR5IG9yIGFuIGFycmF5IG9mIGVudGl0aWVzIGJ5IHByb3ZpZGluZyB0aGUgZW50aXR5IGNvbnN0cnVjdG9yIGFuZCBxdWVyeSBpbnN0cnVjdGlvbnNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogVCB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcltdPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gYXJyYXkgb2YgY29tcG9uZW50IGNvbnN0cnVjdG9ycyB0byByZXNvbHZlIHRoZWlyIGluc3RhbmNlcyBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50czogWy4uLlRdXG4gICAgKTogQXJyYXk8SW5zdGFuY2VUeXBlPFRbbnVtYmVyXT4+IHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IFQgfCB1bmRlZmluZWRcbiAgICByZXNvbHZlPFQgZXh0ZW5kcyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcltdPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gYXJyYXkgb2YgZnJhZ21lbnQgY29uc3RydWN0b3JzIHRvIHJlc29sdmUgdGhlaXIgaW5zdGFuY2VzIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudHM6IFsuLi5UXVxuICAgICk6IEFycmF5PEluc3RhbmNlVHlwZTxUW251bWJlcl0+PiB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIG9yIGFuIGFycmF5IG9mIGluc3RhbmNlcyBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD5cbiAgICApOiBUIHwgdW5kZWZpbmVkXG5cbiAgICByZXNvbHZlPFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBvciBhbiBhcnJheSBvZiBpbnN0YW5jZXMgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVudGl0eTogQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPFQ+LFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBvcHRpb25hbCBpbnN0cnVjdGlvbnMgdG8gZmluZCBhIHNwZWNpZmljIGVudGl0eSBvciBhIHNldCBvZiBlbnRpdGllc1xuICAgICAgICAgKi9cbiAgICAgICAgaW5zdHJ1Y3Rpb25zOiBQYXJ0aWFsPEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX0VudGl0eUluamVjdGlvbkluc3RydWN0aW9uczxUPj5cbiAgICApOiBBcnJheTxUPlxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfU2NvcGU+KFxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlcyBvbmx5IGluIGNhc2Ugb2YgcmVzb2x2aW5nIGEgc2luZ2xlIGVudGl0eVxuICAgICAgICAgKiBcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlOiBBX1RZUEVTX19TY29wZV9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IFQgfCB1bmRlZmluZWRcbiAgICByZXNvbHZlPFQgZXh0ZW5kcyBBX0Vycm9yPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXMgb25seSBpbiBjYXNlIG9mIHJlc29sdmluZyBhIHNpbmdsZSBlbnRpdHlcbiAgICAgICAgICogXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBzY29wZTogQV9UWVBFU19fRXJyb3JfQ29uc3RydWN0b3I8VD5cbiAgICApOiBUIHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIGNvbnN0cnVjdG9yTmFtZTogc3RyaW5nXG4gICAgKTogVCB8IHVuZGVmaW5lZFxuICAgIC8vIGJhc2UgZGVmaW5pdGlvblxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHM+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IGNvbnN0cnVjdG9yIG9yIGFuIGFycmF5IG9mIGNvbnN0cnVjdG9ycyB0byByZXNvbHZlIGl0cyBpbnN0YW5jZShzKSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW0xOiBBX1RZUEVTX19JbmplY3RhYmxlQ29uc3RydWN0b3JzLFxuXG4gICAgKTogVCB8IEFycmF5PFQ+IHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVMaW5rZWRDb25zdHJ1Y3RvcnM+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IGNvbnN0cnVjdG9yIG9yIGFuIGFycmF5IG9mIGNvbnN0cnVjdG9ycyB0byByZXNvbHZlIGl0cyBpbnN0YW5jZShzKSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW0xOiBJbnN0YW5jZVR5cGU8VD4sXG5cbiAgICApOiBUIHwgQXJyYXk8VD4gfCB1bmRlZmluZWRcbiAgICByZXNvbHZlPFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBjb25zdHJ1Y3RvciBvciBhbiBhcnJheSBvZiBjb25zdHJ1Y3RvcnMgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UocykgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtMTogQV9UWVBFU19fSW5qZWN0YWJsZUNvbnN0cnVjdG9ycyB8IEFycmF5PEFfVFlQRVNfX0luamVjdGFibGVDb25zdHJ1Y3RvcnM+LFxuICAgICAgICBwYXJhbTI/OiBQYXJ0aWFsPEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX0VudGl0eUluamVjdGlvbkluc3RydWN0aW9ucz5cbiAgICApOiBUIHwgQXJyYXk8VD4gfCB1bmRlZmluZWQge1xuXG5cbiAgICAgICAgaWYgKEFfVHlwZUd1YXJkcy5pc0FycmF5KHBhcmFtMSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJhbTEubWFwKGMgPT4gdGhpcy5yZXNvbHZlT25jZShjLCBwYXJhbTIpKSBhcyBBcnJheTxUPjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVPbmNlKHBhcmFtMSwgcGFyYW0yKSBhcyBUO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHBvbHltb3JwaGljIG1ldGhvZCBhbGxvd3MgdG8gcmVzb2x2ZS9pbmplY3QgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBmcm9tIHRoZSBzY29wZVxuICAgICAqIERlcGVuZGluZyBvbiB0aGUgcHJvdmlkZWQgcGFyYW1ldGVycyBpdCBjYW4gcmVzb2x2ZTpcbiAgICAgKiAtIEEgc2luZ2xlIGNvbXBvbmVudC9mcmFnbWVudC9lbnRpdHkgYnkgaXRzIGNvbnN0cnVjdG9yIG9yIG5hbWVcbiAgICAgKiAtIEFuIGFycmF5IG9mIGNvbXBvbmVudHMvZnJhZ21lbnRzL2VudGl0aWVzIGJ5IHByb3ZpZGluZyBhbiBhcnJheSBvZiBjb25zdHJ1Y3RvcnNcbiAgICAgKiAtIEFuIGVudGl0eSBvciBhbiBhcnJheSBvZiBlbnRpdGllcyBieSBwcm92aWRpbmcgdGhlIGVudGl0eSBjb25zdHJ1Y3RvciBhbmQgcXVlcnkgaW5zdHJ1Y3Rpb25zXG4gICAgICogXG4gICAgICogWyFdIEFwcGxpY2FibGUgZm9yIHRoZSBjdXJyZW50IHNjb3BlIE9OTFksIG5vIHBhcmVudCBzY29wZXMgYXJlIGNoZWNrZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqL1xuICAgIHJlc29sdmVGbGF0PFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IFQgfCB1bmRlZmluZWRcbiAgICByZXNvbHZlRmxhdDxUIGV4dGVuZHMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yW10+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBhcnJheSBvZiBjb21wb25lbnQgY29uc3RydWN0b3JzIHRvIHJlc29sdmUgdGhlaXIgaW5zdGFuY2VzIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnRzOiBbLi4uVF1cbiAgICApOiBBcnJheTxJbnN0YW5jZVR5cGU8VFtudW1iZXJdPj4gfCB1bmRlZmluZWRcbiAgICByZXNvbHZlRmxhdDxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IFQgfCB1bmRlZmluZWRcbiAgICByZXNvbHZlRmxhdDxUIGV4dGVuZHMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3JbXT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGFycmF5IG9mIGZyYWdtZW50IGNvbnN0cnVjdG9ycyB0byByZXNvbHZlIHRoZWlyIGluc3RhbmNlcyBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZnJhZ21lbnRzOiBbLi4uVF1cbiAgICApOiBBcnJheTxJbnN0YW5jZVR5cGU8VFtudW1iZXJdPj4gfCB1bmRlZmluZWRcbiAgICByZXNvbHZlRmxhdDxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2Ugb3IgYW4gYXJyYXkgb2YgaW5zdGFuY2VzIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IFQgfCB1bmRlZmluZWRcblxuICAgIHJlc29sdmVGbGF0PFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBvciBhbiBhcnJheSBvZiBpbnN0YW5jZXMgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVudGl0eTogQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPFQ+LFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBvcHRpb25hbCBpbnN0cnVjdGlvbnMgdG8gZmluZCBhIHNwZWNpZmljIGVudGl0eSBvciBhIHNldCBvZiBlbnRpdGllc1xuICAgICAgICAgKi9cbiAgICAgICAgaW5zdHJ1Y3Rpb25zOiBQYXJ0aWFsPEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX0VudGl0eUluamVjdGlvbkluc3RydWN0aW9uczxUPj5cbiAgICApOiBBcnJheTxUPlxuICAgIHJlc29sdmVGbGF0PFQgZXh0ZW5kcyBBX1Njb3BlPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXMgb25seSBpbiBjYXNlIG9mIHJlc29sdmluZyBhIHNpbmdsZSBlbnRpdHlcbiAgICAgICAgICogXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBzY29wZTogQV9UWVBFU19fU2NvcGVfQ29uc3RydWN0b3I8VD5cbiAgICApOiBUIHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZUZsYXQ8VCBleHRlbmRzIEFfRXJyb3I+KFxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlcyBvbmx5IGluIGNhc2Ugb2YgcmVzb2x2aW5nIGEgc2luZ2xlIGVudGl0eVxuICAgICAgICAgKiBcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlOiBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IFQgfCB1bmRlZmluZWRcbiAgICByZXNvbHZlRmxhdDxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIGNvbnN0cnVjdG9yTmFtZTogc3RyaW5nXG4gICAgKTogVCB8IHVuZGVmaW5lZFxuICAgIC8vIGJhc2UgZGVmaW5pdGlvblxuICAgIHJlc29sdmVGbGF0PFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBjb25zdHJ1Y3RvciBvciBhbiBhcnJheSBvZiBjb25zdHJ1Y3RvcnMgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UocykgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtMTogQV9UWVBFU19fSW5qZWN0YWJsZUNvbnN0cnVjdG9ycyxcblxuICAgICk6IFQgfCBBcnJheTxUPiB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmVGbGF0PFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZUxpbmtlZENvbnN0cnVjdG9ycz4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgY29uc3RydWN0b3Igb3IgYW4gYXJyYXkgb2YgY29uc3RydWN0b3JzIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlKHMpIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbTE6IEluc3RhbmNlVHlwZTxUPixcblxuICAgICk6IFQgfCBBcnJheTxUPiB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmVGbGF0PFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBjb25zdHJ1Y3RvciBvciBhbiBhcnJheSBvZiBjb25zdHJ1Y3RvcnMgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UocykgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtMTogQV9UWVBFU19fSW5qZWN0YWJsZUNvbnN0cnVjdG9ycyB8IEFycmF5PEFfVFlQRVNfX0luamVjdGFibGVDb25zdHJ1Y3RvcnM+LFxuICAgICAgICBwYXJhbTI/OiBQYXJ0aWFsPEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX0VudGl0eUluamVjdGlvbkluc3RydWN0aW9ucz5cbiAgICApOiBUIHwgQXJyYXk8VCB8IHVuZGVmaW5lZD4gfCB1bmRlZmluZWQge1xuXG4gICAgICAgIGlmIChBX1R5cGVHdWFyZHMuaXNBcnJheShwYXJhbTEpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyYW0xLm1hcChjID0+IHRoaXMucmVzb2x2ZUZsYXRPbmNlKGMsIHBhcmFtMikpIGFzIEFycmF5PFQ+O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZUZsYXRPbmNlKHBhcmFtMSwgcGFyYW0yKSBhcyBUO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tSU5URVJOQUwgUkVTT0xWRVJTLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgdG8gcmVzb2x2ZSBhIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IGJ5IGl0cyBjb25zdHJ1Y3RvciBuYW1lXG4gICAgICogXG4gICAgICogWyFdIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBjaGVja3MgZm9yIHRoZSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBpbiB0aGUgY3VycmVudCBzY29wZSBhbmQgYWxsIHBhcmVudCBzY29wZXNcbiAgICAgKiBbISFdIE5vdGU6IE5vIHBhcmVudCBzY29wZXMgYXJlIGNoZWNrZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbmFtZSAgLSBuYW1lIG9mIHRoZSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSB0byByZXNvbHZlIChjb25zdHJ1Y3RvciBuYW1lIGZvciBjb21wb25lbnRzIGFuZCBmcmFnbWVudHMsIHN0YXRpYyBlbnRpdHkgcHJvcGVydHkgZm9yIGVudGl0aWVzLCBzdGF0aWMgY29kZSBwcm9wZXJ0eSBmb3IgY29tbWFuZHMpXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNvbHZlQnlOYW1lKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgbmFtZSBvZiB0aGUgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgdG8gcmVzb2x2ZVxuICAgICAgICAgKi9cbiAgICAgICAgbmFtZTogc3RyaW5nXG4gICAgKTogX0VudGl0eVR5cGVbbnVtYmVyXSB8IEluc3RhbmNlVHlwZTxfQ29tcG9uZW50VHlwZVtudW1iZXJdPiB8IF9GcmFnbWVudFR5cGVbbnVtYmVyXSB8XG4gICAgICAgIEluc3RhbmNlVHlwZTxfRXJyb3JUeXBlW251bWJlcl0+IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgLy8gMSkgQ2hlY2sgY29tcG9uZW50c1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBBcnJheS5mcm9tKHRoaXMuYWxsb3dlZENvbXBvbmVudHMpLmZpbmQoXG4gICAgICAgICAgICBjID0+IGMubmFtZSA9PT0gbmFtZVxuICAgICAgICAgICAgICAgIHx8IGMubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5hbWUpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChjb21wb25lbnQpIHJldHVybiB0aGlzLnJlc29sdmVPbmNlKGNvbXBvbmVudCkgYXMgSW5zdGFuY2VUeXBlPF9Db21wb25lbnRUeXBlW251bWJlcl0+O1xuXG4gICAgICAgIC8vIDIpIENoZWNrIGVudGl0aWVzXG4gICAgICAgIGNvbnN0IGVudGl0eSA9IEFycmF5LmZyb20odGhpcy5hbGxvd2VkRW50aXRpZXMpLmZpbmQoXG4gICAgICAgICAgICBlID0+IGUubmFtZSA9PT0gbmFtZVxuICAgICAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5hbWUpXG4gICAgICAgICAgICAgICAgfHwgKGUgYXMgYW55KS5lbnRpdHkgPT09IG5hbWVcbiAgICAgICAgICAgICAgICB8fCAoZSBhcyBhbnkpLmVudGl0eSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9LZWJhYkNhc2UobmFtZSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGVudGl0eSkgcmV0dXJuIHRoaXMucmVzb2x2ZU9uY2UoZW50aXR5KSBhcyBJbnN0YW5jZVR5cGU8X0VudGl0eVR5cGVbbnVtYmVyXT47XG5cbiAgICAgICAgLy8gMykgQ2hlY2sgZnJhZ21lbnRzXG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRGcmFnbWVudHMpLmZpbmQoZiA9PiBmLm5hbWUgPT09IG5hbWVcbiAgICAgICAgICAgIHx8IGYubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5hbWUpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChmcmFnbWVudCkgcmV0dXJuIHRoaXMucmVzb2x2ZU9uY2UoZnJhZ21lbnQpIGFzIF9GcmFnbWVudFR5cGVbbnVtYmVyXTtcblxuICAgICAgICAvLyA0KSBDaGVjayBlcnJvcnNcbiAgICAgICAgY29uc3QgZXJyb3IgPSBBcnJheS5mcm9tKHRoaXMuYWxsb3dlZEVycm9ycykuZmluZChcbiAgICAgICAgICAgIGUgPT4gZS5uYW1lID09PSBuYW1lXG4gICAgICAgICAgICAgICAgfHwgZS5uYW1lID09PSBBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2UobmFtZSlcbiAgICAgICAgICAgICAgICB8fCAoZSBhcyBhbnkpLmNvZGUgPT09IG5hbWVcbiAgICAgICAgICAgICAgICB8fCAoZSBhcyBhbnkpLmNvZGUgPT09IEFfRm9ybWF0dGVySGVscGVyLnRvS2ViYWJDYXNlKG5hbWUpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChlcnJvcikgcmV0dXJuIHRoaXMucmVzb2x2ZU9uY2UoZXJyb3IpIGFzIEluc3RhbmNlVHlwZTxfRXJyb3JUeXBlW251bWJlcl0+O1xuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBmcm9tIHRoZSBzY29wZSB3aXRob3V0IGNoZWNraW5nIHBhcmVudCBzY29wZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEBwYXJhbSBpbnN0cnVjdGlvbnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNvbHZlRmxhdE9uY2UoXG4gICAgICAgIGNvbXBvbmVudDogYW55LFxuICAgICAgICBpbnN0cnVjdGlvbnM/OiBQYXJ0aWFsPEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX0VudGl0eUluamVjdGlvbkluc3RydWN0aW9ucz5cbiAgICApOiBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzIHwgQV9TY29wZSB8IEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyB8IEFycmF5PEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHM+IHwgdW5kZWZpbmVkIHtcblxuICAgICAgICBsZXQgdmFsdWU6IEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHMgfCBBX1Njb3BlIHwgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHwgQXJyYXk8QV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KTtcblxuICAgICAgICBpZiAoIWNvbXBvbmVudCB8fCAhdGhpcy5oYXMoY29tcG9uZW50KSlcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1N0cmluZyhjb21wb25lbnQpOiB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnJlc29sdmVCeU5hbWUoY29tcG9uZW50KSBhcyBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzIHwgQV9TY29wZSB8IEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29uc3RydWN0b3JBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uKGNvbXBvbmVudCk6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMucmVzb2x2ZUlzc3Vlcihjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlDb25zdHJ1Y3Rvcihjb21wb25lbnQpOiB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnJlc29sdmVFbnRpdHkoY29tcG9uZW50LCBpbnN0cnVjdGlvbnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNGcmFnbWVudENvbnN0cnVjdG9yKGNvbXBvbmVudCk6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMucmVzb2x2ZUZyYWdtZW50KGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1Njb3BlQ29uc3RydWN0b3IoY29tcG9uZW50KToge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5yZXNvbHZlU2NvcGUoY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IoY29tcG9uZW50KToge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5yZXNvbHZlQ29tcG9uZW50KGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Vycm9yQ29uc3RydWN0b3IoY29tcG9uZW50KToge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5yZXNvbHZlRXJyb3IoY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgQV9TY29wZUVycm9yLlJlc29sdXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgYEluamVjdGVkIENvbXBvbmVudCAke2NvbXBvbmVudE5hbWV9IG5vdCBmb3VuZCBpbiB0aGUgc2NvcGVgXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgdG8gcmVzb2x2ZSBhIHNpbmdsZSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBmcm9tIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgXG4gICAgICogQHBhcmFtIGluc3RydWN0aW9ucyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlc29sdmVPbmNlKFxuICAgICAgICBjb21wb25lbnQ6IGFueSxcbiAgICAgICAgaW5zdHJ1Y3Rpb25zPzogUGFydGlhbDxBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25JbnN0cnVjdGlvbnM+XG4gICAgKTogQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cyB8IEFfU2NvcGUgfCBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMgfCBBcnJheTxBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPiB8IHVuZGVmaW5lZCB7XG5cbiAgICAgICAgY29uc3QgdmFsdWVzID0gdGhpcy5yZXNvbHZlRmxhdE9uY2UoY29tcG9uZW50LCBpbnN0cnVjdGlvbnMpO1xuXG4gICAgICAgIC8vICBUaGUgaWRlYSBoZXJlIHRoYXQgaW4gY2FzZSB3aGVuIFNjb3BlIGhhcyBubyBleGFjdCBjb21wb25lbnQgd2UgaGF2ZSB0byByZXNvbHZlIGl0IGZyb20gdGhlIF9wYXJlbnRcbiAgICAgICAgLy8gIFRoYXQgbWVhbnMgdGhhdCB3ZSBzaG91bGQgZW5zdXJlIHRoYXQgdGhlcmUncyBubyBjb21wb25lbnRzIHRoYXQgYXJlIGNoaWxkcmVuIG9mIHRoZSByZXF1aXJlZCBjb21wb25lbnRcbiAgICAgICAgaWYgKCF2YWx1ZXMgJiYgISF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LnJlc29sdmVPbmNlKGNvbXBvbmVudCwgaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyB0aGUgaXNzdWVyIG9mIHRoZSBzY29wZSBieSBwcm92aWRlZCBjb25zdHJ1Y3RvclxuICAgICAqIFxuICAgICAqIFshXSBOb3RlIHRoYXQgdGhpcyBtZXRob2QgY2hlY2tzIE9OTFkgZm9yIHRoZSBkaXJlY3QgaXNzdWVyIG9mIHRoZSBzY29wZVxuICAgICAqIFshIV0gTm8gcGFyZW50IHNjb3BlcyBhcmUgY2hlY2tlZFxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjdG9yIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVzb2x2ZUlzc3VlcihcbiAgICAgICAgY3RvcjogQV9UWVBFU19fU2NvcGVMaW5rZWRDb25zdHJ1Y3RvcnNcbiAgICApOiBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMgfCB1bmRlZmluZWQge1xuXG4gICAgICAgIGNvbnN0IGlzc3VlciA9IHRoaXMuaXNzdWVyKCk7XG5cbiAgICAgICAgaWYgKGlzc3VlclxuICAgICAgICAgICAgJiYgKFxuICAgICAgICAgICAgICAgIGlzc3Vlci5jb25zdHJ1Y3RvciA9PT0gY3RvclxuICAgICAgICAgICAgICAgIHx8IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShpc3N1ZXI/LmNvbnN0cnVjdG9yLCBjdG9yKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzc3VlciE7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IHRvIHJlc29sdmUgYSBzaW5nbGUgZW50aXR5IGZyb20gdGhlIHNjb3BlIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBpbnN0cnVjdGlvbnNcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGNhbiByZXR1cm4gZWl0aGVyIGEgc2luZ2xlIGVudGl0eSBvciBhbiBhcnJheSBvZiBlbnRpdGllcyBkZXBlbmRpbmcgb24gdGhlIGluc3RydWN0aW9ucyBwcm92aWRlZFxuICAgICAqIFshIV0gTm90ZTogTm8gcGFyZW50IHNjb3BlcyBhcmUgY2hlY2tlZCAgXG4gICAgICogXG4gICAgICogQHBhcmFtIGVudGl0eSBcbiAgICAgKiBAcGFyYW0gaW5zdHJ1Y3Rpb25zIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVzb2x2ZUVudGl0eTxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPixcbiAgICAgICAgaW5zdHJ1Y3Rpb25zPzogUGFydGlhbDxBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25JbnN0cnVjdGlvbnM8VD4+XG4gICAgKTogVCB8IEFycmF5PFQ+IHwgdW5kZWZpbmVkIHtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IGluc3RydWN0aW9ucz8ucXVlcnkgfHwge30gYXMgUGFydGlhbDxBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25RdWVyeTxUPj47XG4gICAgICAgIGNvbnN0IGNvdW50ID0gaW5zdHJ1Y3Rpb25zPy5wYWdpbmF0aW9uPy5jb3VudCB8fCAxO1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAxKSBJbiBjYXNlIHdoZW4gbm8gaW5zdHJ1Y3Rpb25zIHByb3ZpZGVkLCByZXR1cm4gdGhlIGZpcnN0IGZvdW5kIGVudGl0eSBvZiB0aGUgcHJvdmlkZWQgdHlwZVxuICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgKiBbIV0gTm90ZSB0aGF0IGl0IHJldHVybnMgT05MWSBPTkUgZW50aXR5XG4gICAgICAgICAgICAgKiBbISFdIEluIGNhc2Ugd2hlbiBubyBlbnRpdHkgZm91bmQgaW4gdGhlIGN1cnJlbnQgc2NvcGUsIGl0IHRyaWVzIHRvIHJlc29sdmUgaXQgZnJvbSB0aGUgcGFyZW50IHNjb3BlIChpZiBleGlzdHMpXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhc2UgIWluc3RydWN0aW9uczoge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVudGl0aWVzLmZpbmQoZSA9PiBlIGluc3RhbmNlb2YgZW50aXR5KSBhcyBUIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAyKSBJbiBjYXNlIHdoZW4gYXNlaWQgaXMgcHJvdmlkZWQgaW4gdGhlIHF1ZXJ5LCB3ZSBjYW4gZGlyZWN0bHkgZ2V0IHRoZSBlbnRpdHkgZnJvbSB0aGUgbWFwXG4gICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAqIFshXSBOb3RlIHRoYXQgaXQgcmV0dXJucyBPTkxZIE9ORSBlbnRpdHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY2FzZSAhIXF1ZXJ5LmFzZWlkXG4gICAgICAgICAgICAgICAgJiYgdHlwZW9mIHF1ZXJ5LmFzZWlkID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICYmIHRoaXMuX2VudGl0aWVzLmhhcyhxdWVyeS5hc2VpZCk6IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzLmdldChxdWVyeS5hc2VpZCkgYXMgVDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIDMpIEluIGNhc2Ugd2hlbiBhc2VpZCBpcyBwcm92aWRlZCBhcyBBU0VJRCBpbnN0YW5jZSwgd2UgY2FuIGRpcmVjdGx5IGdldCB0aGUgZW50aXR5IGZyb20gdGhlIG1hcFxuICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgKiBbIV0gTm90ZSB0aGF0IGl0IHJldHVybnMgT05MWSBPTkUgZW50aXR5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhc2UgISFxdWVyeS5hc2VpZFxuICAgICAgICAgICAgICAgICYmIHR5cGVvZiBxdWVyeS5hc2VpZCA9PT0gJ29iamVjdCdcbiAgICAgICAgICAgICAgICAmJiBxdWVyeS5hc2VpZCBpbnN0YW5jZW9mIEFTRUlEXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5fZW50aXRpZXMuaGFzKHF1ZXJ5LmFzZWlkLnRvU3RyaW5nKCkpOiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbnRpdGllcy5nZXQocXVlcnkuYXNlaWQudG9TdHJpbmcoKSkgYXMgVDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIDQpIEluIGNhc2Ugd2hlbiBpZCBpcyBwcm92aWRlZCBpbiB0aGUgcXVlcnksIHdlIGhhdmUgdG8gZmluZCB0aGUgZW50aXR5IGJ5IHRoZSBpZFxuICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgKiBbIV0gIE5vdGUgdGhhdCBpdCByZXR1cm5zIE9OTFkgT05FIGVudGl0eVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjYXNlICEhcXVlcnkuaWQ6IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy5lbnRpdGllc1xuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGUgPT4gZSBpbnN0YW5jZW9mIGVudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoZSA9PiBTdHJpbmcoZS5pZCkgPT09IFN0cmluZyhxdWVyeS5pZCkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kIGFzIFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIDUpIEluIGNhc2Ugd2hlbiB0aGVyZSdzIGEgcXVlcnkgb2JqZWN0LCB3ZSBoYXZlIHRvIGZpbHRlciB0aGUgZW50aXRpZXMgYnkgdGhlIHF1ZXJ5XG4gICAgICAgICAgICAgKiBcbiAgICAgICAgICAgICAqIFshXSBOb3RlIHRoYXQgaXQgY2FuIHJldHVybiBlaXRoZXIgYSBzaW5nbGUgZW50aXR5IG9yIGFuIGFycmF5IG9mIGVudGl0aWVzIGRlcGVuZGluZyBvbiB0aGUgY291bnQgaW5zdHJ1Y3Rpb25cbiAgICAgICAgICAgICAqIFshIV0gSW4gY2FzZSB3aGVuIG5vIGVudGl0eSBmb3VuZCBpbiB0aGUgY3VycmVudCBzY29wZSwgaXQgdHJpZXMgdG8gcmVzb2x2ZSBpdCBmcm9tIHRoZSBwYXJlbnQgc2NvcGUgKGlmIGV4aXN0cylcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZGVmYXVsdDoge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSB0aGlzLmVudGl0aWVzXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZSA9PiBlIGluc3RhbmNlb2YgZW50aXR5KVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5lbnRyaWVzKHF1ZXJ5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5ldmVyeSgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChlIGFzIGFueSlba2V5XSA9PT0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChmb3VuZC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZFswXSBhcyBUO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kIGFzIFRbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgdG8gcmVzb2x2ZSBhIHNpbmdsZSBlcnJvciBmcm9tIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlIHRoYXQgZXJyb3JzIGFyZSBzaW5nbGV0b24gaW5zdGFuY2VzIHdpdGhpbiB0aGUgc2NvcGVcbiAgICAgKiBbISFdIE5vIHBhcmVudCBzY29wZXMgYXJlIGNoZWNrZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXJyb3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNvbHZlRXJyb3I8VCBleHRlbmRzIEFfRXJyb3I+KGVycm9yOiBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcjxUPik6IFQgfCB1bmRlZmluZWQge1xuXG4gICAgICAgIHJldHVybiB0aGlzLmVycm9ycy5maW5kKGUgPT4gZSBpbnN0YW5jZW9mIGVycm9yKSBhcyBUIHwgdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgdG8gcmVzb2x2ZSBhIHNpbmdsZSBmcmFnbWVudCBmcm9tIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlIHRoYXQgdGhpcyBtZXRob2QgY2hlY2tzIGZvciB0aGUgZnJhZ21lbnQgaW4gdGhlIGN1cnJlbnQgc2NvcGUgYW5kIGFsbCBwYXJlbnQgc2NvcGVzXG4gICAgICogXG4gICAgICogQHBhcmFtIGZyYWdtZW50IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVzb2x2ZUZyYWdtZW50PFQgZXh0ZW5kcyBBX0ZyYWdtZW50PihmcmFnbWVudDogQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8VD4pOiBfRnJhZ21lbnRUeXBlW251bWJlcl0gfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBmcmFnbWVudEluc3RhbmNlUHJlc2VudGVkID0gdGhpcy5fZnJhZ21lbnRzLmdldChmcmFnbWVudCk7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIGZyYWdtZW50SW5zdGFuY2VQcmVzZW50ZWQgJiYgdGhpcy5fZnJhZ21lbnRzLmhhcyhmcmFnbWVudCk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyYWdtZW50SW5zdGFuY2VQcmVzZW50ZWQ7XG5cbiAgICAgICAgICAgIC8vIDMpIEluIGNhc2Ugd2hlbiB0aGVyZSdzIGEgY29tcG9uZW50IHRoYXQgaXMgaW5oZXJpdGVkIGZyb20gdGhlIHJlcXVpcmVkIGNvbXBvbmVudFxuICAgICAgICAgICAgY2FzZSAhZnJhZ21lbnRJbnN0YW5jZVByZXNlbnRlZCAmJiBBcnJheS5mcm9tKHRoaXMuX2FsbG93ZWRGcmFnbWVudHMpLnNvbWUoZWwgPT4gQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGVsLCBmcmFnbWVudCkpOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSBBcnJheS5mcm9tKHRoaXMuX2FsbG93ZWRGcmFnbWVudHMpLmZpbmQoZWwgPT4gQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGVsLCBmcmFnbWVudCkpITtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVGcmFnbWVudChmb3VuZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiAgVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IHRvIHJlc29sdmUgYSBzaW5nbGUgc2NvcGUgZnJvbSB0aGUgY3VycmVudCBzY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzY29wZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlc29sdmVTY29wZShzY29wZTogQV9UWVBFU19fU2NvcGVfQ29uc3RydWN0b3IpOiBBX1Njb3BlIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IHRvIHJlc29sdmUgYSBzaW5nbGUgY29tcG9uZW50IGZyb20gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogWyEhXSBOb3RlOiBObyBwYXJlbnQgc2NvcGVzIGFyZSBjaGVja2VkICBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVzb2x2ZUNvbXBvbmVudDxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+KTogSW5zdGFuY2VUeXBlPF9Db21wb25lbnRUeXBlW251bWJlcl0+IHwgdW5kZWZpbmVkIHtcblxuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgLy8gMSkgSW4gY2FzZSB3aGVuIHRoZSBjb21wb25lbnQgaXMgYXZhaWxhYmxlIGFuZCBleGlzdHMgaW4gdGhlIHNjb3BlXG4gICAgICAgICAgICBjYXNlIHRoaXMuYWxsb3dlZENvbXBvbmVudHMuaGFzKGNvbXBvbmVudCkgJiYgdGhpcy5fY29tcG9uZW50cy5oYXMoY29tcG9uZW50KToge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb21wb25lbnRzLmdldChjb21wb25lbnQpITtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gMikgSW4gY2FzZSB0aGUgY29tcG9uZW50IGF2YWlsYWJsZSBidXQgZG9lcyBOT1QgZXhpc3QgaW4gdGhlIHNjb3BlXG4gICAgICAgICAgICBjYXNlIHRoaXMuYWxsb3dlZENvbXBvbmVudHMuaGFzKGNvbXBvbmVudCkgJiYgIXRoaXMuX2NvbXBvbmVudHMuaGFzKGNvbXBvbmVudCk6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnRNZXRhID0gQV9Db250ZXh0Lm1ldGEoY29tcG9uZW50KVxuXG4gICAgICAgICAgICAgICAgY29uc3QgYXJnc01ldGEgPSBjb21wb25lbnRNZXRhLmdldChBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LklOSkVDVElPTlMpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWRBcmdzID0gKGFyZ3NNZXRhPy5nZXQoJ2NvbnN0cnVjdG9yJykgfHwgW10pXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoYXJnID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvciBFcnJvciBoYW5kbGluZyBwdXJwb3Nlc1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoYXJnLnRhcmdldClcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdpbnN0cnVjdGlvbnMnIGluIGFyZyAmJiAhIWFyZy5pbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHRhcmdldCwgcGFyZW50LCBmbGF0LCBpbnN0cnVjdGlvbnMgfSA9IGFyZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlcGVuZGVuY3kgPSB0aGlzLnJlc29sdmUodGFyZ2V0IGFzIGFueSwgaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRlcGVuZGVuY3kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuUmVzb2x1dGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFVuYWJsZSB0byByZXNvbHZlIGRlcGVuZGVuY3kgJHtjb21wb25lbnROYW1lfSBmb3IgY29tcG9uZW50ICR7Y29tcG9uZW50Lm5hbWV9IGluIHNjb3BlICR7dGhpcy5uYW1lfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXBlbmRlbmN5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHRhcmdldCwgcmVxdWlyZSwgY3JlYXRlLCBkZWZhdWx0QXJncywgcGFyZW50LCBmbGF0LCB9ID0gYXJnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlcGVuZGVuY3k7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLSBSZXNvbHV0aW9uIFN0cmF0ZWdpZXMgLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMSkgRmxhdCByZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgZmxhdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMucmVzb2x2ZUZsYXQodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDIpIFBhcmVudCByZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgcGFyZW50ICYmIHR5cGVvZiBwYXJlbnQubGF5ZXJPZmZzZXQgPT09ICdudW1iZXInOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRQYXJlbnQgPSB0aGlzLnBhcmVudE9mZnNldChwYXJlbnQubGF5ZXJPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXRhcmdldFBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5SZXNvbHV0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gcmVzb2x2ZSBwYXJlbnQgc2NvcGUgYXQgb2Zmc2V0ICR7cGFyZW50LmxheWVyT2Zmc2V0fSBmb3IgZGVwZW5kZW5jeSAke2NvbXBvbmVudE5hbWV9IGZvciBjb21wb25lbnQgJHtjb21wb25lbnQubmFtZX0gaW4gc2NvcGUgJHt0aGlzLm5hbWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gdGFyZ2V0UGFyZW50LnJlc29sdmUodGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMykgTm9ybWFsIHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMucmVzb2x2ZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLSBQb3N0LVJlc29sdXRpb24gQWN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMSkgQ3JlYXRlIGRlZmF1bHQgaW5zdGFuY2UgaW4gY2FzZSB3aGVuIGFsbG93ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlICYmICFkZXBlbmRlbmN5ICYmIEFfVHlwZUd1YXJkcy5pc0FsbG93ZWRGb3JEZXBlbmRlbmN5RGVmYXVsdENyZWF0aW9uKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeSA9IG5ldyB0YXJnZXQoLi4uZGVmYXVsdEFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoZGVwZW5kZW5jeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMikgVGhyb3cgZXJyb3IgaW4gY2FzZSB3aGVuIHJlcXVpcmVkIGJ1dCBub3QgcmVzb2x2ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWlyZSAmJiAhZGVwZW5kZW5jeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQV9TY29wZUVycm9yLlJlc29sdXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gcmVzb2x2ZSByZXF1aXJlZCBkZXBlbmRlbmN5ICR7Y29tcG9uZW50TmFtZX0gZm9yIGNvbXBvbmVudCAke2NvbXBvbmVudC5uYW1lfSBpbiBzY29wZSAke3RoaXMubmFtZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgRmluYWxseSwgcmV0dXJuIHRoZSBkZXBlbmRlbmN5IChlaXRoZXIgcmVzb2x2ZWQgb3IgdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXBlbmRlbmN5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NvbXBvbmVudCA9IG5ldyBjb21wb25lbnQoLi4ucmVzb2x2ZWRBcmdzKVxuXG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlcihuZXdDb21wb25lbnQpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudHMuZ2V0KGNvbXBvbmVudCkhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAzKSBJbiBjYXNlIHdoZW4gdGhlcmUncyBhIGNvbXBvbmVudCB0aGF0IGlzIGluaGVyaXRlZCBmcm9tIHRoZSByZXF1aXJlZCBjb21wb25lbnRcbiAgICAgICAgICAgIGNhc2UgIXRoaXMuYWxsb3dlZENvbXBvbmVudHMuaGFzKGNvbXBvbmVudCkgJiYgQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRDb21wb25lbnRzKS5zb21lKGVsID0+IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShlbCwgY29tcG9uZW50KSk6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IEFycmF5LmZyb20odGhpcy5hbGxvd2VkQ29tcG9uZW50cykuZmluZChlbCA9PiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oZWwsIGNvbXBvbmVudCkpITtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVDb21wb25lbnQoZm91bmQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gcmVnaXN0ZXIgdGhlIGNvbXBvbmVudCBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZnJhZ21lbnQgXG4gICAgICovXG4gICAgcmVnaXN0ZXI8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgY29uc3RydWN0b3IgdG8gcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbW1hbmQgaW5zdGFuY2UgdG8gcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IFRcbiAgICApOiB2b2lkXG4gICAgcmVnaXN0ZXI8VCBleHRlbmRzIEFfRXJyb3I+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlcnJvciBjb25zdHJ1Y3RvciB0byByZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVycm9yOiBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9FcnJvcj4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVycm9yIGluc3RhbmNlIHRvIHJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3I6IFRcbiAgICApOiB2b2lkXG4gICAgcmVnaXN0ZXI8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbW1hbmQgaW5zdGFuY2UgdG8gcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudDogQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8VD5cbiAgICApOiB2b2lkXG4gICAgcmVnaXN0ZXI8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGZyYWdtZW50IGluc3RhbmNlIHRvIHJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZnJhZ21lbnQ6IFRcbiAgICApOiB2b2lkXG4gICAgcmVnaXN0ZXI8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGNvbnN0cnVjdG9yIHRvIHJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD5cbiAgICApOiB2b2lkXG4gICAgcmVnaXN0ZXI8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGluc3RhbmNlIHRvIHJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBUXG4gICAgKTogdm9pZFxuXG4gICAgcmVnaXN0ZXIoXG4gICAgICAgIHBhcmFtMTogdW5rbm93blxuICAgICk6IHZvaWQge1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tIEluc3RhbmNlcyAtLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIDEpIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1Db21wb25lbnQgaW5zdGFuY2VcbiAgICAgICAgICAgIGNhc2UgcGFyYW0xIGluc3RhbmNlb2YgQV9Db21wb25lbnQ6IHtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5oYXMocGFyYW0xLmNvbnN0cnVjdG9yIGFzIF9Db21wb25lbnRUeXBlW251bWJlcl0pKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRDb21wb25lbnRzLmFkZChwYXJhbTEuY29uc3RydWN0b3IgYXMgX0NvbXBvbmVudFR5cGVbbnVtYmVyXSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wb25lbnRzLnNldChcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0xLmNvbnN0cnVjdG9yIGFzIF9Db21wb25lbnRUeXBlW251bWJlcl0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtMSBhcyBJbnN0YW5jZVR5cGU8X0NvbXBvbmVudFR5cGVbbnVtYmVyXT5cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgQV9Db250ZXh0LnJlZ2lzdGVyKHRoaXMsIHBhcmFtMSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDMpIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1FbnRpdHkgaW5zdGFuY2VcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UocGFyYW0xKSAmJiAhdGhpcy5fZW50aXRpZXMuaGFzKHBhcmFtMS5hc2VpZC50b1N0cmluZygpKToge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmFsbG93ZWRFbnRpdGllcy5oYXMocGFyYW0xLmNvbnN0cnVjdG9yIGFzIF9FbnRpdHlUeXBlW251bWJlcl0pKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRFbnRpdGllcy5hZGQocGFyYW0xLmNvbnN0cnVjdG9yIGFzIF9FbnRpdHlUeXBlW251bWJlcl0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZW50aXRpZXMuc2V0KHBhcmFtMS5hc2VpZC50b1N0cmluZygpLCBwYXJhbTEgYXMgSW5zdGFuY2VUeXBlPF9FbnRpdHlUeXBlW251bWJlcl0+KTtcbiAgICAgICAgICAgICAgICBBX0NvbnRleHQucmVnaXN0ZXIodGhpcywgcGFyYW0xKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDQpIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1GcmFnbWVudCBpbnN0YW5jZVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNGcmFnbWVudEluc3RhbmNlKHBhcmFtMSk6IHtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkRnJhZ21lbnRzLmhhcyhwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPikpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dlZEZyYWdtZW50cy5hZGQocGFyYW0xLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPF9GcmFnbWVudFR5cGVbbnVtYmVyXT4pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZnJhZ21lbnRzLnNldChcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0xLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPF9GcmFnbWVudFR5cGVbbnVtYmVyXT4sXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtMSBhcyBfRnJhZ21lbnRUeXBlW251bWJlcl1cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgQV9Db250ZXh0LnJlZ2lzdGVyKHRoaXMsIHBhcmFtMSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDUpIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1FcnJvciBpbnN0YW5jZVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFcnJvckluc3RhbmNlKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYWxsb3dlZEVycm9ycy5oYXMocGFyYW0xLmNvbnN0cnVjdG9yIGFzIF9FcnJvclR5cGVbbnVtYmVyXSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dlZEVycm9ycy5hZGQocGFyYW0xLmNvbnN0cnVjdG9yIGFzIF9FcnJvclR5cGVbbnVtYmVyXSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvcnMuc2V0KFxuICAgICAgICAgICAgICAgICAgICBwYXJhbTEuY29kZSxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0xIGFzIEluc3RhbmNlVHlwZTxfRXJyb3JUeXBlW251bWJlcl0+XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIEFfQ29udGV4dC5yZWdpc3Rlcih0aGlzLCBwYXJhbTEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLSBDb25zdHJ1Y3RvcnMgLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyA2KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtQ29tcG9uZW50IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYWxsb3dlZENvbXBvbmVudHMuaGFzKHBhcmFtMSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dlZENvbXBvbmVudHMuYWRkKHBhcmFtMSBhcyBfQ29tcG9uZW50VHlwZVtudW1iZXJdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDgpIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1GcmFnbWVudCBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNGcmFnbWVudENvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYWxsb3dlZEZyYWdtZW50cy5oYXMocGFyYW0xKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkRnJhZ21lbnRzLmFkZChwYXJhbTEgYXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA5KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtRW50aXR5IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0VudGl0eUNvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYWxsb3dlZEVudGl0aWVzLmhhcyhwYXJhbTEpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRFbnRpdGllcy5hZGQocGFyYW0xIGFzIF9FbnRpdHlUeXBlW251bWJlcl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMTApIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1FcnJvciBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFcnJvckNvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYWxsb3dlZEVycm9ycy5oYXMocGFyYW0xKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkRXJyb3JzLmFkZChwYXJhbTEgYXMgX0Vycm9yVHlwZVtudW1iZXJdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0gSW52YWxpZCBDYXNlcyAtLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAocGFyYW0xIGluc3RhbmNlb2YgQV9FbnRpdHkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuUmVnaXN0cmF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBgRW50aXR5IHdpdGggQVNFSUQgJHtwYXJhbTEuYXNlaWQudG9TdHJpbmcoKX0gaXMgYWxyZWFkeSByZWdpc3RlcmVkIGluIHRoZSBzY29wZSAke3RoaXMubmFtZX1gXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGFyYW0xIGluc3RhbmNlb2YgQV9GcmFnbWVudClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5SZWdpc3RyYXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGBGcmFnbWVudCAke3BhcmFtMS5jb25zdHJ1Y3Rvci5uYW1lfSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgaW4gdGhlIHNjb3BlICR7dGhpcy5uYW1lfWBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUocGFyYW0xKTtcblxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgQV9TY29wZUVycm9yLlJlZ2lzdHJhdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYENhbm5vdCByZWdpc3RlciAke2NvbXBvbmVudE5hbWV9IGluIHRoZSBzY29wZSAke3RoaXMubmFtZX1gXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGRlcmVnaXN0ZXIgdGhlIGNvbXBvbmVudCBmcm9tIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBmcmFnbWVudCBcbiAgICAgKi9cbiAgICBkZXJlZ2lzdGVyPFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IGNvbnN0cnVjdG9yIHRvIGRlcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICBkZXJlZ2lzdGVyKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbW1hbmQgaW5zdGFuY2UgdG8gZGVyZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9Db21wb25lbnRcbiAgICApOiB2b2lkXG4gICAgZGVyZWdpc3RlcjxUIGV4dGVuZHMgQV9FcnJvcj4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVycm9yIGNvbnN0cnVjdG9yIHRvIGRlcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlcnJvcjogQV9UWVBFU19fRXJyb3JfQ29uc3RydWN0b3I8VD5cbiAgICApOiB2b2lkXG4gICAgZGVyZWdpc3RlcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZXJyb3IgaW5zdGFuY2UgdG8gZGVyZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVycm9yOiBBX0Vycm9yXG4gICAgKTogdm9pZFxuICAgIGRlcmVnaXN0ZXI8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbW1hbmQgaW5zdGFuY2UgdG8gZGVyZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICBkZXJlZ2lzdGVyKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGZyYWdtZW50IGluc3RhbmNlIHRvIGRlcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudDogQV9GcmFnbWVudFxuICAgICk6IHZvaWRcbiAgICBkZXJlZ2lzdGVyPFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byBkZXJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD5cbiAgICApOiB2b2lkXG4gICAgZGVyZWdpc3RlcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGluc3RhbmNlIHRvIGRlcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfRW50aXR5XG4gICAgKTogdm9pZFxuXG4gICAgZGVyZWdpc3RlcihcbiAgICAgICAgcGFyYW0xOiB1bmtub3duXG4gICAgKTogdm9pZCB7XG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0gSW5zdGFuY2VzIC0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gMSkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUNvbXBvbmVudCBpbnN0YW5jZVxuICAgICAgICAgICAgY2FzZSBwYXJhbTEgaW5zdGFuY2VvZiBBX0NvbXBvbmVudDoge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50cy5kZWxldGUocGFyYW0xLmNvbnN0cnVjdG9yIGFzIF9Db21wb25lbnRUeXBlW251bWJlcl0pO1xuICAgICAgICAgICAgICAgIEFfQ29udGV4dC5kZXJlZ2lzdGVyKHBhcmFtMSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDMpIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1FbnRpdHkgaW5zdGFuY2VcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UocGFyYW0xKToge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZW50aXRpZXMuZGVsZXRlKHBhcmFtMS5hc2VpZC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBBX0NvbnRleHQuZGVyZWdpc3RlcihwYXJhbTEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNCkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUZyYWdtZW50IGluc3RhbmNlXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0ZyYWdtZW50SW5zdGFuY2UocGFyYW0xKToge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZnJhZ21lbnRzLmRlbGV0ZShwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPik7XG4gICAgICAgICAgICAgICAgQV9Db250ZXh0LmRlcmVnaXN0ZXIocGFyYW0xKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNSkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUVycm9yIGluc3RhbmNlXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Vycm9ySW5zdGFuY2UocGFyYW0xKToge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZXJyb3JzLmRlbGV0ZShwYXJhbTEuY29kZSk7XG4gICAgICAgICAgICAgICAgQV9Db250ZXh0LmRlcmVnaXN0ZXIocGFyYW0xKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0gQ29uc3RydWN0b3JzIC0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gNikgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUNvbXBvbmVudCBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3RvcihwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5kZWxldGUocGFyYW0xIGFzIF9Db21wb25lbnRUeXBlW251bWJlcl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gOCkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUZyYWdtZW50IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0ZyYWdtZW50Q29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dlZEZyYWdtZW50cy5kZWxldGUocGFyYW0xIGFzIEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPF9GcmFnbWVudFR5cGVbbnVtYmVyXT4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gOSkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUVudGl0eSBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlDb25zdHJ1Y3RvcihwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkRW50aXRpZXMuZGVsZXRlKHBhcmFtMSBhcyBfRW50aXR5VHlwZVtudW1iZXJdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDEwKSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtRXJyb3IgY29uc3RydWN0b3JcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JDb25zdHJ1Y3RvcihwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkRXJyb3JzLmRlbGV0ZShwYXJhbTEgYXMgX0Vycm9yVHlwZVtudW1iZXJdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0gSW52YWxpZCBDYXNlcyAtLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShwYXJhbTEpO1xuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgQV9TY29wZUVycm9yLkRlcmVnaXN0cmF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGBDYW5ub3QgZGVyZWdpc3RlciAke2NvbXBvbmVudE5hbWV9IGZyb20gdGhlIHNjb3BlICR7dGhpcy5uYW1lfWBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZnVsIHdoZW4geW91IHdhbnQgdG8gc2VyaWFsaXplIHRoZSBzY29wZSB0byBKU09OXG4gICAgICogXG4gICAgICogWyFdIE5vdGUgdGhpcyBpcyBub3QgYSBkZWVwIHNlcmlhbGl6YXRpb24sIG9ubHkgdGhlIGZyYWdtZW50cyBhcmUgc2VyaWFsaXplZFxuICAgICAqIFshXSBGcmFnbWVudHMgYXJlIGEgc3RvcmFnZSBmb3IgaW5mb3JtYXRpb24gd2hpY2ggaXMgcmVsZXZhbnQgdG8gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgdG9KU09OKCk6IFJlY29yZDxzdHJpbmcsIGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mcmFnbWVudHNcbiAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgZnJhZ21lbnQpID0+IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBmcmFnbWVudC50b0pTT04oKVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgICAgICAgICAgICBbc2VyaWFsaXplZC5uYW1lXTogc2VyaWFsaXplZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICB9XG5cblxuXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tU2NvcGUgVHlwZSBDaGVjayBIZWxwZXJzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGNvbnN0cnVjdG9yIGlzIG9mIHR5cGUgQV9Db21wb25lbnQgYW5kIGlzIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGlzQWxsb3dlZENvbXBvbmVudChjdG9yOiB1bmtub3duKTogY3RvciBpcyBfQ29tcG9uZW50VHlwZVtudW1iZXJdIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKGN0b3IpICYmIHRoaXMuYWxsb3dlZENvbXBvbmVudHMuaGFzKGN0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfRW50aXR5IGFuZCBpcyBhbGxvd2VkIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjdG9yIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpc0FsbG93ZWRFbnRpdHkoY3RvcjogdW5rbm93bik6IGN0b3IgaXMgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPF9FbnRpdHlUeXBlW251bWJlcl0+IHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0VudGl0eUNvbnN0cnVjdG9yKGN0b3IpICYmIHRoaXMuYWxsb3dlZEVudGl0aWVzLmhhcyhjdG9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX0ZyYWdtZW50IGFuZCBpcyBhbGxvd2VkIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjdG9yIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpc0FsbG93ZWRGcmFnbWVudChjdG9yOiB1bmtub3duKTogY3RvciBpcyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxfRnJhZ21lbnRUeXBlW251bWJlcl0+IHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0ZyYWdtZW50Q29uc3RydWN0b3IoY3RvcikgJiYgdGhpcy5hbGxvd2VkRnJhZ21lbnRzLmhhcyhjdG9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX0Vycm9yIGFuZCBpcyBhbGxvd2VkIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjdG9yIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpc0FsbG93ZWRFcnJvcihjdG9yOiB1bmtub3duKTogY3RvciBpcyBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcjxfRXJyb3JUeXBlW251bWJlcl0+IHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0Vycm9yQ29uc3RydWN0b3IoY3RvcikgJiYgdGhpcy5hbGxvd2VkRXJyb3JzLmhhcyhjdG9yKTtcbiAgICB9XG5cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tREVCVUcgJiBIZWxwZXJzIE1ldGhvZHMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gY2hlY2sgaWYgdGhlIHNjb3BlIGlzIGluaGVyaXRlZCBmcm9tIGFub3RoZXIgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgaXNJbmhlcml0ZWRGcm9tKHNjb3BlOiBBX1Njb3BlKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBjdXJyZW50OiBBX1Njb3BlIHwgdW5kZWZpbmVkID0gdGhpcztcblxuICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5fcGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdG8gY2hlY2sgY2lyY3VsYXIgaW5oZXJpdGFuY2VcbiAgICAgKiBTaG91bGQgcmV0dXJuIGEgZnVsbCBzZXF1ZW5jZSBvZiBpbmhlcml0YW5jZSBmb3IgbG9nZ2luZyBwdXJwb3Nlc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBzY29wZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBjaGVja0NpcmN1bGFySW5oZXJpdGFuY2Uoc2NvcGU6IEFfU2NvcGUpOiBBcnJheTxzdHJpbmc+IHwgZmFsc2Uge1xuICAgICAgICBjb25zdCBpbmhlcml0YW5jZUNoYWluOiBBcnJheTxzdHJpbmc+ID0gW107XG4gICAgICAgIGxldCBjdXJyZW50OiBBX1Njb3BlIHwgdW5kZWZpbmVkID0gdGhpcy5fcGFyZW50O1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICBpbmhlcml0YW5jZUNoYWluLnB1c2goY3VycmVudC5uYW1lKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBzY29wZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmhlcml0YW5jZUNoYWluO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuX3BhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgbWV0aG9kIHRvIHByaW50IHRoZSBpbmhlcml0YW5jZSBjaGFpbiBvZiB0aGUgc2NvcGVcbiAgICAgKi9cbiAgICBwcmludEluaGVyaXRhbmNlQ2hhaW4oKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNoYWluOiBBcnJheTxzdHJpbmc+ID0gW107XG4gICAgICAgIGxldCBjdXJyZW50OiBBX1Njb3BlIHwgdW5kZWZpbmVkID0gdGhpcztcblxuICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgY2hhaW4ucHVzaChjdXJyZW50Lm5hbWUpO1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuX3BhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKGNoYWluLmpvaW4oJyAtPiAnKSk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0NhbGxlckVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGVycm9yIGNvZGUgaW5kaWNhdGVzIHRoYXQgdGhlcmUgd2FzIGFuIGlzc3VlIGluaXRpYWxpemluZyB0aGUgQS1DYWxsZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgQ2FsbGVySW5pdGlhbGl6YXRpb25FcnJvciA9ICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBBLUNhbGxlcic7XG59IiwgImltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgfSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9DYWxsZXJFcnJvciB9IGZyb20gXCIuL0FfQ2FsbGVyLmVycm9yXCI7XG5cblxuXG4vKipcbiAqIFRoaXMgaXMgYSBjb21tb24gY2xhc3MgdGhhdCB1c2VzIHRvIHJldHVybiBhbiBlbnRpdHkgdGhhdCBpbml0aWF0ZXMgYSBmZWF0dXJlIGNhbGxcbiAqIFxuICogSXQgY2FuIGJlIHVzZWQgdGhlbiBpbiBAQV9JbmplY3QoQV9DYWxsZXIpIHRvIGdldCB0aGUgZW50aXR5IHRoYXQgaW5pdGlhdGVkIHRoZSBmZWF0dXJlIGNhbGxcbiAqIFxuICogWyFdIHRoZSBjbGFzcyBpdHNlbGYgbWF5IGJlIHJldHJpZXZlZCwgYnV0IG1heSByZXF1aXJlIGFkZGl0aW9uYWwgcHJvY2Vzc2luZyBpbnNpZGUgdGhlIGZlYXR1cmVcbiAqIFxuICovXG5leHBvcnQgY2xhc3MgQV9DYWxsZXI8VCBleHRlbmRzIEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzID0gQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHM+IHtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb21wb25lbnQgdGhhdCBpbml0aWF0ZWQgdGhlIGZlYXR1cmUgY2FsbFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfY29tcG9uZW50OiBUO1xuXG5cbiAgICAvKipcbiAgICAgKiBBX0NhbGxlciBhbGxvd3MgdG8gZ2V0IHRoZSBjb21wb25lbnQgdGhhdCBpbml0aWF0ZWQgdGhlIGZlYXR1cmUgY2FsbFxuICAgICAqIFxuICAgICAqIEl0IGNhbiBiZSB1c2VkIHRoZW4gaW4gQEFfSW5qZWN0KEFfQ2FsbGVyKSB0byBnZXQgdGhlIGVudGl0eSB0aGF0IGluaXRpYXRlZCB0aGUgZmVhdHVyZSBjYWxsXG4gICAgICogXG4gICAgICogWyFdIElmIFNjb3BlIGlzIG5vdCBwcm92aWRlZCwgYSBuZXcgZW1wdHkgc2NvcGUgd2lsbCBiZSBjcmVhdGVkIGFuZCBpbmhlcml0ZWQgZnJvbSB0aGUgZ2xvYmFsIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKiBAcGFyYW0gc2NvcGUgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGNvbXBvbmVudDogVFxuICAgICkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlUGFyYW1zKGNvbXBvbmVudCk7XG5cbiAgICAgICAgdGhpcy5fY29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgIH1cblxuICAgIGdldCBjb21wb25lbnQoKTogVCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wb25lbnQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgdGhlIHByb3ZpZGVkIHBhcmFtZXRlcnMgYW5kIEVuc3VyZXMgdGhhdCB0aGUgY29tcG9uZW50IGlzIG9mIGFuIGFsbG93ZWQgdHlwZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHZhbGlkYXRlUGFyYW1zKFxuICAgICAgICBjb21wb25lbnQ6IFRcbiAgICApIHtcbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNBbGxvd2VkRm9yRmVhdHVyZUNhbGwoY29tcG9uZW50KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ2FsbGVyRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9DYWxsZXJFcnJvci5DYWxsZXJJbml0aWFsaXphdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgIGBJbnZhbGlkIEEtQ2FsbGVyIGNvbXBvbmVudCBwcm92aWRlZCBvZiB0eXBlOiAke3R5cGVvZiBjb21wb25lbnR9IHdpdGggdmFsdWU6ICR7SlNPTi5zdHJpbmdpZnkoY29tcG9uZW50KS5zbGljZSgwLCAxMDApfS4uLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG59IiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fRmVhdHVyZV9Db25zdHJ1Y3RvcixcbiAgICBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgICBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yVGFyZ2V0XG59IGZyb20gXCIuLi9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHtcbiAgICBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcixcbiAgICBBX1RZUEVTX19FcnJvcl9Jbml0LFxuICAgIEFfVFlQRVNfX0Vycm9yX1NlcmlhbGl6ZWRcbn0gZnJvbSBcIi4uL2dsb2JhbC9BLUVycm9yL0FfRXJyb3IudHlwZXNcIjtcbmltcG9ydCB7IEFfQ29tcG9uZW50IH0gZnJvbSBcIi4uL2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db21wb25lbnRNZXRhIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5tZXRhXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LnR5cGVzXCI7XG5pbXBvcnQgeyBBX0NvbnRhaW5lciB9IGZyb20gXCIuLi9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ29udGFpbmVyTWV0YSB9IGZyb20gXCIuLi9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIubWV0YVwiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyX0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci50eXBlc1wiO1xuaW1wb3J0IHsgQV9FbnRpdHkgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtRW50aXR5L0EtRW50aXR5LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0VudGl0eU1ldGEgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtRW50aXR5L0EtRW50aXR5Lm1ldGFcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9nbG9iYWwvQS1FbnRpdHkvQS1FbnRpdHkudHlwZXNcIjtcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuLi9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9GcmFnbWVudCB9IGZyb20gXCIuLi9nbG9iYWwvQS1GcmFnbWVudC9BLUZyYWdtZW50LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9nbG9iYWwvQS1GcmFnbWVudC9BLUZyYWdtZW50LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1Njb3BlIH0gZnJvbSBcIi4uL2dsb2JhbC9BLVNjb3BlL0EtU2NvcGUuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ2FsbGVyIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUNhbGxlci9BX0NhbGxlci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ2FsbGVyX0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUNhbGxlci9BX0NhbGxlci50eXBlc1wiO1xuaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCIuLi9nbG9iYWwvQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCIuL0FfQ29tbW9uLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9UWVBFU19fQWJzdHJhY3Rpb25BdmFpbGFibGVDb21wb25lbnRzIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUFic3RyYWN0aW9uL0EtQWJzdHJhY3Rpb24udHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX1Njb3BlX0NvbnN0cnVjdG9yLCBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMsIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29uc3RydWN0b3JzIH0gZnJvbSBcIi4uL2dsb2JhbC9BLVNjb3BlL0EtU2NvcGUudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQVNFSUQgfSBmcm9tIFwiLi4vZ2xvYmFsL0FTRUlEL0FTRUlELmNsYXNzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9UeXBlR3VhcmRzIHtcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBCQVNFIFR5cGUgR3VhcmRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB2YWx1ZSBpcyBhIHN0cmluZ1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB2YWx1ZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNTdHJpbmcodmFsdWU6IGFueSk6IHZhbHVlIGlzIHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHZhbHVlIGluc3RhbmNlb2YgU3RyaW5nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB2YWx1ZSBpcyBhIG51bWJlclxuICAgICAqIFxuICAgICAqIEBwYXJhbSB2YWx1ZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNOdW1iZXIodmFsdWU6IGFueSk6IHZhbHVlIGlzIG51bWJlciB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdmFsdWUgaXMgYSBib29sZWFuXG4gICAgICogXG4gICAgICogQHBhcmFtIHZhbHVlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0Jvb2xlYW4odmFsdWU6IGFueSk6IHZhbHVlIGlzIGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbic7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHZhbHVlIGlzIGFuIGFycmF5XG4gICAgICogXG4gICAgICogQHBhcmFtIHZhbHVlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0FycmF5KHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBBcnJheTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB2YWx1ZSBpcyBhbiBvYmplY3RcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdmFsdWUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzT2JqZWN0PFQgZXh0ZW5kcyBPYmplY3QgPSBPYmplY3Q+KHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBUIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uXG4gICAgICogXG4gICAgICogQHBhcmFtIHZhbHVlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0Z1bmN0aW9uKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBGdW5jdGlvbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzVW5kZWZpbmVkKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJztcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNSZWdFeHAodmFsdWU6IGFueSk6IHZhbHVlIGlzIFJlZ0V4cCB7XG4gICAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cDtcbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09QS1Db25jZXB0IFR5cGUgR3VhcmRzID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGNvbnN0cnVjdG9yIGlzIG9mIHR5cGUgQV9Db250YWluZXJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY3RvciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNDb250YWluZXJDb25zdHJ1Y3RvcihjdG9yOiBhbnkpOiBjdG9yIGlzIEFfVFlQRVNfX0NvbnRhaW5lcl9Db25zdHJ1Y3RvciB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgY3RvciA9PT0gJ2Z1bmN0aW9uJyAmJiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oY3RvciwgQV9Db250YWluZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfQ29tcG9uZW50XG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQ29tcG9uZW50Q29uc3RydWN0b3IoY3RvcjogYW55KTogY3RvciBpcyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3Ige1xuICAgICAgICByZXR1cm4gdHlwZW9mIGN0b3IgPT09ICdmdW5jdGlvbicgJiYgQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGN0b3IsIEFfQ29tcG9uZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX0ZyYWdtZW50XG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRnJhZ21lbnRDb25zdHJ1Y3RvcihjdG9yOiBhbnkpOiBjdG9yIGlzIEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nICYmIEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBBX0ZyYWdtZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX0VudGl0eVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjdG9yIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0VudGl0eUNvbnN0cnVjdG9yKGN0b3I6IGFueSk6IGN0b3IgaXMgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nICYmIEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBBX0VudGl0eSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGNvbnN0cnVjdG9yIGlzIG9mIHR5cGUgQV9TY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjdG9yIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc1Njb3BlQ29uc3RydWN0b3IoY3RvcjogYW55KTogY3RvciBpcyBBX1RZUEVTX19TY29wZV9Db25zdHJ1Y3RvciB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgY3RvciA9PT0gJ2Z1bmN0aW9uJyAmJiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oY3RvciwgQV9TY29wZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGNvbnN0cnVjdG9yIGlzIG9mIHR5cGUgQV9TY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjdG9yIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0Vycm9yQ29uc3RydWN0b3IoY3RvcjogYW55KTogY3RvciBpcyBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvciB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgY3RvciA9PT0gJ2Z1bmN0aW9uJyAmJiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oY3RvciwgQV9FcnJvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGNvbnN0cnVjdG9yIGlzIG9mIHR5cGUgQV9GZWF0dXJlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRmVhdHVyZUNvbnN0cnVjdG9yKGN0b3I6IGFueSk6IGN0b3IgaXMgQV9UWVBFU19fRmVhdHVyZV9Db25zdHJ1Y3RvciB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgY3RvciA9PT0gJ2Z1bmN0aW9uJyAmJiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oY3RvciwgQV9GZWF0dXJlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX0NhbGxlclxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjdG9yIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0NhbGxlckNvbnN0cnVjdG9yKGN0b3I6IGFueSk6IGN0b3IgaXMgQV9UWVBFU19fQ2FsbGVyX0NvbnN0cnVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nICYmIEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBBX0NhbGxlcik7XG4gICAgfVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBJbnN0YW5jZSB0eXBlIGd1YXJkc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBpbnN0YW5jZSBpcyBvZiB0eXBlIEFfQ29udGFpbmVyXG4gICAgICogXG4gICAgICogQHBhcmFtIGluc3RhbmNlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0NvbnRhaW5lckluc3RhbmNlKGluc3RhbmNlOiBhbnkpOiBpbnN0YW5jZSBpcyBBX0NvbnRhaW5lciB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSBpbnN0YW5jZW9mIEFfQ29udGFpbmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBpbnN0YW5jZSBpcyBvZiB0eXBlIEFfQ29tcG9uZW50XG4gICAgICogXG4gICAgICogQHBhcmFtIGluc3RhbmNlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0NvbXBvbmVudEluc3RhbmNlKGluc3RhbmNlOiBhbnkpOiBpbnN0YW5jZSBpcyBBX0NvbXBvbmVudCB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSBpbnN0YW5jZW9mIEFfQ29tcG9uZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9GZWF0dXJlXG4gICAgICogXG4gICAgICogQHBhcmFtIGluc3RhbmNlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0ZlYXR1cmVJbnN0YW5jZShpbnN0YW5jZTogYW55KTogaW5zdGFuY2UgaXMgQV9GZWF0dXJlIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9GZWF0dXJlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBpbnN0YW5jZSBpcyBvZiB0eXBlIEFfRnJhZ21lbnRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRnJhZ21lbnRJbnN0YW5jZShpbnN0YW5jZTogYW55KTogaW5zdGFuY2UgaXMgQV9GcmFnbWVudCB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSBpbnN0YW5jZW9mIEFfRnJhZ21lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9FbnRpdHlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRW50aXR5SW5zdGFuY2UoaW5zdGFuY2U6IGFueSk6IGluc3RhbmNlIGlzIEFfRW50aXR5IHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9FbnRpdHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9TY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNTY29wZUluc3RhbmNlKGluc3RhbmNlOiBhbnkpOiBpbnN0YW5jZSBpcyBBX1Njb3BlIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9TY29wZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgaW5zdGFuY2UgaXMgb2YgdHlwZSBBX0Vycm9yXG4gICAgICogXG4gICAgICogQHBhcmFtIGluc3RhbmNlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0Vycm9ySW5zdGFuY2UoaW5zdGFuY2U6IGFueSk6IGluc3RhbmNlIGlzIEFfRXJyb3Ige1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBBX0Vycm9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBpbnN0YW5jZSBpcyBvZiB0eXBlIEFfQ29tcG9uZW50TWV0YVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNDb21wb25lbnRNZXRhSW5zdGFuY2UoaW5zdGFuY2U6IGFueSk6IGluc3RhbmNlIGlzIEFfQ29tcG9uZW50TWV0YSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSBpbnN0YW5jZW9mIEFfQ29tcG9uZW50TWV0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgaW5zdGFuY2UgaXMgb2YgdHlwZSBBX0NvbnRhaW5lck1ldGFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQ29udGFpbmVyTWV0YUluc3RhbmNlKGluc3RhbmNlOiBhbnkpOiBpbnN0YW5jZSBpcyBBX0NvbnRhaW5lck1ldGEge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBBX0NvbnRhaW5lck1ldGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9FbnRpdHlNZXRhXG4gICAgICogXG4gICAgICogQHBhcmFtIGluc3RhbmNlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0VudGl0eU1ldGFJbnN0YW5jZShpbnN0YW5jZTogYW55KTogaW5zdGFuY2UgaXMgQV9FbnRpdHlNZXRhIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9FbnRpdHlNZXRhO1xuICAgIH1cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT0gU1BFQ0lBTCBUeXBlIEd1YXJkcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIHN0YXRpYyBpc0NvbnN0cnVjdG9yQWxsb3dlZEZvclNjb3BlQWxsb2NhdGlvbih0YXJnZXQ6IGFueSk6IHRhcmdldCBpcyBBX1RZUEVTX19TY29wZUxpbmtlZENvbnN0cnVjdG9ycyB7XG4gICAgICAgIHJldHVybiBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJDb25zdHJ1Y3Rvcih0YXJnZXQpXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNGZWF0dXJlQ29uc3RydWN0b3IodGFyZ2V0KTtcbiAgICB9XG4gICAgc3RhdGljIGlzSW5zdGFuY2VBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uKHRhcmdldDogYW55KTogdGFyZ2V0IGlzIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyB7XG4gICAgICAgIHJldHVybiBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNGZWF0dXJlSW5zdGFuY2UodGFyZ2V0KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNDb25zdHJ1Y3RvckF2YWlsYWJsZUZvckFic3RyYWN0aW9uKHRhcmdldDogYW55KTogdGFyZ2V0IGlzIEFfVFlQRVNfX0Fic3RyYWN0aW9uQXZhaWxhYmxlQ29tcG9uZW50cyB7XG4gICAgICAgIHJldHVybiBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZSh0YXJnZXQpO1xuICAgIH1cblxuXG4gICAgc3RhdGljIGlzVGFyZ2V0QXZhaWxhYmxlRm9ySW5qZWN0aW9uKHRhcmdldDogYW55KTogdGFyZ2V0IGlzIEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHRhcmdldClcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldClcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHRhcmdldClcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0VudGl0eUluc3RhbmNlKHRhcmdldClcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNBbGxvd2VkRm9yRmVhdHVyZUNhbGwocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzQWxsb3dlZEZvckZlYXR1cmVEZWZpbml0aW9uKHBhcmFtOiBhbnkpOiBwYXJhbSBpcyBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyB7XG4gICAgICAgIHJldHVybiBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UocGFyYW0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc0FsbG93ZWRGb3JGZWF0dXJlRXh0ZW5zaW9uKHBhcmFtOiBhbnkpOiBwYXJhbSBpcyBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yVGFyZ2V0IHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzQWxsb3dlZEZvckFic3RyYWN0aW9uRGVmaW5pdGlvbihwYXJhbTogYW55KTogcGFyYW0gaXMgQV9UWVBFU19fQWJzdHJhY3Rpb25BdmFpbGFibGVDb21wb25lbnRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UocGFyYW0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc0FsbG93ZWRGb3JEZXBlbmRlbmN5RGVmYXVsdENyZWF0aW9uKHBhcmFtOiBhbnkpOiBwYXJhbSBpcyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3IgfCBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3Ige1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IocGFyYW0pXG4gICAgICAgICAgICB8fCBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20ocGFyYW0sIEFfQ29tcG9uZW50KVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzRW50aXR5Q29uc3RydWN0b3IocGFyYW0pXG4gICAgICAgICAgICB8fCBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20ocGFyYW0sIEFfRW50aXR5KVxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGNoZWNrIGlmIHRoZSBwcm92aWRlZCBwYXJhbSBpcyBvZiBjb25zdHJ1Y3RvciB0eXBlLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNFcnJvckNvbnN0cnVjdG9yVHlwZTxUIGV4dGVuZHMgQV9UWVBFU19fRXJyb3JfSW5pdD4ocGFyYW06IGFueSk6IHBhcmFtIGlzIFQge1xuICAgICAgICByZXR1cm4gISFwYXJhbSAmJiBBX1R5cGVHdWFyZHMuaXNPYmplY3QocGFyYW0pICYmICEocGFyYW0gaW5zdGFuY2VvZiBFcnJvcikgJiYgXCJ0aXRsZVwiIGluIHBhcmFtO1xuICAgIH1cblxuXG4gICAgc3RhdGljIGlzRXJyb3JTZXJpYWxpemVkVHlwZTxUIGV4dGVuZHMgQV9UWVBFU19fRXJyb3JfU2VyaWFsaXplZD4ocGFyYW06IGFueSk6IHBhcmFtIGlzIFQge1xuICAgICAgICByZXR1cm4gISFwYXJhbSAmJiBBX1R5cGVHdWFyZHMuaXNPYmplY3QocGFyYW0pICYmICEocGFyYW0gaW5zdGFuY2VvZiBFcnJvcikgJiYgXCJhc2VpZFwiIGluIHBhcmFtICYmIEFTRUlELmlzQVNFSUQocGFyYW0uYXNlaWQpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcbmltcG9ydCB7IEFfU3RhZ2UgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlRXJyb3JfSW5pdCB9IGZyb20gXCIuL0EtRmVhdHVyZS50eXBlc1wiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfRmVhdHVyZUVycm9yIGV4dGVuZHMgQV9FcnJvcjxBX1RZUEVTX19GZWF0dXJlRXJyb3JfSW5pdD4ge1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlIEZlYXR1cmUgaGFzIGJlZW4gaW50ZXJydXB0ZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgSW50ZXJydXB0aW9uID0gJ0ZlYXR1cmUgSW50ZXJydXB0ZWQnO1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGF0IHRoZXJlIHdhcyBhbiBlcnJvciBpbml0aWFsaXppbmcgdGhlIEZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBGYWlsZWQgZHVyaW5nIHRoZSBBLUZlYXR1cmUgaW5pdGlhbGl6YXRpb24gcHJvY2Vzc1xuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBGZWF0dXJlSW5pdGlhbGl6YXRpb25FcnJvciA9ICdVbmFibGUgdG8gaW5pdGlhbGl6ZSBBLUZlYXR1cmUnO1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGF0IHRoZXJlIHdhcyBhbiBlcnJvciBwcm9jZXNzaW5nIHRoZSBGZWF0dXJlXG4gICAgICogXG4gICAgICogRmFpbGVkIGR1cmluZyB0aGUgQS1GZWF0dXJlIHByb2Nlc3NpbmdcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgRmVhdHVyZVByb2Nlc3NpbmdFcnJvciA9ICdFcnJvciBvY2N1cnJlZCBkdXJpbmcgQS1GZWF0dXJlIHByb2Nlc3NpbmcnO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIERlY29yYXRvciBFcnJvcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGF0IHRoZXJlIHdhcyBhbiBlcnJvciBkZWZpbmluZyB0aGUgRmVhdHVyZVxuICAgICAqIFxuICAgICAqIEZhaWxlZCBkdXJpbmcgdGhlIEBBX0ZlYXR1cmUuRGVmaW5lKCkgZGVjb3JhdG9yIGV4ZWN1dGlvblxuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBGZWF0dXJlRGVmaW5pdGlvbkVycm9yID0gJ1VuYWJsZSB0byBkZWZpbmUgQS1GZWF0dXJlJztcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGVyZSB3YXMgYW4gZXJyb3IgZXh0ZW5kaW5nIHRoZSBGZWF0dXJlXG4gICAgICogXG4gICAgICogRmFpbGVkIGR1cmluZyB0aGUgQEFfRmVhdHVyZS5FeHRlbmQoKSBkZWNvcmF0b3IgZXhlY3V0aW9uXG4gICAgICovXG4gICAgc3RhdGljIHJlYWRvbmx5IEZlYXR1cmVFeHRlbnNpb25FcnJvciA9ICdVbmFibGUgdG8gZXh0ZW5kIEEtRmVhdHVyZSc7XG5cbiAgICBcbiAgICAvKipcbiAgICAgKiBTdGFnZSB3aGVyZSB0aGUgZXJyb3Igb2NjdXJyZWRcbiAgICAgKi9cbiAgICBzdGFnZT86IEFfU3RhZ2VcblxuXG4gICAgcHJvdGVjdGVkIGZyb21Db25zdHJ1Y3RvcihwYXJhbXM6IEFfVFlQRVNfX0ZlYXR1cmVFcnJvcl9Jbml0KTogdm9pZCB7XG4gICAgICAgIHN1cGVyLmZyb21Db25zdHJ1Y3RvcihwYXJhbXMpO1xuXG4gICAgICAgIHRoaXMuc3RhZ2UgPSBwYXJhbXMuc3RhZ2U7XG4gICAgfVxufSIsICJpbXBvcnQge1xuICAgIEFfVFlQRVNfX0ZlYXR1cmVEZWZpbmVEZWNvcmF0b3JDb25maWcsXG4gICAgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvckRlc2NyaXB0b3IsXG4gICAgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGEsXG4gICAgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvclRhcmdldFxufSBmcm9tIFwiLi9BLUZlYXR1cmUudHlwZXNcIjtcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0VudGl0eU1ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1FbnRpdHkvQS1FbnRpdHkubWV0YVwiO1xuaW1wb3J0IHsgQV9Db250YWluZXJNZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLm1ldGFcIjtcbmltcG9ydCB7IEFfQ29tcG9uZW50TWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5tZXRhXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5TWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX0ZlYXR1cmVFcnJvciB9IGZyb20gXCIuL0EtRmVhdHVyZS5lcnJvclwiO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlclwiO1xuXG4vKipcbiAqIEEtRmVhdHVyZSBkZWNvcmF0b3JcbiAqIFxuICogVGhpcyBkZWNvcmF0b3IgYWxsb3dzIHRvIGRlZmluZSBhIGN1c3RvbSBsaWZlY3ljbGUgc3RhZ2UgZm9yIHRoZSBDb250YWluZXIuXG4gKiBUaGVzZSBzdGFnZXMgYXJlIGV4ZWN1dGVkIGluIGEgY29udGFpbmVyLXNwZWNpZmljIG9yZGVyIGFuZCBjYW4gYmUgZXh0ZW5kZWQgYnkgY29tcG9uZW50cyB0aGF0IGFyZSBpbmplY3RlZCBpbnRvIHRoZSBjb250YWluZXIuXG4gKiBUaGlzIGFwcHJvYWNoIGFsbG93cyB0byBjcmVhdGUgYSBmbGV4aWJsZSBhbmQgZXh0ZW5kYWJsZSBhcmNoaXRlY3R1cmUgZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAqIFxuICogVGhlIG1haW4gZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBBLUZlYXR1cmUgYW5kIEEtRmVhdHVyZSBkZWNvcmF0b3JzIGlzIHRoYXQgQS1GZWF0dXJlIG1ldGhvZHMgY2FuIGJlIGluaGVyaXRlZCBhbmQgb3ZlcnJpZGRlbiBieSBjaGlsZCBjbGFzc2VzLlxuICogXG4gKiBcbiAqIEBwYXJhbSBwYXJhbXMgXG4gKiBAcmV0dXJucyBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfRmVhdHVyZV9EZWZpbmUoXG4gICAgY29uZmlnOiBQYXJ0aWFsPEFfVFlQRVNfX0ZlYXR1cmVEZWZpbmVEZWNvcmF0b3JDb25maWc+ID0ge31cbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICAgIHRhcmdldDogQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvclRhcmdldCxcbiAgICAgICAgcHJvcGVydHlLZXk6IHN0cmluZyxcbiAgICAgICAgZGVzY3JpcHRvcjogQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvckRlc2NyaXB0b3JcbiAgICApIHtcbiAgICAgICAgLy8gZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHRhcmdldClcblxuXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckZlYXR1cmVEZWZpbml0aW9uKHRhcmdldCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9GZWF0dXJlRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9GZWF0dXJlRXJyb3IuRmVhdHVyZURlZmluaXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgQS1GZWF0dXJlIGNhbm5vdCBiZSBkZWZpbmVkIG9uIHRoZSAke2NvbXBvbmVudE5hbWV9IGxldmVsYFxuICAgICAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBtZXRhOiBBX0VudGl0eU1ldGEgfCBBX0NvbnRhaW5lck1ldGEgfCBBX0NvbXBvbmVudE1ldGEgPSBBX0NvbnRleHQubWV0YSh0YXJnZXQuY29uc3RydWN0b3IgYXMgYW55KTtcblxuICAgICAgICBsZXQgbWV0YUtleTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fRW50aXR5TWV0YUtleS5GRUFUVVJFUztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleS5GRUFUVVJFU1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LkZFQVRVUkVTXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIEdldCB0aGUgZXhpc3RlZCBtZXRhZGF0YSBvciBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIGNvbnN0IGV4aXN0ZWRNZXRhOiBBX01ldGE8e1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXaGVyZSBLZXkgaXMgdGhlIG5hbWUgb2YgdGhlIGZlYXR1cmVcbiAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICogV2hlcmUgdmFsdWUgaXMgdGhlIGxpc3Qgb2YgZmVhdHVyZXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgW0tleTogc3RyaW5nXTogQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGFcbiAgICAgICAgfT4gPSBtZXRhLmdldChtZXRhS2V5KSB8fCBuZXcgQV9NZXRhKCk7XG5cblxuICAgICAgICBjb25zdCBuYW1lID0gY29uZmlnLm5hbWUgfHwgcHJvcGVydHlLZXk7XG4gICAgICAgIC8vICBkZWZhdWx0IHRvIGZhbHNlXG4gICAgICAgIGNvbnN0IGludm9rZSA9IGNvbmZpZy5pbnZva2UgfHwgZmFsc2U7XG5cblxuICAgICAgICAvLyBTZXQgdGhlIG1ldGFkYXRhIG9mIHRoZSBtZXRob2QgdG8gZGVmaW5lIGEgY3VzdG9tIEZlYXR1cmUgd2l0aCBuYW1lIFxuICAgICAgICBleGlzdGVkTWV0YS5zZXQocHJvcGVydHlLZXksIHtcbiAgICAgICAgICAgIG5hbWU6IGAke3RhcmdldC5jb25zdHJ1Y3Rvci5uYW1lfS4ke25hbWV9YCxcbiAgICAgICAgICAgIGhhbmRsZXI6IHByb3BlcnR5S2V5LFxuICAgICAgICAgICAgaW52b2tlOiBpbnZva2UsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogY29uZmlnLnRlbXBsYXRlICYmIGNvbmZpZy50ZW1wbGF0ZS5sZW5ndGggPyBjb25maWcudGVtcGxhdGUubWFwKFxuICAgICAgICAgICAgICAgIGl0ZW0gPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBpdGVtLmJlZm9yZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IGl0ZW0uYWZ0ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIGJlaGF2aW9yOiBpdGVtLmJlaGF2aW9yIHx8ICdzeW5jJyxcbiAgICAgICAgICAgICAgICAgICAgdGhyb3dPbkVycm9yOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBvdmVycmlkZTogaXRlbS5vdmVycmlkZSB8fCAnJ1xuXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICkgOiBbXSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gIFVwZGF0ZSB0aGUgbWV0YWRhdGEgb2YgdGhlIGNvbnRhaW5lciB3aXRoIHRoZSBuZXcgRmVhdHVyZSBkZWZpbml0aW9uXG4gICAgICAgIEFfQ29udGV4dFxuICAgICAgICAgICAgLm1ldGEodGFyZ2V0LmNvbnN0cnVjdG9yIGFzIGFueSlcbiAgICAgICAgICAgIC5zZXQoXG4gICAgICAgICAgICAgICAgbWV0YUtleSxcbiAgICAgICAgICAgICAgICBleGlzdGVkTWV0YVxuICAgICAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBvcmlnaW5hbE1ldGhvZCA9IGRlc2NyaXB0b3IudmFsdWUhO1xuXG4gICAgICAgIC8vIFdyYXAgdGhlIG9yaWdpbmFsIG1ldGhvZCB0byBhZGQgdGhlIGNhbGwgdG8gYGNhbGxgXG4gICAgICAgIC8vIHRoaXMgaGVscHMgdG8gYXV0b21hdGljYWxseSBjYWxsIHRoZSBjb250YWluZXIvZW50aXR5L2NvbXBvbmVudCBtZXRob2Qgd2hlbiBpdCdzIGNhbGxlZFxuICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueVtdKSB7XG5cbiAgICAgICAgICAgIC8vIENhbGwgdGhlIG9yaWdpbmFsIG1ldGhvZFxuICAgICAgICAgICAgaWYgKCFpbnZva2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsTWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG9yaWdpbmFsTWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXG4gICAgICAgICAgICAvLyBDYWxsIHlvdXIgYGNhbGxgIHdpdGggdGhlIGZ1bmN0aW9uIG5hbWVcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKHRoaXMgYXMgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvclRhcmdldCkuY2FsbCA9PT0gXCJmdW5jdGlvblwiICYmIGludm9rZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMgYXMgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvclRhcmdldCkuY2FsbChuYW1lKTtcblxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgIH07XG59IiwgImltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvckNvbmZpZywgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvckRlc2NyaXB0b3IsIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JTY29wZUl0ZW0sIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JUYXJnZXQgfSBmcm9tIFwiLi9BLUZlYXR1cmUudHlwZXNcIjtcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfRmVhdHVyZUVycm9yIH0gZnJvbSBcIi4vQS1GZWF0dXJlLmVycm9yXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19FbnRpdHlNZXRhS2V5IH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSB9IGZyb20gXCIuLi9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfQ29udGFpbmVyIH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNsYXNzXCI7XG5cblxuXG5cbi8qKlxuICogQS1FeHRlbmQgZGVjb3JhdG9yXG4gKiBcbiAqIFRoaXMgZGVjb3JhdG9yIGFsbG93cyB0byBkZWZpbmUgYSBjdXN0b20gRXh0ZW5kIHN0YWdlIGZvciB0aGUgQ29udGFpbmVyLlxuICogVGhlc2Ugc3RhZ2VzIGFyZSBleGVjdXRlZCBpbiBhIGNvbnRhaW5lci1zcGVjaWZpYyBvcmRlciBhbmQgY2FuIGJlIGV4dGVuZGVkIGJ5IGNvbXBvbmVudHMgdGhhdCBhcmUgaW5qZWN0ZWQgaW50byB0aGUgY29udGFpbmVyLlxuICogVGhpcyBhcHByb2FjaCBhbGxvd3MgdG8gY3JlYXRlIGEgZmxleGlibGUgYW5kIGV4dGVuZGFibGUgYXJjaGl0ZWN0dXJlIGZvciB0aGUgYXBwbGljYXRpb24uXG4gKiBcbiAqIFRoZSBtYWluIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgQS1FeHRlbmQgYW5kIEEtRXh0ZW5kIGRlY29yYXRvcnMgaXMgdGhhdCBBLUV4dGVuZCBtZXRob2RzIGNhbiBiZSBpbmhlcml0ZWQgYW5kIG92ZXJyaWRkZW4gYnkgY2hpbGQgY2xhc3Nlcy5cbiAqIFxuICogXG4gKiBAcGFyYW0gcGFyYW1zIFxuICogQHJldHVybnMgXG4gKi9cbi8qKlxuICogVXNlIHJlZ2V4cCBpbiBjYXNlIGlmIHlvdSBuZWVkIG1vcmUgZmxleGliaWxpdHkgYW5kIGNvbnRyb2wgb3ZlciB0aGUgbmFtZSBvZiB0aGUgbWV0aG9kXG4gKiBcbiAqIEBwYXJhbSByZWdleHAgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBX0ZlYXR1cmVfRXh0ZW5kKFxuICAgIC8qKlxuICAgICAqIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggdGhlIG5hbWUgb2YgdGhlIEZlYXR1cmUgbWV0aG9kIHRvIGJlIGV4dGVuZGVkXG4gICAgICogXG4gICAgICogRXhhbXBsZTpcbiAgICAgKiBcbiAgICAgKiBgYGB0c1xuICAgICAqICBAQV9GZWF0dXJlLkV4dGVuZCgvLipcXC5sb2FkLylcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICByZWdleHA6IFJlZ0V4cFxuKVxuLyoqXG4gKiBJbiB0aGlzIGNhc2UgdGhlIG5hbWUgY29uZmlndXJhdGlvbnMgd2lsbCBiZSB1c2VkIGFzIGFuIGlucHV0IHRvIGdldCBzY29wZSBhbmQgbmFtZSBvZiB0YXJnZXQgZnVuY3Rpb25cbiAqIFshXSBOb3QgdGhhdCBmb3IgYWxsIFNDT1BFIHdpbGwgYmUgdXNlZCBPUiBvcGVyYXRvclxuICogXG4gKiBAcGFyYW0gY29uZmlnIFxuICovXG5leHBvcnQgZnVuY3Rpb24gQV9GZWF0dXJlX0V4dGVuZChcbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGZvciB0aGUgQS1GZWF0dXJlLUV4dGVuZCBkZWNvcmF0b3JcbiAgICAgKi9cbiAgICBjb25maWc6IFBhcnRpYWw8QV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvckNvbmZpZz5cbilcbi8qKlxuICogSW4gdGhpcyBjYXNlIHRoZSBuYW1lIG9mIGZ1bmN0aW9uIHdpbGwgYmUgdXNlZCBhcyBhIG5hbWUgb2YgdGhlIEZlYXR1cmUuXG4gKiBbIV0gQU5EIGl0IHdpbGwgYmUgYXBwbGljYWJsZSBmb3IgQU5ZIGVsZW1lbnQgd2hlcmUgdGhlIG5hbWUgaXMgdGhlIHNhbWUgYXMgdGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBX0ZlYXR1cmVfRXh0ZW5kKClcbmV4cG9ydCBmdW5jdGlvbiBBX0ZlYXR1cmVfRXh0ZW5kKFxuICAgIHBhcmFtMT86IFBhcnRpYWw8QV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvckNvbmZpZz4gfCBSZWdFeHBcbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICAgIHRhcmdldDogQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclRhcmdldCxcbiAgICAgICAgcHJvcGVydHlLZXk6IHN0cmluZyxcbiAgICAgICAgZGVzY3JpcHRvcjogQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvckRlc2NyaXB0b3JcbiAgICApIHtcbiAgICAgICAgLy8gZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHRhcmdldClcblxuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc0FsbG93ZWRGb3JGZWF0dXJlRXh0ZW5zaW9uKHRhcmdldCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9GZWF0dXJlRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9GZWF0dXJlRXJyb3IuRmVhdHVyZUV4dGVuc2lvbkVycm9yLFxuICAgICAgICAgICAgICAgIGBBLUZlYXR1cmUtRXh0ZW5kIGNhbm5vdCBiZSBhcHBsaWVkIG9uIHRoZSAke2NvbXBvbmVudE5hbWV9IGxldmVsYFxuICAgICAgICAgICAgKTtcblxuICAgICAgICBsZXQgdGFyZ2V0UmVnZXhwOiBSZWdFeHA7XG4gICAgICAgIGxldCBiZWhhdmlvcjogJ3N5bmMnIHwgJ2FzeW5jJyA9ICdzeW5jJztcbiAgICAgICAgbGV0IGJlZm9yZTogc3RyaW5nID0gJyc7XG4gICAgICAgIGxldCBhZnRlcjogc3RyaW5nID0gJyc7XG4gICAgICAgIGxldCBvdmVycmlkZTogc3RyaW5nID0gJyc7XG4gICAgICAgIGxldCBpbmNsdWRlOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yU2NvcGVJdGVtPiA9IFtdO1xuICAgICAgICBsZXQgZXhjbHVkZTogQXJyYXk8QV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclNjb3BlSXRlbT4gPSBbXTtcbiAgICAgICAgbGV0IHRocm93T25FcnJvcjogYm9vbGVhbiA9IHRydWU7XG4gICAgICAgIGxldCBtZXRhS2V5O1xuXG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0VudGl0eUluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0VudGl0eU1ldGFLZXkuRVhURU5TSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleS5FWFRFTlNJT05TXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuRVhURU5TSU9OU1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzUmVnRXhwKHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgdGFyZ2V0UmVnZXhwID0gcGFyYW0xO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICEhcGFyYW0xICYmIHR5cGVvZiBwYXJhbTEgPT09ICdvYmplY3QnOlxuXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyYW0xLnNjb3BlKSlcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVkZSA9IHBhcmFtMS5zY29wZTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghIXBhcmFtMS5zY29wZSAmJiB0eXBlb2YgcGFyYW0xLnNjb3BlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJhbTEuc2NvcGUuaW5jbHVkZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlID0gcGFyYW0xLnNjb3BlLmluY2x1ZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmFtMS5zY29wZS5leGNsdWRlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2x1ZGUgPSBwYXJhbTEuc2NvcGUuZXhjbHVkZTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIHRhcmdldFJlZ2V4cCA9IGJ1aWxkVGFyZ2V0UmVnZXhwKHBhcmFtMSwgaW5jbHVkZSwgZXhjbHVkZSwgcHJvcGVydHlLZXkpO1xuXG4gICAgICAgICAgICAgICAgYmVoYXZpb3IgPSBwYXJhbTEuYmVoYXZpb3IgfHwgYmVoYXZpb3I7XG4gICAgICAgICAgICAgICAgdGhyb3dPbkVycm9yID0gcGFyYW0xLnRocm93T25FcnJvciAhPT0gdW5kZWZpbmVkID8gcGFyYW0xLnRocm93T25FcnJvciA6IHRocm93T25FcnJvcjtcblxuICAgICAgICAgICAgICAgIGJlZm9yZSA9IEFfVHlwZUd1YXJkcy5pc0FycmF5KHBhcmFtMS5iZWZvcmUpXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IFJlZ0V4cChgXiR7cGFyYW0xLmJlZm9yZS5qb2luKCd8JykucmVwbGFjZSgvXFwuL2csICdcXFxcLicpfSRgKS5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgOiBwYXJhbTEuYmVmb3JlIGluc3RhbmNlb2YgUmVnRXhwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBhcmFtMS5iZWZvcmUuc291cmNlXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICAgICAgYWZ0ZXIgPSBBX1R5cGVHdWFyZHMuaXNBcnJheShwYXJhbTEuYWZ0ZXIpXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IFJlZ0V4cChgXiR7cGFyYW0xLmFmdGVyLmpvaW4oJ3wnKS5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJyl9JGApLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICA6IHBhcmFtMS5hZnRlciBpbnN0YW5jZW9mIFJlZ0V4cFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJhbTEuYWZ0ZXIuc291cmNlXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICcnXG5cbiAgICAgICAgICAgICAgICBvdmVycmlkZSA9IEFfVHlwZUd1YXJkcy5pc0FycmF5KHBhcmFtMS5vdmVycmlkZSlcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgUmVnRXhwKGBeJHtwYXJhbTEub3ZlcnJpZGUuam9pbignfCcpLnJlcGxhY2UoL1xcLi9nLCAnXFxcXC4nKX0kYCkuc291cmNlXG4gICAgICAgICAgICAgICAgICAgIDogcGFyYW0xLm92ZXJyaWRlIGluc3RhbmNlb2YgUmVnRXhwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBhcmFtMS5vdmVycmlkZS5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0YXJnZXRSZWdleHAgPSBuZXcgUmVnRXhwKGBeLioke3Byb3BlcnR5S2V5LnJlcGxhY2UoL1xcLi9nLCAnXFxcXC4nKX0kYCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuXG5cblxuXG4gICAgICAgIGNvbnN0IGV4aXN0ZWREZWZpbml0aW9ucyA9IEFfQ29udGV4dFxuICAgICAgICAgICAgLm1ldGEodGFyZ2V0KVxuICAgICAgICAgICAgLmdldChtZXRhS2V5KTtcblxuXG4gICAgICAgIC8vIEdldCB0aGUgZXhpc3RlZCBtZXRhZGF0YSBvciBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIGNvbnN0IG1ldGEgPSBBX0NvbnRleHRcbiAgICAgICAgICAgIC5tZXRhKHRhcmdldClcblxuICAgICAgICBjb25zdCBleGlzdGVkTWV0YSA9IG1ldGEuZ2V0KG1ldGFLZXkpXG4gICAgICAgICAgICA/IG5ldyBBX01ldGEoKS5mcm9tKG1ldGEuZ2V0KG1ldGFLZXkpISlcbiAgICAgICAgICAgIDogbmV3IEFfTWV0YSgpO1xuXG4gICAgICAgIGlmIChleGlzdGVkRGVmaW5pdGlvbnNcbiAgICAgICAgICAgICYmIGV4aXN0ZWREZWZpbml0aW9ucy5zaXplKClcbiAgICAgICAgICAgICYmIGV4aXN0ZWREZWZpbml0aW9ucy5oYXMocHJvcGVydHlLZXkpXG4gICAgICAgICAgICAmJiBleGlzdGVkRGVmaW5pdGlvbnMuZ2V0KHByb3BlcnR5S2V5KSEuaW52b2tlXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfRmVhdHVyZUVycm9yKFxuICAgICAgICAgICAgICAgIEFfRmVhdHVyZUVycm9yLkZlYXR1cmVFeHRlbnNpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgQS1GZWF0dXJlLUV4dGVuZCBjYW5ub3QgYmUgdXNlZCBvbiB0aGUgbWV0aG9kIFwiJHtwcm9wZXJ0eUtleX1cIiBiZWNhdXNlIGl0IGlzIGFscmVhZHkgZGVmaW5lZCBhcyBhIEZlYXR1cmUgd2l0aCBcImludm9rZVwiIHNldCB0byB0cnVlLiBQbGVhc2UgcmVtb3ZlIHRoZSBBLUZlYXR1cmUtRXh0ZW5kIGRlY29yYXRvciBvciBzZXQgXCJpbnZva2VcIiB0byBmYWxzZSBpbiB0aGUgQS1GZWF0dXJlIGRlY29yYXRvci5gXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGFWYWx1ZSA9IFtcbiAgICAgICAgICAgIC4uLihleGlzdGVkTWV0YS5nZXQodGFyZ2V0UmVnZXhwLnNvdXJjZSkgfHwgW10pXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgZXhpc3RlZEluZGV4ID0gZXhpc3RlZE1ldGFWYWx1ZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmhhbmRsZXIgPT09IHByb3BlcnR5S2V5KTtcblxuICAgICAgICBjb25zdCBleHRlbnNpb24gPSB7XG4gICAgICAgICAgICBuYW1lOiB0YXJnZXRSZWdleHAuc291cmNlLFxuICAgICAgICAgICAgaGFuZGxlcjogcHJvcGVydHlLZXksXG4gICAgICAgICAgICBiZWhhdmlvcixcbiAgICAgICAgICAgIGJlZm9yZSxcbiAgICAgICAgICAgIGFmdGVyLFxuICAgICAgICAgICAgdGhyb3dPbkVycm9yLFxuICAgICAgICAgICAgb3ZlcnJpZGVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChleGlzdGVkSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGV4aXN0aW5nIG1ldGhvZCBpbiB0aGUgbWV0YWRhdGFcbiAgICAgICAgICAgIGV4aXN0ZWRNZXRhVmFsdWVbZXhpc3RlZEluZGV4XSA9IGV4dGVuc2lvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgbmV3IG1ldGhvZCB0byB0aGUgbWV0YWRhdGFcbiAgICAgICAgICAgIGV4aXN0ZWRNZXRhVmFsdWUucHVzaChleHRlbnNpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgbWV0aG9kIHRvIHRoZSBtZXRhZGF0YVxuICAgICAgICBleGlzdGVkTWV0YVZhbHVlLnB1c2goKTtcblxuICAgICAgICAvLyBTZXQgdGhlIG1ldGFkYXRhIG9mIHRoZSBtZXRob2QgdG8gZGVmaW5lIGEgY3VzdG9tIEZlYXR1cmUgd2l0aCBuYW1lXG4gICAgICAgIGV4aXN0ZWRNZXRhLnNldCh0YXJnZXRSZWdleHAuc291cmNlLCBleGlzdGVkTWV0YVZhbHVlKTtcblxuICAgICAgICAvLyAgVXBkYXRlIHRoZSBtZXRhZGF0YSBvZiB0aGUgY29udGFpbmVyIHdpdGggdGhlIG5ldyBGZWF0dXJlIGRlZmluaXRpb25cbiAgICAgICAgQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQpXG4gICAgICAgICAgICAuc2V0KG1ldGFLZXksIGV4aXN0ZWRNZXRhKTtcbiAgICB9O1xufVxuXG5cbi8qKlxuICogQnVpbGRzIGEgdGFyZ2V0IHJlZ3VsYXIgZXhwcmVzc2lvbiBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgcGFyYW1ldGVycy5cbiAqIFxuICogQHBhcmFtIHBhcmFtMSAtIFRoZSBmaXJzdCBwYXJhbWV0ZXIsIHdoaWNoIGNhbiBiZSBhIHN0cmluZyBvciBhbiBvYmplY3QuXG4gKiBAcGFyYW0gaW5jbHVkZSAtIEFuIGFycmF5IG9mIGl0ZW1zIHRvIGluY2x1ZGUgaW4gdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAqIEBwYXJhbSBleGNsdWRlIC0gQW4gYXJyYXkgb2YgaXRlbXMgdG8gZXhjbHVkZSBmcm9tIHRoZSByZWd1bGFyIGV4cHJlc3Npb24uXG4gKiBAcGFyYW0gcHJvcGVydHlLZXkgLSBUaGUgcHJvcGVydHkga2V5IHRvIHVzZSBpbiB0aGUgcmVndWxhciBleHByZXNzaW9uLlxuICogQHJldHVybnMgQSByZWd1bGFyIGV4cHJlc3Npb24gb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRUYXJnZXRSZWdleHAoXG4gICAgcGFyYW0xOiBhbnksXG4gICAgaW5jbHVkZTogYW55W10sXG4gICAgZXhjbHVkZTogYW55W10sXG4gICAgcHJvcGVydHlLZXk6IHN0cmluZ1xuKSB7XG4gICAgY29uc3QgaW5jbHVkZVBhcnQgPSBpbmNsdWRlLmxlbmd0aFxuICAgICAgICA/IGAoJHtpbmNsdWRlLm1hcChlbCA9PiBlbC5uYW1lKS5qb2luKCd8Jyl9KWBcbiAgICAgICAgOiBgLipgO1xuXG4gICAgY29uc3QgZXhjbHVkZVBhcnQgPSBleGNsdWRlLmxlbmd0aFxuICAgICAgICA/IGAoPyEke2V4Y2x1ZGUubWFwKGVsID0+IGVsLm5hbWUpLmpvaW4oJ3wnKX0pYFxuICAgICAgICA6IGBgO1xuXG4gICAgY29uc3QgcGF0dGVybiA9IHBhcmFtMS5zY29wZVxuICAgICAgICA/IGBeJHtleGNsdWRlUGFydH0ke2luY2x1ZGVQYXJ0fVxcXFwuJHtwYXJhbTEubmFtZSB8fCBwcm9wZXJ0eUtleX0kYFxuICAgICAgICA6IGAuKlxcXFwuJHtwYXJhbTEubmFtZSB8fCBwcm9wZXJ0eUtleX0kYDtcblxuICAgIHJldHVybiBuZXcgUmVnRXhwKHBhdHRlcm4pO1xufSIsICJpbXBvcnQgeyBBX0NvbnRhaW5lciB9IGZyb20gXCIuLi9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jbGFzc1wiXG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQudHlwZXNcIlxuXG5cblxuZXhwb3J0IGVudW0gQV9UWVBFU19fQV9TdGFnZV9TdGF0dXMge1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGFnZSBpcyBjdXJyZW50bHkgYmVpbmcgcHJvY2Vzc2VkXG4gICAgICovXG4gICAgUFJPQ0VTU0lORyA9ICdQUk9DRVNTSU5HJyxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhZ2UgaGFzIGJlZW4gY29tcGxldGVkXG4gICAgICovXG4gICAgQ09NUExFVEVEID0gJ0NPTVBMRVRFRCcsXG4gICAgLyoqXG4gICAgICogVGhlIHN0YWdlIGhhcyBmYWlsZWRcbiAgICAgKi9cbiAgICBGQUlMRUQgPSAnRkFJTEVEJyxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhZ2UgaGFzIGJlZW4gc2tpcHBlZFxuICAgICAqL1xuICAgIFNLSVBQRUQgPSAnU0tJUFBFRCcsXG4gICAgLyoqXG4gICAgICogVGhlIHN0YWdlIGhhcyBiZWVuIHBhdXNlZFxuICAgICAqL1xuICAgIC8vIFBBVVNFRCA9ICdQQVVTRUQnLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGFnZSBoYXMgYmVlbiBzdG9wcGVkXG4gICAgICovXG4gICAgLy8gU1RPUFBFRCA9ICdTVE9QUEVEJyxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhZ2UgaGFzIGJlZW4gc3RhcnRlZFxuICAgICAqL1xuICAgIC8vIFNUQVJURUQgPSAnU1RBUlRFRCcsXG4gICAgLyoqXG4gICAgICogVGhlIHN0YWdlIGhhcyBiZWVuIGluaXRpYWxpemVkXG4gICAgICovXG4gICAgSU5JVElBTElaRUQgPSAnSU5JVElBTElaRUQnLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGFnZSBoYXMgYmVlbiBhYm9ydGVkXG4gICAgICovXG4gICAgQUJPUlRFRCA9ICdBQk9SVEVEJ1xufVxuXG5leHBvcnQgdHlwZSBBX1RZUEVTX1N0YWdlRXhlY3V0aW9uQmVoYXZpb3IgPSAnYXN5bmMnIHwgJ3N5bmMnXG5cblxuZXhwb3J0IHR5cGUgQV9UWVBFU19fQV9TdGFnZVN0ZXAgPSB7XG4gICAgLyoqXG4gICAgICogVGhlIGNvbXBvbmVudCB0byBiZSBjYWxsZWRcbiAgICAgKi9cbiAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB8IEFfQ29udGFpbmVyIHwgc3RyaW5nXG4gICAgLyoqXG4gICAgICogVGhlIG1ldGhvZCB0byBiZSBjYWxsZWQgb24gdGhlIGNvbXBvbmVudFxuICAgICAqL1xuICAgIGhhbmRsZXI6IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBPcmlnaW5hbCBGZWF0dXJlIEV4dGVuc2lvbiBuYW1lXG4gICAgICogXG4gICAgICogWyFdIGNvdWxkIGJlIHN0cmluZyBvciByZWdleFxuICAgICAqIFxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZyxcblxuICAgIC8qKlxuICAgICAqIEluIGNhc2UgaXRzIGFzeW5jIGl0IHdpbGwgYmUgZXhlY3V0ZWQgaW5kZXBlbmRlbnRseSBmcm9tIHRoZSBtYWluIHRocmVhZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSG93ZXZlciwgaW4gY2FzZSBvZiBzeW5jLCBpdCB3aWxsIGJlIGV4ZWN1dGVkIGluIHRoZSBtYWluIHRocmVhZC5pbiB0aGUgb3JkZXIgb2YgdGhlIGRlY2xhcmF0aW9uLlxuICAgICAqIFxuICAgICAqL1xuICAgIGJlaGF2aW9yOiBBX1RZUEVTX1N0YWdlRXhlY3V0aW9uQmVoYXZpb3JcblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIHRoZSBleGVjdXRpb24gb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSW4gY2FzZSB0aGUgbWV0aG9kIGhhcyBjaXJjdWxhciBkZXBlbmRlbmNpZXMgaXQgd2lsbCBUaHJvdyBhbiBlcnJvci5cbiAgICAgKiBcbiAgICAgKi9cbiAgICBiZWZvcmU6IHN0cmluZ1xuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgbWV0aG9kLlxuICAgICAqIFxuICAgICAqIFshXSBJbiBjYXNlIHRoZSBtZXRob2QgaGFzIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBpdCB3aWxsIFRocm93IGFuIGVycm9yLlxuICAgICAqIFxuICAgICAqL1xuICAgIGFmdGVyOiBzdHJpbmcsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0byB0aHJvdyBhbiBlcnJvciBpZiB0aGUgc3RlcCBmYWlscy5cbiAgICAgKiBcbiAgICAgKiBbIV0gQnkgZGVmYXVsdCBpcyB0cnVlXG4gICAgICovXG4gICAgdGhyb3dPbkVycm9yOiBib29sZWFuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKi9cbiAgICBvdmVycmlkZTogc3RyaW5nXG59XG5cblxuXG5leHBvcnQgdHlwZSBBX1RZUEVTX19TdGFnZV9TZXJpYWxpemVkID0ge1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHN0YWdlXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuXG4gICAgLyoqXG4gICAgICogIFRoZSBzdGF0dXMgb2YgdGhlIHN0YWdlXG4gICAgICogXG4gICAgICovXG4gICAgc3RhdHVzOiBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cyxcblxuXG59XG5cblxuXG5leHBvcnQgdHlwZSBBX1RZUEVTX19BX1N0YWdlU3RlcFByb2Nlc3NpbmdFeHRyYVBhcmFtcyA9IHtcbiAgICBzdGVwczogQV9UWVBFU19fQV9TdGFnZVN0ZXBbXVxuICAgIGZpbHRlcjogKHN0ZXA6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwKSA9PiBib29sZWFuXG59XG4iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcblxuXG5leHBvcnQgY2xhc3MgQV9TdGFnZUVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgQXJndW1lbnRzUmVzb2x1dGlvbkVycm9yID0gJ0EtU3RhZ2UgQXJndW1lbnRzIFJlc29sdXRpb24gRXJyb3InO1xuXG5cbiAgICBzdGF0aWMgZ2V0IENvbXBpbGVFcnJvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ1VuYWJsZSB0byBjb21waWxlIEEtU3RhZ2UnO1xuICAgIH1cblxufVxuIiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fQV9TdGFnZV9TdGF0dXMsXG4gICAgQV9UWVBFU19fQV9TdGFnZVN0ZXAsXG4gICAgQV9UWVBFU19fU3RhZ2VfU2VyaWFsaXplZFxufSBmcm9tIFwiLi9BLVN0YWdlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiLi4vQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9GZWF0dXJlIH0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUuY2xhc3NcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1N0YWdlRXJyb3IgfSBmcm9tIFwiLi9BLVN0YWdlLmVycm9yXCI7XG5pbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzIH0gZnJvbSBcIi4uL0EtU2NvcGUvQS1TY29wZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyX0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQudHlwZXNcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0NvbW1vbi5oZWxwZXJcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX1N0YWdlIHtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmZWF0dXJlIHRoYXQgb3ducyB0aGlzIHN0YWdlXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZmVhdHVyZSE6IEFfRmVhdHVyZTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsIEluc3RydWN0aW9ucyB0byBwcm9jZXNzIHRoZSBzdGFnZVxuICAgICAqL1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2RlZmluaXRpb24hOiBBX1RZUEVTX19BX1N0YWdlU3RlcDtcbiAgICAvKipcbiAgICAgKiBQb3NzaWJsZSBlcnJvcnMgZHVyaW5nIHN0YWdlIHByb2Nlc3NpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIF9lcnJvcj86IEFfRXJyb3I7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoZSBjdXJyZW50IHN0YXR1cyBvZiB0aGUgc3RhZ2VcbiAgICAgKi9cbiAgICBwcml2YXRlIF9zdGF0dXM6IEFfVFlQRVNfX0FfU3RhZ2VfU3RhdHVzID0gQV9UWVBFU19fQV9TdGFnZV9TdGF0dXMuSU5JVElBTElaRUQ7XG5cbiAgICAvKipcbiAgICAgKiBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoZSBzdGFnZSBpcyBQcm9jZXNzZWRcbiAgICAgKi9cbiAgICBwcml2YXRlIF9wcm9jZXNzZWQ6IFByb21pc2U8dm9pZD4gfCB1bmRlZmluZWQ7XG5cblxuICAgIC8qKlxuICAgICAqIEFfU3RhZ2UgaXMgYSBjYWxsYWJsZSBBX0Z1bmN0aW9uIHdpdGhpbiBBX0ZlYXR1cmUgdGhhdCBzaG91bGQgYmUgcnVuIHdpdGggc3BlY2lmaWMgcGFyYW1ldGVycy5cbiAgICAgKiBbIV0gRGVwZW5kaW5nIG9uIHRoZSBTdGFnZSBEZWZpbml0aW9uIHR5cGUgc3luYy9hc3luYyBmdW5jdGlvbiBjYW4gYmUgZXhlY3V0ZWQgY29ycmVzcG9uZGluZ2x5LlxuICAgICAqIFxuICAgICAqIEEtU3RhZ2UgaXMgYSBjb21tb24gb2JqZWN0IHRoYXQgdXNlcyB0byBzaW1wbGlmeSBsb2dpYyBhbmQgcmUtdXNlIG9mIEEtRmVhdHVyZSBpbnRlcm5hbHMgZm9yIGJldHRlciBjb21wb3NpdGlvbi4gXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZmVhdHVyZSB0aGF0IG93bnMgdGhpcyBzdGFnZVxuICAgICAgICAgKi9cbiAgICAgICAgZmVhdHVyZTogQV9GZWF0dXJlLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0ZXAgZGVmaW5pdGlvbnMgb2YgdGhlIHN0YWdlXG4gICAgICAgICAqL1xuICAgICAgICBzdGVwOiBBX1RZUEVTX19BX1N0YWdlU3RlcFxuICAgICkge1xuICAgICAgICB0aGlzLl9mZWF0dXJlID0gZmVhdHVyZTtcbiAgICAgICAgdGhpcy5fZGVmaW5pdGlvbiA9IHN0ZXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgc3RhZ2VcbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy50b1N0cmluZygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkZWZpbml0aW9uIG9mIHRoZSBzdGFnZVxuICAgICAqL1xuICAgIGdldCBkZWZpbml0aW9uKCk6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmluaXRpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSBzdGFnZVxuICAgICAqL1xuICAgIGdldCBzdGF0dXMoKTogQV9UWVBFU19fQV9TdGFnZV9TdGF0dXMge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBmZWF0dXJlIHRoYXQgb3ducyB0aGlzIHN0YWdlXG4gICAgICovXG4gICAgZ2V0IGZlYXR1cmUoKTogQV9GZWF0dXJlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZlYXR1cmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3RhZ2UgaXMgcHJvY2Vzc2VkIChjb21wbGV0ZWQsIGZhaWxlZCwgb3Igc2tpcHBlZClcbiAgICAgKi9cbiAgICBnZXQgaXNQcm9jZXNzZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXMgPT09IEFfVFlQRVNfX0FfU3RhZ2VfU3RhdHVzLkNPTVBMRVRFRFxuICAgICAgICAgICAgfHwgdGhpcy5fc3RhdHVzID09PSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5GQUlMRURcbiAgICAgICAgICAgIHx8IHRoaXMuX3N0YXR1cyA9PT0gQV9UWVBFU19fQV9TdGFnZV9TdGF0dXMuU0tJUFBFRDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZXJyb3Igb2YgdGhlIHN0YWdlXG4gICAgICovXG4gICAgZ2V0IGVycm9yKCk6IEFfRXJyb3IgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgdGhlIGFyZ3VtZW50cyBvZiB0aGUgc3RlcFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdGVwIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBnZXRTdGVwQXJncyhcbiAgICAgICAgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIHN0ZXA6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwXG4gICAgKSB7XG4gICAgICAgIGxldCByZXNvbHZlckNvbnN0cnVjdG9yOiBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3IgfCBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHN0ZXAuY29tcG9uZW50KTpcbiAgICAgICAgICAgICAgICByZXNvbHZlckNvbnN0cnVjdG9yID0gc3RlcC5jb21wb25lbnQuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fQ29udGFpbmVyX0NvbnN0cnVjdG9yO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1N0cmluZyhzdGVwLmNvbXBvbmVudCk6XG4gICAgICAgICAgICAgICAgcmVzb2x2ZXJDb25zdHJ1Y3RvciA9IHNjb3BlLnJlc29sdmVDb25zdHJ1Y3RvcihzdGVwLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmVzb2x2ZXJDb25zdHJ1Y3RvciA9IHN0ZXAuY29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cblxuICAgICAgICByZXR1cm4gUHJvbWlzZVxuICAgICAgICAgICAgLmFsbChBX0NvbnRleHRcbiAgICAgICAgICAgICAgICAubWV0YShyZXNvbHZlckNvbnN0cnVjdG9yKVxuICAgICAgICAgICAgICAgIC5pbmplY3Rpb25zKHN0ZXAuaGFuZGxlcilcbiAgICAgICAgICAgICAgICAubWFwKGFzeW5jIGFyZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDYWxsZXJDb25zdHJ1Y3RvcihhcmcudGFyZ2V0KTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZmVhdHVyZS5jYWxsZXIuY29tcG9uZW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0ZlYXR1cmVDb25zdHJ1Y3RvcihhcmcudGFyZ2V0KTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZmVhdHVyZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdGFyZ2V0LCByZXF1aXJlLCBjcmVhdGUsIGRlZmF1bHRBcmdzLCBwYXJlbnQsIGZsYXQgfSA9IGFyZztcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlcGVuZGVuY3k7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldFNjb3BlID0gc2NvcGU7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxKSBGbGF0IHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBmbGF0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gdGFyZ2V0U2NvcGUucmVzb2x2ZUZsYXQodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDIpIFBhcmVudCByZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgcGFyZW50ICYmIHR5cGVvZiBwYXJlbnQubGF5ZXJPZmZzZXQgPT09ICdudW1iZXInOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRQYXJlbnQgPSB0YXJnZXRTY29wZS5wYXJlbnRPZmZzZXQocGFyZW50LmxheWVyT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU3RhZ2VFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQV9TdGFnZUVycm9yLkFyZ3VtZW50c1Jlc29sdXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFVuYWJsZSB0byByZXNvbHZlIHBhcmVudCBzY29wZSBhdCBsYXllciBvZmZzZXQgJHtwYXJlbnQubGF5ZXJPZmZzZXR9IGZvciBhcmd1bWVudCAke0FfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoYXJnLnRhcmdldCl9IGZvciBzdGFnZSAke3RoaXMubmFtZX0gaW4gc2NvcGUgJHtzY29wZS5uYW1lfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeSA9IHRhcmdldFBhcmVudC5yZXNvbHZlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRTY29wZSA9IHRhcmdldFBhcmVudDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMykgTm9ybWFsIHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeSA9IHRhcmdldFNjb3BlLnJlc29sdmUodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZSAmJiAhZGVwZW5kZW5jeSAmJiBBX1R5cGVHdWFyZHMuaXNBbGxvd2VkRm9yRGVwZW5kZW5jeURlZmF1bHRDcmVhdGlvbih0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RlcGVuZGVuY3kgPSBuZXcgdGFyZ2V0KC4uLmRlZmF1bHRBcmdzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRTY29wZS5yZWdpc3RlcihuZXdEZXBlbmRlbmN5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld0RlcGVuZGVuY3k7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVpcmUgJiYgIWRlcGVuZGVuY3kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU3RhZ2VFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFfU3RhZ2VFcnJvci5Bcmd1bWVudHNSZXNvbHV0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIHJlc29sdmUgcmVxdWlyZWQgYXJndW1lbnQgJHtBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKGFyZy50YXJnZXQpfSBmb3Igc3RhZ2UgJHt0aGlzLm5hbWV9IGluIHNjb3BlICR7c2NvcGUubmFtZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlcGVuZGVuY3k7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgdGhlIGNvbXBvbmVudCBvZiB0aGUgc3RlcFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdGVwIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRTdGVwQ29tcG9uZW50KFxuICAgICAgICBzY29wZTogQV9TY29wZSxcbiAgICAgICAgc3RlcDogQV9UWVBFU19fQV9TdGFnZVN0ZXBcbiAgICApIHtcbiAgICAgICAgY29uc3QgeyBjb21wb25lbnQsIGhhbmRsZXIgfSA9IHN0ZXA7XG5cbiAgICAgICAgbGV0IGluc3RhbmNlOiBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzIHwgdW5kZWZpbmVkXG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKGNvbXBvbmVudCk6XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBjb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKGNvbXBvbmVudCk6XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBzY29wZS5yZXNvbHZlKGNvbXBvbmVudCkgfHwgdGhpcy5mZWF0dXJlLnNjb3BlLnJlc29sdmUoY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IHNjb3BlLnJlc29sdmUoY29tcG9uZW50KSB8fCB0aGlzLmZlYXR1cmUuc2NvcGUucmVzb2x2ZShjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpbnN0YW5jZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX1N0YWdlRXJyb3IoQV9TdGFnZUVycm9yLkNvbXBpbGVFcnJvciwgYFVuYWJsZSB0byByZXNvbHZlIGNvbXBvbmVudCAke3R5cGVvZiBjb21wb25lbnQgPT09ICdzdHJpbmcnID8gY29tcG9uZW50IDogY29tcG9uZW50Lm5hbWV9IGZyb20gc2NvcGUgJHtzY29wZS5uYW1lfWApO1xuXG4gICAgICAgIGlmICghaW5zdGFuY2VbaGFuZGxlcl0pXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9TdGFnZUVycm9yKEFfU3RhZ2VFcnJvci5Db21waWxlRXJyb3IsIGBIYW5kbGVyICR7aGFuZGxlcn0gbm90IGZvdW5kIGluICR7aW5zdGFuY2UuY29uc3RydWN0b3IubmFtZX1gKTtcblxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBoYW5kbGVyIG9mIHRoZSBzdGVwXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0ZXAgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIGNhbGxTdGVwSGFuZGxlcihcbiAgICAgICAgc3RlcDogQV9UWVBFU19fQV9TdGFnZVN0ZXAsXG4gICAgICAgIHNjb3BlOiBBX1Njb3BlXG4gICAgKSB7XG4gICAgICAgIC8vIDEpIFJlc29sdmUgY29tcG9uZW50XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGF3YWl0IHRoaXMuZ2V0U3RlcENvbXBvbmVudChzY29wZSwgc3RlcCk7XG4gICAgICAgIC8vIDIpIFJlc29sdmUgYXJndW1lbnRzXG4gICAgICAgIGNvbnN0IGNhbGxBcmdzID0gYXdhaXQgdGhpcy5nZXRTdGVwQXJncyhzY29wZSwgc3RlcCk7XG5cbiAgICAgICAgLy8gMykgQ2FsbCBoYW5kbGVyXG4gICAgICAgIHJldHVybiBhd2FpdCBjb21wb25lbnRbc3RlcC5oYW5kbGVyXSguLi5jYWxsQXJncyk7XG4gICAgfVxuXG5cbiAgICBza2lwKCkge1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5TS0lQUEVEO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcHJvY2Vzc2VzIHRoZSBzdGFnZSBieSBleGVjdXRpbmcgYWxsIHRoZSBzdGVwc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBzY29wZSAtIFNjb3BlIHRvIGJlIHVzZWQgdG8gcmVzb2x2ZSB0aGUgc3RlcHMgZGVwZW5kZW5jaWVzXG4gICAgICovXG4gICAgYXN5bmMgcHJvY2VzcyhcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjb3BlIHRvIGJlIHVzZWQgdG8gcmVzb2x2ZSB0aGUgc3RlcHMgZGVwZW5kZW5jaWVzXG4gICAgICAgICAqL1xuICAgICAgICBzY29wZT86IEFfU2NvcGUsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0U2NvcGUgPSBBX1R5cGVHdWFyZHMuaXNTY29wZUluc3RhbmNlKHNjb3BlKVxuICAgICAgICAgICAgPyBzY29wZVxuICAgICAgICAgICAgOiB0aGlzLl9mZWF0dXJlLnNjb3BlO1xuXG4gICAgICAgIGlmICghdGhpcy5fcHJvY2Vzc2VkKVxuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc2VkID0gbmV3IFByb21pc2U8dm9pZD4oXG4gICAgICAgICAgICAgICAgYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gQV9UWVBFU19fQV9TdGFnZV9TdGF0dXMuUFJPQ0VTU0lORztcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RlZmluaXRpb24uYmVoYXZpb3IgPT09ICdzeW5jJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluIGNhc2Ugd2UgaGF2ZSB0byB3YWl0IGZvciB0aGUgcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsU3RlcEhhbmRsZXIodGhpcy5fZGVmaW5pdGlvbiwgdGFyZ2V0U2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIHdlIGRvbid0IGhhdmUgdG8gd2FpdCBmb3IgdGhlIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFN0ZXBIYW5kbGVyKHRoaXMuX2RlZmluaXRpb24sIHRhcmdldFNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZWQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRFcnJvciA9IG5ldyBBX0Vycm9yKGVycm9yIGFzIGFueSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmFpbGVkKHdyYXBwZWRFcnJvcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kZWZpbml0aW9uLnRocm93T25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Qod3JhcHBlZEVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzZWQ7XG4gICAgfVxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT0gU3RhdHVzIG1ldGhvZHMgPT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgcHJvdGVjdGVkIGNvbXBsZXRlZCgpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gQV9UWVBFU19fQV9TdGFnZV9TdGF0dXMuQ09NUExFVEVEO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBmYWlsZWQoXG4gICAgICAgIGVycm9yOiBFcnJvciB8IEFfRXJyb3IgfCBhbnlcbiAgICApIHtcbiAgICAgICAgdGhpcy5fZXJyb3IgPSBuZXcgQV9FcnJvcihlcnJvcik7XG5cbiAgICAgICAgdGhpcy5fc3RhdHVzID0gQV9UWVBFU19fQV9TdGFnZV9TdGF0dXMuRkFJTEVEO1xuICAgIH1cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT0gU2VyaWFsaXphdGlvbiA9PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemVzIHRoZSBzdGFnZSB0byBKU09OXG4gICAgICogXG4gICAgICovXG4gICAgdG9KU09OKCk6IEFfVFlQRVNfX1N0YWdlX1NlcmlhbGl6ZWQge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHN0YWdlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgQS1TdGFnZSgke3RoaXMuX2ZlYXR1cmUubmFtZX06OiR7dGhpcy5fZGVmaW5pdGlvbi5iZWhhdmlvcn1AJHt0aGlzLl9kZWZpbml0aW9uLmhhbmRsZXJ9KWA7XG4gICAgfVxufSAgICIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfU3RlcE1hbmFnZXJFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgQ2lyY3VsYXJEZXBlbmRlbmN5RXJyb3IgPSAnQS1TdGVwTWFuYWdlciBDaXJjdWxhciBEZXBlbmRlbmN5IEVycm9yJztcblxufSIsICJpbXBvcnQgeyBBX0ZlYXR1cmUgfSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvclRlbXBsYXRlSXRlbSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1N0YWdlIH0gZnJvbSBcIi4uL0EtU3RhZ2UvQS1TdGFnZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9TdGFnZVN0ZXAgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1N0ZXBNYW5hZ2VyRXJyb3IgfSBmcm9tIFwiLi9BLVN0ZXBNYW5hZ2VyLmVycm9yXCI7XG5cbmV4cG9ydCBjbGFzcyBBX1N0ZXBzTWFuYWdlciB7XG5cbiAgICBwdWJsaWMgZW50aXRpZXM6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwW107XG4gICAgcHVibGljIGdyYXBoOiBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj47XG4gICAgcHVibGljIHZpc2l0ZWQ6IFNldDxzdHJpbmc+O1xuICAgIHB1YmxpYyB0ZW1wTWFyazogU2V0PHN0cmluZz47XG4gICAgcHVibGljIHNvcnRlZEVudGl0aWVzOiBzdHJpbmdbXTtcblxuXG4gICAgcHJpdmF0ZSBfaXNCdWlsdDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoZW50aXRpZXM6IEFycmF5PEFfVFlQRVNfX0ZlYXR1cmVEZWZpbmVEZWNvcmF0b3JUZW1wbGF0ZUl0ZW0+KSB7XG4gICAgICAgIHRoaXMuZW50aXRpZXMgPSB0aGlzLnByZXBhcmVTdGVwcyhlbnRpdGllcyk7XG5cbiAgICAgICAgdGhpcy5ncmFwaCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy52aXNpdGVkID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLnRlbXBNYXJrID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLnNvcnRlZEVudGl0aWVzID0gW107XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIHByZXBhcmVTdGVwcyhcbiAgICAgICAgZW50aXRpZXM6IEFycmF5PEFfVFlQRVNfX0ZlYXR1cmVEZWZpbmVEZWNvcmF0b3JUZW1wbGF0ZUl0ZW0+XG4gICAgKTogQXJyYXk8QV9UWVBFU19fQV9TdGFnZVN0ZXA+IHtcbiAgICAgICAgcmV0dXJuIGVudGl0aWVzXG4gICAgICAgICAgICAubWFwKHN0ZXAgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5zdGVwLFxuXG4gICAgICAgICAgICAgICAgYmVoYXZpb3I6IHN0ZXAuYmVoYXZpb3IgfHwgJ3N5bmMnLFxuICAgICAgICAgICAgICAgIGJlZm9yZTogc3RlcC5iZWZvcmUgfHwgJycsXG4gICAgICAgICAgICAgICAgYWZ0ZXI6IHN0ZXAuYWZ0ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgb3ZlcnJpZGU6IHN0ZXAub3ZlcnJpZGUgfHwgJycsXG4gICAgICAgICAgICAgICAgdGhyb3dPbkVycm9yOiBmYWxzZVxuICAgICAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgSUQoc3RlcDogQV9UWVBFU19fQV9TdGFnZVN0ZXApIHtcbiAgICAgICAgcmV0dXJuIGAke3R5cGVvZiBzdGVwLmNvbXBvbmVudCA9PT0gJ3N0cmluZycgPyBzdGVwLmNvbXBvbmVudCA6IHN0ZXAuY29tcG9uZW50Lm5hbWV9LiR7c3RlcC5oYW5kbGVyfWA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZEdyYXBoKCkge1xuICAgICAgICBpZiAodGhpcy5faXNCdWlsdCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9pc0J1aWx0ID0gdHJ1ZTtcblxuICAgICAgICAvLyBGaWx0ZXIgb3ZlcnJpZGVcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IHRoaXMuZW50aXRpZXNcbiAgICAgICAgICAgIC5maWx0ZXIoKHN0ZXAsIGksIHNlbGYpID0+XG4gICAgICAgICAgICAgICAgIXNlbGYuc29tZShzID0+IHMub3ZlcnJpZGUgPyBuZXcgUmVnRXhwKHMub3ZlcnJpZGUpLnRlc3QodGhpcy5JRChzdGVwKSkgOiBmYWxzZSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBncmFwaCBub2Rlc1xuICAgICAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHRoaXMuZ3JhcGguc2V0KHRoaXMuSUQoZW50aXR5KSwgbmV3IFNldCgpKSk7XG5cbiAgICAgICAgLy8gQWRkIGRpcmVjdGVkIGVkZ2VzIGJhc2VkIG9uICdiZWZvcmUnIGFuZCAnYWZ0ZXInXG4gICAgICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW50aXR5SWQgPSB0aGlzLklEKGVudGl0eSk7XG5cbiAgICAgICAgICAgIC8vIEFkZCBlZGdlcyBmb3IgJ2JlZm9yZScgZGVwZW5kZW5jaWVzXG4gICAgICAgICAgICAvLyBJZiBlbnRpdHkgc2hvdWxkIGV4ZWN1dGUgYmVmb3JlIHRhcmdldHMsIHRoZW4gdGFyZ2V0cyBkZXBlbmQgb24gZW50aXR5XG4gICAgICAgICAgICAvLyBTbyB3ZSBhZGQgZWRnZXM6IHRhcmdldCAtPiBlbnRpdHkgKHRhcmdldCBkZXBlbmRzIG9uIGVudGl0eSlcbiAgICAgICAgICAgIGlmIChlbnRpdHkuYmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0cyA9IHRoaXMubWF0Y2hFbnRpdGllcyhlbnRpdHlJZCwgZW50aXR5LmJlZm9yZSk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0cy5mb3JFYWNoKHRhcmdldCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5ncmFwaC5oYXModGFyZ2V0KSkgdGhpcy5ncmFwaC5zZXQodGFyZ2V0LCBuZXcgU2V0KCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyYXBoLmdldCh0YXJnZXQpIS5hZGQoZW50aXR5SWQpOyAvLyB0YXJnZXQgZGVwZW5kcyBvbiBlbnRpdHlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWRkIGVkZ2VzIGZvciAnYWZ0ZXInIGRlcGVuZGVuY2llcyAgXG4gICAgICAgICAgICAvLyBJZiBlbnRpdHkgc2hvdWxkIGV4ZWN1dGUgYWZ0ZXIgc291cmNlcywgdGhlbiBlbnRpdHkgZGVwZW5kcyBvbiBzb3VyY2VzXG4gICAgICAgICAgICAvLyBTbyB3ZSBhZGQgZWRnZXM6IGVudGl0eSAtPiBzb3VyY2UgKGVudGl0eSBkZXBlbmRzIG9uIHNvdXJjZSlcbiAgICAgICAgICAgIGlmIChlbnRpdHkuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VzID0gdGhpcy5tYXRjaEVudGl0aWVzKGVudGl0eUlkLCBlbnRpdHkuYWZ0ZXIpO1xuXG4gICAgICAgICAgICAgICAgc291cmNlcy5mb3JFYWNoKHNvdXJjZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5ncmFwaC5oYXMoZW50aXR5SWQpKSB0aGlzLmdyYXBoLnNldChlbnRpdHlJZCwgbmV3IFNldCgpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmFwaC5nZXQoZW50aXR5SWQpIS5hZGQoc291cmNlKTsgLy8gZW50aXR5IGRlcGVuZHMgb24gc291cmNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE1hdGNoIGVudGl0aWVzIGJ5IG5hbWUgb3IgcmVnZXhcbiAgICBwcml2YXRlIG1hdGNoRW50aXRpZXMoZW50aXR5SWQ6IHN0cmluZywgcGF0dGVybjogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAocGF0dGVybik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZW50aXRpZXNcbiAgICAgICAgICAgIC5maWx0ZXIoZW50aXR5ID0+IHJlZ2V4LnRlc3QodGhpcy5JRChlbnRpdHkpKSAmJiB0aGlzLklEKGVudGl0eSkgIT09IGVudGl0eUlkKVxuICAgICAgICAgICAgLm1hcChlbnRpdHkgPT4gdGhpcy5JRChlbnRpdHkpKTtcbiAgICB9XG5cbiAgICAvLyBUb3BvbG9naWNhbCBzb3J0IHdpdGggY3ljbGUgZGV0ZWN0aW9uXG4gICAgcHJpdmF0ZSB2aXNpdChub2RlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMudGVtcE1hcmsuaGFzKG5vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBUT0RPOiBtYXliZSB3ZSBoYXZlIHRvIGtlZXAgdGhpcyBlcnJvciBidXQgb25seSBmb3IgcGFydGlhbCBjYXNlc1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfU3RlcE1hbmFnZXJFcnJvcihcbiAgICAgICAgICAgICAgICBBX1N0ZXBNYW5hZ2VyRXJyb3IuQ2lyY3VsYXJEZXBlbmRlbmN5RXJyb3IsXG4gICAgICAgICAgICAgICAgYENpcmN1bGFyIGRlcGVuZGVuY3kgZGV0ZWN0ZWQgaW52b2x2aW5nIHN0ZXA6ICR7bm9kZX0uIE1ha2Ugc3VyZSB0aGF0IHlvdXIgJ2JlZm9yZScgYW5kICdhZnRlcicgZGVwZW5kZW5jaWVzIGRvIG5vdCBjcmVhdGUgY3ljbGVzLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudmlzaXRlZC5oYXMobm9kZSkpIHtcbiAgICAgICAgICAgIHRoaXMudGVtcE1hcmsuYWRkKG5vZGUpO1xuXG5cbiAgICAgICAgICAgICh0aGlzLmdyYXBoLmdldChub2RlKSB8fCBbXSkuZm9yRWFjaChuZWlnaGJvciA9PiB0aGlzLnZpc2l0KG5laWdoYm9yKSk7XG4gICAgICAgICAgICB0aGlzLnRlbXBNYXJrLmRlbGV0ZShub2RlKTtcbiAgICAgICAgICAgIHRoaXMudmlzaXRlZC5hZGQobm9kZSk7XG4gICAgICAgICAgICB0aGlzLnNvcnRlZEVudGl0aWVzLnB1c2gobm9kZSk7XG5cbiAgICAgICAgICAgIC8vIC8vIFZpc2l0IG5laWdoYm9ycyBpbiBzdGFibGUgb3JkZXIgKHByZXNlcnZpbmcgb3JpZ2luYWwgb3JkZXIpXG4gICAgICAgICAgICAvLyBjb25zdCBuZWlnaGJvcnMgPSBBcnJheS5mcm9tKHRoaXMuZ3JhcGguZ2V0KG5vZGUpIHx8IFtdKTtcbiAgICAgICAgICAgIC8vIC8vIG5laWdoYm9ycy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAvLyAvLyAgICAgY29uc3Qgb3JkZXJBID0gdGhpcy5vcmlnaW5hbE9yZGVyLmdldChhKSB8fCAwO1xuICAgICAgICAgICAgLy8gLy8gICAgIGNvbnN0IG9yZGVyQiA9IHRoaXMub3JpZ2luYWxPcmRlci5nZXQoYikgfHwgMDtcbiAgICAgICAgICAgIC8vIC8vICAgICByZXR1cm4gb3JkZXJBIC0gb3JkZXJCO1xuICAgICAgICAgICAgLy8gLy8gfSk7XG5cbiAgICAgICAgICAgIC8vIG5laWdoYm9ycy5mb3JFYWNoKG5laWdoYm9yID0+IHRoaXMudmlzaXQobmVpZ2hib3IpKTtcbiAgICAgICAgICAgIC8vIHRoaXMudGVtcE1hcmsuZGVsZXRlKG5vZGUpO1xuICAgICAgICAgICAgLy8gdGhpcy52aXNpdGVkLmFkZChub2RlKTtcbiAgICAgICAgICAgIC8vIHRoaXMuc29ydGVkRW50aXRpZXMucHVzaChub2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgdG9Tb3J0ZWRBcnJheSgpOiBBcnJheTxzdHJpbmc+IHtcbiAgICAgICAgdGhpcy5idWlsZEdyYXBoKCk7XG5cbiAgICAgICAgLy8gU3RhcnQgdG9wb2xvZ2ljYWwgc29ydFxuICAgICAgICB0aGlzLmVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy52aXNpdGVkLmhhcyh0aGlzLklEKGVudGl0eSkpKSB0aGlzLnZpc2l0KHRoaXMuSUQoZW50aXR5KSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNvcnRlZEVudGl0aWVzO1xuICAgIH1cblxuICAgIC8vIFNvcnQgdGhlIGVudGl0aWVzIGJhc2VkIG9uIGRlcGVuZGVuY2llc1xuICAgIHRvU3RhZ2VzKGZlYXR1cmU6IEFfRmVhdHVyZSk6IEFycmF5PEFfU3RhZ2U+IHtcblxuXG4gICAgICAgIGNvbnN0IHNvcnRlZE5hbWVzID0gdGhpcy50b1NvcnRlZEFycmF5KCk7XG5cblxuICAgICAgICAvLyBNYXAgc29ydGVkIG5hbWVzIGJhY2sgdG8gZW50aXR5IG9iamVjdHNcbiAgICAgICAgcmV0dXJuIHNvcnRlZE5hbWVzXG4gICAgICAgICAgICAubWFwKGlkID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGVwID0gdGhpcy5lbnRpdGllcy5maW5kKGVudGl0eSA9PiB0aGlzLklEKGVudGl0eSkgPT09IGlkKSE7XG5cblxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQV9TdGFnZShmZWF0dXJlLCBzdGVwKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn1cblxuXG4iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19GZWF0dXJlX0luaXQsXG4gICAgQV9UWVBFU19fRmVhdHVyZV9Jbml0V2l0aENvbXBvbmVudCxcbiAgICBBX1RZUEVTX19GZWF0dXJlX0luaXRXaXRoVGVtcGxhdGUsXG4gICAgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMsXG4gICAgQV9UWVBFU19fRmVhdHVyZVN0YXRlLFxufSBmcm9tIFwiLi9BLUZlYXR1cmUudHlwZXNcIjtcbmltcG9ydCB7IEFfRmVhdHVyZV9EZWZpbmUgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS1EZWZpbmUuZGVjb3JhdG9yXCI7XG5pbXBvcnQgeyBBX0ZlYXR1cmVfRXh0ZW5kIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRmVhdHVyZS9BLUZlYXR1cmUtRXh0ZW5kLmRlY29yYXRvclwiO1xuaW1wb3J0IHsgQV9TdGFnZSB9IGZyb20gXCIuLi9BLVN0YWdlL0EtU3RhZ2UuY2xhc3NcIjtcbmltcG9ydCB7IEFfU3RlcHNNYW5hZ2VyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtU3RlcE1hbmFnZXIvQS1TdGVwTWFuYWdlci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9TdGFnZUVycm9yIH0gZnJvbSBcIi4uL0EtU3RhZ2UvQS1TdGFnZS5lcnJvclwiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX0ZlYXR1cmVFcnJvciB9IGZyb20gXCIuL0EtRmVhdHVyZS5lcnJvclwiO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIi4uL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ2FsbGVyIH0gZnJvbSBcIi4uL0EtQ2FsbGVyL0FfQ2FsbGVyLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1Njb3BlIH0gZnJvbSBcIi4uL0EtU2NvcGUvQS1TY29wZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db21wb25lbnQgfSBmcm9tIFwiLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQuY2xhc3NcIjtcblxuXG4vKipcbiAqIEFfRmVhdHVyZSBpcyByZXByZXNlbnRpbmcgYSBmZWF0dXJlIHRoYXQgY2FuIGJlIGV4ZWN1dGVkIGFjcm9zcyBtdWx0aXBsZSBjb21wb25lbnRzXG4gKiBUaGlzIGNsYXNzIHN0b3JlcyB0aGUgc3RlcHMgb2YgdGhlIGZlYXR1cmUgYW5kIGV4ZWN1dGVzIHRoZW0gaW4gb3JkZXIgb2YgYXBwZWFyYW5jZVxuICogXG4gKiBVc2luZyBBX0ZlYXR1cmUuRGVmaW5lIGFuZCBBX0ZlYXR1cmUuRXh0ZW5kIGRlY29yYXRvcnMgdG8gZGVmaW5lIGFuZCBleHRlbmQgdGhlIGZlYXR1cmUgbWV0aG9kcyBcbiAqIGFjcm9zcyB0aGUgZGlmZmVyZW50LCBkaXN0cmlidXRlZCBjb21wb25lbnRzXG4gKiBcbiAqL1xuZXhwb3J0IGNsYXNzIEFfRmVhdHVyZTxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4ge1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gU3RhdGljIE1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgYSBuZXcgQS1GZWF0dXJlXG4gICAgICovXG4gICAgc3RhdGljIGdldCBEZWZpbmUoKTogdHlwZW9mIEFfRmVhdHVyZV9EZWZpbmUge1xuICAgICAgICByZXR1cm4gQV9GZWF0dXJlX0RlZmluZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRlbmQgYW4gZXhpc3RpbmcgQS1GZWF0dXJlXG4gICAgICovXG4gICAgc3RhdGljIGdldCBFeHRlbmQoKTogdHlwZW9mIEFfRmVhdHVyZV9FeHRlbmQge1xuICAgICAgICByZXR1cm4gQV9GZWF0dXJlX0V4dGVuZDtcbiAgICB9XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gSW50ZXJuYWwgUHJvcGVydGllcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgRmVhdHVyZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfbmFtZSE6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIHN0YWdlcyB0aGF0IGFyZSBwYXJ0IG9mIHRoaXMgRmVhdHVyZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfc3RhZ2VzOiBBcnJheTxBX1N0YWdlPiA9IFtdO1xuICAgIC8qKlxuICAgICAqIFRoZSBTdGFnZSBjdXJyZW50bHkgYmVpbmcgcHJvY2Vzc2VkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9jdXJyZW50PzogQV9TdGFnZTtcbiAgICAvKipcbiAgICAgKiBBY3R1YWwgSW5kZXggb2YgdGhlIGN1cnJlbnQgU3RhZ2UgYmVpbmcgcHJvY2Vzc2VkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9pbmRleDogbnVtYmVyID0gMDtcbiAgICAvKipcbiAgICAgKiBTdGVwcyBNYW5hZ2VyIHRvIG9yZ2FuaXplIHRoZSBzdGVwcyBpbnRvIHN0YWdlc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBfU00hOiBBX1N0ZXBzTWFuYWdlcjtcbiAgICAvKipcbiAgICAgKiBUaGUgQ2FsbGVyIHRoYXQgaW5pdGlhdGVkIHRoZSBGZWF0dXJlIGNhbGxcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2NhbGxlciE6IEFfQ2FsbGVyPFQ+O1xuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBGZWF0dXJlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9zdGF0ZTogQV9UWVBFU19fRmVhdHVyZVN0YXRlID0gQV9UWVBFU19fRmVhdHVyZVN0YXRlLklOSVRJQUxJWkVEO1xuICAgIC8qKlxuICAgICAqIFRoZSBlcnJvciB0aGF0IGNhdXNlZCB0aGUgRmVhdHVyZSB0byBiZSBpbnRlcnJ1cHRlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfZXJyb3I/OiBBX0ZlYXR1cmVFcnJvclxuXG5cblxuICAgIC8qKlxuICAgICAqIEEtRmVhdHVyZSBpcyBhIHBpcGVsaW5lIGRpc3RyaWJ1dGVkIGJ5IG11bHRpcGxlIGNvbXBvbmVudHMgdGhhdCBjYW4gYmUgZWFzaWx5IGF0dGFjaGVkIG9yIGRldGFjaGVkIGZyb20gdGhlIHNjb3BlLiBcbiAgICAgKiBGZWF0dXJlIGl0c2VsZiBkb2VzIG5vdCBoYXZlIHNjb3BlLCBidXQgYXR0YWNoZWQgdG8gdGhlIGNhbGxlciB3aG8gZGljdGF0ZXMgaG93IGZlYXR1cmUgc2hvdWxkIGJlIHByb2Nlc3NlZC4gXG4gICAgICogXG4gICAgICogQ29tcGFyaW5nIHRvIEEtQ29tbWFuZCBGZWF0dXJlIGRvZXMgbm90IHN0b3JlIGFueSBzdGF0ZSBleGNlcHQgc3RhdHVzZXMgZm9yIGJldHRlciBhbmFseXNpcy4gXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IElmIEEtRmVhdHVyZSBzaG91bGQgaGF2ZSByZXN1bHQgdXNlIEEtRnJhZ21lbnQgXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtcyBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZlYXR1cmUgSW5pdGlhbGl6YXRpb24gcGFyYW1ldGVyc1xuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW1zOiBBX1RZUEVTX19GZWF0dXJlX0luaXQ8VD5cbiAgICApIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZVBhcmFtcyhwYXJhbXMpO1xuXG4gICAgICAgIGNvbnN0IGluaXRpYWxpemVyID0gdGhpcy5nZXRJbml0aWFsaXplcihwYXJhbXMpO1xuICAgICAgICAvLyB0aGUgcmV0dXJuZWQgaW5pdGlhbGl6ZXIgaXMgYWxyZWFkeSBib3VuZCB0byBgdGhpc2AgKHdlIHVzZWQgLmJpbmQodGhpcykpLFxuICAgICAgICAvLyBzbyBjYWxsaW5nIGl0IHdpbGwgcnVuIHRoZSBhcHByb3ByaWF0ZSBsb2dpYyBvbiB0aGlzIGluc3RhbmNlOlxuICAgICAgICBpbml0aWFsaXplci5jYWxsKHRoaXMsIHBhcmFtcyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgRmVhdHVyZVxuICAgICAqL1xuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLl9uYW1lOyB9XG4gICAgLyoqXG4gICAgICogVGhlIGVycm9yIHRoYXQgY2F1c2VkIHRoZSBGZWF0dXJlIHRvIGJlIGludGVycnVwdGVkXG4gICAgICovXG4gICAgZ2V0IGVycm9yKCk6IEFfRmVhdHVyZUVycm9yIHwgdW5kZWZpbmVkIHsgcmV0dXJuIHRoaXMuX2Vycm9yOyB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIEZlYXR1cmVcbiAgICAgKi9cbiAgICBnZXQgc3RhdGUoKTogQV9UWVBFU19fRmVhdHVyZVN0YXRlIHsgcmV0dXJuIHRoaXMuX3N0YXRlOyB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgRmVhdHVyZVxuICAgICAqL1xuICAgIGdldCBpbmRleCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5faW5kZXg7IH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IEEtRmVhdHVyZSBTdGFnZVxuICAgICAqL1xuICAgIGdldCBzdGFnZSgpOiBBX1N0YWdlIHwgdW5kZWZpbmVkIHsgcmV0dXJuIHRoaXMuX2N1cnJlbnQ7IH1cbiAgICAvKipcbiAgICAgKiBUaGUgQ2FsbGVyIHRoYXQgaW5pdGlhdGVkIHRoZSBGZWF0dXJlIGNhbGxcbiAgICAgKi9cbiAgICBnZXQgY2FsbGVyKCk6IEFfQ2FsbGVyPFQ+IHsgcmV0dXJuIHRoaXMuX2NhbGxlcjsgfVxuICAgIC8qKlxuICAgICAqIFRoZSBTY29wZSBhbGxvY2F0ZWQgZm9yIHRoZSBGZWF0dXJlIEV4ZWN1dGlvblxuICAgICAqL1xuICAgIGdldCBzY29wZSgpOiBBX1Njb3BlIHsgcmV0dXJuIEFfQ29udGV4dC5zY29wZSh0aGlzKTsgfVxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2Ygc3RhZ2VzIGluIHRoZSBmZWF0dXJlXG4gICAgICovXG4gICAgZ2V0IHNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YWdlcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgY2hlY2tzIGlmIHRoZSBBLUZlYXR1cmUgaXMgZG9uZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGdldCBpc0RvbmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy5zdGFnZVxuICAgICAgICAgICAgfHwgdGhpcy5faW5kZXggPj0gdGhpcy5fc3RhZ2VzLmxlbmd0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGZlYXR1cmUgaGFzIGJlZW4gcHJvY2Vzc2VkIChjb21wbGV0ZWQsIGZhaWxlZCwgb3IgaW50ZXJydXB0ZWQpXG4gICAgICovXG4gICAgZ2V0IGlzUHJvY2Vzc2VkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gQV9UWVBFU19fRmVhdHVyZVN0YXRlLkNPTVBMRVRFRFxuICAgICAgICAgICAgfHwgdGhpcy5zdGF0ZSA9PT0gQV9UWVBFU19fRmVhdHVyZVN0YXRlLkZBSUxFRFxuICAgICAgICAgICAgfHwgdGhpcy5zdGF0ZSA9PT0gQV9UWVBFU19fRmVhdHVyZVN0YXRlLklOVEVSUlVQVEVEO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJdGVyYXRvciB0byBpdGVyYXRlIG92ZXIgdGhlIHN0ZXBzIG9mIHRoZSBmZWF0dXJlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmF0b3I8QV9TdGFnZSwgYW55PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0OiAoKTogSXRlcmF0b3JSZXN1bHQ8QV9TdGFnZSwgYW55PiA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRG9uZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5fc3RhZ2VzW3RoaXMuX2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXgrKztcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuX2N1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSB1bmRlZmluZWQ7IC8vIFJlc2V0IGN1cnJlbnQgb24gZW5kXG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gSW5pdGlhbGl6YXRpb24gTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0aGUgcHJvdmlkZWQgcGFyYW1ldGVycyBmb3IgQS1GZWF0dXJlIGluaXRpYWxpemF0aW9uXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtcyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgdmFsaWRhdGVQYXJhbXMoXG4gICAgICAgIHBhcmFtczogQV9UWVBFU19fRmVhdHVyZV9Jbml0PFQ+XG4gICAgKSB7XG4gICAgICAgIGlmICghcGFyYW1zIHx8IHR5cGVvZiBwYXJhbXMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9GZWF0dXJlRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9GZWF0dXJlRXJyb3IuRmVhdHVyZUluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEludmFsaWQgQS1GZWF0dXJlIGluaXRpYWxpemF0aW9uIHBhcmFtZXRlcnMgb2YgdHlwZTogJHt0eXBlb2YgcGFyYW1zfSB3aXRoIHZhbHVlOiAke0pTT04uc3RyaW5naWZ5KHBhcmFtcykuc2xpY2UoMCwgMTAwKX0uLi5gXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFwcHJvcHJpYXRlIGluaXRpYWxpemVyIG1ldGhvZCBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgcGFyYW1ldGVyc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbXMgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldEluaXRpYWxpemVyKFxuICAgICAgICBwYXJhbXM6IEFfVFlQRVNfX0ZlYXR1cmVfSW5pdDxUPlxuICAgICk6IChwYXJhbTE6IGFueSkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKSB7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlICEoJ3RlbXBsYXRlJyBpbiBwYXJhbXMpOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21Db21wb25lbnQ7XG5cbiAgICAgICAgICAgIGNhc2UgJ3RlbXBsYXRlJyBpbiBwYXJhbXM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVRlbXBsYXRlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9GZWF0dXJlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIEFfRmVhdHVyZUVycm9yLkZlYXR1cmVJbml0aWFsaXphdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICBgSW52YWxpZCBBLUZlYXR1cmUgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVycyBvZiB0eXBlOiAke3R5cGVvZiBwYXJhbXN9IHdpdGggdmFsdWU6ICR7SlNPTi5zdHJpbmdpZnkocGFyYW1zKS5zbGljZSgwLCAxMDApfS4uLmBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBBLUZlYXR1cmUgZnJvbSB0aGUgcHJvdmlkZWQgdGVtcGxhdGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBmcm9tVGVtcGxhdGUoXG4gICAgICAgIHBhcmFtczogQV9UWVBFU19fRmVhdHVyZV9Jbml0V2l0aFRlbXBsYXRlPFQ+XG4gICAgKSB7XG4gICAgICAgIGlmICghcGFyYW1zLnRlbXBsYXRlIHx8ICFBcnJheS5pc0FycmF5KHBhcmFtcy50ZW1wbGF0ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICBBX0ZlYXR1cmVFcnJvci5GZWF0dXJlSW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgSW52YWxpZCBBLUZlYXR1cmUgdGVtcGxhdGUgcHJvdmlkZWQgb2YgdHlwZTogJHt0eXBlb2YgcGFyYW1zLnRlbXBsYXRlfSB3aXRoIHZhbHVlOiAke0pTT04uc3RyaW5naWZ5KHBhcmFtcy50ZW1wbGF0ZSkuc2xpY2UoMCwgMTAwKX0uLi5gXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFwYXJhbXMuY29tcG9uZW50ICYmICghcGFyYW1zLnNjb3BlIHx8ICEocGFyYW1zLnNjb3BlIGluc3RhbmNlb2YgQV9TY29wZSkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9GZWF0dXJlRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9GZWF0dXJlRXJyb3IuRmVhdHVyZUluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEludmFsaWQgQS1GZWF0dXJlIHNjb3BlIHByb3ZpZGVkIG9mIHR5cGU6ICR7dHlwZW9mIHBhcmFtcy5zY29wZX0gd2l0aCB2YWx1ZTogJHtKU09OLnN0cmluZ2lmeShwYXJhbXMuc2NvcGUpLnNsaWNlKDAsIDEwMCl9Li4uYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDEpIHNhdmUgZmVhdHVyZSBuYW1lXG4gICAgICAgIHRoaXMuX25hbWUgPSBwYXJhbXMubmFtZTtcblxuICAgICAgICAvLyAyKSBnZXQgc2NvcGUgZnJvbSB3aGVyZSBmZWF0dXJlIGlzIGNhbGxlZFxuICAgICAgICAvLyAyKSBnZXQgc2NvcGUgZnJvbSB3aGVyZSBmZWF0dXJlIGlzIGNhbGxlZFxuICAgICAgICBsZXQgY29tcG9uZW50U2NvcGU6IEFfU2NvcGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIC8vICB1c2VzIHRvIGV4dGVuZCBhIGNvbXBvbmVudCBzY29wZSBpZiBjb21wb25lbnQgaXMgbm90IHJlZ2lzdGVyZWQgaW4gdGhlIGNvbnRleHRcbiAgICAgICAgbGV0IGV4dGVybmFsU2NvcGU6IEFfU2NvcGUgfCB1bmRlZmluZWQgPSBwYXJhbXMuc2NvcGU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChwYXJhbXMuY29tcG9uZW50KVxuICAgICAgICAgICAgICAgIGNvbXBvbmVudFNjb3BlID0gQV9Db250ZXh0LnNjb3BlKHBhcmFtcy5jb21wb25lbnQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKCFleHRlcm5hbFNjb3BlKVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudFNjb3BlICYmIGV4dGVybmFsU2NvcGUgJiYgIWV4dGVybmFsU2NvcGUuaXNJbmhlcml0ZWRGcm9tKGNvbXBvbmVudFNjb3BlKSkge1xuICAgICAgICAgICAgZXh0ZXJuYWxTY29wZS5pbmhlcml0KGNvbXBvbmVudFNjb3BlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDMpIGNyZWF0ZSBjYWxsZXIgd3JhcHBlciBmb3IgdGhlIHNpbXBsZSBpbmplY3Rpb24gb2YgdGhlIGNhbGxlciBjb21wb25lbnRcbiAgICAgICAgLy8gICAtIEp1c3QgdG8gcHJldmVudCBpc3N1ZXMgd2l0aCB1bmRlZmluZWQgY2FsbGVyIGluIGZlYXR1cmVzIHdpdGhvdXQgY29tcG9uZW50XG4gICAgICAgIC8vICAgLSBUT0RPOiBtYXliZSB3b3VsZCBiZSBiZXR0ZXIgdG8gYWxsb3cgcGFzc2luZyBjYWxsZXIgaW4gcGFyYW1zP1xuICAgICAgICB0aGlzLl9jYWxsZXIgPSBuZXcgQV9DYWxsZXI8VD4ocGFyYW1zLmNvbXBvbmVudCB8fCBuZXcgQV9Db21wb25lbnQoKSBhcyBUKTtcblxuICAgICAgICAvLyA0KSBhbGxvY2F0ZSBuZXcgc2NvcGUgZm9yIHRoZSBmZWF0dXJlXG4gICAgICAgIGNvbnN0IHNjb3BlID0gQV9Db250ZXh0LmFsbG9jYXRlKHRoaXMpO1xuXG4gICAgICAgIC8vIDUpIGVuc3VyZSB0aGF0IHRoZSBzY29wZSBvZiB0aGUgY2FsbGVyIGNvbXBvbmVudCBpcyBpbmhlcml0ZWQgYnkgdGhlIGZlYXR1cmUgc2NvcGVcbiAgICAgICAgc2NvcGUuaW5oZXJpdChjb21wb25lbnRTY29wZSB8fCBleHRlcm5hbFNjb3BlISk7XG5cbiAgICAgICAgLy8gNikgY3JlYXRlIHN0ZXBzIG1hbmFnZXIgdG8gb3JnYW5pemUgc3RlcHMgaW50byBzdGFnZXNcbiAgICAgICAgdGhpcy5fU00gPSBuZXcgQV9TdGVwc01hbmFnZXIocGFyYW1zLnRlbXBsYXRlKTtcblxuICAgICAgICAvLyA3KSBjcmVhdGUgc3RhZ2VzIGZyb20gdGhlIHN0ZXBzXG4gICAgICAgIHRoaXMuX3N0YWdlcyA9IHRoaXMuX1NNLnRvU3RhZ2VzKHRoaXMpO1xuXG4gICAgICAgIC8vIDgpIHNldCB0aGUgZmlyc3Qgc3RhZ2UgYXMgY3VycmVudFxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5fc3RhZ2VzWzBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgQS1GZWF0dXJlIGZyb20gdGhlIHByb3ZpZGVkIGNvbXBvbmVudFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbXMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGZyb21Db21wb25lbnQoXG4gICAgICAgIHBhcmFtczogQV9UWVBFU19fRmVhdHVyZV9Jbml0V2l0aENvbXBvbmVudDxUPlxuICAgICkge1xuICAgICAgICBpZiAoIXBhcmFtcy5jb21wb25lbnQgfHwgIUFfVHlwZUd1YXJkcy5pc0FsbG93ZWRGb3JGZWF0dXJlRGVmaW5pdGlvbihwYXJhbXMuY29tcG9uZW50KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfRmVhdHVyZUVycm9yKFxuICAgICAgICAgICAgICAgIEFfRmVhdHVyZUVycm9yLkZlYXR1cmVJbml0aWFsaXphdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgIGBJbnZhbGlkIEEtRmVhdHVyZSBjb21wb25lbnQgcHJvdmlkZWQgb2YgdHlwZTogJHt0eXBlb2YgcGFyYW1zLmNvbXBvbmVudH0gd2l0aCB2YWx1ZTogJHtKU09OLnN0cmluZ2lmeShwYXJhbXMuY29tcG9uZW50KS5zbGljZSgwLCAxMDApfS4uLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAxKSBzYXZlIGZlYXR1cmUgbmFtZVxuICAgICAgICB0aGlzLl9uYW1lID0gcGFyYW1zLm5hbWU7XG5cbiAgICAgICAgLy8gMikgZ2V0IHNjb3BlIGZyb20gd2hlcmUgZmVhdHVyZSBpcyBjYWxsZWRcbiAgICAgICAgbGV0IGNvbXBvbmVudFNjb3BlOiBBX1Njb3BlIHwgdW5kZWZpbmVkO1xuICAgICAgICAvLyAgdXNlcyB0byBleHRlbmQgYSBjb21wb25lbnQgc2NvcGUgaWYgY29tcG9uZW50IGlzIG5vdCByZWdpc3RlcmVkIGluIHRoZSBjb250ZXh0XG4gICAgICAgIGxldCBleHRlcm5hbFNjb3BlOiBBX1Njb3BlIHwgdW5kZWZpbmVkID0gcGFyYW1zLnNjb3BlO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb21wb25lbnRTY29wZSA9IEFfQ29udGV4dC5zY29wZShwYXJhbXMuY29tcG9uZW50KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICghZXh0ZXJuYWxTY29wZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb21wb25lbnRTY29wZSAmJiBleHRlcm5hbFNjb3BlICYmICFleHRlcm5hbFNjb3BlLmlzSW5oZXJpdGVkRnJvbShjb21wb25lbnRTY29wZSkpIHtcbiAgICAgICAgICAgIGV4dGVybmFsU2NvcGUuaW5oZXJpdChjb21wb25lbnRTY29wZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzKSBjcmVhdGUgY2FsbGVyIHdyYXBwZXIgZm9yIHRoZSBzaW1wbGUgaW5qZWN0aW9uIG9mIHRoZSBjYWxsZXIgY29tcG9uZW50XG4gICAgICAgIHRoaXMuX2NhbGxlciA9IG5ldyBBX0NhbGxlcjxUPihwYXJhbXMuY29tcG9uZW50KTtcblxuICAgICAgICAvLyA0KSBhbGxvY2F0ZSBuZXcgc2NvcGUgZm9yIHRoZSBmZWF0dXJlXG4gICAgICAgIGNvbnN0IHNjb3BlID0gQV9Db250ZXh0LmFsbG9jYXRlKHRoaXMpO1xuXG4gICAgICAgIC8vIDUpIGVuc3VyZSB0aGF0IHRoZSBzY29wZSBvZiB0aGUgY2FsbGVyIGNvbXBvbmVudCBpcyBpbmhlcml0ZWQgYnkgdGhlIGZlYXR1cmUgc2NvcGVcbiAgICAgICAgc2NvcGUuaW5oZXJpdChjb21wb25lbnRTY29wZSB8fCBleHRlcm5hbFNjb3BlISk7XG5cbiAgICAgICAgLy8gNikgcmV0cmlldmUgdGhlIHRlbXBsYXRlIGZyb20gdGhlIGNvbnRleHRcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBBX0NvbnRleHQuZmVhdHVyZVRlbXBsYXRlKHRoaXMuX25hbWUsIHRoaXMuX2NhbGxlci5jb21wb25lbnQsIHNjb3BlKTtcblxuICAgICAgICAvLyA3KSBjcmVhdGUgc3RlcHMgbWFuYWdlciB0byBvcmdhbml6ZSBzdGVwcyBpbnRvIHN0YWdlc1xuICAgICAgICB0aGlzLl9TTSA9IG5ldyBBX1N0ZXBzTWFuYWdlcih0ZW1wbGF0ZSk7XG5cbiAgICAgICAgLy8gOCkgY3JlYXRlIHN0YWdlcyBmcm9tIHRoZSBzdGVwc1xuICAgICAgICB0aGlzLl9zdGFnZXMgPSB0aGlzLl9TTS50b1N0YWdlcyh0aGlzKTtcblxuICAgICAgICAvLyA5KSBzZXQgdGhlIGZpcnN0IHN0YWdlIGFzIGN1cnJlbnRcbiAgICAgICAgdGhpcy5fY3VycmVudCA9IHRoaXMuX3N0YWdlc1swXTtcbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBNYWluIFByb2Nlc3NpbmcgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHByb2Nlc3NlcyB0aGUgZmVhdHVyZSBieSBleGVjdXRpbmcgYWxsIHRoZSBzdGFnZXNcbiAgICAgKiBcbiAgICAgKi9cbiAgICBhc3luYyBwcm9jZXNzKFxuICAgICAgICAvKipcbiAgICAgICAgICogT3B0aW9uYWwgc2NvcGUgdG8gYmUgdXNlZCB0byByZXNvbHZlIHRoZSBzdGVwcyBkZXBlbmRlbmNpZXNcbiAgICAgICAgICogSWYgbm90IHByb3ZpZGVkLCB0aGUgc2NvcGUgb2YgdGhlIGNhbGxlciBjb21wb25lbnQgd2lsbCBiZSB1c2VkXG4gICAgICAgICAqL1xuICAgICAgICBzY29wZT86IEFfU2NvcGUsXG4gICAgKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBJdCBzZWVtcyBsaWtlIHRoaXMgaXMgYSBiYWQgaWRlYSB0byBlbmZvcmNlIHNjb3BlIGluaGVyaXRhbmNlIGhlcmVcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gaWYgKHNjb3BlICYmICFzY29wZS5pc0luaGVyaXRlZEZyb20oQV9Db250ZXh0LnNjb3BlKHRoaXMpKSlcbiAgICAgICAgICAgIC8vICAgICBzY29wZS5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzUHJvY2Vzc2VkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuUFJPQ0VTU0lORztcblxuICAgICAgICAgICAgZm9yIChjb25zdCBzdGFnZSBvZiB0aGlzKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgc3RhZ2UucHJvY2VzcyhzY29wZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNvbXBsZXRlZCgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmFpbGVkKG5ldyBBX0ZlYXR1cmVFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfRmVhdHVyZUVycm9yLkZlYXR1cmVQcm9jZXNzaW5nRXJyb3IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBwcm9jZXNzaW5nIHRoZSBBLUZlYXR1cmU6ICR7dGhpcy5uYW1lfS4gRmFpbGVkIGF0IHN0YWdlOiAke3RoaXMuc3RhZ2U/Lm5hbWUgfHwgJ04vQSd9LmAsXG4gICAgICAgICAgICAgICAgc3RhZ2U6IHRoaXMuc3RhZ2UsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuXG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIG1vdmVzIHRoZSBmZWF0dXJlIHRvIHRoZSBuZXh0IHN0YWdlXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0YWdlIFxuICAgICAqL1xuICAgIG5leHQoc3RhZ2UpIHtcbiAgICAgICAgY29uc3Qgc3RhZ2VJbmRleCA9IHRoaXMuX3N0YWdlcy5pbmRleE9mKHN0YWdlKTtcblxuICAgICAgICB0aGlzLl9pbmRleCA9IHN0YWdlSW5kZXggKyAxO1xuXG4gICAgICAgIGlmICh0aGlzLl9pbmRleCA+PSB0aGlzLl9zdGFnZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIG1hcmtzIHRoZSBmZWF0dXJlIGFzIGNvbXBsZXRlZCBhbmQgcmV0dXJucyB0aGUgcmVzdWx0XG4gICAgICogVXNlcyB0byBpbnRlcnJ1cHQgb3IgZW5kIHRoZSBmZWF0dXJlIHByb2Nlc3NpbmdcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcmVzdWx0IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIGNvbXBsZXRlZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNQcm9jZXNzZWQpIHJldHVybjtcblxuXG4gICAgICAgIHRoaXMuX3N0YXRlID0gQV9UWVBFU19fRmVhdHVyZVN0YXRlLkNPTVBMRVRFRDtcblxuICAgICAgICB0aGlzLnNjb3BlLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgbWFya3MgdGhlIGZlYXR1cmUgYXMgZmFpbGVkIGFuZCB0aHJvd3MgYW4gZXJyb3JcbiAgICAgKiBVc2VzIHRvIG1hcmsgdGhlIGZlYXR1cmUgYXMgZmFpbGVkXG4gICAgICogXG4gICAgICogQHBhcmFtIGVycm9yIFxuICAgICAqL1xuICAgIGFzeW5jIGZhaWxlZChlcnJvcjogQV9GZWF0dXJlRXJyb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNQcm9jZXNzZWQpIHJldHVybjtcblxuICAgICAgICB0aGlzLl9zdGF0ZSA9IEFfVFlQRVNfX0ZlYXR1cmVTdGF0ZS5GQUlMRUQ7XG5cbiAgICAgICAgdGhpcy5fZXJyb3IgPSBlcnJvcjtcblxuICAgICAgICB0aGlzLnNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICB0aHJvdyB0aGlzLl9lcnJvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgbWFya3MgdGhlIGZlYXR1cmUgYXMgZmFpbGVkIGFuZCB0aHJvd3MgYW4gZXJyb3JcbiAgICAgKiBVc2VzIHRvIGludGVycnVwdCBvciBlbmQgdGhlIGZlYXR1cmUgcHJvY2Vzc2luZ1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBlcnJvciBcbiAgICAgKi9cbiAgICBhc3luYyBpbnRlcnJ1cHQoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVhc29uIG9mIGZlYXR1cmUgaW50ZXJydXB0aW9uXG4gICAgICAgICAqL1xuICAgICAgICByZWFzb24/OiBzdHJpbmcgfCBBX1N0YWdlRXJyb3IgfCBFcnJvclxuICAgICkge1xuICAgICAgICBpZiAodGhpcy5pc1Byb2Nlc3NlZCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3N0YXRlID0gQV9UWVBFU19fRmVhdHVyZVN0YXRlLklOVEVSUlVQVEVEO1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcocmVhc29uKTpcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IG5ldyBBX0ZlYXR1cmVFcnJvcihBX0ZlYXR1cmVFcnJvci5JbnRlcnJ1cHRpb24sIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JJbnN0YW5jZShyZWFzb24pOlxuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gbmV3IEFfRmVhdHVyZUVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogQV9GZWF0dXJlRXJyb3IuSW50ZXJydXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogcmVhc29uLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVhc29uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBzdGFnZTogdGhpcy5zdGFnZSxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogcmVhc29uXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHRoaXMuc2NvcGUuZGVzdHJveSgpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGNoYWluIHRoZSBmZWF0dXJlIHRvIGFub3RoZXIgZmVhdHVyZS4gXG4gICAgICogSW4gdGhpcyBjYXNlIHRoZSBwYXJlbnQgZmVhdHVyZSBzY29wZSAoaWYgbmV3IG5vdCBwcm92aWRlZCksIHN0YWdlcywgY2FsbGVyIHdpbGwgYmUgdXNlZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogQ2hhaW5lZCBmZWF0dXJlIHdpbGwgdXNlIHRoZSBzYW1lIGNhbGxlciBhcyB0aGUgcGFyZW50IGZlYXR1cmUuXG4gICAgICogXG4gICAgICogQHBhcmFtIGZlYXR1cmUgXG4gICAgICovXG4gICAgY2hhaW4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIEZlYXR1cmUgdG8gYmUgY2hhaW5lZFxuICAgICAgICAgKi9cbiAgICAgICAgZmVhdHVyZTogQV9GZWF0dXJlLFxuICAgICAgICAvKipcbiAgICAgICAgICogT3B0aW9uYWwgc2NvcGUgdG8gYmUgdXNlZCBmb3IgdGhlIGNoYWluZWQgZmVhdHVyZS5cbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlPzogQV9TY29wZVxuICAgIClcbiAgICBjaGFpbjxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wb25lbnQgd2hvc2UgZmVhdHVyZSBzaG91bGQgYmUgY2hhaW5lZFxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgRmVhdHVyZSBOYW1lIHRvIGJlIGNoYWluZWRcbiAgICAgICAgICovXG4gICAgICAgIGZlYXR1cmU6IHN0cmluZyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9wdGlvbmFsIHNjb3BlIHRvIGJlIHVzZWQgZm9yIHRoZSBjaGFpbmVkIGZlYXR1cmUuXG4gICAgICAgICAqL1xuICAgICAgICBzY29wZT86IEFfU2NvcGVcbiAgICApXG4gICAgY2hhaW48VCBleHRlbmRzIEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzID0gQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHM+KFxuICAgICAgICBwYXJhbTE6IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzIHwgQV9GZWF0dXJlLFxuICAgICAgICBwYXJhbTI/OiBzdHJpbmcgfCBBX1Njb3BlLFxuICAgICAgICBwYXJhbTM/OiBBX1Njb3BlXG4gICAgKSB7XG4gICAgICAgIGxldCBmZWF0dXJlOiBBX0ZlYXR1cmU7XG4gICAgICAgIGxldCBzY29wZTogQV9TY29wZSB8IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAocGFyYW0xIGluc3RhbmNlb2YgQV9GZWF0dXJlKSB7XG4gICAgICAgICAgICBmZWF0dXJlID0gcGFyYW0xO1xuICAgICAgICAgICAgc2NvcGUgPSBwYXJhbTIgaW5zdGFuY2VvZiBBX1Njb3BlID8gcGFyYW0yIDogdW5kZWZpbmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmVhdHVyZSA9IG5ldyBBX0ZlYXR1cmUoe1xuICAgICAgICAgICAgICAgIG5hbWU6IHBhcmFtMiBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBwYXJhbTEgYXMgVFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzY29wZSA9IHBhcmFtMyBpbnN0YW5jZW9mIEFfU2NvcGUgPyBwYXJhbTMgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmZWF0dXJlU2NvcGUgPSBzY29wZSB8fCB0aGlzLnNjb3BlO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBuZXcgY2FsbGVyIGZvciB0aGUgY2hhaW5lZCBmZWF0dXJlXG4gICAgICAgIGZlYXR1cmUuX2NhbGxlciA9IHRoaXMuX2NhbGxlcjtcblxuICAgICAgICByZXR1cm4gZmVhdHVyZS5wcm9jZXNzKGZlYXR1cmVTY29wZSk7XG4gICAgfVxuXG5cblxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGBBLUZlYXR1cmUoJHt0aGlzLmNhbGxlci5jb21wb25lbnQ/LmNvbnN0cnVjdG9yPy5uYW1lIHx8ICdVbmtub3duJ306OiR7dGhpcy5uYW1lfSlgO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIi4uL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1Njb3BlIH0gZnJvbSBcIi4uL0EtU2NvcGUvQS1TY29wZS5jbGFzc1wiO1xuXG5cblxuLyoqXG4gKiBBLUNvbXBvbmVudCBpcyBhIHByaW1hcnkgXCJleHRlbmRhYmxlXCIgb2JqZWN0IGluIHRoZSBzeXN0ZW1cbiAqIEEgdW5pcXVlIGNvbWJpbmF0aW9uIG9mIENvbXBvbmVudHMgY3JlYXRlcyBjb21wbGV0ZWx5IG5ldyBmdW5jdGlvbmFsaXR5XG4gKiBcbiAqIFRoZSBtb3N0IGltcG9ydGFudCB0aGluZyBpcyB0aGF0IEEtQ29tcG9uZW50IGlzIFNUQVRFTEVTUywgaXQgbWVhbnMgdGhhdCBpdCBkb2Vzbid0IHN0b3JlIGFueSBzdGF0ZSBpbiBpdHNlbGZcbiAqIFxuICogXG4gKiBbIV0gRXZlcnkgQS1Db21wb25lbnQgaXMgYSBzaW5nbGV0b24sIHNvIGlmIHlvdSBuZWVkIHRvIGNyZWF0ZSBtdWx0aXBsZSBpbnN0YW5jZXMgb2YgdGhlIHNhbWUgbG9naWMgLSB1c2UgQS1Db250YWluZXJcbiAqIFshXSBTbyBvbmUgc2NvcGUgY2FuIGhhdmUgb25seSBvbmUgaW5zdGFuY2Ugb2YgdGhlIHNhbWUgQS1Db21wb25lbnRcbiAqIFshXSBFdmVyeSBBLUNvbXBvbmVudCBjYW4gYmUgZXh0ZW5kZWQgYnkgZmVhdHVyZXMgYW5kIGV4dGVuc2lvbnNcbiAqIFshXSBPTkxZIEEtQ29tcG9uZW50IGNhbiBoYXZlIEEtRmVhdHVyZSBleHRlbnNpb25zXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQV9Db21wb25lbnQge1xuXG5cbiAgICAvKipcbiAgICAgKiBDYWxscyB0aGUgZmVhdHVyZSB3aXRoIHRoZSBnaXZlbiBuYW1lIGluIHRoZSBnaXZlbiBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBUaGlzIG1ldGhvZCBjcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBmZWF0dXJlIGV2ZXJ5IHRpbWUgaXQgaXMgY2FsbGVkXG4gICAgICogXG4gICAgICogQHBhcmFtIGZlYXR1cmUgLSB0aGUgbmFtZSBvZiB0aGUgZmVhdHVyZSB0byBjYWxsXG4gICAgICogQHBhcmFtIHNjb3BlICAtIHRoZSBzY29wZSBpbiB3aGljaCB0byBjYWxsIHRoZSBmZWF0dXJlXG4gICAgICogQHJldHVybnMgIC0gdm9pZFxuICAgICAqL1xuICAgIGFzeW5jIGNhbGwoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOYW1lIG9mIHRoZSBmZWF0dXJlIHRvIGNhbGxcbiAgICAgICAgICovXG4gICAgICAgIGZlYXR1cmU6IHN0cmluZyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjb3BlIGluIHdoaWNoIHRoZSBmZWF0dXJlIHdpbGwgYmUgZXhlY3V0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlPzogQV9TY29wZVxuICAgICkge1xuICAgICAgICBjb25zdCBuZXdGZWF0dXJlID0gbmV3IEFfRmVhdHVyZSh7XG4gICAgICAgICAgICBuYW1lOiBmZWF0dXJlLFxuICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBhd2FpdCBuZXdGZWF0dXJlLnByb2Nlc3Moc2NvcGUpO1xuICAgIH1cbn1cblxuXG5cbiIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfQ29udGV4dEVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cblxuICAgIHN0YXRpYyBOb3RBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uRXJyb3IgPSAnQ29tcG9uZW50IGlzIG5vdCBhbGxvd2VkIGZvciBzY29wZSBhbGxvY2F0aW9uJztcblxuICAgIHN0YXRpYyBDb21wb25lbnRBbHJlYWR5SGFzU2NvcGVBbGxvY2F0ZWRFcnJvciA9ICdDb21wb25lbnQgYWxyZWFkeSBoYXMgc2NvcGUgYWxsb2NhdGVkJztcblxuICAgIHN0YXRpYyBJbnZhbGlkTWV0YVBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBtZXRhJztcblxuICAgIHN0YXRpYyBJbnZhbGlkU2NvcGVQYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgc2NvcGUnO1xuXG4gICAgc3RhdGljIFNjb3BlTm90Rm91bmRFcnJvciA9ICdTY29wZSBub3QgZm91bmQnO1xuXG4gICAgc3RhdGljIEludmFsaWRGZWF0dXJlUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IGZlYXR1cmUnO1xuXG4gICAgc3RhdGljIEludmFsaWRGZWF0dXJlRGVmaW5pdGlvblBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGRlZmluZSBmZWF0dXJlJztcblxuICAgIHN0YXRpYyBJbnZhbGlkRmVhdHVyZVRlbXBsYXRlUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUnO1xuXG4gICAgc3RhdGljIEludmFsaWRGZWF0dXJlRXh0ZW5zaW9uUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZXh0ZW5kIGZlYXR1cmUnO1xuXG5cbiAgICBzdGF0aWMgSW52YWxpZEFic3RyYWN0aW9uUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IGFic3RyYWN0aW9uJztcblxuICAgIHN0YXRpYyBJbnZhbGlkQWJzdHJhY3Rpb25EZWZpbml0aW9uUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZGVmaW5lIGFic3RyYWN0aW9uJztcblxuICAgIHN0YXRpYyBJbnZhbGlkQWJzdHJhY3Rpb25UZW1wbGF0ZVBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBhYnN0cmFjdGlvbiB0ZW1wbGF0ZSc7XG5cbiAgICBzdGF0aWMgSW52YWxpZEFic3RyYWN0aW9uRXh0ZW5zaW9uUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZXh0ZW5kIGFic3RyYWN0aW9uJztcblxuICAgIHN0YXRpYyBJbnZhbGlkSW5qZWN0aW9uUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IGluamVjdGlvbnMnO1xuXG4gICAgc3RhdGljIEludmFsaWRFeHRlbnNpb25QYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgZXh0ZW5zaW9ucyc7XG5cblxuICAgIHN0YXRpYyBJbnZhbGlkUmVnaXN0ZXJQYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byByZWdpc3RlciBjb21wb25lbnQnO1xuXG5cbiAgICBzdGF0aWMgSW52YWxpZENvbXBvbmVudFBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgY29tcG9uZW50IHByb3ZpZGVkJztcblxuICAgIHN0YXRpYyBDb21wb25lbnROb3RSZWdpc3RlcmVkRXJyb3IgPSAnQ29tcG9uZW50IG5vdCByZWdpc3RlcmVkIGluIHRoZSBjb250ZXh0JztcblxuICAgIHN0YXRpYyBJbnZhbGlkRGVyZWdpc3RlclBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGRlcmVnaXN0ZXIgY29tcG9uZW50Jztcbn0iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19TY29wZV9Jbml0LFxuICAgIEFfVFlQRVNfX1Njb3BlQ29uZmlnLFxuICAgIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyxcbiAgICBBX1RZUEVTX1Njb3BlRGVwZW5kZW50Q29tcG9uZW50c1xufSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLnR5cGVzXCI7XG5pbXBvcnQge1xuICAgIEFfVFlQRVNfX01ldGFMaW5rZWRDb21wb25lbnRDb25zdHJ1Y3RvcnMsXG4gICAgQV9UWVBFU19fTWV0YUxpbmtlZENvbXBvbmVudHNcbn0gZnJvbSBcIi4uL0EtTWV0YS9BLU1ldGEudHlwZXNcIjtcbmltcG9ydCB7XG4gICAgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMsXG4gICAgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGFcbn0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUudHlwZXNcIjtcbmltcG9ydCB7IEFfQ29tcG9uZW50IH0gZnJvbSBcIi4uL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0ZlYXR1cmUgfSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db250YWluZXIgfSBmcm9tIFwiLi4vQS1Db250YWluZXIvQS1Db250YWluZXIuY2xhc3NcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiLi4vQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db21wb25lbnRNZXRhIH0gZnJvbSBcIi4uL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50Lm1ldGFcIjtcbmltcG9ydCB7IEFfQ29udGFpbmVyTWV0YSB9IGZyb20gXCIuLi9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5tZXRhXCI7XG5pbXBvcnQgeyBBX0VudGl0eSB9IGZyb20gXCIuLi9BLUVudGl0eS9BLUVudGl0eS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9FbnRpdHlNZXRhIH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5Lm1ldGFcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfU3RhZ2VTdGVwIH0gZnJvbSBcIi4uL0EtU3RhZ2UvQS1TdGFnZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2NvbnN0YW50cy9lbnYuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19FbnRpdHlNZXRhS2V5IH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSB9IGZyb20gXCIuLi9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tIFwiLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250ZXh0RW52aXJvbm1lbnQgfSBmcm9tIFwiLi9BLUNvbnRleHQudHlwZXNcIjtcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9Db250ZXh0RXJyb3IgfSBmcm9tIFwiLi9BLUNvbnRleHQuZXJyb3JcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lcl9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQudHlwZXNcIjtcbmltcG9ydCB7IEFfRm9ybWF0dGVySGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0Zvcm1hdHRlci5oZWxwZXJcIjtcbmltcG9ydCB7IEFfRnJhZ21lbnQgfSBmcm9tIFwiLi4vQS1GcmFnbWVudC9BLUZyYWdtZW50LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyB9IGZyb20gXCIuLi9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucyB9IGZyb20gXCIuLi9BLUNvbmNlcHQvQS1Db25jZXB0LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlclwiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfQ29udGV4dCB7XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFNUQVRJQyBQUk9QRVJUSUVTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBuYW1lIG9mIHRoZSBhcHBsaWNhdGlvbiBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlIEFfQ09OQ0VQVF9OQU1FXG4gICAgICogXG4gICAgICogWyFdIElmIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQsIGl0IHdpbGwgZGVmYXVsdCB0byAnYS1jb25jZXB0J1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgY29uY2VwdCgpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3MuZW52W0FfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMuQV9DT05DRVBUX05BTUVdIHx8ICdhLWNvbmNlcHQnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSb290IHNjb3BlIG9mIHRoZSBhcHBsaWNhdGlvbiBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlIEFfQ09OQ0VQVF9ST09UX1NDT1BFXG4gICAgICogXG4gICAgICogWyFdIElmIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQsIGl0IHdpbGwgZGVmYXVsdCB0byAncm9vdCdcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHJvb3QoKTogQV9TY29wZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEluc3RhbmNlKCkuX3Jvb3Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVudmlyb25tZW50IHRoZSBhcHBsaWNhdGlvbiBpcyBydW5uaW5nIGluLlxuICAgICAqIENhbiBiZSBlaXRoZXIgJ3NlcnZlcicgb3IgJ2Jyb3dzZXInLlxuICAgICAqIFshXSBEZXRlcm1pbmVkIGJ5IGNoZWNraW5nIGlmICd3aW5kb3cnIG9iamVjdCBpcyBhdmFpbGFibGUuXG4gICAgICovXG4gICAgc3RhdGljIGdldCBlbnZpcm9ubWVudCgpOiBBX1RZUEVTX19Db250ZXh0RW52aXJvbm1lbnQge1xuICAgICAgICBsZXQgdGVzdEVudmlyb25tZW50OiBBX1RZUEVTX19Db250ZXh0RW52aXJvbm1lbnQgPSAnYnJvd3Nlcic7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRlc3RFbnZpcm9ubWVudCA9IHdpbmRvdy5sb2NhdGlvbiA/ICdicm93c2VyJyA6ICdzZXJ2ZXInO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGVzdEVudmlyb25tZW50ID0gJ3NlcnZlcic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGVzdEVudmlyb25tZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpbmdsZXRvbiBpbnN0YW5jZSBvZiB0aGUgQ29udGV4dFxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogQV9Db250ZXh0O1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBJTlRFUk5BTCBSRUdJU1RSWSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFJvb3QgU2NvcGUgb2YgdGhlIENvbmNlcHQgYW5kIEVudmlyb25tZW50XG4gICAgICpcbiAgICAgKiBSb290IHNjb3BlIGlzIHRoZSB0b3AtbGV2ZWwgc2NvcGUgdGhhdCBhbGwgb3RoZXIgc2NvcGVzIGluaGVyaXQgZnJvbS5cbiAgICAgKiBJdCBzdG9yZXMgZ2xvYmFsIGNvbmZpZ3VyYXRpb25zIGFuZCBzZXR0aW5ncyBhbmQgQUxMIFNIQVJFQUJMRSBSRVNPVVJDRVMuXG4gICAgICogXG4gICAgICogWyFdIFJvb3Qgc2NvcGUgaXMgY3JlYXRlZCBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIENvbnRleHQgaXMgaW5pdGlhbGl6ZWQuXG4gICAgICogWyFdIFJvb3Qgc2NvcGUgbmFtZSBjYW4gYmUgY29uZmlndXJlZCB1c2luZyBlbnZpcm9ubWVudCB2YXJpYWJsZSBBX0NPTkNFUFRfUk9PVF9TQ09QRVxuICAgICAqL1xuICAgIHByaXZhdGUgX3Jvb3QhOiBBX1Njb3BlXG4gICAgLyoqXG4gICAgICogQSByZWdpc3RyeSB0aGF0IGtlZXBzIHRyYWNrIG9mIHNjb3BlcyBmb3IgYWxsIGNvbXBvbmVudHMgKENvbnRhaW5lcnMsIEZlYXR1cmVzLCBDb21tYW5kcykgXG4gICAgICogV2hpY2ggY2FuIGlzc3VlIGEgc2NvcGUgYWxsb2NhdGlvbi5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3JlZ2lzdHJ5OiBXZWFrTWFwPEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cywgQV9TY29wZT4gPSBuZXcgV2Vha01hcCgpO1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYSByZWdpc3RyeSB0aGF0IHN0b3JlcyBhbiBpc3N1ZXIgb2YgZWFjaCBzY29wZSBhbGxvY2F0aW9uLlxuICAgICAqIEl0IGhlbHBzIHRvIHRyYWNrIHdoaWNoIGNvbXBvbmVudCAoQ29udGFpbmVyLCBGZWF0dXJlLCBDb21tYW5kKSBhbGxvY2F0ZWQgYSBzcGVjaWZpYyBzY29wZS5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3Njb3BlSXNzdWVyczogV2Vha01hcDxBX1Njb3BlLCBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHM+ID0gbmV3IFdlYWtNYXAoKTtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgYSBjb250ZXh0IGFzc29jaWF0ZWQgd2l0aCBhIHNwZWNpZmljIGNvbXBvbmVudCB0aGF0IGRlcGVuZHMgb24gYSBzY29wZS5cbiAgICAgKiB1c2VzIGZvciBxdWljayByZXRyaWV2YWwgb2YgdGhlIHNjb3BlIGZvciB0aGUgY29tcG9uZW50LlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfc2NvcGVTdG9yYWdlOiBXZWFrTWFwPEFfVFlQRVNfU2NvcGVEZXBlbmRlbnRDb21wb25lbnRzLCBBX1Njb3BlPiA9IG5ldyBXZWFrTWFwKCk7XG4gICAgLyoqXG4gICAgICogU3RvcmVzIG1ldGEgaW5mb3JtYXRpb24gZm9yIGRpZmZlcmVudCBjb21wb25lbnQgdHlwZXMgYnkgdGhlaXIgY29uc3RydWN0b3JzLlxuICAgICAqIE1ldGEgcHJvdmlkZXMgdG8gc3RvcmUgZXh0cmEgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNsYXNzIGJlaGF2aW9yIGFuZCBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfbWV0YVN0b3JhZ2U6IE1hcDxBX1RZUEVTX19NZXRhTGlua2VkQ29tcG9uZW50Q29uc3RydWN0b3JzLCBBX01ldGE+ID0gbmV3IE1hcCgpO1xuXG5cblxuICAgIC8qKlxuICAgICAqIFByaXZhdGUgY29uc3RydWN0b3IgdG8gZW5mb3JjZSBzaW5nbGV0b24gcGF0dGVybi5cbiAgICAgKiBcbiAgICAgKiBbIV0gVGhpcyBjbGFzcyBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS4gVXNlIEFfQ29udGV4dC5nZXRJbnN0YW5jZSgpIGluc3RlYWQuXG4gICAgICovXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgbGV0IG5hbWUgPSAncm9vdCc7XG5cbiAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ3NlcnZlcicpXG4gICAgICAgICAgICBuYW1lID0gcHJvY2Vzcy5lbnZbQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0NPTkNFUFRfUk9PVF9TQ09QRV0gfHwgJ3Jvb3QnO1xuXG4gICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdicm93c2VyJylcbiAgICAgICAgICAgIG5hbWUgPSAod2luZG93IGFzIGFueSlbQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0NPTkNFUFRfUk9PVF9TQ09QRV0gfHwgJ3Jvb3QnO1xuXG4gICAgICAgIHRoaXMuX3Jvb3QgPSBuZXcgQV9TY29wZSh7IG5hbWUgfSk7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaW5zdGFuY2Ugb2YgdGhlIE5hbWVzcGFjZSBQcm92aWRlci5cbiAgICAgKiBcbiAgICAgKiBJZiB0aGUgaW5zdGFuY2UgZG9lcyBub3QgZXhpc3QsIGl0IHdpbGwgYmUgY3JlYXRlZC5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghQV9Db250ZXh0Ll9pbnN0YW5jZSkge1xuICAgICAgICAgICAgQV9Db250ZXh0Ll9pbnN0YW5jZSA9IG5ldyBBX0NvbnRleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBBX0NvbnRleHQuX2luc3RhbmNlO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBtZXRob2QgYWxsb3dzIHRvIHJlZ2lzdGVyIGEgY29tcG9uZW50IHdpdGggYSBzcGVjaWZpYyBzY29wZSBpbiB0aGUgY29udGV4dC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IC0gQ29tcG9uZW50IHRvIHJlZ2lzdGVyIHdpdGggYSBzcGVjaWZpYyBzY29wZS4gQ2FuIGJlIGVpdGhlciBBX0NvbnRhaW5lciwgQV9GZWF0dXJlLlxuICAgICAqIEBwYXJhbSBzY29wZSAtIFNjb3BlIHRvIGFzc29jaWF0ZSB0aGUgY29tcG9uZW50IHdpdGguXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIHJlZ2lzdGVyKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgc2NvcGUgdGhhdCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgY29tcG9uZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IHRoYXQgbmVlZHMgdG8gYmUgcmVnaXN0ZXJlZCB3aXRoIGEgc3BlY2lmaWMgc2NvcGUuXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfU2NvcGVEZXBlbmRlbnRDb21wb25lbnRzLFxuXG4gICAgKTogQV9TY29wZSB7XG4gICAgICAgIC8vIHVzZXMgb25seSBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KTtcblxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICBpZiAoIWNvbXBvbmVudCkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAgICAgQV9Db250ZXh0RXJyb3IuSW52YWxpZFJlZ2lzdGVyUGFyYW1ldGVyRXJyb3IsXG4gICAgICAgICAgICBgVW5hYmxlIHRvIHJlZ2lzdGVyIGNvbXBvbmVudC4gQ29tcG9uZW50IGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcblxuICAgICAgICBpZiAoIXNjb3BlKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICBBX0NvbnRleHRFcnJvci5JbnZhbGlkUmVnaXN0ZXJQYXJhbWV0ZXJFcnJvcixcbiAgICAgICAgICAgIGBVbmFibGUgdG8gcmVnaXN0ZXIgY29tcG9uZW50LiBTY29wZSBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzQWxsb3dlZFRvQmVSZWdpc3RlcmVkKGNvbXBvbmVudCkpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLk5vdEFsbG93ZWRGb3JTY29wZUFsbG9jYXRpb25FcnJvcixcbiAgICAgICAgICAgIGBDb21wb25lbnQgJHtjb21wb25lbnROYW1lfSBpcyBub3QgYWxsb3dlZCBmb3Igc2NvcGUgYWxsb2NhdGlvbi5gKTtcblxuICAgICAgICBpbnN0YW5jZS5fc2NvcGVTdG9yYWdlLnNldChjb21wb25lbnQsIHNjb3BlKTtcblxuICAgICAgICByZXR1cm4gc2NvcGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVyZWdpc3RlciBtZXRob2QgYWxsb3dzIHRvIGRlcmVnaXN0ZXIgYSBjb21wb25lbnQgZnJvbSB0aGUgY29udGV4dC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IC0gQ29tcG9uZW50IHRvIGRlcmVnaXN0ZXIgZnJvbSB0aGUgY29udGV4dC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZGVyZWdpc3RlcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdGhhdCBuZWVkcyB0byBiZSBkZXJlZ2lzdGVyZWQgZnJvbSB0aGUgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19TY29wZURlcGVuZGVudENvbXBvbmVudHMsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIC8vIHVzZXMgb25seSBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KTtcblxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICBpZiAoIWNvbXBvbmVudCkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAgICAgQV9Db250ZXh0RXJyb3IuSW52YWxpZERlcmVnaXN0ZXJQYXJhbWV0ZXJFcnJvcixcbiAgICAgICAgICAgIGBVbmFibGUgdG8gZGVyZWdpc3RlciBjb21wb25lbnQuIENvbXBvbmVudCBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG5cbiAgICAgICAgaWYgKCFpbnN0YW5jZS5fc2NvcGVTdG9yYWdlLmhhcyhjb21wb25lbnQpKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICBBX0NvbnRleHRFcnJvci5Db21wb25lbnROb3RSZWdpc3RlcmVkRXJyb3IsXG4gICAgICAgICAgICBgVW5hYmxlIHRvIGRlcmVnaXN0ZXIgY29tcG9uZW50LiBDb21wb25lbnQgJHtjb21wb25lbnROYW1lfSBpcyBub3QgcmVnaXN0ZXJlZC5gKTtcblxuICAgICAgICBpbnN0YW5jZS5fc2NvcGVTdG9yYWdlLmRlbGV0ZShjb21wb25lbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsbG9jYXRlIG1ldGhvZCBpbnN0YW50aWF0ZXMgYSBuZXcgc2NvcGUgZm9yIHRoZSBnaXZlbiBjb21wb25lbnQgYW5kIHJlZ2lzdGVycyBpdCBpbiB0aGUgY29udGV4dC5cbiAgICAgKiBJdCBib3VuZHMgdGhlIGNvbXBvbmVudCAoQ29udGFpbmVyLCBGZWF0dXJlKSB0byBhIG5ldyBzY29wZSB0aGF0IGNhbiBiZSBjb25maWd1cmVkIGFuZCB1c2VkIGluZGVwZW5kZW50bHkuXG4gICAgICogXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCAtIENvbXBvbmVudCB0byBhbGxvY2F0ZSB0aGUgc2NvcGUgZm9yLiBDYW4gYmUgZWl0aGVyIEFfQ29udGFpbmVyLCBBX0ZlYXR1cmUuXG4gICAgICogQHBhcmFtIGltcG9ydGluZyAgLSBDb25maWd1cmF0aW9uIG9mIHRoZSBzY29wZSB0aGF0IHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhlIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYWxsb2NhdGUoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IHRoYXQgbmVlZHMgYSBzY29wZSBhbGxvY2F0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMsXG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBhbGxvY2F0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdGhhdCBuZWVkcyBhIHNjb3BlIGFsbG9jYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIHNjb3BlIHRoYXQgd2lsbCBiZSB1c2VkIGFzIGEgYmFzZSBmb3IgdGhlIG5ldyBzY29wZS5cbiAgICAgICAgICovXG4gICAgICAgIGltcG9ydGluZzogQV9TY29wZVxuICAgICk6IEFfU2NvcGVcbiAgICBzdGF0aWMgYWxsb2NhdGUoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IHRoYXQgbmVlZHMgYSBzY29wZSBhbGxvY2F0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBzY29wZSB0aGF0IHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhlIGNvbXBvbmVudC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbmZpZzogUGFydGlhbDxBX1RZUEVTX19TY29wZV9Jbml0ICYgQV9UWVBFU19fU2NvcGVDb25maWc+XG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBhbGxvY2F0ZShcbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMsXG4gICAgICAgIGltcG9ydGluZz86IFBhcnRpYWw8QV9UWVBFU19fU2NvcGVfSW5pdCAmIEFfVFlQRVNfX1Njb3BlQ29uZmlnPiB8IEFfU2NvcGVcbiAgICApOiBBX1Njb3BlIHtcbiAgICAgICAgLy8gdXNlcyBvbmx5IGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQpO1xuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tSW5wdXQgVmFsaWRhdGlvbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIDEpIGNoZWNrIGlmIGNvbXBvbmVudCBpcyB2YWxpZFxuICAgICAgICBpZiAoIXRoaXMuaXNBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uKGNvbXBvbmVudCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuTm90QWxsb3dlZEZvclNjb3BlQWxsb2NhdGlvbkVycm9yLCBgQ29tcG9uZW50IG9mIHR5cGUgJHtjb21wb25lbnROYW1lfSBpcyBub3QgYWxsb3dlZCBmb3Igc2NvcGUgYWxsb2NhdGlvbi4gT25seSBBX0NvbnRhaW5lciwgQV9GZWF0dXJlIGFyZSBhbGxvd2VkLmApO1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAvLyAyKSBjaGVjayBpZiBjb21wb25lbnQgYWxyZWFkeSBoYXMgYSBzY29wZSBhbGxvY2F0ZWRcbiAgICAgICAgaWYgKGluc3RhbmNlLl9yZWdpc3RyeS5oYXMoY29tcG9uZW50KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5Db21wb25lbnRBbHJlYWR5SGFzU2NvcGVBbGxvY2F0ZWRFcnJvciwgYENvbXBvbmVudCAke2NvbXBvbmVudE5hbWV9IGFscmVhZHkgaGFzIGEgc2NvcGUgYWxsb2NhdGVkLmApO1xuXG5cbiAgICAgICAgLy8gMykgQ3JlYXRlIGEgbmV3IHNjb3BlIGZvciB0aGUgY29tcG9uZW50XG4gICAgICAgIGNvbnN0IG5ld1Njb3BlID0gQV9UeXBlR3VhcmRzLmlzU2NvcGVJbnN0YW5jZShpbXBvcnRpbmcpXG4gICAgICAgICAgICA/IGltcG9ydGluZ1xuICAgICAgICAgICAgOiBuZXcgQV9TY29wZShpbXBvcnRpbmcgfHwge1xuICAgICAgICAgICAgICAgIG5hbWU6IGNvbXBvbmVudE5hbWUgKyAnLXNjb3BlJ1xuICAgICAgICAgICAgfSwgaW1wb3J0aW5nKTtcblxuICAgICAgICAvLyA0KSBNYWtlIHN1cmUgdGhhdCB0aGUgbmV3IHNjb3BlIGluaGVyaXRzIGZyb20gdGhlIHJvb3Qgc2NvcGVcbiAgICAgICAgaWYgKCFuZXdTY29wZS5pc0luaGVyaXRlZEZyb20oQV9Db250ZXh0LnJvb3QpKVxuICAgICAgICAgICAgbmV3U2NvcGUuaW5oZXJpdChBX0NvbnRleHQucm9vdCk7XG5cbiAgICAgICAgLy8gNSkgUmVnaXN0ZXIgdGhlIGNvbXBvbmVudCBpbiB0aGUgYXBwcm9wcmlhdGUgc3RvcmFnZVxuICAgICAgICBpbnN0YW5jZS5fcmVnaXN0cnkuc2V0KGNvbXBvbmVudCwgbmV3U2NvcGUpO1xuICAgICAgICAvLyBBbHNvIHJlZ2lzdGVyIHRoZSBpc3N1ZXIgb2YgdGhlIHNjb3BlIGZvciBmYXN0ZXIgdHJhY2tpbmdcbiAgICAgICAgaW5zdGFuY2UuX3Njb3BlSXNzdWVycy5zZXQobmV3U2NvcGUsIGNvbXBvbmVudCk7XG5cbiAgICAgICAgLy8gNikgUmV0dXJuIHRoZSBuZXdseSBjcmVhdGVkIHNjb3BlXG4gICAgICAgIHJldHVybiBuZXdTY29wZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWFsbG9jYXRlIG1ldGhvZCByZW1vdmVzIHRoZSBzY29wZSBhbGxvY2F0aW9uIGZvciB0aGUgZ2l2ZW4gY29tcG9uZW50IGZyb20gdGhlIGNvbnRleHQuXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZGVhbGxvY2F0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgU2NvcGUgdGhhdCBuZWVkcyB0byBiZSBkZWFsbG9jYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlOiBBX1Njb3BlLFxuICAgIClcbiAgICBzdGF0aWMgZGVhbGxvY2F0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdGhhdCBuZWVkcyB0byBoYXZlIGl0cyBzY29wZSBkZWFsbG9jYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzLFxuICAgIClcbiAgICBzdGF0aWMgZGVhbGxvY2F0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdGhhdCBuZWVkcyB0byBoYXZlIGl0cyBzY29wZSBkZWFsbG9jYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtMTogQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHwgQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgY29uc3Qgc2NvcGUgPSBBX1R5cGVHdWFyZHMuaXNTY29wZUluc3RhbmNlKHBhcmFtMSlcbiAgICAgICAgICAgID8gcGFyYW0xXG4gICAgICAgICAgICA6IGluc3RhbmNlLl9yZWdpc3RyeS5nZXQocGFyYW0xKTtcblxuICAgICAgICBpZiAoIXNjb3BlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UocGFyYW0xKVxuICAgICAgICAgICAgPyBwYXJhbTFcbiAgICAgICAgICAgIDogdGhpcy5pc3N1ZXIoc2NvcGUpO1xuXG4gICAgICAgIGlmIChjb21wb25lbnQpXG4gICAgICAgICAgICBpbnN0YW5jZS5fcmVnaXN0cnkuZGVsZXRlKGNvbXBvbmVudCk7XG4gICAgICAgIGlmIChzY29wZSlcbiAgICAgICAgICAgIGluc3RhbmNlLl9zY29wZUlzc3VlcnMuZGVsZXRlKHNjb3BlKTtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICAqIEdldCBvciBDcmVhdGUgTWV0YSBmb3IgdGhlIHNwZWNpZmljIGNsYXNzIG9yIGluc3RhbmNlLlxuICAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiB0aGUgZXhpc3RpbmcgbWV0YSBpZiBpdCBleGlzdHMsIG9yIGNyZWF0ZSBhIG5ldyBvbmUgaWYgaXQgZG9lc24ndC5cbiAgICAgICogXG4gICAgICAqIE1ldGEgb2JqZWN0IGNvbnRhaW5zIGN1c3RvbSBtZXRhZGF0YSBiYXNlZCBvbiB0aGUgY2xhc3MgdHlwZS5cbiAgICAgICogXG4gICAgICAqIEBwYXJhbSBjb250YWluZXIgXG4gICAgICAqL1xuICAgIHN0YXRpYyBtZXRhKFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IG1ldGEgZm9yIHRoZSBzcGVjaWZpYyBjb250YWluZXIgY2xhc3MgYnkgY29uc3RydWN0b3IuXG4gICAgICAgICAqL1xuICAgICAgICBjb250YWluZXI6IEFfVFlQRVNfX0NvbnRhaW5lcl9Db25zdHJ1Y3RvcixcbiAgICApOiBBX0NvbnRhaW5lck1ldGFcbiAgICBzdGF0aWMgbWV0YShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBtZXRhIGZvciB0aGUgc3BlY2lmaWMgY29udGFpbmVyIGluc3RhbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgY29udGFpbmVyOiBBX0NvbnRhaW5lcixcbiAgICApOiBBX0NvbnRhaW5lck1ldGFcbiAgICBzdGF0aWMgbWV0YShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBtZXRhIGZvciB0aGUgc3BlY2lmaWMgZW50aXR5IGNsYXNzIGJ5IGNvbnN0cnVjdG9yLlxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3IsXG4gICAgKTogQV9FbnRpdHlNZXRhXG4gICAgc3RhdGljIG1ldGEoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgbWV0YSBmb3IgdGhlIHNwZWNpZmljIGVudGl0eSBpbnN0YW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIGVudGl0eTogQV9FbnRpdHksXG4gICAgKTogQV9FbnRpdHlNZXRhXG4gICAgc3RhdGljIG1ldGEoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgbWV0YSBmb3IgdGhlIHNwZWNpZmljIGNvbXBvbmVudCBjbGFzcyBieSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yLFxuICAgICk6IEFfQ29tcG9uZW50TWV0YVxuICAgIHN0YXRpYyBtZXRhKFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IG1ldGEgZm9yIHRoZSBzcGVjaWZpYyBjb21wb25lbnQgaW5zdGFuY2UuXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfQ29tcG9uZW50LFxuICAgICk6IEFfQ29tcG9uZW50TWV0YVxuICAgIHN0YXRpYyBtZXRhKFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IG1ldGEgZm9yIHRoZSBzcGVjaWZpYyBjb21wb25lbnQgYnkgaXRzIG5hbWUuXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IHN0cmluZyxcbiAgICApOiBBX0NvbXBvbmVudE1ldGFcbiAgICBzdGF0aWMgbWV0YShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBtZXRhIGZvciB0aGUgc3BlY2lmaWMgaW5qZWN0YWJsZSB0YXJnZXQgKGNsYXNzIG9yIGluc3RhbmNlKS5cbiAgICAgICAgICovXG4gICAgICAgIHRhcmdldDogQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMsXG4gICAgKTogQV9Db21wb25lbnRNZXRhXG4gICAgc3RhdGljIG1ldGE8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4+KFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IG1ldGEgZm9yIHRoZSBzcGVjaWZpYyBjbGFzcyBvciBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3I6IG5ldyAoLi4uYXJnczogYW55W10pID0+IGFueVxuICAgICk6IEFfTWV0YTxUPlxuXG4gICAgc3RhdGljIG1ldGE8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4+KFxuICAgICAgICBwYXJhbTE6IEFfVFlQRVNfX01ldGFMaW5rZWRDb21wb25lbnRDb25zdHJ1Y3RvcnNcbiAgICAgICAgICAgIHwgQV9UWVBFU19fTWV0YUxpbmtlZENvbXBvbmVudHNcbiAgICAgICAgICAgIHwgc3RyaW5nXG4gICAgKTogQV9NZXRhPFQ+IHtcblxuICAgICAgICAvLyBHZXQgdGhlIGNvbXBvbmVudCBuYW1lIGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShwYXJhbTEpO1xuICAgICAgICAvLyBHZXQgdGhlIGluc3RhbmNlIG9mIHRoZSBjb250ZXh0XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgIGlmICghcGFyYW0xKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZE1ldGFQYXJhbWV0ZXJFcnJvciwgYEludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBtZXRhLiBQYXJhbWV0ZXIgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwYXJhbWV0ZXIgaXMgYWxsb3dlZCBmb3IgbWV0YSBzdG9yYWdlXG4gICAgICAgIGlmICghKFxuICAgICAgICAgICAgdGhpcy5pc0FsbG93ZWRGb3JNZXRhKHBhcmFtMSlcbiAgICAgICAgICAgIHx8IHRoaXMuaXNBbGxvd2VkRm9yTWV0YUNvbnN0cnVjdG9yKHBhcmFtMSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc1N0cmluZyhwYXJhbTEpXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNGdW5jdGlvbihwYXJhbTFcbiAgICAgICAgICAgICkpXG4gICAgICAgICkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkludmFsaWRNZXRhUGFyYW1ldGVyRXJyb3IsIGBJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgbWV0YS4gQ29tcG9uZW50IG9mIHR5cGUgJHtjb21wb25lbnROYW1lfSBpcyBub3QgYWxsb3dlZCBmb3IgbWV0YSBzdG9yYWdlLiBPbmx5IEFfQ29udGFpbmVyLCBBX0NvbXBvbmVudCBhbmQgQV9FbnRpdHkgYXJlIGFsbG93ZWQuYCk7XG5cbiAgICAgICAgbGV0IHByb3BlcnR5OiBBX1RZUEVTX19NZXRhTGlua2VkQ29tcG9uZW50Q29uc3RydWN0b3JzO1xuICAgICAgICBsZXQgbWV0YVR5cGU6IHR5cGVvZiBBX01ldGE8VD4gfCB0eXBlb2YgQV9Db250YWluZXJNZXRhIHwgdHlwZW9mIEFfQ29tcG9uZW50TWV0YSB8IHR5cGVvZiBBX0VudGl0eU1ldGFcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIC8vIDEpIElmIHBhcmFtMSBpcyBpbnN0YW5jZSBvZiBBX0NvbnRhaW5lclxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZShwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fQ29udGFpbmVyX0NvbnN0cnVjdG9yO1xuICAgICAgICAgICAgICAgIG1ldGFUeXBlID0gQV9Db250YWluZXJNZXRhO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAyKSBJZiBwYXJhbTEgaXMgY2xhc3Mgb2YgQV9Db250YWluZXJcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVyQ29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcGFyYW0xIGFzIHR5cGVvZiBBX0NvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICBtZXRhVHlwZSA9IEFfQ29udGFpbmVyTWV0YTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMykgSWYgcGFyYW0xIGlzIGluc3RhbmNlIG9mIEFfQ29tcG9uZW50XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHBhcmFtMS5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I7XG4gICAgICAgICAgICAgICAgbWV0YVR5cGUgPSBBX0NvbXBvbmVudE1ldGE7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDQpIElmIHBhcmFtMSBpcyBjbGFzcyBvZiBBX0NvbXBvbmVudFxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3RvcihwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBwYXJhbTEgYXMgdHlwZW9mIEFfQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgIG1ldGFUeXBlID0gQV9Db21wb25lbnRNZXRhO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA1KSBJZiBwYXJhbTEgaXMgaW5zdGFuY2Ugb2YgQV9FbnRpdHlcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcGFyYW0xLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjtcbiAgICAgICAgICAgICAgICBtZXRhVHlwZSA9IEFfQ29tcG9uZW50TWV0YTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNikgSWYgcGFyYW0xIGlzIGNsYXNzIG9mIEFfRW50aXR5XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0VudGl0eUNvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHBhcmFtMTtcbiAgICAgICAgICAgICAgICBtZXRhVHlwZSA9IEFfRW50aXR5TWV0YTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNykgSWYgcGFyYW0xIGlzIHN0cmluZyB0aGVuIHdlIG5lZWQgdG8gZmluZCB0aGUgY29tcG9uZW50IGJ5IGl0cyBuYW1lXG4gICAgICAgICAgICBjYXNlIHR5cGVvZiBwYXJhbTEgPT09ICdzdHJpbmcnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSBBcnJheS5mcm9tKGluc3RhbmNlLl9tZXRhU3RvcmFnZSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoKFtjXSkgPT4gYy5uYW1lID09PSBwYXJhbTFcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IGMubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9LZWJhYkNhc2UocGFyYW0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgYy5uYW1lID09PSBBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2UocGFyYW0xKVxuICAgICAgICAgICAgICAgICAgICApITtcbiAgICAgICAgICAgICAgICBpZiAoIShmb3VuZCAmJiBmb3VuZC5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZE1ldGFQYXJhbWV0ZXJFcnJvciwgYEludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBtZXRhLiBDb21wb25lbnQgd2l0aCBuYW1lICR7cGFyYW0xfSBub3QgZm91bmQgaW4gdGhlIG1ldGEgc3RvcmFnZS5gKTtcblxuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gZm91bmRbMF07XG4gICAgICAgICAgICAgICAgbWV0YVR5cGUgPSBBX0NvbXBvbmVudE1ldGE7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDgpIElmIHBhcmFtMSBpcyBhbnkgb3RoZXIgY2xhc3Mgb3IgZnVuY3Rpb25cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHBhcmFtMTtcbiAgICAgICAgICAgICAgICBtZXRhVHlwZSA9IEFfTWV0YTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIG1ldGEgYWxyZWFkeSBleGlzdHMgZm9yIHRoZSBwcm9wZXJ0eSwgaWYgbm90IGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgaWYgKCFpbnN0YW5jZS5fbWV0YVN0b3JhZ2UuaGFzKHByb3BlcnR5KSkge1xuICAgICAgICAgICAgY29uc3QgaW5oZXJpdE1ldGEgPSBpbnN0YW5jZS5fbWV0YVN0b3JhZ2UuZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm9wZXJ0eSkpIHx8IG5ldyBtZXRhVHlwZSgpO1xuICAgICAgICAgICAgaW5zdGFuY2UuX21ldGFTdG9yYWdlLnNldChwcm9wZXJ0eSwgbmV3IG1ldGFUeXBlKCkuZnJvbShpbmhlcml0TWV0YSBhcyBhbnkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldHVybiB0aGUgbWV0YSBmb3IgdGhlIHByb3BlcnR5XG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5fbWV0YVN0b3JhZ2UuZ2V0KHByb3BlcnR5KSE7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBhbGxvd3MgdG8gZ2V0IHRoZSBpc3N1ZXIgb2YgYSBzcGVjaWZpYyBzY29wZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGUgLSBTY29wZSB0byBnZXQgdGhlIGlzc3VlciBmb3IuXG4gICAgICogQHJldHVybnMgLSBDb21wb25lbnQgdGhhdCBpc3N1ZWQgdGhlIHNjb3BlLlxuICAgICAqL1xuICAgIHN0YXRpYyBpc3N1ZXIoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBzY29wZSB0byBnZXQgaXRzIGlzc3Vlci5cbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlOiBBX1Njb3BlXG4gICAgKTogQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHwgdW5kZWZpbmVkIHtcblxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICBpZiAoIXNjb3BlKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICBBX0NvbnRleHRFcnJvci5JbnZhbGlkQ29tcG9uZW50UGFyYW1ldGVyRXJyb3IsXG4gICAgICAgICAgICBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IHNjb3BlIGlzc3Vlci4gUGFyYW1ldGVyIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gaWYgKCFpbnN0YW5jZS5fc2NvcGVJc3N1ZXJzLmhhcyhzY29wZSkpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgLy8gICAgIEFfQ29udGV4dEVycm9yLlNjb3BlTm90Rm91bmRFcnJvcixcbiAgICAgICAgLy8gICAgIGBJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgc2NvcGUgaXNzdWVyLiBQcm92aWRlZCBzY29wZSBkb2VzIG5vdCBoYXZlIGFuIGlzc3VlciByZWdpc3RlcmVkLmBcbiAgICAgICAgLy8gKTtcblxuICAgICAgICByZXR1cm4gaW5zdGFuY2UuX3Njb3BlSXNzdWVycy5nZXQoc2NvcGUpITtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzY29wZSBvZiB0aGUgc3BlY2lmaWMgY2xhc3Mgb3IgaW5zdGFuY2UuXG4gICAgICogXG4gICAgICogRXZlcnkgZXhlY3V0aW9uIGluIENvbmNlcHQgaGFzIGl0cyBvd24gc2NvcGUuXG4gICAgICogXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIHNjb3BlIG9mIHRoZSBzcGVjaWZpYyBjbGFzcyBvciBpbnN0YW5jZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZW50aXR5IFxuICAgICAqL1xuICAgIHN0YXRpYyBzY29wZTxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgdG8gZ2V0IGl0cyBzY29wZS5cbiAgICAgICAgICovXG4gICAgICAgIGVudGl0eTogVFxuICAgICk6IEFfU2NvcGVcbiAgICBzdGF0aWMgc2NvcGU8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdG8gZ2V0IGl0cyBzY29wZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogVFxuICAgICk6IEFfU2NvcGVcbiAgICBzdGF0aWMgc2NvcGU8VCBleHRlbmRzIEFfQ29udGFpbmVyPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb250YWluZXIgdG8gZ2V0IGl0cyBzY29wZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnRhaW5lcjogVFxuICAgICk6IEFfU2NvcGVcbiAgICBzdGF0aWMgc2NvcGU8VCBleHRlbmRzIEFfRmVhdHVyZT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZmVhdHVyZSB0byBnZXQgaXRzIHNjb3BlLlxuICAgICAgICAgKi9cbiAgICAgICAgZmVhdHVyZTogVFxuICAgICk6IEFfU2NvcGVcbiAgICBzdGF0aWMgc2NvcGU8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGZyYWdtZW50IHRvIGdldCBpdHMgc2NvcGUuXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudDogVFxuICAgICk6IEFfU2NvcGVcbiAgICBzdGF0aWMgc2NvcGU8VCBleHRlbmRzIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyB8IEFfVFlQRVNfU2NvcGVEZXBlbmRlbnRDb21wb25lbnRzPihcbiAgICAgICAgcGFyYW0xOiBUXG4gICAgKTogQV9TY29wZSB7XG5cbiAgICAgICAgLy8gZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IG5hbWUgPSAocGFyYW0xIGFzIGFueSk/LmNvbnN0cnVjdG9yPy5uYW1lIHx8IFN0cmluZyhwYXJhbTEpO1xuXG4gICAgICAgIC8vIEdldCB0aGUgaW5zdGFuY2Ugb2YgdGhlIGNvbnRleHRcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgLy8gSW5wdXQgdmFsaWRhdGlvblxuICAgICAgICBpZiAoIXBhcmFtMSkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkludmFsaWRTY29wZVBhcmFtZXRlckVycm9yLCBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IHNjb3BlLiBQYXJhbWV0ZXIgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwYXJhbWV0ZXIgaXMgYWxsb3dlZCBmb3Igc2NvcGUgYWxsb2NhdGlvblxuICAgICAgICBpZiAoIXRoaXMuaXNBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uKHBhcmFtMSlcbiAgICAgICAgICAgICYmICF0aGlzLmlzQWxsb3dlZFRvQmVSZWdpc3RlcmVkKHBhcmFtMSlcbiAgICAgICAgKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkludmFsaWRTY29wZVBhcmFtZXRlckVycm9yLCBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IHNjb3BlLiBDb21wb25lbnQgb2YgdHlwZSAke25hbWV9IGlzIG5vdCBhbGxvd2VkIGZvciBzY29wZSBhbGxvY2F0aW9uLmApO1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSB0aGlzLmlzQWxsb3dlZEZvclNjb3BlQWxsb2NhdGlvbihwYXJhbTEpOlxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBhcmFtZXRlciBoYXMgYSBzY29wZSBhbGxvY2F0ZWRcbiAgICAgICAgICAgICAgICBpZiAoIWluc3RhbmNlLl9yZWdpc3RyeS5oYXMocGFyYW0xKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgQV9Db250ZXh0RXJyb3IuU2NvcGVOb3RGb3VuZEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYEludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBzY29wZS4gQ29tcG9uZW50IG9mIHR5cGUgJHtuYW1lfSBkb2VzIG5vdCBoYXZlIGEgc2NvcGUgYWxsb2NhdGVkLiBNYWtlIHN1cmUgdG8gYWxsb2NhdGUgYSBzY29wZSB1c2luZyBBX0NvbnRleHQuYWxsb2NhdGUoKSBtZXRob2QgYmVmb3JlIHRyeWluZyB0byBnZXQgdGhlIHNjb3BlLmBcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwYXJhbWV0ZXIgaXMgYWxsb3dlZCBmb3Igc2NvcGUgYWxsb2NhdGlvbiwgcmV0dXJuIHRoZSBzY29wZVxuICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZS5fcmVnaXN0cnkuZ2V0KHBhcmFtMSkhO1xuXG4gICAgICAgICAgICBjYXNlIHRoaXMuaXNBbGxvd2VkVG9CZVJlZ2lzdGVyZWQocGFyYW0xKTpcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBwYXJhbWV0ZXIgaGFzIGEgc2NvcGUgcmVnaXN0ZXJlZFxuICAgICAgICAgICAgICAgIGlmICghaW5zdGFuY2UuX3Njb3BlU3RvcmFnZS5oYXMocGFyYW0xKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgQV9Db250ZXh0RXJyb3IuU2NvcGVOb3RGb3VuZEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYEludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBzY29wZS4gQ29tcG9uZW50IG9mIHR5cGUgJHtuYW1lfSBkb2VzIG5vdCBoYXZlIGEgc2NvcGUgcmVnaXN0ZXJlZC4gTWFrZSBzdXJlIHRvIHJlZ2lzdGVyIHRoZSBjb21wb25lbnQgdXNpbmcgQV9Db250ZXh0LnJlZ2lzdGVyKCkgbWV0aG9kIGJlZm9yZSB0cnlpbmcgdG8gZ2V0IHRoZSBzY29wZS5gXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcGFyYW1ldGVyIGlzIGFsbG93ZWQgdG8gYmUgcmVnaXN0ZXJlZCwgcmV0dXJuIHRoZSBzY29wZSBmcm9tIHRoZSBzdG9yYWdlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLl9zY29wZVN0b3JhZ2UuZ2V0KHBhcmFtMSkhO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZFNjb3BlUGFyYW1ldGVyRXJyb3IsIGBJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgc2NvcGUuIENvbXBvbmVudCBvZiB0eXBlICR7bmFtZX0gaXMgbm90IGFsbG93ZWQgdG8gYmUgcmVnaXN0ZXJlZC5gKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRkVBVFVSRSBNQU5BR0VNRU5UID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tUHJpbWFyeSBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHRlbXBsYXRlIG9mIHRoZSBmZWF0dXJlIHRoYXQgY2FuIGJlIHRoZW4gdXNlZCB0byBjcmVhdGUgYSBuZXcgQS1GZWF0dXJlIEluc3RhbmNlXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IFN0ZXBzL1N0YWdlcyBpbmNsdWRlZCBhcmUgZnVsbHkgZGVwZW5kZW50IG9uIHRoZSBzY29wZSBwcm92aWRlZCBzaW5jZSBpdCBkaWN0YXRlcyB3aGljaCBjb21wb25lbnRzIGFyZSBhY3RpdmUgYW5kIGNhbiBwcm92aWRlIGV4dGVuc2lvbnMgZm9yIHRoZSBmZWF0dXJlLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuYW1lIFxuICAgICAqL1xuICAgIHN0YXRpYyBmZWF0dXJlVGVtcGxhdGUoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBuYW1lIG9mIHRoZSBmZWF0dXJlIHRvIGdldCB0aGUgdGVtcGxhdGUgZm9yLiBSZWd1bGFyIGV4cHJlc3Npb25zIGFyZSBhbHNvIHN1cHBvcnRlZCB0byBtYXRjaCBtdWx0aXBsZSBmZWF0dXJlcy5cbiAgICAgICAgICovXG4gICAgICAgIG5hbWU6IHN0cmluZyB8IFJlZ0V4cCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIGNvbXBvbmVudCB0byBnZXQgdGhlIGZlYXR1cmUgdGVtcGxhdGUgZnJvbS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBzY29wZSB0aGF0IGRpY3RhdGVzIHdoaWNoIGNvbXBvbmVudHMgYXJlIGFjdGl2ZSBhbmQgY2FuIHByb3ZpZGUgZXh0ZW5zaW9ucyBmb3IgdGhlIGZlYXR1cmUuXG4gICAgICAgICAqL1xuICAgICAgICBzY29wZTogQV9TY29wZSA9IHRoaXMuc2NvcGUoY29tcG9uZW50KVxuICAgICk6IEFycmF5PEFfVFlQRVNfX0FfU3RhZ2VTdGVwPiB7XG4gICAgICAgIC8vIG5hbWUgZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKGNvbXBvbmVudCk7XG5cbiAgICAgICAgLy8gSW5wdXQgdmFsaWRhdGlvblxuICAgICAgICBpZiAoIWNvbXBvbmVudCkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkludmFsaWRGZWF0dXJlVGVtcGxhdGVQYXJhbWV0ZXJFcnJvciwgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQ29tcG9uZW50IGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcbiAgICAgICAgaWYgKCFuYW1lKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVUZW1wbGF0ZVBhcmFtZXRlckVycm9yLCBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBGZWF0dXJlIG5hbWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwYXJhbWV0ZXIgaXMgYWxsb3dlZCBmb3IgZmVhdHVyZSBkZWZpbml0aW9uXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckZlYXR1cmVEZWZpbml0aW9uKGNvbXBvbmVudCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVUZW1wbGF0ZVBhcmFtZXRlckVycm9yLCBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBDb21wb25lbnQgb2YgdHlwZSAke2NvbXBvbmVudE5hbWV9IGlzIG5vdCBhbGxvd2VkIGZvciBmZWF0dXJlIGRlZmluaXRpb24uYCk7XG5cbiAgICAgICAgY29uc3Qgc3RlcHM6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwW10gPSBbXG4gICAgICAgICAgICAvLyAxKSBHZXQgdGhlIGJhc2UgZmVhdHVyZSBkZWZpbml0aW9uIGZyb20gdGhlIGNvbXBvbmVudFxuICAgICAgICAgICAgLi4udGhpcy5mZWF0dXJlRGVmaW5pdGlvbihuYW1lLCBjb21wb25lbnQpLFxuICAgICAgICAgICAgLy8gMikgR2V0IGFsbCBleHRlbnNpb25zIGZvciB0aGUgZmVhdHVyZSBmcm9tIG90aGVyIGNvbXBvbmVudHMgaW4gdGhlIHNjb3BlXG4gICAgICAgICAgICAuLi50aGlzLmZlYXR1cmVFeHRlbnNpb25zKG5hbWUsIGNvbXBvbmVudCwgc2NvcGUpXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHN0ZXBzO1xuICAgIH1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1IZWxwZXIgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBleHRlbnNpb25zIGZvciB0aGUgc3BlY2lmaWMgZmVhdHVyZSBpbiB0aGUgc3BlY2lmaWMgY29tcG9uZW50IHdpdGhpbiB0aGUgcHJvdmlkZWQgc2NvcGUuXG4gICAgICogU2NvcGUgZGljdGF0ZXMgd2hpY2ggY29tcG9uZW50cyBhcmUgYWN0aXZlIGFuZCBjYW4gcHJvdmlkZSBleHRlbnNpb25zIGZvciB0aGUgZmVhdHVyZS5cbiAgICAgKiBcbiAgICAgKiBbIV0gVGhpcyBtZXRob2Qgb25seSByZXR1cm5zIGV4dGVuc2lvbnMsIG5vdCB0aGUgYmFzZSBmZWF0dXJlIGRlZmluaXRpb24uXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBmZWF0dXJlRXh0ZW5zaW9ucyhcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIG5hbWUgb2YgdGhlIGZlYXR1cmUgdG8gZ2V0IHRoZSB0ZW1wbGF0ZSBmb3IuIFJlZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIGFsc28gc3VwcG9ydGVkIHRvIG1hdGNoIG11bHRpcGxlIGZlYXR1cmVzLlxuICAgICAgICAgKi9cbiAgICAgICAgbmFtZTogc3RyaW5nIHwgUmVnRXhwLFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgY29tcG9uZW50IHRvIGdldCB0aGUgZmVhdHVyZSB0ZW1wbGF0ZSBmcm9tLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIHNjb3BlIHRoYXQgZGljdGF0ZXMgd2hpY2ggY29tcG9uZW50cyBhcmUgYWN0aXZlIGFuZCBjYW4gcHJvdmlkZSBleHRlbnNpb25zIGZvciB0aGUgZmVhdHVyZS5cbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlOiBBX1Njb3BlXG4gICAgKTogQXJyYXk8QV9UWVBFU19fQV9TdGFnZVN0ZXA+IHtcblxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgLy8gbmFtZSBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KTtcblxuICAgICAgICAvLyBJbnB1dCB2YWxpZGF0aW9uXG4gICAgICAgIGlmICghY29tcG9uZW50KSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVFeHRlbnNpb25QYXJhbWV0ZXJFcnJvciwgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQ29tcG9uZW50IGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcbiAgICAgICAgaWYgKCFuYW1lKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVFeHRlbnNpb25QYXJhbWV0ZXJFcnJvciwgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gRmVhdHVyZSBuYW1lIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcGFyYW1ldGVyIGlzIGFsbG93ZWQgZm9yIGZlYXR1cmUgZGVmaW5pdGlvblxuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc0FsbG93ZWRGb3JGZWF0dXJlRGVmaW5pdGlvbihjb21wb25lbnQpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkludmFsaWRGZWF0dXJlRXh0ZW5zaW9uUGFyYW1ldGVyRXJyb3IsIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIENvbXBvbmVudCBvZiB0eXBlICR7Y29tcG9uZW50TmFtZX0gaXMgbm90IGFsbG93ZWQgZm9yIGZlYXR1cmUgZGVmaW5pdGlvbi5gKTtcblxuXG4gICAgICAgIGNvbnN0IGNhbGxOYW1lcyA9IEFfQ29tbW9uSGVscGVyLmdldENsYXNzSW5oZXJpdGFuY2VDaGFpbihjb21wb25lbnQpXG4gICAgICAgICAgICAuZmlsdGVyKGMgPT4gYyAhPT0gQV9Db21wb25lbnQgJiYgYyAhPT0gQV9Db250YWluZXIgJiYgYyAhPT0gQV9FbnRpdHkpXG4gICAgICAgICAgICAubWFwKGMgPT4gYCR7Yy5uYW1lfS4ke25hbWV9YCk7XG5cbiAgICAgICAgLy8gY29uc3QgY2FsbE5hbWUgPSBgJHtjb21wb25lbnQuY29uc3RydWN0b3IubmFtZX0uJHtuYW1lfWA7XG5cbiAgICAgICAgY29uc3Qgc3RlcHM6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwW10gPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGNhbGxOYW1lIG9mIGNhbGxOYW1lcykge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBnZXQgYWxsIGNvbXBvbmVudHMgdGhhdCBoYXMgZXh0ZW5zaW9ucyBmb3IgdGhlIGZlYXR1cmUgaW4gY29tcG9uZW50XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtjbXAsIG1ldGFdIG9mIGluc3RhbmNlLl9tZXRhU3RvcmFnZSkge1xuICAgICAgICAgICAgICAgIC8vIEp1c3QgdHJ5IHRvIG1ha2Ugc3VyZSB0aGF0IGNvbXBvbmVudCBub3Qgb25seSBJbmRleGVkIGJ1dCBhbHNvIHByZXNlbnRlZCBpbiBzY29wZVxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5oYXMoY21wKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudE1ldGFJbnN0YW5jZShtZXRhKVxuICAgICAgICAgICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJNZXRhSW5zdGFuY2UobWV0YSlcbiAgICAgICAgICAgICAgICApKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBhbGwgZXh0ZW5zaW9ucyBmb3IgdGhlIGZlYXR1cmVcbiAgICAgICAgICAgICAgICAgICAgbWV0YVxuICAgICAgICAgICAgICAgICAgICAgICAgLmV4dGVuc2lvbnMoY2FsbE5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCgoZGVjbGFyYXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBjbXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRlY2xhcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5zdGFuY2UuZmlsdGVyVG9Nb3N0RGVyaXZlZChzY29wZSwgc3RlcHMpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogbWV0aG9kIGhlbHBzIHRvIGZpbHRlciBzdGVwcyBpbiBhIHdheSB0aGF0IG9ubHkgdGhlIG1vc3QgZGVyaXZlZCBjbGFzc2VzIGFyZSBrZXB0LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzY29wZSBcbiAgICAgKiBAcGFyYW0gaXRlbXMgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSBmaWx0ZXJUb01vc3REZXJpdmVkKFxuICAgICAgICBzY29wZTogQV9TY29wZSxcbiAgICAgICAgaXRlbXM6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwW10pOiBBcnJheTxBX1RZUEVTX19BX1N0YWdlU3RlcD4ge1xuICAgICAgICByZXR1cm4gaXRlbXMuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENsYXNzID0gdHlwZW9mIGl0ZW0uY29tcG9uZW50ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gc2NvcGUucmVzb2x2ZUNvbnN0cnVjdG9yKGl0ZW0uY29tcG9uZW50KVxuICAgICAgICAgICAgICAgIDogQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UoaXRlbS5jb21wb25lbnQpXG4gICAgICAgICAgICAgICAgICAgID8gaXRlbS5jb21wb25lbnQuY29uc3RydWN0b3IgOiBpdGVtLmNvbXBvbmVudDtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBjbGFzcyBpcyBwYXJlbnQgb2YgYW55IG90aGVyIGluIHRoZSBsaXN0XG4gICAgICAgICAgICBjb25zdCBpc1BhcmVudE9mQW5vdGhlciA9IGl0ZW1zLnNvbWUob3RoZXIgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChvdGhlciA9PT0gaXRlbSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJDbGFzcyA9IHR5cGVvZiBvdGhlci5jb21wb25lbnQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gc2NvcGUucmVzb2x2ZUNvbnN0cnVjdG9yKG90aGVyLmNvbXBvbmVudClcbiAgICAgICAgICAgICAgICAgICAgOiBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZShvdGhlci5jb21wb25lbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG90aGVyLmNvbXBvbmVudC5jb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBvdGhlci5jb21wb25lbnQ7XG5cblxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50Q2xhc3MucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yob3RoZXJDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEtlZXAgb25seSBjbGFzc2VzIHRoYXQgYXJlIG5vdCBwYXJlbnQgb2YgYW55IG90aGVyXG4gICAgICAgICAgICByZXR1cm4gIWlzUGFyZW50T2ZBbm90aGVyO1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZlYXR1cmUgdGVtcGxhdGUgZGVmaW5pdGlvbiB3aXRob3V0IGFueSBleHRlbnNpb25zLlxuICAgICAqIEl0IGNhbiBiZSB1c2VkIHRvIHJldHJpZXZlIHRoZSBiYXNlIHRlbXBsYXRlIGZvciBhIGZlYXR1cmUgYmVmb3JlIGFueSBtb2RpZmljYXRpb25zIGFyZSBhcHBsaWVkLlxuICAgICAqIFxuICAgICAqIFshXSBUaGlzIG1ldGhvZCBkb2VzIG5vdCBjb25zaWRlciBleHRlbnNpb25zIGZyb20gb3RoZXIgY29tcG9uZW50cy5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZmVhdHVyZSBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBmZWF0dXJlRGVmaW5pdGlvbihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5hbWUgb2YgdGhlIGZlYXR1cmUgdG8gZ2V0IHRoZSB0ZW1wbGF0ZSBmb3IuXG4gICAgICAgICAqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIGFsc28gc3VwcG9ydGVkIHRvIG1hdGNoIG11bHRpcGxlIGZlYXR1cmVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZmVhdHVyZTogc3RyaW5nIHwgUmVnRXhwLFxuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcG9uZW50IHRvIGdldCB0aGUgZmVhdHVyZSB0ZW1wbGF0ZSBmcm9tLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgICApOiBBcnJheTxBX1RZUEVTX19BX1N0YWdlU3RlcD4ge1xuICAgICAgICBsZXQgbWV0YUtleTtcblxuICAgICAgICBpZiAoIWZlYXR1cmUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVUZW1wbGF0ZVBhcmFtZXRlckVycm9yLCBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBGZWF0dXJlIG5hbWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuICAgICAgICBpZiAoIWNvbXBvbmVudClcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkRmVhdHVyZVRlbXBsYXRlUGFyYW1ldGVyRXJyb3IsIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIENvbXBvbmVudCBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG5cblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgY29tcG9uZW50IGluc3RhbmNlb2YgQV9FbnRpdHk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0VudGl0eU1ldGFLZXkuRkVBVFVSRVM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbXBvbmVudCBpbnN0YW5jZW9mIEFfQ29udGFpbmVyOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LkZFQVRVUkVTXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbXBvbmVudCBpbnN0YW5jZW9mIEFfQ29tcG9uZW50OlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LkZFQVRVUkVTXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkludmFsaWRGZWF0dXJlVGVtcGxhdGVQYXJhbWV0ZXJFcnJvciwgYEEtRmVhdHVyZSBjYW5ub3QgYmUgZGVmaW5lZCBvbiB0aGUgJHtjb21wb25lbnR9IGxldmVsYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmZWF0dXJlRGVmaW5pdGlvbjogQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGEgfCB1bmRlZmluZWQgPSB0aGlzLm1ldGEoY29tcG9uZW50KVxuICAgICAgICAgICAgPy5nZXQobWV0YUtleSlcbiAgICAgICAgICAgID8uZ2V0KGZlYXR1cmUpO1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAuLi4oZmVhdHVyZURlZmluaXRpb24/LnRlbXBsYXRlIHx8IFtdKVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEFCU1RSQUNUSU9OIE1BTkFHRU1FTlQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1QcmltYXJ5IE1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZGVmaW5pdGlvbiBvZiB0aGUgYWJzdHJhY3Rpb24gdGhhdCBjYW4gYmUgdGhlbiB1c2VkIHRvIGNyZWF0ZSBhIG5ldyBBLUZlYXR1cmUgSW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogU3RlcHMvU3RhZ2VzIGluY2x1ZGVkIGFyZSBmdWxseSBkZXBlbmRlbnQgb24gdGhlIHNjb3BlIHByb3ZpZGVkIHNpbmNlIGl0IGRpY3RhdGVzIHdoaWNoIGNvbXBvbmVudHMgYXJlIGFjdGl2ZSBhbmQgY2FuIHByb3ZpZGUgZXh0ZW5zaW9ucyBmb3IgdGhlIGFic3RyYWN0aW9uLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhYnN0cmFjdGlvbiBcbiAgICAgKi9cbiAgICBzdGF0aWMgYWJzdHJhY3Rpb25UZW1wbGF0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIGFic3RyYWN0aW9uIHN0YWdlIHRvIGdldCB0aGUgZGVmaW5pdGlvbiBmb3IuXG4gICAgICAgICAqL1xuICAgICAgICBhYnN0cmFjdGlvbjogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIGNvbXBvbmVudCB0byBnZXQgdGhlIGFic3RyYWN0aW9uIGRlZmluaXRpb24gZnJvbS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMsXG4gICAgKTogQXJyYXk8QV9UWVBFU19fQV9TdGFnZVN0ZXA+IHtcbiAgICAgICAgLy8gbmFtZSBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IChBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKGNvbXBvbmVudCkpO1xuXG4gICAgICAgIC8vIElucHV0IHZhbGlkYXRpb25cbiAgICAgICAgaWYgKCFjb21wb25lbnQpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLkludmFsaWRBYnN0cmFjdGlvblRlbXBsYXRlUGFyYW1ldGVyRXJyb3IsXG4gICAgICAgICAgICBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBDb21wb25lbnQgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuXG4gICAgICAgIGlmICghYWJzdHJhY3Rpb24pIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLkludmFsaWRBYnN0cmFjdGlvblRlbXBsYXRlUGFyYW1ldGVyRXJyb3IsXG4gICAgICAgICAgICBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBBYnN0cmFjdGlvbiBzdGFnZSBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBhcmFtZXRlciBpcyBhbGxvd2VkIGZvciBmZWF0dXJlIGRlZmluaXRpb25cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNBbGxvd2VkRm9yQWJzdHJhY3Rpb25EZWZpbml0aW9uKGNvbXBvbmVudCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEFic3RyYWN0aW9uVGVtcGxhdGVQYXJhbWV0ZXJFcnJvciwgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQ29tcG9uZW50IG9mIHR5cGUgJHtjb21wb25lbnROYW1lfSBpcyBub3QgYWxsb3dlZCBmb3IgZmVhdHVyZSBkZWZpbml0aW9uLmApO1xuXG4gICAgICAgIGNvbnN0IHN0ZXBzOiBBX1RZUEVTX19BX1N0YWdlU3RlcFtdID0gW1xuICAgICAgICAgICAgLy8gMSkgR2V0IHRoZSBiYXNlIGFic3RyYWN0aW9uIGRlZmluaXRpb24gZnJvbSB0aGUgY29tcG9uZW50XG4gICAgICAgICAgICAvLyBbIV0gTm8gYWJzdHJhY3Rpb24gRGVmaW5pdGlvbnMgLT4gVGhleSBhcmUgbGltaXRlZCB0byBDb25jZXB0IEFic3RyYWN0aW9ucyBPTkxZXG4gICAgICAgICAgICAvLyAuLi50aGlzLmFic3RyYWN0aW9uRGVmaW5pdGlvbihhYnN0cmFjdGlvbiwgY29tcG9uZW50KSxcblxuICAgICAgICAgICAgLy8gMikgR2V0IGFsbCBleHRlbnNpb25zIGZvciB0aGUgYWJzdHJhY3Rpb24gZnJvbSBvdGhlciBjb21wb25lbnRzIGluIHRoZSBzY29wZVxuICAgICAgICAgICAgLi4udGhpcy5hYnN0cmFjdGlvbkV4dGVuc2lvbnMoYWJzdHJhY3Rpb24sIGNvbXBvbmVudClcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gc3RlcHM7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tSGVscGVyIE1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBzdGF0aWMgYWJzdHJhY3Rpb25FeHRlbnNpb25zKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgYWJzdHJhY3Rpb24gbmFtZSB0byBnZXQgdGhlIGRlZmluaXRpb24gZm9yLlxuICAgICAgICAgKi9cbiAgICAgICAgYWJzdHJhY3Rpb246IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBjb21wb25lbnQgdG8gZ2V0IHRoZSBhYnN0cmFjdGlvbiBkZWZpbml0aW9uIGZyb20uXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzLFxuICAgICk6IEFycmF5PEFfVFlQRVNfX0FfU3RhZ2VTdGVwPiB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAvLyBuYW1lIGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQpO1xuXG4gICAgICAgIC8vIElucHV0IHZhbGlkYXRpb25cbiAgICAgICAgaWYgKCFjb21wb25lbnQpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLkludmFsaWRBYnN0cmFjdGlvbkV4dGVuc2lvblBhcmFtZXRlckVycm9yLFxuICAgICAgICAgICAgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQ29tcG9uZW50IGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gXG4gICAgICAgICk7XG4gICAgICAgIGlmICghYWJzdHJhY3Rpb24pIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLkludmFsaWRBYnN0cmFjdGlvbkV4dGVuc2lvblBhcmFtZXRlckVycm9yLFxuICAgICAgICAgICAgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQWJzdHJhY3Rpb24gc3RhZ2UgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmBcbiAgICAgICAgKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBhcmFtZXRlciBpcyBhbGxvd2VkIGZvciBmZWF0dXJlIGRlZmluaXRpb25cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNBbGxvd2VkRm9yQWJzdHJhY3Rpb25EZWZpbml0aW9uKGNvbXBvbmVudCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3JcbiAgICAgICAgICAgICAgICAoQV9Db250ZXh0RXJyb3IuSW52YWxpZEFic3RyYWN0aW9uRXh0ZW5zaW9uUGFyYW1ldGVyRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIENvbXBvbmVudCBvZiB0eXBlICR7Y29tcG9uZW50TmFtZX0gaXMgbm90IGFsbG93ZWQgZm9yIGZlYXR1cmUgZGVmaW5pdGlvbi5gXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBzdGVwczogQV9UWVBFU19fQV9TdGFnZVN0ZXBbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHNjb3BlID0gdGhpcy5zY29wZShjb21wb25lbnQpO1xuXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gZ2V0IGFsbCBjb21wb25lbnRzIHRoYXQgaGFzIGV4dGVuc2lvbnMgZm9yIHRoZSBmZWF0dXJlIGluIGNvbXBvbmVudFxuICAgICAgICBmb3IgKGNvbnN0IFtjbXAsIG1ldGFdIG9mIGluc3RhbmNlLl9tZXRhU3RvcmFnZSkge1xuICAgICAgICAgICAgLy8gSnVzdCB0cnkgdG8gbWFrZSBzdXJlIHRoYXQgY29tcG9uZW50IG5vdCBvbmx5IEluZGV4ZWQgYnV0IGFsc28gcHJlc2VudGVkIGluIHNjb3BlXG4gICAgICAgICAgICBpZiAoc2NvcGUuaGFzKGNtcCkgJiYgKFxuICAgICAgICAgICAgICAgIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudE1ldGFJbnN0YW5jZShtZXRhKVxuICAgICAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lck1ldGFJbnN0YW5jZShtZXRhKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgIC8vIEdldCBhbGwgZXh0ZW5zaW9ucyBmb3IgdGhlIGZlYXR1cmVcbiAgICAgICAgICAgICAgICBtZXRhXG4gICAgICAgICAgICAgICAgICAgIC5hYnN0cmFjdGlvbnMoYWJzdHJhY3Rpb24pXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChkZWNsYXJhdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBjbXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGVjbGFyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5maWx0ZXJUb01vc3REZXJpdmVkKHNjb3BlLCBzdGVwcyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIENvbnRleHQgdG8gaXRzIGluaXRpYWwgc3RhdGUuXG4gICAgICovXG4gICAgc3RhdGljIHJlc2V0KCkge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IEFfQ29udGV4dC5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgIGluc3RhbmNlLl9yZWdpc3RyeSA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgICAgICAgbGV0IG5hbWUgPSAncm9vdCc7XG5cbiAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ3NlcnZlcicpXG4gICAgICAgICAgICBuYW1lID0gcHJvY2Vzcy5lbnZbQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0NPTkNFUFRfUk9PVF9TQ09QRV0gfHwgJ3Jvb3QnO1xuXG4gICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdicm93c2VyJylcbiAgICAgICAgICAgIG5hbWUgPSAod2luZG93IGFzIGFueSlbQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0NPTkNFUFRfUk9PVF9TQ09QRV0gfHwgJ3Jvb3QnO1xuXG4gICAgICAgIGluc3RhbmNlLl9yb290ID0gbmV3IEFfU2NvcGUoeyBuYW1lIH0pO1xuICAgIH1cblxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gSEVMUEVSUyAmIEdVQVJEUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIHBhcmFtIGlzIGFsbG93ZWQgZm9yIHNjb3BlIGFsbG9jYXRpb24uXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0FsbG93ZWRGb3JTY29wZUFsbG9jYXRpb24ocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyB7XG4gICAgICAgIHJldHVybiBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0ZlYXR1cmVJbnN0YW5jZShwYXJhbSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIHBhcmFtIGlzIGFsbG93ZWQgdG8gYmUgcmVnaXN0ZXJlZCBpbiB0aGUgY29udGV4dC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW0gXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQWxsb3dlZFRvQmVSZWdpc3RlcmVkKHBhcmFtOiBhbnkpOiBwYXJhbSBpcyBBX1RZUEVTX1Njb3BlRGVwZW5kZW50Q29tcG9uZW50cyB7XG4gICAgICAgIHJldHVybiBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzRnJhZ21lbnRJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0Vycm9ySW5zdGFuY2UocGFyYW0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIHBhcmFtIGlzIGFsbG93ZWQgZm9yIG1ldGEgc3RvcmFnZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW0gXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQWxsb3dlZEZvck1ldGEocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfX01ldGFMaW5rZWRDb21wb25lbnRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIHBhcmFtIGlzIGFsbG93ZWQgZm9yIG1ldGEgc3RvcmFnZSBieSBjb25zdHJ1Y3Rvci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW0gXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQWxsb3dlZEZvck1ldGFDb25zdHJ1Y3RvcihwYXJhbTogYW55KTogcGFyYW0gaXMgQV9UWVBFU19fTWV0YUxpbmtlZENvbXBvbmVudENvbnN0cnVjdG9ycyB7XG4gICAgICAgIHJldHVybiBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJDb25zdHJ1Y3RvcihwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzRW50aXR5Q29uc3RydWN0b3IocGFyYW0pO1xuICAgIH1cblxuXG5cbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcblxuZXhwb3J0IGNsYXNzIEFfQWJzdHJhY3Rpb25FcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuICAgIC8qKlxuICAgICAqIFRoaXMgZXJyb3IgY29kZSBpbmRpY2F0ZXMgdGhhdCB0aGVyZSB3YXMgYW4gaXNzdWUgZXh0ZW5kaW5nIHRoZSBhYnN0cmFjdGlvbiBleGVjdXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgQWJzdHJhY3Rpb25FeHRlbnNpb25FcnJvciA9ICdVbmFibGUgdG8gZXh0ZW5kIGFic3RyYWN0aW9uIGV4ZWN1dGlvbic7XG5cbn0iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZyxcbiAgICBBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckRlc2NyaXB0b3Jcbn0gZnJvbSBcIi4vQS1BYnN0cmFjdGlvbi50eXBlc1wiO1xuaW1wb3J0IHsgQV9Db21wb25lbnQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbnRhaW5lciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db250YWluZXJNZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLm1ldGFcIjtcbmltcG9ydCB7IEFfQ29tcG9uZW50TWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5tZXRhXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbmNlcHQvQS1Db25jZXB0LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb24gfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db25jZXB0L0EtQ29uY2VwdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9BYnN0cmFjdGlvbkVycm9yIH0gZnJvbSBcIi4vQS1BYnN0cmFjdGlvbi5lcnJvclwiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyXCI7XG5cblxuLyoqXG4gKiBBLUFic3RyYWN0aW9uIEV4dGVuZCBkZWNvcmF0b3IgYWxsb3dzIHRvIGV4dGVuZHMgYmVoYXZpb3Igb2YgZWFjaCBjb25jZXB0IGFic3RyYWN0aW9uIGV4ZWN1dGlvbi4gXG4gKiBJbiBjYXNlIHNvbWUgY29tcG9uZW50cyBvciBjb250YWluZXJzIHJlcXVpcmVzIHRvIGV4dGVuZCB0aGUgYmVoYXZpb3Igb2YgdGhlIGFic3RyYWN0aW9uIGxpa2UgJ3N0YXJ0JywgJ2J1aWxkJyBvciAnZGVwbG95J1xuICogZm9yIGV4YW1wbGUsIHRoaXMgZGVjb3JhdG9yIGFsbG93cyB0byBkbyBzby4gICAgXG4gKiBcbiAqIEBwYXJhbSBuYW1lIC0gYWJzdHJhY3Rpb24gbmFtZSBcbiAqIEBwYXJhbSBjb25maWcgLSBjb25maWd1cmF0aW9uIG9mIHRoZSBhYnN0cmFjdGlvbiBleHRlbnNpb25cbiAqIEByZXR1cm5zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gQV9BYnN0cmFjdGlvbl9FeHRlbmQoXG4gICAgLyoqXG4gICAgICogTmFtZSBvZiB0aGUgQ29uY2VwdCBBYnN0cmFjdGlvbiB0byBleHRlbmRcbiAgICAgKi9cbiAgICBuYW1lOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLFxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gb2YgdGhlIEFic3RyYWN0aW9uIEV4dGVuc2lvblxuICAgICAqIFxuICAgICAqL1xuICAgIGNvbmZpZzogUGFydGlhbDxBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZz4gPSB7fVxuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgICAgdGFyZ2V0OiBBX0NvbnRhaW5lciB8IEFfQ29tcG9uZW50LFxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLFxuICAgICAgICBkZXNjcmlwdG9yOiBBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckRlc2NyaXB0b3JcbiAgICApIHtcbiAgICAgICAgLy8gZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHRhcmdldClcblxuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9BYnN0cmFjdGlvbkVycm9yKFxuICAgICAgICAgICAgICAgIEFfQWJzdHJhY3Rpb25FcnJvci5BYnN0cmFjdGlvbkV4dGVuc2lvbkVycm9yLFxuICAgICAgICAgICAgICAgIGBBYnN0cmFjdGlvbiBuYW1lIG11c3QgYmUgcHJvdmlkZWQgdG8gZXh0ZW5kIGFic3RyYWN0aW9uIGZvciAnJHtjb21wb25lbnROYW1lfScuYCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgLy8gIE9ubHkgQ29udGFpbmVycyBhbmQgQ29tcG9uZW50cyBjYW4gZXh0ZW5kIENvbmNlcHQgQWJzdHJhY3Rpb25zXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzQ29uc3RydWN0b3JBdmFpbGFibGVGb3JBYnN0cmFjdGlvbih0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9BYnN0cmFjdGlvbkVycm9yKFxuICAgICAgICAgICAgICAgIEFfQWJzdHJhY3Rpb25FcnJvci5BYnN0cmFjdGlvbkV4dGVuc2lvbkVycm9yLFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gZXh0ZW5kIEFic3RyYWN0aW9uICcke25hbWV9JyBmb3IgJyR7Y29tcG9uZW50TmFtZX0nLiBPbmx5IEEtQ29udGFpbmVycyBhbmQgQS1Db21wb25lbnRzIGNhbiBleHRlbmQgQWJzdHJhY3Rpb25zLmAsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1ldGFLZXk7XG4gICAgICAgIGNvbnN0IG1ldGE6IEFfQ29udGFpbmVyTWV0YSB8IEFfQ29tcG9uZW50TWV0YSA9IEFfQ29udGV4dC5tZXRhKHRhcmdldCk7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckNvbnN0cnVjdG9yKHRhcmdldCkgfHwgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleS5BQlNUUkFDVElPTlNcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IodGFyZ2V0KSB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LkFCU1RSQUNUSU9OU1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNldE5hbWUgPSBgQ09OQ0VQVF9BQlNUUkFDVElPTjo6JHtuYW1lfWA7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBleGlzdGVkIG1ldGFkYXRhIG9yIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGE6IEFfTWV0YTx7XG4gICAgICAgICAgICBbS2V5OiBzdHJpbmddOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25bXTtcbiAgICAgICAgfT4gPSBtZXRhLmdldChtZXRhS2V5KSA/XG4gICAgICAgICAgICAgICAgbmV3IEFfTWV0YSgpLmZyb20obWV0YS5nZXQobWV0YUtleSkpXG4gICAgICAgICAgICAgICAgOiBuZXcgQV9NZXRhKCk7XG5cbiAgICAgICAgLy8gU2V0IHRoZSBtZXRhZGF0YSBvZiB0aGUgbWV0aG9kIHRvIGRlZmluZSBhIGN1c3RvbSBTdGFnZSB3aXRoIG5hbWVcbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGFWYWx1ZSA9IFtcbiAgICAgICAgICAgIC4uLihleGlzdGVkTWV0YS5nZXQoc2V0TmFtZSkgfHwgW10pXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgZXhpc3RlZEluZGV4ID0gZXhpc3RlZE1ldGFWYWx1ZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmhhbmRsZXIgPT09IHByb3BlcnR5S2V5KTtcblxuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbiA9IHtcbiAgICAgICAgICAgIG5hbWU6IHNldE5hbWUsXG4gICAgICAgICAgICBoYW5kbGVyOiBwcm9wZXJ0eUtleSxcbiAgICAgICAgICAgIGJlaGF2aW9yOiBjb25maWcuYmVoYXZpb3IgfHwgJ3N5bmMnLFxuICAgICAgICAgICAgdGhyb3dPbkVycm9yOiBjb25maWcudGhyb3dPbkVycm9yICE9PSB1bmRlZmluZWQgPyBjb25maWcudGhyb3dPbkVycm9yIDogdHJ1ZSxcblxuICAgICAgICAgICAgYmVmb3JlOiBBX1R5cGVHdWFyZHMuaXNBcnJheShjb25maWcuYmVmb3JlKVxuICAgICAgICAgICAgICAgID8gbmV3IFJlZ0V4cChgXiR7Y29uZmlnLmJlZm9yZS5qb2luKCd8JykucmVwbGFjZSgvXFwuL2csICdcXFxcLicpfSRgKS5zb3VyY2VcbiAgICAgICAgICAgICAgICA6IGNvbmZpZy5iZWZvcmUgaW5zdGFuY2VvZiBSZWdFeHBcbiAgICAgICAgICAgICAgICAgICAgPyBjb25maWcuYmVmb3JlLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICAgICAgYWZ0ZXI6IEFfVHlwZUd1YXJkcy5pc0FycmF5KGNvbmZpZy5hZnRlcilcbiAgICAgICAgICAgICAgICA/IG5ldyBSZWdFeHAoYF4ke2NvbmZpZy5hZnRlci5qb2luKCd8JykucmVwbGFjZSgvXFwuL2csICdcXFxcLicpfSRgKS5zb3VyY2VcbiAgICAgICAgICAgICAgICA6IGNvbmZpZy5hZnRlciBpbnN0YW5jZW9mIFJlZ0V4cFxuICAgICAgICAgICAgICAgICAgICA/IGNvbmZpZy5hZnRlci5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgOiAnJyxcblxuICAgICAgICAgICAgb3ZlcnJpZGU6IEFfVHlwZUd1YXJkcy5pc0FycmF5KGNvbmZpZy5vdmVycmlkZSlcbiAgICAgICAgICAgICAgICA/IG5ldyBSZWdFeHAoYF4ke2NvbmZpZy5vdmVycmlkZS5qb2luKCd8JykucmVwbGFjZSgvXFwuL2csICdcXFxcLicpfSRgKS5zb3VyY2VcbiAgICAgICAgICAgICAgICA6IGNvbmZpZy5hZnRlciBpbnN0YW5jZW9mIFJlZ0V4cFxuICAgICAgICAgICAgICAgICAgICA/IGNvbmZpZy5hZnRlci5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgOiAnJyxcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChleGlzdGVkSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGV4aXN0aW5nIG1ldGhvZCBpbiB0aGUgbWV0YWRhdGFcbiAgICAgICAgICAgIGV4aXN0ZWRNZXRhVmFsdWVbZXhpc3RlZEluZGV4XSA9IGFic3RyYWN0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQWRkIHRoZSBuZXcgbWV0aG9kIHRvIHRoZSBtZXRhZGF0YVxuICAgICAgICAgICAgZXhpc3RlZE1ldGFWYWx1ZS5wdXNoKGFic3RyYWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgbWV0YWRhdGEgb2YgdGhlIG1ldGhvZCB0byBkZWZpbmUgYSBjdXN0b20gRmVhdHVyZSB3aXRoIG5hbWVcbiAgICAgICAgZXhpc3RlZE1ldGEuc2V0KHNldE5hbWUsIGV4aXN0ZWRNZXRhVmFsdWUpO1xuXG4gICAgICAgIC8vICBVcGRhdGUgdGhlIG1ldGFkYXRhIG9mIHRoZSBjb250YWluZXIgd2l0aCB0aGUgbmV3IFN0YWdlIGRlZmluaXRpb25cbiAgICAgICAgQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQpXG4gICAgICAgICAgICAuc2V0KFxuICAgICAgICAgICAgICAgIG1ldGFLZXksXG4gICAgICAgICAgICAgICAgZXhpc3RlZE1ldGFcbiAgICAgICAgICAgICk7XG4gICAgfTtcbn1cbiIsICJpbXBvcnQgeyBBX0Fic3RyYWN0aW9uX0V4dGVuZCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUFic3RyYWN0aW9uL0EtQWJzdHJhY3Rpb24tRXh0ZW5kLmRlY29yYXRvclwiO1xuaW1wb3J0IHsgQV9GZWF0dXJlIH0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0Fic3RyYWN0aW9uX0luaXQgfSBmcm9tIFwiLi9BLUFic3RyYWN0aW9uLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1Njb3BlIH0gZnJvbSBcIi4uL0EtU2NvcGUvQS1TY29wZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIi4uL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMgfSBmcm9tIFwiLi4vQS1Db25jZXB0L0EtQ29uY2VwdC5jb25zdGFudHNcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX0Fic3RyYWN0aW9uIHtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBBYnN0cmFjdGlvbiBlLmcuICdkZXBsb3knLCAnc3RhcnQnLCAndGVzdCcsIGV0Yy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX25hbWU6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnM7XG4gICAgLyoqXG4gICAgICogTGlzdCBvZiBmZWF0dXJlcyB0aGF0IGFyZSBwYXJ0IG9mIHRoaXMgQWJzdHJhY3Rpb25cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2ZlYXR1cmVzOiBBX0ZlYXR1cmVbXSA9IFtdO1xuICAgIC8qKlxuICAgICAqIFRoZSBGZWF0dXJlIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2N1cnJlbnQ/OiBBX0ZlYXR1cmU7XG4gICAgLyoqXG4gICAgICogQWN0dWFsIEluZGV4IG9mIHRoZSBjdXJyZW50IEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9pbmRleDogbnVtYmVyID0gMDtcblxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZHMgQS1BYnN0cmFjdGlvbiB3aXRoIGFkZGl0aW9uYWwgbWV0aG9kc1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgRXh0ZW5kKCk6IHR5cGVvZiBBX0Fic3RyYWN0aW9uX0V4dGVuZCB7XG4gICAgICAgIHJldHVybiBBX0Fic3RyYWN0aW9uX0V4dGVuZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBLUFic3RyYWN0aW9uIGlzIGFuIG9iamVjdCB0aGF0IGlzIGNvbW1vbiBmb3IgYW55IGFwcGxpY2F0aW9uLiBcbiAgICAgKiBCeSBwcm92aWRpbmcgY29tcG9uZW50cyBhbmQgY3JlYXRpbmcgYWJzdHJhY3Rpb24gZXh0ZW5zaW9ucyBpdCdzIHBvc3NpYmxlIHRvIGNyZWF0ZSBhIHVuaXF1ZSBiZWhhdmlvciBvZiB0aGUgd2hvbGUgc29sdXRpb24uXG4gICAgICogXG4gICAgICogRXZlcnkgYXBwbGljYXRpb24gaGFzIGJhc2ljIGFic3RyYWN0aW9ucyBsaWtlICdzdGFydCcsICdzdG9wJywgJ2RlcGxveScsICd0ZXN0JywgZXRjLiBcbiAgICAgKiBUaGV5IGNhbiBiZSBlYXNpbHkgZXh0ZW5kZWQgd2l0aCBhZGRpdGlvbmFsIGxvZ2ljIGZyb20gYm90aCBjb250YWluZXJzIGFuZCBjb21wb25lbnRzLlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbXMgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJhbWV0ZXJzIHRvIGRlZmluZSB0aGUgQS1BYnN0cmFjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW1zOiBBX1RZUEVTX19BYnN0cmFjdGlvbl9Jbml0XG4gICAgKSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSBwYXJhbXMubmFtZTtcblxuICAgICAgICB0aGlzLl9mZWF0dXJlcyA9IHBhcmFtcy5jb250YWluZXJzLm1hcChjb250YWluZXIgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBBX0NvbnRleHQuYWJzdHJhY3Rpb25UZW1wbGF0ZShcbiAgICAgICAgICAgICAgICB0aGlzLl9uYW1lLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQV9GZWF0dXJlKHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogY29udGFpbmVyLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5fZmVhdHVyZXNbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgQWJzdHJhY3Rpb25cbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gdGhpcy5fbmFtZTsgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBnZXQgZmVhdHVyZSgpOiBBX0ZlYXR1cmUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgY2hlY2tzIGlmIHRoZSBBLUZlYXR1cmUgaXMgZG9uZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGdldCBpc0RvbmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy5mZWF0dXJlXG4gICAgICAgICAgICB8fCB0aGlzLl9pbmRleCA+PSB0aGlzLl9mZWF0dXJlcy5sZW5ndGhcblxuICAgIH1cblxuXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmF0b3I8QV9GZWF0dXJlLCBhbnk+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIEN1c3RvbSBuZXh0IG1ldGhvZFxuICAgICAgICAgICAgbmV4dDogKCk6IEl0ZXJhdG9yUmVzdWx0PEFfRmVhdHVyZSwgYW55PiA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRG9uZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSB0aGlzLl9mZWF0dXJlc1t0aGlzLl9pbmRleF07XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9jdXJyZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSB1bmRlZmluZWQ7IC8vIFJlc2V0IGN1cnJlbnQgb24gZW5kXG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIG1vdmVzIHRoZSBBYnN0cmFjdGlvbiBwcm9jZXNzaW5nIHRvIHRoZSBuZXh0IEZlYXR1cmUgaW4gdGhlIGxpc3RcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RhZ2UgXG4gICAgICovXG4gICAgbmV4dChzdGFnZSkge1xuICAgICAgICBpZiAodGhpcy5faW5kZXggPj0gdGhpcy5fZmVhdHVyZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGFnZUluZGV4ID0gdGhpcy5fZmVhdHVyZXMuaW5kZXhPZihzdGFnZSk7XG5cbiAgICAgICAgdGhpcy5faW5kZXggPSBzdGFnZUluZGV4ICsgMTtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHByb2Nlc3MgYWxsIHN0YWdlcyBvZiB0aGUgQWJzdHJhY3Rpb25cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhc3luYyBwcm9jZXNzKFxuICAgICAgICAvKipcbiAgICAgICAgICogQWxsb3dzIHRvIG92ZXJyaWRlIHRoZSBzY29wZSBpbiB3aGljaCB0aGUgQWJzdHJhY3Rpb24gd2lsbCBiZSBwcm9jZXNzZWRcbiAgICAgICAgICogXG4gICAgICAgICAqL1xuICAgICAgICBzY29wZT86IEFfU2NvcGVcbiAgICApIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEb25lKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGZvciAoY29uc3QgZmVhdHVyZSBvZiB0aGlzLl9mZWF0dXJlcykge1xuXG4gICAgICAgICAgICBhd2FpdCBmZWF0dXJlLnByb2Nlc3Moc2NvcGUpO1xuICAgICAgICB9XG4gICAgfVxufSIsICJleHBvcnQgZW51bSBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zIHtcbiAgICAvKipcbiAgICAgKiBSdW4gdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgUnVuID0gJ3J1bicsXG4gICAgLyoqXG4gICAgICogQnVpbGQgdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgQnVpbGQgPSAnYnVpbGQnLFxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2ggdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgUHVibGlzaCA9ICdwdWJsaXNoJyxcbiAgICAvKipcbiAgICAgKiBEZXBsb3kgdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgRGVwbG95ID0gJ2RlcGxveScsXG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBMb2FkID0gJ2xvYWQnLFxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIFN0YXJ0ID0gJ3N0YXJ0JyxcbiAgICAvKipcbiAgICAgKiBTdG9wIHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIFN0b3AgPSAnc3RvcCcsXG59XG5cblxuXG5leHBvcnQgZW51bSBBX1RZUEVTX19Db25jZXB0TWV0YUtleSB7XG4gICAgTElGRUNZQ0xFID0gJ2EtY29tcG9uZW50LWV4dGVuc2lvbnMnLFxufSIsICJpbXBvcnQgeyBBX0NvbnRhaW5lciB9IGZyb20gXCIuLi9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9BYnN0cmFjdGlvbiB9IGZyb20gXCIuLi9BLUFic3RyYWN0aW9uL0EtQWJzdHJhY3Rpb24uY2xhc3NcIjtcbmltcG9ydCB7IEFfQWJzdHJhY3Rpb25fRXh0ZW5kIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQWJzdHJhY3Rpb24vQS1BYnN0cmFjdGlvbi1FeHRlbmQuZGVjb3JhdG9yXCI7XG5pbXBvcnQgeyBBX1Njb3BlIH0gZnJvbSBcIi4uL0EtU2NvcGUvQS1TY29wZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIi4uL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMgfSBmcm9tIFwiLi9BLUNvbmNlcHQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25jZXB0X0luaXQgfSBmcm9tIFwiLi9BLUNvbmNlcHQudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0Fic3RyYWN0aW9uRGVjb3JhdG9yQ29uZmlnIH0gZnJvbSBcIi4uL0EtQWJzdHJhY3Rpb24vQS1BYnN0cmFjdGlvbi50eXBlc1wiO1xuaW1wb3J0IHsgQV9GZWF0dXJlIH0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUuY2xhc3NcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX0NvbmNlcHQ8XG4gICAgX0ltcG9ydHMgZXh0ZW5kcyBBX0NvbnRhaW5lcltdID0gQV9Db250YWluZXJbXVxuPiB7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSAgU1RBVElDIExJRkVDWUNMRSBERUNPUkFUT1JTICA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBjb25jZXB0LiBUaGlzIHN0ZXAgcnVucyBiZWZvcmUgYW55IG90aGVyIHN0ZXBzIHRvIGVuc3VyZSB0aGF0IGFsbCBjb21wb25lbnRzIGFyZSBsb2FkZWQuXG4gICAgICovXG4gICAgc3RhdGljIExvYWQoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwcm92aWRlIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIGFic3RyYWN0aW9uIGV4dGVuc2lvbiB0byBtYWtlIGl0IGRlcGVuZGVudCBvbiBvdGhlciBmYWN0b3JzXG4gICAgICAgICAqL1xuICAgICAgICBjb25maWc/OiBQYXJ0aWFsPEFfVFlQRVNfX0Fic3RyYWN0aW9uRGVjb3JhdG9yQ29uZmlnPlxuICAgICk6IFJldHVyblR5cGU8dHlwZW9mIEFfQWJzdHJhY3Rpb25fRXh0ZW5kPiB7XG4gICAgICAgIHJldHVybiBBX0Fic3RyYWN0aW9uLkV4dGVuZChBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLkxvYWQsIGNvbmZpZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVibGlzaCB0aGUgY29uY2VwdCB0byBBREFBUyBwbGF0Zm9ybS4gKE9yIGFueSBvdGhlciBwbGFjZSBkZWZpbmVkIGluIHRoZSBjb25jZXB0KVxuICAgICAqXG4gICAgICogWyFdIFRvIGV4dGVuZCB0aGUgbG9naWMganVzdCBjcmVhdGUgYSBjdXN0b20gY29udGFpbmVycyBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmVoYXZpb3IuXG4gICAgICovXG4gICAgc3RhdGljIFB1Ymxpc2goXG4gICAgICAgIC8qKlxuICAgICAgICAqIHByb3ZpZGUgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgYWJzdHJhY3Rpb24gZXh0ZW5zaW9uIHRvIG1ha2UgaXQgZGVwZW5kZW50IG9uIG90aGVyIGZhY3RvcnNcbiAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogUGFydGlhbDxBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZz5cbiAgICApOiBSZXR1cm5UeXBlPHR5cGVvZiBBX0Fic3RyYWN0aW9uX0V4dGVuZD4ge1xuICAgICAgICByZXR1cm4gQV9BYnN0cmFjdGlvbi5FeHRlbmQoQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5QdWJsaXNoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXBsb3kgdGhlIGNvbmNlcHQgdG8gdGhlIGVudmlyb25tZW50LlxuICAgICAqL1xuICAgIHN0YXRpYyBEZXBsb3koXG4gICAgICAgIC8qKlxuICAgICAgICAqIHByb3ZpZGUgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgYWJzdHJhY3Rpb24gZXh0ZW5zaW9uIHRvIG1ha2UgaXQgZGVwZW5kZW50IG9uIG90aGVyIGZhY3RvcnNcbiAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogUGFydGlhbDxBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZz5cbiAgICApIHtcbiAgICAgICAgcmV0dXJuIEFfQWJzdHJhY3Rpb24uRXh0ZW5kKEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuRGVwbG95LCBjb25maWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBpbGVzIHRoZSBDb25jZXB0IGluIGNhc2UgdGhlcmUgYXJlIHNvbWUgY29udGFpbmVycyB0aGF0IHJlcXVpcmUgdGhhdC4gXG4gICAgICogXG4gICAgICogQ2FuIGJlIHVzZWQgZm9yIHN0YXRpYyB3ZWJzaXRlcyBvciBhbnkgb3RoZXIgY29uY2VwdCB0aGF0IHJlcXVpcmVzIGEgYnVpbGQgc3RlcC5cbiAgICAgKiBcbiAgICAgKi9cbiAgICBzdGF0aWMgQnVpbGQoXG4gICAgICAgIC8qKlxuICAgICAgICAqIHByb3ZpZGUgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgYWJzdHJhY3Rpb24gZXh0ZW5zaW9uIHRvIG1ha2UgaXQgZGVwZW5kZW50IG9uIG90aGVyIGZhY3RvcnNcbiAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogUGFydGlhbDxBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZz5cbiAgICApIHtcbiAgICAgICAgcmV0dXJuIEFfQWJzdHJhY3Rpb24uRXh0ZW5kKEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuQnVpbGQsIGNvbmZpZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIE1haW4gZXhlY3V0aW9uIG9mIHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIHN0YXRpYyBSdW4oXG4gICAgICAgIC8qKlxuICAgICAgICAqIHByb3ZpZGUgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgYWJzdHJhY3Rpb24gZXh0ZW5zaW9uIHRvIG1ha2UgaXQgZGVwZW5kZW50IG9uIG90aGVyIGZhY3RvcnNcbiAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogUGFydGlhbDxBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZz5cbiAgICApIHtcbiAgICAgICAgcmV0dXJuIEFfQWJzdHJhY3Rpb24uRXh0ZW5kKEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuUnVuLCBjb25maWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBTdGFydCB0aGUgY29uY2VwdC4gVXNlcyBmb3Igc2VydmVycyBvciBhbnkgb3RoZXIgYmFja2dyb3VuZCBzZXJ2aWNlcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgU3RhcnQoXG4gICAgICAgIC8qKlxuICAgICAgICAqIHByb3ZpZGUgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgYWJzdHJhY3Rpb24gZXh0ZW5zaW9uIHRvIG1ha2UgaXQgZGVwZW5kZW50IG9uIG90aGVyIGZhY3RvcnNcbiAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogUGFydGlhbDxBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZz5cbiAgICApIHtcbiAgICAgICAgcmV0dXJuIEFfQWJzdHJhY3Rpb24uRXh0ZW5kKEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuU3RhcnQsIGNvbmZpZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgY29uY2VwdC4gVXNlcyBmb3Igc2VydmVycyBvciBhbnkgb3RoZXIgYmFja2dyb3VuZCBzZXJ2aWNlcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgU3RvcChcbiAgICAgICAgLyoqXG4gICAgICAgICogcHJvdmlkZSBhZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBhYnN0cmFjdGlvbiBleHRlbnNpb24gdG8gbWFrZSBpdCBkZXBlbmRlbnQgb24gb3RoZXIgZmFjdG9yc1xuICAgICAgICAqL1xuICAgICAgICBjb25maWc/OiBQYXJ0aWFsPEFfVFlQRVNfX0Fic3RyYWN0aW9uRGVjb3JhdG9yQ29uZmlnPlxuICAgICkge1xuICAgICAgICByZXR1cm4gQV9BYnN0cmFjdGlvbi5FeHRlbmQoQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5TdG9wLCBjb25maWcpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTmFtZSBvZiB0aGUgY29uY2VwdFxuICAgICAqIFxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSBuYW1lIG9mIHRoZSBDb25jZXB0IGlzICdhLWNvbmNlcHQnXG4gICAgICovXG4gICAgcHJpdmF0ZSBfbmFtZSE6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgaW50ZXJuYWxseSBkZWZpbmVkIGNvbnRhaW5lcnMgdGhhdCB0aGUgY29uY2VwdCB1c2VzLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfY29udGFpbmVycyE6IEFfQ29udGFpbmVyW107XG5cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT0gIE1BSU4gTWV0aG9kcyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG4gICAgLyoqXG4gICAgICogQS1Db25jZXB0IGlzIGEgcGxhY2Vob2xkZXIgZm9yIHRoZSBjb25jZXB0IG9mIHRoZSBhbnkgcHJvZ3JhbS5cbiAgICAgKiBcbiAgICAgKiBDb25jZXB0IC0gY291bGQgYmUgYW55IFByb2dyYW0gcmVnYXJkbGVzcyBlbnZpcm9ubWVudCBhbmQgaXQncyBnb2FsLlxuICAgICAqIEl0IGNvdWxkIGJlIG1vYmlsZSwgd2ViIG9yIHNpbXBsZSBodG1sIHBhZ2UuXG4gICAgICogQWxsIGRlcGVuZHMgb24gQ29udGFpbmVycyBhbmQgQ29tcG9uZW50cyBpbnN0YWxsZWQgYW5kIHByb3ZpZGVkIGluIHRoZSBDb25jZXB0LlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIFshXSBDb25jZXB0IG9wZXJhdGVzIE9OTFkgd2l0aCBhbGwgQ29tcG9uZW50cyBhbmQgQ29udGFpbmVycyBwcm92aWRlZCB0byBhY2hpZXZlIHRoZSBnb2FsLlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwcm9wcyAtIEluaXRpYWxpemF0aW9uIHByb3BlcnRpZXMgZm9yIHRoZSBDb25jZXB0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByb3RlY3RlZCBwcm9wczogQV9UWVBFU19fQ29uY2VwdF9Jbml0PF9JbXBvcnRzPlxuICAgICkge1xuICAgICAgICB0aGlzLl9uYW1lID0gcHJvcHMubmFtZSB8fCBBX0NvbnRleHQucm9vdC5uYW1lO1xuXG4gICAgICAgIGlmIChwcm9wcy5jb21wb25lbnRzICYmIHByb3BzLmNvbXBvbmVudHMubGVuZ3RoKVxuICAgICAgICAgICAgcHJvcHMuY29tcG9uZW50cy5mb3JFYWNoKGNvbXBvbmVudCA9PiB0aGlzLnNjb3BlLnJlZ2lzdGVyKGNvbXBvbmVudCkpXG5cbiAgICAgICAgaWYgKHByb3BzLmZyYWdtZW50cyAmJiBwcm9wcy5mcmFnbWVudHMubGVuZ3RoKVxuICAgICAgICAgICAgcHJvcHMuZnJhZ21lbnRzLmZvckVhY2goZnJhZ21lbnQgPT4gdGhpcy5zY29wZS5yZWdpc3RlcihmcmFnbWVudCkpXG5cbiAgICAgICAgaWYgKHByb3BzLmVudGl0aWVzICYmIHByb3BzLmVudGl0aWVzLmxlbmd0aClcbiAgICAgICAgICAgIHByb3BzLmVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHRoaXMuc2NvcGUucmVnaXN0ZXIoZW50aXR5IGFzIGFueSkpXG5cblxuICAgICAgICB0aGlzLl9jb250YWluZXJzID0gcHJvcHMuY29udGFpbmVycyB8fCBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoZSBjb25jZXB0XG4gICAgICovXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQucm9vdC5uYW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcHJpbWFyeSBSb290IHNjb3BlIG9mIHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIGdldCBzY29wZSgpIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5yb290O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgY2xhc3Mgb3IgdmFsdWUgaW4gdGhlIGNvbmNlcHQgc2NvcGUuXG4gICAgICovXG4gICAgZ2V0IHJlZ2lzdGVyKCk6IEFfU2NvcGVbJ3JlZ2lzdGVyJ10ge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5yZWdpc3Rlci5iaW5kKHRoaXMuc2NvcGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc29sdmUgYSBjbGFzcyBvciB2YWx1ZSBmcm9tIHRoZSBjb25jZXB0IHNjb3BlLlxuICAgICAqL1xuICAgIGdldCByZXNvbHZlKCk6IEFfU2NvcGVbJ3Jlc29sdmUnXSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnJlc29sdmUuYmluZCh0aGlzLnNjb3BlKTtcbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT0gIExJRkVDWUNMRSAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgYXN5bmMgbG9hZChcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlLFxuICAgICkge1xuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbiA9IG5ldyBBX0Fic3RyYWN0aW9uKHtcbiAgICAgICAgICAgIG5hbWU6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuTG9hZCxcbiAgICAgICAgICAgIGNvbnRhaW5lcnM6IHRoaXMuX2NvbnRhaW5lcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IGFic3RyYWN0aW9uLnByb2Nlc3Moc2NvcGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW4gdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgYXN5bmMgcnVuKFxuICAgICAgICBzY29wZT86IEFfU2NvcGUsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGFic3RyYWN0aW9uID0gbmV3IEFfQWJzdHJhY3Rpb24oe1xuICAgICAgICAgICAgbmFtZTogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5SdW4sXG4gICAgICAgICAgICBjb250YWluZXJzOiB0aGlzLl9jb250YWluZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBhYnN0cmFjdGlvbi5wcm9jZXNzKHNjb3BlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnQgdGhlIGNvbmNlcHQuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtcyBcbiAgICAgKi9cbiAgICBhc3luYyBzdGFydChcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlLFxuICAgICkge1xuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbiA9IG5ldyBBX0Fic3RyYWN0aW9uKHtcbiAgICAgICAgICAgIG5hbWU6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuU3RhcnQsXG4gICAgICAgICAgICBjb250YWluZXJzOiB0aGlzLl9jb250YWluZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBhYnN0cmFjdGlvbi5wcm9jZXNzKHNjb3BlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgY29uY2VwdC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqL1xuICAgIGFzeW5jIHN0b3AoXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgY29uc3QgYWJzdHJhY3Rpb24gPSBuZXcgQV9BYnN0cmFjdGlvbih7XG4gICAgICAgICAgICBuYW1lOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLlN0b3AsXG4gICAgICAgICAgICBjb250YWluZXJzOiB0aGlzLl9jb250YWluZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBhYnN0cmFjdGlvbi5wcm9jZXNzKHNjb3BlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQnVpbGQgdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgYXN5bmMgYnVpbGQoXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgY29uc3QgYWJzdHJhY3Rpb24gPSBuZXcgQV9BYnN0cmFjdGlvbih7XG4gICAgICAgICAgICBuYW1lOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLkJ1aWxkLFxuICAgICAgICAgICAgY29udGFpbmVyczogdGhpcy5fY29udGFpbmVycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgYWJzdHJhY3Rpb24ucHJvY2VzcyhzY29wZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlcGxveSB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBhc3luYyBkZXBsb3koXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgY29uc3QgYWJzdHJhY3Rpb24gPSBuZXcgQV9BYnN0cmFjdGlvbih7XG4gICAgICAgICAgICBuYW1lOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLkRlcGxveSxcbiAgICAgICAgICAgIGNvbnRhaW5lcnM6IHRoaXMuX2NvbnRhaW5lcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IGFic3RyYWN0aW9uLnByb2Nlc3Moc2NvcGUpO1xuXG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2ggdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgYXN5bmMgcHVibGlzaChcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlLFxuICAgICkge1xuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbiA9IG5ldyBBX0Fic3RyYWN0aW9uKHtcbiAgICAgICAgICAgIG5hbWU6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuUHVibGlzaCxcbiAgICAgICAgICAgIGNvbnRhaW5lcnM6IHRoaXMuX2NvbnRhaW5lcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IGFic3RyYWN0aW9uLnByb2Nlc3Moc2NvcGUpO1xuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PSAgQ0FMTCAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICAgIC8qKlxuICAgICAqIENhbGwgdGhlIHNwZWNpZmljIG1ldGhvZCBvZiB0aGUgY29uY2VwdCBvciBpbmNsdWRlZCBtb2R1bGVzLlxuICAgICAqL1xuICAgIGFzeW5jIGNhbGw8XG4gICAgICAgIEsgZXh0ZW5kcyBSZWNvcmQ8X0ltcG9ydHNbbnVtYmVyXVsnbmFtZSddLCBzdHJpbmc+XG4gICAgPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5hbWUgb2YgdGhlIG1ldGhvZCB0byBjYWxsXG4gICAgICAgICAqL1xuICAgICAgICBtZXRob2Q6IEtba2V5b2YgS10sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250YWluZXIgaW4gd2hpY2ggdGhlIG1ldGhvZCBpcyBsb2NhdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjb250YWluZXI6IF9JbXBvcnRzW251bWJlcl0sXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGZlYXR1cmUgPSBuZXcgQV9GZWF0dXJlKHsgbmFtZTogbWV0aG9kLCBjb21wb25lbnQ6IGNvbnRhaW5lciB9KTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgZmVhdHVyZS5wcm9jZXNzKCk7XG4gICAgfVxufVxuXG5cblxuXG4iLCAiXG5pbXBvcnQgeyBBX0NvbnRhaW5lciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSBcIi4uL0EtTWV0YS9BLU1ldGEuY2xhc3NcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX0NvbmNlcHRNZXRhIGV4dGVuZHMgQV9NZXRhPGFueT4ge1xuXG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBjb250YWluZXJzOiBBcnJheTxBX0NvbnRhaW5lcj4sXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG5cbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcblxuZXhwb3J0IGNsYXNzIEFfRGVwZW5kZW5jeUVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgSW52YWxpZERlcGVuZGVuY3lUYXJnZXQgPSAnSW52YWxpZCBEZXBlbmRlbmN5IFRhcmdldCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgSW52YWxpZExvYWRUYXJnZXQgPSAnSW52YWxpZCBMb2FkIFRhcmdldCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgSW52YWxpZExvYWRQYXRoID0gJ0ludmFsaWQgTG9hZCBQYXRoJztcblxuXG4gICAgc3RhdGljIHJlYWRvbmx5IEludmFsaWREZWZhdWx0VGFyZ2V0ID0gJ0ludmFsaWQgRGVmYXVsdCBUYXJnZXQnO1xufSIsICJcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEsIEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzIH0gZnJvbSBcIi4uL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX0RlcGVuZGVuY3lfRGVmYXVsdERlY29yYXRvclJldHVybiB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS50eXBlc1wiO1xuaW1wb3J0IHsgQV9EZXBlbmRlbmN5RXJyb3IgfSBmcm9tIFwiLi9BLURlcGVuZGVuY3kuZXJyb3JcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0NvbW1vbi5oZWxwZXJcIjtcblxuXG4vKipcbiAqIFNob3VsZCBpbmRpY2F0ZSB3aGljaCBEZWZhdWx0IGlzIHJlcXVpcmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBX0RlcGVuZGVuY3lfRGVmYXVsdChcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciBQYXJhbWV0ZXJzIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGNyZWF0ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZVxuICAgICAqL1xuICAgIC4uLmFyZ3M6IGFueVtdXG4pOiBBX1RZUEVTX19BX0RlcGVuZGVuY3lfRGVmYXVsdERlY29yYXRvclJldHVybiB7XG5cblxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICAgIHRhcmdldDogQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMsXG4gICAgICAgIG1ldGhvZE5hbWU6IHN0cmluZyB8IHN5bWJvbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgcGFyYW1ldGVySW5kZXg6IG51bWJlclxuICAgICkge1xuICAgICAgICAvLyBmb3IgRXJyb3IgaGFuZGxpbmcgcHVycG9zZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KVxuXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzVGFyZ2V0QXZhaWxhYmxlRm9ySW5qZWN0aW9uKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0RlcGVuZGVuY3lFcnJvcihcbiAgICAgICAgICAgICAgICBBX0RlcGVuZGVuY3lFcnJvci5JbnZhbGlkRGVmYXVsdFRhcmdldCxcbiAgICAgICAgICAgICAgICBgQS1EZWZhdWx0IGNhbm5vdCBiZSB1c2VkIG9uIHRoZSB0YXJnZXQgb2YgdHlwZSAke3R5cGVvZiB0YXJnZXR9ICgke2NvbXBvbmVudE5hbWV9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIG1ldGhvZCBuYW1lIG9yICdjb25zdHJ1Y3RvcicgZm9yIGNvbnN0cnVjdG9yIGluamVjdGlvbnNcbiAgICAgICAgY29uc3QgbWV0aG9kID0gbWV0aG9kTmFtZSA/IFN0cmluZyhtZXRob2ROYW1lKSA6ICdjb25zdHJ1Y3Rvcic7XG4gICAgICAgIGxldCBtZXRhS2V5O1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3Rvcih0YXJnZXQpIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgbWV0YSBvciBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIGNvbnN0IGV4aXN0ZWRNZXRhID0gQV9Db250ZXh0Lm1ldGEodGFyZ2V0KS5nZXQobWV0YUtleSkgfHwgbmV3IEFfTWV0YSgpO1xuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgaW5qZWN0aW9ucyBmb3IgdGhlIG1ldGhvZCBvciBjcmVhdGUgYSBuZXcgYXJyYXlcbiAgICAgICAgY29uc3QgcGFyYW1zQXJyYXk6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEgPSBleGlzdGVkTWV0YS5nZXQobWV0aG9kKSB8fCBbXTtcblxuICAgICAgICAvLyBzZXQgdGhlIHBhcmFtZXRlciBpbmplY3Rpb24gaW5mb1xuICAgICAgICBwYXJhbXNBcnJheVtwYXJhbWV0ZXJJbmRleF0gPSB7XG4gICAgICAgICAgICAuLi4ocGFyYW1zQXJyYXlbcGFyYW1ldGVySW5kZXhdIHx8IHt9KSxcbiAgICAgICAgICAgIGRlZmF1bHRBcmdzOiBhcmdzLFxuICAgICAgICAgICAgY3JlYXRlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIGluamVjdGlvbnMgYXJyYXlcbiAgICAgICAgZXhpc3RlZE1ldGEuc2V0KG1ldGhvZCwgcGFyYW1zQXJyYXkpO1xuXG4gICAgICAgIC8vIHNhdmUgYmFjayB0aGUgdXBkYXRlZCBtZXRhIGluZm9cbiAgICAgICAgQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQpXG4gICAgICAgICAgICAuc2V0KFxuICAgICAgICAgICAgICAgIG1ldGFLZXksXG4gICAgICAgICAgICAgICAgZXhpc3RlZE1ldGFcbiAgICAgICAgICAgICk7XG4gICAgfVxufSIsICJcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEsIEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzIH0gZnJvbSBcIi4uL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX0RlcGVuZGVuY3lfRmxhdERlY29yYXRvclJldHVybiB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS50eXBlc1wiO1xuaW1wb3J0IHsgQV9EZXBlbmRlbmN5RXJyb3IgfSBmcm9tIFwiLi9BLURlcGVuZGVuY3kuZXJyb3JcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0NvbW1vbi5oZWxwZXJcIjtcblxuXG4vKipcbiAqIFNob3VsZCBpbmRpY2F0ZSB3aGljaCBkZXBlbmRlbmN5IGlzIHJlcXVpcmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBX0RlcGVuZGVuY3lfRmxhdCgpOiBBX1RZUEVTX19BX0RlcGVuZGVuY3lfRmxhdERlY29yYXRvclJldHVybiB7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgICB0YXJnZXQ6IEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzLFxuICAgICAgICBtZXRob2ROYW1lOiBzdHJpbmcgfCBzeW1ib2wgfCB1bmRlZmluZWQsXG4gICAgICAgIHBhcmFtZXRlckluZGV4OiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgLy8gZm9yIEVycm9yIGhhbmRsaW5nIHB1cnBvc2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHRhcmdldClcblxuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc1RhcmdldEF2YWlsYWJsZUZvckluamVjdGlvbih0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9EZXBlbmRlbmN5RXJyb3IoXG4gICAgICAgICAgICAgICAgQV9EZXBlbmRlbmN5RXJyb3IuSW52YWxpZERlcGVuZGVuY3lUYXJnZXQsXG4gICAgICAgICAgICAgICAgYEEtRGVwZW5kZW5jeSBjYW5ub3QgYmUgdXNlZCBvbiB0aGUgdGFyZ2V0IG9mIHR5cGUgJHt0eXBlb2YgdGFyZ2V0fSAoJHtjb21wb25lbnROYW1lfSlgXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBtZXRob2QgbmFtZSBvciAnY29uc3RydWN0b3InIGZvciBjb25zdHJ1Y3RvciBpbmplY3Rpb25zXG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IG1ldGhvZE5hbWUgPyBTdHJpbmcobWV0aG9kTmFtZSkgOiAnY29uc3RydWN0b3InO1xuICAgICAgICBsZXQgbWV0YUtleTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IodGFyZ2V0KSB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIG1ldGEgb3IgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICBjb25zdCBleGlzdGVkTWV0YSA9IEFfQ29udGV4dC5tZXRhKHRhcmdldCkuZ2V0KG1ldGFLZXkpIHx8IG5ldyBBX01ldGEoKTtcbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIGluamVjdGlvbnMgZm9yIHRoZSBtZXRob2Qgb3IgY3JlYXRlIGEgbmV3IGFycmF5XG4gICAgICAgIGNvbnN0IHBhcmFtc0FycmF5OiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhID0gZXhpc3RlZE1ldGEuZ2V0KG1ldGhvZCkgfHwgW107XG5cbiAgICAgICAgLy8gc2V0IHRoZSBwYXJhbWV0ZXIgaW5qZWN0aW9uIGluZm9cbiAgICAgICAgcGFyYW1zQXJyYXlbcGFyYW1ldGVySW5kZXhdID0ge1xuICAgICAgICAgICAgLi4uKHBhcmFtc0FycmF5W3BhcmFtZXRlckluZGV4XSB8fCB7fSksXG4gICAgICAgICAgICBmbGF0OiB0cnVlLFxuICAgICAgICB9XG4gICAgICAgIC8vIHNhdmUgYmFjayB0aGUgdXBkYXRlZCBpbmplY3Rpb25zIGFycmF5XG4gICAgICAgIGV4aXN0ZWRNZXRhLnNldChtZXRob2QsIHBhcmFtc0FycmF5KTtcblxuICAgICAgICAvLyBzYXZlIGJhY2sgdGhlIHVwZGF0ZWQgbWV0YSBpbmZvXG4gICAgICAgIEFfQ29udGV4dFxuICAgICAgICAgICAgLm1ldGEodGFyZ2V0KVxuICAgICAgICAgICAgLnNldChcbiAgICAgICAgICAgICAgICBtZXRhS2V5LFxuICAgICAgICAgICAgICAgIGV4aXN0ZWRNZXRhXG4gICAgICAgICAgICApO1xuICAgIH1cbn0iLCAiXG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtTWV0YS9BLU1ldGEuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhLCBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyB9IGZyb20gXCIuLi9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9EZXBlbmRlbmN5X0xvYWREZWNvcmF0b3JSZXR1cm4gfSBmcm9tIFwiLi9BLURlcGVuZGVuY3kudHlwZXNcIjtcbmltcG9ydCB7IEFfRGVwZW5kZW5jeUVycm9yIH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LmVycm9yXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyXCI7XG5cblxuLyoqXG4gKiBTaG91bGQgaW5kaWNhdGUgd2hpY2ggTG9hZCBpcyByZXF1aXJlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gQV9EZXBlbmRlbmN5X0xvYWQoXG4gICAgLyoqXG4gICAgICogUGF0aCB0byBsb2FkIHRoZSBkZXBlbmRlbmN5IGZyb21cbiAgICAgKi9cbiAgICBwYXRoOiBzdHJpbmdcbik6IEFfVFlQRVNfX0FfRGVwZW5kZW5jeV9Mb2FkRGVjb3JhdG9yUmV0dXJuIHtcblxuICAgIGlmICghcGF0aCB8fCB0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFfRGVwZW5kZW5jeUVycm9yKFxuICAgICAgICAgICAgQV9EZXBlbmRlbmN5RXJyb3IuSW52YWxpZExvYWRQYXRoLFxuICAgICAgICAgICAgYEEtTG9hZCBkZWNvcmF0b3IgcmVxdWlyZXMgYSB2YWxpZCBwYXRoIHN0cmluZyB0byB0aGUgZGVwZW5kZW5jeWBcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgICB0YXJnZXQ6IEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzLFxuICAgICAgICBtZXRob2ROYW1lOiBzdHJpbmcgfCBzeW1ib2wgfCB1bmRlZmluZWQsXG4gICAgICAgIHBhcmFtZXRlckluZGV4OiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgLy8gZm9yIEVycm9yIGhhbmRsaW5nIHB1cnBvc2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHRhcmdldCk7XG5cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNUYXJnZXRBdmFpbGFibGVGb3JJbmplY3Rpb24odGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfRGVwZW5kZW5jeUVycm9yKFxuICAgICAgICAgICAgICAgIEFfRGVwZW5kZW5jeUVycm9yLkludmFsaWRMb2FkVGFyZ2V0LFxuICAgICAgICAgICAgICAgIGBBLUxvYWQgY2Fubm90IGJlIHVzZWQgb24gdGhlIHRhcmdldCBvZiB0eXBlICR7dHlwZW9mIHRhcmdldH0gKCR7Y29tcG9uZW50TmFtZX0pYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRldGVybWluZSB0aGUgbWV0aG9kIG5hbWUgb3IgJ2NvbnN0cnVjdG9yJyBmb3IgY29uc3RydWN0b3IgaW5qZWN0aW9uc1xuICAgICAgICBjb25zdCBtZXRob2QgPSBtZXRob2ROYW1lID8gU3RyaW5nKG1ldGhvZE5hbWUpIDogJ2NvbnN0cnVjdG9yJztcbiAgICAgICAgbGV0IG1ldGFLZXk7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHRhcmdldCkgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBleGlzdGluZyBtZXRhIG9yIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGEgPSBBX0NvbnRleHQubWV0YSh0YXJnZXQpLmdldChtZXRhS2V5KSB8fCBuZXcgQV9NZXRhKCk7XG4gICAgICAgIC8vIGdldCBleGlzdGluZyBpbmplY3Rpb25zIGZvciB0aGUgbWV0aG9kIG9yIGNyZWF0ZSBhIG5ldyBhcnJheVxuICAgICAgICBjb25zdCBwYXJhbXNBcnJheTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSA9IGV4aXN0ZWRNZXRhLmdldChtZXRob2QpIHx8IFtdO1xuXG4gICAgICAgIC8vIHNldCB0aGUgcGFyYW1ldGVyIGluamVjdGlvbiBpbmZvXG4gICAgICAgIHBhcmFtc0FycmF5W3BhcmFtZXRlckluZGV4XSA9IHtcbiAgICAgICAgICAgIC4uLihwYXJhbXNBcnJheVtwYXJhbWV0ZXJJbmRleF0gfHwge30pLFxuICAgICAgICAgICAgbG9hZDogcGF0aFxuICAgICAgICB9XG4gICAgICAgIC8vIHNhdmUgYmFjayB0aGUgdXBkYXRlZCBpbmplY3Rpb25zIGFycmF5XG4gICAgICAgIGV4aXN0ZWRNZXRhLnNldChtZXRob2QsIHBhcmFtc0FycmF5KTtcblxuICAgICAgICAvLyBzYXZlIGJhY2sgdGhlIHVwZGF0ZWQgbWV0YSBpbmZvXG4gICAgICAgIEFfQ29udGV4dFxuICAgICAgICAgICAgLm1ldGEodGFyZ2V0KVxuICAgICAgICAgICAgLnNldChcbiAgICAgICAgICAgICAgICBtZXRhS2V5LFxuICAgICAgICAgICAgICAgIGV4aXN0ZWRNZXRhXG4gICAgICAgICAgICApO1xuICAgIH1cbn0iLCAiXG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtTWV0YS9BLU1ldGEuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhLCBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyB9IGZyb20gXCIuLi9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9EZXBlbmRlbmN5X1BhcmVudERlY29yYXRvclJldHVybiB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS50eXBlc1wiO1xuaW1wb3J0IHsgQV9EZXBlbmRlbmN5RXJyb3IgfSBmcm9tIFwiLi9BLURlcGVuZGVuY3kuZXJyb3JcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0NvbW1vbi5oZWxwZXJcIjtcblxuXG4vKipcbiAqIFNob3VsZCBpbmRpY2F0ZSB3aGljaCBkZXBlbmRlbmN5IGlzIHJlcXVpcmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBX0RlcGVuZGVuY3lfUGFyZW50KFxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBob3cgbWFueSBsYXllcnMgdXAgdGhlIHBhcmVudCBkZXBlbmRlbmN5IHNob3VsZCBiZSByZXNvbHZlZCBmcm9tIGN1cnJlbnQgZGVwZW5kZW5jeVxuICAgICAqIFxuICAgICAqIERlZmF1bHQ6IC0xIChvbmUgbGF5ZXIgdXApXG4gICAgICovXG4gICAgbGF5ZXJPZmZzZXQ6IG51bWJlciA9IC0xXG4pOiBBX1RZUEVTX19BX0RlcGVuZGVuY3lfUGFyZW50RGVjb3JhdG9yUmV0dXJuIHtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICAgIHRhcmdldDogQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMsXG4gICAgICAgIG1ldGhvZE5hbWU6IHN0cmluZyB8IHN5bWJvbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgcGFyYW1ldGVySW5kZXg6IG51bWJlclxuICAgICkge1xuICAgICAgICAvLyBmb3IgRXJyb3IgaGFuZGxpbmcgcHVycG9zZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KVxuXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzVGFyZ2V0QXZhaWxhYmxlRm9ySW5qZWN0aW9uKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0RlcGVuZGVuY3lFcnJvcihcbiAgICAgICAgICAgICAgICBBX0RlcGVuZGVuY3lFcnJvci5JbnZhbGlkRGVwZW5kZW5jeVRhcmdldCxcbiAgICAgICAgICAgICAgICBgQS1EZXBlbmRlbmN5IGNhbm5vdCBiZSB1c2VkIG9uIHRoZSB0YXJnZXQgb2YgdHlwZSAke3R5cGVvZiB0YXJnZXR9ICgke2NvbXBvbmVudE5hbWV9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIG1ldGhvZCBuYW1lIG9yICdjb25zdHJ1Y3RvcicgZm9yIGNvbnN0cnVjdG9yIGluamVjdGlvbnNcbiAgICAgICAgY29uc3QgbWV0aG9kID0gbWV0aG9kTmFtZSA/IFN0cmluZyhtZXRob2ROYW1lKSA6ICdjb25zdHJ1Y3Rvcic7XG4gICAgICAgIGxldCBtZXRhS2V5O1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3Rvcih0YXJnZXQpIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgbWV0YSBvciBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIGNvbnN0IGV4aXN0ZWRNZXRhID0gQV9Db250ZXh0Lm1ldGEodGFyZ2V0KS5nZXQobWV0YUtleSkgfHwgbmV3IEFfTWV0YSgpO1xuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgaW5qZWN0aW9ucyBmb3IgdGhlIG1ldGhvZCBvciBjcmVhdGUgYSBuZXcgYXJyYXlcbiAgICAgICAgY29uc3QgcGFyYW1zQXJyYXk6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEgPSBleGlzdGVkTWV0YS5nZXQobWV0aG9kKSB8fCBbXTtcblxuICAgICAgICAvLyBzZXQgdGhlIHBhcmFtZXRlciBpbmplY3Rpb24gaW5mb1xuICAgICAgICBwYXJhbXNBcnJheVtwYXJhbWV0ZXJJbmRleF0gPSB7XG4gICAgICAgICAgICAuLi4ocGFyYW1zQXJyYXlbcGFyYW1ldGVySW5kZXhdIHx8IHt9KSxcbiAgICAgICAgICAgIHBhcmVudDogeyBsYXllck9mZnNldCB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIGluamVjdGlvbnMgYXJyYXlcbiAgICAgICAgZXhpc3RlZE1ldGEuc2V0KG1ldGhvZCwgcGFyYW1zQXJyYXkpO1xuXG4gICAgICAgIC8vIHNhdmUgYmFjayB0aGUgdXBkYXRlZCBtZXRhIGluZm9cbiAgICAgICAgQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQpXG4gICAgICAgICAgICAuc2V0KFxuICAgICAgICAgICAgICAgIG1ldGFLZXksXG4gICAgICAgICAgICAgICAgZXhpc3RlZE1ldGFcbiAgICAgICAgICAgICk7XG4gICAgfVxufSIsICJcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEsIEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzIH0gZnJvbSBcIi4uL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX0RlcGVuZGVuY3lfUmVxdWlyZURlY29yYXRvclJldHVybiB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS50eXBlc1wiO1xuaW1wb3J0IHsgQV9EZXBlbmRlbmN5RXJyb3IgfSBmcm9tIFwiLi9BLURlcGVuZGVuY3kuZXJyb3JcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0NvbW1vbi5oZWxwZXJcIjtcblxuXG4vKipcbiAqIFNob3VsZCBpbmRpY2F0ZSB3aGljaCBkZXBlbmRlbmN5IGlzIHJlcXVpcmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBX0RlcGVuZGVuY3lfUmVxdWlyZSgpOiBBX1RZUEVTX19BX0RlcGVuZGVuY3lfUmVxdWlyZURlY29yYXRvclJldHVybiB7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgICB0YXJnZXQ6IEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzLFxuICAgICAgICBtZXRob2ROYW1lOiBzdHJpbmcgfCBzeW1ib2wgfCB1bmRlZmluZWQsXG4gICAgICAgIHBhcmFtZXRlckluZGV4OiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgLy8gZm9yIEVycm9yIGhhbmRsaW5nIHB1cnBvc2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHRhcmdldClcblxuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc1RhcmdldEF2YWlsYWJsZUZvckluamVjdGlvbih0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9EZXBlbmRlbmN5RXJyb3IoXG4gICAgICAgICAgICAgICAgQV9EZXBlbmRlbmN5RXJyb3IuSW52YWxpZERlcGVuZGVuY3lUYXJnZXQsXG4gICAgICAgICAgICAgICAgYEEtRGVwZW5kZW5jeSBjYW5ub3QgYmUgdXNlZCBvbiB0aGUgdGFyZ2V0IG9mIHR5cGUgJHt0eXBlb2YgdGFyZ2V0fSAoJHtjb21wb25lbnROYW1lfSlgXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBtZXRob2QgbmFtZSBvciAnY29uc3RydWN0b3InIGZvciBjb25zdHJ1Y3RvciBpbmplY3Rpb25zXG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IG1ldGhvZE5hbWUgPyBTdHJpbmcobWV0aG9kTmFtZSkgOiAnY29uc3RydWN0b3InO1xuICAgICAgICBsZXQgbWV0YUtleTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IodGFyZ2V0KSB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIG1ldGEgb3IgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICBjb25zdCBleGlzdGVkTWV0YSA9IEFfQ29udGV4dC5tZXRhKHRhcmdldCkuZ2V0KG1ldGFLZXkpIHx8IG5ldyBBX01ldGEoKTtcbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIGluamVjdGlvbnMgZm9yIHRoZSBtZXRob2Qgb3IgY3JlYXRlIGEgbmV3IGFycmF5XG4gICAgICAgIGNvbnN0IHBhcmFtc0FycmF5OiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhID0gZXhpc3RlZE1ldGEuZ2V0KG1ldGhvZCkgfHwgW107XG5cbiAgICAgICAgLy8gc2V0IHRoZSBwYXJhbWV0ZXIgaW5qZWN0aW9uIGluZm9cbiAgICAgICAgcGFyYW1zQXJyYXlbcGFyYW1ldGVySW5kZXhdID0ge1xuICAgICAgICAgICAgLi4uKHBhcmFtc0FycmF5W3BhcmFtZXRlckluZGV4XSB8fCB7fSksXG4gICAgICAgICAgICByZXF1aXJlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIGluamVjdGlvbnMgYXJyYXlcbiAgICAgICAgZXhpc3RlZE1ldGEuc2V0KG1ldGhvZCwgcGFyYW1zQXJyYXkpO1xuXG4gICAgICAgIC8vIHNhdmUgYmFjayB0aGUgdXBkYXRlZCBtZXRhIGluZm9cbiAgICAgICAgQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQpXG4gICAgICAgICAgICAuc2V0KFxuICAgICAgICAgICAgICAgIG1ldGFLZXksXG4gICAgICAgICAgICAgICAgZXhpc3RlZE1ldGFcbiAgICAgICAgICAgICk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0RlcGVuZGVuY3lfRGVmYXVsdCB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS1EZWZhdWx0LmRlY29yYXRvclwiO1xuaW1wb3J0IHsgQV9EZXBlbmRlbmN5X0ZsYXQgfSBmcm9tIFwiLi9BLURlcGVuZGVuY3ktRmxhdC5kZWNvcmF0b3JcIjtcbmltcG9ydCB7IEFfRGVwZW5kZW5jeV9Mb2FkIH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LUxvYWQuZGVjb3JhdG9yXCI7XG5pbXBvcnQgeyBBX0RlcGVuZGVuY3lfUGFyZW50IH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LVBhcmVudC5kZWNvcmF0b3JcIjtcbmltcG9ydCB7IEFfRGVwZW5kZW5jeV9SZXF1aXJlIH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LVJlcXVpcmUuZGVjb3JhdG9yXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfRGVwZW5kZW5jeSB7XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGluZGljYXRlIHdoaWNoIEluamVjdGVkIHBhcmFtZXRlciBpcyByZXF1aXJlZFxuICAgICAqIFxuICAgICAqIFshXSBJZiBwYXJhbWV0ZXIgbWFya2VkIGFzIHJlcXVpcmVkIGlzIG5vdCBwcm92aWRlZCwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IFJlcXVpcmVkKCk6IHR5cGVvZiBBX0RlcGVuZGVuY3lfUmVxdWlyZSB7XG4gICAgICAgIHJldHVybiBBX0RlcGVuZGVuY3lfUmVxdWlyZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGluZGljYXRlIHdoaWNoIGRlcGVuZGVuY3kgc2hvdWxkIGJlIGxvYWRlZCBmcm9tIGEgc3BlY2lmaWMgcGF0aFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgTG9hZGVkKCk6IHR5cGVvZiBBX0RlcGVuZGVuY3lfTG9hZCB7XG4gICAgICAgIHJldHVybiBBX0RlcGVuZGVuY3lfTG9hZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGluZGljYXRlIHdoaWNoIGRlcGVuZGVuY3kgZGVmYXVsdCBwYXJhbWV0ZXJzIHNob3VsZCBiZSB1c2VkXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGdldCBEZWZhdWx0KCk6IHR5cGVvZiBBX0RlcGVuZGVuY3lfRGVmYXVsdCB7XG4gICAgICAgIHJldHVybiBBX0RlcGVuZGVuY3lfRGVmYXVsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGluZGljYXRlIHdoaWNoIHBhcmVudCBkZXBlbmRlbmN5IHNob3VsZCBiZSByZXNvbHZlZFxuICAgICAqIGUuZy4gZnJvbSB3aGljaCBsYXllciB1cCB0aGUgcGFyZW50IHNob3VsZCBiZSB0YWtlblxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgUGFyZW50KCk6IHR5cGVvZiBBX0RlcGVuZGVuY3lfUGFyZW50IHtcbiAgICAgICAgcmV0dXJuIEFfRGVwZW5kZW5jeV9QYXJlbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGluZGljYXRlIHRoYXQgdGhlIGRlcGVuZGVuY3kgc2hvdWxkIGJlIHJlc29sdmVkIGluIGEgZmxhdCBtYW5uZXJcbiAgICAgKiBPbmx5IGluIHRoZSBzYW1lIHNjb3BlLCB3aXRob3V0IGdvaW5nIHVwIHRvIHBhcmVudCBzY29wZXNcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IEZsYXQoKTogdHlwZW9mIEFfRGVwZW5kZW5jeV9GbGF0IHtcbiAgICAgICAgcmV0dXJuIEFfRGVwZW5kZW5jeV9GbGF0O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBfbmFtZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQ2xhc3MgaW5zdGFuY2VzIGFsbG93cyB0byBpbmRlbnRpZnkgZGVwZW5kZW5jaWVzIGJ5IG5hbWUgYW5kIHVzZSB0aGVtIGZvciBiZXR0ZXIgdHlwZSBjaGVja2luZ1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBuYW1lIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBuYW1lOiBzdHJpbmdcbiAgICApIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGVwZW5kZW5jeSBuYW1lXG4gICAgICogXG4gICAgICogQ2FuIGJlIGlkZW50aWZpZXIsIHVybCBvciBhbnkgc3RyaW5nIHZhbHVlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0luamVjdEVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG4gICAgc3RhdGljIHJlYWRvbmx5IEludmFsaWRJbmplY3Rpb25UYXJnZXQgPSAnSW52YWxpZCB0YXJnZXQgZm9yIEEtSW5qZWN0IGRlY29yYXRvcic7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWlzc2luZ0luamVjdGlvblRhcmdldCA9ICdNaXNzaW5nIHRhcmdldCBmb3IgQS1JbmplY3QgZGVjb3JhdG9yJztcbn0iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25JbnN0cnVjdGlvbnMsXG4gICAgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSxcbiAgICBBX1RZUEVTX19BX0luamVjdERlY29yYXRvclJldHVybixcbiAgICBBX1RZUEVTX19JbmplY3RhYmxlQ29uc3RydWN0b3JzLFxuICAgIEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzXG59IGZyb20gXCIuL0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX0NvbXBvbmVudCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9GcmFnbWVudCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUZyYWdtZW50L0EtRnJhZ21lbnQuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQudHlwZXNcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0VudGl0eSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fRmVhdHVyZV9Db25zdHJ1Y3RvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0NhbGxlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNhbGxlci9BX0NhbGxlci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfSW5qZWN0RXJyb3IgfSBmcm9tIFwiLi9BLUluamVjdC5lcnJvclwiO1xuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRW50aXR5L0EtRW50aXR5LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUZyYWdtZW50L0EtRnJhZ21lbnQudHlwZXNcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1TY29wZS9BLVNjb3BlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19TY29wZV9Db25zdHJ1Y3RvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLVNjb3BlL0EtU2NvcGUudHlwZXNcIjtcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IudHlwZXNcIjtcbmltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19FbnRpdHlNZXRhS2V5IH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5LmNvbnN0YW50c1wiO1xuXG5cbi8qKlxuICogQS1JbmplY3QgZGVjb3JhdG9yXG4gKiBcbiAqIFRoaXMgRGVjb3JhdG9yIGFsbG93cyB0byBpbmplY3QgZGVwZW5kZW5jaWVzIGludG8gdGhlIG1vZHVsZSBsaWtlIFxuICogLSBOYW1lc3BhY2VzIFxuICogLSBPdGhlciBDb25jZXB0cyBcbiAqIC0gb3IgbWF5YmUgQ29tcG9uZW50c1xuICogXG4gKiBAcGFyYW0gcGFyYW1zIC0gc2VlIG92ZXJsb2Fkc1xuICogQHJldHVybnMgLSBkZWNvcmF0b3IgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfSW5qZWN0PFQgZXh0ZW5kcyBBX1Njb3BlPihcbiAgICAvKioqXG4gICAgICogUHJvdmlkZSB0aGUgU2NvcGUgY29uc3RydWN0b3IgdGhhdCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgaW5qZWN0aW9uLlxuICAgICAqXG4gICAgICogWyFdIEl0IHJldHVybnMgYW4gaW5zdGFuY2Ugb2YgdGhlIFNjb3BlIHdoZXJlIHRoZSBFbnRpdHkvQ29tcG9uZW50L0NvbnRhaW5lciBpcyBkZWZpbmVkLlxuICAgICAqL1xuICAgIHNjb3BlOiBBX1RZUEVTX19TY29wZV9Db25zdHJ1Y3RvcjxUPlxuKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JSZXR1cm5cbmV4cG9ydCBmdW5jdGlvbiBBX0luamVjdDxUIGV4dGVuZHMgQV9FcnJvcj4oXG4gICAgLyoqKlxuICAgICAqIFByb3ZpZGUgdGhlIEVycm9yIGNvbnN0cnVjdG9yIHRoYXQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIGluamVjdGlvbi5cbiAgICAgKlxuICAgICAqIFshXSBJdCByZXR1cm5zIGFuIEluc3RhbmNlIG9mIHRoZSBFcnJvciB3aGF0IGlzIGV4ZWN1dGVkLlxuICAgICAqL1xuICAgIGVycm9yOiBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcjxUPlxuKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JSZXR1cm5cbmV4cG9ydCBmdW5jdGlvbiBBX0luamVjdDxUIGV4dGVuZHMgQV9GZWF0dXJlPihcbiAgICAvKipcbiAgICAgKiBQcm92aWRlIHRoZSBGZWF0dXJlIGNvbnN0cnVjdG9yIHRoYXQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIGluamVjdGlvbi5cbiAgICAgKiBcbiAgICAgKiBbIV0gSXQgcmV0dXJucyBhbiBJbnN0YW5jZSBvZiB0aGUgRmVhdHVyZSB3aGF0IGlzIGV4ZWN1dGVkLiBcbiAgICAgKi9cbiAgICBmZWF0dXJlOiBBX1RZUEVTX19GZWF0dXJlX0NvbnN0cnVjdG9yPFQ+XG4pOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvclJldHVyblxuZXhwb3J0IGZ1bmN0aW9uIEFfSW5qZWN0PFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgLyoqXG4gICAgICogUHJvdmlkZSB0aGUgQ29tcG9uZW50IGNvbnN0cnVjdG9yIHRoYXQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIGluamVjdGlvbi5cbiAgICAgKiBcbiAgICAgKiBbIV0gSXQgcmV0dXJucyBhbiBJbnN0YW5jZSBvZiB0aGUgQ29tcG9uZW50IGZyb20gY3VycmVudCBTY29wZSBvciBmcm9tIFBhcmVudCBTY29wZXMuXG4gICAgICovXG4gICAgY29tcG9uZW50OiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8VD5cbik6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yUmV0dXJuXG4vLyAgQWxsb3dzIHRvIGluamVjdCBqdXN0IG9uZSBBX0ZlYXR1cmVDYWxsZXJcbmV4cG9ydCBmdW5jdGlvbiBBX0luamVjdChcbiAgICAvKipcbiAgICAgKiBQcm92aWRlIHRoZSBBX0NhbGxlciBjb25zdHJ1Y3RvciB0byBpbmplY3QgdGhlIENhbGxlciBpbnN0YW5jZVxuICAgICAqXG4gICAgICogWyFdIEl0IHJldHVybnMgaW5pdGlhdG9yIG9mIHRoZSBjYWxsLCBlLmcuIENvbnRhaW5lci9Db21wb25lbnQvQ29tbWFuZCB3aG8gY2FsbGVkIEZlYXR1cmUgXG4gICAgICovXG4gICAgY2FsbGVyOiB0eXBlb2YgQV9DYWxsZXJcbik6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yUmV0dXJuXG4vLyBBbGxvd3MgdG8gaW5qZWN0IGp1c3Qgb25lIENvbnRleHQgRnJhZ21lbnRcbmV4cG9ydCBmdW5jdGlvbiBBX0luamVjdDxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgLyoqXG4gICAgICogUHJvdmlkZSB0aGUgRnJhZ21lbnQgY29uc3RydWN0b3IgdG8gaW5qZWN0IHRoZSBGcmFnbWVudCBpbnN0YW5jZVxuICAgICAqXG4gICAgICogWyFdIEl0IHJldHVybnMgdGhlIEZyYWdtZW50IGluc3RhbmNlIGZyb20gY3VycmVudCBTY29wZSBvciBmcm9tIFBhcmVudCBTY29wZXMuXG4gICAgICovXG4gICAgZnJhZ21lbnQ6IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+XG4pOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvclJldHVyblxuZXhwb3J0IGZ1bmN0aW9uIEFfSW5qZWN0PFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgLyoqXG4gICAgICogUHJvdmlkZSB0aGUgRW50aXR5IGNvbnN0cnVjdG9yIHRvIGluamVjdCB0aGUgRW50aXR5IGluc3RhbmNlXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IEl0IHJldHVybnMgdGhlIEVudGl0eSBpbnN0YW5jZSBmcm9tIGN1cnJlbnQgU2NvcGUgb3IgZnJvbSBQYXJlbnQgU2NvcGVzLlxuICAgICAqIFshXSBOb3RlOiBJZiBpbnN0YW5jZSBoYXMgbW9yZSB0aGFuIG9uZSBFbnRpdHkgb2YgdGhlIHNhbWUgdHlwZSBJdCByZXR1cm5zIEZJUlNUIGZvdW5kIEVudGl0eVxuICAgICAqIFshXSBOb3RlOiBVc2UgJ2NvbmZpZycgdG8gc3BlY2lmeSB0byBpbmplY3Qgc3BlY2lmaWMgb25lIG9yIGV2ZW4gQXJyYXkgb2YgRW50aXRpZXNcbiAgICAgKi9cbiAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPixcbiAgICAvKipcbiAgICAgKiBQcm92aWRlIGFkZGl0aW9uYWwgaW5zdHJ1Y3Rpb25zIG9uIGhvdyB0byBwZXJmb3JtIHRoZSBpbmplY3Rpb25cbiAgICAgKiBcbiAgICAgKiBbIV0gRGVmYXVsdCBQYWdpbmF0aW9uIGlzIDEgaWYgaXQncyBuZWNlc3NhcnkgdG8gZ2V0IG11bHRpcGxlIEVudGl0aWVzIHBsZWFzZSBjdXN0b21pemUgaXQgaW4gdGhlIGluc3RydWN0aW9uc1xuICAgICAqL1xuICAgIGNvbmZpZz86IFBhcnRpYWw8QV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uSW5zdHJ1Y3Rpb25zPFQ+PlxuKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JSZXR1cm48VD5cbmV4cG9ydCBmdW5jdGlvbiBBX0luamVjdDxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgIC8qKlxuICAgICAqIFByb3ZpZGUgdGhlIG5hbWUgb2YgQ29tcG9uZW50IGNvbnN0cnVjdG9yIHRvIGluamVjdCB0aGUgQ29tcG9uZW50IGluc3RhbmNlXG4gICAgICogXG4gICAgICogWyFdIFlvdSBjYW4gdXNlIGJvdGggY3VzdG9taXplZCBvbmUgb3Igb3JpZ2luYWwgZGVwZW5kaW5nIG9uIHlvdXIgb3ZlcnJpZGluZyBzdHJhdGVneVxuICAgICAqL1xuICAgIGN0b3I6IHN0cmluZ1xuKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JSZXR1cm5cbmV4cG9ydCBmdW5jdGlvbiBBX0luamVjdChcbiAgICBwYXJhbTE6IEFfVFlQRVNfX0luamVjdGFibGVDb25zdHJ1Y3RvcnMsXG4gICAgcGFyYW0yPzogUGFydGlhbDxBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25JbnN0cnVjdGlvbnM+XG4pOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvclJldHVybiB7XG5cbiAgICAvLyAgcHJlIGNhbGwgY2hlY2tzXG4gICAgaWYgKCFwYXJhbTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFfSW5qZWN0RXJyb3IoXG4gICAgICAgICAgICBBX0luamVjdEVycm9yLk1pc3NpbmdJbmplY3Rpb25UYXJnZXQsXG4gICAgICAgICAgICBgQS1JbmplY3QgZGVjb3JhdG9yIGlzIG1pc3NpbmcgdGhlIHRhcmdldCB0byBpbmplY3RgXG4gICAgICAgICk7XG4gICAgfVxuXG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgICB0YXJnZXQ6IEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzLFxuICAgICAgICBtZXRob2ROYW1lOiBzdHJpbmcgfCBzeW1ib2wgfCB1bmRlZmluZWQsXG4gICAgICAgIHBhcmFtZXRlckluZGV4OiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgLy8gZm9yIEVycm9yIGhhbmRsaW5nIHB1cnBvc2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHRhcmdldClcblxuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc1RhcmdldEF2YWlsYWJsZUZvckluamVjdGlvbih0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9JbmplY3RFcnJvcihcbiAgICAgICAgICAgICAgICBBX0luamVjdEVycm9yLkludmFsaWRJbmplY3Rpb25UYXJnZXQsXG4gICAgICAgICAgICAgICAgYEEtSW5qZWN0IGNhbm5vdCBiZSB1c2VkIG9uIHRoZSB0YXJnZXQgb2YgdHlwZSAke3R5cGVvZiB0YXJnZXR9ICgke2NvbXBvbmVudE5hbWV9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIG1ldGhvZCBuYW1lIG9yICdjb25zdHJ1Y3RvcicgZm9yIGNvbnN0cnVjdG9yIGluamVjdGlvbnNcbiAgICAgICAgY29uc3QgbWV0aG9kID0gbWV0aG9kTmFtZSA/IFN0cmluZyhtZXRob2ROYW1lKSA6ICdjb25zdHJ1Y3Rvcic7XG4gICAgICAgIGxldCBtZXRhS2V5O1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3Rvcih0YXJnZXQpIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fRW50aXR5TWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIG1ldGEgb3IgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICBjb25zdCBleGlzdGVkTWV0YSA9IEFfQ29udGV4dC5tZXRhKHRhcmdldCkuZ2V0KG1ldGFLZXkpIHx8IG5ldyBBX01ldGEoKTtcbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIGluamVjdGlvbnMgZm9yIHRoZSBtZXRob2Qgb3IgY3JlYXRlIGEgbmV3IGFycmF5XG4gICAgICAgIGNvbnN0IHBhcmFtc0FycmF5OiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhID0gZXhpc3RlZE1ldGEuZ2V0KG1ldGhvZCkgfHwgW107XG5cbiAgICAgICAgLy8gc2V0IHRoZSBwYXJhbWV0ZXIgaW5qZWN0aW9uIGluZm9cbiAgICAgICAgcGFyYW1zQXJyYXlbcGFyYW1ldGVySW5kZXhdID0ge1xuICAgICAgICAgICAgdGFyZ2V0OiBwYXJhbTEsXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6IHBhcmFtMlxuICAgICAgICB9XG4gICAgICAgIC8vIHNhdmUgYmFjayB0aGUgdXBkYXRlZCBpbmplY3Rpb25zIGFycmF5XG4gICAgICAgIGV4aXN0ZWRNZXRhLnNldChtZXRob2QsIHBhcmFtc0FycmF5KTtcblxuICAgICAgICAvLyBzYXZlIGJhY2sgdGhlIHVwZGF0ZWQgbWV0YSBpbmZvXG4gICAgICAgIEFfQ29udGV4dFxuICAgICAgICAgICAgLm1ldGEodGFyZ2V0KVxuICAgICAgICAgICAgLnNldChcbiAgICAgICAgICAgICAgICBtZXRhS2V5LFxuICAgICAgICAgICAgICAgIGV4aXN0ZWRNZXRhXG4gICAgICAgICAgICApO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQsIEFfQ29udGV4dCwgQV9FcnJvciwgQV9GZWF0dXJlLCBBX0lkZW50aXR5SGVscGVyLCBBX0luamVjdCwgQV9TY29wZSwgQV9UWVBFU19fSW5qZWN0YWJsZUNvbnN0cnVjdG9ycywgQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9DaGFubmVsRXJyb3IgfSBmcm9tIFwiLi9BLUNoYW5uZWwuZXJyb3JcIjtcbmltcG9ydCB7IEFfQ2hhbm5lbEZlYXR1cmVzIH0gZnJvbSBcIi4vQS1DaGFubmVsLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9PcGVyYXRpb25Db250ZXh0IH0gZnJvbSBcIi4uL0EtT3BlcmF0aW9uL0EtT3BlcmF0aW9uLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfQ2hhbm5lbFJlcXVlc3QgfSBmcm9tIFwiLi9BLUNoYW5uZWxSZXF1ZXN0LmNvbnRleHRcIjtcblxuLyoqXG4gKiBBLUNoYW5uZWwgLSBBIHBvd2VyZnVsLCBleHRlbnNpYmxlIGNvbW11bmljYXRpb24gY2hhbm5lbCBjb21wb25lbnRcbiAqIFxuICogQS1DaGFubmVsIHByb3ZpZGVzIGEgc3RydWN0dXJlZCBhcHByb2FjaCB0byBpbXBsZW1lbnRpbmcgdmFyaW91cyBjb21tdW5pY2F0aW9uIHBhdHRlcm5zXG4gKiBzdWNoIGFzIEhUVFAgY2xpZW50cywgV2ViU29ja2V0IGNvbm5lY3Rpb25zLCBtZXNzYWdlIHF1ZXVlcywgYW5kIG90aGVyIG1lc3NhZ2luZyBzeXN0ZW1zLlxuICogSXQgb2ZmZXJzIGEgY29tcGxldGUgbGlmZWN5Y2xlIG1hbmFnZW1lbnQgc3lzdGVtIHdpdGggZXh0ZW5zaWJsZSBob29rcyBmb3IgY3VzdG9tIGJlaGF2aW9yLlxuICogXG4gKiAjIyBLZXkgRmVhdHVyZXM6XG4gKiAtIPCflIQgKipMaWZlY3ljbGUgTWFuYWdlbWVudCoqIC0gQ29tcGxldGUgY29ubmVjdGlvbiBhbmQgcHJvY2Vzc2luZyBsaWZlY3ljbGUgd2l0aCBob29rc1xuICogLSDwn5OhICoqTXVsdGlwbGUgQ29tbXVuaWNhdGlvbiBQYXR0ZXJucyoqIC0gUmVxdWVzdC9SZXNwb25zZSBhbmQgRmlyZS1hbmQtRm9yZ2V0IG1lc3NhZ2luZyAgXG4gKiAtIPCfm6HvuI8gKipFcnJvciBIYW5kbGluZyoqIC0gQ29tcHJlaGVuc2l2ZSBlcnJvciBjYXB0dXJlIGFuZCBtYW5hZ2VtZW50XG4gKiAtIPCfjq8gKipUeXBlIFNhZmV0eSoqIC0gRnVsbCBUeXBlU2NyaXB0IHN1cHBvcnQgd2l0aCBnZW5lcmljIHR5cGVzXG4gKiAtIPCflKcgKipFeHRlbnNpYmxlKiogLSBDb21wb25lbnQtYmFzZWQgYXJjaGl0ZWN0dXJlIGZvciBjdXN0b20gYmVoYXZpb3JcbiAqIC0g4pqhICoqQ29uY3VycmVudCBQcm9jZXNzaW5nKiogLSBIYW5kbGUgbXVsdGlwbGUgcmVxdWVzdHMgc2ltdWx0YW5lb3VzbHlcbiAqIFxuICogIyMgQmFzaWMgVXNhZ2U6XG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBjaGFubmVsID0gbmV3IEFfQ2hhbm5lbCgpO1xuICogQV9Db250ZXh0LnJvb3QucmVnaXN0ZXIoY2hhbm5lbCk7XG4gKiBcbiAqIC8vIFJlcXVlc3QvUmVzcG9uc2UgcGF0dGVyblxuICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjaGFubmVsLnJlcXVlc3QoeyBhY3Rpb246ICdnZXREYXRhJywgaWQ6IDEyMyB9KTtcbiAqIFxuICogLy8gRmlyZS1hbmQtZm9yZ2V0IHBhdHRlcm4gIFxuICogYXdhaXQgY2hhbm5lbC5zZW5kKHsgdHlwZTogJ25vdGlmaWNhdGlvbicsIG1lc3NhZ2U6ICdIZWxsbyBXb3JsZCcgfSk7XG4gKiBgYGBcbiAqIFxuICogIyMgQ3VzdG9tIEltcGxlbWVudGF0aW9uOlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgSHR0cENoYW5uZWwgZXh0ZW5kcyBBX0NoYW5uZWwge31cbiAqIFxuICogY2xhc3MgSHR0cFByb2Nlc3NvciBleHRlbmRzIEFfQ29tcG9uZW50IHtcbiAqICAgICBAQV9GZWF0dXJlLkV4dGVuZCh7IHNjb3BlOiBbSHR0cENoYW5uZWxdIH0pXG4gKiAgICAgYXN5bmMgW0FfQ2hhbm5lbEZlYXR1cmVzLm9uUmVxdWVzdF0oXG4gKiAgICAgICAgIEBBX0luamVjdChBX0NoYW5uZWxSZXF1ZXN0KSBjb250ZXh0OiBBX0NoYW5uZWxSZXF1ZXN0XG4gKiAgICAgKSB7XG4gKiAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29udGV4dC5wYXJhbXMudXJsKTtcbiAqICAgICAgICAgKGNvbnRleHQgYXMgYW55KS5fcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICogICAgIH1cbiAqIH1cbiAqIGBgYFxuICogXG4gKiBAc2VlIHtAbGluayAuL1JFQURNRS5tZH0gRm9yIGNvbXBsZXRlIGRvY3VtZW50YXRpb24gYW5kIGV4YW1wbGVzXG4gKi9cbmV4cG9ydCBjbGFzcyBBX0NoYW5uZWwgZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY2hhbm5lbCBpcyBjdXJyZW50bHkgcHJvY2Vzc2luZyByZXF1ZXN0cy5cbiAgICAgKiBUaGlzIGZsYWcgaXMgbWFuYWdlZCBhdXRvbWF0aWNhbGx5IGR1cmluZyByZXF1ZXN0L3NlbmQgb3BlcmF0aW9ucy5cbiAgICAgKiBcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3Byb2Nlc3Npbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBjaGFubmVsIGluaXRpYWxpemF0aW9uIGlzIGNvbXBsZXRlLlxuICAgICAqIEVuc3VyZXMgdGhhdCBvbkNvbm5lY3QgbGlmZWN5Y2xlIGhvb2sgaGFzIGJlZW4gZXhlY3V0ZWQgYmVmb3JlXG4gICAgICogYW55IGNvbW11bmljYXRpb24gb3BlcmF0aW9ucy5cbiAgICAgKiBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfaW5pdGlhbGl6ZWQ/OiBQcm9taXNlPHZvaWQ+O1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgY2FjaGUgc3RvcmFnZSBmb3IgY2hhbm5lbC1zcGVjaWZpYyBkYXRhLlxuICAgICAqIENhbiBiZSB1c2VkIGJ5IGN1c3RvbSBpbXBsZW1lbnRhdGlvbnMgZm9yIGNhY2hpbmcgcmVzcG9uc2VzLFxuICAgICAqIGNvbm5lY3Rpb24gcG9vbHMsIG9yIG90aGVyIGNoYW5uZWwtc3BlY2lmaWMgc3RhdGUuXG4gICAgICogXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfY2FjaGU6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwKCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEFfQ2hhbm5lbCBpbnN0YW5jZS5cbiAgICAgKiBcbiAgICAgKiBUaGUgY2hhbm5lbCBtdXN0IGJlIHJlZ2lzdGVyZWQgd2l0aCBBX0NvbnRleHQgYmVmb3JlIHVzZTpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgY2hhbm5lbCA9IG5ldyBBX0NoYW5uZWwoKTtcbiAgICAgKiBBX0NvbnRleHQucm9vdC5yZWdpc3RlcihjaGFubmVsKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY2hhbm5lbCBpcyBjdXJyZW50bHkgcHJvY2Vzc2luZyByZXF1ZXN0cy5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBjaGFubmVsIGlzIHByb2Nlc3NpbmcsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGdldCBwcm9jZXNzaW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2Vzc2luZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgY2hhbm5lbCBpcyBmdWxseSBpbml0aWFsaXplZC5cbiAgICAgKiBcbiAgICAgKiBBdXRvbWF0aWNhbGx5IGNhbGxzIHRoZSBvbkNvbm5lY3QgbGlmZWN5Y2xlIGhvb2sgaWYgbm90IGFscmVhZHkgY2FsbGVkLlxuICAgICAqIFRoaXMgZW5zdXJlcyB0aGUgY2hhbm5lbCBpcyByZWFkeSBmb3IgY29tbXVuaWNhdGlvbiBvcGVyYXRpb25zLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBpbml0aWFsaXphdGlvbiBpcyBjb21wbGV0ZVxuICAgICAqL1xuICAgIGdldCBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRoaXMuY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZDtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PSBMaWZlY3ljbGUgRXh0ZW5zaW9uIFBvaW50cyA9PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ29ubmVjdGlvbiBsaWZlY3ljbGUgaG9vayAtIGNhbGxlZCBkdXJpbmcgY2hhbm5lbCBpbml0aWFsaXphdGlvbi5cbiAgICAgKiBcbiAgICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCBpbiBjdXN0b20gY29tcG9uZW50cyB0byBpbXBsZW1lbnQgY29ubmVjdGlvbiBsb2dpYzpcbiAgICAgKiAtIEluaXRpYWxpemUgbmV0d29yayBjb25uZWN0aW9uc1xuICAgICAqIC0gTG9hZCBjb25maWd1cmF0aW9uXG4gICAgICogLSBWYWxpZGF0ZSBlbnZpcm9ubWVudFxuICAgICAqIC0gU2V0IHVwIGNvbm5lY3Rpb24gcG9vbHNcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBEYXRhYmFzZUNoYW5uZWwgZXh0ZW5kcyBBX0NoYW5uZWwge31cbiAgICAgKiBcbiAgICAgKiBjbGFzcyBEYXRhYmFzZUNvbm5lY3RvciBleHRlbmRzIEFfQ29tcG9uZW50IHtcbiAgICAgKiAgICAgQEFfRmVhdHVyZS5FeHRlbmQoeyBzY29wZTogW0RhdGFiYXNlQ2hhbm5lbF0gfSlcbiAgICAgKiAgICAgYXN5bmMgW0FfQ2hhbm5lbEZlYXR1cmVzLm9uQ29ubmVjdF0oKSB7XG4gICAgICogICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVEYXRhYmFzZSgpO1xuICAgICAqICAgICAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGNoYW5uZWwgY29ubmVjdGVkJyk7XG4gICAgICogICAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBX0NoYW5uZWxGZWF0dXJlcy5vbkNvbm5lY3RcbiAgICB9KVxuICAgIGFzeW5jIG9uQ29ubmVjdCguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9uIC0gbm8gb3BlcmF0aW9uXG4gICAgICAgIC8vIE92ZXJyaWRlIGluIGN1c3RvbSBpbXBsZW1lbnRhdGlvbnNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0aW9uIGxpZmVjeWNsZSBob29rIC0gY2FsbGVkIGR1cmluZyBjaGFubmVsIGNsZWFudXAuXG4gICAgICogXG4gICAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgaW4gY3VzdG9tIGNvbXBvbmVudHMgdG8gaW1wbGVtZW50IGNsZWFudXAgbG9naWM6XG4gICAgICogLSBDbG9zZSBuZXR3b3JrIGNvbm5lY3Rpb25zXG4gICAgICogLSBTYXZlIHN0YXRlXG4gICAgICogLSBSZWxlYXNlIHJlc291cmNlc1xuICAgICAqIC0gQ2xlYXIgY2FjaGVzXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQEFfRmVhdHVyZS5FeHRlbmQoeyBzY29wZTogW0RhdGFiYXNlQ2hhbm5lbF0gfSlcbiAgICAgKiBhc3luYyBbQV9DaGFubmVsRmVhdHVyZXMub25EaXNjb25uZWN0XSgpIHtcbiAgICAgKiAgICAgYXdhaXQgdGhpcy5jbG9zZUNvbm5lY3Rpb25zKCk7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBjaGFubmVsIGRpc2Nvbm5lY3RlZCcpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFfQ2hhbm5lbEZlYXR1cmVzLm9uRGlzY29ubmVjdFxuICAgIH0pXG4gICAgYXN5bmMgb25EaXNjb25uZWN0KC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb24gLSBubyBvcGVyYXRpb25cbiAgICAgICAgLy8gT3ZlcnJpZGUgaW4gY3VzdG9tIGltcGxlbWVudGF0aW9uc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZS1yZXF1ZXN0IHByb2Nlc3NpbmcgaG9vayAtIGNhbGxlZCBiZWZvcmUgbWFpbiByZXF1ZXN0IHByb2Nlc3NpbmcuXG4gICAgICogXG4gICAgICogVXNlIHRoaXMgaG9vayBmb3I6XG4gICAgICogLSBSZXF1ZXN0IHZhbGlkYXRpb25cbiAgICAgKiAtIEF1dGhlbnRpY2F0aW9uXG4gICAgICogLSBSYXRlIGxpbWl0aW5nXG4gICAgICogLSBMb2dnaW5nXG4gICAgICogLSBSZXF1ZXN0IHRyYW5zZm9ybWF0aW9uXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQEFfRmVhdHVyZS5FeHRlbmQoeyBzY29wZTogW0h0dHBDaGFubmVsXSB9KVxuICAgICAqIGFzeW5jIFtBX0NoYW5uZWxGZWF0dXJlcy5vbkJlZm9yZVJlcXVlc3RdKFxuICAgICAqICAgICBAQV9JbmplY3QoQV9DaGFubmVsUmVxdWVzdCkgY29udGV4dDogQV9DaGFubmVsUmVxdWVzdFxuICAgICAqICkge1xuICAgICAqICAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBwYXJhbWV0ZXJzXG4gICAgICogICAgIGlmICghY29udGV4dC5wYXJhbXMudXJsKSB7XG4gICAgICogICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSTCBpcyByZXF1aXJlZCcpO1xuICAgICAqICAgICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9DaGFubmVsRmVhdHVyZXMub25CZWZvcmVSZXF1ZXN0XG4gICAgfSlcbiAgICBhc3luYyBvbkJlZm9yZVJlcXVlc3QoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiAtIG5vIG9wZXJhdGlvblxuICAgICAgICAvLyBPdmVycmlkZSBpbiBjdXN0b20gaW1wbGVtZW50YXRpb25zXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFpbiByZXF1ZXN0IHByb2Nlc3NpbmcgaG9vayAtIGNvcmUgYnVzaW5lc3MgbG9naWMgZ29lcyBoZXJlLlxuICAgICAqIFxuICAgICAqIFRoaXMgaXMgd2hlcmUgdGhlIG1haW4gY29tbXVuaWNhdGlvbiBsb2dpYyBzaG91bGQgYmUgaW1wbGVtZW50ZWQ6XG4gICAgICogLSBNYWtlIEhUVFAgcmVxdWVzdHNcbiAgICAgKiAtIFNlbmQgbWVzc2FnZXMgdG8gcXVldWVzXG4gICAgICogLSBFeGVjdXRlIGRhdGFiYXNlIHF1ZXJpZXNcbiAgICAgKiAtIFByb2Nlc3MgYnVzaW5lc3MgbG9naWNcbiAgICAgKiBcbiAgICAgKiBTZXQgdGhlIHJlc3VsdCBpbiB0aGUgY29udGV4dDogYChjb250ZXh0IGFzIGFueSkuX3Jlc3VsdCA9IHlvdXJSZXN1bHQ7YFxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBBX0ZlYXR1cmUuRXh0ZW5kKHsgc2NvcGU6IFtIdHRwQ2hhbm5lbF0gfSlcbiAgICAgKiBhc3luYyBbQV9DaGFubmVsRmVhdHVyZXMub25SZXF1ZXN0XShcbiAgICAgKiAgICAgQEFfSW5qZWN0KEFfQ2hhbm5lbFJlcXVlc3QpIGNvbnRleHQ6IEFfQ2hhbm5lbFJlcXVlc3RcbiAgICAgKiApIHtcbiAgICAgKiAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb250ZXh0LnBhcmFtcy51cmwpO1xuICAgICAqICAgICAoY29udGV4dCBhcyBhbnkpLl9yZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9DaGFubmVsRmVhdHVyZXMub25SZXF1ZXN0XG4gICAgfSlcbiAgICBhc3luYyBvblJlcXVlc3QoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiAtIG5vIG9wZXJhdGlvblxuICAgICAgICAvLyBPdmVycmlkZSBpbiBjdXN0b20gaW1wbGVtZW50YXRpb25zXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUG9zdC1yZXF1ZXN0IHByb2Nlc3NpbmcgaG9vayAtIGNhbGxlZCBhZnRlciBzdWNjZXNzZnVsIHJlcXVlc3QgcHJvY2Vzc2luZy5cbiAgICAgKiBcbiAgICAgKiBVc2UgdGhpcyBob29rIGZvcjpcbiAgICAgKiAtIFJlc3BvbnNlIHRyYW5zZm9ybWF0aW9uXG4gICAgICogLSBMb2dnaW5nXG4gICAgICogLSBBbmFseXRpY3NcbiAgICAgKiAtIENhY2hpbmcgcmVzdWx0c1xuICAgICAqIC0gQ2xlYW51cFxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBBX0ZlYXR1cmUuRXh0ZW5kKHsgc2NvcGU6IFtIdHRwQ2hhbm5lbF0gfSlcbiAgICAgKiBhc3luYyBbQV9DaGFubmVsRmVhdHVyZXMub25BZnRlclJlcXVlc3RdKFxuICAgICAqICAgICBAQV9JbmplY3QoQV9DaGFubmVsUmVxdWVzdCkgY29udGV4dDogQV9DaGFubmVsUmVxdWVzdFxuICAgICAqICkge1xuICAgICAqICAgICBjb25zb2xlLmxvZyhgUmVxdWVzdCBjb21wbGV0ZWQgaW4gJHtEYXRlLm5vdygpIC0gY29udGV4dC5zdGFydFRpbWV9bXNgKTtcbiAgICAgKiAgICAgYXdhaXQgdGhpcy5jYWNoZVJlc3BvbnNlKGNvbnRleHQucGFyYW1zLCBjb250ZXh0LmRhdGEpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFfQ2hhbm5lbEZlYXR1cmVzLm9uQWZ0ZXJSZXF1ZXN0XG4gICAgfSlcbiAgICBhc3luYyBvbkFmdGVyUmVxdWVzdCguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9uIC0gbm8gb3BlcmF0aW9uXG4gICAgICAgIC8vIE92ZXJyaWRlIGluIGN1c3RvbSBpbXBsZW1lbnRhdGlvbnNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBoYW5kbGluZyBob29rIC0gY2FsbGVkIHdoZW4gYW55IG9wZXJhdGlvbiBmYWlscy5cbiAgICAgKiBcbiAgICAgKiBVc2UgdGhpcyBob29rIGZvcjpcbiAgICAgKiAtIEVycm9yIGxvZ2dpbmdcbiAgICAgKiAtIEVycm9yIHRyYW5zZm9ybWF0aW9uXG4gICAgICogLSBBbGVydGluZ1xuICAgICAqIC0gUmV0cnkgbG9naWNcbiAgICAgKiAtIEZhbGxiYWNrIG1lY2hhbmlzbXNcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBAQV9GZWF0dXJlLkV4dGVuZCh7IHNjb3BlOiBbSHR0cENoYW5uZWxdIH0pXG4gICAgICogYXN5bmMgW0FfQ2hhbm5lbEZlYXR1cmVzLm9uRXJyb3JdKFxuICAgICAqICAgICBAQV9JbmplY3QoQV9DaGFubmVsUmVxdWVzdCkgY29udGV4dDogQV9DaGFubmVsUmVxdWVzdFxuICAgICAqICkge1xuICAgICAqICAgICBjb25zb2xlLmVycm9yKCdSZXF1ZXN0IGZhaWxlZDonLCBjb250ZXh0LnBhcmFtcywgY29udGV4dC5mYWlsZWQpO1xuICAgICAqICAgICBhd2FpdCB0aGlzLmxvZ0Vycm9yKGNvbnRleHQpO1xuICAgICAqICAgICBhd2FpdCB0aGlzLnNlbmRBbGVydChjb250ZXh0KTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBX0NoYW5uZWxGZWF0dXJlcy5vbkVycm9yXG4gICAgfSlcbiAgICBhc3luYyBvbkVycm9yKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb24gLSBubyBvcGVyYXRpb25cbiAgICAgICAgLy8gT3ZlcnJpZGUgaW4gY3VzdG9tIGltcGxlbWVudGF0aW9uc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgb3BlcmF0aW9uIGhvb2sgLSBjYWxsZWQgZm9yIGZpcmUtYW5kLWZvcmdldCBtZXNzYWdpbmcuXG4gICAgICogXG4gICAgICogVXNlIHRoaXMgaG9vayBmb3I6XG4gICAgICogLSBNZXNzYWdlIGJyb2FkY2FzdGluZ1xuICAgICAqIC0gRXZlbnQgcHVibGlzaGluZ1xuICAgICAqIC0gTm90aWZpY2F0aW9uIHNlbmRpbmdcbiAgICAgKiAtIFF1ZXVlIG9wZXJhdGlvbnNcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBAQV9GZWF0dXJlLkV4dGVuZCh7IHNjb3BlOiBbRXZlbnRDaGFubmVsXSB9KVxuICAgICAqIGFzeW5jIFtBX0NoYW5uZWxGZWF0dXJlcy5vblNlbmRdKFxuICAgICAqICAgICBAQV9JbmplY3QoQV9DaGFubmVsUmVxdWVzdCkgY29udGV4dDogQV9DaGFubmVsUmVxdWVzdFxuICAgICAqICkge1xuICAgICAqICAgICBjb25zdCB7IGV2ZW50VHlwZSwgcGF5bG9hZCB9ID0gY29udGV4dC5wYXJhbXM7XG4gICAgICogICAgIGF3YWl0IHRoaXMucHVibGlzaEV2ZW50KGV2ZW50VHlwZSwgcGF5bG9hZCk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9DaGFubmVsRmVhdHVyZXMub25TZW5kXG4gICAgfSlcbiAgICBhc3luYyBvblNlbmQoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiAtIG5vIG9wZXJhdGlvblxuICAgICAgICAvLyBPdmVycmlkZSBpbiBjdXN0b20gaW1wbGVtZW50YXRpb25zXG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09IFB1YmxpYyBBUEkgTWV0aG9kcyA9PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGNoYW5uZWwgYnkgY2FsbGluZyB0aGUgb25Db25uZWN0IGxpZmVjeWNsZSBob29rLlxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IHdoZW4gYWNjZXNzaW5nIHRoZSBgaW5pdGlhbGl6ZWAgcHJvcGVydHkuXG4gICAgICogWW91IGNhbiBhbHNvIGNhbGwgaXQgbWFudWFsbHkgaWYgbmVlZGVkLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkXG4gICAgICovXG4gICAgYXN5bmMgY29ubmVjdCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ2hhbm5lbEZlYXR1cmVzLm9uQ29ubmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdHMgdGhlIGNoYW5uZWwgYnkgY2FsbGluZyB0aGUgb25EaXNjb25uZWN0IGxpZmVjeWNsZSBob29rLlxuICAgICAqIFxuICAgICAqIFVzZSB0aGlzIG1ldGhvZCB0byBwcm9wZXJseSBjbGVhbnVwIHJlc291cmNlcyB3aGVuIHRoZSBjaGFubmVsIGlzIG5vIGxvbmdlciBuZWVkZWQuXG4gICAgICogXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGNsZWFudXAgaXMgY29tcGxldGVcbiAgICAgKi9cbiAgICBhc3luYyBkaXNjb25uZWN0KCkge1xuICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9DaGFubmVsRmVhdHVyZXMub25EaXNjb25uZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHJlcXVlc3QgYW5kIHdhaXRzIGZvciBhIHJlc3BvbnNlIChSZXF1ZXN0L1Jlc3BvbnNlIHBhdHRlcm4pLlxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIGZvbGxvd3MgdGhlIGNvbXBsZXRlIHJlcXVlc3QgbGlmZWN5Y2xlOlxuICAgICAqIDEuIEVuc3VyZXMgY2hhbm5lbCBpcyBpbml0aWFsaXplZFxuICAgICAqIDIuIENyZWF0ZXMgcmVxdWVzdCBzY29wZSBhbmQgY29udGV4dFxuICAgICAqIDMuIENhbGxzIG9uQmVmb3JlUmVxdWVzdCBob29rXG4gICAgICogNC4gQ2FsbHMgb25SZXF1ZXN0IGhvb2sgKG1haW4gcHJvY2Vzc2luZylcbiAgICAgKiA1LiBDYWxscyBvbkFmdGVyUmVxdWVzdCBob29rXG4gICAgICogNi4gUmV0dXJucyB0aGUgcmVzcG9uc2UgY29udGV4dFxuICAgICAqIFxuICAgICAqIElmIGFueSBzdGVwIGZhaWxzLCB0aGUgb25FcnJvciBob29rIGlzIGNhbGxlZCBhbmQgdGhlIGVycm9yIGlzIGNhcHR1cmVkXG4gICAgICogaW4gdGhlIHJldHVybmVkIGNvbnRleHQuXG4gICAgICogXG4gICAgICogQHRlbXBsYXRlIF9QYXJhbXNUeXBlIFRoZSB0eXBlIG9mIHJlcXVlc3QgcGFyYW1ldGVyc1xuICAgICAqIEB0ZW1wbGF0ZSBfUmVzdWx0VHlwZSBUaGUgdHlwZSBvZiByZXNwb25zZSBkYXRhXG4gICAgICogQHBhcmFtIHBhcmFtcyBUaGUgcmVxdWVzdCBwYXJhbWV0ZXJzXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QV9DaGFubmVsUmVxdWVzdDxfUGFyYW1zVHlwZSwgX1Jlc3VsdFR5cGU+Pn0gUmVxdWVzdCBjb250ZXh0IHdpdGggcmVzcG9uc2VcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiAvLyBCYXNpYyB1c2FnZVxuICAgICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2hhbm5lbC5yZXF1ZXN0KHsgYWN0aW9uOiAnZ2V0RGF0YScsIGlkOiAxMjMgfSk7XG4gICAgICogXG4gICAgICogLy8gVHlwZWQgdXNhZ2VcbiAgICAgKiBpbnRlcmZhY2UgVXNlclJlcXVlc3QgeyB1c2VySWQ6IHN0cmluZzsgfVxuICAgICAqIGludGVyZmFjZSBVc2VyUmVzcG9uc2UgeyBuYW1lOiBzdHJpbmc7IGVtYWlsOiBzdHJpbmc7IH1cbiAgICAgKiBcbiAgICAgKiBjb25zdCB1c2VyUmVzcG9uc2UgPSBhd2FpdCBjaGFubmVsLnJlcXVlc3Q8VXNlclJlcXVlc3QsIFVzZXJSZXNwb25zZT4oe1xuICAgICAqICAgICB1c2VySWQ6ICd1c2VyLTEyMydcbiAgICAgKiB9KTtcbiAgICAgKiBcbiAgICAgKiBpZiAoIXVzZXJSZXNwb25zZS5mYWlsZWQpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ1VzZXI6JywgdXNlclJlc3BvbnNlLmRhdGEubmFtZSk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGFzeW5jIHJlcXVlc3Q8XG4gICAgICAgIF9QYXJhbXNUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgICAgIF9SZXN1bHRUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgPihwYXJhbXM6IF9QYXJhbXNUeXBlKTogUHJvbWlzZTxBX0NoYW5uZWxSZXF1ZXN0PF9QYXJhbXNUeXBlLCBfUmVzdWx0VHlwZT4+IHtcbiAgICAgICAgLy8gRW5zdXJlIGNoYW5uZWwgaXMgaW5pdGlhbGl6ZWQgYmVmb3JlIHByb2Nlc3NpbmdcbiAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplO1xuXG4gICAgICAgIC8vIFNldCBwcm9jZXNzaW5nIGZsYWdcbiAgICAgICAgdGhpcy5fcHJvY2Vzc2luZyA9IHRydWU7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGlzb2xhdGVkIHNjb3BlIGZvciB0aGlzIHJlcXVlc3RcbiAgICAgICAgY29uc3QgcmVxdWVzdFNjb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgbmFtZTogYGEtY2hhbm5lbEBzY29wZTpyZXF1ZXN0OiR7QV9JZGVudGl0eUhlbHBlci5nZW5lcmF0ZVRpbWVJZCgpfWBcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIHJlcXVlc3QgY29udGV4dFxuICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IEFfQ2hhbm5lbFJlcXVlc3Q8X1BhcmFtc1R5cGUsIF9SZXN1bHRUeXBlPihwYXJhbXMpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBTZXQgdXAgZGVwZW5kZW5jeSBpbmplY3Rpb24gc2NvcGVcbiAgICAgICAgICAgIHJlcXVlc3RTY29wZS5yZWdpc3Rlcihjb250ZXh0KTtcblxuICAgICAgICAgICAgLy8gRXhlY3V0ZSByZXF1ZXN0IGxpZmVjeWNsZVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ2hhbm5lbEZlYXR1cmVzLm9uQmVmb3JlUmVxdWVzdCwgcmVxdWVzdFNjb3BlKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX0NoYW5uZWxGZWF0dXJlcy5vblJlcXVlc3QsIHJlcXVlc3RTY29wZSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9DaGFubmVsRmVhdHVyZXMub25BZnRlclJlcXVlc3QsIHJlcXVlc3RTY29wZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlIGNoYW5uZWwtc3BlY2lmaWMgZXJyb3JcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxFcnJvciA9IG5ldyBBX0NoYW5uZWxFcnJvcihlcnJvcik7XG4gICAgICAgICAgICBjb250ZXh0LmZhaWwoY2hhbm5lbEVycm9yKTtcbiAgICAgICAgICAgIHJlcXVlc3RTY29wZS5yZWdpc3RlcihjaGFubmVsRXJyb3IpO1xuXG4gICAgICAgICAgICAvLyBDYWxsIGVycm9yIGhhbmRsaW5nIGhvb2tcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX0NoYW5uZWxGZWF0dXJlcy5vbkVycm9yLCByZXF1ZXN0U2NvcGUpO1xuXG4gICAgICAgICAgICByZXF1ZXN0U2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyBjaGFubmVsRXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIGZpcmUtYW5kLWZvcmdldCBtZXNzYWdlIChTZW5kIHBhdHRlcm4pLlxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgZm9yIG9uZS13YXkgY29tbXVuaWNhdGlvbiB3aGVyZSBubyByZXNwb25zZSBpcyBleHBlY3RlZDpcbiAgICAgKiAtIEV2ZW50IGJyb2FkY2FzdGluZ1xuICAgICAqIC0gTm90aWZpY2F0aW9uIHNlbmRpbmdcbiAgICAgKiAtIE1lc3NhZ2UgcXVldWluZ1xuICAgICAqIC0gTG9nZ2luZyBvcGVyYXRpb25zXG4gICAgICogXG4gICAgICogVGhlIG1ldGhvZCBmb2xsb3dzIHRoaXMgbGlmZWN5Y2xlOlxuICAgICAqIDEuIEVuc3VyZXMgY2hhbm5lbCBpcyBpbml0aWFsaXplZFxuICAgICAqIDIuIENyZWF0ZXMgc2VuZCBzY29wZSBhbmQgY29udGV4dFxuICAgICAqIDMuIENhbGxzIG9uU2VuZCBob29rXG4gICAgICogNC4gQ29tcGxldGVzIHdpdGhvdXQgcmV0dXJuaW5nIGRhdGFcbiAgICAgKiBcbiAgICAgKiBJZiB0aGUgb3BlcmF0aW9uIGZhaWxzLCB0aGUgb25FcnJvciBob29rIGlzIGNhbGxlZCBidXQgbm8gZXJyb3IgaXMgdGhyb3duXG4gICAgICogdG8gdGhlIGNhbGxlciAoZmlyZS1hbmQtZm9yZ2V0IHNlbWFudGljcykuXG4gICAgICogXG4gICAgICogQHRlbXBsYXRlIF9QYXJhbXNUeXBlIFRoZSB0eXBlIG9mIG1lc3NhZ2UgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHNlbmRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gc2VuZCBpcyBjb21wbGV0ZVxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIC8vIFNlbmQgbm90aWZpY2F0aW9uXG4gICAgICogYXdhaXQgY2hhbm5lbC5zZW5kKHtcbiAgICAgKiAgICAgdHlwZTogJ3VzZXIubG9naW4nLFxuICAgICAqICAgICB1c2VySWQ6ICd1c2VyLTEyMycsXG4gICAgICogICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICogfSk7XG4gICAgICogXG4gICAgICogLy8gU2VuZCB0byBtZXNzYWdlIHF1ZXVlXG4gICAgICogYXdhaXQgY2hhbm5lbC5zZW5kKHtcbiAgICAgKiAgICAgcXVldWU6ICdlbWFpbC1xdWV1ZScsXG4gICAgICogICAgIHBheWxvYWQ6IHtcbiAgICAgKiAgICAgICAgIHRvOiAndXNlckBleGFtcGxlLmNvbScsXG4gICAgICogICAgICAgICBzdWJqZWN0OiAnV2VsY29tZSEnLFxuICAgICAqICAgICAgICAgYm9keTogJ1dlbGNvbWUgdG8gb3VyIHNlcnZpY2UhJ1xuICAgICAqICAgICB9XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgYXN5bmMgc2VuZDxfUGFyYW1zVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+PihcbiAgICAgICAgbWVzc2FnZTogX1BhcmFtc1R5cGVcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gRW5zdXJlIGNoYW5uZWwgaXMgaW5pdGlhbGl6ZWQgYmVmb3JlIHByb2Nlc3NpbmdcbiAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplO1xuXG4gICAgICAgIC8vIFNldCBwcm9jZXNzaW5nIGZsYWdcbiAgICAgICAgdGhpcy5fcHJvY2Vzc2luZyA9IHRydWU7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGlzb2xhdGVkIHNjb3BlIGZvciB0aGlzIHNlbmQgb3BlcmF0aW9uXG4gICAgICAgIGNvbnN0IHJlcXVlc3RTY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6IGBhLWNoYW5uZWxAc2NvcGU6c2VuZDoke0FfSWRlbnRpdHlIZWxwZXIuZ2VuZXJhdGVUaW1lSWQoKX1gXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG5cbiAgICAgICAgLy8gQ3JlYXRlIHJlcXVlc3QgY29udGV4dCBmb3IgdGhlIG1lc3NhZ2VcbiAgICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBBX09wZXJhdGlvbkNvbnRleHQoJ3NlbmQnLCBtZXNzYWdlKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gU2V0IHVwIGRlcGVuZGVuY3kgaW5qZWN0aW9uIHNjb3BlXG4gICAgICAgICAgICByZXF1ZXN0U2NvcGUuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuICAgICAgICAgICAgcmVxdWVzdFNjb3BlLnJlZ2lzdGVyKGNvbnRleHQpO1xuXG4gICAgICAgICAgICAvLyBFeGVjdXRlIHNlbmQgb3BlcmF0aW9uXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9DaGFubmVsRmVhdHVyZXMub25TZW5kLCByZXF1ZXN0U2NvcGUpO1xuXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlIGNoYW5uZWwtc3BlY2lmaWMgZXJyb3JcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxFcnJvciA9IG5ldyBBX0NoYW5uZWxFcnJvcihlcnJvcik7XG4gICAgICAgICAgICByZXF1ZXN0U2NvcGUucmVnaXN0ZXIoY2hhbm5lbEVycm9yKTtcbiAgICAgICAgICAgIGNvbnRleHQuZmFpbChjaGFubmVsRXJyb3IpO1xuXG4gICAgICAgICAgICAvLyBDYWxsIGVycm9yIGhhbmRsaW5nIGhvb2tcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX0NoYW5uZWxGZWF0dXJlcy5vbkVycm9yLCByZXF1ZXN0U2NvcGUpO1xuXG4gICAgICAgICAgICByZXF1ZXN0U2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICAvLyBOb3RlOiBXZSBkb24ndCByZS10aHJvdyB0aGUgZXJyb3IgZm9yIGZpcmUtYW5kLWZvcmdldCBvcGVyYXRpb25zXG4gICAgICAgICAgICAvLyBUaGUgZXJyb3IgaXMgaGFuZGxlZCBieSB0aGUgb25FcnJvciBob29rXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGlzIG1ldGhvZCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gZnV0dXJlIHZlcnNpb25zLlxuICAgICAqIFVzZSByZXF1ZXN0KCkgb3Igc2VuZCgpIG1ldGhvZHMgaW5zdGVhZCBkZXBlbmRpbmcgb24geW91ciBjb21tdW5pY2F0aW9uIHBhdHRlcm4uXG4gICAgICogXG4gICAgICogRm9yIHJlcXVlc3QvcmVzcG9uc2UgcGF0dGVybjogVXNlIHJlcXVlc3QoKVxuICAgICAqIEZvciBmaXJlLWFuZC1mb3JnZXQgcGF0dGVybjogVXNlIHNlbmQoKVxuICAgICAqIEZvciBjb25zdW1lciBwYXR0ZXJuczogSW1wbGVtZW50IGN1c3RvbSBjb25zdW1lciBsb2dpYyB1c2luZyByZXF1ZXN0KCkgaW4gYSBsb29wXG4gICAgICovXG4gICAgYXN5bmMgY29uc3VtZTxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4+KCk6IFByb21pc2U8QV9PcGVyYXRpb25Db250ZXh0PGFueSwgVD4+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplO1xuXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3RTY29wZSA9IG5ldyBBX1Njb3BlKHsgbmFtZTogYGEtY2hhbm5lbEBzY29wZTpjb25zdW1lOiR7QV9JZGVudGl0eUhlbHBlci5nZW5lcmF0ZVRpbWVJZCgpfWAgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IEFfT3BlcmF0aW9uQ29udGV4dCgnY29uc3VtZScsIHt9IGFzIFQpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXF1ZXN0U2NvcGUuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuICAgICAgICAgICAgcmVxdWVzdFNjb3BlLnJlZ2lzdGVyKGNvbnRleHQpO1xuXG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX0NoYW5uZWxGZWF0dXJlcy5vbkNvbnN1bWUsIHJlcXVlc3RTY29wZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQgYXMgQV9PcGVyYXRpb25Db250ZXh0PGFueSwgVD47XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjb25zdCBjaGFubmVsRXJyb3IgPSBuZXcgQV9DaGFubmVsRXJyb3IoZXJyb3IpXG5cbiAgICAgICAgICAgIGNvbnRleHQuZmFpbChjaGFubmVsRXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9DaGFubmVsRmVhdHVyZXMub25FcnJvciwgcmVxdWVzdFNjb3BlKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQgYXMgQV9PcGVyYXRpb25Db250ZXh0PGFueSwgVD47XG4gICAgICAgIH1cbiAgICB9XG5cbn0iLCAiaW1wb3J0IHsgQV9GcmFnbWVudCwgQV9NZXRhLCBBX1RZUEVTX19GcmFnbWVudF9TZXJpYWxpemVkIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX0V4ZWN1dGlvbkNvbnRleHQ8XG4gICAgX01ldGFUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgX1NlcmlhbGl6ZWRUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT5cbj4gZXh0ZW5kcyBBX0ZyYWdtZW50IHtcblxuXG4gICAgcHJvdGVjdGVkIF9tZXRhOiBBX01ldGE8X01ldGFUeXBlLCBfU2VyaWFsaXplZFR5cGU+O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgICAgZGVmYXVsdHM/OiBQYXJ0aWFsPF9NZXRhVHlwZT4sXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHsgbmFtZSB9KTtcbiAgICAgICAgdGhpcy5fbWV0YSA9IG5ldyBBX01ldGE8X01ldGFUeXBlLCBfU2VyaWFsaXplZFR5cGU+KCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICAgICAgICAgIHRoaXMuX21ldGEuc2V0KGtleSBhcyBrZXlvZiBfTWV0YVR5cGUsIGRlZmF1bHRzW2tleSBhcyBrZXlvZiBfTWV0YVR5cGVdIGFzIF9NZXRhVHlwZVtrZXlvZiBfTWV0YVR5cGVdKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmF0b3I8W2tleW9mIF9NZXRhVHlwZSwgX01ldGFUeXBlW2tleW9mIF9NZXRhVHlwZV1dPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXRhW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICB9XG5cblxuICAgIGdldCBtZXRhKCk6IEFfTWV0YTxfTWV0YVR5cGU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGE7XG4gICAgfVxuXG5cbiAgICBnZXQ8SyBleHRlbmRzIGtleW9mIF9NZXRhVHlwZT4oa2V5OiBLKTogX01ldGFUeXBlW0tdIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgc2V0PEsgZXh0ZW5kcyBrZXlvZiBfTWV0YVR5cGU+KGtleTogSywgdmFsdWU6IF9NZXRhVHlwZVtLXSk6IHZvaWQge1xuICAgICAgICB0aGlzLl9tZXRhLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICBoYXMoa2V5OiBrZXlvZiBfTWV0YVR5cGUpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuaGFzKGtleSk7XG4gICAgfVxuXG4gICAgZHJvcChrZXk6IGtleW9mIF9NZXRhVHlwZSk6IHZvaWQge1xuICAgICAgICB0aGlzLl9tZXRhLmRlbGV0ZShrZXkpO1xuICAgIH1cblxuICAgIGNsZWFyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9tZXRhLmNsZWFyKCk7XG4gICAgfVxuXG5cbiAgICB0b1JhdygpOiBfU2VyaWFsaXplZFR5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWV0YS50b0pTT04oKTtcbiAgICB9XG5cbiAgICB0b0pTT04oKTogQV9UWVBFU19fRnJhZ21lbnRfU2VyaWFsaXplZCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAuLi50aGlzLm1ldGEudG9KU09OKCksXG4gICAgICAgIH1cbiAgICB9XG59IiwgImltcG9ydCB7IEFfRXJyb3IsIEFfRnJhZ21lbnQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9PcGVyYXRpb25fU2VyaWFsaXplZCwgQV9PcGVyYXRpb25fU3RvcmFnZSB9IGZyb20gXCIuL0EtT3BlcmF0aW9uLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0V4ZWN1dGlvbkNvbnRleHQgfSBmcm9tIFwiLi4vQS1FeGVjdXRpb24vQS1FeGVjdXRpb24uY29udGV4dFwiO1xuXG5leHBvcnQgY2xhc3MgQV9PcGVyYXRpb25Db250ZXh0PFxuICAgIF9BbGxvd2VkT3BlcmF0aW9ucyBleHRlbmRzIHN0cmluZyA9IHN0cmluZyxcbiAgICBfUGFyYW1zVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgIF9SZXN1bHRUeXBlID0gYW55LFxuICAgIF9TdG9yYWdlVHlwZSBleHRlbmRzIEFfT3BlcmF0aW9uX1N0b3JhZ2U8X1Jlc3VsdFR5cGUsIF9QYXJhbXNUeXBlPiA9IEFfT3BlcmF0aW9uX1N0b3JhZ2U8X1Jlc3VsdFR5cGUsIF9QYXJhbXNUeXBlPlxuPiBleHRlbmRzIEFfRXhlY3V0aW9uQ29udGV4dDxcbiAgICBfU3RvcmFnZVR5cGUsXG4gICAgQV9PcGVyYXRpb25fU2VyaWFsaXplZDxfUmVzdWx0VHlwZSwgX1BhcmFtc1R5cGU+XG4+IHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBvcGVyYXRpb246IF9BbGxvd2VkT3BlcmF0aW9ucyxcbiAgICAgICAgcGFyYW1zPzogX1BhcmFtc1R5cGVcbiAgICApIHtcbiAgICAgICAgc3VwZXIoJ29wZXJhdGlvbi1jb250ZXh0Jyk7XG5cbiAgICAgICAgdGhpcy5tZXRhLnNldCgnbmFtZScsIG9wZXJhdGlvbik7XG4gICAgICAgIHRoaXMubWV0YS5zZXQoJ3BhcmFtcycsIHBhcmFtcyB8fCB7fSBhcyBfUGFyYW1zVHlwZSk7XG4gICAgfVxuXG4gICAgZ2V0IG5hbWUoKTogX0FsbG93ZWRPcGVyYXRpb25zIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9tZXRhLmdldCgnbmFtZScpIHx8IHRoaXMuX25hbWUpIGFzIF9BbGxvd2VkT3BlcmF0aW9ucztcbiAgICB9XG5cbiAgICBnZXQgcmVzdWx0KCk6IF9SZXN1bHRUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuZ2V0KCdyZXN1bHQnKTtcbiAgICB9XG5cbiAgICBnZXQgZXJyb3IoKTogQV9FcnJvciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXRhLmdldCgnZXJyb3InKTtcbiAgICB9XG5cbiAgICBnZXQgcGFyYW1zKCk6IF9QYXJhbXNUeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuZ2V0KCdwYXJhbXMnKSB8fCB7fSBhcyBfUGFyYW1zVHlwZTtcbiAgICB9XG5cblxuICAgIGZhaWwoZXJyb3I6IEFfRXJyb3IpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fbWV0YS5zZXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgIH1cblxuICAgIHN1Y2NlZWQocmVzdWx0OiBfUmVzdWx0VHlwZSk6IHZvaWQge1xuICAgICAgICB0aGlzLl9tZXRhLnNldCgncmVzdWx0JywgcmVzdWx0KTtcbiAgICB9XG5cblxuICAgIHRvSlNPTigpOiBBX09wZXJhdGlvbl9TZXJpYWxpemVkPF9SZXN1bHRUeXBlLCBfUGFyYW1zVHlwZT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgcGFyYW1zOiB0aGlzLnBhcmFtcyxcbiAgICAgICAgICAgIHJlc3VsdDogdGhpcy5yZXN1bHQgfHwge30gYXMgX1Jlc3VsdFR5cGUsXG4gICAgICAgICAgICBlcnJvcjogdGhpcy5lcnJvcj8udG9KU09OKCksXG4gICAgICAgIH1cbiAgICB9XG59IiwgImltcG9ydCB7IEFfRXJyb3IsIEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX09wZXJhdGlvbkNvbnRleHQgfSBmcm9tIFwiLi4vQS1PcGVyYXRpb24vQS1PcGVyYXRpb24uY29udGV4dFwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0NoYW5uZWxFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09IEVycm9yIFR5cGVzID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICAgIHN0YXRpYyByZWFkb25seSBNZXRob2ROb3RJbXBsZW1lbnRlZCA9ICdBLUNoYW5uZWwgTWV0aG9kIE5vdCBJbXBsZW1lbnRlZCc7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT0gUHJvcGVydGllcyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHByb3RlY3RlZCBfY29udGV4dD86IEFfT3BlcmF0aW9uQ29udGV4dFxuXG5cbiAgICAvKipcbiAgICAgKiBDaGFubmVsIEVycm9yIGFsbG93cyB0byBrZWVwIHRyYWNrIG9mIGVycm9ycyB3aXRoaW4gYSBjaGFubmVsIGlmIHNvbWV0aGluZyBnb2VzIHdyb25nXG4gICAgICogXG4gICAgICogXG4gICAgICogQHBhcmFtIG9yaWdpbmFsRXJyb3IgXG4gICAgICogQHBhcmFtIGNvbnRleHQgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIG9yaWdpbmFsRXJyb3I6IHN0cmluZyB8IEFfRXJyb3IgfCBFcnJvciB8IGFueSxcbiAgICAgICAgY29udGV4dD86IEFfT3BlcmF0aW9uQ29udGV4dCB8IHN0cmluZ1xuICAgICkge1xuICAgICAgICBpZiAoQV9UeXBlR3VhcmRzLmlzU3RyaW5nKGNvbnRleHQpKVxuICAgICAgICAgICAgc3VwZXIob3JpZ2luYWxFcnJvciwgY29udGV4dCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN1cGVyKG9yaWdpbmFsRXJyb3IpO1xuXG4gICAgICAgIGlmIChjb250ZXh0IGluc3RhbmNlb2YgQV9PcGVyYXRpb25Db250ZXh0KVxuICAgICAgICAgICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHRcbiAgICB9XG5cbiAgICAvKioqXG4gICAgICogUmV0dXJucyBDb250ZXh0IG9mIHRoZSBlcnJvclxuICAgICAqL1xuICAgIGdldCBjb250ZXh0KCk6IEFfT3BlcmF0aW9uQ29udGV4dCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0XG4gICAgfVxuXG5cbn0iLCAiXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQURBQVMgQS1DaGFubmVsIENvbnN0YW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgZW51bSBBX0NoYW5uZWxGZWF0dXJlcyB7XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCB0aW1lb3V0IGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uVGltZW91dCA9ICdfQV9DaGFubmVsX29uVGltZW91dCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCByZXRyeSBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvblJldHJ5ID0gJ19BX0NoYW5uZWxfb25SZXRyeScsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBjaXJjdWl0IGJyZWFrZXIgbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25DaXJjdWl0QnJlYWtlck9wZW4gPSAnX0FfQ2hhbm5lbF9vbkNpcmN1aXRCcmVha2VyT3BlbicsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBjYWNoZSBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkNhY2hlID0gJ19BX0NoYW5uZWxfb25DYWNoZScsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBjb25uZWN0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uQ29ubmVjdCA9ICdfQV9DaGFubmVsX29uQ29ubmVjdCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBkaXNjb25uZWN0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uRGlzY29ubmVjdCA9ICdfQV9DaGFubmVsX29uRGlzY29ubmVjdCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCByZXF1ZXN0IHByZXBhcmF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uQmVmb3JlUmVxdWVzdCA9ICdfQV9DaGFubmVsX29uQmVmb3JlUmVxdWVzdCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCByZXF1ZXN0IHNlbmRpbmcgbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25SZXF1ZXN0ID0gJ19BX0NoYW5uZWxfb25SZXF1ZXN0JyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIHJlcXVlc3QgcG9zdC1wcm9jZXNzaW5nIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uQWZ0ZXJSZXF1ZXN0ID0gJ19BX0NoYW5uZWxfb25BZnRlclJlcXVlc3QnLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgZXJyb3IgaGFuZGxpbmcgbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICogXG4gICAgICogWyFdIFRoZSBzYW1lIGFwcHJvYWNoIHVzZXMgZm9yIEFMTCBlcnJvcnMgd2l0aGluIHRoZSBjaGFubmVsXG4gICAgICovXG4gICAgb25FcnJvciA9ICdfQV9DaGFubmVsX29uRXJyb3InLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgc2VuZCBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvblNlbmQgPSAnX0FfQ2hhbm5lbF9vblNlbmQnLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgY29uc3VtZSBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkNvbnN1bWUgPSAnX0FfQ2hhbm5lbF9vbkNvbnN1bWUnLFxufVxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBBLUNoYW5uZWwgUmVxdWVzdCBDb25zdGFudHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGVudW0gQV9DaGFubmVsUmVxdWVzdFN0YXR1c2VzIHtcbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IGlzIHBlbmRpbmdcbiAgICAgKi9cbiAgICBQRU5ESU5HID0gJ1BFTkRJTkcnLFxuICAgIC8qKipcbiAgICAgKiBSZXF1ZXN0IHdhcyBzdWNjZXNzZnVsXG4gICAgICovXG4gICAgU1VDQ0VTUyA9ICdTVUNDRVNTJyxcbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IGZhaWxlZFxuICAgICAqL1xuICAgIEZBSUxFRCA9ICdGQUlMRUQnLFxufSIsICJpbXBvcnQgeyBBX09wZXJhdGlvbkNvbnRleHQgfSBmcm9tIFwiLi4vQS1PcGVyYXRpb24vQS1PcGVyYXRpb24uY29udGV4dFwiO1xuaW1wb3J0IHsgQV9DaGFubmVsUmVxdWVzdFN0YXR1c2VzIH0gZnJvbSBcIi4vQS1DaGFubmVsLmNvbnN0YW50c1wiO1xuXG5leHBvcnQgY2xhc3MgQV9DaGFubmVsUmVxdWVzdDxcbiAgICBfUGFyYW1zVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgIF9SZXN1bHRUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4+IGV4dGVuZHMgQV9PcGVyYXRpb25Db250ZXh0PFxuICAgICdyZXF1ZXN0JyxcbiAgICBfUGFyYW1zVHlwZSxcbiAgICB7XG4gICAgICAgIGRhdGE/OiBfUmVzdWx0VHlwZTtcbiAgICAgICAgc3RhdHVzPzogQV9DaGFubmVsUmVxdWVzdFN0YXR1c2VzO1xuICAgIH1cbj4ge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBhcmFtcz86IF9QYXJhbXNUeXBlLFxuICAgICkge1xuICAgICAgICBzdXBlcigncmVxdWVzdCcsIHBhcmFtcyk7XG4gICAgfVxuXG5cbiAgICBnZXQgc3RhdHVzKCk6IEFfQ2hhbm5lbFJlcXVlc3RTdGF0dXNlcyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdD8uc3RhdHVzO1xuICAgIH1cblxuICAgIGdldCBkYXRhKCk6IF9SZXN1bHRUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0Py5kYXRhO1xuICAgIH1cblxuXG4gICAgc3VjY2VlZChyZXN1bHQ6IF9SZXN1bHRUeXBlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGV4aXN0ZWQgPSB0aGlzLnJlc3VsdDtcblxuICAgICAgICBzdXBlci5zdWNjZWVkKHtcbiAgICAgICAgICAgIC4uLmV4aXN0ZWQsXG4gICAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgICAgICBzdGF0dXM6IEFfQ2hhbm5lbFJlcXVlc3RTdGF0dXNlcy5TVUNDRVNTLFxuICAgICAgICB9KTtcbiAgICB9XG5cbn0gICAgIiwgIi8qKlxuICogQS1Db21tYW5kIFN0YXR1cyBFbnVtZXJhdGlvblxuICogXG4gKiBEZWZpbmVzIGFsbCBwb3NzaWJsZSBzdGF0ZXMgYSBjb21tYW5kIGNhbiBiZSBpbiBkdXJpbmcgaXRzIGxpZmVjeWNsZS5cbiAqIENvbW1hbmRzIHByb2dyZXNzIHRocm91Z2ggdGhlc2Ugc3RhdGVzIGluIGEgc3BlY2lmaWMgb3JkZXI6XG4gKiBDUkVBVEVEIOKGkiBJTklUSUFMSVpFRCDihpIgQ09NUElMRUQg4oaSIEVYRUNVVElORyDihpIgQ09NUExFVEVEL0ZBSUxFRFxuICovXG5leHBvcnQgZW51bSBBX0NvbW1hbmRfU3RhdHVzIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsIHN0YXRlIHdoZW4gY29tbWFuZCBpcyBpbnN0YW50aWF0ZWQgYnV0IG5vdCB5ZXQgcmVhZHkgZm9yIGV4ZWN1dGlvblxuICAgICAqL1xuICAgIENSRUFURUQgPSAnQ1JFQVRFRCcsXG5cbiAgICAvKipcbiAgICAgKiBDb21tYW5kIGhhcyBiZWVuIGluaXRpYWxpemVkIHdpdGggZXhlY3V0aW9uIHNjb3BlIGFuZCBkZXBlbmRlbmNpZXNcbiAgICAgKi9cbiAgICBJTklUSUFMSVpFRCA9ICdJTklUSUFMSVpFRCcsXG5cbiAgICAvKipcbiAgICAgKiBDb21tYW5kIGhhcyBiZWVuIGNvbXBpbGVkIGFuZCBpcyByZWFkeSBmb3IgZXhlY3V0aW9uXG4gICAgICovXG4gICAgQ09NUElMRUQgPSAnQ09NUElMRUQnLFxuXG4gICAgLyoqXG4gICAgICogQ29tbWFuZCBpcyBjdXJyZW50bHkgYmVpbmcgZXhlY3V0ZWRcbiAgICAgKi9cbiAgICBFWEVDVVRJTkcgPSAnRVhFQ1VUSU5HJyxcblxuICAgIC8qKlxuICAgICAqIENvbW1hbmQgaGFzIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlcbiAgICAgKi9cbiAgICBDT01QTEVURUQgPSAnQ09NUExFVEVEJyxcblxuICAgIC8qKlxuICAgICAqIENvbW1hbmQgZXhlY3V0aW9uIGhhcyBmYWlsZWQgd2l0aCBlcnJvcnNcbiAgICAgKi9cbiAgICBGQUlMRUQgPSAnRkFJTEVEJyxcbn1cblxuXG4vKipcbiAqIEEtQ29tbWFuZCBTdGF0ZSBUcmFuc2l0aW9uc1xuICogXG4gKiBEZWZpbmVzIHZhbGlkIHN0YXRlIHRyYW5zaXRpb25zIGZvciBjb21tYW5kIGxpZmVjeWNsZSBtYW5hZ2VtZW50LlxuICogVGhlc2UgdHJhbnNpdGlvbnMgYXJlIHVzZWQgYnkgdGhlIFN0YXRlTWFjaGluZSB0byBlbmZvcmNlIHByb3BlciBjb21tYW5kIGZsb3cuXG4gKi9cbmV4cG9ydCBlbnVtIEFfQ29tbWFuZFRyYW5zaXRpb25zIHtcbiAgICAvKiogVHJhbnNpdGlvbiBmcm9tIENSRUFURUQgdG8gSU5JVElBTElaRUQgc3RhdGUgKi9cbiAgICBDUkVBVEVEX1RPX0lOSVRJQUxJWkVEID0gJ2NyZWF0ZWRfaW5pdGlhbGl6ZWQnLFxuXG4gICAgLyoqIFRyYW5zaXRpb24gZnJvbSBJTklUSUFMSVpFRCB0byBFWEVDVVRJTkcgc3RhdGUgKi9cbiAgICBJTklUSUFMSVpFRF9UT19FWEVDVVRJTkcgPSAnaW5pdGlhbGl6ZWRfZXhlY3V0aW5nJyxcblxuICAgIC8qKiBUcmFuc2l0aW9uIGZyb20gRVhFQ1VUSU5HIHRvIENPTVBMRVRFRCBzdGF0ZSAoc3VjY2VzcyBwYXRoKSAqL1xuICAgIEVYRUNVVElOR19UT19DT01QTEVURUQgPSAnZXhlY3V0aW5nX2NvbXBsZXRlZCcsXG5cbiAgICAvKiogVHJhbnNpdGlvbiBmcm9tIEVYRUNVVElORyB0byBGQUlMRUQgc3RhdGUgKGVycm9yIHBhdGgpICovXG4gICAgRVhFQ1VUSU5HX1RPX0ZBSUxFRCA9ICdleGVjdXRpbmdfZmFpbGVkJyxcbn1cblxuLyoqXG4gKiBBLUNvbW1hbmQgTGlmZWN5Y2xlIEZlYXR1cmVzXG4gKiBcbiAqIERlZmluZXMgZmVhdHVyZSBleHRlbnNpb24gcG9pbnRzIHRoYXQgY29tcG9uZW50cyBjYW4gaW1wbGVtZW50IHRvIGN1c3RvbWl6ZVxuICogY29tbWFuZCBiZWhhdmlvciBhdCBkaWZmZXJlbnQgc3RhZ2VzIG9mIHRoZSBsaWZlY3ljbGUuXG4gKiBcbiAqIENvbXBvbmVudHMgY2FuIHVzZSBAQV9GZWF0dXJlLkV4dGVuZCgpIGRlY29yYXRvciB3aXRoIHRoZXNlIGZlYXR1cmUgbmFtZXNcbiAqIHRvIGluamVjdCBjdXN0b20gbG9naWMgaW50byBjb21tYW5kIGV4ZWN1dGlvbi5cbiAqL1xuZXhwb3J0IGVudW0gQV9Db21tYW5kRmVhdHVyZXMge1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBkdXJpbmcgY29tbWFuZCBpbml0aWFsaXphdGlvbiBwaGFzZVxuICAgICAqIFVzZSB0byBzZXQgdXAgZXhlY3V0aW9uIGVudmlyb25tZW50LCB2YWxpZGF0ZSBwYXJhbWV0ZXJzLCBvciBwcmVwYXJlIHJlc291cmNlc1xuICAgICAqL1xuICAgIG9uSW5pdCA9ICdfQV9Db21tYW5kX29uSW5pdCcsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYmVmb3JlIGNvbW1hbmQgZXhlY3V0aW9uIHN0YXJ0c1xuICAgICAqIFVzZSBmb3IgcHJlLWV4ZWN1dGlvbiB2YWxpZGF0aW9uLCBsb2dnaW5nLCBvciBzZXR1cCB0YXNrc1xuICAgICAqL1xuICAgIG9uQmVmb3JlRXhlY3V0ZSA9ICdfQV9Db21tYW5kX29uQmVmb3JlRXhlY3V0ZScsXG5cbiAgICAvKipcbiAgICAgKiBNYWluIGNvbW1hbmQgZXhlY3V0aW9uIGxvZ2ljXG4gICAgICogQ29yZSBidXNpbmVzcyBsb2dpYyBzaG91bGQgYmUgaW1wbGVtZW50ZWQgaGVyZVxuICAgICAqL1xuICAgIG9uRXhlY3V0ZSA9ICdfQV9Db21tYW5kX29uRXhlY3V0ZScsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgY29tbWFuZCBleGVjdXRpb24gY29tcGxldGVzIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICogVXNlIGZvciBjbGVhbnVwLCBsb2dnaW5nLCBvciBwb3N0LXByb2Nlc3NpbmcgdGFza3NcbiAgICAgKi9cbiAgICBvbkFmdGVyRXhlY3V0ZSA9ICdfQV9Db21tYW5kX29uQWZ0ZXJFeGVjdXRlJyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGNvbW1hbmQgY29tcGxldGVzIHN1Y2Nlc3NmdWxseVxuICAgICAqIFVzZSBmb3Igc3VjY2Vzcy1zcGVjaWZpYyBvcGVyYXRpb25zIGxpa2Ugbm90aWZpY2F0aW9ucyBvciByZXN1bHQgcHJvY2Vzc2luZ1xuICAgICAqL1xuICAgIG9uQ29tcGxldGUgPSAnX0FfQ29tbWFuZF9vbkNvbXBsZXRlJyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGNvbW1hbmQgZXhlY3V0aW9uIGZhaWxzXG4gICAgICogVXNlIGZvciBlcnJvciBoYW5kbGluZywgY2xlYW51cCwgb3IgZmFpbHVyZSBub3RpZmljYXRpb25zXG4gICAgICovXG4gICAgb25GYWlsID0gJ19BX0NvbW1hbmRfb25GYWlsJyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgZXhlY3V0aW9uXG4gICAgICogVXNlIGZvciBlcnJvciBsb2dnaW5nLCB0cmFuc2Zvcm1hdGlvbiwgb3IgcmVjb3ZlcnkgYXR0ZW1wdHNcbiAgICAgKi9cbiAgICBvbkVycm9yID0gJ19BX0NvbW1hbmRfb25FcnJvcicsXG59XG5cblxuZXhwb3J0IGVudW0gQV9Db21tYW5kRXZlbnQge1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBkdXJpbmcgY29tbWFuZCBpbml0aWFsaXphdGlvbiBwaGFzZVxuICAgICAqIFVzZSB0byBzZXQgdXAgZXhlY3V0aW9uIGVudmlyb25tZW50LCB2YWxpZGF0ZSBwYXJhbWV0ZXJzLCBvciBwcmVwYXJlIHJlc291cmNlc1xuICAgICAqL1xuICAgIG9uSW5pdCA9ICdvbkluaXQnLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGJlZm9yZSBjb21tYW5kIGV4ZWN1dGlvbiBzdGFydHNcbiAgICAgKiBVc2UgZm9yIHByZS1leGVjdXRpb24gdmFsaWRhdGlvbiwgbG9nZ2luZywgb3Igc2V0dXAgdGFza3NcbiAgICAgKi9cbiAgICBvbkJlZm9yZUV4ZWN1dGUgPSAnb25CZWZvcmVFeGVjdXRlJyxcblxuICAgIC8qKlxuICAgICAqIE1haW4gY29tbWFuZCBleGVjdXRpb24gbG9naWNcbiAgICAgKiBDb3JlIGJ1c2luZXNzIGxvZ2ljIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBoZXJlXG4gICAgICovXG4gICAgb25FeGVjdXRlID0gJ29uRXhlY3V0ZScsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgY29tbWFuZCBleGVjdXRpb24gY29tcGxldGVzIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICogVXNlIGZvciBjbGVhbnVwLCBsb2dnaW5nLCBvciBwb3N0LXByb2Nlc3NpbmcgdGFza3NcbiAgICAgKi9cbiAgICBvbkFmdGVyRXhlY3V0ZSA9ICdvbkFmdGVyRXhlY3V0ZScsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBjb21tYW5kIGNvbXBsZXRlcyBzdWNjZXNzZnVsbHlcbiAgICAgKiBVc2UgZm9yIHN1Y2Nlc3Mtc3BlY2lmaWMgb3BlcmF0aW9ucyBsaWtlIG5vdGlmaWNhdGlvbnMgb3IgcmVzdWx0IHByb2Nlc3NpbmdcbiAgICAgKi9cbiAgICBvbkNvbXBsZXRlID0gJ29uQ29tcGxldGUnLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gY29tbWFuZCBleGVjdXRpb24gZmFpbHNcbiAgICAgKiBVc2UgZm9yIGVycm9yIGhhbmRsaW5nLCBjbGVhbnVwLCBvciBmYWlsdXJlIG5vdGlmaWNhdGlvbnNcbiAgICAgKi9cbiAgICBvbkZhaWwgPSAnb25GYWlsJyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgZXhlY3V0aW9uXG4gICAgICogVXNlIGZvciBlcnJvciBsb2dnaW5nLCB0cmFuc2Zvcm1hdGlvbiwgb3IgcmVjb3ZlcnkgYXR0ZW1wdHNcbiAgICAgKi9cbiAgICBvbkVycm9yID0gJ29uRXJyb3InLFxufVxuXG4vKipcbiAqIFR5cGUgYWxpYXMgZm9yIGNvbW1hbmQgbGlmZWN5Y2xlIGV2ZW50IG5hbWVzXG4gKiBSZXByZXNlbnRzIGFsbCBhdmFpbGFibGUgZXZlbnRzIHRoYXQgY2FuIGJlIGxpc3RlbmVkIHRvIG9uIGEgY29tbWFuZCBpbnN0YW5jZVxuICovXG5leHBvcnQgdHlwZSBBX0NvbW1hbmRFdmVudHMgPSBrZXlvZiB0eXBlb2YgQV9Db21tYW5kRXZlbnQ7XG5cblxuXG5cblxuIiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0NvbW1hbmRFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgQ29tbWFuZFNjb3BlQmluZGluZ0Vycm9yID0gJ0EtQ29tbWFuZCBTY29wZSBCaW5kaW5nIEVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBFeGVjdXRpb25FcnJvciA9ICdBLUNvbW1hbmQgRXhlY3V0aW9uIEVycm9yJztcblxuXG4gICAgc3RhdGljIHJlYWRvbmx5IFJlc3VsdFByb2Nlc3NpbmdFcnJvciA9ICdBLUNvbW1hbmQgUmVzdWx0IFByb2Nlc3NpbmcgRXJyb3InO1xuXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBpbmRpY2F0aW5nIHRoYXQgdGhlIGNvbW1hbmQgd2FzIGludGVycnVwdGVkIGR1cmluZyBleGVjdXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgQ29tbWFuZEludGVycnVwdGVkRXJyb3IgPSAnQS1Db21tYW5kIEludGVycnVwdGVkIEVycm9yJztcbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfU3RhdGVNYWNoaW5lRXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIHN0YXRpYyByZWFkb25seSBJbml0aWFsaXphdGlvbkVycm9yID0gJ0EtU3RhdGVNYWNoaW5lIEluaXRpYWxpemF0aW9uIEVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBUcmFuc2l0aW9uRXJyb3IgPSAnQS1TdGF0ZU1hY2hpbmUgVHJhbnNpdGlvbiBFcnJvcic7XG4gICAgXG59IiwgImV4cG9ydCBlbnVtIEFfU3RhdGVNYWNoaW5lRmVhdHVyZXMge1xuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgZXJyb3IgaGFuZGxpbmcgbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25FcnJvciA9ICdfQV9TdGF0ZU1hY2hpbmVfb25FcnJvcicsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBpbml0aWFsaXphdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkluaXRpYWxpemUgPSAnX0FfU3RhdGVNYWNoaW5lX29uSW5pdGlhbGl6ZScsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCB0cmFuc2l0aW9uIHZhbGlkYXRpb24gbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25CZWZvcmVUcmFuc2l0aW9uID0gJ19BX1N0YXRlTWFjaGluZV9vbkJlZm9yZVRyYW5zaXRpb24nLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgcG9zdC10cmFuc2l0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uQWZ0ZXJUcmFuc2l0aW9uID0gJ19BX1N0YXRlTWFjaGluZV9vbkFmdGVyVHJhbnNpdGlvbicsXG59IiwgImltcG9ydCB7IEFfT3BlcmF0aW9uQ29udGV4dCB9IGZyb20gXCIuLi9BLU9wZXJhdGlvbi9BLU9wZXJhdGlvbi5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb25QYXJhbXMsIEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvblN0b3JhZ2UgfSBmcm9tIFwiLi9BLVN0YXRlTWFjaGluZS50eXBlc1wiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbjxcbiAgICBfUGFyYW1zVHlwZSA9IGFueSxcbiAgICBfUmVzdWx0VHlwZSA9IGFueVxuPiBleHRlbmRzIEFfT3BlcmF0aW9uQ29udGV4dDxcbiAgICAnYS1zdGF0ZS1tYWNoaW5lLXRyYW5zaXRpb24nLFxuICAgIEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvblBhcmFtczxfUGFyYW1zVHlwZT4sXG4gICAgX1Jlc3VsdFR5cGUsXG4gICAgQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uU3RvcmFnZTxfUmVzdWx0VHlwZSwgX1BhcmFtc1R5cGU+XG4+IHtcblxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBhcmFtczogQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uUGFyYW1zPF9QYXJhbXNUeXBlPlxuICAgICkge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgICdhLXN0YXRlLW1hY2hpbmUtdHJhbnNpdGlvbicsXG4gICAgICAgICAgICBwYXJhbXNcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLl9tZXRhLnNldCgnZnJvbScsIHBhcmFtcy5mcm9tKTtcbiAgICAgICAgdGhpcy5fbWV0YS5zZXQoJ3RvJywgcGFyYW1zLnRvKTtcbiAgICB9XG5cblxuXG4gICAgZ2V0IGZyb20oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuZ2V0KCdmcm9tJykhO1xuICAgIH1cblxuXG5cbiAgICBnZXQgdG8oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuZ2V0KCd0bycpITtcbiAgICB9XG5cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQsIEFfQ29udGV4dCwgQV9GZWF0dXJlLCBBX0Zvcm1hdHRlckhlbHBlciwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX1N0YXRlTWFjaGluZUVycm9yIH0gZnJvbSBcIi4vQS1TdGF0ZU1hY2hpbmUuZXJyb3JcIjtcbmltcG9ydCB7IEFfU3RhdGVNYWNoaW5lRmVhdHVyZXMgfSBmcm9tIFwiLi9BLVN0YXRlTWFjaGluZS5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbiB9IGZyb20gXCIuL0EtU3RhdGVNYWNoaW5lVHJhbnNpdGlvbi5jb250ZXh0XCI7XG5cbi8qKlxuICogQV9TdGF0ZU1hY2hpbmUgaXMgYSBwb3dlcmZ1bCBzdGF0ZSBtYWNoaW5lIGltcGxlbWVudGF0aW9uIHRoYXQgYWxsb3dzIHlvdSB0byBkZWZpbmUgYW5kIG1hbmFnZVxuICogY29tcGxleCBzdGF0ZSB0cmFuc2l0aW9ucyB3aXRoIHZhbGlkYXRpb24sIGhvb2tzLCBhbmQgZXJyb3IgaGFuZGxpbmcuXG4gKiBcbiAqIEB0ZW1wbGF0ZSBUIC0gQSByZWNvcmQgdHlwZSBkZWZpbmluZyB0aGUgc3RhdGUgdHJhbnNpdGlvbnMgYW5kIHRoZWlyIGFzc29jaWF0ZWQgZGF0YSB0eXBlcy5cbiAqICAgICAgICAgICAgICAgRWFjaCBrZXkgcmVwcmVzZW50cyBhIHN0YXRlIG5hbWUsIGFuZCB0aGUgdmFsdWUgcmVwcmVzZW50cyB0aGUgZGF0YSB0eXBlIGZvciB0aGF0IHN0YXRlLlxuICogXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogaW50ZXJmYWNlIE9yZGVyU3RhdGVzIHtcbiAqICAgcGVuZGluZzogeyBvcmRlcklkOiBzdHJpbmcgfTtcbiAqICAgcHJvY2Vzc2luZzogeyBvcmRlcklkOiBzdHJpbmc7IHByb2Nlc3NlZEJ5OiBzdHJpbmcgfTtcbiAqICAgY29tcGxldGVkOiB7IG9yZGVySWQ6IHN0cmluZzsgY29tcGxldGVkQXQ6IERhdGUgfTtcbiAqICAgY2FuY2VsbGVkOiB7IG9yZGVySWQ6IHN0cmluZzsgcmVhc29uOiBzdHJpbmcgfTtcbiAqIH1cbiAqIFxuICogY2xhc3MgT3JkZXJTdGF0ZU1hY2hpbmUgZXh0ZW5kcyBBX1N0YXRlTWFjaGluZTxPcmRlclN0YXRlcz4ge1xuICogICAvLyBEZWZpbmUgY3VzdG9tIHRyYW5zaXRpb24gbG9naWNcbiAqICAgYXN5bmMgcGVuZGluZ19wcm9jZXNzaW5nKHNjb3BlOiBBX1Njb3BlKSB7XG4gKiAgICAgY29uc3Qgb3BlcmF0aW9uID0gc2NvcGUucmVzb2x2ZShBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24pITtcbiAqICAgICBjb25zdCB7IG9yZGVySWQgfSA9IG9wZXJhdGlvbi5wcm9wcztcbiAqICAgICAvLyBDdXN0b20gdmFsaWRhdGlvbiBhbmQgYnVzaW5lc3MgbG9naWNcbiAqICAgfVxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBBX1N0YXRlTWFjaGluZTxcbiAgICBUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT5cbj4gZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBwcm9taXNlIHRoYXQgdHJhY2tzIHRoZSBpbml0aWFsaXphdGlvbiBzdGF0ZSBvZiB0aGUgc3RhdGUgbWFjaGluZS5cbiAgICAgKiBVc2VkIHRvIGVuc3VyZSB0aGUgc3RhdGUgbWFjaGluZSBpcyBwcm9wZXJseSBpbml0aWFsaXplZCBiZWZvcmUgYWxsb3dpbmcgdHJhbnNpdGlvbnMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9pbml0aWFsaXplZD86IFByb21pc2U8dm9pZD47XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHN0YXRlIG1hY2hpbmUgaXMgZnVsbHkgaW5pdGlhbGl6ZWQgYW5kIHJlYWR5IGZvciB0cmFuc2l0aW9ucy5cbiAgICAgKiBUaGlzIGVuc3VyZXMgdGhhdCBhbGwgaW5pdGlhbGl6YXRpb24gaG9va3MgaGF2ZSBiZWVuIGV4ZWN1dGVkIGJlZm9yZSBhbGxvd2luZyBzdGF0ZSB0cmFuc2l0aW9ucy5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPHZvaWQ+IHRoYXQgcmVzb2x2ZXMgd2hlbiBpbml0aWFsaXphdGlvbiBpcyBjb21wbGV0ZVxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IHN0YXRlTWFjaGluZSA9IG5ldyBNeVN0YXRlTWFjaGluZSgpO1xuICAgICAqIGF3YWl0IHN0YXRlTWFjaGluZS5yZWFkeTsgLy8gV2FpdCBmb3IgaW5pdGlhbGl6YXRpb25cbiAgICAgKiBhd2FpdCBzdGF0ZU1hY2hpbmUudHJhbnNpdGlvbignaWRsZScsICdydW5uaW5nJyk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0IHJlYWR5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRoaXMuY2FsbChBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uSW5pdGlhbGl6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemF0aW9uIGhvb2sgdGhhdCBydW5zIHdoZW4gdGhlIHN0YXRlIG1hY2hpbmUgaXMgZmlyc3QgY3JlYXRlZC5cbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgZXh0ZW5kZWQgdG8gYWRkIGN1c3RvbSBpbml0aWFsaXphdGlvbiBsb2dpYy5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gYXJncyAtIFZhcmlhYmxlIGFyZ3VtZW50cyBwYXNzZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgICogQHJldHVybnMgUHJvbWlzZTx2b2lkPlxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNsYXNzIE15U3RhdGVNYWNoaW5lIGV4dGVuZHMgQV9TdGF0ZU1hY2hpbmUge1xuICAgICAqICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgICAqICAgYXN5bmMgW0FfU3RhdGVNYWNoaW5lRmVhdHVyZXMub25Jbml0aWFsaXplXSgpIHtcbiAgICAgKiAgICAgLy8gQ3VzdG9tIGluaXRpYWxpemF0aW9uIGxvZ2ljXG4gICAgICogICAgIGNvbnNvbGUubG9nKCdTdGF0ZSBtYWNoaW5lIGluaXRpYWxpemVkJyk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBhc3luYyBbQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcy5vbkluaXRpYWxpemVdKC4uLmFyZ3M6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEluaXRpYWxpemF0aW9uIGxvZ2ljIGNhbiBiZSBhZGRlZCBoZXJlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSG9vayB0aGF0IHJ1bnMgYmVmb3JlIGFueSBzdGF0ZSB0cmFuc2l0aW9uIG9jY3Vycy5cbiAgICAgKiBVc2UgdGhpcyB0byBhZGQgdmFsaWRhdGlvbiwgbG9nZ2luZywgb3IgcHJlcGFyYXRpb24gbG9naWMgdGhhdCBzaG91bGQgcnVuIGZvciBhbGwgdHJhbnNpdGlvbnMuXG4gICAgICogXG4gICAgICogQHBhcmFtIGFyZ3MgLSBWYXJpYWJsZSBhcmd1bWVudHMsIHR5cGljYWxseSBpbmNsdWRlcyB0aGUgdHJhbnNpdGlvbiBzY29wZVxuICAgICAqIEByZXR1cm5zIFByb21pc2U8dm9pZD5cbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBNeVN0YXRlTWFjaGluZSBleHRlbmRzIEFfU3RhdGVNYWNoaW5lIHtcbiAgICAgKiAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAgKiAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQmVmb3JlVHJhbnNpdGlvbl0oc2NvcGU6IEFfU2NvcGUpIHtcbiAgICAgKiAgICAgY29uc3Qgb3BlcmF0aW9uID0gc2NvcGUucmVzb2x2ZShBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24pITtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYFRyYW5zaXRpb25pbmcgZnJvbSAke29wZXJhdGlvbi5wcm9wcy5mcm9tfSB0byAke29wZXJhdGlvbi5wcm9wcy50b31gKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQmVmb3JlVHJhbnNpdGlvbl0oLi4uYXJnczogYW55W10pOiBQcm9taXNlPHZvaWQ+IHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhvb2sgdGhhdCBydW5zIGFmdGVyIGEgc3VjY2Vzc2Z1bCBzdGF0ZSB0cmFuc2l0aW9uLlxuICAgICAqIFVzZSB0aGlzIHRvIGFkZCBjbGVhbnVwLCBsb2dnaW5nLCBvciBwb3N0LXRyYW5zaXRpb24gbG9naWMgdGhhdCBzaG91bGQgcnVuIGZvciBhbGwgdHJhbnNpdGlvbnMuXG4gICAgICogXG4gICAgICogQHBhcmFtIGFyZ3MgLSBWYXJpYWJsZSBhcmd1bWVudHMsIHR5cGljYWxseSBpbmNsdWRlcyB0aGUgdHJhbnNpdGlvbiBzY29wZVxuICAgICAqIEByZXR1cm5zIFByb21pc2U8dm9pZD5cbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBNeVN0YXRlTWFjaGluZSBleHRlbmRzIEFfU3RhdGVNYWNoaW5lIHtcbiAgICAgKiAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAgKiAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQWZ0ZXJUcmFuc2l0aW9uXShzY29wZTogQV9TY29wZSkge1xuICAgICAqICAgICBjb25zdCBvcGVyYXRpb24gPSBzY29wZS5yZXNvbHZlKEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbikhO1xuICAgICAqICAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IHRyYW5zaXRpb25lZCB0byAke29wZXJhdGlvbi5wcm9wcy50b31gKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQWZ0ZXJUcmFuc2l0aW9uXSguLi5hcmdzOiBhbnlbXSk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgaGFuZGxpbmcgaG9vayB0aGF0IHJ1bnMgd2hlbiBhIHRyYW5zaXRpb24gZmFpbHMuXG4gICAgICogVXNlIHRoaXMgdG8gYWRkIGN1c3RvbSBlcnJvciBoYW5kbGluZywgbG9nZ2luZywgb3IgcmVjb3ZlcnkgbG9naWMuXG4gICAgICogXG4gICAgICogQHBhcmFtIGFyZ3MgLSBWYXJpYWJsZSBhcmd1bWVudHMsIHR5cGljYWxseSBpbmNsdWRlcyB0aGUgZXJyb3Igc2NvcGVcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPHZvaWQ+XG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY2xhc3MgTXlTdGF0ZU1hY2hpbmUgZXh0ZW5kcyBBX1N0YXRlTWFjaGluZSB7XG4gICAgICogICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgICogICBhc3luYyBbQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcy5vbkVycm9yXShzY29wZTogQV9TY29wZSkge1xuICAgICAqICAgICBjb25zdCBlcnJvciA9IHNjb3BlLnJlc29sdmUoQV9TdGF0ZU1hY2hpbmVFcnJvcik7XG4gICAgICogICAgIGNvbnNvbGUuZXJyb3IoJ1RyYW5zaXRpb24gZmFpbGVkOicsIGVycm9yPy5tZXNzYWdlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uRXJyb3JdKC4uLmFyZ3M6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIERlZmF1bHQgZXJyb3IgaGFuZGxpbmcgbG9naWMgY2FuIGJlIGFkZGVkIGhlcmVcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgYSBzdGF0ZSB0cmFuc2l0aW9uIGZyb20gb25lIHN0YXRlIHRvIGFub3RoZXIuXG4gICAgICogVGhpcyBpcyB0aGUgY29yZSBtZXRob2Qgb2YgdGhlIHN0YXRlIG1hY2hpbmUgdGhhdCBoYW5kbGVzIHRoZSBjb21wbGV0ZSB0cmFuc2l0aW9uIGxpZmVjeWNsZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZnJvbSAtIFRoZSBzdGF0ZSB0byB0cmFuc2l0aW9uIGZyb20gKG11c3QgYmUgYSBrZXkgb2YgVClcbiAgICAgKiBAcGFyYW0gdG8gLSBUaGUgc3RhdGUgdG8gdHJhbnNpdGlvbiB0byAobXVzdCBiZSBhIGtleSBvZiBUKVxuICAgICAqIEBwYXJhbSBwcm9wcyAtIE9wdGlvbmFsIHByb3BlcnRpZXMgdG8gcGFzcyB0byB0aGUgdHJhbnNpdGlvbiBjb250ZXh0IChzaG91bGQgbWF0Y2ggVFtrZXlvZiBUXSlcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPHZvaWQ+IHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgdHJhbnNpdGlvbiBpcyBjb21wbGV0ZVxuICAgICAqIFxuICAgICAqIEB0aHJvd3Mge0FfU3RhdGVNYWNoaW5lRXJyb3J9IFdoZW4gdGhlIHRyYW5zaXRpb24gZmFpbHMgZm9yIGFueSByZWFzb25cbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBpbnRlcmZhY2UgT3JkZXJTdGF0ZXMge1xuICAgICAqICAgcGVuZGluZzogeyBvcmRlcklkOiBzdHJpbmcgfTtcbiAgICAgKiAgIHByb2Nlc3Npbmc6IHsgb3JkZXJJZDogc3RyaW5nOyBwcm9jZXNzZWRCeTogc3RyaW5nIH07XG4gICAgICogfVxuICAgICAqIFxuICAgICAqIGNvbnN0IG9yZGVyTWFjaGluZSA9IG5ldyBBX1N0YXRlTWFjaGluZTxPcmRlclN0YXRlcz4oKTtcbiAgICAgKiBcbiAgICAgKiAvLyBUcmFuc2l0aW9uIHdpdGggcHJvcHNcbiAgICAgKiBhd2FpdCBvcmRlck1hY2hpbmUudHJhbnNpdGlvbigncGVuZGluZycsICdwcm9jZXNzaW5nJywge1xuICAgICAqICAgb3JkZXJJZDogJzEyMzQ1JyxcbiAgICAgKiAgIHByb2Nlc3NlZEJ5OiAndXNlci00NTYnXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICogXG4gICAgICogVGhlIHRyYW5zaXRpb24gcHJvY2VzcyBmb2xsb3dzIHRoaXMgbGlmZWN5Y2xlOlxuICAgICAqIDEuIFdhaXQgZm9yIHN0YXRlIG1hY2hpbmUgaW5pdGlhbGl6YXRpb24gKHJlYWR5KVxuICAgICAqIDIuIENyZWF0ZSB0cmFuc2l0aW9uIG5hbWUgaW4gY2FtZWxDYXNlIGZvcm1hdCAoZS5nLiwgXCJwZW5kaW5nX3Byb2Nlc3NpbmdcIilcbiAgICAgKiAzLiBDcmVhdGUgb3BlcmF0aW9uIGNvbnRleHQgd2l0aCB0cmFuc2l0aW9uIGRhdGFcbiAgICAgKiA0LiBDcmVhdGUgaXNvbGF0ZWQgc2NvcGUgZm9yIHRoZSB0cmFuc2l0aW9uXG4gICAgICogNS4gQ2FsbCBvbkJlZm9yZVRyYW5zaXRpb24gaG9va1xuICAgICAqIDYuIEV4ZWN1dGUgdGhlIHNwZWNpZmljIHRyYW5zaXRpb24gbWV0aG9kIChpZiBkZWZpbmVkKVxuICAgICAqIDcuIENhbGwgb25BZnRlclRyYW5zaXRpb24gaG9va1xuICAgICAqIDguIENsZWFuIHVwIHNjb3BlIGFuZCByZXR1cm4gcmVzdWx0XG4gICAgICogXG4gICAgICogSWYgYW55IHN0ZXAgZmFpbHMsIHRoZSBvbkVycm9yIGhvb2sgaXMgY2FsbGVkIGFuZCBhIHdyYXBwZWQgZXJyb3IgaXMgdGhyb3duLlxuICAgICAqL1xuICAgIGFzeW5jIHRyYW5zaXRpb24oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RhdGUgdG8gdHJhbnNpdGlvbiBmcm9tXG4gICAgICAgICAqL1xuICAgICAgICBmcm9tOiBrZXlvZiBULFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0YXRlIHRvIHRyYW5zaXRpb24gdG9cbiAgICAgICAgICovXG4gICAgICAgIHRvOiBrZXlvZiBULFxuICAgICAgICAvKipcbiAgICAgICAgICogT3B0aW9uYWwgcHJvcGVydGllcyB0byBwYXNzIHRvIHRoZSB0cmFuc2l0aW9uIGNvbnRleHRcbiAgICAgICAgICovXG4gICAgICAgIHByb3BzPzogVFtrZXlvZiBUXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHk7XG5cbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbk5hbWUgPSBgJHtBX0Zvcm1hdHRlckhlbHBlci50b0NhbWVsQ2FzZShTdHJpbmcoZnJvbSkpfV8ke0FfRm9ybWF0dGVySGVscGVyLnRvQ2FtZWxDYXNlKFN0cmluZyh0bykpfWA7XG5cbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IG5ldyBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24oe1xuICAgICAgICAgICAgZnJvbTogU3RyaW5nKGZyb20pLFxuICAgICAgICAgICAgdG86IFN0cmluZyh0byksXG4gICAgICAgICAgICBwcm9wc1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6IGBBLVN0YXRlTWFjaGluZS1UcmFuc2l0aW9uLVNjb3BlLSR7dHJhbnNpdGlvbk5hbWV9YCxcbiAgICAgICAgICAgIGZyYWdtZW50czogW3RyYW5zaXRpb25dXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQmVmb3JlVHJhbnNpdGlvbiwgc2NvcGUpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwodHJhbnNpdGlvbk5hbWUsIHNjb3BlKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU3RhdGVNYWNoaW5lRmVhdHVyZXMub25BZnRlclRyYW5zaXRpb24sIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJhbnNpdGlvbi5yZXN1bHQ7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRFcnJvciA9IG5ldyBBX1N0YXRlTWFjaGluZUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9TdGF0ZU1hY2hpbmVFcnJvci5UcmFuc2l0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSB0cmFuc2l0aW9uaW5nIHRvIFwiJHt0cmFuc2l0aW9uTmFtZX1cImAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzY29wZS5yZWdpc3Rlcih3cmFwcGVkRXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcy5vbkVycm9yLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgd3JhcHBlZEVycm9yO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbiIsICJleHBvcnQgY29uc3QgQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTID0ge1xuXG59IGFzIGNvbnN0XG5cblxuLy9zaG91bGQgYmUgYW4gYXJyYXlcbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0NvbmZpZ0VOVlZhcmlhYmxlcyA9ICh0eXBlb2YgQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTKVtrZXlvZiB0eXBlb2YgQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTXVtdO1xuXG5cbmV4cG9ydCBjb25zdCBBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVkgPSBbXG5cbl0gYXMgY29uc3Q7XG5cbiIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcblxuXG5leHBvcnQgY2xhc3MgQV9Db25maWdFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IEluaXRpYWxpemF0aW9uRXJyb3IgPSAnQS1Db25maWcgSW5pdGlhbGl6YXRpb24gRXJyb3InO1xufSIsICJpbXBvcnQgeyBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZLCBBX0Zvcm1hdHRlckhlbHBlciwgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25maWdDb250YWluZXJDb25zdHJ1Y3RvciB9IGZyb20gXCIuL0EtQ29uZmlnLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0V4ZWN1dGlvbkNvbnRleHQgfSBmcm9tIFwiLi4vQS1FeGVjdXRpb24vQS1FeGVjdXRpb24uY29udGV4dFwiO1xuaW1wb3J0IHsgQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTX0FSUkFZIH0gZnJvbSBcIi4vQS1Db25maWcuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX0NvbmZpZ0Vycm9yIH0gZnJvbSBcIi4vQS1Db25maWcuZXJyb3JcIjtcblxuXG5leHBvcnQgY2xhc3MgQV9Db25maWc8XG4gICAgVCBleHRlbmRzIEFycmF5PHN0cmluZyB8IEFfVFlQRVNfX0NvbmNlcHRFTlZWYXJpYWJsZXNbbnVtYmVyXT4gPSBhbnlbXVxuPiBleHRlbmRzIEFfRXhlY3V0aW9uQ29udGV4dDxcbiAgICB7IFtrZXkgaW4gVFtudW1iZXJdXTogYW55OyB9ICYge1xuICAgICAgICBba2V5IGluIHR5cGVvZiBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZW251bWJlcl1dOiBhbnlcbiAgICB9ICYge1xuICAgICAgICBba2V5IGluIHR5cGVvZiBBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVlbbnVtYmVyXV06IGFueVxuICAgIH1cbj4ge1xuICAgIHByb3RlY3RlZCBfc3RyaWN0OiBib29sZWFuO1xuICAgIHByb3RlY3RlZCBfY29uZmlnUHJvcGVydGllcyE6IFQ7XG5cbiAgICBwcm90ZWN0ZWQgREVGQVVMVF9BTExPV0VEX1RPX1JFQURfUFJPUEVSVElFUyA9IFtcbiAgICAgICAgLi4uQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFU19BUlJBWSxcbiAgICAgICAgLi4uQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTX0FSUkFZXG4gICAgXTtcblxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGNvbmZpZzogUGFydGlhbDxBX1RZUEVTX19Db25maWdDb250YWluZXJDb25zdHJ1Y3RvcjxUPj5cbiAgICApIHtcbiAgICAgICAgc3VwZXIoJ2EtY29uZmlnJyk7XG5cbiAgICAgICAgdGhpcy5fc3RyaWN0ID0gY29uZmlnLnN0cmljdCA/PyBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29uZmlnUHJvcGVydGllcyA9IGNvbmZpZy52YXJpYWJsZXMgPz8gW10gYXMgYW55O1xuXG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29uZmlnLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICB0aGlzLnNldChcbiAgICAgICAgICAgICAgICBBX0Zvcm1hdHRlckhlbHBlci50b1VwcGVyU25ha2VDYXNlKGtleSksXG4gICAgICAgICAgICAgICAgY29uZmlnLmRlZmF1bHRzW2tleSBhcyBUW251bWJlcl1dXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBnZXQgc3RyaWN0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RyaWN0O1xuICAgIH1cblxuXG4gICAgLyoqIFxuICAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGdldCB0aGUgY29uZmlndXJhdGlvbiBwcm9wZXJ0eSBieSBuYW1lXG4gICAgICAqIFxuICAgICAgKiBAcGFyYW0gcHJvcGVydHkgXG4gICAgICAqIEByZXR1cm5zIFxuICAgICAgKi9cbiAgICBnZXQ8SyBleHRlbmRzIFRbbnVtYmVyXT4oXG4gICAgICAgIHByb3BlcnR5OiBLIHwgdHlwZW9mIHRoaXMuREVGQVVMVF9BTExPV0VEX1RPX1JFQURfUFJPUEVSVElFU1tudW1iZXJdXG4gICAgKTogeyBba2V5IGluIFRbbnVtYmVyXV06IGFueTsgfVtLXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWdQcm9wZXJ0aWVzLmluY2x1ZGVzKHByb3BlcnR5IGFzIGFueSlcbiAgICAgICAgICAgIHx8IHRoaXMuREVGQVVMVF9BTExPV0VEX1RPX1JFQURfUFJPUEVSVElFUy5pbmNsdWRlcyhwcm9wZXJ0eSBhcyBhbnkpXG4gICAgICAgICAgICB8fCAhdGhpcy5fc3RyaWN0XG4gICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXQoQV9Gb3JtYXR0ZXJIZWxwZXIudG9VcHBlclNuYWtlQ2FzZShwcm9wZXJ0eSkpO1xuXG4gICAgICAgIHRocm93IG5ldyBBX0NvbmZpZ0Vycm9yKCdQcm9wZXJ0eSBub3QgZXhpc3RzIG9yIG5vdCBhbGxvd2VkIHRvIHJlYWQnKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gc2V0IHRoZSBjb25maWd1cmF0aW9uIHByb3BlcnR5IGJ5IG5hbWVcbiAgICAgKiBPUiBzZXQgbXVsdGlwbGUgcHJvcGVydGllcyBhdCBvbmNlIGJ5IHBhc3NpbmcgYW4gYXJyYXkgb2Ygb2JqZWN0c1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB2YXJpYWJsZXMgXG4gICAgICovXG4gICAgc2V0KFxuICAgICAgICB2YXJpYWJsZXM6IEFycmF5PHtcbiAgICAgICAgICAgIHByb3BlcnR5OiBUW251bWJlcl0gfCBBX1RZUEVTX19Db25jZXB0RU5WVmFyaWFibGVzW251bWJlcl0sXG4gICAgICAgICAgICB2YWx1ZTogYW55XG4gICAgICAgIH0+XG4gICAgKVxuICAgIHNldChcbiAgICAgICAgdmFyaWFibGVzOiBQYXJ0aWFsPFJlY29yZDxUW251bWJlcl0gfCBBX1RZUEVTX19Db25jZXB0RU5WVmFyaWFibGVzW251bWJlcl0sIGFueT4+XG4gICAgKVxuICAgIHNldChcbiAgICAgICAgcHJvcGVydHk6IFRbbnVtYmVyXSB8IEFfVFlQRVNfX0NvbmNlcHRFTlZWYXJpYWJsZXNbbnVtYmVyXSxcbiAgICAgICAgdmFsdWU6IGFueVxuICAgIClcbiAgICBzZXQoXG4gICAgICAgIHByb3BlcnR5OiBUW251bWJlcl0gfCBBX1RZUEVTX19Db25jZXB0RU5WVmFyaWFibGVzW251bWJlcl0gfCBBcnJheTx7XG4gICAgICAgICAgICBwcm9wZXJ0eTogVFtudW1iZXJdIHwgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlc1tudW1iZXJdLFxuICAgICAgICAgICAgdmFsdWU6IGFueVxuICAgICAgICB9PiB8IFBhcnRpYWw8UmVjb3JkPFRbbnVtYmVyXSB8IEFfVFlQRVNfX0NvbmNlcHRFTlZWYXJpYWJsZXNbbnVtYmVyXSwgYW55Pj4sXG4gICAgICAgIHZhbHVlPzogYW55XG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gQXJyYXkuaXNBcnJheShwcm9wZXJ0eSlcbiAgICAgICAgICAgID8gcHJvcGVydHlcbiAgICAgICAgICAgIDogdHlwZW9mIHByb3BlcnR5ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gW3sgcHJvcGVydHksIHZhbHVlIH1dXG4gICAgICAgICAgICAgICAgOiBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgLmtleXMocHJvcGVydHkpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGtleSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcHJvcGVydHlba2V5XVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgZm9yIChjb25zdCB7IHByb3BlcnR5LCB2YWx1ZSB9IG9mIGFycmF5KSB7XG4gICAgICAgICAgICBzdXBlci5zZXQoQV9Gb3JtYXR0ZXJIZWxwZXIudG9VcHBlclNuYWtlQ2FzZShwcm9wZXJ0eSksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiLyoqXG4gKiBBLUxvZ2dlciBDb25zdGFudHNcbiAqIFxuICogQ29uZmlndXJhdGlvbiBjb25zdGFudHMgYW5kIGRlZmF1bHQgdmFsdWVzIGZvciB0aGUgQV9Mb2dnZXIgY29tcG9uZW50XG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IHNjb3BlIGxlbmd0aCBmb3IgY29uc2lzdGVudCBtZXNzYWdlIGFsaWdubWVudFxuICovXG5leHBvcnQgY29uc3QgQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9MRU5HVEggPSAyMDtcblxuLyoqXG4gKiBEZWZhdWx0IGxvZyBsZXZlbCB3aGVuIG5vbmUgaXMgc3BlY2lmaWVkXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9ERUZBVUxUX0xFVkVMID0gJ2FsbCc7XG5cbi8qKlxuICogVGVybWluYWwgY29sb3IgY29kZXMgbWFwcGluZ1xuICovXG5leHBvcnQgY29uc3QgQV9MT0dHRVJfQ09MT1JTID0ge1xuICAgIC8vIFN5c3RlbSBjb2xvcnMgKHJlc2VydmVkIGZvciBzcGVjaWZpYyBwdXJwb3NlcylcbiAgICByZWQ6ICczMScsICAgICAgICAgIC8vIEVycm9ycywgY3JpdGljYWwgaXNzdWVzXG4gICAgeWVsbG93OiAnMzMnLCAgICAgICAvLyBXYXJuaW5ncywgY2F1dGlvbiBtZXNzYWdlc1xuICAgIGdyZWVuOiAnMzInLCAgICAgICAgLy8gU3VjY2VzcywgY29tcGxldGlvbiBtZXNzYWdlc1xuICAgIFxuICAgIC8vIFNhZmUgcGFsZXR0ZSBmb3IgcmFuZG9tIHNlbGVjdGlvbiAoZ3JleS1ibHVlLXZpb2xldCB0aGVtZSlcbiAgICBibHVlOiAnMzQnLCAgICAgICAgIC8vIEluZm8sIGdlbmVyYWwgbWVzc2FnZXNcbiAgICBjeWFuOiAnMzYnLCAgICAgICAgIC8vIEhlYWRlcnMsIHRpdGxlc1xuICAgIG1hZ2VudGE6ICczNScsICAgICAgLy8gU3BlY2lhbCBoaWdobGlnaHRpbmdcbiAgICBncmF5OiAnOTAnLCAgICAgICAgIC8vIERlYnVnLCBsZXNzIGltcG9ydGFudCBpbmZvXG4gICAgYnJpZ2h0Qmx1ZTogJzk0JywgICAvLyBCcmlnaHQgYmx1ZSB2YXJpYW50XG4gICAgYnJpZ2h0Q3lhbjogJzk2JywgICAvLyBCcmlnaHQgY3lhbiB2YXJpYW50XG4gICAgYnJpZ2h0TWFnZW50YTogJzk1JywgLy8gQnJpZ2h0IG1hZ2VudGEgdmFyaWFudFxuICAgIGRhcmtHcmF5OiAnMzAnLCAgICAgLy8gRGFyayBncmF5XG4gICAgbGlnaHRHcmF5OiAnMzcnLCAgICAvLyBMaWdodCBncmF5ICh3aGl0ZSlcbiAgICBcbiAgICAvLyBFeHRlbmRlZCBibHVlLXZpb2xldCBwYWxldHRlXG4gICAgaW5kaWdvOiAnMzg7NTs1NCcsICAgICAgLy8gRGVlcCBpbmRpZ29cbiAgICB2aW9sZXQ6ICczODs1OzkzJywgICAgICAvLyBWaW9sZXRcbiAgICBwdXJwbGU6ICczODs1OzEyOScsICAgICAvLyBQdXJwbGVcbiAgICBsYXZlbmRlcjogJzM4OzU7MTgzJywgICAvLyBMYXZlbmRlclxuICAgIHNreUJsdWU6ICczODs1OzExNycsICAgIC8vIFNreSBibHVlXG4gICAgc3RlZWxCbHVlOiAnMzg7NTs2NycsICAgLy8gU3RlZWwgYmx1ZVxuICAgIHNsYXRlQmx1ZTogJzM4OzU7NjInLCAgIC8vIFNsYXRlIGJsdWVcbiAgICBkZWVwQmx1ZTogJzM4OzU7MTgnLCAgICAvLyBEZWVwIGJsdWVcbiAgICBsaWdodEJsdWU6ICczODs1OzE1MycsICAvLyBMaWdodCBibHVlXG4gICAgcGVyaXdpbmtsZTogJzM4OzU7MTExJywgLy8gUGVyaXdpbmtsZVxuICAgIGNvcm5mbG93ZXI6ICczODs1OzY5JywgIC8vIENvcm5mbG93ZXIgYmx1ZVxuICAgIHBvd2RlcjogJzM4OzU7MTUyJywgICAgIC8vIFBvd2RlciBibHVlXG4gICAgXG4gICAgLy8gQWRkaXRpb25hbCBncmF5cyBmb3IgdmFyaWV0eVxuICAgIGNoYXJjb2FsOiAnMzg7NTsyMzYnLCAgIC8vIENoYXJjb2FsXG4gICAgc2lsdmVyOiAnMzg7NTsyNTAnLCAgICAgLy8gU2lsdmVyXG4gICAgc21va2U6ICczODs1OzI0NCcsICAgICAgLy8gU21va2UgZ3JheVxuICAgIHNsYXRlOiAnMzg7NTsyNDAnLCAgICAgIC8vIFNsYXRlIGdyYXlcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogU2FmZSBjb2xvcnMgZm9yIHJhbmRvbSBzZWxlY3Rpb24gLSBncmV5LWJsdWUtdmlvbGV0IHBhbGV0dGVcbiAqIEV4Y2x1ZGVzIHN5c3RlbSBjb2xvcnMgKHJlZCwgeWVsbG93LCBncmVlbikgdG8gYXZvaWQgY29uZnVzaW9uIHdpdGggd2FybmluZ3MvZXJyb3JzXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9TQUZFX1JBTkRPTV9DT0xPUlMgPSBbXG4gICAgJ2JsdWUnLCAnY3lhbicsICdtYWdlbnRhJywgJ2dyYXknLCAnYnJpZ2h0Qmx1ZScsICdicmlnaHRDeWFuJywgJ2JyaWdodE1hZ2VudGEnLFxuICAgICdkYXJrR3JheScsICdsaWdodEdyYXknLCAnaW5kaWdvJywgJ3Zpb2xldCcsICdwdXJwbGUnLCAnbGF2ZW5kZXInLCAnc2t5Qmx1ZScsXG4gICAgJ3N0ZWVsQmx1ZScsICdzbGF0ZUJsdWUnLCAnZGVlcEJsdWUnLCAnbGlnaHRCbHVlJywgJ3Blcml3aW5rbGUnLCAnY29ybmZsb3dlcicsXG4gICAgJ3Bvd2RlcicsICdjaGFyY29hbCcsICdzaWx2ZXInLCAnc21va2UnLCAnc2xhdGUnXG5dIGFzIGNvbnN0O1xuXG4vKipcbiAqIEFOU0kgZXNjYXBlIGNvZGVzXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9BTlNJID0ge1xuICAgIFJFU0VUOiAnXFx4MWJbMG0nLFxuICAgIFBSRUZJWDogJ1xceDFiWycsXG4gICAgU1VGRklYOiAnbSdcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogVGltZXN0YW1wIGZvcm1hdCBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9USU1FX0ZPUk1BVCA9IHtcbiAgICBNSU5VVEVTX1BBRDogMixcbiAgICBTRUNPTkRTX1BBRDogMixcbiAgICBNSUxMSVNFQ09ORFNfUEFEOiAzLFxuICAgIFNFUEFSQVRPUjogJzonXG59IGFzIGNvbnN0O1xuXG4vKipcbiAqIExvZyBtZXNzYWdlIHN0cnVjdHVyZSBjb25zdGFudHNcbiAqL1xuZXhwb3J0IGNvbnN0IEFfTE9HR0VSX0ZPUk1BVCA9IHtcbiAgICBTQ09QRV9PUEVOOiAnWycsXG4gICAgU0NPUEVfQ0xPU0U6ICddJyxcbiAgICBUSU1FX09QRU46ICd8JyxcbiAgICBUSU1FX0NMT1NFOiAnfCcsXG4gICAgU0VQQVJBVE9SOiAnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScsXG4gICAgSU5ERU5UX0JBU0U6IDMsXG4gICAgUElQRTogJ3wgJ1xufSBhcyBjb25zdDtcblxuLyoqXG4gKiBFbnZpcm9ubWVudCB2YXJpYWJsZSBrZXlzXG4gKi9cbi8qKlxuICogVGVybWluYWwgd2lkdGggY29uZmlndXJhdGlvblxuICovXG5leHBvcnQgY29uc3QgQV9MT0dHRVJfVEVSTUlOQUwgPSB7XG4gICAgREVGQVVMVF9XSURUSDogODAsICAgICAgICAvLyBEZWZhdWx0IHRlcm1pbmFsIHdpZHRoIHdoZW4gY2FuJ3QgYmUgZGV0ZWN0ZWRcbiAgICBNSU5fV0lEVEg6IDQwLCAgICAgICAgICAgLy8gTWluaW11bSB3aWR0aCBmb3IgZm9ybWF0dGVkIG91dHB1dFxuICAgIE1BWF9MSU5FX0xFTkdUSF9SQVRJTzogMC44LCAvLyBVc2UgODAlIG9mIHRlcm1pbmFsIHdpZHRoIGZvciBjb250ZW50XG4gICAgQlJPV1NFUl9ERUZBVUxUX1dJRFRIOiAxMjAgIC8vIERlZmF1bHQgd2lkdGggZm9yIGJyb3dzZXIgY29uc29sZVxufSBhcyBjb25zdDtcblxuLyoqXG4gKiBFbnZpcm9ubWVudCB2YXJpYWJsZSBrZXlzXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9FTlZfS0VZUyA9IHtcbiAgICBMT0dfTEVWRUw6ICdBX0xPR0dFUl9MRVZFTCcsXG4gICAgREVGQVVMVF9TQ09QRV9MRU5HVEg6ICdBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0xFTkdUSCcsXG4gICAgREVGQVVMVF9TQ09QRV9DT0xPUjogJ0FfTE9HR0VSX0RFRkFVTFRfU0NPUEVfQ09MT1InLFxuICAgIERFRkFVTFRfTE9HX0NPTE9SOiAnQV9MT0dHRVJfREVGQVVMVF9MT0dfQ09MT1InXG59IGFzIGNvbnN0OyIsICJpbXBvcnQgeyBBX0NvbXBvbmVudCwgQV9Db250ZXh0LCBBX0Vycm9yLCBBX0luamVjdCwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0NvbmZpZyB9IGZyb20gXCIuLi9BLUNvbmZpZy9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0xvZ2dlckVudlZhcmlhYmxlc1R5cGUgfSBmcm9tIFwiLi9BLUxvZ2dlci5lbnZcIjtcbmltcG9ydCB7IEFfTG9nZ2VyTGV2ZWwsIEFfTG9nZ2VyQ29sb3JOYW1lIH0gZnJvbSBcIi4vQS1Mb2dnZXIudHlwZXNcIjtcbmltcG9ydCB7XG4gICAgQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9MRU5HVEgsXG4gICAgQV9MT0dHRVJfQ09MT1JTLFxuICAgIEFfTE9HR0VSX0FOU0ksXG4gICAgQV9MT0dHRVJfVElNRV9GT1JNQVQsXG4gICAgQV9MT0dHRVJfRk9STUFULFxuICAgIEFfTE9HR0VSX0VOVl9LRVlTLFxuICAgIEFfTE9HR0VSX1NBRkVfUkFORE9NX0NPTE9SUyxcbiAgICBBX0xPR0dFUl9URVJNSU5BTFxufSBmcm9tIFwiLi9BLUxvZ2dlci5jb25zdGFudHNcIjtcblxuLyoqXG4gKiBBX0xvZ2dlciAtIEFkdmFuY2VkIExvZ2dpbmcgQ29tcG9uZW50IHdpdGggU2NvcGUtYmFzZWQgT3V0cHV0IEZvcm1hdHRpbmdcbiAqIFxuICogVGhpcyBjb21wb25lbnQgcHJvdmlkZXMgY29tcHJlaGVuc2l2ZSBsb2dnaW5nIGNhcGFiaWxpdGllcyB3aXRoOlxuICogLSBDb2xvci1jb2RlZCBjb25zb2xlIG91dHB1dCBmb3IgZGlmZmVyZW50IGxvZyBsZXZlbHNcbiAqIC0gU2NvcGUtYmFzZWQgbWVzc2FnZSBmb3JtYXR0aW5nIHdpdGggY29uc2lzdGVudCBhbGlnbm1lbnRcbiAqIC0gU3VwcG9ydCBmb3IgbXVsdGlwbGUgZGF0YSB0eXBlcyAob2JqZWN0cywgZXJyb3JzLCBzdHJpbmdzKVxuICogLSBDb25maWd1cmFibGUgbG9nIGxldmVscyBmb3IgZmlsdGVyaW5nIG91dHB1dFxuICogLSBTcGVjaWFsIGhhbmRsaW5nIGZvciBBX0Vycm9yIGFuZCBuYXRpdmUgRXJyb3Igb2JqZWN0c1xuICogLSBUaW1lc3RhbXAgaW5jbHVzaW9uIGZvciBiZXR0ZXIgZGVidWdnaW5nXG4gKiBcbiAqIEtleSBGZWF0dXJlczpcbiAqIC0gKipTY29wZSBJbnRlZ3JhdGlvbioqOiBVc2VzIEFfU2NvcGUgZm9yIGNvbnNpc3RlbnQgbWVzc2FnZSBwcmVmaXhpbmdcbiAqIC0gKipDb2xvciBTdXBwb3J0Kio6IFRlcm1pbmFsIGNvbG9yIGNvZGVzIGZvciB2aXN1YWwgZGlzdGluY3Rpb25cbiAqIC0gKipPYmplY3QgRm9ybWF0dGluZyoqOiBQcmV0dHktcHJpbnRzIEpTT04gb2JqZWN0cyB3aXRoIHByb3BlciBpbmRlbnRhdGlvblxuICogLSAqKkVycm9yIEhhbmRsaW5nKio6IFNwZWNpYWwgZm9ybWF0dGluZyBmb3IgQV9FcnJvciBhbmQgRXJyb3Igb2JqZWN0c1xuICogLSAqKkxvZyBMZXZlbCBGaWx0ZXJpbmcqKjogQ29uZmlndXJhYmxlIGZpbHRlcmluZyBiYXNlZCBvbiBzZXZlcml0eVxuICogLSAqKk11bHRpLWxpbmUgU3VwcG9ydCoqOiBQcm9wZXIgYWxpZ25tZW50IGZvciBtdWx0aS1saW5lIG1lc3NhZ2VzXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAvLyBCYXNpYyB1c2FnZSB3aXRoIGRlcGVuZGVuY3kgaW5qZWN0aW9uICh1c2VzIGRldGVybWluaXN0aWMgY29sb3JzIGJhc2VkIG9uIHNjb3BlIG5hbWUpXG4gKiBjbGFzcyBNeVNlcnZpY2Uge1xuICogICBjb25zdHJ1Y3RvcihAQV9JbmplY3QoQV9Mb2dnZXIpIHByaXZhdGUgbG9nZ2VyOiBBX0xvZ2dlcikge31cbiAqICAgXG4gKiAgIGRvU29tZXRoaW5nKCkge1xuICogICAgIHRoaXMubG9nZ2VyLmluZm8oJ1Byb2Nlc3Npbmcgc3RhcnRlZCcpOyAvLyBVc2VzIHNjb3BlLW5hbWUtYmFzZWQgY29sb3JzLCBhbHdheXMgc2hvd3NcbiAqICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRGVidWcgaW5mb3JtYXRpb24nKTsgLy8gT25seSBzaG93cyB3aGVuIGRlYnVnIGxldmVsIGVuYWJsZWRcbiAqICAgICBcbiAqICAgICAvLyBDb2xvciBvdmVybG9hZCBtZXRob2RzIHdpdGggZW51bSBzdXBwb3J0XG4gKiAgICAgdGhpcy5sb2dnZXIuaW5mbygnZ3JlZW4nLCAnU3VjY2VzcyBtZXNzYWdlJyk7IC8vIEdyZWVuIG1lc3NhZ2UsIHNjb3BlIHN0YXlzIGRlZmF1bHRcbiAqICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnZ3JheScsICdWZXJib3NlIGRlYnVnIGluZm8nKTsgLy8gR3JheSBtZXNzYWdlIGZvciBsZXNzIGltcG9ydGFudCBpbmZvXG4gKiAgICAgdGhpcy5sb2dnZXIuaW5mbygnYnJpZ2h0Qmx1ZScsICdJbXBvcnRhbnQgbm90aWZpY2F0aW9uJyk7XG4gKiAgICAgXG4gKiAgICAgLy8gVGVybWluYWwgd2lkdGggYXdhcmUgZm9ybWF0dGluZyAtIGF1dG9tYXRpY2FsbHkgd3JhcHMgbG9uZyBsaW5lc1xuICogICAgIHRoaXMubG9nZ2VyLmluZm8oJ1RoaXMgaXMgYSB2ZXJ5IGxvbmcgbWVzc2FnZSB0aGF0IHdpbGwgYmUgYXV0b21hdGljYWxseSB3cmFwcGVkIHRvIGZpdCB3aXRoaW4gdGhlIHRlcm1pbmFsIHdpZHRoIHdoaWxlIG1haW50YWluaW5nIHByb3BlciBpbmRlbnRhdGlvbiBhbmQgZm9ybWF0dGluZycpO1xuICogICAgIFxuICogICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoJ1NvbWV0aGluZyBtaWdodCBiZSB3cm9uZycpO1xuICogICAgIHRoaXMubG9nZ2VyLmVycm9yKG5ldyBFcnJvcignU29tZXRoaW5nIGZhaWxlZCcpKTtcbiAqICAgfVxuICogfVxuICogXG4gKiAvLyBTYW1lIHNjb3BlIG5hbWVzIHdpbGwgYWx3YXlzIGdldCB0aGUgc2FtZSBjb2xvcnMgYXV0b21hdGljYWxseVxuICogY29uc3QgbG9nZ2VyMSA9IG5ldyBBX0xvZ2dlcihuZXcgQV9TY29wZSh7bmFtZTogJ1VzZXJTZXJ2aWNlJ30pKTsgLy8gR2V0cyBjb25zaXN0ZW50IGNvbG9yc1xuICogY29uc3QgbG9nZ2VyMiA9IG5ldyBBX0xvZ2dlcihuZXcgQV9TY29wZSh7bmFtZTogJ1VzZXJTZXJ2aWNlJ30pKTsgLy8gR2V0cyBzYW1lIGNvbG9ycyBhcyBsb2dnZXIxXG4gKiBcbiAqIC8vIEF2YWlsYWJsZSBjb2xvciBuYW1lcyAoQV9Mb2dnZXJDb2xvck5hbWUgZW51bSk6XG4gKiAvLyAncmVkJywgJ3llbGxvdycsICdncmVlbicsICdibHVlJywgJ2N5YW4nLCAnbWFnZW50YScsICdncmF5JyxcbiAqIC8vICdicmlnaHRCbHVlJywgJ2JyaWdodEN5YW4nLCAnYnJpZ2h0TWFnZW50YScsICdkYXJrR3JheScsICdsaWdodEdyYXknLFxuICogLy8gJ2luZGlnbycsICd2aW9sZXQnLCAncHVycGxlJywgJ2xhdmVuZGVyJywgJ3NreUJsdWUnLCAnc3RlZWxCbHVlJyxcbiAqIC8vICdzbGF0ZUJsdWUnLCAnZGVlcEJsdWUnLCAnbGlnaHRCbHVlJywgJ3Blcml3aW5rbGUnLCAnY29ybmZsb3dlcicsXG4gKiAvLyAncG93ZGVyJywgJ2NoYXJjb2FsJywgJ3NpbHZlcicsICdzbW9rZScsICdzbGF0ZSdcbiAqIFxuICogLy8gQ29uZmlndXJhdGlvbiB2aWEgZW52aXJvbm1lbnQgdmFyaWFibGVzIG9yIEFfQ29uZmlnIChvdmVycmlkZXMgYXV0b21hdGljIHNlbGVjdGlvbilcbiAqIHByb2Nlc3MuZW52LkFfTE9HR0VSX0RFRkFVTFRfU0NPUEVfQ09MT1IgPSAnbWFnZW50YSc7XG4gKiBwcm9jZXNzLmVudi5BX0xPR0dFUl9ERUZBVUxUX0xPR19DT0xPUiA9ICdncmVlbic7XG4gKiBcbiAqIC8vIE9yIHRocm91Z2ggQV9Db25maWcgaW5zdGFuY2VcbiAqIGNvbnN0IGNvbmZpZyA9IG5ldyBBX0NvbmZpZyh7XG4gKiAgIEFfTE9HR0VSX0RFRkFVTFRfU0NPUEVfQ09MT1I6ICdyZWQnLFxuICogICBBX0xPR0dFUl9ERUZBVUxUX0xPR19DT0xPUjogJ3doaXRlJ1xuICogfSk7XG4gKiBjb25zdCBsb2dnZXIgPSBuZXcgQV9Mb2dnZXIoc2NvcGUsIGNvbmZpZyk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIEFfTG9nZ2VyIGV4dGVuZHMgQV9Db21wb25lbnQge1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlndXJhdGlvbiBhbmQgQ29uc3RhbnRzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBUZXJtaW5hbCBjb2xvciBjb2RlcyBmb3IgZGlmZmVyZW50IGxvZyBsZXZlbHMgYW5kIGN1c3RvbSBzdHlsaW5nXG4gICAgICogVGhlc2UgY29kZXMgd29yayB3aXRoIEFOU0kgZXNjYXBlIHNlcXVlbmNlcyBmb3IgY29sb3JlZCB0ZXJtaW5hbCBvdXRwdXRcbiAgICAgKi9cbiAgICByZWFkb25seSBDT0xPUlM7XG5cbiAgICAvKipcbiAgICAgKiBTdGFuZGFyZCBzY29wZSBsZW5ndGggZm9yIGNvbnNpc3RlbnQgZm9ybWF0dGluZ1xuICAgICAqIFRoaXMgZW5zdXJlcyBhbGwgbG9nIG1lc3NhZ2VzIGFsaWduIHByb3Blcmx5IHJlZ2FyZGxlc3Mgb2Ygc2NvcGUgbmFtZSBsZW5ndGhcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlYWRvbmx5IFNUQU5EQVJEX1NDT1BFX0xFTkdUSDtcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgY29sb3IgZm9yIHRoZSBzY29wZSBwb3J0aW9uIG9mIGxvZyBtZXNzYWdlc1xuICAgICAqIFRoaXMgY29sb3IgaXMgdXNlZCBmb3IgdGhlIHNjb3BlIGJyYWNrZXRzIGFuZCBjb250ZW50LCBhbmQgcmVtYWlucyBjb25zaXN0ZW50XG4gICAgICogZm9yIHRoaXMgbG9nZ2VyIGluc3RhbmNlIHJlZ2FyZGxlc3Mgb2YgbWVzc2FnZSBjb2xvciBvdmVycmlkZXNcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlYWRvbmx5IERFRkFVTFRfU0NPUEVfQ09MT1I6IGtleW9mIHR5cGVvZiBBX0xPR0dFUl9DT0xPUlM7XG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGNvbG9yIGZvciBsb2cgbWVzc2FnZSBjb250ZW50IHdoZW4gbm8gZXhwbGljaXQgY29sb3IgaXMgcHJvdmlkZWRcbiAgICAgKiBUaGlzIGNvbG9yIGlzIHVzZWQgZm9yIHRoZSBtZXNzYWdlIGJvZHkgd2hlbiBsb2dnaW5nIHdpdGhvdXQgc3BlY2lmeWluZyBhIGNvbG9yXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWFkb25seSBERUZBVUxUX0xPR19DT0xPUjoga2V5b2YgdHlwZW9mIEFfTE9HR0VSX0NPTE9SUztcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgdGVybWluYWwgd2lkdGggZm9yIHJlc3BvbnNpdmUgZm9ybWF0dGluZ1xuICAgICAqIEF1dG9tYXRpY2FsbHkgZGV0ZWN0ZWQgb3IgZmFsbHMgYmFjayB0byBkZWZhdWx0IHZhbHVlc1xuICAgICAqL1xuICAgIHByaXZhdGUgcmVhZG9ubHkgVEVSTUlOQUxfV0lEVEg6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIE1heGltdW0gY29udGVudCB3aWR0aCBiYXNlZCBvbiB0ZXJtaW5hbCBzaXplXG4gICAgICogVXNlZCBmb3Igd29yZCB3cmFwcGluZyBhbmQgbGluZSBsZW5ndGggY2FsY3VsYXRpb25zXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWFkb25seSBNQVhfQ09OVEVOVF9XSURUSDogbnVtYmVyO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uc3RydWN0b3IgYW5kIEluaXRpYWxpemF0aW9uXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgQV9Mb2dnZXIgd2l0aCBkZXBlbmRlbmN5IGluamVjdGlvblxuICAgICAqIENvbG9ycyBhcmUgY29uZmlndXJlZCB0aHJvdWdoIEFfQ29uZmlnIG9yIGdlbmVyYXRlZCByYW5kb21seSBpZiBub3QgcHJvdmlkZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGUgLSBUaGUgY3VycmVudCBzY29wZSBjb250ZXh0IGZvciBtZXNzYWdlIHByZWZpeGluZ1xuICAgICAqIEBwYXJhbSBjb25maWcgLSBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZvciBsb2cgbGV2ZWwgZmlsdGVyaW5nIGFuZCBjb2xvciBzZXR0aW5nc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgcHJvdGVjdGVkIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQV9Db25maWcpIHByb3RlY3RlZCBjb25maWc/OiBBX0NvbmZpZzxBX0xvZ2dlckVudlZhcmlhYmxlc1R5cGU+XG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuQ09MT1JTID0gQV9MT0dHRVJfQ09MT1JTO1xuICAgICAgICB0aGlzLlNUQU5EQVJEX1NDT1BFX0xFTkdUSCA9IGNvbmZpZz8uZ2V0KEFfTE9HR0VSX0VOVl9LRVlTLkRFRkFVTFRfU0NPUEVfTEVOR1RIKSB8fCBBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0xFTkdUSDtcblxuICAgICAgICAvLyBHZXQgY29sb3JzIGZyb20gY29uZmlnIG9yIGdlbmVyYXRlIGRldGVybWluaXN0aWMgY29sb3JzIGJhc2VkIG9uIHNjb3BlIG5hbWVcbiAgICAgICAgY29uc3QgY29uZmlnU2NvcGVDb2xvciA9IGNvbmZpZz8uZ2V0KEFfTE9HR0VSX0VOVl9LRVlTLkRFRkFVTFRfU0NPUEVfQ09MT1IpIGFzIGtleW9mIHR5cGVvZiBBX0xPR0dFUl9DT0xPUlM7XG4gICAgICAgIGNvbnN0IGNvbmZpZ0xvZ0NvbG9yID0gY29uZmlnPy5nZXQoQV9MT0dHRVJfRU5WX0tFWVMuREVGQVVMVF9MT0dfQ09MT1IpIGFzIGtleW9mIHR5cGVvZiBBX0xPR0dFUl9DT0xPUlM7XG5cbiAgICAgICAgaWYgKGNvbmZpZ1Njb3BlQ29sb3IgfHwgY29uZmlnTG9nQ29sb3IpIHtcbiAgICAgICAgICAgIC8vIElmIGFueSBjb2xvciBpcyBjb25maWd1cmVkLCB1c2UgY29uZmlnIHZhbHVlcyBvciBmYWxsYmFjayB0byBzY29wZS1iYXNlZCBzZWxlY3Rpb25cbiAgICAgICAgICAgIHRoaXMuREVGQVVMVF9TQ09QRV9DT0xPUiA9IGNvbmZpZ1Njb3BlQ29sb3IgfHwgdGhpcy5nZW5lcmF0ZUNvbG9yRnJvbVNjb3BlTmFtZSh0aGlzLnNjb3BlLm5hbWUpO1xuICAgICAgICAgICAgdGhpcy5ERUZBVUxUX0xPR19DT0xPUiA9IGNvbmZpZ0xvZ0NvbG9yIHx8IHRoaXMuZ2VuZXJhdGVDb2xvckZyb21TY29wZU5hbWUodGhpcy5zY29wZS5uYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIG5vIGNvbG9ycyBjb25maWd1cmVkLCBnZW5lcmF0ZSBjb21wbGVtZW50YXJ5IHBhaXIgYmFzZWQgb24gc2NvcGUgbmFtZVxuICAgICAgICAgICAgY29uc3QgY29tcGxlbWVudGFyeUNvbG9ycyA9IHRoaXMuZ2VuZXJhdGVDb21wbGVtZW50YXJ5Q29sb3JzRnJvbVNjb3BlKHRoaXMuc2NvcGUubmFtZSk7XG4gICAgICAgICAgICB0aGlzLkRFRkFVTFRfU0NPUEVfQ09MT1IgPSBjb21wbGVtZW50YXJ5Q29sb3JzLnNjb3BlQ29sb3I7XG4gICAgICAgICAgICB0aGlzLkRFRkFVTFRfTE9HX0NPTE9SID0gY29tcGxlbWVudGFyeUNvbG9ycy5sb2dDb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluaXRpYWxpemUgdGVybWluYWwgd2lkdGggZGV0ZWN0aW9uXG4gICAgICAgIHRoaXMuVEVSTUlOQUxfV0lEVEggPSB0aGlzLmRldGVjdFRlcm1pbmFsV2lkdGgoKTtcbiAgICAgICAgdGhpcy5NQVhfQ09OVEVOVF9XSURUSCA9IE1hdGguZmxvb3IodGhpcy5URVJNSU5BTF9XSURUSCAqIEFfTE9HR0VSX1RFUk1JTkFMLk1BWF9MSU5FX0xFTkdUSF9SQVRJTyk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29sb3IgR2VuZXJhdGlvbiBVdGlsaXRpZXNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGEgc2ltcGxlIGhhc2ggZnJvbSBhIHN0cmluZ1xuICAgICAqIFVzZWQgdG8gY3JlYXRlIGRldGVybWluaXN0aWMgY29sb3Igc2VsZWN0aW9uIGJhc2VkIG9uIHNjb3BlIG5hbWVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RyIC0gVGhlIHN0cmluZyB0byBoYXNoXG4gICAgICogQHJldHVybnMgQSBudW1lcmljIGhhc2ggdmFsdWVcbiAgICAgKi9cbiAgICBwcml2YXRlIHNpbXBsZUhhc2goc3RyOiBzdHJpbmcpOiBudW1iZXIge1xuICAgICAgICBsZXQgaGFzaCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFyID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBjaGFyO1xuICAgICAgICAgICAgaGFzaCA9IGhhc2ggJiBoYXNoOyAvLyBDb252ZXJ0IHRvIDMyLWJpdCBpbnRlZ2VyXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGhhc2gpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGEgZGV0ZXJtaW5pc3RpYyBjb2xvciBiYXNlZCBvbiBzY29wZSBuYW1lXG4gICAgICogU2FtZSBzY29wZSBuYW1lcyB3aWxsIGFsd2F5cyBnZXQgdGhlIHNhbWUgY29sb3IsIGJ1dCB1c2VzIHNhZmUgY29sb3IgcGFsZXR0ZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzY29wZU5hbWUgLSBUaGUgc2NvcGUgbmFtZSB0byBnZW5lcmF0ZSBjb2xvciBmb3JcbiAgICAgKiBAcmV0dXJucyBBIGNvbG9yIGtleSBmcm9tIHRoZSBzYWZlIGNvbG9ycyBwYWxldHRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUNvbG9yRnJvbVNjb3BlTmFtZShzY29wZU5hbWU6IHN0cmluZyk6IGtleW9mIHR5cGVvZiBBX0xPR0dFUl9DT0xPUlMge1xuICAgICAgICBjb25zdCBzYWZlQ29sb3JzID0gQV9MT0dHRVJfU0FGRV9SQU5ET01fQ09MT1JTO1xuICAgICAgICBjb25zdCBoYXNoID0gdGhpcy5zaW1wbGVIYXNoKHNjb3BlTmFtZSk7XG4gICAgICAgIGNvbnN0IGNvbG9ySW5kZXggPSBoYXNoICUgc2FmZUNvbG9ycy5sZW5ndGg7XG4gICAgICAgIHJldHVybiBzYWZlQ29sb3JzW2NvbG9ySW5kZXhdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGEgcGFpciBvZiBjb21wbGVtZW50YXJ5IGNvbG9ycyBiYXNlZCBvbiBzY29wZSBuYW1lXG4gICAgICogRW5zdXJlcyB2aXN1YWwgaGFybW9ueSBiZXR3ZWVuIHNjb3BlIGFuZCBtZXNzYWdlIGNvbG9ycyB3aGlsZSBiZWluZyBkZXRlcm1pbmlzdGljXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlTmFtZSAtIFRoZSBzY29wZSBuYW1lIHRvIGJhc2UgY29sb3JzIG9uXG4gICAgICogQHJldHVybnMgT2JqZWN0IHdpdGggc2NvcGVDb2xvciBhbmQgbG9nQ29sb3IgdGhhdCB3b3JrIHdlbGwgdG9nZXRoZXJcbiAgICAgKi9cbiAgICBwcml2YXRlIGdlbmVyYXRlQ29tcGxlbWVudGFyeUNvbG9yc0Zyb21TY29wZShzY29wZU5hbWU6IHN0cmluZyk6IHsgc2NvcGVDb2xvcjoga2V5b2YgdHlwZW9mIEFfTE9HR0VSX0NPTE9SUywgbG9nQ29sb3I6IGtleW9mIHR5cGVvZiBBX0xPR0dFUl9DT0xPUlMgfSB7XG4gICAgICAgIC8vIERlZmluZSBjb2xvciBncm91cHMgdGhhdCB3b3JrIHdlbGwgdG9nZXRoZXJcbiAgICAgICAgY29uc3QgY29sb3JQYWlycyA9IFtcbiAgICAgICAgICAgIHsgc2NvcGVDb2xvcjogJ2luZGlnbycgYXMgY29uc3QsIGxvZ0NvbG9yOiAnbGlnaHRCbHVlJyBhcyBjb25zdCB9LFxuICAgICAgICAgICAgeyBzY29wZUNvbG9yOiAnZGVlcEJsdWUnIGFzIGNvbnN0LCBsb2dDb2xvcjogJ2N5YW4nIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHNjb3BlQ29sb3I6ICdwdXJwbGUnIGFzIGNvbnN0LCBsb2dDb2xvcjogJ2xhdmVuZGVyJyBhcyBjb25zdCB9LFxuICAgICAgICAgICAgeyBzY29wZUNvbG9yOiAnc3RlZWxCbHVlJyBhcyBjb25zdCwgbG9nQ29sb3I6ICdza3lCbHVlJyBhcyBjb25zdCB9LFxuICAgICAgICAgICAgeyBzY29wZUNvbG9yOiAnc2xhdGVCbHVlJyBhcyBjb25zdCwgbG9nQ29sb3I6ICdwZXJpd2lua2xlJyBhcyBjb25zdCB9LFxuICAgICAgICAgICAgeyBzY29wZUNvbG9yOiAnY2hhcmNvYWwnIGFzIGNvbnN0LCBsb2dDb2xvcjogJ3NpbHZlcicgYXMgY29uc3QgfSxcbiAgICAgICAgICAgIHsgc2NvcGVDb2xvcjogJ3Zpb2xldCcgYXMgY29uc3QsIGxvZ0NvbG9yOiAnYnJpZ2h0TWFnZW50YScgYXMgY29uc3QgfSxcbiAgICAgICAgICAgIHsgc2NvcGVDb2xvcjogJ2RhcmtHcmF5JyBhcyBjb25zdCwgbG9nQ29sb3I6ICdsaWdodEdyYXknIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHNjb3BlQ29sb3I6ICdjb3JuZmxvd2VyJyBhcyBjb25zdCwgbG9nQ29sb3I6ICdwb3dkZXInIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHNjb3BlQ29sb3I6ICdzbGF0ZScgYXMgY29uc3QsIGxvZ0NvbG9yOiAnc21va2UnIGFzIGNvbnN0IH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgaGFzaCA9IHRoaXMuc2ltcGxlSGFzaChzY29wZU5hbWUpO1xuICAgICAgICBjb25zdCBwYWlySW5kZXggPSBoYXNoICUgY29sb3JQYWlycy5sZW5ndGg7XG4gICAgICAgIHJldHVybiBjb2xvclBhaXJzW3BhaXJJbmRleF07XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gVGVybWluYWwgV2lkdGggRGV0ZWN0aW9uXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgY3VycmVudCB0ZXJtaW5hbCB3aWR0aCBiYXNlZCBvbiBlbnZpcm9ubWVudFxuICAgICAqIFxuICAgICAqIFJldHVybnMgYXBwcm9wcmlhdGUgd2lkdGggZm9yIGRpZmZlcmVudCBlbnZpcm9ubWVudHM6XG4gICAgICogLSBOb2RlLmpzOiBVc2VzIHByb2Nlc3Muc3Rkb3V0LmNvbHVtbnMgaWYgYXZhaWxhYmxlXG4gICAgICogLSBCcm93c2VyOiBSZXR1cm5zIGJyb3dzZXIgZGVmYXVsdCB3aWR0aFxuICAgICAqIC0gRmFsbGJhY2s6IFJldHVybnMgZGVmYXVsdCB0ZXJtaW5hbCB3aWR0aFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFRlcm1pbmFsIHdpZHRoIGluIGNoYXJhY3RlcnNcbiAgICAgKi9cbiAgICBwcml2YXRlIGRldGVjdFRlcm1pbmFsV2lkdGgoKTogbnVtYmVyIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEJyb3dzZXIgZW52aXJvbm1lbnRcbiAgICAgICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdicm93c2VyJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBBX0xPR0dFUl9URVJNSU5BTC5CUk9XU0VSX0RFRkFVTFRfV0lEVEg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vZGUuanMgZW52aXJvbm1lbnQgLSB0cnkgdG8gZ2V0IGFjdHVhbCB0ZXJtaW5hbCB3aWR0aFxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLnN0ZG91dCAmJiBwcm9jZXNzLnN0ZG91dC5jb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29scyA9IHByb2Nlc3Muc3Rkb3V0LmNvbHVtbnM7XG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIG1pbmltdW0gd2lkdGggZm9yIHJlYWRhYmlsaXR5XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGNvbHMsIEFfTE9HR0VSX1RFUk1JTkFMLk1JTl9XSURUSCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGRlZmF1bHQgd2lkdGhcbiAgICAgICAgICAgIHJldHVybiBBX0xPR0dFUl9URVJNSU5BTC5ERUZBVUxUX1dJRFRIO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gSWYgYW55IGVycm9yIG9jY3VycywgZmFsbCBiYWNrIHRvIGRlZmF1bHQgd2lkdGhcbiAgICAgICAgICAgIHJldHVybiBBX0xPR0dFUl9URVJNSU5BTC5ERUZBVUxUX1dJRFRIO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JhcCB0ZXh0IHRvIGZpdCB3aXRoaW4gdGVybWluYWwgd2lkdGggd2hpbGUgcHJlc2VydmluZyBmb3JtYXR0aW5nXG4gICAgICogXG4gICAgICogQHBhcmFtIHRleHQgLSBUZXh0IHRvIHdyYXBcbiAgICAgKiBAcGFyYW0gc2NvcGVQYWRkaW5nIC0gVGhlIHNjb3BlIHBhZGRpbmcgc3RyaW5nIGZvciBhbGlnbm1lbnRcbiAgICAgKiBAcGFyYW0gaXNGaXJzdExpbmUgLSBXaGV0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGxpbmUgKGFmZmVjdHMgYXZhaWxhYmxlIHdpZHRoIGNhbGN1bGF0aW9uKVxuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIHdyYXBwZWQgbGluZXMgd2l0aCBwcm9wZXIgaW5kZW50YXRpb25cbiAgICAgKi9cbiAgICBwcml2YXRlIHdyYXBUZXh0KHRleHQ6IHN0cmluZywgc2NvcGVQYWRkaW5nOiBzdHJpbmcsIGlzRmlyc3RMaW5lOiBib29sZWFuID0gdHJ1ZSk6IHN0cmluZ1tdIHtcbiAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ2Jyb3dzZXInKSB7XG4gICAgICAgICAgICAvLyBJbiBicm93c2VyLCBkb24ndCB3cmFwIC0gbGV0IGJyb3dzZXIgY29uc29sZSBoYW5kbGUgaXRcbiAgICAgICAgICAgIHJldHVybiBbdGV4dF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxjdWxhdGUgYXZhaWxhYmxlIHdpZHRoIGZvciB0ZXh0IGNvbnRlbnRcbiAgICAgICAgLy8gRmlyc3QgbGluZTogdGVybWluYWxfd2lkdGggLSBzY29wZV9oZWFkZXJfbGVuZ3RoIChpbmNsdWRlcyBbc2NvcGVdIHx0aW1lfCBwYXJ0KVxuICAgICAgICAvLyBDb250aW51YXRpb24gbGluZXM6IHRlcm1pbmFsX3dpZHRoIC0gc2NvcGVfcGFkZGluZyAtIHBpcGVfbGVuZ3RoXG4gICAgICAgIGNvbnN0IHNjb3BlSGVhZGVyTGVuZ3RoID0gdGhpcy5mb3JtYXR0ZWRTY29wZS5sZW5ndGggKyA0ICsgdGhpcy5nZXRUaW1lKCkubGVuZ3RoICsgNDsgLy8gW3Njb3BlXSB8dGltZXwgXG4gICAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbkluZGVudCA9IGAke3Njb3BlUGFkZGluZ30ke0FfTE9HR0VSX0ZPUk1BVC5QSVBFfWA7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBmaXJzdExpbmVNYXhXaWR0aCA9IE1hdGgubWF4KHRoaXMuVEVSTUlOQUxfV0lEVEggLSBzY29wZUhlYWRlckxlbmd0aCAtIDEsIDIwKTsgLy8gLTEgZm9yIHNwYWNlXG4gICAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbk1heFdpZHRoID0gTWF0aC5tYXgodGhpcy5URVJNSU5BTF9XSURUSCAtIGNvbnRpbnVhdGlvbkluZGVudC5sZW5ndGgsIDIwKTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIHRleHQgZml0cyBvbiBmaXJzdCBsaW5lLCByZXR1cm4gYXMgaXNcbiAgICAgICAgaWYgKGlzRmlyc3RMaW5lICYmIHRleHQubGVuZ3RoIDw9IGZpcnN0TGluZU1heFdpZHRoKSB7XG4gICAgICAgICAgICByZXR1cm4gW3RleHRdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGNvbnN0IHdvcmRzID0gdGV4dC5zcGxpdCgnICcpO1xuICAgICAgICBsZXQgY3VycmVudExpbmUgPSAnJztcbiAgICAgICAgbGV0IGN1cnJlbnRNYXhXaWR0aCA9IGlzRmlyc3RMaW5lID8gZmlyc3RMaW5lTWF4V2lkdGggOiBjb250aW51YXRpb25NYXhXaWR0aDtcbiAgICAgICAgbGV0IGlzQ3VycmVudExpbmVGaXJzdCA9IGlzRmlyc3RMaW5lO1xuXG4gICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB3b3Jkcykge1xuICAgICAgICAgICAgY29uc3Qgc3BhY2VOZWVkZWQgPSBjdXJyZW50TGluZSA/IDEgOiAwOyAvLyBTcGFjZSBiZWZvcmUgd29yZFxuICAgICAgICAgICAgY29uc3QgdG90YWxMZW5ndGggPSBjdXJyZW50TGluZS5sZW5ndGggKyBzcGFjZU5lZWRlZCArIHdvcmQubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyBJZiBhZGRpbmcgdGhpcyB3b3JkIHdvdWxkIGV4Y2VlZCBjdXJyZW50IGxpbmUncyBtYXggd2lkdGhcbiAgICAgICAgICAgIGlmICh0b3RhbExlbmd0aCA+IGN1cnJlbnRNYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50TGluZSkge1xuICAgICAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKGN1cnJlbnRMaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudExpbmUgPSB3b3JkO1xuICAgICAgICAgICAgICAgICAgICAvLyBBZnRlciBmaXJzdCBsaW5lLCBhbGwgc3Vic2VxdWVudCBsaW5lcyB1c2UgY29udGludWF0aW9uIHdpZHRoXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNYXhXaWR0aCA9IGNvbnRpbnVhdGlvbk1heFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBpc0N1cnJlbnRMaW5lRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBXb3JkIGl0c2VsZiBpcyB0b28gbG9uZywgc3BsaXQgaXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmQubGVuZ3RoID4gY3VycmVudE1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaHVua3MgPSB0aGlzLnNwbGl0TG9uZ1dvcmQod29yZCwgY3VycmVudE1heFdpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goLi4uY2h1bmtzLnNsaWNlKDAsIC0xKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TGluZSA9IGNodW5rc1tjaHVua3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TGluZSA9IHdvcmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1heFdpZHRoID0gY29udGludWF0aW9uTWF4V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGlzQ3VycmVudExpbmVGaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVudExpbmUgKz0gKGN1cnJlbnRMaW5lID8gJyAnIDogJycpICsgd29yZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50TGluZSkge1xuICAgICAgICAgICAgbGluZXMucHVzaChjdXJyZW50TGluZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGluZXMubGVuZ3RoID8gbGluZXMgOiBbdGV4dF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3BsaXQgYSBsb25nIHdvcmQgdGhhdCBkb2Vzbid0IGZpdCBvbiBhIHNpbmdsZSBsaW5lXG4gICAgICogXG4gICAgICogQHBhcmFtIHdvcmQgLSBXb3JkIHRvIHNwbGl0XG4gICAgICogQHBhcmFtIG1heExlbmd0aCAtIE1heGltdW0gbGVuZ3RoIHBlciBjaHVua1xuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIHdvcmQgY2h1bmtzXG4gICAgICovXG4gICAgcHJpdmF0ZSBzcGxpdExvbmdXb3JkKHdvcmQ6IHN0cmluZywgbWF4TGVuZ3RoOiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IGNodW5rczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JkLmxlbmd0aDsgaSArPSBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgIGNodW5rcy5wdXNoKHdvcmQuc2xpY2UoaSwgaSArIG1heExlbmd0aCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaHVua3M7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gRmFjdG9yeSBNZXRob2RzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBTY29wZSBhbmQgRm9ybWF0dGluZyBVdGlsaXRpZXNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZm9ybWF0dGVkIHNjb3BlIGxlbmd0aCBmb3IgY29uc2lzdGVudCBtZXNzYWdlIGFsaWdubWVudFxuICAgICAqIFVzZXMgYSBzdGFuZGFyZCBsZW5ndGggdG8gZW5zdXJlIGFsbCBtZXNzYWdlcyBhbGlnbiBwcm9wZXJseSByZWdhcmRsZXNzIG9mIHNjb3BlIG5hbWVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBUaGUgc2NvcGUgbGVuZ3RoIHRvIHVzZSBmb3IgcGFkZGluZyBjYWxjdWxhdGlvbnNcbiAgICAgKi9cbiAgICBnZXQgc2NvcGVMZW5ndGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMuc2NvcGUubmFtZS5sZW5ndGgsIHRoaXMuU1RBTkRBUkRfU0NPUEVfTEVOR1RIKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZvcm1hdHRlZCBzY29wZSBuYW1lIHdpdGggcHJvcGVyIHBhZGRpbmcsIGNlbnRlcmVkIHdpdGhpbiB0aGUgY29udGFpbmVyXG4gICAgICogRW5zdXJlcyBjb25zaXN0ZW50IHdpZHRoIGZvciBhbGwgc2NvcGUgbmFtZXMgaW4gbG9nIG91dHB1dCB3aXRoIGNlbnRlcmVkIGFsaWdubWVudFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIENlbnRlcmVkIGFuZCBwYWRkZWQgc2NvcGUgbmFtZSBmb3IgY29uc2lzdGVudCBmb3JtYXR0aW5nXG4gICAgICovXG4gICAgZ2V0IGZvcm1hdHRlZFNjb3BlKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHNjb3BlTmFtZSA9IHRoaXMuc2NvcGUubmFtZTtcbiAgICAgICAgY29uc3QgdG90YWxMZW5ndGggPSB0aGlzLlNUQU5EQVJEX1NDT1BFX0xFTkdUSDtcblxuICAgICAgICAvLyBJZiBzY29wZSBuYW1lIGlzIGxvbmdlciB0aGFuIHN0YW5kYXJkIGxlbmd0aCwgdHJ1bmNhdGUgaXRcbiAgICAgICAgaWYgKHNjb3BlTmFtZS5sZW5ndGggPj0gdG90YWxMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBzY29wZU5hbWUuc3Vic3RyaW5nKDAsIHRvdGFsTGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBwYWRkaW5nIGZvciBjZW50ZXJpbmdcbiAgICAgICAgY29uc3QgdG90YWxQYWRkaW5nID0gdG90YWxMZW5ndGggLSBzY29wZU5hbWUubGVuZ3RoO1xuICAgICAgICBjb25zdCBsZWZ0UGFkZGluZyA9IE1hdGguZmxvb3IodG90YWxQYWRkaW5nIC8gMik7XG4gICAgICAgIGNvbnN0IHJpZ2h0UGFkZGluZyA9IHRvdGFsUGFkZGluZyAtIGxlZnRQYWRkaW5nO1xuXG4gICAgICAgIHJldHVybiAnICcucmVwZWF0KGxlZnRQYWRkaW5nKSArIHNjb3BlTmFtZSArICcgJy5yZXBlYXQocmlnaHRQYWRkaW5nKTtcbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIE1lc3NhZ2UgQ29tcGlsYXRpb24gYW5kIEZvcm1hdHRpbmdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIENvbXBpbGUgbG9nIGFyZ3VtZW50cyBpbnRvIGZvcm1hdHRlZCBjb25zb2xlIG91dHB1dCB3aXRoIGNvbG9ycyBhbmQgcHJvcGVyIGFsaWdubWVudFxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIGhhbmRsZXMgdGhlIGNvcmUgZm9ybWF0dGluZyBsb2dpYyBmb3IgYWxsIGxvZyBtZXNzYWdlczpcbiAgICAgKiAtIEFwcGxpZXMgc2VwYXJhdGUgY29sb3JzIGZvciBzY29wZSBhbmQgbWVzc2FnZSBjb250ZW50XG4gICAgICogLSBGb3JtYXRzIHNjb3BlIG5hbWVzIHdpdGggY29uc2lzdGVudCBwYWRkaW5nXG4gICAgICogLSBIYW5kbGVzIGRpZmZlcmVudCBkYXRhIHR5cGVzIGFwcHJvcHJpYXRlbHlcbiAgICAgKiAtIE1haW50YWlucyBwcm9wZXIgaW5kZW50YXRpb24gZm9yIG11bHRpLWxpbmUgY29udGVudFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBtZXNzYWdlQ29sb3IgLSBUaGUgY29sb3Iga2V5IHRvIGFwcGx5IHRvIHRoZSBtZXNzYWdlIGNvbnRlbnRcbiAgICAgKiBAcGFyYW0gYXJncyAtIFZhcmlhYmxlIGFyZ3VtZW50cyB0byBmb3JtYXQgYW5kIGRpc3BsYXlcbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiBmb3JtYXR0ZWQgc3RyaW5ncyBhbmQvb3Igb2JqZWN0cyByZWFkeSBmb3IgY29uc29sZSBvdXRwdXRcbiAgICAgKi9cbiAgICBjb21waWxlKFxuICAgICAgICBtZXNzYWdlQ29sb3I6IGtleW9mIHR5cGVvZiB0aGlzLkNPTE9SUyxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBBcnJheTxhbnk+IHtcbiAgICAgICAgY29uc3QgdGltZVN0cmluZyA9IHRoaXMuZ2V0VGltZSgpO1xuICAgICAgICAvLyBDYWxjdWxhdGUgcGFkZGluZyBiYXNlZCBvbiBhY3R1YWwgZGlzcGxheWVkIHNjb3BlIHdpZHRoIChTVEFOREFSRF9TQ09QRV9MRU5HVEgpXG4gICAgICAgIC8vIFBsdXMgMyBmb3IgdGhlIGJyYWNrZXRzIGFuZCBzcGFjZTogW3Njb3BlXSBcbiAgICAgICAgY29uc3Qgc2NvcGVQYWRkaW5nID0gJyAnLnJlcGVhdCh0aGlzLlNUQU5EQVJEX1NDT1BFX0xFTkdUSCArIDMpO1xuICAgICAgICBjb25zdCBpc011bHRpQXJnID0gYXJncy5sZW5ndGggPiAxO1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAvLyBIZWFkZXIgd2l0aCBzZXBhcmF0ZSBjb2xvcnMgZm9yIHNjb3BlIGFuZCBtZXNzYWdlIGNvbnRlbnRcbiAgICAgICAgICAgIGAke0FfTE9HR0VSX0FOU0kuUFJFRklYfSR7dGhpcy5DT0xPUlNbdGhpcy5ERUZBVUxUX1NDT1BFX0NPTE9SXX0ke0FfTE9HR0VSX0FOU0kuU1VGRklYfSR7QV9MT0dHRVJfRk9STUFULlNDT1BFX09QRU59JHt0aGlzLmZvcm1hdHRlZFNjb3BlfSR7QV9MT0dHRVJfRk9STUFULlNDT1BFX0NMT1NFfSR7QV9MT0dHRVJfQU5TSS5SRVNFVH0gJHtBX0xPR0dFUl9BTlNJLlBSRUZJWH0ke3RoaXMuQ09MT1JTW21lc3NhZ2VDb2xvcl19JHtBX0xPR0dFUl9BTlNJLlNVRkZJWH0ke0FfTE9HR0VSX0ZPUk1BVC5USU1FX09QRU59JHt0aW1lU3RyaW5nfSR7QV9MT0dHRVJfRk9STUFULlRJTUVfQ0xPU0V9YCxcblxuICAgICAgICAgICAgLy8gVG9wIHNlcGFyYXRvciBmb3IgbXVsdGktYXJndW1lbnQgbWVzc2FnZXNcbiAgICAgICAgICAgIGlzTXVsdGlBcmcgPyAnXFxuJyArIGAke3Njb3BlUGFkZGluZ30ke0FfTE9HR0VSX0ZPUk1BVC5USU1FX09QRU59JHtBX0xPR0dFUl9GT1JNQVQuU0VQQVJBVE9SfWAgOiAnJyxcblxuICAgICAgICAgICAgLy8gUHJvY2VzcyBlYWNoIGFyZ3VtZW50IHdpdGggYXBwcm9wcmlhdGUgZm9ybWF0dGluZ1xuICAgICAgICAgICAgLi4uYXJncy5tYXAoKGFyZywgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZEFkZE5ld2xpbmUgPSBpID4gMCB8fCBpc011bHRpQXJnO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgYXJnIGluc3RhbmNlb2YgQV9FcnJvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVfQV9FcnJvcihhcmcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgYXJnIGluc3RhbmNlb2YgRXJyb3I6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21waWxlX0Vycm9yKGFyZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRPYmplY3QoYXJnLCBzaG91bGRBZGROZXdsaW5lLCBzY29wZVBhZGRpbmcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRTdHJpbmcoU3RyaW5nKGFyZyksIHNob3VsZEFkZE5ld2xpbmUsIHNjb3BlUGFkZGluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIC8vIEJvdHRvbSBzZXBhcmF0b3IgYW5kIGNvbG9yIHJlc2V0XG4gICAgICAgICAgICBpc011bHRpQXJnXG4gICAgICAgICAgICAgICAgPyAnXFxuJyArIGAke3Njb3BlUGFkZGluZ30ke0FfTE9HR0VSX0ZPUk1BVC5USU1FX09QRU59JHtBX0xPR0dFUl9GT1JNQVQuU0VQQVJBVE9SfSR7QV9MT0dHRVJfQU5TSS5SRVNFVH1gXG4gICAgICAgICAgICAgICAgOiBBX0xPR0dFUl9BTlNJLlJFU0VUXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IGFuIG9iamVjdCBmb3IgZGlzcGxheSB3aXRoIHByb3BlciBKU09OIGluZGVudGF0aW9uIGFuZCB0ZXJtaW5hbCB3aWR0aCBhd2FyZW5lc3NcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gb2JqIC0gVGhlIG9iamVjdCB0byBmb3JtYXRcbiAgICAgKiBAcGFyYW0gc2hvdWxkQWRkTmV3bGluZSAtIFdoZXRoZXIgdG8gYWRkIGEgbmV3bGluZSBwcmVmaXhcbiAgICAgKiBAcGFyYW0gc2NvcGVQYWRkaW5nIC0gVGhlIHBhZGRpbmcgc3RyaW5nIGZvciBjb25zaXN0ZW50IGFsaWdubWVudFxuICAgICAqIEByZXR1cm5zIEZvcm1hdHRlZCBvYmplY3Qgc3RyaW5nIG9yIHRoZSBvYmplY3QgaXRzZWxmIGZvciBicm93c2VyIGVudmlyb25tZW50c1xuICAgICAqL1xuICAgIHByaXZhdGUgZm9ybWF0T2JqZWN0KG9iajogYW55LCBzaG91bGRBZGROZXdsaW5lOiBib29sZWFuLCBzY29wZVBhZGRpbmc6IHN0cmluZyk6IGFueSB7XG5cbiAgICAgICAgLy8gSW4gY2FzZSBpdCdzIGJyb3dzZXIsIHJldHVybiB0aGUgb2JqZWN0IGFzIGlzIHRvIHVzZSBuYXRpdmUgY29uc29sZSBvYmplY3QgcmVuZGVyaW5nXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIHRoZSBicm93c2VyIGNvbnNvbGUgdG8gZGlzcGxheSBvYmplY3RzIHdpdGggaXRzIG5hdGl2ZSBpbnRlcmFjdGl2ZSBmZWF0dXJlc1xuICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnYnJvd3NlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgbnVsbCBhbmQgdW5kZWZpbmVkIHZhbHVlc1xuICAgICAgICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gc2hvdWxkQWRkTmV3bGluZSA/IGBcXG4ke3Njb3BlUGFkZGluZ30ke0FfTE9HR0VSX0ZPUk1BVC5QSVBFfW51bGxgIDogJ251bGwnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHNob3VsZEFkZE5ld2xpbmUgPyBgXFxuJHtzY29wZVBhZGRpbmd9JHtBX0xPR0dFUl9GT1JNQVQuUElQRX11bmRlZmluZWRgIDogJ3VuZGVmaW5lZCc7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQganNvblN0cmluZzogc3RyaW5nO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAganNvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgb3RoZXIgSlNPTiBlcnJvcnNcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VlbiA9IG5ldyBXZWFrU2V0KCk7XG4gICAgICAgICAgICAgICAganNvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KG9iaiwgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWVuLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhciBSZWZlcmVuY2VdJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZW4uYWRkKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSwgMik7XG4gICAgICAgICAgICB9IGNhdGNoIChmYWxsYmFja0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgYWxsIGVsc2UgZmFpbHMsIGNvbnZlcnQgdG8gc3RyaW5nXG4gICAgICAgICAgICAgICAganNvblN0cmluZyA9IFN0cmluZyhvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwbHkgdGVybWluYWwgd2lkdGggd3JhcHBpbmcgdG8gbG9uZyBKU09OIHN0cmluZyB2YWx1ZXNcbiAgICAgICAgY29uc3QgY29udGludWF0aW9uSW5kZW50ID0gYCR7c2NvcGVQYWRkaW5nfSR7QV9MT0dHRVJfRk9STUFULlBJUEV9YDtcbiAgICAgICAgY29uc3QgbWF4SnNvbkxpbmVXaWR0aCA9IHRoaXMuVEVSTUlOQUxfV0lEVEggLSBjb250aW51YXRpb25JbmRlbnQubGVuZ3RoIC0gNDsgLy8gLTQgZm9yIEpTT04gaW5kZW50YXRpb25cbiAgICAgICAgXG4gICAgICAgIC8vIFNwbGl0IGludG8gbGluZXMgYW5kIHdyYXAgbG9uZyBzdHJpbmcgdmFsdWVzXG4gICAgICAgIGNvbnN0IGxpbmVzID0ganNvblN0cmluZy5zcGxpdCgnXFxuJykubWFwKGxpbmUgPT4ge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBsaW5lIGNvbnRhaW5zIGEgbG9uZyBzdHJpbmcgdmFsdWVcbiAgICAgICAgICAgIGNvbnN0IHN0cmluZ1ZhbHVlTWF0Y2ggPSBsaW5lLm1hdGNoKC9eKFxccypcIlteXCJdK1wiOlxccypcIikoW15cIl0rKShcIi4qKT8kLyk7XG4gICAgICAgICAgICBpZiAoc3RyaW5nVmFsdWVNYXRjaCAmJiBzdHJpbmdWYWx1ZU1hdGNoWzJdLmxlbmd0aCA+IG1heEpzb25MaW5lV2lkdGggLSBzdHJpbmdWYWx1ZU1hdGNoWzFdLmxlbmd0aCAtIChzdHJpbmdWYWx1ZU1hdGNoWzNdIHx8ICcnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbLCBwcmVmaXgsIHZhbHVlLCBzdWZmaXggPSAnJ10gPSBzdHJpbmdWYWx1ZU1hdGNoO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFdyYXAgdGhlIHN0cmluZyB2YWx1ZSBpZiBpdCdzIHRvbyBsb25nXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IG1heEpzb25MaW5lV2lkdGggLSBwcmVmaXgubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3cmFwcGVkVmFsdWUgPSB0aGlzLndyYXBKc29uU3RyaW5nVmFsdWUodmFsdWUsIG1heEpzb25MaW5lV2lkdGggLSBwcmVmaXgubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyB3cmFwcGVkVmFsdWUgKyBzdWZmaXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IGxpbmVzLmpvaW4oJ1xcbicgKyBjb250aW51YXRpb25JbmRlbnQpO1xuICAgICAgICByZXR1cm4gc2hvdWxkQWRkTmV3bGluZSA/ICdcXG4nICsgY29udGludWF0aW9uSW5kZW50ICsgZm9ybWF0dGVkIDogZm9ybWF0dGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyYXAgYSBsb25nIEpTT04gc3RyaW5nIHZhbHVlIHdoaWxlIHByZXNlcnZpbmcgcmVhZGFiaWxpdHlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgc3RyaW5nIHZhbHVlIHRvIHdyYXBcbiAgICAgKiBAcGFyYW0gbWF4V2lkdGggLSBNYXhpbXVtIHdpZHRoIGZvciB0aGUgdmFsdWVcbiAgICAgKiBAcmV0dXJucyBXcmFwcGVkIHN0cmluZyB2YWx1ZVxuICAgICAqL1xuICAgIHByaXZhdGUgd3JhcEpzb25TdHJpbmdWYWx1ZSh2YWx1ZTogc3RyaW5nLCBtYXhXaWR0aDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8PSBtYXhXaWR0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBGb3IgSlNPTiBzdHJpbmcgdmFsdWVzLCB0cnVuY2F0ZSB3aXRoIGVsbGlwc2lzIHRvIG1haW50YWluIEpTT04gdmFsaWRpdHlcbiAgICAgICAgLy8gVGhpcyBwcmV2ZW50cyB0aGUgSlNPTiBmcm9tIGJlY29taW5nIHVucmVhZGFibGUgZHVlIHRvIGV4Y2Vzc2l2ZSB3cmFwcGluZ1xuICAgICAgICAvLyB3aGlsZSBzdGlsbCBzaG93aW5nIHRoZSBtb3N0IGltcG9ydGFudCBwYXJ0IG9mIHRoZSBzdHJpbmdcbiAgICAgICAgaWYgKG1heFdpZHRoID4gNikgeyAvLyBFbnN1cmUgd2UgaGF2ZSByb29tIGZvciBlbGxpcHNpc1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cmluZygwLCBtYXhXaWR0aCAtIDMpICsgJy4uLic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBtYXhXaWR0aCBpcyB2ZXJ5IHNtYWxsLCBqdXN0IHJldHVybiB0cnVuY2F0ZWQgdmFsdWVcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHJpbmcoMCwgTWF0aC5tYXgoMSwgbWF4V2lkdGgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvcm1hdCBhIHN0cmluZyBmb3IgZGlzcGxheSB3aXRoIHByb3BlciBpbmRlbnRhdGlvbiBhbmQgdGVybWluYWwgd2lkdGggd3JhcHBpbmdcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RyIC0gVGhlIHN0cmluZyB0byBmb3JtYXRcbiAgICAgKiBAcGFyYW0gc2hvdWxkQWRkTmV3bGluZSAtIFdoZXRoZXIgdG8gYWRkIGEgbmV3bGluZSBwcmVmaXhcbiAgICAgKiBAcGFyYW0gc2NvcGVQYWRkaW5nIC0gVGhlIHBhZGRpbmcgc3RyaW5nIGZvciBjb25zaXN0ZW50IGFsaWdubWVudFxuICAgICAqIEByZXR1cm5zIEZvcm1hdHRlZCBzdHJpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGZvcm1hdFN0cmluZyhzdHI6IHN0cmluZywgc2hvdWxkQWRkTmV3bGluZTogYm9vbGVhbiwgc2NvcGVQYWRkaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICAvLyBJbiBicm93c2VyIGVudmlyb25tZW50LCBrZWVwIHNpbXBsZSBmb3JtYXR0aW5nXG4gICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdicm93c2VyJykge1xuICAgICAgICAgICAgY29uc3QgcHJlZml4ID0gc2hvdWxkQWRkTmV3bGluZSA/ICdcXG4nIDogJyc7XG4gICAgICAgICAgICByZXR1cm4gKHByZWZpeCArIHN0cikucmVwbGFjZSgvXFxuL2csICdcXG4nICsgYCR7c2NvcGVQYWRkaW5nfSR7QV9MT0dHRVJfRk9STUFULlBJUEV9YCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3IgdGVybWluYWwsIGFwcGx5IGludGVsbGlnZW50IHRleHQgd3JhcHBpbmdcbiAgICAgICAgY29uc3Qgd3JhcHBlZExpbmVzID0gdGhpcy53cmFwVGV4dChzdHIsIHNjb3BlUGFkZGluZywgIXNob3VsZEFkZE5ld2xpbmUpO1xuICAgICAgICBjb25zdCBjb250aW51YXRpb25JbmRlbnQgPSBgJHtzY29wZVBhZGRpbmd9JHtBX0xPR0dFUl9GT1JNQVQuUElQRX1gO1xuICAgICAgICBcbiAgICAgICAgLy8gRm9ybWF0IHRoZSB3cmFwcGVkIGxpbmVzIHdpdGggcHJvcGVyIGluZGVudGF0aW9uXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZExpbmVzID0gd3JhcHBlZExpbmVzLm1hcCgobGluZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCAmJiAhc2hvdWxkQWRkTmV3bGluZSkge1xuICAgICAgICAgICAgICAgIC8vIEZpcnN0IGxpbmUgaW4gaW5saW5lIG1vZGUgKG5vIG5ld2xpbmUgcHJlZml4KVxuICAgICAgICAgICAgICAgIHJldHVybiBsaW5lO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDb250aW51YXRpb24gbGluZXMgb3IgZmlyc3QgbGluZSB3aXRoIG5ld2xpbmUgcHJlZml4XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2NvbnRpbnVhdGlvbkluZGVudH0ke2xpbmV9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2hvdWxkQWRkTmV3bGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICdcXG4nICsgZm9ybWF0dGVkTGluZXMuam9pbignXFxuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVkTGluZXMuam9pbignXFxuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBMb2cgTGV2ZWwgTWFuYWdlbWVudFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIGlmIGEgbG9nIG1lc3NhZ2Ugc2hvdWxkIGJlIG91dHB1dCBiYXNlZCBvbiBjb25maWd1cmVkIGxvZyBsZXZlbFxuICAgICAqIFxuICAgICAqIExvZyBsZXZlbCBoaWVyYXJjaHk6XG4gICAgICogLSBkZWJ1ZzogU2hvd3MgYWxsIG1lc3NhZ2VzIChkZWJ1ZywgaW5mbywgd2FybmluZywgZXJyb3IpXG4gICAgICogLSBpbmZvOiBTaG93cyBpbmZvLCB3YXJuaW5nLCBhbmQgZXJyb3IgbWVzc2FnZXNcbiAgICAgKiAtIHdhcm46IFNob3dzIHdhcm5pbmcgYW5kIGVycm9yIG1lc3NhZ2VzIG9ubHlcbiAgICAgKiAtIGVycm9yOiBTaG93cyBlcnJvciBtZXNzYWdlcyBvbmx5XG4gICAgICogLSBhbGw6IFNob3dzIGFsbCBtZXNzYWdlcyAoYWxpYXMgZm9yIGRlYnVnKVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBsb2dNZXRob2QgLSBUaGUgdHlwZSBvZiBsb2cgbWV0aG9kIGJlaW5nIGNhbGxlZFxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIG1lc3NhZ2Ugc2hvdWxkIGJlIGxvZ2dlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHNob3VsZExvZyhsb2dNZXRob2Q6ICdkZWJ1ZycgfCAnaW5mbycgfCAnd2FybmluZycgfCAnZXJyb3InKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHNob3VsZExvZzogQV9Mb2dnZXJMZXZlbCA9IHRoaXMuY29uZmlnPy5nZXQoQV9MT0dHRVJfRU5WX0tFWVMuTE9HX0xFVkVMKSB8fCAnaW5mbyc7XG5cbiAgICAgICAgc3dpdGNoIChzaG91bGRMb2cpIHtcbiAgICAgICAgICAgIGNhc2UgJ2RlYnVnJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGNhc2UgJ2luZm8nOlxuICAgICAgICAgICAgICAgIHJldHVybiBsb2dNZXRob2QgPT09ICdpbmZvJyB8fCBsb2dNZXRob2QgPT09ICd3YXJuaW5nJyB8fCBsb2dNZXRob2QgPT09ICdlcnJvcic7XG4gICAgICAgICAgICBjYXNlICd3YXJuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9nTWV0aG9kID09PSAnd2FybmluZycgfHwgbG9nTWV0aG9kID09PSAnZXJyb3InO1xuICAgICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgICAgIHJldHVybiBsb2dNZXRob2QgPT09ICdlcnJvcic7XG4gICAgICAgICAgICBjYXNlICdhbGwnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFB1YmxpYyBMb2dnaW5nIE1ldGhvZHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIERlYnVnIGxvZ2dpbmcgbWV0aG9kIHdpdGggb3B0aW9uYWwgY29sb3Igc3BlY2lmaWNhdGlvblxuICAgICAqIE9ubHkgbG9ncyB3aGVuIGRlYnVnIGxldmVsIGlzIGVuYWJsZWRcbiAgICAgKiBcbiAgICAgKiBTdXBwb3J0cyB0d28gdXNhZ2UgcGF0dGVybnM6XG4gICAgICogMS4gZGVidWcobWVzc2FnZSwgLi4uYXJncykgLSBVc2VzIGluc3RhbmNlJ3MgZGVmYXVsdCBsb2cgY29sb3JcbiAgICAgKiAyLiBkZWJ1Zyhjb2xvciwgbWVzc2FnZSwgLi4uYXJncykgLSBVc2VzIHNwZWNpZmllZCBjb2xvciBmb3IgbWVzc2FnZSBjb250ZW50IG9ubHlcbiAgICAgKiBcbiAgICAgKiBOb3RlOiBUaGUgc2NvcGUgY29sb3IgYWx3YXlzIHJlbWFpbnMgdGhlIGluc3RhbmNlJ3MgZGVmYXVsdCBzY29wZSBjb2xvcixcbiAgICAgKiBvbmx5IHRoZSBtZXNzYWdlIGNvbnRlbnQgY29sb3IgY2hhbmdlcyB3aGVuIGV4cGxpY2l0bHkgc3BlY2lmaWVkLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb2xvciAtIE9wdGlvbmFsIGNvbG9yIG5hbWUgZnJvbSBBX0xvZ2dlckNvbG9yTmFtZSBlbnVtIG9yIHRoZSBmaXJzdCBtZXNzYWdlIGFyZ3VtZW50XG4gICAgICogQHBhcmFtIGFyZ3MgLSBBZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBsb2dcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBsb2dnZXIuZGVidWcoJ0RlYnVnIGluZm9ybWF0aW9uJyk7IC8vIFVzZXMgaW5zdGFuY2UgZGVmYXVsdCBjb2xvcnNcbiAgICAgKiBsb2dnZXIuZGVidWcoJ2dyYXknLCAnRGVidWcgbWVzc2FnZScpOyAvLyBHcmF5IG1lc3NhZ2UsIHNjb3BlIHN0YXlzIGluc3RhbmNlIGNvbG9yXG4gICAgICogbG9nZ2VyLmRlYnVnKCdQcm9jZXNzaW5nIHVzZXI6JywgeyBpZDogMSwgbmFtZTogJ0pvaG4nIH0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGRlYnVnKGNvbG9yOiBBX0xvZ2dlckNvbG9yTmFtZSwgLi4uYXJnczogYW55W10pOiB2b2lkO1xuICAgIGRlYnVnKC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbiAgICBkZWJ1ZyhwYXJhbTE6IGFueSwgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZExvZygnZGVidWcnKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGZpcnN0IHBhcmFtZXRlciBpcyBhIHZhbGlkIGNvbG9yIGtleVxuICAgICAgICBpZiAodHlwZW9mIHBhcmFtMSA9PT0gJ3N0cmluZycgJiYgdGhpcy5DT0xPUlNbcGFyYW0xIGFzIGtleW9mIHR5cGVvZiB0aGlzLkNPTE9SU10pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKC4uLnRoaXMuY29tcGlsZShwYXJhbTEgYXMga2V5b2YgdHlwZW9mIHRoaXMuQ09MT1JTLCAuLi5hcmdzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBVc2UgaW5zdGFuY2UncyBkZWZhdWx0IGxvZyBjb2xvciBhbmQgdHJlYXQgcGFyYW0xIGFzIGZpcnN0IG1lc3NhZ2UgYXJndW1lbnRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKC4uLnRoaXMuY29tcGlsZSh0aGlzLkRFRkFVTFRfTE9HX0NPTE9SLCBwYXJhbTEsIC4uLmFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZm8gbG9nZ2luZyBtZXRob2Qgd2l0aCBvcHRpb25hbCBjb2xvciBzcGVjaWZpY2F0aW9uXG4gICAgICogTG9ncyB3aXRob3V0IGFueSByZXN0cmljdGlvbnMgKGFsd2F5cyBzaG93cyByZWdhcmRsZXNzIG9mIGxvZyBsZXZlbClcbiAgICAgKiBcbiAgICAgKiBTdXBwb3J0cyB0d28gdXNhZ2UgcGF0dGVybnM6XG4gICAgICogMS4gaW5mbyhtZXNzYWdlLCAuLi5hcmdzKSAtIFVzZXMgaW5zdGFuY2UncyBkZWZhdWx0IGxvZyBjb2xvclxuICAgICAqIDIuIGluZm8oY29sb3IsIG1lc3NhZ2UsIC4uLmFyZ3MpIC0gVXNlcyBzcGVjaWZpZWQgY29sb3IgZm9yIG1lc3NhZ2UgY29udGVudCBvbmx5XG4gICAgICogXG4gICAgICogTm90ZTogVGhlIHNjb3BlIGNvbG9yIGFsd2F5cyByZW1haW5zIHRoZSBpbnN0YW5jZSdzIGRlZmF1bHQgc2NvcGUgY29sb3IsXG4gICAgICogb25seSB0aGUgbWVzc2FnZSBjb250ZW50IGNvbG9yIGNoYW5nZXMgd2hlbiBleHBsaWNpdGx5IHNwZWNpZmllZC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29sb3IgLSBPcHRpb25hbCBjb2xvciBuYW1lIGZyb20gQV9Mb2dnZXJDb2xvck5hbWUgZW51bSBvciB0aGUgZmlyc3QgbWVzc2FnZSBhcmd1bWVudFxuICAgICAqIEBwYXJhbSBhcmdzIC0gQWRkaXRpb25hbCBhcmd1bWVudHMgdG8gbG9nXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogbG9nZ2VyLmluZm8oJ0hlbGxvIFdvcmxkJyk7IC8vIFVzZXMgaW5zdGFuY2UgZGVmYXVsdCBjb2xvcnNcbiAgICAgKiBsb2dnZXIuaW5mbygnZ3JlZW4nLCAnU3VjY2VzcyBtZXNzYWdlJyk7IC8vIEdyZWVuIG1lc3NhZ2UsIHNjb3BlIHN0YXlzIGluc3RhbmNlIGNvbG9yXG4gICAgICogbG9nZ2VyLmluZm8oJ1Byb2Nlc3NpbmcgdXNlcjonLCB7IGlkOiAxLCBuYW1lOiAnSm9obicgfSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgaW5mbyhjb2xvcjogQV9Mb2dnZXJDb2xvck5hbWUsIC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbiAgICBpbmZvKC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbiAgICBpbmZvKHBhcmFtMTogYW55LCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkTG9nKCdpbmZvJykpIHJldHVybjtcblxuICAgICAgICAvLyBDaGVjayBpZiBmaXJzdCBwYXJhbWV0ZXIgaXMgYSB2YWxpZCBjb2xvciBrZXlcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbTEgPT09ICdzdHJpbmcnICYmIHRoaXMuQ09MT1JTW3BhcmFtMSBhcyBrZXlvZiB0eXBlb2YgdGhpcy5DT0xPUlNdKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyguLi50aGlzLmNvbXBpbGUocGFyYW0xIGFzIGtleW9mIHR5cGVvZiB0aGlzLkNPTE9SUywgLi4uYXJncykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVXNlIGluc3RhbmNlJ3MgZGVmYXVsdCBsb2cgY29sb3IgYW5kIHRyZWF0IHBhcmFtMSBhcyBmaXJzdCBtZXNzYWdlIGFyZ3VtZW50XG4gICAgICAgICAgICBjb25zb2xlLmxvZyguLi50aGlzLmNvbXBpbGUodGhpcy5ERUZBVUxUX0xPR19DT0xPUiwgcGFyYW0xLCAuLi5hcmdzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMZWdhY3kgbG9nIG1ldGhvZCAoa2VwdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgaW5mbygpIG1ldGhvZCBpbnN0ZWFkXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbG9yIC0gT3B0aW9uYWwgY29sb3IgbmFtZSBmcm9tIEFfTG9nZ2VyQ29sb3JOYW1lIGVudW0gb3IgdGhlIGZpcnN0IG1lc3NhZ2UgYXJndW1lbnRcbiAgICAgKiBAcGFyYW0gYXJncyAtIEFkZGl0aW9uYWwgYXJndW1lbnRzIHRvIGxvZ1xuICAgICAqL1xuICAgIGxvZyhjb2xvcjogQV9Mb2dnZXJDb2xvck5hbWUsIC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbiAgICBsb2coLi4uYXJnczogYW55W10pOiB2b2lkO1xuICAgIGxvZyhwYXJhbTE6IGFueSwgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgLy8gRGVsZWdhdGUgdG8gaW5mbyBtZXRob2QgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAgICAgdGhpcy5pbmZvKHBhcmFtMSwgLi4uYXJncyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9nIHdhcm5pbmcgbWVzc2FnZXMgd2l0aCB5ZWxsb3cgY29sb3IgY29kaW5nXG4gICAgICogXG4gICAgICogVXNlIGZvciBub24tY3JpdGljYWwgaXNzdWVzIHRoYXQgc2hvdWxkIGJlIGJyb3VnaHQgdG8gYXR0ZW50aW9uXG4gICAgICogYnV0IGRvbid0IHByZXZlbnQgbm9ybWFsIG9wZXJhdGlvblxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhcmdzIC0gQXJndW1lbnRzIHRvIGxvZyBhcyB3YXJuaW5nc1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGxvZ2dlci53YXJuaW5nKCdEZXByZWNhdGVkIG1ldGhvZCB1c2VkJyk7XG4gICAgICogbG9nZ2VyLndhcm5pbmcoJ1JhdGUgbGltaXQgYXBwcm9hY2hpbmc6JywgeyBjdXJyZW50OiA5NSwgbGltaXQ6IDEwMCB9KTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICB3YXJuaW5nKC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRMb2coJ3dhcm5pbmcnKSkgcmV0dXJuO1xuICAgICAgICBjb25zb2xlLmxvZyguLi50aGlzLmNvbXBpbGUoJ3llbGxvdycsIC4uLmFyZ3MpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2cgZXJyb3IgbWVzc2FnZXMgd2l0aCByZWQgY29sb3IgY29kaW5nXG4gICAgICogXG4gICAgICogVXNlIGZvciBjcml0aWNhbCBpc3N1ZXMsIGV4Y2VwdGlvbnMsIGFuZCBmYWlsdXJlcyB0aGF0IG5lZWQgaW1tZWRpYXRlIGF0dGVudGlvblxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhcmdzIC0gQXJndW1lbnRzIHRvIGxvZyBhcyBlcnJvcnNcbiAgICAgKiBAcmV0dXJucyB2b2lkIChmb3IgY29tcGF0aWJpbGl0eSB3aXRoIGNvbnNvbGUubG9nKVxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGxvZ2dlci5lcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICAgKiBsb2dnZXIuZXJyb3IobmV3IEVycm9yKCdWYWxpZGF0aW9uIGZhaWxlZCcpKTtcbiAgICAgKiBsb2dnZXIuZXJyb3IoJ0NyaXRpY2FsIGVycm9yOicsIGVycm9yLCB7IGNvbnRleHQ6ICd1c2VyLXJlZ2lzdHJhdGlvbicgfSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZXJyb3IoLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZExvZygnZXJyb3InKSkgcmV0dXJuO1xuICAgICAgICBjb25zb2xlLmxvZyguLi50aGlzLmNvbXBpbGUoJ3JlZCcsIC4uLmFyZ3MpKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBTcGVjaWFsaXplZCBFcnJvciBGb3JtYXR0aW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBMZWdhY3kgbWV0aG9kIGZvciBBX0Vycm9yIGxvZ2dpbmcgKGtlcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpXG4gICAgICogXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGVycm9yKCkgbWV0aG9kIGluc3RlYWQgd2hpY2ggaGFuZGxlcyBBX0Vycm9yIGF1dG9tYXRpY2FsbHlcbiAgICAgKiBAcGFyYW0gZXJyb3IgLSBUaGUgQV9FcnJvciBpbnN0YW5jZSB0byBsb2dcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgbG9nX0FfRXJyb3IoZXJyb3I6IEFfRXJyb3IpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdGltZSA9IHRoaXMuZ2V0VGltZSgpO1xuICAgICAgICBjb25zdCBzY29wZVBhZGRpbmcgPSAnICcucmVwZWF0KHRoaXMuU1RBTkRBUkRfU0NPUEVfTEVOR1RIICsgMyk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYFxceDFiWzMxbVske3RoaXMuZm9ybWF0dGVkU2NvcGV9XSB8JHt0aW1lfXwgRVJST1IgJHtlcnJvci5jb2RlfVxuJHtzY29wZVBhZGRpbmd9fCAke2Vycm9yLm1lc3NhZ2V9XG4ke3Njb3BlUGFkZGluZ318ICR7ZXJyb3IuZGVzY3JpcHRpb259IFxuJHtzY29wZVBhZGRpbmd9fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiR7c2NvcGVQYWRkaW5nfXwgJHtlcnJvci5zdGFjaz8uc3BsaXQoJ1xcbicpLm1hcCgobGluZSwgaW5kZXgpID0+IGluZGV4ID09PSAwID8gbGluZSA6IGAke3Njb3BlUGFkZGluZ318ICR7bGluZX1gKS5qb2luKCdcXG4nKSB8fCAnTm8gc3RhY2sgdHJhY2UnfVxuJHtzY29wZVBhZGRpbmd9fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxceDFiWzBtYFxuICAgICAgICAgICAgKyAoZXJyb3Iub3JpZ2luYWxFcnJvciA/IGBcXHgxYlszMW0ke3Njb3BlUGFkZGluZ318IFdyYXBwZWQgRnJvbSAgJHtlcnJvci5vcmlnaW5hbEVycm9yLm1lc3NhZ2V9XG4ke3Njb3BlUGFkZGluZ318LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuJHtzY29wZVBhZGRpbmd9fCAke2Vycm9yLm9yaWdpbmFsRXJyb3Iuc3RhY2s/LnNwbGl0KCdcXG4nKS5tYXAoKGxpbmUsIGluZGV4KSA9PiBpbmRleCA9PT0gMCA/IGxpbmUgOiBgJHtzY29wZVBhZGRpbmd9fCAke2xpbmV9YCkuam9pbignXFxuJykgfHwgJ05vIHN0YWNrIHRyYWNlJ31cbiR7c2NvcGVQYWRkaW5nfXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cXHgxYlswbWA6ICcnKVxuICAgICAgICAgICAgKyAoZXJyb3IubGluayA/IGBcXHgxYlszMW0ke3Njb3BlUGFkZGluZ318IFJlYWQgaW4gZG9jczogJHtlcnJvci5saW5rfVxuJHtzY29wZVBhZGRpbmd9fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxceDFiWzBtYDogJycpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgQV9FcnJvciBpbnN0YW5jZXMgZm9yIGlubGluZSBkaXNwbGF5IHdpdGhpbiBjb21waWxlZCBtZXNzYWdlc1xuICAgICAqIFxuICAgICAqIFByb3ZpZGVzIGRldGFpbGVkIGZvcm1hdHRpbmcgZm9yIEFfRXJyb3Igb2JqZWN0cyB3aXRoOlxuICAgICAqIC0gRXJyb3IgY29kZSwgbWVzc2FnZSwgYW5kIGRlc2NyaXB0aW9uXG4gICAgICogLSBPcmlnaW5hbCBlcnJvciBpbmZvcm1hdGlvbiBGSVJTVCAoYmV0dGVyIFVYIGZvciBkZWJ1Z2dpbmcpXG4gICAgICogLSBTdGFjayB0cmFjZXMgd2l0aCB0ZXJtaW5hbCB3aWR0aCBhd2FyZW5lc3NcbiAgICAgKiAtIERvY3VtZW50YXRpb24gbGlua3MgKGlmIGF2YWlsYWJsZSlcbiAgICAgKiAtIENvbnNpc3RlbnQgZm9ybWF0dGluZyB3aXRoIHJlc3Qgb2YgbG9nZ2VyXG4gICAgICogXG4gICAgICogQHBhcmFtIGVycm9yIC0gVGhlIEFfRXJyb3IgaW5zdGFuY2UgdG8gZm9ybWF0XG4gICAgICogQHJldHVybnMgRm9ybWF0dGVkIHN0cmluZyByZWFkeSBmb3IgZGlzcGxheVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBjb21waWxlX0FfRXJyb3IoZXJyb3I6IEFfRXJyb3IpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBjb250aW51YXRpb25JbmRlbnQgPSBgJHsnICcucmVwZWF0KHRoaXMuU1RBTkRBUkRfU0NPUEVfTEVOR1RIICsgMyl9JHtBX0xPR0dFUl9GT1JNQVQuUElQRX1gO1xuICAgICAgICBjb25zdCBzZXBhcmF0b3IgPSBgJHtjb250aW51YXRpb25JbmRlbnR9LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWA7XG4gICAgICAgIGNvbnN0IGxpbmVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgIC8vIEFkZCBlcnJvciBoZWFkZXJcbiAgICAgICAgbGluZXMucHVzaCgnJyk7XG4gICAgICAgIGxpbmVzLnB1c2goc2VwYXJhdG9yKTtcbiAgICAgICAgbGluZXMucHVzaChgJHtjb250aW51YXRpb25JbmRlbnR9QV9FUlJPUjogJHtlcnJvci5jb2RlfWApO1xuICAgICAgICBsaW5lcy5wdXNoKHNlcGFyYXRvcik7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3JtYXQgYW5kIHdyYXAgZXJyb3IgbWVzc2FnZSBhbmQgZGVzY3JpcHRpb25cbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdGhpcy53cmFwVGV4dChgTWVzc2FnZTogJHtlcnJvci5tZXNzYWdlfWAsIGNvbnRpbnVhdGlvbkluZGVudCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBlcnJvckRlc2NyaXB0aW9uID0gdGhpcy53cmFwVGV4dChgRGVzY3JpcHRpb246ICR7ZXJyb3IuZGVzY3JpcHRpb259YCwgY29udGludWF0aW9uSW5kZW50LCBmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICBsaW5lcy5wdXNoKC4uLmVycm9yTWVzc2FnZS5tYXAobGluZSA9PiBgJHtjb250aW51YXRpb25JbmRlbnR9JHtsaW5lfWApKTtcbiAgICAgICAgbGluZXMucHVzaCguLi5lcnJvckRlc2NyaXB0aW9uLm1hcChsaW5lID0+IGAke2NvbnRpbnVhdGlvbkluZGVudH0ke2xpbmV9YCkpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2hvdyBvcmlnaW5hbCBlcnJvciBGSVJTVCAobW9yZSBpbXBvcnRhbnQgZm9yIGRlYnVnZ2luZylcbiAgICAgICAgaWYgKGVycm9yLm9yaWdpbmFsRXJyb3IpIHtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goYCR7Y29udGludWF0aW9uSW5kZW50fU9SSUdJTkFMIEVSUk9SOmApO1xuICAgICAgICAgICAgbGluZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbE1lc3NhZ2UgPSB0aGlzLndyYXBUZXh0KGAke2Vycm9yLm9yaWdpbmFsRXJyb3IubmFtZX06ICR7ZXJyb3Iub3JpZ2luYWxFcnJvci5tZXNzYWdlfWAsIGNvbnRpbnVhdGlvbkluZGVudCwgZmFsc2UpO1xuICAgICAgICAgICAgbGluZXMucHVzaCguLi5vcmlnaW5hbE1lc3NhZ2UubWFwKGxpbmUgPT4gYCR7Y29udGludWF0aW9uSW5kZW50fSR7bGluZX1gKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChlcnJvci5vcmlnaW5hbEVycm9yLnN0YWNrKSB7XG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChgJHtjb250aW51YXRpb25JbmRlbnR9U3RhY2sgdHJhY2U6YCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhY2tMaW5lcyA9IHRoaXMuZm9ybWF0U3RhY2tUcmFjZShlcnJvci5vcmlnaW5hbEVycm9yLnN0YWNrLCBjb250aW51YXRpb25JbmRlbnQpO1xuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goLi4uc3RhY2tMaW5lcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFRoZW4gc2hvdyBBX0Vycm9yIHN0YWNrIHRyYWNlXG4gICAgICAgIGlmIChlcnJvci5zdGFjaykge1xuICAgICAgICAgICAgbGluZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgbGluZXMucHVzaChgJHtjb250aW51YXRpb25JbmRlbnR9QV9FUlJPUiBTVEFDSzpgKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrTGluZXMgPSB0aGlzLmZvcm1hdFN0YWNrVHJhY2UoZXJyb3Iuc3RhY2ssIGNvbnRpbnVhdGlvbkluZGVudCk7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKC4uLnN0YWNrTGluZXMpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBEb2N1bWVudGF0aW9uIGxpbmsgYXQgdGhlIGVuZFxuICAgICAgICBpZiAoZXJyb3IubGluaykge1xuICAgICAgICAgICAgbGluZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgY29uc3QgbGlua1RleHQgPSB0aGlzLndyYXBUZXh0KGBEb2N1bWVudGF0aW9uOiAke2Vycm9yLmxpbmt9YCwgY29udGludWF0aW9uSW5kZW50LCBmYWxzZSk7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKC4uLmxpbmtUZXh0Lm1hcChsaW5lID0+IGAke2NvbnRpbnVhdGlvbkluZGVudH0ke2xpbmV9YCkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsaW5lcy5wdXNoKHNlcGFyYXRvcik7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbGluZXMuam9pbignXFxuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IHN0YWNrIHRyYWNlIHdpdGggcHJvcGVyIHRlcm1pbmFsIHdpZHRoIHdyYXBwaW5nIGFuZCBpbmRlbnRhdGlvblxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdGFjayAtIFRoZSBzdGFjayB0cmFjZSBzdHJpbmdcbiAgICAgKiBAcGFyYW0gYmFzZUluZGVudCAtIEJhc2UgaW5kZW50YXRpb24gZm9yIGNvbnRpbnVhdGlvbiBsaW5lc1xuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIGZvcm1hdHRlZCBzdGFjayB0cmFjZSBsaW5lc1xuICAgICAqL1xuICAgIHByaXZhdGUgZm9ybWF0U3RhY2tUcmFjZShzdGFjazogc3RyaW5nLCBiYXNlSW5kZW50OiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IHN0YWNrTGluZXMgPSBzdGFjay5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZDogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgXG4gICAgICAgIHN0YWNrTGluZXMuZm9yRWFjaCgobGluZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChsaW5lLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgIC8vIEFkZCBleHRyYSBpbmRlbnRhdGlvbiBmb3Igc3RhY2sgdHJhY2UgbGluZXNcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFja0luZGVudCA9IGluZGV4ID09PSAwID8gYmFzZUluZGVudCA6IGAke2Jhc2VJbmRlbnR9ICBgO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRMaW5lcyA9IHRoaXMud3JhcFRleHQobGluZS50cmltKCksIHN0YWNrSW5kZW50LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkLnB1c2goLi4ud3JhcHBlZExpbmVzLm1hcCh3cmFwcGVkTGluZSA9PiBcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPT09IDAgJiYgd3JhcHBlZExpbmUgPT09IHdyYXBwZWRMaW5lc1swXSBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYCR7YmFzZUluZGVudH0ke3dyYXBwZWRMaW5lfWBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYCR7YmFzZUluZGVudH0gICR7d3JhcHBlZExpbmV9YFxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IHN0YW5kYXJkIEVycm9yIGluc3RhbmNlcyBmb3IgaW5saW5lIGRpc3BsYXkgd2l0aGluIGNvbXBpbGVkIG1lc3NhZ2VzXG4gICAgICogXG4gICAgICogUHJvdmlkZXMgY2xlYW4sIHJlYWRhYmxlIGZvcm1hdHRpbmcgZm9yIHN0YW5kYXJkIEphdmFTY3JpcHQgZXJyb3JzIHdpdGg6XG4gICAgICogLSBUZXJtaW5hbCB3aWR0aCBhd2FyZSBtZXNzYWdlIHdyYXBwaW5nXG4gICAgICogLSBQcm9wZXJseSBmb3JtYXR0ZWQgc3RhY2sgdHJhY2VzXG4gICAgICogLSBDb25zaXN0ZW50IGluZGVudGF0aW9uIHdpdGggcmVzdCBvZiBsb2dnZXJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXJyb3IgLSBUaGUgRXJyb3IgaW5zdGFuY2UgdG8gZm9ybWF0XG4gICAgICogQHJldHVybnMgRm9ybWF0dGVkIHN0cmluZyByZWFkeSBmb3IgZGlzcGxheVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBjb21waWxlX0Vycm9yKGVycm9yOiBFcnJvcik6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbkluZGVudCA9IGAkeycgJy5yZXBlYXQodGhpcy5TVEFOREFSRF9TQ09QRV9MRU5HVEggKyAzKX0ke0FfTE9HR0VSX0ZPUk1BVC5QSVBFfWA7XG4gICAgICAgIGNvbnN0IHNlcGFyYXRvciA9IGAke2NvbnRpbnVhdGlvbkluZGVudH0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tYDtcbiAgICAgICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgLy8gQWRkIGVycm9yIGhlYWRlclxuICAgICAgICBsaW5lcy5wdXNoKCcnKTtcbiAgICAgICAgbGluZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICBsaW5lcy5wdXNoKGAke2NvbnRpbnVhdGlvbkluZGVudH1FUlJPUjogJHtlcnJvci5uYW1lfWApO1xuICAgICAgICBsaW5lcy5wdXNoKHNlcGFyYXRvcik7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3JtYXQgYW5kIHdyYXAgZXJyb3IgbWVzc2FnZVxuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0aGlzLndyYXBUZXh0KGBNZXNzYWdlOiAke2Vycm9yLm1lc3NhZ2V9YCwgY29udGludWF0aW9uSW5kZW50LCBmYWxzZSk7XG4gICAgICAgIGxpbmVzLnB1c2goLi4uZXJyb3JNZXNzYWdlLm1hcChsaW5lID0+IGAke2NvbnRpbnVhdGlvbkluZGVudH0ke2xpbmV9YCkpO1xuICAgICAgICBcbiAgICAgICAgLy8gRm9ybWF0IHN0YWNrIHRyYWNlIGlmIGF2YWlsYWJsZVxuICAgICAgICBpZiAoZXJyb3Iuc3RhY2spIHtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goYCR7Y29udGludWF0aW9uSW5kZW50fVNUQUNLIFRSQUNFOmApO1xuICAgICAgICAgICAgbGluZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgY29uc3Qgc3RhY2tMaW5lcyA9IHRoaXMuZm9ybWF0U3RhY2tUcmFjZShlcnJvci5zdGFjaywgY29udGludWF0aW9uSW5kZW50KTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goLi4uc3RhY2tMaW5lcyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGxpbmVzLnB1c2goc2VwYXJhdG9yKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBVdGlsaXR5IE1ldGhvZHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHRpbWVzdGFtcCBzdHJpbmcgZm9yIGxvZyBtZXNzYWdlc1xuICAgICAqIFxuICAgICAqIEZvcm1hdDogTU06U1M6bW1tIChtaW51dGVzOnNlY29uZHM6bWlsbGlzZWNvbmRzKVxuICAgICAqIFRoaXMgcHJvdmlkZXMgc3VmZmljaWVudCBwcmVjaXNpb24gZm9yIGRlYnVnZ2luZyB3aGlsZSByZW1haW5pbmcgcmVhZGFibGVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBGb3JtYXR0ZWQgdGltZXN0YW1wIHN0cmluZ1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogUmV0dXJuczogXCIxNTo0MjoxMzdcIiBmb3IgMzo0MjoxNSBQTSBhbmQgMTM3IG1pbGxpc2Vjb25kc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRUaW1lKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBTdHJpbmcobm93LmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoQV9MT0dHRVJfVElNRV9GT1JNQVQuTUlOVVRFU19QQUQsICcwJyk7XG4gICAgICAgIGNvbnN0IHNlY29uZHMgPSBTdHJpbmcobm93LmdldFNlY29uZHMoKSkucGFkU3RhcnQoQV9MT0dHRVJfVElNRV9GT1JNQVQuU0VDT05EU19QQUQsICcwJyk7XG4gICAgICAgIGNvbnN0IG1pbGxpc2Vjb25kcyA9IFN0cmluZyhub3cuZ2V0TWlsbGlzZWNvbmRzKCkpLnBhZFN0YXJ0KEFfTE9HR0VSX1RJTUVfRk9STUFULk1JTExJU0VDT05EU19QQUQsICcwJyk7XG4gICAgICAgIHJldHVybiBgJHttaW51dGVzfSR7QV9MT0dHRVJfVElNRV9GT1JNQVQuU0VQQVJBVE9SfSR7c2Vjb25kc30ke0FfTE9HR0VSX1RJTUVfRk9STUFULlNFUEFSQVRPUn0ke21pbGxpc2Vjb25kc31gO1xuICAgIH1cbn0iLCAiaW1wb3J0IHtcbiAgICBBX0NvbW1hbmRfRXhlY3V0aW9uQ29udGV4dCxcbiAgICBBX1RZUEVTX19Db21tYW5kX0luaXQsXG4gICAgQV9UWVBFU19fQ29tbWFuZF9MaXN0ZW5lcixcbiAgICBBX1RZUEVTX19Db21tYW5kX1NlcmlhbGl6ZWRcbn0gZnJvbSBcIi4vQS1Db21tYW5kLnR5cGVzXCI7XG5pbXBvcnQge1xuICAgIEFfQ29tbWFuZEZlYXR1cmVzLFxuICAgIEFfQ29tbWFuZF9TdGF0dXMsXG4gICAgQV9Db21tYW5kVHJhbnNpdGlvbnMsXG4gICAgQV9Db21tYW5kRXZlbnRcbn0gZnJvbSBcIi4vQS1Db21tYW5kLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgIEFfQ29udGV4dCwgQV9EZXBlbmRlbmN5LCBBX0VudGl0eSwgQV9FcnJvciwgQV9GZWF0dXJlLCBBX0luamVjdCwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0NvbW1hbmRFcnJvciB9IGZyb20gXCIuL0EtQ29tbWFuZC5lcnJvclwiO1xuaW1wb3J0IHsgQV9TdGF0ZU1hY2hpbmUgfSBmcm9tIFwiLi4vQS1TdGF0ZU1hY2hpbmUvQS1TdGF0ZU1hY2hpbmUuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBX1N0YXRlTWFjaGluZUZlYXR1cmVzIH0gZnJvbSBcIi4uL0EtU3RhdGVNYWNoaW5lL0EtU3RhdGVNYWNoaW5lLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24gfSBmcm9tIFwiLi4vQS1TdGF0ZU1hY2hpbmUvQS1TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfRXhlY3V0aW9uQ29udGV4dCB9IGZyb20gXCIuLi9BLUV4ZWN1dGlvbi9BLUV4ZWN1dGlvbi5jb250ZXh0XCI7XG5cbi8qKlxuICogQV9Db21tYW5kIC0gQWR2YW5jZWQgQ29tbWFuZCBQYXR0ZXJuIEltcGxlbWVudGF0aW9uXG4gKiBcbiAqIEEgY29tcHJlaGVuc2l2ZSBjb21tYW5kIHBhdHRlcm4gaW1wbGVtZW50YXRpb24gdGhhdCBlbmNhcHN1bGF0ZXMgYnVzaW5lc3MgbG9naWNcbiAqIGFzIGV4ZWN1dGFibGUgY29tbWFuZHMgd2l0aCBmdWxsIGxpZmVjeWNsZSBtYW5hZ2VtZW50LCBldmVudCBoYW5kbGluZywgYW5kIFxuICogc3RhdGUgcGVyc2lzdGVuY2UgY2FwYWJpbGl0aWVzLlxuICogXG4gKiAjIyBLZXkgRmVhdHVyZXNcbiAqIC0gKipTdHJ1Y3R1cmVkIExpZmVjeWNsZSoqOiBBdXRvbWF0aWMgcHJvZ3Jlc3Npb24gdGhyb3VnaCBpbml0IOKGkiBjb21waWxlIOKGkiBleGVjdXRlIOKGkiBjb21wbGV0ZS9mYWlsXG4gKiAtICoqRXZlbnQtRHJpdmVuKio6IFN1YnNjcmliZSB0byBsaWZlY3ljbGUgZXZlbnRzIGFuZCBlbWl0IGN1c3RvbSBldmVudHNcbiAqIC0gKipTdGF0ZSBQZXJzaXN0ZW5jZSoqOiBGdWxsIHNlcmlhbGl6YXRpb24vZGVzZXJpYWxpemF0aW9uIGZvciBjcm9zcy1zZXJ2aWNlIGNvbW11bmljYXRpb25cbiAqIC0gKipUeXBlIFNhZmV0eSoqOiBHZW5lcmljIHR5cGVzIGZvciBwYXJhbWV0ZXJzLCByZXN1bHRzLCBhbmQgY3VzdG9tIGV2ZW50c1xuICogLSAqKkRlcGVuZGVuY3kgSW5qZWN0aW9uKio6IEludGVncmF0ZWQgd2l0aCBBLUNvbmNlcHQncyBESSBzeXN0ZW1cbiAqIC0gKipFcnJvciBNYW5hZ2VtZW50Kio6IENvbXByZWhlbnNpdmUgZXJyb3IgY2FwdHVyZSBhbmQgaGFuZGxpbmdcbiAqIC0gKipFeGVjdXRpb24gVHJhY2tpbmcqKjogQnVpbHQtaW4gdGltaW5nIGFuZCBwZXJmb3JtYW5jZSBtZXRyaWNzXG4gKiBcbiAqICMjIExpZmVjeWNsZSBQaGFzZXNcbiAqIDEuICoqQ1JFQVRFRCoqIC0gQ29tbWFuZCBpbnN0YW50aWF0ZWQgYnV0IG5vdCBpbml0aWFsaXplZFxuICogMi4gKipJTklUSUFMSVpFRCoqIC0gRXhlY3V0aW9uIHNjb3BlIGFuZCBkZXBlbmRlbmNpZXMgc2V0IHVwXG4gKiAzLiAqKkNPTVBJTEVEKiogLSBSZWFkeSBmb3IgZXhlY3V0aW9uIHdpdGggYWxsIHJlc291cmNlcyBwcmVwYXJlZFxuICogNC4gKipFWEVDVVRJTkcqKiAtIEN1cnJlbnRseSBydW5uaW5nIGJ1c2luZXNzIGxvZ2ljXG4gKiA1LiAqKkNPTVBMRVRFRCoqIC0gU3VjY2Vzc2Z1bGx5IGZpbmlzaGVkIGV4ZWN1dGlvblxuICogNi4gKipGQUlMRUQqKiAtIEV4ZWN1dGlvbiBmYWlsZWQgd2l0aCBlcnJvcnMgY2FwdHVyZWRcbiAqIFxuICogQHRlbXBsYXRlIEludm9rZVR5cGUgLSBUeXBlIGRlZmluaXRpb24gZm9yIGNvbW1hbmQgcGFyYW1ldGVyc1xuICogQHRlbXBsYXRlIFJlc3VsdFR5cGUgLSBUeXBlIGRlZmluaXRpb24gZm9yIGNvbW1hbmQgZXhlY3V0aW9uIHJlc3VsdFxuICogQHRlbXBsYXRlIExpZmVjeWNsZUV2ZW50cyAtIFVuaW9uIHR5cGUgb2YgY3VzdG9tIGxpZmVjeWNsZSBldmVudCBuYW1lc1xuICogXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gRGVmaW5lIHBhcmFtZXRlciBhbmQgcmVzdWx0IHR5cGVzXG4gKiBpbnRlcmZhY2UgVXNlckNyZWF0ZVBhcmFtcyB7XG4gKiAgIG5hbWU6IHN0cmluZztcbiAqICAgZW1haWw6IHN0cmluZztcbiAqICAgcm9sZTogJ2FkbWluJyB8ICd1c2VyJztcbiAqIH1cbiAqIFxuICogaW50ZXJmYWNlIFVzZXJDcmVhdGVSZXN1bHQge1xuICogICB1c2VySWQ6IHN0cmluZztcbiAqICAgc3VjY2VzczogYm9vbGVhbjtcbiAqIH1cbiAqIFxuICogLy8gQ3JlYXRlIGN1c3RvbSBjb21tYW5kXG4gKiBjbGFzcyBDcmVhdGVVc2VyQ29tbWFuZCBleHRlbmRzIEFfQ29tbWFuZDxVc2VyQ3JlYXRlUGFyYW1zLCBVc2VyQ3JlYXRlUmVzdWx0PiB7fVxuICogXG4gKiAvLyBFeGVjdXRlIGNvbW1hbmRcbiAqIGNvbnN0IGNvbW1hbmQgPSBuZXcgQ3JlYXRlVXNlckNvbW1hbmQoe1xuICogICBuYW1lOiAnSm9obiBEb2UnLFxuICogICBlbWFpbDogJ2pvaG5AZXhhbXBsZS5jb20nLFxuICogICByb2xlOiAndXNlcidcbiAqIH0pO1xuICogXG4gKiBzY29wZS5yZWdpc3Rlcihjb21tYW5kKTtcbiAqIGF3YWl0IGNvbW1hbmQuZXhlY3V0ZSgpO1xuICogXG4gKiBjb25zb2xlLmxvZygnUmVzdWx0OicsIGNvbW1hbmQucmVzdWx0KTtcbiAqIGNvbnNvbGUubG9nKCdTdGF0dXM6JywgY29tbWFuZC5zdGF0dXMpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBBX0NvbW1hbmQ8XG4gICAgSW52b2tlVHlwZSBleHRlbmRzIEFfVFlQRVNfX0NvbW1hbmRfSW5pdCA9IEFfVFlQRVNfX0NvbW1hbmRfSW5pdCxcbiAgICBSZXN1bHRUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgTGlmZWN5Y2xlRXZlbnRzIGV4dGVuZHMgc3RyaW5nIHwga2V5b2YgdHlwZW9mIEFfQ29tbWFuZEV2ZW50ID0ga2V5b2YgdHlwZW9mIEFfQ29tbWFuZEV2ZW50LFxuPiBleHRlbmRzIEFfRW50aXR5PEludm9rZVR5cGUsIEFfVFlQRVNfX0NvbW1hbmRfU2VyaWFsaXplZDxJbnZva2VUeXBlLCBSZXN1bHRUeXBlPj4ge1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gU3RhdGljIENvbW1hbmQgSW5mb3JtYXRpb24gPT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTdGF0aWMgY29tbWFuZCBpZGVudGlmaWVyIGRlcml2ZWQgZnJvbSB0aGUgY2xhc3MgbmFtZVxuICAgICAqIFVzZWQgZm9yIGNvbW1hbmQgcmVnaXN0cmF0aW9uIGFuZCBzZXJpYWxpemF0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGdldCBjb2RlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBzdXBlci5lbnRpdHk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gSW5zdGFuY2UgUHJvcGVydGllcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKiogVGhlIG9yaWdpbiBvZiB0aGUgY29tbWFuZCwgdXNlZCB0byBrbm93IGhhcyBpdCBiZWVuIGNyZWF0ZWQgZnJvbSBzZXJpYWxpemF0aW9uIG9yIGludm9rZWQgKi9cbiAgICBwcm90ZWN0ZWQgX29yaWdpbiE6ICdpbnZva2VkJyB8ICdzZXJpYWxpemVkJztcblxuICAgIC8qKiBDb21tYW5kIGV4ZWN1dGlvbiBzY29wZSBmb3IgZGVwZW5kZW5jeSBpbmplY3Rpb24gYW5kIGZlYXR1cmUgcmVzb2x1dGlvbiAqL1xuICAgIHByb3RlY3RlZCBfZXhlY3V0aW9uU2NvcGUhOiBBX1Njb3BlO1xuXG4gICAgLyoqIFJlc3VsdCBkYXRhIHByb2R1Y2VkIGJ5IHN1Y2Nlc3NmdWwgY29tbWFuZCBleGVjdXRpb24gKi9cbiAgICBwcm90ZWN0ZWQgX3Jlc3VsdD86IFJlc3VsdFR5cGU7XG5cbiAgICAvKiogU2V0IG9mIGVycm9ycyB0aGF0IG9jY3VycmVkIGR1cmluZyBjb21tYW5kIGV4ZWN1dGlvbiAqL1xuICAgIHByb3RlY3RlZCBfZXJyb3IhOiBBX0Vycm9yO1xuXG4gICAgLyoqIENvbW1hbmQgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVycyAqL1xuICAgIHByb3RlY3RlZCBfcGFyYW1zITogSW52b2tlVHlwZTtcblxuICAgIC8qKiBDdXJyZW50IGxpZmVjeWNsZSBzdGF0dXMgb2YgdGhlIGNvbW1hbmQgKi9cbiAgICBwcm90ZWN0ZWQgX3N0YXR1cyE6IEFfQ29tbWFuZF9TdGF0dXNcblxuICAgIC8qKiBNYXAgb2YgZXZlbnQgbGlzdGVuZXJzIG9yZ2FuaXplZCBieSBldmVudCBuYW1lICovXG4gICAgcHJvdGVjdGVkIF9saXN0ZW5lcnM6IE1hcDxcbiAgICAgICAgTGlmZWN5Y2xlRXZlbnRzIHwga2V5b2YgdHlwZW9mIEFfQ29tbWFuZEV2ZW50LFxuICAgICAgICBTZXQ8QV9UWVBFU19fQ29tbWFuZF9MaXN0ZW5lcjxJbnZva2VUeXBlLCBSZXN1bHRUeXBlLCBMaWZlY3ljbGVFdmVudHM+PlxuICAgID4gPSBuZXcgTWFwKCk7XG5cbiAgICAvKiogVGltZXN0YW1wIHdoZW4gY29tbWFuZCBleGVjdXRpb24gc3RhcnRlZCAqL1xuICAgIHByb3RlY3RlZCBfc3RhcnRUaW1lPzogRGF0ZTtcblxuICAgIC8qKiBUaW1lc3RhbXAgd2hlbiBjb21tYW5kIGV4ZWN1dGlvbiBlbmRlZCAqL1xuICAgIHByb3RlY3RlZCBfZW5kVGltZT86IERhdGU7XG5cbiAgICAvKiogVGltZXN0YW1wIHdoZW4gY29tbWFuZCB3YXMgY3JlYXRlZCAqL1xuICAgIHByb3RlY3RlZCBfY3JlYXRlZEF0ITogRGF0ZTtcblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gUHVibGljIEdldHRlciBQcm9wZXJ0aWVzID09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFRvdGFsIGV4ZWN1dGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHNcbiAgICAgKiBcbiAgICAgKiAtIElmIGNvbXBsZXRlZC9mYWlsZWQ6IFJldHVybnMgdG90YWwgdGltZSBmcm9tIHN0YXJ0IHRvIGVuZFxuICAgICAqIC0gSWYgY3VycmVudGx5IGV4ZWN1dGluZzogUmV0dXJucyBlbGFwc2VkIHRpbWUgc2luY2Ugc3RhcnRcbiAgICAgKiAtIElmIG5vdCBzdGFydGVkOiBSZXR1cm5zIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGdldCBkdXJhdGlvbigpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5kVGltZSAmJiB0aGlzLl9zdGFydFRpbWVcbiAgICAgICAgICAgID8gdGhpcy5fZW5kVGltZS5nZXRUaW1lKCkgLSB0aGlzLl9zdGFydFRpbWUuZ2V0VGltZSgpXG4gICAgICAgICAgICA6IHRoaXMuX3N0YXJ0VGltZVxuICAgICAgICAgICAgICAgID8gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLl9zdGFydFRpbWUuZ2V0VGltZSgpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWRsZSB0aW1lIGJlZm9yZSBleGVjdXRpb24gc3RhcnRlZCBpbiBtaWxsaXNlY29uZHNcbiAgICAgKiBcbiAgICAgKiBUaW1lIGJldHdlZW4gY29tbWFuZCBjcmVhdGlvbiBhbmQgZXhlY3V0aW9uIHN0YXJ0LlxuICAgICAqIFVzZWZ1bCBmb3IgbW9uaXRvcmluZyBjb21tYW5kIHF1ZXVlIHBlcmZvcm1hbmNlLlxuICAgICAqL1xuICAgIGdldCBpZGxlVGltZSgpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRUaW1lICYmIHRoaXMuX2NyZWF0ZWRBdFxuICAgICAgICAgICAgPyB0aGlzLl9zdGFydFRpbWUuZ2V0VGltZSgpIC0gdGhpcy5fY3JlYXRlZEF0LmdldFRpbWUoKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tbWFuZCBleGVjdXRpb24gc2NvcGUgZm9yIGRlcGVuZGVuY3kgaW5qZWN0aW9uXG4gICAgICogXG4gICAgICogUHJvdmlkZXMgYWNjZXNzIHRvIGNvbXBvbmVudHMsIHNlcnZpY2VzLCBhbmQgc2hhcmVkIHJlc291cmNlc1xuICAgICAqIGR1cmluZyBjb21tYW5kIGV4ZWN1dGlvbi4gSW5oZXJpdHMgZnJvbSB0aGUgc2NvcGUgd2hlcmUgdGhlXG4gICAgICogY29tbWFuZCB3YXMgcmVnaXN0ZXJlZC5cbiAgICAgKi9cbiAgICBnZXQgc2NvcGUoKTogQV9TY29wZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9leGVjdXRpb25TY29wZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0aW9uIGNvbnRleHQgYXNzb2NpYXRlZCB3aXRoIHRoZSBjb21tYW5kXG4gICAgICovXG4gICAgZ2V0IGNvbnRleHQoKTogQV9FeGVjdXRpb25Db250ZXh0PEFfQ29tbWFuZF9FeGVjdXRpb25Db250ZXh0PEludm9rZVR5cGUsIFJlc3VsdFR5cGU+PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnJlc29sdmUoQV9FeGVjdXRpb25Db250ZXh0PEFfQ29tbWFuZF9FeGVjdXRpb25Db250ZXh0PEludm9rZVR5cGUsIFJlc3VsdFR5cGU+PikhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBjb21tYW5kIHR5cGUgaWRlbnRpZmllclxuICAgICAqIFxuICAgICAqIERlcml2ZWQgZnJvbSB0aGUgY2xhc3MgbmFtZSBhbmQgdXNlZCBmb3I6XG4gICAgICogLSBDb21tYW5kIHJlZ2lzdHJhdGlvbiBhbmQgcmVzb2x1dGlvblxuICAgICAqIC0gU2VyaWFsaXphdGlvbiBhbmQgZGVzZXJpYWxpemF0aW9uXG4gICAgICogLSBMb2dnaW5nIGFuZCBkZWJ1Z2dpbmdcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZSAnY3JlYXRlLXVzZXItY29tbWFuZCcsICdwcm9jZXNzLW9yZGVyLWNvbW1hbmQnXG4gICAgICovXG4gICAgZ2V0IGNvZGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0NvbW1hbmQpLmNvZGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgbGlmZWN5Y2xlIHN0YXR1cyBvZiB0aGUgY29tbWFuZFxuICAgICAqIFxuICAgICAqIEluZGljYXRlcyB0aGUgY3VycmVudCBwaGFzZSBpbiB0aGUgY29tbWFuZCBleGVjdXRpb24gbGlmZWN5Y2xlLlxuICAgICAqIFVzZWQgdG8gdHJhY2sgcHJvZ3Jlc3MgYW5kIGRldGVybWluZSBhdmFpbGFibGUgb3BlcmF0aW9ucy5cbiAgICAgKi9cbiAgICBnZXQgc3RhdHVzKCk6IEFfQ29tbWFuZF9TdGF0dXMge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRpbWVzdGFtcCB3aGVuIHRoZSBjb21tYW5kIHdhcyBjcmVhdGVkXG4gICAgICogXG4gICAgICogTWFya3MgdGhlIGluaXRpYWwgaW5zdGFudGlhdGlvbiB0aW1lLCB1c2VmdWwgZm9yIHRyYWNraW5nXG4gICAgICogY29tbWFuZCBhZ2UgYW5kIHF1ZXVlIHBlcmZvcm1hbmNlIG1ldHJpY3MuXG4gICAgICovXG4gICAgZ2V0IGNyZWF0ZWRBdCgpOiBEYXRlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZWRBdCE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGltZXN0YW1wIHdoZW4gY29tbWFuZCBleGVjdXRpb24gc3RhcnRlZFxuICAgICAqIFxuICAgICAqIFVuZGVmaW5lZCB1bnRpbCBleGVjdXRpb24gYmVnaW5zLiBVc2VkIGZvciBjYWxjdWxhdGluZ1xuICAgICAqIGV4ZWN1dGlvbiBkdXJhdGlvbiBhbmQgaWRsZSB0aW1lLlxuICAgICAqL1xuICAgIGdldCBzdGFydGVkQXQoKTogRGF0ZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFydFRpbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGltZXN0YW1wIHdoZW4gY29tbWFuZCBleGVjdXRpb24gZW5kZWRcbiAgICAgKiBcbiAgICAgKiBTZXQgd2hlbiBjb21tYW5kIHJlYWNoZXMgQ09NUExFVEVEIG9yIEZBSUxFRCBzdGF0dXMuXG4gICAgICogVXNlZCBmb3IgY2FsY3VsYXRpbmcgdG90YWwgZXhlY3V0aW9uIGR1cmF0aW9uLlxuICAgICAqL1xuICAgIGdldCBlbmRlZEF0KCk6IERhdGUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5kVGltZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXN1bHQgZGF0YSBwcm9kdWNlZCBieSBjb21tYW5kIGV4ZWN1dGlvblxuICAgICAqIFxuICAgICAqIENvbnRhaW5zIHRoZSBvdXRwdXQgZGF0YSBmcm9tIHN1Y2Nlc3NmdWwgY29tbWFuZCBleGVjdXRpb24uXG4gICAgICogVW5kZWZpbmVkIHVudGlsIGNvbW1hbmQgY29tcGxldGVzIHN1Y2Nlc3NmdWxseS5cbiAgICAgKi9cbiAgICBnZXQgcmVzdWx0KCk6IFJlc3VsdFR5cGUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIGVycm9ycyB0aGF0IG9jY3VycmVkIGR1cmluZyBleGVjdXRpb25cbiAgICAgKiBcbiAgICAgKiBBdXRvbWF0aWNhbGx5IHdyYXBzIG5hdGl2ZSBlcnJvcnMgaW4gQV9FcnJvciBpbnN0YW5jZXNcbiAgICAgKiBmb3IgY29uc2lzdGVudCBlcnJvciBoYW5kbGluZy4gRW1wdHkgYXJyYXkgaWYgbm8gZXJyb3JzIG9jY3VycmVkLlxuICAgICAqL1xuICAgIGdldCBlcnJvcigpOiBBX0Vycm9yIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbW1hbmQgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVyc1xuICAgICAqIFxuICAgICAqIENvbnRhaW5zIHRoZSBpbnB1dCBkYXRhIHVzZWQgdG8gY3JlYXRlIGFuZCBjb25maWd1cmUgdGhlIGNvbW1hbmQuXG4gICAgICogVGhlc2UgcGFyYW1ldGVycyBhcmUgaW1tdXRhYmxlIGR1cmluZyBjb21tYW5kIGV4ZWN1dGlvbi5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBX0Vycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tbWFuZCBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzXG4gICAgICogXG4gICAgICogQ29udGFpbnMgdGhlIGlucHV0IGRhdGEgdXNlZCB0byBjcmVhdGUgYW5kIGNvbmZpZ3VyZSB0aGUgY29tbWFuZC5cbiAgICAgKiBUaGVzZSBwYXJhbWV0ZXJzIGFyZSBpbW11dGFibGUgZHVyaW5nIGNvbW1hbmQgZXhlY3V0aW9uLlxuICAgICAqL1xuICAgIGdldCBwYXJhbXMoKTogSW52b2tlVHlwZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHRoZSBjb21tYW5kIGhhcyBiZWVuIHByb2Nlc3NlZCAoY29tcGxldGVkIG9yIGZhaWxlZClcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGNvbW1hbmQgaGFzIGNvbXBsZXRlZCBvciBmYWlsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBnZXQgaXNQcm9jZXNzZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXMgPT09IEFfQ29tbWFuZF9TdGF0dXMuQ09NUExFVEVEXG4gICAgICAgICAgICB8fCB0aGlzLl9zdGF0dXMgPT09IEFfQ29tbWFuZF9TdGF0dXMuRkFJTEVEO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEEtQ29tbWFuZCByZXByZXNlbnRzIGFuIGV4ZWN1dGFibGUgY29tbWFuZCB3aXRoIGEgc3BlY2lmaWMgY29kZSBhbmQgcGFyYW1ldGVycy5cbiAgICAgKiBJdCBjYW4gYmUgZXhlY3V0ZWQgd2l0aGluIGEgZ2l2ZW4gc2NvcGUgYW5kIHN0b3JlcyBleGVjdXRpb24gcmVzdWx0cyBhbmQgZXJyb3JzLlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEEtQ29tbWFuZCBzaG91bGQgYmUgY29udGV4dCBpbmRlcGVuZGVudCBhbmQgZXhlY3V0aW9uIGxvZ2ljIHNob3VsZCBiZSBiYXNlZCBvbiBhdHRhY2hlZCBjb21wb25lbnRzIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb2RlIFxuICAgICAqIEBwYXJhbSBwYXJhbXMgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21tYW5kIGludm9jYXRpb24gcGFyYW1ldGVyc1xuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW1zOiBJbnZva2VUeXBlIHwgQV9UWVBFU19fQ29tbWFuZF9TZXJpYWxpemVkPEludm9rZVR5cGUsIFJlc3VsdFR5cGU+IHwgc3RyaW5nLFxuICAgICkge1xuICAgICAgICBzdXBlcihwYXJhbXMgYXMgYW55KTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEEtU3RhdGVNYWNoaW5lIEZlYXR1cmUgRXh0ZW5zaW9uc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcy5vbkJlZm9yZVRyYW5zaXRpb25dKFxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uKSB0cmFuc2l0aW9uOiBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24sXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKSB7XG4gICAgICAgIHRoaXMuY2hlY2tTY29wZUluaGVyaXRhbmNlKCk7XG5cbiAgICAgICAgLy8gIGFuZCByZWdpc3RlciBhbGwgYWxsb3dlZCBzdGF0dXMgdHJhbnNpdGlvbnNcbiAgICAgICAgLy8gIHN3aXRjaCBhY3Jvc3MgYWxsb3dlZCB0cmFuc2l0aW9ucywgaWYgbm90IGFsbG93ZWQgdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZygneWVsbG93JywgYENvbW1hbmQgJHt0aGlzLmFzZWlkLnRvU3RyaW5nKCl9IHRyYW5zaXRpb25pbmcgZnJvbSAke3RyYW5zaXRpb24uZnJvbX0gdG8gJHt0cmFuc2l0aW9uLnRvfWApO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZFRyYW5zaXRpb25zLkNSRUFURURfVE9fSU5JVElBTElaRURdKFxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uKSB0cmFuc2l0aW9uOiBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0dXMgIT09IEFfQ29tbWFuZF9TdGF0dXMuQ1JFQVRFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY3JlYXRlZEF0ID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gQV9Db21tYW5kX1N0YXR1cy5JTklUSUFMSVpFRDtcblxuICAgICAgICB0aGlzLmVtaXQoQV9Db21tYW5kRXZlbnQub25Jbml0KTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX0NvbW1hbmRUcmFuc2l0aW9ucy5JTklUSUFMSVpFRF9UT19FWEVDVVRJTkddKFxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uKSB0cmFuc2l0aW9uOiBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0dXMgIT09IEFfQ29tbWFuZF9TdGF0dXMuSU5JVElBTElaRURcbiAgICAgICAgICAgICYmIHRoaXMuX3N0YXR1cyAhPT0gQV9Db21tYW5kX1N0YXR1cy5DUkVBVEVEXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gQV9Db21tYW5kX1N0YXR1cy5FWEVDVVRJTkc7XG5cbiAgICAgICAgdGhpcy5lbWl0KEFfQ29tbWFuZEV2ZW50Lm9uRXhlY3V0ZSk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgY29tbWFuZCBjb21wbGV0aW9uIGFmdGVyIHN1Y2Nlc3NmdWwgZXhlY3V0aW9uXG4gICAgICogXG4gICAgICogRVhFQ1VUSU9OIC0+IENPTVBMRVRFRCB0cmFuc2l0aW9uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX0NvbW1hbmRUcmFuc2l0aW9ucy5FWEVDVVRJTkdfVE9fQ09NUExFVEVEXShcbiAgICAgICAgQEFfSW5qZWN0KEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbikgdHJhbnNpdGlvbjogQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLl9lbmRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gQV9Db21tYW5kX1N0YXR1cy5DT01QTEVURUQ7XG5cbiAgICAgICAgdGhpcy5lbWl0KEFfQ29tbWFuZEV2ZW50Lm9uQ29tcGxldGUpO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGNvbW1hbmQgZmFpbHVyZSBkdXJpbmcgZXhlY3V0aW9uXG4gICAgICogXG4gICAgICogRVhFQ1VUSU9OIC0+IEZBSUxFRCB0cmFuc2l0aW9uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX0NvbW1hbmRUcmFuc2l0aW9ucy5FWEVDVVRJTkdfVE9fRkFJTEVEXShcbiAgICAgICAgQEFfSW5qZWN0KEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbikgdHJhbnNpdGlvbjogQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uLFxuICAgICAgICBAQV9JbmplY3QoQV9FcnJvcikgZXJyb3I6IEFfRXJyb3IsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuX2VuZFRpbWUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IEFfQ29tbWFuZF9TdGF0dXMuRkFJTEVEO1xuXG4gICAgICAgIHRoaXMuZW1pdChBX0NvbW1hbmRFdmVudC5vbkZhaWwpO1xuICAgIH1cblxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBBLUNvbW1hbmQgTGlmZWN5Y2xlIEZlYXR1cmUgRXh0ZW5zaW9uc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgYmVoYXZpb3IgZm9yIENvbW1hbmQgSW5pdGlhbGl6YXRpb24gdXNlcyBTdGF0ZU1hY2hpbmUgdG8gdHJhbnNpdGlvbiBzdGF0ZXNcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZEZlYXR1cmVzLm9uSW5pdF0oXG4gICAgICAgIEBBX0luamVjdChBX1N0YXRlTWFjaGluZSkgc3RhdGVNYWNoaW5lOiBBX1N0YXRlTWFjaGluZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgc3RhdGVNYWNoaW5lLnRyYW5zaXRpb24oQV9Db21tYW5kX1N0YXR1cy5DUkVBVEVELCBBX0NvbW1hbmRfU3RhdHVzLklOSVRJQUxJWkVEKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIGFmdGVyOiAvLiovXG4gICAgfSlcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZEZlYXR1cmVzLm9uQmVmb3JlRXhlY3V0ZV0oXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmUpIHN0YXRlTWFjaGluZTogQV9TdGF0ZU1hY2hpbmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHN0YXRlTWFjaGluZS50cmFuc2l0aW9uKEFfQ29tbWFuZF9TdGF0dXMuSU5JVElBTElaRUQsIEFfQ29tbWFuZF9TdGF0dXMuRVhFQ1VUSU5HKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX0NvbW1hbmRGZWF0dXJlcy5vbkV4ZWN1dGVdKFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAvKipcbiAgICAgKiBCeSBEZWZhdWx0IG9uIEFmdGVyRXhlY3V0ZSBjYWxscyB0aGUgQ29tcGxldGlvbiBtZXRob2QgdG8gbWFyayB0aGUgY29tbWFuZCBhcyBjb21wbGV0ZWRcbiAgICAgKiBcbiAgICAgKiBbIV0gVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiB0byBpbXBsZW1lbnQgY3VzdG9tIGJlaGF2aW9yIHVzaW5nIEFfRmVhdHVyZSBvdmVycmlkZXNcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZEZlYXR1cmVzLm9uQWZ0ZXJFeGVjdXRlXShcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIGFmdGVyOiAvLiovXG4gICAgfSlcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZEZlYXR1cmVzLm9uQ29tcGxldGVdKFxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmUpIHN0YXRlTWFjaGluZTogQV9TdGF0ZU1hY2hpbmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHN0YXRlTWFjaGluZS50cmFuc2l0aW9uKEFfQ29tbWFuZF9TdGF0dXMuRVhFQ1VUSU5HLCBBX0NvbW1hbmRfU3RhdHVzLkNPTVBMRVRFRCk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBhZnRlcjogLy4qL1xuICAgIH0pXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX0NvbW1hbmRGZWF0dXJlcy5vbkZhaWxdKFxuICAgICAgICBAQV9EZXBlbmRlbmN5LlJlcXVpcmVkKClcbiAgICAgICAgQEFfSW5qZWN0KEFfU3RhdGVNYWNoaW5lKSBzdGF0ZU1hY2hpbmU6IEFfU3RhdGVNYWNoaW5lLFxuICAgICAgICBAQV9JbmplY3QoQV9FeGVjdXRpb25Db250ZXh0KSBvcGVyYXRpb246IEFfRXhlY3V0aW9uQ29udGV4dDxBX0NvbW1hbmRfRXhlY3V0aW9uQ29udGV4dDxJbnZva2VUeXBlLCBSZXN1bHRUeXBlPj4sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHN0YXRlTWFjaGluZS50cmFuc2l0aW9uKEFfQ29tbWFuZF9TdGF0dXMuRVhFQ1VUSU5HLCBBX0NvbW1hbmRfU3RhdHVzLkZBSUxFRCk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBBLUNvbW1hbmQgTGlmZWN5Y2xlIE1ldGhvZHNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBjb21tYW5kIGJlZm9yZSBleGVjdXRpb24uXG4gICAgICovXG4gICAgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ29tbWFuZEZlYXR1cmVzLm9uSW5pdCwgdGhpcy5zY29wZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNvbW1hbmQgbG9naWMuXG4gICAgICovXG4gICAgYXN5bmMgZXhlY3V0ZSgpOiBQcm9taXNlPGFueT4ge1xuXG4gICAgICAgIGlmICh0aGlzLmlzUHJvY2Vzc2VkKSByZXR1cm47XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tTY29wZUluaGVyaXRhbmNlKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgQV9FeGVjdXRpb25Db250ZXh0PEFfQ29tbWFuZF9FeGVjdXRpb25Db250ZXh0PEludm9rZVR5cGUsIFJlc3VsdFR5cGU+PignZXhlY3V0ZS1jb21tYW5kJyk7XG5cbiAgICAgICAgICAgIHRoaXMuc2NvcGUucmVnaXN0ZXIoY29udGV4dCk7XG5cbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9uQmVmb3JlRXhlY3V0ZUZlYXR1cmUgPSBuZXcgQV9GZWF0dXJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IEFfQ29tbWFuZEZlYXR1cmVzLm9uQmVmb3JlRXhlY3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiB0aGlzLnNjb3BlXG4gICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb25FeGVjdXRlRmVhdHVyZSA9IG5ldyBBX0ZlYXR1cmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogQV9Db21tYW5kRmVhdHVyZXMub25FeGVjdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6IHRoaXMuc2NvcGVcbiAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbkFmdGVyRXhlY3V0ZUZlYXR1cmUgPSBuZXcgQV9GZWF0dXJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IEFfQ29tbWFuZEZlYXR1cmVzLm9uQWZ0ZXJFeGVjdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6IHRoaXMuc2NvcGVcbiAgICAgICAgICAgICAgICAgICAgfSlcblxuXG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbihBX0NvbW1hbmRFdmVudC5vbkNvbXBsZXRlLCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQmVmb3JlRXhlY3V0ZUZlYXR1cmUuaW50ZXJydXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkV4ZWN1dGVGZWF0dXJlLmludGVycnVwdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25BZnRlckV4ZWN1dGVGZWF0dXJlLmludGVycnVwdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub24oQV9Db21tYW5kRXZlbnQub25GYWlsLCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQmVmb3JlRXhlY3V0ZUZlYXR1cmUuaW50ZXJydXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkV4ZWN1dGVGZWF0dXJlLmludGVycnVwdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25BZnRlckV4ZWN1dGVGZWF0dXJlLmludGVycnVwdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QodGhpcy5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgb25CZWZvcmVFeGVjdXRlRmVhdHVyZS5wcm9jZXNzKHRoaXMuc2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG9uRXhlY3V0ZUZlYXR1cmUucHJvY2Vzcyh0aGlzLnNjb3BlKTtcblxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBvbkFmdGVyRXhlY3V0ZUZlYXR1cmUucHJvY2Vzcyh0aGlzLnNjb3BlKTtcblxuICAgICAgICAgICAgICAgICAgICAvKiogb25seSBpbiBjYXNlIGl0IHdhcyByZWFsbHkgaW52b2tlZCB3ZSBhdXRvbWF0aWNhbGx5IHRyYW5zaXQgaXQgdG8gQ09NUExFVEVEIHN0YXRlICovXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcmlnaW4gPT09ICdpbnZva2VkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbGV0IHRhcmdldEVycm9yID0gZXJyb3IgaW5zdGFuY2VvZiBBX0Vycm9yXG4gICAgICAgICAgICAgICAgPyBlcnJvclxuICAgICAgICAgICAgICAgIDogbmV3IEFfQ29tbWFuZEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IEFfQ29tbWFuZEVycm9yLkV4ZWN1dGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGV4ZWN1dGluZyBjb21tYW5kIFwiJHt0aGlzLmFzZWlkLnRvU3RyaW5nKCl9XCIuYCxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5mYWlsKHRhcmdldEVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcmtzIHRoZSBjb21tYW5kIGFzIGNvbXBsZXRlZFxuICAgICAqIFxuICAgICAqIFxuICAgICAqIENhbGxpbmcgVGhpcyBtZXRob2Qgd2lsbCBzZXQgdGhlIGNvbW1hbmQgc3RhdHVzIHRvIENPTVBMRVRFRCwgcmVjb3JkIHRoZSBlbmQgdGltZSxcbiAgICAgKiBzdG9yZSB0aGUgcmVzdWx0LCBlbWl0IHRoZSBvbkNvbXBsZXRlIGV2ZW50LCBhbmQgZGVzdHJveSB0aGUgZXhlY3V0aW9uIHNjb3BlLlxuICAgICAqXG4gICAgICogWyFdIEFmdGVyIENhbGxpbmcgdGhpcyBtZXRob2QsIHRoZSBjb21tYW5kIGlzIGNvbnNpZGVyZWQgZnVsbHkgcHJvY2Vzc2VkIEFuZCBmdXJ0aGVyIHByb2Nlc3Npbmcgd2lsbCBiZSBJTlRFUlJVUFRFRC4gXG4gICAgICogWyFdIElmIHRoZSBjb21tYW5kIGlzIGFscmVhZHkgcHJvY2Vzc2VkIChDT01QTEVURUQgb3IgRkFJTEVEKSwgdGhpcyBtZXRob2QgZG9lcyBub3RoaW5nLlxuICAgICAqIFshXSBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHdpdGggb3B0aW9uYWwgcmVzdWx0IGRhdGEgdG8gc3RvcmUgd2l0aCB0aGUgY29tbWFuZC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gT3B0aW9uYWwgcmVzdWx0IGRhdGEgdG8gc3RvcmUgd2l0aCB0aGUgY29tbWFuZFxuICAgICAqL1xuICAgIGFzeW5jIGNvbXBsZXRlKHJlc3VsdD86IFJlc3VsdFR5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNQcm9jZXNzZWQpIHJldHVybjtcblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX0NvbW1hbmRfU3RhdHVzLkNPTVBMRVRFRDtcblxuICAgICAgICB0aGlzLl9yZXN1bHQgPSByZXN1bHQ7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ29tbWFuZEZlYXR1cmVzLm9uQ29tcGxldGUsIHRoaXMuc2NvcGUpO1xuXG4gICAgICAgIHRoaXMuc2NvcGUuZGVzdHJveSgpO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBNYXJrcyB0aGUgY29tbWFuZCBhcyBmYWlsZWRcbiAgICAgKi9cbiAgICBhc3luYyBmYWlsKGVycm9yPzogQV9FcnJvcikge1xuICAgICAgICBpZiAodGhpcy5pc1Byb2Nlc3NlZCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IEFfQ29tbWFuZF9TdGF0dXMuRkFJTEVEO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgICAgICB0aGlzLnNjb3BlLnJlZ2lzdGVyKGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX0NvbW1hbmRGZWF0dXJlcy5vbkZhaWwsIHRoaXMuc2NvcGUpO1xuXG4gICAgICAgIHRoaXMuc2NvcGUuZGVzdHJveSgpO1xuICAgIH1cblxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gICBcbiAgICAvLyBBLUNvbW1hbmQgRXZlbnQtRW1pdHRlciBtZXRob2RzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lciBmb3IgYSBzcGVjaWZpYyBldmVudFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBldmVudCBcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgXG4gICAgICovXG4gICAgb24oZXZlbnQ6IExpZmVjeWNsZUV2ZW50cyB8IEFfQ29tbWFuZEV2ZW50LCBsaXN0ZW5lcjogQV9UWVBFU19fQ29tbWFuZF9MaXN0ZW5lcjxJbnZva2VUeXBlLCBSZXN1bHRUeXBlLCBMaWZlY3ljbGVFdmVudHM+KSB7XG4gICAgICAgIGlmICghdGhpcy5fbGlzdGVuZXJzLmhhcyhldmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycy5zZXQoZXZlbnQsIG5ldyBTZXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLmdldChldmVudCkhLmFkZChsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGEgc3BlY2lmaWMgZXZlbnRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXZlbnQgXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFxuICAgICAqL1xuICAgIG9mZihldmVudDogTGlmZWN5Y2xlRXZlbnRzIHwgQV9Db21tYW5kRXZlbnQsIGxpc3RlbmVyOiBBX1RZUEVTX19Db21tYW5kX0xpc3RlbmVyPEludm9rZVR5cGUsIFJlc3VsdFR5cGUsIExpZmVjeWNsZUV2ZW50cz4pIHtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLmdldChldmVudCk/LmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGV2ZW50IHRvIGFsbCByZWdpc3RlcmVkIGxpc3RlbmVyc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBldmVudCBcbiAgICAgKi9cbiAgICBlbWl0KGV2ZW50OiBMaWZlY3ljbGVFdmVudHMgfCBrZXlvZiB0eXBlb2YgQV9Db21tYW5kRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLmdldChldmVudCk/LmZvckVhY2goYXN5bmMgbGlzdGVuZXIgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXIodGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBBLUVudGl0eSBCYXNlIENsYXNzIE92ZXJyaWRlc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gU2VyaWFsaXphdGlvbiAvIERlc2VyaWFsaXphdGlvblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGNyZWF0ZSBhIENvbW1hbmQgaW5zdGFuY2UgZnJvbSBuZXcgZGF0YVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuZXdFbnRpdHkgXG4gICAgICovXG4gICAgZnJvbU5ldyhuZXdFbnRpdHk6IEludm9rZVR5cGUpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuZnJvbU5ldyhuZXdFbnRpdHkpO1xuXG4gICAgICAgIHRoaXMuX29yaWdpbiA9ICdpbnZva2VkJztcblxuICAgICAgICB0aGlzLl9leGVjdXRpb25TY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6IGBBLUNvbW1hbmQtRXhlY3V0aW9uLVNjb3BlLSR7dGhpcy5hc2VpZC50b1N0cmluZygpfWAsXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbQV9TdGF0ZU1hY2hpbmVdLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9jcmVhdGVkQXQgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuX3BhcmFtcyA9IG5ld0VudGl0eTtcblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX0NvbW1hbmRfU3RhdHVzLkNSRUFURUQ7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBjb252ZXJ0IHNlcmlhbGl6ZWQgZGF0YSB0byBDb21tYW5kIGluc3RhbmNlXG4gICAgICogXG4gICAgICogWyFdIEJ5IGRlZmF1bHQgaXQgb21pdHMgcGFyYW1zIGFzIHRoZXkgYXJlIG5vdCBzdG9yZWQgaW4gdGhlIHNlcmlhbGl6ZWQgZGF0YVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzZXJpYWxpemVkIFxuICAgICAqL1xuICAgIGZyb21KU09OKHNlcmlhbGl6ZWQ6IEFfVFlQRVNfX0NvbW1hbmRfU2VyaWFsaXplZDxJbnZva2VUeXBlLCBSZXN1bHRUeXBlPik6IHZvaWQge1xuICAgICAgICBzdXBlci5mcm9tSlNPTihzZXJpYWxpemVkKTtcblxuICAgICAgICB0aGlzLl9vcmlnaW4gPSAnc2VyaWFsaXplZCc7XG5cbiAgICAgICAgdGhpcy5fZXhlY3V0aW9uU2NvcGUgPSBuZXcgQV9TY29wZSh7XG4gICAgICAgICAgICBuYW1lOiBgQS1Db21tYW5kLUV4ZWN1dGlvbi1TY29wZS0ke3RoaXMuYXNlaWQudG9TdHJpbmcoKX1gLFxuICAgICAgICAgICAgY29tcG9uZW50czogW0FfU3RhdGVNYWNoaW5lXSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHNlcmlhbGl6ZWQuY3JlYXRlZEF0KSB0aGlzLl9jcmVhdGVkQXQgPSBuZXcgRGF0ZShzZXJpYWxpemVkLmNyZWF0ZWRBdCk7XG4gICAgICAgIGlmIChzZXJpYWxpemVkLnN0YXJ0ZWRBdCkgdGhpcy5fc3RhcnRUaW1lID0gbmV3IERhdGUoc2VyaWFsaXplZC5zdGFydGVkQXQpO1xuICAgICAgICBpZiAoc2VyaWFsaXplZC5lbmRlZEF0KSB0aGlzLl9lbmRUaW1lID0gbmV3IERhdGUoc2VyaWFsaXplZC5lbmRlZEF0KTtcblxuICAgICAgICB0aGlzLl9wYXJhbXMgPSBzZXJpYWxpemVkLnBhcmFtc1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBzZXJpYWxpemVkLnN0YXR1cztcblxuICAgICAgICBpZiAoc2VyaWFsaXplZC5lcnJvcilcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gbmV3IEFfQ29tbWFuZEVycm9yKHNlcmlhbGl6ZWQuZXJyb3IpXG5cbiAgICAgICAgaWYgKHNlcmlhbGl6ZWQucmVzdWx0KVxuICAgICAgICAgICAgdGhpcy5fcmVzdWx0ID0gc2VyaWFsaXplZC5yZXN1bHQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgQ29tbWFuZCBpbnN0YW5jZSB0byBhIHBsYWluIG9iamVjdFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvSlNPTigpOiBBX1RZUEVTX19Db21tYW5kX1NlcmlhbGl6ZWQ8SW52b2tlVHlwZSwgUmVzdWx0VHlwZT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMuX3N0YXR1cyxcbiAgICAgICAgICAgIHBhcmFtczogdGhpcy5fcGFyYW1zLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiB0aGlzLl9jcmVhdGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHN0YXJ0ZWRBdDogdGhpcy5fc3RhcnRUaW1lID8gdGhpcy5fc3RhcnRUaW1lLnRvSVNPU3RyaW5nKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbmRlZEF0OiB0aGlzLl9lbmRUaW1lID8gdGhpcy5fZW5kVGltZS50b0lTT1N0cmluZygpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb24sXG4gICAgICAgICAgICBpZGxlVGltZTogdGhpcy5pZGxlVGltZSxcbiAgICAgICAgICAgIHJlc3VsdDogdGhpcy5yZXN1bHQsXG4gICAgICAgICAgICBlcnJvcjogdGhpcy5lcnJvciA/IHRoaXMuZXJyb3IudG9KU09OKCkgOiB1bmRlZmluZWQsXG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlcnMgTWV0aG9kc1xuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoYXQgdGhlIGNvbW1hbmQncyBleGVjdXRpb24gc2NvcGUgaW5oZXJpdHMgZnJvbSB0aGUgY29udGV4dCBzY29wZVxuICAgICAqIFxuICAgICAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgY29tbWFuZCBpcyBub3QgYm91bmQgdG8gYW55IGNvbnRleHQgc2NvcGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY2hlY2tTY29wZUluaGVyaXRhbmNlKCk6IHZvaWQge1xuICAgICAgICBsZXQgYXR0YWNoZWRTY29wZTogQV9TY29wZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXR0YWNoZWRTY29wZSA9IEFfQ29udGV4dC5zY29wZSh0aGlzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbW1hbmRFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfQ29tbWFuZEVycm9yLkNvbW1hbmRTY29wZUJpbmRpbmdFcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYENvbW1hbmQgJHt0aGlzLmFzZWlkLnRvU3RyaW5nKCl9IGlzIG5vdCBib3VuZCB0byBhbnkgY29udGV4dCBzY29wZS4gRW5zdXJlIHRoZSBjb21tYW5kIGlzIHByb3Blcmx5IHJlZ2lzdGVyZWQgd2l0aGluIGEgY29udGV4dCBiZWZvcmUgZXhlY3V0aW9uLmAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnNjb3BlLmlzSW5oZXJpdGVkRnJvbShBX0NvbnRleHQuc2NvcGUodGhpcykpKSB7XG4gICAgICAgICAgICB0aGlzLnNjb3BlLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwgImltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBJZnNwb2x5ZmlsbCB9IGZyb20gXCIuLi9BLVBvbHlmaWxsLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCIuLi8uLi9BLUxvZ2dlci9BLUxvZ2dlci5jb21wb25lbnRcIjtcblxuZXhwb3J0IGNsYXNzIEFfRlNQb2x5ZmlsbENsYXNzIHtcbiAgICBwcml2YXRlIF9mcyE6IElmc3BvbHlmaWxsO1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIGxvZ2dlcjogQV9Mb2dnZXJcbiAgICApIHtcblxuICAgIH1cblxuICAgIGdldCBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG5cbiAgICBhc3luYyBnZXQoKTogUHJvbWlzZTxJZnNwb2x5ZmlsbD4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZnM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbml0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudD09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuX2ZzID0gYXdhaXQgaW1wb3J0KCdmcycpIGFzIElmc3BvbHlmaWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdEJyb3dzZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2ZzID0ge1xuICAgICAgICAgICAgcmVhZEZpbGVTeW5jOiAocGF0aDogc3RyaW5nLCBlbmNvZGluZzogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnZnMucmVhZEZpbGVTeW5jIG5vdCBhdmFpbGFibGUgaW4gYnJvd3NlciBlbnZpcm9ubWVudCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleGlzdHNTeW5jOiAocGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnZnMuZXhpc3RzU3luYyBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXIgZW52aXJvbm1lbnQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3JlYXRlUmVhZFN0cmVhbTogKHBhdGg6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoJ2ZzLmNyZWF0ZVJlYWRTdHJlYW0gbm90IGF2YWlsYWJsZSBpbiBicm93c2VyIGVudmlyb25tZW50Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgSWNyeXB0b0ludGVyZmFjZSwgSWZzcG9seWZpbGwgfSBmcm9tIFwiLi4vQS1Qb2x5ZmlsbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBBX0NyeXB0b1BvbHlmaWxsQ2xhc3Mge1xuICAgIHByaXZhdGUgX2NyeXB0byE6IEljcnlwdG9JbnRlcmZhY2U7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9mc1BvbHlmaWxsPzogSWZzcG9seWZpbGw7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIGxvZ2dlcjogQV9Mb2dnZXJcbiAgICApIHtcbiAgICB9XG5cbiAgICBnZXQgaXNJbml0aWFsaXplZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkO1xuICAgIH1cblxuICAgIGFzeW5jIGdldChmc1BvbHlmaWxsPzogSWZzcG9seWZpbGwpOiBQcm9taXNlPEljcnlwdG9JbnRlcmZhY2U+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy5fZnNQb2x5ZmlsbCA9IGZzUG9seWZpbGw7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY3J5cHRvO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0U2VydmVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdFNlcnZlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgY3J5cHRvID0gYXdhaXQgaW1wb3J0KCdjcnlwdG8nKTtcbiAgICAgICAgdGhpcy5fY3J5cHRvID0ge1xuICAgICAgICAgICAgY3JlYXRlVGV4dEhhc2g6ICh0ZXh0OiBzdHJpbmcsIGFsZ29yaXRobTogc3RyaW5nID0gJ3NoYTM4NCcpID0+IFByb21pc2UucmVzb2x2ZShcbiAgICAgICAgICAgICAgICBgJHthbGdvcml0aG19LSR7Y3J5cHRvLmNyZWF0ZUhhc2goYWxnb3JpdGhtKS51cGRhdGUodGV4dCkuZGlnZXN0KCdiYXNlNjQnKX1gXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgY3JlYXRlRmlsZUhhc2g6IChmaWxlUGF0aDogc3RyaW5nLCBhbGdvcml0aG06IHN0cmluZyA9ICdzaGEzODQnKSA9PiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9mc1BvbHlmaWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZTIHBvbHlmaWxsIGlzIHJlcXVpcmVkIGZvciBmaWxlIGhhc2hpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNoID0gY3J5cHRvLmNyZWF0ZUhhc2goYWxnb3JpdGhtKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZVN0cmVhbSA9IHRoaXMuX2ZzUG9seWZpbGwuY3JlYXRlUmVhZFN0cmVhbShmaWxlUGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVTdHJlYW0ub24oJ2RhdGEnLCAoZGF0YTogYW55KSA9PiBoYXNoLnVwZGF0ZShkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVTdHJlYW0ub24oJ2VuZCcsICgpID0+IHJlc29sdmUoYCR7YWxnb3JpdGhtfS0ke2hhc2guZGlnZXN0KCdiYXNlNjQnKX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVTdHJlYW0ub24oJ2Vycm9yJywgKGVycjogYW55KSA9PiByZWplY3QoZXJyKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdEJyb3dzZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2NyeXB0byA9IHtcbiAgICAgICAgICAgIGNyZWF0ZUZpbGVIYXNoOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnRmlsZSBoYXNoIG5vdCBhdmFpbGFibGUgaW4gYnJvd3NlciBlbnZpcm9ubWVudCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNyZWF0ZVRleHRIYXNoOiAodGV4dDogc3RyaW5nLCBhbGdvcml0aG06IHN0cmluZyA9ICdTSEEtMzg0JykgPT4gbmV3IFByb21pc2U8c3RyaW5nPihhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjcnlwdG8uc3VidGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1YnRsZUNyeXB0byBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gZW5jb2Rlci5lbmNvZGUodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc2hCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChhbGdvcml0aG0sIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzaEJhc2U2NCA9IGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZSguLi5oYXNoQXJyYXkpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShgJHthbGdvcml0aG19LSR7aGFzaEJhc2U2NH1gKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgSWh0dHBJbnRlcmZhY2UgfSBmcm9tIFwiLi4vQS1Qb2x5ZmlsbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBBX0h0dHBQb2x5ZmlsbENsYXNzIHtcbiAgICBwcml2YXRlIF9odHRwITogSWh0dHBJbnRlcmZhY2U7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuXG4gICAgfVxuXG4gICAgZ2V0IGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZDtcbiAgICB9XG5cbiAgICBhc3luYyBnZXQoKTogUHJvbWlzZTxJaHR0cEludGVyZmFjZT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGh0dHBNb2R1bGUgPSBhd2FpdCBpbXBvcnQoJ2h0dHAnKTtcbiAgICAgICAgdGhpcy5faHR0cCA9IHtcbiAgICAgICAgICAgIHJlcXVlc3Q6IGh0dHBNb2R1bGUucmVxdWVzdCxcbiAgICAgICAgICAgIGdldDogaHR0cE1vZHVsZS5nZXQsXG4gICAgICAgICAgICBjcmVhdGVTZXJ2ZXI6IGh0dHBNb2R1bGUuY3JlYXRlU2VydmVyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0QnJvd3NlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5faHR0cCA9IHtcbiAgICAgICAgICAgIHJlcXVlc3Q6IChvcHRpb25zOiBhbnksIGNhbGxiYWNrPzogKHJlczogYW55KSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnaHR0cC5yZXF1ZXN0IG5vdCBhdmFpbGFibGUgaW4gYnJvd3Nlci90ZXN0IGVudmlyb25tZW50LCB1c2UgZmV0Y2ggaW5zdGVhZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZU1vY2tSZXF1ZXN0KG9wdGlvbnMsIGNhbGxiYWNrLCBmYWxzZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiAodXJsOiBzdHJpbmcgfCBhbnksIGNhbGxiYWNrPzogKHJlczogYW55KSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnaHR0cC5nZXQgbm90IGF2YWlsYWJsZSBpbiBicm93c2VyL3Rlc3QgZW52aXJvbm1lbnQsIHVzZSBmZXRjaCBpbnN0ZWFkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlTW9ja1JlcXVlc3QodHlwZW9mIHVybCA9PT0gJ3N0cmluZycgPyB7IGhvc3RuYW1lOiB1cmwgfSA6IHVybCwgY2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVhdGVTZXJ2ZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignaHR0cC5jcmVhdGVTZXJ2ZXIgbm90IGF2YWlsYWJsZSBpbiBicm93c2VyL3Rlc3QgZW52aXJvbm1lbnQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZU1vY2tSZXF1ZXN0KG9wdGlvbnM6IGFueSwgY2FsbGJhY2s/OiAocmVzOiBhbnkpID0+IHZvaWQsIGlzSHR0cHM6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICAvLyBSZXR1cm4gYSBtb2NrIHJlcXVlc3QgdGhhdCBkb2Vzbid0IG1ha2UgcmVhbCBuZXR3b3JrIGNhbGxzXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgICAgICBlbmQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBNb2NrIHJlc3BvbnNlIGZvciBhbGwgZW52aXJvbm1lbnRzXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb246IChldmVudDogc3RyaW5nLCBoYW5kbGVyOiBGdW5jdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2RhdGEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gaGFuZGxlcignbW9jayBkYXRhJyksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdlbmQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gaGFuZGxlcigpLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGlwZTogKGRlc3Q6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXN0LndyaXRlKSBkZXN0LndyaXRlKCdtb2NrIGRhdGEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVzdC5lbmQpIGRlc3QuZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gY2FsbGJhY2sobW9ja1Jlc3BvbnNlKSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdyaXRlOiAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTW9jayB3cml0ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uOiAoZXZlbnQ6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAvLyBNb2NrIGV2ZW50IGhhbmRsaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgSWh0dHBzSW50ZXJmYWNlIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwudHlwZXNcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgQV9IdHRwc1BvbHlmaWxsQ2xhc3Mge1xuICAgIHByaXZhdGUgX2h0dHBzITogSWh0dHBzSW50ZXJmYWNlO1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIGxvZ2dlcjogQV9Mb2dnZXJcbiAgICApIHtcblxuICAgIH1cblxuICAgIGdldCBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0KCk6IFByb21pc2U8SWh0dHBzSW50ZXJmYWNlPiB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGh0dHBzTW9kdWxlID0gYXdhaXQgaW1wb3J0KCdodHRwcycpO1xuICAgICAgICB0aGlzLl9odHRwcyA9IHtcbiAgICAgICAgICAgIHJlcXVlc3Q6IGh0dHBzTW9kdWxlLnJlcXVlc3QsXG4gICAgICAgICAgICBnZXQ6IGh0dHBzTW9kdWxlLmdldCxcbiAgICAgICAgICAgIGNyZWF0ZVNlcnZlcjogaHR0cHNNb2R1bGUuY3JlYXRlU2VydmVyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0QnJvd3NlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5faHR0cHMgPSB7XG4gICAgICAgICAgICByZXF1ZXN0OiAob3B0aW9uczogYW55LCBjYWxsYmFjaz86IChyZXM6IGFueSkgPT4gdm9pZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoJ2h0dHBzLnJlcXVlc3Qgbm90IGF2YWlsYWJsZSBpbiBicm93c2VyL3Rlc3QgZW52aXJvbm1lbnQsIHVzZSBmZXRjaCBpbnN0ZWFkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlTW9ja1JlcXVlc3Qob3B0aW9ucywgY2FsbGJhY2ssIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogKHVybDogc3RyaW5nIHwgYW55LCBjYWxsYmFjaz86IChyZXM6IGFueSkgPT4gdm9pZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoJ2h0dHBzLmdldCBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXIvdGVzdCBlbnZpcm9ubWVudCwgdXNlIGZldGNoIGluc3RlYWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVNb2NrUmVxdWVzdCh0eXBlb2YgdXJsID09PSAnc3RyaW5nJyA/IHsgaG9zdG5hbWU6IHVybCB9IDogdXJsLCBjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3JlYXRlU2VydmVyOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ2h0dHBzLmNyZWF0ZVNlcnZlciBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXIvdGVzdCBlbnZpcm9ubWVudCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlTW9ja1JlcXVlc3Qob3B0aW9uczogYW55LCBjYWxsYmFjaz86IChyZXM6IGFueSkgPT4gdm9pZCwgaXNIdHRwczogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgLy8gUmV0dXJuIGEgbW9jayByZXF1ZXN0IHRoYXQgZG9lc24ndCBtYWtlIHJlYWwgbmV0d29yayBjYWxsc1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgZW5kOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTW9jayByZXNwb25zZSBmb3IgYWxsIGVudmlyb25tZW50c1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2NrUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOiAoZXZlbnQ6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdkYXRhJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGhhbmRsZXIoJ21vY2sgZGF0YScpLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnZW5kJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGhhbmRsZXIoKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpcGU6IChkZXN0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVzdC53cml0ZSkgZGVzdC53cml0ZSgnbW9jayBkYXRhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3QuZW5kKSBkZXN0LmVuZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGNhbGxiYWNrKG1vY2tSZXNwb25zZSksIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3cml0ZTogKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIE1vY2sgd3JpdGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbjogKGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTW9jayBldmVudCBoYW5kbGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IElwYXRoSW50ZXJmYWNlIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwudHlwZXNcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgQV9QYXRoUG9seWZpbGxDbGFzcyB7XG4gICAgcHJpdmF0ZSBfcGF0aCE6IElwYXRoSW50ZXJmYWNlO1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIGxvZ2dlcjogQV9Mb2dnZXJcbiAgICApIHtcblxuICAgIH1cblxuICAgIGdldCBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG5cbiAgICBhc3luYyBnZXQoKTogUHJvbWlzZTxJcGF0aEludGVyZmFjZT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcGF0aDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuX3BhdGggPSBhd2FpdCBpbXBvcnQoJ3BhdGgnKSBhcyBJcGF0aEludGVyZmFjZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRCcm93c2VyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9wYXRoID0ge1xuICAgICAgICAgICAgam9pbjogKC4uLnBhdGhzOiBzdHJpbmdbXSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRocy5qb2luKCcvJykucmVwbGFjZSgvXFwvKy9nLCAnLycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc29sdmU6ICguLi5wYXRoczogc3RyaW5nW10pID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzb2x2ZWRQYXRoID0gJyc7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYXRoIG9mIHBhdGhzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRQYXRoID0gcGF0aDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkUGF0aCA9IHRoaXMuX3BhdGguam9pbihyZXNvbHZlZFBhdGgsIHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlZFBhdGggfHwgJy8nO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpcm5hbWU6IChwYXRoOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFydHMuc2xpY2UoMCwgLTEpLmpvaW4oJy8nKSB8fCAnLyc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmFzZW5hbWU6IChwYXRoOiBzdHJpbmcsIGV4dD86IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSBwYXRoLnNwbGl0KCcvJykucG9wKCkgfHwgJyc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4dCAmJiBiYXNlLmVuZHNXaXRoKGV4dCkgPyBiYXNlLnNsaWNlKDAsIC1leHQubGVuZ3RoKSA6IGJhc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXh0bmFtZTogKHBhdGg6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0cy5sZW5ndGggPiAxID8gJy4nICsgcGFydHMucG9wKCkgOiAnJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWxhdGl2ZTogKGZyb206IHN0cmluZywgdG86IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFNpbXBsaWZpZWQgcmVsYXRpdmUgcGF0aCBjYWxjdWxhdGlvblxuICAgICAgICAgICAgICAgIHJldHVybiB0by5yZXBsYWNlKGZyb20sICcnKS5yZXBsYWNlKC9eXFwvLywgJycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vcm1hbGl6ZTogKHBhdGg6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLysvZywgJy8nKS5yZXBsYWNlKC9cXC8kLywgJycpIHx8ICcvJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0Fic29sdXRlOiAocGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdGguc3RhcnRzV2l0aCgnLycpIHx8IC9eW2EtekEtWl06Ly50ZXN0KHBhdGgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcnNlOiAocGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gdGhpcy5fcGF0aC5leHRuYW1lKHBhdGgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLl9wYXRoLmJhc2VuYW1lKHBhdGgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLl9wYXRoLmJhc2VuYW1lKHBhdGgsIGV4dCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlyID0gdGhpcy5fcGF0aC5kaXJuYW1lKHBhdGgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHJvb3Q6ICcvJywgZGlyLCBiYXNlLCBleHQsIG5hbWUgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb3JtYXQ6IChwYXRoT2JqZWN0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGF0aC5qb2luKHBhdGhPYmplY3QuZGlyIHx8ICcnLCBwYXRoT2JqZWN0LmJhc2UgfHwgJycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlcDogJy8nLFxuICAgICAgICAgICAgZGVsaW1pdGVyOiAnOidcbiAgICAgICAgfTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBJdXJsSW50ZXJmYWNlIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwudHlwZXNcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgQV9VcmxQb2x5ZmlsbENsYXNzIHtcbiAgICBwcml2YXRlIF91cmwhOiBJdXJsSW50ZXJmYWNlO1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBnZXQgaXNJbml0aWFsaXplZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0KCk6IFByb21pc2U8SXVybEludGVyZmFjZT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdXJsO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0U2VydmVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdFNlcnZlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgdXJsTW9kdWxlID0gYXdhaXQgaW1wb3J0KCd1cmwnKTtcbiAgICAgICAgdGhpcy5fdXJsID0ge1xuICAgICAgICAgICAgcGFyc2U6IHVybE1vZHVsZS5wYXJzZSxcbiAgICAgICAgICAgIGZvcm1hdDogdXJsTW9kdWxlLmZvcm1hdCxcbiAgICAgICAgICAgIHJlc29sdmU6IHVybE1vZHVsZS5yZXNvbHZlLFxuICAgICAgICAgICAgVVJMOiAodXJsTW9kdWxlLlVSTCB8fCBnbG9iYWxUaGlzLlVSTCkgYXMgYW55LFxuICAgICAgICAgICAgVVJMU2VhcmNoUGFyYW1zOiAodXJsTW9kdWxlLlVSTFNlYXJjaFBhcmFtcyB8fCBnbG9iYWxUaGlzLlVSTFNlYXJjaFBhcmFtcykgYXMgYW55XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0QnJvd3NlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fdXJsID0ge1xuICAgICAgICAgICAgcGFyc2U6ICh1cmxTdHJpbmc6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodXJsU3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3RvY29sOiB1cmwucHJvdG9jb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0bmFtZTogdXJsLmhvc3RuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogdXJsLnBvcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRobmFtZTogdXJsLnBhdGhuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiB1cmwuc2VhcmNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzaDogdXJsLmhhc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0OiB1cmwuaG9zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IHVybC5ocmVmXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9ybWF0OiAodXJsT2JqZWN0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVSTCgnJywgdXJsT2JqZWN0LmhyZWYgfHwgYCR7dXJsT2JqZWN0LnByb3RvY29sfS8vJHt1cmxPYmplY3QuaG9zdH0ke3VybE9iamVjdC5wYXRobmFtZX0ke3VybE9iamVjdC5zZWFyY2h9JHt1cmxPYmplY3QuaGFzaH1gKS5ocmVmO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc29sdmU6IChmcm9tOiBzdHJpbmcsIHRvOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVSTCh0bywgZnJvbSkuaHJlZjtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBVUkw6IGdsb2JhbFRoaXMuVVJMLFxuICAgICAgICAgICAgVVJMU2VhcmNoUGFyYW1zOiBnbG9iYWxUaGlzLlVSTFNlYXJjaFBhcmFtc1xuICAgICAgICB9O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IElidWZmZXJJbnRlcmZhY2UgfSBmcm9tIFwiLi4vQS1Qb2x5ZmlsbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBBX0J1ZmZlclBvbHlmaWxsQ2xhc3Mge1xuICAgIHByaXZhdGUgX2J1ZmZlciE6IElidWZmZXJJbnRlcmZhY2U7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuXG4gICAgfVxuXG4gICAgZ2V0IGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZDtcbiAgICB9XG5cblxuICAgIGFzeW5jIGdldCgpOiBQcm9taXNlPElidWZmZXJJbnRlcmZhY2U+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlck1vZHVsZSA9IGF3YWl0IGltcG9ydCgnYnVmZmVyJyk7XG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IHtcbiAgICAgICAgICAgIGZyb206IGJ1ZmZlck1vZHVsZS5CdWZmZXIuZnJvbSxcbiAgICAgICAgICAgIGFsbG9jOiBidWZmZXJNb2R1bGUuQnVmZmVyLmFsbG9jLFxuICAgICAgICAgICAgYWxsb2NVbnNhZmU6IGJ1ZmZlck1vZHVsZS5CdWZmZXIuYWxsb2NVbnNhZmUsXG4gICAgICAgICAgICBpc0J1ZmZlcjogYnVmZmVyTW9kdWxlLkJ1ZmZlci5pc0J1ZmZlcixcbiAgICAgICAgICAgIGNvbmNhdDogYnVmZmVyTW9kdWxlLkJ1ZmZlci5jb25jYXRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRCcm93c2VyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9idWZmZXIgPSB7XG4gICAgICAgICAgICBmcm9tOiAoZGF0YTogYW55LCBlbmNvZGluZz86IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFsbG9jOiAoc2l6ZTogbnVtYmVyLCBmaWxsPzogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXIuZmlsbChmaWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbGxvY1Vuc2FmZTogKHNpemU6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0J1ZmZlcjogKG9iajogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgb2JqIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uY2F0OiAobGlzdDogYW55W10sIHRvdGFsTGVuZ3RoPzogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gdG90YWxMZW5ndGggfHwgbGlzdC5yZWR1Y2UoKHN1bSwgYnVmKSA9PiBzdW0gKyBidWYubGVuZ3RoLCAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICAgICAgICAgICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYnVmIG9mIGxpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldChidWYsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBidWYubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IElwcm9jZXNzSW50ZXJmYWNlIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwudHlwZXNcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgQV9Qcm9jZXNzUG9seWZpbGxDbGFzcyB7XG4gICAgcHJpdmF0ZSBfcHJvY2VzcyE6IElwcm9jZXNzSW50ZXJmYWNlO1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBnZXQgaXNJbml0aWFsaXplZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0KCk6IFByb21pc2U8SXByb2Nlc3NJbnRlcmZhY2U+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3M7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbml0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ3NlcnZlcicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRTZXJ2ZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0QnJvd3NlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5pbml0QnJvd3NlcigpO1xuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0U2VydmVyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9wcm9jZXNzID0ge1xuICAgICAgICAgICAgZW52OiBwcm9jZXNzLmVudiBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgICAgICAgICAgYXJndjogcHJvY2Vzcy5hcmd2LFxuICAgICAgICAgICAgcGxhdGZvcm06IHByb2Nlc3MucGxhdGZvcm0sXG4gICAgICAgICAgICB2ZXJzaW9uOiBwcm9jZXNzLnZlcnNpb24sXG4gICAgICAgICAgICB2ZXJzaW9uczogcHJvY2Vzcy52ZXJzaW9ucyBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgICAgICAgICAgY3dkOiBwcm9jZXNzLmN3ZCxcbiAgICAgICAgICAgIGV4aXQ6IHByb2Nlc3MuZXhpdCxcbiAgICAgICAgICAgIG5leHRUaWNrOiBwcm9jZXNzLm5leHRUaWNrXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0QnJvd3NlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IHtcbiAgICAgICAgICAgIGVudjoge1xuICAgICAgICAgICAgICAgIE5PREVfRU5WOiAnYnJvd3NlcicsXG4gICAgICAgICAgICAgICAgLi4uKChnbG9iYWxUaGlzIGFzIGFueSkucHJvY2Vzcz8uZW52IHx8IHt9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFyZ3Y6IFsnYnJvd3NlciddLFxuICAgICAgICAgICAgcGxhdGZvcm06ICdicm93c2VyJyxcbiAgICAgICAgICAgIHZlcnNpb246ICdicm93c2VyJyxcbiAgICAgICAgICAgIHZlcnNpb25zOiB7IG5vZGU6ICdicm93c2VyJyB9LFxuICAgICAgICAgICAgY3dkOiAoKSA9PiAnLycsXG4gICAgICAgICAgICBleGl0OiAoY29kZT86IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoJ3Byb2Nlc3MuZXhpdCBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXInKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb2Nlc3MgZXhpdCB3aXRoIGNvZGUgJHtjb2RlfWApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5leHRUaWNrOiAoY2FsbGJhY2s6IEZ1bmN0aW9uLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gY2FsbGJhY2soLi4uYXJncyksIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQsIEFfQ29uY2VwdCwgQV9Db250ZXh0LCBBX0luamVjdCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCIuLi9BLUxvZ2dlci9BLUxvZ2dlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfRlNQb2x5ZmlsbENsYXNzIH0gZnJvbSBcIi4vY2xhc3Nlcy9BLUZTLVBvbHlmaWxsLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NyeXB0b1BvbHlmaWxsQ2xhc3MgfSBmcm9tIFwiLi9jbGFzc2VzL0EtQ3J5cHRvLVBvbHlmaWxsLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0h0dHBQb2x5ZmlsbENsYXNzIH0gZnJvbSBcIi4vY2xhc3Nlcy9BLUh0dHAtUG9seWZpbGwuY2xhc3NcIjtcbmltcG9ydCB7IEFfSHR0cHNQb2x5ZmlsbENsYXNzIH0gZnJvbSBcIi4vY2xhc3Nlcy9BLUh0dHBzLVBvbHlmaWxsLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1BhdGhQb2x5ZmlsbENsYXNzIH0gZnJvbSBcIi4vY2xhc3Nlcy9BLVBhdGgtUG9seWZpbGwuY2xhc3NcIjtcbmltcG9ydCB7IEFfVXJsUG9seWZpbGxDbGFzcyB9IGZyb20gXCIuL2NsYXNzZXMvQS1VcmwtUG9seWZpbGwuY2xhc3NcIjtcbmltcG9ydCB7IEFfQnVmZmVyUG9seWZpbGxDbGFzcyB9IGZyb20gXCIuL2NsYXNzZXMvQS1CdWZmZXItUG9seWZpbGwuY2xhc3NcIjtcbmltcG9ydCB7IEFfUHJvY2Vzc1BvbHlmaWxsQ2xhc3MgfSBmcm9tIFwiLi9jbGFzc2VzL0EtUHJvY2Vzcy1Qb2x5ZmlsbC5jbGFzc1wiO1xuXG5leHBvcnQgY2xhc3MgQV9Qb2x5ZmlsbCBleHRlbmRzIEFfQ29tcG9uZW50IHtcblxuICAgIHByb3RlY3RlZCBfZnNQb2x5ZmlsbCE6IEFfRlNQb2x5ZmlsbENsYXNzO1xuICAgIHByb3RlY3RlZCBfY3J5cHRvUG9seWZpbGwhOiBBX0NyeXB0b1BvbHlmaWxsQ2xhc3M7XG4gICAgcHJvdGVjdGVkIF9odHRwUG9seWZpbGwhOiBBX0h0dHBQb2x5ZmlsbENsYXNzO1xuICAgIHByb3RlY3RlZCBfaHR0cHNQb2x5ZmlsbCE6IEFfSHR0cHNQb2x5ZmlsbENsYXNzO1xuICAgIHByb3RlY3RlZCBfcGF0aFBvbHlmaWxsITogQV9QYXRoUG9seWZpbGxDbGFzcztcbiAgICBwcm90ZWN0ZWQgX3VybFBvbHlmaWxsITogQV9VcmxQb2x5ZmlsbENsYXNzO1xuICAgIHByb3RlY3RlZCBfYnVmZmVyUG9seWZpbGwhOiBBX0J1ZmZlclBvbHlmaWxsQ2xhc3M7XG4gICAgcHJvdGVjdGVkIF9wcm9jZXNzUG9seWZpbGwhOiBBX1Byb2Nlc3NQb2x5ZmlsbENsYXNzO1xuXG4gICAgcHJvdGVjdGVkIF9pbml0aWFsaXppbmc6IFByb21pc2U8dm9pZD4gfCBudWxsID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY2hhbm5lbCBpcyBjb25uZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2luaXRpYWxpemVkPzogUHJvbWlzZTx2b2lkPjtcblxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgcHJvdGVjdGVkIGxvZ2dlcjogQV9Mb2dnZXJcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY2hhbm5lbCBpcyBjb25uZWN0ZWRcbiAgICAgKi9cbiAgICBnZXQgcmVhZHkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdGhpcy5fbG9hZEludGVybmFsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkO1xuICAgIH1cblxuXG5cbiAgICBAQV9Db25jZXB0LkxvYWQoKVxuICAgIGFzeW5jIGxvYWQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHk7XG4gICAgfVxuXG4gICAgQEFfQ29uY2VwdC5Mb2FkKClcbiAgICBhc3luYyBhdHRhY2hUb1dpbmRvdygpIHtcbiAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCAhPT0gJ2Jyb3dzZXInKSByZXR1cm47XG5cblxuICAgICAgICAoZ2xvYmFsVGhpcyBhcyBhbnkpLkFfUG9seWZpbGwgPSB0aGlzO1xuICAgICAgICAvLyBhdHRhY2ggZW52IHZhcmlhYmxlc1xuICAgICAgICAoZ2xvYmFsVGhpcyBhcyBhbnkpLnByb2Nlc3MgPSB7IGVudjogeyBOT0RFX0VOVjogJ3Byb2R1Y3Rpb24nIH0sIGN3ZDogKCkgPT4gXCIvXCIgfTtcbiAgICAgICAgKGdsb2JhbFRoaXMgYXMgYW55KS5fX2Rpcm5hbWUgPSBcIi9cIjtcblxuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIF9sb2FkSW50ZXJuYWwoKSB7XG5cbiAgICAgICAgdGhpcy5fZnNQb2x5ZmlsbCA9IG5ldyBBX0ZTUG9seWZpbGxDbGFzcyh0aGlzLmxvZ2dlcik7XG4gICAgICAgIHRoaXMuX2NyeXB0b1BvbHlmaWxsID0gbmV3IEFfQ3J5cHRvUG9seWZpbGxDbGFzcyh0aGlzLmxvZ2dlcik7XG4gICAgICAgIHRoaXMuX2h0dHBQb2x5ZmlsbCA9IG5ldyBBX0h0dHBQb2x5ZmlsbENsYXNzKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5faHR0cHNQb2x5ZmlsbCA9IG5ldyBBX0h0dHBzUG9seWZpbGxDbGFzcyh0aGlzLmxvZ2dlcik7XG4gICAgICAgIHRoaXMuX3BhdGhQb2x5ZmlsbCA9IG5ldyBBX1BhdGhQb2x5ZmlsbENsYXNzKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5fdXJsUG9seWZpbGwgPSBuZXcgQV9VcmxQb2x5ZmlsbENsYXNzKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5fYnVmZmVyUG9seWZpbGwgPSBuZXcgQV9CdWZmZXJQb2x5ZmlsbENsYXNzKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5fcHJvY2Vzc1BvbHlmaWxsID0gbmV3IEFfUHJvY2Vzc1BvbHlmaWxsQ2xhc3ModGhpcy5sb2dnZXIpO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgYWxsIHBvbHlmaWxscyB0byBlbnN1cmUgdGhleSdyZSByZWFkeVxuICAgICAgICBhd2FpdCB0aGlzLl9mc1BvbHlmaWxsLmdldCgpO1xuICAgICAgICBhd2FpdCB0aGlzLl9jcnlwdG9Qb2x5ZmlsbC5nZXQoYXdhaXQgdGhpcy5fZnNQb2x5ZmlsbC5nZXQoKSk7XG4gICAgICAgIGF3YWl0IHRoaXMuX2h0dHBQb2x5ZmlsbC5nZXQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5faHR0cHNQb2x5ZmlsbC5nZXQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fcGF0aFBvbHlmaWxsLmdldCgpO1xuICAgICAgICBhd2FpdCB0aGlzLl91cmxQb2x5ZmlsbC5nZXQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fYnVmZmVyUG9seWZpbGwuZ2V0KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuX3Byb2Nlc3NQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAnZnMnIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ2ZzJyBwb2x5ZmlsbCBhbmQgcmV0dXJucyBpdHMgaW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhc3luYyBmcygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fZnNQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAnY3J5cHRvJyBwb2x5ZmlsbCBtZXRob2RzIHJlZ2FyZGxlc3Mgb2YgdGhlIGVudmlyb25tZW50XG4gICAgICogVGhpcyBtZXRob2QgbG9hZHMgdGhlICdjcnlwdG8nIHBvbHlmaWxsIGFuZCByZXR1cm5zIGl0cyBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIGNyeXB0bygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fY3J5cHRvUG9seWZpbGwuZ2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHVzZSB0aGUgJ2h0dHAnIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ2h0dHAnIHBvbHlmaWxsIGFuZCByZXR1cm5zIGl0cyBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIGh0dHAoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2h0dHBQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAnaHR0cHMnIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ2h0dHBzJyBwb2x5ZmlsbCBhbmQgcmV0dXJucyBpdHMgaW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhc3luYyBodHRwcygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5faHR0cHNQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAncGF0aCcgcG9seWZpbGwgbWV0aG9kcyByZWdhcmRsZXNzIG9mIHRoZSBlbnZpcm9ubWVudFxuICAgICAqIFRoaXMgbWV0aG9kIGxvYWRzIHRoZSAncGF0aCcgcG9seWZpbGwgYW5kIHJldHVybnMgaXRzIGluc3RhbmNlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgcGF0aCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fcGF0aFBvbHlmaWxsLmdldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byB1c2UgdGhlICd1cmwnIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ3VybCcgcG9seWZpbGwgYW5kIHJldHVybnMgaXRzIGluc3RhbmNlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgdXJsKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5O1xuXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl91cmxQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAnYnVmZmVyJyBwb2x5ZmlsbCBtZXRob2RzIHJlZ2FyZGxlc3Mgb2YgdGhlIGVudmlyb25tZW50XG4gICAgICogVGhpcyBtZXRob2QgbG9hZHMgdGhlICdidWZmZXInIHBvbHlmaWxsIGFuZCByZXR1cm5zIGl0cyBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIGJ1ZmZlcigpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fYnVmZmVyUG9seWZpbGwuZ2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHVzZSB0aGUgJ3Byb2Nlc3MnIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ3Byb2Nlc3MnIHBvbHlmaWxsIGFuZCByZXR1cm5zIGl0cyBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIHByb2Nlc3MoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3Byb2Nlc3NQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ29tcG9uZW50LCBBX0NvbmNlcHQsIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVksIEFfQ29udGFpbmVyLCBBX0NvbnRleHQsIEFfRGVwZW5kZW5jeSwgQV9GZWF0dXJlLCBBX0luamVjdCwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0NvbmZpZyB9IGZyb20gXCIuLi9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVkgfSBmcm9tIFwiLi4vQS1Db25maWcuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1BvbHlmaWxsIH0gZnJvbSBcIi4uLy4uL0EtUG9seWZpbGwvQS1Qb2x5ZmlsbC5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfTWVtb3J5IH0gZnJvbSBcIi4uLy4uL0EtTWVtb3J5L0EtTWVtb3J5LmNvbXBvbmVudFwiO1xuXG4vKipcbiAqIENvbmZpZyBSZWFkZXJcbiAqL1xuZXhwb3J0IGNsYXNzIENvbmZpZ1JlYWRlciBleHRlbmRzIEFfQ29tcG9uZW50IHtcblxuICAgIHByb3RlY3RlZCBERUZBVUxUX0FMTE9XRURfVE9fUkVBRF9QUk9QRVJUSUVTID0gW1xuICAgICAgICAuLi5BX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZLFxuICAgICAgICAuLi5BX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVlcbiAgICBdO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9Qb2x5ZmlsbCkgcHJvdGVjdGVkIHBvbHlmaWxsOiBBX1BvbHlmaWxsLFxuICAgICkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIEBBX0NvbmNlcHQuTG9hZCgpXG4gICAgYXN5bmMgYXR0YWNoQ29udGV4dChcbiAgICAgICAgQEFfSW5qZWN0KEFfQ29udGFpbmVyKSBjb250YWluZXI6IEFfQ29udGFpbmVyLFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgY29udGV4dDogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfQ29uZmlnKSBjb25maWc/OiBBX0NvbmZpZzxhbnk+LFxuICAgICkge1xuICAgICAgICBpZiAoIWNvbmZpZykge1xuICAgICAgICAgICAgY29uZmlnID0gbmV3IEFfQ29uZmlnKHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0czoge31cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb250YWluZXIuc2NvcGUucmVnaXN0ZXIoY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJvb3REaXIgPSBhd2FpdCB0aGlzLmdldFByb2plY3RSb290KCk7XG5cbiAgICAgICAgY29uZmlnLnNldCgnQV9DT05DRVBUX1JPT1RfRk9MREVSJywgcm9vdERpcik7XG4gICAgfVxuXG4gICAgQEFfQ29uY2VwdC5Mb2FkKClcbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBAQV9EZXBlbmRlbmN5LlJlcXVpcmVkKClcbiAgICAgICAgQEFfSW5qZWN0KEFfQ29uZmlnKSBjb25maWc6IEFfQ29uZmlnLFxuICAgICkge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5yZWFkKCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgY29uZmlnLnNldChrZXksIGRhdGFba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbmZpZ3VyYXRpb24gcHJvcGVydHkgYnkgTmFtZVxuICAgICAqIEBwYXJhbSBwcm9wZXJ0eSBcbiAgICAgKi9cbiAgICByZXNvbHZlPF9SZXR1cm5UeXBlID0gYW55Pihwcm9wZXJ0eTogc3RyaW5nKTogX1JldHVyblR5cGUge1xuICAgICAgICByZXR1cm4gcHJvcGVydHkgYXMgX1JldHVyblR5cGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmVhZHMgdGhlIGNvbmZpZ3VyYXRpb24gYW5kIHNldHMgdGhlIHZhbHVlcyB0byB0aGUgY29udGV4dFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIHJlYWQ8VCBleHRlbmRzIHN0cmluZz4oXG4gICAgICAgIHZhcmlhYmxlczogQXJyYXk8VD4gPSBbXVxuICAgICk6IFByb21pc2U8UmVjb3JkPFQsIGFueT4+IHtcbiAgICAgICAgcmV0dXJuIHt9IGFzIFJlY29yZDxULCBhbnk+O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoZSBwcm9qZWN0IGJ5IGxvY2F0aW5nIHRoZSBmb2xkZXIgY29udGFpbmluZyBwYWNrYWdlLmpzb25cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RhcnRQYXRoIC0gVGhlIGluaXRpYWwgZGlyZWN0b3J5IHRvIHN0YXJ0IHNlYXJjaGluZyBmcm9tIChkZWZhdWx0IGlzIF9fZGlybmFtZSlcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IC0gVGhlIHBhdGggdG8gdGhlIHJvb3QgZGlyZWN0b3J5IG9yIG51bGwgaWYgcGFja2FnZS5qc29uIGlzIG5vdCBmb3VuZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBnZXRQcm9qZWN0Um9vdChzdGFydFBhdGggPSBfX2Rpcm5hbWUpIHtcbiAgICAgICAgY29uc3QgcHJvY2VzcyA9IGF3YWl0IHRoaXMucG9seWZpbGwucHJvY2VzcygpO1xuXG4gICAgICAgIHJldHVybiBwcm9jZXNzLmN3ZCgpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0LCBBX0Zvcm1hdHRlckhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBDb25maWdSZWFkZXIgfSBmcm9tIFwiLi9Db25maWdSZWFkZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBGaWxlQ29uZmlnUmVhZGVyIGV4dGVuZHMgQ29uZmlnUmVhZGVyIHtcblxuICAgIHByaXZhdGUgRmlsZURhdGE6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjb25maWd1cmF0aW9uIHByb3BlcnR5IE5hbWVcbiAgICAgKiBAcGFyYW0gcHJvcGVydHkgXG4gICAgICovXG4gICAgZ2V0Q29uZmlndXJhdGlvblByb3BlcnR5X0ZpbGVfQWxpYXMocHJvcGVydHk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBBX0Zvcm1hdHRlckhlbHBlci50b0NhbWVsQ2FzZShwcm9wZXJ0eSk7XG4gICAgfVxuXG5cbiAgICByZXNvbHZlPF9SZXR1cm5UeXBlID0gYW55Pihwcm9wZXJ0eTogc3RyaW5nKTogX1JldHVyblR5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5GaWxlRGF0YS5nZXQodGhpcy5nZXRDb25maWd1cmF0aW9uUHJvcGVydHlfRmlsZV9BbGlhcyhwcm9wZXJ0eSkpIGFzIF9SZXR1cm5UeXBlO1xuICAgIH1cblxuXG4gICAgYXN5bmMgcmVhZDxUIGV4dGVuZHMgc3RyaW5nPihcbiAgICAgICAgdmFyaWFibGVzPzogQXJyYXk8VD5cbiAgICApOiBQcm9taXNlPFJlY29yZDxULCBhbnk+PiB7XG5cbiAgICAgICAgY29uc3QgZnMgPSBhd2FpdCB0aGlzLnBvbHlmaWxsLmZzKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMoYCR7QV9Db250ZXh0LmNvbmNlcHR9LmNvbmYuanNvbmAsICd1dGY4Jyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZzogUmVjb3JkPFQsIGFueT4gPSBKU09OLnBhcnNlKGRhdGEpO1xuXG4gICAgICAgICAgICB0aGlzLkZpbGVEYXRhID0gbmV3IE1hcChPYmplY3QuZW50cmllcyhjb25maWcpKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gdGhpcy5jb250ZXh0LkxvZ2dlci5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge30gYXMgUmVjb3JkPFQsIGFueT47XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQV9Db25jZXB0LCBBX0ZlYXR1cmUsIEFfRm9ybWF0dGVySGVscGVyLCBBX0luamVjdCwgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBDb25maWdSZWFkZXIgfSBmcm9tIFwiLi9Db25maWdSZWFkZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBX0NvbmZpZyB9IGZyb20gXCIuLi9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX1BvbHlmaWxsIH0gZnJvbSBcIi4uLy4uL0EtUG9seWZpbGwvQS1Qb2x5ZmlsbC5jb21wb25lbnRcIjtcblxuXG5leHBvcnQgY2xhc3MgRU5WQ29uZmlnUmVhZGVyIGV4dGVuZHMgQ29uZmlnUmVhZGVyIHtcblxuXG4gICAgQEFfQ29uY2VwdC5Mb2FkKHtcbiAgICAgICAgYmVmb3JlOiBbJ0VOVkNvbmZpZ1JlYWRlci5pbml0aWFsaXplJ11cbiAgICB9KVxuICAgIGFzeW5jIHJlYWRFbnZGaWxlKFxuICAgICAgICBAQV9JbmplY3QoQV9Db25maWcpIGNvbmZpZzogQV9Db25maWc8QV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlcz4sXG4gICAgICAgIEBBX0luamVjdChBX1BvbHlmaWxsKSBwb2x5ZmlsbDogQV9Qb2x5ZmlsbCxcbiAgICAgICAgQEFfSW5qZWN0KEFfRmVhdHVyZSkgZmVhdHVyZTogQV9GZWF0dXJlLFxuXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGZzID0gYXdhaXQgcG9seWZpbGwuZnMoKTtcblxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYygnLmVudicpKVxuICAgICAgICAgICAgZnMucmVhZEZpbGVTeW5jKGAke2NvbmZpZy5nZXQoJ0FfQ09OQ0VQVF9ST09UX0ZPTERFUicpfS8uZW52YCwgJ3V0Zi04Jykuc3BsaXQoJ1xcbicpLmZvckVhY2gobGluZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gbGluZS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIGlmIChrZXkgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnZba2V5LnRyaW0oKV0gPSB2YWx1ZS50cmltKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbmZpZ3VyYXRpb24gcHJvcGVydHkgTmFtZSBcbiAgICAgKiBAcGFyYW0gcHJvcGVydHkgXG4gICAgICovXG4gICAgZ2V0Q29uZmlndXJhdGlvblByb3BlcnR5X0VOVl9BbGlhcyhwcm9wZXJ0eTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEFfRm9ybWF0dGVySGVscGVyLnRvVXBwZXJTbmFrZUNhc2UocHJvcGVydHkpO1xuICAgIH1cblxuXG4gICAgcmVzb2x2ZTxfUmV0dXJuVHlwZSA9IGFueT4ocHJvcGVydHk6IHN0cmluZyk6IF9SZXR1cm5UeXBlIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3MuZW52W3RoaXMuZ2V0Q29uZmlndXJhdGlvblByb3BlcnR5X0VOVl9BbGlhcyhwcm9wZXJ0eSldIGFzIF9SZXR1cm5UeXBlO1xuICAgIH1cblxuXG4gICAgYXN5bmMgcmVhZDxUIGV4dGVuZHMgc3RyaW5nPih2YXJpYWJsZXM6IEFycmF5PFQ+ID0gW10pOiBQcm9taXNlPFJlY29yZDxULCBhbnk+PiB7XG4gICAgICAgIGNvbnN0IGFsbFZhcmlhYmxlcyA9IFtcbiAgICAgICAgICAgIC4uLnZhcmlhYmxlcyxcbiAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKHByb2Nlc3MuZW52KSxcbiAgICAgICAgXVxuXG4gICAgICAgIGNvbnN0IGNvbmZpZzogUmVjb3JkPFQsIGFueT4gPSB7fSBhcyBSZWNvcmQ8VCwgYW55PjtcblxuICAgICAgICBhbGxWYXJpYWJsZXMuZm9yRWFjaCh2YXJpYWJsZSA9PiB7XG4gICAgICAgICAgICBjb25maWdbdmFyaWFibGVdID0gdGhpcy5yZXNvbHZlKHZhcmlhYmxlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59ICIsICJpbXBvcnQgeyBBX0NhbGxlciwgQV9Db25jZXB0LCBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZLCBBX0NvbnRhaW5lciwgQV9Db250ZXh0LCBBX0ZyYWdtZW50LCBBX0luamVjdCwgQV9TY29wZSwgQV9TY29wZUVycm9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IENvbmZpZ1JlYWRlciB9IGZyb20gXCIuL2NvbXBvbmVudHMvQ29uZmlnUmVhZGVyLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQV9Db25maWcgfSBmcm9tIFwiLi9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX1BvbHlmaWxsIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwvQS1Qb2x5ZmlsbC5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfQ29uZmlnRXJyb3IgfSBmcm9tIFwiLi9BLUNvbmZpZy5lcnJvclwiO1xuaW1wb3J0IHsgRmlsZUNvbmZpZ1JlYWRlciB9IGZyb20gXCIuL2NvbXBvbmVudHMvRmlsZUNvbmZpZ1JlYWRlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEVOVkNvbmZpZ1JlYWRlciB9IGZyb20gXCIuL2NvbXBvbmVudHMvRU5WQ29uZmlnUmVhZGVyLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTX0FSUkFZIH0gZnJvbSBcIi4vQS1Db25maWcuY29uc3RhbnRzXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfQ29uZmlnTG9hZGVyIGV4dGVuZHMgQV9Db250YWluZXIge1xuXG4gICAgcHJpdmF0ZSByZWFkZXIhOiBDb25maWdSZWFkZXJcblxuXG4gICAgQEFfQ29uY2VwdC5Mb2FkKHtcbiAgICAgICAgYmVmb3JlOiAvLiovXG4gICAgfSlcbiAgICBhc3luYyBwcmVwYXJlKFxuICAgICAgICBAQV9JbmplY3QoQV9Qb2x5ZmlsbCkgcG9seWZpbGw6IEFfUG9seWZpbGxcbiAgICApIHtcbiAgICAgICAgaWYgKCF0aGlzLnNjb3BlLmhhcyhBX0NvbmZpZykpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IG5ldyBBX0NvbmZpZyh7XG4gICAgICAgICAgICAgICAgdmFyaWFibGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIC4uLkFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVksXG4gICAgICAgICAgICAgICAgICAgIC4uLkFfQ09OU1RBTlRTX19DT05GSUdfRU5WX1ZBUklBQkxFU19BUlJBWVxuICAgICAgICAgICAgICAgIF0gYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgZGVmYXVsdHM6IHt9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5zY29wZS5yZWdpc3RlcjxBX0ZyYWdtZW50PihuZXdDb25maWcpO1xuICAgICAgICB9XG5cblxuICAgICAgICBjb25zdCBmcyA9IGF3YWl0IHBvbHlmaWxsLmZzKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgY2FzZSBBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInICYmICEhZnMuZXhpc3RzU3luYyhgJHtBX0NvbnRleHQuY29uY2VwdH0uY29uZi5qc29uYCk6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZGVyID0gdGhpcy5zY29wZS5yZXNvbHZlPENvbmZpZ1JlYWRlcj4oRmlsZUNvbmZpZ1JlYWRlcikhO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJyAmJiAhZnMuZXhpc3RzU3luYyhgJHtBX0NvbnRleHQuY29uY2VwdH0uY29uZi5qc29uYCk6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZGVyID0gdGhpcy5zY29wZS5yZXNvbHZlPENvbmZpZ1JlYWRlcj4oRU5WQ29uZmlnUmVhZGVyKSE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdicm93c2VyJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkZXIgPSB0aGlzLnNjb3BlLnJlc29sdmU8Q29uZmlnUmVhZGVyPihFTlZDb25maWdSZWFkZXIpITtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9Db25maWdFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIEFfQ29uZmlnRXJyb3IuSW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGBFbnZpcm9ubWVudCAke0FfQ29udGV4dC5lbnZpcm9ubWVudH0gaXMgbm90IHN1cHBvcnRlZGBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEFfU2NvcGVFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbmZpZ0Vycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IEFfQ29uZmlnRXJyb3IuSW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBGYWlsZWQgdG8gaW5pdGlhbGl6ZSBBX0NvbmZpZ0xvYWRlci4gUmVhZGVyIG5vdCBmb3VuZCBmb3IgZW52aXJvbm1lbnQgJHtBX0NvbnRleHQuZW52aXJvbm1lbnR9YCxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlcywgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuXG5leHBvcnQgZW51bSBBX1RZUEVTX19Db25maWdGZWF0dXJlIHtcblxufVxuXG5cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0NvbmZpZ0NvbnRhaW5lckNvbnN0cnVjdG9yPFQgZXh0ZW5kcyAgQXJyYXk8c3RyaW5nIHwgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlc1tudW1iZXJdPj4gPSB7XG5cbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIFNESyB3aWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSB2YXJpYWJsZSBpcyBub3QgZGVmaW5lZCBPUiBub3QgcHJlc2VudGVkIGluIHRoZSBkZWZhdWx0c1xuICAgICAqL1xuICAgIHN0cmljdDogYm9vbGVhblxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGRlZmluZSB0aGUgbmFtZXMgb2YgdmFyaWFibGUgdG8gYmUgbG9hZGVkXG4gICAgICovXG4gICAgdmFyaWFibGVzOiBUXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gc2V0IHRoZSBkZWZhdWx0IHZhbHVlcyBmb3IgdGhlIHZhcmlhYmxlc1xuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIFtrZXkgaW4gVFtudW1iZXJdXT86IGFueVxuICAgIH1cbn0gJiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjtcbiIsICJcblxuZXhwb3J0IGNvbnN0IEFfTG9nZ2VyRW52VmFyaWFibGVzID0ge1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxvZyBsZXZlbCBmb3IgdGhlIGxvZ2dlclxuICAgICAqIFxuICAgICAqIEBleGFtcGxlICdkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXG4gICAgICovXG4gICAgQV9MT0dHRVJfTEVWRUw6ICdBX0xPR0dFUl9MRVZFTCcsXG5cbiAgICAvKiogICAgIFxuICAgICAqIFNldHMgdGhlIGRlZmF1bHQgc2NvcGUgbGVuZ3RoIGZvciBsb2cgbWVzc2FnZXNcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZSAnQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9MRU5HVEgnXG4gICAgICovXG4gICAgQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9MRU5HVEg6ICdBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0xFTkdUSCcsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBkZWZhdWx0IGNvbG9yIGZvciBzY29wZSBkaXNwbGF5IGluIGxvZyBtZXNzYWdlc1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlICdncmVlbicsICdibHVlJywgJ3JlZCcsICd5ZWxsb3cnLCAnZ3JheScsICdtYWdlbnRhJywgJ2N5YW4nLCAnd2hpdGUnLCAncGluaydcbiAgICAgKi9cbiAgICBBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0NPTE9SOiAnQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9DT0xPUicsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBkZWZhdWx0IGNvbG9yIGZvciBsb2cgbWVzc2FnZSBjb250ZW50XG4gICAgICogXG4gICAgICogQGV4YW1wbGUgJ2dyZWVuJywgJ2JsdWUnLCAncmVkJywgJ3llbGxvdycsICdncmF5JywgJ21hZ2VudGEnLCAnY3lhbicsICd3aGl0ZScsICdwaW5rJ1xuICAgICAqL1xuICAgIEFfTE9HR0VSX0RFRkFVTFRfTE9HX0NPTE9SOiAnQV9MT0dHRVJfREVGQVVMVF9MT0dfQ09MT1InLFxufSBhcyBjb25zdDtcblxuXG5cbmV4cG9ydCBjb25zdCBBX0xvZ2dlckVudlZhcmlhYmxlc0FycmF5ID0gW1xuICAgIEFfTG9nZ2VyRW52VmFyaWFibGVzLkFfTE9HR0VSX0xFVkVMLFxuICAgIEFfTG9nZ2VyRW52VmFyaWFibGVzLkFfTE9HR0VSX0RFRkFVTFRfU0NPUEVfTEVOR1RILFxuICAgIEFfTG9nZ2VyRW52VmFyaWFibGVzLkFfTE9HR0VSX0RFRkFVTFRfU0NPUEVfQ09MT1IsXG4gICAgQV9Mb2dnZXJFbnZWYXJpYWJsZXMuQV9MT0dHRVJfREVGQVVMVF9MT0dfQ09MT1IsXG5dIGFzIGNvbnN0O1xuXG5cbmV4cG9ydCB0eXBlIEFfTG9nZ2VyRW52VmFyaWFibGVzVHlwZSA9ICh0eXBlb2YgQV9Mb2dnZXJFbnZWYXJpYWJsZXMpW2tleW9mIHR5cGVvZiBBX0xvZ2dlckVudlZhcmlhYmxlc11bXTsiLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5cbmV4cG9ydCBjbGFzcyBBX01hbmlmZXN0RXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIHN0YXRpYyByZWFkb25seSBNYW5pZmVzdEluaXRpYWxpemF0aW9uRXJyb3IgPSAnQS1NYW5pZmVzdCBJbml0aWFsaXphdGlvbiBFcnJvcic7XG5cbn1cbiIsICJpbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9NYW5pZmVzdCB9IGZyb20gXCIuLi9BLU1hbmlmZXN0LmNvbnRleHRcIjtcbmltcG9ydCB7IEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0X0FsbG93ZWRDb21wb25lbnRzIH0gZnJvbSBcIi4uL0EtTWFuaWZlc3QudHlwZXNcIjtcblxuLyoqXG4gKiBGbHVlbnQgQVBJIGZvciBjaGVja2luZyBtYW5pZmVzdCBwZXJtaXNzaW9uc1xuICovXG5leHBvcnQgY2xhc3MgQV9NYW5pZmVzdENoZWNrZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIG1hbmlmZXN0OiBBX01hbmlmZXN0LFxuICAgICAgICBwcml2YXRlIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yLFxuICAgICAgICBwcml2YXRlIG1ldGhvZDogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIGNoZWNrRXhjbHVzaW9uOiBib29sZWFuID0gZmFsc2VcbiAgICApIHt9XG5cbiAgICBmb3IodGFyZ2V0OiBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdF9BbGxvd2VkQ29tcG9uZW50cyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLm1hbmlmZXN0LmludGVybmFsX2NoZWNrQWNjZXNzKHtcbiAgICAgICAgICAgIGNvbXBvbmVudDogdGhpcy5jb21wb25lbnQsXG4gICAgICAgICAgICBtZXRob2Q6IHRoaXMubWV0aG9kLFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tFeGNsdXNpb24gPyAhcmVzdWx0IDogcmVzdWx0O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQsIEFfRnJhZ21lbnQsIEFfVHlwZUd1YXJkcywgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0X0luaXQsIEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0X0NvbXBvbmVudExldmVsQ29uZmlnLCBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdF9BbGxvd2VkQ29tcG9uZW50cywgQV9VVElMU19UWVBFU19fTWFuaWZlc3RSdWxlLCBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdFF1ZXJ5IH0gZnJvbSBcIi4vQS1NYW5pZmVzdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9NYW5pZmVzdEVycm9yIH0gZnJvbSBcIi4vQS1NYW5pZmVzdC5lcnJvclwiO1xuaW1wb3J0IHsgQV9NYW5pZmVzdENoZWNrZXIgfSBmcm9tIFwiLi9jbGFzc2VzL0EtTWFuaWZlc3RDaGVja2VyLmNsYXNzXCI7XG5cblxuXG5cblxuZXhwb3J0IGNsYXNzIEFfTWFuaWZlc3QgZXh0ZW5kcyBBX0ZyYWdtZW50IHtcblxuICAgIHByaXZhdGUgcnVsZXM6IEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0UnVsZVtdID0gW107XG5cbiAgICAvKipcbiAgICAgKiBBLU1hbmlmZXN0IGlzIGEgY29uZmlndXJhdGlvbiBzZXQgdGhhdCBhbGxvd3MgdG8gaW5jbHVkZSBvciBleGNsdWRlIGNvbXBvbmVudCBhcHBsaWNhdGlvbiBmb3IgdGhlIHBhcnRpY3VsYXIgbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIEZvciBleGFtcGxlLCBpZiBBLVNjb3BlIHByb3ZpZGVzIHBvbHltb3JwaGljIEEtQ29tcG9uZW50IHRoYXQgYXBwbGllcyBmb3IgQWxsIEEtRW50aXRpZXMgaW4gaXQgYnV0IHlvdSBoYXZlIGFub3RoZXIgY29tcG9uZW50IHRoYXQgc2hvdWxkIGJlIHVzZWQgZm9yIG9ubHkgT25lIHBhcnRpY3VsYXIgRW50aXR5LCB5b3UgY2FuIHVzZSBBLU1hbmlmZXN0IHRvIHNwZWNpZnkgdGhpcyBiZWhhdmlvci5cbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBCeSBkZWZhdWx0IGlmIENvbXBvbmVudCBpcyBwcm92aWRlZCBpbiB0aGUgc2NvcGUgLSBpdCBhcHBsaWVzIGZvciBhbGwgZW50aXRpZXMgaW4gaXQuIEhvd2V2ZXIsIGlmIHlvdSB3YW50IHRvIGV4Y2x1ZGUgc29tZSBlbnRpdGllcyBvciBpbmNsdWRlIG9ubHkgc29tZSBlbnRpdGllcyBmb3IgdGhlIHBhcnRpY3VsYXIgY29tcG9uZW50IC0geW91IGNhbiB1c2UgQS1NYW5pZmVzdCB0byBkZWZpbmUgdGhpcyBiZWhhdmlvci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gQXJyYXkgb2YgY29tcG9uZW50IGNvbmZpZ3VyYXRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdF9Jbml0ID0gW10pIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogJ0EtTWFuaWZlc3QnLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnByZXBhcmUoY29uZmlnKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFNob3VsZCBjb252ZXJ0IHJlY2VpdmVkIGNvbmZpZ3VyYXRpb24gaW50byBpbnRlcm5hbCBSZWdleHAgYXBwbGljYWJsZSBmb3IgaW50ZXJuYWwgc3RvcmFnZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBwcmVwYXJlKGNvbmZpZzogQV9VVElMU19UWVBFU19fTWFuaWZlc3RfSW5pdCkge1xuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc0FycmF5KGNvbmZpZykpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9NYW5pZmVzdEVycm9yKFxuICAgICAgICAgICAgICAgIEFfTWFuaWZlc3RFcnJvci5NYW5pZmVzdEluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEEtTWFuaWZlc3QgY29uZmlndXJhdGlvbiBzaG91bGQgYmUgYW4gYXJyYXkgb2YgY29uZmlndXJhdGlvbnNgXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBjb25maWcpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0NvbmZpZ0l0ZW0oaXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGEgc2luZ2xlIGNvbmZpZ3VyYXRpb24gaXRlbSBhbmQgY29udmVydCBpdCB0byBpbnRlcm5hbCBydWxlc1xuICAgICAqL1xuICAgIHByaXZhdGUgcHJvY2Vzc0NvbmZpZ0l0ZW0oaXRlbTogQV9VVElMU19UWVBFU19fTWFuaWZlc3RfQ29tcG9uZW50TGV2ZWxDb25maWcpIHtcbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3RvcihpdGVtLmNvbXBvbmVudCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9NYW5pZmVzdEVycm9yKFxuICAgICAgICAgICAgICAgIEFfTWFuaWZlc3RFcnJvci5NYW5pZmVzdEluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEEtTWFuaWZlc3QgY29uZmlndXJhdGlvbiBpdGVtIHNob3VsZCBiZSBhIEEtQ29tcG9uZW50IGNvbnN0cnVjdG9yYFxuICAgICAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBjb21wb25lbnRSZWdleCA9IHRoaXMuY29uc3RydWN0b3JUb1JlZ2V4KGl0ZW0uY29tcG9uZW50KTtcblxuICAgICAgICAvLyBBbHdheXMgYWRkIGNvbXBvbmVudC1sZXZlbCBydWxlIGZpcnN0IChhcHBsaWVzIHRvIGFsbCBtZXRob2RzKVxuICAgICAgICBpZiAoaXRlbS5hcHBseSB8fCBpdGVtLmV4Y2x1ZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZFJlZ2V4ID0gLy4qLzsgLy8gTWF0Y2ggYWxsIG1ldGhvZHNcblxuICAgICAgICAgICAgdGhpcy5ydWxlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRSZWdleCxcbiAgICAgICAgICAgICAgICBtZXRob2RSZWdleCxcbiAgICAgICAgICAgICAgICBhcHBseVJlZ2V4OiBpdGVtLmFwcGx5ID8gdGhpcy5hbGxvd2VkQ29tcG9uZW50c1RvUmVnZXgoaXRlbS5hcHBseSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZXhjbHVkZVJlZ2V4OiBpdGVtLmV4Y2x1ZGUgPyB0aGlzLmFsbG93ZWRDb21wb25lbnRzVG9SZWdleChpdGVtLmV4Y2x1ZGUpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGVuIGFkZCBtZXRob2QtbGV2ZWwgY29uZmlndXJhdGlvbnMgKHRoZXNlIHdpbGwgb3ZlcnJpZGUgY29tcG9uZW50LWxldmVsKVxuICAgICAgICBpZiAoaXRlbS5tZXRob2RzICYmIGl0ZW0ubWV0aG9kcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1ldGhvZENvbmZpZyBvZiBpdGVtLm1ldGhvZHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRob2RSZWdleCA9IHRoaXMubWV0aG9kVG9SZWdleChtZXRob2RDb25maWcubWV0aG9kKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucnVsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFJlZ2V4LFxuICAgICAgICAgICAgICAgICAgICBtZXRob2RSZWdleCxcbiAgICAgICAgICAgICAgICAgICAgYXBwbHlSZWdleDogbWV0aG9kQ29uZmlnLmFwcGx5ID8gdGhpcy5hbGxvd2VkQ29tcG9uZW50c1RvUmVnZXgobWV0aG9kQ29uZmlnLmFwcGx5KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgZXhjbHVkZVJlZ2V4OiBtZXRob2RDb25maWcuZXhjbHVkZSA/IHRoaXMuYWxsb3dlZENvbXBvbmVudHNUb1JlZ2V4KG1ldGhvZENvbmZpZy5leGNsdWRlKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgY29uc3RydWN0b3IgdG8gYSByZWdleCBwYXR0ZXJuXG4gICAgICovXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvclRvUmVnZXgoY3RvcjogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yKTogUmVnRXhwIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3RoaXMuZXNjYXBlUmVnZXgoY3Rvci5uYW1lKX0kYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhIG1ldGhvZCBuYW1lIG9yIHJlZ2V4IHRvIGEgcmVnZXggcGF0dGVyblxuICAgICAqL1xuICAgIHByaXZhdGUgbWV0aG9kVG9SZWdleChtZXRob2Q6IHN0cmluZyB8IFJlZ0V4cCk6IFJlZ0V4cCB7XG4gICAgICAgIGlmIChtZXRob2QgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3RoaXMuZXNjYXBlUmVnZXgobWV0aG9kIGFzIHN0cmluZyl9JGApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYWxsb3dlZCBjb21wb25lbnRzIGFycmF5IG9yIHJlZ2V4IHRvIGEgc2luZ2xlIHJlZ2V4XG4gICAgICovXG4gICAgcHJpdmF0ZSBhbGxvd2VkQ29tcG9uZW50c1RvUmVnZXgoY29tcG9uZW50czogQV9VVElMU19UWVBFU19fTWFuaWZlc3RfQWxsb3dlZENvbXBvbmVudHNbXSB8IFJlZ0V4cCk6IFJlZ0V4cCB7XG4gICAgICAgIGlmIChjb21wb25lbnRzIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhdHRlcm5zID0gY29tcG9uZW50cy5tYXAoY3RvciA9PiB0aGlzLmVzY2FwZVJlZ2V4KGN0b3IubmFtZSkpO1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXigke3BhdHRlcm5zLmpvaW4oJ3wnKX0pJGApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZSBzcGVjaWFsIHJlZ2V4IGNoYXJhY3RlcnMgaW4gYSBzdHJpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGVzY2FwZVJlZ2V4KHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb25maWdJdGVtVG9SZWdleHAoaXRlbTogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yKTogUmVnRXhwIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3JUb1JlZ2V4KGl0ZW0pO1xuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIElEKGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yLCBtZXRob2Q6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gYCR7Y29tcG9uZW50Lm5hbWV9LiR7bWV0aG9kfWA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYSBjb21wb25lbnQgYW5kIG1ldGhvZCBjb21iaW5hdGlvbiBpcyBhbGxvd2VkIGZvciBhIHRhcmdldFxuICAgICAqL1xuICAgIGlzQWxsb3dlZDxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgICAgICBjdG9yOiBUIHwgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+LFxuICAgICAgICBtZXRob2Q6IHN0cmluZ1xuICAgICk6IEFfTWFuaWZlc3RDaGVja2VyIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50Q3RvciA9IHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nID8gY3RvciA6IGN0b3IuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gbmV3IEFfTWFuaWZlc3RDaGVja2VyKHRoaXMsIGNvbXBvbmVudEN0b3IsIG1ldGhvZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgbWV0aG9kIHRvIGNoZWNrIGlmIGFjY2VzcyBpcyBhbGxvd2VkXG4gICAgICovXG4gICAgaW50ZXJuYWxfY2hlY2tBY2Nlc3MocXVlcnk6IEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0UXVlcnkpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IHF1ZXJ5LmNvbXBvbmVudC5uYW1lO1xuICAgICAgICBjb25zdCBtZXRob2ROYW1lID0gcXVlcnkubWV0aG9kO1xuICAgICAgICBjb25zdCB0YXJnZXROYW1lID0gcXVlcnkudGFyZ2V0Lm5hbWU7XG5cbiAgICAgICAgLy8gRmluZCBtYXRjaGluZyBydWxlcywgc29ydGVkIGJ5IHNwZWNpZmljaXR5IChtZXRob2Qtc3BlY2lmaWMgcnVsZXMgZmlyc3QpXG4gICAgICAgIGNvbnN0IG1hdGNoaW5nUnVsZXMgPSB0aGlzLnJ1bGVzXG4gICAgICAgICAgICAuZmlsdGVyKHJ1bGUgPT5cbiAgICAgICAgICAgICAgICBydWxlLmNvbXBvbmVudFJlZ2V4LnRlc3QoY29tcG9uZW50TmFtZSkgJiZcbiAgICAgICAgICAgICAgICBydWxlLm1ldGhvZFJlZ2V4LnRlc3QobWV0aG9kTmFtZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTWV0aG9kLXNwZWNpZmljIHJ1bGVzIChub3QgLiogcGF0dGVybikgc2hvdWxkIGNvbWUgYmVmb3JlIGdlbmVyYWwgcnVsZXNcbiAgICAgICAgICAgICAgICBjb25zdCBhSXNHZW5lcmFsID0gYS5tZXRob2RSZWdleC5zb3VyY2UgPT09ICcuKic7XG4gICAgICAgICAgICAgICAgY29uc3QgYklzR2VuZXJhbCA9IGIubWV0aG9kUmVnZXguc291cmNlID09PSAnLionO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFJc0dlbmVyYWwgJiYgIWJJc0dlbmVyYWwpIHJldHVybiAxOyAgLy8gYiBjb21lcyBmaXJzdFxuICAgICAgICAgICAgICAgIGlmICghYUlzR2VuZXJhbCAmJiBiSXNHZW5lcmFsKSByZXR1cm4gLTE7IC8vIGEgY29tZXMgZmlyc3RcbiAgICAgICAgICAgICAgICByZXR1cm4gMDsgLy8gc2FtZSBwcmlvcml0eVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSWYgbm8gcnVsZXMgbWF0Y2gsIGFsbG93IGJ5IGRlZmF1bHRcbiAgICAgICAgaWYgKG1hdGNoaW5nUnVsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByb2Nlc3MgcnVsZXMgaW4gb3JkZXIgb2Ygc3BlY2lmaWNpdHkgKG1vc3Qgc3BlY2lmaWMgZmlyc3QpXG4gICAgICAgIGZvciAoY29uc3QgcnVsZSBvZiBtYXRjaGluZ1J1bGVzKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIHJ1bGUgaGFzIGFuIGV4Y2x1c2lvbiB0aGF0IG1hdGNoZXMsIGRlbnkgYWNjZXNzXG4gICAgICAgICAgICBpZiAocnVsZS5leGNsdWRlUmVnZXggJiYgcnVsZS5leGNsdWRlUmVnZXgudGVzdCh0YXJnZXROYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgdGhpcyBydWxlIGhhcyBhbiBhcHBseSBsaXN0LCBjaGVjayBpZiB0YXJnZXQgaXMgaW4gaXRcbiAgICAgICAgICAgIGlmIChydWxlLmFwcGx5UmVnZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcnVsZS5hcHBseVJlZ2V4LnRlc3QodGFyZ2V0TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSBoYXZlIHJ1bGVzIGJ1dCBubyBzcGVjaWZpYyBhcHBseS9leGNsdWRlLCBhbGxvdyBieSBkZWZhdWx0XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlzRXhjbHVkZWQ8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgY3RvcjogVCB8IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPixcbiAgICAgICAgbWV0aG9kOiBzdHJpbmdcbiAgICApOiBBX01hbmlmZXN0Q2hlY2tlciB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEN0b3IgPSB0eXBlb2YgY3RvciA9PT0gJ2Z1bmN0aW9uJyA/IGN0b3IgOiBjdG9yLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjtcbiAgICAgICAgcmV0dXJuIG5ldyBBX01hbmlmZXN0Q2hlY2tlcih0aGlzLCBjb21wb25lbnRDdG9yLCBtZXRob2QsIHRydWUpO1xuICAgIH1cbn1cbiIsICJcblxuZXhwb3J0IGVudW0gQV9NZW1vcnlGZWF0dXJlcyB7XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBpbml0aWFsaXphdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkluaXQgPSAnX0FfTWVtb3J5X29uSW5pdCcsXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIGRlc3RydWN0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uRGVzdHJveSA9ICdfQV9NZW1vcnlfb25EZXN0cm95JyxcblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgZXhwaXJhdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkV4cGlyZSA9ICdfQV9NZW1vcnlfb25FeHBpcmUnLFxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBlcnJvciBoYW5kbGluZyBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkVycm9yID0gJ19BX01lbW9yeV9vbkVycm9yJyxcblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgc2VyaWFsaXphdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvblNlcmlhbGl6ZSA9ICdfQV9NZW1vcnlfb25TZXJpYWxpemUnLFxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBzZXQgb3BlcmF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uU2V0ID0gJ19BX01lbW9yeV9vblNldCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBnZXQgb3BlcmF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uR2V0ID0gJ19BX01lbW9yeV9vbkdldCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBkcm9wIG9wZXJhdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkRyb3AgPSAnX0FfTWVtb3J5X29uRHJvcCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBjbGVhciBvcGVyYXRpb24gbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25DbGVhciA9ICdfQV9NZW1vcnlfb25DbGVhcicsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBoYXMgb3BlcmF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uSGFzID0gJ19BX01lbW9yeV9vbkhhcycsXG59IiwgImltcG9ydCB7IEFfRXJyb3IsIEFfRnJhZ21lbnQsIEFfVFlQRVNfX0ZyYWdtZW50X1NlcmlhbGl6ZWQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgZXJyb3IgfSBmcm9tIFwiY29uc29sZVwiO1xuXG5cblxuXG5leHBvcnQgY2xhc3MgQV9NZW1vcnlDb250ZXh0PFxuICAgIF9NZW1vcnlUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgX1NlcmlhbGl6ZWRUeXBlIGV4dGVuZHMgQV9UWVBFU19fRnJhZ21lbnRfU2VyaWFsaXplZCA9IEFfVFlQRVNfX0ZyYWdtZW50X1NlcmlhbGl6ZWRcbj4gZXh0ZW5kcyBBX0ZyYWdtZW50IHtcbiAgICBwcm90ZWN0ZWQgX3N0b3JhZ2U6IE1hcDxrZXlvZiBfTWVtb3J5VHlwZSwgX01lbW9yeVR5cGVba2V5b2YgX01lbW9yeVR5cGVdPiA9IG5ldyBNYXAoKTtcblxuICAgIHNldDxLIGV4dGVuZHMga2V5b2YgX01lbW9yeVR5cGU+KHBhcmFtOiBLLCB2YWx1ZTogX01lbW9yeVR5cGVbS10pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5zZXQocGFyYW0sIHZhbHVlKTtcbiAgICB9XG5cblxuICAgIGdldDxLIGV4dGVuZHMga2V5b2YgX01lbW9yeVR5cGU+KHBhcmFtOiBLKTogX01lbW9yeVR5cGVbS10gfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RvcmFnZS5nZXQocGFyYW0pO1xuICAgIH1cblxuXG4gICAgZGVsZXRlPEsgZXh0ZW5kcyBrZXlvZiBfTWVtb3J5VHlwZT4ocGFyYW06IEspOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5kZWxldGUocGFyYW0pO1xuICAgIH1cblxuXG4gICAgaGFzPEsgZXh0ZW5kcyBrZXlvZiBfTWVtb3J5VHlwZT4ocGFyYW06IEspOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0b3JhZ2UuaGFzKHBhcmFtKTtcbiAgICB9XG5cbiAgICBjbGVhcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5jbGVhcigpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfTWVtb3J5RXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIHN0YXRpYyByZWFkb25seSBNZW1vcnlJbml0aWFsaXphdGlvbkVycm9yID0gJ01lbW9yeSBpbml0aWFsaXphdGlvbiBlcnJvcic7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWVtb3J5RGVzdHJ1Y3Rpb25FcnJvciA9ICdNZW1vcnkgZGVzdHJ1Y3Rpb24gZXJyb3InO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IE1lbW9yeUdldEVycm9yID0gJ01lbW9yeSBHRVQgb3BlcmF0aW9uIGZhaWxlZCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWVtb3J5U2V0RXJyb3IgPSAnTWVtb3J5IFNFVCBvcGVyYXRpb24gZmFpbGVkJztcblxuICAgIHN0YXRpYyByZWFkb25seSBNZW1vcnlEcm9wRXJyb3IgPSAnTWVtb3J5IERST1Agb3BlcmF0aW9uIGZhaWxlZCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWVtb3J5Q2xlYXJFcnJvciA9ICdNZW1vcnkgQ0xFQVIgb3BlcmF0aW9uIGZhaWxlZCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWVtb3J5SGFzRXJyb3IgPSAnTWVtb3J5IEhBUyBvcGVyYXRpb24gZmFpbGVkJztcblxuICAgIHN0YXRpYyByZWFkb25seSBNZW1vcnlTZXJpYWxpemVFcnJvciA9ICdNZW1vcnkgdG9KU09OIG9wZXJhdGlvbiBmYWlsZWQnO1xufVxuIiwgImltcG9ydCB7IEFfQ29tcG9uZW50LCBBX0luamVjdCwgQV9TY29wZSwgQV9GZWF0dXJlLCBBX0RlcGVuZGVuY3ksIEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX01lbW9yeUZlYXR1cmVzIH0gZnJvbSBcIi4vQS1NZW1vcnkuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX01lbW9yeUNvbnRleHQgfSBmcm9tIFwiLi9BLU1lbW9yeS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX01lbW9yeUVycm9yIH0gZnJvbSBcIi4vQS1NZW1vcnkuZXJyb3JcIjtcbmltcG9ydCB7IEFfT3BlcmF0aW9uQ29udGV4dCB9IGZyb20gXCIuLi9BLU9wZXJhdGlvbi9BLU9wZXJhdGlvbi5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX01lbW9yeU9wZXJhdGlvbkNvbnRleHQgfSBmcm9tIFwiLi9BLU1lbW9yeS50eXBlc1wiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX01lbW9yeTxcbiAgICBfU3RvcmFnZVR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PixcbiAgICBfU2VyaWFsaXplZFR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PlxuPiBleHRlbmRzIEFfQ29tcG9uZW50IHtcblxuICAgIHByb3RlY3RlZCBfcmVhZHk/OiBQcm9taXNlPHZvaWQ+XG5cblxuICAgIGdldCByZWFkeSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9yZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5fcmVhZHkgPSB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZHk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT1BLU1lbW9yeSBMaWZlY3ljbGUgSG9va3M9PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBlcnJvcnMgZHVyaW5nIG1lbW9yeSBvcGVyYXRpb25zXG4gICAgICovXG4gICAgYXN5bmMgW0FfTWVtb3J5RmVhdHVyZXMub25FcnJvcl0oLi4uYXJnczogYW55W10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSGFuZGxlIGVycm9yXG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgbWVtb3J5IGV4cGlyYXRpb25cbiAgICAgKi9cbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vbkV4cGlyZV0oLi4uYXJnczogYW55W10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gQ2xlYXIgbWVtb3J5IG9uIGV4cGlyZVxuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgbWVtb3J5IGNvbnRleHRcbiAgICAgKi9cbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vbkluaXRdKFxuICAgICAgICBAQV9JbmplY3QoQV9NZW1vcnlDb250ZXh0KSBjb250ZXh0OiBBX01lbW9yeUNvbnRleHQ8X1N0b3JhZ2VUeXBlPixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBtZW1vcnlcbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gbmV3IEFfTWVtb3J5Q29udGV4dDxfU3RvcmFnZVR5cGU+KCk7XG4gICAgICAgICAgICBBX0NvbnRleHQuc2NvcGUodGhpcykucmVnaXN0ZXIoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgYXN5bmMgW0FfTWVtb3J5RmVhdHVyZXMub25EZXN0cm95XShcbiAgICAgICAgQEFfSW5qZWN0KEFfTWVtb3J5Q29udGV4dCkgY29udGV4dDogQV9NZW1vcnlDb250ZXh0PF9TdG9yYWdlVHlwZT4sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIENsZWFudXAgbWVtb3J5XG4gICAgICAgIGNvbnRleHQuY2xlYXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSAnZ2V0JyBvcGVyYXRpb24gZm9yIHJldHJpZXZpbmcgYSB2YWx1ZSBmcm9tIG1lbW9yeVxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vbkdldF0oXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9PcGVyYXRpb25Db250ZXh0KSBvcGVyYXRpb246IEFfTWVtb3J5T3BlcmF0aW9uQ29udGV4dCxcbiAgICAgICAgQEFfSW5qZWN0KEFfTWVtb3J5Q29udGV4dCkgY29udGV4dDogQV9NZW1vcnlDb250ZXh0PF9TdG9yYWdlVHlwZT4sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEhhbmRsZSBnZXQgb3BlcmF0aW9uXG4gICAgICAgIG9wZXJhdGlvbi5zdWNjZWVkKGNvbnRleHQuZ2V0KG9wZXJhdGlvbi5wYXJhbXMua2V5KSk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlICdoYXMnIG9wZXJhdGlvbiBmb3IgY2hlY2tpbmcgZXhpc3RlbmNlIG9mIGEga2V5IGluIG1lbW9yeVxuICAgICAqL1xuICAgIGFzeW5jIFtBX01lbW9yeUZlYXR1cmVzLm9uSGFzXShcbiAgICAgICAgQEFfRGVwZW5kZW5jeS5SZXF1aXJlZCgpXG4gICAgICAgIEBBX0luamVjdChBX09wZXJhdGlvbkNvbnRleHQpIG9wZXJhdGlvbjogQV9NZW1vcnlPcGVyYXRpb25Db250ZXh0PGJvb2xlYW4+LFxuICAgICAgICBAQV9JbmplY3QoQV9NZW1vcnlDb250ZXh0KSBjb250ZXh0OiBBX01lbW9yeUNvbnRleHQ8X1N0b3JhZ2VUeXBlPixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSGFuZGxlIGhhcyBvcGVyYXRpb25cbiAgICAgICAgb3BlcmF0aW9uLnN1Y2NlZWQoY29udGV4dC5oYXMob3BlcmF0aW9uLnBhcmFtcy5rZXkpKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgJ3NldCcgb3BlcmF0aW9uIGZvciBzYXZpbmcgYSB2YWx1ZSBpbiBtZW1vcnlcbiAgICAgKi9cbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vblNldF0oXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9PcGVyYXRpb25Db250ZXh0KSBvcGVyYXRpb246IEFfTWVtb3J5T3BlcmF0aW9uQ29udGV4dCxcbiAgICAgICAgQEFfSW5qZWN0KEFfTWVtb3J5Q29udGV4dCkgY29udGV4dDogQV9NZW1vcnlDb250ZXh0PF9TdG9yYWdlVHlwZT4sXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSGFuZGxlIHNldCBvcGVyYXRpb25cbiAgICAgICAgY29udGV4dC5zZXQob3BlcmF0aW9uLnBhcmFtcy5rZXksIG9wZXJhdGlvbi5wYXJhbXMudmFsdWUpO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSAnZHJvcCcgb3BlcmF0aW9uIGZvciByZW1vdmluZyBhIHZhbHVlIGZyb20gbWVtb3J5XG4gICAgICovXG4gICAgYXN5bmMgW0FfTWVtb3J5RmVhdHVyZXMub25Ecm9wXShcbiAgICAgICAgQEFfRGVwZW5kZW5jeS5SZXF1aXJlZCgpXG4gICAgICAgIEBBX0luamVjdChBX09wZXJhdGlvbkNvbnRleHQpIG9wZXJhdGlvbjogQV9NZW1vcnlPcGVyYXRpb25Db250ZXh0LFxuICAgICAgICBAQV9JbmplY3QoQV9NZW1vcnlDb250ZXh0KSBjb250ZXh0OiBBX01lbW9yeUNvbnRleHQ8X1N0b3JhZ2VUeXBlPixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSGFuZGxlIGRyb3Agb3BlcmF0aW9uXG4gICAgICAgIGNvbnRleHQuZGVsZXRlKG9wZXJhdGlvbi5wYXJhbXMua2V5KTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgJ2NsZWFyJyBvcGVyYXRpb24gZm9yIGNsZWFyaW5nIGFsbCB2YWx1ZXMgZnJvbSBtZW1vcnlcbiAgICAgKi9cbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vbkNsZWFyXShcbiAgICAgICAgQEFfRGVwZW5kZW5jeS5SZXF1aXJlZCgpXG4gICAgICAgIEBBX0luamVjdChBX09wZXJhdGlvbkNvbnRleHQpIG9wZXJhdGlvbjogQV9NZW1vcnlPcGVyYXRpb25Db250ZXh0LFxuICAgICAgICBAQV9JbmplY3QoQV9NZW1vcnlDb250ZXh0KSBjb250ZXh0OiBBX01lbW9yeUNvbnRleHQ8X1N0b3JhZ2VUeXBlPixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSGFuZGxlIGNsZWFyIG9wZXJhdGlvblxuICAgICAgICBjb250ZXh0LmNsZWFyKCk7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09QS1NZW1vcnkgTWV0aG9kcz09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIG1lbW9yeSBjb250ZXh0XG4gICAgICovXG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlYWR5KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5O1xuXG4gICAgICAgIGNvbnN0IHNjb3BlID0gbmV3IEFfU2NvcGUoeyBuYW1lOiAnQS1NZW1vcnktSW5pdC1TY29wZScgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uSW5pdCwgc2NvcGUpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBpbml0RXJyb3IgPSBuZXcgQV9NZW1vcnlFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfTWVtb3J5RXJyb3IuTWVtb3J5SW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FuIGVycm9yIG9jY3VycmVkIGR1cmluZyBtZW1vcnkgaW5pdGlhbGl6YXRpb24nLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBzY29wZS5yZWdpc3Rlcihpbml0RXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkVycm9yLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgaW5pdEVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIG1lbW9yeSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyByZXNwb25zaWJsZSBmb3IgY2xlYW5pbmcgdXAgYW55IHJlc291cmNlc1xuICAgICAqIHVzZWQgYnkgdGhlIG1lbW9yeSBjb250ZXh0IGFuZCByZXNldHRpbmcgaXRzIHN0YXRlLlxuICAgICAqL1xuICAgIGFzeW5jIGRlc3Ryb3koKSB7XG5cbiAgICAgICAgY29uc3Qgc2NvcGUgPSBuZXcgQV9TY29wZSh7IG5hbWU6ICdBLU1lbW9yeS1EZXN0cm95LVNjb3BlJyB9KVxuICAgICAgICAgICAgLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fcmVhZHkgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uRGVzdHJveSwgc2NvcGUpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBkZXN0cm95RXJyb3IgPSBuZXcgQV9NZW1vcnlFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfTWVtb3J5RXJyb3IuTWVtb3J5RGVzdHJ1Y3Rpb25FcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FuIGVycm9yIG9jY3VycmVkIGR1cmluZyBtZW1vcnkgZGVzdHJ1Y3Rpb24nLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBzY29wZS5yZWdpc3RlcihkZXN0cm95RXJyb3IpO1xuXG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uRXJyb3IsIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyBkZXN0cm95RXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgICogUmV0cmlldmVzIGEgdmFsdWUgZnJvbSB0aGUgY29udGV4dCBtZW1vcnlcbiAgICAgICogXG4gICAgICAqIEBwYXJhbSBrZXkgLSBtZW1vcnkga2V5IHRvIHJldHJpZXZlXG4gICAgICAqIEByZXR1cm5zIC0gdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBrZXkgb3IgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZFxuICAgICAgKi9cbiAgICBhc3luYyBnZXQ8SyBleHRlbmRzIGtleW9mIF9TdG9yYWdlVHlwZT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZXkgdG8gcmV0cmlldmUgdGhlIHZhbHVlIGZvclxuICAgICAgICAgKi9cbiAgICAgICAga2V5OiBLXG4gICAgKTogUHJvbWlzZTxfU3RvcmFnZVR5cGVbS10gfCB1bmRlZmluZWQ+IHtcblxuICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBuZXcgQV9PcGVyYXRpb25Db250ZXh0KCdnZXQnLCB7IGtleSB9KTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6ICdBLU1lbW9yeS1HZXQtT3BlcmF0aW9uLVNjb3BlJyxcbiAgICAgICAgICAgIGZyYWdtZW50czogW29wZXJhdGlvbl1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25HZXQsIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb3BlcmF0aW9uLnJlc3VsdDtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZ2V0RXJyb3IgPSBuZXcgQV9NZW1vcnlFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfTWVtb3J5RXJyb3IuTWVtb3J5R2V0RXJyb3IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBnZXR0aW5nIHRoZSB2YWx1ZSBmb3Iga2V5IFwiJHtTdHJpbmcoa2V5KX1cImAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzY29wZS5yZWdpc3RlcihnZXRFcnJvcik7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uRXJyb3IsIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyBnZXRFcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHZhbHVlIGV4aXN0cyBpbiB0aGUgY29udGV4dCBtZW1vcnlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ga2V5IC0gbWVtb3J5IGtleSB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIC0gdHJ1ZSBpZiBrZXkgZXhpc3RzLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBhc3luYyBoYXMoa2V5OiBrZXlvZiBfU3RvcmFnZVR5cGUpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gbmV3IEFfT3BlcmF0aW9uQ29udGV4dCgnaGFzJywgeyBrZXkgfSk7XG5cbiAgICAgICAgY29uc3Qgc2NvcGUgPSBuZXcgQV9TY29wZSh7XG4gICAgICAgICAgICBuYW1lOiAnQS1NZW1vcnktSGFzLU9wZXJhdGlvbi1TY29wZScsXG4gICAgICAgICAgICBmcmFnbWVudHM6IFtvcGVyYXRpb25dXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uSGFzLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9wZXJhdGlvbi5yZXN1bHQ7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGdldEVycm9yID0gbmV3IEFfTWVtb3J5RXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBBX01lbW9yeUVycm9yLk1lbW9yeUhhc0Vycm9yLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY2hlY2tpbmcgZXhpc3RlbmNlIGZvciBrZXkgXCIke1N0cmluZyhrZXkpfVwiYCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKGdldEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25FcnJvciwgc2NvcGUpO1xuXG4gICAgICAgICAgICBzY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHRocm93IGdldEVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2F2ZXMgYSB2YWx1ZSBpbiB0aGUgY29udGV4dCBtZW1vcnlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ga2V5IFxuICAgICAqIEBwYXJhbSB2YWx1ZSBcbiAgICAgKi9cbiAgICBhc3luYyBzZXQ8SyBleHRlbmRzIGtleW9mIF9TdG9yYWdlVHlwZT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZXkgdG8gc2F2ZSB0aGUgdmFsdWUgdW5kZXJcbiAgICAgICAgICovXG4gICAgICAgIGtleTogSyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZhbHVlIHRvIHNhdmVcbiAgICAgICAgICovXG4gICAgICAgIHZhbHVlOiBfU3RvcmFnZVR5cGVbS11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gbmV3IEFfT3BlcmF0aW9uQ29udGV4dCgnc2V0JywgeyBrZXksIHZhbHVlIH0pO1xuXG4gICAgICAgIGNvbnN0IHNjb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgbmFtZTogJ0EtTWVtb3J5LVNldC1PcGVyYXRpb24tU2NvcGUnLFxuICAgICAgICAgICAgZnJhZ21lbnRzOiBbb3BlcmF0aW9uXVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vblNldCwgc2NvcGUpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBzZXRFcnJvciA9IG5ldyBBX01lbW9yeUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9NZW1vcnlFcnJvci5NZW1vcnlTZXRFcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHNldHRpbmcgdGhlIHZhbHVlIGZvciBrZXkgXCIke1N0cmluZyhrZXkpfVwiYCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKHNldEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25FcnJvciwgc2NvcGUpO1xuXG4gICAgICAgICAgICBzY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHRocm93IHNldEVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgdmFsdWUgZnJvbSB0aGUgY29udGV4dCBtZW1vcnkgYnkga2V5XG4gICAgICogXG4gICAgICogQHBhcmFtIGtleSBcbiAgICAgKi9cbiAgICBhc3luYyBkcm9wKGtleToga2V5b2YgX1N0b3JhZ2VUeXBlKTogUHJvbWlzZTx2b2lkPiB7XG5cbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gbmV3IEFfT3BlcmF0aW9uQ29udGV4dCgnZHJvcCcsIHsga2V5IH0pO1xuXG4gICAgICAgIGNvbnN0IHNjb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgbmFtZTogJ0EtTWVtb3J5LURyb3AtT3BlcmF0aW9uLVNjb3BlJyxcbiAgICAgICAgICAgIGZyYWdtZW50czogW29wZXJhdGlvbl1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25Ecm9wLCBzY29wZSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGRyb3BFcnJvciA9IG5ldyBBX01lbW9yeUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9NZW1vcnlFcnJvci5NZW1vcnlEcm9wRXJyb3IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBkcm9wcGluZyB0aGUgdmFsdWUgZm9yIGtleSBcIiR7U3RyaW5nKGtleSl9XCJgLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2NvcGUucmVnaXN0ZXIoZHJvcEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25FcnJvciwgc2NvcGUpO1xuXG4gICAgICAgICAgICBzY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHRocm93IGRyb3BFcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgc3RvcmVkIHZhbHVlcyBpbiB0aGUgY29udGV4dCBtZW1vcnlcbiAgICAgKi9cbiAgICBhc3luYyBjbGVhcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gbmV3IEFfT3BlcmF0aW9uQ29udGV4dCgnY2xlYXInKTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6ICdBLU1lbW9yeS1DbGVhci1PcGVyYXRpb24tU2NvcGUnLFxuICAgICAgICAgICAgZnJhZ21lbnRzOiBbb3BlcmF0aW9uXVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkNsZWFyLCBzY29wZSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFyRXJyb3IgPSBuZXcgQV9NZW1vcnlFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfTWVtb3J5RXJyb3IuTWVtb3J5Q2xlYXJFcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGNsZWFyaW5nIHRoZSBtZW1vcnlgLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2NvcGUucmVnaXN0ZXIoY2xlYXJFcnJvcik7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uRXJyb3IsIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyBjbGVhckVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemVzIHRoZSBtZW1vcnkgY29udGV4dCB0byBhIEpTT04gb2JqZWN0XG4gICAgICogIFxuICAgICAqIEByZXR1cm5zIC0gc2VyaWFsaXplZCBtZW1vcnkgb2JqZWN0IFxuICAgICAqL1xuICAgIGFzeW5jIHRvSlNPTigpOiBQcm9taXNlPF9TZXJpYWxpemVkVHlwZT4ge1xuICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBuZXcgQV9PcGVyYXRpb25Db250ZXh0KCdzZXJpYWxpemUnKTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6ICdBLU1lbW9yeS1TZXJpYWxpemUtT3BlcmF0aW9uLVNjb3BlJyxcbiAgICAgICAgICAgIGZyYWdtZW50czogW29wZXJhdGlvbl1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25TZXJpYWxpemUsIHNjb3BlKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9wZXJhdGlvbi5yZXN1bHQgYXMgX1NlcmlhbGl6ZWRUeXBlO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJpYWxpemVFcnJvciA9IG5ldyBBX01lbW9yeUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9NZW1vcnlFcnJvci5NZW1vcnlTZXJpYWxpemVFcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHNlcmlhbGl6aW5nIHRoZSBtZW1vcnlgLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2NvcGUucmVnaXN0ZXIoc2VyaWFsaXplRXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkVycm9yLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgc2VyaWFsaXplRXJyb3I7XG4gICAgICAgIH1cblxuICAgIH1cbn0iLCAiZXhwb3J0IGVudW0gQV9TZXJ2aWNlRmVhdHVyZXMge1xuXG4gICAgb25CZWZvcmVMb2FkID0gJ19BX1NlcnZpY2Vfb25CZWZvcmVMb2FkJyxcbiAgICBvbkxvYWQgPSAnX0FfU2VydmljZV9vbkxvYWQnLFxuICAgIG9uQWZ0ZXJMb2FkID0gJ19BX1NlcnZpY2Vfb25BZnRlckxvYWQnLFxuXG4gICAgb25CZWZvcmVTdGFydCA9ICdfQV9TZXJ2aWNlX29uQmVmb3JlU3RhcnQnLFxuICAgIG9uU3RhcnQgPSAnX0FfU2VydmljZV9vblN0YXJ0JyxcbiAgICBvbkFmdGVyU3RhcnQgPSAnX0FfU2VydmljZV9vbkFmdGVyU3RhcnQnLFxuXG4gICAgb25CZWZvcmVTdG9wID0gJ19BX1NlcnZpY2Vfb25CZWZvcmVTdG9wJyxcbiAgICBvblN0b3AgPSAnX0FfU2VydmljZV9vblN0b3AnLFxuICAgIG9uQWZ0ZXJTdG9wID0gJ19BX1NlcnZpY2Vfb25BZnRlclN0b3AnLFxuXG5cbiAgICBvbkVycm9yID0gJ19BX1NlcnZpY2Vfb25FcnJvcicsXG59IiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfU2VydmljZV9FcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IFNlcnZpY2VMb2FkRXJyb3IgPSAnU2VydmljZSBsb2FkIGVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBTZXJ2aWNlU3RhcnRFcnJvciA9ICdTZXJ2aWNlIHN0YXJ0IGVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBTZXJ2aWNlU3RvcEVycm9yID0gJ1NlcnZpY2Ugc3RvcCBlcnJvcic7XG5cbiAgICBcblxufSIsICJpbXBvcnQgeyBBX0NvbmNlcHQsIEFfQ29udGFpbmVyLCBBX0Vycm9yLCBBX0ZlYXR1cmUsIEFfSW5qZWN0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfU2VydmljZUZlYXR1cmVzIH0gZnJvbSBcIi4vQS1TZXJ2aWNlLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9Qb2x5ZmlsbCB9IGZyb20gXCIuLi9BLVBvbHlmaWxsL0EtUG9seWZpbGwuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBX0NvbmZpZyB9IGZyb20gXCIuLi9BLUNvbmZpZy9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCIuLi9BLUxvZ2dlci9BLUxvZ2dlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfU2VydmljZV9FcnJvciB9IGZyb20gXCIuL0EtU2VydmljZS5lcnJvclwiO1xuXG5cblxuXG4vKipcbiAqIEEtU2VydmljZSBpcyBhIGNvbnRhaW5lciB0aGF0IGNhbiBydW4gZGlmZmVyZW50IHR5cGVzIG9mIHNlcnZpY2VzLCBzdWNoIGFzIEhUVFAgc2VydmVycywgd29ya2VycywgZXRjLlxuICogRGVwZW5kaW5nIG9uIHRoZSBwcm92aWRlZCBjb25maWcgYW5kIGNvbmZpZ3VyYXRpb24sIGl0IHdpbGwgbG9hZCB0aGUgbmVjZXNzYXJ5IGNvbXBvbmVudHMgYW5kIHN0YXJ0IHRoZSBzZXJ2aWNlLlxuICogXG4gKi9cbmV4cG9ydCBjbGFzcyBBX1NlcnZpY2UgZXh0ZW5kcyBBX0NvbnRhaW5lciB7XG5cblxuICAgIEBBX0NvbmNlcHQuTG9hZCgpXG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgc2VydmljZVxuICAgICAqL1xuICAgIGFzeW5jIGxvYWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TZXJ2aWNlRmVhdHVyZXMub25CZWZvcmVMb2FkKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uTG9hZCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1NlcnZpY2VGZWF0dXJlcy5vbkFmdGVyTG9hZCk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgICAgICAgbGV0IHdyYXBwZWRFcnJvcjtcblxuICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBlcnJvciBpbnN0YW5jZW9mIEFfU2VydmljZV9FcnJvcjpcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEVycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBlcnJvciBpbnN0YW5jZW9mIEFfRXJyb3IgJiYgZXJyb3Iub3JpZ2luYWxFcnJvciBpbnN0YW5jZW9mIEFfU2VydmljZV9FcnJvcjpcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEVycm9yID0gZXJyb3Iub3JpZ2luYWxFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRXJyb3IgPSBuZXcgQV9TZXJ2aWNlX0Vycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBBX1NlcnZpY2VfRXJyb3IuU2VydmljZUxvYWRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcHJvY2Vzc2luZyB0aGUgcmVxdWVzdC4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2NvcGUucmVnaXN0ZXIod3JhcHBlZEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uRXJyb3IpO1xuICAgICAgICB9XG5cbiAgICB9XG5cblxuICAgIEBBX0NvbmNlcHQuU3RhcnQoKVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBzZXJ2ZXJcbiAgICAgKi9cbiAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1NlcnZpY2VGZWF0dXJlcy5vbkJlZm9yZVN0YXJ0KTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uU3RhcnQpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TZXJ2aWNlRmVhdHVyZXMub25BZnRlclN0YXJ0KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICAgICAgICBsZXQgd3JhcHBlZEVycm9yO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGVycm9yIGluc3RhbmNlb2YgQV9TZXJ2aWNlX0Vycm9yOlxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIGVycm9yIGluc3RhbmNlb2YgQV9FcnJvciAmJiBlcnJvci5vcmlnaW5hbEVycm9yIGluc3RhbmNlb2YgQV9TZXJ2aWNlX0Vycm9yOlxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRXJyb3IgPSBlcnJvci5vcmlnaW5hbEVycm9yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZWRFcnJvciA9IG5ldyBBX1NlcnZpY2VfRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IEFfU2VydmljZV9FcnJvci5TZXJ2aWNlU3RhcnRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcHJvY2Vzc2luZyB0aGUgcmVxdWVzdC4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2NvcGUucmVnaXN0ZXIod3JhcHBlZEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uRXJyb3IpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBAQV9Db25jZXB0LlN0b3AoKVxuICAgIC8qKlxuICAgICAqIFN0b3AgdGhlIHNlcnZlclxuICAgICAqL1xuICAgIGFzeW5jIHN0b3AoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TZXJ2aWNlRmVhdHVyZXMub25CZWZvcmVTdG9wKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uU3RvcCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1NlcnZpY2VGZWF0dXJlcy5vbkFmdGVyU3RvcCk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgICAgICAgbGV0IHdyYXBwZWRFcnJvcjtcblxuICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBlcnJvciBpbnN0YW5jZW9mIEFfU2VydmljZV9FcnJvcjpcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEVycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBlcnJvciBpbnN0YW5jZW9mIEFfRXJyb3IgJiYgZXJyb3Iub3JpZ2luYWxFcnJvciBpbnN0YW5jZW9mIEFfU2VydmljZV9FcnJvcjpcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEVycm9yID0gZXJyb3Iub3JpZ2luYWxFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRXJyb3IgPSBuZXcgQV9TZXJ2aWNlX0Vycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBBX1NlcnZpY2VfRXJyb3IuU2VydmljZVN0b3BFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcHJvY2Vzc2luZyB0aGUgcmVxdWVzdC4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2NvcGUucmVnaXN0ZXIod3JhcHBlZEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uRXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBBLVNlcnZpY2UgTGlmZWN5Y2xlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vbkJlZm9yZUxvYWRdKFxuICAgICAgICBAQV9JbmplY3QoQV9Qb2x5ZmlsbCkgcG9seWZpbGw6IEFfUG9seWZpbGwsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEluaXRpYWxpemUgUG9seWZpbGxcbiAgICAgICAgaWYgKCFwb2x5ZmlsbCkge1xuICAgICAgICAgICAgdGhpcy5zY29wZS5yZWdpc3RlcihBX1BvbHlmaWxsKTtcbiAgICAgICAgICAgIHBvbHlmaWxsID0gdGhpcy5zY29wZS5yZXNvbHZlKEFfUG9seWZpbGwpIVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25Mb2FkXSguLi5hcmdzOiBhbnlbXSkgeyB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vbkFmdGVyTG9hZF0oLi4uYXJnczogYW55W10pIHsgfVxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vbkJlZm9yZVN0YXJ0XSguLi5hcmdzOiBhbnlbXSkgeyB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vblN0YXJ0XSguLi5hcmdzOiBhbnlbXSkgeyB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jICBbQV9TZXJ2aWNlRmVhdHVyZXMub25BZnRlclN0YXJ0XSguLi5hcmdzOiBhbnlbXSkgeyB9XG5cblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25CZWZvcmVTdG9wXSguLi5hcmdzOiBhbnlbXSkgeyB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vblN0b3BdKC4uLmFyZ3M6IGFueVtdKSB7IH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfU2VydmljZUZlYXR1cmVzLm9uQWZ0ZXJTdG9wXSguLi5hcmdzOiBhbnlbXSkgeyB9XG5cblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBiZWZvcmU6IC8uKi9cbiAgICB9KVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25FcnJvcl0oXG4gICAgICAgIEBBX0luamVjdChBX0Vycm9yKSBlcnJvcjogQV9FcnJvcixcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI/OiBBX0xvZ2dlcixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgbG9nZ2VyPy5lcnJvcihlcnJvcik7XG4gICAgfVxuXG59XG5cblxuXG5cblxuXG5cblxuIiwgImltcG9ydCB7IEFfRnJhZ21lbnQgfSBmcm9tICdAYWRhYXMvYS1jb25jZXB0JztcblxuXG5cbmV4cG9ydCBjbGFzcyBBX1JvdXRlPFxuICAgIF9UUGFyYW1zIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgX1RRdWVyeSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cbiAgICBwdWJsaWMgdXJsITogc3RyaW5nO1xuXG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgdXJsOiBzdHJpbmcgfCBSZWdFeHAsXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudXJsID0gdXJsIGluc3RhbmNlb2YgUmVnRXhwID8gdXJsLnNvdXJjZSA6IHVybDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHBhdGggb25seSB3aXRob3V0IHF1ZXJ5IGFuZCBoYXNoXG4gICAgICovXG4gICAgZ2V0IHBhdGgoKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgcCA9IHRoaXMudXJsLnNwbGl0KCc/JylbMF0uc3BsaXQoJyMnKVswXTtcblxuXG4gICAgICAgIC8vICBlbnN1cmUgdGhhdCBsYXN0IGNoYXIgaXMgbm90IC9cbiAgICAgICAgLy8gIGFuZCByZW1vdmUgcHJvdG9jb2wgYW5kIGRvbWFpbiBpZiBwcmVzZW50XG4gICAgICAgIGlmIChwLmluY2x1ZGVzKCc6Ly8nKSkge1xuICAgICAgICAgICAgY29uc3QgcGF0aFN0YXJ0SW5kZXggPSBwLmluZGV4T2YoJy8nLCBwLmluZGV4T2YoJzovLycpICsgMyk7XG4gICAgICAgICAgICBpZiAocGF0aFN0YXJ0SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcvJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IHAuc2xpY2UocGF0aFN0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoLmVuZHNXaXRoKCcvJykgPyBwYXRoLnNsaWNlKDAsIC0xKSA6IHBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHAuZW5kc1dpdGgoJy8nKSA/IHAuc2xpY2UoMCwgLTEpIDogcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhcnJheSBvZiBwYXJhbWV0ZXIgbmFtZXMgaW4gdGhlIHJvdXRlIHBhdGhcbiAgICAgKi9cbiAgICBnZXQgcGFyYW1zKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aFxuICAgICAgICAgICAgLm1hdGNoKC86KFteXFwvXSspL2cpXG4gICAgICAgICAgICA/Lm1hcCgocGFyYW0pID0+IHBhcmFtLnNsaWNlKDEpKVxuICAgICAgICAgICAgfHwgW107XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHByb3RvY29sIGJhc2VkIG9uIFVSTCBzY2hlbWVcbiAgICAgKi9cbiAgICBnZXQgcHJvdG9jb2woKTogc3RyaW5nIHtcbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIHRoaXMudXJsLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2h0dHAnO1xuICAgICAgICAgICAgY2FzZSB0aGlzLnVybC5zdGFydHNXaXRoKCdodHRwczovLycpOlxuICAgICAgICAgICAgICAgIHJldHVybiAnaHR0cHMnO1xuICAgICAgICAgICAgY2FzZSB0aGlzLnVybC5zdGFydHNXaXRoKCd3czovLycpOlxuICAgICAgICAgICAgICAgIHJldHVybiAnd3MnO1xuICAgICAgICAgICAgY2FzZSB0aGlzLnVybC5zdGFydHNXaXRoKCd3c3M6Ly8nKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3dzcyc7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVybC5pbmNsdWRlcygnOi8vJykgPyB0aGlzLnVybC5zcGxpdCgnOi8vJylbMF0gOiAnaHR0cCc7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGV4dHJhY3RQYXJhbXModXJsOiBzdHJpbmcpOiBfVFBhcmFtcyB7XG4gICAgICAgIC8vIFJlbW92ZSBxdWVyeSBzdHJpbmcgKGFueXRoaW5nIGFmdGVyID8pXG4gICAgICAgIGNvbnN0IGNsZWFuVXJsID0gdXJsLnNwbGl0KCc/JylbMF07XG5cbiAgICAgICAgY29uc3QgdXJsU2VnbWVudHMgPSBjbGVhblVybC5zcGxpdCgnLycpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3QgbWFza1NlZ21lbnRzID0gdGhpcy5wYXRoLnNwbGl0KCcvJykuZmlsdGVyKEJvb2xlYW4pO1xuXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFza1NlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IG1hc2tTZWdtZW50ID0gbWFza1NlZ21lbnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgdXJsU2VnbWVudCA9IHVybFNlZ21lbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAobWFza1NlZ21lbnQuc3RhcnRzV2l0aCgnOicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1OYW1lID0gbWFza1NlZ21lbnQuc2xpY2UoMSk7IC8vIFJlbW92ZSAnOicgZnJvbSBtYXNrXG4gICAgICAgICAgICAgICAgcGFyYW1zW3BhcmFtTmFtZV0gPSB1cmxTZWdtZW50O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXNrU2VnbWVudCAhPT0gdXJsU2VnbWVudCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHN0YXRpYyBzZWdtZW50cyBkb27igJl0IG1hdGNoIOKGkiBmYWlsXG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9IGFzIF9UUGFyYW1zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhcmFtcyBhcyBfVFBhcmFtcztcbiAgICB9XG5cbiAgICBleHRyYWN0UXVlcnkodXJsOiBzdHJpbmcpOiBfVFF1ZXJ5IHtcbiAgICAgICAgY29uc3QgcXVlcnk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICAgICAgICAvLyBUYWtlIG9ubHkgdGhlIHBhcnQgYWZ0ZXIgXCI/XCJcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSB1cmwuc3BsaXQoJz8nKVsxXTtcbiAgICAgICAgaWYgKCFxdWVyeVN0cmluZykgcmV0dXJuIHF1ZXJ5IGFzIF9UUXVlcnk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGZyYWdtZW50ICgjLi4uKSBpZiBwcmVzZW50XG4gICAgICAgIGNvbnN0IGNsZWFuUXVlcnkgPSBxdWVyeVN0cmluZy5zcGxpdCgnIycpWzBdO1xuXG4gICAgICAgIC8vIFNwbGl0IGludG8ga2V5PXZhbHVlIHBhaXJzXG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBjbGVhblF1ZXJ5LnNwbGl0KCcmJykpIHtcbiAgICAgICAgICAgIGlmICghcGFpcikgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBba2V5LCB2YWx1ZSA9ICcnXSA9IHBhaXIuc3BsaXQoJz0nKTtcbiAgICAgICAgICAgIHF1ZXJ5W2RlY29kZVVSSUNvbXBvbmVudChrZXkpXSA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcXVlcnkgYXMgX1RRdWVyeTtcbiAgICB9XG5cblxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgLy8gcGF0aCBjYW4gYmUgbGlrZSAvYXBpL3YxL3VzZXJzLzppZFxuICAgICAgICAvLyBhbmQgYmVjYXVzZSBvZiB0aGF0IDppZCB3ZSBuZWVkIHRvIHJlcGxhY2UgaXQgd2l0aCByZWdleCB0aGF0IG1hdGNoZXMgY2hhcnMgYW5kIG51bWJlcnMgb25seSAgIFxuICAgICAgICByZXR1cm4gYCR7dGhpcy5wYXRofWA7XG4gICAgICAgIC8vIC5yZXBsYWNlKC9cXC86KFteXFwvXSspL2csICdcXFxcLyhbXlxcL10rKScpXG4gICAgfVxuXG4gICAgdG9SZWdFeHAoKTogUmVnRXhwIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3RoaXMucGF0aC5yZXBsYWNlKC9cXC86KFteXFwvXSspL2csICcvKFteL10rKScpfSRgKTtcbiAgICB9XG5cbiAgICB0b0FGZWF0dXJlRXh0ZW5zaW9uKGV4dGVuc2lvblNjb3BlOiBBcnJheTxzdHJpbmc+ID0gW10pOiBSZWdFeHAge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7ZXh0ZW5zaW9uU2NvcGUubGVuZ3RoXG4gICAgICAgICAgICA/IGAoJHtleHRlbnNpb25TY29wZS5qb2luKCd8Jyl9KWBcbiAgICAgICAgICAgIDogJy4qJ1xuICAgICAgICAgICAgfVxcXFwuJHt0aGlzLnBhdGgucmVwbGFjZSgvXFwvOihbXlxcL10rKS9nLCAnLyhbXi9dKyknKX0kYCk7XG4gICAgfVxufVxuXG4iLCAiXG5leHBvcnQgZW51bSBBX1NpZ25hbEZlYXR1cmVzIHtcbiAgICBOZXh0ID0gJ19BX1NpZ25hbEZlYXR1cmVzX05leHQnLFxufVxuXG5cblxuZXhwb3J0IGVudW0gQV9TaWduYWxWZWN0b3JGZWF0dXJlcyB7XG4gICAgTmV4dCA9ICdfQV9TaWduYWxWZWN0b3JGZWF0dXJlc19OZXh0Jyxcbn0iLCAiaW1wb3J0IHsgQV9FbnRpdHksIEFfU2NvcGUgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9TaWduYWxfSW5pdCwgQV9TaWduYWxfU2VyaWFsaXplZCB9IGZyb20gXCIuLi9BLVNpZ25hbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9TaWduYWxGZWF0dXJlcyB9IGZyb20gXCIuLi9BLVNpZ25hbC5jb25zdGFudHNcIjtcblxuLyoqXG4gKiBBIFNpZ25hbCBFbnRpdHkgaXMgYW4gaW5kaXZpZHVhbCBzaWduYWwgaW5zdGFuY2UgdGhhdCBjYXJyaWVzIGRhdGEuXG4gKiBTaWduYWxzIGlzIGEgZXZlbnQgdHlwZXMgdGhhdCB1c2VzIGZvciB2ZWN0b3JzIG9mIHNpZ25hbHMgdG8gYmUgdXNlZCBmb3IgZnVydGhlciBwcm9jZXNzaW5nLiBcbiAqIFxuICogQ29tcGFyaW5nIHRvIHN0YW5kYXJkIGV2ZW50cywgc2lnbmFscyBzaG91bGQgYmUgdXNlZCBpbiBjYXNlIHdoZW4gdGhlIGV2ZW50IGltcGFjdHMgc29tZSBcInN0YXRlXCIgXG4gKiBhbmQgdGhlIHN0YXRlIHNob3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIGV2ZW50IGl0c2VsZi5cbiAqIFxuICogRm9yIGV4YW1wbGUsIGEgc2lnbmFsIGNhbiByZXByZXNlbnQgdGhlIGN1cnJlbnQgc3RhdHVzIG9mIGEgdXNlciAob25saW5lL29mZmxpbmUvYXdheSksIFxuICogd2hpbGUgYW4gZXZlbnQgd291bGQgcmVwcmVzZW50IGEgc2luZ2xlIGFjdGlvbiAodXNlciBsb2dnZWQgaW4vbG9nZ2VkIG91dCkuXG4gKiBcbiAqIFNpZ25hbHMgYXJlIHR5cGljYWxseSB1c2VkIGluIHNjZW5hcmlvcyB3aGVyZSB0aGUgY3VycmVudCBzdGF0ZSBpcyBtb3JlIGltcG9ydGFudCB0aGFuIGluZGl2aWR1YWwgZXZlbnRzLCBcbiAqIHN1Y2ggYXMgbW9uaXRvcmluZyBzeXN0ZW1zLCByZWFsLXRpbWUgZGFzaGJvYXJkcywgb3Igc3RhdGVmdWwgYXBwbGljYXRpb25zLlxuICovXG5leHBvcnQgY2xhc3MgQV9TaWduYWw8XG4gICAgX1RTaWduYWxEYXRhVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGV4dGVuZHMgQV9FbnRpdHk8QV9TaWduYWxfSW5pdDxfVFNpZ25hbERhdGFUeXBlPiwgQV9TaWduYWxfU2VyaWFsaXplZDxfVFNpZ25hbERhdGFUeXBlPj4ge1xuXG4gICAgZGF0YSE6IF9UU2lnbmFsRGF0YVR5cGU7XG5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgZGVmYXVsdCBkYXRhIGZvciB0aGUgc2lnbmFsLlxuICAgICAqIFxuICAgICAqIElmIG5vIGRhdGEgaXMgcHJvdmlkZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLCB0aGUgZGVmYXVsdCBkYXRhIHdpbGwgYmUgdXNlZC5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgZGVmYXVsdCgpOiBQcm9taXNlPEFfU2lnbmFsIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG5cblxuICAgIGZyb21KU09OKHNlcmlhbGl6ZWRFbnRpdHk6IEFfU2lnbmFsX1NlcmlhbGl6ZWQ8X1RTaWduYWxEYXRhVHlwZT4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuZnJvbUpTT04oc2VyaWFsaXplZEVudGl0eSk7XG4gICAgICAgIHRoaXMuZGF0YSA9IHNlcmlhbGl6ZWRFbnRpdHkuZGF0YTtcbiAgICB9XG5cblxuICAgIGZyb21OZXcobmV3RW50aXR5OiBBX1NpZ25hbF9Jbml0PF9UU2lnbmFsRGF0YVR5cGU+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYXNlaWQgPSB0aGlzLmdlbmVyYXRlQVNFSUQoeyBlbnRpdHk6IG5ld0VudGl0eS5uYW1lIH0pO1xuICAgICAgICB0aGlzLmRhdGEgPSBuZXdFbnRpdHkuZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbWl0cyB0aGlzIHNpZ25hbCB3aXRoaW4gdGhlIHByb3ZpZGVkIHNjb3BlLlxuICAgICAqIFxuICAgICAqIFNjb3BlIGlzIG1hbmRhdG9yeSBzaW5jZSBzaWduYWwgaXRzZWxmIHNob3VsZCBub3QgYmUgcmVnaXN0ZXJlZCBpbiB0aGUgc2NvcGUsIFxuICAgICAqIGJ1dCBzaG91bGQgdXNlIHBhcnRpY3VsYXIgc2NvcGUgY29udGV4dCB0byB1c2UgcHJvcGVyIHNldCBvZiBjb21wb25lbnRzXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlIFxuICAgICAqL1xuICAgIGFzeW5jIG5leHQoc2NvcGU6IEFfU2NvcGUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2lnbmFsRmVhdHVyZXMuTmV4dCwgc2NvcGUpO1xuICAgIH1cblxuXG4gICAgdG9KU09OKCk6IEFfU2lnbmFsX1NlcmlhbGl6ZWQ8X1RTaWduYWxEYXRhVHlwZT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBkYXRhOiB0aGlzLmRhdGFcbiAgICAgICAgfTtcbiAgICB9XG5cbn0iLCAiaW1wb3J0IHsgQV9FbnRpdHksIEFfU2NvcGUsIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciwgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfU2lnbmFsVmVjdG9yX1NlcmlhbGl6ZWQsIEFfU2lnbmFsVmVjdG9yX0luaXQgfSBmcm9tIFwiLi4vQS1TaWduYWwudHlwZXNcIjtcbmltcG9ydCB7IEFfU2lnbmFsIH0gZnJvbSBcIi4vQS1TaWduYWwuZW50aXR5XCI7XG5pbXBvcnQgeyBBX1NpZ25hbFZlY3RvckZlYXR1cmVzIH0gZnJvbSBcIi4uL0EtU2lnbmFsLmNvbnN0YW50c1wiO1xuXG5cbi8qKlxuICogQSBTaWduYWwgVmVjdG9yIEVudGl0eSBpcyBhIGNvbGxlY3Rpb24gb2Ygc2lnbmFscyBzdHJ1Y3R1cmVkIGluIGEgc3BlY2lmaWMgd2F5LlxuICogSXQgYWxsb3dzIGdyb3VwaW5nIG11bHRpcGxlIHNpZ25hbHMgdG9nZXRoZXIgZm9yIGJhdGNoIHByb2Nlc3Npbmcgb3IgdHJhbnNtaXNzaW9uLlxuICogXG4gKiBTaWduYWwgVmVjdG9ycyBhcmUgdXNlZnVsIGluIHNjZW5hcmlvcyB3aGVyZSBtdWx0aXBsZSByZWxhdGVkIHNpZ25hbHMgbmVlZCB0byBiZSBoYW5kbGVkIHRvZ2V0aGVyLFxuICogYXMgYSBzdGF0ZSBvZiB0aGUgc3lzdGVtIG9yIGEgc25hcHNob3Qgb2YgdmFyaW91cyBwYXJhbWV0ZXJzIGF0IGEgZ2l2ZW4gdGltZS5cbiAqIFxuICogQHRlbXBsYXRlIFRTaWduYWxzQ29uc3RydWN0b3JzIC0gQXJyYXkgb2Ygc2lnbmFsIGNvbnN0cnVjdG9yIHR5cGVzIChlLmcuLCBbdHlwZW9mIE15U2lnbmFsLCB0eXBlb2YgQ3VzdG9tU2lnbmFsXSlcbiAqIEB0ZW1wbGF0ZSBUU2lnbmFscyAtIEFycmF5IG9mIHNpZ25hbCBpbnN0YW5jZXMgZGVyaXZlZCBmcm9tIGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY2xhc3MgQV9TaWduYWxWZWN0b3I8XG4gICAgVFNpZ25hbHMgZXh0ZW5kcyBBcnJheTxBX1NpZ25hbD4gPSBBcnJheTxBX1NpZ25hbD4sXG4gICAgVFNpZ25hbHNDb25zdHJ1Y3RvcnMgZXh0ZW5kcyBBcnJheTxBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8QV9TaWduYWw+PiA9IFRTaWduYWxzIGV4dGVuZHMgQXJyYXk8aW5mZXIgVT4gPyBVIGV4dGVuZHMgQV9TaWduYWwgPyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VT5bXSA6IG5ldmVyIDogbmV2ZXJcbj4gZXh0ZW5kcyBBX0VudGl0eTxBX1NpZ25hbFZlY3Rvcl9Jbml0PFRTaWduYWxzW251bWJlcl1bXSwgVFNpZ25hbHNDb25zdHJ1Y3RvcnM+LCBBX1NpZ25hbFZlY3Rvcl9TZXJpYWxpemVkPiB7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RydWN0dXJlIG9mIHRoZSBzaWduYWwgdmVjdG9yLCBkZWZpbmluZyB0aGUgdHlwZXMgb2Ygc2lnbmFscyBpdCBjb250YWlucy5cbiAgICAgKiBcbiAgICAgKiBGb3IgZXhhbXBsZTpcbiAgICAgKiBbVXNlclNpZ25JblNpZ25hbCwgVXNlclN0YXR1c1NpZ25hbCwgVXNlckFjdGl2aXR5U2lnbmFsXVxuICAgICAqIFxuICAgICAqIFshXSBpZiBub3QgcHJvdmlkZWQsIGl0IHdpbGwgYmUgZGVyaXZlZCBmcm9tIHRoZSBzaWduYWxzIHZhbHVlcy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3N0cnVjdHVyZT86IFRTaWduYWxzQ29uc3RydWN0b3JzO1xuICAgIC8qKlxuICAgICAqIEl0J3MgYWN0dWFsIHZlY3RvciBWYWx1ZXMgb2YgU2lnbmFscyBsaWtlIDpcbiAgICAgKiBbVXNlckFjdGlvblNpZ25hbCwgVXNlck1vdXNlUG9zaXRpb25TaWduYWwsIEV4dGVybmFsRGVwZW5kZW5jeVNpZ25hbF1cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3NpZ25hbHMhOiBUU2lnbmFsc1tudW1iZXJdW11cblxuXG4gICAgZnJvbU5ldyhuZXdFbnRpdHk6IEFfU2lnbmFsVmVjdG9yX0luaXQ8VFNpZ25hbHNbbnVtYmVyXVtdLCBUU2lnbmFsc0NvbnN0cnVjdG9ycz4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuZnJvbU5ldyhuZXdFbnRpdHkpO1xuICAgICAgICB0aGlzLl9zdHJ1Y3R1cmUgPSBuZXdFbnRpdHkuc3RydWN0dXJlO1xuICAgICAgICB0aGlzLl9zaWduYWxzID0gbmV3RW50aXR5LnZhbHVlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RydWN0dXJlIG9mIHRoZSBzaWduYWwgdmVjdG9yLCBkZWZpbmluZyB0aGUgdHlwZXMgb2Ygc2lnbmFscyBpdCBjb250YWlucy5cbiAgICAgKiBcbiAgICAgKiBGb3IgZXhhbXBsZTpcbiAgICAgKiBbVXNlclNpZ25JblNpZ25hbCwgVXNlclN0YXR1c1NpZ25hbCwgVXNlckFjdGl2aXR5U2lnbmFsXVxuICAgICAqIFxuICAgICAqL1xuICAgIGdldCBzdHJ1Y3R1cmUoKTogVFNpZ25hbHNDb25zdHJ1Y3RvcnMge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RydWN0dXJlIHx8IHRoaXMuX3NpZ25hbHMubWFwKHMgPT4gcy5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8QV9TaWduYWw+KSBhcyBUU2lnbmFsc0NvbnN0cnVjdG9ycztcbiAgICB9XG5cblxuICAgIGdldCBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlLmxlbmd0aDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgaXRlcmF0aW9uIG92ZXIgdGhlIHNpZ25hbHMgaW4gdGhlIHZlY3Rvci5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYXRvcjxUU2lnbmFsc1tudW1iZXJdPiB7XG4gICAgICAgIGxldCBwb2ludGVyID0gMDtcbiAgICAgICAgY29uc3Qgc2lnbmFscyA9IHRoaXMuc3RydWN0dXJlLm1hcCgoc2lnbmFsQ29uc3RydWN0b3IpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNpZ25hbEluZGV4ID0gdGhpcy5fc2lnbmFscy5maW5kSW5kZXgocyA9PiBzLmNvbnN0cnVjdG9yID09PSBzaWduYWxDb25zdHJ1Y3Rvcik7XG4gICAgICAgICAgICByZXR1cm4gc2lnbmFsSW5kZXggIT09IC0xID8gdGhpcy5fc2lnbmFsc1tzaWduYWxJbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIH0pIGFzIFRTaWduYWxzW251bWJlcl1bXTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmV4dCgpOiBJdGVyYXRvclJlc3VsdDxUU2lnbmFsc1tudW1iZXJdPiB7XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50ZXIgPCBzaWduYWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc2lnbmFsc1twb2ludGVyKytdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkIGFzIGFueVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEVtaXRzIHRoZSBzaWduYWwgdmVjdG9yIHRvIHRoZSBzcGVjaWZpZWQgc2NvcGUuXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlXG4gICAgICovXG4gICAgYXN5bmMgbmV4dChzY29wZTogQV9TY29wZSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jYWxsKEFfU2lnbmFsVmVjdG9yRmVhdHVyZXMuTmV4dCwgc2NvcGUpO1xuICAgIH1cblxuICAgIFxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgdmVjdG9yIGNvbnRhaW5zIGEgc2lnbmFsIG9mIHRoZSBzcGVjaWZpZWQgdHlwZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2lnbmFsIFxuICAgICAqL1xuICAgIGhhcyhzaWduYWw6IEFfU2lnbmFsKTogYm9vbGVhblxuICAgIGhhcyhzaWduYWxDb25zdHJ1Y3RvcjogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPik6IGJvb2xlYW5cbiAgICBoYXMocGFyYW0xOiBBX1NpZ25hbCB8IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4pOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHNpZ25hbENvbnN0cnVjdG9yOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8QV9TaWduYWw+O1xuICAgICAgICBpZiAocGFyYW0xIGluc3RhbmNlb2YgQV9FbnRpdHkpIHtcbiAgICAgICAgICAgIHNpZ25hbENvbnN0cnVjdG9yID0gcGFyYW0xLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaWduYWxDb25zdHJ1Y3RvciA9IHBhcmFtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmUuaW5jbHVkZXMoc2lnbmFsQ29uc3RydWN0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgc2lnbmFsIG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBmcm9tIHRoZSB2ZWN0b3IuXG4gICAgICogXG4gICAgICogQHBhcmFtIHNpZ25hbCBcbiAgICAgKi9cbiAgICBnZXQ8VCBleHRlbmRzIEFfU2lnbmFsPihzaWduYWw6IFQpOiBUIHwgdW5kZWZpbmVkXG4gICAgZ2V0PFQgZXh0ZW5kcyBBX1NpZ25hbD4oc2lnbmFsQ29uc3RydWN0b3I6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPik6IFQgfCB1bmRlZmluZWRcbiAgICBnZXQ8VCBleHRlbmRzIEFfU2lnbmFsPihwYXJhbTE6IFQgfCBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD4pOiBUIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgbGV0IHNpZ25hbENvbnN0cnVjdG9yOiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8QV9TaWduYWw+O1xuXG4gICAgICAgIGlmIChwYXJhbTEgaW5zdGFuY2VvZiBBX0VudGl0eSkge1xuICAgICAgICAgICAgc2lnbmFsQ29uc3RydWN0b3IgPSBwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPEFfU2lnbmFsPjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNpZ25hbENvbnN0cnVjdG9yID0gcGFyYW0xIGFzIEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxBX1NpZ25hbD47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3NpZ25hbHMuZmluZEluZGV4KHMgPT4gcy5jb25zdHJ1Y3RvciA9PT0gc2lnbmFsQ29uc3RydWN0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zaWduYWxzW2luZGV4XSBhcyBUO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdG8gQXJyYXkgb2YgdmFsdWVzIG9mIHNpZ25hbHMgaW4gdGhlIHZlY3RvclxuICAgICAqIE1haW50YWlucyB0aGUgb3JkZXIgc3BlY2lmaWVkIGluIHRoZSBzdHJ1Y3R1cmUvZ2VuZXJpYyB0eXBlXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0cnVjdHVyZSAtIE9wdGlvbmFsIHN0cnVjdHVyZSB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBvcmRlcmluZ1xuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIHNpZ25hbCBpbnN0YW5jZXMgaW4gdGhlIHNwZWNpZmllZCBvcmRlclxuICAgICAqL1xuICAgIGFzeW5jIHRvVmVjdG9yPFxuICAgICAgICBUIGV4dGVuZHMgQXJyYXk8QV9TaWduYWw+ID0gVFNpZ25hbHMsXG4gICAgPihcbiAgICAgICAgc3RydWN0dXJlPzogeyBbSyBpbiBrZXlvZiBUXTogVFtLXSBleHRlbmRzIEFfU2lnbmFsID8gQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPFRbS10+IDogbmV2ZXIgfVxuICAgICk6IFByb21pc2U8eyBbSyBpbiBrZXlvZiBUXTogVFtLXSB9PiB7XG4gICAgICAgIGNvbnN0IHVzZWRTdHJ1Y3R1cmUgPSBzdHJ1Y3R1cmUgfHwgdGhpcy5zdHJ1Y3R1cmU7XG5cbiAgICAgICAgcmV0dXJuIHVzZWRTdHJ1Y3R1cmUubWFwKChzaWduYWxDb25zdHJ1Y3RvcikgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2lnbmFsSW5kZXggPSB0aGlzLl9zaWduYWxzLmZpbmRJbmRleChzID0+IHMuY29uc3RydWN0b3IgPT09IHNpZ25hbENvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIHJldHVybiBzaWduYWxJbmRleCAhPT0gLTEgPyB0aGlzLl9zaWduYWxzW3NpZ25hbEluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSkgYXMgeyBbSyBpbiBrZXlvZiBUXTogVFtLXSB9O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdG8gQXJyYXkgb2YgZGF0YSBvZiBzaWduYWxzIGluIHRoZSB2ZWN0b3JcbiAgICAgKiBNYWludGFpbnMgdGhlIG9yZGVyIHNwZWNpZmllZCBpbiB0aGUgc3RydWN0dXJlL2dlbmVyaWMgdHlwZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHJ1Y3R1cmUgLSBPcHRpb25hbCBzdHJ1Y3R1cmUgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3JkZXJpbmdcbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiBzZXJpYWxpemVkIHNpZ25hbCBkYXRhIGluIHRoZSBzcGVjaWZpZWQgb3JkZXJcbiAgICAgKi9cbiAgICBhc3luYyB0b0RhdGFWZWN0b3I8XG4gICAgICAgIFQgZXh0ZW5kcyBBcnJheTxBX1NpZ25hbD4gPSBUU2lnbmFscyxcbiAgICA+KFxuICAgICAgICBzdHJ1Y3R1cmU/OiB7IFtLIGluIGtleW9mIFRdOiBUW0tdIGV4dGVuZHMgQV9TaWduYWwgPyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VFtLXT4gOiBuZXZlciB9XG4gICAgKTogUHJvbWlzZTx7IFtLIGluIGtleW9mIFRdOiBUW0tdIGV4dGVuZHMgQV9TaWduYWw8aW5mZXIgRD4gPyBEIHwgdW5kZWZpbmVkIDogbmV2ZXIgfT4ge1xuXG4gICAgICAgIGNvbnN0IHVzZWRTdHJ1Y3R1cmUgPSBzdHJ1Y3R1cmUgfHwgdGhpcy5zdHJ1Y3R1cmU7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0czogQXJyYXk8YW55PiA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3Qgc2lnbmFsQ29uc3RydWN0b3Igb2YgdXNlZFN0cnVjdHVyZSkge1xuICAgICAgICAgICAgY29uc3Qgc2lnbmFsSW5kZXggPSB0aGlzLl9zaWduYWxzLmZpbmRJbmRleChzID0+IHMuY29uc3RydWN0b3IgPT09IHNpZ25hbENvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIGxldCBkYXRhOiBhbnk7XG4gICAgICAgICAgICBpZiAoc2lnbmFsSW5kZXggPT09IC0xKSB7XG5cbiAgICAgICAgICAgICAgICBkYXRhID0gYXdhaXQgKHNpZ25hbENvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX1NpZ25hbCkuZGVmYXVsdCgpXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmFsID0gdGhpcy5fc2lnbmFsc1tzaWduYWxJbmRleF07XG4gICAgICAgICAgICAgICAgZGF0YSA9IHNpZ25hbDtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICByZXN1bHRzLnB1c2goZGF0YT8udG9KU09OKCkuZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0cyBhcyB7IFtLIGluIGtleW9mIFRdOiBUW0tdIGV4dGVuZHMgQV9TaWduYWw8aW5mZXIgRD4gPyBEIHwgdW5kZWZpbmVkIDogbmV2ZXIgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0byBPYmplY3Qgd2l0aCBzaWduYWwgY29uc3RydWN0b3IgbmFtZXMgYXMga2V5cyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBkYXRhIHZhbHVlc1xuICAgICAqIFVzZXMgdGhlIHN0cnVjdHVyZSBvcmRlcmluZyB0byBlbnN1cmUgY29uc2lzdGVudCBrZXkgb3JkZXJpbmdcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBPYmplY3Qgd2l0aCBzaWduYWwgY29uc3RydWN0b3IgbmFtZXMgYXMga2V5cyBhbmQgc2lnbmFsIGRhdGEgYXMgdmFsdWVzXG4gICAgICovXG4gICAgYXN5bmMgdG9PYmplY3Q8XG4gICAgICAgIFQgZXh0ZW5kcyBBcnJheTxBX1NpZ25hbD4gPSBUU2lnbmFscyxcbiAgICA+KFxuICAgICAgICBzdHJ1Y3R1cmU/OiB7IFtLIGluIGtleW9mIFRdOiBUW0tdIGV4dGVuZHMgQV9TaWduYWwgPyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VFtLXT4gOiBuZXZlciB9XG4gICAgKTogUHJvbWlzZTx7IFtrZXk6IHN0cmluZ106IFRbbnVtYmVyXSBleHRlbmRzIEFfU2lnbmFsPGluZmVyIEQ+ID8gRCB8IHVuZGVmaW5lZCA6IG5ldmVyIH0+IHtcblxuICAgICAgICBjb25zdCB1c2VkU3RydWN0dXJlID0gc3RydWN0dXJlIHx8IHRoaXMuc3RydWN0dXJlO1xuXG4gICAgICAgIGNvbnN0IG9iajogeyBba2V5OiBzdHJpbmddOiBUW251bWJlcl0gZXh0ZW5kcyBBX1NpZ25hbDxpbmZlciBEPiA/IEQgfCB1bmRlZmluZWQgOiBuZXZlciB9ID0ge307XG4gICAgICAgIHVzZWRTdHJ1Y3R1cmUuZm9yRWFjaCgoc2lnbmFsQ29uc3RydWN0b3IpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNpZ25hbE5hbWUgPSBzaWduYWxDb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgY29uc3Qgc2lnbmFsSW5kZXggPSB0aGlzLl9zaWduYWxzLmZpbmRJbmRleChzID0+IHMuY29uc3RydWN0b3IgPT09IHNpZ25hbENvbnN0cnVjdG9yKTtcblxuICAgICAgICAgICAgaWYgKHNpZ25hbEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25hbCA9IHRoaXMuX3NpZ25hbHNbc2lnbmFsSW5kZXhdO1xuICAgICAgICAgICAgICAgIG9ialtzaWduYWxOYW1lXSA9IHNpZ25hbC50b0pTT04oKS5kYXRhIGFzIGFueTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqW3NpZ25hbE5hbWVdID0gdW5kZWZpbmVkIGFzIGFueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIFNpZ25hbCBWZWN0b3IgdG8gYSBKU09OLWNvbXBhdGlibGUgZm9ybWF0LlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvSlNPTigpOiBBX1NpZ25hbFZlY3Rvcl9TZXJpYWxpemVkIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN1cGVyLnRvSlNPTigpLFxuICAgICAgICAgICAgc3RydWN0dXJlOiB0aGlzLnN0cnVjdHVyZS5tYXAocyA9PiBzLm5hbWUpLFxuICAgICAgICAgICAgdmFsdWVzOiB0aGlzLl9zaWduYWxzLm1hcChzID0+IHMudG9KU09OKCkpXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwgImltcG9ydCB7IEFfQ29udGV4dCwgQV9GcmFnbWVudCwgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfU2lnbmFsIH0gZnJvbSBcIi4uL2VudGl0aWVzL0EtU2lnbmFsLmVudGl0eVwiO1xuaW1wb3J0IHsgQV9TaWduYWxWZWN0b3IgfSBmcm9tIFwiLi4vZW50aXRpZXMvQS1TaWduYWxWZWN0b3IuZW50aXR5XCI7XG5cbi8qKlxuICogQV9TaWduYWxTdGF0ZSBtYW5hZ2VzIHRoZSBsYXRlc3Qgc3RhdGUgb2YgYWxsIHNpZ25hbHMgd2l0aGluIGEgZ2l2ZW4gc2NvcGUuXG4gKiBcbiAqIFRoaXMgY2xhc3MgbWFpbnRhaW5zIGEgbWFwcGluZyBiZXR3ZWVuIHNpZ25hbCBjb25zdHJ1Y3RvcnMgYW5kIHRoZWlyIG1vc3QgcmVjZW50bHkgZW1pdHRlZCB2YWx1ZXMsXG4gKiBwcm92aWRpbmcgYSBjZW50cmFsaXplZCBzdGF0ZSBzdG9yZSBmb3Igc2lnbmFsIG1hbmFnZW1lbnQgd2l0aGluIGFuIGFwcGxpY2F0aW9uIGNvbnRleHQuXG4gKiBcbiAqIEB0ZW1wbGF0ZSBUU2lnbmFsRGF0YSAtIFVuaW9uIHR5cGUgb2YgYWxsIHBvc3NpYmxlIHNpZ25hbCBkYXRhIHR5cGVzIHRoYXQgY2FuIGJlIHN0b3JlZCAobXVzdCBleHRlbmQgUmVjb3JkPHN0cmluZywgYW55PilcbiAqIFxuICogVGhlIGdlbmVyaWMgZW5zdXJlcyB0eXBlIHNhZmV0eSBieSBtYWludGFpbmluZyBjb3JyZXNwb25kZW5jZSBiZXR3ZWVuOlxuICogLSBTaWduYWwgY29uc3RydWN0b3IgdHlwZXMgYW5kIHRoZWlyIGRhdGEgdHlwZXNcbiAqIC0gU2lnbmFsIGluc3RhbmNlcyBhbmQgdGhlaXIgZW1pdHRlZCB2YWx1ZSB0eXBlc1xuICogLSBWZWN0b3Igc3RydWN0dXJlIGFuZCB0aGUgZGF0YSBpdCBjb250YWluc1xuICovXG5leHBvcnQgY2xhc3MgQV9TaWduYWxTdGF0ZTxcbiAgICBUU2lnbmFsRGF0YSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtYXAgc3RvcmluZyB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gc2lnbmFsIGNvbnN0cnVjdG9ycyBhbmQgdGhlaXIgbGF0ZXN0IHZhbHVlc1xuICAgICAqIEtleTogU2lnbmFsIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXG4gICAgICogVmFsdWU6IExhdGVzdCBlbWl0dGVkIGRhdGEgZnJvbSB0aGF0IHNpZ25hbCB0eXBlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9zdGF0ZTogTWFwPEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4sIEFfU2lnbmFsPiA9IG5ldyBNYXAoKTtcblxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIHN0cnVjdHVyZSBkZWZpbmluZyB0aGUgb3JkZXJlZCBsaXN0IG9mIHNpZ25hbCBjb25zdHJ1Y3RvcnNcbiAgICAgKiBVc2VkIGZvciB2ZWN0b3Igb3BlcmF0aW9ucyBhbmQgaW5pdGlhbGl6YXRpb25cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3N0cnVjdHVyZTogQXJyYXk8QV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPj47XG5cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG9yZGVyZWQgc3RydWN0dXJlIG9mIHNpZ25hbCBjb25zdHJ1Y3RvcnNcbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiBzaWduYWwgY29uc3RydWN0b3JzIGluIHRoZWlyIGRlZmluZWQgb3JkZXJcbiAgICAgKi9cbiAgICBnZXQgc3RydWN0dXJlKCk6IEFycmF5PEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0cnVjdHVyZSB8fCBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEFfU2lnbmFsU3RhdGUgaW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RydWN0dXJlIC0gT3B0aW9uYWwgYXJyYXkgZGVmaW5pbmcgdGhlIG9yZGVyZWQgc3RydWN0dXJlIG9mIHNpZ25hbCBjb25zdHJ1Y3RvcnNcbiAgICAgKiAgICAgICAgICAgICAgICAgICBUaGlzIHN0cnVjdHVyZSBpcyB1c2VkIGZvciB2ZWN0b3Igb3BlcmF0aW9ucyBhbmQgZGV0ZXJtaW5lcyB0aGUgb3JkZXJcbiAgICAgKiAgICAgICAgICAgICAgICAgICBpbiB3aGljaCBzaWduYWxzIGFyZSBwcm9jZXNzZWQgYW5kIHNlcmlhbGl6ZWRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgc3RydWN0dXJlOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8QV9TaWduYWw+W11cbiAgICApIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiBcIkFfU2lnbmFsU3RhdGVcIiB9KTtcblxuICAgICAgICB0aGlzLl9zdHJ1Y3R1cmUgPSBzdHJ1Y3R1cmU7XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgc3RhdGUgbWFwIHdpdGggdW5kZWZpbmVkIHZhbHVlcyBmb3IgZWFjaCBzaWduYWwgaW4gdGhlIHN0cnVjdHVyZVxuICAgICAgICAvLyBUaGlzIGVuc3VyZXMgYWxsIGV4cGVjdGVkIHNpZ25hbHMgaGF2ZSBlbnRyaWVzIGluIHRoZSBzdGF0ZSBtYXAgZnJvbSB0aGUgc3RhcnRcbiAgICAgIFxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGF0ZXN0IHZhbHVlIGZvciBhIHNwZWNpZmljIHNpZ25hbCB0eXBlXG4gICAgICogXG4gICAgICogQHBhcmFtIHNpZ25hbCAtIFRoZSBzaWduYWwgY29uc3RydWN0b3IgdG8gYXNzb2NpYXRlIHRoZSB2YWx1ZSB3aXRoXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIGRhdGEgdmFsdWUgZW1pdHRlZCBieSB0aGUgc2lnbmFsXG4gICAgICovXG4gICAgc2V0KFxuICAgICAgICBzaWduYWw6IEFfU2lnbmFsLFxuICAgICAgICB2YWx1ZTogQV9TaWduYWxcbiAgICApOiB2b2lkXG4gICAgc2V0KFxuICAgICAgICBzaWduYWw6IEFfU2lnbmFsXG4gICAgKTogdm9pZFxuICAgIHNldChcbiAgICAgICAgc2lnbmFsOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8QV9TaWduYWw+LFxuICAgICAgICB2YWx1ZTogQV9TaWduYWxcbiAgICApOiB2b2lkXG4gICAgc2V0KFxuICAgICAgICBwYXJhbTE6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4gfCBBX1NpZ25hbCxcbiAgICAgICAgcGFyYW0yPzogQV9TaWduYWxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gcGFyYW0xIGluc3RhbmNlb2YgQV9TaWduYWwgPyBwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPiA6IHBhcmFtMTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbTEgaW5zdGFuY2VvZiBBX1NpZ25hbCA/IHBhcmFtMSA6IHBhcmFtMiE7XG5cbiAgICAgICAgdGhpcy5fc3RhdGUuc2V0KHNpZ25hbCwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbGF0ZXN0IHZhbHVlIGZvciBhIHNwZWNpZmljIHNpZ25hbCB0eXBlXG4gICAgICogXG4gICAgICogQHBhcmFtIHNpZ25hbCAtIFRoZSBzaWduYWwgY29uc3RydWN0b3IgdG8gZ2V0IHRoZSB2YWx1ZSBmb3JcbiAgICAgKiBAcmV0dXJucyBUaGUgbGF0ZXN0IGRhdGEgdmFsdWUgb3IgdW5kZWZpbmVkIGlmIG5vIHZhbHVlIGhhcyBiZWVuIHNldFxuICAgICAqL1xuICAgIGdldChcbiAgICAgICAgc2lnbmFsOiBBX1NpZ25hbFxuICAgICk6IEFfU2lnbmFsIHwgdW5kZWZpbmVkXG4gICAgZ2V0KFxuICAgICAgICBzaWduYWw6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD5cbiAgICApOiBBX1NpZ25hbCB8IHVuZGVmaW5lZFxuICAgIGdldChcbiAgICAgICAgcGFyYW06IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4gfCBBX1NpZ25hbFxuICAgICk6IEFfU2lnbmFsIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gcGFyYW0gaW5zdGFuY2VvZiBBX1NpZ25hbCA/IHBhcmFtLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4gOiBwYXJhbTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlLmdldChzaWduYWwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHNpZ25hbCB0eXBlIGhhcyBiZWVuIHJlZ2lzdGVyZWQgaW4gdGhlIHN0YXRlXG4gICAgICogXG4gICAgICogQHBhcmFtIHNpZ25hbCAtIFRoZSBzaWduYWwgY29uc3RydWN0b3IgdG8gY2hlY2sgZm9yXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgc2lnbmFsIHR5cGUgZXhpc3RzIGluIHRoZSBzdGF0ZSBtYXBcbiAgICAgKi9cbiAgICBoYXMoXG4gICAgICAgIHNpZ25hbDogQV9TaWduYWxcbiAgICApOiBib29sZWFuXG4gICAgaGFzKFxuICAgICAgICBzaWduYWw6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD5cbiAgICApOiBib29sZWFuXG4gICAgaGFzKFxuICAgICAgICBwYXJhbTogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPiB8IEFfU2lnbmFsXG4gICAgKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IHBhcmFtIGluc3RhbmNlb2YgQV9TaWduYWwgPyBwYXJhbS5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8QV9TaWduYWw+IDogcGFyYW07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlLmluY2x1ZGVzKHNpZ25hbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIHNpZ25hbCB0eXBlIGFuZCBpdHMgYXNzb2NpYXRlZCB2YWx1ZSBmcm9tIHRoZSBzdGF0ZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzaWduYWwgLSBUaGUgc2lnbmFsIGNvbnN0cnVjdG9yIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHNpZ25hbCB3YXMgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQsIGZhbHNlIGlmIGl0IGRpZG4ndCBleGlzdFxuICAgICAqL1xuICAgIGRlbGV0ZShcbiAgICAgICAgc2lnbmFsOiBBX1NpZ25hbFxuICAgICk6IGJvb2xlYW5cbiAgICBkZWxldGUoXG4gICAgICAgIHNpZ25hbDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPlxuICAgICk6IGJvb2xlYW5cbiAgICBkZWxldGUoXG4gICAgICAgIHBhcmFtOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8QV9TaWduYWw+IHwgQV9TaWduYWxcbiAgICApOiBib29sZWFuIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gcGFyYW0gaW5zdGFuY2VvZiBBX1NpZ25hbCA/IHBhcmFtLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4gOiBwYXJhbTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlLmRlbGV0ZShzaWduYWwpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGN1cnJlbnQgc3RhdGUgdG8gYSB2ZWN0b3IgKG9yZGVyZWQgYXJyYXkpIGZvcm1hdFxuICAgICAqIFxuICAgICAqIFRoZSBvcmRlciBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBzdHJ1Y3R1cmUgYXJyYXkgcHJvdmlkZWQgZHVyaW5nIGNvbnN0cnVjdGlvbi5cbiAgICAgKiBFYWNoIHBvc2l0aW9uIGluIHRoZSB2ZWN0b3IgY29ycmVzcG9uZHMgdG8gYSBzcGVjaWZpYyBzaWduYWwgdHlwZSdzIGxhdGVzdCB2YWx1ZS5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiBzaWduYWwgdmFsdWVzIGluIHRoZSBvcmRlciBkZWZpbmVkIGJ5IHRoZSBzdHJ1Y3R1cmVcbiAgICAgKiBAdGhyb3dzIEVycm9yIGlmIHN0cnVjdHVyZSBpcyBub3QgZGVmaW5lZCBvciBpZiBhbnkgc2lnbmFsIHZhbHVlIGlzIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIHRvVmVjdG9yKCk6IEFfU2lnbmFsVmVjdG9yIHtcbiAgICAgICAgY29uc3QgdmVjdG9yOiBBcnJheTxBX1NpZ25hbD4gPSBbXTtcblxuICAgICAgICB0aGlzLl9zdGF0ZS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICB2ZWN0b3IucHVzaCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgQV9TaWduYWxWZWN0b3Ioe1xuICAgICAgICAgICAgc3RydWN0dXJlOiB0aGlzLnN0cnVjdHVyZSxcbiAgICAgICAgICAgIHZhbHVlczogdmVjdG9yXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBjdXJyZW50IHN0YXRlIHRvIGFuIG9iamVjdCB3aXRoIHNpZ25hbCBjb25zdHJ1Y3RvciBuYW1lcyBhcyBrZXlzXG4gICAgICogXG4gICAgICogVGhpcyBwcm92aWRlcyBhIG1vcmUgcmVhZGFibGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIHN0YXRlIHdoZXJlIGVhY2ggc2lnbmFsXG4gICAgICogdHlwZSBpcyBpZGVudGlmaWVkIGJ5IGl0cyBjb25zdHJ1Y3RvciBuYW1lLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIE9iamVjdCBtYXBwaW5nIHNpZ25hbCBjb25zdHJ1Y3RvciBuYW1lcyB0byB0aGVpciBsYXRlc3QgdmFsdWVzXG4gICAgICogQHRocm93cyBFcnJvciBpZiBhbnkgc2lnbmFsIHZhbHVlIGlzIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIHRvT2JqZWN0KCk6IFJlY29yZDxzdHJpbmcsIEFfU2lnbmFsPiB7XG4gICAgICAgIGNvbnN0IG9iajogUmVjb3JkPHN0cmluZywgQV9TaWduYWw+ID0ge307XG5cbiAgICAgICAgdGhpcy5zdHJ1Y3R1cmUuZm9yRWFjaCgoc2lnbmFsQ29uc3RydWN0b3IpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fc3RhdGUuZ2V0KHNpZ25hbENvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTaWduYWwgJHtzaWduYWxDb25zdHJ1Y3Rvci5uYW1lfSBoYXMgbm8gdmFsdWUgaW4gc3RhdGVgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9ialtzaWduYWxDb25zdHJ1Y3Rvci5uYW1lXSA9IHZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxufSIsICJpbXBvcnQgeyBBX0NvbW1vbkhlbHBlciwgQV9Db250ZXh0LCBBX0ZyYWdtZW50LCBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IsIEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX1NpZ25hbENvbmZpZ19Jbml0IH0gZnJvbSBcIi4uL0EtU2lnbmFsLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1NpZ25hbCB9IGZyb20gXCIuLi9lbnRpdGllcy9BLVNpZ25hbC5lbnRpdHlcIjtcblxuXG5cbi8qKlxuICogVGhpcyBjb21wb25lbnQgc2hvdWxkIGRpY3RhdGUgYSBzdHJ1Y3R1cmUgb2YgdGhlIHZlY3RvciBmb3IgYWxsIHNpZ25hbHMgd2l0aGluIGEgZ2l2ZW4gc2NvcGUuXG4gKiBzbyBpZiB0aGVyZSdyZSBtdWx0aXBsZSBzaWduYWxzIGl0IHNob3VsZCBzYXkgd2hhdCB0eXBlIGF0IHdoYXQgcG9zaXRpb24gc2hvdWxkIGJlIGV4cGVjdGVkLlxuICogXG4gKiBlLmcuIFtBX1JvdXRlcldhdGNoZXIsIEFfU2NvcGVXYXRjaGVyLCBBX0xvZ2dlcldhdGNoZXJdXG4gKiBUaGlzIHN0cnVjdHVyZSB0aGVuIHNob3VsZCBiZSB1c2VkIGZvciBhbnkgZnVydGhlciBwcm9jZXNzaW5nIG9mIHNpZ25hbHMgd2l0aGluIHRoZSBzY29wZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEFfU2lnbmFsQ29uZmlnIGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cbiAgICBwcm90ZWN0ZWQgX3N0cnVjdHVyZT86IEFycmF5PEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4+O1xuXG4gICAgcHJvdGVjdGVkIF9jb25maWc6IEFfU2lnbmFsQ29uZmlnX0luaXRcblxuICAgIHByb3RlY3RlZCBfcmVhZHk/OiBQcm9taXNlPHZvaWQ+O1xuXG4gICAgZ2V0IHN0cnVjdHVyZSgpOiBBcnJheTxBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8QV9TaWduYWw+PiB7XG4gICAgICAgIGlmICh0aGlzLl9zdHJ1Y3R1cmUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHJ1Y3R1cmU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzY29wZSA9IEFfQ29udGV4dC5zY29wZSh0aGlzKTtcblxuICAgICAgICAvLyAganVzdCBzb3J0IGJ5IGNvbnN0cnVjdG9yIG5hbWUgdG8gaGF2ZSBjb25zaXN0ZW50IG9yZGVyXG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdG9ycyA9IFsuLi5zY29wZS5hbGxvd2VkRW50aXRpZXNdXG4gICAgICAgICAgICAuZmlsdGVyKGUgPT4gQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGUsIEFfU2lnbmFsKSlcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmNvbnN0cnVjdG9yLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKVxuICAgICAgICAgICAgLm1hcChzID0+IHNjb3BlLnJlc29sdmVDb25zdHJ1Y3RvcjxBX1NpZ25hbD4ocy5uYW1lKSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9ycy5maWx0ZXIocyA9PiBzKSBhcyBBcnJheTxBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8QV9TaWduYWw+PjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGZvciBzeW5jaHJvbml6YXRpb24gdG8gZW5zdXJlIHRoZSBjb25maWcgaXMgaW5pdGlhbGl6ZWQuXG4gICAgICogXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBpbml0aWFsaXplZC5cbiAgICAgKi9cbiAgICBnZXQgcmVhZHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWFkeTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcGFyYW1zOiBBX1NpZ25hbENvbmZpZ19Jbml0XG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHsgbmFtZTogXCJBX1NpZ25hbENvbmZpZ1wiIH0pO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBwYXJhbXM7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgc2lnbmFsIGNvbmZpZ3VyYXRpb24gaWYgbm90IGFscmVhZHkgaW5pdGlhbGl6ZWQuXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9yZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5fcmVhZHkgPSB0aGlzLl9pbml0aWFsaXplKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBzaWduYWwgY29uZmlndXJhdGlvbiBieSBwcm9jZXNzaW5nIHRoZSBwcm92aWRlZCBzdHJ1Y3R1cmUgb3Igc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIFRoaXMgbWV0aG9kIHNldHMgdXAgdGhlIGludGVybmFsIHN0cnVjdHVyZSBvZiBzaWduYWwgY29uc3RydWN0b3JzIGJhc2VkIG9uIHRoZSBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBfaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5zdHJ1Y3R1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0cnVjdHVyZSA9IHRoaXMuX2NvbmZpZy5zdHJ1Y3R1cmU7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fY29uZmlnLnN0cmluZ1N0cnVjdHVyZSkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaW5nU3RydWN0dXJlID0gdGhpcy5fY29uZmlnLnN0cmluZ1N0cnVjdHVyZS5zcGxpdCgnLCcpLm1hcChzID0+IHMudHJpbSgpKTtcbiAgICAgICAgICAgIHRoaXMuX3N0cnVjdHVyZSA9IHN0cmluZ1N0cnVjdHVyZVxuICAgICAgICAgICAgICAgIC5tYXAobmFtZSA9PiBBX0NvbnRleHQuc2NvcGUodGhpcykucmVzb2x2ZUNvbnN0cnVjdG9yPEFfU2lnbmFsPihuYW1lKSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKHMgPT4gcyk7XG4gICAgICAgIH1cblxuICAgIH1cblxufSIsICJpbXBvcnQgeyBBX0NhbGxlciwgQV9Db21wb25lbnQsIEFfQ29udGV4dCwgQV9GZWF0dXJlLCBBX0luamVjdCwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX1NpZ25hbEZlYXR1cmVzIH0gZnJvbSBcIi4uL0EtU2lnbmFsLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9TaWduYWxTdGF0ZSB9IGZyb20gXCIuLi9jb250ZXh0L0EtU2lnbmFsU3RhdGUuY29udGV4dFwiO1xuaW1wb3J0IHsgQV9TaWduYWxDb25maWcgfSBmcm9tIFwiLi4vY29udGV4dC9BLVNpZ25hbENvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0NvbmZpZyB9IGZyb20gXCIuLi8uLi9BLUNvbmZpZy9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCIuLi8uLi9BLUxvZ2dlci9BLUxvZ2dlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfU2lnbmFsIH0gZnJvbSBcIi4uL2VudGl0aWVzL0EtU2lnbmFsLmVudGl0eVwiO1xuXG5cblxuLyoqXG4gKiBUaGlzIGNvbXBvbmVudCBzaG91bGQgbGlzdGVuIGZvciBhbGwgYXZhaWxhYmxlIHNpZ25hbCB3YXRjaGVycyBjb21wb25lbnRzIGluIHRoaXMgYW5kIGFsbCBwYXJlbnQgc2NvcGVzLiBcbiAqIFdoZW4gYSBzaWduYWwgaXMgZW1pdHRlZCwgaXQgc2hvdWxkIGZvcndhcmQgdGhlIHNpZ25hbCB0byBhbGwgcmVnaXN0ZXJlZCB3YXRjaGVycy5cbiAqIFxuICogQV9TaWduYWxCdXMgc2hvdWxkIGFsd2F5cyByZXR1cm4gdGhlIHNhbWUgdmVjdG9yIHN0cnVjdHVyZSBvZiB0aGUgc2lnbmFscywgYW5kIHRoYXQncyB3aHkgaXQgc2hvdWxkIHN0b3JlIHRoZSBzdGF0ZSBvZiB0aGUgbGF0ZXN0IGJlaGF2aW9yLiBcbiAqIEZvciBleGFtcGxlIGlmIHRoZXJlIGFyZSAzIHdhdGNoZXJzIHJlZ2lzdGVyZWQsIHRoZSBidXMgc2hvdWxkIGFsd2F5cyByZXR1cm4gYSB2ZWN0b3Igb2YgMyBlbGVtZW50cywgYmFzZWQgb24gdGhlIEFfU2lnbmFsQ29uZmlnIHN0cnVjdHVyZS5cbiAqIFxuICogXG4gKiBUaGUgY29tcG9uZW50IGl0c2VsZiBpcyBzdGF0ZWxlc3MgYW5kIGFsbCBtZXRob2RzIHVzZXMgb25seSBwYXJhbWV0ZXJzIChjb250ZXh0KSBpcyBwcm92aWRlZCB3aXRoLlxuICovXG5leHBvcnQgY2xhc3MgQV9TaWduYWxCdXMgZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kcyBleHRlbmRzIEEtU2lnbmFsIEVtaXQgZmVhdHVyZSB0byBoYW5kbGUgc2lnbmFsIGVtaXNzaW9uIHdpdGhpbiB0aGUgYnVzLlxuICAgICAqIFxuICAgICAqIEl0IHVwZGF0ZXMgdGhlIHNpZ25hbCBzdGF0ZSBhbmQgZW1pdHMgdGhlIHVwZGF0ZWQgc2lnbmFsIHZlY3Rvci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2lnbmFsIFxuICAgICAqIEBwYXJhbSBnbG9iYWxDb25maWcgXG4gICAgICogQHBhcmFtIGxvZ2dlciBcbiAgICAgKiBAcGFyYW0gc3RhdGUgXG4gICAgICogQHBhcmFtIGNvbmZpZyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIHNjb3BlOiBbQV9TaWduYWxdXG4gICAgfSlcbiAgICBhc3luYyBbQV9TaWduYWxGZWF0dXJlcy5OZXh0XShcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBzaWduYWw6IEFfU2lnbmFsLFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG5cbiAgICAgICAgQEFfSW5qZWN0KEFfQ29uZmlnKSBnbG9iYWxDb25maWc/OiBBX0NvbmZpZzxbJ0FfU0lHTkFMX1ZFQ1RPUl9TVFJVQ1RVUkUnXT4sXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgICAgIEBBX0luamVjdChBX1NpZ25hbFN0YXRlKSBzdGF0ZT86IEFfU2lnbmFsU3RhdGUsXG4gICAgICAgIEBBX0luamVjdChBX1NpZ25hbENvbmZpZykgY29uZmlnPzogQV9TaWduYWxDb25maWcsXG4gICAgKSB7XG5cbiAgICAgICAgLypcbiAgICAgICAgMSkgY3JlYXRlIGEgc2lnbmFsIHdoZW4gaXQgb2NjdXJzIHZpYSBuZXcgQV9TaWduYWwoJ3NvbWVkYXRhJylcbiAgICAgICAgMikgZW1pdCBhIHNpZ25hbCB3aGVuIG5lZWRlZCB2aWEgc2lnbmFsLmVtaXQoc2NvcGUpXG4gICAgICAgIDMpIHRoZSBidXMgc2hvdWxkIGxpc3RlbiBmb3IgYWxsIGVtaXR0ZWQgc2lnbmFscyB3aXRoaW4gdGhlIHNjb3BlXG4gICAgICAgIDQpIHdoZW4gYSBzaWduYWwgaXMgZW1pdHRlZCwgdGhlIGJ1cyBzaG91bGQgc3RvcmUgYSBzaWduYWwgaW4gc29tZSBwbGFjZSAocHJvYmFibHkgaXQncyBtZW1vcnkpXG4gICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlIG5lZWQgYSBjb250ZXh0IHdoZXJlIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkLCB0byBwcmV2ZW50IGFueSBkdXBsaWNhdGUgcmVnaXN0cmF0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgY29tcG9uZW50Q29udGV4dCA9IEFfQ29udGV4dC5zY29wZSh0aGlzKTtcblxuXG4gICAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgICAgICBjb25maWcgPSBuZXcgQV9TaWduYWxDb25maWcoe1xuICAgICAgICAgICAgICAgIHN0cmluZ1N0cnVjdHVyZTogZ2xvYmFsQ29uZmlnPy5nZXQoJ0FfU0lHTkFMX1ZFQ1RPUl9TVFJVQ1RVUkUnKSB8fCB1bmRlZmluZWRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb21wb25lbnRDb250ZXh0LnJlZ2lzdGVyKGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbmZpZy5yZWFkeSlcbiAgICAgICAgICAgIGF3YWl0IGNvbmZpZy5pbml0aWFsaXplKCk7XG5cbiAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgc3RhdGUgPSBuZXcgQV9TaWduYWxTdGF0ZShjb25maWcuc3RydWN0dXJlKTtcbiAgICAgICAgICAgIGNvbXBvbmVudENvbnRleHQucmVnaXN0ZXIoc3RhdGUpO1xuICAgICAgICB9XG5cblxuICAgICAgICBpZiAoIXN0YXRlLmhhcyhzaWduYWwpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG5cbiAgICAgICAgLy8gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAgQW5kIGZpbmFsbHkgaWYgYWxsIGNoZWNrcyBhcmUgcGFzc2VkLCB3ZSBjYW4gdXBkYXRlIHRoZSBzdGF0ZVxuICAgICAgICAvLyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZyhgQV9TaWduYWxCdXM6IFVwZGF0aW5nIHN0YXRlIGZvciBzaWduYWwgJyR7c2lnbmFsLmNvbnN0cnVjdG9yLm5hbWV9JyB3aXRoIGRhdGE6YCwgc2lnbmFsLmRhdGEpO1xuXG4gICAgICAgIHN0YXRlLnNldChzaWduYWwpO1xuXG4gICAgICAgIGNvbnN0IHZlY3RvciA9IHN0YXRlLnRvVmVjdG9yKCk7XG5cbiAgICAgICAgYXdhaXQgdmVjdG9yLm5leHQoc2NvcGUpO1xuICAgIH1cbn1cbiIsICJleHBvcnQgY2xhc3MgQV9EZWZlcnJlZDxUPiB7XG4gICAgcHVibGljIHByb21pc2U6IFByb21pc2U8VD47XG4gICAgcHJpdmF0ZSByZXNvbHZlRm4hOiAodmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPikgPT4gdm9pZDtcbiAgICBwcml2YXRlIHJlamVjdEZuITogKHJlYXNvbj86IGFueSkgPT4gdm9pZDtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWZlcnJlZCBwcm9taXNlXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgY2FuIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkIGxhdGVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlPFQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUZuID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIHRoaXMucmVqZWN0Rm4gPSByZWplY3Q7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlc29sdmUodmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPik6IHZvaWQge1xuICAgICAgICB0aGlzLnJlc29sdmVGbih2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmVqZWN0KHJlYXNvbj86IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlamVjdEZuKHJlYXNvbik7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0RlZmVycmVkIH0gZnJvbSBcIi4vQS1EZWZlcnJlZC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENhbGxiYWNrLCBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENvbmZpZyB9IGZyb20gXCIuL0EtU2NoZWR1bGUudHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIEFfU2NoZWR1bGVPYmplY3Q8VCBleHRlbmRzIGFueSA9IGFueT4ge1xuXG4gICAgcHJpdmF0ZSB0aW1lb3V0ITogTm9kZUpTLlRpbWVvdXQ7XG4gICAgcHJpdmF0ZSBkZWZlcnJlZCE6IEFfRGVmZXJyZWQ8VD47XG5cbiAgICBwcml2YXRlIGNvbmZpZzogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgdGltZW91dCBpcyBjbGVhcmVkLCBzaG91bGQgdGhlIHByb21pc2UgcmVzb2x2ZSBvciByZWplY3Q/XG4gICAgICAgICAqIEJZIERlZmF1bHQgaXQgcmVqZWN0c1xuICAgICAgICAgKiBcbiAgICAgICAgICogISEhTk9URTogSWYgdGhlIHByb3BlcnR5IGlzIHNldCB0byB0cnVlLCB0aGUgcHJvbWlzZSB3aWxsIHJlc29sdmUgd2l0aCB1bmRlZmluZWRcbiAgICAgICAgICovXG4gICAgICAgIHJlc29sdmVPbkNsZWFyOiBmYWxzZVxuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzY2hlZHVsZWQgb2JqZWN0IHRoYXQgd2lsbCBleGVjdXRlIHRoZSBhY3Rpb24gYWZ0ZXIgc3BlY2lmaWVkIG1pbGxpc2Vjb25kc1xuICAgICAqIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBtcyAtIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBleGVjdXRpbmcgdGhlIGFjdGlvblxuICAgICAqIEBwYXJhbSBhY3Rpb24gLSB0aGUgYWN0aW9uIHRvIGV4ZWN1dGVcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgc2NoZWR1bGUgb2JqZWN0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgZXhlY3V0aW5nIHRoZSBhY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIG1zOiBudW1iZXIsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWN0aW9uIHRvIGV4ZWN1dGUgYWZ0ZXIgdGhlIHNwZWNpZmllZCBtaWxsaXNlY29uZHNcbiAgICAgICAgICovXG4gICAgICAgIGFjdGlvbjogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDYWxsYmFjazxUPixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIHNjaGVkdWxlIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDb25maWdcbiAgICApIHtcbiAgICAgICAgaWYgKGNvbmZpZylcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0geyAuLi50aGlzLmNvbmZpZywgLi4uY29uZmlnIH07XG5cbiAgICAgICAgdGhpcy5kZWZlcnJlZCA9IG5ldyBBX0RlZmVycmVkPFQ+KCk7XG5cbiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChcbiAgICAgICAgICAgICgpID0+IGFjdGlvbigpXG4gICAgICAgICAgICAgICAgLnRoZW4oKC4uLmFyZ3MpID0+IHRoaXMuZGVmZXJyZWQucmVzb2x2ZSguLi5hcmdzKSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKC4uLmFyZ3MpID0+IHRoaXMuZGVmZXJyZWQucmVqZWN0KC4uLmFyZ3MpKSxcbiAgICAgICAgICAgIG1zXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0IHByb21pc2UoKTogUHJvbWlzZTxUPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gICAgY2xlYXIoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcucmVzb2x2ZU9uQ2xlYXIpXG4gICAgICAgICAgICAgICAgdGhpcy5kZWZlcnJlZC5yZXNvbHZlKHVuZGVmaW5lZCBhcyBUKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmRlZmVycmVkLnJlamVjdChuZXcgQV9FcnJvcihcIlRpbWVvdXQgQ2xlYXJlZFwiKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsICJpbXBvcnQgeyBBX0NvbXBvbmVudCwgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfU2NoZWR1bGVPYmplY3QgfSBmcm9tIFwiLi9BLVNjaGVkdWxlT2JqZWN0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENhbGxiYWNrLCBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENvbmZpZyB9IGZyb20gXCIuL0EtU2NoZWR1bGUudHlwZXNcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX1NjaGVkdWxlIGV4dGVuZHMgQV9Db21wb25lbnQge1xuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHNjaGVkdWxlIGEgY2FsbGJhY2sgZm9yIHBhcnRpY3VsYXIgdGltZSBpbiB0aGUgZnV0dXJlXG4gICAgICogXG4gICAgICogQHBhcmFtIHRpbWVzdGFtcCAtIFVuaXggdGltZXN0YW1wIGluIG1pbGxpc2Vjb25kc1xuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayB0byBleGVjdXRlXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHNjaGVkdWxlIG9iamVjdFxuICAgICAqL1xuICAgIGFzeW5jIHNjaGVkdWxlPFQgZXh0ZW5kcyBhbnkgPSBhbnk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogVW5peCB0aW1lc3RhbXAgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAqL1xuICAgICAgICB0aW1lc3RhbXA6IG51bWJlcixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayB0byBleGVjdXRlXG4gICAgICAgICAqL1xuICAgICAgICBjYWxsYmFjazogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDYWxsYmFjazxUPixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIHNjaGVkdWxlIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDb25maWdcbiAgICApOiBQcm9taXNlPEFfU2NoZWR1bGVPYmplY3Q8VD4+XG4gICAgYXN5bmMgc2NoZWR1bGU8VCBleHRlbmRzIGFueSA9IGFueT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJU08gZGF0ZSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBkYXRlIGFuZCB0aW1lIHRvIHNjaGVkdWxlIHRoZSBjYWxsYmFjayBmb3JcbiAgICAgICAgICovXG4gICAgICAgIGRhdGU6IHN0cmluZyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayB0byBleGVjdXRlXG4gICAgICAgICAqL1xuICAgICAgICBjYWxsYmFjazogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDYWxsYmFjazxUPixcbiAgICAgICAgLyoqXG4gICAgICAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgc2NoZWR1bGUgb2JqZWN0XG4gICAgICAgICovXG4gICAgICAgIGNvbmZpZz86IEFfVVRJTFNfVFlQRVNfX1NjaGVkdWxlT2JqZWN0Q29uZmlnXG4gICAgKTogUHJvbWlzZTxBX1NjaGVkdWxlT2JqZWN0PFQ+PlxuICAgIGFzeW5jIHNjaGVkdWxlPFQgZXh0ZW5kcyBhbnkgPSBhbnk+KFxuICAgICAgICBkYXRlOiBzdHJpbmcgfCBudW1iZXIsXG4gICAgICAgIGNhbGxiYWNrOiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENhbGxiYWNrPFQ+LFxuICAgICAgICBjb25maWc/OiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENvbmZpZ1xuICAgICk6IFByb21pc2U8QV9TY2hlZHVsZU9iamVjdDxUPj4ge1xuXG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IEFfVHlwZUd1YXJkcy5pc1N0cmluZyhkYXRlKVxuICAgICAgICAgICAgPyAobmV3IERhdGUoZGF0ZSkpLmdldFRpbWUoKVxuICAgICAgICAgICAgOiBkYXRlO1xuXG4gICAgICAgIHJldHVybiBuZXcgQV9TY2hlZHVsZU9iamVjdDxUPihcbiAgICAgICAgICAgIHRpbWVzdGFtcCAtIERhdGUubm93KCksXG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIGNvbmZpZ1xuICAgICAgICApO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXhlY3V0ZSBjYWxsYmFjayBhZnRlciBwYXJ0aWN1bGFyIGRlbGF5IGluIG1pbGxpc2Vjb25kc1xuICAgICAqIFNvIHRoZSBjYWxsYmFjayB3aWxsIGJlIGV4ZWN1dGVkIGFmdGVyIHRoZSBzcGVjaWZpZWQgZGVsYXlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbXMgXG4gICAgICovXG4gICAgYXN5bmMgZGVsYXk8VCBleHRlbmRzIGFueSA9IGFueT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxheSBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICovXG4gICAgICAgIG1zOiBudW1iZXIsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgdG8gZXhlY3V0ZSBhZnRlciB0aGUgZGVsYXlcbiAgICAgICAgICovXG4gICAgICAgIGNhbGxiYWNrOiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENhbGxiYWNrPFQ+LFxuICAgICAgICAvKipcbiAgICAgICAgKiBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBzY2hlZHVsZSBvYmplY3RcbiAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDb25maWdcbiAgICApOiBQcm9taXNlPEFfU2NoZWR1bGVPYmplY3Q8VD4+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBBX1NjaGVkdWxlT2JqZWN0PFQ+KFxuICAgICAgICAgICAgbXMsXG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIGNvbmZpZ1xuICAgICAgICApO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQsIEFfRmVhdHVyZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBcmVGZWF0dXJlcyB9IGZyb20gXCIuL0FyZS5jb25zdGFudHNcIjtcblxuXG5leHBvcnQgY2xhc3MgQXJlPFxuICAgIF9EYXRhVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGV4dGVuZHMgQV9Db21wb25lbnQge1xuXG5cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PSBMSUZFQ1lDTEUgREVDT1JBVE9SUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHN0YXRpYyBnZXQgRXZlbnRIYW5kbGVyKCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBwcm9wZXJ0eUtleSxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb25CZWZvcmVMb2FkKCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBcmVGZWF0dXJlcy5vbkJlZm9yZUxvYWQsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHN0YXRpYyBnZXQgb25BZnRlckxvYWQoKSB7XG4gICAgICAgIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IEFyZUZlYXR1cmVzLm9uQWZ0ZXJMb2FkLFxuICAgICAgICAgICAgICAgIHNjb3BlOiBbdGFyZ2V0LmNvbnN0cnVjdG9yXSxcbiAgICAgICAgICAgIH0pKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgZ2V0IG9uQmVmb3JlQ29tcGlsZSgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgICAgICAgICAgbmFtZTogQXJlRmVhdHVyZXMub25CZWZvcmVDb21waWxlLFxuICAgICAgICAgICAgICAgIHNjb3BlOiBbdGFyZ2V0LmNvbnN0cnVjdG9yXSxcbiAgICAgICAgICAgIH0pKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBvbkFmdGVyQ29tcGlsZSgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgICAgICAgICAgbmFtZTogQXJlRmVhdHVyZXMub25BZnRlckNvbXBpbGUsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9uQmVmb3JlTW91bnQoKSB7XG4gICAgICAgIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IEFyZUZlYXR1cmVzLm9uQmVmb3JlTW91bnQsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9uQWZ0ZXJNb3VudCgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgICAgICAgICAgbmFtZTogQXJlRmVhdHVyZXMub25BZnRlck1vdW50LFxuICAgICAgICAgICAgICAgIHNjb3BlOiBbdGFyZ2V0LmNvbnN0cnVjdG9yXSxcbiAgICAgICAgICAgIH0pKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBvbkJlZm9yZVVubW91bnQoKSB7XG4gICAgICAgIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IEFyZUZlYXR1cmVzLm9uQmVmb3JlVW5tb3VudCxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb25BZnRlclVubW91bnQoKSB7XG4gICAgICAgIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IEFyZUZlYXR1cmVzLm9uQWZ0ZXJVbm1vdW50LFxuICAgICAgICAgICAgICAgIHNjb3BlOiBbdGFyZ2V0LmNvbnN0cnVjdG9yXSxcbiAgICAgICAgICAgIH0pKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBvbkJlZm9yZVVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgICAgICAgICAgbmFtZTogQXJlRmVhdHVyZXMub25CZWZvcmVVcGRhdGUsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9uQWZ0ZXJVcGRhdGUoKSB7XG4gICAgICAgIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IEFyZUZlYXR1cmVzLm9uQWZ0ZXJVcGRhdGUsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT0gQ09NUE9ORU5UIE1FVEhPRFMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdGVtcGxhdGUgc3RyaW5nIGZvciB0aGUgY29tcG9uZW50XG4gICAgICogXG4gICAgICogQ291bGQgYmUgb3ZlcnJpZGRlbiB0byBwcm92aWRlIGR5bmFtaWMgdGVtcGxhdGVzIGJhc2VkIG9uIGNvbXBvbmVudCBzdGF0ZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIHRlbXBsYXRlKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiBgYDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzdHlsZXMgc3RyaW5nIGZvciB0aGUgY29tcG9uZW50XG4gICAgICogIFxuICAgICAqIENvdWxkIGJlIG92ZXJyaWRkZW4gdG8gcHJvdmlkZSBkeW5hbWljIHN0eWxlcyBiYXNlZCBvbiBjb21wb25lbnQgc3RhdGVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhc3luYyBzdHlsZXMoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIGBgO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRhdGEgb2JqZWN0IGZvciB0aGUgY29tcG9uZW50XG4gICAgICogXG4gICAgICogVXNlcyBhcyB0aGUgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgY29tcG9uZW50XG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgZGF0YSgpOiBQcm9taXNlPF9EYXRhVHlwZT4ge1xuICAgICAgICByZXR1cm4ge30gYXMgX0RhdGFUeXBlO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9DYWxsZXIsIEFfQ29uY2VwdCwgQV9Db250ZXh0LCBBX0ZlYXR1cmUsIEFfSW5qZWN0LCBBX1Njb3BlIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfQ29tbWFuZEZlYXR1cmVzLCBBX0xvZ2dlciwgQV9NZW1vcnksIEFfUG9seWZpbGwgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFyZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlQ29tcG9uZW50L0FyZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUVtYWlsKGVtYWlsOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC8udGVzdChlbWFpbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93QWxlcnQobWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgYWxlcnQobWVzc2FnZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBTaWduSW5Db21wb25lbnQgZXh0ZW5kcyBBcmUge1xuXG4gICAgYXN5bmMgZGF0YSgpOiBQcm9taXNlPHsgYnRuTmFtZTogc3RyaW5nIH0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJ0bk5hbWU6ICdTaWduIEluJ1xuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgYXN5bmMgc3R5bGVzKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgIC5jYXJkIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgICAgIG1heC13aWR0aDogMzAwcHg7XG4gICAgICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgICAgIHRvcDo1MCU7XG4gICAgICAgICAgICBsZWZ0OjUwJTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgICAgICB9XG4gICAgICAgICAgICBgXG4gICAgfVxuXG4gICAgYXN5bmMgdGVtcGxhdGUoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmRcIj5cbiAgICAgICAgICAgICAgICA8aDI+U2lnbiBJbjwvaDI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJlbWFpbFwiIGlkPVwiZW1haWxcIiBwbGFjZWhvbGRlcj1cIkVtYWlsXCIgLz5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgaWQ9XCJwYXNzd29yZFwiIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmRcIiAvPlxuICAgICAgICAgICAgICAgIDxhLWJ0biBAY2xpY2s9XCJzaWduSW5cIiA6bmFtZT1cImJ0bk5hbWVcIiA6c3R5bGU9XCJ7IGNvbG9yOiAncmVkJyB9XCI+PC9hLWJ0bj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgO1xuICAgIH1cblxuXG4gICAgLy8gQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgIC8vICAgICBzY29wZTogW1NpZ25JbkNvbXBvbmVudF1cbiAgICAvLyB9KVxuICAgIC8vIGFzeW5jIEFfVUlfTk9ERV9vbkJlZm9yZUxvYWQoXG4gICAgLy8gICAgIEBBX0luamVjdChBcmVOb2RlKSBub2RlOiBBcmVOb2RlLFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG4gICAgLy8gICAgIEBBX0luamVjdChBX1VJX05vZGVTdG9yZSkgc3RvcmU6IEFfVUlfTm9kZVN0b3JlLFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgLy8gKTogUHJvbWlzZTx2b2lkPiB7XG5cbiAgICAvLyAgICAgbG9nZ2VyLmxvZygnZ3JlZW4nLCBgU2lnbkluQ29tcG9uZW50IGlzIGluaXRpYWxpemluZy4uLiA6IDwke25vZGUuYXNlaWQuZW50aXR5fT4gOiBgLCBub2RlLmFzZWlkLnRvU3RyaW5nKCkpO1xuXG5cbiAgICAvLyAgICAgc3RvcmUuZGF0YS5zZXQoJ2J0bk5hbWUnLCAnQ3VzdG9tIFNpZ24gSW4gQnV0dG9uJyk7XG4gICAgLy8gfVxuXG5cbiAgICAvLyBwcml2YXRlIGFkZExpc3RlbmVycygpOiB2b2lkIHtcbiAgICAvLyAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaWduSW5CdG5cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgLy8gICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5zaWduSW4oKSk7XG4gICAgLy8gfVxuXG4gICAgLy8gcHJpdmF0ZSBhc3luYyBzaWduSW4oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gICAgIGNvbnN0IGVtYWlsID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW1haWxcIikgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgLy8gICAgIGNvbnN0IHBhc3N3b3JkID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFzc3dvcmRcIikgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG5cbiAgICAvLyAgICAgY29uc3Qgc2lnbkluQ29tbWFuZCA9IG5ldyBTaWduSW5Db21tYW5kKHtcbiAgICAvLyAgICAgICAgIHVzZXJuYW1lOiBlbWFpbCxcbiAgICAvLyAgICAgICAgIHBhc3N3b3JkXG4gICAgLy8gICAgIH0pO1xuXG5cbiAgICAvLyAgICAgQV9Db250ZXh0LnNjb3BlKHRoaXMpLnJlZ2lzdGVyKHNpZ25JbkNvbW1hbmQpO1xuXG4gICAgLy8gICAgIGF3YWl0IHNpZ25JbkNvbW1hbmQuZXhlY3V0ZSgpO1xuXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKFwiU2lnbkluIENvbW1hbmQgUmVzdWx0OlwiLCBzaWduSW5Db21tYW5kLnRvSlNPTigpKTtcbiAgICAvLyB9XG5cblxuICAgIC8vIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAvLyAgICAgbmFtZTogQV9Db21tYW5kRmVhdHVyZXMub25Db21wbGV0ZSxcbiAgICAvLyAgICAgc2NvcGU6IHtcbiAgICAvLyAgICAgICAgIGluY2x1ZGU6IFtTaWduSW5Db21tYW5kXVxuICAgIC8vICAgICB9XG4gICAgLy8gfSlcbiAgICAvLyBhc3luYyBoYW5kbGVTdWNjZXNzU2lnbkluKFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9NZW1vcnkpIG1lbW9yeTogQV9NZW1vcnk8eyB0b2tlbjogU2VyaWFsaXplZFRva2VuIH0+LFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIGNvbW1hbmQ6IFNpZ25JbkNvbW1hbmQsXG4gICAgLy8gKSB7XG5cbiAgICAvLyAgICAgY29uc29sZS5sb2coXCJTaWduLWluIGNvbXBsZXRlZCB3aXRoIHJlc3VsdDpcIiwgY29tbWFuZC5yZXN1bHQpO1xuXG4gICAgLy8gICAgIGFsZXJ0KGNvbW1hbmQucmVzdWx0KVxuXG4gICAgLy8gICAgIGNvbnN0IHJlc3VsdFRva2VuID0gYXdhaXQgbWVtb3J5LmdldCgndG9rZW4nKVxuXG4gICAgLy8gICAgIGNvbnN0IHRva2VuID0gbmV3IFRva2VuKHJlc3VsdFRva2VuKTtcblxuICAgIC8vICAgICBtZW1vcnkuc2V0KCd0b2tlbicsIHRva2VuIGFzIGFueSk7XG4gICAgLy8gfVxufVxuIiwgImltcG9ydCB7IEFfRnJhZ21lbnQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiXG5pbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiXG5cblxuZXhwb3J0IGNsYXNzIEFyZUV2ZW50PFxuICAgIFQgZXh0ZW5kcyBhbnkgPSBhbnlcbj4gZXh0ZW5kcyBBX0ZyYWdtZW50IHtcblxuXG4gICAgcHJvdGVjdGVkIF9ub2RlPzogQXJlTm9kZVxuXG4gICAgcHJvdGVjdGVkIF9wcm9wczoge1xuICAgICAgICBkYXRhOiBULFxuICAgICAgICBldmVudDogc3RyaW5nXG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoZXZlbnROYW1lOiBzdHJpbmcsIHByb3BzOiB7XG4gICAgICAgIGRhdGE6IFQsXG4gICAgICAgIG5vZGU/OiBBcmVOb2RlLFxuICAgICAgICBldmVudDogc3RyaW5nXG4gICAgfSkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IGV2ZW50TmFtZSB9KVxuXG5cbiAgICAgICAgdGhpcy5fcHJvcHMgPSBwcm9wcztcbiAgICAgICAgdGhpcy5fbm9kZSA9IHByb3BzLm5vZGU7XG4gICAgfVxuXG4gICAgZ2V0IG5vZGUoKTogQXJlTm9kZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ub2RlO1xuICAgIH1cblxuICAgIGdldCBkYXRhKCk6IFQge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvcHMuZGF0YVxuICAgIH1cblxuICAgIGdldCBldmVudCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvcHMuZXZlbnRcbiAgICB9XG5cblxuICAgIGJpbmQobm9kZTogQXJlTm9kZSkge1xuICAgICAgICB0aGlzLl9ub2RlID0gbm9kZTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ29udGV4dCwgQV9GcmFnbWVudCwgQV9TY29wZSwgQVNFSUQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQXJlTm9kZSB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHlcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBcmVJbmRleDxcbiAgICBfUGF0aFR5cGUgPSBhbnlcbj4gZXh0ZW5kcyBBX0ZyYWdtZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKGFzZWlkOiBzdHJpbmcgfCBBU0VJRCkge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBhc2VpZCBpbnN0YW5jZW9mIEFTRUlEID8gYXNlaWQudG9TdHJpbmcoKSA6IGFzZWlkXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBsYXRmb3JtLWFnbm9zdGljIGVsZW1lbnQgaW5kZXhcbiAgICAgKiBFbGVtZW50IGNhbiBiZSBET00gRWxlbWVudCwgUERGIGVsZW1lbnQsIERPQ1ggZWxlbWVudCwgZXRjLlxuICAgICAqIFRoZSBhY3R1YWwgdHlwZSBkZXBlbmRzIG9uIHRoZSBjb21waWxlciBiZWluZyB1c2VkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9pbmRleDoge1xuICAgICAgICBBU0VJRF90b19QYXRoOiBNYXA8c3RyaW5nLCBfUGF0aFR5cGU+LFxuICAgICAgICBQYXRoX3RvX0FTRUlEOiBNYXA8X1BhdGhUeXBlLCBzdHJpbmc+LFxuXG4gICAgICAgIFxuICAgICAgICBOb2RlX3RvX1BhdGg6IE1hcDxBcmVOb2RlLCBfUGF0aFR5cGU+LFxuICAgICAgICBQYXRoX3RvX05vZGU6IE1hcDxfUGF0aFR5cGUsIEFyZU5vZGU+LFxuICAgIH0gPSB7XG4gICAgICAgICAgICBBU0VJRF90b19QYXRoOiBuZXcgTWFwKCksXG4gICAgICAgICAgICBQYXRoX3RvX0FTRUlEOiBuZXcgTWFwKCksXG4gICAgICAgICAgICBOb2RlX3RvX1BhdGg6IG5ldyBNYXAoKSxcbiAgICAgICAgICAgIFBhdGhfdG9fTm9kZTogbmV3IE1hcCgpLFxuICAgICAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBoYXNoIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgaW5kZXhcbiAgICAgKiBDYW4gYmUgdXNlZCB0byBpZGVudGlmeSBjaGFuZ2VzIGluIHRoZSBpbmRleFxuICAgICAqL1xuICAgIGdldCBzdGF0ZSgpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuZnJvbSh0aGlzLl9pbmRleC5BU0VJRF90b19QYXRoLmVudHJpZXMoKSlcbiAgICAgICAgICAgIC5zb3J0KChbYXNlaWRBXSwgW2FzZWlkQl0pID0+IGFzZWlkQS5sb2NhbGVDb21wYXJlKGFzZWlkQikpXG4gICAgICAgICAgICAubWFwKChbYXNlaWQsIHBhdGhdKSA9PiBgJHthc2VpZH06JHtKU09OLnN0cmluZ2lmeShwYXRoKX1gKTtcbiAgICAgICAgcmV0dXJuIGVudHJpZXMuam9pbignfCcpO1xuICAgIH1cblxuICAgIGdldCBzY29wZSgpOiBBX1Njb3BlIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5zY29wZSh0aGlzKTtcbiAgICB9XG5cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LnNjb3BlKHRoaXMpLnBhcmVudD8ucmVzb2x2ZTxBcmVJbmRleD4oQXJlSW5kZXgpO1xuICAgIH1cblxuICAgIGdldCBzaXplKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleC5BU0VJRF90b19QYXRoLnNpemU7XG4gICAgfVxuXG4gICAgZ2V0IG5vZGVzKCk6IEFycmF5PEFyZU5vZGU+IHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5faW5kZXguTm9kZV90b19QYXRoLmtleXMoKSk7XG4gICAgfVxuXG4gICAgZ2V0IHBhdGhzKCk6IEFycmF5PF9QYXRoVHlwZT4ge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9pbmRleC5QYXRoX3RvX05vZGUua2V5cygpKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0IGRlcHRoKCk6IG51bWJlciB7XG4gICAgICAgIGxldCBkZXB0aCA9IDA7XG4gICAgICAgIGxldCBjdXJyZW50U2NvcGU6IEFfU2NvcGUgfCB1bmRlZmluZWQgPSB0aGlzLnNjb3BlO1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50U2NvcGUpIHtcbiAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBjdXJyZW50U2NvcGUucGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlcHRoO1xuICAgIH1cbiAgICBcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBwbGF0Zm9ybS1hZ25vc3RpYyBlbGVtZW50IHRvIHRoZSBpbmRleFxuICAgICAqIEBwYXJhbSBub2RlIC0gQXJlTm9kZSB0byBpbmRleFxuICAgICAqIEBwYXJhbSBwYXRoIC0gUGxhdGZvcm0tc3BlY2lmaWMgZWxlbWVudCAoRE9NLCBQREYsIERPQ1gsIGV0Yy4pXG4gICAgICovXG4gICAgYWRkKG5vZGU6IEFyZU5vZGUsIHBhdGg6IF9QYXRoVHlwZSkge1xuICAgICAgICB0aGlzLl9pbmRleC5BU0VJRF90b19QYXRoLnNldChub2RlLmFzZWlkLnRvU3RyaW5nKCksIHBhdGgpO1xuICAgICAgICB0aGlzLl9pbmRleC5QYXRoX3RvX0FTRUlELnNldChwYXRoLCBub2RlLmFzZWlkLnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLl9pbmRleC5Ob2RlX3RvX1BhdGguc2V0KG5vZGUsIHBhdGgpO1xuICAgICAgICB0aGlzLl9pbmRleC5QYXRoX3RvX05vZGUuc2V0KHBhdGgsIG5vZGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBwbGF0Zm9ybS1zcGVjaWZpYyBlbGVtZW50IGJ5IEFyZU5vZGVcbiAgICAgKiBAcGFyYW0gbm9kZSAtIEFyZU5vZGUgdG8gbG9vayB1cFxuICAgICAqIEByZXR1cm5zIFBsYXRmb3JtLXNwZWNpZmljIGVsZW1lbnQgb3IgdW5kZWZpbmVkXG4gICAgICovXG4gICAgcGF0aE9mKG5vZGU6IEFyZU5vZGUpOiBfUGF0aFR5cGUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXguTm9kZV90b19QYXRoLmdldChub2RlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgQXJlTm9kZSBieSBwbGF0Zm9ybS1zcGVjaWZpYyBlbGVtZW50XG4gICAgICogQHBhcmFtIGVsZW1lbnQgLSBQbGF0Zm9ybS1zcGVjaWZpYyBlbGVtZW50IHRvIGxvb2sgdXBcbiAgICAgKiBAcmV0dXJucyBBcmVOb2RlIG9yIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIG5vZGVPZihwYXRoOiBfUGF0aFR5cGUpOiBBcmVOb2RlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4LlBhdGhfdG9fTm9kZS5nZXQocGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBpbmRleCBlbnRyeSBieSBBcmVOb2RlXG4gICAgICogQHBhcmFtIG5vZGUgLSBBcmVOb2RlIHRvIHJlbW92ZSBmcm9tIGluZGV4XG4gICAgICovXG4gICAgcmVtb3ZlQnlOb2RlKG5vZGU6IEFyZU5vZGUpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuX2luZGV4Lk5vZGVfdG9fUGF0aC5nZXQobm9kZSk7XG4gICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICB0aGlzLl9pbmRleC5BU0VJRF90b19QYXRoLmRlbGV0ZShub2RlLmFzZWlkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXguUGF0aF90b19BU0VJRC5kZWxldGUocGF0aCk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleC5Ob2RlX3RvX1BhdGguZGVsZXRlKG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXguUGF0aF90b19Ob2RlLmRlbGV0ZShwYXRoKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcmVwbGFjZUJ5Tm9kZShvbGROb2RlOiBBcmVOb2RlLCBuZXdOb2RlOiBBcmVOb2RlKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLl9pbmRleC5Ob2RlX3RvX1BhdGguZ2V0KG9sZE5vZGUpO1xuICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgdGhpcy5faW5kZXguQVNFSURfdG9fUGF0aC5kZWxldGUob2xkTm9kZS5hc2VpZC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4LlBhdGhfdG9fQVNFSUQuc2V0KHBhdGgsIG5ld05vZGUuYXNlaWQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleC5Ob2RlX3RvX1BhdGguZGVsZXRlKG9sZE5vZGUpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXguTm9kZV90b19QYXRoLnNldChuZXdOb2RlLCBwYXRoKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4LlBhdGhfdG9fTm9kZS5zZXQocGF0aCwgbmV3Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHJlcGxhY2VCeUVsZW1lbnQob2xkUGF0aDogX1BhdGhUeXBlLCBuZXdQYXRoOiBfUGF0aFR5cGUpIHtcbiAgICAgICAgY29uc3QgYXNlaWQgPSB0aGlzLl9pbmRleC5QYXRoX3RvX0FTRUlELmdldChvbGRQYXRoKTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuX2luZGV4LlBhdGhfdG9fTm9kZS5nZXQob2xkUGF0aCk7XG4gICAgICAgIGlmIChhc2VpZCAmJiBub2RlKSB7XG4gICAgICAgICAgICB0aGlzLl9pbmRleC5BU0VJRF90b19QYXRoLnNldChhc2VpZCwgbmV3UGF0aCk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleC5QYXRoX3RvX0FTRUlELmRlbGV0ZShvbGRQYXRoKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4LlBhdGhfdG9fQVNFSUQuc2V0KG5ld1BhdGgsIGFzZWlkKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4Lk5vZGVfdG9fUGF0aC5zZXQobm9kZSwgbmV3UGF0aCk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleC5QYXRoX3RvX05vZGUuZGVsZXRlKG9sZFBhdGgpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXguUGF0aF90b19Ob2RlLnNldChuZXdQYXRoLCBub2RlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgaW5kZXggZW50cnkgYnkgcGxhdGZvcm0tc3BlY2lmaWMgZWxlbWVudFxuICAgICAqIEBwYXJhbSBwYXRoIC0gUGxhdGZvcm0tc3BlY2lmaWMgZWxlbWVudCB0byByZW1vdmUgZnJvbSBpbmRleFxuICAgICAqL1xuICAgIHJlbW92ZUJ5RWxlbWVudChwYXRoOiBfUGF0aFR5cGUpIHtcbiAgICAgICAgY29uc3QgYXNlaWQgPSB0aGlzLl9pbmRleC5QYXRoX3RvX0FTRUlELmdldChwYXRoKTtcbiAgICAgICAgaWYgKGFzZWlkKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5faW5kZXguUGF0aF90b19Ob2RlLmdldChwYXRoKTtcbiAgICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5kZXguQVNFSURfdG9fUGF0aC5kZWxldGUoYXNlaWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4LlBhdGhfdG9fQVNFSUQuZGVsZXRlKHBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4Lk5vZGVfdG9fUGF0aC5kZWxldGUobm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5kZXguUGF0aF90b19Ob2RlLmRlbGV0ZShwYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9pbmRleC5BU0VJRF90b19QYXRoLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2luZGV4LlBhdGhfdG9fQVNFSUQuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5faW5kZXguTm9kZV90b19QYXRoLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2luZGV4LlBhdGhfdG9fTm9kZS5jbGVhcigpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0LCBBX0VudGl0eSwgQV9FcnJvciwgQV9Gb3JtYXR0ZXJIZWxwZXIsIEFfSWRlbnRpdHlIZWxwZXIsIEFfU2NvcGUsIEFTRUlEIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFyZU5vZGVOZXdQcm9wcyB9IGZyb20gXCIuL0FyZU5vZGUudHlwZXNcIjtcbmltcG9ydCB7IEFyZUV2ZW50IH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVFdmVudC9BcmVFdmVudC5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVOb2RlRmVhdHVyZXMgfSBmcm9tIFwiLi9BcmVOb2RlLmNvbnN0YW50c1wiO1xuXG5leHBvcnQgY2xhc3MgQXJlTm9kZSBleHRlbmRzIEFfRW50aXR5PEFyZU5vZGVOZXdQcm9wcz4ge1xuXG5cbiAgICAvKipcbiAgICAgKiBUZW1wbGF0ZSBzdHJpbmcgZGVmaW5lZCBmb3IgdGhlIG5vZGVcbiAgICAgKiBFeGFtcGxlOiBgPGRpdj57e25hbWV9fTwvZGl2PmBcbiAgICAgKi9cbiAgICB0ZW1wbGF0ZSE6IHN0cmluZ1xuICAgIC8qKlxuICAgICAqIE1hcmt1cCBzdHJpbmcgZGVmaW5lZCBmb3IgdGhlIG5vZGVcbiAgICAgKiBFeGFtcGxlOiBgPGN1c3RvbS1jb21wb25lbnQgOnByb3A9XCJ2YWx1ZVwiPiA8ZGl2PklubmVyIENvbnRlbnQ8L2Rpdj4gPC9jdXN0b20tY29tcG9uZW50PmBcbiAgICAgKi9cbiAgICBtYXJrdXAhOiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBTdHlsZXMgc3RyaW5nIGRlZmluZWQgZm9yIHRoZSBub2RlXG4gICAgICovXG4gICAgc3R5bGVzITogc3RyaW5nXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbm9kZVxuICAgICAqIHVzZXMgdG8gc3RvcmUgYWxsIG5lc3RlZCBmcmFnbWVudHMgYW5kIGVudGl0aWVzIGxpa2Ugb3RoZXIgQXJlTm9kZXMgYW5kIFNjZW5lXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9zY29wZSE6IEFfU2NvcGVcblxuICAgIGdldCBzY29wZSgpOiBBX1Njb3BlIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zY29wZSkge1xuICAgICAgICAgICAgdGhpcy5fc2NvcGUgPSBuZXcgQV9TY29wZSh7XG4gICAgICAgICAgICAgICAgbmFtZTogYCR7dGhpcy5hc2VpZC5pZH1gLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fc2NvcGU7XG4gICAgfVxuXG5cbiAgICBmcm9tTmV3KG5ld0VudGl0eTogQXJlTm9kZU5ld1Byb3BzKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYXNlaWQgPSBuZXcgQVNFSUQoe1xuICAgICAgICAgICAgaWQ6IEFfSWRlbnRpdHlIZWxwZXIuZ2VuZXJhdGVUaW1lSWQoKSxcbiAgICAgICAgICAgIGVudGl0eTogbmV3RW50aXR5LmNvbXBvbmVudCxcbiAgICAgICAgICAgIHNjb3BlOiBuZXdFbnRpdHkuc2NvcGUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSBuZXdFbnRpdHkudGVtcGxhdGUgfHwgJyc7XG4gICAgICAgIHRoaXMubWFya3VwID0gbmV3RW50aXR5Lm1hcmt1cCB8fCAnJztcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBuZXdFbnRpdHkuc3R5bGVzIHx8ICcnO1xuICAgIH1cblxuXG4gICAgZnJvbUFTRUlEKGFzZWlkOiBzdHJpbmcgfCBBU0VJRCk6IHZvaWQge1xuICAgICAgICBzdXBlci5mcm9tQVNFSUQoYXNlaWQpO1xuXG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSAnJztcbiAgICAgICAgdGhpcy5tYXJrdXAgPSAnJztcbiAgICAgICAgdGhpcy5zdHlsZXMgPSAnJztcbiAgICB9XG5cblxuXG5cblxuXG5cbiAgICBhc3luYyBlbWl0KFxuICAgICAgICBldmVudDogQXJlRXZlbnQsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuY2hlY2tTY29wZUluaGVyaXRhbmNlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGlzb2xhdGVkIGV2ZW50IHNjb3BlIHRvIGF2b2lkIHBvbGx1dGluZyB0aGUgbm9kZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgZXZlbnRTY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6IGAke2V2ZW50Lm5hbWV9LXNjb3BlYCxcbiAgICAgICAgICAgIGZyYWdtZW50czogW2V2ZW50XVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmluaGVyaXQodGhpcy5zY29wZSlcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQXJlTm9kZUZlYXR1cmVzLm9uRXZlbnQsIGV2ZW50U2NvcGUpXG5cbiAgICAgICAgICAgIGV2ZW50U2NvcGUuZGVzdHJveSgpXG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgICAgICAgZXZlbnRTY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBhc3luYyBjb21waWxlKCk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgICAgIHRoaXMuY2hlY2tTY29wZUluaGVyaXRhbmNlKCk7XG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFyZU5vZGVGZWF0dXJlcy5vbkNvbXBpbGUsIHRoaXMuc2NvcGUpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHJlbmRlcigpOiBQcm9taXNlPHZvaWQ+IHtcblxuICAgICAgICB0aGlzLmNoZWNrU2NvcGVJbmhlcml0YW5jZSgpO1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBcmVOb2RlRmVhdHVyZXMub25SZW5kZXIsIHRoaXMuc2NvcGUpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgYXN5bmMgdXBkYXRlKCk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgICAgIHRoaXMuY2hlY2tTY29wZUluaGVyaXRhbmNlKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBcmVOb2RlRmVhdHVyZXMub25VcGRhdGUsIHRoaXMuc2NvcGUpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIG1vdW50KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmNoZWNrU2NvcGVJbmhlcml0YW5jZSgpO1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBcmVOb2RlRmVhdHVyZXMub25Nb3VudCwgdGhpcy5zY29wZSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZCgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgc3VwZXIubG9hZCh0aGlzLnNjb3BlKTtcbiAgICB9XG5cbiAgICBhc3luYyBkZXN0cm95KHNjb3BlPzogQV9TY29wZSk6IFByb21pc2U8YW55PiB7XG5cbiAgICAgICAgdGhpcy5jaGVja1Njb3BlSW5oZXJpdGFuY2UoKTtcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBhd2FpdCBzdXBlci5kZXN0cm95KHNjb3BlKTtcblxuICAgICAgICAgICAgdGhpcy5zY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgICAgICAgdGhpcy5fc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXJzIE1ldGhvZHNcbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGVuc3VyZSB0aGF0IHRoZSBjdXJyZW50IHNjb3BlIGlzIGluaGVyaXRlZCBmcm9tIHRoZSBjb250ZXh0IHNjb3BlXG4gICAgICogXG4gICAgICogQHRocm93cyBBX0Vycm9yIGlmIHRoZSBzY29wZSBpcyBub3QgaW5oZXJpdGVkIGZyb20gdGhlIGNvbnRleHQgc2NvcGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY2hlY2tTY29wZUluaGVyaXRhbmNlKCk6IHZvaWQge1xuICAgICAgICBsZXQgYXR0YWNoZWRTY29wZTogQV9TY29wZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXR0YWNoZWRTY29wZSA9IEFfQ29udGV4dC5zY29wZSh0aGlzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0Vycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogYEFfVUlfTm9kZSBTY29wZSBJbmhlcml0YW5jZSBFcnJvcmAsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBUaGUgQV9VSV9Ob2RlIGVudGl0eSB3aXRoIEFTRUlEICcke3RoaXMuYXNlaWQudG9TdHJpbmcoKX0nIGlzIG5vdCBib3VuZCB0byBhbnkgY29udGV4dCBzY29wZS4gUGxlYXNlIGVuc3VyZSB0aGF0IHRoZSBlbnRpdHkgaXMgY3JlYXRlZCB3aXRoaW4gYSB2YWxpZCBjb250ZXh0LmAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufSIsICJpbXBvcnQgeyBBU0VJRCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0V4ZWN1dGlvbkNvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcblxuXG5leHBvcnQgY2xhc3MgQXJlUHJvcHM8XG4gICAgVCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGV4dGVuZHMgQV9FeGVjdXRpb25Db250ZXh0PFQ+IHtcblxuICAgIGNvbnN0cnVjdG9yKGFzZWlkOiBBU0VJRCkge1xuICAgICAgICBzdXBlcihhc2VpZC50b1N0cmluZygpKTtcbiAgICB9XG5cblxuICAgIHNldE11bHRpcGxlKHZhbHVlczogUGFydGlhbDxUPik6IHZvaWQge1xuICAgICAgICBPYmplY3QuZW50cmllcyh2YWx1ZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXQoa2V5IGFzIGtleW9mIFQsIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBU0VJRCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0V4ZWN1dGlvbkNvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcblxuXG5leHBvcnQgY2xhc3MgQXJlU3RvcmU8XG4gICAgVCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGV4dGVuZHMgQV9FeGVjdXRpb25Db250ZXh0PFQ+IHtcblxuICAgIGNvbnN0cnVjdG9yKGFzZWlkOiBBU0VJRCkge1xuICAgICAgICBzdXBlcihhc2VpZC50b1N0cmluZygpKTtcbiAgICB9XG5cblxuICAgIHNldE11bHRpcGxlKHZhbHVlczogUGFydGlhbDxUPik6IHZvaWQge1xuICAgICAgICBPYmplY3QuZW50cmllcyh2YWx1ZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXQoa2V5IGFzIGtleW9mIFQsIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQsIEFfRnJhZ21lbnQsIEFfU2NvcGUsIEFfVFlQRVNfX0ZyYWdtZW50X1NlcmlhbGl6ZWQsIEFTRUlEIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFyZUluZGV4IH0gZnJvbSBcIi4uL0FyZUluZGV4L0FyZUluZGV4LmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5pbXBvcnQgeyBBcmVFdmVudCB9IGZyb20gXCIuLi9BcmVFdmVudC9BcmVFdmVudC5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTQ2VuZV9TZXJpYWxpemVkIH0gZnJvbSBcIi4vQXJlU2NlbmUudHlwZXNcIjtcbmltcG9ydCB7IEFyZVByb3BzIH0gZnJvbSBcIi4uL0FyZVByb3BzL0FyZVByb3BzLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZVN0b3JlIH0gZnJvbSBcIi4uL0FyZVN0b3JlL0FyZVN0b3JlLmNvbnRleHRcIjtcblxuZXhwb3J0IGNsYXNzIEFyZVNjZW5lIGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cbiAgICBwcm90ZWN0ZWQgX3RlbXBsYXRlOiBzdHJpbmcgPSAnJztcbiAgICBwcm90ZWN0ZWQgX2xpc3RlbmVyczogTWFwPEFyZU5vZGUsIE1hcDxzdHJpbmcsIFNldDxGdW5jdGlvbj4+PiA9IG5ldyBNYXAoKTtcbiAgICBwcm90ZWN0ZWQgX3N0eWxlczogTWFwPEFyZU5vZGUsIHN0cmluZz4gPSBuZXcgTWFwKCk7XG4gICAgcHJvdGVjdGVkIF9iaW5kaW5nczogTWFwPEFyZU5vZGUsIE1hcDxzdHJpbmcsIGFueT4+ID0gbmV3IE1hcCgpO1xuXG5cbiAgICBwcm90ZWN0ZWQgX3N0YXRlSGFzaGVzOiBNYXA8QXJlTm9kZSwgc3RyaW5nPiA9IG5ldyBNYXAoKTtcblxuICAgIHByb3RlY3RlZCBfc3RhdHVzOiAnaW5pdGlhbGl6ZWQnIHwgJ2NvbXBpbGVkJyB8ICdyZW5kZXJlZCcgPSAnaW5pdGlhbGl6ZWQnO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2VuZSBpZGVudGl0eSB3aWxsIGJlIHVzZWQgdG8gaWRlbnRpZnkgbW91bnRpbmcgcG9pbnQgaW4gdGhlIHBhcmVudCBzY2VuZVxuICAgICAgICAgKi9cbiAgICAgICAgaWQ/OiBzdHJpbmcgfCBBU0VJRCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXRpYWwgdGVtcGxhdGUgZm9yIHRoZSBzY2VuZS4gXG4gICAgICAgICAqL1xuICAgICAgICB0ZW1wbGF0ZT86IHN0cmluZ1xuICAgICkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IGlkPy50b1N0cmluZygpIHx8ICdhcmUtYXBwJyB9KTtcbiAgICAgICAgdGhpcy5fdGVtcGxhdGUgPSAodGVtcGxhdGUgfHwgJycpXG4gICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpO1xuICAgIH1cblxuICAgIGdldCBpZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcm9vdCBzY2VuZSBvZiB0aGUgY3VycmVudCBzY2VuZVxuICAgICAqL1xuICAgIGdldCByb290KCk6IEFyZVNjZW5lIHtcbiAgICAgICAgbGV0IGN1cnJlbnRTY29wZTogQV9TY29wZSB8IHVuZGVmaW5lZCA9IHRoaXMuc2NvcGU7XG4gICAgICAgIGxldCByb290U2NlbmU6IEFyZVNjZW5lID0gdGhpcztcblxuICAgICAgICB3aGlsZSAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRTY2VuZSA9IGN1cnJlbnRTY29wZS5wYXJlbnQ/LnJlc29sdmU8QXJlU2NlbmU+KHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFyZVNjZW5lKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRTY2VuZSkge1xuICAgICAgICAgICAgICAgIHJvb3RTY2VuZSA9IHBhcmVudFNjZW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gY3VycmVudFNjb3BlLnBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByb290U2NlbmU7XG4gICAgfVxuXG4gICAgZ2V0IHN0YXR1cygpOiAnaW5pdGlhbGl6ZWQnIHwgJ2NvbXBpbGVkJyB8ICdyZW5kZXJlZCcge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzO1xuICAgIH1cblxuICAgIGdldCBzY29wZSgpOiBBX1Njb3BlIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5zY29wZSh0aGlzKTtcbiAgICB9XG5cbiAgICBnZXQgaW5kZXgoKTogQXJlSW5kZXg8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQuc2NvcGUodGhpcykucmVzb2x2ZUZsYXQ8QXJlSW5kZXg8c3RyaW5nPj4oQXJlSW5kZXgpITtcbiAgICB9XG5cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LnNjb3BlKHRoaXMpLnBhcmVudD8ucmVzb2x2ZUZsYXQ8QXJlU2NlbmU+KEFyZVNjZW5lKTtcbiAgICB9XG5cbiAgICBnZXQgdGVtcGxhdGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RlbXBsYXRlO1xuICAgIH1cblxuICAgIGdldCBpbml0aWFsaXplZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1cyA9PT0gJ2luaXRpYWxpemVkJztcbiAgICB9XG5cblxuICAgIGdldCBjb21waWxlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1cyA9PT0gJ2NvbXBpbGVkJztcbiAgICB9XG5cbiAgICBnZXQgcmVuZGVyZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXMgPT09ICdyZW5kZXJlZCc7XG4gICAgfVxuXG5cbiAgICBnZXQgY2hpbGRyZW4oKTogQXJyYXk8QXJlU2NlbmU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUucmVzb2x2ZUZsYXRBbGw8QXJlTm9kZT4oQXJlTm9kZSlcbiAgICAgICAgICAgIC5tYXAobiA9PiBuLnNjb3BlLnJlc29sdmVGbGF0PEFyZVNjZW5lPihBcmVTY2VuZSkpXG4gICAgICAgICAgICAuZmlsdGVyKHMgPT4gISFzKTtcbiAgICB9XG5cblxuICAgIGdldCBkZXB0aCgpOiBudW1iZXIge1xuICAgICAgICBsZXQgZGVwdGggPSAwO1xuICAgICAgICBsZXQgY3VycmVudFNjb3BlOiBBX1Njb3BlIHwgdW5kZWZpbmVkID0gdGhpcy5zY29wZTtcblxuICAgICAgICB3aGlsZSAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFNjb3BlLnBhcmVudCAmJiBjdXJyZW50U2NvcGUucGFyZW50LnJlc29sdmU8QXJlU2NlbmU+KHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFyZVNjZW5lKSkge1xuICAgICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBjdXJyZW50U2NvcGUucGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlcHRoO1xuICAgIH1cblxuICAgIGdldCBzdHlsZXMoKTogSXRlcmFibGU8W0FyZU5vZGUsIHN0cmluZ10+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlcy5lbnRyaWVzKCk7XG4gICAgfVxuXG5cbiAgICAqbm9kZXMoXG4gICAgICAgIGZpbHRlcj86IChub2RlOiBBcmVOb2RlKSA9PiBib29sZWFuXG4gICAgKTogSXRlcmFibGU8QXJlTm9kZT4ge1xuXG5cbiAgICAgICAgZm9yIChjb25zdCBwYXRoIG9mIHRoaXMucGF0aHMoKSkge1xuXG4gICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5pbmRleC5ub2RlT2YocGF0aCk7XG5cbiAgICAgICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmlsdGVyICYmICFmaWx0ZXIobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgeWllbGQgbm9kZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICpwYXRocygpOiBJdGVyYWJsZTxzdHJpbmc+IHtcbiAgICAgICAgbGV0IHBhdGhzID0gdGhpcy5pbmRleC5wYXRocztcblxuICAgICAgICAvLyAgY3JlYXRlIHByb3BlciB0cmVlIHNlcXVlbmNlXG4gICAgICAgIHBhdGhzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFQYXJzZWQgPSBhLnNwbGl0KCcuJykubWFwKHBhcnQgPT4gcGFyc2VJbnQocGFydCwgMTApKTtcbiAgICAgICAgICAgIGNvbnN0IGJQYXJzZWQgPSBiLnNwbGl0KCcuJykubWFwKHBhcnQgPT4gcGFyc2VJbnQocGFydCwgMTApKTtcblxuICAgICAgICAgICAgY29uc3QgbGVuID0gTWF0aC5taW4oYVBhcnNlZC5sZW5ndGgsIGJQYXJzZWQubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYVBhcnNlZFtpXSAhPT0gYlBhcnNlZFtpXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVBhcnNlZFtpXSAtIGJQYXJzZWRbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFQYXJzZWQubGVuZ3RoIC0gYlBhcnNlZC5sZW5ndGg7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHlpZWxkIHBhdGhzXG4gICAgICAgIGZvciAoY29uc3QgcGF0aCBvZiBwYXRocykge1xuICAgICAgICAgICAgeWllbGQgcGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGF0dGFjaChub2RlOiBBcmVOb2RlKTogdm9pZCB7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ0FUVEFDSCBOT0RFIFRPIFNDRU5FJywgbm9kZS5hc2VpZC5lbnRpdHksICdUTyBTQ0VORScsIHRoaXMuaWQpO1xuXG4gICAgICAgIHRoaXMuc2NvcGUucmVnaXN0ZXIobm9kZSk7XG4gICAgICAgIG5vZGUuc2NvcGUuaW5oZXJpdCh0aGlzLnNjb3BlKVxuICAgIH1cblxuICAgIGFzeW5jIG1vdW50KFxuICAgICAgICBub2RlOiBBcmVOb2RlLFxuICAgICkge1xuICAgICAgICBjb25zdCBuZXdIYXNoID0gdGhpcy5jb21wdXRlSGFzaChub2RlKTtcbiAgICAgICAgdGhpcy5fc3RhdGVIYXNoZXMuc2V0KG5vZGUsIG5ld0hhc2gpO1xuXG4gICAgfVxuXG4gICAgYXN5bmMgdW5tb3VudChcbiAgICAgICAgbm9kZTogQXJlTm9kZSxcbiAgICApIHtcbiAgICAgICAgdGhpcy5fc3RhdGVIYXNoZXMuZGVsZXRlKG5vZGUpO1xuICAgIH1cblxuXG5cbiAgICBoYXNDaGFuZ2VzRm9yKG5vZGU6IEFyZU5vZGUpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNIYXNoID0gdGhpcy5nZXRIYXNoKG5vZGUpO1xuICAgICAgICBjb25zdCBjdXJyZW50SGFzaCA9IHRoaXMuY29tcHV0ZUhhc2gobm9kZSk7XG5cblxuICAgICAgICBsZXQgcmVzdWx0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFwcmV2aW91c0hhc2ggfHwgcHJldmlvdXNIYXNoICE9PSBjdXJyZW50SGFzaCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHNjZW5lRm9yKG5vZGU6IEFyZU5vZGUpOiBBcmVTY2VuZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiBub2RlLnNjb3BlLnJlc29sdmVGbGF0PEFyZVNjZW5lPihBcmVTY2VuZSk7XG4gICAgfVxuXG4gICAgcHJvcHNPZihub2RlOiBBcmVOb2RlKTogQXJlUHJvcHMge1xuICAgICAgICByZXR1cm4gbm9kZS5zY29wZS5yZXNvbHZlRmxhdDxBcmVQcm9wcz4oQXJlUHJvcHMpITtcbiAgICB9XG5cbiAgICBzdG9yZU9mKG5vZGU6IEFyZU5vZGUpOiBBcmVTdG9yZSB7XG4gICAgICAgIHJldHVybiBub2RlLnNjb3BlLnJlc29sdmVGbGF0PEFyZVN0b3JlPihBcmVTdG9yZSkhO1xuICAgIH0gXG5cbiAgICBnZXRIYXNoKG5vZGU6IEFyZU5vZGUpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGVIYXNoZXMuZ2V0KG5vZGUpO1xuICAgIH1cblxuICAgIGNvbXB1dGVIYXNoKG5vZGU6IEFyZU5vZGUpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBub2RlQmluZGluZ3MgPSB0aGlzLl9iaW5kaW5ncy5nZXQobm9kZSk7XG4gICAgICAgIGNvbnN0IG5vZGVMaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnMuZ2V0KG5vZGUpO1xuICAgICAgICBjb25zdCBub2RlU3R5bGVzID0gdGhpcy5fc3R5bGVzLmdldChub2RlKTtcbiAgICAgICAgY29uc3QgbmVzdGVkU2NlbmUgPSB0aGlzLnNjZW5lRm9yKG5vZGUpO1xuICAgICAgICBjb25zdCBwcm9wcyA9ICB0aGlzLnByb3BzT2Yobm9kZSk7XG4gICAgICAgIGNvbnN0IHN0b3JlID0gdGhpcy5zdG9yZU9mKG5vZGUpO1xuXG5cbiAgICAgICAgY29uc3QgaGFzaFNvdXJjZSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGJpbmRpbmdzOiBub2RlQmluZGluZ3MgPyAgQXJyYXkuZnJvbShub2RlQmluZGluZ3MuZW50cmllcygpIHx8IFtdKTogbnVsbCxcbiAgICAgICAgICAgIGxpc3RlbmVyczogbm9kZUxpc3RlbmVycyA/IEFycmF5LmZyb20obm9kZUxpc3RlbmVycy5lbnRyaWVzKCkgKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gW2tleSwgQXJyYXkuZnJvbSh2YWx1ZSldKSA6IG51bGwsXG4gICAgICAgICAgICBzdHlsZXM6IG5vZGVTdHlsZXMgfHwgbnVsbCxcbiAgICAgICAgICAgIG5lc3RlZFNjZW5lOiBuZXN0ZWRTY2VuZSA/IG5lc3RlZFNjZW5lLnRvSlNPTigpIDogbnVsbCxcbiAgICAgICAgICAgIHByb3BzOiBwcm9wcyA/IHByb3BzLnRvSlNPTigpIDogbnVsbCxcbiAgICAgICAgICAgIHN0b3JlOiBzdG9yZSA/IHN0b3JlLnRvSlNPTigpIDogbnVsbCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGhhc2ggPSAwLCBpLCBjaHI7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBoYXNoU291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaHIgPSBoYXNoU291cmNlLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBjaHI7XG4gICAgICAgICAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYXNoLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgYWRkU3R5bGVzKG5vZGU6IEFyZU5vZGUsIHN0eWxlczogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX3N0eWxlcy5zZXQobm9kZSwgc3R5bGVzKTtcbiAgICB9XG5cblxuICAgIGFzeW5jIGdldFN0eWxlcyhub2RlOiBBcmVOb2RlKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlcy5nZXQobm9kZSk7XG4gICAgfVxuXG5cbiAgICBhc3luYyBhZGRMaXN0ZW5lcihldmVudDogc3RyaW5nLCBoYW5kbGVyOiBzdHJpbmcsIHBhcmVudE5vZGU6IEFyZU5vZGUsIG5vZGU6IEFyZU5vZGUpIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3RXZlbnQgPSBuZXcgQXJlRXZlbnQoaGFuZGxlciwge1xuICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgIGRhdGE6IGVcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGF3YWl0IHBhcmVudE5vZGUuZW1pdChuZXdFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAgQW5kIHRoZW4gSnVzdCByZWdpc3RlciBpdFxuICAgICAgICBjb25zdCBleGlzdGluZ0xpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycy5nZXQobm9kZSkgfHwgbmV3IE1hcDxzdHJpbmcsIFNldDxGdW5jdGlvbj4+KCk7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlcnMgPSBleGlzdGluZ0xpc3RlbmVycy5nZXQoZXZlbnQpIHx8IG5ldyBTZXQ8RnVuY3Rpb24+KCk7XG5cbiAgICAgICAgaGFuZGxlcnMuYWRkKGNhbGxiYWNrKTtcblxuICAgICAgICBleGlzdGluZ0xpc3RlbmVycy5zZXQoZXZlbnQsIGhhbmRsZXJzKTtcblxuICAgICAgICB0aGlzLl9saXN0ZW5lcnMuc2V0KG5vZGUsIGV4aXN0aW5nTGlzdGVuZXJzKTtcbiAgICB9XG5cblxuICAgIGFzeW5jIGdldExpc3RlbmVycyhub2RlOiBBcmVOb2RlKTogUHJvbWlzZTxNYXA8c3RyaW5nLCBTZXQ8RnVuY3Rpb24+PiB8IG51bGw+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3RlbmVycy5nZXQobm9kZSkgfHwgbnVsbDtcbiAgICB9XG5cblxuICAgIGFzeW5jIGdldEJpbmRpbmdzKG5vZGU6IEFyZU5vZGUpOiBQcm9taXNlPE1hcDxzdHJpbmcsIGFueT4gfCBudWxsPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5ncy5nZXQobm9kZSkgfHwgbnVsbDtcbiAgICB9XG5cblxuXG4gICAgYXN5bmMgYmluZChub2RlOiBBcmVOb2RlLCBuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICAgICAgLy8gIEFuZCB0aGVuIEp1c3QgcmVnaXN0ZXIgaXRcbiAgICAgICAgY29uc3QgZXhpc3RpbmdCaW5kaW5ncyA9IHRoaXMuX2JpbmRpbmdzLmdldChub2RlKSB8fCBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuXG4gICAgICAgIC8vIGNvbnN0IHZhbHVlcyA9IGV4aXN0aW5nQmluZGluZ3MuZ2V0KG5hbWUpO1xuXG4gICAgICAgIC8vIHZhbHVlcy5hZGQodmFsdWUpO1xuXG4gICAgICAgIGV4aXN0aW5nQmluZGluZ3Muc2V0KG5hbWUsIHZhbHVlKTtcblxuICAgICAgICB0aGlzLl9iaW5kaW5ncy5zZXQobm9kZSwgZXhpc3RpbmdCaW5kaW5ncyk7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBjb21iaW5lIGFsbCBiaW5kaW5nIHNjZW5lcyBpbnRvIG9uZSBidWlsZCBzY2VuZSBcbiAgICAgKiBhbmQgcmV0dXJuIHRoZSBmaW5hbCBjb21waWxlZCBtYXJrdXAgd2l0aCBhbGwgcGF0aHMgcHJvcGVybHkgc2V0LlxuICAgICAqIFxuICAgICAqIEFsbCBwYXRocyBpbiB0aGUgaW5kZXggc2hvdWxkIGJlIHVwZGF0ZWQgYW5kIHRoZSBmdWxsIHRyZWUgc2hvdWxkIGJlIGJ1aWx0LlxuICAgICAqIFxuICAgICAqL1xuICAgIGFzeW5jIGNvbXBpbGUoKSB7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9ICdjb21waWxlZCc7XG4gICAgfVxuXG5cbiAgICBhc3luYyByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9ICdyZW5kZXJlZCc7XG4gICAgfVxuXG5cbiAgICBhc3luYyBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5pbmRleC5jbGVhcigpO1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fc3R5bGVzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2JpbmRpbmdzLmNsZWFyKCk7XG4gICAgfVxuXG5cbiAgICBhc3luYyByZXNldCh0ZW1wbGF0ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgIGF3YWl0IHRoaXMuY2xlYXIoKTtcbiAgICB9XG5cblxuXG4gICAgdG9KU09OKCk6IEFyZVNDZW5lX1NlcmlhbGl6ZWQge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBjaGlsZHJlbjogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgICAgICAgIEFycmF5LmZyb20odGhpcy5jaGlsZHJlbikubWFwKGNoaWxkID0+IFtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuaWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQudG9KU09OKClcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgKVxuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuXG5cbi8vICBKdXN0IHRvIGNvdmVyIHRoZSBwcm9wZXIgbGlmZWN5Y2xlXG5cbi8qXG4gMSkgQ3JlYXRlIFNjZW5lIHdpdGggdGVtcGxhdGUgZnJvbSBtb3VudGluZyBwb2ludCBjb250ZW50XG4gMikgRG8gaW5kZXhpbmcgb2YgdGhlIHNjZW5lIFxuXG4qLyIsICJpbXBvcnQgeyBBX0NhbGxlciwgQV9GZWF0dXJlLCBBX0Zvcm1hdHRlckhlbHBlciwgQV9JbmplY3QsIEFfU2NvcGUgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFyZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlQ29tcG9uZW50L0FyZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFyZUV2ZW50IH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVFdmVudC9BcmVFdmVudC5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTY2VuZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU2NlbmUvQXJlU2NlbmUuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlU3RvcmUgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN0b3JlL0FyZVN0b3JlLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5pbXBvcnQgeyBBcmVJbml0U2lnbmFsIH0gZnJvbSBcInNyYy9zaWduYWxzL0FyZUluaXQuc2lnbmFsXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFCdG4gZXh0ZW5kcyBBcmUge1xuXG5cbiAgICBhc3luYyB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGA8YnV0dG9uIGNsYXNzPVwiYS1idG5cIiBAY2xpY2s9XCJoYW5kbGVDbGlja1wiPnt7bmFtZX19PC9idXR0b24+IDxhLWlucHV0IGEtaWY9XCJzaG93SW5wdXRcIiBAY2xpY2s9XCJoYW5kbGVjbGlrY1wiPjwvYS1pbnB1dD5gO1xuICAgIH1cblxuXG4gICAgYXN5bmMgc3R5bGVzKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAuYS1idG4ge1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB7e2JnQ29sb3J9fSFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIH1cblxuICAgIGFzeW5jIGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiAnQV9CdXR0b24gRWxlbWVudCcsXG4gICAgICAgICAgICBiZ0NvbG9yOiAnIzAwN0JGRicsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgQEFyZS5vbkJlZm9yZUxvYWRcbiAgICBhc3luYyBvbkxvYWQoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVN0b3JlKSBzdG9yZTogQXJlU3RvcmUsXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyOiBBX0xvZ2dlcixcbiAgICApIHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdyZWQnLCBgQmVmb3JlIEFCdG4gQ29tcG9uZW50IExvYWQgLi4uIDogPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiA6ICR7bm9kZS5hc2VpZC50b1N0cmluZygpfWApO1xuICAgIH1cblxuICAgIEBBcmUub25BZnRlckxvYWRcbiAgICBhc3luYyBvbkFmdGVyTG9hZChcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU3RvcmUpIHN0b3JlOiBBcmVTdG9yZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuICAgICkge1xuICAgICAgICBsb2dnZXIuZGVidWcoJ3JlZCcsIGBBZnRlciBBQnRuIENvbXBvbmVudCBMb2FkIC4uLiA6IDwke25vZGUuYXNlaWQuZW50aXR5fT4gOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX1gKTtcbiAgICB9XG5cbiAgICBAQXJlLkV2ZW50SGFuZGxlclxuICAgIGFzeW5jIGhhbmRsZUNsaWNrKFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVN0b3JlKSBzdG9yZTogQXJlU3RvcmUsXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyOiBBX0xvZ2dlcixcbiAgICAgICAgQEFfSW5qZWN0KEFyZUV2ZW50KSBldmVudDogQXJlRXZlbnQsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgICkge1xuXG4gICAgICAgIHN0b3JlLnNldCgnbmFtZScsICdCdXR0b24gQ2xpY2tlZCEnKTtcblxuICAgICAgICBzdG9yZS5zZXQoJ2JnQ29sb3InLCAnI2ZmNTczMycpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdldmVudCBkYXRhOicsIGV2ZW50KTtcblxuICAgICAgIGF3YWl0IG5vZGUudXBkYXRlKCk7XG5cbiAgICAgICAgLy8gYXdhaXQgbmV3IEFyZVVwZGF0ZVNpZ25hbChub2RlKS5uZXh0KHNjb3BlKTtcbiAgICB9XG5cbn0iLCAiaW1wb3J0IHsgQV9DYWxsZXIsIEFfRmVhdHVyZSwgQV9JbmplY3QsIEFfU2NvcGUgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFyZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlQ29tcG9uZW50L0FyZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFyZUV2ZW50IH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVFdmVudC9BcmVFdmVudC5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTY2VuZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU2NlbmUvQXJlU2NlbmUuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlU3RvcmUgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN0b3JlL0FyZVN0b3JlLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5cblxuZXhwb3J0IGNsYXNzIEFJbnB1dCBleHRlbmRzIEFyZSB7XG5cbiAgICBhc3luYyB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGA8ZGl2PjxpbnB1dCAkbm8tdXBkYXRlIEBpbnB1dD1cIm9uQ2hhbmdlXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkFfSW5wdXQgRWxlbWVudFwiLz4gICB7e2lucHV0VmFsdWV9fTwvZGl2PmA7XG4gICAgfVxuXG5cbiAgICBhc3luYyBkYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5wdXRWYWx1ZTogJ1Rlc3QnLFxuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgQEFyZS5FdmVudEhhbmRsZXJcbiAgICBhc3luYyBBX1VJX05PREVfb25CZWZvcmVMb2FkKFxuICAgICAgICBAQV9JbmplY3QoQXJlTm9kZSkgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU3RvcmUpIHN0b3JlOiBBcmVTdG9yZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBsb2dnZXIubG9nKCdncmVlbicsIGBBSW5wdXQgaXMgaW5pdGlhbGl6aW5nLi4uIDogPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiA6IGAsIG5vZGUuYXNlaWQudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgLy8gc3RvcmUuZGF0YS5zZXQoJ2J0bk5hbWUnLCAnTm9wZScpO1xuICAgIH1cblxuXG4gICAgQEFyZS5FdmVudEhhbmRsZXJcbiAgICBhc3luYyBvbkNoYW5nZShcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTdG9yZSkgc3RvcmU6IEFyZVN0b3JlLFxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgICAgIEBBX0luamVjdChBcmVFdmVudCkgZXZlbnQ6IEFyZUV2ZW50PElucHV0RXZlbnQ+LFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcbiAgICApIHtcblxuICAgICAgICAvLyBjb25zdCB0aW1lb3V0ID0gc3RvcmUuZ2V0KCd0aW1lb3V0Jyk7XG5cbiAgICAgICAgLy8gY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICBpZiAoZXZlbnQuZGF0YS50YXJnZXQgPT09IG51bGxcbiAgICAgICAgICAgIHx8XG4gICAgICAgICAgICBzdG9yZS5nZXQoJ2lucHV0VmFsdWUnKSA9PT0gKGV2ZW50LmRhdGEudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlXG5cbiAgICAgICAgKSByZXR1cm47XG5cbiAgICAgICAgbG9nZ2VyLmxvZygnZ3JlZW4nLCBgQUlucHV0IG9uQ2hhbmdlIGV2ZW50IHRyaWdnZXJlZC4uLiA6IDwke25vZGUuYXNlaWQuZW50aXR5fT4gOiBgLCBub2RlLmFzZWlkLnRvU3RyaW5nKCksIChldmVudC5kYXRhLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSk7XG5cbiAgICAgIFxuXG4gICAgICAgIHN0b3JlLnNldCgnaW5wdXRWYWx1ZScsIChldmVudC5kYXRhLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSk7XG5cblxuICAgICAgICAvLyBzdG9yZS5zZXQoJ3RpbWVvdXQnLCBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgbm9kZS51cGRhdGUoKTtcblxuICAgICAgICAvLyB9LCAxMDAwKSlcblxuICAgIH1cblxufSIsICJpbXBvcnQgeyBBX0ZyYWdtZW50IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFyZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlQ29tcG9uZW50L0FyZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5pbXBvcnQgeyBBcmVQcm9wcyB9IGZyb20gXCIuLi9BcmVQcm9wcy9BcmVQcm9wcy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTdG9yZSB9IGZyb20gXCIuLi9BcmVTdG9yZS9BcmVTdG9yZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTeW50YXhJbml0T3B0aW9ucyB9IGZyb20gXCIuL0FyZVN5bnRheC50eXBlc1wiO1xuXG5leHBvcnQgdHlwZSBBcmVQcm9wID0ge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICByYXc6IHN0cmluZztcbiAgICB2YWx1ZTogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBBcmVJbnRlcnBvbGF0aW9uID0ge1xuICAgIHJhdzogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbn1cblxuXG5leHBvcnQgdHlwZSBBcmVMaXN0ZW5lciA9IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgcmF3OiBzdHJpbmc7XG4gICAgaGFuZGxlcjogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBBcmVEaXJlY3RpdmUgPSB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHJhdzogc3RyaW5nO1xuICAgIHZhbHVlPzogc3RyaW5nO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBBcmVTeW50YXggZXh0ZW5kcyBBX0ZyYWdtZW50IHtcblxuICAgIHJlYWRvbmx5IGNvbmZpZyE6IFJlcXVpcmVkPEFyZVN5bnRheEluaXRPcHRpb25zPjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBjb25maWc6IFBhcnRpYWw8QXJlU3ludGF4SW5pdE9wdGlvbnM+ID0ge31cbiAgICApIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiAnQXJlU3ludGF4JyB9KTtcblxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIGRlYnVnTW9kZTogY29uZmlnLmRlYnVnTW9kZSB8fCBmYWxzZSxcbiAgICAgICAgICAgIGludGVycG9sYXRpb25EZWxpbWl0ZXJzOiBjb25maWcuaW50ZXJwb2xhdGlvbkRlbGltaXRlcnMgfHwgWyd7eycsICd9fSddLFxuICAgICAgICAgICAgYmluZGluZ0RlbGltaXRlcjogY29uZmlnLmJpbmRpbmdEZWxpbWl0ZXIgfHwgJzonLFxuICAgICAgICAgICAgbGlzdGVuZXJEZWxpbWl0ZXI6IGNvbmZpZy5saXN0ZW5lckRlbGltaXRlciB8fCAnQCcsXG4gICAgICAgICAgICBzdHJpY3RNb2RlOiBjb25maWcuc3RyaWN0TW9kZSB8fCB0cnVlLFxuICAgICAgICAgICAgY3VzdG9tRGlyZWN0aXZlczogY29uZmlnLmN1c3RvbURpcmVjdGl2ZXMgfHwgW10sXG4gICAgICAgICAgICB0cmltV2hpdGVzcGFjZTogY29uZmlnLnRyaW1XaGl0ZXNwYWNlIHx8IHRydWUsXG4gICAgICAgICAgICByb290VGFnOiBjb25maWcucm9vdFRhZyB8fCAnYXJlLXJvb3QnLFxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwcm90ZWN0ZWQgU1RBTkRBUkRfSFRNTF9UQUdTID0gbmV3IFNldChbXG4gICAgICAgIFwiaHRtbFwiLCBcImhlYWRcIiwgXCJib2R5XCIsIFwiZGl2XCIsIFwic3BhblwiLCBcInBcIiwgXCJhXCIsIFwidWxcIiwgXCJvbFwiLCBcImxpXCIsXG4gICAgICAgIFwidGFibGVcIiwgXCJ0aGVhZFwiLCBcInRib2R5XCIsIFwidHJcIiwgXCJ0ZFwiLCBcInRoXCIsIFwiZm9ybVwiLCBcImlucHV0XCIsIFwiYnV0dG9uXCIsXG4gICAgICAgIFwic2VsZWN0XCIsIFwib3B0aW9uXCIsIFwidGV4dGFyZWFcIiwgXCJsYWJlbFwiLCBcImltZ1wiLCBcImgxXCIsIFwiaDJcIiwgXCJoM1wiLCBcImg0XCIsXG4gICAgICAgIFwiaDVcIiwgXCJoNlwiLCBcInNjcmlwdFwiLCBcInN0eWxlXCIsIFwibGlua1wiLCBcIm1ldGFcIiwgXCJuYXZcIiwgXCJmb290ZXJcIiwgXCJoZWFkZXJcIixcbiAgICAgICAgXCJzZWN0aW9uXCIsIFwiYXJ0aWNsZVwiLCBcImFzaWRlXCIsIFwibWFpblwiLCBcImNhbnZhc1wiLCBcInZpZGVvXCIsIFwiYXVkaW9cIiwgXCJiclwiLFxuICAgICAgICBcImhyXCIsIFwic3Ryb25nXCIsIFwiZW1cIiwgXCJzbWFsbFwiLCBcInByZVwiLCBcImNvZGVcIiwgXCJpZnJhbWVcIiwgXCJkZXRhaWxzXCIsXG4gICAgICAgIFwic3VtbWFyeVwiLCBcInN2Z1wiLCBcInBhdGhcIiwgXCJjaXJjbGVcIiwgXCJyZWN0XCIsIFwicG9seWdvblwiLCBcImdcIiwgXCJkZWZzXCJcbiAgICBdKTtcblxuXG4gICAgaXNSb290Tm9kZShub2RlOiBBcmVOb2RlKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBub2RlLmFzZWlkLmVudGl0eS50b0xvd2VyQ2FzZSgpID09PSAnYXJlLXJvb3QnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgYSB0YWcgaXMgYSBjdXN0b20gY29tcG9uZW50IG9yIHN0YW5kYXJkIEhUTUxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbm9kZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBpc0N1c3RvbU5vZGUobm9kZTogQXJlTm9kZSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gIXRoaXMuU1RBTkRBUkRfSFRNTF9UQUdTLmhhcyhub2RlLmFzZWlkLmVudGl0eS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEludGVycG9sYXRpb24gaXMgYSBwbGFjZWhvbGRlciBmb3IgZHluYW1pYyBkYXRhIGluIHRoZSB0ZW1wbGF0ZSBcbiAgICAgKiBFeGFtcGxlOiB7e2RhdGFQcm9wZXJ0eX19XG4gICAgICogXG4gICAgICogQHBhcmFtIHRlbXBsYXRlIFxuICAgICAqL1xuICAgICpleHRyYWN0SW50ZXJwb2xhdGlvbnModGVtcGxhdGU6IHN0cmluZyk6IEl0ZXJhYmxlPEFyZUludGVycG9sYXRpb24+IHtcbiAgICAgICAgY29uc3QgaW50ZXJwb2xhdGlvblJlZ2V4ID0gbmV3IFJlZ0V4cChgJHt0aGlzLmNvbmZpZy5pbnRlcnBvbGF0aW9uRGVsaW1pdGVyc1swXX1cXFxccyooW2EtekEtWjAtOV8uJF0rKVxcXFxzKiR7dGhpcy5jb25maWcuaW50ZXJwb2xhdGlvbkRlbGltaXRlcnNbMV19YCwgJ2cnKTtcbiAgICAgICAgbGV0IG1hdGNoOiBSZWdFeHBFeGVjQXJyYXkgfCBudWxsO1xuXG4gICAgICAgIHdoaWxlICgobWF0Y2ggPSBpbnRlcnBvbGF0aW9uUmVnZXguZXhlYyh0ZW1wbGF0ZSkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICB5aWVsZCB7IHJhdzogbWF0Y2hbMF0sIG5hbWU6IG1hdGNoWzFdIH07XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEFsbCBwcm9wcyBvZiB0aGUgdGFnIHN0YXJ0ZWQgd2l0aCBkZWZhdWx0ICQgaXMgYSBkaXJlY3RpdmUgXG4gICAgICogRXhhbXBsZTogJGlmPVwiY29uZGl0aW9uXCIsICRmb3IsICRzaG93LCAkaGlkZSwgJG5vLXVwZGF0ZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB0ZW1wbGF0ZSBcbiAgICAgKi9cbiAgICAqZXh0cmFjdERpcmVjdGl2ZXModGVtcGxhdGU6IHN0cmluZyk6IEl0ZXJhYmxlPHN0cmluZz4ge1xuICAgICAgICBmb3IgKGNvbnN0IGRpcmVjdGl2ZSBvZiB0aGlzLmNvbmZpZy5jdXN0b21EaXJlY3RpdmVzKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmVSZWdleCA9IG5ldyBSZWdFeHAoYFxcXFxzKyR7ZGlyZWN0aXZlfShcXFxcc3w9fD4pYCwgJ2cnKTtcbiAgICAgICAgICAgIGlmIChkaXJlY3RpdmVSZWdleC50ZXN0KHRlbXBsYXRlKSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIGRpcmVjdGl2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIGFsbCBwcm9wZXJ0aWVzIGZyb20gYSB0YWcgaW4gdGhlIHRlbXBsYXRlXG4gICAgICogRXhhbXBsZTogPGFyZS1idG4gOmxhYmVsPVwiJ0NsaWNrIE1lJ1wiIEBjbGljaz1cImhhbmRsZUNsaWNrXCIgLz5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdGVtcGxhdGUgXG4gICAgICovXG4gICAgKmV4dHJhY3RQcm9wcyh0ZW1wbGF0ZTogc3RyaW5nKTogSXRlcmFibGU8QXJlUHJvcD4ge1xuICAgICAgICAvLyBFeHRyYWN0IGF0dHJpYnV0ZXMgZnJvbSB0aGUgdGFnXG4gICAgICAgIGNvbnN0IGF0dHJSZWdleCA9IG5ldyBSZWdFeHAoYChbYS16QS1aMC05JHt0aGlzLmNvbmZpZy5iaW5kaW5nRGVsaW1pdGVyfSR7dGhpcy5jb25maWcubGlzdGVuZXJEZWxpbWl0ZXJ9XVthLXpBLVowLTk6Ll8tXSspXFxcXHMqPVxcXFxzKlwiKC4qPylcImAsICdnJyk7XG4gICAgICAgIGxldCBhdHRyTWF0Y2g6IFJlZ0V4cEV4ZWNBcnJheSB8IG51bGw7XG5cbiAgICAgICAgd2hpbGUgKChhdHRyTWF0Y2ggPSBhdHRyUmVnZXguZXhlYyh0ZW1wbGF0ZSkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCByYXcgPSBhdHRyTWF0Y2hbMF07XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gYXR0ck1hdGNoWzFdO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyTWF0Y2hbMl07XG4gICAgICAgICAgICB5aWVsZCB7IG5hbWUsIHJhdywgdmFsdWUgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICpleHRyYWN0TGlzdGVuZXJzKHRlbXBsYXRlOiBzdHJpbmcpOiBJdGVyYWJsZTxBcmVMaXN0ZW5lcj4ge1xuICAgICAgICAvLyBFeHRyYWN0IGV2ZW50IGxpc3RlbmVycyBmcm9tIHRoZSB0YWdcbiAgICAgICAgY29uc3QgZXZlbnRSZWdleCA9IG5ldyBSZWdFeHAoYEAoW2EtekEtWjAtOSR7dGhpcy5jb25maWcuYmluZGluZ0RlbGltaXRlcn0ke3RoaXMuY29uZmlnLmxpc3RlbmVyRGVsaW1pdGVyfV8tXSspXFxcXHMqPVxcXFxzKlwiKC4qPylcImAsICdnJyk7XG4gICAgICAgIGxldCBldmVudE1hdGNoOiBSZWdFeHBFeGVjQXJyYXkgfCBudWxsO1xuXG4gICAgICAgIHdoaWxlICgoZXZlbnRNYXRjaCA9IGV2ZW50UmVnZXguZXhlYyh0ZW1wbGF0ZSkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCByYXcgPSBldmVudE1hdGNoWzBdO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGV2ZW50TWF0Y2hbMV07XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gZXZlbnRNYXRjaFsyXTtcbiAgICAgICAgICAgIHlpZWxkIHsgbmFtZSwgcmF3LCBoYW5kbGVyIH07XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgaXNCaW5kaW5nUHJvcChwcm9wOiBBcmVQcm9wKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBwcm9wLnJhdy5zdGFydHNXaXRoKCc6JykgXG4gICAgfVxuXG5cbiAgICBleHRyYWN0UHJvcE5hbWUocHJvcDogQXJlUHJvcCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBwcm9wLm5hbWUuc3Vic3RyaW5nKDEpO1xuICAgIH1cblxuXG4gICAgZXh0cmFjdFByb3BWYWx1ZShwcm9wOiBBcmVQcm9wLCBwYXJlbnRTdG9yZTogQXJlU3RvcmUpOiBhbnkge1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcblxuICAgICAgICAgICAgY2FzZSB0aGlzLmlzQmluZGluZ1Byb3AocHJvcCkgJiYgIShwcm9wLnZhbHVlLnN0YXJ0c1dpdGgoJ1xcJycpICYmIHByb3AudmFsdWUuZW5kc1dpdGgoJ1xcJycpKToge1xuICAgICAgICAgICAgICAgIC8vIER5bmFtaWMgYmluZGluZyAoZm9yIG5vdyBvbmx5IHN0cmluZyBsaXRlcmFscyBhcmUgc3VwcG9ydGVkKVxuICAgICAgICAgICAgICAgIC8vIEluIGZ1dHVyZSBpdCBzaG91bGQgc3VwcG9ydCBleHByZXNzaW9ucyBhbmQgZGF0YSBwYXRoc1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRTdG9yZT8uZ2V0KHByb3AudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSB0aGlzLmlzQmluZGluZ1Byb3AocHJvcCkgJiYgKHByb3AudmFsdWUuc3RhcnRzV2l0aCgnXFwnJykgJiYgcHJvcC52YWx1ZS5lbmRzV2l0aCgnXFwnJykpOiB7XG4gICAgICAgICAgICAgICAgLy8gU3RhdGljIGJpbmRpbmdcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcC52YWx1ZS5zdWJzdHJpbmcoMSwgcHJvcC52YWx1ZS5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAvLyBTdGF0aWMgdmFsdWVcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlcGxhY2VJbnRlcnBvbGF0aW9uKHRlbXBsYXRlOiBzdHJpbmcsIGludGVycG9sYXRpb246IEFyZUludGVycG9sYXRpb24gfCBzdHJpbmcsIHZhbHVlOiBhbnkpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBrZXkgPSB0eXBlb2YgaW50ZXJwb2xhdGlvbiA9PT0gJ3N0cmluZycgPyBpbnRlcnBvbGF0aW9uIDogaW50ZXJwb2xhdGlvbi5uYW1lO1xuXG5cbiAgICAgICAgY29uc29sZS5sb2coJ1JlcGxhY2luZyBpbnRlcnBvbGF0aW9uJywga2V5LCAnd2l0aCB2YWx1ZScsIHZhbHVlLCBuZXcgUmVnRXhwKGAke3RoaXMuY29uZmlnLmludGVycG9sYXRpb25EZWxpbWl0ZXJzWzBdfVxcXFxzKiR7a2V5fVxcXFxzKiR7dGhpcy5jb25maWcuaW50ZXJwb2xhdGlvbkRlbGltaXRlcnNbMV19YCwgJ2cnKSk7XG5cbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UobmV3IFJlZ0V4cChgJHt0aGlzLmNvbmZpZy5pbnRlcnBvbGF0aW9uRGVsaW1pdGVyc1swXX1cXFxccyoke2tleX1cXFxccyoke3RoaXMuY29uZmlnLmludGVycG9sYXRpb25EZWxpbWl0ZXJzWzFdfWAsICdnJyksIHZhbHVlICE9PSB1bmRlZmluZWQgPyBTdHJpbmcodmFsdWUpIDogJycpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9DYWxsZXIsIEFfQ29tcG9uZW50LCBBX0NvbnRleHQsIEFfRGVwZW5kZW5jeSwgQV9GZWF0dXJlLCBBX0Zvcm1hdHRlckhlbHBlciwgQV9JbmplY3QsIEFfU2NvcGUsIEFfVFlQRVNfX0VudGl0eUZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfQ29uZmlnLCBBX0xvZ2dlciwgQV9MT0dHRVJfQ09MT1JTLCBBX1NlcnZpY2VGZWF0dXJlcywgQV9TaWduYWxfSW5pdCwgQV9TaWduYWxCdXMsIEFfU2lnbmFsVmVjdG9yLCBBX1NpZ25hbFZlY3RvckZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5pbXBvcnQgeyBBcmVOb2RlRmVhdHVyZXMgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiO1xuaW1wb3J0IHsgQXJlRmVhdHVyZXMgfSBmcm9tIFwiLi4vQXJlQ29tcG9uZW50L0FyZS5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFyZVN0b3JlIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTdG9yZS9BcmVTdG9yZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTY2VuZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU2NlbmUvQXJlU2NlbmUuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlIH0gZnJvbSBcIi4uL0FyZUNvbXBvbmVudC9BcmUuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVJbmRleCB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlSW5kZXgvQXJlSW5kZXguY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlUHJvcHMgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVByb3BzL0FyZVByb3BzLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZUluaXRTaWduYWwgfSBmcm9tIFwic3JjL3NpZ25hbHMvQXJlSW5pdC5zaWduYWxcIjtcbmltcG9ydCB7IEFyZUV2ZW50IH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVFdmVudC9BcmVFdmVudC5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTeW50YXggfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN5bnRheC9BcmVTeW50YXguY29udGV4dFwiO1xuXG5leHBvcnQgY2xhc3MgQXJlQ29tcGlsZXIgZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG5cblxuXG4gICAgcHJvdGVjdGVkIGRlYnVnKG5vZGU6IEFyZU5vZGUsIG1lc3NhZ2U6IHN0cmluZykge1xuXG4gICAgICAgIC8vIGNvbnN0IHNjZW5lID0gQV9Db250ZXh0LnNjb3BlKG5vZGUpLnJlc29sdmUoQXJlU2NlbmUpITtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSBub2RlLnNjb3BlLnJlc29sdmUoQXJlU2NlbmUpITtcblxuICAgICAgICBBX0NvbnRleHQuc2NvcGUodGhpcykucmVzb2x2ZShBX0xvZ2dlcik/LmRlYnVnKFxuICAgICAgICAgICAgJ21hZ2VudGEnLFxuICAgICAgICAgICAgYCR7JyAtICcucmVwZWF0KHNjZW5lLmRlcHRoKX0gJHttZXNzYWdlfWBcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vbkJlZm9yZUxvYWRdKFxuICAgICAgICBAQV9EZXBlbmRlbmN5LlBhcmVudCgpXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSByb290PzogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBX0NvbmZpZykgY29uZmlnPzogQV9Db25maWc8YW55PixcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI/OiBBX0xvZ2dlcixcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gMSkgSW5pdGlhbGl6ZSBTY2VuZSBpZiBub3QgcHJlc2VudFxuICAgICAgICBsb2dnZXI/LmRlYnVnKCdjeWFuJywgYEluaXRpYWxpemluZyBBcmVCcm93c2VyRG9tIGluIEFyZUJyb3dzZXJDb21waWxlci4uLmApO1xuICAgICAgICBjb25zdCBtb3VudFBvaW50ID0gY29uZmlnPy5nZXQoJ0FSRV9NT1VOVF9QT0lOVCcpIHx8ICdhcmUtYXBwJztcblxuICAgICAgICBpZiAoIXJvb3QpIHtcbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKG5ldyBBcmVTY2VuZShtb3VudFBvaW50KSk7XG4gICAgICAgICAgICBzY29wZS5yZWdpc3RlcihuZXcgQXJlSW5kZXgobW91bnRQb2ludCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT0gQ09NUE9ORU5UIE1FVEhPRFMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25FdmVudCxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgZXZlbnQoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQXJlRXZlbnQpIGV2ZW50OiBBcmVFdmVudCxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBX0ZlYXR1cmUpIGZlYXR1cmU6IEFfRmVhdHVyZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgdGhpcy5kZWJ1Zyhub2RlLCBgW0V2ZW50IC0+IEhhbmRsZV0gQ29tcG9uZW50IFRyaWdnZXIgZm9yIDwke25vZGUuYXNlaWQuZW50aXR5fT4gIHdpdGggYXNlaWQgOnske25vZGUuYXNlaWQudG9TdHJpbmcoKX19YCk7XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gc2NvcGUucmVzb2x2ZTxBcmU+KEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShub2RlLmFzZWlkLmVudGl0eSkpO1xuXG4gICAgICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgICAgIGF3YWl0IGZlYXR1cmUuY2hhaW4oY29tcG9uZW50LCBldmVudC5uYW1lLCBzY29wZSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9UWVBFU19fRW50aXR5RmVhdHVyZXMuTE9BRCxcbiAgICAgICAgYmVmb3JlOiAvLiovLFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyBiZWZvcmVMb2FkKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBX0ZlYXR1cmUpIGZlYXR1cmU6IEFfRmVhdHVyZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgdGhpcy5kZWJ1Zyhub2RlLCBgW0xvYWQgLT4gQmVmb3JlXSBDb21wb25lbnQgVHJpZ2dlciBmb3IgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiAgd2l0aCBhc2VpZCA6eyR7bm9kZS5hc2VpZC50b1N0cmluZygpfX1gKTtcblxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBzY29wZS5yZXNvbHZlPEFyZT4oQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5vZGUuYXNlaWQuZW50aXR5KSk7XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudClcbiAgICAgICAgICAgIGF3YWl0IGZlYXR1cmUuY2hhaW4oY29tcG9uZW50LCBBcmVGZWF0dXJlcy5vbkJlZm9yZUxvYWQsIG5vZGUuc2NvcGUpO1xuICAgIH1cblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBX1RZUEVTX19FbnRpdHlGZWF0dXJlcy5MT0FELFxuICAgICAgICBhZnRlcjogLy4qLyxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgYWZ0ZXJMb2FkKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBX0ZlYXR1cmUpIGZlYXR1cmU6IEFfRmVhdHVyZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2ZlYXR1cmUnLCBmZWF0dXJlKTtcblxuICAgICAgICB0aGlzLmRlYnVnKG5vZGUsIGBbTG9hZCAtPiBBZnRlcl0gQ29tcG9uZW50IFRyaWdnZXIgZm9yIDwke25vZGUuYXNlaWQuZW50aXR5fT4gIHdpdGggYXNlaWQgOnske25vZGUuYXNlaWQudG9TdHJpbmcoKX19YCk7XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnQobm9kZSwgc2NvcGUpO1xuXG4gICAgICAgIGlmIChjb21wb25lbnQpXG4gICAgICAgICAgICBhd2FpdCBmZWF0dXJlLmNoYWluKGNvbXBvbmVudCwgQXJlRmVhdHVyZXMub25BZnRlckxvYWQsIG5vZGUuc2NvcGUpO1xuXG4gICAgfVxuXG5cbiAgICBjb21wb25lbnQobm9kZTogQXJlTm9kZSwgc2NvcGU6IEFfU2NvcGUpOiBBcmUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gc2NvcGUucmVzb2x2ZTxBcmU+KEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShub2RlLmFzZWlkLmVudGl0eSkpO1xuICAgIH1cblxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFfVFlQRVNfX0VudGl0eUZlYXR1cmVzLkxPQUQsXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGxvYWQoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVN5bnRheCkgc3ludGF4OiBBcmVTeW50YXgsXG5cbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI/OiBBX0xvZ2dlcixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcblxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudChub2RlLCBzY29wZSk7XG5cbiAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcbiAgICAgICAgICAgIHNjb3BlLnJlc29sdmUoQV9Mb2dnZXIpPy53YXJuaW5nKFxuICAgICAgICAgICAgICAgICdDb21wb25lbnQgTm90IEZvdW5kJyxcbiAgICAgICAgICAgICAgICBgTm8gY29tcG9uZW50IHJlZ2lzdGVyZWQgZm9yIGVudGl0eTogJHtub2RlLmFzZWlkLmVudGl0eX0uIFBsZWFzZSBlbnN1cmUgdGhhdCB0aGUgY29tcG9uZW50IGlzIHJlZ2lzdGVyZWQgaW4gdGhlIHNjb3BlIGJlZm9yZSByZW5kZXJpbmcuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGNvbXBvbmVudC5kYXRhKCk7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gYXdhaXQgY29tcG9uZW50LnRlbXBsYXRlKCk7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IGF3YWl0IGNvbXBvbmVudC5zdHlsZXMoKTtcblxuICAgICAgICBjb25zdCBuZXdOb2RlU2NlbmUgPSBuZXcgQXJlU2NlbmUobm9kZS5hc2VpZCwgdGVtcGxhdGUpO1xuICAgICAgICBjb25zdCBuZXdOb2RlSW5kZXggPSBuZXcgQXJlSW5kZXgobm9kZS5hc2VpZCk7XG4gICAgICAgIGNvbnN0IG5ld05vZGVTdG9yZSA9IG5ldyBBcmVTdG9yZShub2RlLmFzZWlkKTtcbiAgICAgICAgY29uc3QgbmV3Tm9kZVByb3BzID0gbmV3IEFyZVByb3BzKG5vZGUuYXNlaWQpO1xuXG4gICAgICAgIG5vZGUuc2NvcGUucmVnaXN0ZXIobmV3Tm9kZVNjZW5lKTtcbiAgICAgICAgbm9kZS5zY29wZS5yZWdpc3RlcihuZXdOb2RlSW5kZXgpO1xuICAgICAgICBub2RlLnNjb3BlLnJlZ2lzdGVyKG5ld05vZGVTdG9yZSk7XG4gICAgICAgIG5vZGUuc2NvcGUucmVnaXN0ZXIobmV3Tm9kZVByb3BzKTtcblxuXG5cbiAgICAgICAgLy8gLnJlcGxhY2UoL1xccysvZywgJyAnKS50cmltKCk7XG5cbiAgICAgICAgLy8gY29uc3Qgc2NlbmUgPSBzY29wZS5yZXNvbHZlPEFyZVNjZW5lPihBcmVTY2VuZSkhO1xuXG4gICAgICAgIC8vIEFkZCBzdHlsZXMgdG8gdGhlIHNjZW5lXG4gICAgICAgIC8vIGF3YWl0IHNjZW5lLmFkZFN0eWxlcyhub2RlLCBzdHlsZXMpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBzY2VuZSB3aXRoIHRlbXBsYXRlIHRoYXQgY2FuIGJlIG1vZGlmaWVkIHZpYSBsYXRlciBkdXJpbmcgY29tcGlsZSBwaGFzZVxuICAgICAgICAvLyBhd2FpdCBzY2VuZS5yZXNldChub2RlLnRlbXBsYXRlKTtcblxuICAgICAgICBjb25zdCBzdG9yZSA9IHNjb3BlLnJlc29sdmU8QXJlU3RvcmU+KEFyZVN0b3JlKSE7XG5cbiAgICAgICAgLy8gVXBkYXRlIHN0b3JlIHdpdGggY29tcG9uZW50IGRlZmF1bHQgZGF0YVxuICAgICAgICBzdG9yZS5zZXRNdWx0aXBsZShkYXRhKTtcblxuXG4gICAgICAgIC8vIENvcHkgb3JpZ2luYWwgdGVtcGxhdGUgdG8gdGhlIG5vZGVcbiAgICAgICAgbm9kZS50ZW1wbGF0ZSA9IHRlbXBsYXRlXG4gICAgICAgIC8vIC5yZXBsYWNlKC9cXHMrL2csICcgJykudHJpbSgpO1xuICAgICAgICBub2RlLnN0eWxlcyA9IHN0eWxlc1xuXG4gICAgICAgIHRoaXMuZGVidWcobm9kZSwgYExvYWRlZCBjb21wb25lbnQgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiB3aXRoICR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuICAgIH1cblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25Db21waWxlLFxuICAgICAgICBiZWZvcmU6IC8uKi8sXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGJlZm9yZUNvbXBpbGUoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfRmVhdHVyZSkgZmVhdHVyZTogQV9GZWF0dXJlLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICkge1xuICAgICAgICB0aGlzLmRlYnVnKG5vZGUsIGBbQ29tcGlsZSAtPiBCZWZvcmVdIENvbXBvbmVudCBUcmlnZ2VyIGZvciA8JHtub2RlLmFzZWlkLmVudGl0eX0+ICB3aXRoIGFzZWlkIDp7JHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9fWApO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjb3BlLnJlc29sdmU8QXJlPihBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2Uobm9kZS5hc2VpZC5lbnRpdHkpKTtcblxuICAgICAgICBpZiAoY29tcG9uZW50KVxuICAgICAgICAgICAgYXdhaXQgZmVhdHVyZS5jaGFpbihjb21wb25lbnQsIEFyZUZlYXR1cmVzLm9uQmVmb3JlQ29tcGlsZSwgbm9kZS5zY29wZSk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25Db21waWxlLFxuICAgICAgICBhZnRlcjogLy4qLyxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgYWZ0ZXJDb21waWxlKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBX0ZlYXR1cmUpIGZlYXR1cmU6IEFfRmVhdHVyZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcblxuICAgICAgICB0aGlzLmRlYnVnKG5vZGUsIGBbQ29tcGlsZSAtPiBBZnRlcl0gQ29tcG9uZW50IFRyaWdnZXIgZm9yIDwke25vZGUuYXNlaWQuZW50aXR5fT4gIHdpdGggYXNlaWQgOnske25vZGUuYXNlaWQudG9TdHJpbmcoKX19YCk7XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gc2NvcGUucmVzb2x2ZTxBcmU+KEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShub2RlLmFzZWlkLmVudGl0eSkpO1xuXG5cbiAgICAgICAgaWYgKGNvbXBvbmVudClcbiAgICAgICAgICAgIGF3YWl0IGZlYXR1cmUuY2hhaW4oY29tcG9uZW50LCBBcmVGZWF0dXJlcy5vbkFmdGVyQ29tcGlsZSwgbm9kZS5zY29wZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGlsZXMgdGhlIEFyZU5vZGUgdXNpbmcgQXJlQ29tcGlsZXJcbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbG9nZ2VyIFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uQ29tcGlsZSxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgY29tcGlsZShcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICkge1xuXG4gICAgICAgIC8vIENvbXBpbGF0aW9uIGxvZ2ljIGNhbiBiZSBhZGRlZCBoZXJlXG5cbiAgICB9XG5cblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25CZWZvcmVSZW5kZXIsXG4gICAgICAgIGJlZm9yZTogLy4qLyxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgYmVmb3JlUmVuZGVyKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBX0ZlYXR1cmUpIGZlYXR1cmU6IEFfRmVhdHVyZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgdGhpcy5kZWJ1Zyhub2RlLCBgW1JlbmRlciAtPiBCZWZvcmVdIENvbXBvbmVudCBUcmlnZ2VyIGZvciA8JHtub2RlLmFzZWlkLmVudGl0eX0+ICB3aXRoIGFzZWlkIDp7JHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9fWApO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjb3BlLnJlc29sdmU8QXJlPihBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2Uobm9kZS5hc2VpZC5lbnRpdHkpKTtcblxuICAgICAgICBpZiAoY29tcG9uZW50KVxuICAgICAgICAgICAgYXdhaXQgZmVhdHVyZS5jaGFpbihjb21wb25lbnQsIEFyZUZlYXR1cmVzLm9uQmVmb3JlUmVuZGVyLCBub2RlLnNjb3BlKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZU5vZGVGZWF0dXJlcy5vbkFmdGVyUmVuZGVyLFxuICAgICAgICBhZnRlcjogLy4qLyxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgYWZ0ZXJSZW5kZXIoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfRmVhdHVyZSkgZmVhdHVyZTogQV9GZWF0dXJlLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICkge1xuICAgICAgICB0aGlzLmRlYnVnKG5vZGUsIGBbUmVuZGVyIC0+IEFmdGVyXSBDb21wb25lbnQgVHJpZ2dlciBmb3IgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiAgd2l0aCBhc2VpZCA6eyR7bm9kZS5hc2VpZC50b1N0cmluZygpfX1gKTtcblxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBzY29wZS5yZXNvbHZlPEFyZT4oQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5vZGUuYXNlaWQuZW50aXR5KSk7XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudClcbiAgICAgICAgICAgIGF3YWl0IGZlYXR1cmUuY2hhaW4oY29tcG9uZW50LCBBcmVGZWF0dXJlcy5vbkFmdGVyUmVuZGVyLCBub2RlLnNjb3BlKTtcblxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgQXJlTm9kZSBpbnRvIHRoZSBBcmVTY2VuZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzY29wZSBcbiAgICAgKiBAcGFyYW0gbm9kZSBcbiAgICAgKiBAcGFyYW0gc2NlbmUgXG4gICAgICogQHBhcmFtIGxvZ2dlciBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZU5vZGVGZWF0dXJlcy5vblJlbmRlcixcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgcmVuZGVyKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHBhcmVudFNjZW5lOiBBcmVTY2VuZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcblxuICAgICAgICB0aGlzLmRlYnVnKG5vZGUsIGBSZW5kZXJpbmcgbm9kZSA8JHtub2RlLmFzZWlkLmVudGl0eX0+IGludG8gJHtzY2VuZS5uYW1lfWApO1xuXG4gICAgICAgIGZvciAoY29uc3QgbmV3Tm9kZSBvZiBzY2VuZS5ub2RlcygpKSB7XG5cbiAgICAgICAgICAgIHNjZW5lLmF0dGFjaChuZXdOb2RlKTtcblxuICAgICAgICAgICAgYXdhaXQgbmV3Tm9kZS5sb2FkKCk7XG5cbiAgICAgICAgICAgIGF3YWl0IG5ld05vZGUuY29tcGlsZSgpO1xuXG4gICAgICAgIH1cblxuXG4gICAgICAgIHRoaXMuZGVidWcobm9kZSwgYE5vZGUgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiByZW5kZXJlZCBzdWNjZXNzZnVsbHkuYCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBBcmVOb2RlXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25VcGRhdGUsXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIHVwZGF0ZShcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcblxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICkge1xuXG4gICAgfVxuXG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9UWVBFU19fRW50aXR5RmVhdHVyZXMuREVTVFJPWSxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgZGVzdHJveSgpIHtcblxuICAgIH1cblxuXG5cblxuXG59IiwgImltcG9ydCB7IEFfU2lnbmFsIH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5cblxuXG5cbmV4cG9ydCBjbGFzcyBBcmVTaWduYWw8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+PiBleHRlbmRzIEFfU2lnbmFsPFQ+IHtcblxuXG59IiwgImltcG9ydCB7IEFyZVNpZ25hbCB9IGZyb20gXCIuLi9lbnRpdGllcy9BcmVTaWduYWwvQXJlU2lnbmFsLmVudGl0eVwiO1xuXG5leHBvcnQgY2xhc3MgQXJlSW5pdFNpZ25hbCBleHRlbmRzIEFyZVNpZ25hbDx7IHJlYWR5OiBib29sZWFuIH0+IHtcbiAgICBzdGF0aWMgYXN5bmMgZGVmYXVsdCgpOiBQcm9taXNlPEFyZVNpZ25hbCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICByZXR1cm4gbmV3IEFyZUluaXRTaWduYWwoeyBkYXRhOiB7IHJlYWR5OiBmYWxzZSB9IH0pO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9EZXBlbmRlbmN5LCBBX0ZlYXR1cmUsIEFfSW5qZWN0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfQ29uZmlnLCBBX0xvZ2dlciwgQV9Qb2x5ZmlsbCwgQV9TZXJ2aWNlLCBBX1NlcnZpY2VGZWF0dXJlcywgQV9TaWduYWwgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFyZUNvbXBpbGVyIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29tcG9uZW50cy9BcmVDb21waWxlci9BcmVDb21waWxlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFyZVNjZW5lIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTY2VuZS9BcmVTY2VuZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVJbml0U2lnbmFsIH0gZnJvbSBcInNyYy9zaWduYWxzL0FyZUluaXQuc2lnbmFsXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQXJlQXBwIGV4dGVuZHMgQV9TZXJ2aWNlIHtcblxuICAgIGdldCByb290KCk6IEFyZVNjZW5lIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUucmVzb2x2ZTxBcmVTY2VuZT4oQXJlU2NlbmUpITtcbiAgICB9XG5cblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25BZnRlckxvYWRdKFxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG5cbiAgICAgICAgbG9nZ2VyLmluZm8oJ2N5YW4nLCBgVUkgQXBwbGljYXRpb24gbW91bnRlZCBhdCA8JHt0aGlzLnJvb3QubmFtZX0+YCk7XG4gICAgfVxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vblN0YXJ0XShcblxuICAgICAgICBAQV9EZXBlbmRlbmN5LlJlcXVpcmVkKClcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcblxuICAgICAgICBAQV9JbmplY3QoQXJlQ29tcGlsZXIpIGNvbXBpbGVyOiBBcmVDb21waWxlcixcblxuICAgICAgICBAQV9JbmplY3QoQV9Db25maWcpIGNvbmZpZz86IEFfQ29uZmlnPGFueT4sXG5cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gbmV3IEFyZUluaXRTaWduYWwoeyBkYXRhOiB7IHJlYWR5OiB0cnVlIH0gfSk7XG5cbiAgICAgICAgYXdhaXQgc2lnbmFsLm5leHQodGhpcy5zY29wZSk7XG4gICAgfVxuXG59IiwgImltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5pbXBvcnQgeyBBcmVJbmRleCB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlSW5kZXgvQXJlSW5kZXguY29udGV4dFwiO1xuaW1wb3J0IHsgQV9Db25maWcsIEFfTG9nZ2VyLCBBX1BvbHlmaWxsLCBBX1NlcnZpY2VGZWF0dXJlcywgQV9TaWduYWxWZWN0b3IsIEFfU2lnbmFsVmVjdG9yRmVhdHVyZXMgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFfQ2FsbGVyLCBBX0NvbXBvbmVudCwgQV9Db250YWluZXIsIEFfRGVwZW5kZW5jeSwgQV9GZWF0dXJlLCBBX0Zvcm1hdHRlckhlbHBlciwgQV9JbmplY3QsIEFfU2NvcGUsIEFfVFlQRVNfX0VudGl0eUZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFyZU5vZGVGZWF0dXJlcyB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFyZVN0b3JlIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTdG9yZS9BcmVTdG9yZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVQcm9wcyB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlUHJvcHMvQXJlUHJvcHMuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlIH0gZnJvbSBcIi4uL0FyZUNvbXBvbmVudC9BcmUuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVDb21waWxlciB9IGZyb20gXCIuLi9BcmVDb21waWxlci9BcmVDb21waWxlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFyZVNjZW5lIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTY2VuZS9BcmVTY2VuZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVFdmVudCB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlRXZlbnQvQXJlRXZlbnQuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlU3ludGF4IH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTeW50YXgvQXJlU3ludGF4LmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZUluaXRTaWduYWwgfSBmcm9tIFwic3JjL3NpZ25hbHMvQXJlSW5pdC5zaWduYWxcIjtcblxuLyoqXG4gKiBCcm93c2VyIERPTSBzcGVjaWZpYyBzY2VuZSBpbXBsZW1lbnRhdGlvblxuICogSGFuZGxlcyBhbGwgYnJvd3Nlci9ET00gcmVsYXRlZCBvcGVyYXRpb25zIGFuZCBwcm92aWRlcyB3ZWItc3BlY2lmaWMgY29tcGlsYXRpb24gbG9naWNcbiAqL1xuZXhwb3J0IGNsYXNzIEFyZUJyb3dzZXJDb21waWxlciBleHRlbmRzIEFyZUNvbXBpbGVyIHtcblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25CZWZvcmVMb2FkXShcbiAgICAgICAgQEFfRGVwZW5kZW5jeS5QYXJlbnQoKVxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgcm9vdD86IEFyZVNjZW5lLFxuICAgICAgICBAQV9JbmplY3QoQV9Db25maWcpIGNvbmZpZz86IEFfQ29uZmlnPGFueT4sXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIDEpIEluaXRpYWxpemUgU2NlbmUgaWYgbm90IHByZXNlbnRcbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZygnY3lhbicsIGBJbml0aWFsaXppbmcgQXJlU2NlbmUgaW4gQXJlQnJvd3NlckNvbXBpbGVyLi4uYCk7XG4gICAgICAgIGNvbnN0IG1vdW50UG9pbnRJRCA9IGNvbmZpZz8uZ2V0KCdBUkVfTU9VTlRfUE9JTlQnKSB8fCAnYXJlLWFwcCc7XG5cbiAgICAgICAgaWYgKCFyb290KSB7XG4gICAgICAgICAgICBjb25zdCBtb3VudFBvaW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vdW50UG9pbnRJRCk7XG5cbiAgICAgICAgICAgIGlmICghbW91bnRQb2ludEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1vdW50IHBvaW50IHdpdGggaWQgJyR7bW91bnRQb2ludElEfScgbm90IGZvdW5kIGluIHRoZSBET00uYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKG5ldyBBcmVTY2VuZShtb3VudFBvaW50SUQsIG1vdW50UG9pbnRFbGVtZW50LmlubmVySFRNTCkpO1xuICAgICAgICAgICAgc2NvcGUucmVnaXN0ZXIobmV3IEFyZUluZGV4KG1vdW50UG9pbnRJRCkpO1xuXG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuYnVpbGRTY2VuZUluZGV4KHNjb3BlLnJlc29sdmU8QXJlU2NlbmU+KEFyZVNjZW5lKSEpO1xuICAgICAgICB9XG5cbiAgICB9XG5cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PSBDT01QT05FTlQgTUVUSE9EUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogQ29tcGlsZXMgdGhlIEFyZU5vZGUgdXNpbmcgQXJlQ29tcGlsZXJcbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbG9nZ2VyIFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uQ29tcGlsZSxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgY29tcGlsZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdHVhbCBOb2RlIG5vIGJlIGNvbXBpbGVkXG4gICAgICAgICAqL1xuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHbG9iYWwgU3ludGF4IERlZmluaXRpb24gZm9yIHBhcnNpbmcgbWFya3VwXG4gICAgICAgICAqL1xuICAgICAgICBAQV9JbmplY3QoQXJlU3ludGF4KSBzeW50YXg6IEFyZVN5bnRheCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjb3BlIG9mIHRoZSBDb21waWxhdGlvbiBGZWF0dXJlIC0gYWN0dWFsbHkgdGhlIEFyZU5vZGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcblxuICAgICAgICBAQV9JbmplY3QoQXJlUHJvcHMpIHByb3BzOiBBcmVQcm9wcyxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVN0b3JlKSBzdG9yZTogQXJlU3RvcmUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJlbnQgU2NlbmUgd2hlcmUgdGhlIG5vZGUgaXMgcmVnaXN0ZXJlZFxuICAgICAgICAgKi9cbiAgICAgICAgQEFfRGVwZW5kZW5jeS5QYXJlbnQoKVxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHBhcmVudFNjZW5lOiBBcmVTY2VuZSxcbiAgICAgICAgQEFfRGVwZW5kZW5jeS5QYXJlbnQoKVxuICAgICAgICBAQV9JbmplY3QoQXJlU3RvcmUpIHBhcmVudFN0b3JlOiBBcmVTdG9yZSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vZGVzIG93bmVkIFNjZW5lXG4gICAgICAgICAqIFxuICAgICAgICAgKiBbIV0gTm90ZSwgbm90IGV2ZXJ5IG5vZGUgaGFzIGEgc2NlbmUgLSBlLmcuIGlmIGl0J3Mgbm90IGEgY3VzdG9tIGNvbXBvbmVudFxuICAgICAgICAgKi9cbiAgICAgICAgQEFfRGVwZW5kZW5jeS5GbGF0KClcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZT86IEFyZVNjZW5lLFxuXG5cbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI/OiBBX0xvZ2dlcixcbiAgICApIHtcblxuICAgICAgICB0aGlzLmRlYnVnKG5vZGUsIGBDb21waWxpbmcgbm9kZSA8JHtub2RlLmFzZWlkLmVudGl0eX0+IGluIFNjZW5lIDwke3BhcmVudFNjZW5lLm5hbWV9PmApO1xuXG4gICAgICAgIGlmICghc2NlbmUpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKCF0aGlzLmNvbXBvbmVudChub2RlLCBzY29wZSkpIHtcbiAgICAgICAgICAgIHRoaXMuZGVidWcobm9kZSwgYE5vZGUgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiBpcyBub3QgYSByZWdpc3RlcmVkIGNvbXBvbmVudC4gU2tpcHBpbmcgY29tcGlsYXRpb24uYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIDEpIGZpcnN0IERlYWwgV0l0aCBpbnRlcnBvbGF0aW9ucyAtIHJlcGxhY2UgdGhlbSB3aXRoIHdyYXBwZWQgTm9kZXMgXG4gICAgICAgIGlmIChub2RlLmFzZWlkLmVudGl0eSAhPT0gJ2FyZS1pbnRlcnBvbGF0aW9uJylcbiAgICAgICAgICAgIGZvciAoY29uc3QgaW50ZXJwb2xhdGlvbiBvZiBzeW50YXguZXh0cmFjdEludGVycG9sYXRpb25zKG5vZGUudGVtcGxhdGUpKSB7XG4gICAgICAgICAgICAgICAgbm9kZS50ZW1wbGF0ZSA9IHN5bnRheC5yZXBsYWNlSW50ZXJwb2xhdGlvbihub2RlLnRlbXBsYXRlLCBpbnRlcnBvbGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBgPGFyZS1pbnRlcnBvbGF0aW9uIDp2YWx1ZT1cIiR7aW50ZXJwb2xhdGlvbi5uYW1lfVwiPjwvYXJlLWludGVycG9sYXRpb24+YFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcmt1cCBpcyB0aGUgcmF3IHBsYWNlbWVudCB3aXRoIGFsbCBiaW5kaW5ncyBhbmQgZXZlbnRzXG4gICAgICAgICAqIEV4YW1wbGU6IGA8Y3VzdG9tLWNvbXBvbmVudCA6cHJvcD1cInZhbHVlXCI+IDxkaXY+SW5uZXIgQ29udGVudDwvZGl2PiA8L2N1c3RvbS1jb21wb25lbnQ+YFxuICAgICAgICAgKiBcbiAgICAgICAgICogVGVtcGxhdGUgaXMgdGFyZ2V0IHJlcGxhY2VtZW50IHN0cmluZyB3aGVyZSBhbGwgYmluZGluZ3Mgc2hvdWxkIGdvIGluIHBsYWNlXG4gICAgICAgICAqIEV4YW1wbGU6IGA8ZGl2PiA8aDI+e3tJbnRlcnBvbGF0aW9ufX08L2gyPiA8YS1zbG90Lz4gPC9kaXY+YFxuICAgICAgICAgKiBcbiAgICAgICAgICogU3R5bGVzIGlzIHRoZSByYXcgc3R5bGVzIHN0cmluZyB3aXRoIGFsbCBiaW5kaW5nc1xuICAgICAgICAgKiBFeGFtcGxlOiBgXG4gICAgICAgICAqICAgICAgaDIge1xuICAgICAgICAgKiAgICAgICAgICBjb2xvcjoge3t0aXRsZUNvbG9yfX07XG4gICAgICAgICAqICAgICAgfVxuICAgICAgICAgKiAgYFxuICAgICAgICAgKiBcbiAgICAgICAgICogXG4gICAgICAgICAqIFRoZW4gd2UgbmVlZCB0bzpcbiAgICAgICAgICovXG5cbiAgICAgICAgbGV0IHRlbXBsYXRlID0gbm9kZS50ZW1wbGF0ZSB8fCAnJztcbiAgICAgICAgbGV0IHN0eWxlcyA9IG5vZGUuc3R5bGVzIHx8ICcnO1xuXG5cblxuICAgICAgICBpZiAoc2NlbmUgJiYgIXNjZW5lLnJlbmRlcmVkKSB7XG4gICAgICAgICAgICBsb2dnZXI/LmRlYnVnKCdyZWQnLFxuICAgICAgICAgICAgICAgIGAkeycgLSAnLnJlcGVhdChzY2VuZS5kZXB0aCl9YCArXG4gICAgICAgICAgICAgICAgYEFyZUNvbXBpbGVyOiBCdWlsZGluZyBTY2VuZSBJbmRleCBmb3IgPCR7c2NlbmUubmFtZX0+IGR1cmluZyBjb21waWxhdGlvbiBvZiBOb2RlIDwke25vZGUuYXNlaWQuZW50aXR5fT5gLFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgYXdhaXQgc2NlbmUucmVzZXQodGVtcGxhdGUpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5idWlsZFNjZW5lSW5kZXgoc2NlbmUpO1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyAxKSBleHRyYWN0IGFsbCBwcm9wcyBmcm9tIHRoZSBtYXJrdXAgYW5kIHNldCB0aGVtIGluIHRoZSBwcm9wcyBzdG9yZVxuICAgICAgICBmb3IgKGNvbnN0IHByb3Agb2Ygc3ludGF4LmV4dHJhY3RQcm9wcyhub2RlLm1hcmt1cCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBzeW50YXguZXh0cmFjdFByb3BOYW1lKHByb3ApO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzeW50YXguZXh0cmFjdFByb3BWYWx1ZShwcm9wLCBwYXJlbnRTdG9yZSlcblxuICAgICAgICAgICAgbG9nZ2VyPy5sb2coJ2dyZWVuJyxcbiAgICAgICAgICAgICAgICBgJHsnIC0gJy5yZXBlYXQoc2NlbmUgPyBzY2VuZS5kZXB0aCA6IDApfWAgK1xuICAgICAgICAgICAgICAgIGBbQ29tcGlsZSAtPiBBREQgLT4gUHJvcF0gJyR7bmFtZX0nIGluIGNvbXBvbmVudCA8JHtub2RlLmFzZWlkLmVudGl0eX0+IHdpdGggdmFsdWUgPSAke3ZhbHVlfWBcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHByb3BzLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIDIpIHJlcGxhY2UgYWxsIHN0eWxlIGludGVycG9sYXRpb25zIGluIHRoZSBzdHlsZXNcbiAgICAgICAgZm9yIChjb25zdCBpbnRlcnBvbGF0aW9uIG9mIHN5bnRheC5leHRyYWN0SW50ZXJwb2xhdGlvbnMoc3R5bGVzKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzdG9yZS5nZXQoaW50ZXJwb2xhdGlvbi5uYW1lKTtcblxuICAgICAgICAgICAgc3R5bGVzID0gc3ludGF4LnJlcGxhY2VJbnRlcnBvbGF0aW9uKHN0eWxlcywgaW50ZXJwb2xhdGlvbiwgdmFsdWUpO1xuICAgICAgICB9XG5cblxuXG4gICAgICAgIGF3YWl0IHNjZW5lLmFkZFN0eWxlcyhub2RlLCBzdHlsZXMpO1xuXG5cbiAgICAgICAgLy8gMykgZ28gdGhyb3VnaCBPTkxZIG5vbi1jdXN0b20gY29tcG9uZW50IG5vZGVzIGFuZCBmaW5kIGJpbmRpbmdzIGFuZCBldmVudHNcbiAgICAgICAgZm9yIChjb25zdCBzY2VuZU5vZGUgb2Ygc2NlbmUubm9kZXMoKSkge1xuXG4gICAgICAgICAgICBpZiAoc3ludGF4LmlzQ3VzdG9tTm9kZShzY2VuZU5vZGUpKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGVkID0gc2NlbmUuc2NvcGUucmVzb2x2ZUZsYXQ8QXJlTm9kZT4oQXJlTm9kZSwge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNlaWQ6IHNjZW5lTm9kZS5hc2VpZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIGlmICghZXhpc3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXI/LmRlYnVnKCdncmVlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBgJHsnIC0gJy5yZXBlYXQoc2NlbmUuZGVwdGgpfWAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYFtDb21waWxlIC0+IEFERCAtPiBDb21wb25lbnRdIEF0dGFjaGluZyBjdXN0b20gY29tcG9uZW50IDwke3NjZW5lTm9kZS5hc2VpZC5lbnRpdHl9PiBBU0VJRDogJHtzY2VuZU5vZGUuYXNlaWQudG9TdHJpbmcoKX0gdG8gU2NlbmUgPCR7c2NlbmUubmFtZX0+YFxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIHNjZW5lLmF0dGFjaChzY2VuZU5vZGUpXG5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2NlbmVOb2RlLmxvYWQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhd2FpdCBzY2VuZU5vZGUuY29tcGlsZSgpO1xuXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgZm9yIChjb25zdCBpbnRlcnBvbGF0aW9uIG9mIHN5bnRheC5leHRyYWN0SW50ZXJwb2xhdGlvbnMoc2NlbmVOb2RlLm1hcmt1cCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHN0b3JlLmdldChpbnRlcnBvbGF0aW9uLm5hbWUpIHx8IHByb3BzLmdldChpbnRlcnBvbGF0aW9uLm5hbWUpO1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgc2NlbmUuYmluZChzY2VuZU5vZGUsIGludGVycG9sYXRpb24ubmFtZSwgdmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgbG9nZ2VyPy5kZWJ1ZygnZ3JlZW4nLFxuICAgICAgICAgICAgICAgICAgICBgJHsnIC0gJy5yZXBlYXQoc2NlbmUuZGVwdGgpfWAgK1xuICAgICAgICAgICAgICAgICAgICBgW0NvbXBpbGUgLT4gQUREIC0+IEJpbmRpbmddICcke2ludGVycG9sYXRpb24ubmFtZX0nIHdpdGggdmFsdWUgJyR7dmFsdWV9JyBpbiBjb21wb25lbnQgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiBmb3IgZWxlbWVudCA8JHtzY2VuZU5vZGUuYXNlaWQuZW50aXR5fT4gQVNFSUQgOiAke3NjZW5lTm9kZS5hc2VpZC50b1N0cmluZygpfTsgaGFzaGVzOlske3NjZW5lLmNvbXB1dGVIYXNoKHNjZW5lTm9kZSl9Ojoke3NjZW5lLmdldEhhc2goc2NlbmVOb2RlKX1dYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDNiKSBleHRyYWN0IGFsbCBsaXN0ZW5lcnMgYW5kIHJlZ2lzdGVyIHRoZW0gaW4gdGhlIHNjZW5lXG5cblxuICAgICAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lcnMgb2Ygc3ludGF4LmV4dHJhY3RMaXN0ZW5lcnMoc2NlbmVOb2RlLm1hcmt1cCkpIHtcblxuICAgICAgICAgICAgICAgIGF3YWl0IHNjZW5lLmFkZExpc3RlbmVyKGxpc3RlbmVycy5uYW1lLCBsaXN0ZW5lcnMuaGFuZGxlciwgbm9kZSwgc2NlbmVOb2RlKTtcblxuICAgICAgICAgICAgICAgIC8vIHRoaXMuZGVidWcoc2NlbmVOb2RlLCBgW0NvbXBpbGUgLT4gQUREIC0+IExpc3RlbmVyXSAnJHtsaXN0ZW5lcnMubmFtZX0nIHdpdGggaGFuZGxlciAnJHtsaXN0ZW5lcnMuaGFuZGxlcn0nIGluIGNvbXBvbmVudCA8JHtub2RlLmFzZWlkLmVudGl0eX0+IGZvciBlbGVtZW50IDwke3NjZW5lTm9kZS5hc2VpZC5lbnRpdHl9PiBBU0VJRCAnJHtzY2VuZU5vZGUuYXNlaWQudG9TdHJpbmcoKX0nYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG5cblxuXG4gICAgICAgIHRoaXMuZGVidWcobm9kZSwgYE5vZGUgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiBjb21waWxlZCBzdWNjZXNzZnVsbHkuYCk7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIEFyZU5vZGVcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZU5vZGVGZWF0dXJlcy5vblVwZGF0ZSxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgdXBkYXRlKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgKSB7XG4gICAgICAgIGxvZ2dlcj8uZGVidWcoJ3JlZCcsXG4gICAgICAgICAgICAnICcsXG4gICAgICAgICAgICBgQXJlQnJvd3NlckNvbXBpbGVyOiBVcGRhdGluZyBOb2RlIDwke25vZGUuYXNlaWQuZW50aXR5fT4gaW4gU2NlbmUgPCR7c2NlbmUubmFtZX0+YCxcbiAgICAgICAgICAgICcgJ1xuICAgICAgICApO1xuXG4gICAgICAgIGF3YWl0IG5vZGUuY29tcGlsZSgpO1xuXG4gICAgICAgIGxvZ2dlcj8uZGVidWcoJ3JlZCcsXG4gICAgICAgICAgICAnICcsXG4gICAgICAgICAgICBgQXJlQnJvd3NlckNvbXBpbGVyOiBOb2RlIDwke25vZGUuYXNlaWQuZW50aXR5fT4gdXBkYXRlZCBzdWNjZXNzZnVsbHkuYCxcbiAgICAgICAgICAgICcgJ1xuICAgICAgICApO1xuXG4gICAgICAgIC8vICBBbmQgdGhlbiByZS1tb3VudCB0aGUgcGFyZW50IHNjZW5lXG4gICAgICAgIC8vIGJlY2F1c2UgY3VycmVudCBzY2VuZSBpcyBhIGN1cnJlbnQgbm9kZSAtIGNvbnRlbnQgXG4gICAgICAgIGF3YWl0IHRoaXMubW91bnRTY2VuZShzY2VuZSk7XG5cbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZygncmVkJyxcbiAgICAgICAgICAgICcgJyxcbiAgICAgICAgICAgIGBBcmVCcm93c2VyQ29tcGlsZXI6IFNjZW5lIDwke3NjZW5lLm5hbWV9PiBtb3VudGVkIHN1Y2Nlc3NmdWxseSBhZnRlciBOb2RlIDwke25vZGUuYXNlaWQuZW50aXR5fT4gdXBkYXRlLmAsXG4gICAgICAgICAgICAnICdcbiAgICAgICAgKTtcbiAgICB9XG5cblxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFfVFlQRVNfX0VudGl0eUZlYXR1cmVzLkRFU1RST1ksXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGRlc3Ryb3koKSB7XG5cbiAgICB9XG5cblxuICAgIGNvbXB1dGVQYXRoKG5vZGU6IE5vZGUsIHZpcnR1YWw6IEVsZW1lbnQpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBwYXRoOiBudW1iZXJbXSA9IFtdO1xuICAgICAgICBsZXQgY3VycmVudDogTm9kZSB8IG51bGwgPSBub2RlO1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IHZpcnR1YWwpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IEFycmF5LmZyb20ocGFyZW50LmNoaWxkTm9kZXMpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIobiA9PiAobiBhcyBhbnkpLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSlcbiAgICAgICAgICAgICAgICAgICAgLmluZGV4T2YoY3VycmVudCk7XG5cbiAgICAgICAgICAgICAgICBwYXRoLnVuc2hpZnQoaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudCA9IHBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXRoLmpvaW4oJy4nKTtcbiAgICB9XG5cblxuICAgIGdldEVsZW1lbnRCeXBhdGgoXG4gICAgICAgIHJvb3Q6IEVsZW1lbnQsXG4gICAgICAgIHBhdGg6IHN0cmluZ1xuICAgICk6IEVsZW1lbnQgfCBudWxsIHtcbiAgICAgICAgY29uc3QgaW5kaWNlcyA9IHBhdGguc3BsaXQoJy4nKS5tYXAoaW5kZXggPT4gcGFyc2VJbnQoaW5kZXgsIDEwKSk7XG4gICAgICAgIGxldCBjdXJyZW50OiBOb2RlIHwgbnVsbCA9IHJvb3Q7XG5cbiAgICAgICAgZm9yIChjb25zdCBpbmRleCBvZiBpbmRpY2VzKSB7XG4gICAgICAgICAgICAvLyBvbmx5IGVsZW1lbnQgbm9kZXNcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRDaGlsZHJlbiA9IEFycmF5LmZyb20oY3VycmVudC5jaGlsZE5vZGVzKS5maWx0ZXIobiA9PiAobiBhcyBhbnkpLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSk7XG4gICAgICAgICAgICBjdXJyZW50ID0gZWxlbWVudENoaWxkcmVuW2luZGV4XTtcbiAgICAgICAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGN1cnJlbnQgYXMgRWxlbWVudDtcbiAgICB9XG5cblxuICAgIGJ1aWxkU2NlbmVJbmRleChcbiAgICAgICAgc2NlbmU6IEFyZVNjZW5lLFxuICAgICkge1xuICAgICAgICBjb25zdCB2aXJ0dWFsID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhzY2VuZS50ZW1wbGF0ZSwgJ3RleHQvaHRtbCcpO1xuXG4gICAgICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIodmlydHVhbC5ib2R5LCBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCk7XG5cbiAgICAgICAgbGV0IGN1cnJlbnQ6IE5vZGUgfCBudWxsID0gd2Fsa2VyLm5leHROb2RlKCk7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcblxuICAgICAgICAgICAgY29uc3QgcGF0aDogc3RyaW5nID0gdGhpcy5jb21wdXRlUGF0aChjdXJyZW50LCB2aXJ0dWFsLmJvZHkpO1xuXG4gICAgICAgICAgICBjb25zdCBhcmVOb2RlID0gbmV3IEFyZU5vZGUoe1xuICAgICAgICAgICAgICAgIHNjb3BlOiBzY2VuZS5uYW1lLFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogY3VycmVudCAmJiAoY3VycmVudCBhcyBFbGVtZW50KS50YWdOYW1lID8gKGN1cnJlbnQgYXMgRWxlbWVudCkudGFnTmFtZS50b0xvd2VyQ2FzZSgpIDogJ3RleHQtbm9kZScsXG4gICAgICAgICAgICAgICAgbWFya3VwOiBjdXJyZW50IGluc3RhbmNlb2YgRWxlbWVudCA/IGN1cnJlbnQub3V0ZXJIVE1MIDogY3VycmVudC50ZXh0Q29udGVudCB8fCAnJyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzY2VuZS5pbmRleC5hZGQoYXJlTm9kZSwgcGF0aCk7XG5cbiAgICAgICAgICAgIGN1cnJlbnQgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cblxuICAgIGFzeW5jIG1vdW50U2NlbmUoXG4gICAgICAgIHNjZW5lOiBBcmVTY2VuZSxcbiAgICAgICAgbW91bnRQb2ludEVsZW1lbnQ/OiBFbGVtZW50IHwgbnVsbCxcbiAgICApOiBQcm9taXNlPEVsZW1lbnQ+IHtcbiAgICAgICAgY29uc3Qgc3ludGF4ID0gc2NlbmUuc2NvcGUucmVzb2x2ZTxBcmVTeW50YXg+KEFyZVN5bnRheCkhO1xuICAgICAgICBjb25zdCBsb2dnZXIgPSBzY2VuZS5zY29wZS5yZXNvbHZlPEFfTG9nZ2VyPihBX0xvZ2dlcikhO1xuXG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnY3lhbicsXG4gICAgICAgICAgICBgJHsnIC0gJy5yZXBlYXQoc2NlbmUuZGVwdGgpfWAgKyBgQXJlQnJvd3NlckNvbXBpbGVyOiBNb3VudGluZyBTY2VuZSA8JHtzY2VuZS5uYW1lfT5gLFxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghbW91bnRQb2ludEVsZW1lbnQpXG4gICAgICAgICAgICBtb3VudFBvaW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNjZW5lLmlkISkgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2FzZWlkPVwiJHtzY2VuZS5pZH1cIl1gKTtcblxuICAgICAgICBpZiAoIW1vdW50UG9pbnRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1vdW50IHBvaW50IHdpdGggaWQgJyR7c2NlbmUuaWR9JyBub3QgZm91bmQgaW4gdGhlIERPTS5gKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihtb3VudFBvaW50RWxlbWVudCwgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQpO1xuXG4gICAgICAgIGxldCBjdXJyZW50OiBOb2RlIHwgbnVsbCA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuXG4gICAgICAgIGNvbnN0IHRyZWVXYWxrZXJTdGFjazogTWFwPE5vZGUsIHN0cmluZz4gPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGg6IHN0cmluZyA9IHRoaXMuY29tcHV0ZVBhdGgoY3VycmVudCwgbW91bnRQb2ludEVsZW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgICAgIHRyZWVXYWxrZXJTdGFjay5zZXQoY3VycmVudCwgcGF0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnJlbnQgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgZm9yIChjb25zdCBbY3VycmVudCwgcGF0aF0gb2YgdHJlZVdhbGtlclN0YWNrKSB7XG5cblxuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHNjZW5lLmluZGV4Lm5vZGVPZihwYXRoKSE7XG5cbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnY3lhbicsIGAkeycgLSAnLnJlcGVhdChzY2VuZS5kZXB0aCl9YCArIGBbJHtwYXRofV0gLSBDVVJSRU5UIE5PREU6ICR7KGN1cnJlbnQgYXMgRWxlbWVudCkudGFnTmFtZS50b0xvd2VyQ2FzZSgpfSA6OiBNQVBQRUQgQVNFSUQ6ICR7bm9kZSA/IG5vZGUuYXNlaWQudG9TdHJpbmcoKSA6ICdOT1QgRk9VTkQgSU4gSU5ERVgnfWApO1xuXG4gICAgICAgICAgICBpZiAoIW5vZGUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cblxuXG4gICAgICAgICAgICBpZiAoIXNjZW5lLmhhc0NoYW5nZXNGb3Iobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ21hZ2VudGEnLFxuICAgICAgICAgICAgICAgICAgICBgJHsnIC0gJy5yZXBlYXQoc2NlbmUuZGVwdGgpfWAgKyBgWyR7cGF0aH1dIC0gTk8gQ0hBTkdFUyBERVRFQ1RFRCBGT1IgTk9ERSA8JHtub2RlLmFzZWlkLmVudGl0eX0+LiBhc2VpZDogJHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9IFNLSVBQSU5HIE1PVU5USU5HLiBoYXNoZXM6IFske3NjZW5lLmNvbXB1dGVIYXNoKG5vZGUpfTo6JHtzY2VuZS5nZXRIYXNoKG5vZGUpfV1gXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdncmVlbicsIGAkeycgLSAnLnJlcGVhdChzY2VuZS5kZXB0aCl9YCArIGBbJHtwYXRofV0gLSBNT1VOVElORyBOT0RFIDwke25vZGUuYXNlaWQuZW50aXR5fT5gKTtcblxuXG4gICAgICAgICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB3cmFwcGVyLnNldEF0dHJpYnV0ZSgnYXNlaWQnLCBub2RlLmFzZWlkLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgICAgICBjb25zdCBub2RlU2NlbmUgPSBub2RlLnNjb3BlLnJlc29sdmU8QXJlU2NlbmU+KEFyZVNjZW5lKSE7XG5cbiAgICAgICAgICAgIGlmIChub2RlU2NlbmUpIHtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9IG5vZGVTY2VuZS50ZW1wbGF0ZTtcblxuICAgICAgICAgICAgICAgIC8vIDIgKSB1cGRhdGUgc3R5bGVzXG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0gYXdhaXQgbm9kZVNjZW5lLmdldFN0eWxlcyhub2RlKTtcblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVFbGVtZW50SWQgPSBgYS1zdHlsZS0ke25vZGUuYXNlaWQuZW50aXR5fWA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtzdHlsZUVsZW1lbnRJZH1gKSBhcyBIVE1MU3R5bGVFbGVtZW50IHwgbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0eWxlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlRWxlbWVudC5pZCA9IHN0eWxlRWxlbWVudElkO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlRWxlbWVudC5pbm5lckhUTUwgPSBzdHlsZXM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgYnVpbGQgPSBhd2FpdCB0aGlzLm1vdW50U2NlbmUobm9kZVNjZW5lLCB3cmFwcGVyKTtcblxuICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgdGhlIHBsYWNlbWVudCB3aXRoIHRoZSByZW5kZXJlZCBjb250ZW50XG4gICAgICAgICAgICAgICAgd3JhcHBlci5yZXBsYWNlQ2hpbGRyZW4oLi4uQXJyYXkuZnJvbShidWlsZC5jaGlsZE5vZGVzKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSBwbGFjZW1lbnQgd2l0aCB0aGUgcmVuZGVyZWQgY29udGVudFxuICAgICAgICAgICAgICAgIChjdXJyZW50IGFzIEVsZW1lbnQpLnJlcGxhY2VXaXRoKHdyYXBwZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAgMykgdXBkYXRlIGxpc3RlbmVyc1xuICAgICAgICAgICAgY29uc3QgZXZlbnRNYXAgPSBhd2FpdCBzY2VuZS5nZXRMaXN0ZW5lcnMobm9kZSk7XG4gICAgICAgICAgICBpZiAoZXZlbnRNYXApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtldmVudCwgaGFuZGxlcnNdIG9mIGV2ZW50TWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgaGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciBhcyBFdmVudExpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gNCkgdXBkYXRlIGJpbmRpbmdzXG4gICAgICAgICAgICBjb25zdCBiaW5kaW5nc01hcCA9IGF3YWl0IHNjZW5lLmdldEJpbmRpbmdzKG5vZGUpO1xuICAgICAgICAgICAgaWYgKGJpbmRpbmdzTWFwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2JpbmRpbmdzTWFwJywgYmluZGluZ3NNYXApO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBiaW5kaW5nc01hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQmluZGluZycsIG5hbWUsICd3aXRoIHZhbHVlJywgdmFsdWUsICdvbiBub2RlJywgbm9kZS5hc2VpZC50b1N0cmluZygpLCBzeW50YXgucmVwbGFjZUludGVycG9sYXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAoY3VycmVudCBhcyBFbGVtZW50KS5pbm5lckhUTUwsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnQgYXMgRWxlbWVudCkuaW5uZXJIVE1MID0gc3ludGF4LnJlcGxhY2VJbnRlcnBvbGF0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnQgYXMgRWxlbWVudCkuaW5uZXJIVE1MLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDUpIG1vdW50IG5lc3RlZCBjdXN0b20gY29tcG9uZW50cyBhbmQga2VlcCBpdCBzdGF0ZVxuICAgICAgICAgICAgYXdhaXQgc2NlbmUubW91bnQobm9kZSk7XG5cbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ2dyZWVuJywgYCR7JyAtICcucmVwZWF0KHNjZW5lLmRlcHRoKX1gICsgYFske3BhdGh9XSAtIE5PREUgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiBNT1VOVEVEIFNVQ0NFU1NGVUxMWS4gaGFzaGVzOiBbJHtzY2VuZS5jb21wdXRlSGFzaChub2RlKX06OiR7c2NlbmUuZ2V0SGFzaChub2RlKX1dYCk7XG4gICAgICAgIH1cblxuICAgICAgICBsb2dnZXIuZGVidWcoJ2N5YW4nLFxuICAgICAgICAgICAgYCR7JyAtICcucmVwZWF0KHNjZW5lLmRlcHRoKX1gICsgYEFyZUJyb3dzZXJDb21waWxlcjogU2NlbmUgPCR7c2NlbmUubmFtZX0+IG1vdW50ZWQgc3VjY2Vzc2Z1bGx5LmAsXG4gICAgICAgICk7XG5cblxuICAgICAgICBhd2FpdCBzY2VuZS5yZW5kZXIoKTtcblxuICAgICAgICByZXR1cm4gbW91bnRQb2ludEVsZW1lbnQ7XG4gICAgfVxuXG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9TaWduYWxWZWN0b3JGZWF0dXJlcy5OZXh0XG4gICAgfSlcbiAgICBhc3luYyByZW5kZXJTY2VuZShcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSB2ZWN0b3I6IEFfU2lnbmFsVmVjdG9yPFtBcmVJbml0U2lnbmFsXT4sXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgICAgIEBBX0luamVjdChBcmVTeW50YXgpIHN5bnRheDogQXJlU3ludGF4LFxuICAgICkge1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGxvZ2dlcj8uZGVidWcoJ3JlZCcsXG4gICAgICAgICAgICAgICAgJyAnLFxuICAgICAgICAgICAgICAgIGBBcmVDb21waWxlcjogUmVuZGVyaW5nIFNjZW5lIDwke3NjZW5lLm5hbWV9PmAsXG4gICAgICAgICAgICAgICAgJyAnXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBjb25zdCB1cGRhdGVTaWduYWwgPSB2ZWN0b3IuZ2V0KEFyZVVwZGF0ZVNpZ25hbCk7XG5cblxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3VwZGF0ZVNpZ25hbCcsIHVwZGF0ZVNpZ25hbCk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnTm9kZScsIHVwZGF0ZVNpZ25hbD8ubm9kZSk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnU2NlbmUnLCBzY2VuZSk7XG5cblxuICAgICAgICAgICAgLy8gaWYgKHVwZGF0ZVNpZ25hbCkge1xuICAgICAgICAgICAgLy8gICAgIC8vIGZvciAoY29uc3QgbmV3Tm9kZSBvZiBzY2VuZS5wYXJlbnQ/Lm5vZGVzKG49Pm4uYXNlaWQudG9TdHJpbmcoKSA9PT0gc2NlbmUuaWQpIHx8IFtdKSB7XG5cbiAgICAgICAgICAgIC8vICAgICBhd2FpdCB1cGRhdGVTaWduYWwubm9kZS5jb21waWxlKCk7XG5cbiAgICAgICAgICAgIC8vICAgICAvLyB9XG4gICAgICAgICAgICAvLyAgICAgLy8gaWYgKHNjZW5lLnBhcmVudClcbiAgICAgICAgICAgIC8vICAgICBhd2FpdCB0aGlzLm1vdW50U2NlbmUoc2NlbmUucGFyZW50KTtcblxuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgLy8gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5ld05vZGUgb2Ygc2NlbmUubm9kZXMoc3ludGF4LmlzQ3VzdG9tTm9kZS5iaW5kKHN5bnRheCkpKSB7XG4gICAgICAgICAgICAgICAgc2NlbmUuYXR0YWNoKG5ld05vZGUpO1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3Tm9kZS5sb2FkKCk7XG5cbiAgICAgICAgICAgICAgICBhd2FpdCBuZXdOb2RlLmNvbXBpbGUoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2dnZXI/LmRlYnVnKCdyZWQnLFxuICAgICAgICAgICAgICAgICcgJyxcbiAgICAgICAgICAgICAgICBgQXJlQ29tcGlsZXI6IE1vdW50aW5nIFNjZW5lIDwke3NjZW5lLm5hbWV9PmAsXG4gICAgICAgICAgICAgICAgJyAnXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLm1vdW50U2NlbmUoc2NlbmUpO1xuXG4gICAgICAgICAgICBsb2dnZXI/LmRlYnVnKCdyZWQnLFxuICAgICAgICAgICAgICAgICcgJyxcbiAgICAgICAgICAgICAgICBgQXJlQ29tcGlsZXI6IFNjZW5lIDwke3NjZW5lLm5hbWV9PiByZW5kZXJlZCBzdWNjZXNzZnVsbHkuYCxcbiAgICAgICAgICAgICAgICAnICdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAvLyB9XG5cblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0xvZ2dlciwgQV9TaWduYWxWZWN0b3JGZWF0dXJlcywgQV9TaWduYWxTdGF0ZSwgQV9TaWduYWxWZWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFyZSB9IGZyb20gXCIuLi9BcmVDb21wb25lbnQvQXJlLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQV9DYWxsZXIsIEFfRmVhdHVyZSwgQV9JbmplY3QgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQXJlTm9kZUZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQXJlTm9kZSB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHlcIjtcbmltcG9ydCB7IEFyZVNjZW5lIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTY2VuZS9BcmVTY2VuZS5jb250ZXh0XCI7XG5cblxuXG5cbmV4cG9ydCBjbGFzcyBBcmVTbG90IGV4dGVuZHMgQXJlIHtcblxuXG5cbiAgICBhc3luYyB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGA8ZGl2PkFyZSBTbG90IENvbXBvbmVudDwvZGl2PmA7XG4gICAgfVxuXG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBhc3luYyBbQV9TaWduYWxWZWN0b3JGZWF0dXJlcy5OZXh0XShcbiAgICAgICAgQEFfSW5qZWN0KEFfU2lnbmFsVmVjdG9yKSB2ZWN0b3I6IEFfU2lnbmFsVmVjdG9yXG4gICAgKSB7XG4gICAgICAgIC8vIEVtaXQgc2lnbmFscyBpZiBuZWVkZWRcblxuICAgICAgICBjb25zb2xlLmxvZygnQXJlU2xvdCBTaWduYWwgVmVjdG9yIEVtaXR0ZWQ6JywgdmVjdG9yKTtcbiAgICB9XG5cblxuXG4gICAgLy8gQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgIC8vICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25Db21waWxlLFxuICAgIC8vICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgLy8gfSlcbiAgICAvLyBhc3luYyBjb21waWxlKFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgLy8gICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgLy8gICAgIEBBX0luamVjdChBX1NpZ25hbFN0YXRlKSBzaWduYWxTdGF0ZT86IEFfU2lnbmFsU3RhdGUsXG4gICAgLy8gKSB7XG5cbiAgICAvLyAgICAgY29uc3QgdmVjdG9yID0gYXdhaXQgc2lnbmFsU3RhdGU/LnRvVmVjdG9yKCkudG9EYXRhVmVjdG9yKClcblxuICAgIC8vICAgICBsb2dnZXIuZGVidWcoJ3JlZCcsXG4gICAgLy8gICAgICAgICAnPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScsXG4gICAgLy8gICAgICAgICBgQ29tcGlsaW5nIEFyZVNsb3QgQ29tcG9uZW50IGF0IFNjZW5lOiA8JHtzY2VuZS5uYW1lfT5gLFxuICAgIC8vICAgICAgICAgJz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nLFxuICAgIC8vICAgICAgICAgdmVjdG9yXG4gICAgLy8gICAgIClcbiAgICAvLyB9XG5cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQXJlIH0gZnJvbSBcIi4uL0FyZUNvbXBvbmVudC9BcmUuY29tcG9uZW50XCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQXJlUm9vdCBleHRlbmRzIEFyZXtcblxuXG4gICAgYXN5bmMgdGVtcGxhdGUoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIGA8ZGl2PiBBcmUgUm9vdCBDb21wb25lbnQ8L2Rpdj5gO1xuICAgIH1cblxufSIsICJpbXBvcnQgeyBBX0NhbGxlciwgQV9JbmplY3QgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQXJlIH0gZnJvbSBcIi4uL0FyZUNvbXBvbmVudC9BcmUuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiO1xuaW1wb3J0IHsgQXJlU2NlbmUgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVNjZW5lL0FyZVNjZW5lLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5pbXBvcnQgeyBBcmVQcm9wcyB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlUHJvcHMvQXJlUHJvcHMuY29udGV4dFwiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFyZUludGVycG9sYXRpb24gZXh0ZW5kcyBBcmUge1xuXG4gICAgYXN5bmMgdGVtcGxhdGUoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIGBgO1xuICAgIH1cblxuXG5cbiAgICBAQXJlLm9uQWZ0ZXJDb21waWxlXG4gICAgYXN5bmMgQV9JTlRFUlBPTEFUSU9OX29uQWZ0ZXJDb21waWxlKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgICAgIEBBX0luamVjdChBcmVQcm9wcykgcHJvcHM6IEFyZVByb3BzLFxuICAgICkge1xuICAgICAgICBsb2dnZXIuaW5mbygnYmx1ZScsIGBBcmVJbnRlcnBvbGF0aW9uIG9uQWZ0ZXJDb21waWxlIGNhbGxlZC4uLiA6IDwke25vZGUuYXNlaWQuZW50aXR5fT4gOiBgLCBub2RlLmFzZWlkLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIGF3YWl0IHNjZW5lLnJlc2V0KHByb3BzLmdldCgndmFsdWUnKSk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbmNlcHQsIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVksIEFfQ29udGFpbmVyLCBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiXG5pbXBvcnQgeyBBX0NvbmZpZywgQV9Mb2dnZXIsIEFfTE9HR0VSX0RFRkFVTFRfTEVWRUwsIEFfTE9HR0VSX0VOVl9LRVlTLCBBX1BvbHlmaWxsLCBBX1NpZ25hbEJ1cywgQ29uZmlnUmVhZGVyLCB9IGZyb20gXCJAYWRhYXMvYS11dGlsc1wiXG5pbXBvcnQgeyBTaWduSW5Db21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL1NpZ25JbkNvbXBvbmVudC5jb21wb25lbnRcIlxuaW1wb3J0IHsgQUJ0biB9IGZyb20gXCIuL2NvbXBvbmVudHMvQS1CdG4uY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBSW5wdXQgfSBmcm9tIFwiLi9jb21wb25lbnRzL0EtSW5wdXQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVBcHAgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250YWluZXJzL0FyZUFwcC9BcmVBcHAuY29udGFpbmVyXCI7XG5pbXBvcnQgeyBBcmVCcm93c2VyQ29tcGlsZXIgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb21wb25lbnRzL0FyZUJyb3dzZXJDb21waWxlci9BcmVCcm93c2VyQ29tcGlsZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVTbG90IH0gZnJvbSBcIkBhZGFhcy9hcmUvY29tcG9uZW50cy9BcmVTbG90L0FyZVNsb3QuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVJbml0U2lnbmFsIH0gZnJvbSBcInNyYy9zaWduYWxzL0FyZUluaXQuc2lnbmFsXCI7XG5pbXBvcnQgeyBBcmVTeW50YXggfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN5bnRheC9BcmVTeW50YXguY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlUm9vdCB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlUm9vdC9BcmVSb290LmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQXJlSW50ZXJwb2xhdGlvbiB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlSW50ZXJwb2xhdGlvbi9BcmVJbnRlcnBvbGF0aW9uLmNvbXBvbmVudFwiO1xuXG5cbi8vIC8vICBUT0RPOiBGaXggZm9yIGJ1aWxkIHN5c3RlbSAtLS1cbi8vIHdpbmRvdy5wcm9jZXNzID0geyBlbnY6IHsgTk9ERV9FTlY6ICdwcm9kdWN0aW9uJyB9LCBjd2Q6ICgpID0+IFwiL1wiIH0gYXMgYW55OyAvLyAtLS0gSUdOT1JFIC0tLVxuLy8gd2luZG93Ll9fZGlybmFtZSA9IFwiL1wiOyAvLyAtLS0gSUdOT1JFIC0tLVxuXG4oYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gbmV3IEFyZUFwcCh7XG4gICAgICAgICAgICBuYW1lOiAnQVJFIEp1bXBzdGFydCcsXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIC8vIEFsbG93ZWQgRW50aXRpZXMgXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIC8vIC4uLi4uLi4uLi4uLlxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvLyBBbGxvd2VkIENvbW1hbmRzIFxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvLyAuLi4uLi4uLi4uLi5cbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgLy8gVUkgQ29tcG9uZW50cyBcbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgU2lnbkluQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIEFCdG4sXG4gICAgICAgICAgICAgICAgQUlucHV0LFxuICAgICAgICAgICAgICAgIEFyZVNsb3QsXG4gICAgICAgICAgICAgICAgQV9TaWduYWxCdXMsXG4gICAgICAgICAgICAgICAgQXJlUm9vdCxcbiAgICAgICAgICAgICAgICBBcmVJbnRlcnBvbGF0aW9uLFxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvLyBBZGRvbnMgXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIEFfUG9seWZpbGwsXG4gICAgICAgICAgICAgICAgQ29uZmlnUmVhZGVyLFxuICAgICAgICAgICAgICAgIC8vIEFfU2VydmVyUHJveHlcbiAgICAgICAgICAgICAgICBBcmVCcm93c2VyQ29tcGlsZXIsXG4gICAgICAgICAgICAgICAgQV9Mb2dnZXJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBlbnRpdGllczogW1xuICAgICAgICAgICAgICAgIC8vIC4uLi4uLi4uLi4uLlxuICAgICAgICAgICAgICAgIEFyZUluaXRTaWduYWwsXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBmcmFnbWVudHM6IFtcbiAgICAgICAgICAgICAgICBuZXcgQV9Db25maWcoe1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgQV9VSV9NT1VOVF9QT0lOVDogJ2Etcm9vdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBbQV9MT0dHRVJfRU5WX0tFWVMuTE9HX0xFVkVMXTogJ2RlYnVnJyxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIG5ldyBBcmVTeW50YXgoKVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBjb25jZXB0ID0gbmV3IEFfQ29uY2VwdCh7XG4gICAgICAgICAgICBuYW1lOiAnYWRhYXMtYXJlLWV4YW1wbGUtanVtcHN0YXJ0JyxcbiAgICAgICAgICAgIGZyYWdtZW50czogW25ldyBBX0NvbmZpZyh7XG4gICAgICAgICAgICAgICAgdmFyaWFibGVzOiBbJ0NPTkZJR19WRVJCT1NFJywgJ0RFVl9NT0RFJ10gYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgQ09ORklHX1ZFUkJPU0U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIERFVl9NT0RFOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSldLFxuICAgICAgICAgICAgY29tcG9uZW50czogW0FfTG9nZ2VyLCBDb25maWdSZWFkZXIsIEFfUG9seWZpbGxdLFxuICAgICAgICAgICAgY29udGFpbmVyczogW2NvbnRhaW5lcl1cbiAgICAgICAgfSlcblxuXG4gICAgICAgIGF3YWl0IGNvbmNlcHQubG9hZCgpO1xuICAgICAgICBhd2FpdCBjb25jZXB0LnN0YXJ0KCk7XG5cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IEFfQ29udGV4dC5yb290LnJlc29sdmU8QV9Mb2dnZXI+KEFfTG9nZ2VyKSE7XG4gICAgICAgIGxvZ2dl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QUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxRQVlSO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUEsUUFJQUM7QUFBQSxRQUNBQztBQUFBO0FBQUEsUUFFQTtBQUFBLFFBQ0FDO0FBQUEsTUFDSjtBQUFBLE1BQ0EsVUFBVTtBQUFBO0FBQUEsUUFFTjtBQUFBLE1BQ0o7QUFBQSxNQUVBLFdBQVc7QUFBQSxRQUNQLElBQUlDLEdBQVM7QUFBQSxVQUNULFVBQVU7QUFBQSxZQUNOLGtCQUFrQjtBQUFBLFlBQ2xCLENBQUNDLElBQWtCLFNBQVMsR0FBRztBQUFBLFVBQ25DO0FBQUEsUUFDSixDQUFDO0FBQUEsUUFDRCxJQUFJLFVBQVU7QUFBQSxNQUNsQjtBQUFBLElBQ0osQ0FBQztBQUVELFVBQU0sVUFBVSxJQUFJLEdBQVU7QUFBQSxNQUMxQixNQUFNO0FBQUEsTUFDTixXQUFXLENBQUMsSUFBSUQsR0FBUztBQUFBLFFBQ3JCLFdBQVcsQ0FBQyxrQkFBa0IsVUFBVTtBQUFBLFFBQ3hDLFVBQVU7QUFBQSxVQUNOLGdCQUFnQjtBQUFBLFVBQ2hCLFVBQVU7QUFBQSxRQUNkO0FBQUEsTUFDSixDQUFDLENBQUM7QUFBQSxNQUNGLFlBQVksQ0FBQ0QsSUFBVUQsSUFBY0QsRUFBVTtBQUFBLE1BQy9DLFlBQVksQ0FBQyxTQUFTO0FBQUEsSUFDMUIsQ0FBQztBQUdELFVBQU0sUUFBUSxLQUFLO0FBQ25CLFVBQU0sUUFBUSxNQUFNO0FBQUEsRUFHeEIsU0FBUyxPQUFPO0FBQ1osVUFBTSxTQUFTLEVBQVUsS0FBSyxRQUFrQkUsRUFBUTtBQUN4RCxXQUFPLE1BQU0sS0FBSztBQUFBLEVBQ3RCO0FBSUosR0FBRzsiLAogICJuYW1lcyI6IFsiQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUyIsICJBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZIiwgIkFfVFlQRVNfX0ZlYXR1cmVTdGF0ZSIsICJfQV9NZXRhIiwgIml0ZXJhdG9yIiwgIl9fbmFtZSIsICJtZXRhIiwgImtleSIsICJ2YWx1ZSIsICJpbmhlcml0ZWRWYWx1ZSIsICJuYW1lIiwgInJlc3VsdHMiLCAicmVnZXgiLCAib2JqIiwgImsiLCAidiIsICJpdGVtIiwgInJlcyIsICJqc29uIiwgIkFfTWV0YSIsICJBX1RZUEVTX19FbnRpdHlNZXRhS2V5IiwgIkFfVFlQRVNfX0VudGl0eUZlYXR1cmVzIiwgIkFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkiLCAiQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSIsICJfYSIsICJfQV9Db21wb25lbnRNZXRhIiwgImhhbmRsZXIiLCAiZmVhdHVyZSIsICJzdGVwcyIsICJleHRlbnNpb25zIiwgImV4dGVuc2lvbiIsICJhYnN0cmFjdGlvbiIsICJhYnN0cmFjdGlvbnMiLCAiaW5qZWN0aW9ucyIsICJhcmdzIiwgIkFfQ29tcG9uZW50TWV0YSIsICJfQV9Db250YWluZXIiLCAiQV9Db250ZXh0IiwgImNvbmZpZyIsICJzY29wZSIsICJBX0ZlYXR1cmUiLCAiQV9Db250YWluZXIiLCAiX0FfQ29udGFpbmVyTWV0YSIsICJBX0NvbnRhaW5lck1ldGEiLCAiX0FfRm9ybWF0dGVySGVscGVyIiwgInN0ciIsICJwYXJ0IiwgImluZGV4IiwgIkFfRm9ybWF0dGVySGVscGVyIiwgIl9BX0lkZW50aXR5SGVscGVyIiwgInBhcnRzIiwgInRpbWUiLCAicmFuZG9tIiwgImlkIiwgInRpbWVQYXJ0IiwgInJhbmRvbVBhcnQiLCAibnVtYmVyIiwgIm1heFplcm9zIiwgImZvcm1hdHRlZE51bWJlciIsICJBX0lkZW50aXR5SGVscGVyIiwgIkFfQ09OU1RBTlRTX19FUlJPUl9DT0RFUyIsICJBX0NPTlNUQU5UU19fRVJST1JfREVTQ1JJUFRJT04iLCAiX0FfRXJyb3IiLCAicGFyYW0xIiwgInBhcmFtMiIsICJBX1R5cGVHdWFyZHMiLCAiZXJyb3IiLCAiQVNFSUQiLCAibWVzc2FnZSIsICJzZXJpYWxpemVkIiwgInRpdGxlIiwgImRlc2NyaXB0aW9uIiwgInBhcmFtcyIsICJyb290RXJyb3IiLCAiQV9FcnJvciIsICJfQVNFSURfRXJyb3IiLCAiQVNFSURfRXJyb3IiLCAiX0FTRUlEIiwgImlkZW50aXR5IiwgImNvbmNlcHQiLCAiYm9keSIsICJ2ZXJzaW9uIiwgImVudGl0eSIsICJpZENhbmRpZGF0ZSIsICJzaGFyZCIsICJfQV9FbnRpdHlFcnJvciIsICJBX0VudGl0eUVycm9yIiwgIl9BX0VudGl0eSIsICJwcm9wcyIsICJ4IiwgIm92ZXJyaWRlIiwgImFzZWlkIiwgIm5ld0VudGl0eSIsICJBX0VudGl0eSIsICJfQV9FbnRpdHlNZXRhIiwgIkFfRW50aXR5TWV0YSIsICJfQV9GcmFnbWVudCIsICJBX0ZyYWdtZW50IiwgIl9BX0NvbW1vbkhlbHBlciIsICJyZXNvbHZlIiwgImNoaWxkQ2xhc3MiLCAicGFyZW50Q2xhc3MiLCAiY3VycmVudCIsICJwYXJlbnRzIiwgImNoYWluIiwgImlucHV0IiwgInBhdGhzIiwgInJlc3VsdCIsICJyZW1vdmVQcm9wZXJ0aWVzIiwgInRhcmdldCIsICJjdXJyUGF0aCIsICJjdXJyS2V5IiwgInBhdGgiLCAicGF0aEtleXMiLCAic291cmNlIiwgInZpc2l0ZWQiLCAiY2xvbmUiLCAiY29tcG9uZW50IiwgIlVOS05PV04iLCAiQU5PTllNT1VTIiwgImZuQW55IiwgIm1hdGNoIiwgIm9iakFueSIsICJzIiwgIkFfQ29tbW9uSGVscGVyIiwgIl9BX1Njb3BlRXJyb3IiLCAiQV9TY29wZUVycm9yIiwgIl9BX1Njb3BlIiwgImN1cnJlbnRQYXJlbnQiLCAibGF5ZXJPZmZzZXQiLCAicGFyZW50U2NvcGUiLCAiX2NvbXBvbmVudHMiLCAiX2Vycm9ycyIsICJfZW50aXRpZXMiLCAiZW50IiwgIl9mcmFnbWVudHMiLCAiX21ldGEiLCAiZnJhZ21lbnQiLCAicGFyYW0iLCAicGFyZW50IiwgImNpcmN1bGFyQ2hlY2siLCAiY3RvciIsICJmb3VuZCIsICJjIiwgImYiLCAiZSIsICJhbm90aGVyU2NvcGUiLCAiY3VycmVudFJlc3VsdHMiLCAicGFyZW50UmVzdWx0cyIsICJpbnN0YW5jZSIsICJpbnN0YW5jZXMiLCAiaW5zdHJ1Y3Rpb25zIiwgImNvbXBvbmVudE5hbWUiLCAidmFsdWVzIiwgImlzc3VlciIsICJxdWVyeSIsICJjb3VudCIsICJmcmFnbWVudEluc3RhbmNlUHJlc2VudGVkIiwgImVsIiwgInJlc29sdmVkQXJncyIsICJhcmciLCAiZmxhdCIsICJkZXBlbmRlbmN5IiwgInJlcXVpcmUiLCAiY3JlYXRlIiwgImRlZmF1bHRBcmdzIiwgInRhcmdldFBhcmVudCIsICJuZXdDb21wb25lbnQiLCAiQV9Db21wb25lbnQiLCAiYWNjIiwgImluaGVyaXRhbmNlQ2hhaW4iLCAiQV9TY29wZSIsICJfQV9DYWxsZXJFcnJvciIsICJBX0NhbGxlckVycm9yIiwgIl9BX0NhbGxlciIsICJBX0NhbGxlciIsICJfQV9UeXBlR3VhcmRzIiwgIl9BX0ZlYXR1cmVFcnJvciIsICJBX0ZlYXR1cmVFcnJvciIsICJBX0ZlYXR1cmVfRGVmaW5lIiwgInByb3BlcnR5S2V5IiwgImRlc2NyaXB0b3IiLCAibWV0YUtleSIsICJleGlzdGVkTWV0YSIsICJpbnZva2UiLCAib3JpZ2luYWxNZXRob2QiLCAiQV9GZWF0dXJlX0V4dGVuZCIsICJ0YXJnZXRSZWdleHAiLCAiYmVoYXZpb3IiLCAiYmVmb3JlIiwgImFmdGVyIiwgImluY2x1ZGUiLCAiZXhjbHVkZSIsICJ0aHJvd09uRXJyb3IiLCAiYnVpbGRUYXJnZXRSZWdleHAiLCAiZXhpc3RlZERlZmluaXRpb25zIiwgImV4aXN0ZWRNZXRhVmFsdWUiLCAiZXhpc3RlZEluZGV4IiwgImluY2x1ZGVQYXJ0IiwgImV4Y2x1ZGVQYXJ0IiwgInBhdHRlcm4iLCAiQV9UWVBFU19fQV9TdGFnZV9TdGF0dXMiLCAiX0FfU3RhZ2VFcnJvciIsICJBX1N0YWdlRXJyb3IiLCAiX0FfU3RhZ2UiLCAic3RlcCIsICJyZXNvbHZlckNvbnN0cnVjdG9yIiwgInRhcmdldFNjb3BlIiwgIm5ld0RlcGVuZGVuY3kiLCAiY2FsbEFyZ3MiLCAicmVqZWN0IiwgIndyYXBwZWRFcnJvciIsICJBX1N0YWdlIiwgIl9BX1N0ZXBNYW5hZ2VyRXJyb3IiLCAiX2EiLCAiX0FfU3RlcHNNYW5hZ2VyIiwgImVudGl0aWVzIiwgInN0ZXAiLCAiaSIsICJzZWxmIiwgInMiLCAiZW50aXR5IiwgImVudGl0eUlkIiwgInRhcmdldCIsICJzb3VyY2UiLCAicGF0dGVybiIsICJyZWdleCIsICJub2RlIiwgIm5laWdoYm9yIiwgImZlYXR1cmUiLCAiaWQiLCAiQV9TdGFnZSIsICJfX25hbWUiLCAiQV9TdGVwc01hbmFnZXIiLCAiX0FfRmVhdHVyZSIsICJwYXJhbXMiLCAiQV9GZWF0dXJlX0RlZmluZSIsICJBX0ZlYXR1cmVfRXh0ZW5kIiwgIkFfQ29udGV4dCIsICJBX0ZlYXR1cmVFcnJvciIsICJBX1Njb3BlIiwgImNvbXBvbmVudFNjb3BlIiwgImV4dGVybmFsU2NvcGUiLCAiZXJyb3IiLCAiQV9DYWxsZXIiLCAiQV9Db21wb25lbnQiLCAiQV9UeXBlR3VhcmRzIiwgInNjb3BlIiwgInRlbXBsYXRlIiwgInN0YWdlIiwgInN0YWdlSW5kZXgiLCAicmVhc29uIiwgInBhcmFtMSIsICJwYXJhbTIiLCAicGFyYW0zIiwgImZlYXR1cmVTY29wZSIsICJBX0ZlYXR1cmUiLCAiX0FfQ29tcG9uZW50IiwgIl9BX0NvbnRleHRFcnJvciIsICJBX0Vycm9yIiwgIkFfQ29udGV4dEVycm9yIiwgIl9BX0NvbnRleHQiLCAibmFtZSIsICJBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTIiwgInRlc3RFbnZpcm9ubWVudCIsICJjb21wb25lbnQiLCAiY29tcG9uZW50TmFtZSIsICJBX0NvbW1vbkhlbHBlciIsICJpbnN0YW5jZSIsICJpbXBvcnRpbmciLCAibmV3U2NvcGUiLCAicHJvcGVydHkiLCAibWV0YVR5cGUiLCAiQV9Db250YWluZXJNZXRhIiwgIkFfQ29tcG9uZW50TWV0YSIsICJBX0VudGl0eU1ldGEiLCAiZm91bmQiLCAiYyIsICJBX0Zvcm1hdHRlckhlbHBlciIsICJBX01ldGEiLCAiaW5oZXJpdE1ldGEiLCAiY2FsbE5hbWVzIiwgIkFfQ29udGFpbmVyIiwgIkFfRW50aXR5IiwgInN0ZXBzIiwgImNhbGxOYW1lIiwgImNtcCIsICJtZXRhIiwgImRlY2xhcmF0aW9uIiwgIml0ZW1zIiwgIml0ZW0iLCAiY3VycmVudENsYXNzIiwgIm90aGVyIiwgIm90aGVyQ2xhc3MiLCAibWV0YUtleSIsICJhYnN0cmFjdGlvbiIsICJwYXJhbSIsICJfQV9BYnN0cmFjdGlvbkVycm9yIiwgIkFfQWJzdHJhY3Rpb25FcnJvciIsICJBX0Fic3RyYWN0aW9uX0V4dGVuZCIsICJjb25maWciLCAicHJvcGVydHlLZXkiLCAiZGVzY3JpcHRvciIsICJzZXROYW1lIiwgImV4aXN0ZWRNZXRhIiwgImV4aXN0ZWRNZXRhVmFsdWUiLCAiZXhpc3RlZEluZGV4IiwgIl9BX0Fic3RyYWN0aW9uIiwgImNvbnRhaW5lciIsICJBX0Fic3RyYWN0aW9uIiwgIkFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMiLCAiQV9UWVBFU19fQ29uY2VwdE1ldGFLZXkiLCAiX0FfQ29uY2VwdCIsICJwcm9wcyIsICJmcmFnbWVudCIsICJtZXRob2QiLCAiQV9Db25jZXB0IiwgIl9BX0NvbmNlcHRNZXRhIiwgImNvbnRhaW5lcnMiLCAiX2EiLCAiX0FfRGVwZW5kZW5jeUVycm9yIiwgIkFfRXJyb3IiLCAiX19uYW1lIiwgIkFfRGVwZW5kZW5jeUVycm9yIiwgIkFfRGVwZW5kZW5jeV9EZWZhdWx0IiwgImFyZ3MiLCAidGFyZ2V0IiwgIm1ldGhvZE5hbWUiLCAicGFyYW1ldGVySW5kZXgiLCAiY29tcG9uZW50TmFtZSIsICJBX0NvbW1vbkhlbHBlciIsICJBX1R5cGVHdWFyZHMiLCAibWV0aG9kIiwgIm1ldGFLZXkiLCAiZXhpc3RlZE1ldGEiLCAiQV9Db250ZXh0IiwgIkFfTWV0YSIsICJwYXJhbXNBcnJheSIsICJBX0RlcGVuZGVuY3lfRmxhdCIsICJBX0RlcGVuZGVuY3lfTG9hZCIsICJwYXRoIiwgIkFfRGVwZW5kZW5jeV9QYXJlbnQiLCAibGF5ZXJPZmZzZXQiLCAiQV9EZXBlbmRlbmN5X1JlcXVpcmUiLCAiX0FfRGVwZW5kZW5jeSIsICJuYW1lIiwgIkFfRGVwZW5kZW5jeSIsICJfQV9JbmplY3RFcnJvciIsICJBX0luamVjdEVycm9yIiwgIkFfSW5qZWN0IiwgInBhcmFtMSIsICJwYXJhbTIiLCAiaiIsICJjIiwgIm8iLCAiX0FfRXhlY3V0aW9uQ29udGV4dCIsICJfYSIsICJBX0ZyYWdtZW50IiwgIm5hbWUiLCAiZGVmYXVsdHMiLCAiQV9NZXRhIiwgImtleSIsICJ2YWx1ZSIsICJfX25hbWUiLCAiQV9FeGVjdXRpb25Db250ZXh0IiwgIl9BX09wZXJhdGlvbkNvbnRleHQiLCAib3BlcmF0aW9uIiwgInBhcmFtcyIsICJlcnJvciIsICJyZXN1bHQiLCAiQV9PcGVyYXRpb25Db250ZXh0IiwgIl9BX0NoYW5uZWxFcnJvciIsICJBX0Vycm9yIiwgIm9yaWdpbmFsRXJyb3IiLCAiY29udGV4dCIsICJBX1R5cGVHdWFyZHMiLCAiQV9DaGFubmVsRXJyb3IiLCAiQV9DaGFubmVsRmVhdHVyZXMiLCAiQV9DaGFubmVsUmVxdWVzdFN0YXR1c2VzIiwgIl9BX0NoYW5uZWxSZXF1ZXN0IiwgImV4aXN0ZWQiLCAiQV9DaGFubmVsUmVxdWVzdCIsICJfQV9DaGFubmVsIiwgIkFfQ29tcG9uZW50IiwgImFyZ3MiLCAicmVxdWVzdFNjb3BlIiwgIkFfU2NvcGUiLCAiQV9JZGVudGl0eUhlbHBlciIsICJBX0NvbnRleHQiLCAiY2hhbm5lbEVycm9yIiwgIm1lc3NhZ2UiLCAiX19kZWNvcmF0ZUNsYXNzIiwgIkFfRmVhdHVyZSIsICJBX0NvbW1hbmRfU3RhdHVzIiwgIkFfQ29tbWFuZFRyYW5zaXRpb25zIiwgIkFfQ29tbWFuZEZlYXR1cmVzIiwgIkFfQ29tbWFuZEV2ZW50IiwgIl9BX0NvbW1hbmRFcnJvciIsICJfYSIsICJBX0Vycm9yIiwgIl9fbmFtZSIsICJBX0NvbW1hbmRFcnJvciIsICJfQV9TdGF0ZU1hY2hpbmVFcnJvciIsICJBX1N0YXRlTWFjaGluZUVycm9yIiwgIkFfU3RhdGVNYWNoaW5lRmVhdHVyZXMiLCAiX0FfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbiIsICJBX09wZXJhdGlvbkNvbnRleHQiLCAicGFyYW1zIiwgIkFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbiIsICJfYiIsICJfYyIsICJfZCIsICJfQV9TdGF0ZU1hY2hpbmUiLCAiQV9Db21wb25lbnQiLCAiYXJncyIsICJmcm9tIiwgInRvIiwgInByb3BzIiwgInRyYW5zaXRpb25OYW1lIiwgIkFfRm9ybWF0dGVySGVscGVyIiwgInRyYW5zaXRpb24iLCAic2NvcGUiLCAiQV9TY29wZSIsICJBX0NvbnRleHQiLCAiZXJyb3IiLCAid3JhcHBlZEVycm9yIiwgIl9fZGVjb3JhdGVDbGFzcyIsICJBX0ZlYXR1cmUiLCAiQV9TdGF0ZU1hY2hpbmUiLCAiQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTX0FSUkFZIiwgIl9BX0NvbmZpZ0Vycm9yIiwgIl9hIiwgIkFfRXJyb3IiLCAiX19uYW1lIiwgIkFfQ29uZmlnRXJyb3IiLCAiX0FfQ29uZmlnIiwgIkFfRXhlY3V0aW9uQ29udGV4dCIsICJjb25maWciLCAiQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFU19BUlJBWSIsICJrZXkiLCAiQV9Gb3JtYXR0ZXJIZWxwZXIiLCAicHJvcGVydHkiLCAidmFsdWUiLCAiYXJyYXkiLCAiQV9Db25maWciLCAiQV9MT0dHRVJfQ09MT1JTIiwgIkFfTE9HR0VSX1NBRkVfUkFORE9NX0NPTE9SUyIsICJBX0xPR0dFUl9BTlNJIiwgIkFfTE9HR0VSX1RJTUVfRk9STUFUIiwgIkFfTE9HR0VSX0ZPUk1BVCIsICJBX0xPR0dFUl9URVJNSU5BTCIsICJBX0xPR0dFUl9FTlZfS0VZUyIsICJBX0xvZ2dlciIsICJfYSIsICJBX0NvbXBvbmVudCIsICJzY29wZSIsICJjb25maWciLCAiY29uZmlnU2NvcGVDb2xvciIsICJjb25maWdMb2dDb2xvciIsICJjb21wbGVtZW50YXJ5Q29sb3JzIiwgInN0ciIsICJoYXNoIiwgImkiLCAiY2hhciIsICJzY29wZU5hbWUiLCAic2FmZUNvbG9ycyIsICJjb2xvckluZGV4IiwgImNvbG9yUGFpcnMiLCAicGFpckluZGV4IiwgIkFfQ29udGV4dCIsICJjb2xzIiwgInRleHQiLCAic2NvcGVQYWRkaW5nIiwgImlzRmlyc3RMaW5lIiwgInNjb3BlSGVhZGVyTGVuZ3RoIiwgImNvbnRpbnVhdGlvbkluZGVudCIsICJmaXJzdExpbmVNYXhXaWR0aCIsICJjb250aW51YXRpb25NYXhXaWR0aCIsICJsaW5lcyIsICJ3b3JkcyIsICJjdXJyZW50TGluZSIsICJjdXJyZW50TWF4V2lkdGgiLCAid29yZCIsICJzcGFjZU5lZWRlZCIsICJjaHVua3MiLCAibWF4TGVuZ3RoIiwgInRvdGFsTGVuZ3RoIiwgInRvdGFsUGFkZGluZyIsICJsZWZ0UGFkZGluZyIsICJyaWdodFBhZGRpbmciLCAibWVzc2FnZUNvbG9yIiwgImFyZ3MiLCAidGltZVN0cmluZyIsICJpc011bHRpQXJnIiwgImFyZyIsICJzaG91bGRBZGROZXdsaW5lIiwgIkFfRXJyb3IiLCAib2JqIiwgImpzb25TdHJpbmciLCAic2VlbiIsICJrZXkiLCAidmFsdWUiLCAibWF4SnNvbkxpbmVXaWR0aCIsICJmb3JtYXR0ZWQiLCAibGluZSIsICJzdHJpbmdWYWx1ZU1hdGNoIiwgInByZWZpeCIsICJzdWZmaXgiLCAid3JhcHBlZFZhbHVlIiwgIm1heFdpZHRoIiwgIndyYXBwZWRMaW5lcyIsICJmb3JtYXR0ZWRMaW5lcyIsICJpbmRleCIsICJsb2dNZXRob2QiLCAicGFyYW0xIiwgImVycm9yIiwgInRpbWUiLCAic2VwYXJhdG9yIiwgImVycm9yTWVzc2FnZSIsICJlcnJvckRlc2NyaXB0aW9uIiwgIm9yaWdpbmFsTWVzc2FnZSIsICJzdGFja0xpbmVzIiwgImxpbmtUZXh0IiwgInN0YWNrIiwgImJhc2VJbmRlbnQiLCAic3RhY2tJbmRlbnQiLCAid3JhcHBlZExpbmUiLCAibm93IiwgIm1pbnV0ZXMiLCAic2Vjb25kcyIsICJtaWxsaXNlY29uZHMiLCAiX19uYW1lIiwgIl9fZGVjb3JhdGVDbGFzcyIsICJfX2RlY29yYXRlUGFyYW0iLCAiQV9JbmplY3QiLCAiQV9TY29wZSIsICJBX0NvbmZpZyIsICJfYiIsICJfYyIsICJfZCIsICJfZSIsICJfZiIsICJfZyIsICJfaCIsICJfaSIsICJfaiIsICJfayIsICJfQV9Db21tYW5kIiwgIkFfRW50aXR5IiwgInBhcmFtcyIsICJBX0V4ZWN1dGlvbkNvbnRleHQiLCAidHJhbnNpdGlvbiIsICJsb2dnZXIiLCAic3RhdGVNYWNoaW5lIiwgIm9wZXJhdGlvbiIsICJjb250ZXh0IiwgInJlc29sdmUiLCAicmVqZWN0IiwgIm9uQmVmb3JlRXhlY3V0ZUZlYXR1cmUiLCAiQV9GZWF0dXJlIiwgIm9uRXhlY3V0ZUZlYXR1cmUiLCAib25BZnRlckV4ZWN1dGVGZWF0dXJlIiwgInRhcmdldEVycm9yIiwgIkFfQ29tbWFuZEVycm9yIiwgInJlc3VsdCIsICJldmVudCIsICJsaXN0ZW5lciIsICJuZXdFbnRpdHkiLCAiQV9TdGF0ZU1hY2hpbmUiLCAic2VyaWFsaXplZCIsICJhdHRhY2hlZFNjb3BlIiwgIkFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbiIsICJBX0RlcGVuZGVuY3kiLCAiX0FfRlNQb2x5ZmlsbENsYXNzIiwgIl9hIiwgImxvZ2dlciIsICJBX0NvbnRleHQiLCAiX19uYW1lIiwgInBhdGgiLCAiZW5jb2RpbmciLCAiQV9GU1BvbHlmaWxsQ2xhc3MiLCAiX0FfQ3J5cHRvUG9seWZpbGxDbGFzcyIsICJmc1BvbHlmaWxsIiwgImNyeXB0byIsICJ0ZXh0IiwgImFsZ29yaXRobSIsICJmaWxlUGF0aCIsICJyZXNvbHZlIiwgInJlamVjdCIsICJoYXNoIiwgImZpbGVTdHJlYW0iLCAiZGF0YSIsICJlcnIiLCAiZXJyb3IiLCAiaGFzaEJ1ZmZlciIsICJoYXNoQXJyYXkiLCAiaGFzaEJhc2U2NCIsICJBX0NyeXB0b1BvbHlmaWxsQ2xhc3MiLCAiX0FfSHR0cFBvbHlmaWxsQ2xhc3MiLCAiaHR0cE1vZHVsZSIsICJvcHRpb25zIiwgImNhbGxiYWNrIiwgInVybCIsICJpc0h0dHBzIiwgIm1vY2tSZXNwb25zZSIsICJldmVudCIsICJoYW5kbGVyIiwgImRlc3QiLCAiQV9IdHRwUG9seWZpbGxDbGFzcyIsICJfQV9IdHRwc1BvbHlmaWxsQ2xhc3MiLCAiaHR0cHNNb2R1bGUiLCAiQV9IdHRwc1BvbHlmaWxsQ2xhc3MiLCAiX0FfUGF0aFBvbHlmaWxsQ2xhc3MiLCAicGF0aHMiLCAicmVzb2x2ZWRQYXRoIiwgImV4dCIsICJiYXNlIiwgInBhcnRzIiwgImZyb20iLCAidG8iLCAibmFtZSIsICJwYXRoT2JqZWN0IiwgIkFfUGF0aFBvbHlmaWxsQ2xhc3MiLCAiX0FfVXJsUG9seWZpbGxDbGFzcyIsICJ1cmxNb2R1bGUiLCAidXJsU3RyaW5nIiwgInVybE9iamVjdCIsICJBX1VybFBvbHlmaWxsQ2xhc3MiLCAiX0FfQnVmZmVyUG9seWZpbGxDbGFzcyIsICJidWZmZXJNb2R1bGUiLCAic2l6ZSIsICJmaWxsIiwgImJ1ZmZlciIsICJvYmoiLCAibGlzdCIsICJ0b3RhbExlbmd0aCIsICJsZW5ndGgiLCAic3VtIiwgImJ1ZiIsICJyZXN1bHQiLCAib2Zmc2V0IiwgIkFfQnVmZmVyUG9seWZpbGxDbGFzcyIsICJfQV9Qcm9jZXNzUG9seWZpbGxDbGFzcyIsICJjb2RlIiwgImFyZ3MiLCAiQV9Qcm9jZXNzUG9seWZpbGxDbGFzcyIsICJBX1BvbHlmaWxsIiwgIkFfQ29tcG9uZW50IiwgIl9fZGVjb3JhdGVDbGFzcyIsICJBX0NvbmNlcHQiLCAiX19kZWNvcmF0ZVBhcmFtIiwgIkFfSW5qZWN0IiwgIkFfTG9nZ2VyIiwgIkNvbmZpZ1JlYWRlciIsICJwb2x5ZmlsbCIsICJBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZIiwgIkFfQ09OU1RBTlRTX19DT05GSUdfRU5WX1ZBUklBQkxFU19BUlJBWSIsICJjb250YWluZXIiLCAiY29udGV4dCIsICJjb25maWciLCAiQV9Db25maWciLCAicm9vdERpciIsICJrZXkiLCAicHJvcGVydHkiLCAidmFyaWFibGVzIiwgInN0YXJ0UGF0aCIsICJBX0NvbnRhaW5lciIsICJBX1Njb3BlIiwgIkFfRGVwZW5kZW5jeSIsICJfRmlsZUNvbmZpZ1JlYWRlciIsICJBX0Zvcm1hdHRlckhlbHBlciIsICJmcyIsICJGaWxlQ29uZmlnUmVhZGVyIiwgIl9FTlZDb25maWdSZWFkZXIiLCAiZmVhdHVyZSIsICJsaW5lIiwgInZhbHVlIiwgImFsbFZhcmlhYmxlcyIsICJ2YXJpYWJsZSIsICJBX0ZlYXR1cmUiLCAiRU5WQ29uZmlnUmVhZGVyIiwgIl9BX0NvbmZpZ0xvYWRlciIsICJuZXdDb25maWciLCAiQV9Db25maWdFcnJvciIsICJBX1Njb3BlRXJyb3IiLCAiQV9Mb2dnZXJFbnZWYXJpYWJsZXMiLCAiQV9Mb2dnZXJFbnZWYXJpYWJsZXNBcnJheSIsICJfQV9NYW5pZmVzdEVycm9yIiwgIl9hIiwgIkFfRXJyb3IiLCAiX19uYW1lIiwgIkFfTWFuaWZlc3RFcnJvciIsICJfQV9NYW5pZmVzdENoZWNrZXIiLCAibWFuaWZlc3QiLCAiY29tcG9uZW50IiwgIm1ldGhvZCIsICJjaGVja0V4Y2x1c2lvbiIsICJ0YXJnZXQiLCAicmVzdWx0IiwgIkFfTWFuaWZlc3RDaGVja2VyIiwgIl9BX01hbmlmZXN0IiwgIkFfRnJhZ21lbnQiLCAiY29uZmlnIiwgIkFfVHlwZUd1YXJkcyIsICJpdGVtIiwgImNvbXBvbmVudFJlZ2V4IiwgIm1ldGhvZFJlZ2V4IiwgIm1ldGhvZENvbmZpZyIsICJjdG9yIiwgImNvbXBvbmVudHMiLCAicGF0dGVybnMiLCAic3RyIiwgImNvbXBvbmVudEN0b3IiLCAicXVlcnkiLCAiY29tcG9uZW50TmFtZSIsICJtZXRob2ROYW1lIiwgInRhcmdldE5hbWUiLCAibWF0Y2hpbmdSdWxlcyIsICJydWxlIiwgImEiLCAiYiIsICJhSXNHZW5lcmFsIiwgImJJc0dlbmVyYWwiLCAiQV9NZW1vcnlGZWF0dXJlcyIsICJfQV9NZW1vcnlDb250ZXh0IiwgIl9hIiwgIkFfRnJhZ21lbnQiLCAicGFyYW0iLCAidmFsdWUiLCAiX19uYW1lIiwgIkFfTWVtb3J5Q29udGV4dCIsICJfQV9NZW1vcnlFcnJvciIsICJBX0Vycm9yIiwgIkFfTWVtb3J5RXJyb3IiLCAiX2IiLCAiX2MiLCAiX2QiLCAiX2UiLCAiX2YiLCAiX2ciLCAiX2giLCAiX2kiLCAiX0FfTWVtb3J5IiwgIkFfQ29tcG9uZW50IiwgImFyZ3MiLCAiY29udGV4dCIsICJBX0NvbnRleHQiLCAib3BlcmF0aW9uIiwgInNjb3BlIiwgIkFfU2NvcGUiLCAiZXJyb3IiLCAiaW5pdEVycm9yIiwgImRlc3Ryb3lFcnJvciIsICJrZXkiLCAiQV9PcGVyYXRpb25Db250ZXh0IiwgImdldEVycm9yIiwgInNldEVycm9yIiwgImRyb3BFcnJvciIsICJjbGVhckVycm9yIiwgInNlcmlhbGl6ZUVycm9yIiwgIl9fZGVjb3JhdGVDbGFzcyIsICJBX0ZlYXR1cmUiLCAiX19kZWNvcmF0ZVBhcmFtIiwgIkFfSW5qZWN0IiwgIkFfRGVwZW5kZW5jeSIsICJBX1NlcnZpY2VGZWF0dXJlcyIsICJfQV9TZXJ2aWNlX0Vycm9yIiwgIl9hIiwgIkFfRXJyb3IiLCAiX19uYW1lIiwgIkFfU2VydmljZV9FcnJvciIsICJfYiIsICJfYyIsICJfZCIsICJfZSIsICJfZiIsICJfZyIsICJfaCIsICJfaSIsICJfaiIsICJfQV9TZXJ2aWNlIiwgIkFfQ29udGFpbmVyIiwgImVycm9yIiwgIndyYXBwZWRFcnJvciIsICJwb2x5ZmlsbCIsICJhcmdzIiwgIkFfUG9seWZpbGwiLCAibG9nZ2VyIiwgIl9fZGVjb3JhdGVDbGFzcyIsICJBX0NvbmNlcHQiLCAiQV9GZWF0dXJlIiwgIl9fZGVjb3JhdGVQYXJhbSIsICJBX0luamVjdCIsICJBX0xvZ2dlciIsICJBX1NlcnZpY2UiLCAiX0FfUm91dGUiLCAiQV9GcmFnbWVudCIsICJ1cmwiLCAicCIsICJwYXRoU3RhcnRJbmRleCIsICJwYXRoIiwgInBhcmFtIiwgInVybFNlZ21lbnRzIiwgIm1hc2tTZWdtZW50cyIsICJwYXJhbXMiLCAiaSIsICJtYXNrU2VnbWVudCIsICJ1cmxTZWdtZW50IiwgInBhcmFtTmFtZSIsICJxdWVyeSIsICJxdWVyeVN0cmluZyIsICJjbGVhblF1ZXJ5IiwgInBhaXIiLCAia2V5IiwgInZhbHVlIiwgImV4dGVuc2lvblNjb3BlIiwgIkFfU2lnbmFsRmVhdHVyZXMiLCAiQV9TaWduYWxWZWN0b3JGZWF0dXJlcyIsICJfQV9TaWduYWwiLCAiX2EiLCAiQV9FbnRpdHkiLCAic2VyaWFsaXplZEVudGl0eSIsICJuZXdFbnRpdHkiLCAic2NvcGUiLCAiX19uYW1lIiwgIkFfU2lnbmFsIiwgIl9BX1NpZ25hbFZlY3RvciIsICJzIiwgInBvaW50ZXIiLCAic2lnbmFscyIsICJzaWduYWxDb25zdHJ1Y3RvciIsICJzaWduYWxJbmRleCIsICJwYXJhbTEiLCAiaW5kZXgiLCAic3RydWN0dXJlIiwgInVzZWRTdHJ1Y3R1cmUiLCAicmVzdWx0cyIsICJkYXRhIiwgIm9iaiIsICJzaWduYWxOYW1lIiwgInNpZ25hbCIsICJBX1NpZ25hbFZlY3RvciIsICJfQV9TaWduYWxTdGF0ZSIsICJBX0ZyYWdtZW50IiwgInBhcmFtMiIsICJ2YWx1ZSIsICJwYXJhbSIsICJ2ZWN0b3IiLCAia2V5IiwgIkFfU2lnbmFsU3RhdGUiLCAiX0FfU2lnbmFsQ29uZmlnIiwgIkFfQ29udGV4dCIsICJlIiwgIkFfQ29tbW9uSGVscGVyIiwgImEiLCAiYiIsICJwYXJhbXMiLCAic3RyaW5nU3RydWN0dXJlIiwgIm5hbWUiLCAiQV9TaWduYWxDb25maWciLCAiX0FfU2lnbmFsQnVzIiwgIkFfQ29tcG9uZW50IiwgImdsb2JhbENvbmZpZyIsICJsb2dnZXIiLCAic3RhdGUiLCAiY29uZmlnIiwgImNvbXBvbmVudENvbnRleHQiLCAiX19kZWNvcmF0ZUNsYXNzIiwgIkFfRmVhdHVyZSIsICJfX2RlY29yYXRlUGFyYW0iLCAiQV9JbmplY3QiLCAiQV9DYWxsZXIiLCAiQV9TY29wZSIsICJBX0NvbmZpZyIsICJBX0xvZ2dlciIsICJBX1NpZ25hbEJ1cyIsICJfQV9EZWZlcnJlZCIsICJyZXNvbHZlIiwgInJlamVjdCIsICJyZWFzb24iLCAiQV9EZWZlcnJlZCIsICJfQV9TY2hlZHVsZU9iamVjdCIsICJtcyIsICJhY3Rpb24iLCAiYXJncyIsICJBX0Vycm9yIiwgIkFfU2NoZWR1bGVPYmplY3QiLCAiX0FfU2NoZWR1bGUiLCAiZGF0ZSIsICJjYWxsYmFjayIsICJ0aW1lc3RhbXAiLCAiQV9UeXBlR3VhcmRzIiwgImIiLCAiYiIsICJhIiwgImIiLCAiaSIsICJUIiwgIlQiLCAiX2EiLCAiVCIsICJBIiwgIl9hIiwgIlQiLCAiQSIsICJfYSIsICJUIiwgImN1cnJlbnQiLCAiQSIsICJfYSIsICJnZSIsICJUIiwgImYiLCAiUiIsICJUIiwgIkEiLCAiZGUiXQp9Cg==
