var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __decorateClass = (decorators, target, key, kind) => {
  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;
  for (var i2 = decorators.length - 1, decorator; i2 >= 0; i2--)
    if (decorator = decorators[i2])
      result = (kind ? decorator(target, key, result) : decorator(result)) || result;
  if (kind && result) __defProp(target, key, result);
  return result;
};
var __decorateParam = (index, decorator) => (target, key) => decorator(target, key, index);

// node_modules/@adaas/a-concept/dist/index.mjs
var Xe = Object.defineProperty;
var a = /* @__PURE__ */ __name((p, e) => Xe(p, "name", { value: e, configurable: true }), "a");
var N = { A_CONCEPT_NAME: "A_CONCEPT_NAME", A_CONCEPT_ROOT_SCOPE: "A_CONCEPT_ROOT_SCOPE", A_CONCEPT_ENVIRONMENT: "A_CONCEPT_ENVIRONMENT", A_CONCEPT_ROOT_FOLDER: "A_CONCEPT_ROOT_FOLDER", A_ERROR_DEFAULT_DESCRIPTION: "A_ERROR_DEFAULT_DESCRIPTION" };
var pt = [N.A_CONCEPT_NAME, N.A_CONCEPT_ROOT_SCOPE, N.A_CONCEPT_ENVIRONMENT, N.A_CONCEPT_ROOT_FOLDER, N.A_ERROR_DEFAULT_DESCRIPTION];
var Qe = ((i2) => (i2.INITIALIZED = "INITIALIZED", i2.PROCESSING = "PROCESSING", i2.COMPLETED = "COMPLETED", i2.INTERRUPTED = "INTERRUPTED", i2.FAILED = "FAILED", i2))(Qe || {});
var _a;
var ue = (_a = class {
  constructor() {
    this.meta = /* @__PURE__ */ new Map();
  }
  [Symbol.iterator]() {
    let e = this.meta.entries();
    return { next: a(() => e.next(), "next") };
  }
  from(e) {
    return this.meta = new Map(e.meta), this;
  }
  set(e, t) {
    let r = this.meta.get(e) || Array.isArray(t) ? [] : t instanceof Map ? /* @__PURE__ */ new Map() : {};
    this.meta.get(e) || Array.isArray(t) ? [...r] : t instanceof Map ? new Map(r) : { ...r };
    this.meta.set(e, t);
  }
  get(e) {
    return this.meta.get(e);
  }
  delete(e) {
    return this.meta.delete(e);
  }
  size() {
    return this.meta.size;
  }
  convertToRegExp(e) {
    return e instanceof RegExp ? e : new RegExp(e);
  }
  find(e) {
    let t = [];
    for (let [r, n] of this.meta.entries()) this.convertToRegExp(String(r)).test(e) && t.push([r, n]);
    return t;
  }
  findByRegex(e) {
    let t = [];
    for (let [r, n] of this.meta.entries()) e.test(String(r)) && t.push([r, n]);
    return t;
  }
  has(e) {
    return this.meta.has(e);
  }
  entries() {
    return this.meta.entries();
  }
  clear() {
    this.meta.clear();
  }
  toArray() {
    return Array.from(this.meta.entries());
  }
  recursiveToJSON(e) {
    switch (true) {
      case e instanceof _a:
        return e.toJSON();
      case e instanceof Map:
        let t = {};
        for (let [n, i2] of e.entries()) t[String(n)] = this.recursiveToJSON(i2);
        return t;
      case Array.isArray(e):
        return e.map((n) => this.recursiveToJSON(n));
      case (!!e && typeof e == "object"):
        let r = {};
        for (let [n, i2] of Object.entries(e)) r[n] = this.recursiveToJSON(i2);
        return r;
      default:
        return e;
    }
  }
  toJSON() {
    let e = {};
    for (let [t, r] of this.meta.entries()) e[String(t)] = this.recursiveToJSON(r);
    return e;
  }
}, __name(_a, "ue"), _a);
a(ue, "A_Meta");
var d = ue;
var et = ((n) => (n.EXTENSIONS = "a-component-extensions", n.FEATURES = "a-component-features", n.ABSTRACTIONS = "a-component-abstractions", n.INJECTIONS = "a-component-injections", n))(et || {});
var tt = ((r) => (r.SAVE = "save", r.DESTROY = "destroy", r.LOAD = "load", r))(tt || {});
var rt = ((n) => (n.FEATURES = "a-container-features", n.INJECTIONS = "a-container-injections", n.ABSTRACTIONS = "a-container-abstractions", n.EXTENSIONS = "a-container-extensions", n))(rt || {});
var nt = ((n) => (n.EXTENSIONS = "a-component-extensions", n.FEATURES = "a-component-features", n.INJECTIONS = "a-component-injections", n.ABSTRACTIONS = "a-component-abstractions", n))(nt || {});
var _a2;
var Se = (_a2 = class extends d {
  injections(e) {
    return this.get("a-component-injections")?.get(e) || [];
  }
  extensions(e) {
    let t = [];
    return this.get("a-component-extensions")?.find(e).forEach(([n, i2]) => {
      i2.forEach((s) => {
        t.push({ name: s.name, handler: s.handler, behavior: s.behavior, before: s.before || "", after: s.after || "", throwOnError: s.throwOnError || true, override: "" });
      });
    }), t;
  }
  features() {
    return this.get("a-component-features")?.toArray().map(([, t]) => t) || [];
  }
  abstractions(e) {
    let t = [], r = this.get("a-component-abstractions"), n = this.get("a-component-injections");
    return r?.find(`CONCEPT_ABSTRACTION::${e}`).forEach(([i2, s]) => {
      s.forEach((_) => {
        let l2 = n?.get(_.handler) || [];
        t.push({ ..._, args: l2 });
      });
    }), t;
  }
}, __name(_a2, "Se"), _a2);
a(Se, "A_ComponentMeta");
var $ = Se;
var _a3;
var he = (_a3 = class {
  get name() {
    return this.config?.name || this.constructor.name;
  }
  get scope() {
    return c.scope(this);
  }
  constructor(e = {}) {
    this.config = e, c.allocate(this, this.config);
  }
  async call(e, t) {
    return await new v({ name: e, component: this }).process(t);
  }
}, __name(_a3, "he"), _a3);
a(he, "A_Container");
var L = he;
var _a4;
var ye = (_a4 = class extends d {
  injections(e) {
    return this.get("a-container-injections")?.get(e) || [];
  }
  features() {
    return this.get("a-container-features")?.toArray().map(([, t]) => t) || [];
  }
  abstractions(e) {
    let t = [], r = this.get("a-container-abstractions"), n = this.get("a-container-injections");
    return r?.find(`CONCEPT_ABSTRACTION::${e}`).forEach(([i2, s]) => {
      s.forEach((_) => {
        let l2 = n?.get(_.handler) || [];
        t.push({ ..._, args: l2 });
      });
    }), t;
  }
  extensions(e) {
    let t = [];
    return this.get("a-container-extensions")?.find(e).forEach(([n, i2]) => {
      i2.forEach((s) => {
        t.push({ name: s.name, handler: s.handler, behavior: s.behavior, before: s.before || "", after: s.after || "", throwOnError: s.throwOnError || true, override: "" });
      });
    }), t;
  }
}, __name(_a4, "ye"), _a4);
a(ye, "A_ContainerMeta");
var J = ye;
var _a5;
var ge = (_a5 = class {
  static toUpperSnakeCase(e) {
    return e.trim().replace(/([a-z])([A-Z])/g, "$1_$2").replace(/[^a-zA-Z0-9]+/g, "_").replace(/_+/g, "_").replace(/^_|_$/g, "").toUpperCase();
  }
  static toCamelCase(e) {
    return e.trim().replace(/[^a-zA-Z0-9]+/g, " ").split(" ").filter(Boolean).map((t, r) => r === 0 ? t.toLowerCase() : t.charAt(0).toUpperCase() + t.slice(1).toLowerCase()).join("");
  }
  static toPascalCase(e) {
    return e.trim().replace(/([a-z])([A-Z])/g, "$1 $2").replace(/[^a-zA-Z0-9]+/g, " ").split(" ").filter(Boolean).map((t) => t.charAt(0).toUpperCase() + t.slice(1).toLowerCase()).join("");
  }
  static toKebabCase(e) {
    return e.replace(/[^a-zA-Z0-9]+/g, " ").replace(/([a-z0-9])([A-Z])/g, "$1 $2").trim().replace(/\s+/g, "-").toLowerCase();
  }
}, __name(_a5, "ge"), _a5);
a(ge, "A_FormatterHelper");
var y = ge;
var _a6;
var Ce = (_a6 = class {
  static generateTimeId(e = { timestamp: /* @__PURE__ */ new Date(), random: Math.random().toString(36).slice(2, 8) }) {
    let t = e.timestamp.getTime().toString(36), r = e.random;
    return `${t}-${r}`;
  }
  static parseTimeId(e) {
    let [t, r] = e.split("-");
    return { timestamp: new Date(parseInt(t, 36)), random: r };
  }
  static formatWithLeadingZeros(e, t = 10) {
    return String(e).padStart(t + 1, "0").slice(-t);
  }
  static removeLeadingZeros(e) {
    return String(Number(e));
  }
}, __name(_a6, "Ce"), _a6);
a(Ce, "A_IdentityHelper");
var K = Ce;
var H = { UNEXPECTED_ERROR: "A-Error Unexpected Error", VALIDATION_ERROR: "A-Error Validation Error" };
var Ge = "If you see this error please let us know.";
var _a7;
var j = (_a7 = class extends Error {
  static get entity() {
    return y.toKebabCase(this.name);
  }
  static get concept() {
    return c.concept;
  }
  static get scope() {
    return c.root.name;
  }
  constructor(e, t) {
    switch (true) {
      case e instanceof _a7:
        return e;
      case e instanceof Error:
        super(e.message);
        break;
      case o.isErrorSerializedType(e):
        super(e.message);
        break;
      case (o.isErrorConstructorType(e) && "description" in e):
        super(`[${e.title}]: ${e.description}`);
        break;
      case (o.isErrorConstructorType(e) && !("description" in e)):
        super(e.title);
        break;
      case (o.isString(e) && !t):
        super(e);
        break;
      case (o.isString(e) && !!t):
        super(`[${e}]: ${t}`);
        break;
      default:
        throw new _a7(H.VALIDATION_ERROR, "Invalid parameters provided to A_Error constructor");
    }
    this.getInitializer(e, t).call(this, e, t);
  }
  get aseid() {
    return this._aseid;
  }
  get title() {
    return this._title;
  }
  get message() {
    return super.message;
  }
  get code() {
    return this._code || y.toKebabCase(this.title);
  }
  get type() {
    return this.constructor.entity;
  }
  get link() {
    return this._link ? this._link : new URL(`https://adaas.support/a-concept/errors/${this.aseid.toString()}`).toString();
  }
  get scope() {
    return this._aseid.scope;
  }
  get description() {
    return this._description || process.env[N.A_ERROR_DEFAULT_DESCRIPTION] || Ge;
  }
  get originalError() {
    return this._originalError;
  }
  getInitializer(e, t) {
    switch (true) {
      case (o.isString(e) && !t):
        return this.fromMessage;
      case (o.isString(e) && !!t):
        return this.fromTitle;
      case e instanceof Error:
        return this.fromError;
      case o.isErrorSerializedType(e):
        return this.fromJSON;
      case o.isErrorConstructorType(e):
        return this.fromConstructor;
      default:
        throw new _a7(H.VALIDATION_ERROR, "Invalid parameters provided to A_Error constructor");
    }
  }
  fromError(e) {
    this._title = H.UNEXPECTED_ERROR, this._aseid = new I({ concept: this.constructor.concept, scope: this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._originalError = e;
  }
  fromMessage(e) {
    this._title = H.UNEXPECTED_ERROR, this._aseid = new I({ concept: this.constructor.concept, scope: this._scope || this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._link = void 0, this._originalError = void 0;
  }
  fromJSON(e) {
    this._aseid = new I(e.aseid), super.message = e.message, this._title = e.title, this._code = e.code, this._scope = e.scope, this._description = e.description, this._originalError = e.originalError ? new _a7(e.originalError) : void 0, this._link = e.link;
  }
  fromTitle(e, t) {
    this.validateTitle(e), this._title = e, this._description = t, this._aseid = new I({ concept: this.constructor.concept, scope: this._scope || this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._link = void 0, this._originalError = void 0;
  }
  fromConstructor(e) {
    if (this.validateTitle(e.title), this._title = e.title, this._code = e.code, this._scope = e.scope ? o.isScopeInstance(e.scope) ? e.scope.name : e.scope : void 0, this._aseid = new I({ concept: this.constructor.concept, scope: this._scope || this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._description = e.description, this._link = e.link, e.originalError instanceof _a7) {
      let t = e.originalError;
      for (; t.originalError instanceof _a7; ) t = t.originalError;
      this._originalError = t.originalError || t;
    } else this._originalError = e.originalError;
  }
  toJSON() {
    return { aseid: this.aseid.toString(), title: this.title, code: this.code, type: this.type, message: this.message, link: this.link, scope: this.scope, description: this.description, originalError: this.originalError?.message };
  }
  validateTitle(e) {
    if (e.length > 60) throw new _a7(H.VALIDATION_ERROR, "A-Error title exceeds 60 characters limit.");
    if (e.length === 0) throw new _a7(H.VALIDATION_ERROR, "A-Error title cannot be empty.");
  }
}, __name(_a7, "j"), _a7);
a(j, "A_Error");
var f = j;
var _a8;
var se = (_a8 = class extends f {
}, __name(_a8, "se"), _a8);
a(se, "ASEID_Error"), se.ASEIDInitializationError = "ASEID Initialization Error", se.ASEIDValidationError = "ASEID Validation Error";
var R = se;
var _a9;
var z = (_a9 = class {
  static isASEID(e) {
    return this.regexp.test(e);
  }
  constructor(e) {
    this.verifyInput(e), this.getInitializer(e).call(this, e);
  }
  get concept() {
    return this._concept || c.concept;
  }
  get scope() {
    return this._scope || c.root.name;
  }
  get entity() {
    return this._entity;
  }
  get id() {
    return this._id;
  }
  get version() {
    return this._version;
  }
  get shard() {
    return this._shard;
  }
  getInitializer(e) {
    switch (true) {
      case o.isString(e):
        return this.fromString;
      case o.isObject(e):
        return this.fromObject;
      default:
        throw new R(R.ASEIDInitializationError, "Invalid parameters provided to ASEID constructor");
    }
  }
  fromString(e) {
    let [t, r, n] = e.split("@"), [i2, s, _] = r.split(":"), l2 = _.includes(".") ? _.split(".")[0] : void 0, E2 = _.includes(".") ? _.split(".")[1] : _;
    this._concept = t || c.root.name, this._scope = i2 || c.root.name, this._entity = s, this._id = E2, this._version = n, this._shard = l2;
  }
  fromObject(e) {
    this._concept = e.concept ? _a9.isASEID(e.concept) ? new _a9(e.concept).id : e.concept : c.concept, this._scope = e.scope ? o.isNumber(e.scope) ? K.formatWithLeadingZeros(e.scope) : _a9.isASEID(e.scope) ? new _a9(e.scope).id : e.scope : c.root.name, this._entity = e.entity, this._id = o.isNumber(e.id) ? K.formatWithLeadingZeros(e.id) : e.id, this._version = e.version, this._shard = e.shard;
  }
  toString() {
    return `${this.concept}@${this.scope}:${this.entity}:${this.shard ? this.shard + "." + this.id : this.id}${this.version ? "@" + this.version : ""}`;
  }
  toJSON() {
    return { concept: this._concept, scope: this._scope, entity: this._entity, id: this._id, version: this._version, shard: this._shard };
  }
  verifyInput(e) {
    switch (true) {
      case (o.isString(e) && !_a9.isASEID(e)):
        throw new R(R.ASEIDValidationError, "Invalid ASEID format provided");
      case (o.isObject(e) && !e.id):
        throw new R(R.ASEIDValidationError, "ASEID id is required");
      case (o.isObject(e) && !e.entity):
        throw new R(R.ASEIDValidationError, "ASEID entity is required");
    }
  }
}, __name(_a9, "z"), _a9);
a(z, "ASEID"), z.regexp = new RegExp("^[a-z|A-Z|0-9|-]+@[a-z|A-Z|0-9|-]+:[a-z|A-Z|0-9|-]+:[a-z|A-Z|0-9|\\.|-]+(@v[0-9|\\.]+|@lts)?$");
var I = z;
var _a10;
var le = (_a10 = class extends f {
}, __name(_a10, "le"), _a10);
a(le, "A_EntityError"), le.ValidationError = "A-Entity Validation Error";
var ee = le;
var _a11;
var Pe = (_a11 = class {
  static get entity() {
    return y.toKebabCase(this.name);
  }
  static get concept() {
    return c.concept;
  }
  static get scope() {
    return c.root.name;
  }
  constructor(e) {
    this.getInitializer(e).call(this, e);
  }
  get id() {
    return this.aseid.id;
  }
  isStringASEID(e) {
    return typeof e == "string" && I.isASEID(e);
  }
  isASEIDInstance(e) {
    return e instanceof I;
  }
  isSerializedObject(e) {
    return !!e && typeof e == "object" && "aseid" in e;
  }
  isConstructorProps(e) {
    return !!e && typeof e == "object" && !("aseid" in e);
  }
  getInitializer(e) {
    if (!e) return this.fromUndefined;
    if (this.isStringASEID(e)) return this.fromASEID;
    if (this.isASEIDInstance(e)) return this.fromASEID;
    if (this.isSerializedObject(e)) return this.fromJSON;
    if (this.isConstructorProps(e)) return this.fromNew;
    throw new ee(ee.ValidationError, "Unable to determine A-Entity constructor initialization method. Please check the provided parameters.");
  }
  generateASEID(e) {
    return new I({ concept: e?.concept || this.constructor.concept, scope: e?.scope || this.constructor.scope, entity: e?.entity || this.constructor.entity, id: e?.id || K.generateTimeId() });
  }
  async call(e, t) {
    return await new v({ name: e, component: this, scope: t }).process(t);
  }
  async load(e) {
    return this.call("load", e);
  }
  async destroy(e) {
    return this.call("destroy", e);
  }
  async save(e) {
    return this.call("save", e);
  }
  fromASEID(e) {
    e instanceof I ? this.aseid = e : this.aseid = new I(e);
  }
  fromUndefined() {
    this.aseid = this.generateASEID();
  }
  fromNew(e) {
    this.aseid = this.generateASEID();
  }
  fromJSON(e) {
    this.aseid = new I(e.aseid);
  }
  toJSON() {
    return { aseid: this.aseid.toString() };
  }
  toString() {
    return this.aseid ? this.aseid.toString() : this.constructor.name;
  }
}, __name(_a11, "Pe"), _a11);
a(Pe, "A_Entity");
var M = Pe;
var _a12;
var Ie = (_a12 = class extends d {
  features() {
    return this.get("a-component-features")?.toArray().map(([, t]) => t) || [];
  }
  injections(e) {
    return this.get("a-component-injections")?.get(e) || [];
  }
}, __name(_a12, "Ie"), _a12);
a(Ie, "A_EntityMeta");
var W = Ie;
var _a13;
var be = (_a13 = class {
  constructor(e = {}) {
    this._name = e.name || this.constructor.name;
  }
  get name() {
    return this._name;
  }
  toJSON() {
    return { name: this.name };
  }
}, __name(_a13, "be"), _a13);
a(be, "A_Fragment");
var B = be;
var _a14;
var Ye = (_a14 = class {
  static resolve() {
    return new Promise((e) => e());
  }
  static isInheritedFrom(e, t) {
    let r = e;
    for (; r; ) {
      if (r === t) return true;
      r = Object.getPrototypeOf(r);
    }
    return false;
  }
  static getParentClasses(e) {
    let t = Object.getPrototypeOf(typeof e == "function" ? e : e.constructor), r = [];
    for (; t && t !== Function.prototype; ) r.push(t), t = Object.getPrototypeOf(t);
    return r;
  }
  static getClassInheritanceChain(e) {
    let t = Object.getPrototypeOf(typeof e == "function" ? e : e.constructor), r = typeof e == "function" ? [e] : [e.constructor];
    for (; t && t !== Function.prototype; ) r.push(t), t = Object.getPrototypeOf(t);
    return r;
  }
  static getParentClass(e) {
    return Object.getPrototypeOf(e);
  }
  static omitProperties(e, t) {
    let r = JSON.parse(JSON.stringify(e));
    function n(i2, s) {
      let _ = s[0];
      s.length === 1 ? delete i2[_] : i2[_] !== void 0 && typeof i2[_] == "object" && n(i2[_], s.slice(1));
    }
    __name(n, "n");
    return a(n, "removeProperties"), t.forEach((i2) => {
      let s = i2.split(".");
      n(r, s);
    }), r;
  }
  static isObject(e) {
    return e !== null && typeof e == "object" && !Array.isArray(e);
  }
  static deepMerge(e, t, r = /* @__PURE__ */ new Map()) {
    if (this.isObject(e) && this.isObject(t)) for (let n in t) this.isObject(t[n]) ? (e[n] || (e[n] = {}), r.has(t[n]) ? e[n] = r.get(t[n]) : (r.set(t[n], {}), this.deepMerge(e[n], t[n], r))) : e[n] = t[n];
    return e;
  }
  static deepClone(e) {
    if (e == null || typeof e != "object") return e;
    if (e instanceof Date) return new Date(e.getTime());
    if (Array.isArray(e)) return e.map((t) => this.deepClone(t));
    if (typeof e == "function") return e;
    if (e instanceof Object) {
      let t = {};
      for (let r in e) e.hasOwnProperty(r) && (t[r] = this.deepClone(e[r]));
      return t;
    }
    throw new Error("Unable to clone the object. Unsupported type.");
  }
  static deepCloneAndMerge(e, t) {
    if (t == null && e == null) return e;
    if (e == null && t) return this.deepClone(t);
    if (typeof e != "object") return e;
    if (e instanceof Date) return new Date(e.getTime());
    if (Array.isArray(e)) return e.map((r) => this.deepCloneAndMerge(r, t));
    if (typeof e == "function") return e;
    if (e instanceof Object) {
      let r = {};
      for (let n in e) t[n] !== null && t[n] !== void 0 ? r[n] = this.deepCloneAndMerge(e[n], t[n]) : r[n] = this.deepClone(e[n]);
      for (let n in t) e[n] !== void 0 && e[n] !== null ? r[n] = this.deepCloneAndMerge(e[n], t[n]) : r[n] = this.deepClone(t[n]);
      return r;
    }
    throw new Error("Unable to clone the object. Unsupported type.");
  }
  static getComponentName(e) {
    let t = "Unknown", r = "Anonymous";
    if (e == null) return t;
    if (typeof e == "string") return e || t;
    if (typeof e == "symbol") try {
      return e.toString();
    } catch {
      return t;
    }
    if (Array.isArray(e)) return e.length === 0 ? t : this.getComponentName(e[0]);
    if (typeof e == "function") {
      let n = e;
      if (n.displayName) return String(n.displayName);
      if (n.name) return String(n.name);
      try {
        let s = Function.prototype.toString.call(e).match(/^(?:class\s+([A-Za-z0-9_$]+)|function\s+([A-Za-z0-9_$]+)|([A-Za-z0-9_$]+)\s*=>)/);
        if (s) return s[1] || s[2] || s[3] || r;
      } catch {
      }
      return r;
    }
    if (typeof e == "object") {
      let n = e;
      if (n.type) return this.getComponentName(n.type);
      if (n.displayName) return String(n.displayName);
      if (n.name) return String(n.name);
      if (n.constructor && n.constructor.name && n.constructor.name !== "Object") return String(n.constructor.name);
      try {
        let i2 = n.toString();
        if (typeof i2 == "string" && i2 !== "[object Object]") return i2;
      } catch {
      }
      return r;
    }
    try {
      return String(e);
    } catch {
      return t;
    }
  }
}, __name(_a14, "Ye"), _a14);
a(Ye, "A_CommonHelper");
var u = Ye;
var _a15;
var U = (_a15 = class extends f {
}, __name(_a15, "U"), _a15);
a(U, "A_ScopeError"), U.InitializationError = "A-Scope Initialization Error", U.ConstructorError = "Unable to construct A-Scope instance", U.ResolutionError = "A-Scope Resolution Error", U.RegistrationError = "A-Scope Registration Error", U.CircularInheritanceError = "A-Scope Circular Inheritance Error", U.DeregistrationError = "A-Scope Deregistration Error";
var A = U;
var _a16;
var de = (_a16 = class {
  constructor(e, t) {
    this._meta = new d();
    this._allowedComponents = /* @__PURE__ */ new Set();
    this._allowedErrors = /* @__PURE__ */ new Set();
    this._allowedEntities = /* @__PURE__ */ new Set();
    this._allowedFragments = /* @__PURE__ */ new Set();
    this._components = /* @__PURE__ */ new Map();
    this._errors = /* @__PURE__ */ new Map();
    this._entities = /* @__PURE__ */ new Map();
    this._fragments = /* @__PURE__ */ new Map();
    this.getInitializer(e).call(this, e, t);
  }
  get name() {
    return this._name;
  }
  get meta() {
    return this._meta;
  }
  get allowedComponents() {
    return this._allowedComponents;
  }
  get allowedEntities() {
    return this._allowedEntities;
  }
  get allowedFragments() {
    return this._allowedFragments;
  }
  get allowedErrors() {
    return this._allowedErrors;
  }
  get entities() {
    return Array.from(this._entities.values());
  }
  get fragments() {
    return Array.from(this._fragments.values());
  }
  get components() {
    return Array.from(this._components.values());
  }
  get errors() {
    return Array.from(this._errors.values());
  }
  get parent() {
    return this._parent;
  }
  *parents() {
    let e = this._parent;
    for (; e; ) yield e, e = e._parent;
  }
  parentOffset(e) {
    let t = this.parent;
    for (; e < -1 && t; ) t = t.parent, e++;
    return t;
  }
  getInitializer(e, t) {
    switch (true) {
      case (!e && !t):
        return this.defaultInitialized;
      case !!e:
        return this.defaultInitialized;
      default:
        throw new A(A.ConstructorError, "Invalid parameters provided to A_Scope constructor");
    }
  }
  defaultInitialized(e = {}, t = {}) {
    this._name = e.name || this.constructor.name, this.initComponents(e.components), this.initErrors(e.errors), this.initFragments(e.fragments), this.initEntities(e.entities), this.initMeta(e.meta), t.parent && (this._parent = t.parent);
  }
  initComponents(e) {
    e?.forEach(this.register.bind(this));
  }
  initErrors(e) {
    e?.forEach(this.register.bind(this));
  }
  initEntities(e) {
    e?.forEach((t) => this.register(t));
  }
  initFragments(e) {
    e?.forEach(this.register.bind(this));
  }
  initMeta(e) {
    e && Object.entries(e).forEach(([t, r]) => {
      this._meta.set(t, r);
    });
  }
  destroy() {
    this._components.forEach((e) => c.deregister(e)), this._fragments.forEach((e) => c.deregister(e)), this._entities.forEach((e) => c.deregister(e)), this._components.clear(), this._errors.clear(), this._fragments.clear(), this._entities.clear(), this.issuer() && c.deallocate(this);
  }
  get(e) {
    return this._meta.get(e);
  }
  set(e, t) {
    this._meta.set(e, t);
  }
  issuer() {
    return c.issuer(this);
  }
  inherit(e) {
    if (!e) throw new A(A.InitializationError, "Invalid parent scope provided");
    if (e === this) throw new A(A.CircularInheritanceError, `Unable to inherit scope ${this.name} from itself`);
    if (e === this._parent) return this;
    let t = this.checkCircularInheritance(e);
    if (t) throw new A(A.CircularInheritanceError, `Circular inheritance detected: ${[...t, e.name].join(" -> ")}`);
    return this._parent = e, this;
  }
  has(e) {
    let t = this.hasFlat(e);
    if (!t && this._parent) try {
      return this._parent.has(e);
    } catch {
      return false;
    }
    return t;
  }
  hasFlat(e) {
    let t = false;
    switch (true) {
      case o.isScopeConstructor(e):
        return true;
      case o.isString(e): {
        Array.from(this.allowedComponents).find((_) => _.name === e) && (t = true), Array.from(this.allowedFragments).find((_) => _.name === e) && (t = true), Array.from(this.allowedEntities).find((_) => _.name === e) && (t = true), Array.from(this.allowedErrors).find((_) => _.name === e) && (t = true);
        break;
      }
      case o.isComponentConstructor(e): {
        t = this.isAllowedComponent(e) || !![...this.allowedComponents].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case o.isEntityConstructor(e): {
        t = this.isAllowedEntity(e) || !![...this.allowedEntities].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case o.isFragmentConstructor(e): {
        t = this.isAllowedFragment(e) || !![...this.allowedFragments].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case o.isErrorConstructor(e): {
        t = this.isAllowedError(e) || !![...this.allowedErrors].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case (this.issuer() && (this.issuer().constructor === e || u.isInheritedFrom(this.issuer().constructor, e))): {
        t = true;
        break;
      }
    }
    return t;
  }
  merge(e) {
    return new _a16({ name: `${this.name} + ${e.name}`, components: [...this.allowedComponents, ...e.allowedComponents], fragments: [...this.fragments, ...e.fragments], entities: [...this.entities, ...e.entities, ...this.allowedEntities, ...e.allowedEntities] }, { parent: this._parent || e._parent });
  }
  resolveConstructor(e) {
    let t = Array.from(this.allowedComponents).find((i2) => i2.name === e || i2.name === y.toPascalCase(e));
    if (t) return t;
    let r = Array.from(this.allowedEntities).find((i2) => i2.name === e || i2.name === y.toPascalCase(e) || i2.entity === e || i2.entity === y.toKebabCase(e));
    if (r) return r;
    let n = Array.from(this.allowedFragments).find((i2) => i2.name === e || i2.name === y.toPascalCase(e));
    if (n) return n;
    if (this._parent) return this._parent.resolveConstructor(e);
  }
  resolveAll(e) {
    let t = [], r = this.resolveFlatAll(e);
    t.push(...r);
    let n = this._parent;
    for (; n && n.has(e); ) {
      let i2 = n.resolveFlatAll(e);
      t.push(...i2), n = n._parent;
    }
    return t;
  }
  resolveFlatAll(e) {
    let t = [];
    switch (true) {
      case o.isComponentConstructor(e): {
        this.allowedComponents.forEach((r) => {
          if (u.isInheritedFrom(r, e)) {
            let n = this.resolve(r);
            n && t.push(n);
          }
        });
        break;
      }
      case o.isFragmentConstructor(e): {
        this.allowedFragments.forEach((r) => {
          if (u.isInheritedFrom(r, e)) {
            let n = this.resolve(r);
            n && t.push(n);
          }
        });
        break;
      }
      case o.isEntityConstructor(e): {
        this.entities.forEach((r) => {
          u.isInheritedFrom(r.constructor, e) && t.push(r);
        });
        break;
      }
      case o.isString(e): {
        let r = this.resolveConstructor(e);
        if (!o.isComponentConstructor(r) && !o.isEntityConstructor(r) && !o.isFragmentConstructor(r)) throw new A(A.ResolutionError, `Unable to resolve all instances for name: ${e} in scope ${this.name} as no matching component, entity or fragment constructor found`);
        if (r) {
          let n = this.resolveAll(r);
          n && t.push(...n);
        }
        break;
      }
      default:
        throw new A(A.ResolutionError, `Invalid parameter provided to resolveAll method: ${e} in scope ${this.name}`);
    }
    return t;
  }
  resolve(e, t) {
    return o.isArray(e) ? e.map((r) => this.resolveOnce(r, t)) : this.resolveOnce(e, t);
  }
  resolveFlat(e, t) {
    return o.isArray(e) ? e.map((r) => this.resolveFlatOnce(r, t)) : this.resolveFlatOnce(e, t);
  }
  resolveByName(e) {
    let t = Array.from(this.allowedComponents).find((s) => s.name === e || s.name === y.toPascalCase(e));
    if (t) return this.resolveOnce(t);
    let r = Array.from(this.allowedEntities).find((s) => s.name === e || s.name === y.toPascalCase(e) || s.entity === e || s.entity === y.toKebabCase(e));
    if (r) return this.resolveOnce(r);
    let n = Array.from(this.allowedFragments).find((s) => s.name === e || s.name === y.toPascalCase(e));
    if (n) return this.resolveOnce(n);
    let i2 = Array.from(this.allowedErrors).find((s) => s.name === e || s.name === y.toPascalCase(e) || s.code === e || s.code === y.toKebabCase(e));
    if (i2) return this.resolveOnce(i2);
  }
  resolveFlatOnce(e, t) {
    let r, n = u.getComponentName(e);
    if (!(!e || !this.has(e))) {
      switch (true) {
        case o.isString(e): {
          r = this.resolveByName(e);
          break;
        }
        case o.isConstructorAllowedForScopeAllocation(e): {
          r = this.resolveIssuer(e);
          break;
        }
        case o.isEntityConstructor(e): {
          r = this.resolveEntity(e, t);
          break;
        }
        case o.isFragmentConstructor(e): {
          r = this.resolveFragment(e);
          break;
        }
        case o.isScopeConstructor(e): {
          r = this.resolveScope(e);
          break;
        }
        case o.isComponentConstructor(e): {
          r = this.resolveComponent(e);
          break;
        }
        case o.isErrorConstructor(e): {
          r = this.resolveError(e);
          break;
        }
        default:
          throw new A(A.ResolutionError, `Injected Component ${n} not found in the scope`);
      }
      return r;
    }
  }
  resolveOnce(e, t) {
    let r = this.resolveFlatOnce(e, t);
    return !r && this.parent ? this.parent.resolveOnce(e, t) : r;
  }
  resolveIssuer(e) {
    let t = this.issuer();
    if (t && (t.constructor === e || u.isInheritedFrom(t?.constructor, e))) return t;
  }
  resolveEntity(e, t) {
    let r = t?.query || {}, n = t?.pagination?.count || 1;
    switch (true) {
      case !t:
        return this.entities.find((i2) => i2 instanceof e);
      case (!!r.aseid && typeof r.aseid == "string" && this._entities.has(r.aseid)):
        return this._entities.get(r.aseid);
      case (!!r.aseid && typeof r.aseid == "object" && r.aseid instanceof I && this._entities.has(r.aseid.toString())):
        return this._entities.get(r.aseid.toString());
      case !!r.id:
        return this.entities.filter((s) => s instanceof e).find((s) => String(s.id) === String(r.id));
      default: {
        let i2 = this.entities.filter((s) => s instanceof e).filter((s) => Object.entries(r).every(([_, l2]) => _ in s ? s[_] === l2 : false));
        return i2.length === 0 ? void 0 : n === 1 ? i2[0] : i2;
      }
    }
  }
  resolveError(e) {
    return this.errors.find((t) => t instanceof e);
  }
  resolveFragment(e) {
    let t = this._fragments.get(e);
    switch (true) {
      case (t && this._fragments.has(e)):
        return t;
      case (!t && Array.from(this._allowedFragments).some((r) => u.isInheritedFrom(r, e))): {
        let r = Array.from(this._allowedFragments).find((n) => u.isInheritedFrom(n, e));
        return this.resolveFragment(r);
      }
      default:
        return;
    }
  }
  resolveScope(e) {
    return this;
  }
  resolveComponent(e) {
    switch (true) {
      case (this.allowedComponents.has(e) && this._components.has(e)):
        return this._components.get(e);
      case (this.allowedComponents.has(e) && !this._components.has(e)): {
        let n = (c.meta(e).get("a-component-injections")?.get("constructor") || []).map((s) => {
          let _ = u.getComponentName(s.target);
          if ("instructions" in s && s.instructions) {
            let { target: l2, parent: E2, flat: C2, instructions: h } = s, P2 = this.resolve(l2, h);
            if (!P2) throw new A(A.ResolutionError, `Unable to resolve dependency ${_} for component ${e.name} in scope ${this.name}`);
            return P2;
          } else {
            let { target: l2, require: E2, create: C2, defaultArgs: h, parent: P2, flat: Y2 } = s, O;
            switch (true) {
              case Y2: {
                O = this.resolveFlat(l2);
                break;
              }
              case (P2 && typeof P2.layerOffset == "number"): {
                let oe2 = this.parentOffset(P2.layerOffset);
                if (!oe2) throw new A(A.ResolutionError, `Unable to resolve parent scope at offset ${P2.layerOffset} for dependency ${_} for component ${e.name} in scope ${this.name}`);
                O = oe2.resolve(l2);
                break;
              }
              default: {
                O = this.resolve(l2);
                break;
              }
            }
            if (C2 && !O && o.isAllowedForDependencyDefaultCreation(l2) && (O = new l2(...h), this.register(O)), E2 && !O) throw new A(A.ResolutionError, `Unable to resolve required dependency ${_} for component ${e.name} in scope ${this.name}`);
            return O;
          }
        }), i2 = new e(...n);
        return this.register(i2), this._components.get(e);
      }
      case (!this.allowedComponents.has(e) && Array.from(this.allowedComponents).some((t) => u.isInheritedFrom(t, e))): {
        let t = Array.from(this.allowedComponents).find((r) => u.isInheritedFrom(r, e));
        return this.resolveComponent(t);
      }
      default:
        return;
    }
  }
  register(e) {
    switch (true) {
      case e instanceof F: {
        this.allowedComponents.has(e.constructor) || this.allowedComponents.add(e.constructor), this._components.set(e.constructor, e), c.register(this, e);
        break;
      }
      case (o.isEntityInstance(e) && !this._entities.has(e.aseid.toString())): {
        this.allowedEntities.has(e.constructor) || this.allowedEntities.add(e.constructor), this._entities.set(e.aseid.toString(), e), c.register(this, e);
        break;
      }
      case o.isFragmentInstance(e): {
        this.allowedFragments.has(e.constructor) || this.allowedFragments.add(e.constructor), this._fragments.set(e.constructor, e), c.register(this, e);
        break;
      }
      case o.isErrorInstance(e): {
        this.allowedErrors.has(e.constructor) || this.allowedErrors.add(e.constructor), this._errors.set(e.code, e), c.register(this, e);
        break;
      }
      case o.isComponentConstructor(e): {
        this.allowedComponents.has(e) || this.allowedComponents.add(e);
        break;
      }
      case o.isFragmentConstructor(e): {
        this.allowedFragments.has(e) || this.allowedFragments.add(e);
        break;
      }
      case o.isEntityConstructor(e): {
        this.allowedEntities.has(e) || this.allowedEntities.add(e);
        break;
      }
      case o.isErrorConstructor(e): {
        this.allowedErrors.has(e) || this.allowedErrors.add(e);
        break;
      }
      default:
        if (e instanceof M) throw new A(A.RegistrationError, `Entity with ASEID ${e.aseid.toString()} is already registered in the scope ${this.name}`);
        if (e instanceof B) throw new A(A.RegistrationError, `Fragment ${e.constructor.name} is already registered in the scope ${this.name}`);
        {
          let t = u.getComponentName(e);
          throw new A(A.RegistrationError, `Cannot register ${t} in the scope ${this.name}`);
        }
    }
  }
  deregister(e) {
    switch (true) {
      case e instanceof F: {
        this._components.delete(e.constructor), c.deregister(e);
        break;
      }
      case o.isEntityInstance(e): {
        this._entities.delete(e.aseid.toString()), c.deregister(e);
        break;
      }
      case o.isFragmentInstance(e): {
        this._fragments.delete(e.constructor), c.deregister(e);
        break;
      }
      case o.isErrorInstance(e): {
        this._errors.delete(e.code), c.deregister(e);
        break;
      }
      case o.isComponentConstructor(e): {
        this.allowedComponents.delete(e);
        break;
      }
      case o.isFragmentConstructor(e): {
        this.allowedFragments.delete(e);
        break;
      }
      case o.isEntityConstructor(e): {
        this.allowedEntities.delete(e);
        break;
      }
      case o.isErrorConstructor(e): {
        this.allowedErrors.delete(e);
        break;
      }
      default:
        let t = u.getComponentName(e);
        throw new A(A.DeregistrationError, `Cannot deregister ${t} from the scope ${this.name}`);
    }
  }
  toJSON() {
    return this.fragments.reduce((e, t) => {
      let r = t.toJSON();
      return { ...e, [r.name]: r };
    }, {});
  }
  isAllowedComponent(e) {
    return o.isComponentConstructor(e) && this.allowedComponents.has(e);
  }
  isAllowedEntity(e) {
    return o.isEntityConstructor(e) && this.allowedEntities.has(e);
  }
  isAllowedFragment(e) {
    return o.isFragmentConstructor(e) && this.allowedFragments.has(e);
  }
  isAllowedError(e) {
    return o.isErrorConstructor(e) && this.allowedErrors.has(e);
  }
  isInheritedFrom(e) {
    let t = this;
    for (; t; ) {
      if (t === e) return true;
      t = t._parent;
    }
    return false;
  }
  checkCircularInheritance(e) {
    let t = [], r = this._parent;
    for (; r; ) {
      if (t.push(r.name), r === e) return t;
      r = r._parent;
    }
    return false;
  }
  printInheritanceChain() {
    let e = [], t = this;
    for (; t; ) e.push(t.name), t = t._parent;
    console.log(e.join(" -> "));
  }
}, __name(_a16, "de"), _a16);
a(de, "A_Scope");
var x = de;
var _a17;
var Ae = (_a17 = class extends f {
}, __name(_a17, "Ae"), _a17);
a(Ae, "A_CallerError"), Ae.CallerInitializationError = "Unable to initialize A-Caller";
var te = Ae;
var _a18;
var we = (_a18 = class {
  constructor(e) {
    this.validateParams(e), this._component = e;
  }
  get component() {
    return this._component;
  }
  validateParams(e) {
    if (!o.isAllowedForFeatureCall(e)) throw new te(te.CallerInitializationError, `Invalid A-Caller component provided of type: ${typeof e} with value: ${JSON.stringify(e).slice(0, 100)}...`);
  }
}, __name(_a18, "we"), _a18);
a(we, "A_Caller");
var V = we;
var _a19;
var T = (_a19 = class {
  static isString(e) {
    return typeof e == "string" || e instanceof String;
  }
  static isNumber(e) {
    return typeof e == "number" && isFinite(e);
  }
  static isBoolean(e) {
    return typeof e == "boolean";
  }
  static isArray(e) {
    return Array.isArray(e);
  }
  static isObject(e) {
    return e && typeof e == "object" && !Array.isArray(e);
  }
  static isFunction(e) {
    return typeof e == "function";
  }
  static isUndefined(e) {
    return typeof e > "u";
  }
  static isRegExp(e) {
    return e instanceof RegExp;
  }
  static isContainerConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, L);
  }
  static isComponentConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, F);
  }
  static isFragmentConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, B);
  }
  static isEntityConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, M);
  }
  static isScopeConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, x);
  }
  static isErrorConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, f);
  }
  static isFeatureConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, v);
  }
  static isCallerConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, V);
  }
  static isContainerInstance(e) {
    return e instanceof L;
  }
  static isComponentInstance(e) {
    return e instanceof F;
  }
  static isFeatureInstance(e) {
    return e instanceof v;
  }
  static isFragmentInstance(e) {
    return e instanceof B;
  }
  static isEntityInstance(e) {
    return e instanceof M;
  }
  static isScopeInstance(e) {
    return e instanceof x;
  }
  static isErrorInstance(e) {
    return e instanceof f;
  }
  static isComponentMetaInstance(e) {
    return e instanceof $;
  }
  static isContainerMetaInstance(e) {
    return e instanceof J;
  }
  static isEntityMetaInstance(e) {
    return e instanceof W;
  }
  static isConstructorAllowedForScopeAllocation(e) {
    return _a19.isContainerConstructor(e) || _a19.isFeatureConstructor(e);
  }
  static isInstanceAllowedForScopeAllocation(e) {
    return _a19.isContainerInstance(e) || _a19.isFeatureInstance(e);
  }
  static isConstructorAvailableForAbstraction(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e);
  }
  static isTargetAvailableForInjection(e) {
    return _a19.isComponentConstructor(e) || _a19.isComponentInstance(e) || _a19.isContainerInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForFeatureCall(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForFeatureDefinition(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForFeatureExtension(e) {
    return _a19.isComponentInstance(e) || _a19.isContainerInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForAbstractionDefinition(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e);
  }
  static isAllowedForDependencyDefaultCreation(e) {
    return _a19.isComponentConstructor(e) || u.isInheritedFrom(e, F) || _a19.isEntityConstructor(e) || u.isInheritedFrom(e, M);
  }
  static isErrorConstructorType(e) {
    return !!e && _a19.isObject(e) && !(e instanceof Error) && "title" in e;
  }
  static isErrorSerializedType(e) {
    return !!e && _a19.isObject(e) && !(e instanceof Error) && "aseid" in e && I.isASEID(e.aseid);
  }
}, __name(_a19, "T"), _a19);
a(T, "A_TypeGuards");
var o = T;
var _a20;
var q = (_a20 = class extends f {
  fromConstructor(e) {
    super.fromConstructor(e), this.stage = e.stage;
  }
}, __name(_a20, "q"), _a20);
a(q, "A_FeatureError"), q.Interruption = "Feature Interrupted", q.FeatureInitializationError = "Unable to initialize A-Feature", q.FeatureProcessingError = "Error occurred during A-Feature processing", q.FeatureDefinitionError = "Unable to define A-Feature", q.FeatureExtensionError = "Unable to extend A-Feature";
var S = q;
function ve(p = {}) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isAllowedForFeatureDefinition(e)) throw new S(S.FeatureDefinitionError, `A-Feature cannot be defined on the ${n} level`);
    let i2 = c.meta(e.constructor), s;
    switch (true) {
      case o.isEntityInstance(e):
        s = "a-component-features";
        break;
      case o.isContainerInstance(e):
        s = "a-container-features";
        break;
      case o.isComponentInstance(e):
        s = "a-component-features";
        break;
    }
    let _ = i2.get(s) || new d(), l2 = p.name || t, E2 = p.invoke || false;
    _.set(t, { name: `${e.constructor.name}.${l2}`, handler: t, invoke: E2, template: p.template && p.template.length ? p.template.map((h) => ({ ...h, before: h.before || "", after: h.after || "", behavior: h.behavior || "sync", throwOnError: true, override: h.override || "" })) : [] }), c.meta(e.constructor).set(s, _);
    let C2 = r.value;
    return r.value = function(...h) {
      if (E2) C2.apply(this, h);
      else return C2.apply(this, h);
      if (typeof this.call == "function" && E2) return this.call(l2);
    }, r;
  };
}
__name(ve, "ve");
a(ve, "A_Feature_Define");
function Fe(p) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isAllowedForFeatureExtension(e)) throw new S(S.FeatureExtensionError, `A-Feature-Extend cannot be applied on the ${n} level`);
    let i2, s = "sync", _ = "", l2 = "", E2 = "", C2 = [], h = [], P2 = true, Y2;
    switch (true) {
      case o.isEntityInstance(e):
        Y2 = "a-component-extensions";
        break;
      case o.isContainerInstance(e):
        Y2 = "a-container-extensions";
        break;
      case o.isComponentInstance(e):
        Y2 = "a-component-extensions";
        break;
    }
    switch (true) {
      case o.isRegExp(p):
        i2 = p;
        break;
      case (!!p && typeof p == "object"):
        Array.isArray(p.scope) ? C2 = p.scope : p.scope && typeof p.scope == "object" && (Array.isArray(p.scope.include) && (C2 = p.scope.include), Array.isArray(p.scope.exclude) && (h = p.scope.exclude)), i2 = ot(p, C2, h, t), s = p.behavior || s, P2 = p.throwOnError !== void 0 ? p.throwOnError : P2, _ = o.isArray(p.before) ? new RegExp(`^${p.before.join("|").replace(/\./g, "\\.")}$`).source : p.before instanceof RegExp ? p.before.source : "", l2 = o.isArray(p.after) ? new RegExp(`^${p.after.join("|").replace(/\./g, "\\.")}$`).source : p.after instanceof RegExp ? p.after.source : "", E2 = o.isArray(p.override) ? new RegExp(`^${p.override.join("|").replace(/\./g, "\\.")}$`).source : p.override instanceof RegExp ? p.override.source : "";
        break;
      default:
        i2 = new RegExp(`^.*${t.replace(/\./g, "\\.")}$`);
        break;
    }
    let O = c.meta(e).get(Y2), oe2 = c.meta(e), Q2 = oe2.get(Y2) ? new d().from(oe2.get(Y2)) : new d();
    if (O && O.size() && O.has(t) && O.get(t).invoke) throw new S(S.FeatureExtensionError, `A-Feature-Extend cannot be used on the method "${t}" because it is already defined as a Feature with "invoke" set to true. Please remove the A-Feature-Extend decorator or set "invoke" to false in the A-Feature decorator.`);
    let pe2 = [...Q2.get(i2.source) || []];
    for (let [ie2, me2] of Q2.entries()) {
      let qe = me2.findIndex((We2) => We2.handler === t);
      ie2 !== i2.source && qe !== -1 && (me2.splice(qe, 1), me2.length === 0 ? Q2.delete(ie2) : Q2.set(ie2, me2));
    }
    let Be = pe2.findIndex((ie2) => ie2.handler === t), Ve2 = { name: i2.source, handler: t, behavior: s, before: _, after: l2, throwOnError: P2, override: E2 };
    Be !== -1 ? pe2[Be] = Ve2 : pe2.push(Ve2), Q2.set(i2.source, pe2), c.meta(e).set(Y2, Q2);
  };
}
__name(Fe, "Fe");
a(Fe, "A_Feature_Extend");
function ot(p, e, t, r) {
  let n = e.length ? `(${e.map((_) => _.name).join("|")})` : ".*", i2 = t.length ? `(?!${t.map((_) => _.name).join("|")})` : "", s = p.scope ? `^${i2}${n}\\.${p.name || r}$` : `.*\\.${p.name || r}$`;
  return new RegExp(s);
}
__name(ot, "ot");
a(ot, "buildTargetRegexp");
var it = ((s) => (s.PROCESSING = "PROCESSING", s.COMPLETED = "COMPLETED", s.FAILED = "FAILED", s.SKIPPED = "SKIPPED", s.INITIALIZED = "INITIALIZED", s.ABORTED = "ABORTED", s))(it || {});
var _a21;
var fe = (_a21 = class extends f {
  static get CompileError() {
    return "Unable to compile A-Stage";
  }
}, __name(_a21, "fe"), _a21);
a(fe, "A_StageError"), fe.ArgumentsResolutionError = "A-Stage Arguments Resolution Error";
var k = fe;
var _a22;
var xe = (_a22 = class {
  constructor(e, t) {
    this._status = "INITIALIZED";
    this._feature = e, this._definition = t;
  }
  get name() {
    return this.toString();
  }
  get definition() {
    return this._definition;
  }
  get status() {
    return this._status;
  }
  get feature() {
    return this._feature;
  }
  get isProcessed() {
    return this._status === "COMPLETED" || this._status === "FAILED" || this._status === "SKIPPED";
  }
  get error() {
    return this._error;
  }
  async getStepArgs(e, t) {
    let r;
    switch (true) {
      case o.isContainerInstance(t.component):
        r = t.component.constructor;
        break;
      case o.isString(t.component):
        r = e.resolveConstructor(t.component);
        break;
      default:
        r = t.component;
        break;
    }
    return Promise.all(c.meta(r).injections(t.handler).map(async (n) => {
      switch (true) {
        case o.isCallerConstructor(n.target):
          return this._feature.caller.component;
        case o.isFeatureConstructor(n.target):
          return this._feature;
        default: {
          let { target: i2, require: s, create: _, defaultArgs: l2, parent: E2, flat: C2 } = n, h, P2 = e;
          switch (true) {
            case C2: {
              h = P2.resolveFlat(i2);
              break;
            }
            case (E2 && typeof E2.layerOffset == "number"): {
              let Y2 = P2.parentOffset(E2.layerOffset);
              if (!Y2) throw new k(k.ArgumentsResolutionError, `Unable to resolve parent scope at layer offset ${E2.layerOffset} for argument ${u.getComponentName(n.target)} for stage ${this.name} in scope ${e.name}`);
              h = Y2.resolve(i2), P2 = Y2;
              break;
            }
            default: {
              h = P2.resolve(i2);
              break;
            }
          }
          if (_ && !h && o.isAllowedForDependencyDefaultCreation(i2)) {
            let Y2 = new i2(...l2);
            return P2.register(Y2), Y2;
          }
          if (s && !h) throw new k(k.ArgumentsResolutionError, `Unable to resolve required argument ${u.getComponentName(n.target)} for stage ${this.name} in scope ${e.name}`);
          return h;
        }
      }
    }));
  }
  getStepComponent(e, t) {
    let { component: r, handler: n } = t, i2;
    switch (true) {
      case o.isContainerInstance(r):
        i2 = r;
        break;
      case o.isString(r):
        i2 = e.resolve(r) || this.feature.scope.resolve(r);
        break;
      default:
        i2 = e.resolve(r) || this.feature.scope.resolve(r);
        break;
    }
    if (!i2) throw new k(k.CompileError, `Unable to resolve component ${typeof r == "string" ? r : r.name} from scope ${e.name}`);
    if (!i2[n]) throw new k(k.CompileError, `Handler ${n} not found in ${i2.constructor.name}`);
    return i2;
  }
  async callStepHandler(e, t) {
    let r = await this.getStepComponent(t, e), n = await this.getStepArgs(t, e);
    return await r[e.handler](...n);
  }
  skip() {
    this._status = "SKIPPED";
  }
  async process(e) {
    let t = o.isScopeInstance(e) ? e : this._feature.scope;
    return this._processed || (this._processed = new Promise(async (r, n) => {
      try {
        return this._status = "PROCESSING", this._definition.behavior === "sync" ? await this.callStepHandler(this._definition, t) : this.callStepHandler(this._definition, t), this.completed(), r();
      } catch (i2) {
        let s = new f(i2);
        return this.failed(s), this._definition.throwOnError ? r() : n(s);
      }
    })), this._processed;
  }
  completed() {
    this._status = "COMPLETED";
  }
  failed(e) {
    this._error = new f(e), this._status = "FAILED";
  }
  toJSON() {
    return { name: this.name, status: this.status };
  }
  toString() {
    return `A-Stage(${this._feature.name}::${this._definition.behavior}@${this._definition.handler})`;
  }
}, __name(_a22, "xe"), _a22);
a(xe, "A_Stage");
var ae = xe;
var _a23;
var Ee = (_a23 = class extends f {
}, __name(_a23, "Ee"), _a23);
a(Ee, "A_StepManagerError"), Ee.CircularDependencyError = "A-StepManager Circular Dependency Error";
var _a24;
var De = (_a24 = class {
  constructor(e) {
    this._isBuilt = false;
    this.entities = this.prepareSteps(e), this.graph = /* @__PURE__ */ new Map(), this.visited = /* @__PURE__ */ new Set(), this.tempMark = /* @__PURE__ */ new Set(), this.sortedEntities = [];
  }
  prepareSteps(e) {
    return e.map((t) => ({ ...t, behavior: t.behavior || "sync", before: t.before || "", after: t.after || "", override: t.override || "", throwOnError: false }));
  }
  ID(e) {
    return `${typeof e.component == "string" ? e.component : e.component.name}.${e.handler}`;
  }
  buildGraph() {
    this._isBuilt || (this._isBuilt = true, this.entities = this.entities.filter((e, t, r) => !r.some((n) => n.override ? new RegExp(n.override).test(this.ID(e)) : false)), this.entities.forEach((e) => this.graph.set(this.ID(e), /* @__PURE__ */ new Set())), this.entities.forEach((e) => {
      let t = this.ID(e);
      e.before && this.matchEntities(t, e.before).forEach((n) => {
        this.graph.has(n) || this.graph.set(n, /* @__PURE__ */ new Set()), this.graph.get(n).add(t);
      }), e.after && this.matchEntities(t, e.after).forEach((n) => {
        this.graph.has(t) || this.graph.set(t, /* @__PURE__ */ new Set()), this.graph.get(t).add(n);
      });
    }));
  }
  matchEntities(e, t) {
    let r = new RegExp(t);
    return this.entities.filter((n) => r.test(this.ID(n)) && this.ID(n) !== e).map((n) => this.ID(n));
  }
  visit(e) {
    this.tempMark.has(e) || this.visited.has(e) || (this.tempMark.add(e), (this.graph.get(e) || []).forEach((t) => this.visit(t)), this.tempMark.delete(e), this.visited.add(e), this.sortedEntities.push(e));
  }
  toSortedArray() {
    return this.buildGraph(), this.entities.forEach((e) => {
      this.visited.has(this.ID(e)) || this.visit(this.ID(e));
    }), this.sortedEntities;
  }
  toStages(e) {
    return this.toSortedArray().map((r) => {
      let n = this.entities.find((i2) => this.ID(i2) === r);
      return new ae(e, n);
    });
  }
}, __name(_a24, "De"), _a24);
a(De, "A_StepsManager");
var ne = De;
var _a25;
var _e = (_a25 = class {
  constructor(e) {
    this._stages = [];
    this._index = 0;
    this._state = "INITIALIZED";
    this.validateParams(e), this.getInitializer(e).call(this, e);
  }
  static get Define() {
    return ve;
  }
  static get Extend() {
    return Fe;
  }
  get name() {
    return this._name;
  }
  get error() {
    return this._error;
  }
  get state() {
    return this._state;
  }
  get index() {
    return this._index;
  }
  get stage() {
    return this._current;
  }
  get caller() {
    return this._caller;
  }
  get scope() {
    return c.scope(this);
  }
  get size() {
    return this._stages.length;
  }
  get isDone() {
    return !this.stage || this._index >= this._stages.length;
  }
  get isProcessed() {
    return this.state === "COMPLETED" || this.state === "FAILED" || this.state === "INTERRUPTED";
  }
  [Symbol.iterator]() {
    return { next: a(() => this.isDone ? (this._current = void 0, { value: void 0, done: true }) : (this._current = this._stages[this._index], this._index++, { value: this._current, done: false }), "next") };
  }
  validateParams(e) {
    if (!e || typeof e != "object") throw new S(S.FeatureInitializationError, `Invalid A-Feature initialization parameters of type: ${typeof e} with value: ${JSON.stringify(e).slice(0, 100)}...`);
  }
  getInitializer(e) {
    switch (true) {
      case !("template" in e):
        return this.fromComponent;
      case "template" in e:
        return this.fromTemplate;
      default:
        throw new S(S.FeatureInitializationError, `Invalid A-Feature initialization parameters of type: ${typeof e} with value: ${JSON.stringify(e).slice(0, 100)}...`);
    }
  }
  fromTemplate(e) {
    if (!e.template || !Array.isArray(e.template)) throw new S(S.FeatureInitializationError, `Invalid A-Feature template provided of type: ${typeof e.template} with value: ${JSON.stringify(e.template).slice(0, 100)}...`);
    if (!e.component && (!e.scope || !(e.scope instanceof x))) throw new S(S.FeatureInitializationError, `Invalid A-Feature scope provided of type: ${typeof e.scope} with value: ${JSON.stringify(e.scope).slice(0, 100)}...`);
    this._name = e.name;
    let t, r = e.scope;
    try {
      e.component && (t = c.scope(e.component));
    } catch (i2) {
      if (!r) throw i2;
    }
    t && r && !r.isInheritedFrom(t) && r.inherit(t), this._caller = new V(e.component || new F()), c.allocate(this).inherit(t || r), this._SM = new ne(e.template), this._stages = this._SM.toStages(this), this._current = this._stages[0];
  }
  fromComponent(e) {
    if (!e.component || !o.isAllowedForFeatureDefinition(e.component)) throw new S(S.FeatureInitializationError, `Invalid A-Feature component provided of type: ${typeof e.component} with value: ${JSON.stringify(e.component).slice(0, 100)}...`);
    this._name = e.name;
    let t, r = e.scope;
    try {
      t = c.scope(e.component);
    } catch (s) {
      if (!r) throw s;
    }
    t && r && !r.isInheritedFrom(t) && r.inherit(t), this._caller = new V(e.component);
    let n = c.allocate(this);
    n.inherit(t || r);
    let i2 = c.featureTemplate(this._name, this._caller.component, n);
    this._SM = new ne(i2), this._stages = this._SM.toStages(this), this._current = this._stages[0];
  }
  async process(e) {
    try {
      if (this.isProcessed) return;
      this._state = "PROCESSING";
      for (let t of this) await t.process(e);
      return await this.completed();
    } catch (t) {
      return await this.failed(new S({ title: S.FeatureProcessingError, description: `An error occurred while processing the A-Feature: ${this.name}. Failed at stage: ${this.stage?.name || "N/A"}.`, stage: this.stage, originalError: t }));
    }
  }
  next(e) {
    let t = this._stages.indexOf(e);
    this._index = t + 1, this._index >= this._stages.length && this.completed();
  }
  async completed() {
    this.isProcessed || (this._state = "COMPLETED", this.scope.destroy());
  }
  async failed(e) {
    if (!this.isProcessed) throw this._state = "FAILED", this._error = e, this.scope.destroy(), this._error;
  }
  async interrupt(e) {
    if (!this.isProcessed) {
      switch (this._state = "INTERRUPTED", true) {
        case o.isString(e):
          this._error = new S(S.Interruption, e);
          break;
        case o.isErrorInstance(e):
          this._error = new S({ code: S.Interruption, title: e.title, description: e.description, stage: this.stage, originalError: e });
          break;
      }
      this.scope.destroy();
    }
  }
  chain(e, t, r) {
    let n, i2;
    e instanceof _a25 ? (n = e, i2 = t instanceof x ? t : void 0) : (n = new _a25({ name: t, component: e }), i2 = r instanceof x ? r : void 0);
    let s = i2 || this.scope;
    return n._caller = this._caller, n.process(s);
  }
  toString() {
    return `A-Feature(${this.caller.component?.constructor?.name || "Unknown"}::${this.name})`;
  }
}, __name(_a25, "_e"), _a25);
a(_e, "A_Feature");
var v = _e;
var _a26;
var Oe = (_a26 = class {
  async call(e, t) {
    return await new v({ name: e, component: this }).process(t);
  }
}, __name(_a26, "Oe"), _a26);
a(Oe, "A_Component");
var F = Oe;
var _a27;
var g = (_a27 = class extends f {
}, __name(_a27, "g"), _a27);
a(g, "A_ContextError"), g.NotAllowedForScopeAllocationError = "Component is not allowed for scope allocation", g.ComponentAlreadyHasScopeAllocatedError = "Component already has scope allocated", g.InvalidMetaParameterError = "Invalid parameter provided to get meta", g.InvalidScopeParameterError = "Invalid parameter provided to get scope", g.ScopeNotFoundError = "Scope not found", g.InvalidFeatureParameterError = "Invalid parameter provided to get feature", g.InvalidFeatureDefinitionParameterError = "Invalid parameter provided to define feature", g.InvalidFeatureTemplateParameterError = "Invalid parameter provided to get feature template", g.InvalidFeatureExtensionParameterError = "Invalid parameter provided to extend feature", g.InvalidAbstractionParameterError = "Invalid parameter provided to get abstraction", g.InvalidAbstractionDefinitionParameterError = "Invalid parameter provided to define abstraction", g.InvalidAbstractionTemplateParameterError = "Invalid parameter provided to get abstraction template", g.InvalidAbstractionExtensionParameterError = "Invalid parameter provided to extend abstraction", g.InvalidInjectionParameterError = "Invalid parameter provided to get injections", g.InvalidExtensionParameterError = "Invalid parameter provided to get extensions", g.InvalidRegisterParameterError = "Invalid parameter provided to register component", g.InvalidComponentParameterError = "Invalid component provided", g.ComponentNotRegisteredError = "Component not registered in the context", g.InvalidDeregisterParameterError = "Invalid parameter provided to deregister component";
var m = g;
var _a28;
var D = (_a28 = class {
  constructor() {
    this._registry = /* @__PURE__ */ new WeakMap();
    this._scopeIssuers = /* @__PURE__ */ new WeakMap();
    this._scopeStorage = /* @__PURE__ */ new WeakMap();
    this._metaStorage = /* @__PURE__ */ new Map();
    let e = "root";
    _a28.environment === "server" && (e = process.env[N.A_CONCEPT_ROOT_SCOPE] || "root"), _a28.environment === "browser" && (e = window[N.A_CONCEPT_ROOT_SCOPE] || "root"), this._root = new x({ name: e });
  }
  static get concept() {
    return process.env[N.A_CONCEPT_NAME] || "a-concept";
  }
  static get root() {
    return this.getInstance()._root;
  }
  static get environment() {
    let e = "browser";
    try {
      e = window.location ? "browser" : "server";
    } catch {
      e = "server";
    }
    return e;
  }
  static getInstance() {
    return _a28._instance || (_a28._instance = new _a28()), _a28._instance;
  }
  static register(e, t) {
    let r = u.getComponentName(t), n = this.getInstance();
    if (!t) throw new m(m.InvalidRegisterParameterError, "Unable to register component. Component cannot be null or undefined.");
    if (!e) throw new m(m.InvalidRegisterParameterError, "Unable to register component. Scope cannot be null or undefined.");
    if (!this.isAllowedToBeRegistered(t)) throw new m(m.NotAllowedForScopeAllocationError, `Component ${r} is not allowed for scope allocation.`);
    return n._scopeStorage.set(t, e), e;
  }
  static deregister(e) {
    let t = u.getComponentName(e), r = this.getInstance();
    if (!e) throw new m(m.InvalidDeregisterParameterError, "Unable to deregister component. Component cannot be null or undefined.");
    if (!r._scopeStorage.has(e)) throw new m(m.ComponentNotRegisteredError, `Unable to deregister component. Component ${t} is not registered.`);
    r._scopeStorage.delete(e);
  }
  static allocate(e, t) {
    let r = u.getComponentName(e);
    if (!this.isAllowedForScopeAllocation(e)) throw new m(m.NotAllowedForScopeAllocationError, `Component of type ${r} is not allowed for scope allocation. Only A_Container, A_Feature are allowed.`);
    let n = this.getInstance();
    if (n._registry.has(e)) throw new m(m.ComponentAlreadyHasScopeAllocatedError, `Component ${r} already has a scope allocated.`);
    let i2 = o.isScopeInstance(t) ? t : new x(t || { name: r + "-scope" }, t);
    return i2.isInheritedFrom(_a28.root) || i2.inherit(_a28.root), n._registry.set(e, i2), n._scopeIssuers.set(i2, e), i2;
  }
  static deallocate(e) {
    let t = this.getInstance(), r = o.isScopeInstance(e) ? e : t._registry.get(e);
    if (!r) return;
    let n = o.isComponentInstance(e) ? e : this.issuer(r);
    n && t._registry.delete(n), r && t._scopeIssuers.delete(r);
  }
  static meta(e) {
    let t = u.getComponentName(e), r = this.getInstance();
    if (!e) throw new m(m.InvalidMetaParameterError, "Invalid parameter provided to get meta. Parameter cannot be null or undefined.");
    if (!(this.isAllowedForMeta(e) || this.isAllowedForMetaConstructor(e) || o.isString(e) || o.isFunction(e))) throw new m(m.InvalidMetaParameterError, `Invalid parameter provided to get meta. Component of type ${t} is not allowed for meta storage. Only A_Container, A_Component and A_Entity are allowed.`);
    let n, i2;
    switch (true) {
      case o.isContainerInstance(e): {
        n = e.constructor, i2 = J;
        break;
      }
      case o.isContainerConstructor(e): {
        n = e, i2 = J;
        break;
      }
      case o.isComponentInstance(e): {
        n = e.constructor, i2 = $;
        break;
      }
      case o.isComponentConstructor(e): {
        n = e, i2 = $;
        break;
      }
      case o.isEntityInstance(e): {
        n = e.constructor, i2 = $;
        break;
      }
      case o.isEntityConstructor(e): {
        n = e, i2 = W;
        break;
      }
      case typeof e == "string": {
        let s = Array.from(r._metaStorage).find(([_]) => _.name === e || _.name === y.toKebabCase(e) || _.name === y.toPascalCase(e));
        if (!(s && s.length)) throw new m(m.InvalidMetaParameterError, `Invalid parameter provided to get meta. Component with name ${e} not found in the meta storage.`);
        n = s[0], i2 = $;
        break;
      }
      default: {
        n = e, i2 = d;
        break;
      }
    }
    if (!r._metaStorage.has(n)) {
      let s = r._metaStorage.get(Object.getPrototypeOf(n)) || new i2();
      r._metaStorage.set(n, new i2().from(s));
    }
    return r._metaStorage.get(n);
  }
  static issuer(e) {
    let t = this.getInstance();
    if (!e) throw new m(m.InvalidComponentParameterError, "Invalid parameter provided to get scope issuer. Parameter cannot be null or undefined.");
    return t._scopeIssuers.get(e);
  }
  static scope(e) {
    let t = e?.constructor?.name || String(e), r = this.getInstance();
    if (!e) throw new m(m.InvalidScopeParameterError, "Invalid parameter provided to get scope. Parameter cannot be null or undefined.");
    if (!this.isAllowedForScopeAllocation(e) && !this.isAllowedToBeRegistered(e)) throw new m(m.InvalidScopeParameterError, `Invalid parameter provided to get scope. Component of type ${t} is not allowed for scope allocation.`);
    switch (true) {
      case this.isAllowedForScopeAllocation(e):
        if (!r._registry.has(e)) throw new m(m.ScopeNotFoundError, `Invalid parameter provided to get scope. Component of type ${t} does not have a scope allocated. Make sure to allocate a scope using A_Context.allocate() method before trying to get the scope.`);
        return r._registry.get(e);
      case this.isAllowedToBeRegistered(e):
        if (!r._scopeStorage.has(e)) throw new m(m.ScopeNotFoundError, `Invalid parameter provided to get scope. Component of type ${t} does not have a scope registered. Make sure to register the component using A_Context.register() method before trying to get the scope.`);
        return r._scopeStorage.get(e);
      default:
        throw new m(m.InvalidScopeParameterError, `Invalid parameter provided to get scope. Component of type ${t} is not allowed to be registered.`);
    }
  }
  static featureTemplate(e, t, r = this.scope(t)) {
    let n = u.getComponentName(t);
    if (!t) throw new m(m.InvalidFeatureTemplateParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new m(m.InvalidFeatureTemplateParameterError, "Unable to get feature template. Feature name cannot be null or undefined.");
    if (!o.isAllowedForFeatureDefinition(t)) throw new m(m.InvalidFeatureTemplateParameterError, `Unable to get feature template. Component of type ${n} is not allowed for feature definition.`);
    return [...this.featureDefinition(e, t), ...this.featureExtensions(e, t, r)];
  }
  static featureExtensions(e, t, r) {
    let n = this.getInstance(), i2 = u.getComponentName(t);
    if (!t) throw new m(m.InvalidFeatureExtensionParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new m(m.InvalidFeatureExtensionParameterError, "Unable to get feature template. Feature name cannot be null or undefined.");
    if (!o.isAllowedForFeatureDefinition(t)) throw new m(m.InvalidFeatureExtensionParameterError, `Unable to get feature template. Component of type ${i2} is not allowed for feature definition.`);
    let s = u.getClassInheritanceChain(t).filter((l2) => l2 !== F && l2 !== L && l2 !== M).map((l2) => `${l2.name}.${e}`), _ = [];
    for (let l2 of s) for (let [E2, C2] of n._metaStorage) r.has(E2) && (o.isComponentMetaInstance(C2) || o.isContainerMetaInstance(C2)) && C2.extensions(l2).forEach((h) => {
      _.push({ component: E2, ...h });
    });
    return n.filterToMostDerived(r, _);
  }
  filterToMostDerived(e, t) {
    return t.filter((r) => {
      let n = typeof r.component == "string" ? e.resolveConstructor(r.component) : o.isContainerInstance(r.component) ? r.component.constructor : r.component;
      return !t.some((s) => {
        if (s === r) return false;
        let _ = typeof s.component == "string" ? e.resolveConstructor(s.component) : o.isContainerInstance(s.component) ? s.component.constructor : s.component;
        return n.prototype.isPrototypeOf(_.prototype);
      });
    });
  }
  static featureDefinition(e, t) {
    let r;
    if (!e) throw new m(m.InvalidFeatureTemplateParameterError, "Unable to get feature template. Feature name cannot be null or undefined.");
    if (!t) throw new m(m.InvalidFeatureTemplateParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    switch (true) {
      case t instanceof M:
        r = "a-component-features";
        break;
      case t instanceof L:
        r = "a-container-features";
        break;
      case t instanceof F:
        r = "a-component-features";
        break;
      default:
        throw new m(m.InvalidFeatureTemplateParameterError, `A-Feature cannot be defined on the ${t} level`);
    }
    return [...this.meta(t)?.get(r)?.get(e)?.template || []];
  }
  static abstractionTemplate(e, t) {
    let r = u.getComponentName(t);
    if (!t) throw new m(m.InvalidAbstractionTemplateParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new m(m.InvalidAbstractionTemplateParameterError, "Unable to get feature template. Abstraction stage cannot be null or undefined.");
    if (!o.isAllowedForAbstractionDefinition(t)) throw new m(m.InvalidAbstractionTemplateParameterError, `Unable to get feature template. Component of type ${r} is not allowed for feature definition.`);
    return [...this.abstractionExtensions(e, t)];
  }
  static abstractionExtensions(e, t) {
    let r = this.getInstance(), n = u.getComponentName(t);
    if (!t) throw new m(m.InvalidAbstractionExtensionParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new m(m.InvalidAbstractionExtensionParameterError, "Unable to get feature template. Abstraction stage cannot be null or undefined.");
    if (!o.isAllowedForAbstractionDefinition(t)) throw new m(m.InvalidAbstractionExtensionParameterError, `Unable to get feature template. Component of type ${n} is not allowed for feature definition.`);
    let i2 = [], s = this.scope(t);
    for (let [_, l2] of r._metaStorage) s.has(_) && (o.isComponentMetaInstance(l2) || o.isContainerMetaInstance(l2)) && l2.abstractions(e).forEach((E2) => {
      i2.push({ component: _, ...E2 });
    });
    return r.filterToMostDerived(s, i2);
  }
  static reset() {
    let e = _a28.getInstance();
    e._registry = /* @__PURE__ */ new WeakMap();
    let t = "root";
    _a28.environment === "server" && (t = process.env[N.A_CONCEPT_ROOT_SCOPE] || "root"), _a28.environment === "browser" && (t = window[N.A_CONCEPT_ROOT_SCOPE] || "root"), e._root = new x({ name: t });
  }
  static isAllowedForScopeAllocation(e) {
    return o.isContainerInstance(e) || o.isFeatureInstance(e);
  }
  static isAllowedToBeRegistered(e) {
    return o.isEntityInstance(e) || o.isComponentInstance(e) || o.isFragmentInstance(e) || o.isErrorInstance(e);
  }
  static isAllowedForMeta(e) {
    return o.isContainerInstance(e) || o.isComponentInstance(e) || o.isEntityInstance(e);
  }
  static isAllowedForMetaConstructor(e) {
    return o.isContainerConstructor(e) || o.isComponentConstructor(e) || o.isEntityConstructor(e);
  }
}, __name(_a28, "D"), _a28);
a(D, "A_Context");
var c = D;
var _a29;
var Te = (_a29 = class extends f {
}, __name(_a29, "Te"), _a29);
a(Te, "A_AbstractionError"), Te.AbstractionExtensionError = "Unable to extend abstraction execution";
var G = Te;
function Ne(p, e = {}) {
  return function(t, r, n) {
    let i2 = u.getComponentName(t);
    if (!p) throw new G(G.AbstractionExtensionError, `Abstraction name must be provided to extend abstraction for '${i2}'.`);
    if (!o.isConstructorAvailableForAbstraction(t)) throw new G(G.AbstractionExtensionError, `Unable to extend Abstraction '${p}' for '${i2}'. Only A-Containers and A-Components can extend Abstractions.`);
    let s, _ = c.meta(t);
    switch (true) {
      case (o.isContainerConstructor(t) || o.isContainerInstance(t)):
        s = "a-container-abstractions";
        break;
      case (o.isComponentConstructor(t) || o.isComponentInstance(t)):
        s = "a-component-abstractions";
        break;
    }
    let l2 = `CONCEPT_ABSTRACTION::${p}`, E2 = _.get(s) ? new d().from(_.get(s)) : new d(), C2 = [...E2.get(l2) || []], h = C2.findIndex((Y2) => Y2.handler === r), P2 = { name: l2, handler: r, behavior: e.behavior || "sync", throwOnError: e.throwOnError !== void 0 ? e.throwOnError : true, before: o.isArray(e.before) ? new RegExp(`^${e.before.join("|").replace(/\./g, "\\.")}$`).source : e.before instanceof RegExp ? e.before.source : "", after: o.isArray(e.after) ? new RegExp(`^${e.after.join("|").replace(/\./g, "\\.")}$`).source : e.after instanceof RegExp ? e.after.source : "", override: o.isArray(e.override) ? new RegExp(`^${e.override.join("|").replace(/\./g, "\\.")}$`).source : e.after instanceof RegExp ? e.after.source : "" };
    h !== -1 ? C2[h] = P2 : C2.push(P2), E2.set(l2, C2), c.meta(t).set(s, E2);
  };
}
__name(Ne, "Ne");
a(Ne, "A_Abstraction_Extend");
var _a30;
var Re = (_a30 = class {
  constructor(e) {
    this._features = [];
    this._index = 0;
    this._name = e.name, this._features = e.containers.map((t) => {
      let r = c.abstractionTemplate(this._name, t);
      return new v({ name: this._name, component: t, template: r });
    }), this._current = this._features[0];
  }
  static get Extend() {
    return Ne;
  }
  get name() {
    return this._name;
  }
  get feature() {
    return this._current;
  }
  get isDone() {
    return !this.feature || this._index >= this._features.length;
  }
  [Symbol.iterator]() {
    return { next: a(() => this.isDone ? (this._current = void 0, { value: void 0, done: true }) : (this._current = this._features[this._index], { value: this._current, done: false }), "next") };
  }
  next(e) {
    if (this._index >= this._features.length) return;
    let t = this._features.indexOf(e);
    this._index = t + 1;
  }
  async process(e) {
    if (!this.isDone) for (let t of this._features) await t.process(e);
  }
}, __name(_a30, "Re"), _a30);
a(Re, "A_Abstraction");
var w = Re;
var st = ((_) => (_.Run = "run", _.Build = "build", _.Publish = "publish", _.Deploy = "deploy", _.Load = "load", _.Start = "start", _.Stop = "stop", _))(st || {});
var at = ((e) => (e.LIFECYCLE = "a-component-extensions", e))(at || {});
var _a31;
var ke = (_a31 = class {
  constructor(e) {
    this.props = e;
    this._name = e.name || c.root.name, e.components && e.components.length && e.components.forEach((t) => this.scope.register(t)), e.fragments && e.fragments.length && e.fragments.forEach((t) => this.scope.register(t)), e.entities && e.entities.length && e.entities.forEach((t) => this.scope.register(t)), this._containers = e.containers || [];
  }
  static Load(e) {
    return w.Extend("load", e);
  }
  static Publish(e) {
    return w.Extend("publish");
  }
  static Deploy(e) {
    return w.Extend("deploy", e);
  }
  static Build(e) {
    return w.Extend("build", e);
  }
  static Run(e) {
    return w.Extend("run", e);
  }
  static Start(e) {
    return w.Extend("start", e);
  }
  static Stop(e) {
    return w.Extend("stop", e);
  }
  get name() {
    return c.root.name;
  }
  get scope() {
    return c.root;
  }
  get register() {
    return this.scope.register.bind(this.scope);
  }
  get resolve() {
    return this.scope.resolve.bind(this.scope);
  }
  async load(e) {
    await new w({ name: "load", containers: this._containers }).process(e);
  }
  async run(e) {
    await new w({ name: "run", containers: this._containers }).process(e);
  }
  async start(e) {
    await new w({ name: "start", containers: this._containers }).process(e);
  }
  async stop(e) {
    await new w({ name: "stop", containers: this._containers }).process(e);
  }
  async build(e) {
    await new w({ name: "build", containers: this._containers }).process(e);
  }
  async deploy(e) {
    await new w({ name: "deploy", containers: this._containers }).process(e);
  }
  async publish(e) {
    await new w({ name: "publish", containers: this._containers }).process(e);
  }
  async call(e, t) {
    return await new v({ name: e, component: t }).process();
  }
}, __name(_a31, "ke"), _a31);
a(ke, "A_Concept");
var Me = ke;
var _a32;
var $e = (_a32 = class extends d {
  constructor(t) {
    super();
    this.containers = t;
  }
}, __name(_a32, "$e"), _a32);
a($e, "A_ConceptMeta");
var _a33;
var X = (_a33 = class extends f {
}, __name(_a33, "X"), _a33);
a(X, "A_DependencyError"), X.InvalidDependencyTarget = "Invalid Dependency Target", X.InvalidLoadTarget = "Invalid Load Target", X.InvalidLoadPath = "Invalid Load Path", X.InvalidDefaultTarget = "Invalid Default Target";
var b = X;
function Le(...p) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isTargetAvailableForInjection(e)) throw new b(b.InvalidDefaultTarget, `A-Default cannot be used on the target of type ${typeof e} (${n})`);
    let i2 = t ? String(t) : "constructor", s;
    switch (true) {
      case (o.isComponentConstructor(e) || o.isComponentInstance(e)):
        s = "a-component-injections";
        break;
      case o.isContainerInstance(e):
        s = "a-container-injections";
        break;
    }
    let _ = c.meta(e).get(s) || new d(), l2 = _.get(i2) || [];
    l2[r] = { ...l2[r] || {}, defaultArgs: p, create: true }, _.set(i2, l2), c.meta(e).set(s, _);
  };
}
__name(Le, "Le");
a(Le, "A_Dependency_Default");
function Ze() {
  return function(p, e, t) {
    let r = u.getComponentName(p);
    if (!o.isTargetAvailableForInjection(p)) throw new b(b.InvalidDependencyTarget, `A-Dependency cannot be used on the target of type ${typeof p} (${r})`);
    let n = e ? String(e) : "constructor", i2;
    switch (true) {
      case (o.isComponentConstructor(p) || o.isComponentInstance(p)):
        i2 = "a-component-injections";
        break;
      case o.isContainerInstance(p):
        i2 = "a-container-injections";
        break;
    }
    let s = c.meta(p).get(i2) || new d(), _ = s.get(n) || [];
    _[t] = { ..._[t] || {}, flat: true }, s.set(n, _), c.meta(p).set(i2, s);
  };
}
__name(Ze, "Ze");
a(Ze, "A_Dependency_Flat");
function ze(p) {
  if (!p || typeof p != "string") throw new b(b.InvalidLoadPath, "A-Load decorator requires a valid path string to the dependency");
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isTargetAvailableForInjection(e)) throw new b(b.InvalidLoadTarget, `A-Load cannot be used on the target of type ${typeof e} (${n})`);
    let i2 = t ? String(t) : "constructor", s;
    switch (true) {
      case (o.isComponentConstructor(e) || o.isComponentInstance(e)):
        s = "a-component-injections";
        break;
      case o.isContainerInstance(e):
        s = "a-container-injections";
        break;
    }
    let _ = c.meta(e).get(s) || new d(), l2 = _.get(i2) || [];
    l2[r] = { ...l2[r] || {}, load: p }, _.set(i2, l2), c.meta(e).set(s, _);
  };
}
__name(ze, "ze");
a(ze, "A_Dependency_Load");
function He(p = -1) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isTargetAvailableForInjection(e)) throw new b(b.InvalidDependencyTarget, `A-Dependency cannot be used on the target of type ${typeof e} (${n})`);
    let i2 = t ? String(t) : "constructor", s;
    switch (true) {
      case (o.isComponentConstructor(e) || o.isComponentInstance(e)):
        s = "a-component-injections";
        break;
      case o.isContainerInstance(e):
        s = "a-container-injections";
        break;
    }
    let _ = c.meta(e).get(s) || new d(), l2 = _.get(i2) || [];
    l2[r] = { ...l2[r] || {}, parent: { layerOffset: p } }, _.set(i2, l2), c.meta(e).set(s, _);
  };
}
__name(He, "He");
a(He, "A_Dependency_Parent");
function Ue() {
  return function(p, e, t) {
    let r = u.getComponentName(p);
    if (!o.isTargetAvailableForInjection(p)) throw new b(b.InvalidDependencyTarget, `A-Dependency cannot be used on the target of type ${typeof p} (${r})`);
    let n = e ? String(e) : "constructor", i2;
    switch (true) {
      case (o.isComponentConstructor(p) || o.isComponentInstance(p)):
        i2 = "a-component-injections";
        break;
      case o.isContainerInstance(p):
        i2 = "a-container-injections";
        break;
    }
    let s = c.meta(p).get(i2) || new d(), _ = s.get(n) || [];
    _[t] = { ..._[t] || {}, require: true }, s.set(n, _), c.meta(p).set(i2, s);
  };
}
__name(Ue, "Ue");
a(Ue, "A_Dependency_Require");
var _a34;
var Ke = (_a34 = class {
  static get Required() {
    return Ue;
  }
  static get Loaded() {
    return ze;
  }
  static get Default() {
    return Le;
  }
  static get Parent() {
    return He;
  }
  static get Flat() {
    return Ze;
  }
  constructor(e) {
    this._name = e;
  }
  get name() {
    return this._name;
  }
}, __name(_a34, "Ke"), _a34);
a(Ke, "A_Dependency");
var Je = Ke;
var _a35;
var ce = (_a35 = class extends f {
}, __name(_a35, "ce"), _a35);
a(ce, "A_InjectError"), ce.InvalidInjectionTarget = "Invalid target for A-Inject decorator", ce.MissingInjectionTarget = "Missing target for A-Inject decorator";
var Z = ce;
function _t(p, e) {
  if (!p) throw new Z(Z.MissingInjectionTarget, "A-Inject decorator is missing the target to inject");
  return function(t, r, n) {
    let i2 = u.getComponentName(t);
    if (!o.isTargetAvailableForInjection(t)) throw new Z(Z.InvalidInjectionTarget, `A-Inject cannot be used on the target of type ${typeof t} (${i2})`);
    let s = r ? String(r) : "constructor", _;
    switch (true) {
      case (o.isComponentConstructor(t) || o.isComponentInstance(t)):
        _ = "a-component-injections";
        break;
      case o.isContainerInstance(t):
        _ = "a-container-injections";
        break;
      case o.isEntityInstance(t):
        _ = "a-component-injections";
        break;
    }
    let l2 = c.meta(t).get(_) || new d(), E2 = l2.get(s) || [];
    E2[n] = { target: p, instructions: e }, l2.set(s, E2), c.meta(t).set(_, l2);
  };
}
__name(_t, "_t");
a(_t, "A_Inject");

// node_modules/@adaas/a-utils/dist/index.mjs
var wt = Object.defineProperty;
var Yt = Object.getOwnPropertyDescriptor;
var i = /* @__PURE__ */ __name((j2, t) => wt(j2, "name", { value: t, configurable: true }), "i");
var c2 = /* @__PURE__ */ __name((j2, t, e, r) => {
  for (var o2 = r > 1 ? void 0 : r ? Yt(t, e) : t, n = j2.length - 1, s; n >= 0; n--) (s = j2[n]) && (o2 = (r ? s(t, e, o2) : s(o2)) || o2);
  return r && o2 && wt(t, e, o2), o2;
}, "c");
var l = /* @__PURE__ */ __name((j2, t) => (e, r) => t(e, r, j2), "l");
var _a36;
var $e2 = (_a36 = class extends B {
  constructor(t, e) {
    super({ name: t }), this._meta = new d();
    for (let r in e) this._meta.set(r, e[r]);
  }
  [Symbol.iterator]() {
    return this._meta[Symbol.iterator]();
  }
  get meta() {
    return this._meta;
  }
  get(t) {
    return this._meta.get(t);
  }
  set(t, e) {
    return this._meta.set(t, e), this;
  }
  has(t) {
    return this._meta.has(t);
  }
  drop(t) {
    this._meta.delete(t);
  }
  clear() {
    return this._meta.clear(), this;
  }
  toRaw() {
    return this._meta.toJSON();
  }
  toJSON() {
    return { name: this.name, ...this.meta.toJSON() };
  }
}, __name(_a36, "$e"), _a36);
i($e2, "A_ExecutionContext");
var b2 = $e2;
var _a37;
var Ue2 = (_a37 = class extends b2 {
  constructor(t, e) {
    super("operation-context"), this.meta.set("name", t), this.meta.set("params", e || {});
  }
  get name() {
    return this._meta.get("name") || this._name;
  }
  get result() {
    return this._meta.get("result");
  }
  get error() {
    return this._meta.get("error");
  }
  get params() {
    return this._meta.get("params") || {};
  }
  fail(t) {
    this._meta.set("error", t);
  }
  succeed(t) {
    this._meta.set("result", t);
  }
  toJSON() {
    return { name: this.name, params: this.params, result: this.result || {}, error: this.error?.toJSON() };
  }
}, __name(_a37, "Ue"), _a37);
i(Ue2, "A_OperationContext");
var u2 = Ue2;
var _a38;
var ye2 = (_a38 = class extends f {
  constructor(t, e) {
    o.isString(e) ? super(t, e) : super(t), e instanceof u2 && (this._context = e);
  }
  get context() {
    return this._context;
  }
}, __name(_a38, "ye"), _a38);
i(ye2, "A_ChannelError"), ye2.MethodNotImplemented = "A-Channel Method Not Implemented";
var q2 = ye2;
var Ht = ((m2) => (m2.onTimeout = "_A_Channel_onTimeout", m2.onRetry = "_A_Channel_onRetry", m2.onCircuitBreakerOpen = "_A_Channel_onCircuitBreakerOpen", m2.onCache = "_A_Channel_onCache", m2.onConnect = "_A_Channel_onConnect", m2.onDisconnect = "_A_Channel_onDisconnect", m2.onBeforeRequest = "_A_Channel_onBeforeRequest", m2.onRequest = "_A_Channel_onRequest", m2.onAfterRequest = "_A_Channel_onAfterRequest", m2.onError = "_A_Channel_onError", m2.onSend = "_A_Channel_onSend", m2.onConsume = "_A_Channel_onConsume", m2))(Ht || {});
var jt = ((r) => (r.PENDING = "PENDING", r.SUCCESS = "SUCCESS", r.FAILED = "FAILED", r))(jt || {});
var _a39;
var Ye2 = (_a39 = class extends u2 {
  constructor(t) {
    super("request", t);
  }
  get status() {
    return this.result?.status;
  }
  get data() {
    return this.result?.data;
  }
  succeed(t) {
    let e = this.result;
    super.succeed({ ...e, data: t, status: "SUCCESS" });
  }
}, __name(_a39, "Ye"), _a39);
i(Ye2, "A_ChannelRequest");
var le2 = Ye2;
var _a40;
var M2 = (_a40 = class extends F {
  constructor() {
    super();
    this._processing = false;
    this._cache = /* @__PURE__ */ new Map();
  }
  get processing() {
    return this._processing;
  }
  get initialize() {
    return this._initialized || (this._initialized = this.connect()), this._initialized;
  }
  async onConnect(...e) {
  }
  async onDisconnect(...e) {
  }
  async onBeforeRequest(...e) {
  }
  async onRequest(...e) {
  }
  async onAfterRequest(...e) {
  }
  async onError(...e) {
  }
  async onSend(...e) {
  }
  async connect() {
    await this.call("_A_Channel_onConnect");
  }
  async disconnect() {
    await this.call("_A_Channel_onDisconnect");
  }
  async request(e) {
    await this.initialize, this._processing = true;
    let r = new x({ name: `a-channel@scope:request:${K.generateTimeId()}` }).inherit(c.scope(this)), o2 = new le2(e);
    try {
      return r.register(o2), await this.call("_A_Channel_onBeforeRequest", r), await this.call("_A_Channel_onRequest", r), await this.call("_A_Channel_onAfterRequest", r), this._processing = false, o2;
    } catch (n) {
      this._processing = false;
      let s = new q2(n);
      throw o2.fail(s), r.register(s), await this.call("_A_Channel_onError", r), r.destroy(), s;
    }
  }
  async send(e) {
    await this.initialize, this._processing = true;
    let r = new x({ name: `a-channel@scope:send:${K.generateTimeId()}` }).inherit(c.scope(this)), o2 = new u2("send", e);
    try {
      r.inherit(c.scope(this)), r.register(o2), await this.call("_A_Channel_onSend", r), this._processing = false;
    } catch (n) {
      this._processing = false;
      let s = new q2(n);
      r.register(s), o2.fail(s), await this.call("_A_Channel_onError", r), r.destroy();
    }
  }
  async consume() {
    await this.initialize, this._processing = true;
    let e = new x({ name: `a-channel@scope:consume:${K.generateTimeId()}` }).inherit(c.scope(this)), r = new u2("consume", {});
    try {
      return e.inherit(c.scope(this)), e.register(r), await this.call("_A_Channel_onConsume", e), this._processing = false, r;
    } catch (o2) {
      this._processing = false;
      let n = new q2(o2);
      return r.fail(n), await this.call("_A_Channel_onError", e), r;
    }
  }
}, __name(_a40, "M"), _a40);
i(M2, "A_Channel"), c2([v.Extend({ name: "_A_Channel_onConnect" })], M2.prototype, "onConnect", 1), c2([v.Extend({ name: "_A_Channel_onDisconnect" })], M2.prototype, "onDisconnect", 1), c2([v.Extend({ name: "_A_Channel_onBeforeRequest" })], M2.prototype, "onBeforeRequest", 1), c2([v.Extend({ name: "_A_Channel_onRequest" })], M2.prototype, "onRequest", 1), c2([v.Extend({ name: "_A_Channel_onAfterRequest" })], M2.prototype, "onAfterRequest", 1), c2([v.Extend({ name: "_A_Channel_onError" })], M2.prototype, "onError", 1), c2([v.Extend({ name: "_A_Channel_onSend" })], M2.prototype, "onSend", 1);
var Kt = ((s) => (s.CREATED = "CREATED", s.INITIALIZED = "INITIALIZED", s.COMPILED = "COMPILED", s.EXECUTING = "EXECUTING", s.COMPLETED = "COMPLETED", s.FAILED = "FAILED", s))(Kt || {});
var Wt = ((o2) => (o2.CREATED_TO_INITIALIZED = "created_initialized", o2.INITIALIZED_TO_EXECUTING = "initialized_executing", o2.EXECUTING_TO_COMPLETED = "executing_completed", o2.EXECUTING_TO_FAILED = "executing_failed", o2))(Wt || {});
var Jt = ((a2) => (a2.onInit = "_A_Command_onInit", a2.onBeforeExecute = "_A_Command_onBeforeExecute", a2.onExecute = "_A_Command_onExecute", a2.onAfterExecute = "_A_Command_onAfterExecute", a2.onComplete = "_A_Command_onComplete", a2.onFail = "_A_Command_onFail", a2.onError = "_A_Command_onError", a2))(Jt || {});
var Xt = ((a2) => (a2.onInit = "onInit", a2.onBeforeExecute = "onBeforeExecute", a2.onExecute = "onExecute", a2.onAfterExecute = "onAfterExecute", a2.onComplete = "onComplete", a2.onFail = "onFail", a2.onError = "onError", a2))(Xt || {});
var _a41;
var W2 = (_a41 = class extends f {
}, __name(_a41, "W"), _a41);
i(W2, "A_CommandError"), W2.CommandScopeBindingError = "A-Command Scope Binding Error", W2.ExecutionError = "A-Command Execution Error", W2.ResultProcessingError = "A-Command Result Processing Error", W2.CommandInterruptedError = "A-Command Interrupted Error";
var Y = W2;
var _a42;
var pe = (_a42 = class extends f {
}, __name(_a42, "pe"), _a42);
i(pe, "A_StateMachineError"), pe.InitializationError = "A-StateMachine Initialization Error", pe.TransitionError = "A-StateMachine Transition Error";
var Z2 = pe;
var er = ((o2) => (o2.onError = "_A_StateMachine_onError", o2.onInitialize = "_A_StateMachine_onInitialize", o2.onBeforeTransition = "_A_StateMachine_onBeforeTransition", o2.onAfterTransition = "_A_StateMachine_onAfterTransition", o2))(er || {});
var _a43;
var Ve = (_a43 = class extends u2 {
  constructor(t) {
    super("a-state-machine-transition", t), this._meta.set("from", t.from), this._meta.set("to", t.to);
  }
  get from() {
    return this._meta.get("from");
  }
  get to() {
    return this._meta.get("to");
  }
}, __name(_a43, "Ve"), _a43);
i(Ve, "A_StateMachineTransition");
var N2 = Ve;
var nr;
var ir;
var sr;
var ar;
var _a44;
var J2 = (_a44 = class extends F {
  get ready() {
    return this._initialized || (this._initialized = this.call("_A_StateMachine_onInitialize")), this._initialized;
  }
  async [ar = "_A_StateMachine_onInitialize"](...t) {
  }
  async [sr = "_A_StateMachine_onBeforeTransition"](...t) {
  }
  async [ir = "_A_StateMachine_onAfterTransition"](...t) {
  }
  async [nr = "_A_StateMachine_onError"](...t) {
  }
  async transition(t, e, r) {
    await this.ready;
    let o2 = `${y.toCamelCase(String(t))}_${y.toCamelCase(String(e))}`, n = new N2({ from: String(t), to: String(e), props: r }), s = new x({ name: `A-StateMachine-Transition-Scope-${o2}`, fragments: [n] }).inherit(c.scope(this));
    try {
      return await this.call("_A_StateMachine_onBeforeTransition", s), await this.call(o2, s), await this.call("_A_StateMachine_onAfterTransition", s), s.destroy(), n.result;
    } catch (a2) {
      let _ = new Z2({ title: Z2.TransitionError, description: `An error occurred while transitioning to "${o2}"`, originalError: a2 });
      throw s.register(_), await this.call("_A_StateMachine_onError", s), s.destroy(), _;
    }
  }
}, __name(_a44, "J"), _a44);
i(J2, "A_StateMachine"), c2([v.Extend()], J2.prototype, ar, 1), c2([v.Extend()], J2.prototype, sr, 1), c2([v.Extend()], J2.prototype, ir, 1), c2([v.Extend()], J2.prototype, nr, 1);
var G2 = J2;
var Q = [];
var _a45;
var Ee2 = (_a45 = class extends f {
}, __name(_a45, "Ee"), _a45);
i(Ee2, "A_ConfigError"), Ee2.InitializationError = "A-Config Initialization Error";
var $2 = Ee2;
var _a46;
var je = (_a46 = class extends b2 {
  constructor(e) {
    super("a-config");
    this.DEFAULT_ALLOWED_TO_READ_PROPERTIES = [...pt, ...Q];
    this._strict = e.strict ?? false, this._configProperties = e.variables ?? [];
    for (let r in e.defaults) this.set(y.toUpperSnakeCase(r), e.defaults[r]);
  }
  get strict() {
    return this._strict;
  }
  get(e) {
    if (this._configProperties.includes(e) || this.DEFAULT_ALLOWED_TO_READ_PROPERTIES.includes(e) || !this._strict) return super.get(y.toUpperSnakeCase(e));
    throw new $2("Property not exists or not allowed to read");
  }
  set(e, r) {
    let o2 = Array.isArray(e) ? e : typeof e == "string" ? [{ property: e, value: r }] : Object.keys(e).map((n) => ({ property: n, value: e[n] }));
    for (let { property: n, value: s } of o2) super.set(y.toUpperSnakeCase(n), s);
  }
}, __name(_a46, "je"), _a46);
i(je, "A_Config");
var A2 = je;
var vt = { red: "31", yellow: "33", green: "32", blue: "34", cyan: "36", magenta: "35", gray: "90", brightBlue: "94", brightCyan: "96", brightMagenta: "95", darkGray: "30", lightGray: "37", indigo: "38;5;54", violet: "38;5;93", purple: "38;5;129", lavender: "38;5;183", skyBlue: "38;5;117", steelBlue: "38;5;67", slateBlue: "38;5;62", deepBlue: "38;5;18", lightBlue: "38;5;153", periwinkle: "38;5;111", cornflower: "38;5;69", powder: "38;5;152", charcoal: "38;5;236", silver: "38;5;250", smoke: "38;5;244", slate: "38;5;240" };
var It = ["blue", "cyan", "magenta", "gray", "brightBlue", "brightCyan", "brightMagenta", "darkGray", "lightGray", "indigo", "violet", "purple", "lavender", "skyBlue", "steelBlue", "slateBlue", "deepBlue", "lightBlue", "periwinkle", "cornflower", "powder", "charcoal", "silver", "smoke", "slate"];
var V2 = { RESET: "\x1B[0m", PREFIX: "\x1B[", SUFFIX: "m" };
var ee2 = { MINUTES_PAD: 2, SECONDS_PAD: 2, MILLISECONDS_PAD: 3, SEPARATOR: ":" };
var y2 = { SCOPE_OPEN: "[", SCOPE_CLOSE: "]", TIME_OPEN: "|", TIME_CLOSE: "|", SEPARATOR: "-------------------------------", INDENT_BASE: 3, PIPE: "| " };
var te2 = { DEFAULT_WIDTH: 80, MIN_WIDTH: 40, MAX_LINE_LENGTH_RATIO: 0.8, BROWSER_DEFAULT_WIDTH: 120 };
var de2 = { LOG_LEVEL: "A_LOGGER_LEVEL", DEFAULT_SCOPE_LENGTH: "A_LOGGER_DEFAULT_SCOPE_LENGTH", DEFAULT_SCOPE_COLOR: "A_LOGGER_DEFAULT_SCOPE_COLOR", DEFAULT_LOG_COLOR: "A_LOGGER_DEFAULT_LOG_COLOR" };
var _a47;
var T2 = (_a47 = class extends F {
  constructor(e, r) {
    super();
    this.scope = e;
    this.config = r;
    this.COLORS = vt, this.STANDARD_SCOPE_LENGTH = r?.get(de2.DEFAULT_SCOPE_LENGTH) || 20;
    let o2 = r?.get(de2.DEFAULT_SCOPE_COLOR), n = r?.get(de2.DEFAULT_LOG_COLOR);
    if (o2 || n) this.DEFAULT_SCOPE_COLOR = o2 || this.generateColorFromScopeName(this.scope.name), this.DEFAULT_LOG_COLOR = n || this.generateColorFromScopeName(this.scope.name);
    else {
      let s = this.generateComplementaryColorsFromScope(this.scope.name);
      this.DEFAULT_SCOPE_COLOR = s.scopeColor, this.DEFAULT_LOG_COLOR = s.logColor;
    }
    this.TERMINAL_WIDTH = this.detectTerminalWidth(), this.MAX_CONTENT_WIDTH = Math.floor(this.TERMINAL_WIDTH * te2.MAX_LINE_LENGTH_RATIO);
  }
  simpleHash(e) {
    let r = 0;
    for (let o2 = 0; o2 < e.length; o2++) {
      let n = e.charCodeAt(o2);
      r = (r << 5) - r + n, r = r & r;
    }
    return Math.abs(r);
  }
  generateColorFromScopeName(e) {
    let r = It, n = this.simpleHash(e) % r.length;
    return r[n];
  }
  generateComplementaryColorsFromScope(e) {
    let r = [{ scopeColor: "indigo", logColor: "lightBlue" }, { scopeColor: "deepBlue", logColor: "cyan" }, { scopeColor: "purple", logColor: "lavender" }, { scopeColor: "steelBlue", logColor: "skyBlue" }, { scopeColor: "slateBlue", logColor: "periwinkle" }, { scopeColor: "charcoal", logColor: "silver" }, { scopeColor: "violet", logColor: "brightMagenta" }, { scopeColor: "darkGray", logColor: "lightGray" }, { scopeColor: "cornflower", logColor: "powder" }, { scopeColor: "slate", logColor: "smoke" }], n = this.simpleHash(e) % r.length;
    return r[n];
  }
  detectTerminalWidth() {
    try {
      if (c.environment === "browser") return te2.BROWSER_DEFAULT_WIDTH;
      if (typeof process < "u" && process.stdout && process.stdout.columns) {
        let e = process.stdout.columns;
        return Math.max(e, te2.MIN_WIDTH);
      }
      return te2.DEFAULT_WIDTH;
    } catch {
      return te2.DEFAULT_WIDTH;
    }
  }
  wrapText(e, r, o2 = true) {
    if (c.environment === "browser") return [e];
    let n = this.formattedScope.length + 4 + this.getTime().length + 4, s = `${r}${y2.PIPE}`, a2 = Math.max(this.TERMINAL_WIDTH - n - 1, 20), _ = Math.max(this.TERMINAL_WIDTH - s.length, 20);
    if (o2 && e.length <= a2) return [e];
    let d2 = [], p = e.split(" "), h = "", m2 = o2 ? a2 : _;
    for (let k2 of p) {
      let Me2 = h ? 1 : 0;
      if (h.length + Me2 + k2.length > m2) if (h) d2.push(h), h = k2, m2 = _;
      else {
        if (k2.length > m2) {
          let Ge2 = this.splitLongWord(k2, m2);
          d2.push(...Ge2.slice(0, -1)), h = Ge2[Ge2.length - 1];
        } else h = k2;
        m2 = _;
      }
      else h += (h ? " " : "") + k2;
    }
    return h && d2.push(h), d2.length ? d2 : [e];
  }
  splitLongWord(e, r) {
    let o2 = [];
    for (let n = 0; n < e.length; n += r) o2.push(e.slice(n, n + r));
    return o2;
  }
  get scopeLength() {
    return Math.max(this.scope.name.length, this.STANDARD_SCOPE_LENGTH);
  }
  get formattedScope() {
    let e = this.scope.name, r = this.STANDARD_SCOPE_LENGTH;
    if (e.length >= r) return e.substring(0, r);
    let o2 = r - e.length, n = Math.floor(o2 / 2), s = o2 - n;
    return " ".repeat(n) + e + " ".repeat(s);
  }
  compile(e, ...r) {
    let o2 = this.getTime(), n = " ".repeat(this.STANDARD_SCOPE_LENGTH + 3), s = r.length > 1;
    return [`${V2.PREFIX}${this.COLORS[this.DEFAULT_SCOPE_COLOR]}${V2.SUFFIX}${y2.SCOPE_OPEN}${this.formattedScope}${y2.SCOPE_CLOSE}${V2.RESET} ${V2.PREFIX}${this.COLORS[e]}${V2.SUFFIX}${y2.TIME_OPEN}${o2}${y2.TIME_CLOSE}`, s ? `
${n}${y2.TIME_OPEN}${y2.SEPARATOR}` : "", ...r.map((a2, _) => {
      let d2 = _ > 0 || s;
      switch (true) {
        case a2 instanceof f:
          return this.compile_A_Error(a2);
        case a2 instanceof Error:
          return this.compile_Error(a2);
        case (typeof a2 == "object" && a2 !== null):
          return this.formatObject(a2, d2, n);
        default:
          return this.formatString(String(a2), d2, n);
      }
    }), s ? `
${n}${y2.TIME_OPEN}${y2.SEPARATOR}${V2.RESET}` : V2.RESET];
  }
  formatObject(e, r, o2) {
    if (c.environment === "browser") return e;
    if (e === null) return r ? `
${o2}${y2.PIPE}null` : "null";
    if (e === void 0) return r ? `
${o2}${y2.PIPE}undefined` : "undefined";
    let n;
    try {
      n = JSON.stringify(e, null, 2);
    } catch {
      try {
        let h = /* @__PURE__ */ new WeakSet();
        n = JSON.stringify(e, (m2, O) => {
          if (typeof O == "object" && O !== null) {
            if (h.has(O)) return "[Circular Reference]";
            h.add(O);
          }
          return O;
        }, 2);
      } catch {
        n = String(e);
      }
    }
    let s = `${o2}${y2.PIPE}`, a2 = this.TERMINAL_WIDTH - s.length - 4, d2 = n.split(`
`).map((p) => {
      let h = p.match(/^(\s*"[^"]+":\s*")([^"]+)(".*)?$/);
      if (h && h[2].length > a2 - h[1].length - (h[3] || "").length) {
        let [, m2, O, k2 = ""] = h;
        if (O.length > a2 - m2.length - k2.length) {
          let Me2 = this.wrapJsonStringValue(O, a2 - m2.length - k2.length);
          return m2 + Me2 + k2;
        }
      }
      return p;
    }).join(`
` + s);
    return r ? `
` + s + d2 : d2;
  }
  wrapJsonStringValue(e, r) {
    return e.length <= r ? e : r > 6 ? e.substring(0, r - 3) + "..." : e.substring(0, Math.max(1, r));
  }
  formatString(e, r, o2) {
    if (c.environment === "browser") return ((r ? `
` : "") + e).replace(/\n/g, `
${o2}${y2.PIPE}`);
    let n = this.wrapText(e, o2, !r), s = `${o2}${y2.PIPE}`, a2 = n.map((_, d2) => d2 === 0 && !r ? _ : `${s}${_}`);
    return r ? `
` + a2.join(`
`) : a2.join(`
`);
  }
  shouldLog(e) {
    switch (this.config?.get(de2.LOG_LEVEL) || "info") {
      case "debug":
        return true;
      case "info":
        return e === "info" || e === "warning" || e === "error";
      case "warn":
        return e === "warning" || e === "error";
      case "error":
        return e === "error";
      case "all":
        return true;
      default:
        return false;
    }
  }
  debug(e, ...r) {
    this.shouldLog("debug") && (typeof e == "string" && this.COLORS[e] ? console.log(...this.compile(e, ...r)) : console.log(...this.compile(this.DEFAULT_LOG_COLOR, e, ...r)));
  }
  info(e, ...r) {
    this.shouldLog("info") && (typeof e == "string" && this.COLORS[e] ? console.log(...this.compile(e, ...r)) : console.log(...this.compile(this.DEFAULT_LOG_COLOR, e, ...r)));
  }
  log(e, ...r) {
    this.info(e, ...r);
  }
  warning(...e) {
    this.shouldLog("warning") && console.log(...this.compile("yellow", ...e));
  }
  error(...e) {
    this.shouldLog("error") && console.log(...this.compile("red", ...e));
  }
  log_A_Error(e) {
    let r = this.getTime(), o2 = " ".repeat(this.STANDARD_SCOPE_LENGTH + 3);
    console.log(`\x1B[31m[${this.formattedScope}] |${r}| ERROR ${e.code}
${o2}| ${e.message}
${o2}| ${e.description} 
${o2}|-------------------------------
${o2}| ${e.stack?.split(`
`).map((n, s) => s === 0 ? n : `${o2}| ${n}`).join(`
`) || "No stack trace"}
${o2}|-------------------------------
\x1B[0m` + (e.originalError ? `\x1B[31m${o2}| Wrapped From  ${e.originalError.message}
${o2}|-------------------------------
${o2}| ${e.originalError.stack?.split(`
`).map((n, s) => s === 0 ? n : `${o2}| ${n}`).join(`
`) || "No stack trace"}
${o2}|-------------------------------
\x1B[0m` : "") + (e.link ? `\x1B[31m${o2}| Read in docs: ${e.link}
${o2}|-------------------------------
\x1B[0m` : ""));
  }
  compile_A_Error(e) {
    let r = `${" ".repeat(this.STANDARD_SCOPE_LENGTH + 3)}${y2.PIPE}`, o2 = `${r}-------------------------------`, n = [];
    n.push(""), n.push(o2), n.push(`${r}A_ERROR: ${e.code}`), n.push(o2);
    let s = this.wrapText(`Message: ${e.message}`, r, false), a2 = this.wrapText(`Description: ${e.description}`, r, false);
    if (n.push(...s.map((_) => `${r}${_}`)), n.push(...a2.map((_) => `${r}${_}`)), e.originalError) {
      n.push(o2), n.push(`${r}ORIGINAL ERROR:`), n.push(o2);
      let _ = this.wrapText(`${e.originalError.name}: ${e.originalError.message}`, r, false);
      if (n.push(..._.map((d2) => `${r}${d2}`)), e.originalError.stack) {
        n.push(`${r}Stack trace:`);
        let d2 = this.formatStackTrace(e.originalError.stack, r);
        n.push(...d2);
      }
    }
    if (e.stack) {
      n.push(o2), n.push(`${r}A_ERROR STACK:`), n.push(o2);
      let _ = this.formatStackTrace(e.stack, r);
      n.push(..._);
    }
    if (e.link) {
      n.push(o2);
      let _ = this.wrapText(`Documentation: ${e.link}`, r, false);
      n.push(..._.map((d2) => `${r}${d2}`));
    }
    return n.push(o2), n.join(`
`);
  }
  formatStackTrace(e, r) {
    let o2 = e.split(`
`), n = [];
    return o2.forEach((s, a2) => {
      if (s.trim()) {
        let _ = a2 === 0 ? r : `${r}  `, d2 = this.wrapText(s.trim(), _, false);
        n.push(...d2.map((p) => a2 === 0 && p === d2[0] ? `${r}${p}` : `${r}  ${p}`));
      }
    }), n;
  }
  compile_Error(e) {
    let r = `${" ".repeat(this.STANDARD_SCOPE_LENGTH + 3)}${y2.PIPE}`, o2 = `${r}-------------------------------`, n = [];
    n.push(""), n.push(o2), n.push(`${r}ERROR: ${e.name}`), n.push(o2);
    let s = this.wrapText(`Message: ${e.message}`, r, false);
    if (n.push(...s.map((a2) => `${r}${a2}`)), e.stack) {
      n.push(o2), n.push(`${r}STACK TRACE:`), n.push(o2);
      let a2 = this.formatStackTrace(e.stack, r);
      n.push(...a2);
    }
    return n.push(o2), n.join(`
`);
  }
  getTime() {
    let e = /* @__PURE__ */ new Date(), r = String(e.getMinutes()).padStart(ee2.MINUTES_PAD, "0"), o2 = String(e.getSeconds()).padStart(ee2.SECONDS_PAD, "0"), n = String(e.getMilliseconds()).padStart(ee2.MILLISECONDS_PAD, "0");
    return `${r}${ee2.SEPARATOR}${o2}${ee2.SEPARATOR}${n}`;
  }
}, __name(_a47, "T"), _a47);
i(T2, "A_Logger"), T2 = c2([l(0, _t(x)), l(1, _t(A2))], T2);
var mr;
var hr;
var gr;
var fr;
var yr;
var Ar;
var Er;
var Tr;
var Sr;
var xr;
var Cr;
var _a48;
var C = (_a48 = class extends M {
  constructor(e) {
    super(e);
    this._listeners = /* @__PURE__ */ new Map();
  }
  static get code() {
    return super.entity;
  }
  get duration() {
    return this._endTime && this._startTime ? this._endTime.getTime() - this._startTime.getTime() : this._startTime ? (/* @__PURE__ */ new Date()).getTime() - this._startTime.getTime() : void 0;
  }
  get idleTime() {
    return this._startTime && this._createdAt ? this._startTime.getTime() - this._createdAt.getTime() : void 0;
  }
  get scope() {
    return this._executionScope;
  }
  get context() {
    return this.scope.resolve(b2);
  }
  get code() {
    return this.constructor.code;
  }
  get status() {
    return this._status;
  }
  get createdAt() {
    return this._createdAt;
  }
  get startedAt() {
    return this._startTime;
  }
  get endedAt() {
    return this._endTime;
  }
  get result() {
    return this._result;
  }
  get error() {
    return this._error;
  }
  get params() {
    return this._params;
  }
  get isProcessed() {
    return this._status === "COMPLETED" || this._status === "FAILED";
  }
  async [Cr = "_A_StateMachine_onBeforeTransition"](e, r, ...o2) {
    this.checkScopeInheritance(), r?.debug("yellow", `Command ${this.aseid.toString()} transitioning from ${e.from} to ${e.to}`);
  }
  async [xr = "created_initialized"](e, ...r) {
    this._status === "CREATED" && (this._createdAt = /* @__PURE__ */ new Date(), this._status = "INITIALIZED", this.emit("onInit"));
  }
  async [Sr = "initialized_executing"](e, ...r) {
    this._status !== "INITIALIZED" && this._status !== "CREATED" || (this._startTime = /* @__PURE__ */ new Date(), this._status = "EXECUTING", this.emit("onExecute"));
  }
  async [Tr = "executing_completed"](e, ...r) {
    this._endTime = /* @__PURE__ */ new Date(), this._status = "COMPLETED", this.emit("onComplete");
  }
  async [Er = "executing_failed"](e, r, ...o2) {
    this._endTime = /* @__PURE__ */ new Date(), this._status = "FAILED", this.emit("onFail");
  }
  async [Ar = "_A_Command_onInit"](e, ...r) {
    await e.transition("CREATED", "INITIALIZED");
  }
  async [yr = "_A_Command_onBeforeExecute"](e, ...r) {
    await e.transition("INITIALIZED", "EXECUTING");
  }
  async [fr = "_A_Command_onExecute"](...e) {
  }
  async [gr = "_A_Command_onAfterExecute"](...e) {
  }
  async [hr = "_A_Command_onComplete"](e, ...r) {
    await e.transition("EXECUTING", "COMPLETED");
  }
  async [mr = "_A_Command_onFail"](e, r, ...o2) {
    await e.transition("EXECUTING", "FAILED");
  }
  async init() {
    await this.call("_A_Command_onInit", this.scope);
  }
  async execute() {
    if (!this.isProcessed) try {
      this.checkScopeInheritance();
      let e = new b2("execute-command");
      this.scope.register(e), await new Promise(async (r, o2) => {
        try {
          let n = new v({ name: "_A_Command_onBeforeExecute", component: this, scope: this.scope }), s = new v({ name: "_A_Command_onExecute", component: this, scope: this.scope }), a2 = new v({ name: "_A_Command_onAfterExecute", component: this, scope: this.scope });
          this.on("onComplete", () => {
            n.interrupt(), s.interrupt(), a2.interrupt(), r();
          }), this.on("onFail", () => {
            n.interrupt(), s.interrupt(), a2.interrupt(), o2(this.error);
          }), await n.process(this.scope), await s.process(this.scope), await a2.process(this.scope), this._origin === "invoked" && await this.complete(), r();
        } catch (n) {
          o2(n);
        }
      });
    } catch (e) {
      let r = e instanceof f ? e : new Y({ title: Y.ExecutionError, description: `An error occurred while executing command "${this.aseid.toString()}".`, originalError: e });
      await this.fail(r);
    }
  }
  async complete(e) {
    this.isProcessed || (this._status = "COMPLETED", this._result = e, await this.call("_A_Command_onComplete", this.scope), this.scope.destroy());
  }
  async fail(e) {
    this.isProcessed || (this._status = "FAILED", e && (this._error = e, this.scope.register(e)), await this.call("_A_Command_onFail", this.scope), this.scope.destroy());
  }
  on(e, r) {
    this._listeners.has(e) || this._listeners.set(e, /* @__PURE__ */ new Set()), this._listeners.get(e).add(r);
  }
  off(e, r) {
    this._listeners.get(e)?.delete(r);
  }
  emit(e) {
    this._listeners.get(e)?.forEach(async (r) => {
      r(this);
    });
  }
  fromNew(e) {
    super.fromNew(e), this._origin = "invoked", this._executionScope = new x({ name: `A-Command-Execution-Scope-${this.aseid.toString()}`, components: [G2] }), this._createdAt = /* @__PURE__ */ new Date(), this._params = e, this._status = "CREATED";
  }
  fromJSON(e) {
    super.fromJSON(e), this._origin = "serialized", this._executionScope = new x({ name: `A-Command-Execution-Scope-${this.aseid.toString()}`, components: [G2] }), e.createdAt && (this._createdAt = new Date(e.createdAt)), e.startedAt && (this._startTime = new Date(e.startedAt)), e.endedAt && (this._endTime = new Date(e.endedAt)), this._params = e.params, this._status = e.status, e.error && (this._error = new Y(e.error)), e.result && (this._result = e.result);
  }
  toJSON() {
    return { ...super.toJSON(), code: this.code, status: this._status, params: this._params, createdAt: this._createdAt.toISOString(), startedAt: this._startTime ? this._startTime.toISOString() : void 0, endedAt: this._endTime ? this._endTime.toISOString() : void 0, duration: this.duration, idleTime: this.idleTime, result: this.result, error: this.error ? this.error.toJSON() : void 0 };
  }
  checkScopeInheritance() {
    let e;
    try {
      e = c.scope(this);
    } catch (r) {
      throw new Y({ title: Y.CommandScopeBindingError, description: `Command ${this.aseid.toString()} is not bound to any context scope. Ensure the command is properly registered within a context before execution.`, originalError: r });
    }
    this.scope.isInheritedFrom(c.scope(this)) || this.scope.inherit(c.scope(this));
  }
}, __name(_a48, "C"), _a48);
i(C, "A_Command"), c2([v.Extend(), l(0, _t(N2)), l(1, _t(T2))], C.prototype, Cr, 1), c2([v.Extend(), l(0, _t(N2))], C.prototype, xr, 1), c2([v.Extend(), l(0, _t(N2))], C.prototype, Sr, 1), c2([v.Extend(), l(0, _t(N2))], C.prototype, Tr, 1), c2([v.Extend(), l(0, _t(N2)), l(1, _t(f))], C.prototype, Er, 1), c2([v.Extend(), l(0, _t(G2))], C.prototype, Ar, 1), c2([v.Extend({ after: /.*/ }), l(0, Je.Required()), l(0, _t(G2))], C.prototype, yr, 1), c2([v.Extend()], C.prototype, fr, 1), c2([v.Extend()], C.prototype, gr, 1), c2([v.Extend({ after: /.*/ }), l(0, _t(G2))], C.prototype, hr, 1), c2([v.Extend({ after: /.*/ }), l(0, Je.Required()), l(0, _t(G2)), l(1, _t(b2))], C.prototype, mr, 1);
var _a49;
var We = (_a49 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._fs;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    this._fs = await import("fs");
  }
  initBrowser() {
    this._fs = { readFileSync: i((t, e) => (this.logger.warning("fs.readFileSync not available in browser environment"), ""), "readFileSync"), existsSync: i((t) => (this.logger.warning("fs.existsSync not available in browser environment"), false), "existsSync"), createReadStream: i((t) => (this.logger.warning("fs.createReadStream not available in browser environment"), null), "createReadStream") };
  }
}, __name(_a49, "We"), _a49);
i(We, "A_FSPolyfillClass");
var Se2 = We;
var _a50;
var Je2 = (_a50 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get(t) {
    return this._initialized || (this._fsPolyfill = t, await this.init()), this._crypto;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("crypto");
    this._crypto = { createTextHash: i((e, r = "sha384") => Promise.resolve(`${r}-${t.createHash(r).update(e).digest("base64")}`), "createTextHash"), createFileHash: i((e, r = "sha384") => new Promise(async (o2, n) => {
      try {
        if (!this._fsPolyfill) throw new Error("FS polyfill is required for file hashing");
        let s = t.createHash(r), a2 = this._fsPolyfill.createReadStream(e);
        a2.on("data", (_) => s.update(_)), a2.on("end", () => o2(`${r}-${s.digest("base64")}`)), a2.on("error", (_) => n(_));
      } catch (s) {
        n(s);
      }
    }), "createFileHash") };
  }
  initBrowser() {
    this._crypto = { createFileHash: i(() => (this.logger.warning("File hash not available in browser environment"), Promise.resolve("")), "createFileHash"), createTextHash: i((t, e = "SHA-384") => new Promise(async (r, o2) => {
      try {
        if (!crypto.subtle) throw new Error("SubtleCrypto not available");
        let s = new TextEncoder().encode(t), a2 = await crypto.subtle.digest(e, s), _ = Array.from(new Uint8Array(a2)), d2 = btoa(String.fromCharCode(..._));
        r(`${e}-${d2}`);
      } catch (n) {
        o2(n);
      }
    }), "createTextHash") };
  }
}, __name(_a50, "Je"), _a50);
i(Je2, "A_CryptoPolyfillClass");
var xe2 = Je2;
var _a51;
var Xe2 = (_a51 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._http;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("http");
    this._http = { request: t.request, get: t.get, createServer: t.createServer };
  }
  initBrowser() {
    this._http = { request: i((t, e) => (this.logger.warning("http.request not available in browser/test environment, use fetch instead"), this.createMockRequest(t, e, false)), "request"), get: i((t, e) => (this.logger.warning("http.get not available in browser/test environment, use fetch instead"), this.createMockRequest(typeof t == "string" ? { hostname: t } : t, e, false)), "get"), createServer: i(() => (this.logger.error("http.createServer not available in browser/test environment"), null), "createServer") };
  }
  createMockRequest(t, e, r = false) {
    return { end: i(() => {
      if (e) {
        let n = { statusCode: 200, headers: {}, on: i((s, a2) => {
          s === "data" ? setTimeout(() => a2("mock data"), 0) : s === "end" && setTimeout(() => a2(), 0);
        }, "on"), pipe: i((s) => {
          s.write && s.write("mock data"), s.end && s.end();
        }, "pipe") };
        setTimeout(() => e(n), 0);
      }
    }, "end"), write: i((n) => {
    }, "write"), on: i((n, s) => {
    }, "on") };
  }
}, __name(_a51, "Xe"), _a51);
i(Xe2, "A_HttpPolyfillClass");
var Ce2 = Xe2;
var _a52;
var Ze2 = (_a52 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._https;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("https");
    this._https = { request: t.request, get: t.get, createServer: t.createServer };
  }
  initBrowser() {
    this._https = { request: i((t, e) => (this.logger.warning("https.request not available in browser/test environment, use fetch instead"), this.createMockRequest(t, e, true)), "request"), get: i((t, e) => (this.logger.warning("https.get not available in browser/test environment, use fetch instead"), this.createMockRequest(typeof t == "string" ? { hostname: t } : t, e, true)), "get"), createServer: i(() => (this.logger.error("https.createServer not available in browser/test environment"), null), "createServer") };
  }
  createMockRequest(t, e, r = true) {
    return { end: i(() => {
      if (e) {
        let n = { statusCode: 200, headers: {}, on: i((s, a2) => {
          s === "data" ? setTimeout(() => a2("mock data"), 0) : s === "end" && setTimeout(() => a2(), 0);
        }, "on"), pipe: i((s) => {
          s.write && s.write("mock data"), s.end && s.end();
        }, "pipe") };
        setTimeout(() => e(n), 0);
      }
    }, "end"), write: i((n) => {
    }, "write"), on: i((n, s) => {
    }, "on") };
  }
}, __name(_a52, "Ze"), _a52);
i(Ze2, "A_HttpsPolyfillClass");
var Re2 = Ze2;
var _a53;
var Qe2 = (_a53 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._path;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    this._path = await import("path");
  }
  initBrowser() {
    this._path = { join: i((...t) => t.join("/").replace(/\/+/g, "/"), "join"), resolve: i((...t) => {
      let e = "";
      for (let r of t) r.startsWith("/") ? e = r : e = this._path.join(e, r);
      return e || "/";
    }, "resolve"), dirname: i((t) => t.split("/").slice(0, -1).join("/") || "/", "dirname"), basename: i((t, e) => {
      let r = t.split("/").pop() || "";
      return e && r.endsWith(e) ? r.slice(0, -e.length) : r;
    }, "basename"), extname: i((t) => {
      let e = t.split(".");
      return e.length > 1 ? "." + e.pop() : "";
    }, "extname"), relative: i((t, e) => e.replace(t, "").replace(/^\//, ""), "relative"), normalize: i((t) => t.replace(/\/+/g, "/").replace(/\/$/, "") || "/", "normalize"), isAbsolute: i((t) => t.startsWith("/") || /^[a-zA-Z]:/.test(t), "isAbsolute"), parse: i((t) => {
      let e = this._path.extname(t), r = this._path.basename(t), o2 = this._path.basename(t, e);
      return { root: "/", dir: this._path.dirname(t), base: r, ext: e, name: o2 };
    }, "parse"), format: i((t) => this._path.join(t.dir || "", t.base || ""), "format"), sep: "/", delimiter: ":" };
  }
}, __name(_a53, "Qe"), _a53);
i(Qe2, "A_PathPolyfillClass");
var we2 = Qe2;
var _a54;
var et2 = (_a54 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._url;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("url");
    this._url = { parse: t.parse, format: t.format, resolve: t.resolve, URL: t.URL || globalThis.URL, URLSearchParams: t.URLSearchParams || globalThis.URLSearchParams };
  }
  initBrowser() {
    this._url = { parse: i((t) => {
      try {
        let e = new URL(t);
        return { protocol: e.protocol, hostname: e.hostname, port: e.port, pathname: e.pathname, search: e.search, hash: e.hash, host: e.host, href: e.href };
      } catch {
        return {};
      }
    }, "parse"), format: i((t) => {
      try {
        return new URL("", t.href || `${t.protocol}//${t.host}${t.pathname}${t.search}${t.hash}`).href;
      } catch {
        return "";
      }
    }, "format"), resolve: i((t, e) => {
      try {
        return new URL(e, t).href;
      } catch {
        return e;
      }
    }, "resolve"), URL: globalThis.URL, URLSearchParams: globalThis.URLSearchParams };
  }
}, __name(_a54, "et"), _a54);
i(et2, "A_UrlPolyfillClass");
var Pe2 = et2;
var _a55;
var tt2 = (_a55 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._buffer;
  }
  async init() {
    try {
      c.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("buffer");
    this._buffer = { from: t.Buffer.from, alloc: t.Buffer.alloc, allocUnsafe: t.Buffer.allocUnsafe, isBuffer: t.Buffer.isBuffer, concat: t.Buffer.concat };
  }
  initBrowser() {
    this._buffer = { from: i((t, e) => typeof t == "string" ? new TextEncoder().encode(t) : new Uint8Array(t), "from"), alloc: i((t, e) => {
      let r = new Uint8Array(t);
      return e !== void 0 && r.fill(e), r;
    }, "alloc"), allocUnsafe: i((t) => new Uint8Array(t), "allocUnsafe"), isBuffer: i((t) => t instanceof Uint8Array || t instanceof ArrayBuffer, "isBuffer"), concat: i((t, e) => {
      let r = e || t.reduce((s, a2) => s + a2.length, 0), o2 = new Uint8Array(r), n = 0;
      for (let s of t) o2.set(s, n), n += s.length;
      return o2;
    }, "concat") };
  }
}, __name(_a55, "tt"), _a55);
i(tt2, "A_BufferPolyfillClass");
var Le2 = tt2;
var _a56;
var rt2 = (_a56 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._process;
  }
  async init() {
    try {
      c.environment === "server" ? this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  initServer() {
    this._process = { env: process.env, argv: process.argv, platform: process.platform, version: process.version, versions: process.versions, cwd: process.cwd, exit: process.exit, nextTick: process.nextTick };
  }
  initBrowser() {
    this._process = { env: { NODE_ENV: "browser", ...globalThis.process?.env || {} }, argv: ["browser"], platform: "browser", version: "browser", versions: { node: "browser" }, cwd: i(() => "/", "cwd"), exit: i((t) => {
      throw this.logger.warning("process.exit not available in browser"), new Error(`Process exit with code ${t}`);
    }, "exit"), nextTick: i((t, ...e) => {
      setTimeout(() => t(...e), 0);
    }, "nextTick") };
  }
}, __name(_a56, "rt"), _a56);
i(rt2, "A_ProcessPolyfillClass");
var ve2 = rt2;
var _a57;
var f2 = (_a57 = class extends F {
  constructor(e) {
    super();
    this.logger = e;
    this._initializing = null;
  }
  get ready() {
    return this._initialized || (this._initialized = this._loadInternal()), this._initialized;
  }
  async load() {
    await this.ready;
  }
  async attachToWindow() {
    c.environment === "browser" && (globalThis.A_Polyfill = this, globalThis.process = { env: { NODE_ENV: "production" }, cwd: i(() => "/", "cwd") }, globalThis.__dirname = "/");
  }
  async _loadInternal() {
    this._fsPolyfill = new Se2(this.logger), this._cryptoPolyfill = new xe2(this.logger), this._httpPolyfill = new Ce2(this.logger), this._httpsPolyfill = new Re2(this.logger), this._pathPolyfill = new we2(this.logger), this._urlPolyfill = new Pe2(this.logger), this._bufferPolyfill = new Le2(this.logger), this._processPolyfill = new ve2(this.logger), await this._fsPolyfill.get(), await this._cryptoPolyfill.get(await this._fsPolyfill.get()), await this._httpPolyfill.get(), await this._httpsPolyfill.get(), await this._pathPolyfill.get(), await this._urlPolyfill.get(), await this._bufferPolyfill.get(), await this._processPolyfill.get();
  }
  async fs() {
    return await this.ready, await this._fsPolyfill.get();
  }
  async crypto() {
    return await this.ready, await this._cryptoPolyfill.get();
  }
  async http() {
    return await this.ready, await this._httpPolyfill.get();
  }
  async https() {
    return await this.ready, await this._httpsPolyfill.get();
  }
  async path() {
    return await this.ready, await this._pathPolyfill.get();
  }
  async url() {
    return await this.ready, await this._urlPolyfill.get();
  }
  async buffer() {
    return await this.ready, await this._bufferPolyfill.get();
  }
  async process() {
    return await this.ready, await this._processPolyfill.get();
  }
}, __name(_a57, "f"), _a57);
i(f2, "A_Polyfill"), c2([Me.Load()], f2.prototype, "load", 1), c2([Me.Load()], f2.prototype, "attachToWindow", 1), f2 = c2([l(0, _t(T2))], f2);
var _a58;
var R2 = (_a58 = class extends F {
  constructor(e) {
    super();
    this.polyfill = e;
    this.DEFAULT_ALLOWED_TO_READ_PROPERTIES = [...pt, ...Q];
  }
  async attachContext(e, r, o2) {
    o2 || (o2 = new A2({ defaults: {} }), e.scope.register(o2));
    let n = await this.getProjectRoot();
    o2.set("A_CONCEPT_ROOT_FOLDER", n);
  }
  async initialize(e) {
    let r = await this.read();
    for (let o2 in r) e.set(o2, r[o2]);
  }
  resolve(e) {
    return e;
  }
  async read(e = []) {
    return {};
  }
  async getProjectRoot(e = __dirname) {
    return (await this.polyfill.process()).cwd();
  }
}, __name(_a58, "R"), _a58);
i(R2, "ConfigReader"), c2([Me.Load(), l(0, _t(L)), l(1, _t(x)), l(2, _t(A2))], R2.prototype, "attachContext", 1), c2([Me.Load(), l(0, Je.Required()), l(0, _t(A2))], R2.prototype, "initialize", 1), R2 = c2([l(0, Je.Required()), l(0, _t(f2))], R2);
var _a59;
var ot2 = (_a59 = class extends R2 {
  constructor() {
    super(...arguments);
    this.FileData = /* @__PURE__ */ new Map();
  }
  getConfigurationProperty_File_Alias(e) {
    return y.toCamelCase(e);
  }
  resolve(e) {
    return this.FileData.get(this.getConfigurationProperty_File_Alias(e));
  }
  async read(e) {
    let r = await this.polyfill.fs();
    try {
      let o2 = r.readFileSync(`${c.concept}.conf.json`, "utf8"), n = JSON.parse(o2);
      return this.FileData = new Map(Object.entries(n)), n;
    } catch {
      return {};
    }
  }
}, __name(_a59, "ot"), _a59);
i(ot2, "FileConfigReader");
var me = ot2;
var _a60;
var Ie2 = (_a60 = class extends R2 {
  async readEnvFile(t, e, r) {
    let o2 = await e.fs();
    o2.existsSync(".env") && o2.readFileSync(`${t.get("A_CONCEPT_ROOT_FOLDER")}/.env`, "utf-8").split(`
`).forEach((n) => {
      let [s, a2] = n.split("=");
      s && a2 && (process.env[s.trim()] = a2.trim());
    });
  }
  getConfigurationProperty_ENV_Alias(t) {
    return y.toUpperSnakeCase(t);
  }
  resolve(t) {
    return process.env[this.getConfigurationProperty_ENV_Alias(t)];
  }
  async read(t = []) {
    let e = [...t, ...Object.keys(process.env)], r = {};
    return e.forEach((o2) => {
      r[o2] = this.resolve(o2);
    }), r;
  }
}, __name(_a60, "Ie"), _a60);
i(Ie2, "ENVConfigReader"), c2([Me.Load({ before: ["ENVConfigReader.initialize"] }), l(0, _t(A2)), l(1, _t(f2)), l(2, _t(v))], Ie2.prototype, "readEnvFile", 1);
var re = Ie2;
var _a61;
var Oe2 = (_a61 = class extends L {
  async prepare(t) {
    if (!this.scope.has(A2)) {
      let r = new A2({ variables: [...pt, ...Q], defaults: {} });
      this.scope.register(r);
    }
    let e = await t.fs();
    try {
      switch (true) {
        case (c.environment === "server" && !!e.existsSync(`${c.concept}.conf.json`)):
          this.reader = this.scope.resolve(me);
          break;
        case (c.environment === "server" && !e.existsSync(`${c.concept}.conf.json`)):
          this.reader = this.scope.resolve(re);
          break;
        case c.environment === "browser":
          this.reader = this.scope.resolve(re);
          break;
        default:
          throw new $2($2.InitializationError, `Environment ${c.environment} is not supported`);
      }
    } catch (r) {
      if (r instanceof A) throw new $2({ title: $2.InitializationError, description: `Failed to initialize A_ConfigLoader. Reader not found for environment ${c.environment}`, originalError: r });
    }
  }
}, __name(_a61, "Oe"), _a61);
i(Oe2, "A_ConfigLoader"), c2([Me.Load({ before: /.*/ }), l(0, _t(f2))], Oe2.prototype, "prepare", 1);
var be2 = { A_LOGGER_LEVEL: "A_LOGGER_LEVEL", A_LOGGER_DEFAULT_SCOPE_LENGTH: "A_LOGGER_DEFAULT_SCOPE_LENGTH", A_LOGGER_DEFAULT_SCOPE_COLOR: "A_LOGGER_DEFAULT_SCOPE_COLOR", A_LOGGER_DEFAULT_LOG_COLOR: "A_LOGGER_DEFAULT_LOG_COLOR" };
var As = [be2.A_LOGGER_LEVEL, be2.A_LOGGER_DEFAULT_SCOPE_LENGTH, be2.A_LOGGER_DEFAULT_SCOPE_COLOR, be2.A_LOGGER_DEFAULT_LOG_COLOR];
var _a62;
var Ne2 = (_a62 = class extends f {
}, __name(_a62, "Ne"), _a62);
i(Ne2, "A_ManifestError"), Ne2.ManifestInitializationError = "A-Manifest Initialization Error";
var H2 = Ne2;
var _a63;
var st2 = (_a63 = class {
  constructor(t, e, r, o2 = false) {
    this.manifest = t;
    this.component = e;
    this.method = r;
    this.checkExclusion = o2;
  }
  for(t) {
    let e = this.manifest.internal_checkAccess({ component: this.component, method: this.method, target: t });
    return this.checkExclusion ? !e : e;
  }
}, __name(_a63, "st"), _a63);
i(st2, "A_ManifestChecker");
var oe = st2;
var _a64;
var ct = (_a64 = class extends B {
  constructor(e = []) {
    super({ name: "A-Manifest" });
    this.rules = [];
    this.prepare(e);
  }
  prepare(e) {
    if (!o.isArray(e)) throw new H2(H2.ManifestInitializationError, "A-Manifest configuration should be an array of configurations");
    for (let r of e) this.processConfigItem(r);
  }
  processConfigItem(e) {
    if (!o.isComponentConstructor(e.component)) throw new H2(H2.ManifestInitializationError, "A-Manifest configuration item should be a A-Component constructor");
    let r = this.constructorToRegex(e.component);
    if (e.apply || e.exclude) {
      let o2 = /.*/;
      this.rules.push({ componentRegex: r, methodRegex: o2, applyRegex: e.apply ? this.allowedComponentsToRegex(e.apply) : void 0, excludeRegex: e.exclude ? this.allowedComponentsToRegex(e.exclude) : void 0 });
    }
    if (e.methods && e.methods.length > 0) for (let o2 of e.methods) {
      let n = this.methodToRegex(o2.method);
      this.rules.push({ componentRegex: r, methodRegex: n, applyRegex: o2.apply ? this.allowedComponentsToRegex(o2.apply) : void 0, excludeRegex: o2.exclude ? this.allowedComponentsToRegex(o2.exclude) : void 0 });
    }
  }
  constructorToRegex(e) {
    return new RegExp(`^${this.escapeRegex(e.name)}$`);
  }
  methodToRegex(e) {
    return e instanceof RegExp ? e : new RegExp(`^${this.escapeRegex(e)}$`);
  }
  allowedComponentsToRegex(e) {
    if (e instanceof RegExp) return e;
    let r = e.map((o2) => this.escapeRegex(o2.name));
    return new RegExp(`^(${r.join("|")})$`);
  }
  escapeRegex(e) {
    return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
  }
  configItemToRegexp(e) {
    return this.constructorToRegex(e);
  }
  ID(e, r) {
    return `${e.name}.${r}`;
  }
  isAllowed(e, r) {
    let o2 = typeof e == "function" ? e : e.constructor;
    return new oe(this, o2, r);
  }
  internal_checkAccess(e) {
    let r = e.component.name, o2 = e.method, n = e.target.name, s = this.rules.filter((a2) => a2.componentRegex.test(r) && a2.methodRegex.test(o2)).sort((a2, _) => {
      let d2 = a2.methodRegex.source === ".*", p = _.methodRegex.source === ".*";
      return d2 && !p ? 1 : !d2 && p ? -1 : 0;
    });
    if (s.length === 0) return true;
    for (let a2 of s) {
      if (a2.excludeRegex && a2.excludeRegex.test(n)) return false;
      if (a2.applyRegex) return a2.applyRegex.test(n);
    }
    return true;
  }
  isExcluded(e, r) {
    let o2 = typeof e == "function" ? e : e.constructor;
    return new oe(this, o2, r, true);
  }
}, __name(_a64, "ct"), _a64);
i(ct, "A_Manifest");
var Qr = ((p) => (p.onInit = "_A_Memory_onInit", p.onDestroy = "_A_Memory_onDestroy", p.onExpire = "_A_Memory_onExpire", p.onError = "_A_Memory_onError", p.onSerialize = "_A_Memory_onSerialize", p.onSet = "_A_Memory_onSet", p.onGet = "_A_Memory_onGet", p.onDrop = "_A_Memory_onDrop", p.onClear = "_A_Memory_onClear", p.onHas = "_A_Memory_onHas", p))(Qr || {});
var _a65;
var lt = (_a65 = class extends B {
  constructor() {
    super(...arguments);
    this._storage = /* @__PURE__ */ new Map();
  }
  set(e, r) {
    this._storage.set(e, r);
  }
  get(e) {
    return this._storage.get(e);
  }
  delete(e) {
    this._storage.delete(e);
  }
  has(e) {
    return this._storage.has(e);
  }
  clear() {
    this._storage.clear();
  }
}, __name(_a65, "lt"), _a65);
i(lt, "A_MemoryContext");
var v2 = lt;
var _a66;
var D2 = (_a66 = class extends f {
}, __name(_a66, "D"), _a66);
i(D2, "A_MemoryError"), D2.MemoryInitializationError = "Memory initialization error", D2.MemoryDestructionError = "Memory destruction error", D2.MemoryGetError = "Memory GET operation failed", D2.MemorySetError = "Memory SET operation failed", D2.MemoryDropError = "Memory DROP operation failed", D2.MemoryClearError = "Memory CLEAR operation failed", D2.MemoryHasError = "Memory HAS operation failed", D2.MemorySerializeError = "Memory toJSON operation failed";
var g2 = D2;
var oo;
var no;
var io;
var so;
var ao;
var co;
var lo;
var _o;
var po;
var _a67;
var I2 = (_a67 = class extends F {
  get ready() {
    return this._ready || (this._ready = this.init()), this._ready;
  }
  async [po = "_A_Memory_onError"](...t) {
  }
  async [_o = "_A_Memory_onExpire"](...t) {
  }
  async [lo = "_A_Memory_onInit"](t, ...e) {
    t || (t = new v2(), c.scope(this).register(t));
  }
  async [co = "_A_Memory_onDestroy"](t, ...e) {
    t.clear();
  }
  async [ao = "_A_Memory_onGet"](t, e, ...r) {
    t.succeed(e.get(t.params.key));
  }
  async [so = "_A_Memory_onHas"](t, e, ...r) {
    t.succeed(e.has(t.params.key));
  }
  async [io = "_A_Memory_onSet"](t, e, r, ...o2) {
    e.set(t.params.key, t.params.value);
  }
  async [no = "_A_Memory_onDrop"](t, e, ...r) {
    e.delete(t.params.key);
  }
  async [oo = "_A_Memory_onClear"](t, e, ...r) {
    e.clear();
  }
  async init() {
    if (this._ready) return this._ready;
    let t = new x({ name: "A-Memory-Init-Scope" }).inherit(c.scope(this));
    try {
      await this.call("_A_Memory_onInit", t);
    } catch (e) {
      let r = new g2({ title: g2.MemoryInitializationError, description: "An error occurred during memory initialization", originalError: e });
      throw t.register(r), await this.call("_A_Memory_onError", t), t.destroy(), r;
    }
  }
  async destroy() {
    let t = new x({ name: "A-Memory-Destroy-Scope" }).inherit(c.scope(this));
    try {
      this._ready = void 0, await this.call("_A_Memory_onDestroy", t);
    } catch (e) {
      let r = new g2({ title: g2.MemoryDestructionError, description: "An error occurred during memory destruction", originalError: e });
      throw t.register(r), await this.call("_A_Memory_onError", t), t.destroy(), r;
    }
  }
  async get(t) {
    let e = new u2("get", { key: t }), r = new x({ name: "A-Memory-Get-Operation-Scope", fragments: [e] }).inherit(c.scope(this));
    try {
      return await this.call("_A_Memory_onGet", r), r.destroy(), e.result;
    } catch (o2) {
      let n = new g2({ title: g2.MemoryGetError, description: `An error occurred while getting the value for key "${String(t)}"`, originalError: o2 });
      throw r.register(n), await this.call("_A_Memory_onError", r), r.destroy(), n;
    }
  }
  async has(t) {
    let e = new u2("has", { key: t }), r = new x({ name: "A-Memory-Has-Operation-Scope", fragments: [e] }).inherit(c.scope(this));
    try {
      return await this.call("_A_Memory_onHas", r), r.destroy(), e.result;
    } catch (o2) {
      let n = new g2({ title: g2.MemoryHasError, description: `An error occurred while checking existence for key "${String(t)}"`, originalError: o2 });
      throw r.register(n), await this.call("_A_Memory_onError", r), r.destroy(), n;
    }
  }
  async set(t, e) {
    let r = new u2("set", { key: t, value: e }), o2 = new x({ name: "A-Memory-Set-Operation-Scope", fragments: [r] }).inherit(c.scope(this));
    try {
      await this.call("_A_Memory_onSet", o2);
    } catch (n) {
      let s = new g2({ title: g2.MemorySetError, description: `An error occurred while setting the value for key "${String(t)}"`, originalError: n });
      throw o2.register(s), await this.call("_A_Memory_onError", o2), o2.destroy(), s;
    }
  }
  async drop(t) {
    let e = new u2("drop", { key: t }), r = new x({ name: "A-Memory-Drop-Operation-Scope", fragments: [e] }).inherit(c.scope(this));
    try {
      await this.call("_A_Memory_onDrop", r);
    } catch (o2) {
      let n = new g2({ title: g2.MemoryDropError, description: `An error occurred while dropping the value for key "${String(t)}"`, originalError: o2 });
      throw r.register(n), await this.call("_A_Memory_onError", r), r.destroy(), n;
    }
  }
  async clear() {
    let t = new u2("clear"), e = new x({ name: "A-Memory-Clear-Operation-Scope", fragments: [t] }).inherit(c.scope(this));
    try {
      await this.call("_A_Memory_onClear", e);
    } catch (r) {
      let o2 = new g2({ title: g2.MemoryClearError, description: "An error occurred while clearing the memory", originalError: r });
      throw e.register(o2), await this.call("_A_Memory_onError", e), e.destroy(), o2;
    }
  }
  async toJSON() {
    let t = new u2("serialize"), e = new x({ name: "A-Memory-Serialize-Operation-Scope", fragments: [t] }).inherit(c.scope(this));
    try {
      return await this.call("_A_Memory_onSerialize", e), t.result;
    } catch (r) {
      let o2 = new g2({ title: g2.MemorySerializeError, description: "An error occurred while serializing the memory", originalError: r });
      throw e.register(o2), await this.call("_A_Memory_onError", e), e.destroy(), o2;
    }
  }
}, __name(_a67, "I"), _a67);
i(I2, "A_Memory"), c2([v.Extend()], I2.prototype, po, 1), c2([v.Extend()], I2.prototype, _o, 1), c2([v.Extend(), l(0, _t(v2))], I2.prototype, lo, 1), c2([v.Extend(), l(0, _t(v2))], I2.prototype, co, 1), c2([v.Extend(), l(0, Je.Required()), l(0, _t(u2)), l(1, _t(v2))], I2.prototype, ao, 1), c2([v.Extend(), l(0, Je.Required()), l(0, _t(u2)), l(1, _t(v2))], I2.prototype, so, 1), c2([v.Extend(), l(0, Je.Required()), l(0, _t(u2)), l(1, _t(v2)), l(2, _t(x))], I2.prototype, io, 1), c2([v.Extend(), l(0, Je.Required()), l(0, _t(u2)), l(1, _t(v2))], I2.prototype, no, 1), c2([v.Extend(), l(0, Je.Required()), l(0, _t(u2)), l(1, _t(v2))], I2.prototype, oo, 1);
var uo = ((p) => (p.onBeforeLoad = "_A_Service_onBeforeLoad", p.onLoad = "_A_Service_onLoad", p.onAfterLoad = "_A_Service_onAfterLoad", p.onBeforeStart = "_A_Service_onBeforeStart", p.onStart = "_A_Service_onStart", p.onAfterStart = "_A_Service_onAfterStart", p.onBeforeStop = "_A_Service_onBeforeStop", p.onStop = "_A_Service_onStop", p.onAfterStop = "_A_Service_onAfterStop", p.onError = "_A_Service_onError", p))(uo || {});
var _a68;
var ne2 = (_a68 = class extends f {
}, __name(_a68, "ne"), _a68);
i(ne2, "A_Service_Error"), ne2.ServiceLoadError = "Service load error", ne2.ServiceStartError = "Service start error", ne2.ServiceStopError = "Service stop error";
var S2 = ne2;
var go;
var fo;
var yo;
var Ao;
var Eo;
var To;
var So;
var xo;
var Co;
var Ro;
var _a69;
var E = (_a69 = class extends L {
  async load() {
    try {
      await this.call("_A_Service_onBeforeLoad"), await this.call("_A_Service_onLoad"), await this.call("_A_Service_onAfterLoad");
    } catch (t) {
      let e;
      switch (true) {
        case t instanceof S2:
          e = t;
          break;
        case (t instanceof f && t.originalError instanceof S2):
          e = t.originalError;
          break;
        default:
          e = new S2({ title: S2.ServiceLoadError, description: "An error occurred while processing the request.", originalError: t });
          break;
      }
      this.scope.register(e), await this.call("_A_Service_onError");
    }
  }
  async start() {
    try {
      await this.call("_A_Service_onBeforeStart"), await this.call("_A_Service_onStart"), await this.call("_A_Service_onAfterStart");
    } catch (t) {
      let e;
      switch (true) {
        case t instanceof S2:
          e = t;
          break;
        case (t instanceof f && t.originalError instanceof S2):
          e = t.originalError;
          break;
        default:
          e = new S2({ title: S2.ServiceStartError, description: "An error occurred while processing the request.", originalError: t });
          break;
      }
      this.scope.register(e), await this.call("_A_Service_onError");
    }
  }
  async stop() {
    try {
      await this.call("_A_Service_onBeforeStop"), await this.call("_A_Service_onStop"), await this.call("_A_Service_onAfterStop");
    } catch (t) {
      let e;
      switch (true) {
        case t instanceof S2:
          e = t;
          break;
        case (t instanceof f && t.originalError instanceof S2):
          e = t.originalError;
          break;
        default:
          e = new S2({ title: S2.ServiceStopError, description: "An error occurred while processing the request.", originalError: t });
          break;
      }
      this.scope.register(e), await this.call("_A_Service_onError");
    }
  }
  async [Ro = "_A_Service_onBeforeLoad"](t, ...e) {
    t || (this.scope.register(f2), t = this.scope.resolve(f2));
  }
  async [Co = "_A_Service_onLoad"](...t) {
  }
  async [xo = "_A_Service_onAfterLoad"](...t) {
  }
  async [So = "_A_Service_onBeforeStart"](...t) {
  }
  async [To = "_A_Service_onStart"](...t) {
  }
  async [Eo = "_A_Service_onAfterStart"](...t) {
  }
  async [Ao = "_A_Service_onBeforeStop"](...t) {
  }
  async [yo = "_A_Service_onStop"](...t) {
  }
  async [fo = "_A_Service_onAfterStop"](...t) {
  }
  async [go = "_A_Service_onError"](t, e, ...r) {
    e?.error(t);
  }
}, __name(_a69, "E"), _a69);
i(E, "A_Service"), c2([Me.Load()], E.prototype, "load", 1), c2([Me.Start()], E.prototype, "start", 1), c2([Me.Stop()], E.prototype, "stop", 1), c2([v.Extend(), l(0, _t(f2))], E.prototype, Ro, 1), c2([v.Extend()], E.prototype, Co, 1), c2([v.Extend()], E.prototype, xo, 1), c2([v.Extend()], E.prototype, So, 1), c2([v.Extend()], E.prototype, To, 1), c2([v.Extend()], E.prototype, Eo, 1), c2([v.Extend()], E.prototype, Ao, 1), c2([v.Extend()], E.prototype, yo, 1), c2([v.Extend()], E.prototype, fo, 1), c2([v.Extend({ before: /.*/ }), l(0, _t(f)), l(1, _t(T2))], E.prototype, go, 1);
var ut = E;
var _a70;
var ht = (_a70 = class extends B {
  constructor(t) {
    super(), this.url = t instanceof RegExp ? t.source : t;
  }
  get path() {
    let t = this.url.split("?")[0].split("#")[0];
    if (t.includes("://")) {
      let e = t.indexOf("/", t.indexOf("://") + 3);
      if (e === -1) return "/";
      {
        let r = t.slice(e);
        return r.endsWith("/") ? r.slice(0, -1) : r;
      }
    }
    return t.endsWith("/") ? t.slice(0, -1) : t;
  }
  get params() {
    return this.path.match(/:([^\/]+)/g)?.map((t) => t.slice(1)) || [];
  }
  get protocol() {
    switch (true) {
      case this.url.startsWith("http://"):
        return "http";
      case this.url.startsWith("https://"):
        return "https";
      case this.url.startsWith("ws://"):
        return "ws";
      case this.url.startsWith("wss://"):
        return "wss";
      default:
        return this.url.includes("://") ? this.url.split("://")[0] : "http";
    }
  }
  extractParams(t) {
    let r = t.split("?")[0].split("/").filter(Boolean), o2 = this.path.split("/").filter(Boolean), n = {};
    for (let s = 0; s < o2.length; s++) {
      let a2 = o2[s], _ = r[s];
      if (a2.startsWith(":")) {
        let d2 = a2.slice(1);
        n[d2] = _;
      } else if (a2 !== _) return {};
    }
    return n;
  }
  extractQuery(t) {
    let e = {}, r = t.split("?")[1];
    if (!r) return e;
    let o2 = r.split("#")[0];
    for (let n of o2.split("&")) {
      if (!n) continue;
      let [s, a2 = ""] = n.split("=");
      e[decodeURIComponent(s)] = decodeURIComponent(a2);
    }
    return e;
  }
  toString() {
    return `${this.path}`;
  }
  toRegExp() {
    return new RegExp(`^${this.path.replace(/\/:([^\/]+)/g, "/([^/]+)")}$`);
  }
  toAFeatureExtension(t = []) {
    return new RegExp(`^${t.length ? `(${t.join("|")})` : ".*"}\\.${this.path.replace(/\/:([^\/]+)/g, "/([^/]+)")}$`);
  }
}, __name(_a70, "ht"), _a70);
i(ht, "A_Route");
var Po = ((t) => (t.Next = "_A_SignalFeatures_Next", t))(Po || {});
var Lo = ((t) => (t.Next = "_A_SignalVectorFeatures_Next", t))(Lo || {});
var _a71;
var gt = (_a71 = class extends M {
  static async default() {
  }
  fromJSON(t) {
    super.fromJSON(t), this.data = t.data;
  }
  fromNew(t) {
    this.aseid = this.generateASEID({ entity: t.name }), this.data = t.data;
  }
  async next(t) {
    await this.call("_A_SignalFeatures_Next", t);
  }
  toJSON() {
    return { ...super.toJSON(), data: this.data };
  }
}, __name(_a71, "gt"), _a71);
i(gt, "A_Signal");
var P = gt;
var _a72;
var yt = (_a72 = class extends M {
  fromNew(t) {
    super.fromNew(t), this._structure = t.structure, this._signals = t.values;
  }
  get structure() {
    return this._structure || this._signals.map((t) => t.constructor);
  }
  get length() {
    return this.structure.length;
  }
  [Symbol.iterator]() {
    let t = 0, e = this.structure.map((r) => {
      let o2 = this._signals.findIndex((n) => n.constructor === r);
      return o2 !== -1 ? this._signals[o2] : void 0;
    });
    return { next() {
      return t < e.length ? { done: false, value: e[t++] } : { done: true, value: void 0 };
    } };
  }
  async next(t) {
    return await this.call("_A_SignalVectorFeatures_Next", t);
  }
  has(t) {
    let e;
    return t instanceof M ? e = t.constructor : e = t, this.structure.includes(e);
  }
  get(t) {
    let e;
    t instanceof M ? e = t.constructor : e = t;
    let r = this._signals.findIndex((o2) => o2.constructor === e);
    if (r !== -1) return this._signals[r];
  }
  async toVector(t) {
    return (t || this.structure).map((r) => {
      let o2 = this._signals.findIndex((n) => n.constructor === r);
      return o2 !== -1 ? this._signals[o2] : void 0;
    });
  }
  async toDataVector(t) {
    let e = t || this.structure, r = [];
    for (let o2 of e) {
      let n = this._signals.findIndex((a2) => a2.constructor === o2), s;
      n === -1 ? s = await o2.default() : s = this._signals[n], r.push(s?.toJSON().data);
    }
    return r;
  }
  async toObject(t) {
    let e = t || this.structure, r = {};
    return e.forEach((o2) => {
      let n = o2.name, s = this._signals.findIndex((a2) => a2.constructor === o2);
      if (s !== -1) {
        let a2 = this._signals[s];
        r[n] = a2.toJSON().data;
      } else r[n] = void 0;
    }), r;
  }
  toJSON() {
    return { ...super.toJSON(), structure: this.structure.map((t) => t.name), values: this._signals.map((t) => t.toJSON()) };
  }
}, __name(_a72, "yt"), _a72);
i(yt, "A_SignalVector");
var ge2 = yt;
var _a73;
var At = (_a73 = class extends B {
  constructor(e) {
    super({ name: "A_SignalState" });
    this._state = /* @__PURE__ */ new Map();
    this._structure = e;
  }
  get structure() {
    return this._structure || [];
  }
  set(e, r) {
    let o2 = e instanceof P ? e.constructor : e, n = e instanceof P ? e : r;
    this._state.set(o2, n);
  }
  get(e) {
    let r = e instanceof P ? e.constructor : e;
    return this._state.get(r);
  }
  has(e) {
    let r = e instanceof P ? e.constructor : e;
    return this.structure.includes(r);
  }
  delete(e) {
    let r = e instanceof P ? e.constructor : e;
    return this._state.delete(r);
  }
  toVector() {
    let e = [];
    return this._state.forEach((r, o2) => {
      e.push(r);
    }), new ge2({ structure: this.structure, values: e });
  }
  toObject() {
    let e = {};
    return this.structure.forEach((r) => {
      let o2 = this._state.get(r);
      if (o2 === void 0) throw new Error(`Signal ${r.name} has no value in state`);
      e[r.name] = o2;
    }), e;
  }
}, __name(_a73, "At"), _a73);
i(At, "A_SignalState");
var ie = At;
var _a74;
var Et = (_a74 = class extends B {
  get structure() {
    if (this._structure) return this._structure;
    let t = c.scope(this);
    return [...t.allowedEntities].filter((r) => u.isInheritedFrom(r, P)).sort((r, o2) => r.constructor.name.localeCompare(o2.name)).map((r) => t.resolveConstructor(r.name)).filter((r) => r);
  }
  get ready() {
    return this._ready;
  }
  constructor(t) {
    super({ name: "A_SignalConfig" }), this._config = t;
  }
  async initialize() {
    return this._ready || (this._ready = this._initialize()), this._ready;
  }
  async _initialize() {
    if (this._config.structure) this._structure = this._config.structure;
    else if (this._config.stringStructure) {
      let t = this._config.stringStructure.split(",").map((e) => e.trim());
      this._structure = t.map((e) => c.scope(this).resolveConstructor(e)).filter((e) => e);
    }
  }
}, __name(_a74, "Et"), _a74);
i(Et, "A_SignalConfig");
var se2 = Et;
var $o;
var _a75;
var ke2 = (_a75 = class extends F {
  async [$o = "_A_SignalFeatures_Next"](t, e, r, o2, n, s) {
    let a2 = c.scope(this);
    if (s || (s = new se2({ stringStructure: r?.get("A_SIGNAL_VECTOR_STRUCTURE") || void 0 }), a2.register(s)), s.ready || await s.initialize(), n || (n = new ie(s.structure), a2.register(n)), !n.has(t)) return;
    o2?.debug(`A_SignalBus: Updating state for signal '${t.constructor.name}' with data:`, t.data), n.set(t), await n.toVector().next(e);
  }
}, __name(_a75, "ke"), _a75);
i(ke2, "A_SignalBus"), c2([v.Extend({ scope: [P] }), l(0, _t(V)), l(1, _t(x)), l(2, _t(A2)), l(3, _t(T2)), l(4, _t(ie)), l(5, _t(se2))], ke2.prototype, $o, 1);
var Tt = ke2;
var _a76;
var St = (_a76 = class {
  constructor() {
    this.promise = new Promise((t, e) => {
      this.resolveFn = t, this.rejectFn = e;
    });
  }
  resolve(t) {
    this.resolveFn(t);
  }
  reject(t) {
    this.rejectFn(t);
  }
}, __name(_a76, "St"), _a76);
i(St, "A_Deferred");
var fe2 = St;
var _a77;
var xt = (_a77 = class {
  constructor(t, e, r) {
    this.config = { resolveOnClear: false };
    r && (this.config = { ...this.config, ...r }), this.deferred = new fe2(), this.timeout = setTimeout(() => e().then((...o2) => this.deferred.resolve(...o2)).catch((...o2) => this.deferred.reject(...o2)), t);
  }
  get promise() {
    return this.deferred.promise;
  }
  clear() {
    this.timeout && (clearTimeout(this.timeout), this.config.resolveOnClear ? this.deferred.resolve(void 0) : this.deferred.reject(new f("Timeout Cleared")));
  }
}, __name(_a77, "xt"), _a77);
i(xt, "A_ScheduleObject");
var ce2 = xt;
var _a78;
var Rt = (_a78 = class extends F {
  async schedule(t, e, r) {
    let o2 = o.isString(t) ? new Date(t).getTime() : t;
    return new ce2(o2 - Date.now(), e, r);
  }
  async delay(t, e, r) {
    return new ce2(t, e, r);
  }
}, __name(_a78, "Rt"), _a78);
i(Rt, "A_Schedule");

// src/components/AreComponent/Are.component.ts
var _Are = class _Are extends F {
  //==================================================================================
  //======================== LIFECYCLE DECORATORS ====================================
  //==================================================================================
  static get EventHandler() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: propertyKey,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeLoad() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onBeforeLoad" /* onBeforeLoad */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterLoad() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onAfterLoad" /* onAfterLoad */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeCompile() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onBeforeCompile" /* onBeforeCompile */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterCompile() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onAfterCompile" /* onAfterCompile */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeMount() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onBeforeMount" /* onBeforeMount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterMount() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onAfterMount" /* onAfterMount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeUnmount() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onBeforeUnmount" /* onBeforeUnmount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterUnmount() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onAfterUnmount" /* onAfterUnmount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeUpdate() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onBeforeUpdate" /* onBeforeUpdate */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterUpdate() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onAfterUpdate" /* onAfterUpdate */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get Template() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onTemplate" /* onTemplate */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get Styles() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onStyles" /* onStyles */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get Data() {
    return (target, propertyKey, descriptor) => {
      return v.Extend({
        name: "_Are_onData" /* onData */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  // ==================================================================================
  // ========================= COMPONENT METHODS ======================================
  // ==================================================================================
  get wrapper() {
    return "";
  }
  async template(...args) {
  }
  async styles(...args) {
  }
  async data(...args) {
  }
};
__name(_Are, "Are");
__decorateClass([
  _Are.Template
], _Are.prototype, "template", 1);
__decorateClass([
  _Are.Styles
], _Are.prototype, "styles", 1);
__decorateClass([
  _Are.Data
], _Are.prototype, "data", 1);
var Are = _Are;

// src/context/AreStore/AreStore.context.ts
var _AreStore = class _AreStore extends b2 {
  constructor(aseid) {
    super(aseid.toString());
  }
  setMultiple(values) {
    Object.entries(values).forEach(([key, value]) => {
      this.set(key, value);
    });
  }
};
__name(_AreStore, "AreStore");
var AreStore = _AreStore;

// examples/jumpstart/src/components/SignInComponent.component.ts
var _SignInComponent = class _SignInComponent extends Are {
  async data(store, logger) {
    store.setMultiple({
      btnName: "Sign In"
    });
  }
  async styles(node) {
    node.setStyles(` 
        .card {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            max-width: 300px;
            margin: 0 auto;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position:absolute;
            top:50%;
            left:50%;
            transform: translate(-50%, -50%);
        }
            `);
  }
  async template(node, logger) {
    logger.info("blue", `SignInComponent template called... : <${node.aseid.entity}> : `, node.aseid.toString());
    node.setTemplate(`
              <div class="card">
                <h2>Sign In</h2>
                <input type="email" id="email" placeholder="Email" />
                <input type="password" id="password" placeholder="Password" />
                <a-btn  :name="btnName" :style="{ color: 'red' }"></a-btn>
              </div>
            `);
  }
  // @A_Feature.Extend({
  //     scope: [SignInComponent]
  // })
  // async A_UI_NODE_onBeforeLoad(
  //     @A_Inject(AreNode) node: AreNode,
  //     @A_Inject(A_Scope) scope: A_Scope,
  //     @A_Inject(A_UI_NodeStore) store: A_UI_NodeStore,
  //     @A_Inject(A_Logger) logger: A_Logger,
  // ): Promise<void> {
  //     logger.log('green', `SignInComponent is initializing... : <${node.aseid.entity}> : `, node.aseid.toString());
  //     store.data.set('btnName', 'Custom Sign In Button');
  // }
  // private addListeners(): void {
  //     const btn = document.getElementById("signInBtn") as HTMLButtonElement;
  //     btn.addEventListener("click", () => this.signIn());
  // }
  // private async signIn(): Promise<void> {
  //     const email = (document.getElementById("email") as HTMLInputElement).value;
  //     const password = (document.getElementById("password") as HTMLInputElement).value;
  //     const signInCommand = new SignInCommand({
  //         username: email,
  //         password
  //     });
  //     A_Context.scope(this).register(signInCommand);
  //     await signInCommand.execute();
  //     console.log("SignIn Command Result:", signInCommand.toJSON());
  // }
  // @A_Feature.Extend({
  //     name: A_CommandFeatures.onComplete,
  //     scope: {
  //         include: [SignInCommand]
  //     }
  // })
  // async handleSuccessSignIn(
  //     @A_Inject(A_Memory) memory: A_Memory<{ token: SerializedToken }>,
  //     @A_Inject(A_Caller) command: SignInCommand,
  // ) {
  //     console.log("Sign-in completed with result:", command.result);
  //     alert(command.result)
  //     const resultToken = await memory.get('token')
  //     const token = new Token(resultToken);
  //     memory.set('token', token as any);
  // }
};
__name(_SignInComponent, "SignInComponent");
__decorateClass([
  Are.Data,
  __decorateParam(0, _t(AreStore)),
  __decorateParam(1, _t(T2))
], _SignInComponent.prototype, "data", 1);
__decorateClass([
  Are.Styles,
  __decorateParam(0, _t(V))
], _SignInComponent.prototype, "styles", 1);
__decorateClass([
  Are.Template,
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(T2))
], _SignInComponent.prototype, "template", 1);
var SignInComponent = _SignInComponent;

// src/context/AreEvent/AreEvent.context.ts
var _AreEvent = class _AreEvent extends B {
  constructor(eventName, props) {
    super({ name: eventName });
    this._props = props;
    this._node = props.node;
  }
  get node() {
    return this._node;
  }
  get data() {
    return this._props.data;
  }
  get event() {
    return this._props.event;
  }
  bind(node) {
    this._node = node;
  }
};
__name(_AreEvent, "AreEvent");
var AreEvent = _AreEvent;

// src/context/AreIndex/AreIndex.context.ts
var _AreIndex = class _AreIndex extends B {
  constructor(aseid) {
    super({
      name: aseid instanceof I ? aseid.toString() : aseid
    });
    /**
     * Platform-agnostic element index
     * Element can be DOM Element, PDF element, DOCX element, etc.
     * The actual type depends on the compiler being used
     */
    this._index = {
      ASEID_to_Path: /* @__PURE__ */ new Map(),
      Path_to_ASEID: /* @__PURE__ */ new Map(),
      Node_to_Path: /* @__PURE__ */ new Map(),
      Path_to_Node: /* @__PURE__ */ new Map()
    };
  }
  /**
   * Unique hash representing the current state of the index
   * Can be used to identify changes in the index
   */
  get state() {
    const entries = Array.from(this._index.ASEID_to_Path.entries()).sort(([aseidA], [aseidB]) => aseidA.localeCompare(aseidB)).map(([aseid, path]) => `${aseid}:${JSON.stringify(path)}`);
    return entries.join("|");
  }
  get scope() {
    return c.scope(this);
  }
  get parent() {
    return c.scope(this).parent?.resolve(_AreIndex);
  }
  get size() {
    return this._index.ASEID_to_Path.size;
  }
  get nodes() {
    return Array.from(this._index.Node_to_Path.keys());
  }
  get paths() {
    return Array.from(this._index.Path_to_Node.keys());
  }
  get depth() {
    let depth = 0;
    let currentScope = this.scope;
    while (currentScope) {
      depth++;
      currentScope = currentScope.parent;
    }
    return depth;
  }
  /**
   * Adds a platform-agnostic element to the index
   * @param node - AreNode to index
   * @param path - Platform-specific element (DOM, PDF, DOCX, etc.)
   */
  add(node, path) {
    this._index.ASEID_to_Path.set(node.aseid.toString(), path);
    this._index.Path_to_ASEID.set(path, node.aseid.toString());
    this._index.Node_to_Path.set(node, path);
    this._index.Path_to_Node.set(path, node);
  }
  /**
   * Retrieves platform-specific element by AreNode
   * @param node - AreNode to look up
   * @returns Platform-specific element or undefined
   */
  pathOf(node) {
    return this._index.Node_to_Path.get(node);
  }
  /**
   * Retrieves AreNode by platform-specific element
   * @param element - Platform-specific element to look up
   * @returns AreNode or undefined
   */
  nodeOf(path) {
    return this._index.Path_to_Node.get(path);
  }
  /**
   * Removes index entry by AreNode
   * @param node - AreNode to remove from index
   */
  removeByNode(node) {
    const path = this._index.Node_to_Path.get(node);
    if (path) {
      this._index.ASEID_to_Path.delete(node.aseid.toString());
      this._index.Path_to_ASEID.delete(path);
      this._index.Node_to_Path.delete(node);
      this._index.Path_to_Node.delete(path);
    }
  }
  replaceByNode(oldNode, newNode) {
    const path = this._index.Node_to_Path.get(oldNode);
    if (path) {
      this._index.ASEID_to_Path.delete(oldNode.aseid.toString());
      this._index.Path_to_ASEID.set(path, newNode.aseid.toString());
      this._index.Node_to_Path.delete(oldNode);
      this._index.Node_to_Path.set(newNode, path);
      this._index.Path_to_Node.set(path, newNode);
    }
  }
  replacePath(oldPath, newPath) {
    const aseid = this._index.Path_to_ASEID.get(oldPath);
    const node = this._index.Path_to_Node.get(oldPath);
    if (aseid && node) {
      this._index.ASEID_to_Path.set(aseid, newPath);
      this._index.Path_to_ASEID.delete(oldPath);
      this._index.Path_to_ASEID.set(newPath, aseid);
      this._index.Node_to_Path.set(node, newPath);
      this._index.Path_to_Node.delete(oldPath);
      this._index.Path_to_Node.set(newPath, node);
    }
  }
  /**
   * Removes index entry by platform-specific element
   * @param path - Platform-specific element to remove from index
   */
  removeByElement(path) {
    const aseid = this._index.Path_to_ASEID.get(path);
    if (aseid) {
      const node = this._index.Path_to_Node.get(path);
      if (node) {
        this._index.ASEID_to_Path.delete(aseid);
        this._index.Path_to_ASEID.delete(path);
        this._index.Node_to_Path.delete(node);
        this._index.Path_to_Node.delete(path);
      }
    }
  }
  clear() {
    this._index.ASEID_to_Path.clear();
    this._index.Path_to_ASEID.clear();
    this._index.Node_to_Path.clear();
    this._index.Path_to_Node.clear();
  }
};
__name(_AreIndex, "AreIndex");
var AreIndex = _AreIndex;

// src/entities/AreNode/AreNode.entity.ts
var _AreNode = class _AreNode extends M {
  get id() {
    return this.aseid.id;
  }
  get scope() {
    if (!this._scope) {
      this._scope = new x({
        name: `${this.aseid.id}`
      });
    }
    return this._scope;
  }
  get type() {
    return this.aseid.entity;
  }
  get template() {
    return this._template;
  }
  get markup() {
    return this._markup;
  }
  get styles() {
    return this._styles;
  }
  fromNew(newEntity) {
    this.aseid = this.generateASEID({
      id: newEntity.id,
      entity: newEntity.component,
      scope: newEntity.scope
    });
    this._template = newEntity.template || "";
    this._markup = newEntity.markup || "";
    this._styles = newEntity.styles || "";
  }
  fromASEID(aseid) {
    super.fromASEID(aseid);
    this._template = "";
    this._markup = "";
    this._styles = "";
  }
  setTemplate(template) {
    this._template = template;
  }
  setMarkup(markup) {
    this._markup = markup;
  }
  setStyles(styles) {
    this._styles = styles;
  }
  async emit(event) {
    this.checkScopeInheritance();
    const eventScope = new x({
      name: `${event.name}-scope`,
      fragments: [event]
    }).inherit(this.scope);
    try {
      await this.call("_AreNode_onEvent" /* onEvent */, eventScope);
      eventScope.destroy();
    } catch (error) {
      eventScope.destroy();
      throw error;
    }
  }
  async compile() {
    this.checkScopeInheritance();
    try {
      await this.call("_AreNode_onCompile" /* onCompile */, this.scope);
    } catch (error) {
      throw error;
    }
  }
  async render() {
    this.checkScopeInheritance();
    try {
      await this.call("_AreNode_onRender" /* onRender */, this.scope);
    } catch (error) {
      throw error;
    }
  }
  async update() {
    this.checkScopeInheritance();
    try {
      await this.call("_AreNode_onUpdate" /* onUpdate */, this.scope);
    } catch (error) {
      throw error;
    }
  }
  // async mount(): Promise<void> {
  //     this.checkScopeInheritance();
  //     try {
  //         await this.call(AreNodeFeatures.onMount, this.scope);
  //     } catch (error) {
  //         throw error;
  //     }
  // }
  async unmount() {
    this.checkScopeInheritance();
    try {
      await this.call("_AreNode_onUnmount" /* onUnmount */, this.scope);
    } catch (error) {
      throw error;
    }
  }
  async load() {
    return await super.load(this.scope);
  }
  async destroy(scope) {
    this.checkScopeInheritance();
    try {
      await super.destroy(this.scope);
      this.scope.destroy();
    } catch (error) {
      this._scope.destroy();
      throw error;
    }
  }
  //============================================================================================
  //                                Helpers Methods
  //============================================================================================
  /**
   * Method to ensure that the current scope is inherited from the context scope
   * 
   * @throws A_Error if the scope is not inherited from the context scope
   */
  checkScopeInheritance() {
    let attachedScope;
    try {
      attachedScope = c.scope(this);
    } catch (error) {
      throw new f({
        title: `A_UI_Node Scope Inheritance Error`,
        description: `The A_UI_Node entity with ASEID '${this.aseid.toString()}' is not bound to any context scope. Please ensure that the entity is created within a valid context.`,
        originalError: error
      });
    }
  }
};
__name(_AreNode, "AreNode");
var AreNode = _AreNode;

// src/context/AreProps/AreProps.context.ts
var _AreProps = class _AreProps extends b2 {
  constructor(aseid) {
    super(aseid.toString());
  }
  setMultiple(values) {
    Object.entries(values).forEach(([key, value]) => {
      this.set(key, value);
    });
  }
};
__name(_AreProps, "AreProps");
var AreProps = _AreProps;

// src/entities/AreSceneInstruction/AreSceneInstruction.entity.ts
var _AreSceneInstruction = class _AreSceneInstruction extends M {
  get scene() {
    return c.scope(this).resolve(AreScene);
  }
  createHash(str) {
    let hashSource;
    if (str instanceof Map) {
      hashSource = JSON.stringify(Array.from(str.entries()));
    } else if (str instanceof Set) {
      hashSource = JSON.stringify(Array.from(str.values()));
    } else {
      switch (typeof str) {
        case "string":
          hashSource = str;
          break;
        case "undefined":
          hashSource = "undefined";
          break;
        case "object":
          hashSource = JSON.stringify(str);
          break;
        case "number":
          hashSource = str.toString();
          break;
        case "boolean":
          hashSource = str ? "true" : "false";
          break;
        case "function":
          hashSource = str.toString();
          break;
        default:
          hashSource = String(str);
      }
    }
    let hash = 0, i2, chr;
    for (i2 = 0; i2 < hashSource.length; i2++) {
      chr = hashSource.charCodeAt(i2);
      hash = (hash << 5) - hash + chr;
      hash |= 0;
    }
    const hashString = hash.toString();
    return hashString;
  }
  fromNew(newEntity) {
    const identity = newEntity.id || {
      name: newEntity.action,
      node: newEntity.node.aseid.toString()
    };
    const id = this.createHash(identity);
    this.aseid = this.generateASEID({
      entity: y.toKebabCase(newEntity.action),
      id
    });
    this.action = newEntity.action;
    this.node = newEntity.node;
    this.params = newEntity.params;
  }
  update(params) {
    this.params = {
      ...this.params,
      ...params
    };
  }
  async init(scope) {
    try {
      await this.call("_AreSceneInstructionInit" /* Init */, scope);
    } catch (error) {
    }
  }
  async apply(scope) {
    try {
      await this.call("_AreSceneInstructionApply" /* Apply */, scope);
    } catch (error) {
    }
  }
  async revert(scope) {
    try {
      await this.call("_AreSceneInstructionRevert" /* Revert */, scope);
    } catch (error) {
    }
  }
};
__name(_AreSceneInstruction, "AreSceneInstruction");
var AreSceneInstruction = _AreSceneInstruction;

// src/entities/AreSceneInstruction/types/MountNode.instruction.ts
var _MountNodeInstruction = class _MountNodeInstruction extends AreSceneInstruction {
  get path() {
    return this.params.path;
  }
  constructor(node, path) {
    super({
      id: [node, path],
      action: "mount-node",
      node,
      params: {
        path
      }
    });
  }
};
__name(_MountNodeInstruction, "MountNodeInstruction");
var MountNodeInstruction = _MountNodeInstruction;

// src/entities/AreSceneInstruction/types/AddStyle.instruction.ts
var _AddStyleInstruction = class _AddStyleInstruction extends AreSceneInstruction {
  get styles() {
    return this.params.styles;
  }
  constructor(node, styles) {
    super({
      id: [styles, node],
      action: "add-style",
      node,
      params: {
        styles
      }
    });
  }
};
__name(_AddStyleInstruction, "AddStyleInstruction");
var AddStyleInstruction = _AddStyleInstruction;

// src/context/AreScene/AreScene.context.ts
var _AreScene = class _AreScene extends B {
  constructor(id) {
    super({ name: id.toString() });
    this._state = /* @__PURE__ */ new Set();
  }
  get id() {
    return this.name;
  }
  /**
   * Get the root scene of the current scene
   */
  get root() {
    let currentScope = this.scope;
    let rootScene = this;
    while (currentScope) {
      const parentScene = currentScope.parent?.resolve(this.constructor);
      if (parentScene) {
        rootScene = parentScene;
      }
      currentScope = currentScope.parent;
    }
    return rootScene;
  }
  get scope() {
    return c.scope(this);
  }
  get index() {
    return c.scope(this).resolveFlat(AreIndex);
  }
  get parent() {
    return c.scope(this).parent?.resolveFlat(_AreScene);
  }
  get children() {
    return this.scope.resolveFlatAll(AreNode).map((n) => n.scope.resolveFlat(_AreScene)).filter((s) => !!s);
  }
  get depth() {
    let depth = 0;
    let currentScope = this.scope;
    while (currentScope) {
      if (currentScope.parent && currentScope.parent.resolve(this.constructor)) {
        depth++;
      }
      currentScope = currentScope.parent;
    }
    return depth;
  }
  get instructions() {
    return this.scope.resolveFlatAll(AreSceneInstruction) || [];
  }
  *nodes(filter) {
    for (const path of this.paths()) {
      const node = this.index.nodeOf(path);
      if (!node) {
        continue;
      }
      if (filter && !filter(node)) {
        continue;
      }
      yield node;
    }
    this.renderPlanFor(new AreNode(), {
      order: [
        MountNodeInstruction,
        AddStyleInstruction
      ]
    });
  }
  *renderPlanFor(node, filter) {
    const order = filter.order || [];
    const filterFn = filter.filter;
    let plan = this.instructions;
    plan = plan.sort((a2, b3) => {
      const aIndex = order.findIndex((instructionType) => a2 instanceof instructionType);
      const bIndex = order.findIndex((instructionType) => b3 instanceof instructionType);
      return (aIndex === -1 ? order.length : aIndex) - (bIndex === -1 ? order.length : bIndex);
    });
    if (filterFn) {
      plan = plan.filter(filterFn);
    }
    for (const action of plan) {
      if (action.node === node) {
        yield action;
      }
    }
  }
  get debugPrefix() {
    return `${" - ".repeat(this.depth)}`;
  }
  get path() {
    if (!this.parent)
      return "";
    else {
      const ownerNode = this.parent.scope.resolveFlat(AreNode, {
        query: {
          aseid: this.id
        }
      });
      const NodePath = this.parent.index.pathOf(ownerNode);
      return this.parent.path ? this.parent.path + "." + NodePath : NodePath;
    }
  }
  *paths() {
    let paths = this.index.paths;
    paths.sort((a2, b3) => {
      const aParsed = a2.split(".").map((part) => parseInt(part, 10));
      const bParsed = b3.split(".").map((part) => parseInt(part, 10));
      const len = Math.min(aParsed.length, bParsed.length);
      for (let i2 = 0; i2 < len; i2++) {
        if (aParsed[i2] !== bParsed[i2]) {
          return aParsed[i2] - bParsed[i2];
        }
      }
      return aParsed.length - bParsed.length;
    });
    for (const path of paths) {
      yield path;
    }
  }
  plan(instruction) {
    try {
      this.scope.register(instruction);
    } catch (error) {
    }
  }
  unPlan(instruction) {
    const planned = this.getPlanned(instruction);
    try {
      if (planned)
        this.scope.deregister(planned);
    } catch (error) {
    }
  }
  attach(node) {
    this.scope.register(node);
    node.scope.inherit(this.scope);
  }
  sceneOf(node) {
    return node.scope.resolveFlat(_AreScene);
  }
  propsOf(node) {
    return node.scope.resolveFlat(AreProps);
  }
  storeOf(node) {
    return node.scope.resolveFlat(AreStore);
  }
  isPlanned(action) {
    return this.getPlanned(action) !== void 0;
  }
  /**
   * It returns planned instruction instance from the scene
   * 
   * [!] Only Planned instructions can be used for state checking
   * 
   * @param instruction 
   * @returns 
   */
  getPlanned(instruction) {
    const planned = this.scope.resolveFlat(AreSceneInstruction, {
      query: {
        aseid: instruction.aseid.toString()
      }
    });
    return planned;
  }
  /**
   * Operation Only applicable from Plan -> State
   * 
   * So only instructions presented in the plan can be moved to state
   * State is a set of instructions that are currently applied to the scene
   * 
   * @param instruction 
   */
  setState(instruction) {
    const planned = this.getPlanned(instruction);
    if (planned) {
      this._state.delete(planned);
      this._state.add(instruction);
    }
  }
  dropState(instruction) {
    const planned = this.getPlanned(instruction);
    console.log("dropping state for", planned);
    if (planned) {
      this._state.delete(planned);
    }
  }
  resetState(node) {
    for (const instruction of Array.from(this._state)) {
      if (instruction.node === node) {
        this._state.delete(instruction);
      }
    }
  }
  getState(instruction) {
    const planned = this.scope.resolveFlat(AreSceneInstruction, {
      query: {
        aseid: instruction.aseid.toString()
      }
    });
    if (!planned) {
      return void 0;
    }
    if (this._state.has(planned))
      return planned;
    else
      return void 0;
  }
  revert(instruction) {
    this._state.delete(instruction);
  }
  reset() {
    this.index.clear();
    this._state.clear();
  }
  toJSON() {
    return {
      ...super.toJSON(),
      children: Object.fromEntries(
        Array.from(this.children).map((child) => [
          child.id.toString(),
          child.toJSON()
        ])
      )
    };
  }
};
__name(_AreScene, "AreScene");
var AreScene = _AreScene;

// examples/jumpstart/src/components/A-Btn.component.ts
var _ABtn = class _ABtn extends Are {
  async template(node, store) {
    node.setTemplate(`
        <button class="a-btn" @click="handleClick"> Make it:  {{name}} {{number}}</button> <a-input $if="showInput" ></a-input>
        <button class="a-btn" @click="handleClick2"> Do:  {{btn2}}</button> 
       <a-input $if="showInput2" ></a-input>
        `);
  }
  async styles(node) {
    node.setStyles(`
            .a-btn {
                padding: 10px 20px;
                background-color: {{bgColor}}!important;
                color: white;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                font-size: 16px;
            }
        `);
  }
  async data(store) {
    store.setMultiple({
      name: "A_Button Element",
      showInput: false,
      bgColor: "#007BFF",
      btn2: "Button 2",
      showInput2: false,
      number: 0
    });
  }
  async handleClick(scope, node, store, logger, event, scene) {
    store.set("number", Math.floor(Math.random() * 1e3));
    store.set("name", `Clicked! `);
    store.set("showInput", !store.get("showInput"));
    store.set("bgColor", "#ff5733");
    console.log("event data:", event);
    await node.update();
  }
  async handleClick2(scope, node, store, logger, event, scene) {
    store.set("btn2", `Button 2 Clicked! `);
    store.set("showInput2", !store.get("showInput2"));
    console.log("event data:", event);
    await node.update();
  }
};
__name(_ABtn, "ABtn");
__decorateClass([
  Are.Template,
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(AreStore))
], _ABtn.prototype, "template", 1);
__decorateClass([
  Are.Styles,
  __decorateParam(0, _t(V))
], _ABtn.prototype, "styles", 1);
__decorateClass([
  Are.Data,
  __decorateParam(0, _t(AreStore))
], _ABtn.prototype, "data", 1);
__decorateClass([
  Are.EventHandler,
  __decorateParam(0, _t(x)),
  __decorateParam(1, _t(V)),
  __decorateParam(2, _t(AreStore)),
  __decorateParam(3, _t(T2)),
  __decorateParam(4, _t(AreEvent)),
  __decorateParam(5, _t(AreScene))
], _ABtn.prototype, "handleClick", 1);
__decorateClass([
  Are.EventHandler,
  __decorateParam(0, _t(x)),
  __decorateParam(1, _t(V)),
  __decorateParam(2, _t(AreStore)),
  __decorateParam(3, _t(T2)),
  __decorateParam(4, _t(AreEvent)),
  __decorateParam(5, _t(AreScene))
], _ABtn.prototype, "handleClick2", 1);
var ABtn = _ABtn;

// examples/jumpstart/src/components/A-Input.component.ts
var _AInput = class _AInput extends Are {
  async template(node, logger) {
    logger.info("blue", `AInput template called... : <${node.aseid.entity}> : `, node.aseid.toString());
    node.setTemplate(`
            <div><input $no-update @input="onChange" :value="inputValue" type="text" :placeholder="placeholder"> </input>  {{inputValue}}</div>
            `);
  }
  async data(store) {
    store.setMultiple({
      placeholder: "A_Input Element",
      inputValue: "Test"
    });
  }
  async A_UI_NODE_onBeforeLoad(node, scope, store, logger) {
    logger.log("green", `AInput is initializing... : <${node.aseid.entity}> : `, node.aseid.toString());
  }
  async onChange(scope, node, store, logger, event, scene) {
    if (event.data.target === null || store.get("inputValue") === event.data.target.value) return;
    logger.log("green", `AInput onChange event triggered... : <${node.aseid.entity}> : `, node.aseid.toString(), event.data.target.value);
    store.set("inputValue", event.data.target.value);
    await node.update();
  }
};
__name(_AInput, "AInput");
__decorateClass([
  Are.Template,
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(T2))
], _AInput.prototype, "template", 1);
__decorateClass([
  Are.Data,
  __decorateParam(0, _t(AreStore))
], _AInput.prototype, "data", 1);
__decorateClass([
  Are.EventHandler,
  __decorateParam(0, _t(AreNode)),
  __decorateParam(1, _t(x)),
  __decorateParam(2, _t(AreStore)),
  __decorateParam(3, _t(T2))
], _AInput.prototype, "A_UI_NODE_onBeforeLoad", 1);
__decorateClass([
  Are.EventHandler,
  __decorateParam(0, _t(x)),
  __decorateParam(1, _t(V)),
  __decorateParam(2, _t(AreStore)),
  __decorateParam(3, _t(T2)),
  __decorateParam(4, _t(AreEvent)),
  __decorateParam(5, _t(AreScene))
], _AInput.prototype, "onChange", 1);
var AInput = _AInput;

// src/containers/AreApp/AreApp.container.ts
var _a79, _b;
var _AreApp = class _AreApp extends ut {
  get roots() {
    return this.scope.resolveFlatAll(AreNode);
  }
  addRoot(node) {
    this.scope.register(node);
  }
  async [_b = uo.onAfterLoad](logger) {
    logger.info("cyan", `UI Application mounted at <${this.roots.map((root) => root.aseid.scope).join(", ")}> with ${this.roots.length} root nodes.`);
  }
  async [_a79 = uo.onStart](logger) {
    for (const root of this.roots) {
      logger.info("cyan", `Compiling root node... : <${root.aseid.entity}> : `, root.aseid.toString());
      await root.load();
      await root.compile();
      await root.render();
    }
  }
};
__name(_AreApp, "AreApp");
__decorateClass([
  v.Extend(),
  __decorateParam(0, _t(T2))
], _AreApp.prototype, _b, 1);
__decorateClass([
  v.Extend(),
  __decorateParam(0, Je.Required()),
  __decorateParam(0, _t(T2))
], _AreApp.prototype, _a79, 1);
var AreApp = _AreApp;

// src/context/AreSyntax/AreSyntax.context.ts
var _AreSyntax = class _AreSyntax extends B {
  constructor(config = {}) {
    super({ name: "AreSyntax" });
    this.STANDARD_HTML_TAGS = /* @__PURE__ */ new Set([
      "html",
      "head",
      "body",
      "div",
      "span",
      "p",
      "a",
      "ul",
      "ol",
      "li",
      "table",
      "thead",
      "tbody",
      "tr",
      "td",
      "th",
      "form",
      "input",
      "button",
      "select",
      "option",
      "textarea",
      "label",
      "img",
      "h1",
      "h2",
      "h3",
      "h4",
      "h5",
      "h6",
      "script",
      "style",
      "link",
      "meta",
      "nav",
      "footer",
      "header",
      "section",
      "article",
      "aside",
      "main",
      "canvas",
      "video",
      "audio",
      "br",
      "hr",
      "strong",
      "em",
      "small",
      "pre",
      "code",
      "iframe",
      "details",
      "summary",
      "svg",
      "path",
      "circle",
      "rect",
      "polygon",
      "g",
      "defs"
    ]);
    this.config = {
      debugMode: config.debugMode || false,
      interpolationDelimiters: config.interpolationDelimiters || ["{{", "}}"],
      bindingDelimiter: config.bindingDelimiter || ":",
      listenerDelimiter: config.listenerDelimiter || "@",
      strictMode: config.strictMode || true,
      customDirectives: config.customDirectives || [],
      trimWhitespace: config.trimWhitespace || true,
      rootTag: config.rootTag || "are-root",
      directiveDelimiter: config.directiveDelimiter || "$"
    };
  }
  isRootNode(node) {
    return node.aseid.entity.toLowerCase() === "are-root";
  }
  /**
   * Determines if a tag is a custom component or standard HTML
   * 
   * @param node 
   * @returns 
   */
  isCustomNode(node) {
    return !this.STANDARD_HTML_TAGS.has(node.aseid.entity.toLowerCase());
  }
  /**
   * Extracts interpolations from template (syntax-agnostic).
   * 
   * Simply finds all interpolation patterns and returns their position, raw text, and name.
   * Works with any template format - HTML, plain text, or any other syntax.
   * 
   * Example: `Hello {{name}}, welcome to {{place}}!`
   * Returns: [
   *   { raw: "{{name}}", name: "name", position: 6 },
   *   { raw: "{{place}}", name: "place", position: 26 }
   * ]
   * 
   * @param template - Template string in any format
   */
  *extractInterpolations(template) {
    const interpolationRegex = new RegExp(`${this.config.interpolationDelimiters[0]}\\s*([a-zA-Z0-9_.$]+)\\s*${this.config.interpolationDelimiters[1]}`, "g");
    let match;
    while ((match = interpolationRegex.exec(template)) !== null) {
      yield {
        raw: match[0],
        name: match[1],
        position: match.index
      };
    }
  }
  /**
   * Extracts custom directives from the FIRST/TOP-LEVEL opening tag ONLY.
   * Directives start with `$`
   *
   * Examples:
   *   $if="condition"
   *   $show
   *   $no-update=""
   * 
   * Note: This method intentionally ignores nested elements and only processes
   * the very first opening tag in the provided template string.
   */
  *extractDirectives(template) {
    const trimmedTemplate = template.trim();
    const firstTagMatch = trimmedTemplate.match(
      /^<([a-zA-Z][^\s/>]*)(\s[^>]*?)?>/
    );
    if (!firstTagMatch) return;
    const tag = firstTagMatch[1];
    const attributesPart = firstTagMatch[2];
    if (!attributesPart) return;
    const directiveRegex = /\s+(\$[a-zA-Z0-9_-]+)(?:\s*=\s*(?:"([^"]*)"|'([^']*)'))?/g;
    let match;
    while ((match = directiveRegex.exec(attributesPart)) !== null) {
      const name = match[1];
      if (this.config.customDirectives && this.config.customDirectives.length > 0 && !this.config.customDirectives.includes(name)) {
        continue;
      }
      const raw = match[0];
      const value = match[2] ?? match[3];
      const tagTemplate = firstTagMatch[0];
      yield {
        tag,
        name,
        raw,
        value,
        template: tagTemplate
      };
    }
  }
  /**
   * Extracts component props from the FIRST opening tag.
   *
   * Examples:
   *   label="Click"
   *   :label="'Click Me'"
   *
   * Excludes:
   *   @click
   *   $if
   */
  *extractAttributes(template) {
    const firstTagMatch = template.match(
      /^<([a-zA-Z][^\s/>]*)(\s[^>]*?)?>/
    );
    if (!firstTagMatch) return;
    const tag = firstTagMatch[1];
    const attributesPart = firstTagMatch[2];
    if (!attributesPart) return;
    const propRegex = /\s+(:?)([a-zA-Z][a-zA-Z0-9._-]*)\s*=\s*(?:"([^"]*)"|'([^']*)')/g;
    let match;
    while ((match = propRegex.exec(attributesPart)) !== null) {
      const isBinding = match[1] === ":";
      const name = match[2];
      if (name.startsWith(this.config.listenerDelimiter) || name.startsWith(this.config.directiveDelimiter)) {
        continue;
      }
      const raw = match[0];
      const value = match[3] ?? match[4];
      yield {
        tag,
        name,
        raw,
        value: value || "",
        binding: isBinding
      };
    }
  }
  /**
   * Extracts event listeners from the FIRST/TOP-LEVEL opening tag ONLY in the template.
   * Supports:
   *  - @event="handler"
   *  - @event='handler'
   * 
   * Note: This method intentionally ignores nested elements and only processes
   * the very first opening tag in the provided template string.
   */
  *extractListeners(template) {
    const trimmedTemplate = template.trim();
    const firstTagMatch = trimmedTemplate.match(
      /^<([a-zA-Z][^\s/>]*)(\s[^>]*?)?>/
    );
    if (!firstTagMatch) return;
    const tag = firstTagMatch[1];
    const attributesPart = firstTagMatch[2];
    if (!attributesPart) return;
    const listenerRegex = new RegExp(
      `\\s+${this.config.listenerDelimiter}([a-zA-Z0-9_:-]+)\\s*=\\s*(?:"([^"]*)"|'([^']*)')`,
      "g"
    );
    let match;
    while ((match = listenerRegex.exec(attributesPart)) !== null) {
      const raw = match[0];
      const name = match[1];
      const handler = match[2] ?? match[3] ?? "";
      yield {
        tag,
        name,
        raw,
        handler
      };
    }
  }
  isBindingProp(prop) {
    return prop.raw.trim().startsWith(":");
  }
  extractPropValue(prop, parentStore) {
    if (prop.value == null) {
      return void 0;
    }
    if (prop.binding) {
      const value = prop.value.trim();
      if (value.startsWith("'") && value.endsWith("'") || value.startsWith('"') && value.endsWith('"')) {
        return value.slice(1, -1);
      }
      return parentStore?.get(value);
    }
    return prop.value;
  }
  applyDirective(node, template, directive, value) {
    console.log(
      `


=============================
Applying directive '${directive.name}' on <${node.aseid.entity}>
Directive raw: ${directive.raw}


=============================`
    );
    switch (directive.name) {
      // case '$trim': {
      //     return template.replace(directive.raw, '').trim();
      // }
      case "$if": {
        if (value) {
          return template.replace(directive.raw, "");
        } else {
          return template.replace(directive.template, "");
        }
      }
      // case '$no-update': {
      //     return template.replace(directive.raw, '').trim();
      // }
      default: {
        return template;
      }
    }
  }
  // extractPropValue(prop: AreProp, parentStore: AreStore): any {
  //     switch (true) {
  //         case this.isBindingProp(prop) && !(prop.value.startsWith('\'') && prop.value.endsWith('\'')): {
  //             // Dynamic binding (for now only string literals are supported)
  //             // In future it should support expressions and data paths
  //             return parentStore?.get(prop.value);
  //         }
  //         case this.isBindingProp(prop) && (prop.value.startsWith('\'') && prop.value.endsWith('\'')): {
  //             // Static binding
  //             return prop.value.substring(1, prop.value.length - 1);
  //         }
  //         default: {
  //             // Static value
  //             return prop.value;
  //         }
  //     }
  // }
  replaceInterpolation(template, interpolation, value) {
    const key = typeof interpolation === "string" ? interpolation : interpolation.name;
    return template.replace(new RegExp(`${this.config.interpolationDelimiters[0]}\\s*${key}\\s*${this.config.interpolationDelimiters[1]}`, "g"), value !== void 0 ? String(value) : "");
  }
};
__name(_AreSyntax, "AreSyntax");
var AreSyntax = _AreSyntax;

// src/components/AreCompiler/AreCompiler.component.ts
var _AreCompiler = class _AreCompiler extends F {
  async event(node, scope, event, scene, feature, ...args) {
    const logger = scope.resolve(T2);
    logger?.debug(scene.debugPrefix + `Event Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}} for event: ${event.name}`);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    if (component) {
      await feature.chain(component, event.name, scope);
    }
  }
  async beforeLoad(node, scope, feature, ...args) {
    const logger = scope.resolve(T2);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    if (component)
      await feature.chain(component, "_Are_onBeforeLoad" /* onBeforeLoad */, node.scope);
  }
  async afterLoad(node, scope, scene, feature, ...args) {
    const logger = scope.resolve(T2);
    logger?.debug(scene.debugPrefix + `[
Load -> After] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = this.component(node, scope);
    if (component)
      await feature.chain(component, "_Are_onAfterLoad" /* onAfterLoad */, node.scope);
  }
  component(node, scope) {
    return scope.resolve(y.toPascalCase(node.aseid.entity));
  }
  async load(node, scope, syntax, feature, logger, ...args) {
    const component = this.component(node, scope);
    if (!component && syntax.isCustomNode(node)) {
      logger?.warning(
        "Component Not Found",
        `No component registered for entity: ${node.aseid.entity}. Please ensure that the component is registered in the scope before rendering.`
      );
    }
    const newNodeScene = new AreScene(node.aseid);
    const newNodeIndex = new AreIndex(node.aseid);
    const newNodeStore = new AreStore(node.aseid);
    const newNodeProps = new AreProps(node.aseid);
    node.scope.register(newNodeScene);
    node.scope.register(newNodeIndex);
    if (syntax.isCustomNode(node)) {
      node.scope.register(newNodeStore);
      node.scope.register(newNodeProps);
    }
    if (component) {
      await feature.chain(component, "_Are_onData" /* onData */, scope);
      await feature.chain(component, "_Are_onStyles" /* onStyles */, scope);
      await feature.chain(component, "_Are_onTemplate" /* onTemplate */, scope);
    }
    logger?.debug(newNodeScene.debugPrefix + `Loaded component <${node.aseid.entity}> with ${this.constructor.name}`);
  }
  async beforeCompile(node, scope, scene, feature, ...args) {
    const logger = scope.resolve(T2);
    logger?.debug(scene.debugPrefix + `[Compile -> Before] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    if (component)
      await feature.chain(component, "_Are_onBeforeCompile" /* onBeforeCompile */, node.scope);
  }
  async afterCompile(node, scope, scene, feature, ...args) {
    const logger = scope.resolve(T2);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    logger?.debug(scene.debugPrefix + `[Compile -> After] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    if (component)
      await feature.chain(component, "_Are_onAfterCompile" /* onAfterCompile */, node.scope);
  }
  async compile(node, ...args) {
  }
  async beforeRender(node, scope, scene, feature, ...args) {
    const logger = scope.resolve(T2);
    const component = scope.resolve(y.toPascalCase(node.aseid.entity));
    logger?.debug(scene.debugPrefix + `[Render -> Before] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    if (component)
      await feature.chain(component, "_Are_onBeforeRender" /* onBeforeRender */, node.scope);
  }
  async afterRender(node, scope, scene, feature, ...args) {
    const logger = scope.resolve(T2);
    const component = this.component(node, scope);
    logger?.debug(scene.debugPrefix + `[Render -> After] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    if (component)
      await feature.chain(component, "_Are_onAfterRender" /* onAfterRender */, node.scope);
  }
  async render(node, scene, scope, parentScene, ...args) {
    const logger = node.scope.resolve(T2);
    logger?.debug(scene.debugPrefix + `Rendering node <${node.aseid.entity}> into ${scene.name}`);
  }
  index(node) {
  }
  async update(node, scene, ...args) {
    await node.compile();
    await node.render();
  }
  async destroy(node, scene, parentScene, index, store, props, scope, logger, ...args) {
    console.log("Destroying node <" + node.aseid.entity + "> ASEID: " + node.aseid.toString());
    for (const child of scene.nodes()) {
      await child.destroy();
    }
  }
};
__name(_AreCompiler, "AreCompiler");
__decorateClass([
  v.Extend({
    name: "_AreNode_onEvent" /* onEvent */,
    scope: [AreNode]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(x)),
  __decorateParam(2, _t(AreEvent)),
  __decorateParam(3, _t(AreScene)),
  __decorateParam(4, _t(v))
], _AreCompiler.prototype, "event", 1);
__decorateClass([
  v.Extend({
    name: tt.LOAD,
    before: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(x)),
  __decorateParam(2, _t(v))
], _AreCompiler.prototype, "beforeLoad", 1);
__decorateClass([
  v.Extend({
    name: tt.LOAD,
    after: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(x)),
  __decorateParam(2, _t(AreScene)),
  __decorateParam(3, _t(v))
], _AreCompiler.prototype, "afterLoad", 1);
__decorateClass([
  v.Extend({
    name: tt.LOAD,
    scope: [AreNode]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(x)),
  __decorateParam(2, _t(AreSyntax)),
  __decorateParam(3, _t(v)),
  __decorateParam(4, _t(T2))
], _AreCompiler.prototype, "load", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    before: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(x)),
  __decorateParam(2, _t(AreScene)),
  __decorateParam(3, _t(v))
], _AreCompiler.prototype, "beforeCompile", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    after: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(x)),
  __decorateParam(2, _t(AreScene)),
  __decorateParam(3, _t(v))
], _AreCompiler.prototype, "afterCompile", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    scope: [AreNode]
  }),
  __decorateParam(0, _t(V))
], _AreCompiler.prototype, "compile", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onBeforeRender" /* onBeforeRender */,
    before: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(x)),
  __decorateParam(2, _t(AreScene)),
  __decorateParam(3, _t(v))
], _AreCompiler.prototype, "beforeRender", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onAfterRender" /* onAfterRender */,
    after: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(x)),
  __decorateParam(2, _t(AreScene)),
  __decorateParam(3, _t(v))
], _AreCompiler.prototype, "afterRender", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onRender" /* onRender */,
    scope: [AreNode]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(AreScene)),
  __decorateParam(2, _t(x)),
  __decorateParam(3, Je.Required()),
  __decorateParam(3, _t(AreScene))
], _AreCompiler.prototype, "render", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onUpdate" /* onUpdate */,
    scope: [AreNode]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(AreScene))
], _AreCompiler.prototype, "update", 1);
__decorateClass([
  v.Extend({
    name: tt.DESTROY,
    scope: [AreNode]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(AreScene)),
  __decorateParam(2, _t(AreScene)),
  __decorateParam(3, _t(AreIndex)),
  __decorateParam(4, _t(AreStore)),
  __decorateParam(5, _t(AreProps)),
  __decorateParam(6, _t(x)),
  __decorateParam(7, _t(T2))
], _AreCompiler.prototype, "destroy", 1);
var AreCompiler = _AreCompiler;

// src/entities/AreSceneInstruction/types/AttachListener.instruction.ts
var _AttachListenerInstruction = class _AttachListenerInstruction extends AreSceneInstruction {
  get listener() {
    return this.params.listener;
  }
  get event() {
    return this.params.listener.handler;
  }
  get target() {
    return this.params.target;
  }
  get callback() {
    return this._callback;
  }
  constructor(node, target, listener) {
    super({
      id: [node, listener.name],
      action: "listener",
      node,
      params: {
        target,
        listener
      }
    });
    this._callback = async (e) => {
      const newEvent = new AreEvent(listener.handler, {
        event: listener.name,
        data: e
      });
      await this.target.emit(newEvent);
    };
  }
};
__name(_AttachListenerInstruction, "AttachListenerInstruction");
var AttachListenerInstruction = _AttachListenerInstruction;

// src/entities/AreSceneInstruction/types/AddDirective.instruction.ts
var _AddDirectiveInstruction = class _AddDirectiveInstruction extends AreSceneInstruction {
  get directive() {
    return this.params.directive;
  }
  get value() {
    return this.params.value;
  }
  constructor(node, directive, value) {
    super({
      id: [directive, node],
      action: "directive",
      node,
      params: {
        directive,
        value
      }
    });
  }
};
__name(_AddDirectiveInstruction, "AddDirectiveInstruction");
var AddDirectiveInstruction = _AddDirectiveInstruction;

// src/entities/AreSceneInstruction/types/AddAttribute.instruction.ts
var _AddAttributeInstruction = class _AddAttributeInstruction extends AreSceneInstruction {
  get name() {
    return this.params.name;
  }
  get value() {
    return this.params.value;
  }
  constructor(node, name, value) {
    super({
      id: [name, node],
      action: "add-attribute",
      node,
      params: {
        name,
        value
      }
    });
  }
};
__name(_AddAttributeInstruction, "AddAttributeInstruction");
var AddAttributeInstruction = _AddAttributeInstruction;

// src/entities/AreSceneInstruction/types/ReplaceInterpolation.instruction.ts
var _ReplaceInterpolationInstruction = class _ReplaceInterpolationInstruction extends AreSceneInstruction {
  get placement() {
    return this.params?.prevValue || this.interpolation.raw;
  }
  get position() {
    return this.interpolation.position;
  }
  get interpolation() {
    return this.params.interpolation;
  }
  get value() {
    return this.params?.value || "";
  }
  constructor(node, interpolation, value, prevValue) {
    super({
      id: [node, interpolation],
      action: "replace-interpolation",
      node,
      params: {
        interpolation,
        prevValue,
        value
      }
    });
  }
};
__name(_ReplaceInterpolationInstruction, "ReplaceInterpolationInstruction");
var ReplaceInterpolationInstruction = _ReplaceInterpolationInstruction;

// src/entities/AreSceneInstruction/types/UnmountNode.instruction.ts
var _UnmountNodeInstruction = class _UnmountNodeInstruction extends AreSceneInstruction {
  constructor(node, path) {
    super({
      id: [node],
      action: "unmount-node",
      node,
      params: {
        path
      }
    });
  }
};
__name(_UnmountNodeInstruction, "UnmountNodeInstruction");
var UnmountNodeInstruction = _UnmountNodeInstruction;

// src/components/AreBrowserCompiler/AreBrowserCompiler.component.ts
var _a80;
var _AreBrowserCompiler = class _AreBrowserCompiler extends AreCompiler {
  constructor() {
    super(...arguments);
    this.interpolationTextNodes = /* @__PURE__ */ new Map();
  }
  async [_a80 = uo.onBeforeLoad](app, root, config, logger) {
    logger?.debug("cyan", `Initializing AreScene in AreBrowserCompiler...`);
    if (!root) {
      const mountPointElements = document.getElementsByTagName("are-root");
      for (const element of Array.from(mountPointElements)) {
        const rootId = element.getAttribute("id");
        if (!rootId) {
          throw new f(`are-root element must have an 'id' attribute to identify the mount point.`);
        }
        const rootNode = new AreNode({
          id: rootId,
          scope: "are",
          component: "are-root",
          markup: element.outerHTML,
          template: element.innerHTML
        });
        app.addRoot(rootNode);
      }
    }
  }
  async compile(node, scene, parentScene, syntax, scope, props, store, parentStore, logger) {
    logger?.debug(
      "violet",
      "--------------------------------------",
      "Start Compiling Node: <" + node.aseid.entity + "> ASEID: " + node.aseid.toString(),
      "--------------------------------------"
    );
    if (parentScene) {
      logger?.debug(scene.debugPrefix + `Compiling node <${node.aseid.entity}> in Scene <${parentScene.name}>`);
      const mountInstruction = new MountNodeInstruction(node, scene.path);
      if (!parentScene.isPlanned(mountInstruction)) {
        logger?.debug("red", scene.debugPrefix + `AreCompiler: Building Scene Index for <${scene.name}> during compilation of Node <${node.aseid.entity}>`);
        this.index(node);
        parentScene.plan(mountInstruction);
        await mountInstruction.init();
      }
      if (syntax.isCustomNode(node))
        for (const interpolation of syntax.extractInterpolations(node.template)) {
          const value = store.get(interpolation.name) || parentStore.get(interpolation.name);
          const instruction = new ReplaceInterpolationInstruction(node, interpolation, value);
          const stateInstruction = parentScene.getState(instruction);
          instruction.update({ value, prevValue: stateInstruction?.value });
          if (!parentScene.isPlanned(instruction)) {
            parentScene.plan(instruction);
            await instruction.init();
          } else {
            parentScene.unPlan(instruction);
            parentScene.plan(instruction);
          }
        }
      for (const attr of syntax.extractAttributes(node.markup)) {
        const name = attr.name;
        const value = (syntax.isBindingProp(attr) ? store.get(attr.value) || parentStore.get(attr.value) : attr.value) || "";
        props.set(name, value);
        parentScene.plan(new AddAttributeInstruction(node, name, value));
      }
      for (const directive of syntax.extractDirectives(node.markup)) {
        let directiveValue;
        if (directive.value) {
          directiveValue = store.get(directive.value) || parentStore.get(directive.value);
        }
        console.log("Processing directive", directive.name, "with value", directiveValue);
        let instruction = new AddDirectiveInstruction(node, directive, directiveValue);
        const stateInstruction = parentScene.getState(instruction);
        if (!stateInstruction || stateInstruction.value !== directiveValue) {
          parentScene.unPlan(instruction);
          parentScene.plan(instruction);
          await instruction.init();
        }
      }
      let styles = node.styles || "";
      for (const interpolation of syntax.extractInterpolations(styles)) {
        const value = store.get(interpolation.name);
        styles = syntax.replaceInterpolation(styles, interpolation, value);
      }
      if (styles.trim()) {
        const instruction = new AddStyleInstruction(node, styles);
        if (!parentScene.isPlanned(instruction)) {
          parentScene.plan(instruction);
          await instruction.init();
        }
      }
      for (const listener of syntax.extractListeners(node.markup)) {
        let currentScene = scene;
        let targetNode = node;
        while (!syntax.isCustomNode(targetNode) && currentScene.parent) {
          targetNode = currentScene.parent.scope.resolveFlat(AreNode, {
            query: {
              aseid: currentScene.id
            }
          });
          currentScene = currentScene.parent;
        }
        const instruction = new AttachListenerInstruction(node, targetNode, listener);
        if (!parentScene.isPlanned(instruction)) {
          parentScene.plan(instruction);
          await instruction.init();
        }
      }
    } else {
      logger?.debug("red", scene.debugPrefix + `Root Node is found during compilation of Node <${node.aseid.entity}>. Indexing the Scene...`, scene);
      this.index(node);
    }
    for (const sceneNode of scene.nodes()) {
      const existed = scene.scope.resolveFlat(AreNode, {
        query: {
          aseid: sceneNode.aseid
        }
      });
      if (!existed) {
        scene.attach(sceneNode);
        await sceneNode.load();
      }
      await sceneNode.compile();
    }
  }
  /**
   * Compute path for DOM element relative to virtual root (legacy method, kept for compatibility)
   * @deprecated Use string-based path computation instead
   */
  computePath(node, virtual) {
    const path = [];
    let current = node;
    while (current && current !== virtual) {
      const parent = current.parentNode;
      if (parent) {
        const index = Array.from(parent.childNodes).filter((n) => n.nodeType === Node.ELEMENT_NODE).indexOf(current);
        path.unshift(index);
      }
      current = parent;
    }
    return path.join(".");
  }
  /**
   * Get DOM element by string path from root element
   * Works with paths generated by the string-based parser
   */
  getElementByPath(root, path) {
    if (!path) {
      return root;
    }
    const indices = path.split(".").map((index) => parseInt(index, 10));
    let current = root;
    for (const index of indices) {
      if (!current) {
        return void 0;
      }
      const elementChildren = Array.from(current.children).filter((child) => child.nodeType === Node.ELEMENT_NODE);
      if (index >= elementChildren.length) {
        return void 0;
      }
      current = elementChildren[index];
    }
    return current;
  }
  getElementByNode(node) {
    const scene = node.scope.resolveFlat(AreScene);
    const root = document.getElementById(new I(scene.root.id).id);
    return this.getElementByPath(root, scene.path);
  }
  insertElementAtPath(root, path, element) {
    const parentPath = path.split(".").slice(0, -1).join(".");
    const parentElement = this.getElementByPath(root, parentPath);
    const index = parseInt(path.split(".").slice(-1)[0], 10);
    if (parentElement) {
      const children = Array.from(parentElement.children).filter((child) => child.nodeType === Node.ELEMENT_NODE);
      if (index >= children.length) {
        parentElement.appendChild(element);
      } else {
        parentElement.insertBefore(element, children[index]);
      }
    }
  }
  insertElementByNode(node, element) {
    const scene = node.scope.resolveFlat(AreScene);
    const root = document.getElementById(new I(scene.root.id).id);
    this.insertElementAtPath(root, scene.path, element);
  }
  /**
   * Compute string path for a DOM element relative to a root element
   * This generates the same format as parseHTMLElements uses
   */
  computeStringPath(element, root) {
    if (element === root) {
      return "";
    }
    const path = [];
    let current = element;
    while (current && current !== root) {
      const parent = current.parentElement;
      if (parent) {
        const index = Array.from(parent.children).indexOf(current);
        if (index === -1) {
          return "";
        }
        path.unshift(index);
      }
      current = parent;
    }
    return path.join(".");
  }
  index(node) {
    const index = node.scope.resolveFlat(AreIndex);
    const scene = node.scope.resolveFlat(AreScene);
    scene.reset();
    const tempDiv = document.createElement("div");
    tempDiv.innerHTML = node.template;
    const markupMap = this.createPositionBasedMarkupMap(node.template);
    this.indexElementsFromDOM(tempDiv, index, [], markupMap);
  }
  /**
   * Create a position-based mapping by parsing the original template with DOM
   * This ensures 1:1 correspondence between DOM structure and original markup
   */
  createPositionBasedMarkupMap(template) {
    const markupMap = /* @__PURE__ */ new Map();
    const originalDiv = document.createElement("div");
    originalDiv.innerHTML = template;
    this.mapDOMPositions(originalDiv, [], markupMap);
    return markupMap;
  }
  /**
   * Recursively map DOM positions to their exact original markup
   */
  mapDOMPositions(parentElement, parentPath, markupMap) {
    const children = Array.from(parentElement.children);
    for (let i2 = 0; i2 < children.length; i2++) {
      const element = children[i2];
      const currentPath = [...parentPath, i2];
      const pathKey = currentPath.join(".");
      markupMap.set(pathKey, element.outerHTML);
    }
  }
  /**
   * Index elements using actual DOM structure with position-based markup mapping
   */
  indexElementsFromDOM(parentElement, index, parentPath, markupMap) {
    const children = Array.from(parentElement.children);
    for (let i2 = 0; i2 < children.length; i2++) {
      const element = children[i2];
      const currentPath = [...parentPath, i2];
      const pathKey = currentPath.join(".");
      const originalMarkup = markupMap.get(pathKey);
      const areNode = new AreNode({
        scope: index.name,
        component: element.tagName.toLowerCase(),
        markup: originalMarkup || element.outerHTML,
        template: element.innerHTML
      });
      index.add(areNode, currentPath.join("."));
    }
  }
  async render(node, scene, scope, parentScene, logger) {
    logger?.debug("AreBrowserCompiler: Rendering <" + node.aseid.entity + "> ASEID: " + node.aseid.toString(), scene);
    if (parentScene) {
      for (const instruction of parentScene.renderPlanFor(node, {
        filter: /* @__PURE__ */ __name((inst) => inst instanceof MountNodeInstruction || inst instanceof UnmountNodeInstruction, "filter")
      })) {
        if (parentScene.getState(instruction)) {
          logger?.debug("yellow", scene.debugPrefix + `Action '${instruction.action}' for Node <${node.aseid.entity}> ASEID: ${node.aseid.toString()} already mounted. Skipping...`, instruction);
          continue;
        }
        logger?.debug("red", scene.debugPrefix + `Processing ${instruction.action} Instruction for Node <${node.aseid.entity}> `, instruction);
        const executionContext = new b2("AreBrowserCompiler: Mount/Unmount Node Instruction");
        const applyScope = new x({ fragments: [executionContext] }).inherit(scope);
        await instruction.apply(applyScope);
        applyScope.destroy();
        parentScene.setState(instruction);
      }
      if (!parentScene.isPlanned(new MountNodeInstruction(node, scene.path))) {
        logger?.debug("yellow", scene.debugPrefix + `Node <${node.aseid.entity}> ASEID: ${node.aseid.toString()} has no Mount Instruction planned. Skipping mount.`);
        return;
      }
      for (const instruction of parentScene.renderPlanFor(node, {
        order: [
          AddStyleInstruction,
          AttachListenerInstruction,
          AddAttributeInstruction,
          ReplaceInterpolationInstruction
        ]
      })) {
        if (parentScene.getState(instruction)) {
          logger?.debug("yellow", scene.debugPrefix + `Action '${instruction.action}' for Node <${node.aseid.entity}> ASEID: ${node.aseid.toString()} already mounted. Skipping...`, instruction);
          continue;
        }
        const executionContext = new b2("AreBrowserCompiler: Mount Node Instruction");
        executionContext.set("content", scene);
        const applyScope = new x({ fragments: [executionContext] }).inherit(scope);
        await instruction.apply(applyScope);
        applyScope.destroy();
        parentScene.setState(instruction);
      }
    } else {
      const rootElement = document.getElementById(node.id);
      if (!rootElement) {
        throw new f(`Root element with id '${node.id}' not found in the DOM.`);
      }
      rootElement.setAttribute("aseid", node.aseid.toString());
    }
    for (const child of scene.nodes()) {
      await child.render();
    }
  }
  async unmount(node, scene, scope, parentScene, logger) {
    console.log("Unmounting node <" + node.aseid.entity + "> ASEID: " + node.aseid.toString(), parentScene);
    if (parentScene)
      for (const instruction of parentScene.renderPlanFor(node, {})) {
        scene.dropState(instruction);
        this.interpolationTextNodes.delete(instruction.aseid.toString());
      }
    for (const child of scene.nodes()) {
      await child.unmount();
    }
  }
  async applyMountNodeInstruction(instruction, context, syntax, scope, logger) {
    try {
      const node = instruction.node;
      const scene = instruction.scene;
      if (syntax.isCustomNode(node)) {
        logger?.debug("red", scene.debugPrefix + `Mounting Node <${node.aseid.entity}> ASEID: ${node.aseid.toString()} at path `);
        const wrapper = document.createElement(this.component(node, scope)?.wrapper || "div");
        wrapper.setAttribute("aseid", node.aseid.toString());
        wrapper.innerHTML = node.template;
        const element = this.getElementByNode(node);
        if (!element) {
          this.insertElementByNode(node, wrapper);
        } else {
          element.replaceWith(wrapper);
        }
      }
    } catch (error) {
      logger?.error(error);
    }
  }
  async applyUnmountNodeInstruction(instruction, context, scope, logger) {
    const node = instruction.node;
    const scene = instruction.scene;
    const index = scene.scope.resolveFlat(AreIndex);
    const element = document.querySelector(`[aseid="${node.aseid.toString()}"]`);
    const path = index.pathOf(node);
    const content = node.scope.resolveFlat(AreScene);
    logger?.debug("red", scene.debugPrefix + `Unmounting Node <${node.aseid.entity}> ASEID: ${node.aseid.toString()}`);
    try {
      element.remove();
      await node.unmount();
    } catch (error) {
      logger?.error(error);
    }
  }
  async applyAddStyleInstruction(instruction, context, scope, logger) {
    const node = instruction.node;
    const scene = instruction.scene;
    const element = this.getElementByNode(node);
    const styles = instruction.params?.styles || "";
    logger?.debug("green", scene.debugPrefix + `Applying styles for Node <${node.aseid.entity}> ASEID: ${node.aseid.toString()}`);
    const styleElementId = `a-style-${node.aseid.entity}`;
    let styleElement = document.querySelector(`#${styleElementId}`);
    if (!styleElement) {
      styleElement = document.createElement("style");
      styleElement.id = styleElementId;
      document.head.appendChild(styleElement);
    }
    styleElement.innerHTML = styles;
  }
  async applyAttachListenerInstruction(instruction, context, scope, logger) {
    const node = instruction.node;
    const scene = instruction.scene;
    const content = context.get("content");
    const element = this.getElementByNode(instruction.node);
    const mountPoint = context.get("mountPoint");
    logger?.debug("green", scene.debugPrefix + `Attaching listener '${instruction.listener.name}' for target <${node.aseid.entity}> ASEID: ${node.aseid.toString()}`);
    element.addEventListener(instruction.listener.name, instruction.callback);
  }
  async applyAddAttributeInstruction(instruction, context, scope, logger) {
    const node = instruction.node;
    const scene = instruction.scene;
    const content = context.get("content");
    const element = this.getElementByNode(node);
    logger?.debug("green", scene.debugPrefix + `Setting attribute '${instruction.name}'='${instruction.value}' for target <${node.aseid.entity}> ASEID: ${node.aseid.toString()}`, element);
    element.setAttribute(instruction.name, instruction.value);
  }
  async applyReplaceInterpolationInstruction(instruction, context, scope, syntax, logger) {
    const node = instruction.node;
    const scene = instruction.scene;
    const element = this.getElementByNode(node);
    logger?.debug("magenta", scene.debugPrefix + `Replacing interpolation '${instruction.interpolation.name}' with value '${instruction.value}' for target <${node.aseid.entity}>`);
    const textNode = this.interpolationTextNodes.get(instruction.aseid.toString());
    if (textNode) {
      textNode.nodeValue = instruction.value;
    } else {
      const treeTextNodesWalker = document.createTreeWalker(
        element,
        NodeFilter.SHOW_TEXT,
        {
          acceptNode: /* @__PURE__ */ __name((node2) => {
            if (node2.nodeValue && node2.nodeValue.includes(instruction.interpolation.raw)) {
              return NodeFilter.FILTER_ACCEPT;
            }
            return NodeFilter.FILTER_REJECT;
          }, "acceptNode")
        }
      );
      const foundNode = treeTextNodesWalker.nextNode();
      if (foundNode) {
        const parts = foundNode.nodeValue.split(instruction.interpolation.raw);
        const parent = foundNode.parentNode;
        if (parent) {
          for (let i2 = 0; i2 < parts.length; i2++) {
            const part = parts[i2];
            if (part) {
              const textNodePart = document.createTextNode(part);
              parent.insertBefore(textNodePart, foundNode);
            }
            if (i2 < parts.length - 1) {
              const valueNode = document.createTextNode(instruction.value);
              parent.insertBefore(valueNode, foundNode);
              this.interpolationTextNodes.set(instruction.aseid.toString(), valueNode);
            }
          }
          parent.removeChild(foundNode);
        }
      }
    }
  }
  async initAddDirectiveInstruction(instruction, scope, logger) {
    console.log("INIT DIRECTIVE INSTRUCTION: ", instruction);
    const node = instruction.node;
    const scene = node.scope.resolveFlat(AreScene);
    const parentScene = instruction.scene;
    logger?.debug("green", scene.debugPrefix + `Initializing directive '${instruction.directive.name}' for Node <${node.aseid.entity}> ASEID: ${node.aseid.toString()}`, scene, parentScene);
    switch (instruction.directive.name) {
      case "$if": {
        const mountInstruction = new MountNodeInstruction(node, scene.path);
        const unmountInstruction = new UnmountNodeInstruction(node, scene.path);
        switch (true) {
          case (!instruction.value && !!parentScene.getState(mountInstruction)):
            parentScene.unPlan(mountInstruction);
            parentScene.plan(unmountInstruction);
            parentScene.dropState(unmountInstruction);
            break;
          case (!instruction.value && !parentScene.getState(mountInstruction)):
            parentScene.unPlan(mountInstruction);
            break;
          case (instruction.value && !!parentScene.getState(unmountInstruction)):
            parentScene.unPlan(unmountInstruction);
            parentScene.plan(mountInstruction);
            parentScene.dropState(mountInstruction);
            break;
          case (instruction.value && !parentScene.getState(unmountInstruction)):
            parentScene.unPlan(unmountInstruction);
            break;
          default:
            break;
        }
        break;
      }
      default:
        logger?.warning("yellow", scene.debugPrefix + `Unknown directive '${instruction.directive.name}' for Node <${node.aseid.entity}> ASEID: ${node.aseid.toString()}`);
    }
  }
  async applyAddDirectiveInstruction(instruction, context, scope, logger) {
    const node = instruction.node;
    const scene = instruction.scene;
    const element = this.getElementByNode(node);
    try {
      logger?.debug("green", scene.debugPrefix + `Applying directive '${instruction.directive.name}' for Node <${node.aseid.entity}> ASEID: ${node.aseid.toString()}`, instruction);
    } catch (error) {
      logger?.error(error);
    }
  }
};
__name(_AreBrowserCompiler, "AreBrowserCompiler");
__decorateClass([
  v.Extend(),
  __decorateParam(0, _t(AreApp)),
  __decorateParam(1, _t(AreScene)),
  __decorateParam(2, _t(A2)),
  __decorateParam(3, _t(T2))
], _AreBrowserCompiler.prototype, _a80, 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    scope: [AreNode]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, Je.Flat()),
  __decorateParam(1, _t(AreScene)),
  __decorateParam(2, Je.Parent()),
  __decorateParam(2, _t(AreScene)),
  __decorateParam(3, _t(AreSyntax)),
  __decorateParam(4, _t(x)),
  __decorateParam(5, _t(AreProps)),
  __decorateParam(6, _t(AreStore)),
  __decorateParam(7, Je.Parent()),
  __decorateParam(7, _t(AreStore)),
  __decorateParam(8, _t(T2))
], _AreBrowserCompiler.prototype, "compile", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onRender" /* onRender */,
    scope: [AreNode]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, Je.Flat()),
  __decorateParam(1, _t(AreScene)),
  __decorateParam(2, _t(x)),
  __decorateParam(3, Je.Parent()),
  __decorateParam(3, _t(AreScene)),
  __decorateParam(4, _t(T2))
], _AreBrowserCompiler.prototype, "render", 1);
__decorateClass([
  v.Extend({
    name: "_AreNode_onUnmount" /* onUnmount */,
    scope: [AreNode]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, Je.Flat()),
  __decorateParam(1, _t(AreScene)),
  __decorateParam(2, _t(x)),
  __decorateParam(3, Je.Parent()),
  __decorateParam(3, _t(AreScene)),
  __decorateParam(4, _t(T2))
], _AreBrowserCompiler.prototype, "unmount", 1);
__decorateClass([
  v.Extend({
    name: "_AreSceneInstructionApply" /* Apply */,
    scope: [MountNodeInstruction]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(b2)),
  __decorateParam(2, _t(AreSyntax)),
  __decorateParam(3, _t(x)),
  __decorateParam(4, _t(T2))
], _AreBrowserCompiler.prototype, "applyMountNodeInstruction", 1);
__decorateClass([
  v.Extend({
    name: "_AreSceneInstructionApply" /* Apply */,
    scope: [UnmountNodeInstruction]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(b2)),
  __decorateParam(2, _t(x)),
  __decorateParam(3, _t(T2))
], _AreBrowserCompiler.prototype, "applyUnmountNodeInstruction", 1);
__decorateClass([
  v.Extend({
    name: "_AreSceneInstructionApply" /* Apply */,
    scope: [AddStyleInstruction]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(b2)),
  __decorateParam(2, _t(x)),
  __decorateParam(3, _t(T2))
], _AreBrowserCompiler.prototype, "applyAddStyleInstruction", 1);
__decorateClass([
  v.Extend({
    name: "_AreSceneInstructionApply" /* Apply */,
    scope: [AttachListenerInstruction]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(b2)),
  __decorateParam(2, _t(x)),
  __decorateParam(3, _t(T2))
], _AreBrowserCompiler.prototype, "applyAttachListenerInstruction", 1);
__decorateClass([
  v.Extend({
    name: "_AreSceneInstructionApply" /* Apply */,
    scope: [AddAttributeInstruction]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(b2)),
  __decorateParam(2, _t(x)),
  __decorateParam(3, _t(T2))
], _AreBrowserCompiler.prototype, "applyAddAttributeInstruction", 1);
__decorateClass([
  v.Extend({
    name: "_AreSceneInstructionApply" /* Apply */,
    scope: [ReplaceInterpolationInstruction]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(b2)),
  __decorateParam(2, _t(x)),
  __decorateParam(3, _t(AreSyntax)),
  __decorateParam(4, _t(T2))
], _AreBrowserCompiler.prototype, "applyReplaceInterpolationInstruction", 1);
__decorateClass([
  v.Extend({
    name: "_AreSceneInstructionInit" /* Init */,
    scope: [AddDirectiveInstruction]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(x)),
  __decorateParam(2, _t(T2))
], _AreBrowserCompiler.prototype, "initAddDirectiveInstruction", 1);
__decorateClass([
  v.Extend({
    name: "_AreSceneInstructionApply" /* Apply */,
    scope: [AddDirectiveInstruction]
  }),
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(b2)),
  __decorateParam(2, _t(x)),
  __decorateParam(3, _t(T2))
], _AreBrowserCompiler.prototype, "applyAddDirectiveInstruction", 1);
var AreBrowserCompiler = _AreBrowserCompiler;

// src/components/AreSlot/AreSlot.component.ts
var _a81;
var _AreSlot = class _AreSlot extends Are {
  async template() {
  }
  async [_a81 = Lo.Next](vector) {
    console.log("AreSlot Signal Vector Emitted:", vector);
  }
  // @A_Feature.Extend({
  //     name: AreNodeFeatures.onCompile,
  //     scope: [AreNode]
  // })
  // async compile(
  //     @A_Inject(A_Caller) node: AreNode,
  //     @A_Inject(AreScene) scene: AreScene,
  //     @A_Inject(A_Logger) logger: A_Logger,
  //     @A_Inject(A_SignalState) signalState?: A_SignalState,
  // ) {
  //     const vector = await signalState?.toVector().toDataVector()
  //     logger.debug('red',
  //         '================================================================',
  //         `Compiling AreSlot Component at Scene: <${scene.name}>`,
  //         '================================================================',
  //         vector
  //     )
  // }
};
__name(_AreSlot, "AreSlot");
__decorateClass([
  v.Extend(),
  __decorateParam(0, _t(ge2))
], _AreSlot.prototype, _a81, 1);
var AreSlot = _AreSlot;

// src/entities/AreSignal/AreSignal.entity.ts
var _AreSignal = class _AreSignal extends P {
};
__name(_AreSignal, "AreSignal");
var AreSignal = _AreSignal;

// src/signals/AreInit.signal.ts
var _AreInitSignal = class _AreInitSignal extends AreSignal {
  static async default() {
    return new _AreInitSignal({ data: { ready: false } });
  }
};
__name(_AreInitSignal, "AreInitSignal");
var AreInitSignal = _AreInitSignal;

// src/components/AreRoot/AreRoot.component.ts
var _AreRoot = class _AreRoot extends Are {
  // @Are.onAfterLoad
  // async onAfterLoad(
  //     @A_Inject(A_Caller) node: AreNode,
  //     @A_Inject(AreScene) scene: AreScene,
  //     @A_Inject(A_Logger) logger: A_Logger,
  //     @A_Inject(AreProps) props: AreProps,
  // ) {
  // }
};
__name(_AreRoot, "AreRoot");
var AreRoot = _AreRoot;

// src/components/AreInterpolation/AreInterpolation.component.ts
var _AreInterpolation = class _AreInterpolation extends Are {
  get wrapper() {
    return "span";
  }
  async onAfterCompile(node, scene, logger, props) {
    logger.info("blue", `AreInterpolation onAfterCompile called... : <${node.aseid.entity}> : `, node.aseid.toString(), props);
    node.setTemplate(props.get("value")?.toString() || "");
  }
};
__name(_AreInterpolation, "AreInterpolation");
__decorateClass([
  Are.onAfterCompile,
  __decorateParam(0, _t(V)),
  __decorateParam(1, _t(AreScene)),
  __decorateParam(2, _t(T2)),
  __decorateParam(3, _t(AreProps))
], _AreInterpolation.prototype, "onAfterCompile", 1);
var AreInterpolation = _AreInterpolation;

// examples/jumpstart/src/concept.ts
(async () => {
  try {
    const container = new AreApp({
      name: "ARE Jumpstart",
      components: [
        // ----------------------------------
        // Allowed Entities 
        // ----------------------------------
        // ............
        // ----------------------------------
        // Allowed Commands 
        // ----------------------------------
        // ............
        // ----------------------------------
        // UI Components 
        // ----------------------------------
        SignInComponent,
        ABtn,
        AInput,
        AreSlot,
        Tt,
        AreRoot,
        AreInterpolation,
        // ----------------------------------
        // Addons 
        // ----------------------------------
        f2,
        R2,
        // A_ServerProxy
        AreBrowserCompiler,
        T2
      ],
      entities: [
        // ............
        AreInitSignal
      ],
      fragments: [
        new A2({
          defaults: {
            A_UI_MOUNT_POINT: "a-root",
            [de2.LOG_LEVEL]: "debug"
          }
        }),
        new AreSyntax()
      ]
    });
    const concept = new Me({
      name: "adaas-are-example-jumpstart",
      fragments: [new A2({
        variables: ["CONFIG_VERBOSE", "DEV_MODE"],
        defaults: {
          CONFIG_VERBOSE: true,
          DEV_MODE: true
        }
      })],
      components: [T2, R2, f2],
      containers: [container]
    });
    await concept.load();
    await concept.start();
  } catch (error) {
    const logger = c.root.resolve(T2);
    logger.error(error);
  }
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2NvbnN0YW50cy9lbnYuY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS50eXBlcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtTWV0YS9BLU1ldGEuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5tZXRhLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5tZXRhLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9oZWxwZXJzL0FfRm9ybWF0dGVyLmhlbHBlci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvaGVscGVycy9BX0lkZW50aXR5LmhlbHBlci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRXJyb3IvQV9FcnJvci5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUVycm9yL0FfRXJyb3IuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BU0VJRC9BU0VJRC5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0FTRUlEL0FTRUlELmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1FbnRpdHkvQS1FbnRpdHkuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRW50aXR5L0EtRW50aXR5Lm1ldGEudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUZyYWdtZW50L0EtRnJhZ21lbnQuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2hlbHBlcnMvQV9Db21tb24uaGVscGVyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1TY29wZS9BLVNjb3BlLmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1TY29wZS9BLVNjb3BlLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1DYWxsZXIvQV9DYWxsZXIuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNhbGxlci9BX0NhbGxlci5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRmVhdHVyZS9BLUZlYXR1cmUtRGVmaW5lLmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRmVhdHVyZS9BLUZlYXR1cmUtRXh0ZW5kLmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RhZ2UvQS1TdGFnZS50eXBlcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RhZ2UvQS1TdGFnZS5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RhZ2UvQS1TdGFnZS5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RlcE1hbmFnZXIvQS1TdGVwTWFuYWdlci5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RlcE1hbmFnZXIvQS1TdGVwTWFuYWdlci5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRmVhdHVyZS9BLUZlYXR1cmUuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1BYnN0cmFjdGlvbi9BLUFic3RyYWN0aW9uLmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1BYnN0cmFjdGlvbi9BLUFic3RyYWN0aW9uLUV4dGVuZC5kZWNvcmF0b3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUFic3RyYWN0aW9uL0EtQWJzdHJhY3Rpb24uY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbmNlcHQvQS1Db25jZXB0LmNvbnN0YW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtQ29uY2VwdC9BLUNvbmNlcHQuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbmNlcHQvQS1Db25jZXB0Lm1ldGEudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLURlcGVuZGVuY3kvQS1EZXBlbmRlbmN5LmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1EZXBlbmRlbmN5L0EtRGVwZW5kZW5jeS1EZWZhdWx0LmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRGVwZW5kZW5jeS9BLURlcGVuZGVuY3ktRmxhdC5kZWNvcmF0b3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLURlcGVuZGVuY3kvQS1EZXBlbmRlbmN5LUxvYWQuZGVjb3JhdG9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1EZXBlbmRlbmN5L0EtRGVwZW5kZW5jeS1QYXJlbnQuZGVjb3JhdG9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1EZXBlbmRlbmN5L0EtRGVwZW5kZW5jeS1SZXF1aXJlLmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRGVwZW5kZW5jeS9BLURlcGVuZGVuY3kuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUluamVjdC9BLUluamVjdC5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtSW5qZWN0L0EtSW5qZWN0LmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNoYW5uZWwvQS1DaGFubmVsLmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUV4ZWN1dGlvbi9BLUV4ZWN1dGlvbi5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtT3BlcmF0aW9uL0EtT3BlcmF0aW9uLmNvbnRleHQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1DaGFubmVsL0EtQ2hhbm5lbC5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNoYW5uZWwvQS1DaGFubmVsLmNvbnN0YW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNoYW5uZWwvQS1DaGFubmVsUmVxdWVzdC5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29tbWFuZC9BLUNvbW1hbmQuY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29tbWFuZC9BLUNvbW1hbmQuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TdGF0ZU1hY2hpbmUvQS1TdGF0ZU1hY2hpbmUuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TdGF0ZU1hY2hpbmUvQS1TdGF0ZU1hY2hpbmUuY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU3RhdGVNYWNoaW5lL0EtU3RhdGVNYWNoaW5lVHJhbnNpdGlvbi5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU3RhdGVNYWNoaW5lL0EtU3RhdGVNYWNoaW5lLmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNvbmZpZy9BLUNvbmZpZy5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db25maWcvQS1Db25maWcuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db25maWcvQS1Db25maWcuY29udGV4dC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUxvZ2dlci9BLUxvZ2dlci5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29tbWFuZC9BLUNvbW1hbmQuZW50aXR5LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLUZTLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLUNyeXB0by1Qb2x5ZmlsbC5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVBvbHlmaWxsL2NsYXNzZXMvQS1IdHRwLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLUh0dHBzLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLVBhdGgtUG9seWZpbGwuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Qb2x5ZmlsbC9jbGFzc2VzL0EtVXJsLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLUJ1ZmZlci1Qb2x5ZmlsbC5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVBvbHlmaWxsL2NsYXNzZXMvQS1Qcm9jZXNzLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvQS1Qb2x5ZmlsbC5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db25maWcvY29tcG9uZW50cy9Db25maWdSZWFkZXIuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29uZmlnL2NvbXBvbmVudHMvRmlsZUNvbmZpZ1JlYWRlci5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db25maWcvY29tcG9uZW50cy9FTlZDb25maWdSZWFkZXIuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29uZmlnL0EtQ29uZmlnLmNvbnRhaW5lci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNvbmZpZy9BLUNvbmZpZy50eXBlcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUxvZ2dlci9BLUxvZ2dlci5lbnYudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1NYW5pZmVzdC9BLU1hbmlmZXN0LmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtTWFuaWZlc3QvY2xhc3Nlcy9BLU1hbmlmZXN0Q2hlY2tlci5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLU1hbmlmZXN0L0EtTWFuaWZlc3QuY29udGV4dC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLU1lbW9yeS9BLU1lbW9yeS5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1NZW1vcnkvQS1NZW1vcnkuY29udGV4dC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLU1lbW9yeS9BLU1lbW9yeS5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLU1lbW9yeS9BLU1lbW9yeS5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TZXJ2aWNlL0EtU2VydmljZS5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TZXJ2aWNlL0EtU2VydmljZS5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVNlcnZpY2UvQS1TZXJ2aWNlLmNvbnRhaW5lci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVJvdXRlL0EtUm91dGUuZW50aXR5LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU2lnbmFsL0EtU2lnbmFsLmNvbnN0YW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVNpZ25hbC9lbnRpdGllcy9BLVNpZ25hbC5lbnRpdHkudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TaWduYWwvZW50aXRpZXMvQS1TaWduYWxWZWN0b3IuZW50aXR5LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU2lnbmFsL2NvbnRleHQvQS1TaWduYWxTdGF0ZS5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU2lnbmFsL2NvbnRleHQvQS1TaWduYWxDb25maWcuY29udGV4dC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVNpZ25hbC9jb21wb25lbnRzL0EtU2lnbmFsQnVzLmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVNjaGVkdWxlL0EtRGVmZXJyZWQuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TY2hlZHVsZS9BLVNjaGVkdWxlT2JqZWN0LmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU2NoZWR1bGUvQS1TY2hlZHVsZS5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQXJlQ29tcG9uZW50L0FyZS5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vc3JjL2NvbnRleHQvQXJlU3RvcmUvQXJlU3RvcmUuY29udGV4dC50cyIsICIuLi9zcmMvY29tcG9uZW50cy9TaWduSW5Db21wb25lbnQuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL3NyYy9jb250ZXh0L0FyZUV2ZW50L0FyZUV2ZW50LmNvbnRleHQudHMiLCAiLi4vLi4vLi4vc3JjL2NvbnRleHQvQXJlSW5kZXgvQXJlSW5kZXguY29udGV4dC50cyIsICIuLi8uLi8uLi9zcmMvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eS50cyIsICIuLi8uLi8uLi9zcmMvY29udGV4dC9BcmVQcm9wcy9BcmVQcm9wcy5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL3NyYy9lbnRpdGllcy9BcmVTY2VuZUluc3RydWN0aW9uL0FyZVNjZW5lSW5zdHJ1Y3Rpb24uZW50aXR5LnRzIiwgIi4uLy4uLy4uL3NyYy9lbnRpdGllcy9BcmVTY2VuZUluc3RydWN0aW9uL3R5cGVzL01vdW50Tm9kZS5pbnN0cnVjdGlvbi50cyIsICIuLi8uLi8uLi9zcmMvZW50aXRpZXMvQXJlU2NlbmVJbnN0cnVjdGlvbi90eXBlcy9BZGRTdHlsZS5pbnN0cnVjdGlvbi50cyIsICIuLi8uLi8uLi9zcmMvY29udGV4dC9BcmVTY2VuZS9BcmVTY2VuZS5jb250ZXh0LnRzIiwgIi4uL3NyYy9jb21wb25lbnRzL0EtQnRuLmNvbXBvbmVudC50cyIsICIuLi9zcmMvY29tcG9uZW50cy9BLUlucHV0LmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9zcmMvY29udGFpbmVycy9BcmVBcHAvQXJlQXBwLmNvbnRhaW5lci50cyIsICIuLi8uLi8uLi9zcmMvY29udGV4dC9BcmVTeW50YXgvQXJlU3ludGF4LmNvbnRleHQudHMiLCAiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQXJlQ29tcGlsZXIvQXJlQ29tcGlsZXIuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL3NyYy9lbnRpdGllcy9BcmVTY2VuZUluc3RydWN0aW9uL3R5cGVzL0F0dGFjaExpc3RlbmVyLmluc3RydWN0aW9uLnRzIiwgIi4uLy4uLy4uL3NyYy9lbnRpdGllcy9BcmVTY2VuZUluc3RydWN0aW9uL3R5cGVzL0FkZERpcmVjdGl2ZS5pbnN0cnVjdGlvbi50cyIsICIuLi8uLi8uLi9zcmMvZW50aXRpZXMvQXJlU2NlbmVJbnN0cnVjdGlvbi90eXBlcy9BZGRBdHRyaWJ1dGUuaW5zdHJ1Y3Rpb24udHMiLCAiLi4vLi4vLi4vc3JjL2VudGl0aWVzL0FyZVNjZW5lSW5zdHJ1Y3Rpb24vdHlwZXMvUmVwbGFjZUludGVycG9sYXRpb24uaW5zdHJ1Y3Rpb24udHMiLCAiLi4vLi4vLi4vc3JjL2VudGl0aWVzL0FyZVNjZW5lSW5zdHJ1Y3Rpb24vdHlwZXMvVW5tb3VudE5vZGUuaW5zdHJ1Y3Rpb24udHMiLCAiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQXJlQnJvd3NlckNvbXBpbGVyL0FyZUJyb3dzZXJDb21waWxlci5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQXJlU2xvdC9BcmVTbG90LmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9zcmMvZW50aXRpZXMvQXJlU2lnbmFsL0FyZVNpZ25hbC5lbnRpdHkudHMiLCAiLi4vLi4vLi4vc3JjL3NpZ25hbHMvQXJlSW5pdC5zaWduYWwudHMiLCAiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQXJlUm9vdC9BcmVSb290LmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9BcmVJbnRlcnBvbGF0aW9uL0FyZUludGVycG9sYXRpb24uY29tcG9uZW50LnRzIiwgIi4uL3NyYy9jb25jZXB0LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJleHBvcnQgY29uc3QgQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUyA9IHtcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQS1Db25jZXB0IENvcmUgRW52aXJvbm1lbnQgVmFyaWFibGVzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFRoZXNlIGVudmlyb25tZW50IHZhcmlhYmxlcyBhcmUgdXNlZCBieSBBLUNvbmNlcHQgY29yZSB0byBjb25maWd1cmUgdGhlIGFwcGxpY2F0aW9uXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogXG4gICAgICogREVGQVVMVCB2YWx1ZSBpcyAnYS1jb25jZXB0J1xuICAgICAqIFxuICAgICAqIFshXSBQcm92aWRlZCBuYW1lIHdpbGwgYmUgdXNlZCBmb3IgYWxsIGFzZWlkcyBpbiB0aGUgYXBwbGljYXRpb24gYnkgZGVmYXVsdFxuICAgICAqL1xuICAgIEFfQ09OQ0VQVF9OQU1FOiAnQV9DT05DRVBUX05BTUUnLFxuICAgIC8qKlxuICAgICAqIFJvb3Qgc2NvcGUgb2YgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogXG4gICAgICogREVGQVVMVCB2YWx1ZSBpcyAncm9vdCdcbiAgICAgKiBcbiAgICAgKiBbIV0gUHJvdmlkZWQgbmFtZSB3aWxsIGJlIHVzZWQgZm9yIGFsbCBhc2VpZHMgaW4gdGhlIGFwcGxpY2F0aW9uIGJ5IGRlZmF1bHRcbiAgICAgKi9cbiAgICBBX0NPTkNFUFRfUk9PVF9TQ09QRTogJ0FfQ09OQ0VQVF9ST09UX1NDT1BFJyxcbiAgICAvKipcbiAgICAgKiBFbnZpcm9ubWVudCBvZiB0aGUgYXBwbGljYXRpb24gZS5nLiBkZXZlbG9wbWVudCwgcHJvZHVjdGlvbiwgc3RhZ2luZ1xuICAgICAqL1xuICAgIEFfQ09OQ0VQVF9FTlZJUk9OTUVOVDogJ0FfQ09OQ0VQVF9FTlZJUk9OTUVOVCcsXG4gICAgLyoqXG4gICAgICogUm9vdCBmb2xkZXIgb2YgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogWyFdIEF1dG9tYXRpY2FsbHkgc2V0IGJ5IEEtQ29uY2VwdCB3aGVuIHRoZSBhcHBsaWNhdGlvbiBzdGFydHNcbiAgICAgKi9cbiAgICBBX0NPTkNFUFRfUk9PVF9GT0xERVI6ICdBX0NPTkNFUFRfUk9PVF9GT0xERVInLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgYSBkZWZhdWx0IGVycm9yIGRlc2NyaXB0aW9uIGZvciBlcnJvcnMgdGhyb3duIHdpdGhvdXQgYSBkZXNjcmlwdGlvblxuICAgICAqL1xuICAgIEFfRVJST1JfREVGQVVMVF9ERVNDUklQVElPTjogJ0FfRVJST1JfREVGQVVMVF9ERVNDUklQVElPTicsXG59IGFzIGNvbnN0XG5cblxuLy9zaG91bGQgYmUgYW4gYXJyYXlcbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0NvbmNlcHRFTlZWYXJpYWJsZXMgPSAodHlwZW9mIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMpW2tleW9mIHR5cGVvZiBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTXVtdO1xuXG5cbmV4cG9ydCBjb25zdCBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZID0gW1xuICAgIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMuQV9DT05DRVBUX05BTUUsXG4gICAgQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0NPTkNFUFRfUk9PVF9TQ09QRSxcbiAgICBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTLkFfQ09OQ0VQVF9FTlZJUk9OTUVOVCxcbiAgICBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTLkFfQ09OQ0VQVF9ST09UX0ZPTERFUixcblxuICAgIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMuQV9FUlJPUl9ERUZBVUxUX0RFU0NSSVBUSU9OLFxuXSBhcyBjb25zdDtcblxuIiwgImltcG9ydCB7IEFfVFlQRVNfX0FfU3RhZ2VTdGVwLCBBX1RZUEVTX1N0YWdlRXhlY3V0aW9uQmVoYXZpb3IgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLnR5cGVzXCJcbmltcG9ydCB7IEFfRnJhZ21lbnQgfSBmcm9tIFwiLi4vQS1GcmFnbWVudC9BLUZyYWdtZW50LmNsYXNzXCJcbmltcG9ydCB7IEFfRW50aXR5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRW50aXR5L0EtRW50aXR5LmNsYXNzXCJcbmltcG9ydCB7IEFfQ29udGFpbmVyIH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNsYXNzXCJcbmltcG9ydCB7IEFfQ29tcG9uZW50IH0gZnJvbSBcIi4uL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNsYXNzXCJcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC50eXBlc1wiXG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vQS1Db250YWluZXIvQS1Db250YWluZXIudHlwZXNcIlxuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5LnR5cGVzXCJcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuL0EtRmVhdHVyZS5jbGFzc1wiXG5pbXBvcnQgeyBBX1RZUEVTX19SZXF1aXJlZCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L3R5cGVzL0FfQ29tbW9uLnR5cGVzXCJcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLmNsYXNzXCJcbmltcG9ydCB7IEFfU3RhZ2UgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLmNsYXNzXCJcbmltcG9ydCB7IEFfVFlQRVNfX0Vycm9yX0luaXQgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLnR5cGVzXCJcblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gUHJpbWFyeSBUeXBlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vKipcbiAqIEZlYXR1cmUgY29uc3RydWN0b3IgdHlwZVxuICogVXNlcyB0aGUgZ2VuZXJpYyB0eXBlIFQgdG8gc3BlY2lmeSB0aGUgdHlwZSBvZiB0aGUgZmVhdHVyZVxuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlX0NvbnN0cnVjdG9yPFQgPSBBX0ZlYXR1cmU+ID0gbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVDtcbi8qKlxuICogRmVhdHVyZSBpbml0aWFsaXphdGlvbiB0eXBlXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVfSW5pdDxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4gPSBBX1RZUEVTX19GZWF0dXJlX0luaXRXaXRoQ29tcG9uZW50PFQ+IHwgQV9UWVBFU19fRmVhdHVyZV9Jbml0V2l0aFRlbXBsYXRlPFQ+XG4vKipcbiAqIEZlYXR1cmUgaW5pdGlhbGl6YXRpb24gdHlwZSB1c2luZyBjb21wb25lbnRcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZV9Jbml0V2l0aENvbXBvbmVudDxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4gPSB7XG4gICAgLyoqXG4gICAgICogRmVhdHVyZSBOYW1lXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIFRoZSBjb21wb25lbnQgZnJvbSB3aGVyZSB0aGUgZmVhdHVyZSBpcyBjYWxsaW5nLiBJdCdzIGltcG9ydGFudCBmb3IgcHJvcGVyIHNjb3BpbmcuIFxuICAgICAqIEJhc2VkIG9uIHRoZSBjb21wb25lbnQgd291bGQgYmUgcmV0cmlldmVkIGNvbm5lY3RlZCBjb21wb25lbnRzLCBlbnRpdGllcyBhbmQgY29udGFpbmVycy5cbiAgICAgKiBcbiAgICAgKiBbIV0gQ291bGQgYmUgQ29udGFpbmVyLCBFbnRpdHksIENvbXBvbmVudCBvciBDb21tYW5kXG4gICAgICovXG4gICAgY29tcG9uZW50OiBULFxuXG4gICAgLyoqXG4gICAgICogSW4gY2FzZSB3aGVuIEVudGl0eSBpcyBub3QgYXR0YWNoZWQgdG8gdGhlIHNjb3BlIGNhbiBiZSB1c2VkIHRvIHRyYW5zcGFyZW50bHkgc2hvdyBkZXBlbmRlbmNpZXNcbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKi9cbiAgICBzY29wZT86IEFfU2NvcGVcbn1cbi8qKlxuICogRmVhdHVyZSBpbml0aWFsaXphdGlvbiB0eXBlIHVzaW5nIHRlbXBsYXRlXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVfSW5pdFdpdGhUZW1wbGF0ZTxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4gPSB7XG4gICAgLyoqXG4gICAgICogRmVhdHVyZSBOYW1lXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIFRoZSBzY29wZSBmcm9tIHdoZXJlIHRvIHJldHJpZXZlIGRlcGVuZGVudCBjb21wb25lbnRzLCBlbnRpdGllcyBhbmQgY29udGFpbmVycy4gXG4gICAgICogXG4gICAgICogWyFdIEltcG9ydGFudCBmb3IgcHJvcGVyIHNjb3BpbmcuIFxuICAgICAqL1xuICAgIHNjb3BlOiBBX1Njb3BlXG4gICAgLyoqXG4gICAgICogVGhlIGNvbXBvbmVudCBmcm9tIHdoZXJlIHRoZSBmZWF0dXJlIGlzIGNhbGxpbmcuIEl0J3MgaW1wb3J0YW50IGZvciBwcm9wZXIgc2NvcGluZy4gXG4gICAgICogQmFzZWQgb24gdGhlIGNvbXBvbmVudCB3b3VsZCBiZSByZXRyaWV2ZWQgY29ubmVjdGVkIGNvbXBvbmVudHMsIGVudGl0aWVzIGFuZCBjb250YWluZXJzLlxuICAgICAqIFxuICAgICAqIFshXSBDb3VsZCBiZSBDb250YWluZXIsIEVudGl0eSwgQ29tcG9uZW50IG9yIENvbW1hbmRcbiAgICAgKi9cbiAgICBjb21wb25lbnQ/OiBULFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIEZlYXR1cmUgdGVtcGxhdGUgdG8gYmUgdXNlZCBpbnN0ZWFkIG9mIGJ1aWxkaW5nIGl0IGZyb20gZGVjb3JhdG9yc1xuICAgICAqL1xuICAgIHRlbXBsYXRlOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGVtcGxhdGVJdGVtPlxufVxuXG4vKipcbiAqIEZlYXR1cmUgc2VyaWFsaXplZCB0eXBlXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVfU2VyaWFsaXplZCA9IHt9XG5cblxuLyoqXG4gKiBGZWF0dXJlIGxpZmVjeWNsZSBzdGF0ZXNcbiAqL1xuZXhwb3J0IGVudW0gQV9UWVBFU19fRmVhdHVyZVN0YXRlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgZmVhdHVyZSBoYXMgYmVlbiBpbml0aWFsaXplZFxuICAgICAqL1xuICAgIElOSVRJQUxJWkVEID0gXCJJTklUSUFMSVpFRFwiLFxuICAgIC8qKlxuICAgICAqIFRoZSBmZWF0dXJlIGlzIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBQUk9DRVNTSU5HID0gXCJQUk9DRVNTSU5HXCIsXG4gICAgLyoqXG4gICAgICogVGhlIGZlYXR1cmUgaGFzIGJlZW4gY29tcGxldGVkXG4gICAgICovXG4gICAgQ09NUExFVEVEID0gXCJDT01QTEVURURcIixcbiAgICAvKipcbiAgICAgKiBUaGUgZmVhdHVyZSBoYXMgYmVlbiBpbnRlcnJ1cHRlZFxuICAgICAqL1xuICAgIElOVEVSUlVQVEVEID0gXCJJTlRFUlJVUFRFRFwiLFxuICAgIC8qKlxuICAgICAqIFRoZSBmZWF0dXJlIGhhcyBmYWlsZWRcbiAgICAgKi9cbiAgICBGQUlMRUQgPSBcIkZBSUxFRFwiXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVycm9yIFR5cGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVFcnJvcl9Jbml0ID0ge1xuICAgIC8qKlxuICAgICAqIFN0YWdlIHdoZXJlIHRoZSBlcnJvciBvY2N1cnJlZFxuICAgICAqL1xuICAgIHN0YWdlPzogQV9TdGFnZVxuXG59ICYgQV9UWVBFU19fRXJyb3JfSW5pdFxuXG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09LVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEF2YWlsYWJsZSBUeXBlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBBIGxpc3Qgb2YgY29tcG9uZW50IHdoZXJlIGZlYXR1cmVzIGNhbiBiZSBEZWZpbmVkXG4gKiBcbiAqIFshXSBPbiB0aGlzIGNvbXBvbmVudCBGZWF0dXJlIERlZmluaXRpb24gaXMgQXZhaWxhYmxlXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzID0gSW5zdGFuY2VUeXBlPEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb25zdHJ1Y3RvcnM+XG4vKipcbiAqIEEgbGlzdCBvZiBjb25zdHJ1Y3RvcnMgd2hlcmUgZmVhdHVyZXMgY2FuIGJlIERlZmluZWRcbiAqIFxuICogWyFdIE9uIHRoaXMgY29tcG9uZW50IEZlYXR1cmUgRGVmaW5pdGlvbiBpcyBBdmFpbGFibGVcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbnN0cnVjdG9ycyA9IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvclxuICAgIHwgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yXG4gICAgfCBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3JcblxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIERlY29yYXRvciBUeXBlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1GZWF0dXJlIERlZmluZSBEZWNvcmF0b3IgVHlwZXMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKlxuICogSW5kaWNhdGVzIGEgdHlwZSBvZiBGZWF0dXJlIERlZmluZSBkZWNvcmF0b3JcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvckRlc2NyaXB0b3IgPVxuICAgIFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPCguLi5hcmdzOiBhbnlbXSkgPT4gYW55PlxuICAgIHwgVHlwZWRQcm9wZXJ0eURlc2NyaXB0b3I8KC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+XG4gICAgfCBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjwoLi4uYXJnczogYW55W10pID0+IFByb21pc2U8YW55Pj5cbiAgICB8IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPCguLi5hcmdzOiBhbnlbXSkgPT4gUHJvbWlzZTxhbnk+PlxuLyoqXG4gKiBEZXNjcmliZXMgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMgdG8gYmUgdXNlZCBpbiBGZWF0dXJlIERlZmluZSBkZWNvcmF0b3JcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvckNvbmZpZyA9IHtcbiAgICAvKipcbiAgICAgKiBGZWF0dXJlIG5hbWVcbiAgICAgKiBcbiAgICAgKiBbIV0gQnkgZGVmYXVsdCB1c2VzIHRoZSBtZXRob2QgbmFtZVxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgYSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSBmZWF0dXJlLiBJZiB0cnVlIHRoZSBmZWF0dXJlIHdpbGwgYmUgYXV0b21hdGljYWxseSBhdHRhY2hlZCB0byB0aGUgZXhlY3V0aW9uLlxuICAgICAqIFxuICAgICAqIFshXSBCZWZvcmUgZmVhdHVyZSBleGVjdXRpb24gdGhlIG1ldGhvZCBpdHNlbGYgd2lsbCBiZSBjYWxsZWQgdG8gcHJlcGFyZSB0aGUgZmVhdHVyZSB0ZW1wbGF0ZVxuICAgICAqIFshXSBEZWZhdWx0IGlzIGZhbHNlXG4gICAgICovXG4gICAgaW52b2tlOiBib29sZWFuLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBhZGQgYSBkZWZhdWx0IGJlaGF2aW9yIG9yIG51bWJlciBvZiBzdGVwcyB0aGF0IHdpbGwgYmUgcGFydCBvZiB0aGUgZmVhdHVyZVxuICAgICAqL1xuICAgIHRlbXBsYXRlOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGVtcGxhdGVJdGVtPlxufVxuLyoqXG4gKiBEZXNjcmliZXMgYSBzaW5nbGUgdGVtcGxhdGUgaXRlbSB1c2VkIGluIEZlYXR1cmUgRGVmaW5lIGRlY29yYXRvclxuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGVtcGxhdGVJdGVtID0gQV9UWVBFU19fUmVxdWlyZWQ8UGFydGlhbDxBX1RZUEVTX19BX1N0YWdlU3RlcD4sIFsnbmFtZScsICdoYW5kbGVyJywgJ2NvbXBvbmVudCddPlxuLyoqXG4gKiBEZXNjcmliZXMgYSB0YXJnZXQgd2hlcmUgRmVhdHVyZSBEZWZpbmUgZGVjb3JhdG9yIGNhbiBiZSBhcHBsaWVkXG4gKiBcbiAqIFshXSBUaGUgZmVhdHVyZSBjYW4gYmUgZGVmaW5lZCBvbiBDb250YWluZXIsIEVudGl0eSwgQ29tcG9uZW50IG9yIENvbW1hbmRcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvclRhcmdldCA9IEFfQ29udGFpbmVyXG4gICAgfCBBX0VudGl0eVxuICAgIHwgQV9Db21wb25lbnRcbi8qKlxuICogQSB0eXBlIG9mIE1ldGEgaW5mb3JtYXRpb24gc3RvcmVkIGJ5IEZlYXR1cmUgRGVmaW5lIGRlY29yYXRvclxuICogVGhpcyBpbmZvcm1hdGlvbiB0aGVuIHVzZXMgYnkgQS1Db250ZXh0IHRvIGJ1aWxkIGEgcHJvcGVyIGZlYXR1cmUgdGVtcGxhdGVcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGEgPSB7XG4gICAgLyoqXG4gICAgICogRmVhdHVyZSBuYW1lXG4gICAgICogbWFpbmx5IGl0J3MgYSB1bmlxdWUgY29tYmluYXRpb24gb2YgdGhlIGNsYXNzIG5hbWUgYW5kIG1ldGhvZCBuYW1lXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIEFjdHVhbCBtZXRob2QgbmFtZSBpbiB0aGUgY2xhc3NcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBzdHJpbmcsXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGEgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUgZmVhdHVyZS4gSWYgdHJ1ZSB0aGUgZmVhdHVyZSB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgYXR0YWNoZWQgdG8gdGhlIGV4ZWN1dGlvbi5cbiAgICAgKiBcbiAgICAgKiBbIV0gQmVmb3JlIGZlYXR1cmUgZXhlY3V0aW9uIHRoZSBtZXRob2QgaXRzZWxmIHdpbGwgYmUgY2FsbGVkIHRvIHByZXBhcmUgdGhlIGZlYXR1cmUgdGVtcGxhdGVcbiAgICAgKiBbIV0gRGVmYXVsdCBpcyBmYWxzZVxuICAgICAqL1xuICAgIGludm9rZTogYm9vbGVhbixcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gYWRkIGEgZGVmYXVsdCBiZWhhdmlvciBvciBudW1iZXIgb2Ygc3RlcHMgdGhhdCB3aWxsIGJlIHBhcnQgb2YgdGhlIGZlYXR1cmVcbiAgICAgKi9cbiAgICB0ZW1wbGF0ZTogQXJyYXk8QV9UWVBFU19fQV9TdGFnZVN0ZXA+XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tRmVhdHVyZSBFeHRlbmQgRGVjb3JhdG9yIFR5cGVzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKipcbiAqIERlc2NyaXB0b3IgdHlwZSBmb3IgQV9FeHRlbmQgZGVjb3JhdG9yXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JEZXNjcmlwdG9yID1cbiAgICBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjwoKSA9PiBhbnk+XG4gICAgfCBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjwoLi4uYXJnczogYW55W10pID0+IGFueT5cbiAgICB8IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPCguLi5hcmdzOiBhbnlbXSkgPT4gUHJvbWlzZTxhbnk+PlxuICAgIHwgVHlwZWRQcm9wZXJ0eURlc2NyaXB0b3I8KCkgPT4gUHJvbWlzZTxhbnk+PlxuLyoqXG4gKiBUYXJnZXQgdHlwZSBmb3IgQV9FeHRlbmQgZGVjb3JhdG9yXG4gKiBcbiAqIFshXSBDYW4gYmUgYXBwbGllZCBvbmx5IG9uIEEtQ29tcG9uZW50c1xuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yVGFyZ2V0ID0gQV9Db21wb25lbnQgfCBBX0NvbnRhaW5lciB8IEFfRW50aXR5XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiB0eXBlIGZvciBBX0V4dGVuZCBkZWNvcmF0b3JcbiAqIFxuICogVGhpcyBpcyBhbiBJTlBVVCBwYXJhbWV0ZXIgcHJvdmlkZWQgYnkgdGhlIHVzZXJcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvckNvbmZpZyA9IHtcbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoZSBjb250YWluZXIgTGlmZWN5Y2xlIG1ldGhvZCB0byBiZSBleHRlbmRlZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgbm90IHByb3ZpZGVkIHdpbGwgYmUgdXNlZCB0aGUgbmFtZSBvZiB0aGUgbWV0aG9kLlxuICAgICAqIFshIV0gSWYgbmFtZSBjb250YWlucyBcIi5cIiBkb3QgaXQgd2lsbCBiZSBjb25zaWRlcmVkIGFzIGEgcGF0aCB0byB0aGUgbWV0aG9kLlxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBDb250YWluZXIgY2xhc3Mgb3IgY29udGFpbmVyIG5hbWUgdXNlcyB0byBpZGVudGlmeSB0aGUgcHJvcGVyIGNvbnRhaW5lciBpbiBjYXNlIHdoZW4gdGhlIG5hbWUgaXMgbm90IHVuaXF1ZS5cbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgbm90IHByb3ZpZGVkIHdpbGwgYmUgYXBwbGllZCB0byBhbGwgY29udGFpbmVycyB3aXRoIHRoZSBzYW1lIG5hbWUuXG4gICAgICogWyEhXSBCeSBkZWZhdWx0IHVzZXMgT1IgdG8gam9pbiBhbGwgcHJvdmlkZWQgaXRlbXMuIElmIHlvdSBuZWVkIG1vcmUgY29tcGxleCBMb2dpYywgcGxlYXNlIHVzZSBSZWdleHAgaW5zdGVhZFxuICAgICAqIFxuICAgICAqIFshISFdIEluIGNhc2UgaWYgeW91IG5lZWQgdG8gZXhjbHVkZSBzb21lIGNvbnRhaW5lcnMsIGVudGl0aWVzIG9yIGNvbXBvbmVudHMsIHBsZWFzZSB1c2UgXCJleGNsdWRlXCIgcHJvcGVydHlcbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIFxuICAgICAqIGBgYHRzXG4gICAgICogIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgKiAgICAgIG5hbWU6ICdsb2FkJyxcbiAgICAgKiAgICAgIHNjb3BlOiB7XG4gICAgICogICAgICAgICAgaW5jbHVkZTogW0FfQ29udGFpbmVyMSwgQV9FbnRpdHkxXSxcbiAgICAgKiAgICAgICAgICBleGNsdWRlOiBbQV9Db21wb25lbnQxXVxuICAgICAqICAgICAgfVxuICAgICAqICB9KVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHNjb3BlOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yU2NvcGVJdGVtPiB8IFBhcnRpYWw8QV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclNjb3BlQ29uZmlnPixcbiAgICAvKipcbiAgICAgKiBUaGUgYmVoYXZpb3Igb2YgdGhlIG1ldGhvZC4gXG4gICAgICogSW4gY2FzZSBpdHMgYXN5bmMgaXQgd2lsbCBiZSBleGVjdXRlZCBpbmRlcGVuZGVudGx5IGZyb20gdGhlIG1haW4gdGhyZWFkLlxuICAgICAqIFxuICAgICAqIFshXSBIb3dldmVyLCBpbiBjYXNlIG9mIHN5bmMsIGl0IHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIG1haW4gdGhyZWFkLmluIHRoZSBvcmRlciBvZiB0aGUgZGVjbGFyYXRpb24uXG4gICAgICogXG4gICAgICovXG4gICAgYmVoYXZpb3I6IEFfVFlQRVNfU3RhZ2VFeGVjdXRpb25CZWhhdmlvclxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIHRoZSBleGVjdXRpb24gb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSXQgYXBwbGllcyBmb3IgdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmUgOidDb21wb25lbnQubWV0aG9kTmFtZSdcbiAgICAgKiBbIV0gSW4gY2FzZSB0aGUgbWV0aG9kIGhhcyBjaXJjdWxhciBkZXBlbmRlbmNpZXMgaXQgd2lsbCBUaHJvdyBhbiBlcnJvci5cbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIGBgYHRzXG4gICAgICogIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgKiAgICAgIG5hbWU6ICdsb2FkJyxcbiAgICAgKiAgICAgIGJlZm9yZTogWydDb21wb25lbnQxLm1ldGhvZE5hbWUnLCAnQ29tcG9uZW50Mi5tZXRob2ROYW1lMiddXG4gICAgICogIH0pXG4gICAgICogIC8vIE9SXG4gICAgICogIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgKiAgICAgIG5hbWU6ICdsb2FkJyxcbiAgICAgKiAgICAgIGJlZm9yZTogL0NvbXBvbmVudDJcXC4uKy9cbiAgICAgKiAgfSlcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBiZWZvcmU6IEFycmF5PHN0cmluZz4gfCBSZWdFeHBcblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIHRoZSBleGVjdXRpb24gb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSXQgYXBwbGllcyBmb3IgdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmUgOidDb21wb25lbnQubWV0aG9kTmFtZSdcbiAgICAgKiBbIV0gSW4gY2FzZSB0aGUgbWV0aG9kIGhhcyBjaXJjdWxhciBkZXBlbmRlbmNpZXMgaXQgd2lsbCBUaHJvdyBhbiBlcnJvci5cbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIGBgYHRzXG4gICAgICogIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgKiAgICAgIG5hbWU6ICdsb2FkJyxcbiAgICAgKiAgICAgIGFmdGVyOiBbJ0NvbXBvbmVudDEubWV0aG9kTmFtZScsICdDb21wb25lbnQyLm1ldGhvZE5hbWUyJ11cbiAgICAgKiAgfSlcbiAgICAgKiAgLy8gT1JcbiAgICAgKiAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAqICAgICAgbmFtZTogJ2xvYWQnLFxuICAgICAqICAgICAgYWZ0ZXI6IC9Db21wb25lbnQyXFwuLisvXG4gICAgICogIH0pXG4gICAgICogYGBgXG4gICAgICogXG4gICAgICovXG4gICAgYWZ0ZXI6IEFycmF5PHN0cmluZz4gfCBSZWdFeHBcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0byB0aHJvdyBhbiBlcnJvciBpZiB0aGUgc3RlcCBmYWlscy5cbiAgICAgKiBcbiAgICAgKiBbIV0gQnkgZGVmYXVsdCBpcyB0cnVlXG4gICAgICovXG4gICAgdGhyb3dPbkVycm9yOiBib29sZWFuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gb3ZlcnJpZGUgcGFydGljdWxhciBzdGVwcyBpbiB0aGUgZmVhdHVyZSBzZXF1ZW5jZSBieSBwcm92aWRlZCBuYW1lcyBbQ29tcG9uZW50XS5bTWV0aG9kXSBvciBieSByZWdleHBcbiAgICAgKi9cbiAgICBvdmVycmlkZTogQXJyYXk8c3RyaW5nPiB8IFJlZ0V4cFxufVxuLyoqXG4gKiBTY29wZSBpdGVtIHRoYXQgY2FuIGJlIHVzZWQgaW4gQV9FeHRlbmQgZGVjb3JhdG9yIGNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclNjb3BlQ29uZmlnID0ge1xuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBjb21wb25lbnRzLCBlbnRpdGllcyBvciBjb250YWluZXJzIHRvIGluY2x1ZGUgaW4gdGhlIHNjb3BlIG9mIHRoZSBleHRlbnNpb25cbiAgICAgKi9cbiAgICBpbmNsdWRlPzogQXJyYXk8QV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclNjb3BlSXRlbT4sXG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIGNvbXBvbmVudHMsIGVudGl0aWVzIG9yIGNvbnRhaW5lcnMgdG8gZXhjbHVkZSBmcm9tIHRoZSBzY29wZSBvZiB0aGUgZXh0ZW5zaW9uXG4gICAgICovXG4gICAgZXhjbHVkZT86IEFycmF5PEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JTY29wZUl0ZW0+XG59XG4vKipcbiAqIEEgc2luZ2xlIGl0ZW0gdGhhdCBjYW4gYmUgdXNlZCBpbiBzY29wZSBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JTY29wZUl0ZW0gPSBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3JcbiAgICB8IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvclxuICAgIHwgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yXG5cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1NRVRBIFRZUEVTLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vKipcbiAqIE1ldGEgdHlwZSBmb3IgQV9FeHRlbmQgZGVjb3JhdG9yXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JNZXRhID0ge1xuICAgIC8qKlxuICAgICAqIE9yaWdpbmFsIEZlYXR1cmUgRXh0ZW5zaW9uIG5hbWVcbiAgICAgKiBcbiAgICAgKiBbIV0gY291bGQgYmUgc3RyaW5nIG9yIHJlZ2V4XG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIEFjdHVhbCBtZXRob2QgbmFtZSBpbiB0aGUgY2xhc3NcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBUaGUgYmVoYXZpb3Igb2YgdGhlIG1ldGhvZC4gXG4gICAgICogSW4gY2FzZSBpdHMgYXN5bmMgaXQgd2lsbCBiZSBleGVjdXRlZCBpbmRlcGVuZGVudGx5IGZyb20gdGhlIG1haW4gdGhyZWFkLlxuICAgICAqIFxuICAgICAqIFshXSBIb3dldmVyLCBpbiBjYXNlIG9mIHN5bmMsIGl0IHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIG1haW4gdGhyZWFkLmluIHRoZSBvcmRlciBvZiB0aGUgZGVjbGFyYXRpb24uXG4gICAgICogXG4gICAgICovXG4gICAgYmVoYXZpb3I6IEFfVFlQRVNfU3RhZ2VFeGVjdXRpb25CZWhhdmlvclxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIHRoZSBleGVjdXRpb24gb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSW4gY2FzZSB0aGUgbWV0aG9kIGhhcyBjaXJjdWxhciBkZXBlbmRlbmNpZXMgaXQgd2lsbCBUaHJvdyBhbiBlcnJvci5cbiAgICAgKiBcbiAgICAgKi9cbiAgICBiZWZvcmU6IHN0cmluZ1xuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIHRoZSBleGVjdXRpb24gb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSW4gY2FzZSB0aGUgbWV0aG9kIGhhcyBjaXJjdWxhciBkZXBlbmRlbmNpZXMgaXQgd2lsbCBUaHJvdyBhbiBlcnJvci5cbiAgICAgKiBcbiAgICAgKi9cbiAgICBhZnRlcjogc3RyaW5nXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdG8gdGhyb3cgYW4gZXJyb3IgaWYgdGhlIHN0ZXAgZmFpbHMuXG4gICAgICogXG4gICAgICogWyFdIEJ5IGRlZmF1bHQgaXMgdHJ1ZVxuICAgICAqL1xuICAgIHRocm93T25FcnJvcjogYm9vbGVhbixcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gb3ZlcnJpZGUgcGFydGljdWxhciBzdGVwcyBpbiB0aGUgZmVhdHVyZSBzZXF1ZW5jZSBieSBwcm92aWRlZCBuYW1lcyBbQ29tcG9uZW50XS5bTWV0aG9kXSBvciBieSByZWdleHBcbiAgICAgKi9cbiAgICBvdmVycmlkZTogc3RyaW5nXG59XG5cblxuIiwgIi8qKlxuICogQSBNZXRhIGlzIGFuIGVudGl0eSB0aGF0IHN0b3JlcyBhbGwgdGhlIG1ldGFkYXRhIGZvciB0aGUgc3BlY2lmaWMgZW50aXR5IGxpa2UgY29udGFpbmVyLCBjb21wb25lbnQsIGZlYXR1cmUsIGV0Yy4gXG4gKiBcbiAqIFshXSBNZXRhIGNhbiBiZSBkaWZmZXJlbnQgZGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIGlucHV0IGRhdGFcbiAqL1xuZXhwb3J0IGNsYXNzIEFfTWV0YTxcbiAgICBfU3RvcmFnZUl0ZW1zIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IGFueSxcbiAgICBfU2VyaWFsaXplZFR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PlxuPiBpbXBsZW1lbnRzIEl0ZXJhYmxlPFtrZXlvZiBfU3RvcmFnZUl0ZW1zLCBfU3RvcmFnZUl0ZW1zW2tleW9mIF9TdG9yYWdlSXRlbXNdXT4ge1xuXG4gICAgcHJvdGVjdGVkIG1ldGE6IE1hcDxrZXlvZiBfU3RvcmFnZUl0ZW1zLCBfU3RvcmFnZUl0ZW1zW2tleW9mIF9TdG9yYWdlSXRlbXNdPiA9IG5ldyBNYXAoKTtcblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGdldCB0aGUgaXRlcmF0b3IgZm9yIHRoZSBtZXRhIG9iamVjdFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhdG9yPFtrZXlvZiBfU3RvcmFnZUl0ZW1zLCBfU3RvcmFnZUl0ZW1zW2tleW9mIF9TdG9yYWdlSXRlbXNdXT4ge1xuICAgICAgICBjb25zdCBpdGVyYXRvciA9IHRoaXMubWV0YS5lbnRyaWVzKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0OiAoKSA9PiBpdGVyYXRvci5uZXh0KClcbiAgICAgICAgfTtcbiAgICB9XG5cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTUVUQSBPUEVSQVRJT05TID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHJlcGxpY2F0ZSByZWNlaXZlZCBtZXRhIG9iamVjdCBieSByZXBsYWNpbmcgaW50ZXJuYWwgbWV0YSB0byB0aGUgcmVjZWl2ZWQgb25lXG4gICAgICogXG4gICAgICogQHBhcmFtIG1ldGEgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZnJvbShcbiAgICAgICAgbWV0YTogQV9NZXRhPF9TdG9yYWdlSXRlbXM+XG4gICAgKTogQV9NZXRhPF9TdG9yYWdlSXRlbXM+IHtcbiAgICAgICAgdGhpcy5tZXRhID0gbmV3IE1hcChtZXRhLm1ldGEpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIHNldCB2YWx1ZXMgaW4gdGhlIG1hcFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXkgXG4gICAgICogQHBhcmFtIHZhbHVlIFxuICAgICAqL1xuICAgIHNldDxLIGV4dGVuZHMga2V5b2YgX1N0b3JhZ2VJdGVtcz4oa2V5OiBLLCB2YWx1ZTogX1N0b3JhZ2VJdGVtc1tLXSkge1xuXG4gICAgICAgIGNvbnN0IGluaGVyaXRlZFZhbHVlID0gdGhpcy5tZXRhLmdldChrZXkpXG4gICAgICAgICAgICB8fCBBcnJheS5pc0FycmF5KHZhbHVlKVxuICAgICAgICAgICAgPyBbXVxuICAgICAgICAgICAgOiAodmFsdWUgYXMgYW55KSBpbnN0YW5jZW9mIE1hcFxuICAgICAgICAgICAgICAgID8gbmV3IE1hcCgpXG4gICAgICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSB0aGlzLm1ldGEuZ2V0KGtleSlcbiAgICAgICAgICAgIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICAuLi5pbmhlcml0ZWRWYWx1ZSBhcyBhbnlcbiAgICAgICAgICAgIF0gOiAodmFsdWUgYXMgYW55KSBpbnN0YW5jZW9mIE1hcFxuICAgICAgICAgICAgICAgID8gbmV3IE1hcChpbmhlcml0ZWRWYWx1ZSBhcyBhbnkpXG4gICAgICAgICAgICAgICAgOiB7IC4uLmluaGVyaXRlZFZhbHVlIH07XG5cbiAgICAgICAgdGhpcy5tZXRhLnNldChrZXksIHZhbHVlKTtcblxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gZ2V0IHZhbHVlcyBmcm9tIHRoZSBtYXBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ga2V5IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGdldDxLIGV4dGVuZHMga2V5b2YgX1N0b3JhZ2VJdGVtcz4oa2V5OiBLKTogX1N0b3JhZ2VJdGVtc1tLXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGEuZ2V0KGtleSkgYXMgX1N0b3JhZ2VJdGVtc1tLXTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBkZWxldGUgdmFsdWVzIGZyb20gdGhlIG1hcFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXkgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZGVsZXRlKGtleToga2V5b2YgX1N0b3JhZ2VJdGVtcyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhLmRlbGV0ZShrZXkpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGdldCB0aGUgc2l6ZSBvZiB0aGUgbWFwXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc2l6ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhLnNpemU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBuZWVkZWQgdG8gY29udmVydCB0aGUga2V5IHRvIGEgcmVndWxhciBleHByZXNzaW9uIGFuZCBjb3ZlciBjYXNlcyBsaWtlOiBcbiAgICAgKiBcbiAgICAgKiBzaW1wbGUgKiBlLmcuIFwiYSpcIiBpbnN0ZWFkIG9mIFwiYS4qXCJcbiAgICAgKiBcbiAgICAgKiBzaW1wbGUgPyBlLmcuIFwiYT9cIiBpbnN0ZWFkIG9mIFwiYS5cIlxuICAgICAqIFxuICAgICAqIGV0Yy4gXG4gICAgICogXG4gICAgICogQHBhcmFtIGtleSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcml2YXRlIGNvbnZlcnRUb1JlZ0V4cChrZXk6IHN0cmluZyB8IFJlZ0V4cCk6IFJlZ0V4cCB7XG4gICAgICAgIHJldHVybiBrZXkgaW5zdGFuY2VvZiBSZWdFeHBcbiAgICAgICAgICAgID8ga2V5XG4gICAgICAgICAgICA6IG5ldyBSZWdFeHAoa2V5KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBmaW5kIHZhbHVlcyBpbiB0aGUgbWFwIGJ5IG5hbWUuXG4gICAgICogXG4gICAgICogQ29udmVydHMgdGhlIEtleSBpbiBNYXAgdG8gYSByZWd1bGFyIGV4cHJlc3Npb24gYW5kIHRoZW4gY29tcGFyZXMgdG8gdGhlIG5hbWVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbmFtZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBmaW5kKG5hbWU6IHN0cmluZykge1xuICAgICAgICBjb25zdCByZXN1bHRzOiBBcnJheTxba2V5b2YgX1N0b3JhZ2VJdGVtcywgX1N0b3JhZ2VJdGVtc1trZXlvZiBfU3RvcmFnZUl0ZW1zXV0+ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHRoaXMubWV0YS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnZlcnRUb1JlZ0V4cChTdHJpbmcoa2V5KSkudGVzdChuYW1lKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGZpbmQgdmFsdWVzIGluIHRoZSBtYXAgYnkgcmVndWxhciBleHByZXNzaW9uXG4gICAgICogXG4gICAgICogQ29tcGFyZXMgTWFwIEtleSB0byB0aGUgaW5wdXQgcmVndWxhciBleHByZXNzaW9uXG4gICAgICogXG4gICAgICogQHBhcmFtIHJlZ2V4IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGZpbmRCeVJlZ2V4KHJlZ2V4OiBSZWdFeHApOiBBcnJheTxba2V5b2YgX1N0b3JhZ2VJdGVtcywgX1N0b3JhZ2VJdGVtc1trZXlvZiBfU3RvcmFnZUl0ZW1zXV0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0czogQXJyYXk8W2tleW9mIF9TdG9yYWdlSXRlbXMsIF9TdG9yYWdlSXRlbXNba2V5b2YgX1N0b3JhZ2VJdGVtc11dPiA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiB0aGlzLm1ldGEuZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAocmVnZXgudGVzdChTdHJpbmcoa2V5KSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjaGVjayBpZiB0aGUgbWFwIGhhcyBhIHNwZWNpZmljIGtleVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXkgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgaGFzKGtleToga2V5b2YgX1N0b3JhZ2VJdGVtcyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhLmhhcyhrZXkpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGdldCB0aGUgc2l6ZSBvZiB0aGUgbWFwXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZW50cmllcygpOiBJdGVyYWJsZUl0ZXJhdG9yPFtrZXlvZiBfU3RvcmFnZUl0ZW1zLCBfU3RvcmFnZUl0ZW1zW2tleW9mIF9TdG9yYWdlSXRlbXNdXT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhLmVudHJpZXMoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjbGVhciB0aGUgbWFwXG4gICAgICovXG4gICAgY2xlYXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWV0YS5jbGVhcigpO1xuICAgIH1cblxuXG4gICAgdG9BcnJheSgpOiBBcnJheTxba2V5b2YgX1N0b3JhZ2VJdGVtcywgX1N0b3JhZ2VJdGVtc1trZXlvZiBfU3RvcmFnZUl0ZW1zXV0+IHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5tZXRhLmVudHJpZXMoKSk7XG4gICAgfVxuXG5cbiAgICBwcm90ZWN0ZWQgcmVjdXJzaXZlVG9KU09OKHZhbHVlOiBhbnkpOiBhbnkge1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgdmFsdWUgaW5zdGFuY2VvZiBBX01ldGE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvSlNPTigpO1xuXG4gICAgICAgICAgICBjYXNlIHZhbHVlIGluc3RhbmNlb2YgTWFwOlxuICAgICAgICAgICAgICAgIGNvbnN0IG9iajogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIHZhbHVlLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBvYmpbU3RyaW5nKGspXSA9IHRoaXMucmVjdXJzaXZlVG9KU09OKHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuXG4gICAgICAgICAgICBjYXNlIEFycmF5LmlzQXJyYXkodmFsdWUpOlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5tYXAoKGl0ZW0pID0+IHRoaXMucmVjdXJzaXZlVG9KU09OKGl0ZW0pKTtcblxuICAgICAgICAgICAgY2FzZSAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1trXSA9IHRoaXMucmVjdXJzaXZlVG9KU09OKHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIG1ldGEgdG8gYSBKU09OIG9iamVjdFxuICAgICAqIFVzZXMgaW50ZXJuYWwgc3RvcmFnZSB0byBjb252ZXJ0IHRvIEpTT05cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICB0b0pTT04oKTogX1NlcmlhbGl6ZWRUeXBlIHtcbiAgICAgICAgY29uc3QganNvbjogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHRoaXMubWV0YS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGpzb25bU3RyaW5nKGtleSldID0gdGhpcy5yZWN1cnNpdmVUb0pTT04odmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqc29uIGFzIF9TZXJpYWxpemVkVHlwZTtcbiAgICB9XG59IiwgImV4cG9ydCBlbnVtIEFfVFlQRVNfX0VudGl0eU1ldGFLZXkge1xuICAgIEVYVEVOU0lPTlMgPSAnYS1jb21wb25lbnQtZXh0ZW5zaW9ucycsXG4gICAgRkVBVFVSRVMgPSAnYS1jb21wb25lbnQtZmVhdHVyZXMnLFxuICAgIEFCU1RSQUNUSU9OUyA9ICdhLWNvbXBvbmVudC1hYnN0cmFjdGlvbnMnLFxuICAgIElOSkVDVElPTlMgPSAnYS1jb21wb25lbnQtaW5qZWN0aW9ucycsXG59XG5cbmV4cG9ydCBlbnVtIEFfVFlQRVNfX0VudGl0eUZlYXR1cmVzIHtcbiAgICBTQVZFID0gJ3NhdmUnLFxuICAgIERFU1RST1kgPSAnZGVzdHJveScsXG4gICAgTE9BRCA9ICdsb2FkJ1xufSIsICJleHBvcnQgZW51bSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IHtcbiAgICBGRUFUVVJFUyA9ICdhLWNvbnRhaW5lci1mZWF0dXJlcycsXG4gICAgSU5KRUNUSU9OUyA9ICdhLWNvbnRhaW5lci1pbmplY3Rpb25zJyxcbiAgICBBQlNUUkFDVElPTlMgPSAnYS1jb250YWluZXItYWJzdHJhY3Rpb25zJyxcbiAgICBFWFRFTlNJT05TICA9ICdhLWNvbnRhaW5lci1leHRlbnNpb25zJyxcbn0iLCAiXG5cblxuZXhwb3J0IGVudW0gQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB7XG4gICAgRVhURU5TSU9OUyA9ICdhLWNvbXBvbmVudC1leHRlbnNpb25zJyxcbiAgICBGRUFUVVJFUyA9ICdhLWNvbXBvbmVudC1mZWF0dXJlcycsXG4gICAgSU5KRUNUSU9OUyA9ICdhLWNvbXBvbmVudC1pbmplY3Rpb25zJyxcbiAgICBBQlNUUkFDVElPTlMgPSAnYS1jb21wb25lbnQtYWJzdHJhY3Rpb25zJyxcbn0iLCAiaW1wb3J0IHsgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9uTWV0YSB9IGZyb20gXCIuLi9BLUNvbmNlcHQvQS1Db25jZXB0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiLi4vQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YSwgQV9UWVBFU19fQ29tcG9uZW50TWV0YUV4dGVuc2lvbiB9IGZyb20gXCIuL0EtQ29tcG9uZW50LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSBcIi4vQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfQ29tcG9uZW50TWV0YSBleHRlbmRzIEFfTWV0YTxBX1RZUEVTX19Db21wb25lbnRNZXRhPiB7XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZ2V0IGFsbCB0aGUgaW5qZWN0aW9ucyBmb3IgYSBnaXZlbiBoYW5kbGVyXG4gICAgICogXG4gICAgICogQHBhcmFtIGhhbmRsZXIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgaW5qZWN0aW9ucyhcbiAgICAgICAgaGFuZGxlcjogc3RyaW5nXG4gICAgKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSB7XG4gICAgICAgIGNvbnN0IGluamVjdGlvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LklOSkVDVElPTlMpO1xuXG4gICAgICAgIGNvbnN0IGFyZ3MgPSBpbmplY3Rpb25zPy5nZXQoaGFuZGxlcikgfHwgW107XG5cbiAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGdldCBhbGwgdGhlIGV4dGVuc2lvbnMgZm9yIGEgZ2l2ZW4gZmVhdHVyZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBmZWF0dXJlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGV4dGVuc2lvbnMoXG4gICAgICAgIGZlYXR1cmU6IHN0cmluZ1xuICAgICk6IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFFeHRlbnNpb25bXSB7XG4gICAgICAgIGNvbnN0IHN0ZXBzOiBBX1RZUEVTX19Db21wb25lbnRNZXRhRXh0ZW5zaW9uW10gPSBbXTtcblxuICAgICAgICBjb25zdCBleHRlbnNpb25zID0gdGhpcy5nZXQoQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5FWFRFTlNJT05TKTtcblxuICAgICAgICBleHRlbnNpb25zXG4gICAgICAgICAgICAvLyByZXR1cm5zIGFsbCBleHRlbnNpb25zIHRoYXQgbWF0Y2ggdGhlIGZlYXR1cmVcbiAgICAgICAgICAgID8uZmluZChmZWF0dXJlKVxuICAgICAgICAgICAgLmZvckVhY2goKFtoYW5kbGVyLCBleHRlbnNpb25zXSkgPT4ge1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMuZm9yRWFjaChleHRlbnNpb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICBzdGVwcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudDogY29uc3RydWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGV4dGVuc2lvbi5oYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3I6IGV4dGVuc2lvbi5iZWhhdmlvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZTogZXh0ZW5zaW9uLmJlZm9yZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyOiBleHRlbnNpb24uYWZ0ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvd09uRXJyb3I6IGV4dGVuc2lvbi50aHJvd09uRXJyb3IgfHwgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlOicnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIHJldHVybiBzdGVwcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBmZWF0dXJlcyBkZWZpbmVkIGluIHRoZSBDb21wb25lbnRcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBmZWF0dXJlcygpOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YT4ge1xuXG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gdGhpcy5nZXQoQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5GRUFUVVJFUyk7XG5cbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzPy50b0FycmF5KClcbiAgICAgICAgICAgIC8vIHJldHVybnMgYWxsIGV4dGVuc2lvbnMgdGhhdCBtYXRjaCB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgLm1hcCgoWywgZmVhdHVyZV0pID0+IGZlYXR1cmUpIHx8IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzZXQgb2YgaW5zdHJ1Y3Rpb25zIHRvIHJ1biBwcm9wZXIgbWV0aG9kcyBpbiBDb21wb25lbnQgZHVyaW5nIEEtQ29uY2VwdCBTdGFnZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdGFnZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhYnN0cmFjdGlvbnMoXG4gICAgICAgIGFic3RyYWN0aW9uOiBhbnlcbiAgICApOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25NZXRhW10ge1xuICAgICAgICBjb25zdCBzdGVwczogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9uTWV0YVtdID0gW107XG5cbiAgICAgICAgY29uc3QgYWJzdHJhY3Rpb25zID0gdGhpcy5nZXQoQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5BQlNUUkFDVElPTlMpO1xuICAgICAgICBjb25zdCBpbmplY3Rpb25zID0gdGhpcy5nZXQoQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5JTkpFQ1RJT05TKTtcblxuICAgICAgICBhYnN0cmFjdGlvbnNcbiAgICAgICAgICAgIC8vIHJldHVybnMgYWxsIGV4dGVuc2lvbnMgdGhhdCBtYXRjaCB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgPy5maW5kKGBDT05DRVBUX0FCU1RSQUNUSU9OOjoke2Fic3RyYWN0aW9ufWApXG4gICAgICAgICAgICAuZm9yRWFjaCgoW2hhbmRsZXIsIGV4dGVuc2lvbnNdKSA9PiB7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5mb3JFYWNoKGV4dGVuc2lvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBpbmplY3Rpb25zPy5nZXQoZXh0ZW5zaW9uLmhhbmRsZXIpIHx8IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIHN0ZXBzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZXh0ZW5zaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50OiBjb25zdHJ1Y3RvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIHJldHVybiBzdGVwcztcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCIuLi9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0ZlYXR1cmUgfSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9TY29wZSB9IGZyb20gXCIuLi9BLVNjb3BlL0EtU2NvcGUuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lcl9Jbml0IH0gZnJvbSBcIi4vQS1Db250YWluZXIudHlwZXNcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX0NvbnRhaW5lciB7XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIG9mIHRoZSBjb250YWluZXIgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcnVuIGl0LlxuICAgICAqL1xuICAgIHByb3RlY3RlZCByZWFkb25seSBjb25maWchOiBQYXJ0aWFsPEFfVFlQRVNfX0NvbnRhaW5lcl9Jbml0PjtcbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoZSBjb250YWluZXJcbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnPy5uYW1lIHx8IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2NvcGUgd2hlcmUgdGhlIGNvbnRhaW5lciBpcyByZWdpc3RlcmVkXG4gICAgICovXG4gICAgZ2V0IHNjb3BlKCk6IEFfU2NvcGUge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LnNjb3BlKHRoaXMpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBjbGFzcyBzaG91bGQgY29tYmluZSBDb21wb25lbnRzIHRvIGFjaGlldmUgdGhlIGdvYWwgd2l0aGluZyBDb25jZXB0XG4gICAgICogXG4gICAgICogQ29udGFpbmVyIGlzIGEgZGlyZWN0IGNvbnRhaW5lciB0aGF0IHNob3VsZCBiZSBcInJ1blwiIHRvIG1ha2UgQ29uY2VwdCB3b3JrLiBcbiAgICAgKiBTbyBiZWNhdXNlIG9mIHRoYXQgQ29udGFpbmVyIGNhbiBiZTpcbiAgICAgKiAtIEhUVFAgU2VydmVyXG4gICAgICogLSBCQVNIIFNjcmlwdFxuICAgICAqIC0gRGF0YWJhc2UgQ29ubmVjdGlvblxuICAgICAqIC0gTWljcm9zZXJ2aWNlXG4gICAgICogLSBldGMuXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIENvbmZpZ3VyYXRpb24gb2YgdGhlIGNvbnRhaW5lciB0aGF0IHdpbGwgYmUgdXNlZCB0byBydW4gaXQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25maWd1cmF0aW9uIG9mIHRoZSBjb250YWluZXIgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcnVuIGl0LlxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnOiBQYXJ0aWFsPEFfVFlQRVNfX0NvbnRhaW5lcl9Jbml0PiA9IHt9XG4gICAgKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgICAgIEFfQ29udGV4dC5hbGxvY2F0ZSh0aGlzLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDYWxscyB0aGUgZmVhdHVyZSB3aXRoIHRoZSBnaXZlbiBuYW1lIGluIHRoZSBnaXZlbiBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBUaGlzIG1ldGhvZCBjcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBmZWF0dXJlIGV2ZXJ5IHRpbWUgaXQgaXMgY2FsbGVkXG4gICAgICogXG4gICAgICogQHBhcmFtIGZlYXR1cmUgLSB0aGUgbmFtZSBvZiB0aGUgZmVhdHVyZSB0byBjYWxsXG4gICAgICogQHBhcmFtIHNjb3BlICAtIHRoZSBzY29wZSBpbiB3aGljaCB0byBjYWxsIHRoZSBmZWF0dXJlXG4gICAgICogQHJldHVybnMgIC0gdm9pZFxuICAgICAqL1xuICAgIGFzeW5jIGNhbGwoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOYW1lIG9mIHRoZSBmZWF0dXJlIHRvIGNhbGxcbiAgICAgICAgICovXG4gICAgICAgIGZlYXR1cmU6IHN0cmluZyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNjb3BlIGluIHdoaWNoIHRoZSBmZWF0dXJlIHdpbGwgYmUgZXhlY3V0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlPzogQV9TY29wZVxuICAgICkge1xuICAgICAgICBjb25zdCBuZXdGZWF0dXJlID0gbmV3IEFfRmVhdHVyZSh7XG4gICAgICAgICAgICBuYW1lOiBmZWF0dXJlLFxuICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBhd2FpdCBuZXdGZWF0dXJlLnByb2Nlc3Moc2NvcGUpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YSwgQV9UWVBFU19fQ29udGFpbmVyTWV0YUV4dGVuc2lvbiwgfSBmcm9tIFwiLi9BLUNvbnRhaW5lci50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9uLCBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25NZXRhIH0gZnJvbSBcIi4uL0EtQ29uY2VwdC9BLUNvbmNlcHQudHlwZXNcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCIuLi9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IH0gZnJvbSBcIi4vQS1Db250YWluZXIuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zIH0gZnJvbSBcIi4uL0EtQ29uY2VwdC9BLUNvbmNlcHQuY29uc3RhbnRzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9Db250YWluZXJNZXRhIGV4dGVuZHMgQV9NZXRhPEFfVFlQRVNfX0NvbnRhaW5lck1ldGE+IHtcblxuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZ2V0IGFsbCB0aGUgaW5qZWN0aW9ucyBmb3IgYSBnaXZlbiBoYW5kbGVyXG4gICAgICogXG4gICAgICogQHBhcmFtIGhhbmRsZXIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgaW5qZWN0aW9ucyhcbiAgICAgICAgaGFuZGxlcjogc3RyaW5nXG4gICAgKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSB7XG4gICAgICAgIGNvbnN0IGluamVjdGlvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LklOSkVDVElPTlMpO1xuXG4gICAgICAgIGNvbnN0IGFyZ3MgPSBpbmplY3Rpb25zPy5nZXQoaGFuZGxlcikgfHwgW107XG5cbiAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgZmVhdHVyZXMgZGVmaW5lZCBpbiB0aGUgQ29udGFpbmVyXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZmVhdHVyZXMoKTogQXJyYXk8QV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGE+IHtcblxuICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMuZ2V0KEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuRkVBVFVSRVMpO1xuXG4gICAgICAgIHJldHVybiBmZWF0dXJlcz8udG9BcnJheSgpXG4gICAgICAgICAgICAvLyByZXR1cm5zIGFsbCBleHRlbnNpb25zIHRoYXQgbWF0Y2ggdGhlIGZlYXR1cmVcbiAgICAgICAgICAgIC5tYXAoKFssIGZlYXR1cmVdKSA9PiBmZWF0dXJlKSB8fCBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc2V0IG9mIGluc3RydWN0aW9ucyB0byBydW4gcHJvcGVyIG1ldGhvZHMgaW4gQ29udGFpbmVyIGR1cmluZyBBLUNvbmNlcHQgU3RhZ2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RhZ2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYWJzdHJhY3Rpb25zKFxuICAgICAgICBhYnN0cmFjdGlvbjogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9uc1xuICAgICk6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbk1ldGFbXSB7XG4gICAgICAgIGNvbnN0IHN0ZXBzOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25NZXRhW10gPSBbXTtcblxuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LkFCU1RSQUNUSU9OUyk7XG4gICAgICAgIGNvbnN0IGluamVjdGlvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LklOSkVDVElPTlMpO1xuXG4gICAgICAgIGFic3RyYWN0aW9uc1xuICAgICAgICAgICAgLy8gcmV0dXJucyBhbGwgZXh0ZW5zaW9ucyB0aGF0IG1hdGNoIHRoZSBmZWF0dXJlXG4gICAgICAgICAgICA/LmZpbmQoYENPTkNFUFRfQUJTVFJBQ1RJT046OiR7YWJzdHJhY3Rpb259YClcbiAgICAgICAgICAgIC5mb3JFYWNoKChbaGFuZGxlciwgZXh0ZW5zaW9uc10pID0+IHtcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zLmZvckVhY2goZXh0ZW5zaW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJncyA9IGluamVjdGlvbnM/LmdldChleHRlbnNpb24uaGFuZGxlcikgfHwgW107XG5cbiAgICAgICAgICAgICAgICAgICAgc3RlcHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5leHRlbnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICByZXR1cm4gc3RlcHM7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZ2V0IGFsbCB0aGUgZXh0ZW5zaW9ucyBmb3IgYSBnaXZlbiBmZWF0dXJlXG4gICAgICogXG4gICAgICogQHBhcmFtIGZlYXR1cmUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZXh0ZW5zaW9ucyhcbiAgICAgICAgZmVhdHVyZTogc3RyaW5nXG4gICAgKTogQV9UWVBFU19fQ29udGFpbmVyTWV0YUV4dGVuc2lvbltdIHtcbiAgICAgICAgY29uc3Qgc3RlcHM6IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFFeHRlbnNpb25bXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LkVYVEVOU0lPTlMpO1xuXG4gICAgICAgIGV4dGVuc2lvbnNcbiAgICAgICAgICAgIC8vIHJldHVybnMgYWxsIGV4dGVuc2lvbnMgdGhhdCBtYXRjaCB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgPy5maW5kKGZlYXR1cmUpXG4gICAgICAgICAgICAuZm9yRWFjaCgoW2hhbmRsZXIsIGV4dGVuc2lvbnNdKSA9PiB7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5mb3JFYWNoKGV4dGVuc2lvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXBzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50OiBjb25zdHJ1Y3RvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGV4dGVuc2lvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogZXh0ZW5zaW9uLmhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWhhdmlvcjogZXh0ZW5zaW9uLmJlaGF2aW9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBleHRlbnNpb24uYmVmb3JlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IGV4dGVuc2lvbi5hZnRlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93T25FcnJvcjogZXh0ZW5zaW9uLnRocm93T25FcnJvciB8fCB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGU6ICcnXG5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgcmV0dXJuIHN0ZXBzO1xuICAgIH1cblxufSIsICJcbi8qKlxuICogQV9Gb3JtYXR0ZXJIZWxwZXJcbiAqIFxuICogSGVscGVyIGNsYXNzIGZvciBmb3JtYXR0aW5nIHN0cmluZ3MgaW50byBkaWZmZXJlbnQgY2FzZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBBX0Zvcm1hdHRlckhlbHBlciB7XG4gICAgLyoqXG4gICAgICogQ29udmVydCBzdHJpbmcgdG8gVVBQRVJfU05BS0VfQ0FTRVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIHRvVXBwZXJTbmFrZUNhc2Uoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gc3RyXG4gICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgJyQxXyQyJykgIC8vIEhhbmRsZSBjYW1lbENhc2VcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOV0rL2csICdfJykgICAgICAgLy8gUmVwbGFjZSBub24tYWxwaGFudW1lcmljIHdpdGggdW5kZXJzY29yZXNcbiAgICAgICAgICAgIC5yZXBsYWNlKC9fKy9nLCAnXycpICAgICAgICAgICAgICAgICAgLy8gQ29sbGFwc2UgbXVsdGlwbGUgdW5kZXJzY29yZXNcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eX3xfJC9nLCAnJykgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcvdHJhaWxpbmcgdW5kZXJzY29yZXNcbiAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHN0cmluZyB0byBjYW1lbENhc2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RyIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyB0b0NhbWVsQ2FzZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBzdHJcbiAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOV0rL2csICcgJykgICAgICAgLy8gUmVwbGFjZSBub24tYWxwaGFudW1lcmljIHdpdGggc3BhY2VzXG4gICAgICAgICAgICAuc3BsaXQoJyAnKSAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwbGl0IGJ5IHNwYWNlc1xuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKSAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZW1wdHkgaXRlbXNcbiAgICAgICAgICAgIC5tYXAoKHBhcnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcGFydC5zbGljZSgxKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKCcnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBzdHJpbmcgdG8gUGFzY2FsQ2FzZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIHRvUGFzY2FsQ2FzZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBzdHJcbiAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEgJDInKSAgLy8gSW5zZXJ0IHNwYWNlIGJlZm9yZSB1cHBlcmNhc2UgaW4gY2FtZWxDYXNlXG4gICAgICAgICAgICAucmVwbGFjZSgvW15hLXpBLVowLTldKy9nLCAnICcpICAgICAgIC8vIFJlcGxhY2Ugbm9uLWFscGhhbnVtZXJpYyB3aXRoIHNwYWNlc1xuICAgICAgICAgICAgLnNwbGl0KCcgJykgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTcGxpdCBieSBzcGFjZXNcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbikgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGVtcHR5IGl0ZW1zXG4gICAgICAgICAgICAubWFwKHBhcnQgPT4gcGFydC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHBhcnQuc2xpY2UoMSkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgIC5qb2luKCcnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBzdHJpbmcgdG8ga2ViYWItY2FzZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIHRvS2ViYWJDYXNlKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN0clxuICAgICAgICAgICAgLy8gMS4gUmVwbGFjZSBhbGwgbm9uLWFscGhhbnVtZXJpYyAodW5kZXJzY29yZSwgZG90LCBldGMuKSB3aXRoIGEgc3BhY2VcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOV0rL2csICcgJylcbiAgICAgICAgICAgIC8vIDIuIEluc2VydCBzcGFjZSBiZWZvcmUgYW55IHVwcGVyY2FzZSBwcmVjZWRlZCBieSBsb3dlcmNhc2Ugb3IgZGlnaXRcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oW2EtejAtOV0pKFtBLVpdKS9nLCAnJDEgJDInKVxuICAgICAgICAgICAgLy8gMy4gVHJpbSBzcGFjZXMgYXQgYm90aCBlbmRzIGFuZCByZXBsYWNlIHJlbWFpbmluZyBzcGFjZXMgd2l0aCBkYXNoZXNcbiAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcbiAgICAgICAgICAgIC8vIDQuIExvd2VyY2FzZSBldmVyeXRoaW5nXG4gICAgICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICB9XG59IiwgIlxuZXhwb3J0IHR5cGUgQV9JRF9UWVBFU19fVGltZUlkX1BhcnRzID0ge1xuICAgIHRpbWVzdGFtcDogRGF0ZTtcbiAgICByYW5kb206IHN0cmluZztcbn1cblxuXG5leHBvcnQgY2xhc3MgQV9JZGVudGl0eUhlbHBlciB7XG4gICAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIHNob3J0LCB0aW1lLWJhc2VkIHVuaXF1ZSBJRC5cbiAgICogRW5jb2RlcyBjdXJyZW50IHRpbWUgKG1zIHNpbmNlIGVwb2NoKSBhbmQgcmFuZG9tIGJpdHMgaW4gYmFzZTM2LlxuICAgKiBFeGFtcGxlOiBcIm1iNGYxZy03ZjlhMWNcIlxuICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdGVUaW1lSWQoXG4gICAgICAgIHBhcnRzOiBBX0lEX1RZUEVTX19UaW1lSWRfUGFydHMgPSB7IHRpbWVzdGFtcDogbmV3IERhdGUoKSwgcmFuZG9tOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA4KSB9XG4gICAgKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgdGltZSA9IHBhcnRzLnRpbWVzdGFtcC5nZXRUaW1lKCkudG9TdHJpbmcoMzYpOyAvLyBiYXNlMzYtZW5jb2RlZCB0aW1lc3RhbXBcbiAgICAgICAgY29uc3QgcmFuZG9tID0gcGFydHMucmFuZG9tOyAvLyB1c2UgcHJvdmlkZWQgcmFuZG9tIHN0cmluZ1xuICAgICAgICByZXR1cm4gYCR7dGltZX0tJHtyYW5kb219YDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBzaG9ydCBJRCBiYWNrIGludG8gaXRzIHBhcnRzLlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIG9yaWdpbmFsIHRpbWVzdGFtcCAoYXMgRGF0ZSkgYW5kIHJhbmRvbSBzdHJpbmcuXG4gICAgICovXG4gICAgc3RhdGljIHBhcnNlVGltZUlkKGlkOiBzdHJpbmcpOiBBX0lEX1RZUEVTX19UaW1lSWRfUGFydHMge1xuICAgICAgICBjb25zdCBbdGltZVBhcnQsIHJhbmRvbVBhcnRdID0gaWQuc3BsaXQoJy0nKTtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUocGFyc2VJbnQodGltZVBhcnQsIDM2KSk7XG4gICAgICAgIHJldHVybiB7IHRpbWVzdGFtcCwgcmFuZG9tOiByYW5kb21QYXJ0IH07XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiAgRm9ybWF0IGEgbnVtYmVyIHdpdGggbGVhZGluZyB6ZXJvcyB0byBhIGZpeGVkIGxlbmd0aFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBudW1iZXIgXG4gICAgICogQHBhcmFtIG1heFplcm9zIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBmb3JtYXRXaXRoTGVhZGluZ1plcm9zKG51bWJlciwgbWF4WmVyb3MgPSAxMCkge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWROdW1iZXIgPSBTdHJpbmcobnVtYmVyKS5wYWRTdGFydChtYXhaZXJvcyArIDEsICcwJyk7XG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWROdW1iZXIuc2xpY2UoLW1heFplcm9zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgbGVhZGluZyB6ZXJvcyBmcm9tIGEgZm9ybWF0dGVkIG51bWJlclxuICAgICAqL1xuICAgIHN0YXRpYyByZW1vdmVMZWFkaW5nWmVyb3MoZm9ybWF0dGVkTnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcoTnVtYmVyKGZvcm1hdHRlZE51bWJlcikpOyAvLyBDb252ZXJ0IHRvIG51bWJlciBhbmQgYmFjayB0byBzdHJpbmcgdG8gcmVtb3ZlIGxlYWRpbmcgemVyb3NcbiAgICB9XG5cblxufSIsICJcblxuXG5leHBvcnQgY29uc3QgQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTID0ge1xuICAgIFVORVhQRUNURURfRVJST1I6ICdBLUVycm9yIFVuZXhwZWN0ZWQgRXJyb3InLFxuICAgIFZBTElEQVRJT05fRVJST1I6ICdBLUVycm9yIFZhbGlkYXRpb24gRXJyb3InLFxufSBhcyBjb25zdDtcblxuXG5cbmV4cG9ydCBjb25zdCBBX0NPTlNUQU5UU19fRVJST1JfREVTQ1JJUFRJT04gPSAnSWYgeW91IHNlZSB0aGlzIGVycm9yIHBsZWFzZSBsZXQgdXMga25vdy4nIiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fRXJyb3JfSW5pdCxcbiAgICBBX1RZUEVTX19FcnJvcl9TZXJpYWxpemVkXG59IGZyb20gJy4vQV9FcnJvci50eXBlcyc7XG5pbXBvcnQge1xuICAgIEFfQ09OU1RBTlRTX19FUlJPUl9DT0RFUyxcbiAgICBBX0NPTlNUQU5UU19fRVJST1JfREVTQ1JJUFRJT05cbn0gZnJvbSAnLi9BX0Vycm9yLmNvbnN0YW50cyc7XG5pbXBvcnQgeyBBX0Zvcm1hdHRlckhlbHBlciB9IGZyb20gJ0BhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0Zvcm1hdHRlci5oZWxwZXInO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSAnLi4vQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzcyc7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tICdAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlcic7XG5pbXBvcnQgeyBBU0VJRCB9IGZyb20gJy4uL0FTRUlEL0FTRUlELmNsYXNzJztcbmltcG9ydCB7IEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMgfSBmcm9tICdAYWRhYXMvYS1jb25jZXB0L2NvbnN0YW50cy9lbnYuY29uc3RhbnRzJztcblxuXG5leHBvcnQgY2xhc3MgQV9FcnJvcjxcbiAgICBfQ29uc3RydWN0b3JUeXBlIGV4dGVuZHMgQV9UWVBFU19fRXJyb3JfSW5pdCA9IEFfVFlQRVNfX0Vycm9yX0luaXQsXG4gICAgX1NlcmlhbGl6ZWRUeXBlIGV4dGVuZHMgQV9UWVBFU19fRXJyb3JfU2VyaWFsaXplZCA9IEFfVFlQRVNfX0Vycm9yX1NlcmlhbGl6ZWRcbj4gZXh0ZW5kcyBFcnJvciB7XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gU3RhdGljIEEtRXJyb3IgSW5mb3JtYXRpb24gPT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogRXJyb3IgSWRlbnRpZmllciB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBjbGFzcyBuYW1lXG4gICAgICovXG4gICAgc3RhdGljIGdldCBlbnRpdHkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEFfRm9ybWF0dGVySGVscGVyLnRvS2ViYWJDYXNlKHRoaXMubmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERFRkFVTFQgTmFtZXNwYWNlIG9mIHRoZSBlcnJvciBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlIEFfQ09OQ0VQVF9OQU1FU1BBQ0VcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvICdhLWNvbmNlcHQnXG4gICAgICovXG4gICAgc3RhdGljIGdldCBjb25jZXB0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQuY29uY2VwdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogREVGQVVMVCBTY29wZSBvZiB0aGUgZW50aXR5IGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGUgQV9DT05DRVBUX0RFRkFVTFRfU0NPUEVcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvICdjb3JlJ1xuICAgICAqIFshXSBTY29wZSBpcyBhbiBhcHBsaWNhdGlvbiBzcGVjaWZpYyBpZGVudGlmaWVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZ3JvdXAgZW50aXRpZXMgdG9nZXRoZXJcbiAgICAgKiBbIV0gZS5nLiAnZGVmYXVsdCcsICdjb3JlJywgJ3B1YmxpYycsICdpbnRlcm5hbCcsIGV0Y1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgc2NvcGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5yb290Lm5hbWU7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gSGlkZGVuIEEtRXJyb3IgSW5mb3JtYXRpb24gPT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogQVNFSUQgb2YgdGhlIGVycm9yIGluc3RhbmNlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9hc2VpZCE6IEFTRUlEO1xuICAgIC8qKlxuICAgICAqIFRpdGxlIG9mIHRoZSBlcnJvclxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfdGl0bGUhOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogUG9zc2libGUgU2NvcGUgaWYgbmVlZGVkIHRvIGlkZW50aWZ5IHRoZSBlcnJvciBieSBpdCdzIGV4ZWN1dGlvbiBlbnZpcm9ubWVudFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfc2NvcGU/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogVW5pcXVlIGNvZGUgcmVwcmVzZW50aW5nIHRoZSB0eXBlIG9mIGVycm9yXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9jb2RlPzogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIERldGFpbGVkIGRlc2NyaXB0aW9uIG9mIHRoZSBlcnJvclxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogT3JpZ2luYWwgRXJyb3IgaWYgYW55XG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9vcmlnaW5hbEVycm9yPzogRXJyb3IgfCBhbnlcbiAgICAvKipcbiAgICAgKiBMaW5rIHRvIHRoZSBkb2N1bWVudGF0aW9uIG9yIHN1cHBvcnQgcGFnZSBmb3IgdGhlIGVycm9yXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9saW5rPzogc3RyaW5nO1xuXG5cblxuICAgIC8qKlxuICAgICAqIEFfRXJyb3IgaXMgYSBjdXN0b20gZXJyb3IgY2xhc3MgZm9yIEFfQ29uY2VwdCBmcmFtZXdvcmsuXG4gICAgICogVGhpcyBlcnJvciBhbGxvd3MgdG8gaGF2ZSBtb3JlIHN0cnVjdHVyZWQgZXJyb3IgaGFuZGxpbmcuXG4gICAgICogRWFjaCBlcnJvciBoYXMgYSB1bmlxdWUgY29kZSwgZGVzY3JpcHRpb24gYW5kIGEgbGluayB0byB0aGUgZG9jdW1lbnRhdGlvbi5cbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlIG9mIHVzYWdlOiBcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogXG4gICAgICogLy8gMSkgYWxsIHBhcmFtZXRlcnMgd2lsbCBiZSB1c2VkIGFzIHByb3ZpZGVkXG4gICAgICogdGhyb3cgbmV3IEFfRXJyb3Ioe1xuICAgICAqICAgIG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcsXG4gICAgICogICAgY29kZTogJ1VTRVJfTk9UX0ZPVU5EJyxcbiAgICAgKiAgICBkZXNjcmlwdGlvbjogJ1RoZSB1c2VyIHdpdGggdGhlIGdpdmVuIElEIHdhcyBub3QgZm91bmQuJyxcbiAgICAgKiAgICBsaW5rOiAnaHR0cHM6Ly9zdXBwb3J0LmFkYWFzLm9yZy9lcnJvci9VU0VSX05PVF9GT1VORCdcbiAgICAgKiB9KTtcbiAgICAgKiBcbiAgICAgKiAvLyBvclxuICAgICAqIC8vIDIpIG9ubHkgbWVzc2FnZSBpcyBwcm92aWRlZCwgb3RoZXIgcGFyYW1ldGVycyB3aWxsIGJlIHNldCB0byBkZWZhdWx0IHZhbHVlczpcbiAgICAgKiAvLyAgICAgLSBjb2RlOiAndXNlci1ub3QtZm91bmQnIChrZWJhYi1jYXNlIG9mIHRoZSBtZXNzYWdlKVxuICAgICAqIC8vICAgICAtIGRlc2NyaXB0aW9uOiAnVXNlciBub3QgZm91bmQnIChzYW1lIGFzIG1lc3NhZ2UpXG4gICAgICogLy8gICAgIC0gbGluazogRW1wdHlcbiAgICAgKiB0aHJvdyBuZXcgQV9FcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICAgKiBcbiAgICAgKiAvLyBvclxuICAgICAqIC8vIDMpIFByb3ZpZGVkIE1lc3NhZ2UgYW5kIERlc2NyaXB0aW9uLCBvdGhlciBwYXJhbWV0ZXJzIHdpbGwgYmUgc2V0IHRvIGRlZmF1bHQgdmFsdWVzOlxuICAgICAqIC8vICAgICAtIGNvZGU6ICd1c2VyLW5vdC1mb3VuZCcgKGtlYmFiLWNhc2Ugb2YgdGhlIG1lc3NhZ2UpXG4gICAgICogLy8gICAgIC0gZGVzY3JpcHRpb246ICdUaGUgdXNlciB3aXRoIHRoZSBnaXZlbiBJRCB3YXMgbm90IGZvdW5kLicgKGFzIHByb3ZpZGVkKVxuICAgICAqIC8vICAgICAtIGxpbms6IEVtcHR5XG4gICAgICogdGhyb3cgbmV3IEFfRXJyb3IoJ1VzZXIgbm90IGZvdW5kJywgJ1RoZSB1c2VyIHdpdGggdGhlIGdpdmVuIElEIHdhcyBub3QgZm91bmQuJyk7XG4gICAgICogXG4gICAgICogXG4gICAgICogYGBgXG4gICAgICogWyFdIE5vdGU6IFRoZSBiZWhhdmlvciBvZiBBX0Vycm9yIGlzIHNpbWlsYXIgdG8gdGhlIEFfRW50aXR5IGhvd2V2ZXIgaXQgY2Fubm90IGhhdmUgb3duIEFfRmVhdHVyZXMuXG4gICAgICogWyFdIE5vdGU6IFRoaXMgY2xhc3MgY2FuIGJlIGluaGVyaXRlZCB0byBjcmVhdGUgY3VzdG9tIGVycm9yIGNsYXNzZXMuXG4gICAgICogXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBX0Vycm9yIENvbnN0cnVjdG9yIHBhcmFtc1xuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW1zOiBfQ29uc3RydWN0b3JUeXBlXG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogRXJyb3IgbWVzc2FnZVxuICAgICAgICAgKi9cbiAgICAgICAgbWVzc2FnZTogc3RyaW5nXG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogT3JpZ2luYWwgSlMgRXJyb3JcbiAgICAgICAgICovXG4gICAgICAgIGVycm9yOiBFcnJvclxuICAgIClcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVycm9yIG1lc3NhZ2VcbiAgICAgICAgICovXG4gICAgICAgIHRpdGxlOiBzdHJpbmcsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRhaWxlZCBkZXNjcmlwdGlvbiBvZiB0aGUgZXJyb3JcbiAgICAgICAgICovXG4gICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgICApXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBhcmFtMTogX0NvbnN0cnVjdG9yVHlwZSB8IEVycm9yIHwgc3RyaW5nIHwgQV9FcnJvcixcbiAgICAgICAgcGFyYW0yPzogc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIC8vICB0byBwcmV2ZW50IGVycm9ycyBhY2N1bXVsYXRpb24gaW4gdGhlIHN0YWNrIHRyYWNlIGl0IHJldHVybnMgdGhlIG9yaWdpbmFsIGVycm9yIGlmIHByb3ZpZGVkIHBhcmFtMSBpcyBBX0Vycm9yXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBwYXJhbTEgaW5zdGFuY2VvZiBBX0Vycm9yOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbTEgYXMgQV9FcnJvcjxfQ29uc3RydWN0b3JUeXBlLCBfU2VyaWFsaXplZFR5cGU+O1xuXG4gICAgICAgICAgICBjYXNlIHBhcmFtMSBpbnN0YW5jZW9mIEVycm9yOlxuICAgICAgICAgICAgICAgIHN1cGVyKHBhcmFtMS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFcnJvclNlcmlhbGl6ZWRUeXBlPF9TZXJpYWxpemVkVHlwZT4ocGFyYW0xKTpcbiAgICAgICAgICAgICAgICBzdXBlcihwYXJhbTEubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JDb25zdHJ1Y3RvclR5cGU8X0NvbnN0cnVjdG9yVHlwZT4ocGFyYW0xKSAmJiAnZGVzY3JpcHRpb24nIGluIHBhcmFtMTpcbiAgICAgICAgICAgICAgICBzdXBlcihgWyR7cGFyYW0xLnRpdGxlfV06ICR7cGFyYW0xLmRlc2NyaXB0aW9ufWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Vycm9yQ29uc3RydWN0b3JUeXBlPF9Db25zdHJ1Y3RvclR5cGU+KHBhcmFtMSkgJiYgISgnZGVzY3JpcHRpb24nIGluIHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgc3VwZXIocGFyYW0xLnRpdGxlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcocGFyYW0xKSAmJiAhcGFyYW0yOlxuICAgICAgICAgICAgICAgIHN1cGVyKHBhcmFtMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKHBhcmFtMSkgJiYgISFwYXJhbTI6XG4gICAgICAgICAgICAgICAgc3VwZXIoYFske3BhcmFtMX1dOiAke3BhcmFtMn1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9FcnJvcihcbiAgICAgICAgICAgICAgICAgICAgQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTLlZBTElEQVRJT05fRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICdJbnZhbGlkIHBhcmFtZXRlcnMgcHJvdmlkZWQgdG8gQV9FcnJvciBjb25zdHJ1Y3RvcidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZXIgPSB0aGlzLmdldEluaXRpYWxpemVyKHBhcmFtMSwgcGFyYW0yKTtcbiAgICAgICAgLy8gdGhlIHJldHVybmVkIGluaXRpYWxpemVyIGlzIGFscmVhZHkgYm91bmQgdG8gYHRoaXNgICh3ZSB1c2VkIC5iaW5kKHRoaXMpKSxcbiAgICAgICAgLy8gc28gY2FsbGluZyBpdCB3aWxsIHJ1biB0aGUgYXBwcm9wcmlhdGUgbG9naWMgb24gdGhpcyBpbnN0YW5jZTpcbiAgICAgICAgaW5pdGlhbGl6ZXIuY2FsbCh0aGlzLCBwYXJhbTEsIHBhcmFtMik7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09IFB1YmxpYyBBLUVycm9yIEluZm9ybWF0aW9uID09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEFTRUlEIG9mIHRoZSBlcnJvciBpbnN0YW5jZVxuICAgICAqL1xuICAgIGdldCBhc2VpZCgpOiBBU0VJRCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hc2VpZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdGl0bGUgb2YgdGhlIGVycm9yXG4gICAgICogXG4gICAgICogRXhhbXBsZTogJ1VzZXIgbm90IGZvdW5kJywgJ1ZhbGlkYXRpb24gZXJyb3InLCAnVW5hdXRob3JpemVkIGFjY2VzcycsIGV0Yy5cbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogVGhpcyB0aXRsZSBzaG91bGQgYmUgc2hvcnQgYW5kIGNvbmNpc2UsIGxlc3MgdGhhbiA2MCBjaGFyYWN0ZXJzXG4gICAgICogWyFdIE5vdGU6IElmIHRpdGxlIGV4Y2VlZHMgNjAgY2hhcmFjdGVycywgdGhlcmUgd291bGQgYmUgYW4gZXJyb3IgdGhyb3duXG4gICAgICogWyFdIE5vdGU6IFRoaXMgdGl0bGUgaXMgaW50ZW5kZWQgdG8gYmUgaHVtYW4tcmVhZGFibGUgYW5kIGNhbiBiZSBkaXNwbGF5ZWQgaW4gVUkgb3IgbG9nc1xuICAgICAqL1xuICAgIGdldCB0aXRsZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGl0bGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gRXJyb3IgbWVzc2FnZSB3aGF0IGlzIGEgYnJpZWYgdGl0bGUgb2YgdGhlIGVycm9yXG4gICAgICogXG4gICAgICovXG4gICAgZ2V0IG1lc3NhZ2UoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLm1lc3NhZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB1bmlxdWUgY29kZSByZXByZXNlbnRpbmcgdGhlIHR5cGUgb2YgZXJyb3JcbiAgICAgKiBcbiAgICAgKiBJZiBjb2RlIGlzIG5vdCBwcm92aWRlZCwgaXQgd2lsbCBnZW5lcmF0ZSBhIGtlYmFiLWNhc2Ugb2YgdGhlIG1lc3NhZ2VcbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOiAndmFsaWRhdGlvbi1lcnJvcicsICdub3QtZm91bmQnLCAndXNlci1ub3QtZm91bmQnLCAndW5hdXRob3JpemVkJyBldGMuXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IEl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSBrZWJhYi1jYXNlIGZvciBlcnJvciBjb2Rlc1xuICAgICAqIFshXSBOb3RlOiBJZiBub3QgcHJvdmlkZWQgd291bGQgYmUgdXNlZCBhIGtlYmFiLWNhc2UgbWVzc2FnZSBvZiB0aGUgZXJyb3JcbiAgICAgKi9cbiAgICBnZXQgY29kZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29kZSB8fCBBX0Zvcm1hdHRlckhlbHBlci50b0tlYmFiQ2FzZSh0aGlzLnRpdGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdHlwZSBvZiB0aGUgZXJyb3Igd2hpY2ggY29ycmVzcG9uZHMgdG8gdGhlIHN0YXRpYyBlbnRpdHkgb2YgdGhlIGNsYXNzXG4gICAgICogXG4gICAgICogRXhhbXBsZTogJ2EtZXJyb3InLCAndmFsaWRhdGlvbi1lcnJvcicsICdub3QtZm91bmQtZXJyb3InLCAndXNlci1lcnJvcicsIGV0Yy5cbiAgICAgKiBcbiAgICAgKiBEZWZhdWx0cyB0byB0aGUga2ViYWItY2FzZSBvZiB0aGUgY2xhc3MgbmFtZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBuYW1pbmcgYWQgc2VwYXJhdGlvbiBhcmUgZnVsbHkgZGVwZW5kZW50IG9uIHRoZSBhcmNoaXRlY3R1cmUgb2YgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogWyFdIE5vdGU6IEl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSBrZWJhYi1jYXNlIGZvciBlcnJvciB0eXBlc1xuICAgICAqIFshXSBOb3RlOiBUaGlzIHR5cGUgaXMgaW50ZW5kZWQgdG8gZ3JvdXAgc2ltaWxhciBlcnJvcnMgdG9nZXRoZXJcbiAgICAgKi9cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5lbnRpdHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaW5rIHdpdGggcG9zc2libGUgZG9jdW1lbnRhdGlvbiBvciBzdXBwb3J0IHBhZ2UgZm9yIHRoZSBlcnJvclxuICAgICAqIElmIGxpbmsgaXMgbm90IHByb3ZpZGVkLCBpdCB3aWxsIGdlbmVyYXRlIGEgbGluayBiYXNlZCBvbiB0aGUgQVNFSUQgb2YgdGhlIGVycm9yIHRoYXQgcG9pbnRzIHRvIHRoZSBBLUNvbmNlcHQgc3VwcG9ydCBwYWdlXG4gICAgICogXG4gICAgICogRXhhbXBsZTogaHR0cHM6Ly9hZGFhcy5zdXBwb3J0L2EtY29uY2VwdC9lcnJvcnMve0FTRUlEfVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBBU0VJRCBpcyBnZW5lcmF0ZWQgYmFzZWQgb24gdGhlIHN0YXRpYyBwcm9wZXJ0aWVzIG9mIHRoZSBjbGFzcyAoY29uY2VwdCwgc2NvcGUsIGVudGl0eSkgYW5kIHRoZSBjb2RlIG9mIHRoZSBlcnJvclxuICAgICAqL1xuICAgIGdldCBsaW5rKCkge1xuICAgICAgICBpZiAodGhpcy5fbGluaylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5rO1xuXG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYGh0dHBzOi8vYWRhYXMuc3VwcG9ydC9hLWNvbmNlcHQvZXJyb3JzLyR7dGhpcy5hc2VpZC50b1N0cmluZygpfWApO1xuXG4gICAgICAgIHJldHVybiB1cmwudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHNjb3BlIG5hbWUgb2YgdGhlIGVycm9yIGluc3RhbmNlXG4gICAgICogXG4gICAgICogSWYgc2NvcGUgaXMgbm90IHByb3ZpZGVkLCBpdCB3aWxsIHVzZSB0aGUgc3RhdGljIHNjb3BlIG9mIHRoZSBjbGFzc1xuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBTY29wZSBpcyBhbiBhcHBsaWNhdGlvbiBzcGVjaWZpYyBpZGVudGlmaWVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZ3JvdXAgZW50aXRpZXMgdG9nZXRoZXJcbiAgICAgKiBbIV0gZS5nLiAnZGVmYXVsdCcsICdjb3JlJywgJ3B1YmxpYycsICdpbnRlcm5hbCcsIGV0Y1xuICAgICAqL1xuICAgIGdldCBzY29wZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FzZWlkLnNjb3BlXG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgZGV0YWlsZWQgZGVzY3JpcHRpb24gb2YgdGhlIGVycm9yXG4gICAgICogSWYgZGVzY3JpcHRpb24gaXMgbm90IHByb3ZpZGVkLCBpdCB3aWxsIHVzZSB0aGUgZW52aXJvbm1lbnQgdmFyaWFibGUgQV9FUlJPUl9ERUZBVUxUX0RFU0NSSVBUSU9OIG9yIGEgZ2VuZXJpYyBtZXNzYWdlXG4gICAgICogXG4gICAgICogRXhhbXBsZTogJ1RoZSB1c2VyIHdpdGggdGhlIGdpdmVuIElEIHdhcyBub3QgZm91bmQuJywgJ1RoZSBwcm92aWRlZCBkYXRhIGlzIGludmFsaWQuJywgJ1lvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGlzIHJlc291cmNlLicsIGV0Yy5cbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogVGhpcyBkZXNjcmlwdGlvbiBpcyBpbnRlbmRlZCB0byBwcm92aWRlIG1vcmUgY29udGV4dCBhYm91dCB0aGUgZXJyb3IgYW5kIGNhbiBiZSB1c2VkIGZvciBkZWJ1Z2dpbmcgb3IgbG9nZ2luZyBwdXJwb3Nlc1xuICAgICAqL1xuICAgIGdldCBkZXNjcmlwdGlvbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzY3JpcHRpb24gfHwgcHJvY2Vzcy5lbnZbQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0VSUk9SX0RFRkFVTFRfREVTQ1JJUFRJT05dIHx8IEFfQ09OU1RBTlRTX19FUlJPUl9ERVNDUklQVElPTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgb3JpZ2luYWwgZXJyb3IgaWYgYW55XG4gICAgICogXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZnVsIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMgdG8gc2VlIHRoZSBvcmlnaW5hbCBzdGFjayB0cmFjZSBvciBlcnJvciBtZXNzYWdlXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IE9yaWdpbmFsIGVycm9yIGlzIG9wdGlvbmFsIGFuZCBtYXkgbm90IGJlIHByZXNlbnQgaW4gYWxsIGNhc2VzXG4gICAgICovXG4gICAgZ2V0IG9yaWdpbmFsRXJyb3IoKTogRXJyb3IgfCBhbnkgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3JpZ2luYWxFcnJvcjtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGljaCBpbml0aWFsaXplciBtZXRob2QgdG8gdXNlIGJhc2VkIG9uIHRoZSB0eXBlIG9mIHRoZSBmaXJzdCBwYXJhbWV0ZXIuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtMSBcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRJbml0aWFsaXplcihcbiAgICAgICAgcGFyYW0xOiBfQ29uc3RydWN0b3JUeXBlIHwgRXJyb3IgfCBzdHJpbmcgfCBhbnksXG4gICAgICAgIHBhcmFtMj86IHN0cmluZ1xuICAgICk6IChwYXJhbTE6IGFueSwgcGFyYW0yOiBhbnkpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCkge1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcocGFyYW0xKSAmJiAhcGFyYW0yOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21NZXNzYWdlO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1N0cmluZyhwYXJhbTEpICYmICEhcGFyYW0yOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21UaXRsZTtcblxuICAgICAgICAgICAgY2FzZSBwYXJhbTEgaW5zdGFuY2VvZiBFcnJvcjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tRXJyb3I7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JTZXJpYWxpemVkVHlwZTxfU2VyaWFsaXplZFR5cGU+KHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbUpTT047XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JDb25zdHJ1Y3RvclR5cGU8X0NvbnN0cnVjdG9yVHlwZT4ocGFyYW0xKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tQ29uc3RydWN0b3I7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9FcnJvcihcbiAgICAgICAgICAgICAgICAgICAgQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTLlZBTElEQVRJT05fRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICdJbnZhbGlkIHBhcmFtZXRlcnMgcHJvdmlkZWQgdG8gQV9FcnJvciBjb25zdHJ1Y3RvcidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIEFfRXJyb3IgaW5zdGFuY2UgZnJvbSBhIHN0YW5kYXJkIEVycm9yIG9iamVjdC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXJyb3IgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGZyb21FcnJvcihlcnJvcjogRXJyb3IpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBBX0NPTlNUQU5UU19fRVJST1JfQ09ERVMuVU5FWFBFQ1RFRF9FUlJPUjtcblxuICAgICAgICB0aGlzLl9hc2VpZCA9IG5ldyBBU0VJRCh7XG4gICAgICAgICAgICBjb25jZXB0OiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuY29uY2VwdCxcbiAgICAgICAgICAgIHNjb3BlOiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuc2NvcGUsXG4gICAgICAgICAgICBlbnRpdHk6ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5lbnRpdHksXG4gICAgICAgICAgICBpZDogdGhpcy5jb2RlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX29yaWdpbmFsRXJyb3IgPSBlcnJvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIEFfRXJyb3IgaW5zdGFuY2UgZnJvbSBhIG1lc3NhZ2UuXG4gICAgICogXG4gICAgICogQHBhcmFtIHRpdGxlIFxuICAgICAqIEBwYXJhbSBkZXNjcmlwdGlvbiBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZnJvbU1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTLlVORVhQRUNURURfRVJST1I7XG5cbiAgICAgICAgdGhpcy5fYXNlaWQgPSBuZXcgQVNFSUQoe1xuICAgICAgICAgICAgY29uY2VwdDogKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRXJyb3IpLmNvbmNlcHQsXG4gICAgICAgICAgICBzY29wZTogdGhpcy5fc2NvcGUgfHwgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRXJyb3IpLnNjb3BlLFxuICAgICAgICAgICAgZW50aXR5OiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuZW50aXR5LFxuICAgICAgICAgICAgaWQ6IHRoaXMuY29kZVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9saW5rID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9vcmlnaW5hbEVycm9yID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgQV9FcnJvciBpbnN0YW5jZSBmcm9tIGEgc2VyaWFsaXplZCBvYmplY3QuXG4gICAgICogXG4gICAgICogQHBhcmFtIHNlcmlhbGl6ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZnJvbUpTT04oc2VyaWFsaXplZDogX1NlcmlhbGl6ZWRUeXBlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2FzZWlkID0gbmV3IEFTRUlEKHNlcmlhbGl6ZWQuYXNlaWQpO1xuICAgICAgICBzdXBlci5tZXNzYWdlID0gc2VyaWFsaXplZC5tZXNzYWdlO1xuICAgICAgICB0aGlzLl90aXRsZSA9IHNlcmlhbGl6ZWQudGl0bGU7XG4gICAgICAgIHRoaXMuX2NvZGUgPSBzZXJpYWxpemVkLmNvZGU7XG4gICAgICAgIHRoaXMuX3Njb3BlID0gc2VyaWFsaXplZC5zY29wZTtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBzZXJpYWxpemVkLmRlc2NyaXB0aW9uO1xuICAgICAgICAvLyBOb3RlOiBvcmlnaW5hbEVycm9yIGlzIGRlc2VyaWFsaXplZCBhcyBtZXNzYWdlIG9ubHlcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxFcnJvciA9IHNlcmlhbGl6ZWQub3JpZ2luYWxFcnJvciA/IG5ldyBBX0Vycm9yKHNlcmlhbGl6ZWQub3JpZ2luYWxFcnJvcikgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2xpbmsgPSBzZXJpYWxpemVkLmxpbms7XG4gICAgfVxuXG5cblxuICAgIGZyb21UaXRsZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVUaXRsZSh0aXRsZSk7XG5cbiAgICAgICAgdGhpcy5fdGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcblxuICAgICAgICB0aGlzLl9hc2VpZCA9IG5ldyBBU0VJRCh7XG4gICAgICAgICAgICBjb25jZXB0OiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuY29uY2VwdCxcbiAgICAgICAgICAgIHNjb3BlOiB0aGlzLl9zY29wZSB8fCAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuc2NvcGUsXG4gICAgICAgICAgICBlbnRpdHk6ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5lbnRpdHksXG4gICAgICAgICAgICBpZDogdGhpcy5jb2RlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2xpbmsgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBBX0Vycm9yIGluc3RhbmNlIGZyb20gYSBjb25zdHJ1Y3RvciBwYXJhbWV0ZXJzIG9iamVjdC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBmcm9tQ29uc3RydWN0b3IocGFyYW1zOiBfQ29uc3RydWN0b3JUeXBlKTogdm9pZCB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVUaXRsZShwYXJhbXMudGl0bGUpO1xuXG4gICAgICAgIHRoaXMuX3RpdGxlID0gcGFyYW1zLnRpdGxlO1xuICAgICAgICB0aGlzLl9jb2RlID0gcGFyYW1zLmNvZGU7XG4gICAgICAgIHRoaXMuX3Njb3BlID0gcGFyYW1zLnNjb3BlID8gKEFfVHlwZUd1YXJkcy5pc1Njb3BlSW5zdGFuY2UocGFyYW1zLnNjb3BlKSA/IHBhcmFtcy5zY29wZS5uYW1lIDogcGFyYW1zLnNjb3BlKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICB0aGlzLl9hc2VpZCA9IG5ldyBBU0VJRCh7XG4gICAgICAgICAgICBjb25jZXB0OiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuY29uY2VwdCxcbiAgICAgICAgICAgIHNjb3BlOiB0aGlzLl9zY29wZSB8fCAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuc2NvcGUsXG4gICAgICAgICAgICBlbnRpdHk6ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5lbnRpdHksXG4gICAgICAgICAgICBpZDogdGhpcy5jb2RlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gcGFyYW1zLmRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLl9saW5rID0gcGFyYW1zLmxpbms7XG5cbiAgICAgICAgLy8gSGFuZGxlIG9yaWdpbmFsRXJyb3I6IGlmIGl0J3MgYW4gQV9FcnJvciwgd2Ugc2hvdWxkIHRyYWNlIGJhY2sgdG8gdGhlIHJvb3QgY2F1c2VcbiAgICAgICAgLy8gdG8gYXZvaWQgaW5maW5pdGUgbmVzdGluZyBvZiBBX0Vycm9yIGluc3RhbmNlc1xuICAgICAgICBpZiAocGFyYW1zLm9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBBX0Vycm9yKSB7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSByb290IG9yaWdpbmFsIGVycm9yIGJ5IHRyYXZlcnNpbmcgdGhlIGNoYWluXG4gICAgICAgICAgICBsZXQgcm9vdEVycm9yID0gcGFyYW1zLm9yaWdpbmFsRXJyb3I7XG4gICAgICAgICAgICB3aGlsZSAocm9vdEVycm9yLm9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBBX0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgcm9vdEVycm9yID0gcm9vdEVycm9yLm9yaWdpbmFsRXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXQgdGhlIHJvb3QgY2F1c2UgYXMgdGhlIG9yaWdpbmFsIGVycm9yXG4gICAgICAgICAgICB0aGlzLl9vcmlnaW5hbEVycm9yID0gcm9vdEVycm9yLm9yaWdpbmFsRXJyb3IgfHwgcm9vdEVycm9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxFcnJvciA9IHBhcmFtcy5vcmlnaW5hbEVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgQV9FcnJvciBpbnN0YW5jZSB0byBhIHBsYWluIG9iamVjdC5cbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICB0b0pTT04oKTogX1NlcmlhbGl6ZWRUeXBlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFzZWlkOiB0aGlzLmFzZWlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgICAgICAgIGNvZGU6IHRoaXMuY29kZSxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgICAgIGxpbms6IHRoaXMubGluayxcbiAgICAgICAgICAgIHNjb3BlOiB0aGlzLnNjb3BlLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBvcmlnaW5hbEVycm9yOiB0aGlzLm9yaWdpbmFsRXJyb3I/Lm1lc3NhZ2VcbiAgICAgICAgfSBhcyBfU2VyaWFsaXplZFR5cGU7XG4gICAgfVxuXG5cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gUFJPVEVDVEVEIEhFTFBFUlMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgcHJvdmlkZWQgdGl0bGUgZXhjZWVkcyA2MCBjaGFyYWN0ZXJzLlxuICAgICAqIElmIGl0IGRvZXMsIHRocm93cyBhIHZhbGlkYXRpb24gQV9FcnJvci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdGl0bGUgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHZhbGlkYXRlVGl0bGUodGl0bGU6IHN0cmluZykge1xuICAgICAgICBpZiAodGl0bGUubGVuZ3RoID4gNjApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0Vycm9yKFxuICAgICAgICAgICAgICAgIEFfQ09OU1RBTlRTX19FUlJPUl9DT0RFUy5WQUxJREFUSU9OX0VSUk9SLFxuICAgICAgICAgICAgICAgICdBLUVycm9yIHRpdGxlIGV4Y2VlZHMgNjAgY2hhcmFjdGVycyBsaW1pdC4nXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aXRsZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0Vycm9yKFxuICAgICAgICAgICAgICAgIEFfQ09OU1RBTlRTX19FUlJPUl9DT0RFUy5WQUxJREFUSU9OX0VSUk9SLFxuICAgICAgICAgICAgICAgICdBLUVycm9yIHRpdGxlIGNhbm5vdCBiZSBlbXB0eS4nXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuXG5cbi8vIG1lc3NhZ2UgPSB0aXRsZSArIGRlc2NyaXB0aW9uIGZvciBiZXR0ZXIgcHJpbnRpbmcgaW4gdGhlIGNvbnNvbGVcbi8vIGRlc2NyaXB0aW9uID0gZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVycm9yXG4vLyBjb2RlID0ga2ViYWJjYXNlICh0aXRsZSlcblxuIiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQVNFSURfRXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuXG4gICAgc3RhdGljIHJlYWRvbmx5IEFTRUlESW5pdGlhbGl6YXRpb25FcnJvciA9ICdBU0VJRCBJbml0aWFsaXphdGlvbiBFcnJvcic7XG4gICAgXG4gICAgc3RhdGljIHJlYWRvbmx5IEFTRUlEVmFsaWRhdGlvbkVycm9yID0gJ0FTRUlEIFZhbGlkYXRpb24gRXJyb3InO1xuXG59IiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fQVNFSURfQ29uc3RydWN0b3IsXG4gICAgQV9UWVBFU19fQVNFSURfSlNPTlxufSBmcm9tIFwiLi9BU0VJRC50eXBlc1wiO1xuaW1wb3J0IHsgQV9JZGVudGl0eUhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9JZGVudGl0eS5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIi4uL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFTRUlEX0Vycm9yIH0gZnJvbSBcIi4vQVNFSUQuZXJyb3JcIjtcbmltcG9ydCB7IEFfVFlQRVNfX1JlcXVpcmVkIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvdHlwZXMvQV9Db21tb24udHlwZXNcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBU0VJRCB7XG5cblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFNUQVRJQyBNRVRIT0RTID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBBU0VJRCBSZWd1bGFyIEV4cHJlc3Npb25cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgcmVnZXhwOiBSZWdFeHAgPSBuZXcgUmVnRXhwKGBeW2EtenxBLVp8MC05fC1dK0BbYS16fEEtWnwwLTl8XFwtXSs6W2EtenxBLVp8MC05fFxcLV0rOlthLXp8QS1afDAtOXxcXFxcLnwtXSsoQHZbMC05fFxcXFwuXSt8QGx0cyk/JGApXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgdGhlIGlkZW50aXR5IHN0cmluZyBpcyBhbiBBU0VJRFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBpZGVudGl0eSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNBU0VJRChpZGVudGl0eTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2V4cC50ZXN0KGlkZW50aXR5KVxuICAgIH1cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09IEhpZGRlbiBBU0VJRCBJbmZvcm1hdGlvbiA9PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBDb25jZXB0IGZvciB0aGUgQVNFSURcbiAgICAgKiBHZW5lcmFsbHkgaXQgaXMgdGhlIGFwcGxpY2F0aW9uIG5hbWUgb3IgY29kZSwgc2hvdWxkIGNvcnJlc3BvbmQgdG8gdGhlIGNvbmNlcHQgd2hlcmUgdGhlIGVudGl0eSBpcyB1c2VkXG4gICAgICogQ291bGQgYmUgSUQgb3IgQVNFSURcbiAgICAgKi9cbiAgICBwcml2YXRlIF9jb25jZXB0ITogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEVudGl0eSBTY29wZSB0aGUgcHJpbWFyeSBsb2NhdGlvbiBvZiB0aGUgcmVzb3VyY2UgXG4gICAgICogT3JnYW5pemF0aW9uLCBvciBvcmdhbml6YXRpb24gVW5pdFxuICAgICAqIENvdWxkIGJlIElEIG9yIEFTRUlEXG4gICAgICogXG4gICAgICovXG4gICAgcHJpdmF0ZSBfc2NvcGUhOiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBFbnRpdHkgVHlwZSB0aGUgdHlwZSBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKi9cbiAgICBwcml2YXRlIF9lbnRpdHkhOiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBFbnRpdHkgSUQgdGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSByZXNvdXJjZVxuICAgICAqL1xuICAgIHByaXZhdGUgX2lkITogc3RyaW5nXG4gICAgLyoqXG4gICAgICogVmVyc2lvbiBvZiB0aGUgZW50aXR5IChvcHRpb25hbClcbiAgICAgKi9cbiAgICBwcml2YXRlIF92ZXJzaW9uPzogc3RyaW5nXG4gICAgLyoqXG4gICAgICogU2hhcmQgb2YgdGhlIGVudGl0eSAob3B0aW9uYWwpXG4gICAgICovXG4gICAgcHJpdmF0ZSBfc2hhcmQ/OiBzdHJpbmdcblxuXG5cblxuXG5cbiAgICAvKipcbiAgICAgKiBBU0VJRCBpcyBhIHN0cnVjdHVyZWQgaWRlbnRpZmllciBmb3IgZW50aXRpZXMgaW4gdGhlIEEtQ29uY2VwdCBzeXN0ZW0uIFxuICAgICAqIHVzaW5nIHRoZSBmb3JtYXQ6XG4gICAgICogIEEgLSBBLUNvbmNlcHRcbiAgICAgKiAgUyAtIFN5c3RlbSBcbiAgICAgKiAgRSAtIEVudGl0eVxuICAgICAqICBJIC0gSWRlbnRpZmllclxuICAgICAqICBEIC0gaURlbnRpZmllclxuICAgICAqIFxuICAgICAqIFN0cnVjdHVyZTogQ09OQ0VQVF9OQU1FICsgQCArIFNDT1BFICsgOiBFTlRJVFlfTkFNRSArIDogKyBJRCArIEAgKyBWRVJTSU9OIFxuICAgICAqIFxuICAgICAqIEV4YW1wbGU6XG4gICAgICogIC0gcm9vdEBjb3JlOnVzcjowMDAwMDAwMDAxXG4gICAgICogXG4gICAgICogWyFdIENvbmNlcHQgaXMgb3B0aW9uYWwsIGlmIG5vdCBwcm92aWRlZCB3aWxsIGJlIHVzZWQgdGhlIGN1cnJlbnQgY29uY2VwdCBuYW1lXG4gICAgICogWyFdIFNjb3BlIGlzIG9wdGlvbmFsLCBpZiBub3QgcHJvdmlkZWQgd2lsbCBiZSB1c2VkIHRoZSByb290IHNjb3BlIG9mIHRoZSBjdXJyZW50IGNvbmNlcHRcbiAgICAgKiBbIV0gVmVyc2lvbiBpcyBvcHRpb25hbCwgaWYgbm90IHByb3ZpZGVkIHdpbGwgYmUgY29uc2lkZXJlZCBhcyBsYXRlc3QgdmVyc2lvblxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhc2VpZCAtIEFTRUlEIHN0cmluZyByZXByZXNlbnRhdGlvbiBvciBBU0VJRCBjb21wb25lbnRzIGFzIG9iamVjdFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogQVNFSUQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBhc2VpZDogc3RyaW5nXG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogQVNFSUQgY29tcG9uZW50cyBhcyBvYmplY3QgXG4gICAgICAgICAqL1xuICAgICAgICBwcm9wczogQV9UWVBFU19fUmVxdWlyZWQ8UGFydGlhbDxBX1RZUEVTX19BU0VJRF9Db25zdHJ1Y3Rvcj4sIFsnaWQnLCAnZW50aXR5J10+XG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKHBhcmFtMTogc3RyaW5nIHwgQV9UWVBFU19fUmVxdWlyZWQ8UGFydGlhbDxBX1RZUEVTX19BU0VJRF9Db25zdHJ1Y3Rvcj4sIFsnaWQnLCAnZW50aXR5J10+KSB7XG4gICAgICAgIHRoaXMudmVyaWZ5SW5wdXQocGFyYW0xKTtcblxuICAgICAgICBjb25zdCBpbml0aWFsaXplciA9IHRoaXMuZ2V0SW5pdGlhbGl6ZXIocGFyYW0xKTtcbiAgICAgICAgLy8gdGhlIHJldHVybmVkIGluaXRpYWxpemVyIGlzIGFscmVhZHkgYm91bmQgdG8gYHRoaXNgICh3ZSB1c2VkIC5iaW5kKHRoaXMpKSxcbiAgICAgICAgLy8gc28gY2FsbGluZyBpdCB3aWxsIHJ1biB0aGUgYXBwcm9wcmlhdGUgbG9naWMgb24gdGhpcyBpbnN0YW5jZTpcbiAgICAgICAgaW5pdGlhbGl6ZXIuY2FsbCh0aGlzLCBwYXJhbTEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlcnMgZm9yIEFTRUlEIGNvbXBvbmVudHNcbiAgICAgKi9cbiAgICBnZXQgY29uY2VwdCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uY2VwdCB8fCBBX0NvbnRleHQuY29uY2VwdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzY29wZSBvZiB0aGUgQVNFSURcbiAgICAgKi9cbiAgICBnZXQgc2NvcGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Njb3BlIHx8IEFfQ29udGV4dC5yb290Lm5hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZW50aXR5IG9mIHRoZSBBU0VJRFxuICAgICAqL1xuICAgIGdldCBlbnRpdHkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpZCBvZiB0aGUgQVNFSURcbiAgICAgKi9cbiAgICBnZXQgaWQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZlcnNpb24gb2YgdGhlIEFTRUlEIChpZiBhbnkpXG4gICAgICovXG4gICAgZ2V0IHZlcnNpb24oKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZlcnNpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2hhcmQgb2YgdGhlIEFTRUlEIChpZiBhbnkpXG4gICAgICovXG4gICAgZ2V0IHNoYXJkKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaGFyZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZXQgSW50ZXJuYWwgSW5pdGlhbGl6ZXIgYmFzZWQgb24gdGhlIHR5cGUgb2YgdGhlIHBhcmFtZXRlciBwcm92aWRlZFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbTEgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRJbml0aWFsaXplcihcbiAgICAgICAgcGFyYW0xOiBzdHJpbmcgfCBBX1RZUEVTX19SZXF1aXJlZDxQYXJ0aWFsPEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yPiwgWydpZCcsICdlbnRpdHknXT5cbiAgICApOiAocGFyYW0xOiBhbnkpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCkge1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVN0cmluZztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNPYmplY3Q8QV9UWVBFU19fQVNFSURfQ29uc3RydWN0b3I+KHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbU9iamVjdDtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQVNFSURfRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIEFTRUlEX0Vycm9yLkFTRUlESW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgJ0ludmFsaWQgcGFyYW1ldGVycyBwcm92aWRlZCB0byBBU0VJRCBjb25zdHJ1Y3RvcidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIEFTRUlEIGZyb20gc3RyaW5nXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtMSBcbiAgICAgKi9cbiAgICBwcml2YXRlIGZyb21TdHJpbmcocGFyYW0xOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgW2NvbmNlcHQsIGJvZHksIHZlcnNpb25dID0gcGFyYW0xLnNwbGl0KCdAJyk7XG4gICAgICAgIGNvbnN0IFtzY29wZSwgZW50aXR5LCBpZENhbmRpZGF0ZV0gPSBib2R5LnNwbGl0KCc6Jyk7XG5cbiAgICAgICAgY29uc3Qgc2hhcmQgPSBpZENhbmRpZGF0ZS5pbmNsdWRlcygnLicpID8gaWRDYW5kaWRhdGUuc3BsaXQoJy4nKVswXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgaWQgPSBpZENhbmRpZGF0ZS5pbmNsdWRlcygnLicpID8gaWRDYW5kaWRhdGUuc3BsaXQoJy4nKVsxXSA6IGlkQ2FuZGlkYXRlO1xuXG4gICAgICAgIHRoaXMuX2NvbmNlcHQgPSBjb25jZXB0IHx8IEFfQ29udGV4dC5yb290Lm5hbWU7XG4gICAgICAgIHRoaXMuX3Njb3BlID0gc2NvcGUgfHwgQV9Db250ZXh0LnJvb3QubmFtZTtcbiAgICAgICAgdGhpcy5fZW50aXR5ID0gZW50aXR5O1xuICAgICAgICB0aGlzLl9pZCA9IGlkO1xuICAgICAgICB0aGlzLl92ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy5fc2hhcmQgPSBzaGFyZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBBU0VJRCBmcm9tIG9iamVjdFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbTEgXG4gICAgICovXG4gICAgcHJpdmF0ZSBmcm9tT2JqZWN0KHBhcmFtMTogQV9UWVBFU19fUmVxdWlyZWQ8UGFydGlhbDxBX1RZUEVTX19BU0VJRF9Db25zdHJ1Y3Rvcj4sIFsnaWQnLCAnZW50aXR5J10+KSB7XG4gICAgICAgIHRoaXMuX2NvbmNlcHQgPSBwYXJhbTEuY29uY2VwdFxuICAgICAgICAgICAgPyBBU0VJRC5pc0FTRUlEKHBhcmFtMS5jb25jZXB0KVxuICAgICAgICAgICAgICAgID8gbmV3IEFTRUlEKHBhcmFtMS5jb25jZXB0KS5pZFxuICAgICAgICAgICAgICAgIDogcGFyYW0xLmNvbmNlcHRcbiAgICAgICAgICAgIDogQV9Db250ZXh0LmNvbmNlcHQ7XG5cbiAgICAgICAgdGhpcy5fc2NvcGUgPSBwYXJhbTEuc2NvcGVcbiAgICAgICAgICAgID8gQV9UeXBlR3VhcmRzLmlzTnVtYmVyKHBhcmFtMS5zY29wZSlcbiAgICAgICAgICAgICAgICA/IEFfSWRlbnRpdHlIZWxwZXIuZm9ybWF0V2l0aExlYWRpbmdaZXJvcyhwYXJhbTEuc2NvcGUpIDpcbiAgICAgICAgICAgICAgICBBU0VJRC5pc0FTRUlEKHBhcmFtMS5zY29wZSlcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgQVNFSUQocGFyYW0xLnNjb3BlKS5pZFxuICAgICAgICAgICAgICAgICAgICA6IHBhcmFtMS5zY29wZVxuICAgICAgICAgICAgOiBBX0NvbnRleHQucm9vdC5uYW1lXG5cbiAgICAgICAgdGhpcy5fZW50aXR5ID0gcGFyYW0xLmVudGl0eTtcblxuICAgICAgICB0aGlzLl9pZCA9IEFfVHlwZUd1YXJkcy5pc051bWJlcihwYXJhbTEuaWQpXG4gICAgICAgICAgICA/IEFfSWRlbnRpdHlIZWxwZXIuZm9ybWF0V2l0aExlYWRpbmdaZXJvcyhwYXJhbTEuaWQpXG4gICAgICAgICAgICA6IHBhcmFtMS5pZDtcblxuICAgICAgICB0aGlzLl92ZXJzaW9uID0gcGFyYW0xLnZlcnNpb247XG4gICAgICAgIHRoaXMuX3NoYXJkID0gcGFyYW0xLnNoYXJkO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBBU0VJRFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmNvbmNlcHR9QCR7dGhpcy5zY29wZX06JHt0aGlzLmVudGl0eX06JHt0aGlzLnNoYXJkID8gKHRoaXMuc2hhcmQgKyAnLicgKyB0aGlzLmlkKSA6IHRoaXMuaWR9JHt0aGlzLnZlcnNpb24gPyAoJ0AnICsgdGhpcy52ZXJzaW9uKSA6ICcnfWBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBBU0VJRFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvSlNPTigpOiBBX1RZUEVTX19BU0VJRF9KU09OIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbmNlcHQ6IHRoaXMuX2NvbmNlcHQsXG4gICAgICAgICAgICBzY29wZTogdGhpcy5fc2NvcGUsXG4gICAgICAgICAgICBlbnRpdHk6IHRoaXMuX2VudGl0eSxcbiAgICAgICAgICAgIGlkOiB0aGlzLl9pZCxcbiAgICAgICAgICAgIHZlcnNpb246IHRoaXMuX3ZlcnNpb24sXG4gICAgICAgICAgICBzaGFyZDogdGhpcy5fc2hhcmRcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gUFJPVEVDVEVEIEhFTFBFUlMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbiAgICBwcm90ZWN0ZWQgdmVyaWZ5SW5wdXQocGFyYW0xOiBzdHJpbmcgfCBBX1RZUEVTX19SZXF1aXJlZDxQYXJ0aWFsPEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yPiwgWydpZCcsICdlbnRpdHknXT4pIHtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIC8vIDEpIGNoZWNrIGZvciBzdHJpbmcgYW5kIHZhbGlkYXRlIGl0IGFzIEFTRUlEXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1N0cmluZyhwYXJhbTEpICYmICFBU0VJRC5pc0FTRUlEKHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFTRUlEX0Vycm9yKEFTRUlEX0Vycm9yLkFTRUlEVmFsaWRhdGlvbkVycm9yLCAnSW52YWxpZCBBU0VJRCBmb3JtYXQgcHJvdmlkZWQnKVxuXG4gICAgICAgICAgICAvLyAyKSBjaGVjayBmb3Igb2JqZWN0IGFuZCB2YWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzT2JqZWN0PEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yPihwYXJhbTEpICYmICFwYXJhbTEuaWQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFTRUlEX0Vycm9yKEFTRUlEX0Vycm9yLkFTRUlEVmFsaWRhdGlvbkVycm9yLCAnQVNFSUQgaWQgaXMgcmVxdWlyZWQnKVxuXG4gICAgICAgICAgICAvLyAzKSBjaGVjayBmb3Igb2JqZWN0IGFuZCB2YWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzT2JqZWN0PEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yPihwYXJhbTEpICYmICFwYXJhbTEuZW50aXR5OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBU0VJRF9FcnJvcihBU0VJRF9FcnJvci5BU0VJRFZhbGlkYXRpb25FcnJvciwgJ0FTRUlEIGVudGl0eSBpcyByZXF1aXJlZCcpXG5cbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX0VudGl0eUVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGZvciB2YWxpZGF0aW9uIGVycm9ycy5cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgVmFsaWRhdGlvbkVycm9yID0gJ0EtRW50aXR5IFZhbGlkYXRpb24gRXJyb3InO1xuXG59IiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fRW50aXR5X1NlcmlhbGl6ZWQsXG4gICAgQV9UWVBFU19fRW50aXR5X0luaXQsXG4gICAgQV9UWVBFU19fSUVudGl0eSxcbn0gZnJvbSBcIi4vQS1FbnRpdHkudHlwZXNcIjtcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCIuLi9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1Njb3BlIH0gZnJvbSBcIi4uL0EtU2NvcGUvQS1TY29wZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Gb3JtYXR0ZXJIZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfRm9ybWF0dGVyLmhlbHBlclwiO1xuaW1wb3J0IHsgQVNFSUQgfSBmcm9tIFwiLi4vQVNFSUQvQVNFSUQuY2xhc3NcIjtcbmltcG9ydCB7IEFfSWRlbnRpdHlIZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfSWRlbnRpdHkuaGVscGVyXCI7XG5pbXBvcnQgeyBBX0VudGl0eUVycm9yIH0gZnJvbSBcIi4vQS1FbnRpdHkuZXJyb3JcIjtcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BU0VJRF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BU0VJRC9BU0VJRC50eXBlc1wiO1xuXG5cbi8qKlxuICogQV9FbnRpdHkgaXMgYW5vdGhlciBhYnN0cmFjdGlvbiB0aGF0IGRlc2NyaWJlcyBhbGwgbWFqb3IgcGFydGljaXBhbnRzIGluIHRoZSBzeXN0ZW0gYnVzaW5lc3MgbG9naWMuXG4gKiBFYWNoIEVudGl0eSBzaG91bGQgaGF2ZSBhIGNsZWFyIGRlZmluaXRpb24gYW5kIGEgY2xlYXIgc2V0IG9mIHJlc3BvbnNpYmlsaXRpZXMuIFxuICogSG93ZXZlciwgZW50aXR5IG1heSBoaWRlIHNvbWUgb2YgaXRzIHJlc3BvbnNpYmlsaXRpZXMgYmVoaW5kIHRoZSBpbnRlcmZhY2UgdG8gcHJldmVudCBvdmVybG9hZC4gXG4gKiBcbiAqIEVhY2ggZW50aXR5IHNob3VsZCBiZSBjb25uZWN0ZWQgdG8gdGhlIENvbnRleHRGcmFnbWVudCAoU2NvcGUpIGFuZCBzaG91bGQgYmUgYWJsZSB0byBjb21tdW5pY2F0ZSB3aXRoIG90aGVyIGVudGl0aWVzLlxuICovXG5leHBvcnQgY2xhc3MgQV9FbnRpdHk8XG4gICAgX0NvbnN0cnVjdG9yVHlwZSBleHRlbmRzIEFfVFlQRVNfX0VudGl0eV9Jbml0ID0gQV9UWVBFU19fRW50aXR5X0luaXQsXG4gICAgX1NlcmlhbGl6ZWRUeXBlIGV4dGVuZHMgQV9UWVBFU19fRW50aXR5X1NlcmlhbGl6ZWQgPSBBX1RZUEVTX19FbnRpdHlfU2VyaWFsaXplZFxuPlxuICAgIGltcGxlbWVudHMgQV9UWVBFU19fSUVudGl0eSB7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PSBTdGF0aWMgQS1FbnRpdHkgSW5mb3JtYXRpb24gPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogRW50aXR5IElkZW50aWZpZXIgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgY2xhc3MgbmFtZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgZW50aXR5KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBBX0Zvcm1hdHRlckhlbHBlci50b0tlYmFiQ2FzZSh0aGlzLm5hbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBERUZBVUxUIENvbmNlcHQgTmFtZSAoQXBwbGljYXRpb24gTmFtZSkgb2YgdGhlIGVudGl0eSBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlIEFfQ09OQ0VQVF9OQU1FXG4gICAgICogWyFdIElmIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQsIGl0IHdpbGwgZGVmYXVsdCB0byAnYS1jb25jZXB0J1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgY29uY2VwdCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LmNvbmNlcHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERFRkFVTFQgU2NvcGUgb2YgdGhlIGVudGl0eSBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlIEFfQ09OQ0VQVF9ERUZBVUxUX1NDT1BFXG4gICAgICogWyFdIElmIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQsIGl0IHdpbGwgZGVmYXVsdCB0byAnY29yZSdcbiAgICAgKiBbIV0gU2NvcGUgaXMgYW4gYXBwbGljYXRpb24gc3BlY2lmaWMgaWRlbnRpZmllciB0aGF0IGNhbiBiZSB1c2VkIHRvIGdyb3VwIGVudGl0aWVzIHRvZ2V0aGVyXG4gICAgICogWyFdIGUuZy4gJ2RlZmF1bHQnLCAnY29yZScsICdwdWJsaWMnLCAnaW50ZXJuYWwnLCBldGNcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHNjb3BlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQucm9vdC5uYW1lO1xuICAgIH1cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PSBJbnN0YW5jZSBBLUVudGl0eSBJbmZvcm1hdGlvbiA9PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBBU0VJRCBpcyBhbiBlbnRpdHkgaWRlbnRpZmllciB0aGF0IGlzIHVuaXF1ZSBhY3Jvc3MgdGhlIHN5c3RlbVxuICAgICAqIEEgLSBBX0NvbmNlcHQgb3IgQXBwbGljYXRpb25cbiAgICAgKiBTIC0gU3lzdGVtIG9yIFNjb3BlXG4gICAgICogRSAtIEVudGl0eVxuICAgICAqIElEIC0gSWRlbnRpZmllclxuICAgICAqIFxuICAgICAqIFshXSBBU0VJRCBpcyBpbW11dGFibGUgYW5kIHNob3VsZCBub3QgYmUgY2hhbmdlZCBhZnRlciB0aGUgZW50aXR5IGlzIGNyZWF0ZWRcbiAgICAgKiBcbiAgICAgKiBbIV0gQVNFSUQgaXMgY29tcG9zZWQgb2YgdGhlIGZvbGxvd2luZyBwYXJ0czpcbiAgICAgKiAtIGNvbmNlcHQ6IGFuIGFwcGxpY2F0aW9uIHNwZWNpZmljIGlkZW50aWZpZXIgZnJvbSB3aGVyZSB0aGUgZW50aXR5IGlzIGNvbWluZyBmcm9tXG4gICAgICogLSBzY29wZTogdGhlIHNjb3BlIG9mIHRoZSBlbnRpdHkgZnJvbSBjb25jZXB0XG4gICAgICogLSBlbnRpdHk6IHRoZSBuYW1lIG9mIHRoZSBlbnRpdHkgZnJvbSBjb25jZXB0XG4gICAgICogLSBpZDogdGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBlbnRpdHlcbiAgICAgKlxuICAgICAqIFshXSBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBBU0VJRCwgcGxlYXNlIHJlZmVyIHRvIHRoZSBBU0VJRCBjbGFzcyBkb2N1bWVudGF0aW9uXVxuICAgICAqL1xuICAgIGFzZWlkITogQVNFSUQ7XG5cblxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEFfZW50aXR5IGluc3RhbmNlIGZyb20gQXNlaWQgU3RyaW5nXG4gICAgICogZS5nLiBwcm9qZWN0QHNjb3BlOmVudGl0eTowMDAwMDAwMDAxXG4gICAgICogXG4gICAgICogQHBhcmFtIGFzZWlkIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogQVNFSUQgc3RyaW5nIHRoYXQgcmVwcmVzZW50cyB0aGUgZW50aXR5XG4gICAgICAgICAqL1xuICAgICAgICBhc2VpZD86IHN0cmluZ1xuICAgIClcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQV9lbnRpdHkgaW5zdGFuY2UgZnJvbSBBc2VpZCBpbnN0YW5jZVxuICAgICAqIGUuZy4gbmV3IEFTRUlEKHtjb25jZXB0OiAncHJvamVjdCcsIHNjb3BlOiAnZGVmYXVsdCcsIGVudGl0eTogJ2VudGl0eScsIGlkOiAnMDAwMDAwMDAwMSd9KVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhc2VpZCBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFTRUlEIGluc3RhbmNlIHRoYXQgcmVwcmVzZW50cyB0aGUgZW50aXR5XG4gICAgICAgICAqL1xuICAgICAgICBhc2VpZDogQVNFSURcbiAgICApXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEFfZW50aXR5IGluc3RhbmNlIGZyb20gc2VyaWFsaXplZCBvYmplY3RcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2VyaWFsaXplZCBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlcmlhbGl6ZWQgb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgZW50aXR5XG4gICAgICAgICAqL1xuICAgICAgICBzZXJpYWxpemVkOiBfU2VyaWFsaXplZFR5cGVcbiAgICApXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEFfZW50aXR5IGluc3RhbmNlIGZyb20gY29uc3RydWN0b3Igb2JqZWN0XG4gICAgICogXG4gICAgICogQHBhcmFtIG5ld0VudGl0eSBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnN0cnVjdG9yIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgdGhlIGVudGl0eVxuICAgICAgICAgKi9cbiAgICAgICAgbmV3RW50aXR5PzogX0NvbnN0cnVjdG9yVHlwZVxuICAgIClcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcz86IHN0cmluZyB8IEFTRUlEIHwgX1NlcmlhbGl6ZWRUeXBlIHwgX0NvbnN0cnVjdG9yVHlwZSkge1xuXG4gICAgICAgIGNvbnN0IGluaXRpYWxpemVyID0gdGhpcy5nZXRJbml0aWFsaXplcihwcm9wcyk7XG4gICAgICAgIC8vIHRoZSByZXR1cm5lZCBpbml0aWFsaXplciBpcyBhbHJlYWR5IGJvdW5kIHRvIGB0aGlzYCAod2UgdXNlZCAuYmluZCh0aGlzKSksXG4gICAgICAgIC8vIHNvIGNhbGxpbmcgaXQgd2lsbCBydW4gdGhlIGFwcHJvcHJpYXRlIGxvZ2ljIG9uIHRoaXMgaW5zdGFuY2U6XG4gICAgICAgIGluaXRpYWxpemVyLmNhbGwodGhpcywgcHJvcHMpO1xuICAgIH1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PSBEVVBMSUNBVEVEIEFTRUlEIEdldHRlcnMgPT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSBJRCBmcm9tIHRoZSBBU0VJRFxuICAgICAqIElEIGlzIHRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgZW50aXR5XG4gICAgICovXG4gICAgZ2V0IGlkKCk6IHN0cmluZyB8IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzZWlkLmlkO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09IENvbnN0cnVjdG9yIEhlbHBlcnMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbiAgICAvLyAtLS0gVHlwZSBndWFyZHMgdXNlZCB0byBjbGFzc2lmeSBgcHJvcHNgIHByb3Blcmx5IC0tLVxuICAgIHByb3RlY3RlZCBpc1N0cmluZ0FTRUlEKHg6IHVua25vd24pOiB4IGlzIHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzdHJpbmdcIiAmJiBBU0VJRC5pc0FTRUlEKHgpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBpc0FTRUlESW5zdGFuY2UoeDogdW5rbm93bik6IHggaXMgQVNFSUQge1xuICAgICAgICByZXR1cm4geCBpbnN0YW5jZW9mIEFTRUlEO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgXCJzZXJpYWxpemVkXCIgb2JqZWN0IGlzIGNvbnNpZGVyZWQgc3VjaCBpZiBpdCBpcyBhIG5vbi1udWxsIG9iamVjdCBcbiAgICAgKiBhbmQgY29udGFpbnMgYW4gXCJhc2VpZFwiIHByb3BlcnR5ICh0aGlzIG1pcnJvcnMgeW91ciBvcmlnaW5hbCBjaGVjaykuIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB4IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpc1NlcmlhbGl6ZWRPYmplY3QoeDogdW5rbm93bik6IHggaXMgX1NlcmlhbGl6ZWRUeXBlIHtcbiAgICAgICAgcmV0dXJuICEheCAmJiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiBcImFzZWlkXCIgaW4gKHggYXMgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3Rvci1zdHlsZSBwcm9wcyA9IGEgcGxhaW4gb2JqZWN0IHdoaWNoIGRvZXMgTk9UIGNvbnRhaW4gXCJhc2VpZFwiLlxuICAgICAqIFRoaXMgaXMgdGhlIFwiY3JlYXRlIGZyb20gcHJvdmlkZWQgZmllbGRzXCIgY2FzZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0geCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgaXNDb25zdHJ1Y3RvclByb3BzKHg6IHVua25vd24pOiB4IGlzIF9Db25zdHJ1Y3RvclR5cGUge1xuICAgICAgICByZXR1cm4gISF4ICYmIHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmICEoXCJhc2VpZFwiIGluICh4IGFzIG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIGFwcHJvcHJpYXRlIGluaXRpYWxpemVyIG1ldGhvZCBiYXNlZCBvbiB0aGUgdHlwZSBvZiBgcHJvcHNgLlxuICAgICAqIFRoZSBtZXRob2QgY2hlY2tzIGlmIGBwcm9wc2AgaXM6ICBcbiAgICAgKiAxKSBhIHN0cmluZyB0aGF0IG1hdGNoZXMgQVNFSUQgZm9ybWF0IC0+IGZyb21BU0VJRFxuICAgICAqIDIpIGFuIEFTRUlEIGluc3RhbmNlIC0+IGZyb21BU0VJRFxuICAgICAqIDMpIGEgc2VyaWFsaXplZCBvYmplY3QgKGhhcyAnYXNlaWQnKSAtPiBmcm9tSlNPTlxuICAgICAqIDQpIGEgcGxhaW4gb2JqZWN0IHdpdGggbm8gJ2FzZWlkJyAtPiB0cmVhdCBhcyBjb25zdHJ1Y3RvciBwcm9wcyAtPiBmcm9tTmV3XG4gICAgICogXG4gICAgICogWyFdIElmIGBwcm9wc2AgaXMgdW5kZWZpbmVkLCBpdCB3aWxsIGNhbGwgZnJvbVVuZGVmaW5lZCBtZXRob2RcbiAgICAgKiBcbiAgICAgKiBJZiBub25lIG9mIHRoZSBhYm92ZSwgaXQgdGhyb3dzIGFuIGVycm9yIGluZGljYXRpbmcgaW5jb3JyZWN0IGNvbnN0cnVjdG9yIHVzYWdlLlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIFRvIGdldCBhIGN1c3RvbSBpbml0aWFsaXplciwgb3ZlcnJpZGUgdGhpcyBtZXRob2QgaW4gdGhlIGNoaWxkIGNsYXNzLlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIHByb3RlY3RlZCBnZXRJbml0aWFsaXplcihcbiAgICAgKiAgIHByb3BzPzogc3RyaW5nIHwgQVNFSUQgfCBfU2VyaWFsaXplZFR5cGUgfCBfQ29uc3RydWN0b3JUeXBlXG4gICAgICogKTogKHByb3BzOiBhbnkpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCkge1xuICAgICAqICAgaWYoJ2N1c3RvbUZpZWxkJyBpbiBwcm9wcykge1xuICAgICAqICAgICAgIHJldHVybiB0aGlzLmZyb21DdXN0b21GaWVsZC5iaW5kKHRoaXMpO1xuICAgICAqICAgfVxuICAgICAqICAgcmV0dXJuIHN1cGVyLmdldEluaXRpYWxpemVyKHByb3BzKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICogQHBhcmFtIHByb3BzXG4gICAgICogQHJldHVybnMgVGhlIGFwcHJvcHJpYXRlIGluaXRpYWxpemVyIG1ldGhvZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRJbml0aWFsaXplcihcbiAgICAgICAgcHJvcHM/OiBzdHJpbmcgfCBBU0VJRCB8IF9TZXJpYWxpemVkVHlwZSB8IF9Db25zdHJ1Y3RvclR5cGVcbiAgICApOiAocHJvcHM6IGFueSkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKSB7XG5cbiAgICAgICAgaWYgKCFwcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVVuZGVmaW5lZFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gMSkgc3RyaW5nIHRoYXQgbWF0Y2hlcyBBU0VJRCBmb3JtYXQgLT4gZnJvbUFTRUlEXG4gICAgICAgIGlmICh0aGlzLmlzU3RyaW5nQVNFSUQocHJvcHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tQVNFSUQgYXMgKHA6IHN0cmluZykgPT4gdm9pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDIpIEFTRUlEIGluc3RhbmNlIC0+IGZyb21BU0VJRFxuICAgICAgICBpZiAodGhpcy5pc0FTRUlESW5zdGFuY2UocHJvcHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tQVNFSUQgYXMgKHA6IEFTRUlEKSA9PiB2b2lkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMykgc2VyaWFsaXplZCBvYmplY3QgKGhhcyAnYXNlaWQnKSAtPiBmcm9tSlNPTlxuICAgICAgICBpZiAodGhpcy5pc1NlcmlhbGl6ZWRPYmplY3QocHJvcHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tSlNPTiBhcyAocDogX1NlcmlhbGl6ZWRUeXBlKSA9PiB2b2lkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNCkgcGxhaW4gb2JqZWN0IHdpdGggbm8gJ2FzZWlkJyAtPiB0cmVhdCBhcyBjb25zdHJ1Y3RvciBwcm9wcyAtPiBmcm9tTmV3XG4gICAgICAgIGlmICh0aGlzLmlzQ29uc3RydWN0b3JQcm9wcyhwcm9wcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21OZXcgYXMgKHA6IF9Db25zdHJ1Y3RvclR5cGUpID0+IHZvaWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBub25lIG9mIHRoZSBhYm92ZSAtPiB0aHJvdyBjb25zaXN0ZW50IGVycm9yXG4gICAgICAgIHRocm93IG5ldyBBX0VudGl0eUVycm9yKEFfRW50aXR5RXJyb3IuVmFsaWRhdGlvbkVycm9yLCAnVW5hYmxlIHRvIGRldGVybWluZSBBLUVudGl0eSBjb25zdHJ1Y3RvciBpbml0aWFsaXphdGlvbiBtZXRob2QuIFBsZWFzZSBjaGVjayB0aGUgcHJvdmlkZWQgcGFyYW1ldGVycy4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBuZXcgQVNFSUQgZm9yIHRoZSBlbnRpdHkuIFxuICAgICAqIEl0IHVzZXMgY2xhc3MgZGVmaW5pdGlvbnMgZm9yIGNvbmNlcHQsIHNjb3BlLCBhbmQgZW50aXR5LFxuICAgICAqIGFuZCBhbGxvd3Mgb3ZlcnJpZGluZyBhbnkgb2YgdGhlc2UgdmFsdWVzLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBvdmVycmlkZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2VuZXJhdGVBU0VJRChvdmVycmlkZT86IFBhcnRpYWw8QV9UWVBFU19fQVNFSURfQ29uc3RydWN0b3I+KTogQVNFSUQge1xuICAgICAgICByZXR1cm4gbmV3IEFTRUlEKHtcbiAgICAgICAgICAgIGNvbmNlcHQ6IG92ZXJyaWRlPy5jb25jZXB0IHx8ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0VudGl0eSkuY29uY2VwdCxcbiAgICAgICAgICAgIHNjb3BlOiBvdmVycmlkZT8uc2NvcGUgfHwgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRW50aXR5KS5zY29wZSxcbiAgICAgICAgICAgIGVudGl0eTogb3ZlcnJpZGU/LmVudGl0eSB8fCAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FbnRpdHkpLmVudGl0eSxcbiAgICAgICAgICAgIGlkOiBvdmVycmlkZT8uaWQgfHwgQV9JZGVudGl0eUhlbHBlci5nZW5lcmF0ZVRpbWVJZCgpXG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ2FsbCBhIGZlYXR1cmUgb2YgdGhlIGNvbXBvbmVudCB3aXRoIHRoZSBwcm92aWRlZCBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBJZiB0aGUgcHJvdmlkZWQgc2NvcGUgaXMgbm90IGluaGVyaXRlZCBmcm9tIHRoZSBlbnRpdHkgc2NvcGUsIGl0IHdpbGwgYmUgaW5oZXJpdGVkXG4gICAgICogXG4gICAgICogQHBhcmFtIGxpZmVjeWNsZU1ldGhvZCBcbiAgICAgKiBAcGFyYW0gYXJncyBcbiAgICAgKi9cbiAgICBhc3luYyBjYWxsKFxuICAgICAgICBmZWF0dXJlOiBzdHJpbmcsXG4gICAgICAgIHNjb3BlPzogQV9TY29wZVxuICAgICkge1xuICAgICAgICBjb25zdCBuZXdGZWF0dXJlID0gbmV3IEFfRmVhdHVyZSh7XG4gICAgICAgICAgICBuYW1lOiBmZWF0dXJlLFxuICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzLFxuICAgICAgICAgICAgc2NvcGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ld0ZlYXR1cmUucHJvY2VzcyhzY29wZSk7XG4gICAgfVxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PSBFbnRpdHkgQmFzZSBNZXRob2RzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IG1ldGhvZCB0aGF0IGNhbiBiZSBjYWxsZWQgYW5kIGV4dGVuZGVkIHRvIGxvYWQgZW50aXR5IGRhdGEuXG4gICAgICovXG4gICAgYXN5bmMgbG9hZChcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlLFxuICAgICkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdsb2FkJywgc2NvcGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IG1ldGhvZCB0aGF0IGNhbiBiZSBjYWxsZWQgYW5kIGV4dGVuZGVkIHRvIGRlc3Ryb3kgZW50aXR5IGRhdGEuXG4gICAgICovXG4gICAgYXN5bmMgZGVzdHJveShzY29wZT86IEFfU2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnZGVzdHJveScsIHNjb3BlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBtZXRob2QgdGhhdCBjYW4gYmUgY2FsbGVkIGFuZCBleHRlbmRlZCB0byBzYXZlIGVudGl0eSBkYXRhLlxuICAgICAqL1xuICAgIGFzeW5jIHNhdmUoc2NvcGU/OiBBX1Njb3BlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ3NhdmUnLCBzY29wZSk7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09IEVudGl0eSBTZXJpYWxpemF0aW9uID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGVudGl0eSBmcm9tIEFTRUlEIHN0cmluZyBvciBpbnN0YW5jZVxuICAgICAqIFshXSBFeGVjdXRlZCB3aGVuIHRoZSBjb25zdHJ1Y3RvciBpcyBjYWxsZWQgd2l0aCBhIHN0cmluZyBvciBBU0VJRCBpbnN0YW5jZSB0aGF0IHJlcHJlc2VudHMgdGhlIEFTRUlEXG4gICAgICogWyFdIEV4ZWN1dGVzIEJ5IERlZmF1bHQgd2l0aCBuZXcgQV9FbnRpdHkoJ2FzZWlkLXN0cmluZycpIG9yIG5ldyBBX0VudGl0eShuZXcgQVNFSUQoLi4uKSkgaWYgZ2V0SW5pdGlhbGl6ZXIgaGFzIG5vdCBiZWVuIG92ZXJyaWRkZW5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gYXNlaWQgXG4gICAgICovXG4gICAgZnJvbUFTRUlEKGFzZWlkOiBzdHJpbmcgfCBBU0VJRCk6IHZvaWQge1xuICAgICAgICBpZiAoYXNlaWQgaW5zdGFuY2VvZiBBU0VJRClcbiAgICAgICAgICAgIHRoaXMuYXNlaWQgPSBhc2VpZDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5hc2VpZCA9IG5ldyBBU0VJRChhc2VpZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgY2FzZSB3aGVuIG5vIHByb3BzIGFyZSBwcm92aWRlZCB0byB0aGUgY29uc3RydWN0b3IuXG4gICAgICogVGhpcyBtZXRob2QgY2FuIGJlIG92ZXJyaWRkZW4gaW4gY2hpbGQgY2xhc3NlcyB0byBzZXQgZGVmYXVsdCB2YWx1ZXMgb3IgcGVyZm9ybSBzcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYy5cbiAgICAgKiBCeSBkZWZhdWx0LCBpdCBkb2VzIG5vdGhpbmcuXG4gICAgICogXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZnJvbVVuZGVmaW5lZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hc2VpZCA9IHRoaXMuZ2VuZXJhdGVBU0VJRCgpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBlbnRpdHkgZnJvbSBjb25zdHJ1Y3RvciBvYmplY3RcbiAgICAgKiBbIV0gRXhlY3V0ZWQgd2hlbiB0aGUgY29uc3RydWN0b3IgaXMgY2FsbGVkIHdpdGggYW4gb2JqZWN0IHRoYXQgZG9lcyBub3QgY29udGFpbiBcImFzZWlkXCIgcHJvcGVydHlcbiAgICAgKiBbIV0gRXhlY3V0ZXMgQnkgRGVmYXVsdCB3aXRoIG5ldyBBX0VudGl0eSh7fSkgaWYgZ2V0SW5pdGlhbGl6ZXIgaGFzIG5vdCBiZWVuIG92ZXJyaWRkZW5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbmV3RW50aXR5IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGZyb21OZXcobmV3RW50aXR5OiBfQ29uc3RydWN0b3JUeXBlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYXNlaWQgPSAgdGhpcy5nZW5lcmF0ZUFTRUlEKCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBlbnRpdHkgZnJvbSBzZXJpYWxpemVkIG9iamVjdFxuICAgICAqIFxuICAgICAqIFshXSBFeGVjdXRlZCB3aGVuIHRoZSBjb25zdHJ1Y3RvciBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3QgdGhhdCBjb250YWlucyBcImFzZWlkXCIgcHJvcGVydHlcbiAgICAgKiBbIV0gRXhlY3V0ZXMgQnkgRGVmYXVsdCB3aXRoIG5ldyBBX0VudGl0eSh7IGFzZWlkOiAnLi4uJyB9KSBpZiBnZXRJbml0aWFsaXplciBoYXMgbm90IGJlZW4gb3ZlcnJpZGRlblxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzZXJpYWxpemVkIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGZyb21KU09OKHNlcmlhbGl6ZWQ6IF9TZXJpYWxpemVkVHlwZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmFzZWlkID0gbmV3IEFTRUlEKHNlcmlhbGl6ZWQuYXNlaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBlbnRpdHkgdG8gYSBKU09OIG9iamVjdCBcbiAgICAgKiBbIV0gVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGV4dGVuZGVkIGluIHRoZSBjaGlsZCBjbGFzc2VzIHRvIGluY2x1ZGUgYWxsIHByb3BlcnRpZXMgb2YgdGhlIGVudGl0eVxuICAgICAqIFshXSBJbmNsdWRlcyBhc2VpZCBieSBkZWZhdWx0IFxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvSlNPTigpOiBfU2VyaWFsaXplZFR5cGUge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXNlaWQ6IHRoaXMuYXNlaWQudG9TdHJpbmcoKVxuICAgICAgICB9IGFzIF9TZXJpYWxpemVkVHlwZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZW50aXR5XG4gICAgICogd2hhdCBpcyBiYXNpY2FsbHkgdGhlIEFTRUlEIHN0cmluZ1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzZWlkID8gdGhpcy5hc2VpZC50b1N0cmluZygpIDogdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSBcIi4uL0EtTWV0YS9BLU1ldGEuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0VudGl0eU1ldGEgfSBmcm9tIFwiLi9BLUVudGl0eS50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5TWV0YUtleSB9IGZyb20gXCIuL0EtRW50aXR5LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGEgfSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSB9IGZyb20gXCIuLi9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0VudGl0eU1ldGEgZXh0ZW5kcyBBX01ldGE8QV9UWVBFU19fRW50aXR5TWV0YT4ge1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgZmVhdHVyZXMgZGVmaW5lZCBpbiB0aGUgQ29udGFpbmVyXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZmVhdHVyZXMoKTogQXJyYXk8QV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGE+IHtcblxuICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMuZ2V0KEFfVFlQRVNfX0VudGl0eU1ldGFLZXkuRkVBVFVSRVMpO1xuXG4gICAgICAgIHJldHVybiBmZWF0dXJlcz8udG9BcnJheSgpXG4gICAgICAgICAgICAvLyByZXR1cm5zIGFsbCBleHRlbnNpb25zIHRoYXQgbWF0Y2ggdGhlIGZlYXR1cmVcbiAgICAgICAgICAgIC5tYXAoKFssIGZlYXR1cmVdKSA9PiBmZWF0dXJlKSB8fCBbXTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBnZXQgYWxsIHRoZSBpbmplY3Rpb25zIGZvciBhIGdpdmVuIGhhbmRsZXJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaGFuZGxlciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBpbmplY3Rpb25zKFxuICAgICAgICBoYW5kbGVyOiBzdHJpbmdcbiAgICApOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhIHtcbiAgICAgICAgY29uc3QgaW5qZWN0aW9ucyA9IHRoaXMuZ2V0KEFfVFlQRVNfX0VudGl0eU1ldGFLZXkuSU5KRUNUSU9OUyk7XG5cbiAgICAgICAgY29uc3QgYXJncyA9IGluamVjdGlvbnM/LmdldChoYW5kbGVyKSB8fCBbXTtcblxuICAgICAgICByZXR1cm4gYXJncztcbiAgICB9XG5cbn0iLCAiaW1wb3J0IHsgQV9UWVBFU19fRGVlcFBhcnRpYWwgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC90eXBlcy9BX0NvbW1vbi50eXBlc1wiO1xuaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSBcIi4uL0EtTWV0YS9BLU1ldGEuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0ZyYWdtZW50X0luaXQsIEFfVFlQRVNfX0ZyYWdtZW50X1NlcmlhbGl6ZWQgfSBmcm9tIFwiLi9BLUZyYWdtZW50LnR5cGVzXCI7XG5cblxuLyoqXG4gKiBBX0ZyYWdtZW50IGlzIGEgY29yZSBhcmNoaXRlY3R1cmFsIGNvbXBvbmVudCB0aGF0IHJlcHJlc2VudHMgYSBzaW5nbGV0b24gZXhlY3V0aW9uIGNvbnRleHRcbiAqIHdpdGhpbiB0aGUgQS1Db25jZXB0IGZyYW1ld29yay4gSXQgc2VydmVzIGFzIGEgc2hhcmVkIG1lbW9yeSBjb250YWluZXIgdGhhdCBjYW4gYmUgcGFzc2VkXG4gKiBiZXR3ZWVuIENvbXBvbmVudHMsIEVudGl0aWVzLCBhbmQgQ29tbWFuZHMgdGhyb3VnaG91dCB0aGUgYXBwbGljYXRpb24gcGlwZWxpbmUuXG4gKiBcbiAqIEtleSBGZWF0dXJlczpcbiAqIC0gU2luZ2xldG9uIHBhdHRlcm46IE9ubHkgb25lIGluc3RhbmNlIHBlciBmcmFnbWVudCB0eXBlIHBlciBzY29wZVxuICogLSBNZXRhIHN0b3JhZ2U6IEJ1aWx0LWluIGtleS12YWx1ZSBzdG9yYWdlIGZvciBwaXBlbGluZSBkYXRhXG4gKiAtIFR5cGUtc2FmZTogRnVsbCBUeXBlU2NyaXB0IGdlbmVyaWNzIHN1cHBvcnQgZm9yIG1ldGEgaXRlbXMgYW5kIHNlcmlhbGl6YXRpb25cbiAqIC0gU2VyaWFsaXphYmxlOiBDYW4gYmUgY29udmVydGVkIHRvIEpTT04gZm9yIHBlcnNpc3RlbmNlIG9yIHRyYW5zbWlzc2lvblxuICogXG4gKiBAdGVtcGxhdGUgX01ldGFJdGVtcyAtIFR5cGUgZGVmaW5pdGlvbiBmb3IgdGhlIG1ldGEgc3RvcmFnZSBzdHJ1Y3R1cmVcbiAqIEB0ZW1wbGF0ZSBfU2VyaWFsaXplZFR5cGUgLSBUeXBlIGRlZmluaXRpb24gZm9yIHRoZSBzZXJpYWxpemVkIG91dHB1dCBmb3JtYXRcbiAqIFxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIC8vIEJhc2ljIHVzYWdlIHdpdGggdHlwZWQgbWV0YVxuICogY2xhc3MgVXNlckZyYWdtZW50IGV4dGVuZHMgQV9GcmFnbWVudDx7IHVzZXJJZDogc3RyaW5nOyByb2xlOiBzdHJpbmcgfT4ge1xuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICBzdXBlcih7IG5hbWU6ICdVc2VyRnJhZ21lbnQnIH0pO1xuICogICB9XG4gKiB9ICAgIFxuICogXG4gKiAvLyBDdXN0b20gc2VyaWFsaXphdGlvblxuICogY2xhc3MgU2Vzc2lvbkZyYWdtZW50IGV4dGVuZHMgQV9GcmFnbWVudDxcbiAqICAgeyBzZXNzaW9uSWQ6IHN0cmluZzsgdGltZXN0YW1wOiBudW1iZXIgfSxcbiAqICAgeyBuYW1lOiBzdHJpbmc7IHNlc3Npb25EYXRhOiBzdHJpbmcgfVxuICogPiB7XG4gKiAgIHRvSlNPTigpIHtcbiAqICAgICByZXR1cm4ge1xuICogICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICogICAgICAgc2Vzc2lvbkRhdGE6IGAke3RoaXMuZ2V0KCdzZXNzaW9uSWQnKX0tJHt0aGlzLmdldCgndGltZXN0YW1wJyl9YFxuICogICAgIH07XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgQV9GcmFnbWVudDxcbiAgICBfU2VyaWFsaXplZFR5cGUgZXh0ZW5kcyBBX1RZUEVTX19GcmFnbWVudF9TZXJpYWxpemVkID0gQV9UWVBFU19fRnJhZ21lbnRfU2VyaWFsaXplZFxuPiB7XG4gICAgLyoqXG4gICAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyL25hbWUgZm9yIHRoaXMgZnJhZ21lbnQgaW5zdGFuY2UuXG4gICAgICogVXNlZCBmb3IgaWRlbnRpZmljYXRpb24gYW5kIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX25hbWU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgQV9GcmFnbWVudCBpbnN0YW5jZS5cbiAgICAgKiBcbiAgICAgKiBBX0ZyYWdtZW50IGltcGxlbWVudHMgdGhlIHNpbmdsZXRvbiBwYXR0ZXJuIGZvciBleGVjdXRpb24gY29udGV4dHMsIGFsbG93aW5nXG4gICAgICogc2hhcmVkIHN0YXRlIG1hbmFnZW1lbnQgYWNyb3NzIGRpZmZlcmVudCBwYXJ0cyBvZiB0aGUgYXBwbGljYXRpb24gcGlwZWxpbmUuXG4gICAgICogRWFjaCBmcmFnbWVudCBzZXJ2ZXMgYXMgYSBtZW1vcnkgY29udGFpbmVyIHRoYXQgY2FuIHN0b3JlIHR5cGVkIGRhdGEgYW5kIGJlXG4gICAgICogc2VyaWFsaXplZCBmb3IgcGVyc2lzdGVuY2Ugb3IgdHJhbnNtaXNzaW9uLlxuICAgICAqIFxuICAgICAqIEtleSBCZW5lZml0czpcbiAgICAgKiAtIENlbnRyYWxpemVkIHN0YXRlIG1hbmFnZW1lbnQgZm9yIHJlbGF0ZWQgb3BlcmF0aW9uc1xuICAgICAqIC0gVHlwZS1zYWZlIG1ldGEgb3BlcmF0aW9ucyB3aXRoIGZ1bGwgSW50ZWxsaVNlbnNlIHN1cHBvcnRcbiAgICAgKiAtIFNlcmlhbGl6YXRpb24gc3VwcG9ydCBmb3IgZGF0YSBwZXJzaXN0ZW5jZSBcbiAgICAgKiAtIFNpbmdsZXRvbiBwYXR0ZXJuIGVuc3VyZXMgY29uc2lzdGVudCBzdGF0ZSB3aXRoaW4gc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIC0gSW5pdGlhbGl6YXRpb24gcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBwYXJhbXMubmFtZSAtIE9wdGlvbmFsIGN1c3RvbSBuYW1lIGZvciB0aGUgZnJhZ21lbnQgKGRlZmF1bHRzIHRvIGNsYXNzIG5hbWUpXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgZnJhZ21lbnQgPSBuZXcgQV9GcmFnbWVudDx7IHVzZXJJZDogc3RyaW5nIH0+KHsgXG4gICAgICogICBuYW1lOiAnVXNlclNlc3Npb25GcmFnbWVudCcgXG4gICAgICogfSk7XG4gICAgICogZnJhZ21lbnQuc2V0KCd1c2VySWQnLCAnMTIzNDUnKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihwYXJhbXM6IFBhcnRpYWw8QV9UWVBFU19fRnJhZ21lbnRfSW5pdD4gPSB7fSkge1xuICAgICAgICB0aGlzLl9uYW1lID0gcGFyYW1zLm5hbWUgfHwgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZyYWdtZW50J3MgdW5pcXVlIG5hbWUvaWRlbnRpZmllci5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBUaGUgZnJhZ21lbnQgbmFtZVxuICAgICAqL1xuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIGZyYWdtZW50IHRvIGEgSlNPTi1jb21wYXRpYmxlIG9iamVjdC5cbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBjb21iaW5lcyB0aGUgZnJhZ21lbnQncyBuYW1lIHdpdGggYWxsIG1ldGEgZGF0YSB0byBjcmVhdGVcbiAgICAgKiBhIHNlcmlhbGl6YWJsZSByZXByZXNlbnRhdGlvbi4gVGhlIHJldHVybiB0eXBlIGlzIGRldGVybWluZWQgYnkgdGhlXG4gICAgICogX1NlcmlhbGl6ZWRUeXBlIGdlbmVyaWMgcGFyYW1ldGVyLCBhbGxvd2luZyBmb3IgY3VzdG9tIHNlcmlhbGl6YXRpb24gZm9ybWF0cy5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBBIHNlcmlhbGl6ZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIGZyYWdtZW50XG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgZnJhZ21lbnQgPSBuZXcgQV9GcmFnbWVudDx7IHVzZXJJZDogc3RyaW5nLCByb2xlOiBzdHJpbmcgfT4oe1xuICAgICAqICAgbmFtZTogJ1VzZXJGcmFnbWVudCdcbiAgICAgKiB9KTtcbiAgICAgKiBmcmFnbWVudC5zZXQoJ3VzZXJJZCcsICcxMjM0NScpO1xuICAgICAqIGZyYWdtZW50LnNldCgncm9sZScsICdhZG1pbicpO1xuICAgICAqIFxuICAgICAqIGNvbnN0IGpzb24gPSBmcmFnbWVudC50b0pTT04oKTtcbiAgICAgKiAvLyBSZXN1bHQ6IHsgbmFtZTogJ1VzZXJGcmFnbWVudCcsIHVzZXJJZDogJzEyMzQ1Jywgcm9sZTogJ2FkbWluJyB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgdG9KU09OKCk6IF9TZXJpYWxpemVkVHlwZSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0IGFzIF9TZXJpYWxpemVkVHlwZTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfVFlQRVNfX0RlZXBQYXJ0aWFsIH0gZnJvbSBcIi4uL3R5cGVzL0FfQ29tbW9uLnR5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBBX0NvbW1vbkhlbHBlciB7XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgaW1tZWRpYXRlbHkuXG4gICAgICogQ2FuIGJlIHVzZWQgaW4gYXN5bmMgZnVuY3Rpb25zIHRvIGNyZWF0ZSBhIHJlc29sdmVkIHByb21pc2UuXG4gICAgICovXG4gICAgc3RhdGljIHJlc29sdmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4gcmVzb2x2ZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIGNsYXNzIGlzIGluaGVyaXRlZCBmcm9tIGFub3RoZXIgY2xhc3NcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY2hpbGRDbGFzcyBcbiAgICAgKiBAcGFyYW0gcGFyZW50Q2xhc3MgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzSW5oZXJpdGVkRnJvbShjaGlsZENsYXNzOiBhbnksIHBhcmVudENsYXNzOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBjaGlsZENsYXNzO1xuXG4gICAgICAgIC8vIFRyYXZlcnNlIHRoZSBwcm90b3R5cGUgY2hhaW5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBwYXJlbnRDbGFzcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHBhcmVudCBjbGFzc2VzIG9mIGEgZ2l2ZW4gY2xhc3NcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY2hpbGRDbGFzcyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0UGFyZW50Q2xhc3NlcyhjaGlsZENsYXNzOiBhbnkpOiBhbnlbXSB7XG5cbiAgICAgICAgLy8gZmlyc3Qgd2UgbmVlZCB0byBjaGVjayBpcyB0aGF0IGEgY29uc3RydWN0b3Igb3IgaW5zdGFuY2VcbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0eXBlb2YgY2hpbGRDbGFzcyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2hpbGRDbGFzcylcbiAgICAgICAgICAgIDogT2JqZWN0LmdldFByb3RvdHlwZU9mKGNoaWxkQ2xhc3MuY29uc3RydWN0b3IpO1xuXG4gICAgICAgIGNvbnN0IHBhcmVudHMgPSBbXSBhcyBhbnlbXTtcblxuICAgICAgICAvLyBUcmF2ZXJzZSB0aGUgcHJvdG90eXBlIGNoYWluXG4gICAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IEZ1bmN0aW9uLnByb3RvdHlwZSkge1xuICAgICAgICAgICAgcGFyZW50cy5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgY3VycmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyZW50cztcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY2xhc3MgaW5oZXJpdGFuY2UgY2hhaW4gYXMgYW4gYXJyYXkgb2YgY2xhc3MgbmFtZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY2hpbGRDbGFzcyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0Q2xhc3NJbmhlcml0YW5jZUNoYWluKGNoaWxkQ2xhc3M6IGFueSk6IGFueVtdIHtcblxuICAgICAgICAvLyAgZmlyc3Qgd2UgbmVlZCB0byBjaGVjayBpcyB0aGF0IGEgY29uc3RydWN0b3Igb3IgaW5zdGFuY2VcbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0eXBlb2YgY2hpbGRDbGFzcyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2hpbGRDbGFzcylcbiAgICAgICAgICAgIDogT2JqZWN0LmdldFByb3RvdHlwZU9mKGNoaWxkQ2xhc3MuY29uc3RydWN0b3IpO1xuXG4gICAgICAgIC8vICB0aGVuIGlmIGlucHV0IGlzIGluc3RhbmNlIHdlIGhhdmUgdG8gaW5jbHVkZSBpdHMgb3duIGNsYXNzIG5hbWVcbiAgICAgICAgY29uc3QgY2hhaW4gPSB0eXBlb2YgY2hpbGRDbGFzcyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBbY2hpbGRDbGFzc11cbiAgICAgICAgICAgIDogW2NoaWxkQ2xhc3MuY29uc3RydWN0b3JdO1xuXG5cbiAgICAgICAgLy8gVHJhdmVyc2UgdGhlIHByb3RvdHlwZSBjaGFpblxuICAgICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSBGdW5jdGlvbi5wcm90b3R5cGUpIHtcbiAgICAgICAgICAgIGNoYWluLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICBjdXJyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFpbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBhcmVudCBjbGFzcyBvZiBhIGdpdmVuIGNsYXNzXG4gICAgICogXG4gICAgICogQHBhcmFtIGNoaWxkQ2xhc3MgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGdldFBhcmVudENsYXNzKGNoaWxkQ2xhc3M6IGFueSk6IGFueSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2hpbGRDbGFzcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIE9taXQgcHJvcGVydGllcyBmcm9tIGFuIG9iamVjdCBvciBhcnJheSB3aXRoIG5lc3RlZCBvYmplY3RzXG4gICAgICogXG4gICAgICogQHBhcmFtIGlucHV0IFxuICAgICAqIEBwYXJhbSBwYXRocyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgb21pdFByb3BlcnRpZXM8VCwgUyBleHRlbmRzIHN0cmluZz4oXG4gICAgICAgIGlucHV0OiBULFxuICAgICAgICBwYXRoczogc3RyaW5nW11cblxuICAgICk6IE9taXQ8VCwgUz4ge1xuXG4gICAgICAgIC8vIERlZXAgY2xvbmUgdGhlIGlucHV0IG9iamVjdCBvciBhcnJheVxuICAgICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGlucHV0KSk7XG5cbiAgICAgICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHJlY3Vyc2l2ZWx5IHJlbW92ZSBwcm9wZXJ0aWVzXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZVByb3BlcnRpZXModGFyZ2V0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgYW55W10sIGN1cnJQYXRoOiBzdHJpbmdbXSkge1xuICAgICAgICAgICAgY29uc3QgY3VycktleSA9IGN1cnJQYXRoWzBdO1xuICAgICAgICAgICAgaWYgKGN1cnJQYXRoLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIElmIGN1cnJlbnQgcGF0aCBoYXMgb25seSBvbmUga2V5LCBkZWxldGUgdGhlIHByb3BlcnR5XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRhcmdldFtjdXJyS2V5XTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0W2N1cnJLZXldICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHRhcmdldFtjdXJyS2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBjdXJyZW50IGtleSBleGlzdHMgYW5kIGlzIGFuIG9iamVjdCwgcmVjdXJzaXZlbHkgY2FsbCByZW1vdmVQcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgcmVtb3ZlUHJvcGVydGllcyh0YXJnZXRbY3VycktleV0sIGN1cnJQYXRoLnNsaWNlKDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBlYWNoIHBhdGggYW5kIHJlbW92ZSBjb3JyZXNwb25kaW5nIHByb3BlcnRpZXMgZnJvbSB0aGUgcmVzdWx0XG4gICAgICAgIHBhdGhzLmZvckVhY2gocGF0aCA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoS2V5cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIHJlbW92ZVByb3BlcnRpZXMocmVzdWx0LCBwYXRoS2V5cyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQgYXMgT21pdDxULCBTPjtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBpc09iamVjdChpdGVtOiB1bmtub3duKTogaXRlbSBpcyBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IG51bGwgJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGl0ZW0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZWVwTWVyZ2U8VCA9IGFueT4odGFyZ2V0OiBhbnksIHNvdXJjZTogYW55LCB2aXNpdGVkID0gbmV3IE1hcDxhbnksIGFueT4oKSk6IFQge1xuICAgICAgICBpZiAodGhpcy5pc09iamVjdCh0YXJnZXQpICYmIHRoaXMuaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNPYmplY3Qoc291cmNlW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0W2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0ge307XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNvdXJjZSBvYmplY3QgaGFzIGFscmVhZHkgYmVlbiB2aXNpdGVkXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmlzaXRlZC5oYXMoc291cmNlW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpdGVkLnNldChzb3VyY2Vba2V5XSwge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWVwTWVyZ2UodGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldLCB2aXNpdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gdmlzaXRlZC5nZXQoc291cmNlW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBkZWVwQ2xvbmU8VD4odGFyZ2V0OiBUKTogVCB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSB2YWx1ZSBpcyBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAodGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIHByaW1pdGl2ZSB0eXBlcyAoc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4sIGV0Yy4pXG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBEYXRlXG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodGFyZ2V0LmdldFRpbWUoKSkgYXMgVDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBBcnJheVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lm1hcChpdGVtID0+IHRoaXMuZGVlcENsb25lKGl0ZW0pKSBhcyB1bmtub3duIGFzIFQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgRnVuY3Rpb25cbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgT2JqZWN0XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lID0ge30gYXMgVDtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBjbG9uZVtrZXldID0gdGhpcy5kZWVwQ2xvbmUodGFyZ2V0W2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjbG9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBhbnkgb3RoZXIgY2FzZXNcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY2xvbmUgdGhlIG9iamVjdC4gVW5zdXBwb3J0ZWQgdHlwZS4nKTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBkZWVwQ2xvbmVBbmRNZXJnZTxUPih0YXJnZXQ6IEFfVFlQRVNfX0RlZXBQYXJ0aWFsPFQ+LCBzb3VyY2U6IFQpOiBUIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKHNvdXJjZSA9PT0gbnVsbCB8fCBzb3VyY2UgPT09IHVuZGVmaW5lZCkgJiZcbiAgICAgICAgICAgICh0YXJnZXQgPT09IG51bGwgfHwgdGFyZ2V0ID09PSB1bmRlZmluZWQpKVxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgdmFsdWUgaXMgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKCh0YXJnZXQgPT09IG51bGwgfHwgdGFyZ2V0ID09PSB1bmRlZmluZWQpICYmXG4gICAgICAgICAgICBzb3VyY2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWVwQ2xvbmUoc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBwcmltaXRpdmUgdHlwZXMgKHN0cmluZywgbnVtYmVyLCBib29sZWFuLCBldGMuKVxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gSGFuZGxlIERhdGVcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0YXJnZXQuZ2V0VGltZSgpKSBhcyBUO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIEFycmF5XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQubWFwKGl0ZW0gPT4gdGhpcy5kZWVwQ2xvbmVBbmRNZXJnZShpdGVtLCBzb3VyY2UpKSBhcyB1bmtub3duIGFzIFQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgRnVuY3Rpb25cbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgT2JqZWN0XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lID0ge30gYXMgVDtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgc291cmNlW2tleV0gIT09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgJiZcbiAgICAgICAgICAgICAgICAgICAgc291cmNlW2tleV0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVba2V5XSA9IHRoaXMuZGVlcENsb25lQW5kTWVyZ2UodGFyZ2V0W2tleSBhcyBhbnldLCBzb3VyY2Vba2V5XSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjbG9uZVtrZXkgYXMgYW55XSA9IHRoaXMuZGVlcENsb25lKHRhcmdldFtrZXldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICYmXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldICE9PSBudWxsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBjbG9uZVtrZXldID0gdGhpcy5kZWVwQ2xvbmVBbmRNZXJnZSh0YXJnZXRba2V5XSwgc291cmNlW2tleV0pO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVba2V5XSA9IHRoaXMuZGVlcENsb25lKHNvdXJjZVtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjbG9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBhbnkgb3RoZXIgY2FzZXNcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY2xvbmUgdGhlIG9iamVjdC4gVW5zdXBwb3J0ZWQgdHlwZS4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSByZWFkYWJsZSBuYW1lIGZvciBhIGNvbXBvbmVudCAoc3RyaW5nLCBjbGFzcywgZnVuY3Rpb24sIFJlYWN0IGVsZW1lbnQsIGluc3RhbmNlLCBldGMuKVxuICAgICAqXG4gICAgICogQ292ZXJzOlxuICAgICAqIC0gc3RyaW5nIHRhZ3MgKFwiZGl2XCIpXG4gICAgICogLSBzeW1ib2xzIChTeW1ib2wuZm9yKCd4eHgnKSlcbiAgICAgKiAtIGZ1bmN0aW9ucyBhbmQgY2xhc3NlcyAod2l0aCBuYW1lIG9yIGRpc3BsYXlOYW1lKVxuICAgICAqIC0gUmVhY3QgZWxlbWVudHMgKG9iamVjdCB3aXRoIGB0eXBlYClcbiAgICAgKiAtIGNvbXBvbmVudCBpbnN0YW5jZXMgKGNvbnN0cnVjdG9yLm5hbWUpXG4gICAgICogLSBvYmplY3RzIHdpdGggY3VzdG9tIHRvU3RyaW5nIHJldHVybmluZyBtZWFuaW5nZnVsIGluZm9cbiAgICAgKlxuICAgICAqIEZhbGxzIGJhY2sgdG8gc2Vuc2libGUgZGVmYXVsdHMgKFwiVW5rbm93blwiIC8gXCJBbm9ueW1vdXNcIikuXG4gICAgICovXG4gICAgc3RhdGljIGdldENvbXBvbmVudE5hbWUoY29tcG9uZW50OiBhbnkpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBVTktOT1dOID0gJ1Vua25vd24nO1xuICAgICAgICBjb25zdCBBTk9OWU1PVVMgPSAnQW5vbnltb3VzJztcblxuICAgICAgICBpZiAoY29tcG9uZW50ID09PSBudWxsIHx8IGNvbXBvbmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gVU5LTk9XTjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0cmluZ3MgKEhUTUwgdGFncyBvciBleHBsaWNpdCBuYW1lcylcbiAgICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50IHx8IFVOS05PV047XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTeW1ib2xzXG4gICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50ID09PSAnc3ltYm9sJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcG9uZW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gVU5LTk9XTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFycmF5cyAtIHRyeSB0byBkZXJpdmUgZnJvbSBmaXJzdCBlbGVtZW50XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQubGVuZ3RoID09PSAwKSByZXR1cm4gVU5LTk9XTjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENvbXBvbmVudE5hbWUoY29tcG9uZW50WzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZ1bmN0aW9ucyBhbmQgY2xhc3Nlc1xuICAgICAgICBpZiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgZm5BbnkgPSBjb21wb25lbnQgYXMgYW55O1xuICAgICAgICAgICAgLy8gQ29tbW9uIFJlYWN0IGNvbnZlbnRpb25cbiAgICAgICAgICAgIGlmIChmbkFueS5kaXNwbGF5TmFtZSkgcmV0dXJuIFN0cmluZyhmbkFueS5kaXNwbGF5TmFtZSk7XG4gICAgICAgICAgICBpZiAoZm5BbnkubmFtZSkgcmV0dXJuIFN0cmluZyhmbkFueS5uYW1lKTtcblxuICAgICAgICAgICAgLy8gVHJ5IHRvIGV4dHJhY3QgYSBuYW1lIGZyb20gc291cmNlIGlmIHBvc3NpYmxlXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNyYyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgLy8gY2xhc3MgRm9vIHsgLi4uIH0gb3IgZnVuY3Rpb24gZm9vKCkgeyAuLi4gfSBvciBmb28gPT4gLi4uXG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBzcmMubWF0Y2goL14oPzpjbGFzc1xccysoW0EtWmEtejAtOV8kXSspfGZ1bmN0aW9uXFxzKyhbQS1aYS16MC05XyRdKyl8KFtBLVphLXowLTlfJF0rKVxccyo9PikvKTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoWzFdIHx8IG1hdGNoWzJdIHx8IG1hdGNoWzNdIHx8IEFOT05ZTU9VUztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvLyBmYWxsdGhyb3VnaFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEFOT05ZTU9VUztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9iamVjdHMgKGluc3RhbmNlcywgUmVhY3QgZWxlbWVudHMsIHBsYWluIG9iamVjdHMpXG4gICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3Qgb2JqQW55ID0gY29tcG9uZW50IGFzIGFueTtcblxuICAgICAgICAgICAgLy8gUmVhY3QgZWxlbWVudDogeyB0eXBlOiBDb21wb25lbnRPclN0cmluZywgcHJvcHM6IC4uLiB9XG4gICAgICAgICAgICBpZiAob2JqQW55LnR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb21wb25lbnROYW1lKG9iakFueS50eXBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVhY3QgZm9yd2FyZFJlZiAvIG1lbW8gd3JhcHBlcnMgb2Z0ZW4gZXhwb3NlIGRpc3BsYXlOYW1lXG4gICAgICAgICAgICBpZiAob2JqQW55LmRpc3BsYXlOYW1lKSByZXR1cm4gU3RyaW5nKG9iakFueS5kaXNwbGF5TmFtZSk7XG4gICAgICAgICAgICBpZiAob2JqQW55Lm5hbWUpIHJldHVybiBTdHJpbmcob2JqQW55Lm5hbWUpO1xuXG4gICAgICAgICAgICAvLyBJbnN0YW5jZTogdXNlIGNvbnN0cnVjdG9yIG5hbWUgaWYgYXZhaWxhYmxlIGFuZCBub3QgT2JqZWN0XG4gICAgICAgICAgICBpZiAob2JqQW55LmNvbnN0cnVjdG9yICYmIG9iakFueS5jb25zdHJ1Y3Rvci5uYW1lICYmIG9iakFueS5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnT2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcob2JqQW55LmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiBvYmplY3QgaW1wbGVtZW50cyBhIG1lYW5pbmdmdWwgdG9TdHJpbmcsIHRyeSBpdFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gb2JqQW55LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzID09PSAnc3RyaW5nJyAmJiBzICE9PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvLyBpZ25vcmVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEFOT05ZTU9VUztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZhbGxiYWNrIGZvciBvdGhlciB0eXBlc1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhjb21wb25lbnQpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBVTktOT1dOO1xuICAgICAgICB9XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuXG5leHBvcnQgY2xhc3MgQV9TY29wZUVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cblxuICAgIHN0YXRpYyByZWFkb25seSBJbml0aWFsaXphdGlvbkVycm9yID0gJ0EtU2NvcGUgSW5pdGlhbGl6YXRpb24gRXJyb3InO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IENvbnN0cnVjdG9yRXJyb3IgPSAnVW5hYmxlIHRvIGNvbnN0cnVjdCBBLVNjb3BlIGluc3RhbmNlJztcblxuICAgIHN0YXRpYyByZWFkb25seSBSZXNvbHV0aW9uRXJyb3IgPSAnQS1TY29wZSBSZXNvbHV0aW9uIEVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBSZWdpc3RyYXRpb25FcnJvciA9ICdBLVNjb3BlIFJlZ2lzdHJhdGlvbiBFcnJvcic7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgQ2lyY3VsYXJJbmhlcml0YW5jZUVycm9yID0gJ0EtU2NvcGUgQ2lyY3VsYXIgSW5oZXJpdGFuY2UgRXJyb3InO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IERlcmVnaXN0cmF0aW9uRXJyb3IgPSAnQS1TY29wZSBEZXJlZ2lzdHJhdGlvbiBFcnJvcic7XG59IiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fU2NvcGVDb25maWcsXG4gICAgQV9UWVBFU19fU2NvcGVfSW5pdCxcbiAgICBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMsXG4gICAgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cyxcbiAgICBBX1RZUEVTX19TY29wZV9Db25zdHJ1Y3RvcixcbiAgICBBX1RZUEVTX19TY29wZUxpbmtlZENvbnN0cnVjdG9yc1xufSBmcm9tICcuL0EtU2NvcGUudHlwZXMnXG5pbXBvcnQge1xuICAgIEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX0VudGl0eUluamVjdGlvbkluc3RydWN0aW9ucyxcbiAgICBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25RdWVyeSxcbiAgICBBX1RZUEVTX19JbmplY3RhYmxlQ29uc3RydWN0b3JzLFxufSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1JbmplY3QvQS1JbmplY3QudHlwZXNcIjtcbmltcG9ydCB7IEFfRnJhZ21lbnQgfSBmcm9tIFwiLi4vQS1GcmFnbWVudC9BLUZyYWdtZW50LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiLi4vQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db21wb25lbnQgfSBmcm9tIFwiLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQuY2xhc3NcIjtcbmltcG9ydCB7IEFfRW50aXR5IH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0Zvcm1hdHRlckhlbHBlciB9IGZyb20gJ0BhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0Zvcm1hdHRlci5oZWxwZXInO1xuaW1wb3J0IHsgQVNFSUQgfSBmcm9tICcuLi9BU0VJRC9BU0VJRC5jbGFzcyc7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gJ0BhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0NvbW1vbi5oZWxwZXInO1xuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIH0gZnJvbSAnLi4vQS1FbnRpdHkvQS1FbnRpdHkudHlwZXMnO1xuaW1wb3J0IHsgQV9TY29wZUVycm9yIH0gZnJvbSAnLi9BLVNjb3BlLmVycm9yJztcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gJy4uL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LnR5cGVzJztcbmltcG9ydCB7IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yIH0gZnJvbSAnLi4vQS1GcmFnbWVudC9BLUZyYWdtZW50LnR5cGVzJztcbmltcG9ydCB7IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yIH0gZnJvbSAnLi4vQS1FcnJvci9BX0Vycm9yLnR5cGVzJztcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tICcuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHMnO1xuaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSAnLi4vQS1NZXRhL0EtTWV0YS5jbGFzcyc7XG5cblxuXG5cbmV4cG9ydCBjbGFzcyBBX1Njb3BlPFxuICAgIF9NZXRhSXRlbXMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gYW55LFxuICAgIF9Db21wb25lbnRUeXBlIGV4dGVuZHMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yW10gPSBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3JbXSxcbiAgICBfRXJyb3JUeXBlIGV4dGVuZHMgQV9UWVBFU19fRXJyb3JfQ29uc3RydWN0b3JbXSA9IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yW10sXG4gICAgX0VudGl0eVR5cGUgZXh0ZW5kcyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3JbXSA9IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcltdLFxuICAgIF9GcmFnbWVudFR5cGUgZXh0ZW5kcyBBX0ZyYWdtZW50W10gPSBBX0ZyYWdtZW50W10sXG4+IHtcblxuICAgIC8qKlxuICAgICAqIFNjb3BlIE5hbWUgdXNlcyBmb3IgaWRlbnRpZmljYXRpb24gYW5kIGxvZ2dpbmcgcHVycG9zZXNcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX25hbWUhOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogUGFyZW50IHNjb3BlIHJlZmVyZW5jZSwgdXNlZCBmb3IgaW5oZXJpdGFuY2Ugb2YgY29tcG9uZW50cywgZnJhZ21lbnRzLCBlbnRpdGllcyBhbmQgY29tbWFuZHNcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3BhcmVudD86IEFfU2NvcGU7XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgbWV0YSBzdG9yYWdlIHVzaW5nIEFfTWV0YSBmb3IgdHlwZS1zYWZlIGtleS12YWx1ZSBvcGVyYXRpb25zLlxuICAgICAqIFRoaXMgc3RvcmVzIGFsbCB0aGUgc2NvcGUncyBydW50aW1lIGRhdGEgdGhhdCBjYW4gYmUgYWNjZXNzZWQgYW5kIG1vZGlmaWVkXG4gICAgICogdGhyb3VnaG91dCB0aGUgZXhlY3V0aW9uIHBpcGVsaW5lIG9yIHdpdGhpbiBydW5uaW5nIGNvbnRhaW5lcnMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9tZXRhOiBBX01ldGE8X01ldGFJdGVtcz4gPSBuZXcgQV9NZXRhPF9NZXRhSXRlbXM+KCk7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLUFMTG93ZWQgQ29uc3RydWN0b3JzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBBIHNldCBvZiBhbGxvd2VkIGNvbXBvbmVudHMsIEEgc2V0IG9mIGNvbnN0cnVjdG9ycyB0aGF0IGFyZSBhbGxvd2VkIGluIHRoZSBzY29wZVxuICAgICAqICAgICAgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9hbGxvd2VkQ29tcG9uZW50cyA9IG5ldyBTZXQ8X0NvbXBvbmVudFR5cGVbbnVtYmVyXT4oKTtcbiAgICAvKipcbiAgICAgKiBBIHNldCBvZiBhbGxvd2VkIGVycm9ycywgQSBzZXQgb2YgY29uc3RydWN0b3JzIHRoYXQgYXJlIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9hbGxvd2VkRXJyb3JzID0gbmV3IFNldDxfRXJyb3JUeXBlW251bWJlcl0+KCk7XG4gICAgLyoqXG4gICAgICogQSBzZXQgb2YgYWxsb3dlZCBlbnRpdGllcywgQSBzZXQgb2YgY29uc3RydWN0b3JzIHRoYXQgYXJlIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9hbGxvd2VkRW50aXRpZXMgPSBuZXcgU2V0PF9FbnRpdHlUeXBlW251bWJlcl0+KCk7XG4gICAgLyoqXG4gICAgICogQSBzZXQgb2YgYWxsb3dlZCBmcmFnbWVudHMsIEEgc2V0IG9mIGNvbnN0cnVjdG9ycyB0aGF0IGFyZSBhbGxvd2VkIGluIHRoZSBzY29wZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfYWxsb3dlZEZyYWdtZW50cyA9IG5ldyBTZXQ8QV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPj4oKTtcblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLUludGVybmFsIFN0b3JhZ2UtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFN0b3JhZ2UgZm9yIHRoZSBjb21wb25lbnRzLCBzaG91bGQgYmUgc3Ryb25nIGFzIGNvbXBvbmVudHMgYXJlIHVuaXF1ZSBwZXIgc2NvcGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2NvbXBvbmVudHM6IE1hcDxfQ29tcG9uZW50VHlwZVtudW1iZXJdLCBJbnN0YW5jZVR5cGU8X0NvbXBvbmVudFR5cGVbbnVtYmVyXT4+ID0gbmV3IE1hcCgpO1xuICAgIC8qKlxuICAgICAqIFN0b3JhZ2UgZm9yIHRoZSBlcnJvcnMsIHNob3VsZCBiZSBzdHJvbmcgYXMgZXJyb3JzIGFyZSB1bmlxdWUgcGVyIGNvZGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2Vycm9yczogTWFwPHN0cmluZywgSW5zdGFuY2VUeXBlPF9FcnJvclR5cGVbbnVtYmVyXT4+ID0gbmV3IE1hcCgpO1xuICAgIC8qKlxuICAgICAqIFN0b3JhZ2UgZm9yIHRoZSBlbnRpdGllcywgc2hvdWxkIGJlIHN0cm9uZyBhcyBlbnRpdGllcyBhcmUgdW5pcXVlIHBlciBhc2VpZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfZW50aXRpZXM6IE1hcDxzdHJpbmcsIEluc3RhbmNlVHlwZTxfRW50aXR5VHlwZVtudW1iZXJdPj4gPSBuZXcgTWFwKCk7XG4gICAgLyoqXG4gICAgICogU3RvcmFnZSBmb3IgdGhlIGZyYWdtZW50cywgc2hvdWxkIGJlIHdlYWsgYXMgZnJhZ21lbnRzIGFyZSBzaW5nbGV0b25zIHBlciBzY29wZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfZnJhZ21lbnRzOiBNYXA8QV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPiwgX0ZyYWdtZW50VHlwZVtudW1iZXJdPiA9IG5ldyBNYXAoKTtcblxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tUmVhZG9ubHkgQWxsb3dlZCBQcm9wZXJ0aWVzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5hbWUgb2YgdGhlIHNjb3BlXG4gICAgICovXG4gICAgZ2V0IG5hbWUoKSB7IHJldHVybiB0aGlzLl9uYW1lIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtZXRhIG9iamVjdCBvZiB0aGUgc2NvcGVcbiAgICAgKi9cbiAgICBnZXQgbWV0YSgpIHsgcmV0dXJuIHRoaXMuX21ldGEgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIENvbnN0cnVjdG9ycyBmb3IgQS1Db21wb25lbnRzIHRoYXQgYXJlIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgKi9cbiAgICBnZXQgYWxsb3dlZENvbXBvbmVudHMoKSB7IHJldHVybiB0aGlzLl9hbGxvd2VkQ29tcG9uZW50cyB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgQ29uc3RydWN0b3JzIGZvciBBLUVudGl0aWVzIHRoYXQgYXJlIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgKi9cbiAgICBnZXQgYWxsb3dlZEVudGl0aWVzKCkgeyByZXR1cm4gdGhpcy5fYWxsb3dlZEVudGl0aWVzIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBDb25zdHJ1Y3RvcnMgZm9yIEEtRnJhZ21lbnRzIHRoYXQgYXJlIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgKi9cbiAgICBnZXQgYWxsb3dlZEZyYWdtZW50cygpIHsgcmV0dXJuIHRoaXMuX2FsbG93ZWRGcmFnbWVudHMgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIENvbnN0cnVjdG9ycyBmb3IgQS1FcnJvcnMgdGhhdCBhcmUgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAqL1xuICAgIGdldCBhbGxvd2VkRXJyb3JzKCkgeyByZXR1cm4gdGhpcy5fYWxsb3dlZEVycm9ycyB9XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1SZWFkb25seSBSZWdpc3RlcmVkIFByb3BlcnRpZXMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gQXJyYXkgb2YgZW50aXRpZXMgcmVnaXN0ZXJlZCBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gT25lIGVudGl0eSBwZXIgYXNlaWRcbiAgICAgKi9cbiAgICBnZXQgZW50aXRpZXMoKTogQXJyYXk8SW5zdGFuY2VUeXBlPF9FbnRpdHlUeXBlW251bWJlcl0+PiB7IHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2VudGl0aWVzLnZhbHVlcygpKSB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBBcnJheSBvZiBmcmFnbWVudHMgcmVnaXN0ZXJlZCBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gT25lIGZyYWdtZW50IHBlciBzY29wZVxuICAgICAqL1xuICAgIGdldCBmcmFnbWVudHMoKTogQXJyYXk8X0ZyYWdtZW50VHlwZVtudW1iZXJdPiB7IHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2ZyYWdtZW50cy52YWx1ZXMoKSkgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gQXJyYXkgb2YgY29tcG9uZW50cyByZWdpc3RlcmVkIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBPbmUgY29tcG9uZW50IGluc3RhbmNlIHBlciBzY29wZVxuICAgICAqL1xuICAgIGdldCBjb21wb25lbnRzKCk6IEFycmF5PEluc3RhbmNlVHlwZTxfQ29tcG9uZW50VHlwZVtudW1iZXJdPj4geyByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9jb21wb25lbnRzLnZhbHVlcygpKSB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBBcnJheSBvZiBlcnJvcnMgcmVnaXN0ZXJlZCBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gT25lIGVycm9yIHBlciBjb2RlXG4gICAgICovXG4gICAgZ2V0IGVycm9ycygpOiBBcnJheTxJbnN0YW5jZVR5cGU8X0Vycm9yVHlwZVtudW1iZXJdPj4geyByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9lcnJvcnMudmFsdWVzKCkpIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBhcmVudCBzY29wZSBvZiB0aGUgY3VycmVudCBzY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzZXRWYWx1ZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBnZXQgcGFyZW50KCk6IEFfU2NvcGUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBX1Njb3BlIHJlZmVycyB0byB0aGUgdmlzaWJpbGl0eSBhbmQgYWNjZXNzaWJpbGl0eSBvZiA6XG4gICAgICogLSB2YXJpYWJsZXMsIFxuICAgICAqIC0gQ29tcG9uZW50cywgXG4gICAgICogLSBDb250ZXh0IEZyYWdtZW50cyBcbiAgICAgKiAtIEVudGl0aWVzXG4gICAgICogLSBhbmQgb2JqZWN0cyBpbiBkaWZmZXJlbnQgcGFydHMgb2YgeW91ciBjb2RlLiBcbiAgICAgKiBTY29wZSBkZXRlcm1pbmVzIHdoZXJlIGEgcGFydGljdWxhciBwaWVjZSBvZiBkYXRhIChsaWtlIGEgdmFyaWFibGUgb3IgZnVuY3Rpb24pIFxuICAgICAqIGNhbiBiZSBhY2Nlc3NlZCwgbW9kaWZpZWQsIG9yIHJlZmVyZW5jZWQsIGFuZCBpdCBwbGF5cyBhIGNydWNpYWwgcm9sZSBpbiBhdm9pZGluZyBuYW1pbmcgY29sbGlzaW9ucyBhbmQgZW5zdXJpbmcgZGF0YSBpbnRlZ3JpdHkuIFxuICAgICAqIFxuICAgICAqIFshXSBUaGUgc2NvcGUgYmVoYXZpb3IgaXMgc2ltaWxhciB0byB0cmVlIHN0cnVjdHVyZSB3aGVyZSBlYWNoIHNjb3BlIGNhbiBoYXZlIGEgcGFyZW50IHNjb3BlIGFuZCBpbmhlcml0IGl0cyBjb21wb25lbnRzLCBmcmFnbWVudHMsIGVudGl0aWVzIGFuZCBlcnJvcnNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqIEBwYXJhbSBjb25maWcgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKVxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBzZXQgb2YgY29uc3RydWN0b3JzIHRoYXQgYXJlIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbXM6IFBhcnRpYWw8QV9UWVBFU19fU2NvcGVfSW5pdDxfTWV0YUl0ZW1zLCBfQ29tcG9uZW50VHlwZSwgX0Vycm9yVHlwZSwgX0VudGl0eVR5cGUsIF9GcmFnbWVudFR5cGU+PixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb25maWc/OiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlQ29uZmlnPlxuICAgIClcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcGFyYW0xPzogUGFydGlhbDxBX1RZUEVTX19TY29wZV9Jbml0PF9NZXRhSXRlbXMsIF9Db21wb25lbnRUeXBlLCBfRXJyb3JUeXBlLCBfRW50aXR5VHlwZSwgX0ZyYWdtZW50VHlwZT4+LFxuICAgICAgICBwYXJhbTI/OiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlQ29uZmlnPlxuICAgICkge1xuICAgICAgICBjb25zdCBpbml0aWFsaXplciA9IHRoaXMuZ2V0SW5pdGlhbGl6ZXIocGFyYW0xKTtcbiAgICAgICAgLy8gdGhlIHJldHVybmVkIGluaXRpYWxpemVyIGlzIGFscmVhZHkgYm91bmQgdG8gYHRoaXNgICh3ZSB1c2VkIC5iaW5kKHRoaXMpKSxcbiAgICAgICAgLy8gc28gY2FsbGluZyBpdCB3aWxsIHJ1biB0aGUgYXBwcm9wcmlhdGUgbG9naWMgb24gdGhpcyBpbnN0YW5jZTpcbiAgICAgICAgaW5pdGlhbGl6ZXIuY2FsbCh0aGlzLCBwYXJhbTEsIHBhcmFtMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdG9yIHRvIGl0ZXJhdGUgdGhyb3VnaCBhbGwgcGFyZW50IHNjb3Blc1xuICAgICAqL1xuICAgICpwYXJlbnRzKCk6IEdlbmVyYXRvcjxBX1Njb3BlPiB7XG4gICAgICAgIGxldCBjdXJyZW50UGFyZW50ID0gdGhpcy5fcGFyZW50O1xuICAgICAgICB3aGlsZSAoY3VycmVudFBhcmVudCkge1xuICAgICAgICAgICAgeWllbGQgY3VycmVudFBhcmVudDtcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBjdXJyZW50UGFyZW50Ll9wYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIHJldHJpZXZlIGEgcGFyZW50IHNjb3BlIGF0IGEgc3BlY2lmaWMgbGV2ZWxcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGF0IGlmIHRoZSBsZXZlbCBpcyBvdXQgb2YgYm91bmRzLCB1bmRlZmluZWQgaXMgcmV0dXJuZWRcbiAgICAgKiBbISFdIFVzZXMgbmVnYXRpdmUgdmFsdWVzIGZvciBsZXZlbHMgKGUuZy4gLTEgZm9yIGltbWVkaWF0ZSBwYXJlbnQsIC0yIGZvciBncmFuZHBhcmVudCwgZXRjLilcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbGV2ZWwgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcGFyZW50T2Zmc2V0KFxuICAgICAgICAvKipcbiAgICAgICAgICogTGV2ZWwgb2YgdGhlIHBhcmVudCBzY29wZSB0byByZXRyaWV2ZVxuICAgICAgICAgKiBcbiAgICAgICAgICogRXhhbXBsZXM6XG4gICAgICAgICAqIC0gbGV2ZWwgMCAtIGltbWVkaWF0ZSBwYXJlbnRcbiAgICAgICAgICogLSBsZXZlbCAtMSAtIGdyYW5kcGFyZW50XG4gICAgICAgICAqIC0gbGV2ZWwgLTIgLSBncmVhdC1ncmFuZHBhcmVudFxuICAgICAgICAgKi9cbiAgICAgICAgbGF5ZXJPZmZzZXQ6IG51bWJlclxuICAgICk6IEFfU2NvcGUgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgcGFyZW50U2NvcGUgPSB0aGlzLnBhcmVudDtcblxuICAgICAgICB3aGlsZSAobGF5ZXJPZmZzZXQgPCAtMSAmJiBwYXJlbnRTY29wZSkge1xuICAgICAgICAgICAgcGFyZW50U2NvcGUgPSBwYXJlbnRTY29wZS5wYXJlbnQ7XG4gICAgICAgICAgICBsYXllck9mZnNldCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhcmVudFNjb3BlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGljaCBpbml0aWFsaXplciBtZXRob2QgdG8gdXNlIGJhc2VkIG9uIHRoZSB0eXBlIG9mIHRoZSBmaXJzdCBwYXJhbWV0ZXIuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtMSBcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRJbml0aWFsaXplcihcbiAgICAgICAgcGFyYW0xPzogUGFydGlhbDxBX1RZUEVTX19TY29wZV9Jbml0PF9NZXRhSXRlbXMsIF9Db21wb25lbnRUeXBlLCBfRXJyb3JUeXBlLCBfRW50aXR5VHlwZSwgX0ZyYWdtZW50VHlwZT4+LFxuICAgICAgICBwYXJhbTI/OiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlQ29uZmlnPlxuICAgICk6IChwYXJhbTE6IGFueSwgcGFyYW0yOiBhbnkpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCkge1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgIXBhcmFtMSAmJiAhcGFyYW0yOiA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdEluaXRpYWxpemVkO1xuXG4gICAgICAgICAgICBjYXNlICEhcGFyYW0xOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRJbml0aWFsaXplZDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihBX1Njb3BlRXJyb3IuQ29uc3RydWN0b3JFcnJvciwgJ0ludmFsaWQgcGFyYW1ldGVycyBwcm92aWRlZCB0byBBX1Njb3BlIGNvbnN0cnVjdG9yJyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgcHJvdGVjdGVkIGRlZmF1bHRJbml0aWFsaXplZChcbiAgICAgICAgcGFyYW1zOiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlX0luaXQ8X01ldGFJdGVtcywgX0NvbXBvbmVudFR5cGUsIF9FcnJvclR5cGUsIF9FbnRpdHlUeXBlLCBfRnJhZ21lbnRUeXBlPj4gPSB7fSxcbiAgICAgICAgY29uZmlnOiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlQ29uZmlnPiA9IHt9XG4gICAgKSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSBwYXJhbXMubmFtZSB8fCB0aGlzLmNvbnN0cnVjdG9yLm5hbWVcblxuICAgICAgICB0aGlzLmluaXRDb21wb25lbnRzKHBhcmFtcy5jb21wb25lbnRzKTtcbiAgICAgICAgdGhpcy5pbml0RXJyb3JzKHBhcmFtcy5lcnJvcnMpO1xuICAgICAgICB0aGlzLmluaXRGcmFnbWVudHMocGFyYW1zLmZyYWdtZW50cyk7XG4gICAgICAgIHRoaXMuaW5pdEVudGl0aWVzKHBhcmFtcy5lbnRpdGllcyk7XG4gICAgICAgIHRoaXMuaW5pdE1ldGEocGFyYW1zLm1ldGEpO1xuXG4gICAgICAgIGlmIChjb25maWcucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnQgPSBjb25maWcucGFyZW50O1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1TY29wZSBJbml0aWFsaXphdGlvbiBNZXRob2RzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBpbml0aWFsaXplIHRoZSBjb21wb25lbnRzIGluIHRoZSBzY29wZVxuICAgICAqIFRvIHNhdmUgbWVtb3J5IGNvbXBvbmVudHMgYXJlIGluaXRpYWxpemVkIG9ubHkgd2hlbiB0aGV5IGFyZSByZXF1ZXN0ZWRcbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBvbmx5IHJlZ2lzdGVycyB0aGUgY29tcG9uZW50IGluIHRoZSBzY29wZSBpbiBjYXNlIHRoZXkgYXJlIG5vdCByZWdpc3RlcmVkIHlldFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBfY29tcG9uZW50cyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgaW5pdENvbXBvbmVudHMoX2NvbXBvbmVudHM/OiBfQ29tcG9uZW50VHlwZSkgeyBfY29tcG9uZW50cz8uZm9yRWFjaCh0aGlzLnJlZ2lzdGVyLmJpbmQodGhpcykpOyB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBpbml0aWFsaXplIHRoZSBlcnJvcnMgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogVGhpcyBtZXRob2Qgb25seSByZWdpc3RlcnMgdGhlIGVycm9ycyBpbiB0aGUgc2NvcGUgaW4gY2FzZSB0aGV5IGFyZSBub3QgcmVnaXN0ZXJlZCB5ZXRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gX2Vycm9ycyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgaW5pdEVycm9ycyhfZXJyb3JzPzogX0Vycm9yVHlwZSkgeyBfZXJyb3JzPy5mb3JFYWNoKHRoaXMucmVnaXN0ZXIuYmluZCh0aGlzKSk7IH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGluaXRpYWxpemUgdGhlIGVudGl0aWVzIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIG9ubHkgcmVnaXN0ZXJzIHRoZSBlbnRpdGllcyBpbiB0aGUgc2NvcGUgaW4gY2FzZSB0aGV5IGFyZSBub3QgcmVnaXN0ZXJlZCB5ZXRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gX2VudGl0aWVzIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpbml0RW50aXRpZXMoX2VudGl0aWVzPzogW1xuICAgICAgICAuLi5fRW50aXR5VHlwZSxcbiAgICAgICAgLi4uSW5zdGFuY2VUeXBlPF9FbnRpdHlUeXBlW251bWJlcl0+W11cbiAgICBdKSB7IF9lbnRpdGllcz8uZm9yRWFjaChlbnQgPT4gdGhpcy5yZWdpc3RlcihlbnQgYXMgYW55KSk7IH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGluaXRpYWxpemUgdGhlIGZyYWdtZW50cyBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBvbmx5IHJlZ2lzdGVycyB0aGUgZnJhZ21lbnRzIGluIHRoZSBzY29wZSBpbiBjYXNlIHRoZXkgYXJlIG5vdCByZWdpc3RlcmVkIHlldFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBfZnJhZ21lbnRzIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpbml0RnJhZ21lbnRzKF9mcmFnbWVudHM/OiBfRnJhZ21lbnRUeXBlKSB7IF9mcmFnbWVudHM/LmZvckVhY2godGhpcy5yZWdpc3Rlci5iaW5kKHRoaXMpKTsgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gaW5pdGlhbGl6ZSB0aGUgbWV0YSBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBvbmx5IHNldHMgdGhlIG1ldGEgdmFsdWVzIGluIHRoZSBzY29wZSBpbiBjYXNlIHRoZXkgYXJlIG5vdCBzZXQgeWV0XG4gICAgICogXG4gICAgICogQHBhcmFtIF9tZXRhIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpbml0TWV0YShfbWV0YT86IFBhcnRpYWw8X01ldGFJdGVtcz4pIHtcbiAgICAgICAgaWYgKF9tZXRhKSB7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhfbWV0YSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWV0YS5zZXQoa2V5IGFzIGtleW9mIF9NZXRhSXRlbXMsIHZhbHVlIGFzIF9NZXRhSXRlbXNba2V5b2YgX01ldGFJdGVtc10pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1TY29wZSBQdWJsaWMgTWV0aG9kcy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGRlc3Ryb3kgdGhlIHNjb3BlIGFuZCBhbGwgaXRzIHJlZ2lzdGVyZWQgY29tcG9uZW50cywgZnJhZ21lbnRzIGFuZCBlbnRpdGllc1xuICAgICAqIFxuICAgICAqIFshXSBUaGlzIG1ldGhvZCBkZXJlZ2lzdGVycyBhbGwgY29tcG9uZW50cywgZnJhZ21lbnRzIGFuZCBlbnRpdGllcyBmcm9tIHRoZSBBLUNvbnRleHRcbiAgICAgKiBbIV0gVGhpcyBtZXRob2QgYWxzbyBjbGVhcnMgYWxsIGludGVybmFsIHJlZ2lzdHJpZXMgYW5kIGNvbGxlY3Rpb25zXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50cy5mb3JFYWNoKGNvbXBvbmVudCA9PiBBX0NvbnRleHQuZGVyZWdpc3Rlcihjb21wb25lbnQpKTtcbiAgICAgICAgdGhpcy5fZnJhZ21lbnRzLmZvckVhY2goZnJhZ21lbnQgPT4gQV9Db250ZXh0LmRlcmVnaXN0ZXIoZnJhZ21lbnQpKTtcbiAgICAgICAgdGhpcy5fZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4gQV9Db250ZXh0LmRlcmVnaXN0ZXIoZW50aXR5KSk7XG5cbiAgICAgICAgdGhpcy5fY29tcG9uZW50cy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9lcnJvcnMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fZnJhZ21lbnRzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2VudGl0aWVzLmNsZWFyKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNzdWVyKCkpIHtcblxuICAgICAgICAgICAgQV9Db250ZXh0LmRlYWxsb2NhdGUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHZhbHVlIGZyb20gdGhlIHNjb3BlJ3MgbWV0YS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW0gLSBUaGUga2V5IHRvIHJldHJpZXZlXG4gICAgICogQHJldHVybnMgVGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGUga2V5LCBvciB1bmRlZmluZWQgaWYgbm90IGZvdW5kXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY29uc3QgdXNlcklkID0gc2NvcGUuZ2V0KCd1c2VySWQnKTtcbiAgICAgKiBpZiAodXNlcklkKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhgQ3VycmVudCB1c2VyOiAke3VzZXJJZH1gKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0PEsgZXh0ZW5kcyBrZXlvZiBfTWV0YUl0ZW1zPihwYXJhbTogSyk6IF9NZXRhSXRlbXNbS10gfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWV0YS5nZXQocGFyYW0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3JlcyBhIHZhbHVlIGluIHRoZSBzY29wZSdzIG1ldGEuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtIC0gVGhlIGtleSB0byBzdG9yZSB0aGUgdmFsdWUgdW5kZXJcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gc3RvcmVcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBzY29wZS5zZXQoJ3VzZXJJZCcsICcxMjM0NScpO1xuICAgICAqIHNjb3BlLnNldCgncm9sZScsICdhZG1pbicpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHNldDxLIGV4dGVuZHMga2V5b2YgX01ldGFJdGVtcz4ocGFyYW06IEssIHZhbHVlOiBfTWV0YUl0ZW1zW0tdKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX21ldGEuc2V0KHBhcmFtLCB2YWx1ZSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpc3N1ZXIgb2YgdGhlIHNjb3BlLCB1c2VmdWwgZm9yIGRlYnVnZ2luZyBhbmQgdHJhY2tpbmcgcHVycG9zZXNcbiAgICAgKiBcbiAgICAgKiBJc3N1ZXIgY2FuIGJlOlxuICAgICAqIC0gQSBDb250YWluZXIgdGhhdCBhbGxvY2F0ZWQgdGhlIHNjb3BlXG4gICAgICogLSBBIEZlYXR1cmUgdGhhdCBhbGxvY2F0ZWQgdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogWyFdIE5vdGUgdGhhdCB0aGUgaXNzdWVyIGlzIHRoZSBkaXJlY3QgYWxsb2NhdG9yIG9mIHRoZSBzY29wZSwgc28gaWYgYSBDb250YWluZXIgYWxsb2NhdGVkIGEgRmVhdHVyZSB0aGF0IGFsbG9jYXRlZCB0aGUgc2NvcGUsIHRoZSBpc3N1ZXIgd2lsbCBiZSB0aGUgRmVhdHVyZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGlzc3VlcjxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzPigpOiBUIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5pc3N1ZXIodGhpcykgYXMgVDtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBpbmhlcml0IGZyb20gYSBwYXJlbnQgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gVGhpcyBtZXRob2QgY2hlY2tzIGZvciBjaXJjdWxhciBpbmhlcml0YW5jZSBhbmQgdGhyb3dzIGFuIGVycm9yIGlmIGRldGVjdGVkXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmVudCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBpbmhlcml0KHBhcmVudDogQV9TY29wZSk6IEFfU2NvcGUge1xuICAgICAgICBpZiAoIXBhcmVudClcbiAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9TY29wZUVycm9yLkluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEludmFsaWQgcGFyZW50IHNjb3BlIHByb3ZpZGVkYFxuICAgICAgICAgICAgKTtcblxuICAgICAgICBpZiAocGFyZW50ID09PSB0aGlzKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuQ2lyY3VsYXJJbmhlcml0YW5jZUVycm9yLFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gaW5oZXJpdCBzY29wZSAke3RoaXMubmFtZX0gZnJvbSBpdHNlbGZgXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGlmIChwYXJlbnQgPT09IHRoaXMuX3BhcmVudClcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIC8vIFByZXZlbnQgY2lyY3VsYXIgaW5oZXJpdGFuY2VcbiAgICAgICAgY29uc3QgY2lyY3VsYXJDaGVjayA9IHRoaXMuY2hlY2tDaXJjdWxhckluaGVyaXRhbmNlKHBhcmVudCk7XG5cbiAgICAgICAgaWYgKGNpcmN1bGFyQ2hlY2spXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5DaXJjdWxhckluaGVyaXRhbmNlRXJyb3IsXG4gICAgICAgICAgICAgICAgYENpcmN1bGFyIGluaGVyaXRhbmNlIGRldGVjdGVkOiAke1suLi5jaXJjdWxhckNoZWNrLCBwYXJlbnQubmFtZV0uam9pbignIC0+ICcpfWBcbiAgICAgICAgICAgICk7XG5cblxuICAgICAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBjaGVjayBpZiB0aGUgY29tcG9uZW50IGlzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGNoZWNrcyBmb3IgdGhlIGNvbXBvbmVudCBpbiB0aGUgY3VycmVudCBzY29wZSBhbmQgYWxsIHBhcmVudCBzY29wZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGhhczxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCBjb25zdHJ1Y3RvciB0byBjaGVjayBpZiBpdCdzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogYm9vbGVhblxuICAgIGhhczxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gY2hlY2sgaWYgaXQncyBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqIFxuICAgICAgICAgKiBbIV0gTm90ZSB0aGF0IGVudGl0aWVzIGFyZSB1bmlxdWUgcGVyIGFzZWlkLCBzbyB0aGlzIG1ldGhvZCBjaGVja3MgaWYgdGhlcmUncyBhdCBsZWFzdCBvbmUgZW50aXR5IG9mIHRoZSBwcm92aWRlZCB0eXBlIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD5cbiAgICApOiBib29sZWFuXG4gICAgaGFzPFQgZXh0ZW5kcyBBX0ZyYWdtZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBmcmFnbWVudCBjb25zdHJ1Y3RvciB0byBjaGVjayBpZiBpdCdzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IGJvb2xlYW5cbiAgICBoYXM8VCBleHRlbmRzIEFfRXJyb3I+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlcnJvciBjb25zdHJ1Y3RvciB0byBjaGVjayBpZiBpdCdzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVycm9yOiBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IGJvb2xlYW5cbiAgICBoYXMoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgc3RyaW5nIHRvIGNoZWNrIGlmIGEgY29tcG9uZW50LCBlbnRpdHkgb3IgZnJhZ21lbnQgd2l0aCB0aGUgcHJvdmlkZWQgbmFtZSBpcyBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3Rvcjogc3RyaW5nXG4gICAgKTogYm9vbGVhblxuICAgIGhhcyhcbiAgICAgICAgY3RvcjogdW5rbm93blxuICAgICk6IGJvb2xlYW4ge1xuXG4gICAgICAgIGxldCBmb3VuZCA9IHRoaXMuaGFzRmxhdChjdG9yIGFzIGFueSk7XG5cbiAgICAgICAgaWYgKCFmb3VuZCAmJiAhIXRoaXMuX3BhcmVudClcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudC5oYXMoY3RvciBhcyBhbnkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBjaGVjayBpZiB0aGUgY29tcG9uZW50IGlzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGNoZWNrcyBmb3IgdGhlIGNvbXBvbmVudCBPTkxZIGluIHRoZSBjdXJyZW50IHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBoYXNGbGF0PFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IGNvbnN0cnVjdG9yIHRvIGNoZWNrIGlmIGl0J3MgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8VD5cbiAgICApOiBib29sZWFuXG4gICAgaGFzRmxhdDxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gY2hlY2sgaWYgaXQncyBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqIFxuICAgICAgICAgKiBbIV0gTm90ZSB0aGF0IGVudGl0aWVzIGFyZSB1bmlxdWUgcGVyIGFzZWlkLCBzbyB0aGlzIG1ldGhvZCBjaGVja3MgaWYgdGhlcmUncyBhdCBsZWFzdCBvbmUgZW50aXR5IG9mIHRoZSBwcm92aWRlZCB0eXBlIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD5cbiAgICApOiBib29sZWFuXG4gICAgaGFzRmxhdDxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgY29uc3RydWN0b3IgdG8gY2hlY2sgaWYgaXQncyBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudDogQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8VD5cbiAgICApOiBib29sZWFuXG4gICAgaGFzRmxhdDxUIGV4dGVuZHMgQV9FcnJvcj4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVycm9yIGNvbnN0cnVjdG9yIHRvIGNoZWNrIGlmIGl0J3MgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3I6IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogYm9vbGVhblxuICAgIGhhc0ZsYXQoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgc3RyaW5nIHRvIGNoZWNrIGlmIGEgY29tcG9uZW50LCBlbnRpdHkgb3IgZnJhZ21lbnQgd2l0aCB0aGUgcHJvdmlkZWQgbmFtZSBpcyBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3Rvcjogc3RyaW5nXG4gICAgKTogYm9vbGVhblxuICAgIGhhc0ZsYXQoXG4gICAgICAgIGN0b3I6IHVua25vd25cbiAgICApOiBib29sZWFuIHtcblxuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIC8vIDEpIENoZWNrIGlmIGl0J3MgYSBTY29wZS4gSXQncyBhbHdheXMgdHJ1ZSBzaW5jZSBpdCByZXR1cm5zIGl0c2VsZlxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTY29wZUNvbnN0cnVjdG9yKGN0b3IpOlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICAvLyAyKSBDaGVjayBieSBzdHJpbmcgbmFtZS4gIFxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcoY3Rvcik6IHtcblxuICAgICAgICAgICAgICAgIC8vIDIuMSBDaGVjayBpZiBpdCdzIGEgY29tcG9uZW50IG5hbWVcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NzaWJsZUNvbXBvbmVudCA9IEFycmF5LmZyb20odGhpcy5hbGxvd2VkQ29tcG9uZW50cykuZmluZChjID0+IGMubmFtZSA9PT0gY3Rvcik7XG4gICAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlQ29tcG9uZW50KSBmb3VuZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAvLyAyLjIgQ2hlY2sgaWYgaXQncyBhIGZyYWdtZW50IG5hbWVcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NzaWJsZUZyYWdtZW50ID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRGcmFnbWVudHMpLmZpbmQoZiA9PiBmLm5hbWUgPT09IGN0b3IpO1xuICAgICAgICAgICAgICAgIGlmIChwb3NzaWJsZUZyYWdtZW50KSBmb3VuZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAvLyAyLjMgQ2hlY2sgaWYgaXQncyBhbiBlbnRpdHkgbmFtZSBvciBlbnRpdHkgc3RhdGljIGVudGl0eSBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlRW50aXR5ID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRFbnRpdGllcykuZmluZChlID0+IGUubmFtZSA9PT0gY3Rvcik7XG4gICAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlRW50aXR5KSBmb3VuZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAvLyAyLjQgQ2hlY2sgaWYgaXQncyBhbiBlcnJvciBuYW1lXG4gICAgICAgICAgICAgICAgY29uc3QgcG9zc2libGVFcnJvciA9IEFycmF5LmZyb20odGhpcy5hbGxvd2VkRXJyb3JzKS5maW5kKGUgPT4gZS5uYW1lID09PSBjdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAocG9zc2libGVFcnJvcikgZm91bmQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAzKSBDaGVjayBpZiBpdCdzIGEgQ29tcG9uZW50XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKGN0b3IpOiB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0aGlzLmlzQWxsb3dlZENvbXBvbmVudChjdG9yKVxuICAgICAgICAgICAgICAgICAgICB8fCAhIVsuLi50aGlzLmFsbG93ZWRDb21wb25lbnRzXVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoYyA9PiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oYywgY3RvcikpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA0KSBDaGVjayBpZiBpdCdzIGFuIEVudGl0eVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlDb25zdHJ1Y3RvcihjdG9yKToge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gdGhpcy5pc0FsbG93ZWRFbnRpdHkoY3RvcilcbiAgICAgICAgICAgICAgICAgICAgfHwgISFbLi4udGhpcy5hbGxvd2VkRW50aXRpZXNdXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZChlID0+IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShlLCBjdG9yKSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDUpIENoZWNrIGlmIGl0J3MgYSBGcmFnbWVudFxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNGcmFnbWVudENvbnN0cnVjdG9yKGN0b3IpOiB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0aGlzLmlzQWxsb3dlZEZyYWdtZW50KGN0b3IpXG4gICAgICAgICAgICAgICAgICAgIHx8ICEhWy4uLnRoaXMuYWxsb3dlZEZyYWdtZW50c11cbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKGYgPT4gQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGYsIGN0b3IpKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyA2KSBDaGVjayBpZiBpdCdzIGFuIEVycm9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Vycm9yQ29uc3RydWN0b3IoY3Rvcik6IHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IHRoaXMuaXNBbGxvd2VkRXJyb3IoY3RvcilcbiAgICAgICAgICAgICAgICAgICAgfHwgISFbLi4udGhpcy5hbGxvd2VkRXJyb3JzXVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoZSA9PiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oZSwgY3RvcikpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDcpIENoZWNrIHNjb3BlIGlzc3VlclxuICAgICAgICAgICAgY2FzZSB0aGlzLmlzc3VlcigpXG4gICAgICAgICAgICAgICAgJiYgKHRoaXMuaXNzdWVyKCkhLmNvbnN0cnVjdG9yID09PSBjdG9yXG4gICAgICAgICAgICAgICAgICAgIHx8IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbSh0aGlzLmlzc3VlcigpIS5jb25zdHJ1Y3RvciwgY3RvclxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKToge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1lcmdlcyB0d28gc2NvcGVzIGludG8gYSBuZXcgb25lXG4gICAgICogXG4gICAgICogWyFdIE5vdGVzOiBcbiAgICAgKiAgLSB0aGlzIG1ldGhvZCBkb2VzIE5PVCBtb2RpZnkgdGhlIGV4aXN0aW5nIHNjb3Blc1xuICAgICAqICAtIHBhcmVudCBvZiB0aGUgbmV3IHNjb3BlIHdpbGwgYmUgdGhlIHBhcmVudCBvZiB0aGUgY3VycmVudCBzY29wZSBvciB0aGUgcGFyZW50IG9mIGFub3RoZXJTY29wZSAoaWYgZXhpc3RzKVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhbm90aGVyU2NvcGUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgbWVyZ2UoYW5vdGhlclNjb3BlOiBBX1Njb3BlKTogQV9TY29wZSB7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBBX1Njb3BlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IGAke3RoaXMubmFtZX0gKyAke2Fub3RoZXJTY29wZS5uYW1lfWAsXG5cbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbLi4udGhpcy5hbGxvd2VkQ29tcG9uZW50cywgLi4uYW5vdGhlclNjb3BlLmFsbG93ZWRDb21wb25lbnRzXSxcbiAgICAgICAgICAgICAgICBmcmFnbWVudHM6IFsuLi50aGlzLmZyYWdtZW50cywgLi4uYW5vdGhlclNjb3BlLmZyYWdtZW50c10sXG4gICAgICAgICAgICAgICAgZW50aXRpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5lbnRpdGllcywgLi4uYW5vdGhlclNjb3BlLmVudGl0aWVzLFxuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmFsbG93ZWRFbnRpdGllcywgLi4uYW5vdGhlclNjb3BlLmFsbG93ZWRFbnRpdGllc1xuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy5fcGFyZW50IHx8IGFub3RoZXJTY29wZS5fcGFyZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byByZXRyaWV2ZSB0aGUgY29uc3RydWN0b3Igb2YgdGhlIGNvbXBvbmVudCBvciBlbnRpdHkgYnkgaXRzIG5hbWVcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZXM6XG4gICAgICogLSBJbiBjYXNlIG9mIHNlYXJjaCBmb3IgQS1FbnRpdHkgcGxlYXNlIGVuc3VyZSB0aGF0IHByb3ZpZGVkIHN0cmluZyBjb3JyZXNwb25kcyB0byB0aGUgc3RhdGljIGVudGl0eSBwcm9wZXJ0eSBvZiB0aGUgY2xhc3MuIFshXSBCeSBkZWZhdWx0IGl0J3MgdGhlIGtlYmFiLWNhc2Ugb2YgdGhlIGNsYXNzIG5hbWVcbiAgICAgKiAtIEluIGNhc2Ugb2Ygc2VhcmNoIGZvciBBX0NvbXBvbmVudCBwbGVhc2UgZW5zdXJlIHRoYXQgcHJvdmlkZWQgc3RyaW5nIGNvcnJlc3BvbmRzIHRvIHRoZSBjbGFzcyBuYW1lIGluIFBhc2NhbENhc2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbmFtZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICByZXNvbHZlQ29uc3RydWN0b3I8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIGVudGl0eSBuYW1lIG9yIHN0YXRpYyBlbnRpdHkgcHJvcGVydHkgdG8gcmV0cmlldmUgaXRzIGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBuYW1lOiBzdHJpbmdcbiAgICApOiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD5cbiAgICByZXNvbHZlQ29uc3RydWN0b3I8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIGNvbXBvbmVudCBuYW1lIGluIFBhc2NhbENhc2UgdG8gcmV0cmlldmUgaXRzIGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBuYW1lOiBzdHJpbmdcbiAgICApOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8VD5cbiAgICByZXNvbHZlQ29uc3RydWN0b3I8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgZnJhZ21lbnQgbmFtZSBpbiBQYXNjYWxDYXNlIHRvIHJldHJpZXZlIGl0cyBjb25zdHJ1Y3RvclxuICAgICAgICAgKi9cbiAgICAgICAgbmFtZTogc3RyaW5nXG4gICAgKTogQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8VD5cbiAgICByZXNvbHZlQ29uc3RydWN0b3I8VCBleHRlbmRzIEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHM+KG5hbWU6IHN0cmluZyk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPiB8IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPiB8IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgLy8gMSkgQ2hlY2sgY29tcG9uZW50c1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBBcnJheS5mcm9tKHRoaXMuYWxsb3dlZENvbXBvbmVudHMpLmZpbmQoXG4gICAgICAgICAgICBjID0+IGMubmFtZSA9PT0gbmFtZVxuICAgICAgICAgICAgICAgIHx8IGMubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5hbWUpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChjb21wb25lbnQpIHJldHVybiBjb21wb25lbnQgYXMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+O1xuXG4gICAgICAgIC8vIDIpIENoZWNrIGVudGl0aWVzXG4gICAgICAgIGNvbnN0IGVudGl0eSA9IEFycmF5LmZyb20odGhpcy5hbGxvd2VkRW50aXRpZXMpLmZpbmQoXG4gICAgICAgICAgICBlID0+IGUubmFtZSA9PT0gbmFtZVxuICAgICAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5hbWUpXG4gICAgICAgICAgICAgICAgfHwgKGUgYXMgYW55KS5lbnRpdHkgPT09IG5hbWVcbiAgICAgICAgICAgICAgICB8fCAoZSBhcyBhbnkpLmVudGl0eSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9LZWJhYkNhc2UobmFtZSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGVudGl0eSkgcmV0dXJuIGVudGl0eSBhcyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD47XG5cbiAgICAgICAgLy8gMykgQ2hlY2sgZnJhZ21lbnRzXG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRGcmFnbWVudHMpLmZpbmQoZiA9PiBmLm5hbWUgPT09IG5hbWVcbiAgICAgICAgICAgIHx8IGYubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5hbWUpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChmcmFnbWVudCkgcmV0dXJuIGZyYWdtZW50IGFzIEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+O1xuXG4gICAgICAgIC8vIElmIG5vdCBmb3VuZCBpbiBjdXJyZW50IHNjb3BlLCBjaGVjayBwYXJlbnQgc2NvcGVcbiAgICAgICAgaWYgKCEhdGhpcy5fcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50LnJlc29sdmVDb25zdHJ1Y3RvcihuYW1lKSBhcyBhbnk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuXG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHNob3VsZCByZXNvbHZlIGFsbCBpbnN0YW5jZXMgb2YgdGhlIGNvbXBvbmVudHMsIG9yIGVudGl0aWVzIHdpdGhpbiB0aGUgc2NvcGUsIGJ5IHByb3ZpZGVkIHBhcmVudCBjbGFzc1xuICAgICAqIFNvIGluIGNhc2Ugb2YgcHJvdmlkaW5nIGEgYmFzZSBjbGFzcyBpdCBzaG91bGQgcmV0dXJuIGFsbCBpbnN0YW5jZXMgdGhhdCBleHRlbmRzIHRoaXMgYmFzZSBjbGFzc1xuICAgICAqIFxuICAgICAqIFshXSBBcHBsaWNhYmxlIGZvciB0aGUgY3VycmVudCBzY29wZSBPTkxZLCBubyBwYXJlbnQgc2NvcGVzIGFyZSBjaGVja2VkXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKi9cbiAgICByZXNvbHZlQWxsPFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IEFycmF5PFQ+XG4gICAgcmVzb2x2ZUFsbDxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IEFycmF5PFQ+XG4gICAgcmVzb2x2ZUFsbDxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2Ugb3IgYW4gYXJyYXkgb2YgaW5zdGFuY2VzIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IEFycmF5PFQ+XG4gICAgcmVzb2x2ZUFsbDxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIGNvbnN0cnVjdG9yTmFtZTogc3RyaW5nXG4gICAgKTogQXJyYXk8VD5cbiAgICByZXNvbHZlQWxsPFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBjb25zdHJ1Y3RvciBvciBhbiBhcnJheSBvZiBjb25zdHJ1Y3RvcnMgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UocykgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtMTogQV9UWVBFU19fSW5qZWN0YWJsZUNvbnN0cnVjdG9yc1xuICAgICk6IEFycmF5PFQ+IHtcblxuICAgICAgICBjb25zdCByZXN1bHRzOiBBcnJheTxUPiA9IFtdO1xuXG4gICAgICAgIC8vIDEpIFJlc29sdmUgYWxsIGluIHRoZSBjdXJyZW50IHNjb3BlXG4gICAgICAgIGNvbnN0IGN1cnJlbnRSZXN1bHRzID0gdGhpcy5yZXNvbHZlRmxhdEFsbDxUPihwYXJhbTEgYXMgYW55KTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKC4uLmN1cnJlbnRSZXN1bHRzKTtcblxuICAgICAgICAvLyAyKSBSZXNvbHZlIGFsbCBpbiB0aGUgcGFyZW50IHNjb3BlXG5cbiAgICAgICAgbGV0IHBhcmVudFNjb3BlID0gdGhpcy5fcGFyZW50O1xuXG4gICAgICAgIHdoaWxlIChwYXJlbnRTY29wZSAmJiBwYXJlbnRTY29wZS5oYXMocGFyYW0xIGFzIGFueSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFJlc3VsdHMgPSBwYXJlbnRTY29wZS5yZXNvbHZlRmxhdEFsbDxUPihwYXJhbTEgYXMgYW55KTtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCguLi5wYXJlbnRSZXN1bHRzKTtcblxuICAgICAgICAgICAgLy8gTW92ZSB0byB0aGUgbmV4dCBwYXJlbnQgc2NvcGVcbiAgICAgICAgICAgIHBhcmVudFNjb3BlID0gcGFyZW50U2NvcGUuX3BhcmVudDtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG5cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2Qgc2hvdWxkIHJlc29sdmUgYWxsIGluc3RhbmNlcyBvZiB0aGUgY29tcG9uZW50cywgb3IgZW50aXRpZXMgd2l0aGluIHRoZSBzY29wZSwgYnkgcHJvdmlkZWQgcGFyZW50IGNsYXNzXG4gICAgICogU28gaW4gY2FzZSBvZiBwcm92aWRpbmcgYSBiYXNlIGNsYXNzIGl0IHNob3VsZCByZXR1cm4gYWxsIGluc3RhbmNlcyB0aGF0IGV4dGVuZHMgdGhpcyBiYXNlIGNsYXNzXG4gICAgICogXG4gICAgICogWyFdIEFwcGxpY2FibGUgZm9yIHRoZSBjdXJyZW50IHNjb3BlIE9OTFksIG5vIHBhcmVudCBzY29wZXMgYXJlIGNoZWNrZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqL1xuICAgIHJlc29sdmVGbGF0QWxsPFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IEFycmF5PFQ+XG4gICAgcmVzb2x2ZUZsYXRBbGw8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGZyYWdtZW50IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudDogQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8VD5cbiAgICApOiBBcnJheTxUPlxuICAgIHJlc29sdmVGbGF0QWxsPFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBvciBhbiBhcnJheSBvZiBpbnN0YW5jZXMgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVudGl0eTogQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogQXJyYXk8VD5cbiAgICByZXNvbHZlRmxhdEFsbDxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIGNvbnN0cnVjdG9yTmFtZTogc3RyaW5nXG4gICAgKTogQXJyYXk8VD5cbiAgICByZXNvbHZlRmxhdEFsbDxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgY29uc3RydWN0b3Igb3IgYW4gYXJyYXkgb2YgY29uc3RydWN0b3JzIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlKHMpIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbTE6IEFfVFlQRVNfX0luamVjdGFibGVDb25zdHJ1Y3RvcnNcbiAgICApOiBBcnJheTxUPiB7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0czogQXJyYXk8VD4gPSBbXTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIC8vIDEpIGlmIGEgcGFyYW1ldGVyIGlzIGEgY29tcG9uZW50IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICAvLyAxKSBDaGVjayBjb21wb25lbnRzXG4gICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5mb3JFYWNoKGN0b3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGN0b3IsIHBhcmFtMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5yZXNvbHZlPFQ+KGN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlKSByZXN1bHRzLnB1c2goaW5zdGFuY2UgYXMgVCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDIpIGlmIGEgcGFyYW1ldGVyIGlzIGEgZnJhZ21lbnQgY29uc3RydWN0b3JcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRnJhZ21lbnRDb25zdHJ1Y3RvcihwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgLy8gMikgQ2hlY2sgZnJhZ21lbnRzXG4gICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkRnJhZ21lbnRzLmZvckVhY2goY3RvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oY3RvciwgcGFyYW0xKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLnJlc29sdmUoY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UpIHJlc3VsdHMucHVzaChpbnN0YW5jZSBhcyBUKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0VudGl0eUNvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICAvLyAzKSBDaGVjayBlbnRpdGllc1xuICAgICAgICAgICAgICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oZW50aXR5LmNvbnN0cnVjdG9yLCBwYXJhbTEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goZW50aXR5IGFzIFQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICAvLyA0KSBDaGVjayBieSBuYW1lXG4gICAgICAgICAgICAgICAgY29uc3QgY3RvciA9IHRoaXMucmVzb2x2ZUNvbnN0cnVjdG9yKHBhcmFtMSk7XG4gICAgICAgICAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3RvcihjdG9yKVxuICAgICAgICAgICAgICAgICAgICAmJiAhQV9UeXBlR3VhcmRzLmlzRW50aXR5Q29uc3RydWN0b3IoY3RvcilcbiAgICAgICAgICAgICAgICAgICAgJiYgIUFfVHlwZUd1YXJkcy5pc0ZyYWdtZW50Q29uc3RydWN0b3IoY3RvcilcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuUmVzb2x1dGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYFVuYWJsZSB0byByZXNvbHZlIGFsbCBpbnN0YW5jZXMgZm9yIG5hbWU6ICR7cGFyYW0xfSBpbiBzY29wZSAke3RoaXMubmFtZX0gYXMgbm8gbWF0Y2hpbmcgY29tcG9uZW50LCBlbnRpdHkgb3IgZnJhZ21lbnQgY29uc3RydWN0b3IgZm91bmRgKTtcblxuXG4gICAgICAgICAgICAgICAgaWYgKGN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5zdGFuY2VzID0gdGhpcy5yZXNvbHZlQWxsPFQ+KGN0b3IgYXMgYW55KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlcylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCguLi5pbnN0YW5jZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuUmVzb2x1dGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gcmVzb2x2ZUFsbCBtZXRob2Q6ICR7cGFyYW0xfSBpbiBzY29wZSAke3RoaXMubmFtZX1gKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGFsbG93cyB0byByZXNvbHZlL2luamVjdCBhIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IGZyb20gdGhlIHNjb3BlXG4gICAgICogRGVwZW5kaW5nIG9uIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzIGl0IGNhbiByZXNvbHZlOlxuICAgICAqIC0gQSBzaW5nbGUgY29tcG9uZW50L2ZyYWdtZW50L2VudGl0eSBieSBpdHMgY29uc3RydWN0b3Igb3IgbmFtZVxuICAgICAqIC0gQW4gYXJyYXkgb2YgY29tcG9uZW50cy9mcmFnbWVudHMvZW50aXRpZXMgYnkgcHJvdmlkaW5nIGFuIGFycmF5IG9mIGNvbnN0cnVjdG9yc1xuICAgICAqIC0gQW4gZW50aXR5IG9yIGFuIGFycmF5IG9mIGVudGl0aWVzIGJ5IHByb3ZpZGluZyB0aGUgZW50aXR5IGNvbnN0cnVjdG9yIGFuZCBxdWVyeSBpbnN0cnVjdGlvbnNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogVCB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcltdPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gYXJyYXkgb2YgY29tcG9uZW50IGNvbnN0cnVjdG9ycyB0byByZXNvbHZlIHRoZWlyIGluc3RhbmNlcyBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50czogWy4uLlRdXG4gICAgKTogQXJyYXk8SW5zdGFuY2VUeXBlPFRbbnVtYmVyXT4+IHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IFQgfCB1bmRlZmluZWRcbiAgICByZXNvbHZlPFQgZXh0ZW5kcyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcltdPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gYXJyYXkgb2YgZnJhZ21lbnQgY29uc3RydWN0b3JzIHRvIHJlc29sdmUgdGhlaXIgaW5zdGFuY2VzIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudHM6IFsuLi5UXVxuICAgICk6IEFycmF5PEluc3RhbmNlVHlwZTxUW251bWJlcl0+PiB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIG9yIGFuIGFycmF5IG9mIGluc3RhbmNlcyBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD5cbiAgICApOiBUIHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2Ugb3IgYW4gYXJyYXkgb2YgaW5zdGFuY2VzIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9ubHkgQXNlaWQgUHJvdmlkZWQsIGluIHRoaXMgY2FzZSBvbmUgZW50aXR5IHdpbGwgYmUgcmV0dXJuZWRcbiAgICAgICAgICovXG4gICAgICAgIGluc3RydWN0aW9uczogeyBxdWVyeTogeyBhc2VpZDogc3RyaW5nIHwgQVNFSUQgfSB9XG4gICAgKTogVCB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIG9yIGFuIGFycmF5IG9mIGluc3RhbmNlcyBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD4sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIG9wdGlvbmFsIGluc3RydWN0aW9ucyB0byBmaW5kIGEgc3BlY2lmaWMgZW50aXR5IG9yIGEgc2V0IG9mIGVudGl0aWVzXG4gICAgICAgICAqL1xuICAgICAgICBpbnN0cnVjdGlvbnM6IFBhcnRpYWw8QV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uSW5zdHJ1Y3Rpb25zPFQ+PlxuICAgICk6IEFycmF5PFQ+XG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9TY29wZT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VzIG9ubHkgaW4gY2FzZSBvZiByZXNvbHZpbmcgYSBzaW5nbGUgZW50aXR5XG4gICAgICAgICAqIFxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU6IEFfVFlQRVNfX1Njb3BlX0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogVCB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfRXJyb3I+KFxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlcyBvbmx5IGluIGNhc2Ugb2YgcmVzb2x2aW5nIGEgc2luZ2xlIGVudGl0eVxuICAgICAgICAgKiBcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlOiBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IFQgfCB1bmRlZmluZWRcbiAgICByZXNvbHZlPFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPihcbiAgICAgICAgY29uc3RydWN0b3JOYW1lOiBzdHJpbmdcbiAgICApOiBUIHwgdW5kZWZpbmVkXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGJhc2UgZGVmaW5pdGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICByZXNvbHZlPFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBjb25zdHJ1Y3RvciBvciBhbiBhcnJheSBvZiBjb25zdHJ1Y3RvcnMgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UocykgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtMTogQV9UWVBFU19fSW5qZWN0YWJsZUNvbnN0cnVjdG9ycyxcblxuICAgICk6IFQgfCBBcnJheTxUPiB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29uc3RydWN0b3JzPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBjb25zdHJ1Y3RvciBvciBhbiBhcnJheSBvZiBjb25zdHJ1Y3RvcnMgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UocykgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtMTogSW5zdGFuY2VUeXBlPFQ+LFxuXG4gICAgKTogVCB8IEFycmF5PFQ+IHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgY29uc3RydWN0b3Igb3IgYW4gYXJyYXkgb2YgY29uc3RydWN0b3JzIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlKHMpIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbTE6IEFfVFlQRVNfX0luamVjdGFibGVDb25zdHJ1Y3RvcnMgfCBBcnJheTxBX1RZUEVTX19JbmplY3RhYmxlQ29uc3RydWN0b3JzPixcbiAgICAgICAgcGFyYW0yPzogUGFydGlhbDxBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25JbnN0cnVjdGlvbnM+XG4gICAgKTogVCB8IEFycmF5PFQ+IHwgdW5kZWZpbmVkIHtcblxuXG4gICAgICAgIGlmIChBX1R5cGVHdWFyZHMuaXNBcnJheShwYXJhbTEpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyYW0xLm1hcChjID0+IHRoaXMucmVzb2x2ZU9uY2UoYywgcGFyYW0yKSkgYXMgQXJyYXk8VD47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlT25jZShwYXJhbTEsIHBhcmFtMikgYXMgVDtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBwb2x5bW9ycGhpYyBtZXRob2QgYWxsb3dzIHRvIHJlc29sdmUvaW5qZWN0IGEgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgZnJvbSB0aGUgc2NvcGVcbiAgICAgKiBEZXBlbmRpbmcgb24gdGhlIHByb3ZpZGVkIHBhcmFtZXRlcnMgaXQgY2FuIHJlc29sdmU6XG4gICAgICogLSBBIHNpbmdsZSBjb21wb25lbnQvZnJhZ21lbnQvZW50aXR5IGJ5IGl0cyBjb25zdHJ1Y3RvciBvciBuYW1lXG4gICAgICogLSBBbiBhcnJheSBvZiBjb21wb25lbnRzL2ZyYWdtZW50cy9lbnRpdGllcyBieSBwcm92aWRpbmcgYW4gYXJyYXkgb2YgY29uc3RydWN0b3JzXG4gICAgICogLSBBbiBlbnRpdHkgb3IgYW4gYXJyYXkgb2YgZW50aXRpZXMgYnkgcHJvdmlkaW5nIHRoZSBlbnRpdHkgY29uc3RydWN0b3IgYW5kIHF1ZXJ5IGluc3RydWN0aW9uc1xuICAgICAqIFxuICAgICAqIFshXSBBcHBsaWNhYmxlIGZvciB0aGUgY3VycmVudCBzY29wZSBPTkxZLCBubyBwYXJlbnQgc2NvcGVzIGFyZSBjaGVja2VkXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKi9cbiAgICByZXNvbHZlRmxhdDxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8VD5cbiAgICApOiBUIHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZUZsYXQ8VCBleHRlbmRzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcltdPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gYXJyYXkgb2YgY29tcG9uZW50IGNvbnN0cnVjdG9ycyB0byByZXNvbHZlIHRoZWlyIGluc3RhbmNlcyBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50czogWy4uLlRdXG4gICAgKTogQXJyYXk8SW5zdGFuY2VUeXBlPFRbbnVtYmVyXT4+IHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZUZsYXQ8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGZyYWdtZW50IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudDogQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8VD5cbiAgICApOiBUIHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZUZsYXQ8VCBleHRlbmRzIEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yW10+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBhcnJheSBvZiBmcmFnbWVudCBjb25zdHJ1Y3RvcnMgdG8gcmVzb2x2ZSB0aGVpciBpbnN0YW5jZXMgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50czogWy4uLlRdXG4gICAgKTogQXJyYXk8SW5zdGFuY2VUeXBlPFRbbnVtYmVyXT4+IHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZUZsYXQ8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIG9yIGFuIGFycmF5IG9mIGluc3RhbmNlcyBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD5cbiAgICApOiBUIHwgdW5kZWZpbmVkXG5cbiAgICByZXNvbHZlRmxhdDxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2Ugb3IgYW4gYXJyYXkgb2YgaW5zdGFuY2VzIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgb3B0aW9uYWwgaW5zdHJ1Y3Rpb25zIHRvIGZpbmQgYSBzcGVjaWZpYyBlbnRpdHkgb3IgYSBzZXQgb2YgZW50aXRpZXNcbiAgICAgICAgICovXG4gICAgICAgIGluc3RydWN0aW9uczogUGFydGlhbDxBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25JbnN0cnVjdGlvbnM8VD4+XG4gICAgKTogQXJyYXk8VD5cbiAgICByZXNvbHZlRmxhdDxUIGV4dGVuZHMgQV9TY29wZT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VzIG9ubHkgaW4gY2FzZSBvZiByZXNvbHZpbmcgYSBzaW5nbGUgZW50aXR5XG4gICAgICAgICAqIFxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU6IEFfVFlQRVNfX1Njb3BlX0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogVCB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmVGbGF0PFQgZXh0ZW5kcyBBX0Vycm9yPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXMgb25seSBpbiBjYXNlIG9mIHJlc29sdmluZyBhIHNpbmdsZSBlbnRpdHlcbiAgICAgICAgICogXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBzY29wZTogQV9UWVBFU19fRXJyb3JfQ29uc3RydWN0b3I8VD5cbiAgICApOiBUIHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZUZsYXQ8VCBleHRlbmRzIEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHM+KFxuICAgICAgICBjb25zdHJ1Y3Rvck5hbWU6IHN0cmluZ1xuICAgICk6IFQgfCB1bmRlZmluZWRcbiAgICAvLyBiYXNlIGRlZmluaXRpb25cbiAgICByZXNvbHZlRmxhdDxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgY29uc3RydWN0b3Igb3IgYW4gYXJyYXkgb2YgY29uc3RydWN0b3JzIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlKHMpIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbTE6IEFfVFlQRVNfX0luamVjdGFibGVDb25zdHJ1Y3RvcnMsXG5cbiAgICApOiBUIHwgQXJyYXk8VD4gfCB1bmRlZmluZWRcbiAgICByZXNvbHZlRmxhdDxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVMaW5rZWRDb25zdHJ1Y3RvcnM+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IGNvbnN0cnVjdG9yIG9yIGFuIGFycmF5IG9mIGNvbnN0cnVjdG9ycyB0byByZXNvbHZlIGl0cyBpbnN0YW5jZShzKSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW0xOiBJbnN0YW5jZVR5cGU8VD4sXG5cbiAgICApOiBUIHwgQXJyYXk8VD4gfCB1bmRlZmluZWRcbiAgICByZXNvbHZlRmxhdDxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgY29uc3RydWN0b3Igb3IgYW4gYXJyYXkgb2YgY29uc3RydWN0b3JzIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlKHMpIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbTE6IEFfVFlQRVNfX0luamVjdGFibGVDb25zdHJ1Y3RvcnMgfCBBcnJheTxBX1RZUEVTX19JbmplY3RhYmxlQ29uc3RydWN0b3JzPixcbiAgICAgICAgcGFyYW0yPzogUGFydGlhbDxBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25JbnN0cnVjdGlvbnM+XG4gICAgKTogVCB8IEFycmF5PFQgfCB1bmRlZmluZWQ+IHwgdW5kZWZpbmVkIHtcblxuICAgICAgICBpZiAoQV9UeXBlR3VhcmRzLmlzQXJyYXkocGFyYW0xKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmFtMS5tYXAoYyA9PiB0aGlzLnJlc29sdmVGbGF0T25jZShjLCBwYXJhbTIpKSBhcyBBcnJheTxUPjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVGbGF0T25jZShwYXJhbTEsIHBhcmFtMikgYXMgVDtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUlOVEVSTkFMIFJFU09MVkVSUy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IHRvIHJlc29sdmUgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBieSBpdHMgY29uc3RydWN0b3IgbmFtZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlIHRoYXQgdGhpcyBtZXRob2QgY2hlY2tzIGZvciB0aGUgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgaW4gdGhlIGN1cnJlbnQgc2NvcGUgYW5kIGFsbCBwYXJlbnQgc2NvcGVzXG4gICAgICogWyEhXSBOb3RlOiBObyBwYXJlbnQgc2NvcGVzIGFyZSBjaGVja2VkXG4gICAgICogXG4gICAgICogQHBhcmFtIG5hbWUgIC0gbmFtZSBvZiB0aGUgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgdG8gcmVzb2x2ZSAoY29uc3RydWN0b3IgbmFtZSBmb3IgY29tcG9uZW50cyBhbmQgZnJhZ21lbnRzLCBzdGF0aWMgZW50aXR5IHByb3BlcnR5IGZvciBlbnRpdGllcywgc3RhdGljIGNvZGUgcHJvcGVydHkgZm9yIGNvbW1hbmRzKVxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVzb2x2ZUJ5TmFtZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IHRvIHJlc29sdmVcbiAgICAgICAgICovXG4gICAgICAgIG5hbWU6IHN0cmluZ1xuICAgICk6IF9FbnRpdHlUeXBlW251bWJlcl0gfCBJbnN0YW5jZVR5cGU8X0NvbXBvbmVudFR5cGVbbnVtYmVyXT4gfCBfRnJhZ21lbnRUeXBlW251bWJlcl0gfFxuICAgICAgICBJbnN0YW5jZVR5cGU8X0Vycm9yVHlwZVtudW1iZXJdPiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIC8vIDEpIENoZWNrIGNvbXBvbmVudHNcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRDb21wb25lbnRzKS5maW5kKFxuICAgICAgICAgICAgYyA9PiBjLm5hbWUgPT09IG5hbWVcbiAgICAgICAgICAgICAgICB8fCBjLm5hbWUgPT09IEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShuYW1lKVxuICAgICAgICApO1xuICAgICAgICBpZiAoY29tcG9uZW50KSByZXR1cm4gdGhpcy5yZXNvbHZlT25jZShjb21wb25lbnQpIGFzIEluc3RhbmNlVHlwZTxfQ29tcG9uZW50VHlwZVtudW1iZXJdPjtcblxuICAgICAgICAvLyAyKSBDaGVjayBlbnRpdGllc1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBBcnJheS5mcm9tKHRoaXMuYWxsb3dlZEVudGl0aWVzKS5maW5kKFxuICAgICAgICAgICAgZSA9PiBlLm5hbWUgPT09IG5hbWVcbiAgICAgICAgICAgICAgICB8fCBlLm5hbWUgPT09IEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShuYW1lKVxuICAgICAgICAgICAgICAgIHx8IChlIGFzIGFueSkuZW50aXR5ID09PSBuYW1lXG4gICAgICAgICAgICAgICAgfHwgKGUgYXMgYW55KS5lbnRpdHkgPT09IEFfRm9ybWF0dGVySGVscGVyLnRvS2ViYWJDYXNlKG5hbWUpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChlbnRpdHkpIHJldHVybiB0aGlzLnJlc29sdmVPbmNlKGVudGl0eSkgYXMgSW5zdGFuY2VUeXBlPF9FbnRpdHlUeXBlW251bWJlcl0+O1xuXG4gICAgICAgIC8vIDMpIENoZWNrIGZyYWdtZW50c1xuICAgICAgICBjb25zdCBmcmFnbWVudCA9IEFycmF5LmZyb20odGhpcy5hbGxvd2VkRnJhZ21lbnRzKS5maW5kKGYgPT4gZi5uYW1lID09PSBuYW1lXG4gICAgICAgICAgICB8fCBmLm5hbWUgPT09IEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShuYW1lKVxuICAgICAgICApO1xuICAgICAgICBpZiAoZnJhZ21lbnQpIHJldHVybiB0aGlzLnJlc29sdmVPbmNlKGZyYWdtZW50KSBhcyBfRnJhZ21lbnRUeXBlW251bWJlcl07XG5cbiAgICAgICAgLy8gNCkgQ2hlY2sgZXJyb3JzXG4gICAgICAgIGNvbnN0IGVycm9yID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRFcnJvcnMpLmZpbmQoXG4gICAgICAgICAgICBlID0+IGUubmFtZSA9PT0gbmFtZVxuICAgICAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5hbWUpXG4gICAgICAgICAgICAgICAgfHwgKGUgYXMgYW55KS5jb2RlID09PSBuYW1lXG4gICAgICAgICAgICAgICAgfHwgKGUgYXMgYW55KS5jb2RlID09PSBBX0Zvcm1hdHRlckhlbHBlci50b0tlYmFiQ2FzZShuYW1lKVxuICAgICAgICApO1xuICAgICAgICBpZiAoZXJyb3IpIHJldHVybiB0aGlzLnJlc29sdmVPbmNlKGVycm9yKSBhcyBJbnN0YW5jZVR5cGU8X0Vycm9yVHlwZVtudW1iZXJdPjtcblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIGEgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgZnJvbSB0aGUgc2NvcGUgd2l0aG91dCBjaGVja2luZyBwYXJlbnQgc2NvcGVzXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKiBAcGFyYW0gaW5zdHJ1Y3Rpb25zIFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVzb2x2ZUZsYXRPbmNlKFxuICAgICAgICBjb21wb25lbnQ6IGFueSxcbiAgICAgICAgaW5zdHJ1Y3Rpb25zPzogUGFydGlhbDxBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25JbnN0cnVjdGlvbnM+XG4gICAgKTogQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cyB8IEFfU2NvcGUgfCBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMgfCBBcnJheTxBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPiB8IHVuZGVmaW5lZCB7XG5cbiAgICAgICAgbGV0IHZhbHVlOiBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzIHwgQV9TY29wZSB8IEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyB8IEFycmF5PEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHM+IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKGNvbXBvbmVudCk7XG5cbiAgICAgICAgaWYgKCFjb21wb25lbnQgfHwgIXRoaXMuaGFzKGNvbXBvbmVudCkpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcoY29tcG9uZW50KToge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5yZXNvbHZlQnlOYW1lKGNvbXBvbmVudCkgYXMgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cyB8IEFfU2NvcGUgfCBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbnN0cnVjdG9yQWxsb3dlZEZvclNjb3BlQWxsb2NhdGlvbihjb21wb25lbnQpOiB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnJlc29sdmVJc3N1ZXIoY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5Q29uc3RydWN0b3IoY29tcG9uZW50KToge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5yZXNvbHZlRW50aXR5KGNvbXBvbmVudCwgaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRnJhZ21lbnRDb25zdHJ1Y3Rvcihjb21wb25lbnQpOiB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnJlc29sdmVGcmFnbWVudChjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTY29wZUNvbnN0cnVjdG9yKGNvbXBvbmVudCk6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMucmVzb2x2ZVNjb3BlKGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKGNvbXBvbmVudCk6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMucmVzb2x2ZUNvbXBvbmVudChjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFcnJvckNvbnN0cnVjdG9yKGNvbXBvbmVudCk6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMucmVzb2x2ZUVycm9yKGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5SZXNvbHV0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGBJbmplY3RlZCBDb21wb25lbnQgJHtjb21wb25lbnROYW1lfSBub3QgZm91bmQgaW4gdGhlIHNjb3BlYFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IHRvIHJlc29sdmUgYSBzaW5nbGUgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgZnJvbSB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEBwYXJhbSBpbnN0cnVjdGlvbnMgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNvbHZlT25jZShcbiAgICAgICAgY29tcG9uZW50OiBhbnksXG4gICAgICAgIGluc3RydWN0aW9ucz86IFBhcnRpYWw8QV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uSW5zdHJ1Y3Rpb25zPlxuICAgICk6IEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHMgfCBBX1Njb3BlIHwgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHwgQXJyYXk8QV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4gfCB1bmRlZmluZWQge1xuXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMucmVzb2x2ZUZsYXRPbmNlKGNvbXBvbmVudCwgaW5zdHJ1Y3Rpb25zKTtcblxuICAgICAgICAvLyAgVGhlIGlkZWEgaGVyZSB0aGF0IGluIGNhc2Ugd2hlbiBTY29wZSBoYXMgbm8gZXhhY3QgY29tcG9uZW50IHdlIGhhdmUgdG8gcmVzb2x2ZSBpdCBmcm9tIHRoZSBfcGFyZW50XG4gICAgICAgIC8vICBUaGF0IG1lYW5zIHRoYXQgd2Ugc2hvdWxkIGVuc3VyZSB0aGF0IHRoZXJlJ3Mgbm8gY29tcG9uZW50cyB0aGF0IGFyZSBjaGlsZHJlbiBvZiB0aGUgcmVxdWlyZWQgY29tcG9uZW50XG4gICAgICAgIGlmICghdmFsdWVzICYmICEhdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5yZXNvbHZlT25jZShjb21wb25lbnQsIGluc3RydWN0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgdGhlIGlzc3VlciBvZiB0aGUgc2NvcGUgYnkgcHJvdmlkZWQgY29uc3RydWN0b3JcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGNoZWNrcyBPTkxZIGZvciB0aGUgZGlyZWN0IGlzc3VlciBvZiB0aGUgc2NvcGVcbiAgICAgKiBbISFdIE5vIHBhcmVudCBzY29wZXMgYXJlIGNoZWNrZWRcbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY3RvciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlc29sdmVJc3N1ZXIoXG4gICAgICAgIGN0b3I6IEFfVFlQRVNfX1Njb3BlTGlua2VkQ29uc3RydWN0b3JzXG4gICAgKTogQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHwgdW5kZWZpbmVkIHtcblxuICAgICAgICBjb25zdCBpc3N1ZXIgPSB0aGlzLmlzc3VlcigpO1xuXG4gICAgICAgIGlmIChpc3N1ZXJcbiAgICAgICAgICAgICYmIChcbiAgICAgICAgICAgICAgICBpc3N1ZXIuY29uc3RydWN0b3IgPT09IGN0b3JcbiAgICAgICAgICAgICAgICB8fCBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oaXNzdWVyPy5jb25zdHJ1Y3RvciwgY3RvcilcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgIHJldHVybiBpc3N1ZXIhO1xuICAgICAgICB9XG5cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSB0byByZXNvbHZlIGEgc2luZ2xlIGVudGl0eSBmcm9tIHRoZSBzY29wZSBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgaW5zdHJ1Y3Rpb25zXG4gICAgICogXG4gICAgICogWyFdIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBjYW4gcmV0dXJuIGVpdGhlciBhIHNpbmdsZSBlbnRpdHkgb3IgYW4gYXJyYXkgb2YgZW50aXRpZXMgZGVwZW5kaW5nIG9uIHRoZSBpbnN0cnVjdGlvbnMgcHJvdmlkZWRcbiAgICAgKiBbISFdIE5vdGU6IE5vIHBhcmVudCBzY29wZXMgYXJlIGNoZWNrZWQgIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBlbnRpdHkgXG4gICAgICogQHBhcmFtIGluc3RydWN0aW9ucyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlc29sdmVFbnRpdHk8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD4sXG4gICAgICAgIGluc3RydWN0aW9ucz86IFBhcnRpYWw8QV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uSW5zdHJ1Y3Rpb25zPFQ+PlxuICAgICk6IFQgfCBBcnJheTxUPiB8IHVuZGVmaW5lZCB7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSBpbnN0cnVjdGlvbnM/LnF1ZXJ5IHx8IHt9IGFzIFBhcnRpYWw8QV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uUXVlcnk8VD4+O1xuICAgICAgICBjb25zdCBjb3VudCA9IGluc3RydWN0aW9ucz8ucGFnaW5hdGlvbj8uY291bnQgfHwgMTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogMSkgSW4gY2FzZSB3aGVuIG5vIGluc3RydWN0aW9ucyBwcm92aWRlZCwgcmV0dXJuIHRoZSBmaXJzdCBmb3VuZCBlbnRpdHkgb2YgdGhlIHByb3ZpZGVkIHR5cGVcbiAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICogWyFdIE5vdGUgdGhhdCBpdCByZXR1cm5zIE9OTFkgT05FIGVudGl0eVxuICAgICAgICAgICAgICogWyEhXSBJbiBjYXNlIHdoZW4gbm8gZW50aXR5IGZvdW5kIGluIHRoZSBjdXJyZW50IHNjb3BlLCBpdCB0cmllcyB0byByZXNvbHZlIGl0IGZyb20gdGhlIHBhcmVudCBzY29wZSAoaWYgZXhpc3RzKVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjYXNlICFpbnN0cnVjdGlvbnM6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbnRpdGllcy5maW5kKGUgPT4gZSBpbnN0YW5jZW9mIGVudGl0eSkgYXMgVCB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogMikgSW4gY2FzZSB3aGVuIGFzZWlkIGlzIHByb3ZpZGVkIGluIHRoZSBxdWVyeSwgd2UgY2FuIGRpcmVjdGx5IGdldCB0aGUgZW50aXR5IGZyb20gdGhlIG1hcFxuICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgKiBbIV0gTm90ZSB0aGF0IGl0IHJldHVybnMgT05MWSBPTkUgZW50aXR5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhc2UgISFxdWVyeS5hc2VpZFxuICAgICAgICAgICAgICAgICYmIHR5cGVvZiBxdWVyeS5hc2VpZCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAmJiB0aGlzLl9lbnRpdGllcy5oYXMocXVlcnkuYXNlaWQpOiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbnRpdGllcy5nZXQocXVlcnkuYXNlaWQpIGFzIFQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAzKSBJbiBjYXNlIHdoZW4gYXNlaWQgaXMgcHJvdmlkZWQgYXMgQVNFSUQgaW5zdGFuY2UsIHdlIGNhbiBkaXJlY3RseSBnZXQgdGhlIGVudGl0eSBmcm9tIHRoZSBtYXBcbiAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICogWyFdIE5vdGUgdGhhdCBpdCByZXR1cm5zIE9OTFkgT05FIGVudGl0eVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjYXNlICEhcXVlcnkuYXNlaWRcbiAgICAgICAgICAgICAgICAmJiB0eXBlb2YgcXVlcnkuYXNlaWQgPT09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgJiYgcXVlcnkuYXNlaWQgaW5zdGFuY2VvZiBBU0VJRFxuICAgICAgICAgICAgICAgICYmIHRoaXMuX2VudGl0aWVzLmhhcyhxdWVyeS5hc2VpZC50b1N0cmluZygpKToge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZW50aXRpZXMuZ2V0KHF1ZXJ5LmFzZWlkLnRvU3RyaW5nKCkpIGFzIFQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiA0KSBJbiBjYXNlIHdoZW4gaWQgaXMgcHJvdmlkZWQgaW4gdGhlIHF1ZXJ5LCB3ZSBoYXZlIHRvIGZpbmQgdGhlIGVudGl0eSBieSB0aGUgaWRcbiAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICogWyFdICBOb3RlIHRoYXQgaXQgcmV0dXJucyBPTkxZIE9ORSBlbnRpdHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY2FzZSAhIXF1ZXJ5LmlkOiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IHRoaXMuZW50aXRpZXNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihlID0+IGUgaW5zdGFuY2VvZiBlbnRpdHkpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKGUgPT4gU3RyaW5nKGUuaWQpID09PSBTdHJpbmcocXVlcnkuaWQpKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZCBhcyBUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiA1KSBJbiBjYXNlIHdoZW4gdGhlcmUncyBhIHF1ZXJ5IG9iamVjdCwgd2UgaGF2ZSB0byBmaWx0ZXIgdGhlIGVudGl0aWVzIGJ5IHRoZSBxdWVyeVxuICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgKiBbIV0gTm90ZSB0aGF0IGl0IGNhbiByZXR1cm4gZWl0aGVyIGEgc2luZ2xlIGVudGl0eSBvciBhbiBhcnJheSBvZiBlbnRpdGllcyBkZXBlbmRpbmcgb24gdGhlIGNvdW50IGluc3RydWN0aW9uXG4gICAgICAgICAgICAgKiBbISFdIEluIGNhc2Ugd2hlbiBubyBlbnRpdHkgZm91bmQgaW4gdGhlIGN1cnJlbnQgc2NvcGUsIGl0IHRyaWVzIHRvIHJlc29sdmUgaXQgZnJvbSB0aGUgcGFyZW50IHNjb3BlIChpZiBleGlzdHMpXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy5lbnRpdGllc1xuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGUgPT4gZSBpbnN0YW5jZW9mIGVudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZW50cmllcyhxdWVyeSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXZlcnkoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoZSBhcyBhbnkpW2tleV0gPT09IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZm91bmQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm91bmRbMF0gYXMgVDtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZCBhcyBUW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IHRvIHJlc29sdmUgYSBzaW5nbGUgZXJyb3IgZnJvbSB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGF0IGVycm9ycyBhcmUgc2luZ2xldG9uIGluc3RhbmNlcyB3aXRoaW4gdGhlIHNjb3BlXG4gICAgICogWyEhXSBObyBwYXJlbnQgc2NvcGVzIGFyZSBjaGVja2VkXG4gICAgICogXG4gICAgICogQHBhcmFtIGVycm9yIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVzb2x2ZUVycm9yPFQgZXh0ZW5kcyBBX0Vycm9yPihlcnJvcjogQV9UWVBFU19fRXJyb3JfQ29uc3RydWN0b3I8VD4pOiBUIHwgdW5kZWZpbmVkIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnMuZmluZChlID0+IGUgaW5zdGFuY2VvZiBlcnJvcikgYXMgVCB8IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IHRvIHJlc29sdmUgYSBzaW5nbGUgZnJhZ21lbnQgZnJvbSB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGNoZWNrcyBmb3IgdGhlIGZyYWdtZW50IGluIHRoZSBjdXJyZW50IHNjb3BlIGFuZCBhbGwgcGFyZW50IHNjb3Blc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBmcmFnbWVudCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlc29sdmVGcmFnbWVudDxUIGV4dGVuZHMgQV9GcmFnbWVudD4oZnJhZ21lbnQ6IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+KTogX0ZyYWdtZW50VHlwZVtudW1iZXJdIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgZnJhZ21lbnRJbnN0YW5jZVByZXNlbnRlZCA9IHRoaXMuX2ZyYWdtZW50cy5nZXQoZnJhZ21lbnQpO1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBmcmFnbWVudEluc3RhbmNlUHJlc2VudGVkICYmIHRoaXMuX2ZyYWdtZW50cy5oYXMoZnJhZ21lbnQpOlxuICAgICAgICAgICAgICAgIHJldHVybiBmcmFnbWVudEluc3RhbmNlUHJlc2VudGVkO1xuXG4gICAgICAgICAgICAvLyAzKSBJbiBjYXNlIHdoZW4gdGhlcmUncyBhIGNvbXBvbmVudCB0aGF0IGlzIGluaGVyaXRlZCBmcm9tIHRoZSByZXF1aXJlZCBjb21wb25lbnRcbiAgICAgICAgICAgIGNhc2UgIWZyYWdtZW50SW5zdGFuY2VQcmVzZW50ZWQgJiYgQXJyYXkuZnJvbSh0aGlzLl9hbGxvd2VkRnJhZ21lbnRzKS5zb21lKGVsID0+IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShlbCwgZnJhZ21lbnQpKToge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gQXJyYXkuZnJvbSh0aGlzLl9hbGxvd2VkRnJhZ21lbnRzKS5maW5kKGVsID0+IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShlbCwgZnJhZ21lbnQpKSE7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlRnJhZ21lbnQoZm91bmQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSB0byByZXNvbHZlIGEgc2luZ2xlIHNjb3BlIGZyb20gdGhlIGN1cnJlbnQgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNvbHZlU2NvcGUoc2NvcGU6IEFfVFlQRVNfX1Njb3BlX0NvbnN0cnVjdG9yKTogQV9TY29wZSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSB0byByZXNvbHZlIGEgc2luZ2xlIGNvbXBvbmVudCBmcm9tIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFshIV0gTm90ZTogTm8gcGFyZW50IHNjb3BlcyBhcmUgY2hlY2tlZCAgXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlc29sdmVDb21wb25lbnQ8VCBleHRlbmRzIEFfQ29tcG9uZW50Pihjb21wb25lbnQ6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPik6IEluc3RhbmNlVHlwZTxfQ29tcG9uZW50VHlwZVtudW1iZXJdPiB8IHVuZGVmaW5lZCB7XG5cblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIC8vIDEpIEluIGNhc2Ugd2hlbiB0aGUgY29tcG9uZW50IGlzIGF2YWlsYWJsZSBhbmQgZXhpc3RzIGluIHRoZSBzY29wZVxuICAgICAgICAgICAgY2FzZSB0aGlzLmFsbG93ZWRDb21wb25lbnRzLmhhcyhjb21wb25lbnQpICYmIHRoaXMuX2NvbXBvbmVudHMuaGFzKGNvbXBvbmVudCk6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50cy5nZXQoY29tcG9uZW50KSE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDIpIEluIGNhc2UgdGhlIGNvbXBvbmVudCBhdmFpbGFibGUgYnV0IGRvZXMgTk9UIGV4aXN0IGluIHRoZSBzY29wZVxuICAgICAgICAgICAgY2FzZSB0aGlzLmFsbG93ZWRDb21wb25lbnRzLmhhcyhjb21wb25lbnQpICYmICF0aGlzLl9jb21wb25lbnRzLmhhcyhjb21wb25lbnQpOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50TWV0YSA9IEFfQ29udGV4dC5tZXRhKGNvbXBvbmVudClcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3NNZXRhID0gY29tcG9uZW50TWV0YS5nZXQoQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5JTkpFQ1RJT05TKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkQXJncyA9IChhcmdzTWV0YT8uZ2V0KCdjb25zdHJ1Y3RvcicpIHx8IFtdKVxuICAgICAgICAgICAgICAgICAgICAubWFwKGFyZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgRXJyb3IgaGFuZGxpbmcgcHVycG9zZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKGFyZy50YXJnZXQpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgnaW5zdHJ1Y3Rpb25zJyBpbiBhcmcgJiYgISFhcmcuaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB0YXJnZXQsIHBhcmVudCwgZmxhdCwgaW5zdHJ1Y3Rpb25zIH0gPSBhcmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXBlbmRlbmN5ID0gdGhpcy5yZXNvbHZlKHRhcmdldCBhcyBhbnksIGluc3RydWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkZXBlbmRlbmN5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQV9TY29wZUVycm9yLlJlc29sdXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gcmVzb2x2ZSBkZXBlbmRlbmN5ICR7Y29tcG9uZW50TmFtZX0gZm9yIGNvbXBvbmVudCAke2NvbXBvbmVudC5uYW1lfSBpbiBzY29wZSAke3RoaXMubmFtZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVwZW5kZW5jeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB0YXJnZXQsIHJlcXVpcmUsIGNyZWF0ZSwgZGVmYXVsdEFyZ3MsIHBhcmVudCwgZmxhdCwgfSA9IGFyZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZXBlbmRlbmN5O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0gUmVzb2x1dGlvbiBTdHJhdGVnaWVzIC0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEpIEZsYXQgcmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGZsYXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLnJlc29sdmVGbGF0KHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAyKSBQYXJlbnQgcmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHBhcmVudCAmJiB0eXBlb2YgcGFyZW50LmxheWVyT2Zmc2V0ID09PSAnbnVtYmVyJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0UGFyZW50ID0gdGhpcy5wYXJlbnRPZmZzZXQocGFyZW50LmxheWVyT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0UGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQV9TY29wZUVycm9yLlJlc29sdXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFVuYWJsZSB0byByZXNvbHZlIHBhcmVudCBzY29wZSBhdCBvZmZzZXQgJHtwYXJlbnQubGF5ZXJPZmZzZXR9IGZvciBkZXBlbmRlbmN5ICR7Y29tcG9uZW50TmFtZX0gZm9yIGNvbXBvbmVudCAke2NvbXBvbmVudC5uYW1lfSBpbiBzY29wZSAke3RoaXMubmFtZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY3kgPSB0YXJnZXRQYXJlbnQucmVzb2x2ZSh0YXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAzKSBOb3JtYWwgcmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5yZXNvbHZlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tIFBvc3QtUmVzb2x1dGlvbiBBY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxKSBDcmVhdGUgZGVmYXVsdCBpbnN0YW5jZSBpbiBjYXNlIHdoZW4gYWxsb3dlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGUgJiYgIWRlcGVuZGVuY3kgJiYgQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckRlcGVuZGVuY3lEZWZhdWx0Q3JlYXRpb24odGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gbmV3IHRhcmdldCguLi5kZWZhdWx0QXJncyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlcihkZXBlbmRlbmN5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAyKSBUaHJvdyBlcnJvciBpbiBjYXNlIHdoZW4gcmVxdWlyZWQgYnV0IG5vdCByZXNvbHZlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlICYmICFkZXBlbmRlbmN5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuUmVzb2x1dGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFVuYWJsZSB0byByZXNvbHZlIHJlcXVpcmVkIGRlcGVuZGVuY3kgJHtjb21wb25lbnROYW1lfSBmb3IgY29tcG9uZW50ICR7Y29tcG9uZW50Lm5hbWV9IGluIHNjb3BlICR7dGhpcy5uYW1lfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBGaW5hbGx5LCByZXR1cm4gdGhlIGRlcGVuZGVuY3kgKGVpdGhlciByZXNvbHZlZCBvciB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlcGVuZGVuY3k7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q29tcG9uZW50ID0gbmV3IGNvbXBvbmVudCguLi5yZXNvbHZlZEFyZ3MpXG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKG5ld0NvbXBvbmVudCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50cy5nZXQoY29tcG9uZW50KSE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDMpIEluIGNhc2Ugd2hlbiB0aGVyZSdzIGEgY29tcG9uZW50IHRoYXQgaXMgaW5oZXJpdGVkIGZyb20gdGhlIHJlcXVpcmVkIGNvbXBvbmVudFxuICAgICAgICAgICAgY2FzZSAhdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5oYXMoY29tcG9uZW50KSAmJiBBcnJheS5mcm9tKHRoaXMuYWxsb3dlZENvbXBvbmVudHMpLnNvbWUoZWwgPT4gQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGVsLCBjb21wb25lbnQpKToge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRDb21wb25lbnRzKS5maW5kKGVsID0+IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShlbCwgY29tcG9uZW50KSkhO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZUNvbXBvbmVudChmb3VuZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byByZWdpc3RlciB0aGUgY29tcG9uZW50IGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBmcmFnbWVudCBcbiAgICAgKi9cbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCBjb25zdHJ1Y3RvciB0byByZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogdm9pZFxuICAgIHJlZ2lzdGVyPFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tbWFuZCBpbnN0YW5jZSB0byByZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogVFxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9FcnJvcj4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVycm9yIGNvbnN0cnVjdG9yIHRvIHJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3I6IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogdm9pZFxuICAgIHJlZ2lzdGVyPFQgZXh0ZW5kcyBBX0Vycm9yPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZXJyb3IgaW5zdGFuY2UgdG8gcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlcnJvcjogVFxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tbWFuZCBpbnN0YW5jZSB0byByZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgaW5zdGFuY2UgdG8gcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudDogVFxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgaW5zdGFuY2UgdG8gcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IFRcbiAgICApOiB2b2lkXG5cbiAgICByZWdpc3RlcihcbiAgICAgICAgcGFyYW0xOiB1bmtub3duXG4gICAgKTogdm9pZCB7XG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0gSW5zdGFuY2VzIC0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gMSkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUNvbXBvbmVudCBpbnN0YW5jZVxuICAgICAgICAgICAgY2FzZSBwYXJhbTEgaW5zdGFuY2VvZiBBX0NvbXBvbmVudDoge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmFsbG93ZWRDb21wb25lbnRzLmhhcyhwYXJhbTEuY29uc3RydWN0b3IgYXMgX0NvbXBvbmVudFR5cGVbbnVtYmVyXSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dlZENvbXBvbmVudHMuYWRkKHBhcmFtMS5jb25zdHJ1Y3RvciBhcyBfQ29tcG9uZW50VHlwZVtudW1iZXJdKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudHMuc2V0KFxuICAgICAgICAgICAgICAgICAgICBwYXJhbTEuY29uc3RydWN0b3IgYXMgX0NvbXBvbmVudFR5cGVbbnVtYmVyXSxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0xIGFzIEluc3RhbmNlVHlwZTxfQ29tcG9uZW50VHlwZVtudW1iZXJdPlxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBBX0NvbnRleHQucmVnaXN0ZXIodGhpcywgcGFyYW0xKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMykgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUVudGl0eSBpbnN0YW5jZVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbTEpICYmICF0aGlzLl9lbnRpdGllcy5oYXMocGFyYW0xLmFzZWlkLnRvU3RyaW5nKCkpOiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYWxsb3dlZEVudGl0aWVzLmhhcyhwYXJhbTEuY29uc3RydWN0b3IgYXMgX0VudGl0eVR5cGVbbnVtYmVyXSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dlZEVudGl0aWVzLmFkZChwYXJhbTEuY29uc3RydWN0b3IgYXMgX0VudGl0eVR5cGVbbnVtYmVyXSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdGllcy5zZXQocGFyYW0xLmFzZWlkLnRvU3RyaW5nKCksIHBhcmFtMSBhcyBJbnN0YW5jZVR5cGU8X0VudGl0eVR5cGVbbnVtYmVyXT4pO1xuICAgICAgICAgICAgICAgIEFfQ29udGV4dC5yZWdpc3Rlcih0aGlzLCBwYXJhbTEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNCkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUZyYWdtZW50IGluc3RhbmNlXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0ZyYWdtZW50SW5zdGFuY2UocGFyYW0xKToge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmFsbG93ZWRGcmFnbWVudHMuaGFzKHBhcmFtMS5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxfRnJhZ21lbnRUeXBlW251bWJlcl0+KSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkRnJhZ21lbnRzLmFkZChwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9mcmFnbWVudHMuc2V0KFxuICAgICAgICAgICAgICAgICAgICBwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPixcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0xIGFzIF9GcmFnbWVudFR5cGVbbnVtYmVyXVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBBX0NvbnRleHQucmVnaXN0ZXIodGhpcywgcGFyYW0xKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNSkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUVycm9yIGluc3RhbmNlXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Vycm9ySW5zdGFuY2UocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkRXJyb3JzLmhhcyhwYXJhbTEuY29uc3RydWN0b3IgYXMgX0Vycm9yVHlwZVtudW1iZXJdKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkRXJyb3JzLmFkZChwYXJhbTEuY29uc3RydWN0b3IgYXMgX0Vycm9yVHlwZVtudW1iZXJdKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9ycy5zZXQoXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtMS5jb2RlLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbTEgYXMgSW5zdGFuY2VUeXBlPF9FcnJvclR5cGVbbnVtYmVyXT5cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgQV9Db250ZXh0LnJlZ2lzdGVyKHRoaXMsIHBhcmFtMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tIENvbnN0cnVjdG9ycyAtLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIDYpIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1Db21wb25lbnQgY29uc3RydWN0b3JcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5oYXMocGFyYW0xKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5hZGQocGFyYW0xIGFzIF9Db21wb25lbnRUeXBlW251bWJlcl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gOCkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUZyYWdtZW50IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0ZyYWdtZW50Q29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkRnJhZ21lbnRzLmhhcyhwYXJhbTEpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRGcmFnbWVudHMuYWRkKHBhcmFtMSBhcyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxfRnJhZ21lbnRUeXBlW251bWJlcl0+KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDkpIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1FbnRpdHkgY29uc3RydWN0b3JcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5Q29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkRW50aXRpZXMuaGFzKHBhcmFtMSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dlZEVudGl0aWVzLmFkZChwYXJhbTEgYXMgX0VudGl0eVR5cGVbbnVtYmVyXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAxMCkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUVycm9yIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Vycm9yQ29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkRXJyb3JzLmhhcyhwYXJhbTEpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRFcnJvcnMuYWRkKHBhcmFtMSBhcyBfRXJyb3JUeXBlW251bWJlcl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLSBJbnZhbGlkIENhc2VzIC0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmIChwYXJhbTEgaW5zdGFuY2VvZiBBX0VudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5SZWdpc3RyYXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGBFbnRpdHkgd2l0aCBBU0VJRCAke3BhcmFtMS5hc2VpZC50b1N0cmluZygpfSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgaW4gdGhlIHNjb3BlICR7dGhpcy5uYW1lfWBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXJhbTEgaW5zdGFuY2VvZiBBX0ZyYWdtZW50KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgQV9TY29wZUVycm9yLlJlZ2lzdHJhdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYEZyYWdtZW50ICR7cGFyYW0xLmNvbnN0cnVjdG9yLm5hbWV9IGlzIGFscmVhZHkgcmVnaXN0ZXJlZCBpbiB0aGUgc2NvcGUgJHt0aGlzLm5hbWV9YFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShwYXJhbTEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuUmVnaXN0cmF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBgQ2Fubm90IHJlZ2lzdGVyICR7Y29tcG9uZW50TmFtZX0gaW4gdGhlIHNjb3BlICR7dGhpcy5uYW1lfWBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gZGVyZWdpc3RlciB0aGUgY29tcG9uZW50IGZyb20gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGZyYWdtZW50IFxuICAgICAqL1xuICAgIGRlcmVnaXN0ZXI8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgY29uc3RydWN0b3IgdG8gZGVyZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogdm9pZFxuICAgIGRlcmVnaXN0ZXIoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tbWFuZCBpbnN0YW5jZSB0byBkZXJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX0NvbXBvbmVudFxuICAgICk6IHZvaWRcbiAgICBkZXJlZ2lzdGVyPFQgZXh0ZW5kcyBBX0Vycm9yPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZXJyb3IgY29uc3RydWN0b3IgdG8gZGVyZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVycm9yOiBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICBkZXJlZ2lzdGVyKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlcnJvciBpbnN0YW5jZSB0byBkZXJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3I6IEFfRXJyb3JcbiAgICApOiB2b2lkXG4gICAgZGVyZWdpc3RlcjxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tbWFuZCBpbnN0YW5jZSB0byBkZXJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZnJhZ21lbnQ6IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogdm9pZFxuICAgIGRlcmVnaXN0ZXIoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgaW5zdGFuY2UgdG8gZGVyZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX0ZyYWdtZW50XG4gICAgKTogdm9pZFxuICAgIGRlcmVnaXN0ZXI8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGNvbnN0cnVjdG9yIHRvIGRlcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICBkZXJlZ2lzdGVyKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgaW5zdGFuY2UgdG8gZGVyZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVudGl0eTogQV9FbnRpdHlcbiAgICApOiB2b2lkXG5cbiAgICBkZXJlZ2lzdGVyKFxuICAgICAgICBwYXJhbTE6IHVua25vd25cbiAgICApOiB2b2lkIHtcbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLSBJbnN0YW5jZXMgLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAxKSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtQ29tcG9uZW50IGluc3RhbmNlXG4gICAgICAgICAgICBjYXNlIHBhcmFtMSBpbnN0YW5jZW9mIEFfQ29tcG9uZW50OiB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wb25lbnRzLmRlbGV0ZShwYXJhbTEuY29uc3RydWN0b3IgYXMgX0NvbXBvbmVudFR5cGVbbnVtYmVyXSk7XG4gICAgICAgICAgICAgICAgQV9Db250ZXh0LmRlcmVnaXN0ZXIocGFyYW0xKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMykgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUVudGl0eSBpbnN0YW5jZVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbTEpOiB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdGllcy5kZWxldGUocGFyYW0xLmFzZWlkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIEFfQ29udGV4dC5kZXJlZ2lzdGVyKHBhcmFtMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA0KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtRnJhZ21lbnQgaW5zdGFuY2VcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRnJhZ21lbnRJbnN0YW5jZShwYXJhbTEpOiB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9mcmFnbWVudHMuZGVsZXRlKHBhcmFtMS5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxfRnJhZ21lbnRUeXBlW251bWJlcl0+KTtcbiAgICAgICAgICAgICAgICBBX0NvbnRleHQuZGVyZWdpc3RlcihwYXJhbTEpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA1KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtRXJyb3IgaW5zdGFuY2VcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JJbnN0YW5jZShwYXJhbTEpOiB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvcnMuZGVsZXRlKHBhcmFtMS5jb2RlKTtcbiAgICAgICAgICAgICAgICBBX0NvbnRleHQuZGVyZWdpc3RlcihwYXJhbTEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLSBDb25zdHJ1Y3RvcnMgLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyA2KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtQ29tcG9uZW50IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRDb21wb25lbnRzLmRlbGV0ZShwYXJhbTEgYXMgX0NvbXBvbmVudFR5cGVbbnVtYmVyXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA4KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtRnJhZ21lbnQgY29uc3RydWN0b3JcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRnJhZ21lbnRDb25zdHJ1Y3RvcihwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkRnJhZ21lbnRzLmRlbGV0ZShwYXJhbTEgYXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA5KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtRW50aXR5IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0VudGl0eUNvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRFbnRpdGllcy5kZWxldGUocGFyYW0xIGFzIF9FbnRpdHlUeXBlW251bWJlcl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMTApIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1FcnJvciBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFcnJvckNvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRFcnJvcnMuZGVsZXRlKHBhcmFtMSBhcyBfRXJyb3JUeXBlW251bWJlcl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLSBJbnZhbGlkIENhc2VzIC0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHBhcmFtMSk7XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuRGVyZWdpc3RyYXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgYENhbm5vdCBkZXJlZ2lzdGVyICR7Y29tcG9uZW50TmFtZX0gZnJvbSB0aGUgc2NvcGUgJHt0aGlzLm5hbWV9YFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VmdWwgd2hlbiB5b3Ugd2FudCB0byBzZXJpYWxpemUgdGhlIHNjb3BlIHRvIEpTT05cbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGlzIGlzIG5vdCBhIGRlZXAgc2VyaWFsaXphdGlvbiwgb25seSB0aGUgZnJhZ21lbnRzIGFyZSBzZXJpYWxpemVkXG4gICAgICogWyFdIEZyYWdtZW50cyBhcmUgYSBzdG9yYWdlIGZvciBpbmZvcm1hdGlvbiB3aGljaCBpcyByZWxldmFudCB0byB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICB0b0pTT04oKTogUmVjb3JkPHN0cmluZywgYW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyYWdtZW50c1xuICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCBmcmFnbWVudCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IGZyYWdtZW50LnRvSlNPTigpXG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICAgICAgICAgIFtzZXJpYWxpemVkLm5hbWVdOiBzZXJpYWxpemVkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge30pO1xuICAgIH1cblxuXG5cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1TY29wZSBUeXBlIENoZWNrIEhlbHBlcnMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX0NvbXBvbmVudCBhbmQgaXMgYWxsb3dlZCBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY3RvciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgaXNBbGxvd2VkQ29tcG9uZW50KGN0b3I6IHVua25vd24pOiBjdG9yIGlzIF9Db21wb25lbnRUeXBlW251bWJlcl0ge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IoY3RvcikgJiYgdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5oYXMoY3Rvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGNvbnN0cnVjdG9yIGlzIG9mIHR5cGUgQV9FbnRpdHkgYW5kIGlzIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGlzQWxsb3dlZEVudGl0eShjdG9yOiB1bmtub3duKTogY3RvciBpcyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8X0VudGl0eVR5cGVbbnVtYmVyXT4ge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzRW50aXR5Q29uc3RydWN0b3IoY3RvcikgJiYgdGhpcy5hbGxvd2VkRW50aXRpZXMuaGFzKGN0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfRnJhZ21lbnQgYW5kIGlzIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGlzQWxsb3dlZEZyYWdtZW50KGN0b3I6IHVua25vd24pOiBjdG9yIGlzIEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPF9GcmFnbWVudFR5cGVbbnVtYmVyXT4ge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzRnJhZ21lbnRDb25zdHJ1Y3RvcihjdG9yKSAmJiB0aGlzLmFsbG93ZWRGcmFnbWVudHMuaGFzKGN0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfRXJyb3IgYW5kIGlzIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGlzQWxsb3dlZEVycm9yKGN0b3I6IHVua25vd24pOiBjdG9yIGlzIEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yPF9FcnJvclR5cGVbbnVtYmVyXT4ge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzRXJyb3JDb25zdHJ1Y3RvcihjdG9yKSAmJiB0aGlzLmFsbG93ZWRFcnJvcnMuaGFzKGN0b3IpO1xuICAgIH1cblxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1ERUJVRyAmIEhlbHBlcnMgTWV0aG9kcy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBjaGVjayBpZiB0aGUgc2NvcGUgaXMgaW5oZXJpdGVkIGZyb20gYW5vdGhlciBzY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzY29wZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBpc0luaGVyaXRlZEZyb20oc2NvcGU6IEFfU2NvcGUpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGN1cnJlbnQ6IEFfU2NvcGUgfCB1bmRlZmluZWQgPSB0aGlzO1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gc2NvcGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Ll9wYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCB0byBjaGVjayBjaXJjdWxhciBpbmhlcml0YW5jZVxuICAgICAqIFNob3VsZCByZXR1cm4gYSBmdWxsIHNlcXVlbmNlIG9mIGluaGVyaXRhbmNlIGZvciBsb2dnaW5nIHB1cnBvc2VzXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGNoZWNrQ2lyY3VsYXJJbmhlcml0YW5jZShzY29wZTogQV9TY29wZSk6IEFycmF5PHN0cmluZz4gfCBmYWxzZSB7XG4gICAgICAgIGNvbnN0IGluaGVyaXRhbmNlQ2hhaW46IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnQ6IEFfU2NvcGUgfCB1bmRlZmluZWQgPSB0aGlzLl9wYXJlbnQ7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGluaGVyaXRhbmNlQ2hhaW4ucHVzaChjdXJyZW50Lm5hbWUpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluaGVyaXRhbmNlQ2hhaW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5fcGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdG8gcHJpbnQgdGhlIGluaGVyaXRhbmNlIGNoYWluIG9mIHRoZSBzY29wZVxuICAgICAqL1xuICAgIHByaW50SW5oZXJpdGFuY2VDaGFpbigpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY2hhaW46IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnQ6IEFfU2NvcGUgfCB1bmRlZmluZWQgPSB0aGlzO1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICBjaGFpbi5wdXNoKGN1cnJlbnQubmFtZSk7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5fcGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coY2hhaW4uam9pbignIC0+ICcpKTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfQ2FsbGVyRXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZXJyb3IgY29kZSBpbmRpY2F0ZXMgdGhhdCB0aGVyZSB3YXMgYW4gaXNzdWUgaW5pdGlhbGl6aW5nIHRoZSBBLUNhbGxlclxuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBDYWxsZXJJbml0aWFsaXphdGlvbkVycm9yID0gJ1VuYWJsZSB0byBpbml0aWFsaXplIEEtQ2FsbGVyJztcbn0iLCAiaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0NhbGxlckVycm9yIH0gZnJvbSBcIi4vQV9DYWxsZXIuZXJyb3JcIjtcblxuXG5cbi8qKlxuICogVGhpcyBpcyBhIGNvbW1vbiBjbGFzcyB0aGF0IHVzZXMgdG8gcmV0dXJuIGFuIGVudGl0eSB0aGF0IGluaXRpYXRlcyBhIGZlYXR1cmUgY2FsbFxuICogXG4gKiBJdCBjYW4gYmUgdXNlZCB0aGVuIGluIEBBX0luamVjdChBX0NhbGxlcikgdG8gZ2V0IHRoZSBlbnRpdHkgdGhhdCBpbml0aWF0ZWQgdGhlIGZlYXR1cmUgY2FsbFxuICogXG4gKiBbIV0gdGhlIGNsYXNzIGl0c2VsZiBtYXkgYmUgcmV0cmlldmVkLCBidXQgbWF5IHJlcXVpcmUgYWRkaXRpb25hbCBwcm9jZXNzaW5nIGluc2lkZSB0aGUgZmVhdHVyZVxuICogXG4gKi9cbmV4cG9ydCBjbGFzcyBBX0NhbGxlcjxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4ge1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvbXBvbmVudCB0aGF0IGluaXRpYXRlZCB0aGUgZmVhdHVyZSBjYWxsXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9jb21wb25lbnQ6IFQ7XG5cblxuICAgIC8qKlxuICAgICAqIEFfQ2FsbGVyIGFsbG93cyB0byBnZXQgdGhlIGNvbXBvbmVudCB0aGF0IGluaXRpYXRlZCB0aGUgZmVhdHVyZSBjYWxsXG4gICAgICogXG4gICAgICogSXQgY2FuIGJlIHVzZWQgdGhlbiBpbiBAQV9JbmplY3QoQV9DYWxsZXIpIHRvIGdldCB0aGUgZW50aXR5IHRoYXQgaW5pdGlhdGVkIHRoZSBmZWF0dXJlIGNhbGxcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgU2NvcGUgaXMgbm90IHByb3ZpZGVkLCBhIG5ldyBlbXB0eSBzY29wZSB3aWxsIGJlIGNyZWF0ZWQgYW5kIGluaGVyaXRlZCBmcm9tIHRoZSBnbG9iYWwgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEBwYXJhbSBzY29wZSBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgY29tcG9uZW50OiBUXG4gICAgKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVQYXJhbXMoY29tcG9uZW50KTtcblxuICAgICAgICB0aGlzLl9jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgfVxuXG4gICAgZ2V0IGNvbXBvbmVudCgpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0aGUgcHJvdmlkZWQgcGFyYW1ldGVycyBhbmQgRW5zdXJlcyB0aGF0IHRoZSBjb21wb25lbnQgaXMgb2YgYW4gYWxsb3dlZCB0eXBlXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgdmFsaWRhdGVQYXJhbXMoXG4gICAgICAgIGNvbXBvbmVudDogVFxuICAgICkge1xuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc0FsbG93ZWRGb3JGZWF0dXJlQ2FsbChjb21wb25lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9DYWxsZXJFcnJvcihcbiAgICAgICAgICAgICAgICBBX0NhbGxlckVycm9yLkNhbGxlckluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEludmFsaWQgQS1DYWxsZXIgY29tcG9uZW50IHByb3ZpZGVkIG9mIHR5cGU6ICR7dHlwZW9mIGNvbXBvbmVudH0gd2l0aCB2YWx1ZTogJHtKU09OLnN0cmluZ2lmeShjb21wb25lbnQpLnNsaWNlKDAsIDEwMCl9Li4uYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19GZWF0dXJlX0NvbnN0cnVjdG9yLFxuICAgIEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzLFxuICAgIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JUYXJnZXRcbn0gZnJvbSBcIi4uL2dsb2JhbC9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5pbXBvcnQge1xuICAgIEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yLFxuICAgIEFfVFlQRVNfX0Vycm9yX0luaXQsXG4gICAgQV9UWVBFU19fRXJyb3JfU2VyaWFsaXplZFxufSBmcm9tIFwiLi4vZ2xvYmFsL0EtRXJyb3IvQV9FcnJvci50eXBlc1wiO1xuaW1wb3J0IHsgQV9Db21wb25lbnQgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbXBvbmVudE1ldGEgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50Lm1ldGFcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQudHlwZXNcIjtcbmltcG9ydCB7IEFfQ29udGFpbmVyIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db250YWluZXJNZXRhIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5tZXRhXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0VudGl0eSB9IGZyb20gXCIuLi9nbG9iYWwvQS1FbnRpdHkvQS1FbnRpdHkuY2xhc3NcIjtcbmltcG9ydCB7IEFfRW50aXR5TWV0YSB9IGZyb20gXCIuLi9nbG9iYWwvQS1FbnRpdHkvQS1FbnRpdHkubWV0YVwiO1xuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS50eXBlc1wiO1xuaW1wb3J0IHsgQV9GZWF0dXJlIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0ZyYWdtZW50IH0gZnJvbSBcIi4uL2dsb2JhbC9BLUZyYWdtZW50L0EtRnJhZ21lbnQuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUZyYWdtZW50L0EtRnJhZ21lbnQudHlwZXNcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtU2NvcGUvQS1TY29wZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9DYWxsZXIgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ2FsbGVyL0FfQ2FsbGVyLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19DYWxsZXJfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ2FsbGVyL0FfQ2FsbGVyLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIi4vQV9Db21tb24uaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BYnN0cmFjdGlvbkF2YWlsYWJsZUNvbXBvbmVudHMgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQWJzdHJhY3Rpb24vQS1BYnN0cmFjdGlvbi50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fU2NvcGVfQ29uc3RydWN0b3IsIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cywgQV9UWVBFU19fU2NvcGVMaW5rZWRDb25zdHJ1Y3RvcnMgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtU2NvcGUvQS1TY29wZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBU0VJRCB9IGZyb20gXCIuLi9nbG9iYWwvQVNFSUQvQVNFSUQuY2xhc3NcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX1R5cGVHdWFyZHMge1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEJBU0UgVHlwZSBHdWFyZHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHZhbHVlIGlzIGEgc3RyaW5nXG4gICAgICogXG4gICAgICogQHBhcmFtIHZhbHVlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc1N0cmluZyh2YWx1ZTogYW55KTogdmFsdWUgaXMgc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdmFsdWUgaW5zdGFuY2VvZiBTdHJpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHZhbHVlIGlzIGEgbnVtYmVyXG4gICAgICogXG4gICAgICogQHBhcmFtIHZhbHVlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc051bWJlcih2YWx1ZTogYW55KTogdmFsdWUgaXMgbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB2YWx1ZSBpcyBhIGJvb2xlYW5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdmFsdWUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQm9vbGVhbih2YWx1ZTogYW55KTogdmFsdWUgaXMgYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdmFsdWUgaXMgYW4gYXJyYXlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdmFsdWUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQXJyYXkodmFsdWU6IGFueSk6IHZhbHVlIGlzIEFycmF5PGFueT4ge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHZhbHVlIGlzIGFuIG9iamVjdFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB2YWx1ZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNPYmplY3Q8VCBleHRlbmRzIE9iamVjdCA9IE9iamVjdD4odmFsdWU6IGFueSk6IHZhbHVlIGlzIFQge1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHZhbHVlIGlzIGEgZnVuY3Rpb25cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdmFsdWUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRnVuY3Rpb24odmFsdWU6IGFueSk6IHZhbHVlIGlzIEZ1bmN0aW9uIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNVbmRlZmluZWQodmFsdWU6IGFueSk6IHZhbHVlIGlzIHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc1JlZ0V4cCh2YWx1ZTogYW55KTogdmFsdWUgaXMgUmVnRXhwIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUmVnRXhwO1xuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1BLUNvbmNlcHQgVHlwZSBHdWFyZHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX0NvbnRhaW5lclxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjdG9yIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0NvbnRhaW5lckNvbnN0cnVjdG9yKGN0b3I6IGFueSk6IGN0b3IgaXMgQV9UWVBFU19fQ29udGFpbmVyX0NvbnN0cnVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nICYmIEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBBX0NvbnRhaW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGNvbnN0cnVjdG9yIGlzIG9mIHR5cGUgQV9Db21wb25lbnRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY3RvciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNDb21wb25lbnRDb25zdHJ1Y3RvcihjdG9yOiBhbnkpOiBjdG9yIGlzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgY3RvciA9PT0gJ2Z1bmN0aW9uJyAmJiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oY3RvciwgQV9Db21wb25lbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfRnJhZ21lbnRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY3RvciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNGcmFnbWVudENvbnN0cnVjdG9yKGN0b3I6IGFueSk6IGN0b3IgaXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3Ige1xuICAgICAgICByZXR1cm4gdHlwZW9mIGN0b3IgPT09ICdmdW5jdGlvbicgJiYgQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGN0b3IsIEFfRnJhZ21lbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfRW50aXR5XG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRW50aXR5Q29uc3RydWN0b3IoY3RvcjogYW55KTogY3RvciBpcyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3Ige1xuICAgICAgICByZXR1cm4gdHlwZW9mIGN0b3IgPT09ICdmdW5jdGlvbicgJiYgQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGN0b3IsIEFfRW50aXR5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX1Njb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzU2NvcGVDb25zdHJ1Y3RvcihjdG9yOiBhbnkpOiBjdG9yIGlzIEFfVFlQRVNfX1Njb3BlX0NvbnN0cnVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nICYmIEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBBX1Njb3BlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX1Njb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRXJyb3JDb25zdHJ1Y3RvcihjdG9yOiBhbnkpOiBjdG9yIGlzIEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nICYmIEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBBX0Vycm9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX0ZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY3RvciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNGZWF0dXJlQ29uc3RydWN0b3IoY3RvcjogYW55KTogY3RvciBpcyBBX1RZUEVTX19GZWF0dXJlX0NvbnN0cnVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nICYmIEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBBX0ZlYXR1cmUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfQ2FsbGVyXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQ2FsbGVyQ29uc3RydWN0b3IoY3RvcjogYW55KTogY3RvciBpcyBBX1RZUEVTX19DYWxsZXJfQ29uc3RydWN0b3Ige1xuICAgICAgICByZXR1cm4gdHlwZW9mIGN0b3IgPT09ICdmdW5jdGlvbicgJiYgQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGN0b3IsIEFfQ2FsbGVyKTtcbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEluc3RhbmNlIHR5cGUgZ3VhcmRzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9Db250YWluZXJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQ29udGFpbmVySW5zdGFuY2UoaW5zdGFuY2U6IGFueSk6IGluc3RhbmNlIGlzIEFfQ29udGFpbmVyIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9Db250YWluZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9Db21wb25lbnRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQ29tcG9uZW50SW5zdGFuY2UoaW5zdGFuY2U6IGFueSk6IGluc3RhbmNlIGlzIEFfQ29tcG9uZW50IHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9Db21wb25lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgaW5zdGFuY2UgaXMgb2YgdHlwZSBBX0ZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRmVhdHVyZUluc3RhbmNlKGluc3RhbmNlOiBhbnkpOiBpbnN0YW5jZSBpcyBBX0ZlYXR1cmUge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBBX0ZlYXR1cmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9GcmFnbWVudFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNGcmFnbWVudEluc3RhbmNlKGluc3RhbmNlOiBhbnkpOiBpbnN0YW5jZSBpcyBBX0ZyYWdtZW50IHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9GcmFnbWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgaW5zdGFuY2UgaXMgb2YgdHlwZSBBX0VudGl0eVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNFbnRpdHlJbnN0YW5jZShpbnN0YW5jZTogYW55KTogaW5zdGFuY2UgaXMgQV9FbnRpdHkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBBX0VudGl0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgaW5zdGFuY2UgaXMgb2YgdHlwZSBBX1Njb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGluc3RhbmNlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc1Njb3BlSW5zdGFuY2UoaW5zdGFuY2U6IGFueSk6IGluc3RhbmNlIGlzIEFfU2NvcGUge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBBX1Njb3BlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBpbnN0YW5jZSBpcyBvZiB0eXBlIEFfRXJyb3JcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRXJyb3JJbnN0YW5jZShpbnN0YW5jZTogYW55KTogaW5zdGFuY2UgaXMgQV9FcnJvciB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSBpbnN0YW5jZW9mIEFfRXJyb3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9Db21wb25lbnRNZXRhXG4gICAgICogXG4gICAgICogQHBhcmFtIGluc3RhbmNlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0NvbXBvbmVudE1ldGFJbnN0YW5jZShpbnN0YW5jZTogYW55KTogaW5zdGFuY2UgaXMgQV9Db21wb25lbnRNZXRhIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9Db21wb25lbnRNZXRhO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBpbnN0YW5jZSBpcyBvZiB0eXBlIEFfQ29udGFpbmVyTWV0YVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNDb250YWluZXJNZXRhSW5zdGFuY2UoaW5zdGFuY2U6IGFueSk6IGluc3RhbmNlIGlzIEFfQ29udGFpbmVyTWV0YSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSBpbnN0YW5jZW9mIEFfQ29udGFpbmVyTWV0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgaW5zdGFuY2UgaXMgb2YgdHlwZSBBX0VudGl0eU1ldGFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRW50aXR5TWV0YUluc3RhbmNlKGluc3RhbmNlOiBhbnkpOiBpbnN0YW5jZSBpcyBBX0VudGl0eU1ldGEge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBBX0VudGl0eU1ldGE7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PSBTUEVDSUFMIFR5cGUgR3VhcmRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgc3RhdGljIGlzQ29uc3RydWN0b3JBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uKHRhcmdldDogYW55KTogdGFyZ2V0IGlzIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29uc3RydWN0b3JzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckNvbnN0cnVjdG9yKHRhcmdldClcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0ZlYXR1cmVDb25zdHJ1Y3Rvcih0YXJnZXQpO1xuICAgIH1cbiAgICBzdGF0aWMgaXNJbnN0YW5jZUFsbG93ZWRGb3JTY29wZUFsbG9jYXRpb24odGFyZ2V0OiBhbnkpOiB0YXJnZXQgaXMgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHRhcmdldClcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0ZlYXR1cmVJbnN0YW5jZSh0YXJnZXQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc0NvbnN0cnVjdG9yQXZhaWxhYmxlRm9yQWJzdHJhY3Rpb24odGFyZ2V0OiBhbnkpOiB0YXJnZXQgaXMgQV9UWVBFU19fQWJzdHJhY3Rpb25BdmFpbGFibGVDb21wb25lbnRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHRhcmdldClcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgaXNUYXJnZXRBdmFpbGFibGVGb3JJbmplY3Rpb24odGFyZ2V0OiBhbnkpOiB0YXJnZXQgaXMgQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IodGFyZ2V0KVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UodGFyZ2V0KVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UodGFyZ2V0KVxuICAgIH1cblxuICAgIHN0YXRpYyBpc0FsbG93ZWRGb3JGZWF0dXJlQ2FsbChwYXJhbTogYW55KTogcGFyYW0gaXMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0VudGl0eUluc3RhbmNlKHBhcmFtKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNBbGxvd2VkRm9yRmVhdHVyZURlZmluaXRpb24ocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzQWxsb3dlZEZvckZlYXR1cmVFeHRlbnNpb24ocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JUYXJnZXQge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0VudGl0eUluc3RhbmNlKHBhcmFtKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNBbGxvd2VkRm9yQWJzdHJhY3Rpb25EZWZpbml0aW9uKHBhcmFtOiBhbnkpOiBwYXJhbSBpcyBBX1RZUEVTX19BYnN0cmFjdGlvbkF2YWlsYWJsZUNvbXBvbmVudHMge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZShwYXJhbSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzQWxsb3dlZEZvckRlcGVuZGVuY3lEZWZhdWx0Q3JlYXRpb24ocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvciB8IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB7XG4gICAgICAgIHJldHVybiBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3RvcihwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShwYXJhbSwgQV9Db21wb25lbnQpXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNFbnRpdHlDb25zdHJ1Y3RvcihwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShwYXJhbSwgQV9FbnRpdHkpXG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gY2hlY2sgaWYgdGhlIHByb3ZpZGVkIHBhcmFtIGlzIG9mIGNvbnN0cnVjdG9yIHR5cGUuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0Vycm9yQ29uc3RydWN0b3JUeXBlPFQgZXh0ZW5kcyBBX1RZUEVTX19FcnJvcl9Jbml0PihwYXJhbTogYW55KTogcGFyYW0gaXMgVCB7XG4gICAgICAgIHJldHVybiAhIXBhcmFtICYmIEFfVHlwZUd1YXJkcy5pc09iamVjdChwYXJhbSkgJiYgIShwYXJhbSBpbnN0YW5jZW9mIEVycm9yKSAmJiBcInRpdGxlXCIgaW4gcGFyYW07XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgaXNFcnJvclNlcmlhbGl6ZWRUeXBlPFQgZXh0ZW5kcyBBX1RZUEVTX19FcnJvcl9TZXJpYWxpemVkPihwYXJhbTogYW55KTogcGFyYW0gaXMgVCB7XG4gICAgICAgIHJldHVybiAhIXBhcmFtICYmIEFfVHlwZUd1YXJkcy5pc09iamVjdChwYXJhbSkgJiYgIShwYXJhbSBpbnN0YW5jZW9mIEVycm9yKSAmJiBcImFzZWlkXCIgaW4gcGFyYW0gJiYgQVNFSUQuaXNBU0VJRChwYXJhbS5hc2VpZCk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9TdGFnZSB9IGZyb20gXCIuLi9BLVN0YWdlL0EtU3RhZ2UuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0ZlYXR1cmVFcnJvcl9Jbml0IH0gZnJvbSBcIi4vQS1GZWF0dXJlLnR5cGVzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9GZWF0dXJlRXJyb3IgZXh0ZW5kcyBBX0Vycm9yPEFfVFlQRVNfX0ZlYXR1cmVFcnJvcl9Jbml0PiB7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgRmVhdHVyZSBoYXMgYmVlbiBpbnRlcnJ1cHRlZFxuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBJbnRlcnJ1cHRpb24gPSAnRmVhdHVyZSBJbnRlcnJ1cHRlZCc7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlcmUgd2FzIGFuIGVycm9yIGluaXRpYWxpemluZyB0aGUgRmVhdHVyZVxuICAgICAqIFxuICAgICAqIEZhaWxlZCBkdXJpbmcgdGhlIEEtRmVhdHVyZSBpbml0aWFsaXphdGlvbiBwcm9jZXNzXG4gICAgICovXG4gICAgc3RhdGljIHJlYWRvbmx5IEZlYXR1cmVJbml0aWFsaXphdGlvbkVycm9yID0gJ1VuYWJsZSB0byBpbml0aWFsaXplIEEtRmVhdHVyZSc7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlcmUgd2FzIGFuIGVycm9yIHByb2Nlc3NpbmcgdGhlIEZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBGYWlsZWQgZHVyaW5nIHRoZSBBLUZlYXR1cmUgcHJvY2Vzc2luZ1xuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBGZWF0dXJlUHJvY2Vzc2luZ0Vycm9yID0gJ0Vycm9yIG9jY3VycmVkIGR1cmluZyBBLUZlYXR1cmUgcHJvY2Vzc2luZyc7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRGVjb3JhdG9yIEVycm9ycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlcmUgd2FzIGFuIGVycm9yIGRlZmluaW5nIHRoZSBGZWF0dXJlXG4gICAgICogXG4gICAgICogRmFpbGVkIGR1cmluZyB0aGUgQEFfRmVhdHVyZS5EZWZpbmUoKSBkZWNvcmF0b3IgZXhlY3V0aW9uXG4gICAgICovXG4gICAgc3RhdGljIHJlYWRvbmx5IEZlYXR1cmVEZWZpbml0aW9uRXJyb3IgPSAnVW5hYmxlIHRvIGRlZmluZSBBLUZlYXR1cmUnO1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGF0IHRoZXJlIHdhcyBhbiBlcnJvciBleHRlbmRpbmcgdGhlIEZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBGYWlsZWQgZHVyaW5nIHRoZSBAQV9GZWF0dXJlLkV4dGVuZCgpIGRlY29yYXRvciBleGVjdXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgRmVhdHVyZUV4dGVuc2lvbkVycm9yID0gJ1VuYWJsZSB0byBleHRlbmQgQS1GZWF0dXJlJztcblxuICAgIFxuICAgIC8qKlxuICAgICAqIFN0YWdlIHdoZXJlIHRoZSBlcnJvciBvY2N1cnJlZFxuICAgICAqL1xuICAgIHN0YWdlPzogQV9TdGFnZVxuXG5cbiAgICBwcm90ZWN0ZWQgZnJvbUNvbnN0cnVjdG9yKHBhcmFtczogQV9UWVBFU19fRmVhdHVyZUVycm9yX0luaXQpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuZnJvbUNvbnN0cnVjdG9yKHBhcmFtcyk7XG5cbiAgICAgICAgdGhpcy5zdGFnZSA9IHBhcmFtcy5zdGFnZTtcbiAgICB9XG59IiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvckNvbmZpZyxcbiAgICBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yRGVzY3JpcHRvcixcbiAgICBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YSxcbiAgICBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGFyZ2V0XG59IGZyb20gXCIuL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfRW50aXR5TWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS5tZXRhXCI7XG5pbXBvcnQgeyBBX0NvbnRhaW5lck1ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIubWV0YVwiO1xuaW1wb3J0IHsgQV9Db21wb25lbnRNZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50Lm1ldGFcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19FbnRpdHlNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRW50aXR5L0EtRW50aXR5LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfRmVhdHVyZUVycm9yIH0gZnJvbSBcIi4vQS1GZWF0dXJlLmVycm9yXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyXCI7XG5cbi8qKlxuICogQS1GZWF0dXJlIGRlY29yYXRvclxuICogXG4gKiBUaGlzIGRlY29yYXRvciBhbGxvd3MgdG8gZGVmaW5lIGEgY3VzdG9tIGxpZmVjeWNsZSBzdGFnZSBmb3IgdGhlIENvbnRhaW5lci5cbiAqIFRoZXNlIHN0YWdlcyBhcmUgZXhlY3V0ZWQgaW4gYSBjb250YWluZXItc3BlY2lmaWMgb3JkZXIgYW5kIGNhbiBiZSBleHRlbmRlZCBieSBjb21wb25lbnRzIHRoYXQgYXJlIGluamVjdGVkIGludG8gdGhlIGNvbnRhaW5lci5cbiAqIFRoaXMgYXBwcm9hY2ggYWxsb3dzIHRvIGNyZWF0ZSBhIGZsZXhpYmxlIGFuZCBleHRlbmRhYmxlIGFyY2hpdGVjdHVyZSBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICogXG4gKiBUaGUgbWFpbiBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIEEtRmVhdHVyZSBhbmQgQS1GZWF0dXJlIGRlY29yYXRvcnMgaXMgdGhhdCBBLUZlYXR1cmUgbWV0aG9kcyBjYW4gYmUgaW5oZXJpdGVkIGFuZCBvdmVycmlkZGVuIGJ5IGNoaWxkIGNsYXNzZXMuXG4gKiBcbiAqIFxuICogQHBhcmFtIHBhcmFtcyBcbiAqIEByZXR1cm5zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gQV9GZWF0dXJlX0RlZmluZShcbiAgICBjb25maWc6IFBhcnRpYWw8QV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvckNvbmZpZz4gPSB7fVxuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgICAgdGFyZ2V0OiBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGFyZ2V0LFxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLFxuICAgICAgICBkZXNjcmlwdG9yOiBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yRGVzY3JpcHRvclxuICAgICkge1xuICAgICAgICAvLyBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KVxuXG5cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNBbGxvd2VkRm9yRmVhdHVyZURlZmluaXRpb24odGFyZ2V0KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICBBX0ZlYXR1cmVFcnJvci5GZWF0dXJlRGVmaW5pdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgIGBBLUZlYXR1cmUgY2Fubm90IGJlIGRlZmluZWQgb24gdGhlICR7Y29tcG9uZW50TmFtZX0gbGV2ZWxgXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IG1ldGE6IEFfRW50aXR5TWV0YSB8IEFfQ29udGFpbmVyTWV0YSB8IEFfQ29tcG9uZW50TWV0YSA9IEFfQ29udGV4dC5tZXRhKHRhcmdldC5jb25zdHJ1Y3RvciBhcyBhbnkpO1xuXG4gICAgICAgIGxldCBtZXRhS2V5O1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19FbnRpdHlNZXRhS2V5LkZFQVRVUkVTO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LkZFQVRVUkVTXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuRkVBVFVSRVNcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gR2V0IHRoZSBleGlzdGVkIG1ldGFkYXRhIG9yIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGE6IEFfTWV0YTx7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdoZXJlIEtleSBpcyB0aGUgbmFtZSBvZiB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgKiBXaGVyZSB2YWx1ZSBpcyB0aGUgbGlzdCBvZiBmZWF0dXJlc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBbS2V5OiBzdHJpbmddOiBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YVxuICAgICAgICB9PiA9IG1ldGEuZ2V0KG1ldGFLZXkpIHx8IG5ldyBBX01ldGEoKTtcblxuXG4gICAgICAgIGNvbnN0IG5hbWUgPSBjb25maWcubmFtZSB8fCBwcm9wZXJ0eUtleTtcbiAgICAgICAgLy8gIGRlZmF1bHQgdG8gZmFsc2VcbiAgICAgICAgY29uc3QgaW52b2tlID0gY29uZmlnLmludm9rZSB8fCBmYWxzZTtcblxuXG4gICAgICAgIC8vIFNldCB0aGUgbWV0YWRhdGEgb2YgdGhlIG1ldGhvZCB0byBkZWZpbmUgYSBjdXN0b20gRmVhdHVyZSB3aXRoIG5hbWUgXG4gICAgICAgIGV4aXN0ZWRNZXRhLnNldChwcm9wZXJ0eUtleSwge1xuICAgICAgICAgICAgbmFtZTogYCR7dGFyZ2V0LmNvbnN0cnVjdG9yLm5hbWV9LiR7bmFtZX1gLFxuICAgICAgICAgICAgaGFuZGxlcjogcHJvcGVydHlLZXksXG4gICAgICAgICAgICBpbnZva2U6IGludm9rZSxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBjb25maWcudGVtcGxhdGUgJiYgY29uZmlnLnRlbXBsYXRlLmxlbmd0aCA/IGNvbmZpZy50ZW1wbGF0ZS5tYXAoXG4gICAgICAgICAgICAgICAgaXRlbSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IGl0ZW0uYmVmb3JlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBhZnRlcjogaXRlbS5hZnRlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3I6IGl0ZW0uYmVoYXZpb3IgfHwgJ3N5bmMnLFxuICAgICAgICAgICAgICAgICAgICB0aHJvd09uRXJyb3I6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlOiBpdGVtLm92ZXJyaWRlIHx8ICcnXG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKSA6IFtdLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyAgVXBkYXRlIHRoZSBtZXRhZGF0YSBvZiB0aGUgY29udGFpbmVyIHdpdGggdGhlIG5ldyBGZWF0dXJlIGRlZmluaXRpb25cbiAgICAgICAgQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQuY29uc3RydWN0b3IgYXMgYW55KVxuICAgICAgICAgICAgLnNldChcbiAgICAgICAgICAgICAgICBtZXRhS2V5LFxuICAgICAgICAgICAgICAgIGV4aXN0ZWRNZXRhXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsTWV0aG9kID0gZGVzY3JpcHRvci52YWx1ZSE7XG5cbiAgICAgICAgLy8gV3JhcCB0aGUgb3JpZ2luYWwgbWV0aG9kIHRvIGFkZCB0aGUgY2FsbCB0byBgY2FsbGBcbiAgICAgICAgLy8gdGhpcyBoZWxwcyB0byBhdXRvbWF0aWNhbGx5IGNhbGwgdGhlIGNvbnRhaW5lci9lbnRpdHkvY29tcG9uZW50IG1ldGhvZCB3aGVuIGl0J3MgY2FsbGVkXG4gICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAoLi4uYXJnczogYW55W10pIHtcblxuICAgICAgICAgICAgLy8gQ2FsbCB0aGUgb3JpZ2luYWwgbWV0aG9kXG4gICAgICAgICAgICBpZiAoIWludm9rZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxNZXRob2QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxNZXRob2QuYXBwbHkodGhpcywgYXJncyk7XG5cbiAgICAgICAgICAgIC8vIENhbGwgeW91ciBgY2FsbGAgd2l0aCB0aGUgZnVuY3Rpb24gbmFtZVxuICAgICAgICAgICAgaWYgKHR5cGVvZiAodGhpcyBhcyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGFyZ2V0KS5jYWxsID09PSBcImZ1bmN0aW9uXCIgJiYgaW52b2tlKVxuICAgICAgICAgICAgICAgIHJldHVybiAodGhpcyBhcyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGFyZ2V0KS5jYWxsKG5hbWUpO1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgfTtcbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yQ29uZmlnLCBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yRGVzY3JpcHRvciwgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclNjb3BlSXRlbSwgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclRhcmdldCB9IGZyb20gXCIuL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSBcIi4uL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9GZWF0dXJlRXJyb3IgfSBmcm9tIFwiLi9BLUZlYXR1cmUuZXJyb3JcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0NvbW1vbi5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0VudGl0eU1ldGFLZXkgfSBmcm9tIFwiLi4vQS1FbnRpdHkvQS1FbnRpdHkuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9Db250YWluZXIgfSBmcm9tIFwiLi4vQS1Db250YWluZXIvQS1Db250YWluZXIuY2xhc3NcIjtcblxuXG5cblxuLyoqXG4gKiBBLUV4dGVuZCBkZWNvcmF0b3JcbiAqIFxuICogVGhpcyBkZWNvcmF0b3IgYWxsb3dzIHRvIGRlZmluZSBhIGN1c3RvbSBFeHRlbmQgc3RhZ2UgZm9yIHRoZSBDb250YWluZXIuXG4gKiBUaGVzZSBzdGFnZXMgYXJlIGV4ZWN1dGVkIGluIGEgY29udGFpbmVyLXNwZWNpZmljIG9yZGVyIGFuZCBjYW4gYmUgZXh0ZW5kZWQgYnkgY29tcG9uZW50cyB0aGF0IGFyZSBpbmplY3RlZCBpbnRvIHRoZSBjb250YWluZXIuXG4gKiBUaGlzIGFwcHJvYWNoIGFsbG93cyB0byBjcmVhdGUgYSBmbGV4aWJsZSBhbmQgZXh0ZW5kYWJsZSBhcmNoaXRlY3R1cmUgZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAqIFxuICogVGhlIG1haW4gZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBBLUV4dGVuZCBhbmQgQS1FeHRlbmQgZGVjb3JhdG9ycyBpcyB0aGF0IEEtRXh0ZW5kIG1ldGhvZHMgY2FuIGJlIGluaGVyaXRlZCBhbmQgb3ZlcnJpZGRlbiBieSBjaGlsZCBjbGFzc2VzLlxuICogXG4gKiBcbiAqIEBwYXJhbSBwYXJhbXMgXG4gKiBAcmV0dXJucyBcbiAqL1xuLyoqXG4gKiBVc2UgcmVnZXhwIGluIGNhc2UgaWYgeW91IG5lZWQgbW9yZSBmbGV4aWJpbGl0eSBhbmQgY29udHJvbCBvdmVyIHRoZSBuYW1lIG9mIHRoZSBtZXRob2RcbiAqIFxuICogQHBhcmFtIHJlZ2V4cCBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfRmVhdHVyZV9FeHRlbmQoXG4gICAgLyoqXG4gICAgICogVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCB0aGUgbmFtZSBvZiB0aGUgRmVhdHVyZSBtZXRob2QgdG8gYmUgZXh0ZW5kZWRcbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIFxuICAgICAqIGBgYHRzXG4gICAgICogIEBBX0ZlYXR1cmUuRXh0ZW5kKC8uKlxcLmxvYWQvKVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHJlZ2V4cDogUmVnRXhwXG4pXG4vKipcbiAqIEluIHRoaXMgY2FzZSB0aGUgbmFtZSBjb25maWd1cmF0aW9ucyB3aWxsIGJlIHVzZWQgYXMgYW4gaW5wdXQgdG8gZ2V0IHNjb3BlIGFuZCBuYW1lIG9mIHRhcmdldCBmdW5jdGlvblxuICogWyFdIE5vdCB0aGF0IGZvciBhbGwgU0NPUEUgd2lsbCBiZSB1c2VkIE9SIG9wZXJhdG9yXG4gKiBcbiAqIEBwYXJhbSBjb25maWcgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBX0ZlYXR1cmVfRXh0ZW5kKFxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBBLUZlYXR1cmUtRXh0ZW5kIGRlY29yYXRvclxuICAgICAqL1xuICAgIGNvbmZpZzogUGFydGlhbDxBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yQ29uZmlnPlxuKVxuLyoqXG4gKiBJbiB0aGlzIGNhc2UgdGhlIG5hbWUgb2YgZnVuY3Rpb24gd2lsbCBiZSB1c2VkIGFzIGEgbmFtZSBvZiB0aGUgRmVhdHVyZS5cbiAqIFshXSBBTkQgaXQgd2lsbCBiZSBhcHBsaWNhYmxlIGZvciBBTlkgZWxlbWVudCB3aGVyZSB0aGUgbmFtZSBpcyB0aGUgc2FtZSBhcyB0aGUgbmFtZSBvZiB0aGUgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfRmVhdHVyZV9FeHRlbmQoKVxuZXhwb3J0IGZ1bmN0aW9uIEFfRmVhdHVyZV9FeHRlbmQoXG4gICAgcGFyYW0xPzogUGFydGlhbDxBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yQ29uZmlnPiB8IFJlZ0V4cFxuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgICAgdGFyZ2V0OiBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yVGFyZ2V0LFxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLFxuICAgICAgICBkZXNjcmlwdG9yOiBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yRGVzY3JpcHRvclxuICAgICkge1xuICAgICAgICAvLyBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KVxuXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckZlYXR1cmVFeHRlbnNpb24odGFyZ2V0KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICBBX0ZlYXR1cmVFcnJvci5GZWF0dXJlRXh0ZW5zaW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEEtRmVhdHVyZS1FeHRlbmQgY2Fubm90IGJlIGFwcGxpZWQgb24gdGhlICR7Y29tcG9uZW50TmFtZX0gbGV2ZWxgXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGxldCB0YXJnZXRSZWdleHA6IFJlZ0V4cDtcbiAgICAgICAgbGV0IGJlaGF2aW9yOiAnc3luYycgfCAnYXN5bmMnID0gJ3N5bmMnO1xuICAgICAgICBsZXQgYmVmb3JlOiBzdHJpbmcgPSAnJztcbiAgICAgICAgbGV0IGFmdGVyOiBzdHJpbmcgPSAnJztcbiAgICAgICAgbGV0IG92ZXJyaWRlOiBzdHJpbmcgPSAnJztcbiAgICAgICAgbGV0IGluY2x1ZGU6IEFycmF5PEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JTY29wZUl0ZW0+ID0gW107XG4gICAgICAgIGxldCBleGNsdWRlOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yU2NvcGVJdGVtPiA9IFtdO1xuICAgICAgICBsZXQgdGhyb3dPbkVycm9yOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgbGV0IG1ldGFLZXk7XG5cblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fRW50aXR5TWV0YUtleS5FWFRFTlNJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LkVYVEVOU0lPTlNcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5FWFRFTlNJT05TXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNSZWdFeHAocGFyYW0xKTpcbiAgICAgICAgICAgICAgICB0YXJnZXRSZWdleHAgPSBwYXJhbTE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgISFwYXJhbTEgJiYgdHlwZW9mIHBhcmFtMSA9PT0gJ29iamVjdCc6XG5cbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJhbTEuc2NvcGUpKVxuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlID0gcGFyYW0xLnNjb3BlO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCEhcGFyYW0xLnNjb3BlICYmIHR5cGVvZiBwYXJhbTEuc2NvcGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmFtMS5zY29wZS5pbmNsdWRlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGUgPSBwYXJhbTEuc2NvcGUuaW5jbHVkZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyYW0xLnNjb3BlLmV4Y2x1ZGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgZXhjbHVkZSA9IHBhcmFtMS5zY29wZS5leGNsdWRlO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgdGFyZ2V0UmVnZXhwID0gYnVpbGRUYXJnZXRSZWdleHAocGFyYW0xLCBpbmNsdWRlLCBleGNsdWRlLCBwcm9wZXJ0eUtleSk7XG5cbiAgICAgICAgICAgICAgICBiZWhhdmlvciA9IHBhcmFtMS5iZWhhdmlvciB8fCBiZWhhdmlvcjtcbiAgICAgICAgICAgICAgICB0aHJvd09uRXJyb3IgPSBwYXJhbTEudGhyb3dPbkVycm9yICE9PSB1bmRlZmluZWQgPyBwYXJhbTEudGhyb3dPbkVycm9yIDogdGhyb3dPbkVycm9yO1xuXG4gICAgICAgICAgICAgICAgYmVmb3JlID0gQV9UeXBlR3VhcmRzLmlzQXJyYXkocGFyYW0xLmJlZm9yZSlcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgUmVnRXhwKGBeJHtwYXJhbTEuYmVmb3JlLmpvaW4oJ3wnKS5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJyl9JGApLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICA6IHBhcmFtMS5iZWZvcmUgaW5zdGFuY2VvZiBSZWdFeHBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyYW0xLmJlZm9yZS5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICBhZnRlciA9IEFfVHlwZUd1YXJkcy5pc0FycmF5KHBhcmFtMS5hZnRlcilcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgUmVnRXhwKGBeJHtwYXJhbTEuYWZ0ZXIuam9pbignfCcpLnJlcGxhY2UoL1xcLi9nLCAnXFxcXC4nKX0kYCkuc291cmNlXG4gICAgICAgICAgICAgICAgICAgIDogcGFyYW0xLmFmdGVyIGluc3RhbmNlb2YgUmVnRXhwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBhcmFtMS5hZnRlci5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJydcblxuICAgICAgICAgICAgICAgIG92ZXJyaWRlID0gQV9UeXBlR3VhcmRzLmlzQXJyYXkocGFyYW0xLm92ZXJyaWRlKVxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBSZWdFeHAoYF4ke3BhcmFtMS5vdmVycmlkZS5qb2luKCd8JykucmVwbGFjZSgvXFwuL2csICdcXFxcLicpfSRgKS5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgOiBwYXJhbTEub3ZlcnJpZGUgaW5zdGFuY2VvZiBSZWdFeHBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyYW0xLm92ZXJyaWRlLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRhcmdldFJlZ2V4cCA9IG5ldyBSZWdFeHAoYF4uKiR7cHJvcGVydHlLZXkucmVwbGFjZSgvXFwuL2csICdcXFxcLicpfSRgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG5cblxuXG5cbiAgICAgICAgY29uc3QgZXhpc3RlZERlZmluaXRpb25zID0gQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQpXG4gICAgICAgICAgICAuZ2V0KG1ldGFLZXkpO1xuXG4gICAgICAgIC8vIEdldCB0aGUgZXhpc3RlZCBtZXRhZGF0YSBvciBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIGNvbnN0IG1ldGEgPSBBX0NvbnRleHRcbiAgICAgICAgICAgIC5tZXRhKHRhcmdldClcblxuICAgICAgICBjb25zdCBleGlzdGVkTWV0YSA9IG1ldGEuZ2V0KG1ldGFLZXkpXG4gICAgICAgICAgICA/IG5ldyBBX01ldGEoKS5mcm9tKG1ldGEuZ2V0KG1ldGFLZXkpISlcbiAgICAgICAgICAgIDogbmV3IEFfTWV0YSgpO1xuXG4gICAgICAgIGlmIChleGlzdGVkRGVmaW5pdGlvbnNcbiAgICAgICAgICAgICYmIGV4aXN0ZWREZWZpbml0aW9ucy5zaXplKClcbiAgICAgICAgICAgICYmIGV4aXN0ZWREZWZpbml0aW9ucy5oYXMocHJvcGVydHlLZXkpXG4gICAgICAgICAgICAmJiBleGlzdGVkRGVmaW5pdGlvbnMuZ2V0KHByb3BlcnR5S2V5KSEuaW52b2tlXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfRmVhdHVyZUVycm9yKFxuICAgICAgICAgICAgICAgIEFfRmVhdHVyZUVycm9yLkZlYXR1cmVFeHRlbnNpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgQS1GZWF0dXJlLUV4dGVuZCBjYW5ub3QgYmUgdXNlZCBvbiB0aGUgbWV0aG9kIFwiJHtwcm9wZXJ0eUtleX1cIiBiZWNhdXNlIGl0IGlzIGFscmVhZHkgZGVmaW5lZCBhcyBhIEZlYXR1cmUgd2l0aCBcImludm9rZVwiIHNldCB0byB0cnVlLiBQbGVhc2UgcmVtb3ZlIHRoZSBBLUZlYXR1cmUtRXh0ZW5kIGRlY29yYXRvciBvciBzZXQgXCJpbnZva2VcIiB0byBmYWxzZSBpbiB0aGUgQS1GZWF0dXJlIGRlY29yYXRvci5gXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGFWYWx1ZSA9IFtcbiAgICAgICAgICAgIC4uLihleGlzdGVkTWV0YS5nZXQodGFyZ2V0UmVnZXhwLnNvdXJjZSkgfHwgW10pXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gIGVuc3VyZSB0aGF0IG90aGVyIHJlZ2V4cHMgYXJlIHByZXNlcnZlZFxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIGhhbmRsZXJzXSBvZiBleGlzdGVkTWV0YS5lbnRyaWVzKCkpIHtcblxuICAgICAgICAgICAgY29uc3QgaW5kZXhJbkFub3RoZXIgPSBoYW5kbGVycy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmhhbmRsZXIgPT09IHByb3BlcnR5S2V5KTtcblxuICAgICAgICAgICAgLy8gIGlmIHRoZSBzYW1lIGhhbmRsZXIgZXhpc3RzIGluIGFub3RoZXIgcmVnZXhwLCByZW1vdmUgaXRcbiAgICAgICAgICAgIGlmIChrZXkgIT09IHRhcmdldFJlZ2V4cC5zb3VyY2UgJiYgaW5kZXhJbkFub3RoZXIgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGluZGV4SW5Bbm90aGVyLCAxKTtcbiAgICAgICAgICAgICAgICAvLyAgaWYgbm8gaGFuZGxlcnMgbGVmdCBmb3IgdGhpcyByZWdleHAsIHJlbW92ZSB0aGUgcmVnZXhwIGVudHJ5XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBleGlzdGVkTWV0YS5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBleGlzdGVkTWV0YS5zZXQoa2V5LCBoYW5kbGVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXhpc3RlZEluZGV4ID0gZXhpc3RlZE1ldGFWYWx1ZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmhhbmRsZXIgPT09IHByb3BlcnR5S2V5KTtcblxuICAgICAgICBjb25zdCBleHRlbnNpb24gPSB7XG4gICAgICAgICAgICBuYW1lOiB0YXJnZXRSZWdleHAuc291cmNlLFxuICAgICAgICAgICAgaGFuZGxlcjogcHJvcGVydHlLZXksXG4gICAgICAgICAgICBiZWhhdmlvcixcbiAgICAgICAgICAgIGJlZm9yZSxcbiAgICAgICAgICAgIGFmdGVyLFxuICAgICAgICAgICAgdGhyb3dPbkVycm9yLFxuICAgICAgICAgICAgb3ZlcnJpZGVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChleGlzdGVkSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGV4aXN0aW5nIG1ldGhvZCBpbiB0aGUgbWV0YWRhdGFcbiAgICAgICAgICAgIGV4aXN0ZWRNZXRhVmFsdWVbZXhpc3RlZEluZGV4XSA9IGV4dGVuc2lvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgbmV3IG1ldGhvZCB0byB0aGUgbWV0YWRhdGFcbiAgICAgICAgICAgIGV4aXN0ZWRNZXRhVmFsdWUucHVzaChleHRlbnNpb24pO1xuICAgICAgICB9XG5cblxuXG4gICAgICAgIC8vIFNldCB0aGUgbWV0YWRhdGEgb2YgdGhlIG1ldGhvZCB0byBkZWZpbmUgYSBjdXN0b20gRmVhdHVyZSB3aXRoIG5hbWVcbiAgICAgICAgZXhpc3RlZE1ldGEuc2V0KHRhcmdldFJlZ2V4cC5zb3VyY2UsIGV4aXN0ZWRNZXRhVmFsdWUpO1xuXG4gICAgICAgIC8vICBVcGRhdGUgdGhlIG1ldGFkYXRhIG9mIHRoZSBjb250YWluZXIgd2l0aCB0aGUgbmV3IEZlYXR1cmUgZGVmaW5pdGlvblxuICAgICAgICBBX0NvbnRleHRcbiAgICAgICAgICAgIC5tZXRhKHRhcmdldClcbiAgICAgICAgICAgIC5zZXQobWV0YUtleSwgZXhpc3RlZE1ldGEpO1xuICAgIH07XG59XG5cblxuLyoqXG4gKiBCdWlsZHMgYSB0YXJnZXQgcmVndWxhciBleHByZXNzaW9uIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzLlxuICogXG4gKiBAcGFyYW0gcGFyYW0xIC0gVGhlIGZpcnN0IHBhcmFtZXRlciwgd2hpY2ggY2FuIGJlIGEgc3RyaW5nIG9yIGFuIG9iamVjdC5cbiAqIEBwYXJhbSBpbmNsdWRlIC0gQW4gYXJyYXkgb2YgaXRlbXMgdG8gaW5jbHVkZSBpbiB0aGUgcmVndWxhciBleHByZXNzaW9uLlxuICogQHBhcmFtIGV4Y2x1ZGUgLSBBbiBhcnJheSBvZiBpdGVtcyB0byBleGNsdWRlIGZyb20gdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAqIEBwYXJhbSBwcm9wZXJ0eUtleSAtIFRoZSBwcm9wZXJ0eSBrZXkgdG8gdXNlIGluIHRoZSByZWd1bGFyIGV4cHJlc3Npb24uXG4gKiBAcmV0dXJucyBBIHJlZ3VsYXIgZXhwcmVzc2lvbiBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFRhcmdldFJlZ2V4cChcbiAgICBwYXJhbTE6IGFueSxcbiAgICBpbmNsdWRlOiBhbnlbXSxcbiAgICBleGNsdWRlOiBhbnlbXSxcbiAgICBwcm9wZXJ0eUtleTogc3RyaW5nXG4pIHtcbiAgICBjb25zdCBpbmNsdWRlUGFydCA9IGluY2x1ZGUubGVuZ3RoXG4gICAgICAgID8gYCgke2luY2x1ZGUubWFwKGVsID0+IGVsLm5hbWUpLmpvaW4oJ3wnKX0pYFxuICAgICAgICA6IGAuKmA7XG5cbiAgICBjb25zdCBleGNsdWRlUGFydCA9IGV4Y2x1ZGUubGVuZ3RoXG4gICAgICAgID8gYCg/ISR7ZXhjbHVkZS5tYXAoZWwgPT4gZWwubmFtZSkuam9pbignfCcpfSlgXG4gICAgICAgIDogYGA7XG5cbiAgICBjb25zdCBwYXR0ZXJuID0gcGFyYW0xLnNjb3BlXG4gICAgICAgID8gYF4ke2V4Y2x1ZGVQYXJ0fSR7aW5jbHVkZVBhcnR9XFxcXC4ke3BhcmFtMS5uYW1lIHx8IHByb3BlcnR5S2V5fSRgXG4gICAgICAgIDogYC4qXFxcXC4ke3BhcmFtMS5uYW1lIHx8IHByb3BlcnR5S2V5fSRgO1xuXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAocGF0dGVybik7XG59IiwgImltcG9ydCB7IEFfQ29udGFpbmVyIH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNsYXNzXCJcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC50eXBlc1wiXG5cblxuXG5leHBvcnQgZW51bSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cyB7XG4gICAgLyoqXG4gICAgICogVGhlIHN0YWdlIGlzIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBQUk9DRVNTSU5HID0gJ1BST0NFU1NJTkcnLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGFnZSBoYXMgYmVlbiBjb21wbGV0ZWRcbiAgICAgKi9cbiAgICBDT01QTEVURUQgPSAnQ09NUExFVEVEJyxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhZ2UgaGFzIGZhaWxlZFxuICAgICAqL1xuICAgIEZBSUxFRCA9ICdGQUlMRUQnLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGFnZSBoYXMgYmVlbiBza2lwcGVkXG4gICAgICovXG4gICAgU0tJUFBFRCA9ICdTS0lQUEVEJyxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhZ2UgaGFzIGJlZW4gcGF1c2VkXG4gICAgICovXG4gICAgLy8gUEFVU0VEID0gJ1BBVVNFRCcsXG4gICAgLyoqXG4gICAgICogVGhlIHN0YWdlIGhhcyBiZWVuIHN0b3BwZWRcbiAgICAgKi9cbiAgICAvLyBTVE9QUEVEID0gJ1NUT1BQRUQnLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGFnZSBoYXMgYmVlbiBzdGFydGVkXG4gICAgICovXG4gICAgLy8gU1RBUlRFRCA9ICdTVEFSVEVEJyxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhZ2UgaGFzIGJlZW4gaW5pdGlhbGl6ZWRcbiAgICAgKi9cbiAgICBJTklUSUFMSVpFRCA9ICdJTklUSUFMSVpFRCcsXG4gICAgLyoqXG4gICAgICogVGhlIHN0YWdlIGhhcyBiZWVuIGFib3J0ZWRcbiAgICAgKi9cbiAgICBBQk9SVEVEID0gJ0FCT1JURUQnXG59XG5cbmV4cG9ydCB0eXBlIEFfVFlQRVNfU3RhZ2VFeGVjdXRpb25CZWhhdmlvciA9ICdhc3luYycgfCAnc3luYydcblxuXG5leHBvcnQgdHlwZSBBX1RZUEVTX19BX1N0YWdlU3RlcCA9IHtcbiAgICAvKipcbiAgICAgKiBUaGUgY29tcG9uZW50IHRvIGJlIGNhbGxlZFxuICAgICAqL1xuICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yIHwgQV9Db250YWluZXIgfCBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBUaGUgbWV0aG9kIHRvIGJlIGNhbGxlZCBvbiB0aGUgY29tcG9uZW50XG4gICAgICovXG4gICAgaGFuZGxlcjogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIE9yaWdpbmFsIEZlYXR1cmUgRXh0ZW5zaW9uIG5hbWVcbiAgICAgKiBcbiAgICAgKiBbIV0gY291bGQgYmUgc3RyaW5nIG9yIHJlZ2V4XG4gICAgICogXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuXG4gICAgLyoqXG4gICAgICogSW4gY2FzZSBpdHMgYXN5bmMgaXQgd2lsbCBiZSBleGVjdXRlZCBpbmRlcGVuZGVudGx5IGZyb20gdGhlIG1haW4gdGhyZWFkLlxuICAgICAqIFxuICAgICAqIFshXSBIb3dldmVyLCBpbiBjYXNlIG9mIHN5bmMsIGl0IHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIG1haW4gdGhyZWFkLmluIHRoZSBvcmRlciBvZiB0aGUgZGVjbGFyYXRpb24uXG4gICAgICogXG4gICAgICovXG4gICAgYmVoYXZpb3I6IEFfVFlQRVNfU3RhZ2VFeGVjdXRpb25CZWhhdmlvclxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgbWV0aG9kLlxuICAgICAqIFxuICAgICAqIFshXSBJbiBjYXNlIHRoZSBtZXRob2QgaGFzIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBpdCB3aWxsIFRocm93IGFuIGVycm9yLlxuICAgICAqIFxuICAgICAqL1xuICAgIGJlZm9yZTogc3RyaW5nXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiB0aGUgZXhlY3V0aW9uIG9mIHRoZSBtZXRob2QuXG4gICAgICogXG4gICAgICogWyFdIEluIGNhc2UgdGhlIG1ldGhvZCBoYXMgY2lyY3VsYXIgZGVwZW5kZW5jaWVzIGl0IHdpbGwgVGhyb3cgYW4gZXJyb3IuXG4gICAgICogXG4gICAgICovXG4gICAgYWZ0ZXI6IHN0cmluZyxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRvIHRocm93IGFuIGVycm9yIGlmIHRoZSBzdGVwIGZhaWxzLlxuICAgICAqIFxuICAgICAqIFshXSBCeSBkZWZhdWx0IGlzIHRydWVcbiAgICAgKi9cbiAgICB0aHJvd09uRXJyb3I6IGJvb2xlYW5cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqL1xuICAgIG92ZXJyaWRlOiBzdHJpbmdcbn1cblxuXG5cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX1N0YWdlX1NlcmlhbGl6ZWQgPSB7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgc3RhZ2VcbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmcsXG5cbiAgICAvKipcbiAgICAgKiAgVGhlIHN0YXR1cyBvZiB0aGUgc3RhZ2VcbiAgICAgKiBcbiAgICAgKi9cbiAgICBzdGF0dXM6IEFfVFlQRVNfX0FfU3RhZ2VfU3RhdHVzLFxuXG5cbn1cblxuXG5cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0FfU3RhZ2VTdGVwUHJvY2Vzc2luZ0V4dHJhUGFyYW1zID0ge1xuICAgIHN0ZXBzOiBBX1RZUEVTX19BX1N0YWdlU3RlcFtdXG4gICAgZmlsdGVyOiAoc3RlcDogQV9UWVBFU19fQV9TdGFnZVN0ZXApID0+IGJvb2xlYW5cbn1cbiIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX1N0YWdlRXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIHN0YXRpYyByZWFkb25seSBBcmd1bWVudHNSZXNvbHV0aW9uRXJyb3IgPSAnQS1TdGFnZSBBcmd1bWVudHMgUmVzb2x1dGlvbiBFcnJvcic7XG5cblxuICAgIHN0YXRpYyBnZXQgQ29tcGlsZUVycm9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnVW5hYmxlIHRvIGNvbXBpbGUgQS1TdGFnZSc7XG4gICAgfVxuXG59XG4iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cyxcbiAgICBBX1RZUEVTX19BX1N0YWdlU3RlcCxcbiAgICBBX1RZUEVTX19TdGFnZV9TZXJpYWxpemVkXG59IGZyb20gXCIuL0EtU3RhZ2UudHlwZXNcIjtcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCIuLi9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0ZlYXR1cmUgfSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9TY29wZSB9IGZyb20gXCIuLi9BLVNjb3BlL0EtU2NvcGUuY2xhc3NcIjtcbmltcG9ydCB7IEFfU3RhZ2VFcnJvciB9IGZyb20gXCIuL0EtU3RhZ2UuZXJyb3JcIjtcbmltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHMgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vQS1Db250YWluZXIvQS1Db250YWluZXIudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlclwiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfU3RhZ2Uge1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZlYXR1cmUgdGhhdCBvd25zIHRoaXMgc3RhZ2VcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlYWRvbmx5IF9mZWF0dXJlITogQV9GZWF0dXJlO1xuICAgIC8qKlxuICAgICAqIEluaXRpYWwgSW5zdHJ1Y3Rpb25zIHRvIHByb2Nlc3MgdGhlIHN0YWdlXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGVmaW5pdGlvbiE6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwO1xuICAgIC8qKlxuICAgICAqIFBvc3NpYmxlIGVycm9ycyBkdXJpbmcgc3RhZ2UgcHJvY2Vzc2luZ1xuICAgICAqL1xuICAgIHByaXZhdGUgX2Vycm9yPzogQV9FcnJvcjtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSBzdGFnZVxuICAgICAqL1xuICAgIHByaXZhdGUgX3N0YXR1czogQV9UWVBFU19fQV9TdGFnZV9TdGF0dXMgPSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5JTklUSUFMSVpFRDtcblxuICAgIC8qKlxuICAgICAqIFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gdGhlIHN0YWdlIGlzIFByb2Nlc3NlZFxuICAgICAqL1xuICAgIHByaXZhdGUgX3Byb2Nlc3NlZDogUHJvbWlzZTx2b2lkPiB8IHVuZGVmaW5lZDtcblxuXG4gICAgLyoqXG4gICAgICogQV9TdGFnZSBpcyBhIGNhbGxhYmxlIEFfRnVuY3Rpb24gd2l0aGluIEFfRmVhdHVyZSB0aGF0IHNob3VsZCBiZSBydW4gd2l0aCBzcGVjaWZpYyBwYXJhbWV0ZXJzLlxuICAgICAqIFshXSBEZXBlbmRpbmcgb24gdGhlIFN0YWdlIERlZmluaXRpb24gdHlwZSBzeW5jL2FzeW5jIGZ1bmN0aW9uIGNhbiBiZSBleGVjdXRlZCBjb3JyZXNwb25kaW5nbHkuXG4gICAgICogXG4gICAgICogQS1TdGFnZSBpcyBhIGNvbW1vbiBvYmplY3QgdGhhdCB1c2VzIHRvIHNpbXBsaWZ5IGxvZ2ljIGFuZCByZS11c2Ugb2YgQS1GZWF0dXJlIGludGVybmFscyBmb3IgYmV0dGVyIGNvbXBvc2l0aW9uLiBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmZWF0dXJlIHRoYXQgb3ducyB0aGlzIHN0YWdlXG4gICAgICAgICAqL1xuICAgICAgICBmZWF0dXJlOiBBX0ZlYXR1cmUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RlcCBkZWZpbml0aW9ucyBvZiB0aGUgc3RhZ2VcbiAgICAgICAgICovXG4gICAgICAgIHN0ZXA6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX2ZlYXR1cmUgPSBmZWF0dXJlO1xuICAgICAgICB0aGlzLl9kZWZpbml0aW9uID0gc3RlcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBuYW1lIG9mIHRoZSBzdGFnZVxuICAgICAqL1xuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRlZmluaXRpb24gb2YgdGhlIHN0YWdlXG4gICAgICovXG4gICAgZ2V0IGRlZmluaXRpb24oKTogQV9UWVBFU19fQV9TdGFnZVN0ZXAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmaW5pdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBzdGF0dXMgb2YgdGhlIHN0YWdlXG4gICAgICovXG4gICAgZ2V0IHN0YXR1cygpOiBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGZlYXR1cmUgdGhhdCBvd25zIHRoaXMgc3RhZ2VcbiAgICAgKi9cbiAgICBnZXQgZmVhdHVyZSgpOiBBX0ZlYXR1cmUge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmVhdHVyZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzdGFnZSBpcyBwcm9jZXNzZWQgKGNvbXBsZXRlZCwgZmFpbGVkLCBvciBza2lwcGVkKVxuICAgICAqL1xuICAgIGdldCBpc1Byb2Nlc3NlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1cyA9PT0gQV9UWVBFU19fQV9TdGFnZV9TdGF0dXMuQ09NUExFVEVEXG4gICAgICAgICAgICB8fCB0aGlzLl9zdGF0dXMgPT09IEFfVFlQRVNfX0FfU3RhZ2VfU3RhdHVzLkZBSUxFRFxuICAgICAgICAgICAgfHwgdGhpcy5fc3RhdHVzID09PSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5TS0lQUEVEO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBlcnJvciBvZiB0aGUgc3RhZ2VcbiAgICAgKi9cbiAgICBnZXQgZXJyb3IoKTogQV9FcnJvciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyB0aGUgYXJndW1lbnRzIG9mIHRoZSBzdGVwXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0ZXAgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIGdldFN0ZXBBcmdzKFxuICAgICAgICBzY29wZTogQV9TY29wZSxcbiAgICAgICAgc3RlcDogQV9UWVBFU19fQV9TdGFnZVN0ZXBcbiAgICApIHtcbiAgICAgICAgbGV0IHJlc29sdmVyQ29uc3RydWN0b3I6IEFfVFlQRVNfX0NvbnRhaW5lcl9Db25zdHJ1Y3RvciB8IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2Uoc3RlcC5jb21wb25lbnQpOlxuICAgICAgICAgICAgICAgIHJlc29sdmVyQ29uc3RydWN0b3IgPSBzdGVwLmNvbXBvbmVudC5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKHN0ZXAuY29tcG9uZW50KTpcbiAgICAgICAgICAgICAgICByZXNvbHZlckNvbnN0cnVjdG9yID0gc2NvcGUucmVzb2x2ZUNvbnN0cnVjdG9yKHN0ZXAuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXNvbHZlckNvbnN0cnVjdG9yID0gc3RlcC5jb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHJldHVybiBQcm9taXNlXG4gICAgICAgICAgICAuYWxsKEFfQ29udGV4dFxuICAgICAgICAgICAgICAgIC5tZXRhKHJlc29sdmVyQ29uc3RydWN0b3IpXG4gICAgICAgICAgICAgICAgLmluamVjdGlvbnMoc3RlcC5oYW5kbGVyKVxuICAgICAgICAgICAgICAgIC5tYXAoYXN5bmMgYXJnID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NhbGxlckNvbnN0cnVjdG9yKGFyZy50YXJnZXQpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mZWF0dXJlLmNhbGxlci5jb21wb25lbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRmVhdHVyZUNvbnN0cnVjdG9yKGFyZy50YXJnZXQpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mZWF0dXJlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB0YXJnZXQsIHJlcXVpcmUsIGNyZWF0ZSwgZGVmYXVsdEFyZ3MsIHBhcmVudCwgZmxhdCB9ID0gYXJnO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVwZW5kZW5jeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0U2NvcGUgPSBzY29wZTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEpIEZsYXQgcmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGZsYXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZGVuY3kgPSB0YXJnZXRTY29wZS5yZXNvbHZlRmxhdCh0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMikgUGFyZW50IHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBwYXJlbnQgJiYgdHlwZW9mIHBhcmVudC5sYXllck9mZnNldCA9PT0gJ251bWJlcic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFBhcmVudCA9IHRhcmdldFNjb3BlLnBhcmVudE9mZnNldChwYXJlbnQubGF5ZXJPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRQYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TdGFnZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBX1N0YWdlRXJyb3IuQXJndW1lbnRzUmVzb2x1dGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIHJlc29sdmUgcGFyZW50IHNjb3BlIGF0IGxheWVyIG9mZnNldCAke3BhcmVudC5sYXllck9mZnNldH0gZm9yIGFyZ3VtZW50ICR7QV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShhcmcudGFyZ2V0KX0gZm9yIHN0YWdlICR7dGhpcy5uYW1lfSBpbiBzY29wZSAke3Njb3BlLm5hbWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gdGFyZ2V0UGFyZW50LnJlc29sdmUodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFNjb3BlID0gdGFyZ2V0UGFyZW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAzKSBOb3JtYWwgcmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gdGFyZ2V0U2NvcGUucmVzb2x2ZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlICYmICFkZXBlbmRlbmN5ICYmIEFfVHlwZUd1YXJkcy5pc0FsbG93ZWRGb3JEZXBlbmRlbmN5RGVmYXVsdENyZWF0aW9uKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RGVwZW5kZW5jeSA9IG5ldyB0YXJnZXQoLi4uZGVmYXVsdEFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFNjb3BlLnJlZ2lzdGVyKG5ld0RlcGVuZGVuY3kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3RGVwZW5kZW5jeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWlyZSAmJiAhZGVwZW5kZW5jeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TdGFnZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQV9TdGFnZUVycm9yLkFyZ3VtZW50c1Jlc29sdXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gcmVzb2x2ZSByZXF1aXJlZCBhcmd1bWVudCAke0FfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoYXJnLnRhcmdldCl9IGZvciBzdGFnZSAke3RoaXMubmFtZX0gaW4gc2NvcGUgJHtzY29wZS5uYW1lfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVwZW5kZW5jeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyB0aGUgY29tcG9uZW50IG9mIHRoZSBzdGVwXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0ZXAgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFN0ZXBDb21wb25lbnQoXG4gICAgICAgIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBzdGVwOiBBX1RZUEVTX19BX1N0YWdlU3RlcFxuICAgICkge1xuICAgICAgICBjb25zdCB7IGNvbXBvbmVudCwgaGFuZGxlciB9ID0gc3RlcDtcblxuICAgICAgICBsZXQgaW5zdGFuY2U6IEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHMgfCB1bmRlZmluZWRcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UoY29tcG9uZW50KTpcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcoY29tcG9uZW50KTpcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IHNjb3BlLnJlc29sdmUoY29tcG9uZW50KSB8fCB0aGlzLmZlYXR1cmUuc2NvcGUucmVzb2x2ZShjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gc2NvcGUucmVzb2x2ZShjb21wb25lbnQpIHx8IHRoaXMuZmVhdHVyZS5zY29wZS5yZXNvbHZlKGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWluc3RhbmNlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfU3RhZ2VFcnJvcihBX1N0YWdlRXJyb3IuQ29tcGlsZUVycm9yLCBgVW5hYmxlIHRvIHJlc29sdmUgY29tcG9uZW50ICR7dHlwZW9mIGNvbXBvbmVudCA9PT0gJ3N0cmluZycgPyBjb21wb25lbnQgOiBjb21wb25lbnQubmFtZX0gZnJvbSBzY29wZSAke3Njb3BlLm5hbWV9YCk7XG5cbiAgICAgICAgaWYgKCFpbnN0YW5jZVtoYW5kbGVyXSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX1N0YWdlRXJyb3IoQV9TdGFnZUVycm9yLkNvbXBpbGVFcnJvciwgYEhhbmRsZXIgJHtoYW5kbGVyfSBub3QgZm91bmQgaW4gJHtpbnN0YW5jZS5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuXG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgdGhlIGhhbmRsZXIgb2YgdGhlIHN0ZXBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RlcCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgY2FsbFN0ZXBIYW5kbGVyKFxuICAgICAgICBzdGVwOiBBX1RZUEVTX19BX1N0YWdlU3RlcCxcbiAgICAgICAgc2NvcGU6IEFfU2NvcGVcbiAgICApIHtcbiAgICAgICAgLy8gMSkgUmVzb2x2ZSBjb21wb25lbnRcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gYXdhaXQgdGhpcy5nZXRTdGVwQ29tcG9uZW50KHNjb3BlLCBzdGVwKTtcbiAgICAgICAgLy8gMikgUmVzb2x2ZSBhcmd1bWVudHNcbiAgICAgICAgY29uc3QgY2FsbEFyZ3MgPSBhd2FpdCB0aGlzLmdldFN0ZXBBcmdzKHNjb3BlLCBzdGVwKTtcblxuICAgICAgICAvLyAzKSBDYWxsIGhhbmRsZXJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNvbXBvbmVudFtzdGVwLmhhbmRsZXJdKC4uLmNhbGxBcmdzKTtcbiAgICB9XG5cblxuICAgIHNraXAoKSB7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IEFfVFlQRVNfX0FfU3RhZ2VfU3RhdHVzLlNLSVBQRUQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBwcm9jZXNzZXMgdGhlIHN0YWdlIGJ5IGV4ZWN1dGluZyBhbGwgdGhlIHN0ZXBzXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlIC0gU2NvcGUgdG8gYmUgdXNlZCB0byByZXNvbHZlIHRoZSBzdGVwcyBkZXBlbmRlbmNpZXNcbiAgICAgKi9cbiAgICBhc3luYyBwcm9jZXNzKFxuICAgICAgICAvKipcbiAgICAgICAgICogU2NvcGUgdG8gYmUgdXNlZCB0byByZXNvbHZlIHRoZSBzdGVwcyBkZXBlbmRlbmNpZXNcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcblxuICAgICAgICBjb25zdCB0YXJnZXRTY29wZSA9IEFfVHlwZUd1YXJkcy5pc1Njb3BlSW5zdGFuY2Uoc2NvcGUpXG4gICAgICAgICAgICA/IHNjb3BlXG4gICAgICAgICAgICA6IHRoaXMuX2ZlYXR1cmUuc2NvcGU7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9wcm9jZXNzZWQpXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzZWQgPSBuZXcgUHJvbWlzZTx2b2lkPihcbiAgICAgICAgICAgICAgICBhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5QUk9DRVNTSU5HO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGVmaW5pdGlvbi5iZWhhdmlvciA9PT0gJ3N5bmMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gY2FzZSB3ZSBoYXZlIHRvIHdhaXQgZm9yIHRoZSByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGxTdGVwSGFuZGxlcih0aGlzLl9kZWZpbml0aW9uLCB0YXJnZXRTY29wZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluIGNhc2Ugd2UgZG9uJ3QgaGF2ZSB0byB3YWl0IGZvciB0aGUgcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsU3RlcEhhbmRsZXIodGhpcy5fZGVmaW5pdGlvbiwgdGFyZ2V0U2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlZEVycm9yID0gbmV3IEFfRXJyb3IoZXJyb3IgYXMgYW55KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWlsZWQod3JhcHBlZEVycm9yKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RlZmluaXRpb24udGhyb3dPbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCh3cmFwcGVkRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3NlZDtcbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PSBTdGF0dXMgbWV0aG9kcyA9PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBwcm90ZWN0ZWQgY29tcGxldGVkKCkge1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5DT01QTEVURUQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGZhaWxlZChcbiAgICAgICAgZXJyb3I6IEVycm9yIHwgQV9FcnJvciB8IGFueVxuICAgICkge1xuICAgICAgICB0aGlzLl9lcnJvciA9IG5ldyBBX0Vycm9yKGVycm9yKTtcblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5GQUlMRUQ7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PSBTZXJpYWxpemF0aW9uID09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIHN0YWdlIHRvIEpTT05cbiAgICAgKiBcbiAgICAgKi9cbiAgICB0b0pTT04oKTogQV9UWVBFU19fU3RhZ2VfU2VyaWFsaXplZCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3RhZ2VcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBBLVN0YWdlKCR7dGhpcy5fZmVhdHVyZS5uYW1lfTo6JHt0aGlzLl9kZWZpbml0aW9uLmJlaGF2aW9yfUAke3RoaXMuX2RlZmluaXRpb24uaGFuZGxlcn0pYDtcbiAgICB9XG59ICAgIiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9TdGVwTWFuYWdlckVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cblxuICAgIHN0YXRpYyByZWFkb25seSBDaXJjdWxhckRlcGVuZGVuY3lFcnJvciA9ICdBLVN0ZXBNYW5hZ2VyIENpcmN1bGFyIERlcGVuZGVuY3kgRXJyb3InO1xuXG59IiwgImltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGVtcGxhdGVJdGVtIH0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUudHlwZXNcIjtcbmltcG9ydCB7IEFfU3RhZ2UgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX1N0YWdlU3RlcCB9IGZyb20gXCIuLi9BLVN0YWdlL0EtU3RhZ2UudHlwZXNcIjtcbmltcG9ydCB7IEFfU3RlcE1hbmFnZXJFcnJvciB9IGZyb20gXCIuL0EtU3RlcE1hbmFnZXIuZXJyb3JcIjtcblxuZXhwb3J0IGNsYXNzIEFfU3RlcHNNYW5hZ2VyIHtcblxuICAgIHB1YmxpYyBlbnRpdGllczogQV9UWVBFU19fQV9TdGFnZVN0ZXBbXTtcbiAgICBwdWJsaWMgZ3JhcGg6IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PjtcbiAgICBwdWJsaWMgdmlzaXRlZDogU2V0PHN0cmluZz47XG4gICAgcHVibGljIHRlbXBNYXJrOiBTZXQ8c3RyaW5nPjtcbiAgICBwdWJsaWMgc29ydGVkRW50aXRpZXM6IHN0cmluZ1tdO1xuXG5cbiAgICBwcml2YXRlIF9pc0J1aWx0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihlbnRpdGllczogQXJyYXk8QV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvclRlbXBsYXRlSXRlbT4pIHtcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IHRoaXMucHJlcGFyZVN0ZXBzKGVudGl0aWVzKTtcblxuICAgICAgICB0aGlzLmdyYXBoID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnZpc2l0ZWQgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMudGVtcE1hcmsgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuc29ydGVkRW50aXRpZXMgPSBbXTtcblxuICAgIH1cblxuICAgIHByaXZhdGUgcHJlcGFyZVN0ZXBzKFxuICAgICAgICBlbnRpdGllczogQXJyYXk8QV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvclRlbXBsYXRlSXRlbT5cbiAgICApOiBBcnJheTxBX1RZUEVTX19BX1N0YWdlU3RlcD4ge1xuICAgICAgICByZXR1cm4gZW50aXRpZXNcbiAgICAgICAgICAgIC5tYXAoc3RlcCA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnN0ZXAsXG5cbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogc3RlcC5iZWhhdmlvciB8fCAnc3luYycsXG4gICAgICAgICAgICAgICAgYmVmb3JlOiBzdGVwLmJlZm9yZSB8fCAnJyxcbiAgICAgICAgICAgICAgICBhZnRlcjogc3RlcC5hZnRlciB8fCAnJyxcbiAgICAgICAgICAgICAgICBvdmVycmlkZTogc3RlcC5vdmVycmlkZSB8fCAnJyxcbiAgICAgICAgICAgICAgICB0aHJvd09uRXJyb3I6IGZhbHNlXG4gICAgICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBJRChzdGVwOiBBX1RZUEVTX19BX1N0YWdlU3RlcCkge1xuICAgICAgICByZXR1cm4gYCR7dHlwZW9mIHN0ZXAuY29tcG9uZW50ID09PSAnc3RyaW5nJyA/IHN0ZXAuY29tcG9uZW50IDogc3RlcC5jb21wb25lbnQubmFtZX0uJHtzdGVwLmhhbmRsZXJ9YDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkR3JhcGgoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0J1aWx0KSByZXR1cm47XG4gICAgICAgIHRoaXMuX2lzQnVpbHQgPSB0cnVlO1xuXG4gICAgICAgIC8vIEZpbHRlciBvdmVycmlkZVxuICAgICAgICB0aGlzLmVudGl0aWVzID0gdGhpcy5lbnRpdGllc1xuICAgICAgICAgICAgLmZpbHRlcigoc3RlcCwgaSwgc2VsZikgPT5cbiAgICAgICAgICAgICAgICAhc2VsZi5zb21lKHMgPT4gcy5vdmVycmlkZSA/IG5ldyBSZWdFeHAocy5vdmVycmlkZSkudGVzdCh0aGlzLklEKHN0ZXApKSA6IGZhbHNlKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIGdyYXBoIG5vZGVzXG4gICAgICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4gdGhpcy5ncmFwaC5zZXQodGhpcy5JRChlbnRpdHkpLCBuZXcgU2V0KCkpKTtcblxuICAgICAgICAvLyBBZGQgZGlyZWN0ZWQgZWRnZXMgYmFzZWQgb24gJ2JlZm9yZScgYW5kICdhZnRlcidcbiAgICAgICAgdGhpcy5lbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHlJZCA9IHRoaXMuSUQoZW50aXR5KTtcblxuICAgICAgICAgICAgLy8gQWRkIGVkZ2VzIGZvciAnYmVmb3JlJyBkZXBlbmRlbmNpZXNcbiAgICAgICAgICAgIC8vIElmIGVudGl0eSBzaG91bGQgZXhlY3V0ZSBiZWZvcmUgdGFyZ2V0cywgdGhlbiB0YXJnZXRzIGRlcGVuZCBvbiBlbnRpdHlcbiAgICAgICAgICAgIC8vIFNvIHdlIGFkZCBlZGdlczogdGFyZ2V0IC0+IGVudGl0eSAodGFyZ2V0IGRlcGVuZHMgb24gZW50aXR5KVxuICAgICAgICAgICAgaWYgKGVudGl0eS5iZWZvcmUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRzID0gdGhpcy5tYXRjaEVudGl0aWVzKGVudGl0eUlkLCBlbnRpdHkuYmVmb3JlKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRzLmZvckVhY2godGFyZ2V0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdyYXBoLmhhcyh0YXJnZXQpKSB0aGlzLmdyYXBoLnNldCh0YXJnZXQsIG5ldyBTZXQoKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGguZ2V0KHRhcmdldCkhLmFkZChlbnRpdHlJZCk7IC8vIHRhcmdldCBkZXBlbmRzIG9uIGVudGl0eVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZGQgZWRnZXMgZm9yICdhZnRlcicgZGVwZW5kZW5jaWVzICBcbiAgICAgICAgICAgIC8vIElmIGVudGl0eSBzaG91bGQgZXhlY3V0ZSBhZnRlciBzb3VyY2VzLCB0aGVuIGVudGl0eSBkZXBlbmRzIG9uIHNvdXJjZXNcbiAgICAgICAgICAgIC8vIFNvIHdlIGFkZCBlZGdlczogZW50aXR5IC0+IHNvdXJjZSAoZW50aXR5IGRlcGVuZHMgb24gc291cmNlKVxuICAgICAgICAgICAgaWYgKGVudGl0eS5hZnRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLm1hdGNoRW50aXRpZXMoZW50aXR5SWQsIGVudGl0eS5hZnRlcik7XG5cbiAgICAgICAgICAgICAgICBzb3VyY2VzLmZvckVhY2goc291cmNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdyYXBoLmhhcyhlbnRpdHlJZCkpIHRoaXMuZ3JhcGguc2V0KGVudGl0eUlkLCBuZXcgU2V0KCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyYXBoLmdldChlbnRpdHlJZCkhLmFkZChzb3VyY2UpOyAvLyBlbnRpdHkgZGVwZW5kcyBvbiBzb3VyY2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gTWF0Y2ggZW50aXRpZXMgYnkgbmFtZSBvciByZWdleFxuICAgIHByaXZhdGUgbWF0Y2hFbnRpdGllcyhlbnRpdHlJZDogc3RyaW5nLCBwYXR0ZXJuOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChwYXR0ZXJuKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5lbnRpdGllc1xuICAgICAgICAgICAgLmZpbHRlcihlbnRpdHkgPT4gcmVnZXgudGVzdCh0aGlzLklEKGVudGl0eSkpICYmIHRoaXMuSUQoZW50aXR5KSAhPT0gZW50aXR5SWQpXG4gICAgICAgICAgICAubWFwKGVudGl0eSA9PiB0aGlzLklEKGVudGl0eSkpO1xuICAgIH1cblxuICAgIC8vIFRvcG9sb2dpY2FsIHNvcnQgd2l0aCBjeWNsZSBkZXRlY3Rpb25cbiAgICBwcml2YXRlIHZpc2l0KG5vZGU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy50ZW1wTWFyay5oYXMobm9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIFRPRE86IG1heWJlIHdlIGhhdmUgdG8ga2VlcCB0aGlzIGVycm9yIGJ1dCBvbmx5IGZvciBwYXJ0aWFsIGNhc2VzXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9TdGVwTWFuYWdlckVycm9yKFxuICAgICAgICAgICAgICAgIEFfU3RlcE1hbmFnZXJFcnJvci5DaXJjdWxhckRlcGVuZGVuY3lFcnJvcixcbiAgICAgICAgICAgICAgICBgQ2lyY3VsYXIgZGVwZW5kZW5jeSBkZXRlY3RlZCBpbnZvbHZpbmcgc3RlcDogJHtub2RlfS4gTWFrZSBzdXJlIHRoYXQgeW91ciAnYmVmb3JlJyBhbmQgJ2FmdGVyJyBkZXBlbmRlbmNpZXMgZG8gbm90IGNyZWF0ZSBjeWNsZXMuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy52aXNpdGVkLmhhcyhub2RlKSkge1xuICAgICAgICAgICAgdGhpcy50ZW1wTWFyay5hZGQobm9kZSk7XG5cblxuICAgICAgICAgICAgKHRoaXMuZ3JhcGguZ2V0KG5vZGUpIHx8IFtdKS5mb3JFYWNoKG5laWdoYm9yID0+IHRoaXMudmlzaXQobmVpZ2hib3IpKTtcbiAgICAgICAgICAgIHRoaXMudGVtcE1hcmsuZGVsZXRlKG5vZGUpO1xuICAgICAgICAgICAgdGhpcy52aXNpdGVkLmFkZChub2RlKTtcbiAgICAgICAgICAgIHRoaXMuc29ydGVkRW50aXRpZXMucHVzaChub2RlKTtcblxuICAgICAgICAgICAgLy8gLy8gVmlzaXQgbmVpZ2hib3JzIGluIHN0YWJsZSBvcmRlciAocHJlc2VydmluZyBvcmlnaW5hbCBvcmRlcilcbiAgICAgICAgICAgIC8vIGNvbnN0IG5laWdoYm9ycyA9IEFycmF5LmZyb20odGhpcy5ncmFwaC5nZXQobm9kZSkgfHwgW10pO1xuICAgICAgICAgICAgLy8gLy8gbmVpZ2hib3JzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIC8vIC8vICAgICBjb25zdCBvcmRlckEgPSB0aGlzLm9yaWdpbmFsT3JkZXIuZ2V0KGEpIHx8IDA7XG4gICAgICAgICAgICAvLyAvLyAgICAgY29uc3Qgb3JkZXJCID0gdGhpcy5vcmlnaW5hbE9yZGVyLmdldChiKSB8fCAwO1xuICAgICAgICAgICAgLy8gLy8gICAgIHJldHVybiBvcmRlckEgLSBvcmRlckI7XG4gICAgICAgICAgICAvLyAvLyB9KTtcblxuICAgICAgICAgICAgLy8gbmVpZ2hib3JzLmZvckVhY2gobmVpZ2hib3IgPT4gdGhpcy52aXNpdChuZWlnaGJvcikpO1xuICAgICAgICAgICAgLy8gdGhpcy50ZW1wTWFyay5kZWxldGUobm9kZSk7XG4gICAgICAgICAgICAvLyB0aGlzLnZpc2l0ZWQuYWRkKG5vZGUpO1xuICAgICAgICAgICAgLy8gdGhpcy5zb3J0ZWRFbnRpdGllcy5wdXNoKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICB0b1NvcnRlZEFycmF5KCk6IEFycmF5PHN0cmluZz4ge1xuICAgICAgICB0aGlzLmJ1aWxkR3JhcGgoKTtcblxuICAgICAgICAvLyBTdGFydCB0b3BvbG9naWNhbCBzb3J0XG4gICAgICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnZpc2l0ZWQuaGFzKHRoaXMuSUQoZW50aXR5KSkpIHRoaXMudmlzaXQodGhpcy5JRChlbnRpdHkpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc29ydGVkRW50aXRpZXM7XG4gICAgfVxuXG4gICAgLy8gU29ydCB0aGUgZW50aXRpZXMgYmFzZWQgb24gZGVwZW5kZW5jaWVzXG4gICAgdG9TdGFnZXMoZmVhdHVyZTogQV9GZWF0dXJlKTogQXJyYXk8QV9TdGFnZT4ge1xuXG5cbiAgICAgICAgY29uc3Qgc29ydGVkTmFtZXMgPSB0aGlzLnRvU29ydGVkQXJyYXkoKTtcblxuXG4gICAgICAgIC8vIE1hcCBzb3J0ZWQgbmFtZXMgYmFjayB0byBlbnRpdHkgb2JqZWN0c1xuICAgICAgICByZXR1cm4gc29ydGVkTmFtZXNcbiAgICAgICAgICAgIC5tYXAoaWQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSB0aGlzLmVudGl0aWVzLmZpbmQoZW50aXR5ID0+IHRoaXMuSUQoZW50aXR5KSA9PT0gaWQpITtcblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBX1N0YWdlKGZlYXR1cmUsIHN0ZXApO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cbiIsICJpbXBvcnQge1xuICAgIEFfVFlQRVNfX0ZlYXR1cmVfSW5pdCxcbiAgICBBX1RZUEVTX19GZWF0dXJlX0luaXRXaXRoQ29tcG9uZW50LFxuICAgIEFfVFlQRVNfX0ZlYXR1cmVfSW5pdFdpdGhUZW1wbGF0ZSxcbiAgICBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgICBBX1RZUEVTX19GZWF0dXJlU3RhdGUsXG59IGZyb20gXCIuL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9GZWF0dXJlX0RlZmluZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUZlYXR1cmUvQS1GZWF0dXJlLURlZmluZS5kZWNvcmF0b3JcIjtcbmltcG9ydCB7IEFfRmVhdHVyZV9FeHRlbmQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS1FeHRlbmQuZGVjb3JhdG9yXCI7XG5pbXBvcnQgeyBBX1N0YWdlIH0gZnJvbSBcIi4uL0EtU3RhZ2UvQS1TdGFnZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9TdGVwc01hbmFnZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1TdGVwTWFuYWdlci9BLVN0ZXBNYW5hZ2VyLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1N0YWdlRXJyb3IgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLmVycm9yXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfRmVhdHVyZUVycm9yIH0gZnJvbSBcIi4vQS1GZWF0dXJlLmVycm9yXCI7XG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiLi4vQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9DYWxsZXIgfSBmcm9tIFwiLi4vQS1DYWxsZXIvQV9DYWxsZXIuY2xhc3NcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbXBvbmVudCB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jbGFzc1wiO1xuXG5cbi8qKlxuICogQV9GZWF0dXJlIGlzIHJlcHJlc2VudGluZyBhIGZlYXR1cmUgdGhhdCBjYW4gYmUgZXhlY3V0ZWQgYWNyb3NzIG11bHRpcGxlIGNvbXBvbmVudHNcbiAqIFRoaXMgY2xhc3Mgc3RvcmVzIHRoZSBzdGVwcyBvZiB0aGUgZmVhdHVyZSBhbmQgZXhlY3V0ZXMgdGhlbSBpbiBvcmRlciBvZiBhcHBlYXJhbmNlXG4gKiBcbiAqIFVzaW5nIEFfRmVhdHVyZS5EZWZpbmUgYW5kIEFfRmVhdHVyZS5FeHRlbmQgZGVjb3JhdG9ycyB0byBkZWZpbmUgYW5kIGV4dGVuZCB0aGUgZmVhdHVyZSBtZXRob2RzIFxuICogYWNyb3NzIHRoZSBkaWZmZXJlbnQsIGRpc3RyaWJ1dGVkIGNvbXBvbmVudHNcbiAqIFxuICovXG5leHBvcnQgY2xhc3MgQV9GZWF0dXJlPFQgZXh0ZW5kcyBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyA9IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzPiB7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBTdGF0aWMgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIERlZmluZSBhIG5ldyBBLUZlYXR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IERlZmluZSgpOiB0eXBlb2YgQV9GZWF0dXJlX0RlZmluZSB7XG4gICAgICAgIHJldHVybiBBX0ZlYXR1cmVfRGVmaW5lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dGVuZCBhbiBleGlzdGluZyBBLUZlYXR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IEV4dGVuZCgpOiB0eXBlb2YgQV9GZWF0dXJlX0V4dGVuZCB7XG4gICAgICAgIHJldHVybiBBX0ZlYXR1cmVfRXh0ZW5kO1xuICAgIH1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBJbnRlcm5hbCBQcm9wZXJ0aWVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBGZWF0dXJlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9uYW1lITogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIExpc3Qgb2Ygc3RhZ2VzIHRoYXQgYXJlIHBhcnQgb2YgdGhpcyBGZWF0dXJlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9zdGFnZXM6IEFycmF5PEFfU3RhZ2U+ID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIFN0YWdlIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2N1cnJlbnQ/OiBBX1N0YWdlO1xuICAgIC8qKlxuICAgICAqIEFjdHVhbCBJbmRleCBvZiB0aGUgY3VycmVudCBTdGFnZSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2luZGV4OiBudW1iZXIgPSAwO1xuICAgIC8qKlxuICAgICAqIFN0ZXBzIE1hbmFnZXIgdG8gb3JnYW5pemUgdGhlIHN0ZXBzIGludG8gc3RhZ2VzXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9TTSE6IEFfU3RlcHNNYW5hZ2VyO1xuICAgIC8qKlxuICAgICAqIFRoZSBDYWxsZXIgdGhhdCBpbml0aWF0ZWQgdGhlIEZlYXR1cmUgY2FsbFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfY2FsbGVyITogQV9DYWxsZXI8VD47XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIEZlYXR1cmVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3N0YXRlOiBBX1RZUEVTX19GZWF0dXJlU3RhdGUgPSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuSU5JVElBTElaRUQ7XG4gICAgLyoqXG4gICAgICogVGhlIGVycm9yIHRoYXQgY2F1c2VkIHRoZSBGZWF0dXJlIHRvIGJlIGludGVycnVwdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9lcnJvcj86IEFfRmVhdHVyZUVycm9yXG5cblxuXG4gICAgLyoqXG4gICAgICogQS1GZWF0dXJlIGlzIGEgcGlwZWxpbmUgZGlzdHJpYnV0ZWQgYnkgbXVsdGlwbGUgY29tcG9uZW50cyB0aGF0IGNhbiBiZSBlYXNpbHkgYXR0YWNoZWQgb3IgZGV0YWNoZWQgZnJvbSB0aGUgc2NvcGUuIFxuICAgICAqIEZlYXR1cmUgaXRzZWxmIGRvZXMgbm90IGhhdmUgc2NvcGUsIGJ1dCBhdHRhY2hlZCB0byB0aGUgY2FsbGVyIHdobyBkaWN0YXRlcyBob3cgZmVhdHVyZSBzaG91bGQgYmUgcHJvY2Vzc2VkLiBcbiAgICAgKiBcbiAgICAgKiBDb21wYXJpbmcgdG8gQS1Db21tYW5kIEZlYXR1cmUgZG9lcyBub3Qgc3RvcmUgYW55IHN0YXRlIGV4Y2VwdCBzdGF0dXNlcyBmb3IgYmV0dGVyIGFuYWx5c2lzLiBcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogSWYgQS1GZWF0dXJlIHNob3VsZCBoYXZlIHJlc3VsdCB1c2UgQS1GcmFnbWVudCBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogRmVhdHVyZSBJbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbXM6IEFfVFlQRVNfX0ZlYXR1cmVfSW5pdDxUPlxuICAgICkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlUGFyYW1zKHBhcmFtcyk7XG5cbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZXIgPSB0aGlzLmdldEluaXRpYWxpemVyKHBhcmFtcyk7XG4gICAgICAgIC8vIHRoZSByZXR1cm5lZCBpbml0aWFsaXplciBpcyBhbHJlYWR5IGJvdW5kIHRvIGB0aGlzYCAod2UgdXNlZCAuYmluZCh0aGlzKSksXG4gICAgICAgIC8vIHNvIGNhbGxpbmcgaXQgd2lsbCBydW4gdGhlIGFwcHJvcHJpYXRlIGxvZ2ljIG9uIHRoaXMgaW5zdGFuY2U6XG4gICAgICAgIGluaXRpYWxpemVyLmNhbGwodGhpcywgcGFyYW1zKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBGZWF0dXJlXG4gICAgICovXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMuX25hbWU7IH1cbiAgICAvKipcbiAgICAgKiBUaGUgZXJyb3IgdGhhdCBjYXVzZWQgdGhlIEZlYXR1cmUgdG8gYmUgaW50ZXJydXB0ZWRcbiAgICAgKi9cbiAgICBnZXQgZXJyb3IoKTogQV9GZWF0dXJlRXJyb3IgfCB1bmRlZmluZWQgeyByZXR1cm4gdGhpcy5fZXJyb3I7IH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgRmVhdHVyZVxuICAgICAqL1xuICAgIGdldCBzdGF0ZSgpOiBBX1RZUEVTX19GZWF0dXJlU3RhdGUgeyByZXR1cm4gdGhpcy5fc3RhdGU7IH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBGZWF0dXJlXG4gICAgICovXG4gICAgZ2V0IGluZGV4KCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9pbmRleDsgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgQS1GZWF0dXJlIFN0YWdlXG4gICAgICovXG4gICAgZ2V0IHN0YWdlKCk6IEFfU3RhZ2UgfCB1bmRlZmluZWQgeyByZXR1cm4gdGhpcy5fY3VycmVudDsgfVxuICAgIC8qKlxuICAgICAqIFRoZSBDYWxsZXIgdGhhdCBpbml0aWF0ZWQgdGhlIEZlYXR1cmUgY2FsbFxuICAgICAqL1xuICAgIGdldCBjYWxsZXIoKTogQV9DYWxsZXI8VD4geyByZXR1cm4gdGhpcy5fY2FsbGVyOyB9XG4gICAgLyoqXG4gICAgICogVGhlIFNjb3BlIGFsbG9jYXRlZCBmb3IgdGhlIEZlYXR1cmUgRXhlY3V0aW9uXG4gICAgICovXG4gICAgZ2V0IHNjb3BlKCk6IEFfU2NvcGUgeyByZXR1cm4gQV9Db250ZXh0LnNjb3BlKHRoaXMpOyB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBzdGFnZXMgaW4gdGhlIGZlYXR1cmVcbiAgICAgKi9cbiAgICBnZXQgc2l6ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhZ2VzLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBjaGVja3MgaWYgdGhlIEEtRmVhdHVyZSBpcyBkb25lXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZ2V0IGlzRG9uZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLnN0YWdlXG4gICAgICAgICAgICB8fCB0aGlzLl9pbmRleCA+PSB0aGlzLl9zdGFnZXMubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgZmVhdHVyZSBoYXMgYmVlbiBwcm9jZXNzZWQgKGNvbXBsZXRlZCwgZmFpbGVkLCBvciBpbnRlcnJ1cHRlZClcbiAgICAgKi9cbiAgICBnZXQgaXNQcm9jZXNzZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlID09PSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuQ09NUExFVEVEXG4gICAgICAgICAgICB8fCB0aGlzLnN0YXRlID09PSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuRkFJTEVEXG4gICAgICAgICAgICB8fCB0aGlzLnN0YXRlID09PSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuSU5URVJSVVBURUQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdG9yIHRvIGl0ZXJhdGUgb3ZlciB0aGUgc3RlcHMgb2YgdGhlIGZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYXRvcjxBX1N0YWdlLCBhbnk+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQ6ICgpOiBJdGVyYXRvclJlc3VsdDxBX1N0YWdlLCBhbnk+ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNEb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSB0aGlzLl9zdGFnZXNbdGhpcy5faW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmRleCsrO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5fY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IHVuZGVmaW5lZDsgLy8gUmVzZXQgY3VycmVudCBvbiBlbmRcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBJbml0aWFsaXphdGlvbiBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzIGZvciBBLUZlYXR1cmUgaW5pdGlhbGl6YXRpb25cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCB2YWxpZGF0ZVBhcmFtcyhcbiAgICAgICAgcGFyYW1zOiBBX1RZUEVTX19GZWF0dXJlX0luaXQ8VD5cbiAgICApIHtcbiAgICAgICAgaWYgKCFwYXJhbXMgfHwgdHlwZW9mIHBhcmFtcyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICBBX0ZlYXR1cmVFcnJvci5GZWF0dXJlSW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgSW52YWxpZCBBLUZlYXR1cmUgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVycyBvZiB0eXBlOiAke3R5cGVvZiBwYXJhbXN9IHdpdGggdmFsdWU6ICR7SlNPTi5zdHJpbmdpZnkocGFyYW1zKS5zbGljZSgwLCAxMDApfS4uLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYXBwcm9wcmlhdGUgaW5pdGlhbGl6ZXIgbWV0aG9kIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtcyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0SW5pdGlhbGl6ZXIoXG4gICAgICAgIHBhcmFtczogQV9UWVBFU19fRmVhdHVyZV9Jbml0PFQ+XG4gICAgKTogKHBhcmFtMTogYW55KSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpIHtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgISgndGVtcGxhdGUnIGluIHBhcmFtcyk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbUNvbXBvbmVudDtcblxuICAgICAgICAgICAgY2FzZSAndGVtcGxhdGUnIGluIHBhcmFtczpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tVGVtcGxhdGU7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgQV9GZWF0dXJlRXJyb3IuRmVhdHVyZUluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGBJbnZhbGlkIEEtRmVhdHVyZSBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzIG9mIHR5cGU6ICR7dHlwZW9mIHBhcmFtc30gd2l0aCB2YWx1ZTogJHtKU09OLnN0cmluZ2lmeShwYXJhbXMpLnNsaWNlKDAsIDEwMCl9Li4uYFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIEEtRmVhdHVyZSBmcm9tIHRoZSBwcm92aWRlZCB0ZW1wbGF0ZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbXMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGZyb21UZW1wbGF0ZShcbiAgICAgICAgcGFyYW1zOiBBX1RZUEVTX19GZWF0dXJlX0luaXRXaXRoVGVtcGxhdGU8VD5cbiAgICApIHtcbiAgICAgICAgaWYgKCFwYXJhbXMudGVtcGxhdGUgfHwgIUFycmF5LmlzQXJyYXkocGFyYW1zLnRlbXBsYXRlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfRmVhdHVyZUVycm9yKFxuICAgICAgICAgICAgICAgIEFfRmVhdHVyZUVycm9yLkZlYXR1cmVJbml0aWFsaXphdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgIGBJbnZhbGlkIEEtRmVhdHVyZSB0ZW1wbGF0ZSBwcm92aWRlZCBvZiB0eXBlOiAke3R5cGVvZiBwYXJhbXMudGVtcGxhdGV9IHdpdGggdmFsdWU6ICR7SlNPTi5zdHJpbmdpZnkocGFyYW1zLnRlbXBsYXRlKS5zbGljZSgwLCAxMDApfS4uLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXBhcmFtcy5jb21wb25lbnQgJiYgKCFwYXJhbXMuc2NvcGUgfHwgIShwYXJhbXMuc2NvcGUgaW5zdGFuY2VvZiBBX1Njb3BlKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICBBX0ZlYXR1cmVFcnJvci5GZWF0dXJlSW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgSW52YWxpZCBBLUZlYXR1cmUgc2NvcGUgcHJvdmlkZWQgb2YgdHlwZTogJHt0eXBlb2YgcGFyYW1zLnNjb3BlfSB3aXRoIHZhbHVlOiAke0pTT04uc3RyaW5naWZ5KHBhcmFtcy5zY29wZSkuc2xpY2UoMCwgMTAwKX0uLi5gXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMSkgc2F2ZSBmZWF0dXJlIG5hbWVcbiAgICAgICAgdGhpcy5fbmFtZSA9IHBhcmFtcy5uYW1lO1xuXG4gICAgICAgIC8vIDIpIGdldCBzY29wZSBmcm9tIHdoZXJlIGZlYXR1cmUgaXMgY2FsbGVkXG4gICAgICAgIC8vIDIpIGdldCBzY29wZSBmcm9tIHdoZXJlIGZlYXR1cmUgaXMgY2FsbGVkXG4gICAgICAgIGxldCBjb21wb25lbnRTY29wZTogQV9TY29wZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gIHVzZXMgdG8gZXh0ZW5kIGEgY29tcG9uZW50IHNjb3BlIGlmIGNvbXBvbmVudCBpcyBub3QgcmVnaXN0ZXJlZCBpbiB0aGUgY29udGV4dFxuICAgICAgICBsZXQgZXh0ZXJuYWxTY29wZTogQV9TY29wZSB8IHVuZGVmaW5lZCA9IHBhcmFtcy5zY29wZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5jb21wb25lbnQpXG4gICAgICAgICAgICAgICAgY29tcG9uZW50U2NvcGUgPSBBX0NvbnRleHQuc2NvcGUocGFyYW1zLmNvbXBvbmVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoIWV4dGVybmFsU2NvcGUpXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tcG9uZW50U2NvcGUgJiYgZXh0ZXJuYWxTY29wZSAmJiAhZXh0ZXJuYWxTY29wZS5pc0luaGVyaXRlZEZyb20oY29tcG9uZW50U2NvcGUpKSB7XG4gICAgICAgICAgICBleHRlcm5hbFNjb3BlLmluaGVyaXQoY29tcG9uZW50U2NvcGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMykgY3JlYXRlIGNhbGxlciB3cmFwcGVyIGZvciB0aGUgc2ltcGxlIGluamVjdGlvbiBvZiB0aGUgY2FsbGVyIGNvbXBvbmVudFxuICAgICAgICAvLyAgIC0gSnVzdCB0byBwcmV2ZW50IGlzc3VlcyB3aXRoIHVuZGVmaW5lZCBjYWxsZXIgaW4gZmVhdHVyZXMgd2l0aG91dCBjb21wb25lbnRcbiAgICAgICAgLy8gICAtIFRPRE86IG1heWJlIHdvdWxkIGJlIGJldHRlciB0byBhbGxvdyBwYXNzaW5nIGNhbGxlciBpbiBwYXJhbXM/XG4gICAgICAgIHRoaXMuX2NhbGxlciA9IG5ldyBBX0NhbGxlcjxUPihwYXJhbXMuY29tcG9uZW50IHx8IG5ldyBBX0NvbXBvbmVudCgpIGFzIFQpO1xuXG4gICAgICAgIC8vIDQpIGFsbG9jYXRlIG5ldyBzY29wZSBmb3IgdGhlIGZlYXR1cmVcbiAgICAgICAgY29uc3Qgc2NvcGUgPSBBX0NvbnRleHQuYWxsb2NhdGUodGhpcyk7XG5cbiAgICAgICAgLy8gNSkgZW5zdXJlIHRoYXQgdGhlIHNjb3BlIG9mIHRoZSBjYWxsZXIgY29tcG9uZW50IGlzIGluaGVyaXRlZCBieSB0aGUgZmVhdHVyZSBzY29wZVxuICAgICAgICBzY29wZS5pbmhlcml0KGNvbXBvbmVudFNjb3BlIHx8IGV4dGVybmFsU2NvcGUhKTtcblxuICAgICAgICAvLyA2KSBjcmVhdGUgc3RlcHMgbWFuYWdlciB0byBvcmdhbml6ZSBzdGVwcyBpbnRvIHN0YWdlc1xuICAgICAgICB0aGlzLl9TTSA9IG5ldyBBX1N0ZXBzTWFuYWdlcihwYXJhbXMudGVtcGxhdGUpO1xuXG4gICAgICAgIC8vIDcpIGNyZWF0ZSBzdGFnZXMgZnJvbSB0aGUgc3RlcHNcbiAgICAgICAgdGhpcy5fc3RhZ2VzID0gdGhpcy5fU00udG9TdGFnZXModGhpcyk7XG5cbiAgICAgICAgLy8gOCkgc2V0IHRoZSBmaXJzdCBzdGFnZSBhcyBjdXJyZW50XG4gICAgICAgIHRoaXMuX2N1cnJlbnQgPSB0aGlzLl9zdGFnZXNbMF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBBLUZlYXR1cmUgZnJvbSB0aGUgcHJvdmlkZWQgY29tcG9uZW50XG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtcyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZnJvbUNvbXBvbmVudChcbiAgICAgICAgcGFyYW1zOiBBX1RZUEVTX19GZWF0dXJlX0luaXRXaXRoQ29tcG9uZW50PFQ+XG4gICAgKSB7XG4gICAgICAgIGlmICghcGFyYW1zLmNvbXBvbmVudCB8fCAhQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckZlYXR1cmVEZWZpbml0aW9uKHBhcmFtcy5jb21wb25lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9GZWF0dXJlRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9GZWF0dXJlRXJyb3IuRmVhdHVyZUluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEludmFsaWQgQS1GZWF0dXJlIGNvbXBvbmVudCBwcm92aWRlZCBvZiB0eXBlOiAke3R5cGVvZiBwYXJhbXMuY29tcG9uZW50fSB3aXRoIHZhbHVlOiAke0pTT04uc3RyaW5naWZ5KHBhcmFtcy5jb21wb25lbnQpLnNsaWNlKDAsIDEwMCl9Li4uYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDEpIHNhdmUgZmVhdHVyZSBuYW1lXG4gICAgICAgIHRoaXMuX25hbWUgPSBwYXJhbXMubmFtZTtcblxuICAgICAgICAvLyAyKSBnZXQgc2NvcGUgZnJvbSB3aGVyZSBmZWF0dXJlIGlzIGNhbGxlZFxuICAgICAgICBsZXQgY29tcG9uZW50U2NvcGU6IEFfU2NvcGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIC8vICB1c2VzIHRvIGV4dGVuZCBhIGNvbXBvbmVudCBzY29wZSBpZiBjb21wb25lbnQgaXMgbm90IHJlZ2lzdGVyZWQgaW4gdGhlIGNvbnRleHRcbiAgICAgICAgbGV0IGV4dGVybmFsU2NvcGU6IEFfU2NvcGUgfCB1bmRlZmluZWQgPSBwYXJhbXMuc2NvcGU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbXBvbmVudFNjb3BlID0gQV9Db250ZXh0LnNjb3BlKHBhcmFtcy5jb21wb25lbnQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKCFleHRlcm5hbFNjb3BlKVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudFNjb3BlICYmIGV4dGVybmFsU2NvcGUgJiYgIWV4dGVybmFsU2NvcGUuaXNJbmhlcml0ZWRGcm9tKGNvbXBvbmVudFNjb3BlKSkge1xuICAgICAgICAgICAgZXh0ZXJuYWxTY29wZS5pbmhlcml0KGNvbXBvbmVudFNjb3BlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDMpIGNyZWF0ZSBjYWxsZXIgd3JhcHBlciBmb3IgdGhlIHNpbXBsZSBpbmplY3Rpb24gb2YgdGhlIGNhbGxlciBjb21wb25lbnRcbiAgICAgICAgdGhpcy5fY2FsbGVyID0gbmV3IEFfQ2FsbGVyPFQ+KHBhcmFtcy5jb21wb25lbnQpO1xuXG4gICAgICAgIC8vIDQpIGFsbG9jYXRlIG5ldyBzY29wZSBmb3IgdGhlIGZlYXR1cmVcbiAgICAgICAgY29uc3Qgc2NvcGUgPSBBX0NvbnRleHQuYWxsb2NhdGUodGhpcyk7XG5cbiAgICAgICAgLy8gNSkgZW5zdXJlIHRoYXQgdGhlIHNjb3BlIG9mIHRoZSBjYWxsZXIgY29tcG9uZW50IGlzIGluaGVyaXRlZCBieSB0aGUgZmVhdHVyZSBzY29wZVxuICAgICAgICBzY29wZS5pbmhlcml0KGNvbXBvbmVudFNjb3BlIHx8IGV4dGVybmFsU2NvcGUhKTtcblxuICAgICAgICAvLyA2KSByZXRyaWV2ZSB0aGUgdGVtcGxhdGUgZnJvbSB0aGUgY29udGV4dFxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IEFfQ29udGV4dC5mZWF0dXJlVGVtcGxhdGUodGhpcy5fbmFtZSwgdGhpcy5fY2FsbGVyLmNvbXBvbmVudCwgc2NvcGUpO1xuXG4gICAgICAgIC8vIDcpIGNyZWF0ZSBzdGVwcyBtYW5hZ2VyIHRvIG9yZ2FuaXplIHN0ZXBzIGludG8gc3RhZ2VzXG4gICAgICAgIHRoaXMuX1NNID0gbmV3IEFfU3RlcHNNYW5hZ2VyKHRlbXBsYXRlKTtcblxuICAgICAgICAvLyA4KSBjcmVhdGUgc3RhZ2VzIGZyb20gdGhlIHN0ZXBzXG4gICAgICAgIHRoaXMuX3N0YWdlcyA9IHRoaXMuX1NNLnRvU3RhZ2VzKHRoaXMpO1xuXG4gICAgICAgIC8vIDkpIHNldCB0aGUgZmlyc3Qgc3RhZ2UgYXMgY3VycmVudFxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5fc3RhZ2VzWzBdO1xuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIE1haW4gUHJvY2Vzc2luZyBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcHJvY2Vzc2VzIHRoZSBmZWF0dXJlIGJ5IGV4ZWN1dGluZyBhbGwgdGhlIHN0YWdlc1xuICAgICAqIFxuICAgICAqL1xuICAgIGFzeW5jIHByb2Nlc3MoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPcHRpb25hbCBzY29wZSB0byBiZSB1c2VkIHRvIHJlc29sdmUgdGhlIHN0ZXBzIGRlcGVuZGVuY2llc1xuICAgICAgICAgKiBJZiBub3QgcHJvdmlkZWQsIHRoZSBzY29wZSBvZiB0aGUgY2FsbGVyIGNvbXBvbmVudCB3aWxsIGJlIHVzZWRcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEl0IHNlZW1zIGxpa2UgdGhpcyBpcyBhIGJhZCBpZGVhIHRvIGVuZm9yY2Ugc2NvcGUgaW5oZXJpdGFuY2UgaGVyZVxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyBpZiAoc2NvcGUgJiYgIXNjb3BlLmlzSW5oZXJpdGVkRnJvbShBX0NvbnRleHQuc2NvcGUodGhpcykpKVxuICAgICAgICAgICAgLy8gICAgIHNjb3BlLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNQcm9jZXNzZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IEFfVFlQRVNfX0ZlYXR1cmVTdGF0ZS5QUk9DRVNTSU5HO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN0YWdlIG9mIHRoaXMpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBzdGFnZS5wcm9jZXNzKHNjb3BlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY29tcGxldGVkKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mYWlsZWQobmV3IEFfRmVhdHVyZUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9GZWF0dXJlRXJyb3IuRmVhdHVyZVByb2Nlc3NpbmdFcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHByb2Nlc3NpbmcgdGhlIEEtRmVhdHVyZTogJHt0aGlzLm5hbWV9LiBGYWlsZWQgYXQgc3RhZ2U6ICR7dGhpcy5zdGFnZT8ubmFtZSB8fCAnTi9BJ30uYCxcbiAgICAgICAgICAgICAgICBzdGFnZTogdGhpcy5zdGFnZSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgbW92ZXMgdGhlIGZlYXR1cmUgdG8gdGhlIG5leHQgc3RhZ2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RhZ2UgXG4gICAgICovXG4gICAgbmV4dChzdGFnZSkge1xuICAgICAgICBjb25zdCBzdGFnZUluZGV4ID0gdGhpcy5fc3RhZ2VzLmluZGV4T2Yoc3RhZ2UpO1xuXG4gICAgICAgIHRoaXMuX2luZGV4ID0gc3RhZ2VJbmRleCArIDE7XG5cbiAgICAgICAgaWYgKHRoaXMuX2luZGV4ID49IHRoaXMuX3N0YWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgbWFya3MgdGhlIGZlYXR1cmUgYXMgY29tcGxldGVkIGFuZCByZXR1cm5zIHRoZSByZXN1bHRcbiAgICAgKiBVc2VzIHRvIGludGVycnVwdCBvciBlbmQgdGhlIGZlYXR1cmUgcHJvY2Vzc2luZ1xuICAgICAqIFxuICAgICAqIEBwYXJhbSByZXN1bHQgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgY29tcGxldGVkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5pc1Byb2Nlc3NlZCkgcmV0dXJuO1xuXG5cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuQ09NUExFVEVEO1xuXG4gICAgICAgIHRoaXMuc2NvcGUuZGVzdHJveSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBtYXJrcyB0aGUgZmVhdHVyZSBhcyBmYWlsZWQgYW5kIHRocm93cyBhbiBlcnJvclxuICAgICAqIFVzZXMgdG8gbWFyayB0aGUgZmVhdHVyZSBhcyBmYWlsZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXJyb3IgXG4gICAgICovXG4gICAgYXN5bmMgZmFpbGVkKGVycm9yOiBBX0ZlYXR1cmVFcnJvcikge1xuICAgICAgICBpZiAodGhpcy5pc1Byb2Nlc3NlZCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3N0YXRlID0gQV9UWVBFU19fRmVhdHVyZVN0YXRlLkZBSUxFRDtcblxuICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuXG4gICAgICAgIHRoaXMuc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgIHRocm93IHRoaXMuX2Vycm9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBtYXJrcyB0aGUgZmVhdHVyZSBhcyBmYWlsZWQgYW5kIHRocm93cyBhbiBlcnJvclxuICAgICAqIFVzZXMgdG8gaW50ZXJydXB0IG9yIGVuZCB0aGUgZmVhdHVyZSBwcm9jZXNzaW5nXG4gICAgICogXG4gICAgICogQHBhcmFtIGVycm9yIFxuICAgICAqL1xuICAgIGFzeW5jIGludGVycnVwdChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZWFzb24gb2YgZmVhdHVyZSBpbnRlcnJ1cHRpb25cbiAgICAgICAgICovXG4gICAgICAgIHJlYXNvbj86IHN0cmluZyB8IEFfU3RhZ2VFcnJvciB8IEVycm9yXG4gICAgKSB7XG4gICAgICAgIGlmICh0aGlzLmlzUHJvY2Vzc2VkKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuSU5URVJSVVBURUQ7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1N0cmluZyhyZWFzb24pOlxuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gbmV3IEFfRmVhdHVyZUVycm9yKEFfRmVhdHVyZUVycm9yLkludGVycnVwdGlvbiwgcmVhc29uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFcnJvckluc3RhbmNlKHJlYXNvbik6XG4gICAgICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSBuZXcgQV9GZWF0dXJlRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBBX0ZlYXR1cmVFcnJvci5JbnRlcnJ1cHRpb24sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiByZWFzb24udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZWFzb24uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIHN0YWdlOiB0aGlzLnN0YWdlLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiByZWFzb25cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdGhpcy5zY29wZS5kZXN0cm95KCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gY2hhaW4gdGhlIGZlYXR1cmUgdG8gYW5vdGhlciBmZWF0dXJlLiBcbiAgICAgKiBJbiB0aGlzIGNhc2UgdGhlIHBhcmVudCBmZWF0dXJlIHNjb3BlIChpZiBuZXcgbm90IHByb3ZpZGVkKSwgc3RhZ2VzLCBjYWxsZXIgd2lsbCBiZSB1c2VkLlxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBDaGFpbmVkIGZlYXR1cmUgd2lsbCB1c2UgdGhlIHNhbWUgY2FsbGVyIGFzIHRoZSBwYXJlbnQgZmVhdHVyZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZmVhdHVyZSBcbiAgICAgKi9cbiAgICBjaGFpbihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgRmVhdHVyZSB0byBiZSBjaGFpbmVkXG4gICAgICAgICAqL1xuICAgICAgICBmZWF0dXJlOiBBX0ZlYXR1cmUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPcHRpb25hbCBzY29wZSB0byBiZSB1c2VkIGZvciB0aGUgY2hhaW5lZCBmZWF0dXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlXG4gICAgKVxuICAgIGNoYWluPFQgZXh0ZW5kcyBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyA9IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbXBvbmVudCB3aG9zZSBmZWF0dXJlIHNob3VsZCBiZSBjaGFpbmVkXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzLFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBGZWF0dXJlIE5hbWUgdG8gYmUgY2hhaW5lZFxuICAgICAgICAgKi9cbiAgICAgICAgZmVhdHVyZTogc3RyaW5nLFxuICAgICAgICAvKipcbiAgICAgICAgICogT3B0aW9uYWwgc2NvcGUgdG8gYmUgdXNlZCBmb3IgdGhlIGNoYWluZWQgZmVhdHVyZS5cbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlPzogQV9TY29wZVxuICAgIClcbiAgICBjaGFpbjxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIHBhcmFtMTogQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgfCBBX0ZlYXR1cmUsXG4gICAgICAgIHBhcmFtMj86IHN0cmluZyB8IEFfU2NvcGUsXG4gICAgICAgIHBhcmFtMz86IEFfU2NvcGVcbiAgICApIHtcbiAgICAgICAgbGV0IGZlYXR1cmU6IEFfRmVhdHVyZTtcbiAgICAgICAgbGV0IHNjb3BlOiBBX1Njb3BlIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChwYXJhbTEgaW5zdGFuY2VvZiBBX0ZlYXR1cmUpIHtcbiAgICAgICAgICAgIGZlYXR1cmUgPSBwYXJhbTE7XG4gICAgICAgICAgICBzY29wZSA9IHBhcmFtMiBpbnN0YW5jZW9mIEFfU2NvcGUgPyBwYXJhbTIgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmZWF0dXJlID0gbmV3IEFfRmVhdHVyZSh7XG4gICAgICAgICAgICAgICAgbmFtZTogcGFyYW0yIGFzIHN0cmluZyxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IHBhcmFtMSBhcyBUXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNjb3BlID0gcGFyYW0zIGluc3RhbmNlb2YgQV9TY29wZSA/IHBhcmFtMyA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZlYXR1cmVTY29wZSA9IHNjb3BlIHx8IHRoaXMuc2NvcGU7XG5cbiAgICAgICAgLy8gY3JlYXRlIG5ldyBjYWxsZXIgZm9yIHRoZSBjaGFpbmVkIGZlYXR1cmVcbiAgICAgICAgZmVhdHVyZS5fY2FsbGVyID0gdGhpcy5fY2FsbGVyO1xuXG4gICAgICAgIHJldHVybiBmZWF0dXJlLnByb2Nlc3MoZmVhdHVyZVNjb3BlKTtcbiAgICB9XG5cblxuXG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYEEtRmVhdHVyZSgke3RoaXMuY2FsbGVyLmNvbXBvbmVudD8uY29uc3RydWN0b3I/Lm5hbWUgfHwgJ1Vua25vd24nfTo6JHt0aGlzLm5hbWV9KWA7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiLi4vQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9GZWF0dXJlIH0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUuY2xhc3NcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLmNsYXNzXCI7XG5cblxuXG4vKipcbiAqIEEtQ29tcG9uZW50IGlzIGEgcHJpbWFyeSBcImV4dGVuZGFibGVcIiBvYmplY3QgaW4gdGhlIHN5c3RlbVxuICogQSB1bmlxdWUgY29tYmluYXRpb24gb2YgQ29tcG9uZW50cyBjcmVhdGVzIGNvbXBsZXRlbHkgbmV3IGZ1bmN0aW9uYWxpdHlcbiAqIFxuICogVGhlIG1vc3QgaW1wb3J0YW50IHRoaW5nIGlzIHRoYXQgQS1Db21wb25lbnQgaXMgU1RBVEVMRVNTLCBpdCBtZWFucyB0aGF0IGl0IGRvZXNuJ3Qgc3RvcmUgYW55IHN0YXRlIGluIGl0c2VsZlxuICogXG4gKiBcbiAqIFshXSBFdmVyeSBBLUNvbXBvbmVudCBpcyBhIHNpbmdsZXRvbiwgc28gaWYgeW91IG5lZWQgdG8gY3JlYXRlIG11bHRpcGxlIGluc3RhbmNlcyBvZiB0aGUgc2FtZSBsb2dpYyAtIHVzZSBBLUNvbnRhaW5lclxuICogWyFdIFNvIG9uZSBzY29wZSBjYW4gaGF2ZSBvbmx5IG9uZSBpbnN0YW5jZSBvZiB0aGUgc2FtZSBBLUNvbXBvbmVudFxuICogWyFdIEV2ZXJ5IEEtQ29tcG9uZW50IGNhbiBiZSBleHRlbmRlZCBieSBmZWF0dXJlcyBhbmQgZXh0ZW5zaW9uc1xuICogWyFdIE9OTFkgQS1Db21wb25lbnQgY2FuIGhhdmUgQS1GZWF0dXJlIGV4dGVuc2lvbnNcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBBX0NvbXBvbmVudCB7XG5cblxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBmZWF0dXJlIHdpdGggdGhlIGdpdmVuIG5hbWUgaW4gdGhlIGdpdmVuIHNjb3BlXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IFRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIGZlYXR1cmUgZXZlcnkgdGltZSBpdCBpcyBjYWxsZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZmVhdHVyZSAtIHRoZSBuYW1lIG9mIHRoZSBmZWF0dXJlIHRvIGNhbGxcbiAgICAgKiBAcGFyYW0gc2NvcGUgIC0gdGhlIHNjb3BlIGluIHdoaWNoIHRvIGNhbGwgdGhlIGZlYXR1cmVcbiAgICAgKiBAcmV0dXJucyAgLSB2b2lkXG4gICAgICovXG4gICAgYXN5bmMgY2FsbChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5hbWUgb2YgdGhlIGZlYXR1cmUgdG8gY2FsbFxuICAgICAgICAgKi9cbiAgICAgICAgZmVhdHVyZTogc3RyaW5nLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2NvcGUgaW4gd2hpY2ggdGhlIGZlYXR1cmUgd2lsbCBiZSBleGVjdXRlZFxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IG5ld0ZlYXR1cmUgPSBuZXcgQV9GZWF0dXJlKHtcbiAgICAgICAgICAgIG5hbWU6IGZlYXR1cmUsXG4gICAgICAgICAgICBjb21wb25lbnQ6IHRoaXNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ld0ZlYXR1cmUucHJvY2VzcyhzY29wZSk7XG4gICAgfVxufVxuXG5cblxuIiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9Db250ZXh0RXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuXG4gICAgc3RhdGljIE5vdEFsbG93ZWRGb3JTY29wZUFsbG9jYXRpb25FcnJvciA9ICdDb21wb25lbnQgaXMgbm90IGFsbG93ZWQgZm9yIHNjb3BlIGFsbG9jYXRpb24nO1xuXG4gICAgc3RhdGljIENvbXBvbmVudEFscmVhZHlIYXNTY29wZUFsbG9jYXRlZEVycm9yID0gJ0NvbXBvbmVudCBhbHJlYWR5IGhhcyBzY29wZSBhbGxvY2F0ZWQnO1xuXG4gICAgc3RhdGljIEludmFsaWRNZXRhUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IG1ldGEnO1xuXG4gICAgc3RhdGljIEludmFsaWRTY29wZVBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBzY29wZSc7XG5cbiAgICBzdGF0aWMgU2NvcGVOb3RGb3VuZEVycm9yID0gJ1Njb3BlIG5vdCBmb3VuZCc7XG5cbiAgICBzdGF0aWMgSW52YWxpZEZlYXR1cmVQYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgZmVhdHVyZSc7XG5cbiAgICBzdGF0aWMgSW52YWxpZEZlYXR1cmVEZWZpbml0aW9uUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZGVmaW5lIGZlYXR1cmUnO1xuXG4gICAgc3RhdGljIEludmFsaWRGZWF0dXJlVGVtcGxhdGVQYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZSc7XG5cbiAgICBzdGF0aWMgSW52YWxpZEZlYXR1cmVFeHRlbnNpb25QYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBleHRlbmQgZmVhdHVyZSc7XG5cblxuICAgIHN0YXRpYyBJbnZhbGlkQWJzdHJhY3Rpb25QYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgYWJzdHJhY3Rpb24nO1xuXG4gICAgc3RhdGljIEludmFsaWRBYnN0cmFjdGlvbkRlZmluaXRpb25QYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBkZWZpbmUgYWJzdHJhY3Rpb24nO1xuXG4gICAgc3RhdGljIEludmFsaWRBYnN0cmFjdGlvblRlbXBsYXRlUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IGFic3RyYWN0aW9uIHRlbXBsYXRlJztcblxuICAgIHN0YXRpYyBJbnZhbGlkQWJzdHJhY3Rpb25FeHRlbnNpb25QYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBleHRlbmQgYWJzdHJhY3Rpb24nO1xuXG4gICAgc3RhdGljIEludmFsaWRJbmplY3Rpb25QYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgaW5qZWN0aW9ucyc7XG5cbiAgICBzdGF0aWMgSW52YWxpZEV4dGVuc2lvblBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBleHRlbnNpb25zJztcblxuXG4gICAgc3RhdGljIEludmFsaWRSZWdpc3RlclBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIHJlZ2lzdGVyIGNvbXBvbmVudCc7XG5cblxuICAgIHN0YXRpYyBJbnZhbGlkQ29tcG9uZW50UGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBjb21wb25lbnQgcHJvdmlkZWQnO1xuXG4gICAgc3RhdGljIENvbXBvbmVudE5vdFJlZ2lzdGVyZWRFcnJvciA9ICdDb21wb25lbnQgbm90IHJlZ2lzdGVyZWQgaW4gdGhlIGNvbnRleHQnO1xuXG4gICAgc3RhdGljIEludmFsaWREZXJlZ2lzdGVyUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZGVyZWdpc3RlciBjb21wb25lbnQnO1xufSIsICJpbXBvcnQge1xuICAgIEFfVFlQRVNfX1Njb3BlX0luaXQsXG4gICAgQV9UWVBFU19fU2NvcGVDb25maWcsXG4gICAgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzLFxuICAgIEFfVFlQRVNfU2NvcGVEZXBlbmRlbnRDb21wb25lbnRzXG59IGZyb20gXCIuLi9BLVNjb3BlL0EtU2NvcGUudHlwZXNcIjtcbmltcG9ydCB7XG4gICAgQV9UWVBFU19fTWV0YUxpbmtlZENvbXBvbmVudENvbnN0cnVjdG9ycyxcbiAgICBBX1RZUEVTX19NZXRhTGlua2VkQ29tcG9uZW50c1xufSBmcm9tIFwiLi4vQS1NZXRhL0EtTWV0YS50eXBlc1wiO1xuaW1wb3J0IHtcbiAgICBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgICBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YVxufSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9Db21wb25lbnQgfSBmcm9tIFwiLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQuY2xhc3NcIjtcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbnRhaW5lciB9IGZyb20gXCIuLi9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9TY29wZSB9IGZyb20gXCIuLi9BLVNjb3BlL0EtU2NvcGUuY2xhc3NcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCIuLi9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbXBvbmVudE1ldGEgfSBmcm9tIFwiLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQubWV0YVwiO1xuaW1wb3J0IHsgQV9Db250YWluZXJNZXRhIH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLm1ldGFcIjtcbmltcG9ydCB7IEFfRW50aXR5IH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0VudGl0eU1ldGEgfSBmcm9tIFwiLi4vQS1FbnRpdHkvQS1FbnRpdHkubWV0YVwiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9TdGFnZVN0ZXAgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvY29uc3RhbnRzL2Vudi5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0VudGl0eU1ldGFLZXkgfSBmcm9tIFwiLi4vQS1FbnRpdHkvQS1FbnRpdHkuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRleHRFbnZpcm9ubWVudCB9IGZyb20gXCIuL0EtQ29udGV4dC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX0NvbnRleHRFcnJvciB9IGZyb20gXCIuL0EtQ29udGV4dC5lcnJvclwiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyX0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vQS1FbnRpdHkvQS1FbnRpdHkudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Gb3JtYXR0ZXJIZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfRm9ybWF0dGVyLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9GcmFnbWVudCB9IGZyb20gXCIuLi9BLUZyYWdtZW50L0EtRnJhZ21lbnQuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzIH0gZnJvbSBcIi4uL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zIH0gZnJvbSBcIi4uL0EtQ29uY2VwdC9BLUNvbmNlcHQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9Db250ZXh0IHtcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gU1RBVElDIFBST1BFUlRJRVMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IG5hbWUgb2YgdGhlIGFwcGxpY2F0aW9uIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGUgQV9DT05DRVBUX05BTUVcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvICdhLWNvbmNlcHQnXG4gICAgICovXG4gICAgc3RhdGljIGdldCBjb25jZXB0KCkge1xuICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnZbQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0NPTkNFUFRfTkFNRV0gfHwgJ2EtY29uY2VwdCc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJvb3Qgc2NvcGUgb2YgdGhlIGFwcGxpY2F0aW9uIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGUgQV9DT05DRVBUX1JPT1RfU0NPUEVcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvICdyb290J1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgcm9vdCgpOiBBX1Njb3BlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoKS5fcm9vdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW52aXJvbm1lbnQgdGhlIGFwcGxpY2F0aW9uIGlzIHJ1bm5pbmcgaW4uXG4gICAgICogQ2FuIGJlIGVpdGhlciAnc2VydmVyJyBvciAnYnJvd3NlcicuXG4gICAgICogWyFdIERldGVybWluZWQgYnkgY2hlY2tpbmcgaWYgJ3dpbmRvdycgb2JqZWN0IGlzIGF2YWlsYWJsZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGVudmlyb25tZW50KCk6IEFfVFlQRVNfX0NvbnRleHRFbnZpcm9ubWVudCB7XG4gICAgICAgIGxldCB0ZXN0RW52aXJvbm1lbnQ6IEFfVFlQRVNfX0NvbnRleHRFbnZpcm9ubWVudCA9ICdicm93c2VyJztcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGVzdEVudmlyb25tZW50ID0gd2luZG93LmxvY2F0aW9uID8gJ2Jyb3dzZXInIDogJ3NlcnZlcic7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0ZXN0RW52aXJvbm1lbnQgPSAnc2VydmVyJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXN0RW52aXJvbm1lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2luZ2xldG9uIGluc3RhbmNlIG9mIHRoZSBDb250ZXh0XG4gICAgICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBBX0NvbnRleHQ7XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IElOVEVSTkFMIFJFR0lTVFJZID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogUm9vdCBTY29wZSBvZiB0aGUgQ29uY2VwdCBhbmQgRW52aXJvbm1lbnRcbiAgICAgKlxuICAgICAqIFJvb3Qgc2NvcGUgaXMgdGhlIHRvcC1sZXZlbCBzY29wZSB0aGF0IGFsbCBvdGhlciBzY29wZXMgaW5oZXJpdCBmcm9tLlxuICAgICAqIEl0IHN0b3JlcyBnbG9iYWwgY29uZmlndXJhdGlvbnMgYW5kIHNldHRpbmdzIGFuZCBBTEwgU0hBUkVBQkxFIFJFU09VUkNFUy5cbiAgICAgKiBcbiAgICAgKiBbIV0gUm9vdCBzY29wZSBpcyBjcmVhdGVkIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgQ29udGV4dCBpcyBpbml0aWFsaXplZC5cbiAgICAgKiBbIV0gUm9vdCBzY29wZSBuYW1lIGNhbiBiZSBjb25maWd1cmVkIHVzaW5nIGVudmlyb25tZW50IHZhcmlhYmxlIEFfQ09OQ0VQVF9ST09UX1NDT1BFXG4gICAgICovXG4gICAgcHJpdmF0ZSBfcm9vdCE6IEFfU2NvcGVcbiAgICAvKipcbiAgICAgKiBBIHJlZ2lzdHJ5IHRoYXQga2VlcHMgdHJhY2sgb2Ygc2NvcGVzIGZvciBhbGwgY29tcG9uZW50cyAoQ29udGFpbmVycywgRmVhdHVyZXMsIENvbW1hbmRzKSBcbiAgICAgKiBXaGljaCBjYW4gaXNzdWUgYSBzY29wZSBhbGxvY2F0aW9uLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfcmVnaXN0cnk6IFdlYWtNYXA8QV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzLCBBX1Njb3BlPiA9IG5ldyBXZWFrTWFwKCk7XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhIHJlZ2lzdHJ5IHRoYXQgc3RvcmVzIGFuIGlzc3VlciBvZiBlYWNoIHNjb3BlIGFsbG9jYXRpb24uXG4gICAgICogSXQgaGVscHMgdG8gdHJhY2sgd2hpY2ggY29tcG9uZW50IChDb250YWluZXIsIEZlYXR1cmUsIENvbW1hbmQpIGFsbG9jYXRlZCBhIHNwZWNpZmljIHNjb3BlLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfc2NvcGVJc3N1ZXJzOiBXZWFrTWFwPEFfU2NvcGUsIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cz4gPSBuZXcgV2Vha01hcCgpO1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyBhIGNvbnRleHQgYXNzb2NpYXRlZCB3aXRoIGEgc3BlY2lmaWMgY29tcG9uZW50IHRoYXQgZGVwZW5kcyBvbiBhIHNjb3BlLlxuICAgICAqIHVzZXMgZm9yIHF1aWNrIHJldHJpZXZhbCBvZiB0aGUgc2NvcGUgZm9yIHRoZSBjb21wb25lbnQuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9zY29wZVN0b3JhZ2U6IFdlYWtNYXA8QV9UWVBFU19TY29wZURlcGVuZGVudENvbXBvbmVudHMsIEFfU2NvcGU+ID0gbmV3IFdlYWtNYXAoKTtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgbWV0YSBpbmZvcm1hdGlvbiBmb3IgZGlmZmVyZW50IGNvbXBvbmVudCB0eXBlcyBieSB0aGVpciBjb25zdHJ1Y3RvcnMuXG4gICAgICogTWV0YSBwcm92aWRlcyB0byBzdG9yZSBleHRyYSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY2xhc3MgYmVoYXZpb3IgYW5kIGNvbmZpZ3VyYXRpb24uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9tZXRhU3RvcmFnZTogTWFwPEFfVFlQRVNfX01ldGFMaW5rZWRDb21wb25lbnRDb25zdHJ1Y3RvcnMsIEFfTWV0YT4gPSBuZXcgTWFwKCk7XG5cblxuXG4gICAgLyoqXG4gICAgICogUHJpdmF0ZSBjb25zdHJ1Y3RvciB0byBlbmZvcmNlIHNpbmdsZXRvbiBwYXR0ZXJuLlxuICAgICAqIFxuICAgICAqIFshXSBUaGlzIGNsYXNzIHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LiBVc2UgQV9Db250ZXh0LmdldEluc3RhbmNlKCkgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBsZXQgbmFtZSA9ICdyb290JztcblxuICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJylcbiAgICAgICAgICAgIG5hbWUgPSBwcm9jZXNzLmVudltBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTLkFfQ09OQ0VQVF9ST09UX1NDT1BFXSB8fCAncm9vdCc7XG5cbiAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ2Jyb3dzZXInKVxuICAgICAgICAgICAgbmFtZSA9ICh3aW5kb3cgYXMgYW55KVtBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTLkFfQ09OQ0VQVF9ST09UX1NDT1BFXSB8fCAncm9vdCc7XG5cbiAgICAgICAgdGhpcy5fcm9vdCA9IG5ldyBBX1Njb3BlKHsgbmFtZSB9KTtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbnN0YW5jZSBvZiB0aGUgTmFtZXNwYWNlIFByb3ZpZGVyLlxuICAgICAqIFxuICAgICAqIElmIHRoZSBpbnN0YW5jZSBkb2VzIG5vdCBleGlzdCwgaXQgd2lsbCBiZSBjcmVhdGVkLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCFBX0NvbnRleHQuX2luc3RhbmNlKSB7XG4gICAgICAgICAgICBBX0NvbnRleHQuX2luc3RhbmNlID0gbmV3IEFfQ29udGV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5faW5zdGFuY2U7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIG1ldGhvZCBhbGxvd3MgdG8gcmVnaXN0ZXIgYSBjb21wb25lbnQgd2l0aCBhIHNwZWNpZmljIHNjb3BlIGluIHRoZSBjb250ZXh0LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgLSBDb21wb25lbnQgdG8gcmVnaXN0ZXIgd2l0aCBhIHNwZWNpZmljIHNjb3BlLiBDYW4gYmUgZWl0aGVyIEFfQ29udGFpbmVyLCBBX0ZlYXR1cmUuXG4gICAgICogQHBhcmFtIHNjb3BlIC0gU2NvcGUgdG8gYXNzb2NpYXRlIHRoZSBjb21wb25lbnQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVnaXN0ZXIoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBzY29wZSB0aGF0IHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBjb21wb25lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBzY29wZTogQV9TY29wZSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdGhhdCBuZWVkcyB0byBiZSByZWdpc3RlcmVkIHdpdGggYSBzcGVjaWZpYyBzY29wZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19TY29wZURlcGVuZGVudENvbXBvbmVudHMsXG5cbiAgICApOiBBX1Njb3BlIHtcbiAgICAgICAgLy8gdXNlcyBvbmx5IGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQpO1xuXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgIGlmICghY29tcG9uZW50KSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICBBX0NvbnRleHRFcnJvci5JbnZhbGlkUmVnaXN0ZXJQYXJhbWV0ZXJFcnJvcixcbiAgICAgICAgICAgIGBVbmFibGUgdG8gcmVnaXN0ZXIgY29tcG9uZW50LiBDb21wb25lbnQgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuXG4gICAgICAgIGlmICghc2NvcGUpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLkludmFsaWRSZWdpc3RlclBhcmFtZXRlckVycm9yLFxuICAgICAgICAgICAgYFVuYWJsZSB0byByZWdpc3RlciBjb21wb25lbnQuIFNjb3BlIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcblxuICAgICAgICBpZiAoIXRoaXMuaXNBbGxvd2VkVG9CZVJlZ2lzdGVyZWQoY29tcG9uZW50KSkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAgICAgQV9Db250ZXh0RXJyb3IuTm90QWxsb3dlZEZvclNjb3BlQWxsb2NhdGlvbkVycm9yLFxuICAgICAgICAgICAgYENvbXBvbmVudCAke2NvbXBvbmVudE5hbWV9IGlzIG5vdCBhbGxvd2VkIGZvciBzY29wZSBhbGxvY2F0aW9uLmApO1xuXG4gICAgICAgIGluc3RhbmNlLl9zY29wZVN0b3JhZ2Uuc2V0KGNvbXBvbmVudCwgc2NvcGUpO1xuXG4gICAgICAgIHJldHVybiBzY29wZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXJlZ2lzdGVyIG1ldGhvZCBhbGxvd3MgdG8gZGVyZWdpc3RlciBhIGNvbXBvbmVudCBmcm9tIHRoZSBjb250ZXh0LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgLSBDb21wb25lbnQgdG8gZGVyZWdpc3RlciBmcm9tIHRoZSBjb250ZXh0LlxuICAgICAqL1xuICAgIHN0YXRpYyBkZXJlZ2lzdGVyKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCB0aGF0IG5lZWRzIHRvIGJlIGRlcmVnaXN0ZXJlZCBmcm9tIHRoZSBjb250ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX1Njb3BlRGVwZW5kZW50Q29tcG9uZW50cyxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgLy8gdXNlcyBvbmx5IGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQpO1xuXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgIGlmICghY29tcG9uZW50KSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICBBX0NvbnRleHRFcnJvci5JbnZhbGlkRGVyZWdpc3RlclBhcmFtZXRlckVycm9yLFxuICAgICAgICAgICAgYFVuYWJsZSB0byBkZXJlZ2lzdGVyIGNvbXBvbmVudC4gQ29tcG9uZW50IGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcblxuICAgICAgICBpZiAoIWluc3RhbmNlLl9zY29wZVN0b3JhZ2UuaGFzKGNvbXBvbmVudCkpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLkNvbXBvbmVudE5vdFJlZ2lzdGVyZWRFcnJvcixcbiAgICAgICAgICAgIGBVbmFibGUgdG8gZGVyZWdpc3RlciBjb21wb25lbnQuIENvbXBvbmVudCAke2NvbXBvbmVudE5hbWV9IGlzIG5vdCByZWdpc3RlcmVkLmApO1xuXG4gICAgICAgIGluc3RhbmNlLl9zY29wZVN0b3JhZ2UuZGVsZXRlKGNvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb2NhdGUgbWV0aG9kIGluc3RhbnRpYXRlcyBhIG5ldyBzY29wZSBmb3IgdGhlIGdpdmVuIGNvbXBvbmVudCBhbmQgcmVnaXN0ZXJzIGl0IGluIHRoZSBjb250ZXh0LlxuICAgICAqIEl0IGJvdW5kcyB0aGUgY29tcG9uZW50IChDb250YWluZXIsIEZlYXR1cmUpIHRvIGEgbmV3IHNjb3BlIHRoYXQgY2FuIGJlIGNvbmZpZ3VyZWQgYW5kIHVzZWQgaW5kZXBlbmRlbnRseS5cbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IC0gQ29tcG9uZW50IHRvIGFsbG9jYXRlIHRoZSBzY29wZSBmb3IuIENhbiBiZSBlaXRoZXIgQV9Db250YWluZXIsIEFfRmVhdHVyZS5cbiAgICAgKiBAcGFyYW0gaW1wb3J0aW5nICAtIENvbmZpZ3VyYXRpb24gb2YgdGhlIHNjb3BlIHRoYXQgd2lsbCBiZSBjcmVhdGVkIGZvciB0aGUgY29tcG9uZW50LlxuICAgICAqL1xuICAgIHN0YXRpYyBhbGxvY2F0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdGhhdCBuZWVkcyBhIHNjb3BlIGFsbG9jYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyxcbiAgICApOiBBX1Njb3BlXG4gICAgc3RhdGljIGFsbG9jYXRlKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCB0aGF0IG5lZWRzIGEgc2NvcGUgYWxsb2NhdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzLFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgc2NvcGUgdGhhdCB3aWxsIGJlIHVzZWQgYXMgYSBiYXNlIGZvciB0aGUgbmV3IHNjb3BlLlxuICAgICAgICAgKi9cbiAgICAgICAgaW1wb3J0aW5nOiBBX1Njb3BlXG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBhbGxvY2F0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdGhhdCBuZWVkcyBhIHNjb3BlIGFsbG9jYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgY29uZmlndXJhdGlvbiBmb3IgdGhlIHNjb3BlIHRoYXQgd2lsbCBiZSBjcmVhdGVkIGZvciB0aGUgY29tcG9uZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnOiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlX0luaXQgJiBBX1RZUEVTX19TY29wZUNvbmZpZz5cbiAgICApOiBBX1Njb3BlXG4gICAgc3RhdGljIGFsbG9jYXRlKFxuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyxcbiAgICAgICAgaW1wb3J0aW5nPzogUGFydGlhbDxBX1RZUEVTX19TY29wZV9Jbml0ICYgQV9UWVBFU19fU2NvcGVDb25maWc+IHwgQV9TY29wZVxuICAgICk6IEFfU2NvcGUge1xuICAgICAgICAvLyB1c2VzIG9ubHkgZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKGNvbXBvbmVudCk7XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1JbnB1dCBWYWxpZGF0aW9uLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gMSkgY2hlY2sgaWYgY29tcG9uZW50IGlzIHZhbGlkXG4gICAgICAgIGlmICghdGhpcy5pc0FsbG93ZWRGb3JTY29wZUFsbG9jYXRpb24oY29tcG9uZW50KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5Ob3RBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uRXJyb3IsIGBDb21wb25lbnQgb2YgdHlwZSAke2NvbXBvbmVudE5hbWV9IGlzIG5vdCBhbGxvd2VkIGZvciBzY29wZSBhbGxvY2F0aW9uLiBPbmx5IEFfQ29udGFpbmVyLCBBX0ZlYXR1cmUgYXJlIGFsbG93ZWQuYCk7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgIC8vIDIpIGNoZWNrIGlmIGNvbXBvbmVudCBhbHJlYWR5IGhhcyBhIHNjb3BlIGFsbG9jYXRlZFxuICAgICAgICBpZiAoaW5zdGFuY2UuX3JlZ2lzdHJ5Lmhhcyhjb21wb25lbnQpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkNvbXBvbmVudEFscmVhZHlIYXNTY29wZUFsbG9jYXRlZEVycm9yLCBgQ29tcG9uZW50ICR7Y29tcG9uZW50TmFtZX0gYWxyZWFkeSBoYXMgYSBzY29wZSBhbGxvY2F0ZWQuYCk7XG5cblxuICAgICAgICAvLyAzKSBDcmVhdGUgYSBuZXcgc2NvcGUgZm9yIHRoZSBjb21wb25lbnRcbiAgICAgICAgY29uc3QgbmV3U2NvcGUgPSBBX1R5cGVHdWFyZHMuaXNTY29wZUluc3RhbmNlKGltcG9ydGluZylcbiAgICAgICAgICAgID8gaW1wb3J0aW5nXG4gICAgICAgICAgICA6IG5ldyBBX1Njb3BlKGltcG9ydGluZyB8fCB7XG4gICAgICAgICAgICAgICAgbmFtZTogY29tcG9uZW50TmFtZSArICctc2NvcGUnXG4gICAgICAgICAgICB9LCBpbXBvcnRpbmcpO1xuXG4gICAgICAgIC8vIDQpIE1ha2Ugc3VyZSB0aGF0IHRoZSBuZXcgc2NvcGUgaW5oZXJpdHMgZnJvbSB0aGUgcm9vdCBzY29wZVxuICAgICAgICBpZiAoIW5ld1Njb3BlLmlzSW5oZXJpdGVkRnJvbShBX0NvbnRleHQucm9vdCkpXG4gICAgICAgICAgICBuZXdTY29wZS5pbmhlcml0KEFfQ29udGV4dC5yb290KTtcblxuICAgICAgICAvLyA1KSBSZWdpc3RlciB0aGUgY29tcG9uZW50IGluIHRoZSBhcHByb3ByaWF0ZSBzdG9yYWdlXG4gICAgICAgIGluc3RhbmNlLl9yZWdpc3RyeS5zZXQoY29tcG9uZW50LCBuZXdTY29wZSk7XG4gICAgICAgIC8vIEFsc28gcmVnaXN0ZXIgdGhlIGlzc3VlciBvZiB0aGUgc2NvcGUgZm9yIGZhc3RlciB0cmFja2luZ1xuICAgICAgICBpbnN0YW5jZS5fc2NvcGVJc3N1ZXJzLnNldChuZXdTY29wZSwgY29tcG9uZW50KTtcblxuICAgICAgICAvLyA2KSBSZXR1cm4gdGhlIG5ld2x5IGNyZWF0ZWQgc2NvcGVcbiAgICAgICAgcmV0dXJuIG5ld1Njb3BlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYWxsb2NhdGUgbWV0aG9kIHJlbW92ZXMgdGhlIHNjb3BlIGFsbG9jYXRpb24gZm9yIHRoZSBnaXZlbiBjb21wb25lbnQgZnJvbSB0aGUgY29udGV4dC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBkZWFsbG9jYXRlKFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBTY29wZSB0aGF0IG5lZWRzIHRvIGJlIGRlYWxsb2NhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU6IEFfU2NvcGUsXG4gICAgKVxuICAgIHN0YXRpYyBkZWFsbG9jYXRlKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCB0aGF0IG5lZWRzIHRvIGhhdmUgaXRzIHNjb3BlIGRlYWxsb2NhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMsXG4gICAgKVxuICAgIHN0YXRpYyBkZWFsbG9jYXRlKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCB0aGF0IG5lZWRzIHRvIGhhdmUgaXRzIHNjb3BlIGRlYWxsb2NhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW0xOiBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMgfCBBX1Njb3BlLFxuICAgICkge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IEFfVHlwZUd1YXJkcy5pc1Njb3BlSW5zdGFuY2UocGFyYW0xKVxuICAgICAgICAgICAgPyBwYXJhbTFcbiAgICAgICAgICAgIDogaW5zdGFuY2UuX3JlZ2lzdHJ5LmdldChwYXJhbTEpO1xuXG4gICAgICAgIGlmICghc2NvcGUpIHJldHVybjtcblxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZShwYXJhbTEpXG4gICAgICAgICAgICA/IHBhcmFtMVxuICAgICAgICAgICAgOiB0aGlzLmlzc3VlcihzY29wZSk7XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudClcbiAgICAgICAgICAgIGluc3RhbmNlLl9yZWdpc3RyeS5kZWxldGUoY29tcG9uZW50KTtcbiAgICAgICAgaWYgKHNjb3BlKVxuICAgICAgICAgICAgaW5zdGFuY2UuX3Njb3BlSXNzdWVycy5kZWxldGUoc2NvcGUpO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgICogR2V0IG9yIENyZWF0ZSBNZXRhIGZvciB0aGUgc3BlY2lmaWMgY2xhc3Mgb3IgaW5zdGFuY2UuXG4gICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBleGlzdGluZyBtZXRhIGlmIGl0IGV4aXN0cywgb3IgY3JlYXRlIGEgbmV3IG9uZSBpZiBpdCBkb2Vzbid0LlxuICAgICAgKiBcbiAgICAgICogTWV0YSBvYmplY3QgY29udGFpbnMgY3VzdG9tIG1ldGFkYXRhIGJhc2VkIG9uIHRoZSBjbGFzcyB0eXBlLlxuICAgICAgKiBcbiAgICAgICogQHBhcmFtIGNvbnRhaW5lciBcbiAgICAgICovXG4gICAgc3RhdGljIG1ldGEoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgbWV0YSBmb3IgdGhlIHNwZWNpZmljIGNvbnRhaW5lciBjbGFzcyBieSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnRhaW5lcjogQV9UWVBFU19fQ29udGFpbmVyX0NvbnN0cnVjdG9yLFxuICAgICk6IEFfQ29udGFpbmVyTWV0YVxuICAgIHN0YXRpYyBtZXRhKFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IG1ldGEgZm9yIHRoZSBzcGVjaWZpYyBjb250YWluZXIgaW5zdGFuY2UuXG4gICAgICAgICAqL1xuICAgICAgICBjb250YWluZXI6IEFfQ29udGFpbmVyLFxuICAgICk6IEFfQ29udGFpbmVyTWV0YVxuICAgIHN0YXRpYyBtZXRhKFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IG1ldGEgZm9yIHRoZSBzcGVjaWZpYyBlbnRpdHkgY2xhc3MgYnkgY29uc3RydWN0b3IuXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcixcbiAgICApOiBBX0VudGl0eU1ldGFcbiAgICBzdGF0aWMgbWV0YShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBtZXRhIGZvciB0aGUgc3BlY2lmaWMgZW50aXR5IGluc3RhbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX0VudGl0eSxcbiAgICApOiBBX0VudGl0eU1ldGFcbiAgICBzdGF0aWMgbWV0YShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBtZXRhIGZvciB0aGUgc3BlY2lmaWMgY29tcG9uZW50IGNsYXNzIGJ5IGNvbnN0cnVjdG9yLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IsXG4gICAgKTogQV9Db21wb25lbnRNZXRhXG4gICAgc3RhdGljIG1ldGEoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgbWV0YSBmb3IgdGhlIHNwZWNpZmljIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9Db21wb25lbnQsXG4gICAgKTogQV9Db21wb25lbnRNZXRhXG4gICAgc3RhdGljIG1ldGEoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgbWV0YSBmb3IgdGhlIHNwZWNpZmljIGNvbXBvbmVudCBieSBpdHMgbmFtZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogc3RyaW5nLFxuICAgICk6IEFfQ29tcG9uZW50TWV0YVxuICAgIHN0YXRpYyBtZXRhKFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IG1ldGEgZm9yIHRoZSBzcGVjaWZpYyBpbmplY3RhYmxlIHRhcmdldCAoY2xhc3Mgb3IgaW5zdGFuY2UpLlxuICAgICAgICAgKi9cbiAgICAgICAgdGFyZ2V0OiBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyxcbiAgICApOiBBX0NvbXBvbmVudE1ldGFcbiAgICBzdGF0aWMgbWV0YTxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55Pj4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgbWV0YSBmb3IgdGhlIHNwZWNpZmljIGNsYXNzIG9yIGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcjogbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55XG4gICAgKTogQV9NZXRhPFQ+XG5cbiAgICBzdGF0aWMgbWV0YTxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55Pj4oXG4gICAgICAgIHBhcmFtMTogQV9UWVBFU19fTWV0YUxpbmtlZENvbXBvbmVudENvbnN0cnVjdG9yc1xuICAgICAgICAgICAgfCBBX1RZUEVTX19NZXRhTGlua2VkQ29tcG9uZW50c1xuICAgICAgICAgICAgfCBzdHJpbmdcbiAgICApOiBBX01ldGE8VD4ge1xuXG4gICAgICAgIC8vIEdldCB0aGUgY29tcG9uZW50IG5hbWUgZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHBhcmFtMSk7XG4gICAgICAgIC8vIEdldCB0aGUgaW5zdGFuY2Ugb2YgdGhlIGNvbnRleHRcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgaWYgKCFwYXJhbTEpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkTWV0YVBhcmFtZXRlckVycm9yLCBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IG1ldGEuIFBhcmFtZXRlciBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBhcmFtZXRlciBpcyBhbGxvd2VkIGZvciBtZXRhIHN0b3JhZ2VcbiAgICAgICAgaWYgKCEoXG4gICAgICAgICAgICB0aGlzLmlzQWxsb3dlZEZvck1ldGEocGFyYW0xKVxuICAgICAgICAgICAgfHwgdGhpcy5pc0FsbG93ZWRGb3JNZXRhQ29uc3RydWN0b3IocGFyYW0xKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKHBhcmFtMSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0Z1bmN0aW9uKHBhcmFtMVxuICAgICAgICAgICAgKSlcbiAgICAgICAgKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZE1ldGFQYXJhbWV0ZXJFcnJvciwgYEludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBtZXRhLiBDb21wb25lbnQgb2YgdHlwZSAke2NvbXBvbmVudE5hbWV9IGlzIG5vdCBhbGxvd2VkIGZvciBtZXRhIHN0b3JhZ2UuIE9ubHkgQV9Db250YWluZXIsIEFfQ29tcG9uZW50IGFuZCBBX0VudGl0eSBhcmUgYWxsb3dlZC5gKTtcblxuICAgICAgICBsZXQgcHJvcGVydHk6IEFfVFlQRVNfX01ldGFMaW5rZWRDb21wb25lbnRDb25zdHJ1Y3RvcnM7XG4gICAgICAgIGxldCBtZXRhVHlwZTogdHlwZW9mIEFfTWV0YTxUPiB8IHR5cGVvZiBBX0NvbnRhaW5lck1ldGEgfCB0eXBlb2YgQV9Db21wb25lbnRNZXRhIHwgdHlwZW9mIEFfRW50aXR5TWV0YVxuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgLy8gMSkgSWYgcGFyYW0xIGlzIGluc3RhbmNlIG9mIEFfQ29udGFpbmVyXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHBhcmFtMS5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3I7XG4gICAgICAgICAgICAgICAgbWV0YVR5cGUgPSBBX0NvbnRhaW5lck1ldGE7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDIpIElmIHBhcmFtMSBpcyBjbGFzcyBvZiBBX0NvbnRhaW5lclxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJDb25zdHJ1Y3RvcihwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBwYXJhbTEgYXMgdHlwZW9mIEFfQ29udGFpbmVyO1xuICAgICAgICAgICAgICAgIG1ldGFUeXBlID0gQV9Db250YWluZXJNZXRhO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAzKSBJZiBwYXJhbTEgaXMgaW5zdGFuY2Ugb2YgQV9Db21wb25lbnRcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcGFyYW0xLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjtcbiAgICAgICAgICAgICAgICBtZXRhVHlwZSA9IEFfQ29tcG9uZW50TWV0YTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNCkgSWYgcGFyYW0xIGlzIGNsYXNzIG9mIEFfQ29tcG9uZW50XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHBhcmFtMSBhcyB0eXBlb2YgQV9Db21wb25lbnQ7XG4gICAgICAgICAgICAgICAgbWV0YVR5cGUgPSBBX0NvbXBvbmVudE1ldGE7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDUpIElmIHBhcmFtMSBpcyBpbnN0YW5jZSBvZiBBX0VudGl0eVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yO1xuICAgICAgICAgICAgICAgIG1ldGFUeXBlID0gQV9Db21wb25lbnRNZXRhO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA2KSBJZiBwYXJhbTEgaXMgY2xhc3Mgb2YgQV9FbnRpdHlcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5Q29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcGFyYW0xO1xuICAgICAgICAgICAgICAgIG1ldGFUeXBlID0gQV9FbnRpdHlNZXRhO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA3KSBJZiBwYXJhbTEgaXMgc3RyaW5nIHRoZW4gd2UgbmVlZCB0byBmaW5kIHRoZSBjb21wb25lbnQgYnkgaXRzIG5hbWVcbiAgICAgICAgICAgIGNhc2UgdHlwZW9mIHBhcmFtMSA9PT0gJ3N0cmluZyc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IEFycmF5LmZyb20oaW5zdGFuY2UuX21ldGFTdG9yYWdlKVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgoW2NdKSA9PiBjLm5hbWUgPT09IHBhcmFtMVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgYy5uYW1lID09PSBBX0Zvcm1hdHRlckhlbHBlci50b0tlYmFiQ2FzZShwYXJhbTEpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBjLm5hbWUgPT09IEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShwYXJhbTEpXG4gICAgICAgICAgICAgICAgICAgICkhO1xuICAgICAgICAgICAgICAgIGlmICghKGZvdW5kICYmIGZvdW5kLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkTWV0YVBhcmFtZXRlckVycm9yLCBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IG1ldGEuIENvbXBvbmVudCB3aXRoIG5hbWUgJHtwYXJhbTF9IG5vdCBmb3VuZCBpbiB0aGUgbWV0YSBzdG9yYWdlLmApO1xuXG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBmb3VuZFswXTtcbiAgICAgICAgICAgICAgICBtZXRhVHlwZSA9IEFfQ29tcG9uZW50TWV0YTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gOCkgSWYgcGFyYW0xIGlzIGFueSBvdGhlciBjbGFzcyBvciBmdW5jdGlvblxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcGFyYW0xO1xuICAgICAgICAgICAgICAgIG1ldGFUeXBlID0gQV9NZXRhO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgbWV0YSBhbHJlYWR5IGV4aXN0cyBmb3IgdGhlIHByb3BlcnR5LCBpZiBub3QgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICBpZiAoIWluc3RhbmNlLl9tZXRhU3RvcmFnZS5oYXMocHJvcGVydHkpKSB7XG4gICAgICAgICAgICBjb25zdCBpbmhlcml0TWV0YSA9IGluc3RhbmNlLl9tZXRhU3RvcmFnZS5nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3BlcnR5KSkgfHwgbmV3IG1ldGFUeXBlKCk7XG4gICAgICAgICAgICBpbnN0YW5jZS5fbWV0YVN0b3JhZ2Uuc2V0KHByb3BlcnR5LCBuZXcgbWV0YVR5cGUoKS5mcm9tKGluaGVyaXRNZXRhIGFzIGFueSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV0dXJuIHRoZSBtZXRhIGZvciB0aGUgcHJvcGVydHlcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLl9tZXRhU3RvcmFnZS5nZXQocHJvcGVydHkpITtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIGFsbG93cyB0byBnZXQgdGhlIGlzc3VlciBvZiBhIHNwZWNpZmljIHNjb3BlLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzY29wZSAtIFNjb3BlIHRvIGdldCB0aGUgaXNzdWVyIGZvci5cbiAgICAgKiBAcmV0dXJucyAtIENvbXBvbmVudCB0aGF0IGlzc3VlZCB0aGUgc2NvcGUuXG4gICAgICovXG4gICAgc3RhdGljIGlzc3VlcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIHNjb3BlIHRvIGdldCBpdHMgaXNzdWVyLlxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU6IEFfU2NvcGVcbiAgICApOiBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMgfCB1bmRlZmluZWQge1xuXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgIGlmICghc2NvcGUpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLkludmFsaWRDb21wb25lbnRQYXJhbWV0ZXJFcnJvcixcbiAgICAgICAgICAgIGBJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgc2NvcGUgaXNzdWVyLiBQYXJhbWV0ZXIgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmBcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBpZiAoIWluc3RhbmNlLl9zY29wZUlzc3VlcnMuaGFzKHNjb3BlKSkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAvLyAgICAgQV9Db250ZXh0RXJyb3IuU2NvcGVOb3RGb3VuZEVycm9yLFxuICAgICAgICAvLyAgICAgYEludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBzY29wZSBpc3N1ZXIuIFByb3ZpZGVkIHNjb3BlIGRvZXMgbm90IGhhdmUgYW4gaXNzdWVyIHJlZ2lzdGVyZWQuYFxuICAgICAgICAvLyApO1xuXG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5fc2NvcGVJc3N1ZXJzLmdldChzY29wZSkhO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNjb3BlIG9mIHRoZSBzcGVjaWZpYyBjbGFzcyBvciBpbnN0YW5jZS5cbiAgICAgKiBcbiAgICAgKiBFdmVyeSBleGVjdXRpb24gaW4gQ29uY2VwdCBoYXMgaXRzIG93biBzY29wZS5cbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiB0aGUgc2NvcGUgb2YgdGhlIHNwZWNpZmljIGNsYXNzIG9yIGluc3RhbmNlLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBlbnRpdHkgXG4gICAgICovXG4gICAgc3RhdGljIHNjb3BlPFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSB0byBnZXQgaXRzIHNjb3BlLlxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBUXG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBzY29wZTxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCB0byBnZXQgaXRzIHNjb3BlLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBUXG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBzY29wZTxUIGV4dGVuZHMgQV9Db250YWluZXI+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbnRhaW5lciB0byBnZXQgaXRzIHNjb3BlLlxuICAgICAgICAgKi9cbiAgICAgICAgY29udGFpbmVyOiBUXG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBzY29wZTxUIGV4dGVuZHMgQV9GZWF0dXJlPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBmZWF0dXJlIHRvIGdldCBpdHMgc2NvcGUuXG4gICAgICAgICAqL1xuICAgICAgICBmZWF0dXJlOiBUXG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBzY29wZTxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgdG8gZ2V0IGl0cyBzY29wZS5cbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBUXG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBzY29wZTxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHwgQV9UWVBFU19TY29wZURlcGVuZGVudENvbXBvbmVudHM+KFxuICAgICAgICBwYXJhbTE6IFRcbiAgICApOiBBX1Njb3BlIHtcblxuICAgICAgICAvLyBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgbmFtZSA9IChwYXJhbTEgYXMgYW55KT8uY29uc3RydWN0b3I/Lm5hbWUgfHwgU3RyaW5nKHBhcmFtMSk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBpbnN0YW5jZSBvZiB0aGUgY29udGV4dFxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAvLyBJbnB1dCB2YWxpZGF0aW9uXG4gICAgICAgIGlmICghcGFyYW0xKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZFNjb3BlUGFyYW1ldGVyRXJyb3IsIGBJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgc2NvcGUuIFBhcmFtZXRlciBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBhcmFtZXRlciBpcyBhbGxvd2VkIGZvciBzY29wZSBhbGxvY2F0aW9uXG4gICAgICAgIGlmICghdGhpcy5pc0FsbG93ZWRGb3JTY29wZUFsbG9jYXRpb24ocGFyYW0xKVxuICAgICAgICAgICAgJiYgIXRoaXMuaXNBbGxvd2VkVG9CZVJlZ2lzdGVyZWQocGFyYW0xKVxuICAgICAgICApXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZFNjb3BlUGFyYW1ldGVyRXJyb3IsIGBJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgc2NvcGUuIENvbXBvbmVudCBvZiB0eXBlICR7bmFtZX0gaXMgbm90IGFsbG93ZWQgZm9yIHNjb3BlIGFsbG9jYXRpb24uYCk7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIHRoaXMuaXNBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uKHBhcmFtMSk6XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgcGFyYW1ldGVyIGhhcyBhIHNjb3BlIGFsbG9jYXRlZFxuICAgICAgICAgICAgICAgIGlmICghaW5zdGFuY2UuX3JlZ2lzdHJ5LmhhcyhwYXJhbTEpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBBX0NvbnRleHRFcnJvci5TY29wZU5vdEZvdW5kRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IHNjb3BlLiBDb21wb25lbnQgb2YgdHlwZSAke25hbWV9IGRvZXMgbm90IGhhdmUgYSBzY29wZSBhbGxvY2F0ZWQuIE1ha2Ugc3VyZSB0byBhbGxvY2F0ZSBhIHNjb3BlIHVzaW5nIEFfQ29udGV4dC5hbGxvY2F0ZSgpIG1ldGhvZCBiZWZvcmUgdHJ5aW5nIHRvIGdldCB0aGUgc2NvcGUuYFxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciBpcyBhbGxvd2VkIGZvciBzY29wZSBhbGxvY2F0aW9uLCByZXR1cm4gdGhlIHNjb3BlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLl9yZWdpc3RyeS5nZXQocGFyYW0xKSE7XG5cbiAgICAgICAgICAgIGNhc2UgdGhpcy5pc0FsbG93ZWRUb0JlUmVnaXN0ZXJlZChwYXJhbTEpOlxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBhcmFtZXRlciBoYXMgYSBzY29wZSByZWdpc3RlcmVkXG4gICAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5fc2NvcGVTdG9yYWdlLmhhcyhwYXJhbTEpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBBX0NvbnRleHRFcnJvci5TY29wZU5vdEZvdW5kRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IHNjb3BlLiBDb21wb25lbnQgb2YgdHlwZSAke25hbWV9IGRvZXMgbm90IGhhdmUgYSBzY29wZSByZWdpc3RlcmVkLiBNYWtlIHN1cmUgdG8gcmVnaXN0ZXIgdGhlIGNvbXBvbmVudCB1c2luZyBBX0NvbnRleHQucmVnaXN0ZXIoKSBtZXRob2QgYmVmb3JlIHRyeWluZyB0byBnZXQgdGhlIHNjb3BlLmBcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwYXJhbWV0ZXIgaXMgYWxsb3dlZCB0byBiZSByZWdpc3RlcmVkLCByZXR1cm4gdGhlIHNjb3BlIGZyb20gdGhlIHN0b3JhZ2VcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2UuX3Njb3BlU3RvcmFnZS5nZXQocGFyYW0xKSE7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkU2NvcGVQYXJhbWV0ZXJFcnJvciwgYEludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBzY29wZS4gQ29tcG9uZW50IG9mIHR5cGUgJHtuYW1lfSBpcyBub3QgYWxsb3dlZCB0byBiZSByZWdpc3RlcmVkLmApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBGRUFUVVJFIE1BTkFHRU1FTlQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1QcmltYXJ5IE1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdGVtcGxhdGUgb2YgdGhlIGZlYXR1cmUgdGhhdCBjYW4gYmUgdGhlbiB1c2VkIHRvIGNyZWF0ZSBhIG5ldyBBLUZlYXR1cmUgSW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogU3RlcHMvU3RhZ2VzIGluY2x1ZGVkIGFyZSBmdWxseSBkZXBlbmRlbnQgb24gdGhlIHNjb3BlIHByb3ZpZGVkIHNpbmNlIGl0IGRpY3RhdGVzIHdoaWNoIGNvbXBvbmVudHMgYXJlIGFjdGl2ZSBhbmQgY2FuIHByb3ZpZGUgZXh0ZW5zaW9ucyBmb3IgdGhlIGZlYXR1cmUuXG4gICAgICogXG4gICAgICogQHBhcmFtIG5hbWUgXG4gICAgICovXG4gICAgc3RhdGljIGZlYXR1cmVUZW1wbGF0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIG5hbWUgb2YgdGhlIGZlYXR1cmUgdG8gZ2V0IHRoZSB0ZW1wbGF0ZSBmb3IuIFJlZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIGFsc28gc3VwcG9ydGVkIHRvIG1hdGNoIG11bHRpcGxlIGZlYXR1cmVzLlxuICAgICAgICAgKi9cbiAgICAgICAgbmFtZTogc3RyaW5nIHwgUmVnRXhwLFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgY29tcG9uZW50IHRvIGdldCB0aGUgZmVhdHVyZSB0ZW1wbGF0ZSBmcm9tLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIHNjb3BlIHRoYXQgZGljdGF0ZXMgd2hpY2ggY29tcG9uZW50cyBhcmUgYWN0aXZlIGFuZCBjYW4gcHJvdmlkZSBleHRlbnNpb25zIGZvciB0aGUgZmVhdHVyZS5cbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlOiBBX1Njb3BlID0gdGhpcy5zY29wZShjb21wb25lbnQpXG4gICAgKTogQXJyYXk8QV9UWVBFU19fQV9TdGFnZVN0ZXA+IHtcbiAgICAgICAgLy8gbmFtZSBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KTtcblxuICAgICAgICAvLyBJbnB1dCB2YWxpZGF0aW9uXG4gICAgICAgIGlmICghY29tcG9uZW50KSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVUZW1wbGF0ZVBhcmFtZXRlckVycm9yLCBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBDb21wb25lbnQgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuICAgICAgICBpZiAoIW5hbWUpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkRmVhdHVyZVRlbXBsYXRlUGFyYW1ldGVyRXJyb3IsIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIEZlYXR1cmUgbmFtZSBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBhcmFtZXRlciBpcyBhbGxvd2VkIGZvciBmZWF0dXJlIGRlZmluaXRpb25cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNBbGxvd2VkRm9yRmVhdHVyZURlZmluaXRpb24oY29tcG9uZW50KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkRmVhdHVyZVRlbXBsYXRlUGFyYW1ldGVyRXJyb3IsIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIENvbXBvbmVudCBvZiB0eXBlICR7Y29tcG9uZW50TmFtZX0gaXMgbm90IGFsbG93ZWQgZm9yIGZlYXR1cmUgZGVmaW5pdGlvbi5gKTtcblxuICAgICAgICBjb25zdCBzdGVwczogQV9UWVBFU19fQV9TdGFnZVN0ZXBbXSA9IFtcbiAgICAgICAgICAgIC8vIDEpIEdldCB0aGUgYmFzZSBmZWF0dXJlIGRlZmluaXRpb24gZnJvbSB0aGUgY29tcG9uZW50XG4gICAgICAgICAgICAuLi50aGlzLmZlYXR1cmVEZWZpbml0aW9uKG5hbWUsIGNvbXBvbmVudCksXG4gICAgICAgICAgICAvLyAyKSBHZXQgYWxsIGV4dGVuc2lvbnMgZm9yIHRoZSBmZWF0dXJlIGZyb20gb3RoZXIgY29tcG9uZW50cyBpbiB0aGUgc2NvcGVcbiAgICAgICAgICAgIC4uLnRoaXMuZmVhdHVyZUV4dGVuc2lvbnMobmFtZSwgY29tcG9uZW50LCBzY29wZSlcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gc3RlcHM7XG4gICAgfVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUhlbHBlciBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWxsIGV4dGVuc2lvbnMgZm9yIHRoZSBzcGVjaWZpYyBmZWF0dXJlIGluIHRoZSBzcGVjaWZpYyBjb21wb25lbnQgd2l0aGluIHRoZSBwcm92aWRlZCBzY29wZS5cbiAgICAgKiBTY29wZSBkaWN0YXRlcyB3aGljaCBjb21wb25lbnRzIGFyZSBhY3RpdmUgYW5kIGNhbiBwcm92aWRlIGV4dGVuc2lvbnMgZm9yIHRoZSBmZWF0dXJlLlxuICAgICAqIFxuICAgICAqIFshXSBUaGlzIG1ldGhvZCBvbmx5IHJldHVybnMgZXh0ZW5zaW9ucywgbm90IHRoZSBiYXNlIGZlYXR1cmUgZGVmaW5pdGlvbi5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGZlYXR1cmVFeHRlbnNpb25zKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgbmFtZSBvZiB0aGUgZmVhdHVyZSB0byBnZXQgdGhlIHRlbXBsYXRlIGZvci4gUmVndWxhciBleHByZXNzaW9ucyBhcmUgYWxzbyBzdXBwb3J0ZWQgdG8gbWF0Y2ggbXVsdGlwbGUgZmVhdHVyZXMuXG4gICAgICAgICAqL1xuICAgICAgICBuYW1lOiBzdHJpbmcgfCBSZWdFeHAsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBjb21wb25lbnQgdG8gZ2V0IHRoZSBmZWF0dXJlIHRlbXBsYXRlIGZyb20uXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzLFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgc2NvcGUgdGhhdCBkaWN0YXRlcyB3aGljaCBjb21wb25lbnRzIGFyZSBhY3RpdmUgYW5kIGNhbiBwcm92aWRlIGV4dGVuc2lvbnMgZm9yIHRoZSBmZWF0dXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU6IEFfU2NvcGVcbiAgICApOiBBcnJheTxBX1RZUEVTX19BX1N0YWdlU3RlcD4ge1xuXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAvLyBuYW1lIGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQpO1xuXG4gICAgICAgIC8vIElucHV0IHZhbGlkYXRpb25cbiAgICAgICAgaWYgKCFjb21wb25lbnQpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkRmVhdHVyZUV4dGVuc2lvblBhcmFtZXRlckVycm9yLCBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBDb21wb25lbnQgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuICAgICAgICBpZiAoIW5hbWUpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkRmVhdHVyZUV4dGVuc2lvblBhcmFtZXRlckVycm9yLCBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBGZWF0dXJlIG5hbWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwYXJhbWV0ZXIgaXMgYWxsb3dlZCBmb3IgZmVhdHVyZSBkZWZpbml0aW9uXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckZlYXR1cmVEZWZpbml0aW9uKGNvbXBvbmVudCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVFeHRlbnNpb25QYXJhbWV0ZXJFcnJvciwgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQ29tcG9uZW50IG9mIHR5cGUgJHtjb21wb25lbnROYW1lfSBpcyBub3QgYWxsb3dlZCBmb3IgZmVhdHVyZSBkZWZpbml0aW9uLmApO1xuXG5cbiAgICAgICAgY29uc3QgY2FsbE5hbWVzID0gQV9Db21tb25IZWxwZXIuZ2V0Q2xhc3NJbmhlcml0YW5jZUNoYWluKGNvbXBvbmVudClcbiAgICAgICAgICAgIC5maWx0ZXIoYyA9PiBjICE9PSBBX0NvbXBvbmVudCAmJiBjICE9PSBBX0NvbnRhaW5lciAmJiBjICE9PSBBX0VudGl0eSlcbiAgICAgICAgICAgIC5tYXAoYyA9PiBgJHtjLm5hbWV9LiR7bmFtZX1gKTtcblxuXG5cbiAgICAgICAgLy8gY29uc3QgY2FsbE5hbWVzID0gW2Ake2NvbXBvbmVudC5jb25zdHJ1Y3Rvci5uYW1lfS4ke25hbWV9YF07XG4gICAgICAgIC8vIGNvbnN0IGNhbGxOYW1lcyA9IFtgQmFzZUNvbXBvbmVudC50ZXN0RmVhdHVyZWBdO1xuXG4gICAgICAgIGNvbnN0IHN0ZXBzOiBBX1RZUEVTX19BX1N0YWdlU3RlcFtdID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCBjYWxsTmFtZSBvZiBjYWxsTmFtZXMpIHtcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gZ2V0IGFsbCBjb21wb25lbnRzIHRoYXQgaGFzIGV4dGVuc2lvbnMgZm9yIHRoZSBmZWF0dXJlIGluIGNvbXBvbmVudFxuICAgICAgICAgICAgZm9yIChjb25zdCBbY21wLCBtZXRhXSBvZiBpbnN0YW5jZS5fbWV0YVN0b3JhZ2UpIHtcbiAgICAgICAgICAgICAgICAvLyBKdXN0IHRyeSB0byBtYWtlIHN1cmUgdGhhdCBjb21wb25lbnQgbm90IG9ubHkgSW5kZXhlZCBidXQgYWxzbyBwcmVzZW50ZWQgaW4gc2NvcGVcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaGFzKGNtcCkgJiYgKFxuICAgICAgICAgICAgICAgICAgICBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRNZXRhSW5zdGFuY2UobWV0YSlcbiAgICAgICAgICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVyTWV0YUluc3RhbmNlKG1ldGEpXG4gICAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgYWxsIGV4dGVuc2lvbnMgZm9yIHRoZSBmZWF0dXJlXG4gICAgICAgICAgICAgICAgICAgIG1ldGFcbiAgICAgICAgICAgICAgICAgICAgICAgIC5leHRlbnNpb25zKGNhbGxOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKGRlY2xhcmF0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogY21wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5kZWNsYXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLmZpbHRlclRvTW9zdERlcml2ZWQoc2NvcGUsIHN0ZXBzKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIG1ldGhvZCBoZWxwcyB0byBmaWx0ZXIgc3RlcHMgaW4gYSB3YXkgdGhhdCBvbmx5IHRoZSBtb3N0IGRlcml2ZWQgY2xhc3NlcyBhcmUga2VwdC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGUgXG4gICAgICogQHBhcmFtIGl0ZW1zIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByaXZhdGUgZmlsdGVyVG9Nb3N0RGVyaXZlZChcbiAgICAgICAgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIGl0ZW1zOiBBX1RZUEVTX19BX1N0YWdlU3RlcFtdKTogQXJyYXk8QV9UWVBFU19fQV9TdGFnZVN0ZXA+IHtcbiAgICAgICAgcmV0dXJuIGl0ZW1zLmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDbGFzcyA9IHR5cGVvZiBpdGVtLmNvbXBvbmVudCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICA/IHNjb3BlLnJlc29sdmVDb25zdHJ1Y3RvcihpdGVtLmNvbXBvbmVudClcbiAgICAgICAgICAgICAgICA6IEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKGl0ZW0uY29tcG9uZW50KVxuICAgICAgICAgICAgICAgICAgICA/IGl0ZW0uY29tcG9uZW50LmNvbnN0cnVjdG9yIDogaXRlbS5jb21wb25lbnQ7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgY2xhc3MgaXMgcGFyZW50IG9mIGFueSBvdGhlciBpbiB0aGUgbGlzdFxuICAgICAgICAgICAgY29uc3QgaXNQYXJlbnRPZkFub3RoZXIgPSBpdGVtcy5zb21lKG90aGVyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXIgPT09IGl0ZW0pIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyQ2xhc3MgPSB0eXBlb2Ygb3RoZXIuY29tcG9uZW50ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/IHNjb3BlLnJlc29sdmVDb25zdHJ1Y3RvcihvdGhlci5jb21wb25lbnQpXG4gICAgICAgICAgICAgICAgICAgIDogQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2Uob3RoZXIuY29tcG9uZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBvdGhlci5jb21wb25lbnQuY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgIDogb3RoZXIuY29tcG9uZW50O1xuXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudENsYXNzLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG90aGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBLZWVwIG9ubHkgY2xhc3NlcyB0aGF0IGFyZSBub3QgcGFyZW50IG9mIGFueSBvdGhlclxuICAgICAgICAgICAgcmV0dXJuICFpc1BhcmVudE9mQW5vdGhlcjtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmZWF0dXJlIHRlbXBsYXRlIGRlZmluaXRpb24gd2l0aG91dCBhbnkgZXh0ZW5zaW9ucy5cbiAgICAgKiBJdCBjYW4gYmUgdXNlZCB0byByZXRyaWV2ZSB0aGUgYmFzZSB0ZW1wbGF0ZSBmb3IgYSBmZWF0dXJlIGJlZm9yZSBhbnkgbW9kaWZpY2F0aW9ucyBhcmUgYXBwbGllZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gVGhpcyBtZXRob2QgZG9lcyBub3QgY29uc2lkZXIgZXh0ZW5zaW9ucyBmcm9tIG90aGVyIGNvbXBvbmVudHMuXG4gICAgICogXG4gICAgICogQHBhcmFtIGZlYXR1cmUgXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZmVhdHVyZURlZmluaXRpb24oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOYW1lIG9mIHRoZSBmZWF0dXJlIHRvIGdldCB0aGUgdGVtcGxhdGUgZm9yLlxuICAgICAgICAgKiBSZWd1bGFyIGV4cHJlc3Npb25zIGFyZSBhbHNvIHN1cHBvcnRlZCB0byBtYXRjaCBtdWx0aXBsZSBmZWF0dXJlcy5cbiAgICAgICAgICovXG4gICAgICAgIGZlYXR1cmU6IHN0cmluZyB8IFJlZ0V4cCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbXBvbmVudCB0byBnZXQgdGhlIGZlYXR1cmUgdGVtcGxhdGUgZnJvbS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMsXG4gICAgKTogQXJyYXk8QV9UWVBFU19fQV9TdGFnZVN0ZXA+IHtcbiAgICAgICAgbGV0IG1ldGFLZXk7XG5cbiAgICAgICAgaWYgKCFmZWF0dXJlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkludmFsaWRGZWF0dXJlVGVtcGxhdGVQYXJhbWV0ZXJFcnJvciwgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gRmVhdHVyZSBuYW1lIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcbiAgICAgICAgaWYgKCFjb21wb25lbnQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVUZW1wbGF0ZVBhcmFtZXRlckVycm9yLCBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBDb21wb25lbnQgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuXG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIGNvbXBvbmVudCBpbnN0YW5jZW9mIEFfRW50aXR5OlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19FbnRpdHlNZXRhS2V5LkZFQVRVUkVTO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb21wb25lbnQgaW5zdGFuY2VvZiBBX0NvbnRhaW5lcjpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleS5GRUFUVVJFU1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb21wb25lbnQgaW5zdGFuY2VvZiBBX0NvbXBvbmVudDpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5GRUFUVVJFU1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkRmVhdHVyZVRlbXBsYXRlUGFyYW1ldGVyRXJyb3IsIGBBLUZlYXR1cmUgY2Fubm90IGJlIGRlZmluZWQgb24gdGhlICR7Y29tcG9uZW50fSBsZXZlbGApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmVhdHVyZURlZmluaXRpb246IEFfVFlQRVNfX0ZlYXR1cmVEZWZpbmVEZWNvcmF0b3JNZXRhIHwgdW5kZWZpbmVkID0gdGhpcy5tZXRhKGNvbXBvbmVudClcbiAgICAgICAgICAgID8uZ2V0KG1ldGFLZXkpXG4gICAgICAgICAgICA/LmdldChmZWF0dXJlKTtcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgLi4uKGZlYXR1cmVEZWZpbml0aW9uPy50ZW1wbGF0ZSB8fCBbXSlcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBBQlNUUkFDVElPTiBNQU5BR0VNRU5UID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tUHJpbWFyeSBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGRlZmluaXRpb24gb2YgdGhlIGFic3RyYWN0aW9uIHRoYXQgY2FuIGJlIHRoZW4gdXNlZCB0byBjcmVhdGUgYSBuZXcgQS1GZWF0dXJlIEluc3RhbmNlXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IFN0ZXBzL1N0YWdlcyBpbmNsdWRlZCBhcmUgZnVsbHkgZGVwZW5kZW50IG9uIHRoZSBzY29wZSBwcm92aWRlZCBzaW5jZSBpdCBkaWN0YXRlcyB3aGljaCBjb21wb25lbnRzIGFyZSBhY3RpdmUgYW5kIGNhbiBwcm92aWRlIGV4dGVuc2lvbnMgZm9yIHRoZSBhYnN0cmFjdGlvbi5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gYWJzdHJhY3Rpb24gXG4gICAgICovXG4gICAgc3RhdGljIGFic3RyYWN0aW9uVGVtcGxhdGUoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBhYnN0cmFjdGlvbiBzdGFnZSB0byBnZXQgdGhlIGRlZmluaXRpb24gZm9yLlxuICAgICAgICAgKi9cbiAgICAgICAgYWJzdHJhY3Rpb246IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBjb21wb25lbnQgdG8gZ2V0IHRoZSBhYnN0cmFjdGlvbiBkZWZpbml0aW9uIGZyb20uXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzLFxuICAgICk6IEFycmF5PEFfVFlQRVNfX0FfU3RhZ2VTdGVwPiB7XG4gICAgICAgIC8vIG5hbWUgZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSAoQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQpKTtcblxuICAgICAgICAvLyBJbnB1dCB2YWxpZGF0aW9uXG4gICAgICAgIGlmICghY29tcG9uZW50KSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICBBX0NvbnRleHRFcnJvci5JbnZhbGlkQWJzdHJhY3Rpb25UZW1wbGF0ZVBhcmFtZXRlckVycm9yLFxuICAgICAgICAgICAgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQ29tcG9uZW50IGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcblxuICAgICAgICBpZiAoIWFic3RyYWN0aW9uKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICBBX0NvbnRleHRFcnJvci5JbnZhbGlkQWJzdHJhY3Rpb25UZW1wbGF0ZVBhcmFtZXRlckVycm9yLFxuICAgICAgICAgICAgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQWJzdHJhY3Rpb24gc3RhZ2UgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwYXJhbWV0ZXIgaXMgYWxsb3dlZCBmb3IgZmVhdHVyZSBkZWZpbml0aW9uXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckFic3RyYWN0aW9uRGVmaW5pdGlvbihjb21wb25lbnQpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkludmFsaWRBYnN0cmFjdGlvblRlbXBsYXRlUGFyYW1ldGVyRXJyb3IsIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIENvbXBvbmVudCBvZiB0eXBlICR7Y29tcG9uZW50TmFtZX0gaXMgbm90IGFsbG93ZWQgZm9yIGZlYXR1cmUgZGVmaW5pdGlvbi5gKTtcblxuICAgICAgICBjb25zdCBzdGVwczogQV9UWVBFU19fQV9TdGFnZVN0ZXBbXSA9IFtcbiAgICAgICAgICAgIC8vIDEpIEdldCB0aGUgYmFzZSBhYnN0cmFjdGlvbiBkZWZpbml0aW9uIGZyb20gdGhlIGNvbXBvbmVudFxuICAgICAgICAgICAgLy8gWyFdIE5vIGFic3RyYWN0aW9uIERlZmluaXRpb25zIC0+IFRoZXkgYXJlIGxpbWl0ZWQgdG8gQ29uY2VwdCBBYnN0cmFjdGlvbnMgT05MWVxuICAgICAgICAgICAgLy8gLi4udGhpcy5hYnN0cmFjdGlvbkRlZmluaXRpb24oYWJzdHJhY3Rpb24sIGNvbXBvbmVudCksXG5cbiAgICAgICAgICAgIC8vIDIpIEdldCBhbGwgZXh0ZW5zaW9ucyBmb3IgdGhlIGFic3RyYWN0aW9uIGZyb20gb3RoZXIgY29tcG9uZW50cyBpbiB0aGUgc2NvcGVcbiAgICAgICAgICAgIC4uLnRoaXMuYWJzdHJhY3Rpb25FeHRlbnNpb25zKGFic3RyYWN0aW9uLCBjb21wb25lbnQpXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHN0ZXBzO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUhlbHBlciBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgc3RhdGljIGFic3RyYWN0aW9uRXh0ZW5zaW9ucyhcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIGFic3RyYWN0aW9uIG5hbWUgdG8gZ2V0IHRoZSBkZWZpbml0aW9uIGZvci5cbiAgICAgICAgICovXG4gICAgICAgIGFic3RyYWN0aW9uOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgY29tcG9uZW50IHRvIGdldCB0aGUgYWJzdHJhY3Rpb24gZGVmaW5pdGlvbiBmcm9tLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgICApOiBBcnJheTxBX1RZUEVTX19BX1N0YWdlU3RlcD4ge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgLy8gbmFtZSBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KTtcblxuICAgICAgICAvLyBJbnB1dCB2YWxpZGF0aW9uXG4gICAgICAgIGlmICghY29tcG9uZW50KSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICBBX0NvbnRleHRFcnJvci5JbnZhbGlkQWJzdHJhY3Rpb25FeHRlbnNpb25QYXJhbWV0ZXJFcnJvcixcbiAgICAgICAgICAgIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIENvbXBvbmVudCBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYFxuICAgICAgICApO1xuICAgICAgICBpZiAoIWFic3RyYWN0aW9uKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICBBX0NvbnRleHRFcnJvci5JbnZhbGlkQWJzdHJhY3Rpb25FeHRlbnNpb25QYXJhbWV0ZXJFcnJvcixcbiAgICAgICAgICAgIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIEFic3RyYWN0aW9uIHN0YWdlIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gXG4gICAgICAgICk7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwYXJhbWV0ZXIgaXMgYWxsb3dlZCBmb3IgZmVhdHVyZSBkZWZpbml0aW9uXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckFic3RyYWN0aW9uRGVmaW5pdGlvbihjb21wb25lbnQpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yXG4gICAgICAgICAgICAgICAgKEFfQ29udGV4dEVycm9yLkludmFsaWRBYnN0cmFjdGlvbkV4dGVuc2lvblBhcmFtZXRlckVycm9yLFxuICAgICAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBDb21wb25lbnQgb2YgdHlwZSAke2NvbXBvbmVudE5hbWV9IGlzIG5vdCBhbGxvd2VkIGZvciBmZWF0dXJlIGRlZmluaXRpb24uYFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgY29uc3Qgc3RlcHM6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwW10gPSBbXTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IHRoaXMuc2NvcGUoY29tcG9uZW50KTtcblxuICAgICAgICAvLyBXZSBuZWVkIHRvIGdldCBhbGwgY29tcG9uZW50cyB0aGF0IGhhcyBleHRlbnNpb25zIGZvciB0aGUgZmVhdHVyZSBpbiBjb21wb25lbnRcbiAgICAgICAgZm9yIChjb25zdCBbY21wLCBtZXRhXSBvZiBpbnN0YW5jZS5fbWV0YVN0b3JhZ2UpIHtcbiAgICAgICAgICAgIC8vIEp1c3QgdHJ5IHRvIG1ha2Ugc3VyZSB0aGF0IGNvbXBvbmVudCBub3Qgb25seSBJbmRleGVkIGJ1dCBhbHNvIHByZXNlbnRlZCBpbiBzY29wZVxuICAgICAgICAgICAgaWYgKHNjb3BlLmhhcyhjbXApICYmIChcbiAgICAgICAgICAgICAgICBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRNZXRhSW5zdGFuY2UobWV0YSlcbiAgICAgICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJNZXRhSW5zdGFuY2UobWV0YSlcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgYWxsIGV4dGVuc2lvbnMgZm9yIHRoZSBmZWF0dXJlXG4gICAgICAgICAgICAgICAgbWV0YVxuICAgICAgICAgICAgICAgICAgICAuYWJzdHJhY3Rpb25zKGFic3RyYWN0aW9uKVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCgoZGVjbGFyYXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogY21wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRlY2xhcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5zdGFuY2UuZmlsdGVyVG9Nb3N0RGVyaXZlZChzY29wZSwgc3RlcHMpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBDb250ZXh0IHRvIGl0cyBpbml0aWFsIHN0YXRlLlxuICAgICAqL1xuICAgIHN0YXRpYyByZXNldCgpIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBBX0NvbnRleHQuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICBpbnN0YW5jZS5fcmVnaXN0cnkgPSBuZXcgV2Vha01hcCgpO1xuXG4gICAgICAgIGxldCBuYW1lID0gJ3Jvb3QnO1xuXG4gICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInKVxuICAgICAgICAgICAgbmFtZSA9IHByb2Nlc3MuZW52W0FfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMuQV9DT05DRVBUX1JPT1RfU0NPUEVdIHx8ICdyb290JztcblxuICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnYnJvd3NlcicpXG4gICAgICAgICAgICBuYW1lID0gKHdpbmRvdyBhcyBhbnkpW0FfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMuQV9DT05DRVBUX1JPT1RfU0NPUEVdIHx8ICdyb290JztcblxuICAgICAgICBpbnN0YW5jZS5fcm9vdCA9IG5ldyBBX1Njb3BlKHsgbmFtZSB9KTtcbiAgICB9XG5cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEhFTFBFUlMgJiBHVUFSRFMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBwYXJhbSBpcyBhbGxvd2VkIGZvciBzY29wZSBhbGxvY2F0aW9uLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uKHBhcmFtOiBhbnkpOiBwYXJhbSBpcyBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNGZWF0dXJlSW5zdGFuY2UocGFyYW0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBwYXJhbSBpcyBhbGxvd2VkIHRvIGJlIHJlZ2lzdGVyZWQgaW4gdGhlIGNvbnRleHQuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0FsbG93ZWRUb0JlUmVnaXN0ZXJlZChwYXJhbTogYW55KTogcGFyYW0gaXMgQV9UWVBFU19TY29wZURlcGVuZGVudENvbXBvbmVudHMge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0ZyYWdtZW50SW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNFcnJvckluc3RhbmNlKHBhcmFtKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBwYXJhbSBpcyBhbGxvd2VkIGZvciBtZXRhIHN0b3JhZ2UuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0FsbG93ZWRGb3JNZXRhKHBhcmFtOiBhbnkpOiBwYXJhbSBpcyBBX1RZUEVTX19NZXRhTGlua2VkQ29tcG9uZW50cyB7XG4gICAgICAgIHJldHVybiBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UocGFyYW0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBwYXJhbSBpcyBhbGxvd2VkIGZvciBtZXRhIHN0b3JhZ2UgYnkgY29uc3RydWN0b3IuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0FsbG93ZWRGb3JNZXRhQ29uc3RydWN0b3IocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfX01ldGFMaW5rZWRDb21wb25lbnRDb25zdHJ1Y3RvcnMge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVyQ29uc3RydWN0b3IocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3RvcihwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0VudGl0eUNvbnN0cnVjdG9yKHBhcmFtKTtcbiAgICB9XG5cblxuXG59IiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5cbmV4cG9ydCBjbGFzcyBBX0Fic3RyYWN0aW9uRXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcbiAgICAvKipcbiAgICAgKiBUaGlzIGVycm9yIGNvZGUgaW5kaWNhdGVzIHRoYXQgdGhlcmUgd2FzIGFuIGlzc3VlIGV4dGVuZGluZyB0aGUgYWJzdHJhY3Rpb24gZXhlY3V0aW9uXG4gICAgICovXG4gICAgc3RhdGljIHJlYWRvbmx5IEFic3RyYWN0aW9uRXh0ZW5zaW9uRXJyb3IgPSAnVW5hYmxlIHRvIGV4dGVuZCBhYnN0cmFjdGlvbiBleGVjdXRpb24nO1xuXG59IiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fQWJzdHJhY3Rpb25EZWNvcmF0b3JDb25maWcsXG4gICAgQV9UWVBFU19fQWJzdHJhY3Rpb25EZWNvcmF0b3JEZXNjcmlwdG9yXG59IGZyb20gXCIuL0EtQWJzdHJhY3Rpb24udHlwZXNcIjtcbmltcG9ydCB7IEFfQ29tcG9uZW50IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db250YWluZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ29udGFpbmVyTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5tZXRhXCI7XG5pbXBvcnQgeyBBX0NvbXBvbmVudE1ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQubWV0YVwiO1xuaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtTWV0YS9BLU1ldGEuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db25jZXB0L0EtQ29uY2VwdC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9uIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29uY2VwdC9BLUNvbmNlcHQudHlwZXNcIjtcbmltcG9ydCB7IEFfQWJzdHJhY3Rpb25FcnJvciB9IGZyb20gXCIuL0EtQWJzdHJhY3Rpb24uZXJyb3JcIjtcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlclwiO1xuXG5cbi8qKlxuICogQS1BYnN0cmFjdGlvbiBFeHRlbmQgZGVjb3JhdG9yIGFsbG93cyB0byBleHRlbmRzIGJlaGF2aW9yIG9mIGVhY2ggY29uY2VwdCBhYnN0cmFjdGlvbiBleGVjdXRpb24uIFxuICogSW4gY2FzZSBzb21lIGNvbXBvbmVudHMgb3IgY29udGFpbmVycyByZXF1aXJlcyB0byBleHRlbmQgdGhlIGJlaGF2aW9yIG9mIHRoZSBhYnN0cmFjdGlvbiBsaWtlICdzdGFydCcsICdidWlsZCcgb3IgJ2RlcGxveSdcbiAqIGZvciBleGFtcGxlLCB0aGlzIGRlY29yYXRvciBhbGxvd3MgdG8gZG8gc28uICAgIFxuICogXG4gKiBAcGFyYW0gbmFtZSAtIGFic3RyYWN0aW9uIG5hbWUgXG4gKiBAcGFyYW0gY29uZmlnIC0gY29uZmlndXJhdGlvbiBvZiB0aGUgYWJzdHJhY3Rpb24gZXh0ZW5zaW9uXG4gKiBAcmV0dXJucyBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfQWJzdHJhY3Rpb25fRXh0ZW5kKFxuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIENvbmNlcHQgQWJzdHJhY3Rpb24gdG8gZXh0ZW5kXG4gICAgICovXG4gICAgbmFtZTogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucyxcbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIG9mIHRoZSBBYnN0cmFjdGlvbiBFeHRlbnNpb25cbiAgICAgKiBcbiAgICAgKi9cbiAgICBjb25maWc6IFBhcnRpYWw8QV9UWVBFU19fQWJzdHJhY3Rpb25EZWNvcmF0b3JDb25maWc+ID0ge31cbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICAgIHRhcmdldDogQV9Db250YWluZXIgfCBBX0NvbXBvbmVudCxcbiAgICAgICAgcHJvcGVydHlLZXk6IHN0cmluZyxcbiAgICAgICAgZGVzY3JpcHRvcjogQV9UWVBFU19fQWJzdHJhY3Rpb25EZWNvcmF0b3JEZXNjcmlwdG9yXG4gICAgKSB7XG4gICAgICAgIC8vIGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZSh0YXJnZXQpXG5cbiAgICAgICAgaWYgKCFuYW1lKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfQWJzdHJhY3Rpb25FcnJvcihcbiAgICAgICAgICAgICAgICBBX0Fic3RyYWN0aW9uRXJyb3IuQWJzdHJhY3Rpb25FeHRlbnNpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgQWJzdHJhY3Rpb24gbmFtZSBtdXN0IGJlIHByb3ZpZGVkIHRvIGV4dGVuZCBhYnN0cmFjdGlvbiBmb3IgJyR7Y29tcG9uZW50TmFtZX0nLmAsXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIC8vICBPbmx5IENvbnRhaW5lcnMgYW5kIENvbXBvbmVudHMgY2FuIGV4dGVuZCBDb25jZXB0IEFic3RyYWN0aW9uc1xuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc0NvbnN0cnVjdG9yQXZhaWxhYmxlRm9yQWJzdHJhY3Rpb24odGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfQWJzdHJhY3Rpb25FcnJvcihcbiAgICAgICAgICAgICAgICBBX0Fic3RyYWN0aW9uRXJyb3IuQWJzdHJhY3Rpb25FeHRlbnNpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGV4dGVuZCBBYnN0cmFjdGlvbiAnJHtuYW1lfScgZm9yICcke2NvbXBvbmVudE5hbWV9Jy4gT25seSBBLUNvbnRhaW5lcnMgYW5kIEEtQ29tcG9uZW50cyBjYW4gZXh0ZW5kIEFic3RyYWN0aW9ucy5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtZXRhS2V5O1xuICAgICAgICBjb25zdCBtZXRhOiBBX0NvbnRhaW5lck1ldGEgfCBBX0NvbXBvbmVudE1ldGEgPSBBX0NvbnRleHQubWV0YSh0YXJnZXQpO1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJDb25zdHJ1Y3Rvcih0YXJnZXQpIHx8IEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuQUJTVFJBQ1RJT05TXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHRhcmdldCkgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5BQlNUUkFDVElPTlNcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZXROYW1lID0gYENPTkNFUFRfQUJTVFJBQ1RJT046OiR7bmFtZX1gO1xuXG4gICAgICAgIC8vIEdldCB0aGUgZXhpc3RlZCBtZXRhZGF0YSBvciBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIGNvbnN0IGV4aXN0ZWRNZXRhOiBBX01ldGE8e1xuICAgICAgICAgICAgW0tleTogc3RyaW5nXTogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9uW107XG4gICAgICAgIH0+ID0gbWV0YS5nZXQobWV0YUtleSkgP1xuICAgICAgICAgICAgICAgIG5ldyBBX01ldGEoKS5mcm9tKG1ldGEuZ2V0KG1ldGFLZXkpKVxuICAgICAgICAgICAgICAgIDogbmV3IEFfTWV0YSgpO1xuXG4gICAgICAgIC8vIFNldCB0aGUgbWV0YWRhdGEgb2YgdGhlIG1ldGhvZCB0byBkZWZpbmUgYSBjdXN0b20gU3RhZ2Ugd2l0aCBuYW1lXG4gICAgICAgIGNvbnN0IGV4aXN0ZWRNZXRhVmFsdWUgPSBbXG4gICAgICAgICAgICAuLi4oZXhpc3RlZE1ldGEuZ2V0KHNldE5hbWUpIHx8IFtdKVxuICAgICAgICBdO1xuXG4gICAgICAgIGNvbnN0IGV4aXN0ZWRJbmRleCA9IGV4aXN0ZWRNZXRhVmFsdWUuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5oYW5kbGVyID09PSBwcm9wZXJ0eUtleSk7XG5cbiAgICAgICAgY29uc3QgYWJzdHJhY3Rpb24gPSB7XG4gICAgICAgICAgICBuYW1lOiBzZXROYW1lLFxuICAgICAgICAgICAgaGFuZGxlcjogcHJvcGVydHlLZXksXG4gICAgICAgICAgICBiZWhhdmlvcjogY29uZmlnLmJlaGF2aW9yIHx8ICdzeW5jJyxcbiAgICAgICAgICAgIHRocm93T25FcnJvcjogY29uZmlnLnRocm93T25FcnJvciAhPT0gdW5kZWZpbmVkID8gY29uZmlnLnRocm93T25FcnJvciA6IHRydWUsXG5cbiAgICAgICAgICAgIGJlZm9yZTogQV9UeXBlR3VhcmRzLmlzQXJyYXkoY29uZmlnLmJlZm9yZSlcbiAgICAgICAgICAgICAgICA/IG5ldyBSZWdFeHAoYF4ke2NvbmZpZy5iZWZvcmUuam9pbignfCcpLnJlcGxhY2UoL1xcLi9nLCAnXFxcXC4nKX0kYCkuc291cmNlXG4gICAgICAgICAgICAgICAgOiBjb25maWcuYmVmb3JlIGluc3RhbmNlb2YgUmVnRXhwXG4gICAgICAgICAgICAgICAgICAgID8gY29uZmlnLmJlZm9yZS5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgOiAnJyxcbiAgICAgICAgICAgIGFmdGVyOiBBX1R5cGVHdWFyZHMuaXNBcnJheShjb25maWcuYWZ0ZXIpXG4gICAgICAgICAgICAgICAgPyBuZXcgUmVnRXhwKGBeJHtjb25maWcuYWZ0ZXIuam9pbignfCcpLnJlcGxhY2UoL1xcLi9nLCAnXFxcXC4nKX0kYCkuc291cmNlXG4gICAgICAgICAgICAgICAgOiBjb25maWcuYWZ0ZXIgaW5zdGFuY2VvZiBSZWdFeHBcbiAgICAgICAgICAgICAgICAgICAgPyBjb25maWcuYWZ0ZXIuc291cmNlXG4gICAgICAgICAgICAgICAgICAgIDogJycsXG5cbiAgICAgICAgICAgIG92ZXJyaWRlOiBBX1R5cGVHdWFyZHMuaXNBcnJheShjb25maWcub3ZlcnJpZGUpXG4gICAgICAgICAgICAgICAgPyBuZXcgUmVnRXhwKGBeJHtjb25maWcub3ZlcnJpZGUuam9pbignfCcpLnJlcGxhY2UoL1xcLi9nLCAnXFxcXC4nKX0kYCkuc291cmNlXG4gICAgICAgICAgICAgICAgOiBjb25maWcuYWZ0ZXIgaW5zdGFuY2VvZiBSZWdFeHBcbiAgICAgICAgICAgICAgICAgICAgPyBjb25maWcuYWZ0ZXIuc291cmNlXG4gICAgICAgICAgICAgICAgICAgIDogJycsXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXhpc3RlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBleGlzdGluZyBtZXRob2QgaW4gdGhlIG1ldGFkYXRhXG4gICAgICAgICAgICBleGlzdGVkTWV0YVZhbHVlW2V4aXN0ZWRJbmRleF0gPSBhYnN0cmFjdGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgbmV3IG1ldGhvZCB0byB0aGUgbWV0YWRhdGFcbiAgICAgICAgICAgIGV4aXN0ZWRNZXRhVmFsdWUucHVzaChhYnN0cmFjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIG1ldGFkYXRhIG9mIHRoZSBtZXRob2QgdG8gZGVmaW5lIGEgY3VzdG9tIEZlYXR1cmUgd2l0aCBuYW1lXG4gICAgICAgIGV4aXN0ZWRNZXRhLnNldChzZXROYW1lLCBleGlzdGVkTWV0YVZhbHVlKTtcblxuICAgICAgICAvLyAgVXBkYXRlIHRoZSBtZXRhZGF0YSBvZiB0aGUgY29udGFpbmVyIHdpdGggdGhlIG5ldyBTdGFnZSBkZWZpbml0aW9uXG4gICAgICAgIEFfQ29udGV4dFxuICAgICAgICAgICAgLm1ldGEodGFyZ2V0KVxuICAgICAgICAgICAgLnNldChcbiAgICAgICAgICAgICAgICBtZXRhS2V5LFxuICAgICAgICAgICAgICAgIGV4aXN0ZWRNZXRhXG4gICAgICAgICAgICApO1xuICAgIH07XG59XG4iLCAiaW1wb3J0IHsgQV9BYnN0cmFjdGlvbl9FeHRlbmQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1BYnN0cmFjdGlvbi9BLUFic3RyYWN0aW9uLUV4dGVuZC5kZWNvcmF0b3JcIjtcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BYnN0cmFjdGlvbl9Jbml0IH0gZnJvbSBcIi4vQS1BYnN0cmFjdGlvbi50eXBlc1wiO1xuaW1wb3J0IHsgQV9TY29wZSB9IGZyb20gXCIuLi9BLVNjb3BlL0EtU2NvcGUuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCIuLi9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zIH0gZnJvbSBcIi4uL0EtQ29uY2VwdC9BLUNvbmNlcHQuY29uc3RhbnRzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9BYnN0cmFjdGlvbiB7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgQWJzdHJhY3Rpb24gZS5nLiAnZGVwbG95JywgJ3N0YXJ0JywgJ3Rlc3QnLCBldGMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9uYW1lOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zO1xuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgZmVhdHVyZXMgdGhhdCBhcmUgcGFydCBvZiB0aGlzIEFic3RyYWN0aW9uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9mZWF0dXJlczogQV9GZWF0dXJlW10gPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgRmVhdHVyZSBjdXJyZW50bHkgYmVpbmcgcHJvY2Vzc2VkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9jdXJyZW50PzogQV9GZWF0dXJlO1xuICAgIC8qKlxuICAgICAqIEFjdHVhbCBJbmRleCBvZiB0aGUgY3VycmVudCBGZWF0dXJlIGJlaW5nIHByb2Nlc3NlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfaW5kZXg6IG51bWJlciA9IDA7XG5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmRzIEEtQWJzdHJhY3Rpb24gd2l0aCBhZGRpdGlvbmFsIG1ldGhvZHNcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IEV4dGVuZCgpOiB0eXBlb2YgQV9BYnN0cmFjdGlvbl9FeHRlbmQge1xuICAgICAgICByZXR1cm4gQV9BYnN0cmFjdGlvbl9FeHRlbmQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQS1BYnN0cmFjdGlvbiBpcyBhbiBvYmplY3QgdGhhdCBpcyBjb21tb24gZm9yIGFueSBhcHBsaWNhdGlvbi4gXG4gICAgICogQnkgcHJvdmlkaW5nIGNvbXBvbmVudHMgYW5kIGNyZWF0aW5nIGFic3RyYWN0aW9uIGV4dGVuc2lvbnMgaXQncyBwb3NzaWJsZSB0byBjcmVhdGUgYSB1bmlxdWUgYmVoYXZpb3Igb2YgdGhlIHdob2xlIHNvbHV0aW9uLlxuICAgICAqIFxuICAgICAqIEV2ZXJ5IGFwcGxpY2F0aW9uIGhhcyBiYXNpYyBhYnN0cmFjdGlvbnMgbGlrZSAnc3RhcnQnLCAnc3RvcCcsICdkZXBsb3knLCAndGVzdCcsIGV0Yy4gXG4gICAgICogVGhleSBjYW4gYmUgZWFzaWx5IGV4dGVuZGVkIHdpdGggYWRkaXRpb25hbCBsb2dpYyBmcm9tIGJvdGggY29udGFpbmVycyBhbmQgY29tcG9uZW50cy5cbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogUGFyYW1ldGVycyB0byBkZWZpbmUgdGhlIEEtQWJzdHJhY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtczogQV9UWVBFU19fQWJzdHJhY3Rpb25fSW5pdFxuICAgICkge1xuICAgICAgICB0aGlzLl9uYW1lID0gcGFyYW1zLm5hbWU7XG5cbiAgICAgICAgdGhpcy5fZmVhdHVyZXMgPSBwYXJhbXMuY29udGFpbmVycy5tYXAoY29udGFpbmVyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gQV9Db250ZXh0LmFic3RyYWN0aW9uVGVtcGxhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy5fbmFtZSxcbiAgICAgICAgICAgICAgICBjb250YWluZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFfRmVhdHVyZSh7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5fbmFtZSxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fY3VycmVudCA9IHRoaXMuX2ZlYXR1cmVzWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5hbWUgb2YgdGhlIEFic3RyYWN0aW9uXG4gICAgICovXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMuX25hbWU7IH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkXG4gICAgICovXG4gICAgZ2V0IGZlYXR1cmUoKTogQV9GZWF0dXJlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGNoZWNrcyBpZiB0aGUgQS1GZWF0dXJlIGlzIGRvbmVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBnZXQgaXNEb25lKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gIXRoaXMuZmVhdHVyZVxuICAgICAgICAgICAgfHwgdGhpcy5faW5kZXggPj0gdGhpcy5fZmVhdHVyZXMubGVuZ3RoXG5cbiAgICB9XG5cblxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhdG9yPEFfRmVhdHVyZSwgYW55PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBDdXN0b20gbmV4dCBtZXRob2RcbiAgICAgICAgICAgIG5leHQ6ICgpOiBJdGVyYXRvclJlc3VsdDxBX0ZlYXR1cmUsIGFueT4gPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0RvbmUpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5fZmVhdHVyZXNbdGhpcy5faW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5fY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gdW5kZWZpbmVkOyAvLyBSZXNldCBjdXJyZW50IG9uIGVuZFxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBtb3ZlcyB0aGUgQWJzdHJhY3Rpb24gcHJvY2Vzc2luZyB0byB0aGUgbmV4dCBGZWF0dXJlIGluIHRoZSBsaXN0XG4gICAgICogXG4gICAgICogQHBhcmFtIHN0YWdlIFxuICAgICAqL1xuICAgIG5leHQoc3RhZ2UpIHtcbiAgICAgICAgaWYgKHRoaXMuX2luZGV4ID49IHRoaXMuX2ZlYXR1cmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhZ2VJbmRleCA9IHRoaXMuX2ZlYXR1cmVzLmluZGV4T2Yoc3RhZ2UpO1xuXG4gICAgICAgIHRoaXMuX2luZGV4ID0gc3RhZ2VJbmRleCArIDE7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBwcm9jZXNzIGFsbCBzdGFnZXMgb2YgdGhlIEFic3RyYWN0aW9uXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgcHJvY2VzcyhcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbG93cyB0byBvdmVycmlkZSB0aGUgc2NvcGUgaW4gd2hpY2ggdGhlIEFic3RyYWN0aW9uIHdpbGwgYmUgcHJvY2Vzc2VkXG4gICAgICAgICAqIFxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlXG4gICAgKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRG9uZSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBmb3IgKGNvbnN0IGZlYXR1cmUgb2YgdGhpcy5fZmVhdHVyZXMpIHtcblxuICAgICAgICAgICAgYXdhaXQgZmVhdHVyZS5wcm9jZXNzKHNjb3BlKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiZXhwb3J0IGVudW0gQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucyB7XG4gICAgLyoqXG4gICAgICogUnVuIHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIFJ1biA9ICdydW4nLFxuICAgIC8qKlxuICAgICAqIEJ1aWxkIHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIEJ1aWxkID0gJ2J1aWxkJyxcbiAgICAvKipcbiAgICAgKiBQdWJsaXNoIHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIFB1Ymxpc2ggPSAncHVibGlzaCcsXG4gICAgLyoqXG4gICAgICogRGVwbG95IHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIERlcGxveSA9ICdkZXBsb3knLFxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgTG9hZCA9ICdsb2FkJyxcbiAgICAvKipcbiAgICAgKiBTdGFydCB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBTdGFydCA9ICdzdGFydCcsXG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBTdG9wID0gJ3N0b3AnLFxufVxuXG5cblxuZXhwb3J0IGVudW0gQV9UWVBFU19fQ29uY2VwdE1ldGFLZXkge1xuICAgIExJRkVDWUNMRSA9ICdhLWNvbXBvbmVudC1leHRlbnNpb25zJyxcbn0iLCAiaW1wb3J0IHsgQV9Db250YWluZXIgfSBmcm9tIFwiLi4vQS1Db250YWluZXIvQS1Db250YWluZXIuY2xhc3NcIjtcbmltcG9ydCB7IEFfQWJzdHJhY3Rpb24gfSBmcm9tIFwiLi4vQS1BYnN0cmFjdGlvbi9BLUFic3RyYWN0aW9uLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0Fic3RyYWN0aW9uX0V4dGVuZCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUFic3RyYWN0aW9uL0EtQWJzdHJhY3Rpb24tRXh0ZW5kLmRlY29yYXRvclwiO1xuaW1wb3J0IHsgQV9TY29wZSB9IGZyb20gXCIuLi9BLVNjb3BlL0EtU2NvcGUuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCIuLi9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zIH0gZnJvbSBcIi4vQS1Db25jZXB0LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdF9Jbml0IH0gZnJvbSBcIi4vQS1Db25jZXB0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZyB9IGZyb20gXCIuLi9BLUFic3RyYWN0aW9uL0EtQWJzdHJhY3Rpb24udHlwZXNcIjtcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9Db25jZXB0PFxuICAgIF9JbXBvcnRzIGV4dGVuZHMgQV9Db250YWluZXJbXSA9IEFfQ29udGFpbmVyW11cbj4ge1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT0gIFNUQVRJQyBMSUZFQ1lDTEUgREVDT1JBVE9SUyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgY29uY2VwdC4gVGhpcyBzdGVwIHJ1bnMgYmVmb3JlIGFueSBvdGhlciBzdGVwcyB0byBlbnN1cmUgdGhhdCBhbGwgY29tcG9uZW50cyBhcmUgbG9hZGVkLlxuICAgICAqL1xuICAgIHN0YXRpYyBMb2FkKFxuICAgICAgICAvKipcbiAgICAgICAgICogcHJvdmlkZSBhZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBhYnN0cmFjdGlvbiBleHRlbnNpb24gdG8gbWFrZSBpdCBkZXBlbmRlbnQgb24gb3RoZXIgZmFjdG9yc1xuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogUGFydGlhbDxBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZz5cbiAgICApOiBSZXR1cm5UeXBlPHR5cGVvZiBBX0Fic3RyYWN0aW9uX0V4dGVuZD4ge1xuICAgICAgICByZXR1cm4gQV9BYnN0cmFjdGlvbi5FeHRlbmQoQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5Mb2FkLCBjb25maWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2ggdGhlIGNvbmNlcHQgdG8gQURBQVMgcGxhdGZvcm0uIChPciBhbnkgb3RoZXIgcGxhY2UgZGVmaW5lZCBpbiB0aGUgY29uY2VwdClcbiAgICAgKlxuICAgICAqIFshXSBUbyBleHRlbmQgdGhlIGxvZ2ljIGp1c3QgY3JlYXRlIGEgY3VzdG9tIGNvbnRhaW5lcnMgYW5kIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yLlxuICAgICAqL1xuICAgIHN0YXRpYyBQdWJsaXNoKFxuICAgICAgICAvKipcbiAgICAgICAgKiBwcm92aWRlIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIGFic3RyYWN0aW9uIGV4dGVuc2lvbiB0byBtYWtlIGl0IGRlcGVuZGVudCBvbiBvdGhlciBmYWN0b3JzXG4gICAgICAgICovXG4gICAgICAgIGNvbmZpZz86IFBhcnRpYWw8QV9UWVBFU19fQWJzdHJhY3Rpb25EZWNvcmF0b3JDb25maWc+XG4gICAgKTogUmV0dXJuVHlwZTx0eXBlb2YgQV9BYnN0cmFjdGlvbl9FeHRlbmQ+IHtcbiAgICAgICAgcmV0dXJuIEFfQWJzdHJhY3Rpb24uRXh0ZW5kKEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuUHVibGlzaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVwbG95IHRoZSBjb25jZXB0IHRvIHRoZSBlbnZpcm9ubWVudC5cbiAgICAgKi9cbiAgICBzdGF0aWMgRGVwbG95KFxuICAgICAgICAvKipcbiAgICAgICAgKiBwcm92aWRlIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIGFic3RyYWN0aW9uIGV4dGVuc2lvbiB0byBtYWtlIGl0IGRlcGVuZGVudCBvbiBvdGhlciBmYWN0b3JzXG4gICAgICAgICovXG4gICAgICAgIGNvbmZpZz86IFBhcnRpYWw8QV9UWVBFU19fQWJzdHJhY3Rpb25EZWNvcmF0b3JDb25maWc+XG4gICAgKSB7XG4gICAgICAgIHJldHVybiBBX0Fic3RyYWN0aW9uLkV4dGVuZChBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLkRlcGxveSwgY29uZmlnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21waWxlcyB0aGUgQ29uY2VwdCBpbiBjYXNlIHRoZXJlIGFyZSBzb21lIGNvbnRhaW5lcnMgdGhhdCByZXF1aXJlIHRoYXQuIFxuICAgICAqIFxuICAgICAqIENhbiBiZSB1c2VkIGZvciBzdGF0aWMgd2Vic2l0ZXMgb3IgYW55IG90aGVyIGNvbmNlcHQgdGhhdCByZXF1aXJlcyBhIGJ1aWxkIHN0ZXAuXG4gICAgICogXG4gICAgICovXG4gICAgc3RhdGljIEJ1aWxkKFxuICAgICAgICAvKipcbiAgICAgICAgKiBwcm92aWRlIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIGFic3RyYWN0aW9uIGV4dGVuc2lvbiB0byBtYWtlIGl0IGRlcGVuZGVudCBvbiBvdGhlciBmYWN0b3JzXG4gICAgICAgICovXG4gICAgICAgIGNvbmZpZz86IFBhcnRpYWw8QV9UWVBFU19fQWJzdHJhY3Rpb25EZWNvcmF0b3JDb25maWc+XG4gICAgKSB7XG4gICAgICAgIHJldHVybiBBX0Fic3RyYWN0aW9uLkV4dGVuZChBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLkJ1aWxkLCBjb25maWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBNYWluIGV4ZWN1dGlvbiBvZiB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBzdGF0aWMgUnVuKFxuICAgICAgICAvKipcbiAgICAgICAgKiBwcm92aWRlIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIGFic3RyYWN0aW9uIGV4dGVuc2lvbiB0byBtYWtlIGl0IGRlcGVuZGVudCBvbiBvdGhlciBmYWN0b3JzXG4gICAgICAgICovXG4gICAgICAgIGNvbmZpZz86IFBhcnRpYWw8QV9UWVBFU19fQWJzdHJhY3Rpb25EZWNvcmF0b3JDb25maWc+XG4gICAgKSB7XG4gICAgICAgIHJldHVybiBBX0Fic3RyYWN0aW9uLkV4dGVuZChBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLlJ1biwgY29uZmlnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgU3RhcnQgdGhlIGNvbmNlcHQuIFVzZXMgZm9yIHNlcnZlcnMgb3IgYW55IG90aGVyIGJhY2tncm91bmQgc2VydmljZXMuXG4gICAgICovXG4gICAgc3RhdGljIFN0YXJ0KFxuICAgICAgICAvKipcbiAgICAgICAgKiBwcm92aWRlIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIGFic3RyYWN0aW9uIGV4dGVuc2lvbiB0byBtYWtlIGl0IGRlcGVuZGVudCBvbiBvdGhlciBmYWN0b3JzXG4gICAgICAgICovXG4gICAgICAgIGNvbmZpZz86IFBhcnRpYWw8QV9UWVBFU19fQWJzdHJhY3Rpb25EZWNvcmF0b3JDb25maWc+XG4gICAgKSB7XG4gICAgICAgIHJldHVybiBBX0Fic3RyYWN0aW9uLkV4dGVuZChBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLlN0YXJ0LCBjb25maWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3AgdGhlIGNvbmNlcHQuIFVzZXMgZm9yIHNlcnZlcnMgb3IgYW55IG90aGVyIGJhY2tncm91bmQgc2VydmljZXMuXG4gICAgICovXG4gICAgc3RhdGljIFN0b3AoXG4gICAgICAgIC8qKlxuICAgICAgICAqIHByb3ZpZGUgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgYWJzdHJhY3Rpb24gZXh0ZW5zaW9uIHRvIG1ha2UgaXQgZGVwZW5kZW50IG9uIG90aGVyIGZhY3RvcnNcbiAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogUGFydGlhbDxBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZz5cbiAgICApIHtcbiAgICAgICAgcmV0dXJuIEFfQWJzdHJhY3Rpb24uRXh0ZW5kKEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuU3RvcCwgY29uZmlnKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIGNvbmNlcHRcbiAgICAgKiBcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgbmFtZSBvZiB0aGUgQ29uY2VwdCBpcyAnYS1jb25jZXB0J1xuICAgICAqL1xuICAgIHByaXZhdGUgX25hbWUhOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIGludGVybmFsbHkgZGVmaW5lZCBjb250YWluZXJzIHRoYXQgdGhlIGNvbmNlcHQgdXNlcy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2NvbnRhaW5lcnMhOiBBX0NvbnRhaW5lcltdO1xuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09ICBNQUlOIE1ldGhvZHMgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICAgIC8qKlxuICAgICAqIEEtQ29uY2VwdCBpcyBhIHBsYWNlaG9sZGVyIGZvciB0aGUgY29uY2VwdCBvZiB0aGUgYW55IHByb2dyYW0uXG4gICAgICogXG4gICAgICogQ29uY2VwdCAtIGNvdWxkIGJlIGFueSBQcm9ncmFtIHJlZ2FyZGxlc3MgZW52aXJvbm1lbnQgYW5kIGl0J3MgZ29hbC5cbiAgICAgKiBJdCBjb3VsZCBiZSBtb2JpbGUsIHdlYiBvciBzaW1wbGUgaHRtbCBwYWdlLlxuICAgICAqIEFsbCBkZXBlbmRzIG9uIENvbnRhaW5lcnMgYW5kIENvbXBvbmVudHMgaW5zdGFsbGVkIGFuZCBwcm92aWRlZCBpbiB0aGUgQ29uY2VwdC5cbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBbIV0gQ29uY2VwdCBvcGVyYXRlcyBPTkxZIHdpdGggYWxsIENvbXBvbmVudHMgYW5kIENvbnRhaW5lcnMgcHJvdmlkZWQgdG8gYWNoaWV2ZSB0aGUgZ29hbC5cbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcHJvcHMgLSBJbml0aWFsaXphdGlvbiBwcm9wZXJ0aWVzIGZvciB0aGUgQ29uY2VwdFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgcHJvcHM6IEFfVFlQRVNfX0NvbmNlcHRfSW5pdDxfSW1wb3J0cz5cbiAgICApIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IHByb3BzLm5hbWUgfHwgQV9Db250ZXh0LnJvb3QubmFtZTtcblxuICAgICAgICBpZiAocHJvcHMuY29tcG9uZW50cyAmJiBwcm9wcy5jb21wb25lbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHByb3BzLmNvbXBvbmVudHMuZm9yRWFjaChjb21wb25lbnQgPT4gdGhpcy5zY29wZS5yZWdpc3Rlcihjb21wb25lbnQpKVxuXG4gICAgICAgIGlmIChwcm9wcy5mcmFnbWVudHMgJiYgcHJvcHMuZnJhZ21lbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHByb3BzLmZyYWdtZW50cy5mb3JFYWNoKGZyYWdtZW50ID0+IHRoaXMuc2NvcGUucmVnaXN0ZXIoZnJhZ21lbnQpKVxuXG4gICAgICAgIGlmIChwcm9wcy5lbnRpdGllcyAmJiBwcm9wcy5lbnRpdGllcy5sZW5ndGgpXG4gICAgICAgICAgICBwcm9wcy5lbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB0aGlzLnNjb3BlLnJlZ2lzdGVyKGVudGl0eSBhcyBhbnkpKVxuXG5cbiAgICAgICAgdGhpcy5fY29udGFpbmVycyA9IHByb3BzLmNvbnRhaW5lcnMgfHwgW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmFtZSBvZiB0aGUgY29uY2VwdFxuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LnJvb3QubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHByaW1hcnkgUm9vdCBzY29wZSBvZiB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBnZXQgc2NvcGUoKSB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQucm9vdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGNsYXNzIG9yIHZhbHVlIGluIHRoZSBjb25jZXB0IHNjb3BlLlxuICAgICAqL1xuICAgIGdldCByZWdpc3RlcigpOiBBX1Njb3BlWydyZWdpc3RlciddIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUucmVnaXN0ZXIuYmluZCh0aGlzLnNjb3BlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlIGEgY2xhc3Mgb3IgdmFsdWUgZnJvbSB0aGUgY29uY2VwdCBzY29wZS5cbiAgICAgKi9cbiAgICBnZXQgcmVzb2x2ZSgpOiBBX1Njb3BlWydyZXNvbHZlJ10ge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5yZXNvbHZlLmJpbmQodGhpcy5zY29wZSk7XG4gICAgfVxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09ICBMSUZFQ1lDTEUgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIGFzeW5jIGxvYWQoXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgY29uc3QgYWJzdHJhY3Rpb24gPSBuZXcgQV9BYnN0cmFjdGlvbih7XG4gICAgICAgICAgICBuYW1lOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLkxvYWQsXG4gICAgICAgICAgICBjb250YWluZXJzOiB0aGlzLl9jb250YWluZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBhYnN0cmFjdGlvbi5wcm9jZXNzKHNjb3BlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUnVuIHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIGFzeW5jIHJ1bihcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlLFxuICAgICkge1xuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbiA9IG5ldyBBX0Fic3RyYWN0aW9uKHtcbiAgICAgICAgICAgIG5hbWU6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuUnVuLFxuICAgICAgICAgICAgY29udGFpbmVyczogdGhpcy5fY29udGFpbmVycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgYWJzdHJhY3Rpb24ucHJvY2VzcyhzY29wZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBjb25jZXB0LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbXMgXG4gICAgICovXG4gICAgYXN5bmMgc3RhcnQoXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgY29uc3QgYWJzdHJhY3Rpb24gPSBuZXcgQV9BYnN0cmFjdGlvbih7XG4gICAgICAgICAgICBuYW1lOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLlN0YXJ0LFxuICAgICAgICAgICAgY29udGFpbmVyczogdGhpcy5fY29udGFpbmVycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgYWJzdHJhY3Rpb24ucHJvY2VzcyhzY29wZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0b3AgdGhlIGNvbmNlcHQuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtcyBcbiAgICAgKi9cbiAgICBhc3luYyBzdG9wKFxuICAgICAgICBzY29wZT86IEFfU2NvcGUsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGFic3RyYWN0aW9uID0gbmV3IEFfQWJzdHJhY3Rpb24oe1xuICAgICAgICAgICAgbmFtZTogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5TdG9wLFxuICAgICAgICAgICAgY29udGFpbmVyczogdGhpcy5fY29udGFpbmVycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgYWJzdHJhY3Rpb24ucHJvY2VzcyhzY29wZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1aWxkIHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIGFzeW5jIGJ1aWxkKFxuICAgICAgICBzY29wZT86IEFfU2NvcGUsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGFic3RyYWN0aW9uID0gbmV3IEFfQWJzdHJhY3Rpb24oe1xuICAgICAgICAgICAgbmFtZTogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5CdWlsZCxcbiAgICAgICAgICAgIGNvbnRhaW5lcnM6IHRoaXMuX2NvbnRhaW5lcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IGFic3RyYWN0aW9uLnByb2Nlc3Moc2NvcGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXBsb3kgdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgYXN5bmMgZGVwbG95KFxuICAgICAgICBzY29wZT86IEFfU2NvcGUsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGFic3RyYWN0aW9uID0gbmV3IEFfQWJzdHJhY3Rpb24oe1xuICAgICAgICAgICAgbmFtZTogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5EZXBsb3ksXG4gICAgICAgICAgICBjb250YWluZXJzOiB0aGlzLl9jb250YWluZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBhYnN0cmFjdGlvbi5wcm9jZXNzKHNjb3BlKTtcblxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoIHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIGFzeW5jIHB1Ymxpc2goXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgY29uc3QgYWJzdHJhY3Rpb24gPSBuZXcgQV9BYnN0cmFjdGlvbih7XG4gICAgICAgICAgICBuYW1lOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLlB1Ymxpc2gsXG4gICAgICAgICAgICBjb250YWluZXJzOiB0aGlzLl9jb250YWluZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBhYnN0cmFjdGlvbi5wcm9jZXNzKHNjb3BlKTtcbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT0gIENBTEwgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbiAgICAvKipcbiAgICAgKiBDYWxsIHRoZSBzcGVjaWZpYyBtZXRob2Qgb2YgdGhlIGNvbmNlcHQgb3IgaW5jbHVkZWQgbW9kdWxlcy5cbiAgICAgKi9cbiAgICBhc3luYyBjYWxsPFxuICAgICAgICBLIGV4dGVuZHMgUmVjb3JkPF9JbXBvcnRzW251bWJlcl1bJ25hbWUnXSwgc3RyaW5nPlxuICAgID4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOYW1lIG9mIHRoZSBtZXRob2QgdG8gY2FsbFxuICAgICAgICAgKi9cbiAgICAgICAgbWV0aG9kOiBLW2tleW9mIEtdLFxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udGFpbmVyIGluIHdoaWNoIHRoZSBtZXRob2QgaXMgbG9jYXRlZFxuICAgICAgICAgKi9cbiAgICAgICAgY29udGFpbmVyOiBfSW1wb3J0c1tudW1iZXJdLFxuICAgICkge1xuICAgICAgICBjb25zdCBmZWF0dXJlID0gbmV3IEFfRmVhdHVyZSh7IG5hbWU6IG1ldGhvZCwgY29tcG9uZW50OiBjb250YWluZXIgfSk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IGZlYXR1cmUucHJvY2VzcygpO1xuICAgIH1cbn1cblxuXG5cblxuIiwgIlxuaW1wb3J0IHsgQV9Db250YWluZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY2xhc3NcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCIuLi9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9Db25jZXB0TWV0YSBleHRlbmRzIEFfTWV0YTxhbnk+IHtcblxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29udGFpbmVyczogQXJyYXk8QV9Db250YWluZXI+LFxuICAgICkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuXG59IiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5cbmV4cG9ydCBjbGFzcyBBX0RlcGVuZGVuY3lFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IEludmFsaWREZXBlbmRlbmN5VGFyZ2V0ID0gJ0ludmFsaWQgRGVwZW5kZW5jeSBUYXJnZXQnO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IEludmFsaWRMb2FkVGFyZ2V0ID0gJ0ludmFsaWQgTG9hZCBUYXJnZXQnO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IEludmFsaWRMb2FkUGF0aCA9ICdJbnZhbGlkIExvYWQgUGF0aCc7XG5cblxuICAgIHN0YXRpYyByZWFkb25seSBJbnZhbGlkRGVmYXVsdFRhcmdldCA9ICdJbnZhbGlkIERlZmF1bHQgVGFyZ2V0Jztcbn0iLCAiXG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtTWV0YS9BLU1ldGEuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhLCBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyB9IGZyb20gXCIuLi9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9EZXBlbmRlbmN5X0RlZmF1bHREZWNvcmF0b3JSZXR1cm4gfSBmcm9tIFwiLi9BLURlcGVuZGVuY3kudHlwZXNcIjtcbmltcG9ydCB7IEFfRGVwZW5kZW5jeUVycm9yIH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LmVycm9yXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyXCI7XG5cblxuLyoqXG4gKiBTaG91bGQgaW5kaWNhdGUgd2hpY2ggRGVmYXVsdCBpcyByZXF1aXJlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gQV9EZXBlbmRlbmN5X0RlZmF1bHQoXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3IgUGFyYW1ldGVycyB0aGF0IHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2VcbiAgICAgKi9cbiAgICAuLi5hcmdzOiBhbnlbXVxuKTogQV9UWVBFU19fQV9EZXBlbmRlbmN5X0RlZmF1bHREZWNvcmF0b3JSZXR1cm4ge1xuXG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgICB0YXJnZXQ6IEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzLFxuICAgICAgICBtZXRob2ROYW1lOiBzdHJpbmcgfCBzeW1ib2wgfCB1bmRlZmluZWQsXG4gICAgICAgIHBhcmFtZXRlckluZGV4OiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgLy8gZm9yIEVycm9yIGhhbmRsaW5nIHB1cnBvc2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHRhcmdldClcblxuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc1RhcmdldEF2YWlsYWJsZUZvckluamVjdGlvbih0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9EZXBlbmRlbmN5RXJyb3IoXG4gICAgICAgICAgICAgICAgQV9EZXBlbmRlbmN5RXJyb3IuSW52YWxpZERlZmF1bHRUYXJnZXQsXG4gICAgICAgICAgICAgICAgYEEtRGVmYXVsdCBjYW5ub3QgYmUgdXNlZCBvbiB0aGUgdGFyZ2V0IG9mIHR5cGUgJHt0eXBlb2YgdGFyZ2V0fSAoJHtjb21wb25lbnROYW1lfSlgXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBtZXRob2QgbmFtZSBvciAnY29uc3RydWN0b3InIGZvciBjb25zdHJ1Y3RvciBpbmplY3Rpb25zXG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IG1ldGhvZE5hbWUgPyBTdHJpbmcobWV0aG9kTmFtZSkgOiAnY29uc3RydWN0b3InO1xuICAgICAgICBsZXQgbWV0YUtleTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IodGFyZ2V0KSB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIG1ldGEgb3IgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICBjb25zdCBleGlzdGVkTWV0YSA9IEFfQ29udGV4dC5tZXRhKHRhcmdldCkuZ2V0KG1ldGFLZXkpIHx8IG5ldyBBX01ldGEoKTtcbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIGluamVjdGlvbnMgZm9yIHRoZSBtZXRob2Qgb3IgY3JlYXRlIGEgbmV3IGFycmF5XG4gICAgICAgIGNvbnN0IHBhcmFtc0FycmF5OiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhID0gZXhpc3RlZE1ldGEuZ2V0KG1ldGhvZCkgfHwgW107XG5cbiAgICAgICAgLy8gc2V0IHRoZSBwYXJhbWV0ZXIgaW5qZWN0aW9uIGluZm9cbiAgICAgICAgcGFyYW1zQXJyYXlbcGFyYW1ldGVySW5kZXhdID0ge1xuICAgICAgICAgICAgLi4uKHBhcmFtc0FycmF5W3BhcmFtZXRlckluZGV4XSB8fCB7fSksXG4gICAgICAgICAgICBkZWZhdWx0QXJnczogYXJncyxcbiAgICAgICAgICAgIGNyZWF0ZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIC8vIHNhdmUgYmFjayB0aGUgdXBkYXRlZCBpbmplY3Rpb25zIGFycmF5XG4gICAgICAgIGV4aXN0ZWRNZXRhLnNldChtZXRob2QsIHBhcmFtc0FycmF5KTtcblxuICAgICAgICAvLyBzYXZlIGJhY2sgdGhlIHVwZGF0ZWQgbWV0YSBpbmZvXG4gICAgICAgIEFfQ29udGV4dFxuICAgICAgICAgICAgLm1ldGEodGFyZ2V0KVxuICAgICAgICAgICAgLnNldChcbiAgICAgICAgICAgICAgICBtZXRhS2V5LFxuICAgICAgICAgICAgICAgIGV4aXN0ZWRNZXRhXG4gICAgICAgICAgICApO1xuICAgIH1cbn0iLCAiXG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtTWV0YS9BLU1ldGEuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhLCBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyB9IGZyb20gXCIuLi9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9EZXBlbmRlbmN5X0ZsYXREZWNvcmF0b3JSZXR1cm4gfSBmcm9tIFwiLi9BLURlcGVuZGVuY3kudHlwZXNcIjtcbmltcG9ydCB7IEFfRGVwZW5kZW5jeUVycm9yIH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LmVycm9yXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyXCI7XG5cblxuLyoqXG4gKiBTaG91bGQgaW5kaWNhdGUgd2hpY2ggZGVwZW5kZW5jeSBpcyByZXF1aXJlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gQV9EZXBlbmRlbmN5X0ZsYXQoKTogQV9UWVBFU19fQV9EZXBlbmRlbmN5X0ZsYXREZWNvcmF0b3JSZXR1cm4ge1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgICAgdGFyZ2V0OiBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyxcbiAgICAgICAgbWV0aG9kTmFtZTogc3RyaW5nIHwgc3ltYm9sIHwgdW5kZWZpbmVkLFxuICAgICAgICBwYXJhbWV0ZXJJbmRleDogbnVtYmVyXG4gICAgKSB7XG4gICAgICAgIC8vIGZvciBFcnJvciBoYW5kbGluZyBwdXJwb3Nlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZSh0YXJnZXQpXG5cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNUYXJnZXRBdmFpbGFibGVGb3JJbmplY3Rpb24odGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfRGVwZW5kZW5jeUVycm9yKFxuICAgICAgICAgICAgICAgIEFfRGVwZW5kZW5jeUVycm9yLkludmFsaWREZXBlbmRlbmN5VGFyZ2V0LFxuICAgICAgICAgICAgICAgIGBBLURlcGVuZGVuY3kgY2Fubm90IGJlIHVzZWQgb24gdGhlIHRhcmdldCBvZiB0eXBlICR7dHlwZW9mIHRhcmdldH0gKCR7Y29tcG9uZW50TmFtZX0pYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRldGVybWluZSB0aGUgbWV0aG9kIG5hbWUgb3IgJ2NvbnN0cnVjdG9yJyBmb3IgY29uc3RydWN0b3IgaW5qZWN0aW9uc1xuICAgICAgICBjb25zdCBtZXRob2QgPSBtZXRob2ROYW1lID8gU3RyaW5nKG1ldGhvZE5hbWUpIDogJ2NvbnN0cnVjdG9yJztcbiAgICAgICAgbGV0IG1ldGFLZXk7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHRhcmdldCkgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBleGlzdGluZyBtZXRhIG9yIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGEgPSBBX0NvbnRleHQubWV0YSh0YXJnZXQpLmdldChtZXRhS2V5KSB8fCBuZXcgQV9NZXRhKCk7XG4gICAgICAgIC8vIGdldCBleGlzdGluZyBpbmplY3Rpb25zIGZvciB0aGUgbWV0aG9kIG9yIGNyZWF0ZSBhIG5ldyBhcnJheVxuICAgICAgICBjb25zdCBwYXJhbXNBcnJheTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSA9IGV4aXN0ZWRNZXRhLmdldChtZXRob2QpIHx8IFtdO1xuXG4gICAgICAgIC8vIHNldCB0aGUgcGFyYW1ldGVyIGluamVjdGlvbiBpbmZvXG4gICAgICAgIHBhcmFtc0FycmF5W3BhcmFtZXRlckluZGV4XSA9IHtcbiAgICAgICAgICAgIC4uLihwYXJhbXNBcnJheVtwYXJhbWV0ZXJJbmRleF0gfHwge30pLFxuICAgICAgICAgICAgZmxhdDogdHJ1ZSxcbiAgICAgICAgfVxuICAgICAgICAvLyBzYXZlIGJhY2sgdGhlIHVwZGF0ZWQgaW5qZWN0aW9ucyBhcnJheVxuICAgICAgICBleGlzdGVkTWV0YS5zZXQobWV0aG9kLCBwYXJhbXNBcnJheSk7XG5cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIG1ldGEgaW5mb1xuICAgICAgICBBX0NvbnRleHRcbiAgICAgICAgICAgIC5tZXRhKHRhcmdldClcbiAgICAgICAgICAgIC5zZXQoXG4gICAgICAgICAgICAgICAgbWV0YUtleSxcbiAgICAgICAgICAgICAgICBleGlzdGVkTWV0YVxuICAgICAgICAgICAgKTtcbiAgICB9XG59IiwgIlxuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSwgQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMgfSBmcm9tIFwiLi4vQS1JbmplY3QvQS1JbmplY3QudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfRGVwZW5kZW5jeV9Mb2FkRGVjb3JhdG9yUmV0dXJuIH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LnR5cGVzXCI7XG5pbXBvcnQgeyBBX0RlcGVuZGVuY3lFcnJvciB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS5lcnJvclwiO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlclwiO1xuXG5cbi8qKlxuICogU2hvdWxkIGluZGljYXRlIHdoaWNoIExvYWQgaXMgcmVxdWlyZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfRGVwZW5kZW5jeV9Mb2FkKFxuICAgIC8qKlxuICAgICAqIFBhdGggdG8gbG9hZCB0aGUgZGVwZW5kZW5jeSBmcm9tXG4gICAgICovXG4gICAgcGF0aDogc3RyaW5nXG4pOiBBX1RZUEVTX19BX0RlcGVuZGVuY3lfTG9hZERlY29yYXRvclJldHVybiB7XG5cbiAgICBpZiAoIXBhdGggfHwgdHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBBX0RlcGVuZGVuY3lFcnJvcihcbiAgICAgICAgICAgIEFfRGVwZW5kZW5jeUVycm9yLkludmFsaWRMb2FkUGF0aCxcbiAgICAgICAgICAgIGBBLUxvYWQgZGVjb3JhdG9yIHJlcXVpcmVzIGEgdmFsaWQgcGF0aCBzdHJpbmcgdG8gdGhlIGRlcGVuZGVuY3lgXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgICAgdGFyZ2V0OiBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyxcbiAgICAgICAgbWV0aG9kTmFtZTogc3RyaW5nIHwgc3ltYm9sIHwgdW5kZWZpbmVkLFxuICAgICAgICBwYXJhbWV0ZXJJbmRleDogbnVtYmVyXG4gICAgKSB7XG4gICAgICAgIC8vIGZvciBFcnJvciBoYW5kbGluZyBwdXJwb3Nlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZSh0YXJnZXQpO1xuXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzVGFyZ2V0QXZhaWxhYmxlRm9ySW5qZWN0aW9uKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0RlcGVuZGVuY3lFcnJvcihcbiAgICAgICAgICAgICAgICBBX0RlcGVuZGVuY3lFcnJvci5JbnZhbGlkTG9hZFRhcmdldCxcbiAgICAgICAgICAgICAgICBgQS1Mb2FkIGNhbm5vdCBiZSB1c2VkIG9uIHRoZSB0YXJnZXQgb2YgdHlwZSAke3R5cGVvZiB0YXJnZXR9ICgke2NvbXBvbmVudE5hbWV9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIG1ldGhvZCBuYW1lIG9yICdjb25zdHJ1Y3RvcicgZm9yIGNvbnN0cnVjdG9yIGluamVjdGlvbnNcbiAgICAgICAgY29uc3QgbWV0aG9kID0gbWV0aG9kTmFtZSA/IFN0cmluZyhtZXRob2ROYW1lKSA6ICdjb25zdHJ1Y3Rvcic7XG4gICAgICAgIGxldCBtZXRhS2V5O1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3Rvcih0YXJnZXQpIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgbWV0YSBvciBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIGNvbnN0IGV4aXN0ZWRNZXRhID0gQV9Db250ZXh0Lm1ldGEodGFyZ2V0KS5nZXQobWV0YUtleSkgfHwgbmV3IEFfTWV0YSgpO1xuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgaW5qZWN0aW9ucyBmb3IgdGhlIG1ldGhvZCBvciBjcmVhdGUgYSBuZXcgYXJyYXlcbiAgICAgICAgY29uc3QgcGFyYW1zQXJyYXk6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEgPSBleGlzdGVkTWV0YS5nZXQobWV0aG9kKSB8fCBbXTtcblxuICAgICAgICAvLyBzZXQgdGhlIHBhcmFtZXRlciBpbmplY3Rpb24gaW5mb1xuICAgICAgICBwYXJhbXNBcnJheVtwYXJhbWV0ZXJJbmRleF0gPSB7XG4gICAgICAgICAgICAuLi4ocGFyYW1zQXJyYXlbcGFyYW1ldGVySW5kZXhdIHx8IHt9KSxcbiAgICAgICAgICAgIGxvYWQ6IHBhdGhcbiAgICAgICAgfVxuICAgICAgICAvLyBzYXZlIGJhY2sgdGhlIHVwZGF0ZWQgaW5qZWN0aW9ucyBhcnJheVxuICAgICAgICBleGlzdGVkTWV0YS5zZXQobWV0aG9kLCBwYXJhbXNBcnJheSk7XG5cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIG1ldGEgaW5mb1xuICAgICAgICBBX0NvbnRleHRcbiAgICAgICAgICAgIC5tZXRhKHRhcmdldClcbiAgICAgICAgICAgIC5zZXQoXG4gICAgICAgICAgICAgICAgbWV0YUtleSxcbiAgICAgICAgICAgICAgICBleGlzdGVkTWV0YVxuICAgICAgICAgICAgKTtcbiAgICB9XG59IiwgIlxuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSwgQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMgfSBmcm9tIFwiLi4vQS1JbmplY3QvQS1JbmplY3QudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfRGVwZW5kZW5jeV9QYXJlbnREZWNvcmF0b3JSZXR1cm4gfSBmcm9tIFwiLi9BLURlcGVuZGVuY3kudHlwZXNcIjtcbmltcG9ydCB7IEFfRGVwZW5kZW5jeUVycm9yIH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LmVycm9yXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyXCI7XG5cblxuLyoqXG4gKiBTaG91bGQgaW5kaWNhdGUgd2hpY2ggZGVwZW5kZW5jeSBpcyByZXF1aXJlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gQV9EZXBlbmRlbmN5X1BhcmVudChcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaG93IG1hbnkgbGF5ZXJzIHVwIHRoZSBwYXJlbnQgZGVwZW5kZW5jeSBzaG91bGQgYmUgcmVzb2x2ZWQgZnJvbSBjdXJyZW50IGRlcGVuZGVuY3lcbiAgICAgKiBcbiAgICAgKiBEZWZhdWx0OiAtMSAob25lIGxheWVyIHVwKVxuICAgICAqL1xuICAgIGxheWVyT2Zmc2V0OiBudW1iZXIgPSAtMVxuKTogQV9UWVBFU19fQV9EZXBlbmRlbmN5X1BhcmVudERlY29yYXRvclJldHVybiB7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgICB0YXJnZXQ6IEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzLFxuICAgICAgICBtZXRob2ROYW1lOiBzdHJpbmcgfCBzeW1ib2wgfCB1bmRlZmluZWQsXG4gICAgICAgIHBhcmFtZXRlckluZGV4OiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgLy8gZm9yIEVycm9yIGhhbmRsaW5nIHB1cnBvc2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHRhcmdldClcblxuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc1RhcmdldEF2YWlsYWJsZUZvckluamVjdGlvbih0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9EZXBlbmRlbmN5RXJyb3IoXG4gICAgICAgICAgICAgICAgQV9EZXBlbmRlbmN5RXJyb3IuSW52YWxpZERlcGVuZGVuY3lUYXJnZXQsXG4gICAgICAgICAgICAgICAgYEEtRGVwZW5kZW5jeSBjYW5ub3QgYmUgdXNlZCBvbiB0aGUgdGFyZ2V0IG9mIHR5cGUgJHt0eXBlb2YgdGFyZ2V0fSAoJHtjb21wb25lbnROYW1lfSlgXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBtZXRob2QgbmFtZSBvciAnY29uc3RydWN0b3InIGZvciBjb25zdHJ1Y3RvciBpbmplY3Rpb25zXG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IG1ldGhvZE5hbWUgPyBTdHJpbmcobWV0aG9kTmFtZSkgOiAnY29uc3RydWN0b3InO1xuICAgICAgICBsZXQgbWV0YUtleTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IodGFyZ2V0KSB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIG1ldGEgb3IgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICBjb25zdCBleGlzdGVkTWV0YSA9IEFfQ29udGV4dC5tZXRhKHRhcmdldCkuZ2V0KG1ldGFLZXkpIHx8IG5ldyBBX01ldGEoKTtcbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIGluamVjdGlvbnMgZm9yIHRoZSBtZXRob2Qgb3IgY3JlYXRlIGEgbmV3IGFycmF5XG4gICAgICAgIGNvbnN0IHBhcmFtc0FycmF5OiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhID0gZXhpc3RlZE1ldGEuZ2V0KG1ldGhvZCkgfHwgW107XG5cbiAgICAgICAgLy8gc2V0IHRoZSBwYXJhbWV0ZXIgaW5qZWN0aW9uIGluZm9cbiAgICAgICAgcGFyYW1zQXJyYXlbcGFyYW1ldGVySW5kZXhdID0ge1xuICAgICAgICAgICAgLi4uKHBhcmFtc0FycmF5W3BhcmFtZXRlckluZGV4XSB8fCB7fSksXG4gICAgICAgICAgICBwYXJlbnQ6IHsgbGF5ZXJPZmZzZXQgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNhdmUgYmFjayB0aGUgdXBkYXRlZCBpbmplY3Rpb25zIGFycmF5XG4gICAgICAgIGV4aXN0ZWRNZXRhLnNldChtZXRob2QsIHBhcmFtc0FycmF5KTtcblxuICAgICAgICAvLyBzYXZlIGJhY2sgdGhlIHVwZGF0ZWQgbWV0YSBpbmZvXG4gICAgICAgIEFfQ29udGV4dFxuICAgICAgICAgICAgLm1ldGEodGFyZ2V0KVxuICAgICAgICAgICAgLnNldChcbiAgICAgICAgICAgICAgICBtZXRhS2V5LFxuICAgICAgICAgICAgICAgIGV4aXN0ZWRNZXRhXG4gICAgICAgICAgICApO1xuICAgIH1cbn0iLCAiXG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtTWV0YS9BLU1ldGEuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhLCBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyB9IGZyb20gXCIuLi9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9EZXBlbmRlbmN5X1JlcXVpcmVEZWNvcmF0b3JSZXR1cm4gfSBmcm9tIFwiLi9BLURlcGVuZGVuY3kudHlwZXNcIjtcbmltcG9ydCB7IEFfRGVwZW5kZW5jeUVycm9yIH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LmVycm9yXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyXCI7XG5cblxuLyoqXG4gKiBTaG91bGQgaW5kaWNhdGUgd2hpY2ggZGVwZW5kZW5jeSBpcyByZXF1aXJlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gQV9EZXBlbmRlbmN5X1JlcXVpcmUoKTogQV9UWVBFU19fQV9EZXBlbmRlbmN5X1JlcXVpcmVEZWNvcmF0b3JSZXR1cm4ge1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgICAgdGFyZ2V0OiBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyxcbiAgICAgICAgbWV0aG9kTmFtZTogc3RyaW5nIHwgc3ltYm9sIHwgdW5kZWZpbmVkLFxuICAgICAgICBwYXJhbWV0ZXJJbmRleDogbnVtYmVyXG4gICAgKSB7XG4gICAgICAgIC8vIGZvciBFcnJvciBoYW5kbGluZyBwdXJwb3Nlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZSh0YXJnZXQpXG5cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNUYXJnZXRBdmFpbGFibGVGb3JJbmplY3Rpb24odGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfRGVwZW5kZW5jeUVycm9yKFxuICAgICAgICAgICAgICAgIEFfRGVwZW5kZW5jeUVycm9yLkludmFsaWREZXBlbmRlbmN5VGFyZ2V0LFxuICAgICAgICAgICAgICAgIGBBLURlcGVuZGVuY3kgY2Fubm90IGJlIHVzZWQgb24gdGhlIHRhcmdldCBvZiB0eXBlICR7dHlwZW9mIHRhcmdldH0gKCR7Y29tcG9uZW50TmFtZX0pYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRldGVybWluZSB0aGUgbWV0aG9kIG5hbWUgb3IgJ2NvbnN0cnVjdG9yJyBmb3IgY29uc3RydWN0b3IgaW5qZWN0aW9uc1xuICAgICAgICBjb25zdCBtZXRob2QgPSBtZXRob2ROYW1lID8gU3RyaW5nKG1ldGhvZE5hbWUpIDogJ2NvbnN0cnVjdG9yJztcbiAgICAgICAgbGV0IG1ldGFLZXk7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHRhcmdldCkgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBleGlzdGluZyBtZXRhIG9yIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGEgPSBBX0NvbnRleHQubWV0YSh0YXJnZXQpLmdldChtZXRhS2V5KSB8fCBuZXcgQV9NZXRhKCk7XG4gICAgICAgIC8vIGdldCBleGlzdGluZyBpbmplY3Rpb25zIGZvciB0aGUgbWV0aG9kIG9yIGNyZWF0ZSBhIG5ldyBhcnJheVxuICAgICAgICBjb25zdCBwYXJhbXNBcnJheTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSA9IGV4aXN0ZWRNZXRhLmdldChtZXRob2QpIHx8IFtdO1xuXG4gICAgICAgIC8vIHNldCB0aGUgcGFyYW1ldGVyIGluamVjdGlvbiBpbmZvXG4gICAgICAgIHBhcmFtc0FycmF5W3BhcmFtZXRlckluZGV4XSA9IHtcbiAgICAgICAgICAgIC4uLihwYXJhbXNBcnJheVtwYXJhbWV0ZXJJbmRleF0gfHwge30pLFxuICAgICAgICAgICAgcmVxdWlyZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIC8vIHNhdmUgYmFjayB0aGUgdXBkYXRlZCBpbmplY3Rpb25zIGFycmF5XG4gICAgICAgIGV4aXN0ZWRNZXRhLnNldChtZXRob2QsIHBhcmFtc0FycmF5KTtcblxuICAgICAgICAvLyBzYXZlIGJhY2sgdGhlIHVwZGF0ZWQgbWV0YSBpbmZvXG4gICAgICAgIEFfQ29udGV4dFxuICAgICAgICAgICAgLm1ldGEodGFyZ2V0KVxuICAgICAgICAgICAgLnNldChcbiAgICAgICAgICAgICAgICBtZXRhS2V5LFxuICAgICAgICAgICAgICAgIGV4aXN0ZWRNZXRhXG4gICAgICAgICAgICApO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9EZXBlbmRlbmN5X0RlZmF1bHQgfSBmcm9tIFwiLi9BLURlcGVuZGVuY3ktRGVmYXVsdC5kZWNvcmF0b3JcIjtcbmltcG9ydCB7IEFfRGVwZW5kZW5jeV9GbGF0IH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LUZsYXQuZGVjb3JhdG9yXCI7XG5pbXBvcnQgeyBBX0RlcGVuZGVuY3lfTG9hZCB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS1Mb2FkLmRlY29yYXRvclwiO1xuaW1wb3J0IHsgQV9EZXBlbmRlbmN5X1BhcmVudCB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS1QYXJlbnQuZGVjb3JhdG9yXCI7XG5pbXBvcnQgeyBBX0RlcGVuZGVuY3lfUmVxdWlyZSB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS1SZXF1aXJlLmRlY29yYXRvclwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0RlcGVuZGVuY3kge1xuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBpbmRpY2F0ZSB3aGljaCBJbmplY3RlZCBwYXJhbWV0ZXIgaXMgcmVxdWlyZWRcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgcGFyYW1ldGVyIG1hcmtlZCBhcyByZXF1aXJlZCBpcyBub3QgcHJvdmlkZWQsIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGdldCBSZXF1aXJlZCgpOiB0eXBlb2YgQV9EZXBlbmRlbmN5X1JlcXVpcmUge1xuICAgICAgICByZXR1cm4gQV9EZXBlbmRlbmN5X1JlcXVpcmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBpbmRpY2F0ZSB3aGljaCBkZXBlbmRlbmN5IHNob3VsZCBiZSBsb2FkZWQgZnJvbSBhIHNwZWNpZmljIHBhdGhcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IExvYWRlZCgpOiB0eXBlb2YgQV9EZXBlbmRlbmN5X0xvYWQge1xuICAgICAgICByZXR1cm4gQV9EZXBlbmRlbmN5X0xvYWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBpbmRpY2F0ZSB3aGljaCBkZXBlbmRlbmN5IGRlZmF1bHQgcGFyYW1ldGVycyBzaG91bGQgYmUgdXNlZFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgRGVmYXVsdCgpOiB0eXBlb2YgQV9EZXBlbmRlbmN5X0RlZmF1bHQge1xuICAgICAgICByZXR1cm4gQV9EZXBlbmRlbmN5X0RlZmF1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBpbmRpY2F0ZSB3aGljaCBwYXJlbnQgZGVwZW5kZW5jeSBzaG91bGQgYmUgcmVzb2x2ZWRcbiAgICAgKiBlLmcuIGZyb20gd2hpY2ggbGF5ZXIgdXAgdGhlIHBhcmVudCBzaG91bGQgYmUgdGFrZW5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IFBhcmVudCgpOiB0eXBlb2YgQV9EZXBlbmRlbmN5X1BhcmVudCB7XG4gICAgICAgIHJldHVybiBBX0RlcGVuZGVuY3lfUGFyZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBpbmRpY2F0ZSB0aGF0IHRoZSBkZXBlbmRlbmN5IHNob3VsZCBiZSByZXNvbHZlZCBpbiBhIGZsYXQgbWFubmVyXG4gICAgICogT25seSBpbiB0aGUgc2FtZSBzY29wZSwgd2l0aG91dCBnb2luZyB1cCB0byBwYXJlbnQgc2NvcGVzXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGdldCBGbGF0KCk6IHR5cGVvZiBBX0RlcGVuZGVuY3lfRmxhdCB7XG4gICAgICAgIHJldHVybiBBX0RlcGVuZGVuY3lfRmxhdDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX25hbWU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIENsYXNzIGluc3RhbmNlcyBhbGxvd3MgdG8gaW5kZW50aWZ5IGRlcGVuZGVuY2llcyBieSBuYW1lIGFuZCB1c2UgdGhlbSBmb3IgYmV0dGVyIHR5cGUgY2hlY2tpbmdcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbmFtZSBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgbmFtZTogc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRlcGVuZGVuY3kgbmFtZVxuICAgICAqIFxuICAgICAqIENhbiBiZSBpZGVudGlmaWVyLCB1cmwgb3IgYW55IHN0cmluZyB2YWx1ZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcblxuXG5leHBvcnQgY2xhc3MgQV9JbmplY3RFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuICAgIHN0YXRpYyByZWFkb25seSBJbnZhbGlkSW5qZWN0aW9uVGFyZ2V0ID0gJ0ludmFsaWQgdGFyZ2V0IGZvciBBLUluamVjdCBkZWNvcmF0b3InO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IE1pc3NpbmdJbmplY3Rpb25UYXJnZXQgPSAnTWlzc2luZyB0YXJnZXQgZm9yIEEtSW5qZWN0IGRlY29yYXRvcic7XG59IiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uSW5zdHJ1Y3Rpb25zLFxuICAgIEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEsXG4gICAgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JSZXR1cm4sXG4gICAgQV9UWVBFU19fSW5qZWN0YWJsZUNvbnN0cnVjdG9ycyxcbiAgICBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0c1xufSBmcm9tIFwiLi9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Db21wb25lbnQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQuY2xhc3NcIjtcbmltcG9ydCB7IEFfRnJhZ21lbnQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1GcmFnbWVudC9BLUZyYWdtZW50LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LnR5cGVzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9FbnRpdHkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1FbnRpdHkvQS1FbnRpdHkuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0ZlYXR1cmVfQ29uc3RydWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9DYWxsZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1DYWxsZXIvQV9DYWxsZXIuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX0luamVjdEVycm9yIH0gZnJvbSBcIi4vQS1JbmplY3QuZXJyb3JcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1GcmFnbWVudC9BLUZyYWdtZW50LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1Njb3BlIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtU2NvcGUvQS1TY29wZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fU2NvcGVfQ29uc3RydWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1TY29wZS9BLVNjb3BlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0ZlYXR1cmUgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9UWVBFU19fRXJyb3JfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5TWV0YUtleSB9IGZyb20gXCIuLi9BLUVudGl0eS9BLUVudGl0eS5jb25zdGFudHNcIjtcblxuXG4vKipcbiAqIEEtSW5qZWN0IGRlY29yYXRvclxuICogXG4gKiBUaGlzIERlY29yYXRvciBhbGxvd3MgdG8gaW5qZWN0IGRlcGVuZGVuY2llcyBpbnRvIHRoZSBtb2R1bGUgbGlrZSBcbiAqIC0gTmFtZXNwYWNlcyBcbiAqIC0gT3RoZXIgQ29uY2VwdHMgXG4gKiAtIG9yIG1heWJlIENvbXBvbmVudHNcbiAqIFxuICogQHBhcmFtIHBhcmFtcyAtIHNlZSBvdmVybG9hZHNcbiAqIEByZXR1cm5zIC0gZGVjb3JhdG9yIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBX0luamVjdDxUIGV4dGVuZHMgQV9TY29wZT4oXG4gICAgLyoqKlxuICAgICAqIFByb3ZpZGUgdGhlIFNjb3BlIGNvbnN0cnVjdG9yIHRoYXQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIGluamVjdGlvbi5cbiAgICAgKlxuICAgICAqIFshXSBJdCByZXR1cm5zIGFuIGluc3RhbmNlIG9mIHRoZSBTY29wZSB3aGVyZSB0aGUgRW50aXR5L0NvbXBvbmVudC9Db250YWluZXIgaXMgZGVmaW5lZC5cbiAgICAgKi9cbiAgICBzY29wZTogQV9UWVBFU19fU2NvcGVfQ29uc3RydWN0b3I8VD5cbik6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yUmV0dXJuXG5leHBvcnQgZnVuY3Rpb24gQV9JbmplY3Q8VCBleHRlbmRzIEFfRXJyb3I+KFxuICAgIC8qKipcbiAgICAgKiBQcm92aWRlIHRoZSBFcnJvciBjb25zdHJ1Y3RvciB0aGF0IHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBpbmplY3Rpb24uXG4gICAgICpcbiAgICAgKiBbIV0gSXQgcmV0dXJucyBhbiBJbnN0YW5jZSBvZiB0aGUgRXJyb3Igd2hhdCBpcyBleGVjdXRlZC5cbiAgICAgKi9cbiAgICBlcnJvcjogQV9UWVBFU19fRXJyb3JfQ29uc3RydWN0b3I8VD5cbik6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yUmV0dXJuXG5leHBvcnQgZnVuY3Rpb24gQV9JbmplY3Q8VCBleHRlbmRzIEFfRmVhdHVyZT4oXG4gICAgLyoqXG4gICAgICogUHJvdmlkZSB0aGUgRmVhdHVyZSBjb25zdHJ1Y3RvciB0aGF0IHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBpbmplY3Rpb24uXG4gICAgICogXG4gICAgICogWyFdIEl0IHJldHVybnMgYW4gSW5zdGFuY2Ugb2YgdGhlIEZlYXR1cmUgd2hhdCBpcyBleGVjdXRlZC4gXG4gICAgICovXG4gICAgZmVhdHVyZTogQV9UWVBFU19fRmVhdHVyZV9Db25zdHJ1Y3RvcjxUPlxuKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JSZXR1cm5cbmV4cG9ydCBmdW5jdGlvbiBBX0luamVjdDxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgIC8qKlxuICAgICAqIFByb3ZpZGUgdGhlIENvbXBvbmVudCBjb25zdHJ1Y3RvciB0aGF0IHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBpbmplY3Rpb24uXG4gICAgICogXG4gICAgICogWyFdIEl0IHJldHVybnMgYW4gSW5zdGFuY2Ugb2YgdGhlIENvbXBvbmVudCBmcm9tIGN1cnJlbnQgU2NvcGUgb3IgZnJvbSBQYXJlbnQgU2NvcGVzLlxuICAgICAqL1xuICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+XG4pOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvclJldHVyblxuLy8gIEFsbG93cyB0byBpbmplY3QganVzdCBvbmUgQV9GZWF0dXJlQ2FsbGVyXG5leHBvcnQgZnVuY3Rpb24gQV9JbmplY3QoXG4gICAgLyoqXG4gICAgICogUHJvdmlkZSB0aGUgQV9DYWxsZXIgY29uc3RydWN0b3IgdG8gaW5qZWN0IHRoZSBDYWxsZXIgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIFshXSBJdCByZXR1cm5zIGluaXRpYXRvciBvZiB0aGUgY2FsbCwgZS5nLiBDb250YWluZXIvQ29tcG9uZW50L0NvbW1hbmQgd2hvIGNhbGxlZCBGZWF0dXJlIFxuICAgICAqL1xuICAgIGNhbGxlcjogdHlwZW9mIEFfQ2FsbGVyXG4pOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvclJldHVyblxuLy8gQWxsb3dzIHRvIGluamVjdCBqdXN0IG9uZSBDb250ZXh0IEZyYWdtZW50XG5leHBvcnQgZnVuY3Rpb24gQV9JbmplY3Q8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KFxuICAgIC8qKlxuICAgICAqIFByb3ZpZGUgdGhlIEZyYWdtZW50IGNvbnN0cnVjdG9yIHRvIGluamVjdCB0aGUgRnJhZ21lbnQgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIFshXSBJdCByZXR1cm5zIHRoZSBGcmFnbWVudCBpbnN0YW5jZSBmcm9tIGN1cnJlbnQgU2NvcGUgb3IgZnJvbSBQYXJlbnQgU2NvcGVzLlxuICAgICAqL1xuICAgIGZyYWdtZW50OiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPlxuKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JSZXR1cm5cbmV4cG9ydCBmdW5jdGlvbiBBX0luamVjdDxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgIC8qKlxuICAgICAqIFByb3ZpZGUgdGhlIEVudGl0eSBjb25zdHJ1Y3RvciB0byBpbmplY3QgdGhlIEVudGl0eSBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBJdCByZXR1cm5zIHRoZSBFbnRpdHkgaW5zdGFuY2UgZnJvbSBjdXJyZW50IFNjb3BlIG9yIGZyb20gUGFyZW50IFNjb3Blcy5cbiAgICAgKiBbIV0gTm90ZTogSWYgaW5zdGFuY2UgaGFzIG1vcmUgdGhhbiBvbmUgRW50aXR5IG9mIHRoZSBzYW1lIHR5cGUgSXQgcmV0dXJucyBGSVJTVCBmb3VuZCBFbnRpdHlcbiAgICAgKiBbIV0gTm90ZTogVXNlICdjb25maWcnIHRvIHNwZWNpZnkgdG8gaW5qZWN0IHNwZWNpZmljIG9uZSBvciBldmVuIEFycmF5IG9mIEVudGl0aWVzXG4gICAgICovXG4gICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD4sXG4gICAgLyoqXG4gICAgICogUHJvdmlkZSBhZGRpdGlvbmFsIGluc3RydWN0aW9ucyBvbiBob3cgdG8gcGVyZm9ybSB0aGUgaW5qZWN0aW9uXG4gICAgICogXG4gICAgICogWyFdIERlZmF1bHQgUGFnaW5hdGlvbiBpcyAxIGlmIGl0J3MgbmVjZXNzYXJ5IHRvIGdldCBtdWx0aXBsZSBFbnRpdGllcyBwbGVhc2UgY3VzdG9taXplIGl0IGluIHRoZSBpbnN0cnVjdGlvbnNcbiAgICAgKi9cbiAgICBjb25maWc/OiBQYXJ0aWFsPEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX0VudGl0eUluamVjdGlvbkluc3RydWN0aW9uczxUPj5cbik6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yUmV0dXJuPFQ+XG5leHBvcnQgZnVuY3Rpb24gQV9JbmplY3Q8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAvKipcbiAgICAgKiBQcm92aWRlIHRoZSBuYW1lIG9mIENvbXBvbmVudCBjb25zdHJ1Y3RvciB0byBpbmplY3QgdGhlIENvbXBvbmVudCBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIFshXSBZb3UgY2FuIHVzZSBib3RoIGN1c3RvbWl6ZWQgb25lIG9yIG9yaWdpbmFsIGRlcGVuZGluZyBvbiB5b3VyIG92ZXJyaWRpbmcgc3RyYXRlZ3lcbiAgICAgKi9cbiAgICBjdG9yOiBzdHJpbmdcbik6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yUmV0dXJuXG5leHBvcnQgZnVuY3Rpb24gQV9JbmplY3QoXG4gICAgcGFyYW0xOiBBX1RZUEVTX19JbmplY3RhYmxlQ29uc3RydWN0b3JzLFxuICAgIHBhcmFtMj86IFBhcnRpYWw8QV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uSW5zdHJ1Y3Rpb25zPlxuKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JSZXR1cm4ge1xuXG4gICAgLy8gIHByZSBjYWxsIGNoZWNrc1xuICAgIGlmICghcGFyYW0xKSB7XG4gICAgICAgIHRocm93IG5ldyBBX0luamVjdEVycm9yKFxuICAgICAgICAgICAgQV9JbmplY3RFcnJvci5NaXNzaW5nSW5qZWN0aW9uVGFyZ2V0LFxuICAgICAgICAgICAgYEEtSW5qZWN0IGRlY29yYXRvciBpcyBtaXNzaW5nIHRoZSB0YXJnZXQgdG8gaW5qZWN0YFxuICAgICAgICApO1xuICAgIH1cblxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgICAgdGFyZ2V0OiBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyxcbiAgICAgICAgbWV0aG9kTmFtZTogc3RyaW5nIHwgc3ltYm9sIHwgdW5kZWZpbmVkLFxuICAgICAgICBwYXJhbWV0ZXJJbmRleDogbnVtYmVyXG4gICAgKSB7XG4gICAgICAgIC8vIGZvciBFcnJvciBoYW5kbGluZyBwdXJwb3Nlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZSh0YXJnZXQpXG5cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNUYXJnZXRBdmFpbGFibGVGb3JJbmplY3Rpb24odGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfSW5qZWN0RXJyb3IoXG4gICAgICAgICAgICAgICAgQV9JbmplY3RFcnJvci5JbnZhbGlkSW5qZWN0aW9uVGFyZ2V0LFxuICAgICAgICAgICAgICAgIGBBLUluamVjdCBjYW5ub3QgYmUgdXNlZCBvbiB0aGUgdGFyZ2V0IG9mIHR5cGUgJHt0eXBlb2YgdGFyZ2V0fSAoJHtjb21wb25lbnROYW1lfSlgXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBtZXRob2QgbmFtZSBvciAnY29uc3RydWN0b3InIGZvciBjb25zdHJ1Y3RvciBpbmplY3Rpb25zXG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IG1ldGhvZE5hbWUgPyBTdHJpbmcobWV0aG9kTmFtZSkgOiAnY29uc3RydWN0b3InO1xuICAgICAgICBsZXQgbWV0YUtleTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IodGFyZ2V0KSB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0VudGl0eUluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0VudGl0eU1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBleGlzdGluZyBtZXRhIG9yIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGEgPSBBX0NvbnRleHQubWV0YSh0YXJnZXQpLmdldChtZXRhS2V5KSB8fCBuZXcgQV9NZXRhKCk7XG4gICAgICAgIC8vIGdldCBleGlzdGluZyBpbmplY3Rpb25zIGZvciB0aGUgbWV0aG9kIG9yIGNyZWF0ZSBhIG5ldyBhcnJheVxuICAgICAgICBjb25zdCBwYXJhbXNBcnJheTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSA9IGV4aXN0ZWRNZXRhLmdldChtZXRob2QpIHx8IFtdO1xuXG4gICAgICAgIC8vIHNldCB0aGUgcGFyYW1ldGVyIGluamVjdGlvbiBpbmZvXG4gICAgICAgIHBhcmFtc0FycmF5W3BhcmFtZXRlckluZGV4XSA9IHtcbiAgICAgICAgICAgIHRhcmdldDogcGFyYW0xLFxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiBwYXJhbTJcbiAgICAgICAgfVxuICAgICAgICAvLyBzYXZlIGJhY2sgdGhlIHVwZGF0ZWQgaW5qZWN0aW9ucyBhcnJheVxuICAgICAgICBleGlzdGVkTWV0YS5zZXQobWV0aG9kLCBwYXJhbXNBcnJheSk7XG5cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIG1ldGEgaW5mb1xuICAgICAgICBBX0NvbnRleHRcbiAgICAgICAgICAgIC5tZXRhKHRhcmdldClcbiAgICAgICAgICAgIC5zZXQoXG4gICAgICAgICAgICAgICAgbWV0YUtleSxcbiAgICAgICAgICAgICAgICBleGlzdGVkTWV0YVxuICAgICAgICAgICAgKTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ29tcG9uZW50LCBBX0NvbnRleHQsIEFfRXJyb3IsIEFfRmVhdHVyZSwgQV9JZGVudGl0eUhlbHBlciwgQV9JbmplY3QsIEFfU2NvcGUsIEFfVFlQRVNfX0luamVjdGFibGVDb25zdHJ1Y3RvcnMsIEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfQ2hhbm5lbEVycm9yIH0gZnJvbSBcIi4vQS1DaGFubmVsLmVycm9yXCI7XG5pbXBvcnQgeyBBX0NoYW5uZWxGZWF0dXJlcyB9IGZyb20gXCIuL0EtQ2hhbm5lbC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfT3BlcmF0aW9uQ29udGV4dCB9IGZyb20gXCIuLi9BLU9wZXJhdGlvbi9BLU9wZXJhdGlvbi5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0NoYW5uZWxSZXF1ZXN0IH0gZnJvbSBcIi4vQS1DaGFubmVsUmVxdWVzdC5jb250ZXh0XCI7XG5cbi8qKlxuICogQS1DaGFubmVsIC0gQSBwb3dlcmZ1bCwgZXh0ZW5zaWJsZSBjb21tdW5pY2F0aW9uIGNoYW5uZWwgY29tcG9uZW50XG4gKiBcbiAqIEEtQ2hhbm5lbCBwcm92aWRlcyBhIHN0cnVjdHVyZWQgYXBwcm9hY2ggdG8gaW1wbGVtZW50aW5nIHZhcmlvdXMgY29tbXVuaWNhdGlvbiBwYXR0ZXJuc1xuICogc3VjaCBhcyBIVFRQIGNsaWVudHMsIFdlYlNvY2tldCBjb25uZWN0aW9ucywgbWVzc2FnZSBxdWV1ZXMsIGFuZCBvdGhlciBtZXNzYWdpbmcgc3lzdGVtcy5cbiAqIEl0IG9mZmVycyBhIGNvbXBsZXRlIGxpZmVjeWNsZSBtYW5hZ2VtZW50IHN5c3RlbSB3aXRoIGV4dGVuc2libGUgaG9va3MgZm9yIGN1c3RvbSBiZWhhdmlvci5cbiAqIFxuICogIyMgS2V5IEZlYXR1cmVzOlxuICogLSDwn5SEICoqTGlmZWN5Y2xlIE1hbmFnZW1lbnQqKiAtIENvbXBsZXRlIGNvbm5lY3Rpb24gYW5kIHByb2Nlc3NpbmcgbGlmZWN5Y2xlIHdpdGggaG9va3NcbiAqIC0g8J+ToSAqKk11bHRpcGxlIENvbW11bmljYXRpb24gUGF0dGVybnMqKiAtIFJlcXVlc3QvUmVzcG9uc2UgYW5kIEZpcmUtYW5kLUZvcmdldCBtZXNzYWdpbmcgIFxuICogLSDwn5uh77iPICoqRXJyb3IgSGFuZGxpbmcqKiAtIENvbXByZWhlbnNpdmUgZXJyb3IgY2FwdHVyZSBhbmQgbWFuYWdlbWVudFxuICogLSDwn46vICoqVHlwZSBTYWZldHkqKiAtIEZ1bGwgVHlwZVNjcmlwdCBzdXBwb3J0IHdpdGggZ2VuZXJpYyB0eXBlc1xuICogLSDwn5SnICoqRXh0ZW5zaWJsZSoqIC0gQ29tcG9uZW50LWJhc2VkIGFyY2hpdGVjdHVyZSBmb3IgY3VzdG9tIGJlaGF2aW9yXG4gKiAtIOKaoSAqKkNvbmN1cnJlbnQgUHJvY2Vzc2luZyoqIC0gSGFuZGxlIG11bHRpcGxlIHJlcXVlc3RzIHNpbXVsdGFuZW91c2x5XG4gKiBcbiAqICMjIEJhc2ljIFVzYWdlOlxuICogYGBgdHlwZXNjcmlwdFxuICogY29uc3QgY2hhbm5lbCA9IG5ldyBBX0NoYW5uZWwoKTtcbiAqIEFfQ29udGV4dC5yb290LnJlZ2lzdGVyKGNoYW5uZWwpO1xuICogXG4gKiAvLyBSZXF1ZXN0L1Jlc3BvbnNlIHBhdHRlcm5cbiAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2hhbm5lbC5yZXF1ZXN0KHsgYWN0aW9uOiAnZ2V0RGF0YScsIGlkOiAxMjMgfSk7XG4gKiBcbiAqIC8vIEZpcmUtYW5kLWZvcmdldCBwYXR0ZXJuICBcbiAqIGF3YWl0IGNoYW5uZWwuc2VuZCh7IHR5cGU6ICdub3RpZmljYXRpb24nLCBtZXNzYWdlOiAnSGVsbG8gV29ybGQnIH0pO1xuICogYGBgXG4gKiBcbiAqICMjIEN1c3RvbSBJbXBsZW1lbnRhdGlvbjpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEh0dHBDaGFubmVsIGV4dGVuZHMgQV9DaGFubmVsIHt9XG4gKiBcbiAqIGNsYXNzIEh0dHBQcm9jZXNzb3IgZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG4gKiAgICAgQEFfRmVhdHVyZS5FeHRlbmQoeyBzY29wZTogW0h0dHBDaGFubmVsXSB9KVxuICogICAgIGFzeW5jIFtBX0NoYW5uZWxGZWF0dXJlcy5vblJlcXVlc3RdKFxuICogICAgICAgICBAQV9JbmplY3QoQV9DaGFubmVsUmVxdWVzdCkgY29udGV4dDogQV9DaGFubmVsUmVxdWVzdFxuICogICAgICkge1xuICogICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbnRleHQucGFyYW1zLnVybCk7XG4gKiAgICAgICAgIChjb250ZXh0IGFzIGFueSkuX3Jlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAqICAgICB9XG4gKiB9XG4gKiBgYGBcbiAqIFxuICogQHNlZSB7QGxpbmsgLi9SRUFETUUubWR9IEZvciBjb21wbGV0ZSBkb2N1bWVudGF0aW9uIGFuZCBleGFtcGxlc1xuICovXG5leHBvcnQgY2xhc3MgQV9DaGFubmVsIGV4dGVuZHMgQV9Db21wb25lbnQge1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGNoYW5uZWwgaXMgY3VycmVudGx5IHByb2Nlc3NpbmcgcmVxdWVzdHMuXG4gICAgICogVGhpcyBmbGFnIGlzIG1hbmFnZWQgYXV0b21hdGljYWxseSBkdXJpbmcgcmVxdWVzdC9zZW5kIG9wZXJhdGlvbnMuXG4gICAgICogXG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9wcm9jZXNzaW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgY2hhbm5lbCBpbml0aWFsaXphdGlvbiBpcyBjb21wbGV0ZS5cbiAgICAgKiBFbnN1cmVzIHRoYXQgb25Db25uZWN0IGxpZmVjeWNsZSBob29rIGhhcyBiZWVuIGV4ZWN1dGVkIGJlZm9yZVxuICAgICAqIGFueSBjb21tdW5pY2F0aW9uIG9wZXJhdGlvbnMuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2luaXRpYWxpemVkPzogUHJvbWlzZTx2b2lkPjtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGNhY2hlIHN0b3JhZ2UgZm9yIGNoYW5uZWwtc3BlY2lmaWMgZGF0YS5cbiAgICAgKiBDYW4gYmUgdXNlZCBieSBjdXN0b20gaW1wbGVtZW50YXRpb25zIGZvciBjYWNoaW5nIHJlc3BvbnNlcyxcbiAgICAgKiBjb25uZWN0aW9uIHBvb2xzLCBvciBvdGhlciBjaGFubmVsLXNwZWNpZmljIHN0YXRlLlxuICAgICAqIFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2NhY2hlOiBNYXA8c3RyaW5nLCBhbnk+ID0gbmV3IE1hcCgpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBBX0NoYW5uZWwgaW5zdGFuY2UuXG4gICAgICogXG4gICAgICogVGhlIGNoYW5uZWwgbXVzdCBiZSByZWdpc3RlcmVkIHdpdGggQV9Db250ZXh0IGJlZm9yZSB1c2U6XG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IGNoYW5uZWwgPSBuZXcgQV9DaGFubmVsKCk7XG4gICAgICogQV9Db250ZXh0LnJvb3QucmVnaXN0ZXIoY2hhbm5lbCk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGNoYW5uZWwgaXMgY3VycmVudGx5IHByb2Nlc3NpbmcgcmVxdWVzdHMuXG4gICAgICogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgY2hhbm5lbCBpcyBwcm9jZXNzaW5nLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBnZXQgcHJvY2Vzc2luZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3Npbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGNoYW5uZWwgaXMgZnVsbHkgaW5pdGlhbGl6ZWQuXG4gICAgICogXG4gICAgICogQXV0b21hdGljYWxseSBjYWxscyB0aGUgb25Db25uZWN0IGxpZmVjeWNsZSBob29rIGlmIG5vdCBhbHJlYWR5IGNhbGxlZC5cbiAgICAgKiBUaGlzIGVuc3VyZXMgdGhlIGNoYW5uZWwgaXMgcmVhZHkgZm9yIGNvbW11bmljYXRpb24gb3BlcmF0aW9ucy5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gaW5pdGlhbGl6YXRpb24gaXMgY29tcGxldGVcbiAgICAgKi9cbiAgICBnZXQgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0aGlzLmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT0gTGlmZWN5Y2xlIEV4dGVuc2lvbiBQb2ludHMgPT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIENvbm5lY3Rpb24gbGlmZWN5Y2xlIGhvb2sgLSBjYWxsZWQgZHVyaW5nIGNoYW5uZWwgaW5pdGlhbGl6YXRpb24uXG4gICAgICogXG4gICAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgaW4gY3VzdG9tIGNvbXBvbmVudHMgdG8gaW1wbGVtZW50IGNvbm5lY3Rpb24gbG9naWM6XG4gICAgICogLSBJbml0aWFsaXplIG5ldHdvcmsgY29ubmVjdGlvbnNcbiAgICAgKiAtIExvYWQgY29uZmlndXJhdGlvblxuICAgICAqIC0gVmFsaWRhdGUgZW52aXJvbm1lbnRcbiAgICAgKiAtIFNldCB1cCBjb25uZWN0aW9uIHBvb2xzXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY2xhc3MgRGF0YWJhc2VDaGFubmVsIGV4dGVuZHMgQV9DaGFubmVsIHt9XG4gICAgICogXG4gICAgICogY2xhc3MgRGF0YWJhc2VDb25uZWN0b3IgZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG4gICAgICogICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHsgc2NvcGU6IFtEYXRhYmFzZUNoYW5uZWxdIH0pXG4gICAgICogICAgIGFzeW5jIFtBX0NoYW5uZWxGZWF0dXJlcy5vbkNvbm5lY3RdKCkge1xuICAgICAqICAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplRGF0YWJhc2UoKTtcbiAgICAgKiAgICAgICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBjaGFubmVsIGNvbm5lY3RlZCcpO1xuICAgICAqICAgICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9DaGFubmVsRmVhdHVyZXMub25Db25uZWN0XG4gICAgfSlcbiAgICBhc3luYyBvbkNvbm5lY3QoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiAtIG5vIG9wZXJhdGlvblxuICAgICAgICAvLyBPdmVycmlkZSBpbiBjdXN0b20gaW1wbGVtZW50YXRpb25zXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdGlvbiBsaWZlY3ljbGUgaG9vayAtIGNhbGxlZCBkdXJpbmcgY2hhbm5lbCBjbGVhbnVwLlxuICAgICAqIFxuICAgICAqIE92ZXJyaWRlIHRoaXMgbWV0aG9kIGluIGN1c3RvbSBjb21wb25lbnRzIHRvIGltcGxlbWVudCBjbGVhbnVwIGxvZ2ljOlxuICAgICAqIC0gQ2xvc2UgbmV0d29yayBjb25uZWN0aW9uc1xuICAgICAqIC0gU2F2ZSBzdGF0ZVxuICAgICAqIC0gUmVsZWFzZSByZXNvdXJjZXNcbiAgICAgKiAtIENsZWFyIGNhY2hlc1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBBX0ZlYXR1cmUuRXh0ZW5kKHsgc2NvcGU6IFtEYXRhYmFzZUNoYW5uZWxdIH0pXG4gICAgICogYXN5bmMgW0FfQ2hhbm5lbEZlYXR1cmVzLm9uRGlzY29ubmVjdF0oKSB7XG4gICAgICogICAgIGF3YWl0IHRoaXMuY2xvc2VDb25uZWN0aW9ucygpO1xuICAgICAqICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY2hhbm5lbCBkaXNjb25uZWN0ZWQnKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBX0NoYW5uZWxGZWF0dXJlcy5vbkRpc2Nvbm5lY3RcbiAgICB9KVxuICAgIGFzeW5jIG9uRGlzY29ubmVjdCguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9uIC0gbm8gb3BlcmF0aW9uXG4gICAgICAgIC8vIE92ZXJyaWRlIGluIGN1c3RvbSBpbXBsZW1lbnRhdGlvbnNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmUtcmVxdWVzdCBwcm9jZXNzaW5nIGhvb2sgLSBjYWxsZWQgYmVmb3JlIG1haW4gcmVxdWVzdCBwcm9jZXNzaW5nLlxuICAgICAqIFxuICAgICAqIFVzZSB0aGlzIGhvb2sgZm9yOlxuICAgICAqIC0gUmVxdWVzdCB2YWxpZGF0aW9uXG4gICAgICogLSBBdXRoZW50aWNhdGlvblxuICAgICAqIC0gUmF0ZSBsaW1pdGluZ1xuICAgICAqIC0gTG9nZ2luZ1xuICAgICAqIC0gUmVxdWVzdCB0cmFuc2Zvcm1hdGlvblxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBBX0ZlYXR1cmUuRXh0ZW5kKHsgc2NvcGU6IFtIdHRwQ2hhbm5lbF0gfSlcbiAgICAgKiBhc3luYyBbQV9DaGFubmVsRmVhdHVyZXMub25CZWZvcmVSZXF1ZXN0XShcbiAgICAgKiAgICAgQEFfSW5qZWN0KEFfQ2hhbm5lbFJlcXVlc3QpIGNvbnRleHQ6IEFfQ2hhbm5lbFJlcXVlc3RcbiAgICAgKiApIHtcbiAgICAgKiAgICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgcGFyYW1ldGVyc1xuICAgICAqICAgICBpZiAoIWNvbnRleHQucGFyYW1zLnVybCkge1xuICAgICAqICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUkwgaXMgcmVxdWlyZWQnKTtcbiAgICAgKiAgICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFfQ2hhbm5lbEZlYXR1cmVzLm9uQmVmb3JlUmVxdWVzdFxuICAgIH0pXG4gICAgYXN5bmMgb25CZWZvcmVSZXF1ZXN0KC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb24gLSBubyBvcGVyYXRpb25cbiAgICAgICAgLy8gT3ZlcnJpZGUgaW4gY3VzdG9tIGltcGxlbWVudGF0aW9uc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1haW4gcmVxdWVzdCBwcm9jZXNzaW5nIGhvb2sgLSBjb3JlIGJ1c2luZXNzIGxvZ2ljIGdvZXMgaGVyZS5cbiAgICAgKiBcbiAgICAgKiBUaGlzIGlzIHdoZXJlIHRoZSBtYWluIGNvbW11bmljYXRpb24gbG9naWMgc2hvdWxkIGJlIGltcGxlbWVudGVkOlxuICAgICAqIC0gTWFrZSBIVFRQIHJlcXVlc3RzXG4gICAgICogLSBTZW5kIG1lc3NhZ2VzIHRvIHF1ZXVlc1xuICAgICAqIC0gRXhlY3V0ZSBkYXRhYmFzZSBxdWVyaWVzXG4gICAgICogLSBQcm9jZXNzIGJ1c2luZXNzIGxvZ2ljXG4gICAgICogXG4gICAgICogU2V0IHRoZSByZXN1bHQgaW4gdGhlIGNvbnRleHQ6IGAoY29udGV4dCBhcyBhbnkpLl9yZXN1bHQgPSB5b3VyUmVzdWx0O2BcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBAQV9GZWF0dXJlLkV4dGVuZCh7IHNjb3BlOiBbSHR0cENoYW5uZWxdIH0pXG4gICAgICogYXN5bmMgW0FfQ2hhbm5lbEZlYXR1cmVzLm9uUmVxdWVzdF0oXG4gICAgICogICAgIEBBX0luamVjdChBX0NoYW5uZWxSZXF1ZXN0KSBjb250ZXh0OiBBX0NoYW5uZWxSZXF1ZXN0XG4gICAgICogKSB7XG4gICAgICogICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29udGV4dC5wYXJhbXMudXJsKTtcbiAgICAgKiAgICAgKGNvbnRleHQgYXMgYW55KS5fcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFfQ2hhbm5lbEZlYXR1cmVzLm9uUmVxdWVzdFxuICAgIH0pXG4gICAgYXN5bmMgb25SZXF1ZXN0KC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb24gLSBubyBvcGVyYXRpb25cbiAgICAgICAgLy8gT3ZlcnJpZGUgaW4gY3VzdG9tIGltcGxlbWVudGF0aW9uc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBvc3QtcmVxdWVzdCBwcm9jZXNzaW5nIGhvb2sgLSBjYWxsZWQgYWZ0ZXIgc3VjY2Vzc2Z1bCByZXF1ZXN0IHByb2Nlc3NpbmcuXG4gICAgICogXG4gICAgICogVXNlIHRoaXMgaG9vayBmb3I6XG4gICAgICogLSBSZXNwb25zZSB0cmFuc2Zvcm1hdGlvblxuICAgICAqIC0gTG9nZ2luZ1xuICAgICAqIC0gQW5hbHl0aWNzXG4gICAgICogLSBDYWNoaW5nIHJlc3VsdHNcbiAgICAgKiAtIENsZWFudXBcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBAQV9GZWF0dXJlLkV4dGVuZCh7IHNjb3BlOiBbSHR0cENoYW5uZWxdIH0pXG4gICAgICogYXN5bmMgW0FfQ2hhbm5lbEZlYXR1cmVzLm9uQWZ0ZXJSZXF1ZXN0XShcbiAgICAgKiAgICAgQEFfSW5qZWN0KEFfQ2hhbm5lbFJlcXVlc3QpIGNvbnRleHQ6IEFfQ2hhbm5lbFJlcXVlc3RcbiAgICAgKiApIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYFJlcXVlc3QgY29tcGxldGVkIGluICR7RGF0ZS5ub3coKSAtIGNvbnRleHQuc3RhcnRUaW1lfW1zYCk7XG4gICAgICogICAgIGF3YWl0IHRoaXMuY2FjaGVSZXNwb25zZShjb250ZXh0LnBhcmFtcywgY29udGV4dC5kYXRhKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBX0NoYW5uZWxGZWF0dXJlcy5vbkFmdGVyUmVxdWVzdFxuICAgIH0pXG4gICAgYXN5bmMgb25BZnRlclJlcXVlc3QoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiAtIG5vIG9wZXJhdGlvblxuICAgICAgICAvLyBPdmVycmlkZSBpbiBjdXN0b20gaW1wbGVtZW50YXRpb25zXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgaGFuZGxpbmcgaG9vayAtIGNhbGxlZCB3aGVuIGFueSBvcGVyYXRpb24gZmFpbHMuXG4gICAgICogXG4gICAgICogVXNlIHRoaXMgaG9vayBmb3I6XG4gICAgICogLSBFcnJvciBsb2dnaW5nXG4gICAgICogLSBFcnJvciB0cmFuc2Zvcm1hdGlvblxuICAgICAqIC0gQWxlcnRpbmdcbiAgICAgKiAtIFJldHJ5IGxvZ2ljXG4gICAgICogLSBGYWxsYmFjayBtZWNoYW5pc21zXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQEFfRmVhdHVyZS5FeHRlbmQoeyBzY29wZTogW0h0dHBDaGFubmVsXSB9KVxuICAgICAqIGFzeW5jIFtBX0NoYW5uZWxGZWF0dXJlcy5vbkVycm9yXShcbiAgICAgKiAgICAgQEFfSW5qZWN0KEFfQ2hhbm5lbFJlcXVlc3QpIGNvbnRleHQ6IEFfQ2hhbm5lbFJlcXVlc3RcbiAgICAgKiApIHtcbiAgICAgKiAgICAgY29uc29sZS5lcnJvcignUmVxdWVzdCBmYWlsZWQ6JywgY29udGV4dC5wYXJhbXMsIGNvbnRleHQuZmFpbGVkKTtcbiAgICAgKiAgICAgYXdhaXQgdGhpcy5sb2dFcnJvcihjb250ZXh0KTtcbiAgICAgKiAgICAgYXdhaXQgdGhpcy5zZW5kQWxlcnQoY29udGV4dCk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9DaGFubmVsRmVhdHVyZXMub25FcnJvclxuICAgIH0pXG4gICAgYXN5bmMgb25FcnJvciguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9uIC0gbm8gb3BlcmF0aW9uXG4gICAgICAgIC8vIE92ZXJyaWRlIGluIGN1c3RvbSBpbXBsZW1lbnRhdGlvbnNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIG9wZXJhdGlvbiBob29rIC0gY2FsbGVkIGZvciBmaXJlLWFuZC1mb3JnZXQgbWVzc2FnaW5nLlxuICAgICAqIFxuICAgICAqIFVzZSB0aGlzIGhvb2sgZm9yOlxuICAgICAqIC0gTWVzc2FnZSBicm9hZGNhc3RpbmdcbiAgICAgKiAtIEV2ZW50IHB1Ymxpc2hpbmdcbiAgICAgKiAtIE5vdGlmaWNhdGlvbiBzZW5kaW5nXG4gICAgICogLSBRdWV1ZSBvcGVyYXRpb25zXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQEFfRmVhdHVyZS5FeHRlbmQoeyBzY29wZTogW0V2ZW50Q2hhbm5lbF0gfSlcbiAgICAgKiBhc3luYyBbQV9DaGFubmVsRmVhdHVyZXMub25TZW5kXShcbiAgICAgKiAgICAgQEFfSW5qZWN0KEFfQ2hhbm5lbFJlcXVlc3QpIGNvbnRleHQ6IEFfQ2hhbm5lbFJlcXVlc3RcbiAgICAgKiApIHtcbiAgICAgKiAgICAgY29uc3QgeyBldmVudFR5cGUsIHBheWxvYWQgfSA9IGNvbnRleHQucGFyYW1zO1xuICAgICAqICAgICBhd2FpdCB0aGlzLnB1Ymxpc2hFdmVudChldmVudFR5cGUsIHBheWxvYWQpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFfQ2hhbm5lbEZlYXR1cmVzLm9uU2VuZFxuICAgIH0pXG4gICAgYXN5bmMgb25TZW5kKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb24gLSBubyBvcGVyYXRpb25cbiAgICAgICAgLy8gT3ZlcnJpZGUgaW4gY3VzdG9tIGltcGxlbWVudGF0aW9uc1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PSBQdWJsaWMgQVBJIE1ldGhvZHMgPT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBjaGFubmVsIGJ5IGNhbGxpbmcgdGhlIG9uQ29ubmVjdCBsaWZlY3ljbGUgaG9vay5cbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYXV0b21hdGljYWxseSB3aGVuIGFjY2Vzc2luZyB0aGUgYGluaXRpYWxpemVgIHByb3BlcnR5LlxuICAgICAqIFlvdSBjYW4gYWxzbyBjYWxsIGl0IG1hbnVhbGx5IGlmIG5lZWRlZC5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZFxuICAgICAqL1xuICAgIGFzeW5jIGNvbm5lY3QoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX0NoYW5uZWxGZWF0dXJlcy5vbkNvbm5lY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIHRoZSBjaGFubmVsIGJ5IGNhbGxpbmcgdGhlIG9uRGlzY29ubmVjdCBsaWZlY3ljbGUgaG9vay5cbiAgICAgKiBcbiAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gcHJvcGVybHkgY2xlYW51cCByZXNvdXJjZXMgd2hlbiB0aGUgY2hhbm5lbCBpcyBubyBsb25nZXIgbmVlZGVkLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBjbGVhbnVwIGlzIGNvbXBsZXRlXG4gICAgICovXG4gICAgYXN5bmMgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ2hhbm5lbEZlYXR1cmVzLm9uRGlzY29ubmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZHMgYSByZXF1ZXN0IGFuZCB3YWl0cyBmb3IgYSByZXNwb25zZSAoUmVxdWVzdC9SZXNwb25zZSBwYXR0ZXJuKS5cbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBmb2xsb3dzIHRoZSBjb21wbGV0ZSByZXF1ZXN0IGxpZmVjeWNsZTpcbiAgICAgKiAxLiBFbnN1cmVzIGNoYW5uZWwgaXMgaW5pdGlhbGl6ZWRcbiAgICAgKiAyLiBDcmVhdGVzIHJlcXVlc3Qgc2NvcGUgYW5kIGNvbnRleHRcbiAgICAgKiAzLiBDYWxscyBvbkJlZm9yZVJlcXVlc3QgaG9va1xuICAgICAqIDQuIENhbGxzIG9uUmVxdWVzdCBob29rIChtYWluIHByb2Nlc3NpbmcpXG4gICAgICogNS4gQ2FsbHMgb25BZnRlclJlcXVlc3QgaG9va1xuICAgICAqIDYuIFJldHVybnMgdGhlIHJlc3BvbnNlIGNvbnRleHRcbiAgICAgKiBcbiAgICAgKiBJZiBhbnkgc3RlcCBmYWlscywgdGhlIG9uRXJyb3IgaG9vayBpcyBjYWxsZWQgYW5kIHRoZSBlcnJvciBpcyBjYXB0dXJlZFxuICAgICAqIGluIHRoZSByZXR1cm5lZCBjb250ZXh0LlxuICAgICAqIFxuICAgICAqIEB0ZW1wbGF0ZSBfUGFyYW1zVHlwZSBUaGUgdHlwZSBvZiByZXF1ZXN0IHBhcmFtZXRlcnNcbiAgICAgKiBAdGVtcGxhdGUgX1Jlc3VsdFR5cGUgVGhlIHR5cGUgb2YgcmVzcG9uc2UgZGF0YVxuICAgICAqIEBwYXJhbSBwYXJhbXMgVGhlIHJlcXVlc3QgcGFyYW1ldGVyc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFfQ2hhbm5lbFJlcXVlc3Q8X1BhcmFtc1R5cGUsIF9SZXN1bHRUeXBlPj59IFJlcXVlc3QgY29udGV4dCB3aXRoIHJlc3BvbnNlXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogLy8gQmFzaWMgdXNhZ2VcbiAgICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNoYW5uZWwucmVxdWVzdCh7IGFjdGlvbjogJ2dldERhdGEnLCBpZDogMTIzIH0pO1xuICAgICAqIFxuICAgICAqIC8vIFR5cGVkIHVzYWdlXG4gICAgICogaW50ZXJmYWNlIFVzZXJSZXF1ZXN0IHsgdXNlcklkOiBzdHJpbmc7IH1cbiAgICAgKiBpbnRlcmZhY2UgVXNlclJlc3BvbnNlIHsgbmFtZTogc3RyaW5nOyBlbWFpbDogc3RyaW5nOyB9XG4gICAgICogXG4gICAgICogY29uc3QgdXNlclJlc3BvbnNlID0gYXdhaXQgY2hhbm5lbC5yZXF1ZXN0PFVzZXJSZXF1ZXN0LCBVc2VyUmVzcG9uc2U+KHtcbiAgICAgKiAgICAgdXNlcklkOiAndXNlci0xMjMnXG4gICAgICogfSk7XG4gICAgICogXG4gICAgICogaWYgKCF1c2VyUmVzcG9uc2UuZmFpbGVkKSB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdVc2VyOicsIHVzZXJSZXNwb25zZS5kYXRhLm5hbWUpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBhc3luYyByZXF1ZXN0PFxuICAgICAgICBfUGFyYW1zVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgICAgICBfUmVzdWx0VHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgID4ocGFyYW1zOiBfUGFyYW1zVHlwZSk6IFByb21pc2U8QV9DaGFubmVsUmVxdWVzdDxfUGFyYW1zVHlwZSwgX1Jlc3VsdFR5cGU+PiB7XG4gICAgICAgIC8vIEVuc3VyZSBjaGFubmVsIGlzIGluaXRpYWxpemVkIGJlZm9yZSBwcm9jZXNzaW5nXG4gICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZTtcblxuICAgICAgICAvLyBTZXQgcHJvY2Vzc2luZyBmbGFnXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSB0cnVlO1xuXG4gICAgICAgIC8vIENyZWF0ZSBpc29sYXRlZCBzY29wZSBmb3IgdGhpcyByZXF1ZXN0XG4gICAgICAgIGNvbnN0IHJlcXVlc3RTY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6IGBhLWNoYW5uZWxAc2NvcGU6cmVxdWVzdDoke0FfSWRlbnRpdHlIZWxwZXIuZ2VuZXJhdGVUaW1lSWQoKX1gXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG4gICAgICAgIC8vIENyZWF0ZSByZXF1ZXN0IGNvbnRleHRcbiAgICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBBX0NoYW5uZWxSZXF1ZXN0PF9QYXJhbXNUeXBlLCBfUmVzdWx0VHlwZT4ocGFyYW1zKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gU2V0IHVwIGRlcGVuZGVuY3kgaW5qZWN0aW9uIHNjb3BlXG4gICAgICAgICAgICByZXF1ZXN0U2NvcGUucmVnaXN0ZXIoY29udGV4dCk7XG5cbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgcmVxdWVzdCBsaWZlY3ljbGVcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX0NoYW5uZWxGZWF0dXJlcy5vbkJlZm9yZVJlcXVlc3QsIHJlcXVlc3RTY29wZSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9DaGFubmVsRmVhdHVyZXMub25SZXF1ZXN0LCByZXF1ZXN0U2NvcGUpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ2hhbm5lbEZlYXR1cmVzLm9uQWZ0ZXJSZXF1ZXN0LCByZXF1ZXN0U2NvcGUpO1xuXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBjaGFubmVsLXNwZWNpZmljIGVycm9yXG4gICAgICAgICAgICBjb25zdCBjaGFubmVsRXJyb3IgPSBuZXcgQV9DaGFubmVsRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgY29udGV4dC5mYWlsKGNoYW5uZWxFcnJvcik7XG4gICAgICAgICAgICByZXF1ZXN0U2NvcGUucmVnaXN0ZXIoY2hhbm5lbEVycm9yKTtcblxuICAgICAgICAgICAgLy8gQ2FsbCBlcnJvciBoYW5kbGluZyBob29rXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9DaGFubmVsRmVhdHVyZXMub25FcnJvciwgcmVxdWVzdFNjb3BlKTtcblxuICAgICAgICAgICAgcmVxdWVzdFNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgY2hhbm5lbEVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBmaXJlLWFuZC1mb3JnZXQgbWVzc2FnZSAoU2VuZCBwYXR0ZXJuKS5cbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGZvciBvbmUtd2F5IGNvbW11bmljYXRpb24gd2hlcmUgbm8gcmVzcG9uc2UgaXMgZXhwZWN0ZWQ6XG4gICAgICogLSBFdmVudCBicm9hZGNhc3RpbmdcbiAgICAgKiAtIE5vdGlmaWNhdGlvbiBzZW5kaW5nXG4gICAgICogLSBNZXNzYWdlIHF1ZXVpbmdcbiAgICAgKiAtIExvZ2dpbmcgb3BlcmF0aW9uc1xuICAgICAqIFxuICAgICAqIFRoZSBtZXRob2QgZm9sbG93cyB0aGlzIGxpZmVjeWNsZTpcbiAgICAgKiAxLiBFbnN1cmVzIGNoYW5uZWwgaXMgaW5pdGlhbGl6ZWRcbiAgICAgKiAyLiBDcmVhdGVzIHNlbmQgc2NvcGUgYW5kIGNvbnRleHRcbiAgICAgKiAzLiBDYWxscyBvblNlbmQgaG9va1xuICAgICAqIDQuIENvbXBsZXRlcyB3aXRob3V0IHJldHVybmluZyBkYXRhXG4gICAgICogXG4gICAgICogSWYgdGhlIG9wZXJhdGlvbiBmYWlscywgdGhlIG9uRXJyb3IgaG9vayBpcyBjYWxsZWQgYnV0IG5vIGVycm9yIGlzIHRocm93blxuICAgICAqIHRvIHRoZSBjYWxsZXIgKGZpcmUtYW5kLWZvcmdldCBzZW1hbnRpY3MpLlxuICAgICAqIFxuICAgICAqIEB0ZW1wbGF0ZSBfUGFyYW1zVHlwZSBUaGUgdHlwZSBvZiBtZXNzYWdlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBzZW5kXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHNlbmQgaXMgY29tcGxldGVcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiAvLyBTZW5kIG5vdGlmaWNhdGlvblxuICAgICAqIGF3YWl0IGNoYW5uZWwuc2VuZCh7XG4gICAgICogICAgIHR5cGU6ICd1c2VyLmxvZ2luJyxcbiAgICAgKiAgICAgdXNlcklkOiAndXNlci0xMjMnLFxuICAgICAqICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAqIH0pO1xuICAgICAqIFxuICAgICAqIC8vIFNlbmQgdG8gbWVzc2FnZSBxdWV1ZVxuICAgICAqIGF3YWl0IGNoYW5uZWwuc2VuZCh7XG4gICAgICogICAgIHF1ZXVlOiAnZW1haWwtcXVldWUnLFxuICAgICAqICAgICBwYXlsb2FkOiB7XG4gICAgICogICAgICAgICB0bzogJ3VzZXJAZXhhbXBsZS5jb20nLFxuICAgICAqICAgICAgICAgc3ViamVjdDogJ1dlbGNvbWUhJyxcbiAgICAgKiAgICAgICAgIGJvZHk6ICdXZWxjb21lIHRvIG91ciBzZXJ2aWNlISdcbiAgICAgKiAgICAgfVxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGFzeW5jIHNlbmQ8X1BhcmFtc1R5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55Pj4oXG4gICAgICAgIG1lc3NhZ2U6IF9QYXJhbXNUeXBlXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEVuc3VyZSBjaGFubmVsIGlzIGluaXRpYWxpemVkIGJlZm9yZSBwcm9jZXNzaW5nXG4gICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZTtcblxuICAgICAgICAvLyBTZXQgcHJvY2Vzc2luZyBmbGFnXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSB0cnVlO1xuXG4gICAgICAgIC8vIENyZWF0ZSBpc29sYXRlZCBzY29wZSBmb3IgdGhpcyBzZW5kIG9wZXJhdGlvblxuICAgICAgICBjb25zdCByZXF1ZXN0U2NvcGUgPSBuZXcgQV9TY29wZSh7XG4gICAgICAgICAgICBuYW1lOiBgYS1jaGFubmVsQHNjb3BlOnNlbmQ6JHtBX0lkZW50aXR5SGVscGVyLmdlbmVyYXRlVGltZUlkKCl9YFxuICAgICAgICB9KVxuICAgICAgICAgICAgLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuXG4gICAgICAgIC8vIENyZWF0ZSByZXF1ZXN0IGNvbnRleHQgZm9yIHRoZSBtZXNzYWdlXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgQV9PcGVyYXRpb25Db250ZXh0KCdzZW5kJywgbWVzc2FnZSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFNldCB1cCBkZXBlbmRlbmN5IGluamVjdGlvbiBzY29wZVxuICAgICAgICAgICAgcmVxdWVzdFNjb3BlLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcbiAgICAgICAgICAgIHJlcXVlc3RTY29wZS5yZWdpc3Rlcihjb250ZXh0KTtcblxuICAgICAgICAgICAgLy8gRXhlY3V0ZSBzZW5kIG9wZXJhdGlvblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ2hhbm5lbEZlYXR1cmVzLm9uU2VuZCwgcmVxdWVzdFNjb3BlKTtcblxuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc2luZyA9IGZhbHNlO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBjaGFubmVsLXNwZWNpZmljIGVycm9yXG4gICAgICAgICAgICBjb25zdCBjaGFubmVsRXJyb3IgPSBuZXcgQV9DaGFubmVsRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgcmVxdWVzdFNjb3BlLnJlZ2lzdGVyKGNoYW5uZWxFcnJvcik7XG4gICAgICAgICAgICBjb250ZXh0LmZhaWwoY2hhbm5lbEVycm9yKTtcblxuICAgICAgICAgICAgLy8gQ2FsbCBlcnJvciBoYW5kbGluZyBob29rXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9DaGFubmVsRmVhdHVyZXMub25FcnJvciwgcmVxdWVzdFNjb3BlKTtcblxuICAgICAgICAgICAgcmVxdWVzdFNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgLy8gTm90ZTogV2UgZG9uJ3QgcmUtdGhyb3cgdGhlIGVycm9yIGZvciBmaXJlLWFuZC1mb3JnZXQgb3BlcmF0aW9uc1xuICAgICAgICAgICAgLy8gVGhlIGVycm9yIGlzIGhhbmRsZWQgYnkgdGhlIG9uRXJyb3IgaG9va1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGZ1dHVyZSB2ZXJzaW9ucy5cbiAgICAgKiBVc2UgcmVxdWVzdCgpIG9yIHNlbmQoKSBtZXRob2RzIGluc3RlYWQgZGVwZW5kaW5nIG9uIHlvdXIgY29tbXVuaWNhdGlvbiBwYXR0ZXJuLlxuICAgICAqIFxuICAgICAqIEZvciByZXF1ZXN0L3Jlc3BvbnNlIHBhdHRlcm46IFVzZSByZXF1ZXN0KClcbiAgICAgKiBGb3IgZmlyZS1hbmQtZm9yZ2V0IHBhdHRlcm46IFVzZSBzZW5kKClcbiAgICAgKiBGb3IgY29uc3VtZXIgcGF0dGVybnM6IEltcGxlbWVudCBjdXN0b20gY29uc3VtZXIgbG9naWMgdXNpbmcgcmVxdWVzdCgpIGluIGEgbG9vcFxuICAgICAqL1xuICAgIGFzeW5jIGNvbnN1bWU8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+PigpOiBQcm9taXNlPEFfT3BlcmF0aW9uQ29udGV4dDxhbnksIFQ+PiB7XG4gICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZTtcblxuICAgICAgICB0aGlzLl9wcm9jZXNzaW5nID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0U2NvcGUgPSBuZXcgQV9TY29wZSh7IG5hbWU6IGBhLWNoYW5uZWxAc2NvcGU6Y29uc3VtZToke0FfSWRlbnRpdHlIZWxwZXIuZ2VuZXJhdGVUaW1lSWQoKX1gIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBBX09wZXJhdGlvbkNvbnRleHQoJ2NvbnN1bWUnLCB7fSBhcyBUKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVxdWVzdFNjb3BlLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcbiAgICAgICAgICAgIHJlcXVlc3RTY29wZS5yZWdpc3Rlcihjb250ZXh0KTtcblxuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9DaGFubmVsRmVhdHVyZXMub25Db25zdW1lLCByZXF1ZXN0U2NvcGUpO1xuXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0IGFzIEFfT3BlcmF0aW9uQ29udGV4dDxhbnksIFQ+O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3QgY2hhbm5lbEVycm9yID0gbmV3IEFfQ2hhbm5lbEVycm9yKGVycm9yKVxuXG4gICAgICAgICAgICBjb250ZXh0LmZhaWwoY2hhbm5lbEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ2hhbm5lbEZlYXR1cmVzLm9uRXJyb3IsIHJlcXVlc3RTY29wZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0IGFzIEFfT3BlcmF0aW9uQ29udGV4dDxhbnksIFQ+O1xuICAgICAgICB9XG4gICAgfVxuXG59IiwgImltcG9ydCB7IEFfRnJhZ21lbnQsIEFfTWV0YSwgQV9UWVBFU19fRnJhZ21lbnRfU2VyaWFsaXplZCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9FeGVjdXRpb25Db250ZXh0PFxuICAgIF9NZXRhVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgIF9TZXJpYWxpemVkVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cblxuICAgIHByb3RlY3RlZCBfbWV0YTogQV9NZXRhPF9NZXRhVHlwZSwgX1NlcmlhbGl6ZWRUeXBlPjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICAgIGRlZmF1bHRzPzogUGFydGlhbDxfTWV0YVR5cGU+LFxuICAgICkge1xuICAgICAgICBzdXBlcih7IG5hbWUgfSk7XG4gICAgICAgIHRoaXMuX21ldGEgPSBuZXcgQV9NZXRhPF9NZXRhVHlwZSwgX1NlcmlhbGl6ZWRUeXBlPigpO1xuXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRlZmF1bHRzKSB7XG4gICAgICAgICAgICB0aGlzLl9tZXRhLnNldChrZXkgYXMga2V5b2YgX01ldGFUeXBlLCBkZWZhdWx0c1trZXkgYXMga2V5b2YgX01ldGFUeXBlXSBhcyBfTWV0YVR5cGVba2V5b2YgX01ldGFUeXBlXSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhdG9yPFtrZXlvZiBfTWV0YVR5cGUsIF9NZXRhVHlwZVtrZXlvZiBfTWV0YVR5cGVdXT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWV0YVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgfVxuXG5cbiAgICBnZXQgbWV0YSgpOiBBX01ldGE8X01ldGFUeXBlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXRhO1xuICAgIH1cblxuXG4gICAgZ2V0PEsgZXh0ZW5kcyBrZXlvZiBfTWV0YVR5cGU+KGtleTogSyk6IF9NZXRhVHlwZVtLXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXRhLmdldChrZXkpO1xuICAgIH1cblxuICAgIHNldDxLIGV4dGVuZHMga2V5b2YgX01ldGFUeXBlPihrZXk6IEssIHZhbHVlOiBfTWV0YVR5cGVbS10pOiB0aGlzIHtcbiAgICAgICAgdGhpcy5fbWV0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGhhcyhrZXk6IGtleW9mIF9NZXRhVHlwZSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWV0YS5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICBkcm9wKGtleToga2V5b2YgX01ldGFUeXBlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX21ldGEuZGVsZXRlKGtleSk7XG4gICAgfVxuXG4gICAgY2xlYXIoKTogdGhpcyB7XG4gICAgICAgIHRoaXMuX21ldGEuY2xlYXIoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG5cbiAgICB0b1JhdygpOiBfU2VyaWFsaXplZFR5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWV0YS50b0pTT04oKTtcbiAgICB9XG5cbiAgICB0b0pTT04oKTogQV9UWVBFU19fRnJhZ21lbnRfU2VyaWFsaXplZCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAuLi50aGlzLm1ldGEudG9KU09OKCksXG4gICAgICAgIH1cbiAgICB9XG59IiwgImltcG9ydCB7IEFfRXJyb3IsIEFfRnJhZ21lbnQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9PcGVyYXRpb25fU2VyaWFsaXplZCwgQV9PcGVyYXRpb25fU3RvcmFnZSB9IGZyb20gXCIuL0EtT3BlcmF0aW9uLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0V4ZWN1dGlvbkNvbnRleHQgfSBmcm9tIFwiLi4vQS1FeGVjdXRpb24vQS1FeGVjdXRpb24uY29udGV4dFwiO1xuXG5leHBvcnQgY2xhc3MgQV9PcGVyYXRpb25Db250ZXh0PFxuICAgIF9BbGxvd2VkT3BlcmF0aW9ucyBleHRlbmRzIHN0cmluZyA9IHN0cmluZyxcbiAgICBfUGFyYW1zVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgIF9SZXN1bHRUeXBlID0gYW55LFxuICAgIF9TdG9yYWdlVHlwZSBleHRlbmRzIEFfT3BlcmF0aW9uX1N0b3JhZ2U8X1Jlc3VsdFR5cGUsIF9QYXJhbXNUeXBlPiA9IEFfT3BlcmF0aW9uX1N0b3JhZ2U8X1Jlc3VsdFR5cGUsIF9QYXJhbXNUeXBlPlxuPiBleHRlbmRzIEFfRXhlY3V0aW9uQ29udGV4dDxcbiAgICBfU3RvcmFnZVR5cGUsXG4gICAgQV9PcGVyYXRpb25fU2VyaWFsaXplZDxfUmVzdWx0VHlwZSwgX1BhcmFtc1R5cGU+XG4+IHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBvcGVyYXRpb246IF9BbGxvd2VkT3BlcmF0aW9ucyxcbiAgICAgICAgcGFyYW1zPzogX1BhcmFtc1R5cGVcbiAgICApIHtcbiAgICAgICAgc3VwZXIoJ29wZXJhdGlvbi1jb250ZXh0Jyk7XG5cbiAgICAgICAgdGhpcy5tZXRhLnNldCgnbmFtZScsIG9wZXJhdGlvbik7XG4gICAgICAgIHRoaXMubWV0YS5zZXQoJ3BhcmFtcycsIHBhcmFtcyB8fCB7fSBhcyBfUGFyYW1zVHlwZSk7XG4gICAgfVxuXG4gICAgZ2V0IG5hbWUoKTogX0FsbG93ZWRPcGVyYXRpb25zIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9tZXRhLmdldCgnbmFtZScpIHx8IHRoaXMuX25hbWUpIGFzIF9BbGxvd2VkT3BlcmF0aW9ucztcbiAgICB9XG5cbiAgICBnZXQgcmVzdWx0KCk6IF9SZXN1bHRUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuZ2V0KCdyZXN1bHQnKTtcbiAgICB9XG5cbiAgICBnZXQgZXJyb3IoKTogQV9FcnJvciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXRhLmdldCgnZXJyb3InKTtcbiAgICB9XG5cbiAgICBnZXQgcGFyYW1zKCk6IF9QYXJhbXNUeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuZ2V0KCdwYXJhbXMnKSB8fCB7fSBhcyBfUGFyYW1zVHlwZTtcbiAgICB9XG5cblxuICAgIGZhaWwoZXJyb3I6IEFfRXJyb3IpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fbWV0YS5zZXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgIH1cblxuICAgIHN1Y2NlZWQocmVzdWx0OiBfUmVzdWx0VHlwZSk6IHZvaWQge1xuICAgICAgICB0aGlzLl9tZXRhLnNldCgncmVzdWx0JywgcmVzdWx0KTtcbiAgICB9XG5cblxuICAgIHRvSlNPTigpOiBBX09wZXJhdGlvbl9TZXJpYWxpemVkPF9SZXN1bHRUeXBlLCBfUGFyYW1zVHlwZT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgcGFyYW1zOiB0aGlzLnBhcmFtcyxcbiAgICAgICAgICAgIHJlc3VsdDogdGhpcy5yZXN1bHQgfHwge30gYXMgX1Jlc3VsdFR5cGUsXG4gICAgICAgICAgICBlcnJvcjogdGhpcy5lcnJvcj8udG9KU09OKCksXG4gICAgICAgIH1cbiAgICB9XG59IiwgImltcG9ydCB7IEFfRXJyb3IsIEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX09wZXJhdGlvbkNvbnRleHQgfSBmcm9tIFwiLi4vQS1PcGVyYXRpb24vQS1PcGVyYXRpb24uY29udGV4dFwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0NoYW5uZWxFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09IEVycm9yIFR5cGVzID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICAgIHN0YXRpYyByZWFkb25seSBNZXRob2ROb3RJbXBsZW1lbnRlZCA9ICdBLUNoYW5uZWwgTWV0aG9kIE5vdCBJbXBsZW1lbnRlZCc7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT0gUHJvcGVydGllcyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHByb3RlY3RlZCBfY29udGV4dD86IEFfT3BlcmF0aW9uQ29udGV4dFxuXG5cbiAgICAvKipcbiAgICAgKiBDaGFubmVsIEVycm9yIGFsbG93cyB0byBrZWVwIHRyYWNrIG9mIGVycm9ycyB3aXRoaW4gYSBjaGFubmVsIGlmIHNvbWV0aGluZyBnb2VzIHdyb25nXG4gICAgICogXG4gICAgICogXG4gICAgICogQHBhcmFtIG9yaWdpbmFsRXJyb3IgXG4gICAgICogQHBhcmFtIGNvbnRleHQgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIG9yaWdpbmFsRXJyb3I6IHN0cmluZyB8IEFfRXJyb3IgfCBFcnJvciB8IGFueSxcbiAgICAgICAgY29udGV4dD86IEFfT3BlcmF0aW9uQ29udGV4dCB8IHN0cmluZ1xuICAgICkge1xuICAgICAgICBpZiAoQV9UeXBlR3VhcmRzLmlzU3RyaW5nKGNvbnRleHQpKVxuICAgICAgICAgICAgc3VwZXIob3JpZ2luYWxFcnJvciwgY29udGV4dCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN1cGVyKG9yaWdpbmFsRXJyb3IpO1xuXG4gICAgICAgIGlmIChjb250ZXh0IGluc3RhbmNlb2YgQV9PcGVyYXRpb25Db250ZXh0KVxuICAgICAgICAgICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHRcbiAgICB9XG5cbiAgICAvKioqXG4gICAgICogUmV0dXJucyBDb250ZXh0IG9mIHRoZSBlcnJvclxuICAgICAqL1xuICAgIGdldCBjb250ZXh0KCk6IEFfT3BlcmF0aW9uQ29udGV4dCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0XG4gICAgfVxuXG5cbn0iLCAiXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQURBQVMgQS1DaGFubmVsIENvbnN0YW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgZW51bSBBX0NoYW5uZWxGZWF0dXJlcyB7XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCB0aW1lb3V0IGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uVGltZW91dCA9ICdfQV9DaGFubmVsX29uVGltZW91dCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCByZXRyeSBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvblJldHJ5ID0gJ19BX0NoYW5uZWxfb25SZXRyeScsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBjaXJjdWl0IGJyZWFrZXIgbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25DaXJjdWl0QnJlYWtlck9wZW4gPSAnX0FfQ2hhbm5lbF9vbkNpcmN1aXRCcmVha2VyT3BlbicsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBjYWNoZSBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkNhY2hlID0gJ19BX0NoYW5uZWxfb25DYWNoZScsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBjb25uZWN0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uQ29ubmVjdCA9ICdfQV9DaGFubmVsX29uQ29ubmVjdCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBkaXNjb25uZWN0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uRGlzY29ubmVjdCA9ICdfQV9DaGFubmVsX29uRGlzY29ubmVjdCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCByZXF1ZXN0IHByZXBhcmF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uQmVmb3JlUmVxdWVzdCA9ICdfQV9DaGFubmVsX29uQmVmb3JlUmVxdWVzdCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCByZXF1ZXN0IHNlbmRpbmcgbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25SZXF1ZXN0ID0gJ19BX0NoYW5uZWxfb25SZXF1ZXN0JyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIHJlcXVlc3QgcG9zdC1wcm9jZXNzaW5nIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uQWZ0ZXJSZXF1ZXN0ID0gJ19BX0NoYW5uZWxfb25BZnRlclJlcXVlc3QnLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgZXJyb3IgaGFuZGxpbmcgbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICogXG4gICAgICogWyFdIFRoZSBzYW1lIGFwcHJvYWNoIHVzZXMgZm9yIEFMTCBlcnJvcnMgd2l0aGluIHRoZSBjaGFubmVsXG4gICAgICovXG4gICAgb25FcnJvciA9ICdfQV9DaGFubmVsX29uRXJyb3InLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgc2VuZCBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvblNlbmQgPSAnX0FfQ2hhbm5lbF9vblNlbmQnLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgY29uc3VtZSBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkNvbnN1bWUgPSAnX0FfQ2hhbm5lbF9vbkNvbnN1bWUnLFxufVxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBBLUNoYW5uZWwgUmVxdWVzdCBDb25zdGFudHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGVudW0gQV9DaGFubmVsUmVxdWVzdFN0YXR1c2VzIHtcbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IGlzIHBlbmRpbmdcbiAgICAgKi9cbiAgICBQRU5ESU5HID0gJ1BFTkRJTkcnLFxuICAgIC8qKipcbiAgICAgKiBSZXF1ZXN0IHdhcyBzdWNjZXNzZnVsXG4gICAgICovXG4gICAgU1VDQ0VTUyA9ICdTVUNDRVNTJyxcbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IGZhaWxlZFxuICAgICAqL1xuICAgIEZBSUxFRCA9ICdGQUlMRUQnLFxufSIsICJpbXBvcnQgeyBBX09wZXJhdGlvbkNvbnRleHQgfSBmcm9tIFwiLi4vQS1PcGVyYXRpb24vQS1PcGVyYXRpb24uY29udGV4dFwiO1xuaW1wb3J0IHsgQV9DaGFubmVsUmVxdWVzdFN0YXR1c2VzIH0gZnJvbSBcIi4vQS1DaGFubmVsLmNvbnN0YW50c1wiO1xuXG5leHBvcnQgY2xhc3MgQV9DaGFubmVsUmVxdWVzdDxcbiAgICBfUGFyYW1zVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgIF9SZXN1bHRUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4+IGV4dGVuZHMgQV9PcGVyYXRpb25Db250ZXh0PFxuICAgICdyZXF1ZXN0JyxcbiAgICBfUGFyYW1zVHlwZSxcbiAgICB7XG4gICAgICAgIGRhdGE/OiBfUmVzdWx0VHlwZTtcbiAgICAgICAgc3RhdHVzPzogQV9DaGFubmVsUmVxdWVzdFN0YXR1c2VzO1xuICAgIH1cbj4ge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBhcmFtcz86IF9QYXJhbXNUeXBlLFxuICAgICkge1xuICAgICAgICBzdXBlcigncmVxdWVzdCcsIHBhcmFtcyk7XG4gICAgfVxuXG5cbiAgICBnZXQgc3RhdHVzKCk6IEFfQ2hhbm5lbFJlcXVlc3RTdGF0dXNlcyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdD8uc3RhdHVzO1xuICAgIH1cblxuICAgIGdldCBkYXRhKCk6IF9SZXN1bHRUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0Py5kYXRhO1xuICAgIH1cblxuXG4gICAgc3VjY2VlZChyZXN1bHQ6IF9SZXN1bHRUeXBlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGV4aXN0ZWQgPSB0aGlzLnJlc3VsdDtcblxuICAgICAgICBzdXBlci5zdWNjZWVkKHtcbiAgICAgICAgICAgIC4uLmV4aXN0ZWQsXG4gICAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgICAgICBzdGF0dXM6IEFfQ2hhbm5lbFJlcXVlc3RTdGF0dXNlcy5TVUNDRVNTLFxuICAgICAgICB9KTtcbiAgICB9XG5cbn0gICAgIiwgIi8qKlxuICogQS1Db21tYW5kIFN0YXR1cyBFbnVtZXJhdGlvblxuICogXG4gKiBEZWZpbmVzIGFsbCBwb3NzaWJsZSBzdGF0ZXMgYSBjb21tYW5kIGNhbiBiZSBpbiBkdXJpbmcgaXRzIGxpZmVjeWNsZS5cbiAqIENvbW1hbmRzIHByb2dyZXNzIHRocm91Z2ggdGhlc2Ugc3RhdGVzIGluIGEgc3BlY2lmaWMgb3JkZXI6XG4gKiBDUkVBVEVEIOKGkiBJTklUSUFMSVpFRCDihpIgQ09NUElMRUQg4oaSIEVYRUNVVElORyDihpIgQ09NUExFVEVEL0ZBSUxFRFxuICovXG5leHBvcnQgZW51bSBBX0NvbW1hbmRfU3RhdHVzIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsIHN0YXRlIHdoZW4gY29tbWFuZCBpcyBpbnN0YW50aWF0ZWQgYnV0IG5vdCB5ZXQgcmVhZHkgZm9yIGV4ZWN1dGlvblxuICAgICAqL1xuICAgIENSRUFURUQgPSAnQ1JFQVRFRCcsXG5cbiAgICAvKipcbiAgICAgKiBDb21tYW5kIGhhcyBiZWVuIGluaXRpYWxpemVkIHdpdGggZXhlY3V0aW9uIHNjb3BlIGFuZCBkZXBlbmRlbmNpZXNcbiAgICAgKi9cbiAgICBJTklUSUFMSVpFRCA9ICdJTklUSUFMSVpFRCcsXG5cbiAgICAvKipcbiAgICAgKiBDb21tYW5kIGhhcyBiZWVuIGNvbXBpbGVkIGFuZCBpcyByZWFkeSBmb3IgZXhlY3V0aW9uXG4gICAgICovXG4gICAgQ09NUElMRUQgPSAnQ09NUElMRUQnLFxuXG4gICAgLyoqXG4gICAgICogQ29tbWFuZCBpcyBjdXJyZW50bHkgYmVpbmcgZXhlY3V0ZWRcbiAgICAgKi9cbiAgICBFWEVDVVRJTkcgPSAnRVhFQ1VUSU5HJyxcblxuICAgIC8qKlxuICAgICAqIENvbW1hbmQgaGFzIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlcbiAgICAgKi9cbiAgICBDT01QTEVURUQgPSAnQ09NUExFVEVEJyxcblxuICAgIC8qKlxuICAgICAqIENvbW1hbmQgZXhlY3V0aW9uIGhhcyBmYWlsZWQgd2l0aCBlcnJvcnNcbiAgICAgKi9cbiAgICBGQUlMRUQgPSAnRkFJTEVEJyxcbn1cblxuXG4vKipcbiAqIEEtQ29tbWFuZCBTdGF0ZSBUcmFuc2l0aW9uc1xuICogXG4gKiBEZWZpbmVzIHZhbGlkIHN0YXRlIHRyYW5zaXRpb25zIGZvciBjb21tYW5kIGxpZmVjeWNsZSBtYW5hZ2VtZW50LlxuICogVGhlc2UgdHJhbnNpdGlvbnMgYXJlIHVzZWQgYnkgdGhlIFN0YXRlTWFjaGluZSB0byBlbmZvcmNlIHByb3BlciBjb21tYW5kIGZsb3cuXG4gKi9cbmV4cG9ydCBlbnVtIEFfQ29tbWFuZFRyYW5zaXRpb25zIHtcbiAgICAvKiogVHJhbnNpdGlvbiBmcm9tIENSRUFURUQgdG8gSU5JVElBTElaRUQgc3RhdGUgKi9cbiAgICBDUkVBVEVEX1RPX0lOSVRJQUxJWkVEID0gJ2NyZWF0ZWRfaW5pdGlhbGl6ZWQnLFxuXG4gICAgLyoqIFRyYW5zaXRpb24gZnJvbSBJTklUSUFMSVpFRCB0byBFWEVDVVRJTkcgc3RhdGUgKi9cbiAgICBJTklUSUFMSVpFRF9UT19FWEVDVVRJTkcgPSAnaW5pdGlhbGl6ZWRfZXhlY3V0aW5nJyxcblxuICAgIC8qKiBUcmFuc2l0aW9uIGZyb20gRVhFQ1VUSU5HIHRvIENPTVBMRVRFRCBzdGF0ZSAoc3VjY2VzcyBwYXRoKSAqL1xuICAgIEVYRUNVVElOR19UT19DT01QTEVURUQgPSAnZXhlY3V0aW5nX2NvbXBsZXRlZCcsXG5cbiAgICAvKiogVHJhbnNpdGlvbiBmcm9tIEVYRUNVVElORyB0byBGQUlMRUQgc3RhdGUgKGVycm9yIHBhdGgpICovXG4gICAgRVhFQ1VUSU5HX1RPX0ZBSUxFRCA9ICdleGVjdXRpbmdfZmFpbGVkJyxcbn1cblxuLyoqXG4gKiBBLUNvbW1hbmQgTGlmZWN5Y2xlIEZlYXR1cmVzXG4gKiBcbiAqIERlZmluZXMgZmVhdHVyZSBleHRlbnNpb24gcG9pbnRzIHRoYXQgY29tcG9uZW50cyBjYW4gaW1wbGVtZW50IHRvIGN1c3RvbWl6ZVxuICogY29tbWFuZCBiZWhhdmlvciBhdCBkaWZmZXJlbnQgc3RhZ2VzIG9mIHRoZSBsaWZlY3ljbGUuXG4gKiBcbiAqIENvbXBvbmVudHMgY2FuIHVzZSBAQV9GZWF0dXJlLkV4dGVuZCgpIGRlY29yYXRvciB3aXRoIHRoZXNlIGZlYXR1cmUgbmFtZXNcbiAqIHRvIGluamVjdCBjdXN0b20gbG9naWMgaW50byBjb21tYW5kIGV4ZWN1dGlvbi5cbiAqL1xuZXhwb3J0IGVudW0gQV9Db21tYW5kRmVhdHVyZXMge1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBkdXJpbmcgY29tbWFuZCBpbml0aWFsaXphdGlvbiBwaGFzZVxuICAgICAqIFVzZSB0byBzZXQgdXAgZXhlY3V0aW9uIGVudmlyb25tZW50LCB2YWxpZGF0ZSBwYXJhbWV0ZXJzLCBvciBwcmVwYXJlIHJlc291cmNlc1xuICAgICAqL1xuICAgIG9uSW5pdCA9ICdfQV9Db21tYW5kX29uSW5pdCcsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYmVmb3JlIGNvbW1hbmQgZXhlY3V0aW9uIHN0YXJ0c1xuICAgICAqIFVzZSBmb3IgcHJlLWV4ZWN1dGlvbiB2YWxpZGF0aW9uLCBsb2dnaW5nLCBvciBzZXR1cCB0YXNrc1xuICAgICAqL1xuICAgIG9uQmVmb3JlRXhlY3V0ZSA9ICdfQV9Db21tYW5kX29uQmVmb3JlRXhlY3V0ZScsXG5cbiAgICAvKipcbiAgICAgKiBNYWluIGNvbW1hbmQgZXhlY3V0aW9uIGxvZ2ljXG4gICAgICogQ29yZSBidXNpbmVzcyBsb2dpYyBzaG91bGQgYmUgaW1wbGVtZW50ZWQgaGVyZVxuICAgICAqL1xuICAgIG9uRXhlY3V0ZSA9ICdfQV9Db21tYW5kX29uRXhlY3V0ZScsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgY29tbWFuZCBleGVjdXRpb24gY29tcGxldGVzIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICogVXNlIGZvciBjbGVhbnVwLCBsb2dnaW5nLCBvciBwb3N0LXByb2Nlc3NpbmcgdGFza3NcbiAgICAgKi9cbiAgICBvbkFmdGVyRXhlY3V0ZSA9ICdfQV9Db21tYW5kX29uQWZ0ZXJFeGVjdXRlJyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGNvbW1hbmQgY29tcGxldGVzIHN1Y2Nlc3NmdWxseVxuICAgICAqIFVzZSBmb3Igc3VjY2Vzcy1zcGVjaWZpYyBvcGVyYXRpb25zIGxpa2Ugbm90aWZpY2F0aW9ucyBvciByZXN1bHQgcHJvY2Vzc2luZ1xuICAgICAqL1xuICAgIG9uQ29tcGxldGUgPSAnX0FfQ29tbWFuZF9vbkNvbXBsZXRlJyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGNvbW1hbmQgZXhlY3V0aW9uIGZhaWxzXG4gICAgICogVXNlIGZvciBlcnJvciBoYW5kbGluZywgY2xlYW51cCwgb3IgZmFpbHVyZSBub3RpZmljYXRpb25zXG4gICAgICovXG4gICAgb25GYWlsID0gJ19BX0NvbW1hbmRfb25GYWlsJyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgZXhlY3V0aW9uXG4gICAgICogVXNlIGZvciBlcnJvciBsb2dnaW5nLCB0cmFuc2Zvcm1hdGlvbiwgb3IgcmVjb3ZlcnkgYXR0ZW1wdHNcbiAgICAgKi9cbiAgICBvbkVycm9yID0gJ19BX0NvbW1hbmRfb25FcnJvcicsXG59XG5cblxuZXhwb3J0IGVudW0gQV9Db21tYW5kRXZlbnQge1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBkdXJpbmcgY29tbWFuZCBpbml0aWFsaXphdGlvbiBwaGFzZVxuICAgICAqIFVzZSB0byBzZXQgdXAgZXhlY3V0aW9uIGVudmlyb25tZW50LCB2YWxpZGF0ZSBwYXJhbWV0ZXJzLCBvciBwcmVwYXJlIHJlc291cmNlc1xuICAgICAqL1xuICAgIG9uSW5pdCA9ICdvbkluaXQnLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGJlZm9yZSBjb21tYW5kIGV4ZWN1dGlvbiBzdGFydHNcbiAgICAgKiBVc2UgZm9yIHByZS1leGVjdXRpb24gdmFsaWRhdGlvbiwgbG9nZ2luZywgb3Igc2V0dXAgdGFza3NcbiAgICAgKi9cbiAgICBvbkJlZm9yZUV4ZWN1dGUgPSAnb25CZWZvcmVFeGVjdXRlJyxcblxuICAgIC8qKlxuICAgICAqIE1haW4gY29tbWFuZCBleGVjdXRpb24gbG9naWNcbiAgICAgKiBDb3JlIGJ1c2luZXNzIGxvZ2ljIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBoZXJlXG4gICAgICovXG4gICAgb25FeGVjdXRlID0gJ29uRXhlY3V0ZScsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgY29tbWFuZCBleGVjdXRpb24gY29tcGxldGVzIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICogVXNlIGZvciBjbGVhbnVwLCBsb2dnaW5nLCBvciBwb3N0LXByb2Nlc3NpbmcgdGFza3NcbiAgICAgKi9cbiAgICBvbkFmdGVyRXhlY3V0ZSA9ICdvbkFmdGVyRXhlY3V0ZScsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBjb21tYW5kIGNvbXBsZXRlcyBzdWNjZXNzZnVsbHlcbiAgICAgKiBVc2UgZm9yIHN1Y2Nlc3Mtc3BlY2lmaWMgb3BlcmF0aW9ucyBsaWtlIG5vdGlmaWNhdGlvbnMgb3IgcmVzdWx0IHByb2Nlc3NpbmdcbiAgICAgKi9cbiAgICBvbkNvbXBsZXRlID0gJ29uQ29tcGxldGUnLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gY29tbWFuZCBleGVjdXRpb24gZmFpbHNcbiAgICAgKiBVc2UgZm9yIGVycm9yIGhhbmRsaW5nLCBjbGVhbnVwLCBvciBmYWlsdXJlIG5vdGlmaWNhdGlvbnNcbiAgICAgKi9cbiAgICBvbkZhaWwgPSAnb25GYWlsJyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgZXhlY3V0aW9uXG4gICAgICogVXNlIGZvciBlcnJvciBsb2dnaW5nLCB0cmFuc2Zvcm1hdGlvbiwgb3IgcmVjb3ZlcnkgYXR0ZW1wdHNcbiAgICAgKi9cbiAgICBvbkVycm9yID0gJ29uRXJyb3InLFxufVxuXG4vKipcbiAqIFR5cGUgYWxpYXMgZm9yIGNvbW1hbmQgbGlmZWN5Y2xlIGV2ZW50IG5hbWVzXG4gKiBSZXByZXNlbnRzIGFsbCBhdmFpbGFibGUgZXZlbnRzIHRoYXQgY2FuIGJlIGxpc3RlbmVkIHRvIG9uIGEgY29tbWFuZCBpbnN0YW5jZVxuICovXG5leHBvcnQgdHlwZSBBX0NvbW1hbmRFdmVudHMgPSBrZXlvZiB0eXBlb2YgQV9Db21tYW5kRXZlbnQ7XG5cblxuXG5cblxuIiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0NvbW1hbmRFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgQ29tbWFuZFNjb3BlQmluZGluZ0Vycm9yID0gJ0EtQ29tbWFuZCBTY29wZSBCaW5kaW5nIEVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBFeGVjdXRpb25FcnJvciA9ICdBLUNvbW1hbmQgRXhlY3V0aW9uIEVycm9yJztcblxuXG4gICAgc3RhdGljIHJlYWRvbmx5IFJlc3VsdFByb2Nlc3NpbmdFcnJvciA9ICdBLUNvbW1hbmQgUmVzdWx0IFByb2Nlc3NpbmcgRXJyb3InO1xuXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBpbmRpY2F0aW5nIHRoYXQgdGhlIGNvbW1hbmQgd2FzIGludGVycnVwdGVkIGR1cmluZyBleGVjdXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgQ29tbWFuZEludGVycnVwdGVkRXJyb3IgPSAnQS1Db21tYW5kIEludGVycnVwdGVkIEVycm9yJztcbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfU3RhdGVNYWNoaW5lRXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIHN0YXRpYyByZWFkb25seSBJbml0aWFsaXphdGlvbkVycm9yID0gJ0EtU3RhdGVNYWNoaW5lIEluaXRpYWxpemF0aW9uIEVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBUcmFuc2l0aW9uRXJyb3IgPSAnQS1TdGF0ZU1hY2hpbmUgVHJhbnNpdGlvbiBFcnJvcic7XG4gICAgXG59IiwgImV4cG9ydCBlbnVtIEFfU3RhdGVNYWNoaW5lRmVhdHVyZXMge1xuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgZXJyb3IgaGFuZGxpbmcgbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25FcnJvciA9ICdfQV9TdGF0ZU1hY2hpbmVfb25FcnJvcicsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBpbml0aWFsaXphdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkluaXRpYWxpemUgPSAnX0FfU3RhdGVNYWNoaW5lX29uSW5pdGlhbGl6ZScsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCB0cmFuc2l0aW9uIHZhbGlkYXRpb24gbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25CZWZvcmVUcmFuc2l0aW9uID0gJ19BX1N0YXRlTWFjaGluZV9vbkJlZm9yZVRyYW5zaXRpb24nLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgcG9zdC10cmFuc2l0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uQWZ0ZXJUcmFuc2l0aW9uID0gJ19BX1N0YXRlTWFjaGluZV9vbkFmdGVyVHJhbnNpdGlvbicsXG59IiwgImltcG9ydCB7IEFfT3BlcmF0aW9uQ29udGV4dCB9IGZyb20gXCIuLi9BLU9wZXJhdGlvbi9BLU9wZXJhdGlvbi5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb25QYXJhbXMsIEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvblN0b3JhZ2UgfSBmcm9tIFwiLi9BLVN0YXRlTWFjaGluZS50eXBlc1wiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbjxcbiAgICBfUGFyYW1zVHlwZSA9IGFueSxcbiAgICBfUmVzdWx0VHlwZSA9IGFueVxuPiBleHRlbmRzIEFfT3BlcmF0aW9uQ29udGV4dDxcbiAgICAnYS1zdGF0ZS1tYWNoaW5lLXRyYW5zaXRpb24nLFxuICAgIEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvblBhcmFtczxfUGFyYW1zVHlwZT4sXG4gICAgX1Jlc3VsdFR5cGUsXG4gICAgQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uU3RvcmFnZTxfUmVzdWx0VHlwZSwgX1BhcmFtc1R5cGU+XG4+IHtcblxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBhcmFtczogQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uUGFyYW1zPF9QYXJhbXNUeXBlPlxuICAgICkge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgICdhLXN0YXRlLW1hY2hpbmUtdHJhbnNpdGlvbicsXG4gICAgICAgICAgICBwYXJhbXNcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLl9tZXRhLnNldCgnZnJvbScsIHBhcmFtcy5mcm9tKTtcbiAgICAgICAgdGhpcy5fbWV0YS5zZXQoJ3RvJywgcGFyYW1zLnRvKTtcbiAgICB9XG5cblxuXG4gICAgZ2V0IGZyb20oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuZ2V0KCdmcm9tJykhO1xuICAgIH1cblxuXG5cbiAgICBnZXQgdG8oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuZ2V0KCd0bycpITtcbiAgICB9XG5cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQsIEFfQ29udGV4dCwgQV9GZWF0dXJlLCBBX0Zvcm1hdHRlckhlbHBlciwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX1N0YXRlTWFjaGluZUVycm9yIH0gZnJvbSBcIi4vQS1TdGF0ZU1hY2hpbmUuZXJyb3JcIjtcbmltcG9ydCB7IEFfU3RhdGVNYWNoaW5lRmVhdHVyZXMgfSBmcm9tIFwiLi9BLVN0YXRlTWFjaGluZS5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbiB9IGZyb20gXCIuL0EtU3RhdGVNYWNoaW5lVHJhbnNpdGlvbi5jb250ZXh0XCI7XG5cbi8qKlxuICogQV9TdGF0ZU1hY2hpbmUgaXMgYSBwb3dlcmZ1bCBzdGF0ZSBtYWNoaW5lIGltcGxlbWVudGF0aW9uIHRoYXQgYWxsb3dzIHlvdSB0byBkZWZpbmUgYW5kIG1hbmFnZVxuICogY29tcGxleCBzdGF0ZSB0cmFuc2l0aW9ucyB3aXRoIHZhbGlkYXRpb24sIGhvb2tzLCBhbmQgZXJyb3IgaGFuZGxpbmcuXG4gKiBcbiAqIEB0ZW1wbGF0ZSBUIC0gQSByZWNvcmQgdHlwZSBkZWZpbmluZyB0aGUgc3RhdGUgdHJhbnNpdGlvbnMgYW5kIHRoZWlyIGFzc29jaWF0ZWQgZGF0YSB0eXBlcy5cbiAqICAgICAgICAgICAgICAgRWFjaCBrZXkgcmVwcmVzZW50cyBhIHN0YXRlIG5hbWUsIGFuZCB0aGUgdmFsdWUgcmVwcmVzZW50cyB0aGUgZGF0YSB0eXBlIGZvciB0aGF0IHN0YXRlLlxuICogXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogaW50ZXJmYWNlIE9yZGVyU3RhdGVzIHtcbiAqICAgcGVuZGluZzogeyBvcmRlcklkOiBzdHJpbmcgfTtcbiAqICAgcHJvY2Vzc2luZzogeyBvcmRlcklkOiBzdHJpbmc7IHByb2Nlc3NlZEJ5OiBzdHJpbmcgfTtcbiAqICAgY29tcGxldGVkOiB7IG9yZGVySWQ6IHN0cmluZzsgY29tcGxldGVkQXQ6IERhdGUgfTtcbiAqICAgY2FuY2VsbGVkOiB7IG9yZGVySWQ6IHN0cmluZzsgcmVhc29uOiBzdHJpbmcgfTtcbiAqIH1cbiAqIFxuICogY2xhc3MgT3JkZXJTdGF0ZU1hY2hpbmUgZXh0ZW5kcyBBX1N0YXRlTWFjaGluZTxPcmRlclN0YXRlcz4ge1xuICogICAvLyBEZWZpbmUgY3VzdG9tIHRyYW5zaXRpb24gbG9naWNcbiAqICAgYXN5bmMgcGVuZGluZ19wcm9jZXNzaW5nKHNjb3BlOiBBX1Njb3BlKSB7XG4gKiAgICAgY29uc3Qgb3BlcmF0aW9uID0gc2NvcGUucmVzb2x2ZShBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24pITtcbiAqICAgICBjb25zdCB7IG9yZGVySWQgfSA9IG9wZXJhdGlvbi5wcm9wcztcbiAqICAgICAvLyBDdXN0b20gdmFsaWRhdGlvbiBhbmQgYnVzaW5lc3MgbG9naWNcbiAqICAgfVxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBBX1N0YXRlTWFjaGluZTxcbiAgICBUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT5cbj4gZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBwcm9taXNlIHRoYXQgdHJhY2tzIHRoZSBpbml0aWFsaXphdGlvbiBzdGF0ZSBvZiB0aGUgc3RhdGUgbWFjaGluZS5cbiAgICAgKiBVc2VkIHRvIGVuc3VyZSB0aGUgc3RhdGUgbWFjaGluZSBpcyBwcm9wZXJseSBpbml0aWFsaXplZCBiZWZvcmUgYWxsb3dpbmcgdHJhbnNpdGlvbnMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9pbml0aWFsaXplZD86IFByb21pc2U8dm9pZD47XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHN0YXRlIG1hY2hpbmUgaXMgZnVsbHkgaW5pdGlhbGl6ZWQgYW5kIHJlYWR5IGZvciB0cmFuc2l0aW9ucy5cbiAgICAgKiBUaGlzIGVuc3VyZXMgdGhhdCBhbGwgaW5pdGlhbGl6YXRpb24gaG9va3MgaGF2ZSBiZWVuIGV4ZWN1dGVkIGJlZm9yZSBhbGxvd2luZyBzdGF0ZSB0cmFuc2l0aW9ucy5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPHZvaWQ+IHRoYXQgcmVzb2x2ZXMgd2hlbiBpbml0aWFsaXphdGlvbiBpcyBjb21wbGV0ZVxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IHN0YXRlTWFjaGluZSA9IG5ldyBNeVN0YXRlTWFjaGluZSgpO1xuICAgICAqIGF3YWl0IHN0YXRlTWFjaGluZS5yZWFkeTsgLy8gV2FpdCBmb3IgaW5pdGlhbGl6YXRpb25cbiAgICAgKiBhd2FpdCBzdGF0ZU1hY2hpbmUudHJhbnNpdGlvbignaWRsZScsICdydW5uaW5nJyk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0IHJlYWR5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRoaXMuY2FsbChBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uSW5pdGlhbGl6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemF0aW9uIGhvb2sgdGhhdCBydW5zIHdoZW4gdGhlIHN0YXRlIG1hY2hpbmUgaXMgZmlyc3QgY3JlYXRlZC5cbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgZXh0ZW5kZWQgdG8gYWRkIGN1c3RvbSBpbml0aWFsaXphdGlvbiBsb2dpYy5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gYXJncyAtIFZhcmlhYmxlIGFyZ3VtZW50cyBwYXNzZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgICogQHJldHVybnMgUHJvbWlzZTx2b2lkPlxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNsYXNzIE15U3RhdGVNYWNoaW5lIGV4dGVuZHMgQV9TdGF0ZU1hY2hpbmUge1xuICAgICAqICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgICAqICAgYXN5bmMgW0FfU3RhdGVNYWNoaW5lRmVhdHVyZXMub25Jbml0aWFsaXplXSgpIHtcbiAgICAgKiAgICAgLy8gQ3VzdG9tIGluaXRpYWxpemF0aW9uIGxvZ2ljXG4gICAgICogICAgIGNvbnNvbGUubG9nKCdTdGF0ZSBtYWNoaW5lIGluaXRpYWxpemVkJyk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBhc3luYyBbQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcy5vbkluaXRpYWxpemVdKC4uLmFyZ3M6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEluaXRpYWxpemF0aW9uIGxvZ2ljIGNhbiBiZSBhZGRlZCBoZXJlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSG9vayB0aGF0IHJ1bnMgYmVmb3JlIGFueSBzdGF0ZSB0cmFuc2l0aW9uIG9jY3Vycy5cbiAgICAgKiBVc2UgdGhpcyB0byBhZGQgdmFsaWRhdGlvbiwgbG9nZ2luZywgb3IgcHJlcGFyYXRpb24gbG9naWMgdGhhdCBzaG91bGQgcnVuIGZvciBhbGwgdHJhbnNpdGlvbnMuXG4gICAgICogXG4gICAgICogQHBhcmFtIGFyZ3MgLSBWYXJpYWJsZSBhcmd1bWVudHMsIHR5cGljYWxseSBpbmNsdWRlcyB0aGUgdHJhbnNpdGlvbiBzY29wZVxuICAgICAqIEByZXR1cm5zIFByb21pc2U8dm9pZD5cbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBNeVN0YXRlTWFjaGluZSBleHRlbmRzIEFfU3RhdGVNYWNoaW5lIHtcbiAgICAgKiAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAgKiAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQmVmb3JlVHJhbnNpdGlvbl0oc2NvcGU6IEFfU2NvcGUpIHtcbiAgICAgKiAgICAgY29uc3Qgb3BlcmF0aW9uID0gc2NvcGUucmVzb2x2ZShBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24pITtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYFRyYW5zaXRpb25pbmcgZnJvbSAke29wZXJhdGlvbi5wcm9wcy5mcm9tfSB0byAke29wZXJhdGlvbi5wcm9wcy50b31gKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQmVmb3JlVHJhbnNpdGlvbl0oLi4uYXJnczogYW55W10pOiBQcm9taXNlPHZvaWQ+IHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhvb2sgdGhhdCBydW5zIGFmdGVyIGEgc3VjY2Vzc2Z1bCBzdGF0ZSB0cmFuc2l0aW9uLlxuICAgICAqIFVzZSB0aGlzIHRvIGFkZCBjbGVhbnVwLCBsb2dnaW5nLCBvciBwb3N0LXRyYW5zaXRpb24gbG9naWMgdGhhdCBzaG91bGQgcnVuIGZvciBhbGwgdHJhbnNpdGlvbnMuXG4gICAgICogXG4gICAgICogQHBhcmFtIGFyZ3MgLSBWYXJpYWJsZSBhcmd1bWVudHMsIHR5cGljYWxseSBpbmNsdWRlcyB0aGUgdHJhbnNpdGlvbiBzY29wZVxuICAgICAqIEByZXR1cm5zIFByb21pc2U8dm9pZD5cbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBNeVN0YXRlTWFjaGluZSBleHRlbmRzIEFfU3RhdGVNYWNoaW5lIHtcbiAgICAgKiAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAgKiAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQWZ0ZXJUcmFuc2l0aW9uXShzY29wZTogQV9TY29wZSkge1xuICAgICAqICAgICBjb25zdCBvcGVyYXRpb24gPSBzY29wZS5yZXNvbHZlKEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbikhO1xuICAgICAqICAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IHRyYW5zaXRpb25lZCB0byAke29wZXJhdGlvbi5wcm9wcy50b31gKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQWZ0ZXJUcmFuc2l0aW9uXSguLi5hcmdzOiBhbnlbXSk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgaGFuZGxpbmcgaG9vayB0aGF0IHJ1bnMgd2hlbiBhIHRyYW5zaXRpb24gZmFpbHMuXG4gICAgICogVXNlIHRoaXMgdG8gYWRkIGN1c3RvbSBlcnJvciBoYW5kbGluZywgbG9nZ2luZywgb3IgcmVjb3ZlcnkgbG9naWMuXG4gICAgICogXG4gICAgICogQHBhcmFtIGFyZ3MgLSBWYXJpYWJsZSBhcmd1bWVudHMsIHR5cGljYWxseSBpbmNsdWRlcyB0aGUgZXJyb3Igc2NvcGVcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPHZvaWQ+XG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY2xhc3MgTXlTdGF0ZU1hY2hpbmUgZXh0ZW5kcyBBX1N0YXRlTWFjaGluZSB7XG4gICAgICogICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgICogICBhc3luYyBbQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcy5vbkVycm9yXShzY29wZTogQV9TY29wZSkge1xuICAgICAqICAgICBjb25zdCBlcnJvciA9IHNjb3BlLnJlc29sdmUoQV9TdGF0ZU1hY2hpbmVFcnJvcik7XG4gICAgICogICAgIGNvbnNvbGUuZXJyb3IoJ1RyYW5zaXRpb24gZmFpbGVkOicsIGVycm9yPy5tZXNzYWdlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uRXJyb3JdKC4uLmFyZ3M6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIERlZmF1bHQgZXJyb3IgaGFuZGxpbmcgbG9naWMgY2FuIGJlIGFkZGVkIGhlcmVcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgYSBzdGF0ZSB0cmFuc2l0aW9uIGZyb20gb25lIHN0YXRlIHRvIGFub3RoZXIuXG4gICAgICogVGhpcyBpcyB0aGUgY29yZSBtZXRob2Qgb2YgdGhlIHN0YXRlIG1hY2hpbmUgdGhhdCBoYW5kbGVzIHRoZSBjb21wbGV0ZSB0cmFuc2l0aW9uIGxpZmVjeWNsZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZnJvbSAtIFRoZSBzdGF0ZSB0byB0cmFuc2l0aW9uIGZyb20gKG11c3QgYmUgYSBrZXkgb2YgVClcbiAgICAgKiBAcGFyYW0gdG8gLSBUaGUgc3RhdGUgdG8gdHJhbnNpdGlvbiB0byAobXVzdCBiZSBhIGtleSBvZiBUKVxuICAgICAqIEBwYXJhbSBwcm9wcyAtIE9wdGlvbmFsIHByb3BlcnRpZXMgdG8gcGFzcyB0byB0aGUgdHJhbnNpdGlvbiBjb250ZXh0IChzaG91bGQgbWF0Y2ggVFtrZXlvZiBUXSlcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPHZvaWQ+IHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgdHJhbnNpdGlvbiBpcyBjb21wbGV0ZVxuICAgICAqIFxuICAgICAqIEB0aHJvd3Mge0FfU3RhdGVNYWNoaW5lRXJyb3J9IFdoZW4gdGhlIHRyYW5zaXRpb24gZmFpbHMgZm9yIGFueSByZWFzb25cbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBpbnRlcmZhY2UgT3JkZXJTdGF0ZXMge1xuICAgICAqICAgcGVuZGluZzogeyBvcmRlcklkOiBzdHJpbmcgfTtcbiAgICAgKiAgIHByb2Nlc3Npbmc6IHsgb3JkZXJJZDogc3RyaW5nOyBwcm9jZXNzZWRCeTogc3RyaW5nIH07XG4gICAgICogfVxuICAgICAqIFxuICAgICAqIGNvbnN0IG9yZGVyTWFjaGluZSA9IG5ldyBBX1N0YXRlTWFjaGluZTxPcmRlclN0YXRlcz4oKTtcbiAgICAgKiBcbiAgICAgKiAvLyBUcmFuc2l0aW9uIHdpdGggcHJvcHNcbiAgICAgKiBhd2FpdCBvcmRlck1hY2hpbmUudHJhbnNpdGlvbigncGVuZGluZycsICdwcm9jZXNzaW5nJywge1xuICAgICAqICAgb3JkZXJJZDogJzEyMzQ1JyxcbiAgICAgKiAgIHByb2Nlc3NlZEJ5OiAndXNlci00NTYnXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICogXG4gICAgICogVGhlIHRyYW5zaXRpb24gcHJvY2VzcyBmb2xsb3dzIHRoaXMgbGlmZWN5Y2xlOlxuICAgICAqIDEuIFdhaXQgZm9yIHN0YXRlIG1hY2hpbmUgaW5pdGlhbGl6YXRpb24gKHJlYWR5KVxuICAgICAqIDIuIENyZWF0ZSB0cmFuc2l0aW9uIG5hbWUgaW4gY2FtZWxDYXNlIGZvcm1hdCAoZS5nLiwgXCJwZW5kaW5nX3Byb2Nlc3NpbmdcIilcbiAgICAgKiAzLiBDcmVhdGUgb3BlcmF0aW9uIGNvbnRleHQgd2l0aCB0cmFuc2l0aW9uIGRhdGFcbiAgICAgKiA0LiBDcmVhdGUgaXNvbGF0ZWQgc2NvcGUgZm9yIHRoZSB0cmFuc2l0aW9uXG4gICAgICogNS4gQ2FsbCBvbkJlZm9yZVRyYW5zaXRpb24gaG9va1xuICAgICAqIDYuIEV4ZWN1dGUgdGhlIHNwZWNpZmljIHRyYW5zaXRpb24gbWV0aG9kIChpZiBkZWZpbmVkKVxuICAgICAqIDcuIENhbGwgb25BZnRlclRyYW5zaXRpb24gaG9va1xuICAgICAqIDguIENsZWFuIHVwIHNjb3BlIGFuZCByZXR1cm4gcmVzdWx0XG4gICAgICogXG4gICAgICogSWYgYW55IHN0ZXAgZmFpbHMsIHRoZSBvbkVycm9yIGhvb2sgaXMgY2FsbGVkIGFuZCBhIHdyYXBwZWQgZXJyb3IgaXMgdGhyb3duLlxuICAgICAqL1xuICAgIGFzeW5jIHRyYW5zaXRpb24oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RhdGUgdG8gdHJhbnNpdGlvbiBmcm9tXG4gICAgICAgICAqL1xuICAgICAgICBmcm9tOiBrZXlvZiBULFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0YXRlIHRvIHRyYW5zaXRpb24gdG9cbiAgICAgICAgICovXG4gICAgICAgIHRvOiBrZXlvZiBULFxuICAgICAgICAvKipcbiAgICAgICAgICogT3B0aW9uYWwgcHJvcGVydGllcyB0byBwYXNzIHRvIHRoZSB0cmFuc2l0aW9uIGNvbnRleHRcbiAgICAgICAgICovXG4gICAgICAgIHByb3BzPzogVFtrZXlvZiBUXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHk7XG5cbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbk5hbWUgPSBgJHtBX0Zvcm1hdHRlckhlbHBlci50b0NhbWVsQ2FzZShTdHJpbmcoZnJvbSkpfV8ke0FfRm9ybWF0dGVySGVscGVyLnRvQ2FtZWxDYXNlKFN0cmluZyh0bykpfWA7XG5cbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IG5ldyBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24oe1xuICAgICAgICAgICAgZnJvbTogU3RyaW5nKGZyb20pLFxuICAgICAgICAgICAgdG86IFN0cmluZyh0byksXG4gICAgICAgICAgICBwcm9wc1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6IGBBLVN0YXRlTWFjaGluZS1UcmFuc2l0aW9uLVNjb3BlLSR7dHJhbnNpdGlvbk5hbWV9YCxcbiAgICAgICAgICAgIGZyYWdtZW50czogW3RyYW5zaXRpb25dXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQmVmb3JlVHJhbnNpdGlvbiwgc2NvcGUpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwodHJhbnNpdGlvbk5hbWUsIHNjb3BlKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU3RhdGVNYWNoaW5lRmVhdHVyZXMub25BZnRlclRyYW5zaXRpb24sIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJhbnNpdGlvbi5yZXN1bHQ7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRFcnJvciA9IG5ldyBBX1N0YXRlTWFjaGluZUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9TdGF0ZU1hY2hpbmVFcnJvci5UcmFuc2l0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSB0cmFuc2l0aW9uaW5nIHRvIFwiJHt0cmFuc2l0aW9uTmFtZX1cImAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzY29wZS5yZWdpc3Rlcih3cmFwcGVkRXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcy5vbkVycm9yLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgd3JhcHBlZEVycm9yO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbiIsICJleHBvcnQgY29uc3QgQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTID0ge1xuXG59IGFzIGNvbnN0XG5cblxuLy9zaG91bGQgYmUgYW4gYXJyYXlcbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0NvbmZpZ0VOVlZhcmlhYmxlcyA9ICh0eXBlb2YgQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTKVtrZXlvZiB0eXBlb2YgQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTXVtdO1xuXG5cbmV4cG9ydCBjb25zdCBBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVkgPSBbXG5cbl0gYXMgY29uc3Q7XG5cbiIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcblxuXG5leHBvcnQgY2xhc3MgQV9Db25maWdFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IEluaXRpYWxpemF0aW9uRXJyb3IgPSAnQS1Db25maWcgSW5pdGlhbGl6YXRpb24gRXJyb3InO1xufSIsICJpbXBvcnQgeyBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZLCBBX0Zvcm1hdHRlckhlbHBlciwgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25maWdDb250YWluZXJDb25zdHJ1Y3RvciB9IGZyb20gXCIuL0EtQ29uZmlnLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0V4ZWN1dGlvbkNvbnRleHQgfSBmcm9tIFwiLi4vQS1FeGVjdXRpb24vQS1FeGVjdXRpb24uY29udGV4dFwiO1xuaW1wb3J0IHsgQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTX0FSUkFZIH0gZnJvbSBcIi4vQS1Db25maWcuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX0NvbmZpZ0Vycm9yIH0gZnJvbSBcIi4vQS1Db25maWcuZXJyb3JcIjtcblxuXG5leHBvcnQgY2xhc3MgQV9Db25maWc8XG4gICAgVCBleHRlbmRzIEFycmF5PHN0cmluZyB8IEFfVFlQRVNfX0NvbmNlcHRFTlZWYXJpYWJsZXNbbnVtYmVyXT4gPSBhbnlbXVxuPiBleHRlbmRzIEFfRXhlY3V0aW9uQ29udGV4dDxcbiAgICB7IFtrZXkgaW4gVFtudW1iZXJdXTogYW55OyB9ICYge1xuICAgICAgICBba2V5IGluIHR5cGVvZiBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZW251bWJlcl1dOiBhbnlcbiAgICB9ICYge1xuICAgICAgICBba2V5IGluIHR5cGVvZiBBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVlbbnVtYmVyXV06IGFueVxuICAgIH1cbj4ge1xuICAgIHByb3RlY3RlZCBfc3RyaWN0OiBib29sZWFuO1xuICAgIHByb3RlY3RlZCBfY29uZmlnUHJvcGVydGllcyE6IFQ7XG5cbiAgICBwcm90ZWN0ZWQgREVGQVVMVF9BTExPV0VEX1RPX1JFQURfUFJPUEVSVElFUyA9IFtcbiAgICAgICAgLi4uQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFU19BUlJBWSxcbiAgICAgICAgLi4uQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTX0FSUkFZXG4gICAgXTtcblxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGNvbmZpZzogUGFydGlhbDxBX1RZUEVTX19Db25maWdDb250YWluZXJDb25zdHJ1Y3RvcjxUPj5cbiAgICApIHtcbiAgICAgICAgc3VwZXIoJ2EtY29uZmlnJyk7XG5cbiAgICAgICAgdGhpcy5fc3RyaWN0ID0gY29uZmlnLnN0cmljdCA/PyBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29uZmlnUHJvcGVydGllcyA9IGNvbmZpZy52YXJpYWJsZXMgPz8gW10gYXMgYW55O1xuXG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29uZmlnLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICB0aGlzLnNldChcbiAgICAgICAgICAgICAgICBBX0Zvcm1hdHRlckhlbHBlci50b1VwcGVyU25ha2VDYXNlKGtleSksXG4gICAgICAgICAgICAgICAgY29uZmlnLmRlZmF1bHRzW2tleSBhcyBUW251bWJlcl1dXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBnZXQgc3RyaWN0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RyaWN0O1xuICAgIH1cblxuXG4gICAgLyoqIFxuICAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGdldCB0aGUgY29uZmlndXJhdGlvbiBwcm9wZXJ0eSBieSBuYW1lXG4gICAgICAqIFxuICAgICAgKiBAcGFyYW0gcHJvcGVydHkgXG4gICAgICAqIEByZXR1cm5zIFxuICAgICAgKi9cbiAgICBnZXQ8SyBleHRlbmRzIFRbbnVtYmVyXT4oXG4gICAgICAgIHByb3BlcnR5OiBLIHwgdHlwZW9mIHRoaXMuREVGQVVMVF9BTExPV0VEX1RPX1JFQURfUFJPUEVSVElFU1tudW1iZXJdXG4gICAgKTogeyBba2V5IGluIFRbbnVtYmVyXV06IGFueTsgfVtLXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWdQcm9wZXJ0aWVzLmluY2x1ZGVzKHByb3BlcnR5IGFzIGFueSlcbiAgICAgICAgICAgIHx8IHRoaXMuREVGQVVMVF9BTExPV0VEX1RPX1JFQURfUFJPUEVSVElFUy5pbmNsdWRlcyhwcm9wZXJ0eSBhcyBhbnkpXG4gICAgICAgICAgICB8fCAhdGhpcy5fc3RyaWN0XG4gICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXQoQV9Gb3JtYXR0ZXJIZWxwZXIudG9VcHBlclNuYWtlQ2FzZShwcm9wZXJ0eSkpO1xuXG4gICAgICAgIHRocm93IG5ldyBBX0NvbmZpZ0Vycm9yKCdQcm9wZXJ0eSBub3QgZXhpc3RzIG9yIG5vdCBhbGxvd2VkIHRvIHJlYWQnKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gc2V0IHRoZSBjb25maWd1cmF0aW9uIHByb3BlcnR5IGJ5IG5hbWVcbiAgICAgKiBPUiBzZXQgbXVsdGlwbGUgcHJvcGVydGllcyBhdCBvbmNlIGJ5IHBhc3NpbmcgYW4gYXJyYXkgb2Ygb2JqZWN0c1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB2YXJpYWJsZXMgXG4gICAgICovXG4gICAgc2V0KFxuICAgICAgICB2YXJpYWJsZXM6IEFycmF5PHtcbiAgICAgICAgICAgIHByb3BlcnR5OiBUW251bWJlcl0gfCBBX1RZUEVTX19Db25jZXB0RU5WVmFyaWFibGVzW251bWJlcl0sXG4gICAgICAgICAgICB2YWx1ZTogYW55XG4gICAgICAgIH0+XG4gICAgKVxuICAgIHNldChcbiAgICAgICAgdmFyaWFibGVzOiBQYXJ0aWFsPFJlY29yZDxUW251bWJlcl0gfCBBX1RZUEVTX19Db25jZXB0RU5WVmFyaWFibGVzW251bWJlcl0sIGFueT4+XG4gICAgKVxuICAgIHNldChcbiAgICAgICAgcHJvcGVydHk6IFRbbnVtYmVyXSB8IEFfVFlQRVNfX0NvbmNlcHRFTlZWYXJpYWJsZXNbbnVtYmVyXSxcbiAgICAgICAgdmFsdWU6IGFueVxuICAgIClcbiAgICBzZXQoXG4gICAgICAgIHByb3BlcnR5OiBUW251bWJlcl0gfCBBX1RZUEVTX19Db25jZXB0RU5WVmFyaWFibGVzW251bWJlcl0gfCBBcnJheTx7XG4gICAgICAgICAgICBwcm9wZXJ0eTogVFtudW1iZXJdIHwgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlc1tudW1iZXJdLFxuICAgICAgICAgICAgdmFsdWU6IGFueVxuICAgICAgICB9PiB8IFBhcnRpYWw8UmVjb3JkPFRbbnVtYmVyXSB8IEFfVFlQRVNfX0NvbmNlcHRFTlZWYXJpYWJsZXNbbnVtYmVyXSwgYW55Pj4sXG4gICAgICAgIHZhbHVlPzogYW55XG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gQXJyYXkuaXNBcnJheShwcm9wZXJ0eSlcbiAgICAgICAgICAgID8gcHJvcGVydHlcbiAgICAgICAgICAgIDogdHlwZW9mIHByb3BlcnR5ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gW3sgcHJvcGVydHksIHZhbHVlIH1dXG4gICAgICAgICAgICAgICAgOiBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgLmtleXMocHJvcGVydHkpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGtleSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcHJvcGVydHlba2V5XVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgZm9yIChjb25zdCB7IHByb3BlcnR5LCB2YWx1ZSB9IG9mIGFycmF5KSB7XG4gICAgICAgICAgICBzdXBlci5zZXQoQV9Gb3JtYXR0ZXJIZWxwZXIudG9VcHBlclNuYWtlQ2FzZShwcm9wZXJ0eSksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiLyoqXG4gKiBBLUxvZ2dlciBDb25zdGFudHNcbiAqIFxuICogQ29uZmlndXJhdGlvbiBjb25zdGFudHMgYW5kIGRlZmF1bHQgdmFsdWVzIGZvciB0aGUgQV9Mb2dnZXIgY29tcG9uZW50XG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IHNjb3BlIGxlbmd0aCBmb3IgY29uc2lzdGVudCBtZXNzYWdlIGFsaWdubWVudFxuICovXG5leHBvcnQgY29uc3QgQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9MRU5HVEggPSAyMDtcblxuLyoqXG4gKiBEZWZhdWx0IGxvZyBsZXZlbCB3aGVuIG5vbmUgaXMgc3BlY2lmaWVkXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9ERUZBVUxUX0xFVkVMID0gJ2FsbCc7XG5cbi8qKlxuICogVGVybWluYWwgY29sb3IgY29kZXMgbWFwcGluZ1xuICovXG5leHBvcnQgY29uc3QgQV9MT0dHRVJfQ09MT1JTID0ge1xuICAgIC8vIFN5c3RlbSBjb2xvcnMgKHJlc2VydmVkIGZvciBzcGVjaWZpYyBwdXJwb3NlcylcbiAgICByZWQ6ICczMScsICAgICAgICAgIC8vIEVycm9ycywgY3JpdGljYWwgaXNzdWVzXG4gICAgeWVsbG93OiAnMzMnLCAgICAgICAvLyBXYXJuaW5ncywgY2F1dGlvbiBtZXNzYWdlc1xuICAgIGdyZWVuOiAnMzInLCAgICAgICAgLy8gU3VjY2VzcywgY29tcGxldGlvbiBtZXNzYWdlc1xuICAgIFxuICAgIC8vIFNhZmUgcGFsZXR0ZSBmb3IgcmFuZG9tIHNlbGVjdGlvbiAoZ3JleS1ibHVlLXZpb2xldCB0aGVtZSlcbiAgICBibHVlOiAnMzQnLCAgICAgICAgIC8vIEluZm8sIGdlbmVyYWwgbWVzc2FnZXNcbiAgICBjeWFuOiAnMzYnLCAgICAgICAgIC8vIEhlYWRlcnMsIHRpdGxlc1xuICAgIG1hZ2VudGE6ICczNScsICAgICAgLy8gU3BlY2lhbCBoaWdobGlnaHRpbmdcbiAgICBncmF5OiAnOTAnLCAgICAgICAgIC8vIERlYnVnLCBsZXNzIGltcG9ydGFudCBpbmZvXG4gICAgYnJpZ2h0Qmx1ZTogJzk0JywgICAvLyBCcmlnaHQgYmx1ZSB2YXJpYW50XG4gICAgYnJpZ2h0Q3lhbjogJzk2JywgICAvLyBCcmlnaHQgY3lhbiB2YXJpYW50XG4gICAgYnJpZ2h0TWFnZW50YTogJzk1JywgLy8gQnJpZ2h0IG1hZ2VudGEgdmFyaWFudFxuICAgIGRhcmtHcmF5OiAnMzAnLCAgICAgLy8gRGFyayBncmF5XG4gICAgbGlnaHRHcmF5OiAnMzcnLCAgICAvLyBMaWdodCBncmF5ICh3aGl0ZSlcbiAgICBcbiAgICAvLyBFeHRlbmRlZCBibHVlLXZpb2xldCBwYWxldHRlXG4gICAgaW5kaWdvOiAnMzg7NTs1NCcsICAgICAgLy8gRGVlcCBpbmRpZ29cbiAgICB2aW9sZXQ6ICczODs1OzkzJywgICAgICAvLyBWaW9sZXRcbiAgICBwdXJwbGU6ICczODs1OzEyOScsICAgICAvLyBQdXJwbGVcbiAgICBsYXZlbmRlcjogJzM4OzU7MTgzJywgICAvLyBMYXZlbmRlclxuICAgIHNreUJsdWU6ICczODs1OzExNycsICAgIC8vIFNreSBibHVlXG4gICAgc3RlZWxCbHVlOiAnMzg7NTs2NycsICAgLy8gU3RlZWwgYmx1ZVxuICAgIHNsYXRlQmx1ZTogJzM4OzU7NjInLCAgIC8vIFNsYXRlIGJsdWVcbiAgICBkZWVwQmx1ZTogJzM4OzU7MTgnLCAgICAvLyBEZWVwIGJsdWVcbiAgICBsaWdodEJsdWU6ICczODs1OzE1MycsICAvLyBMaWdodCBibHVlXG4gICAgcGVyaXdpbmtsZTogJzM4OzU7MTExJywgLy8gUGVyaXdpbmtsZVxuICAgIGNvcm5mbG93ZXI6ICczODs1OzY5JywgIC8vIENvcm5mbG93ZXIgYmx1ZVxuICAgIHBvd2RlcjogJzM4OzU7MTUyJywgICAgIC8vIFBvd2RlciBibHVlXG4gICAgXG4gICAgLy8gQWRkaXRpb25hbCBncmF5cyBmb3IgdmFyaWV0eVxuICAgIGNoYXJjb2FsOiAnMzg7NTsyMzYnLCAgIC8vIENoYXJjb2FsXG4gICAgc2lsdmVyOiAnMzg7NTsyNTAnLCAgICAgLy8gU2lsdmVyXG4gICAgc21va2U6ICczODs1OzI0NCcsICAgICAgLy8gU21va2UgZ3JheVxuICAgIHNsYXRlOiAnMzg7NTsyNDAnLCAgICAgIC8vIFNsYXRlIGdyYXlcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogU2FmZSBjb2xvcnMgZm9yIHJhbmRvbSBzZWxlY3Rpb24gLSBncmV5LWJsdWUtdmlvbGV0IHBhbGV0dGVcbiAqIEV4Y2x1ZGVzIHN5c3RlbSBjb2xvcnMgKHJlZCwgeWVsbG93LCBncmVlbikgdG8gYXZvaWQgY29uZnVzaW9uIHdpdGggd2FybmluZ3MvZXJyb3JzXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9TQUZFX1JBTkRPTV9DT0xPUlMgPSBbXG4gICAgJ2JsdWUnLCAnY3lhbicsICdtYWdlbnRhJywgJ2dyYXknLCAnYnJpZ2h0Qmx1ZScsICdicmlnaHRDeWFuJywgJ2JyaWdodE1hZ2VudGEnLFxuICAgICdkYXJrR3JheScsICdsaWdodEdyYXknLCAnaW5kaWdvJywgJ3Zpb2xldCcsICdwdXJwbGUnLCAnbGF2ZW5kZXInLCAnc2t5Qmx1ZScsXG4gICAgJ3N0ZWVsQmx1ZScsICdzbGF0ZUJsdWUnLCAnZGVlcEJsdWUnLCAnbGlnaHRCbHVlJywgJ3Blcml3aW5rbGUnLCAnY29ybmZsb3dlcicsXG4gICAgJ3Bvd2RlcicsICdjaGFyY29hbCcsICdzaWx2ZXInLCAnc21va2UnLCAnc2xhdGUnXG5dIGFzIGNvbnN0O1xuXG4vKipcbiAqIEFOU0kgZXNjYXBlIGNvZGVzXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9BTlNJID0ge1xuICAgIFJFU0VUOiAnXFx4MWJbMG0nLFxuICAgIFBSRUZJWDogJ1xceDFiWycsXG4gICAgU1VGRklYOiAnbSdcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogVGltZXN0YW1wIGZvcm1hdCBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9USU1FX0ZPUk1BVCA9IHtcbiAgICBNSU5VVEVTX1BBRDogMixcbiAgICBTRUNPTkRTX1BBRDogMixcbiAgICBNSUxMSVNFQ09ORFNfUEFEOiAzLFxuICAgIFNFUEFSQVRPUjogJzonXG59IGFzIGNvbnN0O1xuXG4vKipcbiAqIExvZyBtZXNzYWdlIHN0cnVjdHVyZSBjb25zdGFudHNcbiAqL1xuZXhwb3J0IGNvbnN0IEFfTE9HR0VSX0ZPUk1BVCA9IHtcbiAgICBTQ09QRV9PUEVOOiAnWycsXG4gICAgU0NPUEVfQ0xPU0U6ICddJyxcbiAgICBUSU1FX09QRU46ICd8JyxcbiAgICBUSU1FX0NMT1NFOiAnfCcsXG4gICAgU0VQQVJBVE9SOiAnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScsXG4gICAgSU5ERU5UX0JBU0U6IDMsXG4gICAgUElQRTogJ3wgJ1xufSBhcyBjb25zdDtcblxuLyoqXG4gKiBFbnZpcm9ubWVudCB2YXJpYWJsZSBrZXlzXG4gKi9cbi8qKlxuICogVGVybWluYWwgd2lkdGggY29uZmlndXJhdGlvblxuICovXG5leHBvcnQgY29uc3QgQV9MT0dHRVJfVEVSTUlOQUwgPSB7XG4gICAgREVGQVVMVF9XSURUSDogODAsICAgICAgICAvLyBEZWZhdWx0IHRlcm1pbmFsIHdpZHRoIHdoZW4gY2FuJ3QgYmUgZGV0ZWN0ZWRcbiAgICBNSU5fV0lEVEg6IDQwLCAgICAgICAgICAgLy8gTWluaW11bSB3aWR0aCBmb3IgZm9ybWF0dGVkIG91dHB1dFxuICAgIE1BWF9MSU5FX0xFTkdUSF9SQVRJTzogMC44LCAvLyBVc2UgODAlIG9mIHRlcm1pbmFsIHdpZHRoIGZvciBjb250ZW50XG4gICAgQlJPV1NFUl9ERUZBVUxUX1dJRFRIOiAxMjAgIC8vIERlZmF1bHQgd2lkdGggZm9yIGJyb3dzZXIgY29uc29sZVxufSBhcyBjb25zdDtcblxuLyoqXG4gKiBFbnZpcm9ubWVudCB2YXJpYWJsZSBrZXlzXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9FTlZfS0VZUyA9IHtcbiAgICBMT0dfTEVWRUw6ICdBX0xPR0dFUl9MRVZFTCcsXG4gICAgREVGQVVMVF9TQ09QRV9MRU5HVEg6ICdBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0xFTkdUSCcsXG4gICAgREVGQVVMVF9TQ09QRV9DT0xPUjogJ0FfTE9HR0VSX0RFRkFVTFRfU0NPUEVfQ09MT1InLFxuICAgIERFRkFVTFRfTE9HX0NPTE9SOiAnQV9MT0dHRVJfREVGQVVMVF9MT0dfQ09MT1InXG59IGFzIGNvbnN0OyIsICJpbXBvcnQgeyBBX0NvbXBvbmVudCwgQV9Db250ZXh0LCBBX0Vycm9yLCBBX0luamVjdCwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0NvbmZpZyB9IGZyb20gXCIuLi9BLUNvbmZpZy9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0xvZ2dlckVudlZhcmlhYmxlc1R5cGUgfSBmcm9tIFwiLi9BLUxvZ2dlci5lbnZcIjtcbmltcG9ydCB7IEFfTG9nZ2VyTGV2ZWwsIEFfTG9nZ2VyQ29sb3JOYW1lIH0gZnJvbSBcIi4vQS1Mb2dnZXIudHlwZXNcIjtcbmltcG9ydCB7XG4gICAgQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9MRU5HVEgsXG4gICAgQV9MT0dHRVJfQ09MT1JTLFxuICAgIEFfTE9HR0VSX0FOU0ksXG4gICAgQV9MT0dHRVJfVElNRV9GT1JNQVQsXG4gICAgQV9MT0dHRVJfRk9STUFULFxuICAgIEFfTE9HR0VSX0VOVl9LRVlTLFxuICAgIEFfTE9HR0VSX1NBRkVfUkFORE9NX0NPTE9SUyxcbiAgICBBX0xPR0dFUl9URVJNSU5BTFxufSBmcm9tIFwiLi9BLUxvZ2dlci5jb25zdGFudHNcIjtcblxuLyoqXG4gKiBBX0xvZ2dlciAtIEFkdmFuY2VkIExvZ2dpbmcgQ29tcG9uZW50IHdpdGggU2NvcGUtYmFzZWQgT3V0cHV0IEZvcm1hdHRpbmdcbiAqIFxuICogVGhpcyBjb21wb25lbnQgcHJvdmlkZXMgY29tcHJlaGVuc2l2ZSBsb2dnaW5nIGNhcGFiaWxpdGllcyB3aXRoOlxuICogLSBDb2xvci1jb2RlZCBjb25zb2xlIG91dHB1dCBmb3IgZGlmZmVyZW50IGxvZyBsZXZlbHNcbiAqIC0gU2NvcGUtYmFzZWQgbWVzc2FnZSBmb3JtYXR0aW5nIHdpdGggY29uc2lzdGVudCBhbGlnbm1lbnRcbiAqIC0gU3VwcG9ydCBmb3IgbXVsdGlwbGUgZGF0YSB0eXBlcyAob2JqZWN0cywgZXJyb3JzLCBzdHJpbmdzKVxuICogLSBDb25maWd1cmFibGUgbG9nIGxldmVscyBmb3IgZmlsdGVyaW5nIG91dHB1dFxuICogLSBTcGVjaWFsIGhhbmRsaW5nIGZvciBBX0Vycm9yIGFuZCBuYXRpdmUgRXJyb3Igb2JqZWN0c1xuICogLSBUaW1lc3RhbXAgaW5jbHVzaW9uIGZvciBiZXR0ZXIgZGVidWdnaW5nXG4gKiBcbiAqIEtleSBGZWF0dXJlczpcbiAqIC0gKipTY29wZSBJbnRlZ3JhdGlvbioqOiBVc2VzIEFfU2NvcGUgZm9yIGNvbnNpc3RlbnQgbWVzc2FnZSBwcmVmaXhpbmdcbiAqIC0gKipDb2xvciBTdXBwb3J0Kio6IFRlcm1pbmFsIGNvbG9yIGNvZGVzIGZvciB2aXN1YWwgZGlzdGluY3Rpb25cbiAqIC0gKipPYmplY3QgRm9ybWF0dGluZyoqOiBQcmV0dHktcHJpbnRzIEpTT04gb2JqZWN0cyB3aXRoIHByb3BlciBpbmRlbnRhdGlvblxuICogLSAqKkVycm9yIEhhbmRsaW5nKio6IFNwZWNpYWwgZm9ybWF0dGluZyBmb3IgQV9FcnJvciBhbmQgRXJyb3Igb2JqZWN0c1xuICogLSAqKkxvZyBMZXZlbCBGaWx0ZXJpbmcqKjogQ29uZmlndXJhYmxlIGZpbHRlcmluZyBiYXNlZCBvbiBzZXZlcml0eVxuICogLSAqKk11bHRpLWxpbmUgU3VwcG9ydCoqOiBQcm9wZXIgYWxpZ25tZW50IGZvciBtdWx0aS1saW5lIG1lc3NhZ2VzXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAvLyBCYXNpYyB1c2FnZSB3aXRoIGRlcGVuZGVuY3kgaW5qZWN0aW9uICh1c2VzIGRldGVybWluaXN0aWMgY29sb3JzIGJhc2VkIG9uIHNjb3BlIG5hbWUpXG4gKiBjbGFzcyBNeVNlcnZpY2Uge1xuICogICBjb25zdHJ1Y3RvcihAQV9JbmplY3QoQV9Mb2dnZXIpIHByaXZhdGUgbG9nZ2VyOiBBX0xvZ2dlcikge31cbiAqICAgXG4gKiAgIGRvU29tZXRoaW5nKCkge1xuICogICAgIHRoaXMubG9nZ2VyLmluZm8oJ1Byb2Nlc3Npbmcgc3RhcnRlZCcpOyAvLyBVc2VzIHNjb3BlLW5hbWUtYmFzZWQgY29sb3JzLCBhbHdheXMgc2hvd3NcbiAqICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRGVidWcgaW5mb3JtYXRpb24nKTsgLy8gT25seSBzaG93cyB3aGVuIGRlYnVnIGxldmVsIGVuYWJsZWRcbiAqICAgICBcbiAqICAgICAvLyBDb2xvciBvdmVybG9hZCBtZXRob2RzIHdpdGggZW51bSBzdXBwb3J0XG4gKiAgICAgdGhpcy5sb2dnZXIuaW5mbygnZ3JlZW4nLCAnU3VjY2VzcyBtZXNzYWdlJyk7IC8vIEdyZWVuIG1lc3NhZ2UsIHNjb3BlIHN0YXlzIGRlZmF1bHRcbiAqICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnZ3JheScsICdWZXJib3NlIGRlYnVnIGluZm8nKTsgLy8gR3JheSBtZXNzYWdlIGZvciBsZXNzIGltcG9ydGFudCBpbmZvXG4gKiAgICAgdGhpcy5sb2dnZXIuaW5mbygnYnJpZ2h0Qmx1ZScsICdJbXBvcnRhbnQgbm90aWZpY2F0aW9uJyk7XG4gKiAgICAgXG4gKiAgICAgLy8gVGVybWluYWwgd2lkdGggYXdhcmUgZm9ybWF0dGluZyAtIGF1dG9tYXRpY2FsbHkgd3JhcHMgbG9uZyBsaW5lc1xuICogICAgIHRoaXMubG9nZ2VyLmluZm8oJ1RoaXMgaXMgYSB2ZXJ5IGxvbmcgbWVzc2FnZSB0aGF0IHdpbGwgYmUgYXV0b21hdGljYWxseSB3cmFwcGVkIHRvIGZpdCB3aXRoaW4gdGhlIHRlcm1pbmFsIHdpZHRoIHdoaWxlIG1haW50YWluaW5nIHByb3BlciBpbmRlbnRhdGlvbiBhbmQgZm9ybWF0dGluZycpO1xuICogICAgIFxuICogICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoJ1NvbWV0aGluZyBtaWdodCBiZSB3cm9uZycpO1xuICogICAgIHRoaXMubG9nZ2VyLmVycm9yKG5ldyBFcnJvcignU29tZXRoaW5nIGZhaWxlZCcpKTtcbiAqICAgfVxuICogfVxuICogXG4gKiAvLyBTYW1lIHNjb3BlIG5hbWVzIHdpbGwgYWx3YXlzIGdldCB0aGUgc2FtZSBjb2xvcnMgYXV0b21hdGljYWxseVxuICogY29uc3QgbG9nZ2VyMSA9IG5ldyBBX0xvZ2dlcihuZXcgQV9TY29wZSh7bmFtZTogJ1VzZXJTZXJ2aWNlJ30pKTsgLy8gR2V0cyBjb25zaXN0ZW50IGNvbG9yc1xuICogY29uc3QgbG9nZ2VyMiA9IG5ldyBBX0xvZ2dlcihuZXcgQV9TY29wZSh7bmFtZTogJ1VzZXJTZXJ2aWNlJ30pKTsgLy8gR2V0cyBzYW1lIGNvbG9ycyBhcyBsb2dnZXIxXG4gKiBcbiAqIC8vIEF2YWlsYWJsZSBjb2xvciBuYW1lcyAoQV9Mb2dnZXJDb2xvck5hbWUgZW51bSk6XG4gKiAvLyAncmVkJywgJ3llbGxvdycsICdncmVlbicsICdibHVlJywgJ2N5YW4nLCAnbWFnZW50YScsICdncmF5JyxcbiAqIC8vICdicmlnaHRCbHVlJywgJ2JyaWdodEN5YW4nLCAnYnJpZ2h0TWFnZW50YScsICdkYXJrR3JheScsICdsaWdodEdyYXknLFxuICogLy8gJ2luZGlnbycsICd2aW9sZXQnLCAncHVycGxlJywgJ2xhdmVuZGVyJywgJ3NreUJsdWUnLCAnc3RlZWxCbHVlJyxcbiAqIC8vICdzbGF0ZUJsdWUnLCAnZGVlcEJsdWUnLCAnbGlnaHRCbHVlJywgJ3Blcml3aW5rbGUnLCAnY29ybmZsb3dlcicsXG4gKiAvLyAncG93ZGVyJywgJ2NoYXJjb2FsJywgJ3NpbHZlcicsICdzbW9rZScsICdzbGF0ZSdcbiAqIFxuICogLy8gQ29uZmlndXJhdGlvbiB2aWEgZW52aXJvbm1lbnQgdmFyaWFibGVzIG9yIEFfQ29uZmlnIChvdmVycmlkZXMgYXV0b21hdGljIHNlbGVjdGlvbilcbiAqIHByb2Nlc3MuZW52LkFfTE9HR0VSX0RFRkFVTFRfU0NPUEVfQ09MT1IgPSAnbWFnZW50YSc7XG4gKiBwcm9jZXNzLmVudi5BX0xPR0dFUl9ERUZBVUxUX0xPR19DT0xPUiA9ICdncmVlbic7XG4gKiBcbiAqIC8vIE9yIHRocm91Z2ggQV9Db25maWcgaW5zdGFuY2VcbiAqIGNvbnN0IGNvbmZpZyA9IG5ldyBBX0NvbmZpZyh7XG4gKiAgIEFfTE9HR0VSX0RFRkFVTFRfU0NPUEVfQ09MT1I6ICdyZWQnLFxuICogICBBX0xPR0dFUl9ERUZBVUxUX0xPR19DT0xPUjogJ3doaXRlJ1xuICogfSk7XG4gKiBjb25zdCBsb2dnZXIgPSBuZXcgQV9Mb2dnZXIoc2NvcGUsIGNvbmZpZyk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIEFfTG9nZ2VyIGV4dGVuZHMgQV9Db21wb25lbnQge1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uZmlndXJhdGlvbiBhbmQgQ29uc3RhbnRzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBUZXJtaW5hbCBjb2xvciBjb2RlcyBmb3IgZGlmZmVyZW50IGxvZyBsZXZlbHMgYW5kIGN1c3RvbSBzdHlsaW5nXG4gICAgICogVGhlc2UgY29kZXMgd29yayB3aXRoIEFOU0kgZXNjYXBlIHNlcXVlbmNlcyBmb3IgY29sb3JlZCB0ZXJtaW5hbCBvdXRwdXRcbiAgICAgKi9cbiAgICByZWFkb25seSBDT0xPUlM7XG5cbiAgICAvKipcbiAgICAgKiBTdGFuZGFyZCBzY29wZSBsZW5ndGggZm9yIGNvbnNpc3RlbnQgZm9ybWF0dGluZ1xuICAgICAqIFRoaXMgZW5zdXJlcyBhbGwgbG9nIG1lc3NhZ2VzIGFsaWduIHByb3Blcmx5IHJlZ2FyZGxlc3Mgb2Ygc2NvcGUgbmFtZSBsZW5ndGhcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlYWRvbmx5IFNUQU5EQVJEX1NDT1BFX0xFTkdUSDtcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgY29sb3IgZm9yIHRoZSBzY29wZSBwb3J0aW9uIG9mIGxvZyBtZXNzYWdlc1xuICAgICAqIFRoaXMgY29sb3IgaXMgdXNlZCBmb3IgdGhlIHNjb3BlIGJyYWNrZXRzIGFuZCBjb250ZW50LCBhbmQgcmVtYWlucyBjb25zaXN0ZW50XG4gICAgICogZm9yIHRoaXMgbG9nZ2VyIGluc3RhbmNlIHJlZ2FyZGxlc3Mgb2YgbWVzc2FnZSBjb2xvciBvdmVycmlkZXNcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlYWRvbmx5IERFRkFVTFRfU0NPUEVfQ09MT1I6IGtleW9mIHR5cGVvZiBBX0xPR0dFUl9DT0xPUlM7XG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGNvbG9yIGZvciBsb2cgbWVzc2FnZSBjb250ZW50IHdoZW4gbm8gZXhwbGljaXQgY29sb3IgaXMgcHJvdmlkZWRcbiAgICAgKiBUaGlzIGNvbG9yIGlzIHVzZWQgZm9yIHRoZSBtZXNzYWdlIGJvZHkgd2hlbiBsb2dnaW5nIHdpdGhvdXQgc3BlY2lmeWluZyBhIGNvbG9yXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWFkb25seSBERUZBVUxUX0xPR19DT0xPUjoga2V5b2YgdHlwZW9mIEFfTE9HR0VSX0NPTE9SUztcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgdGVybWluYWwgd2lkdGggZm9yIHJlc3BvbnNpdmUgZm9ybWF0dGluZ1xuICAgICAqIEF1dG9tYXRpY2FsbHkgZGV0ZWN0ZWQgb3IgZmFsbHMgYmFjayB0byBkZWZhdWx0IHZhbHVlc1xuICAgICAqL1xuICAgIHByaXZhdGUgcmVhZG9ubHkgVEVSTUlOQUxfV0lEVEg6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIE1heGltdW0gY29udGVudCB3aWR0aCBiYXNlZCBvbiB0ZXJtaW5hbCBzaXplXG4gICAgICogVXNlZCBmb3Igd29yZCB3cmFwcGluZyBhbmQgbGluZSBsZW5ndGggY2FsY3VsYXRpb25zXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWFkb25seSBNQVhfQ09OVEVOVF9XSURUSDogbnVtYmVyO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uc3RydWN0b3IgYW5kIEluaXRpYWxpemF0aW9uXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgQV9Mb2dnZXIgd2l0aCBkZXBlbmRlbmN5IGluamVjdGlvblxuICAgICAqIENvbG9ycyBhcmUgY29uZmlndXJlZCB0aHJvdWdoIEFfQ29uZmlnIG9yIGdlbmVyYXRlZCByYW5kb21seSBpZiBub3QgcHJvdmlkZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGUgLSBUaGUgY3VycmVudCBzY29wZSBjb250ZXh0IGZvciBtZXNzYWdlIHByZWZpeGluZ1xuICAgICAqIEBwYXJhbSBjb25maWcgLSBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZvciBsb2cgbGV2ZWwgZmlsdGVyaW5nIGFuZCBjb2xvciBzZXR0aW5nc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgcHJvdGVjdGVkIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQV9Db25maWcpIHByb3RlY3RlZCBjb25maWc/OiBBX0NvbmZpZzxBX0xvZ2dlckVudlZhcmlhYmxlc1R5cGU+XG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuQ09MT1JTID0gQV9MT0dHRVJfQ09MT1JTO1xuICAgICAgICB0aGlzLlNUQU5EQVJEX1NDT1BFX0xFTkdUSCA9IGNvbmZpZz8uZ2V0KEFfTE9HR0VSX0VOVl9LRVlTLkRFRkFVTFRfU0NPUEVfTEVOR1RIKSB8fCBBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0xFTkdUSDtcblxuICAgICAgICAvLyBHZXQgY29sb3JzIGZyb20gY29uZmlnIG9yIGdlbmVyYXRlIGRldGVybWluaXN0aWMgY29sb3JzIGJhc2VkIG9uIHNjb3BlIG5hbWVcbiAgICAgICAgY29uc3QgY29uZmlnU2NvcGVDb2xvciA9IGNvbmZpZz8uZ2V0KEFfTE9HR0VSX0VOVl9LRVlTLkRFRkFVTFRfU0NPUEVfQ09MT1IpIGFzIGtleW9mIHR5cGVvZiBBX0xPR0dFUl9DT0xPUlM7XG4gICAgICAgIGNvbnN0IGNvbmZpZ0xvZ0NvbG9yID0gY29uZmlnPy5nZXQoQV9MT0dHRVJfRU5WX0tFWVMuREVGQVVMVF9MT0dfQ09MT1IpIGFzIGtleW9mIHR5cGVvZiBBX0xPR0dFUl9DT0xPUlM7XG5cbiAgICAgICAgaWYgKGNvbmZpZ1Njb3BlQ29sb3IgfHwgY29uZmlnTG9nQ29sb3IpIHtcbiAgICAgICAgICAgIC8vIElmIGFueSBjb2xvciBpcyBjb25maWd1cmVkLCB1c2UgY29uZmlnIHZhbHVlcyBvciBmYWxsYmFjayB0byBzY29wZS1iYXNlZCBzZWxlY3Rpb25cbiAgICAgICAgICAgIHRoaXMuREVGQVVMVF9TQ09QRV9DT0xPUiA9IGNvbmZpZ1Njb3BlQ29sb3IgfHwgdGhpcy5nZW5lcmF0ZUNvbG9yRnJvbVNjb3BlTmFtZSh0aGlzLnNjb3BlLm5hbWUpO1xuICAgICAgICAgICAgdGhpcy5ERUZBVUxUX0xPR19DT0xPUiA9IGNvbmZpZ0xvZ0NvbG9yIHx8IHRoaXMuZ2VuZXJhdGVDb2xvckZyb21TY29wZU5hbWUodGhpcy5zY29wZS5uYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIG5vIGNvbG9ycyBjb25maWd1cmVkLCBnZW5lcmF0ZSBjb21wbGVtZW50YXJ5IHBhaXIgYmFzZWQgb24gc2NvcGUgbmFtZVxuICAgICAgICAgICAgY29uc3QgY29tcGxlbWVudGFyeUNvbG9ycyA9IHRoaXMuZ2VuZXJhdGVDb21wbGVtZW50YXJ5Q29sb3JzRnJvbVNjb3BlKHRoaXMuc2NvcGUubmFtZSk7XG4gICAgICAgICAgICB0aGlzLkRFRkFVTFRfU0NPUEVfQ09MT1IgPSBjb21wbGVtZW50YXJ5Q29sb3JzLnNjb3BlQ29sb3I7XG4gICAgICAgICAgICB0aGlzLkRFRkFVTFRfTE9HX0NPTE9SID0gY29tcGxlbWVudGFyeUNvbG9ycy5sb2dDb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluaXRpYWxpemUgdGVybWluYWwgd2lkdGggZGV0ZWN0aW9uXG4gICAgICAgIHRoaXMuVEVSTUlOQUxfV0lEVEggPSB0aGlzLmRldGVjdFRlcm1pbmFsV2lkdGgoKTtcbiAgICAgICAgdGhpcy5NQVhfQ09OVEVOVF9XSURUSCA9IE1hdGguZmxvb3IodGhpcy5URVJNSU5BTF9XSURUSCAqIEFfTE9HR0VSX1RFUk1JTkFMLk1BWF9MSU5FX0xFTkdUSF9SQVRJTyk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29sb3IgR2VuZXJhdGlvbiBVdGlsaXRpZXNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGEgc2ltcGxlIGhhc2ggZnJvbSBhIHN0cmluZ1xuICAgICAqIFVzZWQgdG8gY3JlYXRlIGRldGVybWluaXN0aWMgY29sb3Igc2VsZWN0aW9uIGJhc2VkIG9uIHNjb3BlIG5hbWVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RyIC0gVGhlIHN0cmluZyB0byBoYXNoXG4gICAgICogQHJldHVybnMgQSBudW1lcmljIGhhc2ggdmFsdWVcbiAgICAgKi9cbiAgICBwcml2YXRlIHNpbXBsZUhhc2goc3RyOiBzdHJpbmcpOiBudW1iZXIge1xuICAgICAgICBsZXQgaGFzaCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFyID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBjaGFyO1xuICAgICAgICAgICAgaGFzaCA9IGhhc2ggJiBoYXNoOyAvLyBDb252ZXJ0IHRvIDMyLWJpdCBpbnRlZ2VyXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGhhc2gpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGEgZGV0ZXJtaW5pc3RpYyBjb2xvciBiYXNlZCBvbiBzY29wZSBuYW1lXG4gICAgICogU2FtZSBzY29wZSBuYW1lcyB3aWxsIGFsd2F5cyBnZXQgdGhlIHNhbWUgY29sb3IsIGJ1dCB1c2VzIHNhZmUgY29sb3IgcGFsZXR0ZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzY29wZU5hbWUgLSBUaGUgc2NvcGUgbmFtZSB0byBnZW5lcmF0ZSBjb2xvciBmb3JcbiAgICAgKiBAcmV0dXJucyBBIGNvbG9yIGtleSBmcm9tIHRoZSBzYWZlIGNvbG9ycyBwYWxldHRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUNvbG9yRnJvbVNjb3BlTmFtZShzY29wZU5hbWU6IHN0cmluZyk6IGtleW9mIHR5cGVvZiBBX0xPR0dFUl9DT0xPUlMge1xuICAgICAgICBjb25zdCBzYWZlQ29sb3JzID0gQV9MT0dHRVJfU0FGRV9SQU5ET01fQ09MT1JTO1xuICAgICAgICBjb25zdCBoYXNoID0gdGhpcy5zaW1wbGVIYXNoKHNjb3BlTmFtZSk7XG4gICAgICAgIGNvbnN0IGNvbG9ySW5kZXggPSBoYXNoICUgc2FmZUNvbG9ycy5sZW5ndGg7XG4gICAgICAgIHJldHVybiBzYWZlQ29sb3JzW2NvbG9ySW5kZXhdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGEgcGFpciBvZiBjb21wbGVtZW50YXJ5IGNvbG9ycyBiYXNlZCBvbiBzY29wZSBuYW1lXG4gICAgICogRW5zdXJlcyB2aXN1YWwgaGFybW9ueSBiZXR3ZWVuIHNjb3BlIGFuZCBtZXNzYWdlIGNvbG9ycyB3aGlsZSBiZWluZyBkZXRlcm1pbmlzdGljXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlTmFtZSAtIFRoZSBzY29wZSBuYW1lIHRvIGJhc2UgY29sb3JzIG9uXG4gICAgICogQHJldHVybnMgT2JqZWN0IHdpdGggc2NvcGVDb2xvciBhbmQgbG9nQ29sb3IgdGhhdCB3b3JrIHdlbGwgdG9nZXRoZXJcbiAgICAgKi9cbiAgICBwcml2YXRlIGdlbmVyYXRlQ29tcGxlbWVudGFyeUNvbG9yc0Zyb21TY29wZShzY29wZU5hbWU6IHN0cmluZyk6IHsgc2NvcGVDb2xvcjoga2V5b2YgdHlwZW9mIEFfTE9HR0VSX0NPTE9SUywgbG9nQ29sb3I6IGtleW9mIHR5cGVvZiBBX0xPR0dFUl9DT0xPUlMgfSB7XG4gICAgICAgIC8vIERlZmluZSBjb2xvciBncm91cHMgdGhhdCB3b3JrIHdlbGwgdG9nZXRoZXJcbiAgICAgICAgY29uc3QgY29sb3JQYWlycyA9IFtcbiAgICAgICAgICAgIHsgc2NvcGVDb2xvcjogJ2luZGlnbycgYXMgY29uc3QsIGxvZ0NvbG9yOiAnbGlnaHRCbHVlJyBhcyBjb25zdCB9LFxuICAgICAgICAgICAgeyBzY29wZUNvbG9yOiAnZGVlcEJsdWUnIGFzIGNvbnN0LCBsb2dDb2xvcjogJ2N5YW4nIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHNjb3BlQ29sb3I6ICdwdXJwbGUnIGFzIGNvbnN0LCBsb2dDb2xvcjogJ2xhdmVuZGVyJyBhcyBjb25zdCB9LFxuICAgICAgICAgICAgeyBzY29wZUNvbG9yOiAnc3RlZWxCbHVlJyBhcyBjb25zdCwgbG9nQ29sb3I6ICdza3lCbHVlJyBhcyBjb25zdCB9LFxuICAgICAgICAgICAgeyBzY29wZUNvbG9yOiAnc2xhdGVCbHVlJyBhcyBjb25zdCwgbG9nQ29sb3I6ICdwZXJpd2lua2xlJyBhcyBjb25zdCB9LFxuICAgICAgICAgICAgeyBzY29wZUNvbG9yOiAnY2hhcmNvYWwnIGFzIGNvbnN0LCBsb2dDb2xvcjogJ3NpbHZlcicgYXMgY29uc3QgfSxcbiAgICAgICAgICAgIHsgc2NvcGVDb2xvcjogJ3Zpb2xldCcgYXMgY29uc3QsIGxvZ0NvbG9yOiAnYnJpZ2h0TWFnZW50YScgYXMgY29uc3QgfSxcbiAgICAgICAgICAgIHsgc2NvcGVDb2xvcjogJ2RhcmtHcmF5JyBhcyBjb25zdCwgbG9nQ29sb3I6ICdsaWdodEdyYXknIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHNjb3BlQ29sb3I6ICdjb3JuZmxvd2VyJyBhcyBjb25zdCwgbG9nQ29sb3I6ICdwb3dkZXInIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHNjb3BlQ29sb3I6ICdzbGF0ZScgYXMgY29uc3QsIGxvZ0NvbG9yOiAnc21va2UnIGFzIGNvbnN0IH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgaGFzaCA9IHRoaXMuc2ltcGxlSGFzaChzY29wZU5hbWUpO1xuICAgICAgICBjb25zdCBwYWlySW5kZXggPSBoYXNoICUgY29sb3JQYWlycy5sZW5ndGg7XG4gICAgICAgIHJldHVybiBjb2xvclBhaXJzW3BhaXJJbmRleF07XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gVGVybWluYWwgV2lkdGggRGV0ZWN0aW9uXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgY3VycmVudCB0ZXJtaW5hbCB3aWR0aCBiYXNlZCBvbiBlbnZpcm9ubWVudFxuICAgICAqIFxuICAgICAqIFJldHVybnMgYXBwcm9wcmlhdGUgd2lkdGggZm9yIGRpZmZlcmVudCBlbnZpcm9ubWVudHM6XG4gICAgICogLSBOb2RlLmpzOiBVc2VzIHByb2Nlc3Muc3Rkb3V0LmNvbHVtbnMgaWYgYXZhaWxhYmxlXG4gICAgICogLSBCcm93c2VyOiBSZXR1cm5zIGJyb3dzZXIgZGVmYXVsdCB3aWR0aFxuICAgICAqIC0gRmFsbGJhY2s6IFJldHVybnMgZGVmYXVsdCB0ZXJtaW5hbCB3aWR0aFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFRlcm1pbmFsIHdpZHRoIGluIGNoYXJhY3RlcnNcbiAgICAgKi9cbiAgICBwcml2YXRlIGRldGVjdFRlcm1pbmFsV2lkdGgoKTogbnVtYmVyIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEJyb3dzZXIgZW52aXJvbm1lbnRcbiAgICAgICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdicm93c2VyJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBBX0xPR0dFUl9URVJNSU5BTC5CUk9XU0VSX0RFRkFVTFRfV0lEVEg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vZGUuanMgZW52aXJvbm1lbnQgLSB0cnkgdG8gZ2V0IGFjdHVhbCB0ZXJtaW5hbCB3aWR0aFxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLnN0ZG91dCAmJiBwcm9jZXNzLnN0ZG91dC5jb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29scyA9IHByb2Nlc3Muc3Rkb3V0LmNvbHVtbnM7XG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIG1pbmltdW0gd2lkdGggZm9yIHJlYWRhYmlsaXR5XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGNvbHMsIEFfTE9HR0VSX1RFUk1JTkFMLk1JTl9XSURUSCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGRlZmF1bHQgd2lkdGhcbiAgICAgICAgICAgIHJldHVybiBBX0xPR0dFUl9URVJNSU5BTC5ERUZBVUxUX1dJRFRIO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gSWYgYW55IGVycm9yIG9jY3VycywgZmFsbCBiYWNrIHRvIGRlZmF1bHQgd2lkdGhcbiAgICAgICAgICAgIHJldHVybiBBX0xPR0dFUl9URVJNSU5BTC5ERUZBVUxUX1dJRFRIO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JhcCB0ZXh0IHRvIGZpdCB3aXRoaW4gdGVybWluYWwgd2lkdGggd2hpbGUgcHJlc2VydmluZyBmb3JtYXR0aW5nXG4gICAgICogXG4gICAgICogQHBhcmFtIHRleHQgLSBUZXh0IHRvIHdyYXBcbiAgICAgKiBAcGFyYW0gc2NvcGVQYWRkaW5nIC0gVGhlIHNjb3BlIHBhZGRpbmcgc3RyaW5nIGZvciBhbGlnbm1lbnRcbiAgICAgKiBAcGFyYW0gaXNGaXJzdExpbmUgLSBXaGV0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGxpbmUgKGFmZmVjdHMgYXZhaWxhYmxlIHdpZHRoIGNhbGN1bGF0aW9uKVxuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIHdyYXBwZWQgbGluZXMgd2l0aCBwcm9wZXIgaW5kZW50YXRpb25cbiAgICAgKi9cbiAgICBwcml2YXRlIHdyYXBUZXh0KHRleHQ6IHN0cmluZywgc2NvcGVQYWRkaW5nOiBzdHJpbmcsIGlzRmlyc3RMaW5lOiBib29sZWFuID0gdHJ1ZSk6IHN0cmluZ1tdIHtcbiAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ2Jyb3dzZXInKSB7XG4gICAgICAgICAgICAvLyBJbiBicm93c2VyLCBkb24ndCB3cmFwIC0gbGV0IGJyb3dzZXIgY29uc29sZSBoYW5kbGUgaXRcbiAgICAgICAgICAgIHJldHVybiBbdGV4dF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxjdWxhdGUgYXZhaWxhYmxlIHdpZHRoIGZvciB0ZXh0IGNvbnRlbnRcbiAgICAgICAgLy8gRmlyc3QgbGluZTogdGVybWluYWxfd2lkdGggLSBzY29wZV9oZWFkZXJfbGVuZ3RoIChpbmNsdWRlcyBbc2NvcGVdIHx0aW1lfCBwYXJ0KVxuICAgICAgICAvLyBDb250aW51YXRpb24gbGluZXM6IHRlcm1pbmFsX3dpZHRoIC0gc2NvcGVfcGFkZGluZyAtIHBpcGVfbGVuZ3RoXG4gICAgICAgIGNvbnN0IHNjb3BlSGVhZGVyTGVuZ3RoID0gdGhpcy5mb3JtYXR0ZWRTY29wZS5sZW5ndGggKyA0ICsgdGhpcy5nZXRUaW1lKCkubGVuZ3RoICsgNDsgLy8gW3Njb3BlXSB8dGltZXwgXG4gICAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbkluZGVudCA9IGAke3Njb3BlUGFkZGluZ30ke0FfTE9HR0VSX0ZPUk1BVC5QSVBFfWA7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBmaXJzdExpbmVNYXhXaWR0aCA9IE1hdGgubWF4KHRoaXMuVEVSTUlOQUxfV0lEVEggLSBzY29wZUhlYWRlckxlbmd0aCAtIDEsIDIwKTsgLy8gLTEgZm9yIHNwYWNlXG4gICAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbk1heFdpZHRoID0gTWF0aC5tYXgodGhpcy5URVJNSU5BTF9XSURUSCAtIGNvbnRpbnVhdGlvbkluZGVudC5sZW5ndGgsIDIwKTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIHRleHQgZml0cyBvbiBmaXJzdCBsaW5lLCByZXR1cm4gYXMgaXNcbiAgICAgICAgaWYgKGlzRmlyc3RMaW5lICYmIHRleHQubGVuZ3RoIDw9IGZpcnN0TGluZU1heFdpZHRoKSB7XG4gICAgICAgICAgICByZXR1cm4gW3RleHRdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGNvbnN0IHdvcmRzID0gdGV4dC5zcGxpdCgnICcpO1xuICAgICAgICBsZXQgY3VycmVudExpbmUgPSAnJztcbiAgICAgICAgbGV0IGN1cnJlbnRNYXhXaWR0aCA9IGlzRmlyc3RMaW5lID8gZmlyc3RMaW5lTWF4V2lkdGggOiBjb250aW51YXRpb25NYXhXaWR0aDtcbiAgICAgICAgbGV0IGlzQ3VycmVudExpbmVGaXJzdCA9IGlzRmlyc3RMaW5lO1xuXG4gICAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB3b3Jkcykge1xuICAgICAgICAgICAgY29uc3Qgc3BhY2VOZWVkZWQgPSBjdXJyZW50TGluZSA/IDEgOiAwOyAvLyBTcGFjZSBiZWZvcmUgd29yZFxuICAgICAgICAgICAgY29uc3QgdG90YWxMZW5ndGggPSBjdXJyZW50TGluZS5sZW5ndGggKyBzcGFjZU5lZWRlZCArIHdvcmQubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyBJZiBhZGRpbmcgdGhpcyB3b3JkIHdvdWxkIGV4Y2VlZCBjdXJyZW50IGxpbmUncyBtYXggd2lkdGhcbiAgICAgICAgICAgIGlmICh0b3RhbExlbmd0aCA+IGN1cnJlbnRNYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50TGluZSkge1xuICAgICAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKGN1cnJlbnRMaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudExpbmUgPSB3b3JkO1xuICAgICAgICAgICAgICAgICAgICAvLyBBZnRlciBmaXJzdCBsaW5lLCBhbGwgc3Vic2VxdWVudCBsaW5lcyB1c2UgY29udGludWF0aW9uIHdpZHRoXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNYXhXaWR0aCA9IGNvbnRpbnVhdGlvbk1heFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBpc0N1cnJlbnRMaW5lRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBXb3JkIGl0c2VsZiBpcyB0b28gbG9uZywgc3BsaXQgaXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmQubGVuZ3RoID4gY3VycmVudE1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaHVua3MgPSB0aGlzLnNwbGl0TG9uZ1dvcmQod29yZCwgY3VycmVudE1heFdpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goLi4uY2h1bmtzLnNsaWNlKDAsIC0xKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TGluZSA9IGNodW5rc1tjaHVua3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TGluZSA9IHdvcmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1heFdpZHRoID0gY29udGludWF0aW9uTWF4V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGlzQ3VycmVudExpbmVGaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVudExpbmUgKz0gKGN1cnJlbnRMaW5lID8gJyAnIDogJycpICsgd29yZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50TGluZSkge1xuICAgICAgICAgICAgbGluZXMucHVzaChjdXJyZW50TGluZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGluZXMubGVuZ3RoID8gbGluZXMgOiBbdGV4dF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3BsaXQgYSBsb25nIHdvcmQgdGhhdCBkb2Vzbid0IGZpdCBvbiBhIHNpbmdsZSBsaW5lXG4gICAgICogXG4gICAgICogQHBhcmFtIHdvcmQgLSBXb3JkIHRvIHNwbGl0XG4gICAgICogQHBhcmFtIG1heExlbmd0aCAtIE1heGltdW0gbGVuZ3RoIHBlciBjaHVua1xuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIHdvcmQgY2h1bmtzXG4gICAgICovXG4gICAgcHJpdmF0ZSBzcGxpdExvbmdXb3JkKHdvcmQ6IHN0cmluZywgbWF4TGVuZ3RoOiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IGNodW5rczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JkLmxlbmd0aDsgaSArPSBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgIGNodW5rcy5wdXNoKHdvcmQuc2xpY2UoaSwgaSArIG1heExlbmd0aCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaHVua3M7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gRmFjdG9yeSBNZXRob2RzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBTY29wZSBhbmQgRm9ybWF0dGluZyBVdGlsaXRpZXNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZm9ybWF0dGVkIHNjb3BlIGxlbmd0aCBmb3IgY29uc2lzdGVudCBtZXNzYWdlIGFsaWdubWVudFxuICAgICAqIFVzZXMgYSBzdGFuZGFyZCBsZW5ndGggdG8gZW5zdXJlIGFsbCBtZXNzYWdlcyBhbGlnbiBwcm9wZXJseSByZWdhcmRsZXNzIG9mIHNjb3BlIG5hbWVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBUaGUgc2NvcGUgbGVuZ3RoIHRvIHVzZSBmb3IgcGFkZGluZyBjYWxjdWxhdGlvbnNcbiAgICAgKi9cbiAgICBnZXQgc2NvcGVMZW5ndGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMuc2NvcGUubmFtZS5sZW5ndGgsIHRoaXMuU1RBTkRBUkRfU0NPUEVfTEVOR1RIKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZvcm1hdHRlZCBzY29wZSBuYW1lIHdpdGggcHJvcGVyIHBhZGRpbmcsIGNlbnRlcmVkIHdpdGhpbiB0aGUgY29udGFpbmVyXG4gICAgICogRW5zdXJlcyBjb25zaXN0ZW50IHdpZHRoIGZvciBhbGwgc2NvcGUgbmFtZXMgaW4gbG9nIG91dHB1dCB3aXRoIGNlbnRlcmVkIGFsaWdubWVudFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIENlbnRlcmVkIGFuZCBwYWRkZWQgc2NvcGUgbmFtZSBmb3IgY29uc2lzdGVudCBmb3JtYXR0aW5nXG4gICAgICovXG4gICAgZ2V0IGZvcm1hdHRlZFNjb3BlKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHNjb3BlTmFtZSA9IHRoaXMuc2NvcGUubmFtZTtcbiAgICAgICAgY29uc3QgdG90YWxMZW5ndGggPSB0aGlzLlNUQU5EQVJEX1NDT1BFX0xFTkdUSDtcblxuICAgICAgICAvLyBJZiBzY29wZSBuYW1lIGlzIGxvbmdlciB0aGFuIHN0YW5kYXJkIGxlbmd0aCwgdHJ1bmNhdGUgaXRcbiAgICAgICAgaWYgKHNjb3BlTmFtZS5sZW5ndGggPj0gdG90YWxMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBzY29wZU5hbWUuc3Vic3RyaW5nKDAsIHRvdGFsTGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBwYWRkaW5nIGZvciBjZW50ZXJpbmdcbiAgICAgICAgY29uc3QgdG90YWxQYWRkaW5nID0gdG90YWxMZW5ndGggLSBzY29wZU5hbWUubGVuZ3RoO1xuICAgICAgICBjb25zdCBsZWZ0UGFkZGluZyA9IE1hdGguZmxvb3IodG90YWxQYWRkaW5nIC8gMik7XG4gICAgICAgIGNvbnN0IHJpZ2h0UGFkZGluZyA9IHRvdGFsUGFkZGluZyAtIGxlZnRQYWRkaW5nO1xuXG4gICAgICAgIHJldHVybiAnICcucmVwZWF0KGxlZnRQYWRkaW5nKSArIHNjb3BlTmFtZSArICcgJy5yZXBlYXQocmlnaHRQYWRkaW5nKTtcbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIE1lc3NhZ2UgQ29tcGlsYXRpb24gYW5kIEZvcm1hdHRpbmdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIENvbXBpbGUgbG9nIGFyZ3VtZW50cyBpbnRvIGZvcm1hdHRlZCBjb25zb2xlIG91dHB1dCB3aXRoIGNvbG9ycyBhbmQgcHJvcGVyIGFsaWdubWVudFxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIGhhbmRsZXMgdGhlIGNvcmUgZm9ybWF0dGluZyBsb2dpYyBmb3IgYWxsIGxvZyBtZXNzYWdlczpcbiAgICAgKiAtIEFwcGxpZXMgc2VwYXJhdGUgY29sb3JzIGZvciBzY29wZSBhbmQgbWVzc2FnZSBjb250ZW50XG4gICAgICogLSBGb3JtYXRzIHNjb3BlIG5hbWVzIHdpdGggY29uc2lzdGVudCBwYWRkaW5nXG4gICAgICogLSBIYW5kbGVzIGRpZmZlcmVudCBkYXRhIHR5cGVzIGFwcHJvcHJpYXRlbHlcbiAgICAgKiAtIE1haW50YWlucyBwcm9wZXIgaW5kZW50YXRpb24gZm9yIG11bHRpLWxpbmUgY29udGVudFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBtZXNzYWdlQ29sb3IgLSBUaGUgY29sb3Iga2V5IHRvIGFwcGx5IHRvIHRoZSBtZXNzYWdlIGNvbnRlbnRcbiAgICAgKiBAcGFyYW0gYXJncyAtIFZhcmlhYmxlIGFyZ3VtZW50cyB0byBmb3JtYXQgYW5kIGRpc3BsYXlcbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiBmb3JtYXR0ZWQgc3RyaW5ncyBhbmQvb3Igb2JqZWN0cyByZWFkeSBmb3IgY29uc29sZSBvdXRwdXRcbiAgICAgKi9cbiAgICBjb21waWxlKFxuICAgICAgICBtZXNzYWdlQ29sb3I6IGtleW9mIHR5cGVvZiB0aGlzLkNPTE9SUyxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBBcnJheTxhbnk+IHtcbiAgICAgICAgY29uc3QgdGltZVN0cmluZyA9IHRoaXMuZ2V0VGltZSgpO1xuICAgICAgICAvLyBDYWxjdWxhdGUgcGFkZGluZyBiYXNlZCBvbiBhY3R1YWwgZGlzcGxheWVkIHNjb3BlIHdpZHRoIChTVEFOREFSRF9TQ09QRV9MRU5HVEgpXG4gICAgICAgIC8vIFBsdXMgMyBmb3IgdGhlIGJyYWNrZXRzIGFuZCBzcGFjZTogW3Njb3BlXSBcbiAgICAgICAgY29uc3Qgc2NvcGVQYWRkaW5nID0gJyAnLnJlcGVhdCh0aGlzLlNUQU5EQVJEX1NDT1BFX0xFTkdUSCArIDMpO1xuICAgICAgICBjb25zdCBpc011bHRpQXJnID0gYXJncy5sZW5ndGggPiAxO1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAvLyBIZWFkZXIgd2l0aCBzZXBhcmF0ZSBjb2xvcnMgZm9yIHNjb3BlIGFuZCBtZXNzYWdlIGNvbnRlbnRcbiAgICAgICAgICAgIGAke0FfTE9HR0VSX0FOU0kuUFJFRklYfSR7dGhpcy5DT0xPUlNbdGhpcy5ERUZBVUxUX1NDT1BFX0NPTE9SXX0ke0FfTE9HR0VSX0FOU0kuU1VGRklYfSR7QV9MT0dHRVJfRk9STUFULlNDT1BFX09QRU59JHt0aGlzLmZvcm1hdHRlZFNjb3BlfSR7QV9MT0dHRVJfRk9STUFULlNDT1BFX0NMT1NFfSR7QV9MT0dHRVJfQU5TSS5SRVNFVH0gJHtBX0xPR0dFUl9BTlNJLlBSRUZJWH0ke3RoaXMuQ09MT1JTW21lc3NhZ2VDb2xvcl19JHtBX0xPR0dFUl9BTlNJLlNVRkZJWH0ke0FfTE9HR0VSX0ZPUk1BVC5USU1FX09QRU59JHt0aW1lU3RyaW5nfSR7QV9MT0dHRVJfRk9STUFULlRJTUVfQ0xPU0V9YCxcblxuICAgICAgICAgICAgLy8gVG9wIHNlcGFyYXRvciBmb3IgbXVsdGktYXJndW1lbnQgbWVzc2FnZXNcbiAgICAgICAgICAgIGlzTXVsdGlBcmcgPyAnXFxuJyArIGAke3Njb3BlUGFkZGluZ30ke0FfTE9HR0VSX0ZPUk1BVC5USU1FX09QRU59JHtBX0xPR0dFUl9GT1JNQVQuU0VQQVJBVE9SfWAgOiAnJyxcblxuICAgICAgICAgICAgLy8gUHJvY2VzcyBlYWNoIGFyZ3VtZW50IHdpdGggYXBwcm9wcmlhdGUgZm9ybWF0dGluZ1xuICAgICAgICAgICAgLi4uYXJncy5tYXAoKGFyZywgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZEFkZE5ld2xpbmUgPSBpID4gMCB8fCBpc011bHRpQXJnO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgYXJnIGluc3RhbmNlb2YgQV9FcnJvcjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBpbGVfQV9FcnJvcihhcmcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgYXJnIGluc3RhbmNlb2YgRXJyb3I6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21waWxlX0Vycm9yKGFyZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRPYmplY3QoYXJnLCBzaG91bGRBZGROZXdsaW5lLCBzY29wZVBhZGRpbmcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRTdHJpbmcoU3RyaW5nKGFyZyksIHNob3VsZEFkZE5ld2xpbmUsIHNjb3BlUGFkZGluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIC8vIEJvdHRvbSBzZXBhcmF0b3IgYW5kIGNvbG9yIHJlc2V0XG4gICAgICAgICAgICBpc011bHRpQXJnXG4gICAgICAgICAgICAgICAgPyAnXFxuJyArIGAke3Njb3BlUGFkZGluZ30ke0FfTE9HR0VSX0ZPUk1BVC5USU1FX09QRU59JHtBX0xPR0dFUl9GT1JNQVQuU0VQQVJBVE9SfSR7QV9MT0dHRVJfQU5TSS5SRVNFVH1gXG4gICAgICAgICAgICAgICAgOiBBX0xPR0dFUl9BTlNJLlJFU0VUXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IGFuIG9iamVjdCBmb3IgZGlzcGxheSB3aXRoIHByb3BlciBKU09OIGluZGVudGF0aW9uIGFuZCB0ZXJtaW5hbCB3aWR0aCBhd2FyZW5lc3NcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gb2JqIC0gVGhlIG9iamVjdCB0byBmb3JtYXRcbiAgICAgKiBAcGFyYW0gc2hvdWxkQWRkTmV3bGluZSAtIFdoZXRoZXIgdG8gYWRkIGEgbmV3bGluZSBwcmVmaXhcbiAgICAgKiBAcGFyYW0gc2NvcGVQYWRkaW5nIC0gVGhlIHBhZGRpbmcgc3RyaW5nIGZvciBjb25zaXN0ZW50IGFsaWdubWVudFxuICAgICAqIEByZXR1cm5zIEZvcm1hdHRlZCBvYmplY3Qgc3RyaW5nIG9yIHRoZSBvYmplY3QgaXRzZWxmIGZvciBicm93c2VyIGVudmlyb25tZW50c1xuICAgICAqL1xuICAgIHByaXZhdGUgZm9ybWF0T2JqZWN0KG9iajogYW55LCBzaG91bGRBZGROZXdsaW5lOiBib29sZWFuLCBzY29wZVBhZGRpbmc6IHN0cmluZyk6IGFueSB7XG5cbiAgICAgICAgLy8gSW4gY2FzZSBpdCdzIGJyb3dzZXIsIHJldHVybiB0aGUgb2JqZWN0IGFzIGlzIHRvIHVzZSBuYXRpdmUgY29uc29sZSBvYmplY3QgcmVuZGVyaW5nXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIHRoZSBicm93c2VyIGNvbnNvbGUgdG8gZGlzcGxheSBvYmplY3RzIHdpdGggaXRzIG5hdGl2ZSBpbnRlcmFjdGl2ZSBmZWF0dXJlc1xuICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnYnJvd3NlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgbnVsbCBhbmQgdW5kZWZpbmVkIHZhbHVlc1xuICAgICAgICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gc2hvdWxkQWRkTmV3bGluZSA/IGBcXG4ke3Njb3BlUGFkZGluZ30ke0FfTE9HR0VSX0ZPUk1BVC5QSVBFfW51bGxgIDogJ251bGwnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHNob3VsZEFkZE5ld2xpbmUgPyBgXFxuJHtzY29wZVBhZGRpbmd9JHtBX0xPR0dFUl9GT1JNQVQuUElQRX11bmRlZmluZWRgIDogJ3VuZGVmaW5lZCc7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQganNvblN0cmluZzogc3RyaW5nO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAganNvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgb3RoZXIgSlNPTiBlcnJvcnNcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VlbiA9IG5ldyBXZWFrU2V0KCk7XG4gICAgICAgICAgICAgICAganNvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KG9iaiwgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWVuLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhciBSZWZlcmVuY2VdJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZW4uYWRkKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSwgMik7XG4gICAgICAgICAgICB9IGNhdGNoIChmYWxsYmFja0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgYWxsIGVsc2UgZmFpbHMsIGNvbnZlcnQgdG8gc3RyaW5nXG4gICAgICAgICAgICAgICAganNvblN0cmluZyA9IFN0cmluZyhvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwbHkgdGVybWluYWwgd2lkdGggd3JhcHBpbmcgdG8gbG9uZyBKU09OIHN0cmluZyB2YWx1ZXNcbiAgICAgICAgY29uc3QgY29udGludWF0aW9uSW5kZW50ID0gYCR7c2NvcGVQYWRkaW5nfSR7QV9MT0dHRVJfRk9STUFULlBJUEV9YDtcbiAgICAgICAgY29uc3QgbWF4SnNvbkxpbmVXaWR0aCA9IHRoaXMuVEVSTUlOQUxfV0lEVEggLSBjb250aW51YXRpb25JbmRlbnQubGVuZ3RoIC0gNDsgLy8gLTQgZm9yIEpTT04gaW5kZW50YXRpb25cbiAgICAgICAgXG4gICAgICAgIC8vIFNwbGl0IGludG8gbGluZXMgYW5kIHdyYXAgbG9uZyBzdHJpbmcgdmFsdWVzXG4gICAgICAgIGNvbnN0IGxpbmVzID0ganNvblN0cmluZy5zcGxpdCgnXFxuJykubWFwKGxpbmUgPT4ge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBsaW5lIGNvbnRhaW5zIGEgbG9uZyBzdHJpbmcgdmFsdWVcbiAgICAgICAgICAgIGNvbnN0IHN0cmluZ1ZhbHVlTWF0Y2ggPSBsaW5lLm1hdGNoKC9eKFxccypcIlteXCJdK1wiOlxccypcIikoW15cIl0rKShcIi4qKT8kLyk7XG4gICAgICAgICAgICBpZiAoc3RyaW5nVmFsdWVNYXRjaCAmJiBzdHJpbmdWYWx1ZU1hdGNoWzJdLmxlbmd0aCA+IG1heEpzb25MaW5lV2lkdGggLSBzdHJpbmdWYWx1ZU1hdGNoWzFdLmxlbmd0aCAtIChzdHJpbmdWYWx1ZU1hdGNoWzNdIHx8ICcnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbLCBwcmVmaXgsIHZhbHVlLCBzdWZmaXggPSAnJ10gPSBzdHJpbmdWYWx1ZU1hdGNoO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFdyYXAgdGhlIHN0cmluZyB2YWx1ZSBpZiBpdCdzIHRvbyBsb25nXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IG1heEpzb25MaW5lV2lkdGggLSBwcmVmaXgubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3cmFwcGVkVmFsdWUgPSB0aGlzLndyYXBKc29uU3RyaW5nVmFsdWUodmFsdWUsIG1heEpzb25MaW5lV2lkdGggLSBwcmVmaXgubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyB3cmFwcGVkVmFsdWUgKyBzdWZmaXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IGxpbmVzLmpvaW4oJ1xcbicgKyBjb250aW51YXRpb25JbmRlbnQpO1xuICAgICAgICByZXR1cm4gc2hvdWxkQWRkTmV3bGluZSA/ICdcXG4nICsgY29udGludWF0aW9uSW5kZW50ICsgZm9ybWF0dGVkIDogZm9ybWF0dGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyYXAgYSBsb25nIEpTT04gc3RyaW5nIHZhbHVlIHdoaWxlIHByZXNlcnZpbmcgcmVhZGFiaWxpdHlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgc3RyaW5nIHZhbHVlIHRvIHdyYXBcbiAgICAgKiBAcGFyYW0gbWF4V2lkdGggLSBNYXhpbXVtIHdpZHRoIGZvciB0aGUgdmFsdWVcbiAgICAgKiBAcmV0dXJucyBXcmFwcGVkIHN0cmluZyB2YWx1ZVxuICAgICAqL1xuICAgIHByaXZhdGUgd3JhcEpzb25TdHJpbmdWYWx1ZSh2YWx1ZTogc3RyaW5nLCBtYXhXaWR0aDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8PSBtYXhXaWR0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBGb3IgSlNPTiBzdHJpbmcgdmFsdWVzLCB0cnVuY2F0ZSB3aXRoIGVsbGlwc2lzIHRvIG1haW50YWluIEpTT04gdmFsaWRpdHlcbiAgICAgICAgLy8gVGhpcyBwcmV2ZW50cyB0aGUgSlNPTiBmcm9tIGJlY29taW5nIHVucmVhZGFibGUgZHVlIHRvIGV4Y2Vzc2l2ZSB3cmFwcGluZ1xuICAgICAgICAvLyB3aGlsZSBzdGlsbCBzaG93aW5nIHRoZSBtb3N0IGltcG9ydGFudCBwYXJ0IG9mIHRoZSBzdHJpbmdcbiAgICAgICAgaWYgKG1heFdpZHRoID4gNikgeyAvLyBFbnN1cmUgd2UgaGF2ZSByb29tIGZvciBlbGxpcHNpc1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cmluZygwLCBtYXhXaWR0aCAtIDMpICsgJy4uLic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBtYXhXaWR0aCBpcyB2ZXJ5IHNtYWxsLCBqdXN0IHJldHVybiB0cnVuY2F0ZWQgdmFsdWVcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHJpbmcoMCwgTWF0aC5tYXgoMSwgbWF4V2lkdGgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvcm1hdCBhIHN0cmluZyBmb3IgZGlzcGxheSB3aXRoIHByb3BlciBpbmRlbnRhdGlvbiBhbmQgdGVybWluYWwgd2lkdGggd3JhcHBpbmdcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RyIC0gVGhlIHN0cmluZyB0byBmb3JtYXRcbiAgICAgKiBAcGFyYW0gc2hvdWxkQWRkTmV3bGluZSAtIFdoZXRoZXIgdG8gYWRkIGEgbmV3bGluZSBwcmVmaXhcbiAgICAgKiBAcGFyYW0gc2NvcGVQYWRkaW5nIC0gVGhlIHBhZGRpbmcgc3RyaW5nIGZvciBjb25zaXN0ZW50IGFsaWdubWVudFxuICAgICAqIEByZXR1cm5zIEZvcm1hdHRlZCBzdHJpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGZvcm1hdFN0cmluZyhzdHI6IHN0cmluZywgc2hvdWxkQWRkTmV3bGluZTogYm9vbGVhbiwgc2NvcGVQYWRkaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICAvLyBJbiBicm93c2VyIGVudmlyb25tZW50LCBrZWVwIHNpbXBsZSBmb3JtYXR0aW5nXG4gICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdicm93c2VyJykge1xuICAgICAgICAgICAgY29uc3QgcHJlZml4ID0gc2hvdWxkQWRkTmV3bGluZSA/ICdcXG4nIDogJyc7XG4gICAgICAgICAgICByZXR1cm4gKHByZWZpeCArIHN0cikucmVwbGFjZSgvXFxuL2csICdcXG4nICsgYCR7c2NvcGVQYWRkaW5nfSR7QV9MT0dHRVJfRk9STUFULlBJUEV9YCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3IgdGVybWluYWwsIGFwcGx5IGludGVsbGlnZW50IHRleHQgd3JhcHBpbmdcbiAgICAgICAgY29uc3Qgd3JhcHBlZExpbmVzID0gdGhpcy53cmFwVGV4dChzdHIsIHNjb3BlUGFkZGluZywgIXNob3VsZEFkZE5ld2xpbmUpO1xuICAgICAgICBjb25zdCBjb250aW51YXRpb25JbmRlbnQgPSBgJHtzY29wZVBhZGRpbmd9JHtBX0xPR0dFUl9GT1JNQVQuUElQRX1gO1xuICAgICAgICBcbiAgICAgICAgLy8gRm9ybWF0IHRoZSB3cmFwcGVkIGxpbmVzIHdpdGggcHJvcGVyIGluZGVudGF0aW9uXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZExpbmVzID0gd3JhcHBlZExpbmVzLm1hcCgobGluZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCAmJiAhc2hvdWxkQWRkTmV3bGluZSkge1xuICAgICAgICAgICAgICAgIC8vIEZpcnN0IGxpbmUgaW4gaW5saW5lIG1vZGUgKG5vIG5ld2xpbmUgcHJlZml4KVxuICAgICAgICAgICAgICAgIHJldHVybiBsaW5lO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDb250aW51YXRpb24gbGluZXMgb3IgZmlyc3QgbGluZSB3aXRoIG5ld2xpbmUgcHJlZml4XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2NvbnRpbnVhdGlvbkluZGVudH0ke2xpbmV9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2hvdWxkQWRkTmV3bGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICdcXG4nICsgZm9ybWF0dGVkTGluZXMuam9pbignXFxuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0dGVkTGluZXMuam9pbignXFxuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBMb2cgTGV2ZWwgTWFuYWdlbWVudFxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIGlmIGEgbG9nIG1lc3NhZ2Ugc2hvdWxkIGJlIG91dHB1dCBiYXNlZCBvbiBjb25maWd1cmVkIGxvZyBsZXZlbFxuICAgICAqIFxuICAgICAqIExvZyBsZXZlbCBoaWVyYXJjaHk6XG4gICAgICogLSBkZWJ1ZzogU2hvd3MgYWxsIG1lc3NhZ2VzIChkZWJ1ZywgaW5mbywgd2FybmluZywgZXJyb3IpXG4gICAgICogLSBpbmZvOiBTaG93cyBpbmZvLCB3YXJuaW5nLCBhbmQgZXJyb3IgbWVzc2FnZXNcbiAgICAgKiAtIHdhcm46IFNob3dzIHdhcm5pbmcgYW5kIGVycm9yIG1lc3NhZ2VzIG9ubHlcbiAgICAgKiAtIGVycm9yOiBTaG93cyBlcnJvciBtZXNzYWdlcyBvbmx5XG4gICAgICogLSBhbGw6IFNob3dzIGFsbCBtZXNzYWdlcyAoYWxpYXMgZm9yIGRlYnVnKVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBsb2dNZXRob2QgLSBUaGUgdHlwZSBvZiBsb2cgbWV0aG9kIGJlaW5nIGNhbGxlZFxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIG1lc3NhZ2Ugc2hvdWxkIGJlIGxvZ2dlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHNob3VsZExvZyhsb2dNZXRob2Q6ICdkZWJ1ZycgfCAnaW5mbycgfCAnd2FybmluZycgfCAnZXJyb3InKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHNob3VsZExvZzogQV9Mb2dnZXJMZXZlbCA9IHRoaXMuY29uZmlnPy5nZXQoQV9MT0dHRVJfRU5WX0tFWVMuTE9HX0xFVkVMKSB8fCAnaW5mbyc7XG5cbiAgICAgICAgc3dpdGNoIChzaG91bGRMb2cpIHtcbiAgICAgICAgICAgIGNhc2UgJ2RlYnVnJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGNhc2UgJ2luZm8nOlxuICAgICAgICAgICAgICAgIHJldHVybiBsb2dNZXRob2QgPT09ICdpbmZvJyB8fCBsb2dNZXRob2QgPT09ICd3YXJuaW5nJyB8fCBsb2dNZXRob2QgPT09ICdlcnJvcic7XG4gICAgICAgICAgICBjYXNlICd3YXJuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9nTWV0aG9kID09PSAnd2FybmluZycgfHwgbG9nTWV0aG9kID09PSAnZXJyb3InO1xuICAgICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgICAgIHJldHVybiBsb2dNZXRob2QgPT09ICdlcnJvcic7XG4gICAgICAgICAgICBjYXNlICdhbGwnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFB1YmxpYyBMb2dnaW5nIE1ldGhvZHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIERlYnVnIGxvZ2dpbmcgbWV0aG9kIHdpdGggb3B0aW9uYWwgY29sb3Igc3BlY2lmaWNhdGlvblxuICAgICAqIE9ubHkgbG9ncyB3aGVuIGRlYnVnIGxldmVsIGlzIGVuYWJsZWRcbiAgICAgKiBcbiAgICAgKiBTdXBwb3J0cyB0d28gdXNhZ2UgcGF0dGVybnM6XG4gICAgICogMS4gZGVidWcobWVzc2FnZSwgLi4uYXJncykgLSBVc2VzIGluc3RhbmNlJ3MgZGVmYXVsdCBsb2cgY29sb3JcbiAgICAgKiAyLiBkZWJ1Zyhjb2xvciwgbWVzc2FnZSwgLi4uYXJncykgLSBVc2VzIHNwZWNpZmllZCBjb2xvciBmb3IgbWVzc2FnZSBjb250ZW50IG9ubHlcbiAgICAgKiBcbiAgICAgKiBOb3RlOiBUaGUgc2NvcGUgY29sb3IgYWx3YXlzIHJlbWFpbnMgdGhlIGluc3RhbmNlJ3MgZGVmYXVsdCBzY29wZSBjb2xvcixcbiAgICAgKiBvbmx5IHRoZSBtZXNzYWdlIGNvbnRlbnQgY29sb3IgY2hhbmdlcyB3aGVuIGV4cGxpY2l0bHkgc3BlY2lmaWVkLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb2xvciAtIE9wdGlvbmFsIGNvbG9yIG5hbWUgZnJvbSBBX0xvZ2dlckNvbG9yTmFtZSBlbnVtIG9yIHRoZSBmaXJzdCBtZXNzYWdlIGFyZ3VtZW50XG4gICAgICogQHBhcmFtIGFyZ3MgLSBBZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBsb2dcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBsb2dnZXIuZGVidWcoJ0RlYnVnIGluZm9ybWF0aW9uJyk7IC8vIFVzZXMgaW5zdGFuY2UgZGVmYXVsdCBjb2xvcnNcbiAgICAgKiBsb2dnZXIuZGVidWcoJ2dyYXknLCAnRGVidWcgbWVzc2FnZScpOyAvLyBHcmF5IG1lc3NhZ2UsIHNjb3BlIHN0YXlzIGluc3RhbmNlIGNvbG9yXG4gICAgICogbG9nZ2VyLmRlYnVnKCdQcm9jZXNzaW5nIHVzZXI6JywgeyBpZDogMSwgbmFtZTogJ0pvaG4nIH0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGRlYnVnKGNvbG9yOiBBX0xvZ2dlckNvbG9yTmFtZSwgLi4uYXJnczogYW55W10pOiB2b2lkO1xuICAgIGRlYnVnKC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbiAgICBkZWJ1ZyhwYXJhbTE6IGFueSwgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZExvZygnZGVidWcnKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGZpcnN0IHBhcmFtZXRlciBpcyBhIHZhbGlkIGNvbG9yIGtleVxuICAgICAgICBpZiAodHlwZW9mIHBhcmFtMSA9PT0gJ3N0cmluZycgJiYgdGhpcy5DT0xPUlNbcGFyYW0xIGFzIGtleW9mIHR5cGVvZiB0aGlzLkNPTE9SU10pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKC4uLnRoaXMuY29tcGlsZShwYXJhbTEgYXMga2V5b2YgdHlwZW9mIHRoaXMuQ09MT1JTLCAuLi5hcmdzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBVc2UgaW5zdGFuY2UncyBkZWZhdWx0IGxvZyBjb2xvciBhbmQgdHJlYXQgcGFyYW0xIGFzIGZpcnN0IG1lc3NhZ2UgYXJndW1lbnRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKC4uLnRoaXMuY29tcGlsZSh0aGlzLkRFRkFVTFRfTE9HX0NPTE9SLCBwYXJhbTEsIC4uLmFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZm8gbG9nZ2luZyBtZXRob2Qgd2l0aCBvcHRpb25hbCBjb2xvciBzcGVjaWZpY2F0aW9uXG4gICAgICogTG9ncyB3aXRob3V0IGFueSByZXN0cmljdGlvbnMgKGFsd2F5cyBzaG93cyByZWdhcmRsZXNzIG9mIGxvZyBsZXZlbClcbiAgICAgKiBcbiAgICAgKiBTdXBwb3J0cyB0d28gdXNhZ2UgcGF0dGVybnM6XG4gICAgICogMS4gaW5mbyhtZXNzYWdlLCAuLi5hcmdzKSAtIFVzZXMgaW5zdGFuY2UncyBkZWZhdWx0IGxvZyBjb2xvclxuICAgICAqIDIuIGluZm8oY29sb3IsIG1lc3NhZ2UsIC4uLmFyZ3MpIC0gVXNlcyBzcGVjaWZpZWQgY29sb3IgZm9yIG1lc3NhZ2UgY29udGVudCBvbmx5XG4gICAgICogXG4gICAgICogTm90ZTogVGhlIHNjb3BlIGNvbG9yIGFsd2F5cyByZW1haW5zIHRoZSBpbnN0YW5jZSdzIGRlZmF1bHQgc2NvcGUgY29sb3IsXG4gICAgICogb25seSB0aGUgbWVzc2FnZSBjb250ZW50IGNvbG9yIGNoYW5nZXMgd2hlbiBleHBsaWNpdGx5IHNwZWNpZmllZC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29sb3IgLSBPcHRpb25hbCBjb2xvciBuYW1lIGZyb20gQV9Mb2dnZXJDb2xvck5hbWUgZW51bSBvciB0aGUgZmlyc3QgbWVzc2FnZSBhcmd1bWVudFxuICAgICAqIEBwYXJhbSBhcmdzIC0gQWRkaXRpb25hbCBhcmd1bWVudHMgdG8gbG9nXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogbG9nZ2VyLmluZm8oJ0hlbGxvIFdvcmxkJyk7IC8vIFVzZXMgaW5zdGFuY2UgZGVmYXVsdCBjb2xvcnNcbiAgICAgKiBsb2dnZXIuaW5mbygnZ3JlZW4nLCAnU3VjY2VzcyBtZXNzYWdlJyk7IC8vIEdyZWVuIG1lc3NhZ2UsIHNjb3BlIHN0YXlzIGluc3RhbmNlIGNvbG9yXG4gICAgICogbG9nZ2VyLmluZm8oJ1Byb2Nlc3NpbmcgdXNlcjonLCB7IGlkOiAxLCBuYW1lOiAnSm9obicgfSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgaW5mbyhjb2xvcjogQV9Mb2dnZXJDb2xvck5hbWUsIC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbiAgICBpbmZvKC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbiAgICBpbmZvKHBhcmFtMTogYW55LCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkTG9nKCdpbmZvJykpIHJldHVybjtcblxuICAgICAgICAvLyBDaGVjayBpZiBmaXJzdCBwYXJhbWV0ZXIgaXMgYSB2YWxpZCBjb2xvciBrZXlcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbTEgPT09ICdzdHJpbmcnICYmIHRoaXMuQ09MT1JTW3BhcmFtMSBhcyBrZXlvZiB0eXBlb2YgdGhpcy5DT0xPUlNdKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyguLi50aGlzLmNvbXBpbGUocGFyYW0xIGFzIGtleW9mIHR5cGVvZiB0aGlzLkNPTE9SUywgLi4uYXJncykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVXNlIGluc3RhbmNlJ3MgZGVmYXVsdCBsb2cgY29sb3IgYW5kIHRyZWF0IHBhcmFtMSBhcyBmaXJzdCBtZXNzYWdlIGFyZ3VtZW50XG4gICAgICAgICAgICBjb25zb2xlLmxvZyguLi50aGlzLmNvbXBpbGUodGhpcy5ERUZBVUxUX0xPR19DT0xPUiwgcGFyYW0xLCAuLi5hcmdzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMZWdhY3kgbG9nIG1ldGhvZCAoa2VwdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgaW5mbygpIG1ldGhvZCBpbnN0ZWFkXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbG9yIC0gT3B0aW9uYWwgY29sb3IgbmFtZSBmcm9tIEFfTG9nZ2VyQ29sb3JOYW1lIGVudW0gb3IgdGhlIGZpcnN0IG1lc3NhZ2UgYXJndW1lbnRcbiAgICAgKiBAcGFyYW0gYXJncyAtIEFkZGl0aW9uYWwgYXJndW1lbnRzIHRvIGxvZ1xuICAgICAqL1xuICAgIGxvZyhjb2xvcjogQV9Mb2dnZXJDb2xvck5hbWUsIC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbiAgICBsb2coLi4uYXJnczogYW55W10pOiB2b2lkO1xuICAgIGxvZyhwYXJhbTE6IGFueSwgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgLy8gRGVsZWdhdGUgdG8gaW5mbyBtZXRob2QgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAgICAgdGhpcy5pbmZvKHBhcmFtMSwgLi4uYXJncyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9nIHdhcm5pbmcgbWVzc2FnZXMgd2l0aCB5ZWxsb3cgY29sb3IgY29kaW5nXG4gICAgICogXG4gICAgICogVXNlIGZvciBub24tY3JpdGljYWwgaXNzdWVzIHRoYXQgc2hvdWxkIGJlIGJyb3VnaHQgdG8gYXR0ZW50aW9uXG4gICAgICogYnV0IGRvbid0IHByZXZlbnQgbm9ybWFsIG9wZXJhdGlvblxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhcmdzIC0gQXJndW1lbnRzIHRvIGxvZyBhcyB3YXJuaW5nc1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGxvZ2dlci53YXJuaW5nKCdEZXByZWNhdGVkIG1ldGhvZCB1c2VkJyk7XG4gICAgICogbG9nZ2VyLndhcm5pbmcoJ1JhdGUgbGltaXQgYXBwcm9hY2hpbmc6JywgeyBjdXJyZW50OiA5NSwgbGltaXQ6IDEwMCB9KTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICB3YXJuaW5nKC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRMb2coJ3dhcm5pbmcnKSkgcmV0dXJuO1xuICAgICAgICBjb25zb2xlLmxvZyguLi50aGlzLmNvbXBpbGUoJ3llbGxvdycsIC4uLmFyZ3MpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2cgZXJyb3IgbWVzc2FnZXMgd2l0aCByZWQgY29sb3IgY29kaW5nXG4gICAgICogXG4gICAgICogVXNlIGZvciBjcml0aWNhbCBpc3N1ZXMsIGV4Y2VwdGlvbnMsIGFuZCBmYWlsdXJlcyB0aGF0IG5lZWQgaW1tZWRpYXRlIGF0dGVudGlvblxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhcmdzIC0gQXJndW1lbnRzIHRvIGxvZyBhcyBlcnJvcnNcbiAgICAgKiBAcmV0dXJucyB2b2lkIChmb3IgY29tcGF0aWJpbGl0eSB3aXRoIGNvbnNvbGUubG9nKVxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGxvZ2dlci5lcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICAgKiBsb2dnZXIuZXJyb3IobmV3IEVycm9yKCdWYWxpZGF0aW9uIGZhaWxlZCcpKTtcbiAgICAgKiBsb2dnZXIuZXJyb3IoJ0NyaXRpY2FsIGVycm9yOicsIGVycm9yLCB7IGNvbnRleHQ6ICd1c2VyLXJlZ2lzdHJhdGlvbicgfSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZXJyb3IoLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZExvZygnZXJyb3InKSkgcmV0dXJuO1xuICAgICAgICBjb25zb2xlLmxvZyguLi50aGlzLmNvbXBpbGUoJ3JlZCcsIC4uLmFyZ3MpKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBTcGVjaWFsaXplZCBFcnJvciBGb3JtYXR0aW5nXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBMZWdhY3kgbWV0aG9kIGZvciBBX0Vycm9yIGxvZ2dpbmcgKGtlcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpXG4gICAgICogXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGVycm9yKCkgbWV0aG9kIGluc3RlYWQgd2hpY2ggaGFuZGxlcyBBX0Vycm9yIGF1dG9tYXRpY2FsbHlcbiAgICAgKiBAcGFyYW0gZXJyb3IgLSBUaGUgQV9FcnJvciBpbnN0YW5jZSB0byBsb2dcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgbG9nX0FfRXJyb3IoZXJyb3I6IEFfRXJyb3IpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdGltZSA9IHRoaXMuZ2V0VGltZSgpO1xuICAgICAgICBjb25zdCBzY29wZVBhZGRpbmcgPSAnICcucmVwZWF0KHRoaXMuU1RBTkRBUkRfU0NPUEVfTEVOR1RIICsgMyk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYFxceDFiWzMxbVske3RoaXMuZm9ybWF0dGVkU2NvcGV9XSB8JHt0aW1lfXwgRVJST1IgJHtlcnJvci5jb2RlfVxuJHtzY29wZVBhZGRpbmd9fCAke2Vycm9yLm1lc3NhZ2V9XG4ke3Njb3BlUGFkZGluZ318ICR7ZXJyb3IuZGVzY3JpcHRpb259IFxuJHtzY29wZVBhZGRpbmd9fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiR7c2NvcGVQYWRkaW5nfXwgJHtlcnJvci5zdGFjaz8uc3BsaXQoJ1xcbicpLm1hcCgobGluZSwgaW5kZXgpID0+IGluZGV4ID09PSAwID8gbGluZSA6IGAke3Njb3BlUGFkZGluZ318ICR7bGluZX1gKS5qb2luKCdcXG4nKSB8fCAnTm8gc3RhY2sgdHJhY2UnfVxuJHtzY29wZVBhZGRpbmd9fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxceDFiWzBtYFxuICAgICAgICAgICAgKyAoZXJyb3Iub3JpZ2luYWxFcnJvciA/IGBcXHgxYlszMW0ke3Njb3BlUGFkZGluZ318IFdyYXBwZWQgRnJvbSAgJHtlcnJvci5vcmlnaW5hbEVycm9yLm1lc3NhZ2V9XG4ke3Njb3BlUGFkZGluZ318LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuJHtzY29wZVBhZGRpbmd9fCAke2Vycm9yLm9yaWdpbmFsRXJyb3Iuc3RhY2s/LnNwbGl0KCdcXG4nKS5tYXAoKGxpbmUsIGluZGV4KSA9PiBpbmRleCA9PT0gMCA/IGxpbmUgOiBgJHtzY29wZVBhZGRpbmd9fCAke2xpbmV9YCkuam9pbignXFxuJykgfHwgJ05vIHN0YWNrIHRyYWNlJ31cbiR7c2NvcGVQYWRkaW5nfXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cXHgxYlswbWA6ICcnKVxuICAgICAgICAgICAgKyAoZXJyb3IubGluayA/IGBcXHgxYlszMW0ke3Njb3BlUGFkZGluZ318IFJlYWQgaW4gZG9jczogJHtlcnJvci5saW5rfVxuJHtzY29wZVBhZGRpbmd9fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxceDFiWzBtYDogJycpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgQV9FcnJvciBpbnN0YW5jZXMgZm9yIGlubGluZSBkaXNwbGF5IHdpdGhpbiBjb21waWxlZCBtZXNzYWdlc1xuICAgICAqIFxuICAgICAqIFByb3ZpZGVzIGRldGFpbGVkIGZvcm1hdHRpbmcgZm9yIEFfRXJyb3Igb2JqZWN0cyB3aXRoOlxuICAgICAqIC0gRXJyb3IgY29kZSwgbWVzc2FnZSwgYW5kIGRlc2NyaXB0aW9uXG4gICAgICogLSBPcmlnaW5hbCBlcnJvciBpbmZvcm1hdGlvbiBGSVJTVCAoYmV0dGVyIFVYIGZvciBkZWJ1Z2dpbmcpXG4gICAgICogLSBTdGFjayB0cmFjZXMgd2l0aCB0ZXJtaW5hbCB3aWR0aCBhd2FyZW5lc3NcbiAgICAgKiAtIERvY3VtZW50YXRpb24gbGlua3MgKGlmIGF2YWlsYWJsZSlcbiAgICAgKiAtIENvbnNpc3RlbnQgZm9ybWF0dGluZyB3aXRoIHJlc3Qgb2YgbG9nZ2VyXG4gICAgICogXG4gICAgICogQHBhcmFtIGVycm9yIC0gVGhlIEFfRXJyb3IgaW5zdGFuY2UgdG8gZm9ybWF0XG4gICAgICogQHJldHVybnMgRm9ybWF0dGVkIHN0cmluZyByZWFkeSBmb3IgZGlzcGxheVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBjb21waWxlX0FfRXJyb3IoZXJyb3I6IEFfRXJyb3IpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBjb250aW51YXRpb25JbmRlbnQgPSBgJHsnICcucmVwZWF0KHRoaXMuU1RBTkRBUkRfU0NPUEVfTEVOR1RIICsgMyl9JHtBX0xPR0dFUl9GT1JNQVQuUElQRX1gO1xuICAgICAgICBjb25zdCBzZXBhcmF0b3IgPSBgJHtjb250aW51YXRpb25JbmRlbnR9LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWA7XG4gICAgICAgIGNvbnN0IGxpbmVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgIC8vIEFkZCBlcnJvciBoZWFkZXJcbiAgICAgICAgbGluZXMucHVzaCgnJyk7XG4gICAgICAgIGxpbmVzLnB1c2goc2VwYXJhdG9yKTtcbiAgICAgICAgbGluZXMucHVzaChgJHtjb250aW51YXRpb25JbmRlbnR9QV9FUlJPUjogJHtlcnJvci5jb2RlfWApO1xuICAgICAgICBsaW5lcy5wdXNoKHNlcGFyYXRvcik7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3JtYXQgYW5kIHdyYXAgZXJyb3IgbWVzc2FnZSBhbmQgZGVzY3JpcHRpb25cbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdGhpcy53cmFwVGV4dChgTWVzc2FnZTogJHtlcnJvci5tZXNzYWdlfWAsIGNvbnRpbnVhdGlvbkluZGVudCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBlcnJvckRlc2NyaXB0aW9uID0gdGhpcy53cmFwVGV4dChgRGVzY3JpcHRpb246ICR7ZXJyb3IuZGVzY3JpcHRpb259YCwgY29udGludWF0aW9uSW5kZW50LCBmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICBsaW5lcy5wdXNoKC4uLmVycm9yTWVzc2FnZS5tYXAobGluZSA9PiBgJHtjb250aW51YXRpb25JbmRlbnR9JHtsaW5lfWApKTtcbiAgICAgICAgbGluZXMucHVzaCguLi5lcnJvckRlc2NyaXB0aW9uLm1hcChsaW5lID0+IGAke2NvbnRpbnVhdGlvbkluZGVudH0ke2xpbmV9YCkpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2hvdyBvcmlnaW5hbCBlcnJvciBGSVJTVCAobW9yZSBpbXBvcnRhbnQgZm9yIGRlYnVnZ2luZylcbiAgICAgICAgaWYgKGVycm9yLm9yaWdpbmFsRXJyb3IpIHtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goYCR7Y29udGludWF0aW9uSW5kZW50fU9SSUdJTkFMIEVSUk9SOmApO1xuICAgICAgICAgICAgbGluZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbE1lc3NhZ2UgPSB0aGlzLndyYXBUZXh0KGAke2Vycm9yLm9yaWdpbmFsRXJyb3IubmFtZX06ICR7ZXJyb3Iub3JpZ2luYWxFcnJvci5tZXNzYWdlfWAsIGNvbnRpbnVhdGlvbkluZGVudCwgZmFsc2UpO1xuICAgICAgICAgICAgbGluZXMucHVzaCguLi5vcmlnaW5hbE1lc3NhZ2UubWFwKGxpbmUgPT4gYCR7Y29udGludWF0aW9uSW5kZW50fSR7bGluZX1gKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChlcnJvci5vcmlnaW5hbEVycm9yLnN0YWNrKSB7XG4gICAgICAgICAgICAgICAgbGluZXMucHVzaChgJHtjb250aW51YXRpb25JbmRlbnR9U3RhY2sgdHJhY2U6YCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhY2tMaW5lcyA9IHRoaXMuZm9ybWF0U3RhY2tUcmFjZShlcnJvci5vcmlnaW5hbEVycm9yLnN0YWNrLCBjb250aW51YXRpb25JbmRlbnQpO1xuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goLi4uc3RhY2tMaW5lcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFRoZW4gc2hvdyBBX0Vycm9yIHN0YWNrIHRyYWNlXG4gICAgICAgIGlmIChlcnJvci5zdGFjaykge1xuICAgICAgICAgICAgbGluZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgbGluZXMucHVzaChgJHtjb250aW51YXRpb25JbmRlbnR9QV9FUlJPUiBTVEFDSzpgKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrTGluZXMgPSB0aGlzLmZvcm1hdFN0YWNrVHJhY2UoZXJyb3Iuc3RhY2ssIGNvbnRpbnVhdGlvbkluZGVudCk7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKC4uLnN0YWNrTGluZXMpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBEb2N1bWVudGF0aW9uIGxpbmsgYXQgdGhlIGVuZFxuICAgICAgICBpZiAoZXJyb3IubGluaykge1xuICAgICAgICAgICAgbGluZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgY29uc3QgbGlua1RleHQgPSB0aGlzLndyYXBUZXh0KGBEb2N1bWVudGF0aW9uOiAke2Vycm9yLmxpbmt9YCwgY29udGludWF0aW9uSW5kZW50LCBmYWxzZSk7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKC4uLmxpbmtUZXh0Lm1hcChsaW5lID0+IGAke2NvbnRpbnVhdGlvbkluZGVudH0ke2xpbmV9YCkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsaW5lcy5wdXNoKHNlcGFyYXRvcik7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gbGluZXMuam9pbignXFxuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IHN0YWNrIHRyYWNlIHdpdGggcHJvcGVyIHRlcm1pbmFsIHdpZHRoIHdyYXBwaW5nIGFuZCBpbmRlbnRhdGlvblxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdGFjayAtIFRoZSBzdGFjayB0cmFjZSBzdHJpbmdcbiAgICAgKiBAcGFyYW0gYmFzZUluZGVudCAtIEJhc2UgaW5kZW50YXRpb24gZm9yIGNvbnRpbnVhdGlvbiBsaW5lc1xuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIGZvcm1hdHRlZCBzdGFjayB0cmFjZSBsaW5lc1xuICAgICAqL1xuICAgIHByaXZhdGUgZm9ybWF0U3RhY2tUcmFjZShzdGFjazogc3RyaW5nLCBiYXNlSW5kZW50OiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IHN0YWNrTGluZXMgPSBzdGFjay5zcGxpdCgnXFxuJyk7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZDogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgXG4gICAgICAgIHN0YWNrTGluZXMuZm9yRWFjaCgobGluZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChsaW5lLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgIC8vIEFkZCBleHRyYSBpbmRlbnRhdGlvbiBmb3Igc3RhY2sgdHJhY2UgbGluZXNcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFja0luZGVudCA9IGluZGV4ID09PSAwID8gYmFzZUluZGVudCA6IGAke2Jhc2VJbmRlbnR9ICBgO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRMaW5lcyA9IHRoaXMud3JhcFRleHQobGluZS50cmltKCksIHN0YWNrSW5kZW50LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkLnB1c2goLi4ud3JhcHBlZExpbmVzLm1hcCh3cmFwcGVkTGluZSA9PiBcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPT09IDAgJiYgd3JhcHBlZExpbmUgPT09IHdyYXBwZWRMaW5lc1swXSBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYCR7YmFzZUluZGVudH0ke3dyYXBwZWRMaW5lfWBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYCR7YmFzZUluZGVudH0gICR7d3JhcHBlZExpbmV9YFxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IHN0YW5kYXJkIEVycm9yIGluc3RhbmNlcyBmb3IgaW5saW5lIGRpc3BsYXkgd2l0aGluIGNvbXBpbGVkIG1lc3NhZ2VzXG4gICAgICogXG4gICAgICogUHJvdmlkZXMgY2xlYW4sIHJlYWRhYmxlIGZvcm1hdHRpbmcgZm9yIHN0YW5kYXJkIEphdmFTY3JpcHQgZXJyb3JzIHdpdGg6XG4gICAgICogLSBUZXJtaW5hbCB3aWR0aCBhd2FyZSBtZXNzYWdlIHdyYXBwaW5nXG4gICAgICogLSBQcm9wZXJseSBmb3JtYXR0ZWQgc3RhY2sgdHJhY2VzXG4gICAgICogLSBDb25zaXN0ZW50IGluZGVudGF0aW9uIHdpdGggcmVzdCBvZiBsb2dnZXJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXJyb3IgLSBUaGUgRXJyb3IgaW5zdGFuY2UgdG8gZm9ybWF0XG4gICAgICogQHJldHVybnMgRm9ybWF0dGVkIHN0cmluZyByZWFkeSBmb3IgZGlzcGxheVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBjb21waWxlX0Vycm9yKGVycm9yOiBFcnJvcik6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbkluZGVudCA9IGAkeycgJy5yZXBlYXQodGhpcy5TVEFOREFSRF9TQ09QRV9MRU5HVEggKyAzKX0ke0FfTE9HR0VSX0ZPUk1BVC5QSVBFfWA7XG4gICAgICAgIGNvbnN0IHNlcGFyYXRvciA9IGAke2NvbnRpbnVhdGlvbkluZGVudH0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tYDtcbiAgICAgICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgLy8gQWRkIGVycm9yIGhlYWRlclxuICAgICAgICBsaW5lcy5wdXNoKCcnKTtcbiAgICAgICAgbGluZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICBsaW5lcy5wdXNoKGAke2NvbnRpbnVhdGlvbkluZGVudH1FUlJPUjogJHtlcnJvci5uYW1lfWApO1xuICAgICAgICBsaW5lcy5wdXNoKHNlcGFyYXRvcik7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3JtYXQgYW5kIHdyYXAgZXJyb3IgbWVzc2FnZVxuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0aGlzLndyYXBUZXh0KGBNZXNzYWdlOiAke2Vycm9yLm1lc3NhZ2V9YCwgY29udGludWF0aW9uSW5kZW50LCBmYWxzZSk7XG4gICAgICAgIGxpbmVzLnB1c2goLi4uZXJyb3JNZXNzYWdlLm1hcChsaW5lID0+IGAke2NvbnRpbnVhdGlvbkluZGVudH0ke2xpbmV9YCkpO1xuICAgICAgICBcbiAgICAgICAgLy8gRm9ybWF0IHN0YWNrIHRyYWNlIGlmIGF2YWlsYWJsZVxuICAgICAgICBpZiAoZXJyb3Iuc3RhY2spIHtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goYCR7Y29udGludWF0aW9uSW5kZW50fVNUQUNLIFRSQUNFOmApO1xuICAgICAgICAgICAgbGluZXMucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgY29uc3Qgc3RhY2tMaW5lcyA9IHRoaXMuZm9ybWF0U3RhY2tUcmFjZShlcnJvci5zdGFjaywgY29udGludWF0aW9uSW5kZW50KTtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goLi4uc3RhY2tMaW5lcyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGxpbmVzLnB1c2goc2VwYXJhdG9yKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBVdGlsaXR5IE1ldGhvZHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHRpbWVzdGFtcCBzdHJpbmcgZm9yIGxvZyBtZXNzYWdlc1xuICAgICAqIFxuICAgICAqIEZvcm1hdDogTU06U1M6bW1tIChtaW51dGVzOnNlY29uZHM6bWlsbGlzZWNvbmRzKVxuICAgICAqIFRoaXMgcHJvdmlkZXMgc3VmZmljaWVudCBwcmVjaXNpb24gZm9yIGRlYnVnZ2luZyB3aGlsZSByZW1haW5pbmcgcmVhZGFibGVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBGb3JtYXR0ZWQgdGltZXN0YW1wIHN0cmluZ1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogUmV0dXJuczogXCIxNTo0MjoxMzdcIiBmb3IgMzo0MjoxNSBQTSBhbmQgMTM3IG1pbGxpc2Vjb25kc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRUaW1lKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBTdHJpbmcobm93LmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoQV9MT0dHRVJfVElNRV9GT1JNQVQuTUlOVVRFU19QQUQsICcwJyk7XG4gICAgICAgIGNvbnN0IHNlY29uZHMgPSBTdHJpbmcobm93LmdldFNlY29uZHMoKSkucGFkU3RhcnQoQV9MT0dHRVJfVElNRV9GT1JNQVQuU0VDT05EU19QQUQsICcwJyk7XG4gICAgICAgIGNvbnN0IG1pbGxpc2Vjb25kcyA9IFN0cmluZyhub3cuZ2V0TWlsbGlzZWNvbmRzKCkpLnBhZFN0YXJ0KEFfTE9HR0VSX1RJTUVfRk9STUFULk1JTExJU0VDT05EU19QQUQsICcwJyk7XG4gICAgICAgIHJldHVybiBgJHttaW51dGVzfSR7QV9MT0dHRVJfVElNRV9GT1JNQVQuU0VQQVJBVE9SfSR7c2Vjb25kc30ke0FfTE9HR0VSX1RJTUVfRk9STUFULlNFUEFSQVRPUn0ke21pbGxpc2Vjb25kc31gO1xuICAgIH1cbn0iLCAiaW1wb3J0IHtcbiAgICBBX0NvbW1hbmRfRXhlY3V0aW9uQ29udGV4dCxcbiAgICBBX1RZUEVTX19Db21tYW5kX0luaXQsXG4gICAgQV9UWVBFU19fQ29tbWFuZF9MaXN0ZW5lcixcbiAgICBBX1RZUEVTX19Db21tYW5kX1NlcmlhbGl6ZWRcbn0gZnJvbSBcIi4vQS1Db21tYW5kLnR5cGVzXCI7XG5pbXBvcnQge1xuICAgIEFfQ29tbWFuZEZlYXR1cmVzLFxuICAgIEFfQ29tbWFuZF9TdGF0dXMsXG4gICAgQV9Db21tYW5kVHJhbnNpdGlvbnMsXG4gICAgQV9Db21tYW5kRXZlbnRcbn0gZnJvbSBcIi4vQS1Db21tYW5kLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgIEFfQ29udGV4dCwgQV9EZXBlbmRlbmN5LCBBX0VudGl0eSwgQV9FcnJvciwgQV9GZWF0dXJlLCBBX0luamVjdCwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0NvbW1hbmRFcnJvciB9IGZyb20gXCIuL0EtQ29tbWFuZC5lcnJvclwiO1xuaW1wb3J0IHsgQV9TdGF0ZU1hY2hpbmUgfSBmcm9tIFwiLi4vQS1TdGF0ZU1hY2hpbmUvQS1TdGF0ZU1hY2hpbmUuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBX1N0YXRlTWFjaGluZUZlYXR1cmVzIH0gZnJvbSBcIi4uL0EtU3RhdGVNYWNoaW5lL0EtU3RhdGVNYWNoaW5lLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24gfSBmcm9tIFwiLi4vQS1TdGF0ZU1hY2hpbmUvQS1TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfRXhlY3V0aW9uQ29udGV4dCB9IGZyb20gXCIuLi9BLUV4ZWN1dGlvbi9BLUV4ZWN1dGlvbi5jb250ZXh0XCI7XG5cbi8qKlxuICogQV9Db21tYW5kIC0gQWR2YW5jZWQgQ29tbWFuZCBQYXR0ZXJuIEltcGxlbWVudGF0aW9uXG4gKiBcbiAqIEEgY29tcHJlaGVuc2l2ZSBjb21tYW5kIHBhdHRlcm4gaW1wbGVtZW50YXRpb24gdGhhdCBlbmNhcHN1bGF0ZXMgYnVzaW5lc3MgbG9naWNcbiAqIGFzIGV4ZWN1dGFibGUgY29tbWFuZHMgd2l0aCBmdWxsIGxpZmVjeWNsZSBtYW5hZ2VtZW50LCBldmVudCBoYW5kbGluZywgYW5kIFxuICogc3RhdGUgcGVyc2lzdGVuY2UgY2FwYWJpbGl0aWVzLlxuICogXG4gKiAjIyBLZXkgRmVhdHVyZXNcbiAqIC0gKipTdHJ1Y3R1cmVkIExpZmVjeWNsZSoqOiBBdXRvbWF0aWMgcHJvZ3Jlc3Npb24gdGhyb3VnaCBpbml0IOKGkiBjb21waWxlIOKGkiBleGVjdXRlIOKGkiBjb21wbGV0ZS9mYWlsXG4gKiAtICoqRXZlbnQtRHJpdmVuKio6IFN1YnNjcmliZSB0byBsaWZlY3ljbGUgZXZlbnRzIGFuZCBlbWl0IGN1c3RvbSBldmVudHNcbiAqIC0gKipTdGF0ZSBQZXJzaXN0ZW5jZSoqOiBGdWxsIHNlcmlhbGl6YXRpb24vZGVzZXJpYWxpemF0aW9uIGZvciBjcm9zcy1zZXJ2aWNlIGNvbW11bmljYXRpb25cbiAqIC0gKipUeXBlIFNhZmV0eSoqOiBHZW5lcmljIHR5cGVzIGZvciBwYXJhbWV0ZXJzLCByZXN1bHRzLCBhbmQgY3VzdG9tIGV2ZW50c1xuICogLSAqKkRlcGVuZGVuY3kgSW5qZWN0aW9uKio6IEludGVncmF0ZWQgd2l0aCBBLUNvbmNlcHQncyBESSBzeXN0ZW1cbiAqIC0gKipFcnJvciBNYW5hZ2VtZW50Kio6IENvbXByZWhlbnNpdmUgZXJyb3IgY2FwdHVyZSBhbmQgaGFuZGxpbmdcbiAqIC0gKipFeGVjdXRpb24gVHJhY2tpbmcqKjogQnVpbHQtaW4gdGltaW5nIGFuZCBwZXJmb3JtYW5jZSBtZXRyaWNzXG4gKiBcbiAqICMjIExpZmVjeWNsZSBQaGFzZXNcbiAqIDEuICoqQ1JFQVRFRCoqIC0gQ29tbWFuZCBpbnN0YW50aWF0ZWQgYnV0IG5vdCBpbml0aWFsaXplZFxuICogMi4gKipJTklUSUFMSVpFRCoqIC0gRXhlY3V0aW9uIHNjb3BlIGFuZCBkZXBlbmRlbmNpZXMgc2V0IHVwXG4gKiAzLiAqKkNPTVBJTEVEKiogLSBSZWFkeSBmb3IgZXhlY3V0aW9uIHdpdGggYWxsIHJlc291cmNlcyBwcmVwYXJlZFxuICogNC4gKipFWEVDVVRJTkcqKiAtIEN1cnJlbnRseSBydW5uaW5nIGJ1c2luZXNzIGxvZ2ljXG4gKiA1LiAqKkNPTVBMRVRFRCoqIC0gU3VjY2Vzc2Z1bGx5IGZpbmlzaGVkIGV4ZWN1dGlvblxuICogNi4gKipGQUlMRUQqKiAtIEV4ZWN1dGlvbiBmYWlsZWQgd2l0aCBlcnJvcnMgY2FwdHVyZWRcbiAqIFxuICogQHRlbXBsYXRlIEludm9rZVR5cGUgLSBUeXBlIGRlZmluaXRpb24gZm9yIGNvbW1hbmQgcGFyYW1ldGVyc1xuICogQHRlbXBsYXRlIFJlc3VsdFR5cGUgLSBUeXBlIGRlZmluaXRpb24gZm9yIGNvbW1hbmQgZXhlY3V0aW9uIHJlc3VsdFxuICogQHRlbXBsYXRlIExpZmVjeWNsZUV2ZW50cyAtIFVuaW9uIHR5cGUgb2YgY3VzdG9tIGxpZmVjeWNsZSBldmVudCBuYW1lc1xuICogXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gRGVmaW5lIHBhcmFtZXRlciBhbmQgcmVzdWx0IHR5cGVzXG4gKiBpbnRlcmZhY2UgVXNlckNyZWF0ZVBhcmFtcyB7XG4gKiAgIG5hbWU6IHN0cmluZztcbiAqICAgZW1haWw6IHN0cmluZztcbiAqICAgcm9sZTogJ2FkbWluJyB8ICd1c2VyJztcbiAqIH1cbiAqIFxuICogaW50ZXJmYWNlIFVzZXJDcmVhdGVSZXN1bHQge1xuICogICB1c2VySWQ6IHN0cmluZztcbiAqICAgc3VjY2VzczogYm9vbGVhbjtcbiAqIH1cbiAqIFxuICogLy8gQ3JlYXRlIGN1c3RvbSBjb21tYW5kXG4gKiBjbGFzcyBDcmVhdGVVc2VyQ29tbWFuZCBleHRlbmRzIEFfQ29tbWFuZDxVc2VyQ3JlYXRlUGFyYW1zLCBVc2VyQ3JlYXRlUmVzdWx0PiB7fVxuICogXG4gKiAvLyBFeGVjdXRlIGNvbW1hbmRcbiAqIGNvbnN0IGNvbW1hbmQgPSBuZXcgQ3JlYXRlVXNlckNvbW1hbmQoe1xuICogICBuYW1lOiAnSm9obiBEb2UnLFxuICogICBlbWFpbDogJ2pvaG5AZXhhbXBsZS5jb20nLFxuICogICByb2xlOiAndXNlcidcbiAqIH0pO1xuICogXG4gKiBzY29wZS5yZWdpc3Rlcihjb21tYW5kKTtcbiAqIGF3YWl0IGNvbW1hbmQuZXhlY3V0ZSgpO1xuICogXG4gKiBjb25zb2xlLmxvZygnUmVzdWx0OicsIGNvbW1hbmQucmVzdWx0KTtcbiAqIGNvbnNvbGUubG9nKCdTdGF0dXM6JywgY29tbWFuZC5zdGF0dXMpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBBX0NvbW1hbmQ8XG4gICAgSW52b2tlVHlwZSBleHRlbmRzIEFfVFlQRVNfX0NvbW1hbmRfSW5pdCA9IEFfVFlQRVNfX0NvbW1hbmRfSW5pdCxcbiAgICBSZXN1bHRUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgTGlmZWN5Y2xlRXZlbnRzIGV4dGVuZHMgc3RyaW5nIHwga2V5b2YgdHlwZW9mIEFfQ29tbWFuZEV2ZW50ID0ga2V5b2YgdHlwZW9mIEFfQ29tbWFuZEV2ZW50LFxuPiBleHRlbmRzIEFfRW50aXR5PEludm9rZVR5cGUsIEFfVFlQRVNfX0NvbW1hbmRfU2VyaWFsaXplZDxJbnZva2VUeXBlLCBSZXN1bHRUeXBlPj4ge1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gU3RhdGljIENvbW1hbmQgSW5mb3JtYXRpb24gPT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTdGF0aWMgY29tbWFuZCBpZGVudGlmaWVyIGRlcml2ZWQgZnJvbSB0aGUgY2xhc3MgbmFtZVxuICAgICAqIFVzZWQgZm9yIGNvbW1hbmQgcmVnaXN0cmF0aW9uIGFuZCBzZXJpYWxpemF0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGdldCBjb2RlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBzdXBlci5lbnRpdHk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gSW5zdGFuY2UgUHJvcGVydGllcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKiogVGhlIG9yaWdpbiBvZiB0aGUgY29tbWFuZCwgdXNlZCB0byBrbm93IGhhcyBpdCBiZWVuIGNyZWF0ZWQgZnJvbSBzZXJpYWxpemF0aW9uIG9yIGludm9rZWQgKi9cbiAgICBwcm90ZWN0ZWQgX29yaWdpbiE6ICdpbnZva2VkJyB8ICdzZXJpYWxpemVkJztcblxuICAgIC8qKiBDb21tYW5kIGV4ZWN1dGlvbiBzY29wZSBmb3IgZGVwZW5kZW5jeSBpbmplY3Rpb24gYW5kIGZlYXR1cmUgcmVzb2x1dGlvbiAqL1xuICAgIHByb3RlY3RlZCBfZXhlY3V0aW9uU2NvcGUhOiBBX1Njb3BlO1xuXG4gICAgLyoqIFJlc3VsdCBkYXRhIHByb2R1Y2VkIGJ5IHN1Y2Nlc3NmdWwgY29tbWFuZCBleGVjdXRpb24gKi9cbiAgICBwcm90ZWN0ZWQgX3Jlc3VsdD86IFJlc3VsdFR5cGU7XG5cbiAgICAvKiogU2V0IG9mIGVycm9ycyB0aGF0IG9jY3VycmVkIGR1cmluZyBjb21tYW5kIGV4ZWN1dGlvbiAqL1xuICAgIHByb3RlY3RlZCBfZXJyb3IhOiBBX0Vycm9yO1xuXG4gICAgLyoqIENvbW1hbmQgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVycyAqL1xuICAgIHByb3RlY3RlZCBfcGFyYW1zITogSW52b2tlVHlwZTtcblxuICAgIC8qKiBDdXJyZW50IGxpZmVjeWNsZSBzdGF0dXMgb2YgdGhlIGNvbW1hbmQgKi9cbiAgICBwcm90ZWN0ZWQgX3N0YXR1cyE6IEFfQ29tbWFuZF9TdGF0dXNcblxuICAgIC8qKiBNYXAgb2YgZXZlbnQgbGlzdGVuZXJzIG9yZ2FuaXplZCBieSBldmVudCBuYW1lICovXG4gICAgcHJvdGVjdGVkIF9saXN0ZW5lcnM6IE1hcDxcbiAgICAgICAgTGlmZWN5Y2xlRXZlbnRzIHwga2V5b2YgdHlwZW9mIEFfQ29tbWFuZEV2ZW50LFxuICAgICAgICBTZXQ8QV9UWVBFU19fQ29tbWFuZF9MaXN0ZW5lcjxJbnZva2VUeXBlLCBSZXN1bHRUeXBlLCBMaWZlY3ljbGVFdmVudHM+PlxuICAgID4gPSBuZXcgTWFwKCk7XG5cbiAgICAvKiogVGltZXN0YW1wIHdoZW4gY29tbWFuZCBleGVjdXRpb24gc3RhcnRlZCAqL1xuICAgIHByb3RlY3RlZCBfc3RhcnRUaW1lPzogRGF0ZTtcblxuICAgIC8qKiBUaW1lc3RhbXAgd2hlbiBjb21tYW5kIGV4ZWN1dGlvbiBlbmRlZCAqL1xuICAgIHByb3RlY3RlZCBfZW5kVGltZT86IERhdGU7XG5cbiAgICAvKiogVGltZXN0YW1wIHdoZW4gY29tbWFuZCB3YXMgY3JlYXRlZCAqL1xuICAgIHByb3RlY3RlZCBfY3JlYXRlZEF0ITogRGF0ZTtcblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gUHVibGljIEdldHRlciBQcm9wZXJ0aWVzID09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFRvdGFsIGV4ZWN1dGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHNcbiAgICAgKiBcbiAgICAgKiAtIElmIGNvbXBsZXRlZC9mYWlsZWQ6IFJldHVybnMgdG90YWwgdGltZSBmcm9tIHN0YXJ0IHRvIGVuZFxuICAgICAqIC0gSWYgY3VycmVudGx5IGV4ZWN1dGluZzogUmV0dXJucyBlbGFwc2VkIHRpbWUgc2luY2Ugc3RhcnRcbiAgICAgKiAtIElmIG5vdCBzdGFydGVkOiBSZXR1cm5zIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGdldCBkdXJhdGlvbigpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5kVGltZSAmJiB0aGlzLl9zdGFydFRpbWVcbiAgICAgICAgICAgID8gdGhpcy5fZW5kVGltZS5nZXRUaW1lKCkgLSB0aGlzLl9zdGFydFRpbWUuZ2V0VGltZSgpXG4gICAgICAgICAgICA6IHRoaXMuX3N0YXJ0VGltZVxuICAgICAgICAgICAgICAgID8gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLl9zdGFydFRpbWUuZ2V0VGltZSgpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWRsZSB0aW1lIGJlZm9yZSBleGVjdXRpb24gc3RhcnRlZCBpbiBtaWxsaXNlY29uZHNcbiAgICAgKiBcbiAgICAgKiBUaW1lIGJldHdlZW4gY29tbWFuZCBjcmVhdGlvbiBhbmQgZXhlY3V0aW9uIHN0YXJ0LlxuICAgICAqIFVzZWZ1bCBmb3IgbW9uaXRvcmluZyBjb21tYW5kIHF1ZXVlIHBlcmZvcm1hbmNlLlxuICAgICAqL1xuICAgIGdldCBpZGxlVGltZSgpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRUaW1lICYmIHRoaXMuX2NyZWF0ZWRBdFxuICAgICAgICAgICAgPyB0aGlzLl9zdGFydFRpbWUuZ2V0VGltZSgpIC0gdGhpcy5fY3JlYXRlZEF0LmdldFRpbWUoKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tbWFuZCBleGVjdXRpb24gc2NvcGUgZm9yIGRlcGVuZGVuY3kgaW5qZWN0aW9uXG4gICAgICogXG4gICAgICogUHJvdmlkZXMgYWNjZXNzIHRvIGNvbXBvbmVudHMsIHNlcnZpY2VzLCBhbmQgc2hhcmVkIHJlc291cmNlc1xuICAgICAqIGR1cmluZyBjb21tYW5kIGV4ZWN1dGlvbi4gSW5oZXJpdHMgZnJvbSB0aGUgc2NvcGUgd2hlcmUgdGhlXG4gICAgICogY29tbWFuZCB3YXMgcmVnaXN0ZXJlZC5cbiAgICAgKi9cbiAgICBnZXQgc2NvcGUoKTogQV9TY29wZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9leGVjdXRpb25TY29wZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0aW9uIGNvbnRleHQgYXNzb2NpYXRlZCB3aXRoIHRoZSBjb21tYW5kXG4gICAgICovXG4gICAgZ2V0IGNvbnRleHQoKTogQV9FeGVjdXRpb25Db250ZXh0PEFfQ29tbWFuZF9FeGVjdXRpb25Db250ZXh0PEludm9rZVR5cGUsIFJlc3VsdFR5cGU+PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnJlc29sdmUoQV9FeGVjdXRpb25Db250ZXh0PEFfQ29tbWFuZF9FeGVjdXRpb25Db250ZXh0PEludm9rZVR5cGUsIFJlc3VsdFR5cGU+PikhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBjb21tYW5kIHR5cGUgaWRlbnRpZmllclxuICAgICAqIFxuICAgICAqIERlcml2ZWQgZnJvbSB0aGUgY2xhc3MgbmFtZSBhbmQgdXNlZCBmb3I6XG4gICAgICogLSBDb21tYW5kIHJlZ2lzdHJhdGlvbiBhbmQgcmVzb2x1dGlvblxuICAgICAqIC0gU2VyaWFsaXphdGlvbiBhbmQgZGVzZXJpYWxpemF0aW9uXG4gICAgICogLSBMb2dnaW5nIGFuZCBkZWJ1Z2dpbmdcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZSAnY3JlYXRlLXVzZXItY29tbWFuZCcsICdwcm9jZXNzLW9yZGVyLWNvbW1hbmQnXG4gICAgICovXG4gICAgZ2V0IGNvZGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0NvbW1hbmQpLmNvZGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgbGlmZWN5Y2xlIHN0YXR1cyBvZiB0aGUgY29tbWFuZFxuICAgICAqIFxuICAgICAqIEluZGljYXRlcyB0aGUgY3VycmVudCBwaGFzZSBpbiB0aGUgY29tbWFuZCBleGVjdXRpb24gbGlmZWN5Y2xlLlxuICAgICAqIFVzZWQgdG8gdHJhY2sgcHJvZ3Jlc3MgYW5kIGRldGVybWluZSBhdmFpbGFibGUgb3BlcmF0aW9ucy5cbiAgICAgKi9cbiAgICBnZXQgc3RhdHVzKCk6IEFfQ29tbWFuZF9TdGF0dXMge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRpbWVzdGFtcCB3aGVuIHRoZSBjb21tYW5kIHdhcyBjcmVhdGVkXG4gICAgICogXG4gICAgICogTWFya3MgdGhlIGluaXRpYWwgaW5zdGFudGlhdGlvbiB0aW1lLCB1c2VmdWwgZm9yIHRyYWNraW5nXG4gICAgICogY29tbWFuZCBhZ2UgYW5kIHF1ZXVlIHBlcmZvcm1hbmNlIG1ldHJpY3MuXG4gICAgICovXG4gICAgZ2V0IGNyZWF0ZWRBdCgpOiBEYXRlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZWRBdCE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGltZXN0YW1wIHdoZW4gY29tbWFuZCBleGVjdXRpb24gc3RhcnRlZFxuICAgICAqIFxuICAgICAqIFVuZGVmaW5lZCB1bnRpbCBleGVjdXRpb24gYmVnaW5zLiBVc2VkIGZvciBjYWxjdWxhdGluZ1xuICAgICAqIGV4ZWN1dGlvbiBkdXJhdGlvbiBhbmQgaWRsZSB0aW1lLlxuICAgICAqL1xuICAgIGdldCBzdGFydGVkQXQoKTogRGF0ZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFydFRpbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGltZXN0YW1wIHdoZW4gY29tbWFuZCBleGVjdXRpb24gZW5kZWRcbiAgICAgKiBcbiAgICAgKiBTZXQgd2hlbiBjb21tYW5kIHJlYWNoZXMgQ09NUExFVEVEIG9yIEZBSUxFRCBzdGF0dXMuXG4gICAgICogVXNlZCBmb3IgY2FsY3VsYXRpbmcgdG90YWwgZXhlY3V0aW9uIGR1cmF0aW9uLlxuICAgICAqL1xuICAgIGdldCBlbmRlZEF0KCk6IERhdGUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5kVGltZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXN1bHQgZGF0YSBwcm9kdWNlZCBieSBjb21tYW5kIGV4ZWN1dGlvblxuICAgICAqIFxuICAgICAqIENvbnRhaW5zIHRoZSBvdXRwdXQgZGF0YSBmcm9tIHN1Y2Nlc3NmdWwgY29tbWFuZCBleGVjdXRpb24uXG4gICAgICogVW5kZWZpbmVkIHVudGlsIGNvbW1hbmQgY29tcGxldGVzIHN1Y2Nlc3NmdWxseS5cbiAgICAgKi9cbiAgICBnZXQgcmVzdWx0KCk6IFJlc3VsdFR5cGUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIGVycm9ycyB0aGF0IG9jY3VycmVkIGR1cmluZyBleGVjdXRpb25cbiAgICAgKiBcbiAgICAgKiBBdXRvbWF0aWNhbGx5IHdyYXBzIG5hdGl2ZSBlcnJvcnMgaW4gQV9FcnJvciBpbnN0YW5jZXNcbiAgICAgKiBmb3IgY29uc2lzdGVudCBlcnJvciBoYW5kbGluZy4gRW1wdHkgYXJyYXkgaWYgbm8gZXJyb3JzIG9jY3VycmVkLlxuICAgICAqL1xuICAgIGdldCBlcnJvcigpOiBBX0Vycm9yIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbW1hbmQgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVyc1xuICAgICAqIFxuICAgICAqIENvbnRhaW5zIHRoZSBpbnB1dCBkYXRhIHVzZWQgdG8gY3JlYXRlIGFuZCBjb25maWd1cmUgdGhlIGNvbW1hbmQuXG4gICAgICogVGhlc2UgcGFyYW1ldGVycyBhcmUgaW1tdXRhYmxlIGR1cmluZyBjb21tYW5kIGV4ZWN1dGlvbi5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBX0Vycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tbWFuZCBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzXG4gICAgICogXG4gICAgICogQ29udGFpbnMgdGhlIGlucHV0IGRhdGEgdXNlZCB0byBjcmVhdGUgYW5kIGNvbmZpZ3VyZSB0aGUgY29tbWFuZC5cbiAgICAgKiBUaGVzZSBwYXJhbWV0ZXJzIGFyZSBpbW11dGFibGUgZHVyaW5nIGNvbW1hbmQgZXhlY3V0aW9uLlxuICAgICAqL1xuICAgIGdldCBwYXJhbXMoKTogSW52b2tlVHlwZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHRoZSBjb21tYW5kIGhhcyBiZWVuIHByb2Nlc3NlZCAoY29tcGxldGVkIG9yIGZhaWxlZClcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGNvbW1hbmQgaGFzIGNvbXBsZXRlZCBvciBmYWlsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBnZXQgaXNQcm9jZXNzZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXMgPT09IEFfQ29tbWFuZF9TdGF0dXMuQ09NUExFVEVEXG4gICAgICAgICAgICB8fCB0aGlzLl9zdGF0dXMgPT09IEFfQ29tbWFuZF9TdGF0dXMuRkFJTEVEO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEEtQ29tbWFuZCByZXByZXNlbnRzIGFuIGV4ZWN1dGFibGUgY29tbWFuZCB3aXRoIGEgc3BlY2lmaWMgY29kZSBhbmQgcGFyYW1ldGVycy5cbiAgICAgKiBJdCBjYW4gYmUgZXhlY3V0ZWQgd2l0aGluIGEgZ2l2ZW4gc2NvcGUgYW5kIHN0b3JlcyBleGVjdXRpb24gcmVzdWx0cyBhbmQgZXJyb3JzLlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEEtQ29tbWFuZCBzaG91bGQgYmUgY29udGV4dCBpbmRlcGVuZGVudCBhbmQgZXhlY3V0aW9uIGxvZ2ljIHNob3VsZCBiZSBiYXNlZCBvbiBhdHRhY2hlZCBjb21wb25lbnRzIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb2RlIFxuICAgICAqIEBwYXJhbSBwYXJhbXMgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21tYW5kIGludm9jYXRpb24gcGFyYW1ldGVyc1xuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW1zOiBJbnZva2VUeXBlIHwgQV9UWVBFU19fQ29tbWFuZF9TZXJpYWxpemVkPEludm9rZVR5cGUsIFJlc3VsdFR5cGU+IHwgc3RyaW5nLFxuICAgICkge1xuICAgICAgICBzdXBlcihwYXJhbXMgYXMgYW55KTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEEtU3RhdGVNYWNoaW5lIEZlYXR1cmUgRXh0ZW5zaW9uc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcy5vbkJlZm9yZVRyYW5zaXRpb25dKFxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uKSB0cmFuc2l0aW9uOiBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24sXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKSB7XG4gICAgICAgIHRoaXMuY2hlY2tTY29wZUluaGVyaXRhbmNlKCk7XG5cbiAgICAgICAgLy8gIGFuZCByZWdpc3RlciBhbGwgYWxsb3dlZCBzdGF0dXMgdHJhbnNpdGlvbnNcbiAgICAgICAgLy8gIHN3aXRjaCBhY3Jvc3MgYWxsb3dlZCB0cmFuc2l0aW9ucywgaWYgbm90IGFsbG93ZWQgdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZygneWVsbG93JywgYENvbW1hbmQgJHt0aGlzLmFzZWlkLnRvU3RyaW5nKCl9IHRyYW5zaXRpb25pbmcgZnJvbSAke3RyYW5zaXRpb24uZnJvbX0gdG8gJHt0cmFuc2l0aW9uLnRvfWApO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZFRyYW5zaXRpb25zLkNSRUFURURfVE9fSU5JVElBTElaRURdKFxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uKSB0cmFuc2l0aW9uOiBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0dXMgIT09IEFfQ29tbWFuZF9TdGF0dXMuQ1JFQVRFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY3JlYXRlZEF0ID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gQV9Db21tYW5kX1N0YXR1cy5JTklUSUFMSVpFRDtcblxuICAgICAgICB0aGlzLmVtaXQoQV9Db21tYW5kRXZlbnQub25Jbml0KTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX0NvbW1hbmRUcmFuc2l0aW9ucy5JTklUSUFMSVpFRF9UT19FWEVDVVRJTkddKFxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uKSB0cmFuc2l0aW9uOiBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0dXMgIT09IEFfQ29tbWFuZF9TdGF0dXMuSU5JVElBTElaRURcbiAgICAgICAgICAgICYmIHRoaXMuX3N0YXR1cyAhPT0gQV9Db21tYW5kX1N0YXR1cy5DUkVBVEVEXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gQV9Db21tYW5kX1N0YXR1cy5FWEVDVVRJTkc7XG5cbiAgICAgICAgdGhpcy5lbWl0KEFfQ29tbWFuZEV2ZW50Lm9uRXhlY3V0ZSk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgY29tbWFuZCBjb21wbGV0aW9uIGFmdGVyIHN1Y2Nlc3NmdWwgZXhlY3V0aW9uXG4gICAgICogXG4gICAgICogRVhFQ1VUSU9OIC0+IENPTVBMRVRFRCB0cmFuc2l0aW9uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX0NvbW1hbmRUcmFuc2l0aW9ucy5FWEVDVVRJTkdfVE9fQ09NUExFVEVEXShcbiAgICAgICAgQEFfSW5qZWN0KEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbikgdHJhbnNpdGlvbjogQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLl9lbmRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gQV9Db21tYW5kX1N0YXR1cy5DT01QTEVURUQ7XG5cbiAgICAgICAgdGhpcy5lbWl0KEFfQ29tbWFuZEV2ZW50Lm9uQ29tcGxldGUpO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGNvbW1hbmQgZmFpbHVyZSBkdXJpbmcgZXhlY3V0aW9uXG4gICAgICogXG4gICAgICogRVhFQ1VUSU9OIC0+IEZBSUxFRCB0cmFuc2l0aW9uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX0NvbW1hbmRUcmFuc2l0aW9ucy5FWEVDVVRJTkdfVE9fRkFJTEVEXShcbiAgICAgICAgQEFfSW5qZWN0KEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbikgdHJhbnNpdGlvbjogQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uLFxuICAgICAgICBAQV9JbmplY3QoQV9FcnJvcikgZXJyb3I6IEFfRXJyb3IsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuX2VuZFRpbWUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IEFfQ29tbWFuZF9TdGF0dXMuRkFJTEVEO1xuXG4gICAgICAgIHRoaXMuZW1pdChBX0NvbW1hbmRFdmVudC5vbkZhaWwpO1xuICAgIH1cblxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBBLUNvbW1hbmQgTGlmZWN5Y2xlIEZlYXR1cmUgRXh0ZW5zaW9uc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgYmVoYXZpb3IgZm9yIENvbW1hbmQgSW5pdGlhbGl6YXRpb24gdXNlcyBTdGF0ZU1hY2hpbmUgdG8gdHJhbnNpdGlvbiBzdGF0ZXNcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZEZlYXR1cmVzLm9uSW5pdF0oXG4gICAgICAgIEBBX0luamVjdChBX1N0YXRlTWFjaGluZSkgc3RhdGVNYWNoaW5lOiBBX1N0YXRlTWFjaGluZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgc3RhdGVNYWNoaW5lLnRyYW5zaXRpb24oQV9Db21tYW5kX1N0YXR1cy5DUkVBVEVELCBBX0NvbW1hbmRfU3RhdHVzLklOSVRJQUxJWkVEKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIGFmdGVyOiAvLiovXG4gICAgfSlcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZEZlYXR1cmVzLm9uQmVmb3JlRXhlY3V0ZV0oXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmUpIHN0YXRlTWFjaGluZTogQV9TdGF0ZU1hY2hpbmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHN0YXRlTWFjaGluZS50cmFuc2l0aW9uKEFfQ29tbWFuZF9TdGF0dXMuSU5JVElBTElaRUQsIEFfQ29tbWFuZF9TdGF0dXMuRVhFQ1VUSU5HKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX0NvbW1hbmRGZWF0dXJlcy5vbkV4ZWN1dGVdKFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAvKipcbiAgICAgKiBCeSBEZWZhdWx0IG9uIEFmdGVyRXhlY3V0ZSBjYWxscyB0aGUgQ29tcGxldGlvbiBtZXRob2QgdG8gbWFyayB0aGUgY29tbWFuZCBhcyBjb21wbGV0ZWRcbiAgICAgKiBcbiAgICAgKiBbIV0gVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiB0byBpbXBsZW1lbnQgY3VzdG9tIGJlaGF2aW9yIHVzaW5nIEFfRmVhdHVyZSBvdmVycmlkZXNcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZEZlYXR1cmVzLm9uQWZ0ZXJFeGVjdXRlXShcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIGFmdGVyOiAvLiovXG4gICAgfSlcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZEZlYXR1cmVzLm9uQ29tcGxldGVdKFxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmUpIHN0YXRlTWFjaGluZTogQV9TdGF0ZU1hY2hpbmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHN0YXRlTWFjaGluZS50cmFuc2l0aW9uKEFfQ29tbWFuZF9TdGF0dXMuRVhFQ1VUSU5HLCBBX0NvbW1hbmRfU3RhdHVzLkNPTVBMRVRFRCk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBhZnRlcjogLy4qL1xuICAgIH0pXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX0NvbW1hbmRGZWF0dXJlcy5vbkZhaWxdKFxuICAgICAgICBAQV9EZXBlbmRlbmN5LlJlcXVpcmVkKClcbiAgICAgICAgQEFfSW5qZWN0KEFfU3RhdGVNYWNoaW5lKSBzdGF0ZU1hY2hpbmU6IEFfU3RhdGVNYWNoaW5lLFxuICAgICAgICBAQV9JbmplY3QoQV9FeGVjdXRpb25Db250ZXh0KSBvcGVyYXRpb246IEFfRXhlY3V0aW9uQ29udGV4dDxBX0NvbW1hbmRfRXhlY3V0aW9uQ29udGV4dDxJbnZva2VUeXBlLCBSZXN1bHRUeXBlPj4sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHN0YXRlTWFjaGluZS50cmFuc2l0aW9uKEFfQ29tbWFuZF9TdGF0dXMuRVhFQ1VUSU5HLCBBX0NvbW1hbmRfU3RhdHVzLkZBSUxFRCk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBBLUNvbW1hbmQgTGlmZWN5Y2xlIE1ldGhvZHNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBjb21tYW5kIGJlZm9yZSBleGVjdXRpb24uXG4gICAgICovXG4gICAgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ29tbWFuZEZlYXR1cmVzLm9uSW5pdCwgdGhpcy5zY29wZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNvbW1hbmQgbG9naWMuXG4gICAgICovXG4gICAgYXN5bmMgZXhlY3V0ZSgpOiBQcm9taXNlPGFueT4ge1xuXG4gICAgICAgIGlmICh0aGlzLmlzUHJvY2Vzc2VkKSByZXR1cm47XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tTY29wZUluaGVyaXRhbmNlKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgQV9FeGVjdXRpb25Db250ZXh0PEFfQ29tbWFuZF9FeGVjdXRpb25Db250ZXh0PEludm9rZVR5cGUsIFJlc3VsdFR5cGU+PignZXhlY3V0ZS1jb21tYW5kJyk7XG5cbiAgICAgICAgICAgIHRoaXMuc2NvcGUucmVnaXN0ZXIoY29udGV4dCk7XG5cbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9uQmVmb3JlRXhlY3V0ZUZlYXR1cmUgPSBuZXcgQV9GZWF0dXJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IEFfQ29tbWFuZEZlYXR1cmVzLm9uQmVmb3JlRXhlY3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiB0aGlzLnNjb3BlXG4gICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb25FeGVjdXRlRmVhdHVyZSA9IG5ldyBBX0ZlYXR1cmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogQV9Db21tYW5kRmVhdHVyZXMub25FeGVjdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6IHRoaXMuc2NvcGVcbiAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbkFmdGVyRXhlY3V0ZUZlYXR1cmUgPSBuZXcgQV9GZWF0dXJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IEFfQ29tbWFuZEZlYXR1cmVzLm9uQWZ0ZXJFeGVjdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6IHRoaXMuc2NvcGVcbiAgICAgICAgICAgICAgICAgICAgfSlcblxuXG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbihBX0NvbW1hbmRFdmVudC5vbkNvbXBsZXRlLCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQmVmb3JlRXhlY3V0ZUZlYXR1cmUuaW50ZXJydXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkV4ZWN1dGVGZWF0dXJlLmludGVycnVwdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25BZnRlckV4ZWN1dGVGZWF0dXJlLmludGVycnVwdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub24oQV9Db21tYW5kRXZlbnQub25GYWlsLCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQmVmb3JlRXhlY3V0ZUZlYXR1cmUuaW50ZXJydXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkV4ZWN1dGVGZWF0dXJlLmludGVycnVwdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25BZnRlckV4ZWN1dGVGZWF0dXJlLmludGVycnVwdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QodGhpcy5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgb25CZWZvcmVFeGVjdXRlRmVhdHVyZS5wcm9jZXNzKHRoaXMuc2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG9uRXhlY3V0ZUZlYXR1cmUucHJvY2Vzcyh0aGlzLnNjb3BlKTtcblxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBvbkFmdGVyRXhlY3V0ZUZlYXR1cmUucHJvY2Vzcyh0aGlzLnNjb3BlKTtcblxuICAgICAgICAgICAgICAgICAgICAvKiogb25seSBpbiBjYXNlIGl0IHdhcyByZWFsbHkgaW52b2tlZCB3ZSBhdXRvbWF0aWNhbGx5IHRyYW5zaXQgaXQgdG8gQ09NUExFVEVEIHN0YXRlICovXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcmlnaW4gPT09ICdpbnZva2VkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbGV0IHRhcmdldEVycm9yID0gZXJyb3IgaW5zdGFuY2VvZiBBX0Vycm9yXG4gICAgICAgICAgICAgICAgPyBlcnJvclxuICAgICAgICAgICAgICAgIDogbmV3IEFfQ29tbWFuZEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IEFfQ29tbWFuZEVycm9yLkV4ZWN1dGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGV4ZWN1dGluZyBjb21tYW5kIFwiJHt0aGlzLmFzZWlkLnRvU3RyaW5nKCl9XCIuYCxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5mYWlsKHRhcmdldEVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcmtzIHRoZSBjb21tYW5kIGFzIGNvbXBsZXRlZFxuICAgICAqIFxuICAgICAqIFxuICAgICAqIENhbGxpbmcgVGhpcyBtZXRob2Qgd2lsbCBzZXQgdGhlIGNvbW1hbmQgc3RhdHVzIHRvIENPTVBMRVRFRCwgcmVjb3JkIHRoZSBlbmQgdGltZSxcbiAgICAgKiBzdG9yZSB0aGUgcmVzdWx0LCBlbWl0IHRoZSBvbkNvbXBsZXRlIGV2ZW50LCBhbmQgZGVzdHJveSB0aGUgZXhlY3V0aW9uIHNjb3BlLlxuICAgICAqXG4gICAgICogWyFdIEFmdGVyIENhbGxpbmcgdGhpcyBtZXRob2QsIHRoZSBjb21tYW5kIGlzIGNvbnNpZGVyZWQgZnVsbHkgcHJvY2Vzc2VkIEFuZCBmdXJ0aGVyIHByb2Nlc3Npbmcgd2lsbCBiZSBJTlRFUlJVUFRFRC4gXG4gICAgICogWyFdIElmIHRoZSBjb21tYW5kIGlzIGFscmVhZHkgcHJvY2Vzc2VkIChDT01QTEVURUQgb3IgRkFJTEVEKSwgdGhpcyBtZXRob2QgZG9lcyBub3RoaW5nLlxuICAgICAqIFshXSBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHdpdGggb3B0aW9uYWwgcmVzdWx0IGRhdGEgdG8gc3RvcmUgd2l0aCB0aGUgY29tbWFuZC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gT3B0aW9uYWwgcmVzdWx0IGRhdGEgdG8gc3RvcmUgd2l0aCB0aGUgY29tbWFuZFxuICAgICAqL1xuICAgIGFzeW5jIGNvbXBsZXRlKHJlc3VsdD86IFJlc3VsdFR5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNQcm9jZXNzZWQpIHJldHVybjtcblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX0NvbW1hbmRfU3RhdHVzLkNPTVBMRVRFRDtcblxuICAgICAgICB0aGlzLl9yZXN1bHQgPSByZXN1bHQ7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ29tbWFuZEZlYXR1cmVzLm9uQ29tcGxldGUsIHRoaXMuc2NvcGUpO1xuXG4gICAgICAgIHRoaXMuc2NvcGUuZGVzdHJveSgpO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBNYXJrcyB0aGUgY29tbWFuZCBhcyBmYWlsZWRcbiAgICAgKi9cbiAgICBhc3luYyBmYWlsKGVycm9yPzogQV9FcnJvcikge1xuICAgICAgICBpZiAodGhpcy5pc1Byb2Nlc3NlZCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IEFfQ29tbWFuZF9TdGF0dXMuRkFJTEVEO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgICAgICB0aGlzLnNjb3BlLnJlZ2lzdGVyKGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX0NvbW1hbmRGZWF0dXJlcy5vbkZhaWwsIHRoaXMuc2NvcGUpO1xuXG4gICAgICAgIHRoaXMuc2NvcGUuZGVzdHJveSgpO1xuICAgIH1cblxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gICBcbiAgICAvLyBBLUNvbW1hbmQgRXZlbnQtRW1pdHRlciBtZXRob2RzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lciBmb3IgYSBzcGVjaWZpYyBldmVudFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBldmVudCBcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgXG4gICAgICovXG4gICAgb24oZXZlbnQ6IExpZmVjeWNsZUV2ZW50cyB8IEFfQ29tbWFuZEV2ZW50LCBsaXN0ZW5lcjogQV9UWVBFU19fQ29tbWFuZF9MaXN0ZW5lcjxJbnZva2VUeXBlLCBSZXN1bHRUeXBlLCBMaWZlY3ljbGVFdmVudHM+KSB7XG4gICAgICAgIGlmICghdGhpcy5fbGlzdGVuZXJzLmhhcyhldmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycy5zZXQoZXZlbnQsIG5ldyBTZXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLmdldChldmVudCkhLmFkZChsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGEgc3BlY2lmaWMgZXZlbnRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXZlbnQgXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFxuICAgICAqL1xuICAgIG9mZihldmVudDogTGlmZWN5Y2xlRXZlbnRzIHwgQV9Db21tYW5kRXZlbnQsIGxpc3RlbmVyOiBBX1RZUEVTX19Db21tYW5kX0xpc3RlbmVyPEludm9rZVR5cGUsIFJlc3VsdFR5cGUsIExpZmVjeWNsZUV2ZW50cz4pIHtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLmdldChldmVudCk/LmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGV2ZW50IHRvIGFsbCByZWdpc3RlcmVkIGxpc3RlbmVyc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBldmVudCBcbiAgICAgKi9cbiAgICBlbWl0KGV2ZW50OiBMaWZlY3ljbGVFdmVudHMgfCBrZXlvZiB0eXBlb2YgQV9Db21tYW5kRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLmdldChldmVudCk/LmZvckVhY2goYXN5bmMgbGlzdGVuZXIgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXIodGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBBLUVudGl0eSBCYXNlIENsYXNzIE92ZXJyaWRlc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gU2VyaWFsaXphdGlvbiAvIERlc2VyaWFsaXphdGlvblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGNyZWF0ZSBhIENvbW1hbmQgaW5zdGFuY2UgZnJvbSBuZXcgZGF0YVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuZXdFbnRpdHkgXG4gICAgICovXG4gICAgZnJvbU5ldyhuZXdFbnRpdHk6IEludm9rZVR5cGUpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuZnJvbU5ldyhuZXdFbnRpdHkpO1xuXG4gICAgICAgIHRoaXMuX29yaWdpbiA9ICdpbnZva2VkJztcblxuICAgICAgICB0aGlzLl9leGVjdXRpb25TY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6IGBBLUNvbW1hbmQtRXhlY3V0aW9uLVNjb3BlLSR7dGhpcy5hc2VpZC50b1N0cmluZygpfWAsXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbQV9TdGF0ZU1hY2hpbmVdLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9jcmVhdGVkQXQgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuX3BhcmFtcyA9IG5ld0VudGl0eTtcblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX0NvbW1hbmRfU3RhdHVzLkNSRUFURUQ7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBjb252ZXJ0IHNlcmlhbGl6ZWQgZGF0YSB0byBDb21tYW5kIGluc3RhbmNlXG4gICAgICogXG4gICAgICogWyFdIEJ5IGRlZmF1bHQgaXQgb21pdHMgcGFyYW1zIGFzIHRoZXkgYXJlIG5vdCBzdG9yZWQgaW4gdGhlIHNlcmlhbGl6ZWQgZGF0YVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzZXJpYWxpemVkIFxuICAgICAqL1xuICAgIGZyb21KU09OKHNlcmlhbGl6ZWQ6IEFfVFlQRVNfX0NvbW1hbmRfU2VyaWFsaXplZDxJbnZva2VUeXBlLCBSZXN1bHRUeXBlPik6IHZvaWQge1xuICAgICAgICBzdXBlci5mcm9tSlNPTihzZXJpYWxpemVkKTtcblxuICAgICAgICB0aGlzLl9vcmlnaW4gPSAnc2VyaWFsaXplZCc7XG5cbiAgICAgICAgdGhpcy5fZXhlY3V0aW9uU2NvcGUgPSBuZXcgQV9TY29wZSh7XG4gICAgICAgICAgICBuYW1lOiBgQS1Db21tYW5kLUV4ZWN1dGlvbi1TY29wZS0ke3RoaXMuYXNlaWQudG9TdHJpbmcoKX1gLFxuICAgICAgICAgICAgY29tcG9uZW50czogW0FfU3RhdGVNYWNoaW5lXSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHNlcmlhbGl6ZWQuY3JlYXRlZEF0KSB0aGlzLl9jcmVhdGVkQXQgPSBuZXcgRGF0ZShzZXJpYWxpemVkLmNyZWF0ZWRBdCk7XG4gICAgICAgIGlmIChzZXJpYWxpemVkLnN0YXJ0ZWRBdCkgdGhpcy5fc3RhcnRUaW1lID0gbmV3IERhdGUoc2VyaWFsaXplZC5zdGFydGVkQXQpO1xuICAgICAgICBpZiAoc2VyaWFsaXplZC5lbmRlZEF0KSB0aGlzLl9lbmRUaW1lID0gbmV3IERhdGUoc2VyaWFsaXplZC5lbmRlZEF0KTtcblxuICAgICAgICB0aGlzLl9wYXJhbXMgPSBzZXJpYWxpemVkLnBhcmFtc1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBzZXJpYWxpemVkLnN0YXR1cztcblxuICAgICAgICBpZiAoc2VyaWFsaXplZC5lcnJvcilcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gbmV3IEFfQ29tbWFuZEVycm9yKHNlcmlhbGl6ZWQuZXJyb3IpXG5cbiAgICAgICAgaWYgKHNlcmlhbGl6ZWQucmVzdWx0KVxuICAgICAgICAgICAgdGhpcy5fcmVzdWx0ID0gc2VyaWFsaXplZC5yZXN1bHQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgQ29tbWFuZCBpbnN0YW5jZSB0byBhIHBsYWluIG9iamVjdFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvSlNPTigpOiBBX1RZUEVTX19Db21tYW5kX1NlcmlhbGl6ZWQ8SW52b2tlVHlwZSwgUmVzdWx0VHlwZT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMuX3N0YXR1cyxcbiAgICAgICAgICAgIHBhcmFtczogdGhpcy5fcGFyYW1zLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiB0aGlzLl9jcmVhdGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHN0YXJ0ZWRBdDogdGhpcy5fc3RhcnRUaW1lID8gdGhpcy5fc3RhcnRUaW1lLnRvSVNPU3RyaW5nKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbmRlZEF0OiB0aGlzLl9lbmRUaW1lID8gdGhpcy5fZW5kVGltZS50b0lTT1N0cmluZygpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb24sXG4gICAgICAgICAgICBpZGxlVGltZTogdGhpcy5pZGxlVGltZSxcbiAgICAgICAgICAgIHJlc3VsdDogdGhpcy5yZXN1bHQsXG4gICAgICAgICAgICBlcnJvcjogdGhpcy5lcnJvciA/IHRoaXMuZXJyb3IudG9KU09OKCkgOiB1bmRlZmluZWQsXG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlcnMgTWV0aG9kc1xuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoYXQgdGhlIGNvbW1hbmQncyBleGVjdXRpb24gc2NvcGUgaW5oZXJpdHMgZnJvbSB0aGUgY29udGV4dCBzY29wZVxuICAgICAqIFxuICAgICAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgY29tbWFuZCBpcyBub3QgYm91bmQgdG8gYW55IGNvbnRleHQgc2NvcGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY2hlY2tTY29wZUluaGVyaXRhbmNlKCk6IHZvaWQge1xuICAgICAgICBsZXQgYXR0YWNoZWRTY29wZTogQV9TY29wZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXR0YWNoZWRTY29wZSA9IEFfQ29udGV4dC5zY29wZSh0aGlzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbW1hbmRFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfQ29tbWFuZEVycm9yLkNvbW1hbmRTY29wZUJpbmRpbmdFcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYENvbW1hbmQgJHt0aGlzLmFzZWlkLnRvU3RyaW5nKCl9IGlzIG5vdCBib3VuZCB0byBhbnkgY29udGV4dCBzY29wZS4gRW5zdXJlIHRoZSBjb21tYW5kIGlzIHByb3Blcmx5IHJlZ2lzdGVyZWQgd2l0aGluIGEgY29udGV4dCBiZWZvcmUgZXhlY3V0aW9uLmAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnNjb3BlLmlzSW5oZXJpdGVkRnJvbShBX0NvbnRleHQuc2NvcGUodGhpcykpKSB7XG4gICAgICAgICAgICB0aGlzLnNjb3BlLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwgImltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBJZnNwb2x5ZmlsbCB9IGZyb20gXCIuLi9BLVBvbHlmaWxsLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCIuLi8uLi9BLUxvZ2dlci9BLUxvZ2dlci5jb21wb25lbnRcIjtcblxuZXhwb3J0IGNsYXNzIEFfRlNQb2x5ZmlsbENsYXNzIHtcbiAgICBwcml2YXRlIF9mcyE6IElmc3BvbHlmaWxsO1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIGxvZ2dlcjogQV9Mb2dnZXJcbiAgICApIHtcblxuICAgIH1cblxuICAgIGdldCBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG5cbiAgICBhc3luYyBnZXQoKTogUHJvbWlzZTxJZnNwb2x5ZmlsbD4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZnM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbml0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudD09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuX2ZzID0gYXdhaXQgaW1wb3J0KCdmcycpIGFzIElmc3BvbHlmaWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdEJyb3dzZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2ZzID0ge1xuICAgICAgICAgICAgcmVhZEZpbGVTeW5jOiAocGF0aDogc3RyaW5nLCBlbmNvZGluZzogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnZnMucmVhZEZpbGVTeW5jIG5vdCBhdmFpbGFibGUgaW4gYnJvd3NlciBlbnZpcm9ubWVudCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleGlzdHNTeW5jOiAocGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnZnMuZXhpc3RzU3luYyBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXIgZW52aXJvbm1lbnQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3JlYXRlUmVhZFN0cmVhbTogKHBhdGg6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoJ2ZzLmNyZWF0ZVJlYWRTdHJlYW0gbm90IGF2YWlsYWJsZSBpbiBicm93c2VyIGVudmlyb25tZW50Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgSWNyeXB0b0ludGVyZmFjZSwgSWZzcG9seWZpbGwgfSBmcm9tIFwiLi4vQS1Qb2x5ZmlsbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBBX0NyeXB0b1BvbHlmaWxsQ2xhc3Mge1xuICAgIHByaXZhdGUgX2NyeXB0byE6IEljcnlwdG9JbnRlcmZhY2U7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9mc1BvbHlmaWxsPzogSWZzcG9seWZpbGw7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIGxvZ2dlcjogQV9Mb2dnZXJcbiAgICApIHtcbiAgICB9XG5cbiAgICBnZXQgaXNJbml0aWFsaXplZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkO1xuICAgIH1cblxuICAgIGFzeW5jIGdldChmc1BvbHlmaWxsPzogSWZzcG9seWZpbGwpOiBQcm9taXNlPEljcnlwdG9JbnRlcmZhY2U+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy5fZnNQb2x5ZmlsbCA9IGZzUG9seWZpbGw7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY3J5cHRvO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0U2VydmVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdFNlcnZlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgY3J5cHRvID0gYXdhaXQgaW1wb3J0KCdjcnlwdG8nKTtcbiAgICAgICAgdGhpcy5fY3J5cHRvID0ge1xuICAgICAgICAgICAgY3JlYXRlVGV4dEhhc2g6ICh0ZXh0OiBzdHJpbmcsIGFsZ29yaXRobTogc3RyaW5nID0gJ3NoYTM4NCcpID0+IFByb21pc2UucmVzb2x2ZShcbiAgICAgICAgICAgICAgICBgJHthbGdvcml0aG19LSR7Y3J5cHRvLmNyZWF0ZUhhc2goYWxnb3JpdGhtKS51cGRhdGUodGV4dCkuZGlnZXN0KCdiYXNlNjQnKX1gXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgY3JlYXRlRmlsZUhhc2g6IChmaWxlUGF0aDogc3RyaW5nLCBhbGdvcml0aG06IHN0cmluZyA9ICdzaGEzODQnKSA9PiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9mc1BvbHlmaWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZTIHBvbHlmaWxsIGlzIHJlcXVpcmVkIGZvciBmaWxlIGhhc2hpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNoID0gY3J5cHRvLmNyZWF0ZUhhc2goYWxnb3JpdGhtKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZVN0cmVhbSA9IHRoaXMuX2ZzUG9seWZpbGwuY3JlYXRlUmVhZFN0cmVhbShmaWxlUGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVTdHJlYW0ub24oJ2RhdGEnLCAoZGF0YTogYW55KSA9PiBoYXNoLnVwZGF0ZShkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVTdHJlYW0ub24oJ2VuZCcsICgpID0+IHJlc29sdmUoYCR7YWxnb3JpdGhtfS0ke2hhc2guZGlnZXN0KCdiYXNlNjQnKX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVTdHJlYW0ub24oJ2Vycm9yJywgKGVycjogYW55KSA9PiByZWplY3QoZXJyKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdEJyb3dzZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2NyeXB0byA9IHtcbiAgICAgICAgICAgIGNyZWF0ZUZpbGVIYXNoOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnRmlsZSBoYXNoIG5vdCBhdmFpbGFibGUgaW4gYnJvd3NlciBlbnZpcm9ubWVudCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNyZWF0ZVRleHRIYXNoOiAodGV4dDogc3RyaW5nLCBhbGdvcml0aG06IHN0cmluZyA9ICdTSEEtMzg0JykgPT4gbmV3IFByb21pc2U8c3RyaW5nPihhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjcnlwdG8uc3VidGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1YnRsZUNyeXB0byBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gZW5jb2Rlci5lbmNvZGUodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc2hCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChhbGdvcml0aG0sIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzaEJhc2U2NCA9IGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZSguLi5oYXNoQXJyYXkpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShgJHthbGdvcml0aG19LSR7aGFzaEJhc2U2NH1gKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgSWh0dHBJbnRlcmZhY2UgfSBmcm9tIFwiLi4vQS1Qb2x5ZmlsbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBBX0h0dHBQb2x5ZmlsbENsYXNzIHtcbiAgICBwcml2YXRlIF9odHRwITogSWh0dHBJbnRlcmZhY2U7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuXG4gICAgfVxuXG4gICAgZ2V0IGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZDtcbiAgICB9XG5cbiAgICBhc3luYyBnZXQoKTogUHJvbWlzZTxJaHR0cEludGVyZmFjZT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGh0dHBNb2R1bGUgPSBhd2FpdCBpbXBvcnQoJ2h0dHAnKTtcbiAgICAgICAgdGhpcy5faHR0cCA9IHtcbiAgICAgICAgICAgIHJlcXVlc3Q6IGh0dHBNb2R1bGUucmVxdWVzdCxcbiAgICAgICAgICAgIGdldDogaHR0cE1vZHVsZS5nZXQsXG4gICAgICAgICAgICBjcmVhdGVTZXJ2ZXI6IGh0dHBNb2R1bGUuY3JlYXRlU2VydmVyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0QnJvd3NlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5faHR0cCA9IHtcbiAgICAgICAgICAgIHJlcXVlc3Q6IChvcHRpb25zOiBhbnksIGNhbGxiYWNrPzogKHJlczogYW55KSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnaHR0cC5yZXF1ZXN0IG5vdCBhdmFpbGFibGUgaW4gYnJvd3Nlci90ZXN0IGVudmlyb25tZW50LCB1c2UgZmV0Y2ggaW5zdGVhZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZU1vY2tSZXF1ZXN0KG9wdGlvbnMsIGNhbGxiYWNrLCBmYWxzZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiAodXJsOiBzdHJpbmcgfCBhbnksIGNhbGxiYWNrPzogKHJlczogYW55KSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnaHR0cC5nZXQgbm90IGF2YWlsYWJsZSBpbiBicm93c2VyL3Rlc3QgZW52aXJvbm1lbnQsIHVzZSBmZXRjaCBpbnN0ZWFkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlTW9ja1JlcXVlc3QodHlwZW9mIHVybCA9PT0gJ3N0cmluZycgPyB7IGhvc3RuYW1lOiB1cmwgfSA6IHVybCwgY2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVhdGVTZXJ2ZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignaHR0cC5jcmVhdGVTZXJ2ZXIgbm90IGF2YWlsYWJsZSBpbiBicm93c2VyL3Rlc3QgZW52aXJvbm1lbnQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZU1vY2tSZXF1ZXN0KG9wdGlvbnM6IGFueSwgY2FsbGJhY2s/OiAocmVzOiBhbnkpID0+IHZvaWQsIGlzSHR0cHM6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICAvLyBSZXR1cm4gYSBtb2NrIHJlcXVlc3QgdGhhdCBkb2Vzbid0IG1ha2UgcmVhbCBuZXR3b3JrIGNhbGxzXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgICAgICBlbmQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBNb2NrIHJlc3BvbnNlIGZvciBhbGwgZW52aXJvbm1lbnRzXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb246IChldmVudDogc3RyaW5nLCBoYW5kbGVyOiBGdW5jdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2RhdGEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gaGFuZGxlcignbW9jayBkYXRhJyksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdlbmQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gaGFuZGxlcigpLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGlwZTogKGRlc3Q6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXN0LndyaXRlKSBkZXN0LndyaXRlKCdtb2NrIGRhdGEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVzdC5lbmQpIGRlc3QuZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gY2FsbGJhY2sobW9ja1Jlc3BvbnNlKSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdyaXRlOiAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTW9jayB3cml0ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uOiAoZXZlbnQ6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAvLyBNb2NrIGV2ZW50IGhhbmRsaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgSWh0dHBzSW50ZXJmYWNlIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwudHlwZXNcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgQV9IdHRwc1BvbHlmaWxsQ2xhc3Mge1xuICAgIHByaXZhdGUgX2h0dHBzITogSWh0dHBzSW50ZXJmYWNlO1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIGxvZ2dlcjogQV9Mb2dnZXJcbiAgICApIHtcblxuICAgIH1cblxuICAgIGdldCBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0KCk6IFByb21pc2U8SWh0dHBzSW50ZXJmYWNlPiB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGh0dHBzTW9kdWxlID0gYXdhaXQgaW1wb3J0KCdodHRwcycpO1xuICAgICAgICB0aGlzLl9odHRwcyA9IHtcbiAgICAgICAgICAgIHJlcXVlc3Q6IGh0dHBzTW9kdWxlLnJlcXVlc3QsXG4gICAgICAgICAgICBnZXQ6IGh0dHBzTW9kdWxlLmdldCxcbiAgICAgICAgICAgIGNyZWF0ZVNlcnZlcjogaHR0cHNNb2R1bGUuY3JlYXRlU2VydmVyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0QnJvd3NlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5faHR0cHMgPSB7XG4gICAgICAgICAgICByZXF1ZXN0OiAob3B0aW9uczogYW55LCBjYWxsYmFjaz86IChyZXM6IGFueSkgPT4gdm9pZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoJ2h0dHBzLnJlcXVlc3Qgbm90IGF2YWlsYWJsZSBpbiBicm93c2VyL3Rlc3QgZW52aXJvbm1lbnQsIHVzZSBmZXRjaCBpbnN0ZWFkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlTW9ja1JlcXVlc3Qob3B0aW9ucywgY2FsbGJhY2ssIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogKHVybDogc3RyaW5nIHwgYW55LCBjYWxsYmFjaz86IChyZXM6IGFueSkgPT4gdm9pZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoJ2h0dHBzLmdldCBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXIvdGVzdCBlbnZpcm9ubWVudCwgdXNlIGZldGNoIGluc3RlYWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVNb2NrUmVxdWVzdCh0eXBlb2YgdXJsID09PSAnc3RyaW5nJyA/IHsgaG9zdG5hbWU6IHVybCB9IDogdXJsLCBjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3JlYXRlU2VydmVyOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ2h0dHBzLmNyZWF0ZVNlcnZlciBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXIvdGVzdCBlbnZpcm9ubWVudCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlTW9ja1JlcXVlc3Qob3B0aW9uczogYW55LCBjYWxsYmFjaz86IChyZXM6IGFueSkgPT4gdm9pZCwgaXNIdHRwczogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgLy8gUmV0dXJuIGEgbW9jayByZXF1ZXN0IHRoYXQgZG9lc24ndCBtYWtlIHJlYWwgbmV0d29yayBjYWxsc1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgZW5kOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTW9jayByZXNwb25zZSBmb3IgYWxsIGVudmlyb25tZW50c1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2NrUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOiAoZXZlbnQ6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdkYXRhJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGhhbmRsZXIoJ21vY2sgZGF0YScpLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnZW5kJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGhhbmRsZXIoKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpcGU6IChkZXN0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVzdC53cml0ZSkgZGVzdC53cml0ZSgnbW9jayBkYXRhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3QuZW5kKSBkZXN0LmVuZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGNhbGxiYWNrKG1vY2tSZXNwb25zZSksIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3cml0ZTogKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIE1vY2sgd3JpdGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbjogKGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTW9jayBldmVudCBoYW5kbGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IElwYXRoSW50ZXJmYWNlIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwudHlwZXNcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgQV9QYXRoUG9seWZpbGxDbGFzcyB7XG4gICAgcHJpdmF0ZSBfcGF0aCE6IElwYXRoSW50ZXJmYWNlO1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIGxvZ2dlcjogQV9Mb2dnZXJcbiAgICApIHtcblxuICAgIH1cblxuICAgIGdldCBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG5cbiAgICBhc3luYyBnZXQoKTogUHJvbWlzZTxJcGF0aEludGVyZmFjZT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcGF0aDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuX3BhdGggPSBhd2FpdCBpbXBvcnQoJ3BhdGgnKSBhcyBJcGF0aEludGVyZmFjZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRCcm93c2VyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9wYXRoID0ge1xuICAgICAgICAgICAgam9pbjogKC4uLnBhdGhzOiBzdHJpbmdbXSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRocy5qb2luKCcvJykucmVwbGFjZSgvXFwvKy9nLCAnLycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc29sdmU6ICguLi5wYXRoczogc3RyaW5nW10pID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzb2x2ZWRQYXRoID0gJyc7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYXRoIG9mIHBhdGhzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRQYXRoID0gcGF0aDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkUGF0aCA9IHRoaXMuX3BhdGguam9pbihyZXNvbHZlZFBhdGgsIHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlZFBhdGggfHwgJy8nO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpcm5hbWU6IChwYXRoOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFydHMuc2xpY2UoMCwgLTEpLmpvaW4oJy8nKSB8fCAnLyc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmFzZW5hbWU6IChwYXRoOiBzdHJpbmcsIGV4dD86IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSBwYXRoLnNwbGl0KCcvJykucG9wKCkgfHwgJyc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4dCAmJiBiYXNlLmVuZHNXaXRoKGV4dCkgPyBiYXNlLnNsaWNlKDAsIC1leHQubGVuZ3RoKSA6IGJhc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXh0bmFtZTogKHBhdGg6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0cy5sZW5ndGggPiAxID8gJy4nICsgcGFydHMucG9wKCkgOiAnJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWxhdGl2ZTogKGZyb206IHN0cmluZywgdG86IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFNpbXBsaWZpZWQgcmVsYXRpdmUgcGF0aCBjYWxjdWxhdGlvblxuICAgICAgICAgICAgICAgIHJldHVybiB0by5yZXBsYWNlKGZyb20sICcnKS5yZXBsYWNlKC9eXFwvLywgJycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vcm1hbGl6ZTogKHBhdGg6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLysvZywgJy8nKS5yZXBsYWNlKC9cXC8kLywgJycpIHx8ICcvJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0Fic29sdXRlOiAocGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdGguc3RhcnRzV2l0aCgnLycpIHx8IC9eW2EtekEtWl06Ly50ZXN0KHBhdGgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcnNlOiAocGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gdGhpcy5fcGF0aC5leHRuYW1lKHBhdGgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLl9wYXRoLmJhc2VuYW1lKHBhdGgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLl9wYXRoLmJhc2VuYW1lKHBhdGgsIGV4dCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlyID0gdGhpcy5fcGF0aC5kaXJuYW1lKHBhdGgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHJvb3Q6ICcvJywgZGlyLCBiYXNlLCBleHQsIG5hbWUgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb3JtYXQ6IChwYXRoT2JqZWN0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGF0aC5qb2luKHBhdGhPYmplY3QuZGlyIHx8ICcnLCBwYXRoT2JqZWN0LmJhc2UgfHwgJycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlcDogJy8nLFxuICAgICAgICAgICAgZGVsaW1pdGVyOiAnOidcbiAgICAgICAgfTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBJdXJsSW50ZXJmYWNlIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwudHlwZXNcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgQV9VcmxQb2x5ZmlsbENsYXNzIHtcbiAgICBwcml2YXRlIF91cmwhOiBJdXJsSW50ZXJmYWNlO1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBnZXQgaXNJbml0aWFsaXplZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0KCk6IFByb21pc2U8SXVybEludGVyZmFjZT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdXJsO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0U2VydmVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdFNlcnZlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgdXJsTW9kdWxlID0gYXdhaXQgaW1wb3J0KCd1cmwnKTtcbiAgICAgICAgdGhpcy5fdXJsID0ge1xuICAgICAgICAgICAgcGFyc2U6IHVybE1vZHVsZS5wYXJzZSxcbiAgICAgICAgICAgIGZvcm1hdDogdXJsTW9kdWxlLmZvcm1hdCxcbiAgICAgICAgICAgIHJlc29sdmU6IHVybE1vZHVsZS5yZXNvbHZlLFxuICAgICAgICAgICAgVVJMOiAodXJsTW9kdWxlLlVSTCB8fCBnbG9iYWxUaGlzLlVSTCkgYXMgYW55LFxuICAgICAgICAgICAgVVJMU2VhcmNoUGFyYW1zOiAodXJsTW9kdWxlLlVSTFNlYXJjaFBhcmFtcyB8fCBnbG9iYWxUaGlzLlVSTFNlYXJjaFBhcmFtcykgYXMgYW55XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0QnJvd3NlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fdXJsID0ge1xuICAgICAgICAgICAgcGFyc2U6ICh1cmxTdHJpbmc6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodXJsU3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3RvY29sOiB1cmwucHJvdG9jb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0bmFtZTogdXJsLmhvc3RuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogdXJsLnBvcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRobmFtZTogdXJsLnBhdGhuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiB1cmwuc2VhcmNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzaDogdXJsLmhhc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0OiB1cmwuaG9zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IHVybC5ocmVmXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9ybWF0OiAodXJsT2JqZWN0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVSTCgnJywgdXJsT2JqZWN0LmhyZWYgfHwgYCR7dXJsT2JqZWN0LnByb3RvY29sfS8vJHt1cmxPYmplY3QuaG9zdH0ke3VybE9iamVjdC5wYXRobmFtZX0ke3VybE9iamVjdC5zZWFyY2h9JHt1cmxPYmplY3QuaGFzaH1gKS5ocmVmO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc29sdmU6IChmcm9tOiBzdHJpbmcsIHRvOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVSTCh0bywgZnJvbSkuaHJlZjtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBVUkw6IGdsb2JhbFRoaXMuVVJMLFxuICAgICAgICAgICAgVVJMU2VhcmNoUGFyYW1zOiBnbG9iYWxUaGlzLlVSTFNlYXJjaFBhcmFtc1xuICAgICAgICB9O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IElidWZmZXJJbnRlcmZhY2UgfSBmcm9tIFwiLi4vQS1Qb2x5ZmlsbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBBX0J1ZmZlclBvbHlmaWxsQ2xhc3Mge1xuICAgIHByaXZhdGUgX2J1ZmZlciE6IElidWZmZXJJbnRlcmZhY2U7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuXG4gICAgfVxuXG4gICAgZ2V0IGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZDtcbiAgICB9XG5cblxuICAgIGFzeW5jIGdldCgpOiBQcm9taXNlPElidWZmZXJJbnRlcmZhY2U+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlck1vZHVsZSA9IGF3YWl0IGltcG9ydCgnYnVmZmVyJyk7XG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IHtcbiAgICAgICAgICAgIGZyb206IGJ1ZmZlck1vZHVsZS5CdWZmZXIuZnJvbSxcbiAgICAgICAgICAgIGFsbG9jOiBidWZmZXJNb2R1bGUuQnVmZmVyLmFsbG9jLFxuICAgICAgICAgICAgYWxsb2NVbnNhZmU6IGJ1ZmZlck1vZHVsZS5CdWZmZXIuYWxsb2NVbnNhZmUsXG4gICAgICAgICAgICBpc0J1ZmZlcjogYnVmZmVyTW9kdWxlLkJ1ZmZlci5pc0J1ZmZlcixcbiAgICAgICAgICAgIGNvbmNhdDogYnVmZmVyTW9kdWxlLkJ1ZmZlci5jb25jYXRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRCcm93c2VyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9idWZmZXIgPSB7XG4gICAgICAgICAgICBmcm9tOiAoZGF0YTogYW55LCBlbmNvZGluZz86IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFsbG9jOiAoc2l6ZTogbnVtYmVyLCBmaWxsPzogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXIuZmlsbChmaWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbGxvY1Vuc2FmZTogKHNpemU6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0J1ZmZlcjogKG9iajogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgb2JqIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uY2F0OiAobGlzdDogYW55W10sIHRvdGFsTGVuZ3RoPzogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gdG90YWxMZW5ndGggfHwgbGlzdC5yZWR1Y2UoKHN1bSwgYnVmKSA9PiBzdW0gKyBidWYubGVuZ3RoLCAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICAgICAgICAgICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYnVmIG9mIGxpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldChidWYsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBidWYubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IElwcm9jZXNzSW50ZXJmYWNlIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwudHlwZXNcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgQV9Qcm9jZXNzUG9seWZpbGxDbGFzcyB7XG4gICAgcHJpdmF0ZSBfcHJvY2VzcyE6IElwcm9jZXNzSW50ZXJmYWNlO1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBnZXQgaXNJbml0aWFsaXplZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0KCk6IFByb21pc2U8SXByb2Nlc3NJbnRlcmZhY2U+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3M7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbml0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ3NlcnZlcicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRTZXJ2ZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0QnJvd3NlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5pbml0QnJvd3NlcigpO1xuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0U2VydmVyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9wcm9jZXNzID0ge1xuICAgICAgICAgICAgZW52OiBwcm9jZXNzLmVudiBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgICAgICAgICAgYXJndjogcHJvY2Vzcy5hcmd2LFxuICAgICAgICAgICAgcGxhdGZvcm06IHByb2Nlc3MucGxhdGZvcm0sXG4gICAgICAgICAgICB2ZXJzaW9uOiBwcm9jZXNzLnZlcnNpb24sXG4gICAgICAgICAgICB2ZXJzaW9uczogcHJvY2Vzcy52ZXJzaW9ucyBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgICAgICAgICAgY3dkOiBwcm9jZXNzLmN3ZCxcbiAgICAgICAgICAgIGV4aXQ6IHByb2Nlc3MuZXhpdCxcbiAgICAgICAgICAgIG5leHRUaWNrOiBwcm9jZXNzLm5leHRUaWNrXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0QnJvd3NlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IHtcbiAgICAgICAgICAgIGVudjoge1xuICAgICAgICAgICAgICAgIE5PREVfRU5WOiAnYnJvd3NlcicsXG4gICAgICAgICAgICAgICAgLi4uKChnbG9iYWxUaGlzIGFzIGFueSkucHJvY2Vzcz8uZW52IHx8IHt9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFyZ3Y6IFsnYnJvd3NlciddLFxuICAgICAgICAgICAgcGxhdGZvcm06ICdicm93c2VyJyxcbiAgICAgICAgICAgIHZlcnNpb246ICdicm93c2VyJyxcbiAgICAgICAgICAgIHZlcnNpb25zOiB7IG5vZGU6ICdicm93c2VyJyB9LFxuICAgICAgICAgICAgY3dkOiAoKSA9PiAnLycsXG4gICAgICAgICAgICBleGl0OiAoY29kZT86IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoJ3Byb2Nlc3MuZXhpdCBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXInKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb2Nlc3MgZXhpdCB3aXRoIGNvZGUgJHtjb2RlfWApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5leHRUaWNrOiAoY2FsbGJhY2s6IEZ1bmN0aW9uLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gY2FsbGJhY2soLi4uYXJncyksIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQsIEFfQ29uY2VwdCwgQV9Db250ZXh0LCBBX0luamVjdCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCIuLi9BLUxvZ2dlci9BLUxvZ2dlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfRlNQb2x5ZmlsbENsYXNzIH0gZnJvbSBcIi4vY2xhc3Nlcy9BLUZTLVBvbHlmaWxsLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NyeXB0b1BvbHlmaWxsQ2xhc3MgfSBmcm9tIFwiLi9jbGFzc2VzL0EtQ3J5cHRvLVBvbHlmaWxsLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0h0dHBQb2x5ZmlsbENsYXNzIH0gZnJvbSBcIi4vY2xhc3Nlcy9BLUh0dHAtUG9seWZpbGwuY2xhc3NcIjtcbmltcG9ydCB7IEFfSHR0cHNQb2x5ZmlsbENsYXNzIH0gZnJvbSBcIi4vY2xhc3Nlcy9BLUh0dHBzLVBvbHlmaWxsLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1BhdGhQb2x5ZmlsbENsYXNzIH0gZnJvbSBcIi4vY2xhc3Nlcy9BLVBhdGgtUG9seWZpbGwuY2xhc3NcIjtcbmltcG9ydCB7IEFfVXJsUG9seWZpbGxDbGFzcyB9IGZyb20gXCIuL2NsYXNzZXMvQS1VcmwtUG9seWZpbGwuY2xhc3NcIjtcbmltcG9ydCB7IEFfQnVmZmVyUG9seWZpbGxDbGFzcyB9IGZyb20gXCIuL2NsYXNzZXMvQS1CdWZmZXItUG9seWZpbGwuY2xhc3NcIjtcbmltcG9ydCB7IEFfUHJvY2Vzc1BvbHlmaWxsQ2xhc3MgfSBmcm9tIFwiLi9jbGFzc2VzL0EtUHJvY2Vzcy1Qb2x5ZmlsbC5jbGFzc1wiO1xuXG5leHBvcnQgY2xhc3MgQV9Qb2x5ZmlsbCBleHRlbmRzIEFfQ29tcG9uZW50IHtcblxuICAgIHByb3RlY3RlZCBfZnNQb2x5ZmlsbCE6IEFfRlNQb2x5ZmlsbENsYXNzO1xuICAgIHByb3RlY3RlZCBfY3J5cHRvUG9seWZpbGwhOiBBX0NyeXB0b1BvbHlmaWxsQ2xhc3M7XG4gICAgcHJvdGVjdGVkIF9odHRwUG9seWZpbGwhOiBBX0h0dHBQb2x5ZmlsbENsYXNzO1xuICAgIHByb3RlY3RlZCBfaHR0cHNQb2x5ZmlsbCE6IEFfSHR0cHNQb2x5ZmlsbENsYXNzO1xuICAgIHByb3RlY3RlZCBfcGF0aFBvbHlmaWxsITogQV9QYXRoUG9seWZpbGxDbGFzcztcbiAgICBwcm90ZWN0ZWQgX3VybFBvbHlmaWxsITogQV9VcmxQb2x5ZmlsbENsYXNzO1xuICAgIHByb3RlY3RlZCBfYnVmZmVyUG9seWZpbGwhOiBBX0J1ZmZlclBvbHlmaWxsQ2xhc3M7XG4gICAgcHJvdGVjdGVkIF9wcm9jZXNzUG9seWZpbGwhOiBBX1Byb2Nlc3NQb2x5ZmlsbENsYXNzO1xuXG4gICAgcHJvdGVjdGVkIF9pbml0aWFsaXppbmc6IFByb21pc2U8dm9pZD4gfCBudWxsID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY2hhbm5lbCBpcyBjb25uZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2luaXRpYWxpemVkPzogUHJvbWlzZTx2b2lkPjtcblxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgcHJvdGVjdGVkIGxvZ2dlcjogQV9Mb2dnZXJcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY2hhbm5lbCBpcyBjb25uZWN0ZWRcbiAgICAgKi9cbiAgICBnZXQgcmVhZHkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdGhpcy5fbG9hZEludGVybmFsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkO1xuICAgIH1cblxuXG5cbiAgICBAQV9Db25jZXB0LkxvYWQoKVxuICAgIGFzeW5jIGxvYWQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHk7XG4gICAgfVxuXG4gICAgQEFfQ29uY2VwdC5Mb2FkKClcbiAgICBhc3luYyBhdHRhY2hUb1dpbmRvdygpIHtcbiAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCAhPT0gJ2Jyb3dzZXInKSByZXR1cm47XG5cblxuICAgICAgICAoZ2xvYmFsVGhpcyBhcyBhbnkpLkFfUG9seWZpbGwgPSB0aGlzO1xuICAgICAgICAvLyBhdHRhY2ggZW52IHZhcmlhYmxlc1xuICAgICAgICAoZ2xvYmFsVGhpcyBhcyBhbnkpLnByb2Nlc3MgPSB7IGVudjogeyBOT0RFX0VOVjogJ3Byb2R1Y3Rpb24nIH0sIGN3ZDogKCkgPT4gXCIvXCIgfTtcbiAgICAgICAgKGdsb2JhbFRoaXMgYXMgYW55KS5fX2Rpcm5hbWUgPSBcIi9cIjtcblxuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIF9sb2FkSW50ZXJuYWwoKSB7XG5cbiAgICAgICAgdGhpcy5fZnNQb2x5ZmlsbCA9IG5ldyBBX0ZTUG9seWZpbGxDbGFzcyh0aGlzLmxvZ2dlcik7XG4gICAgICAgIHRoaXMuX2NyeXB0b1BvbHlmaWxsID0gbmV3IEFfQ3J5cHRvUG9seWZpbGxDbGFzcyh0aGlzLmxvZ2dlcik7XG4gICAgICAgIHRoaXMuX2h0dHBQb2x5ZmlsbCA9IG5ldyBBX0h0dHBQb2x5ZmlsbENsYXNzKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5faHR0cHNQb2x5ZmlsbCA9IG5ldyBBX0h0dHBzUG9seWZpbGxDbGFzcyh0aGlzLmxvZ2dlcik7XG4gICAgICAgIHRoaXMuX3BhdGhQb2x5ZmlsbCA9IG5ldyBBX1BhdGhQb2x5ZmlsbENsYXNzKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5fdXJsUG9seWZpbGwgPSBuZXcgQV9VcmxQb2x5ZmlsbENsYXNzKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5fYnVmZmVyUG9seWZpbGwgPSBuZXcgQV9CdWZmZXJQb2x5ZmlsbENsYXNzKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5fcHJvY2Vzc1BvbHlmaWxsID0gbmV3IEFfUHJvY2Vzc1BvbHlmaWxsQ2xhc3ModGhpcy5sb2dnZXIpO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgYWxsIHBvbHlmaWxscyB0byBlbnN1cmUgdGhleSdyZSByZWFkeVxuICAgICAgICBhd2FpdCB0aGlzLl9mc1BvbHlmaWxsLmdldCgpO1xuICAgICAgICBhd2FpdCB0aGlzLl9jcnlwdG9Qb2x5ZmlsbC5nZXQoYXdhaXQgdGhpcy5fZnNQb2x5ZmlsbC5nZXQoKSk7XG4gICAgICAgIGF3YWl0IHRoaXMuX2h0dHBQb2x5ZmlsbC5nZXQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5faHR0cHNQb2x5ZmlsbC5nZXQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fcGF0aFBvbHlmaWxsLmdldCgpO1xuICAgICAgICBhd2FpdCB0aGlzLl91cmxQb2x5ZmlsbC5nZXQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fYnVmZmVyUG9seWZpbGwuZ2V0KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuX3Byb2Nlc3NQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAnZnMnIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ2ZzJyBwb2x5ZmlsbCBhbmQgcmV0dXJucyBpdHMgaW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhc3luYyBmcygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fZnNQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAnY3J5cHRvJyBwb2x5ZmlsbCBtZXRob2RzIHJlZ2FyZGxlc3Mgb2YgdGhlIGVudmlyb25tZW50XG4gICAgICogVGhpcyBtZXRob2QgbG9hZHMgdGhlICdjcnlwdG8nIHBvbHlmaWxsIGFuZCByZXR1cm5zIGl0cyBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIGNyeXB0bygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fY3J5cHRvUG9seWZpbGwuZ2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHVzZSB0aGUgJ2h0dHAnIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ2h0dHAnIHBvbHlmaWxsIGFuZCByZXR1cm5zIGl0cyBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIGh0dHAoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2h0dHBQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAnaHR0cHMnIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ2h0dHBzJyBwb2x5ZmlsbCBhbmQgcmV0dXJucyBpdHMgaW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhc3luYyBodHRwcygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5faHR0cHNQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAncGF0aCcgcG9seWZpbGwgbWV0aG9kcyByZWdhcmRsZXNzIG9mIHRoZSBlbnZpcm9ubWVudFxuICAgICAqIFRoaXMgbWV0aG9kIGxvYWRzIHRoZSAncGF0aCcgcG9seWZpbGwgYW5kIHJldHVybnMgaXRzIGluc3RhbmNlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgcGF0aCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fcGF0aFBvbHlmaWxsLmdldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byB1c2UgdGhlICd1cmwnIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ3VybCcgcG9seWZpbGwgYW5kIHJldHVybnMgaXRzIGluc3RhbmNlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgdXJsKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5O1xuXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl91cmxQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAnYnVmZmVyJyBwb2x5ZmlsbCBtZXRob2RzIHJlZ2FyZGxlc3Mgb2YgdGhlIGVudmlyb25tZW50XG4gICAgICogVGhpcyBtZXRob2QgbG9hZHMgdGhlICdidWZmZXInIHBvbHlmaWxsIGFuZCByZXR1cm5zIGl0cyBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIGJ1ZmZlcigpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fYnVmZmVyUG9seWZpbGwuZ2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHVzZSB0aGUgJ3Byb2Nlc3MnIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ3Byb2Nlc3MnIHBvbHlmaWxsIGFuZCByZXR1cm5zIGl0cyBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIHByb2Nlc3MoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3Byb2Nlc3NQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ29tcG9uZW50LCBBX0NvbmNlcHQsIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVksIEFfQ29udGFpbmVyLCBBX0NvbnRleHQsIEFfRGVwZW5kZW5jeSwgQV9GZWF0dXJlLCBBX0luamVjdCwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0NvbmZpZyB9IGZyb20gXCIuLi9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVkgfSBmcm9tIFwiLi4vQS1Db25maWcuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1BvbHlmaWxsIH0gZnJvbSBcIi4uLy4uL0EtUG9seWZpbGwvQS1Qb2x5ZmlsbC5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfTWVtb3J5IH0gZnJvbSBcIi4uLy4uL0EtTWVtb3J5L0EtTWVtb3J5LmNvbXBvbmVudFwiO1xuXG4vKipcbiAqIENvbmZpZyBSZWFkZXJcbiAqL1xuZXhwb3J0IGNsYXNzIENvbmZpZ1JlYWRlciBleHRlbmRzIEFfQ29tcG9uZW50IHtcblxuICAgIHByb3RlY3RlZCBERUZBVUxUX0FMTE9XRURfVE9fUkVBRF9QUk9QRVJUSUVTID0gW1xuICAgICAgICAuLi5BX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZLFxuICAgICAgICAuLi5BX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVlcbiAgICBdO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9Qb2x5ZmlsbCkgcHJvdGVjdGVkIHBvbHlmaWxsOiBBX1BvbHlmaWxsLFxuICAgICkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIEBBX0NvbmNlcHQuTG9hZCgpXG4gICAgYXN5bmMgYXR0YWNoQ29udGV4dChcbiAgICAgICAgQEFfSW5qZWN0KEFfQ29udGFpbmVyKSBjb250YWluZXI6IEFfQ29udGFpbmVyLFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgY29udGV4dDogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfQ29uZmlnKSBjb25maWc/OiBBX0NvbmZpZzxhbnk+LFxuICAgICkge1xuICAgICAgICBpZiAoIWNvbmZpZykge1xuICAgICAgICAgICAgY29uZmlnID0gbmV3IEFfQ29uZmlnKHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0czoge31cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb250YWluZXIuc2NvcGUucmVnaXN0ZXIoY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJvb3REaXIgPSBhd2FpdCB0aGlzLmdldFByb2plY3RSb290KCk7XG5cbiAgICAgICAgY29uZmlnLnNldCgnQV9DT05DRVBUX1JPT1RfRk9MREVSJywgcm9vdERpcik7XG4gICAgfVxuXG4gICAgQEFfQ29uY2VwdC5Mb2FkKClcbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBAQV9EZXBlbmRlbmN5LlJlcXVpcmVkKClcbiAgICAgICAgQEFfSW5qZWN0KEFfQ29uZmlnKSBjb25maWc6IEFfQ29uZmlnLFxuICAgICkge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5yZWFkKCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgY29uZmlnLnNldChrZXksIGRhdGFba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbmZpZ3VyYXRpb24gcHJvcGVydHkgYnkgTmFtZVxuICAgICAqIEBwYXJhbSBwcm9wZXJ0eSBcbiAgICAgKi9cbiAgICByZXNvbHZlPF9SZXR1cm5UeXBlID0gYW55Pihwcm9wZXJ0eTogc3RyaW5nKTogX1JldHVyblR5cGUge1xuICAgICAgICByZXR1cm4gcHJvcGVydHkgYXMgX1JldHVyblR5cGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmVhZHMgdGhlIGNvbmZpZ3VyYXRpb24gYW5kIHNldHMgdGhlIHZhbHVlcyB0byB0aGUgY29udGV4dFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIHJlYWQ8VCBleHRlbmRzIHN0cmluZz4oXG4gICAgICAgIHZhcmlhYmxlczogQXJyYXk8VD4gPSBbXVxuICAgICk6IFByb21pc2U8UmVjb3JkPFQsIGFueT4+IHtcbiAgICAgICAgcmV0dXJuIHt9IGFzIFJlY29yZDxULCBhbnk+O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoZSBwcm9qZWN0IGJ5IGxvY2F0aW5nIHRoZSBmb2xkZXIgY29udGFpbmluZyBwYWNrYWdlLmpzb25cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RhcnRQYXRoIC0gVGhlIGluaXRpYWwgZGlyZWN0b3J5IHRvIHN0YXJ0IHNlYXJjaGluZyBmcm9tIChkZWZhdWx0IGlzIF9fZGlybmFtZSlcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IC0gVGhlIHBhdGggdG8gdGhlIHJvb3QgZGlyZWN0b3J5IG9yIG51bGwgaWYgcGFja2FnZS5qc29uIGlzIG5vdCBmb3VuZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBnZXRQcm9qZWN0Um9vdChzdGFydFBhdGggPSBfX2Rpcm5hbWUpIHtcbiAgICAgICAgY29uc3QgcHJvY2VzcyA9IGF3YWl0IHRoaXMucG9seWZpbGwucHJvY2VzcygpO1xuXG4gICAgICAgIHJldHVybiBwcm9jZXNzLmN3ZCgpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0LCBBX0Zvcm1hdHRlckhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBDb25maWdSZWFkZXIgfSBmcm9tIFwiLi9Db25maWdSZWFkZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBGaWxlQ29uZmlnUmVhZGVyIGV4dGVuZHMgQ29uZmlnUmVhZGVyIHtcblxuICAgIHByaXZhdGUgRmlsZURhdGE6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjb25maWd1cmF0aW9uIHByb3BlcnR5IE5hbWVcbiAgICAgKiBAcGFyYW0gcHJvcGVydHkgXG4gICAgICovXG4gICAgZ2V0Q29uZmlndXJhdGlvblByb3BlcnR5X0ZpbGVfQWxpYXMocHJvcGVydHk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBBX0Zvcm1hdHRlckhlbHBlci50b0NhbWVsQ2FzZShwcm9wZXJ0eSk7XG4gICAgfVxuXG5cbiAgICByZXNvbHZlPF9SZXR1cm5UeXBlID0gYW55Pihwcm9wZXJ0eTogc3RyaW5nKTogX1JldHVyblR5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5GaWxlRGF0YS5nZXQodGhpcy5nZXRDb25maWd1cmF0aW9uUHJvcGVydHlfRmlsZV9BbGlhcyhwcm9wZXJ0eSkpIGFzIF9SZXR1cm5UeXBlO1xuICAgIH1cblxuXG4gICAgYXN5bmMgcmVhZDxUIGV4dGVuZHMgc3RyaW5nPihcbiAgICAgICAgdmFyaWFibGVzPzogQXJyYXk8VD5cbiAgICApOiBQcm9taXNlPFJlY29yZDxULCBhbnk+PiB7XG5cbiAgICAgICAgY29uc3QgZnMgPSBhd2FpdCB0aGlzLnBvbHlmaWxsLmZzKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMoYCR7QV9Db250ZXh0LmNvbmNlcHR9LmNvbmYuanNvbmAsICd1dGY4Jyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZzogUmVjb3JkPFQsIGFueT4gPSBKU09OLnBhcnNlKGRhdGEpO1xuXG4gICAgICAgICAgICB0aGlzLkZpbGVEYXRhID0gbmV3IE1hcChPYmplY3QuZW50cmllcyhjb25maWcpKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gdGhpcy5jb250ZXh0LkxvZ2dlci5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge30gYXMgUmVjb3JkPFQsIGFueT47XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQV9Db25jZXB0LCBBX0ZlYXR1cmUsIEFfRm9ybWF0dGVySGVscGVyLCBBX0luamVjdCwgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBDb25maWdSZWFkZXIgfSBmcm9tIFwiLi9Db25maWdSZWFkZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBX0NvbmZpZyB9IGZyb20gXCIuLi9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX1BvbHlmaWxsIH0gZnJvbSBcIi4uLy4uL0EtUG9seWZpbGwvQS1Qb2x5ZmlsbC5jb21wb25lbnRcIjtcblxuXG5leHBvcnQgY2xhc3MgRU5WQ29uZmlnUmVhZGVyIGV4dGVuZHMgQ29uZmlnUmVhZGVyIHtcblxuXG4gICAgQEFfQ29uY2VwdC5Mb2FkKHtcbiAgICAgICAgYmVmb3JlOiBbJ0VOVkNvbmZpZ1JlYWRlci5pbml0aWFsaXplJ11cbiAgICB9KVxuICAgIGFzeW5jIHJlYWRFbnZGaWxlKFxuICAgICAgICBAQV9JbmplY3QoQV9Db25maWcpIGNvbmZpZzogQV9Db25maWc8QV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlcz4sXG4gICAgICAgIEBBX0luamVjdChBX1BvbHlmaWxsKSBwb2x5ZmlsbDogQV9Qb2x5ZmlsbCxcbiAgICAgICAgQEFfSW5qZWN0KEFfRmVhdHVyZSkgZmVhdHVyZTogQV9GZWF0dXJlLFxuXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGZzID0gYXdhaXQgcG9seWZpbGwuZnMoKTtcblxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYygnLmVudicpKVxuICAgICAgICAgICAgZnMucmVhZEZpbGVTeW5jKGAke2NvbmZpZy5nZXQoJ0FfQ09OQ0VQVF9ST09UX0ZPTERFUicpfS8uZW52YCwgJ3V0Zi04Jykuc3BsaXQoJ1xcbicpLmZvckVhY2gobGluZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gbGluZS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIGlmIChrZXkgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnZba2V5LnRyaW0oKV0gPSB2YWx1ZS50cmltKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbmZpZ3VyYXRpb24gcHJvcGVydHkgTmFtZSBcbiAgICAgKiBAcGFyYW0gcHJvcGVydHkgXG4gICAgICovXG4gICAgZ2V0Q29uZmlndXJhdGlvblByb3BlcnR5X0VOVl9BbGlhcyhwcm9wZXJ0eTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEFfRm9ybWF0dGVySGVscGVyLnRvVXBwZXJTbmFrZUNhc2UocHJvcGVydHkpO1xuICAgIH1cblxuXG4gICAgcmVzb2x2ZTxfUmV0dXJuVHlwZSA9IGFueT4ocHJvcGVydHk6IHN0cmluZyk6IF9SZXR1cm5UeXBlIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3MuZW52W3RoaXMuZ2V0Q29uZmlndXJhdGlvblByb3BlcnR5X0VOVl9BbGlhcyhwcm9wZXJ0eSldIGFzIF9SZXR1cm5UeXBlO1xuICAgIH1cblxuXG4gICAgYXN5bmMgcmVhZDxUIGV4dGVuZHMgc3RyaW5nPih2YXJpYWJsZXM6IEFycmF5PFQ+ID0gW10pOiBQcm9taXNlPFJlY29yZDxULCBhbnk+PiB7XG4gICAgICAgIGNvbnN0IGFsbFZhcmlhYmxlcyA9IFtcbiAgICAgICAgICAgIC4uLnZhcmlhYmxlcyxcbiAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKHByb2Nlc3MuZW52KSxcbiAgICAgICAgXVxuXG4gICAgICAgIGNvbnN0IGNvbmZpZzogUmVjb3JkPFQsIGFueT4gPSB7fSBhcyBSZWNvcmQ8VCwgYW55PjtcblxuICAgICAgICBhbGxWYXJpYWJsZXMuZm9yRWFjaCh2YXJpYWJsZSA9PiB7XG4gICAgICAgICAgICBjb25maWdbdmFyaWFibGVdID0gdGhpcy5yZXNvbHZlKHZhcmlhYmxlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59ICIsICJpbXBvcnQgeyBBX0NhbGxlciwgQV9Db25jZXB0LCBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZLCBBX0NvbnRhaW5lciwgQV9Db250ZXh0LCBBX0ZyYWdtZW50LCBBX0luamVjdCwgQV9TY29wZSwgQV9TY29wZUVycm9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IENvbmZpZ1JlYWRlciB9IGZyb20gXCIuL2NvbXBvbmVudHMvQ29uZmlnUmVhZGVyLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQV9Db25maWcgfSBmcm9tIFwiLi9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX1BvbHlmaWxsIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwvQS1Qb2x5ZmlsbC5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfQ29uZmlnRXJyb3IgfSBmcm9tIFwiLi9BLUNvbmZpZy5lcnJvclwiO1xuaW1wb3J0IHsgRmlsZUNvbmZpZ1JlYWRlciB9IGZyb20gXCIuL2NvbXBvbmVudHMvRmlsZUNvbmZpZ1JlYWRlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEVOVkNvbmZpZ1JlYWRlciB9IGZyb20gXCIuL2NvbXBvbmVudHMvRU5WQ29uZmlnUmVhZGVyLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTX0FSUkFZIH0gZnJvbSBcIi4vQS1Db25maWcuY29uc3RhbnRzXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfQ29uZmlnTG9hZGVyIGV4dGVuZHMgQV9Db250YWluZXIge1xuXG4gICAgcHJpdmF0ZSByZWFkZXIhOiBDb25maWdSZWFkZXJcblxuXG4gICAgQEFfQ29uY2VwdC5Mb2FkKHtcbiAgICAgICAgYmVmb3JlOiAvLiovXG4gICAgfSlcbiAgICBhc3luYyBwcmVwYXJlKFxuICAgICAgICBAQV9JbmplY3QoQV9Qb2x5ZmlsbCkgcG9seWZpbGw6IEFfUG9seWZpbGxcbiAgICApIHtcbiAgICAgICAgaWYgKCF0aGlzLnNjb3BlLmhhcyhBX0NvbmZpZykpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IG5ldyBBX0NvbmZpZyh7XG4gICAgICAgICAgICAgICAgdmFyaWFibGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIC4uLkFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVksXG4gICAgICAgICAgICAgICAgICAgIC4uLkFfQ09OU1RBTlRTX19DT05GSUdfRU5WX1ZBUklBQkxFU19BUlJBWVxuICAgICAgICAgICAgICAgIF0gYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgZGVmYXVsdHM6IHt9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5zY29wZS5yZWdpc3RlcjxBX0ZyYWdtZW50PihuZXdDb25maWcpO1xuICAgICAgICB9XG5cblxuICAgICAgICBjb25zdCBmcyA9IGF3YWl0IHBvbHlmaWxsLmZzKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgY2FzZSBBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInICYmICEhZnMuZXhpc3RzU3luYyhgJHtBX0NvbnRleHQuY29uY2VwdH0uY29uZi5qc29uYCk6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZGVyID0gdGhpcy5zY29wZS5yZXNvbHZlPENvbmZpZ1JlYWRlcj4oRmlsZUNvbmZpZ1JlYWRlcikhO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJyAmJiAhZnMuZXhpc3RzU3luYyhgJHtBX0NvbnRleHQuY29uY2VwdH0uY29uZi5qc29uYCk6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZGVyID0gdGhpcy5zY29wZS5yZXNvbHZlPENvbmZpZ1JlYWRlcj4oRU5WQ29uZmlnUmVhZGVyKSE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdicm93c2VyJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkZXIgPSB0aGlzLnNjb3BlLnJlc29sdmU8Q29uZmlnUmVhZGVyPihFTlZDb25maWdSZWFkZXIpITtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9Db25maWdFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIEFfQ29uZmlnRXJyb3IuSW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGBFbnZpcm9ubWVudCAke0FfQ29udGV4dC5lbnZpcm9ubWVudH0gaXMgbm90IHN1cHBvcnRlZGBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEFfU2NvcGVFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbmZpZ0Vycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IEFfQ29uZmlnRXJyb3IuSW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBGYWlsZWQgdG8gaW5pdGlhbGl6ZSBBX0NvbmZpZ0xvYWRlci4gUmVhZGVyIG5vdCBmb3VuZCBmb3IgZW52aXJvbm1lbnQgJHtBX0NvbnRleHQuZW52aXJvbm1lbnR9YCxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlcywgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuXG5leHBvcnQgZW51bSBBX1RZUEVTX19Db25maWdGZWF0dXJlIHtcblxufVxuXG5cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0NvbmZpZ0NvbnRhaW5lckNvbnN0cnVjdG9yPFQgZXh0ZW5kcyAgQXJyYXk8c3RyaW5nIHwgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlc1tudW1iZXJdPj4gPSB7XG5cbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIFNESyB3aWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSB2YXJpYWJsZSBpcyBub3QgZGVmaW5lZCBPUiBub3QgcHJlc2VudGVkIGluIHRoZSBkZWZhdWx0c1xuICAgICAqL1xuICAgIHN0cmljdDogYm9vbGVhblxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGRlZmluZSB0aGUgbmFtZXMgb2YgdmFyaWFibGUgdG8gYmUgbG9hZGVkXG4gICAgICovXG4gICAgdmFyaWFibGVzOiBUXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gc2V0IHRoZSBkZWZhdWx0IHZhbHVlcyBmb3IgdGhlIHZhcmlhYmxlc1xuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIFtrZXkgaW4gVFtudW1iZXJdXT86IGFueVxuICAgIH1cbn0gJiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjtcbiIsICJcblxuZXhwb3J0IGNvbnN0IEFfTG9nZ2VyRW52VmFyaWFibGVzID0ge1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxvZyBsZXZlbCBmb3IgdGhlIGxvZ2dlclxuICAgICAqIFxuICAgICAqIEBleGFtcGxlICdkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXG4gICAgICovXG4gICAgQV9MT0dHRVJfTEVWRUw6ICdBX0xPR0dFUl9MRVZFTCcsXG5cbiAgICAvKiogICAgIFxuICAgICAqIFNldHMgdGhlIGRlZmF1bHQgc2NvcGUgbGVuZ3RoIGZvciBsb2cgbWVzc2FnZXNcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZSAnQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9MRU5HVEgnXG4gICAgICovXG4gICAgQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9MRU5HVEg6ICdBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0xFTkdUSCcsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBkZWZhdWx0IGNvbG9yIGZvciBzY29wZSBkaXNwbGF5IGluIGxvZyBtZXNzYWdlc1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlICdncmVlbicsICdibHVlJywgJ3JlZCcsICd5ZWxsb3cnLCAnZ3JheScsICdtYWdlbnRhJywgJ2N5YW4nLCAnd2hpdGUnLCAncGluaydcbiAgICAgKi9cbiAgICBBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0NPTE9SOiAnQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9DT0xPUicsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBkZWZhdWx0IGNvbG9yIGZvciBsb2cgbWVzc2FnZSBjb250ZW50XG4gICAgICogXG4gICAgICogQGV4YW1wbGUgJ2dyZWVuJywgJ2JsdWUnLCAncmVkJywgJ3llbGxvdycsICdncmF5JywgJ21hZ2VudGEnLCAnY3lhbicsICd3aGl0ZScsICdwaW5rJ1xuICAgICAqL1xuICAgIEFfTE9HR0VSX0RFRkFVTFRfTE9HX0NPTE9SOiAnQV9MT0dHRVJfREVGQVVMVF9MT0dfQ09MT1InLFxufSBhcyBjb25zdDtcblxuXG5cbmV4cG9ydCBjb25zdCBBX0xvZ2dlckVudlZhcmlhYmxlc0FycmF5ID0gW1xuICAgIEFfTG9nZ2VyRW52VmFyaWFibGVzLkFfTE9HR0VSX0xFVkVMLFxuICAgIEFfTG9nZ2VyRW52VmFyaWFibGVzLkFfTE9HR0VSX0RFRkFVTFRfU0NPUEVfTEVOR1RILFxuICAgIEFfTG9nZ2VyRW52VmFyaWFibGVzLkFfTE9HR0VSX0RFRkFVTFRfU0NPUEVfQ09MT1IsXG4gICAgQV9Mb2dnZXJFbnZWYXJpYWJsZXMuQV9MT0dHRVJfREVGQVVMVF9MT0dfQ09MT1IsXG5dIGFzIGNvbnN0O1xuXG5cbmV4cG9ydCB0eXBlIEFfTG9nZ2VyRW52VmFyaWFibGVzVHlwZSA9ICh0eXBlb2YgQV9Mb2dnZXJFbnZWYXJpYWJsZXMpW2tleW9mIHR5cGVvZiBBX0xvZ2dlckVudlZhcmlhYmxlc11bXTsiLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5cbmV4cG9ydCBjbGFzcyBBX01hbmlmZXN0RXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIHN0YXRpYyByZWFkb25seSBNYW5pZmVzdEluaXRpYWxpemF0aW9uRXJyb3IgPSAnQS1NYW5pZmVzdCBJbml0aWFsaXphdGlvbiBFcnJvcic7XG5cbn1cbiIsICJpbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9NYW5pZmVzdCB9IGZyb20gXCIuLi9BLU1hbmlmZXN0LmNvbnRleHRcIjtcbmltcG9ydCB7IEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0X0FsbG93ZWRDb21wb25lbnRzIH0gZnJvbSBcIi4uL0EtTWFuaWZlc3QudHlwZXNcIjtcblxuLyoqXG4gKiBGbHVlbnQgQVBJIGZvciBjaGVja2luZyBtYW5pZmVzdCBwZXJtaXNzaW9uc1xuICovXG5leHBvcnQgY2xhc3MgQV9NYW5pZmVzdENoZWNrZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIG1hbmlmZXN0OiBBX01hbmlmZXN0LFxuICAgICAgICBwcml2YXRlIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yLFxuICAgICAgICBwcml2YXRlIG1ldGhvZDogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIGNoZWNrRXhjbHVzaW9uOiBib29sZWFuID0gZmFsc2VcbiAgICApIHt9XG5cbiAgICBmb3IodGFyZ2V0OiBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdF9BbGxvd2VkQ29tcG9uZW50cyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLm1hbmlmZXN0LmludGVybmFsX2NoZWNrQWNjZXNzKHtcbiAgICAgICAgICAgIGNvbXBvbmVudDogdGhpcy5jb21wb25lbnQsXG4gICAgICAgICAgICBtZXRob2Q6IHRoaXMubWV0aG9kLFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tFeGNsdXNpb24gPyAhcmVzdWx0IDogcmVzdWx0O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQsIEFfRnJhZ21lbnQsIEFfVHlwZUd1YXJkcywgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0X0luaXQsIEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0X0NvbXBvbmVudExldmVsQ29uZmlnLCBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdF9BbGxvd2VkQ29tcG9uZW50cywgQV9VVElMU19UWVBFU19fTWFuaWZlc3RSdWxlLCBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdFF1ZXJ5IH0gZnJvbSBcIi4vQS1NYW5pZmVzdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9NYW5pZmVzdEVycm9yIH0gZnJvbSBcIi4vQS1NYW5pZmVzdC5lcnJvclwiO1xuaW1wb3J0IHsgQV9NYW5pZmVzdENoZWNrZXIgfSBmcm9tIFwiLi9jbGFzc2VzL0EtTWFuaWZlc3RDaGVja2VyLmNsYXNzXCI7XG5cblxuXG5cblxuZXhwb3J0IGNsYXNzIEFfTWFuaWZlc3QgZXh0ZW5kcyBBX0ZyYWdtZW50IHtcblxuICAgIHByaXZhdGUgcnVsZXM6IEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0UnVsZVtdID0gW107XG5cbiAgICAvKipcbiAgICAgKiBBLU1hbmlmZXN0IGlzIGEgY29uZmlndXJhdGlvbiBzZXQgdGhhdCBhbGxvd3MgdG8gaW5jbHVkZSBvciBleGNsdWRlIGNvbXBvbmVudCBhcHBsaWNhdGlvbiBmb3IgdGhlIHBhcnRpY3VsYXIgbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIEZvciBleGFtcGxlLCBpZiBBLVNjb3BlIHByb3ZpZGVzIHBvbHltb3JwaGljIEEtQ29tcG9uZW50IHRoYXQgYXBwbGllcyBmb3IgQWxsIEEtRW50aXRpZXMgaW4gaXQgYnV0IHlvdSBoYXZlIGFub3RoZXIgY29tcG9uZW50IHRoYXQgc2hvdWxkIGJlIHVzZWQgZm9yIG9ubHkgT25lIHBhcnRpY3VsYXIgRW50aXR5LCB5b3UgY2FuIHVzZSBBLU1hbmlmZXN0IHRvIHNwZWNpZnkgdGhpcyBiZWhhdmlvci5cbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBCeSBkZWZhdWx0IGlmIENvbXBvbmVudCBpcyBwcm92aWRlZCBpbiB0aGUgc2NvcGUgLSBpdCBhcHBsaWVzIGZvciBhbGwgZW50aXRpZXMgaW4gaXQuIEhvd2V2ZXIsIGlmIHlvdSB3YW50IHRvIGV4Y2x1ZGUgc29tZSBlbnRpdGllcyBvciBpbmNsdWRlIG9ubHkgc29tZSBlbnRpdGllcyBmb3IgdGhlIHBhcnRpY3VsYXIgY29tcG9uZW50IC0geW91IGNhbiB1c2UgQS1NYW5pZmVzdCB0byBkZWZpbmUgdGhpcyBiZWhhdmlvci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gQXJyYXkgb2YgY29tcG9uZW50IGNvbmZpZ3VyYXRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdF9Jbml0ID0gW10pIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogJ0EtTWFuaWZlc3QnLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnByZXBhcmUoY29uZmlnKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFNob3VsZCBjb252ZXJ0IHJlY2VpdmVkIGNvbmZpZ3VyYXRpb24gaW50byBpbnRlcm5hbCBSZWdleHAgYXBwbGljYWJsZSBmb3IgaW50ZXJuYWwgc3RvcmFnZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBwcmVwYXJlKGNvbmZpZzogQV9VVElMU19UWVBFU19fTWFuaWZlc3RfSW5pdCkge1xuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc0FycmF5KGNvbmZpZykpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9NYW5pZmVzdEVycm9yKFxuICAgICAgICAgICAgICAgIEFfTWFuaWZlc3RFcnJvci5NYW5pZmVzdEluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEEtTWFuaWZlc3QgY29uZmlndXJhdGlvbiBzaG91bGQgYmUgYW4gYXJyYXkgb2YgY29uZmlndXJhdGlvbnNgXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBjb25maWcpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0NvbmZpZ0l0ZW0oaXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGEgc2luZ2xlIGNvbmZpZ3VyYXRpb24gaXRlbSBhbmQgY29udmVydCBpdCB0byBpbnRlcm5hbCBydWxlc1xuICAgICAqL1xuICAgIHByaXZhdGUgcHJvY2Vzc0NvbmZpZ0l0ZW0oaXRlbTogQV9VVElMU19UWVBFU19fTWFuaWZlc3RfQ29tcG9uZW50TGV2ZWxDb25maWcpIHtcbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3RvcihpdGVtLmNvbXBvbmVudCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9NYW5pZmVzdEVycm9yKFxuICAgICAgICAgICAgICAgIEFfTWFuaWZlc3RFcnJvci5NYW5pZmVzdEluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEEtTWFuaWZlc3QgY29uZmlndXJhdGlvbiBpdGVtIHNob3VsZCBiZSBhIEEtQ29tcG9uZW50IGNvbnN0cnVjdG9yYFxuICAgICAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBjb21wb25lbnRSZWdleCA9IHRoaXMuY29uc3RydWN0b3JUb1JlZ2V4KGl0ZW0uY29tcG9uZW50KTtcblxuICAgICAgICAvLyBBbHdheXMgYWRkIGNvbXBvbmVudC1sZXZlbCBydWxlIGZpcnN0IChhcHBsaWVzIHRvIGFsbCBtZXRob2RzKVxuICAgICAgICBpZiAoaXRlbS5hcHBseSB8fCBpdGVtLmV4Y2x1ZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZFJlZ2V4ID0gLy4qLzsgLy8gTWF0Y2ggYWxsIG1ldGhvZHNcblxuICAgICAgICAgICAgdGhpcy5ydWxlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRSZWdleCxcbiAgICAgICAgICAgICAgICBtZXRob2RSZWdleCxcbiAgICAgICAgICAgICAgICBhcHBseVJlZ2V4OiBpdGVtLmFwcGx5ID8gdGhpcy5hbGxvd2VkQ29tcG9uZW50c1RvUmVnZXgoaXRlbS5hcHBseSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZXhjbHVkZVJlZ2V4OiBpdGVtLmV4Y2x1ZGUgPyB0aGlzLmFsbG93ZWRDb21wb25lbnRzVG9SZWdleChpdGVtLmV4Y2x1ZGUpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGVuIGFkZCBtZXRob2QtbGV2ZWwgY29uZmlndXJhdGlvbnMgKHRoZXNlIHdpbGwgb3ZlcnJpZGUgY29tcG9uZW50LWxldmVsKVxuICAgICAgICBpZiAoaXRlbS5tZXRob2RzICYmIGl0ZW0ubWV0aG9kcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1ldGhvZENvbmZpZyBvZiBpdGVtLm1ldGhvZHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRob2RSZWdleCA9IHRoaXMubWV0aG9kVG9SZWdleChtZXRob2RDb25maWcubWV0aG9kKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucnVsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFJlZ2V4LFxuICAgICAgICAgICAgICAgICAgICBtZXRob2RSZWdleCxcbiAgICAgICAgICAgICAgICAgICAgYXBwbHlSZWdleDogbWV0aG9kQ29uZmlnLmFwcGx5ID8gdGhpcy5hbGxvd2VkQ29tcG9uZW50c1RvUmVnZXgobWV0aG9kQ29uZmlnLmFwcGx5KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgZXhjbHVkZVJlZ2V4OiBtZXRob2RDb25maWcuZXhjbHVkZSA/IHRoaXMuYWxsb3dlZENvbXBvbmVudHNUb1JlZ2V4KG1ldGhvZENvbmZpZy5leGNsdWRlKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgY29uc3RydWN0b3IgdG8gYSByZWdleCBwYXR0ZXJuXG4gICAgICovXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvclRvUmVnZXgoY3RvcjogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yKTogUmVnRXhwIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3RoaXMuZXNjYXBlUmVnZXgoY3Rvci5uYW1lKX0kYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhIG1ldGhvZCBuYW1lIG9yIHJlZ2V4IHRvIGEgcmVnZXggcGF0dGVyblxuICAgICAqL1xuICAgIHByaXZhdGUgbWV0aG9kVG9SZWdleChtZXRob2Q6IHN0cmluZyB8IFJlZ0V4cCk6IFJlZ0V4cCB7XG4gICAgICAgIGlmIChtZXRob2QgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3RoaXMuZXNjYXBlUmVnZXgobWV0aG9kIGFzIHN0cmluZyl9JGApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYWxsb3dlZCBjb21wb25lbnRzIGFycmF5IG9yIHJlZ2V4IHRvIGEgc2luZ2xlIHJlZ2V4XG4gICAgICovXG4gICAgcHJpdmF0ZSBhbGxvd2VkQ29tcG9uZW50c1RvUmVnZXgoY29tcG9uZW50czogQV9VVElMU19UWVBFU19fTWFuaWZlc3RfQWxsb3dlZENvbXBvbmVudHNbXSB8IFJlZ0V4cCk6IFJlZ0V4cCB7XG4gICAgICAgIGlmIChjb21wb25lbnRzIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhdHRlcm5zID0gY29tcG9uZW50cy5tYXAoY3RvciA9PiB0aGlzLmVzY2FwZVJlZ2V4KGN0b3IubmFtZSkpO1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXigke3BhdHRlcm5zLmpvaW4oJ3wnKX0pJGApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZSBzcGVjaWFsIHJlZ2V4IGNoYXJhY3RlcnMgaW4gYSBzdHJpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGVzY2FwZVJlZ2V4KHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb25maWdJdGVtVG9SZWdleHAoaXRlbTogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yKTogUmVnRXhwIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3JUb1JlZ2V4KGl0ZW0pO1xuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIElEKGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yLCBtZXRob2Q6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gYCR7Y29tcG9uZW50Lm5hbWV9LiR7bWV0aG9kfWA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYSBjb21wb25lbnQgYW5kIG1ldGhvZCBjb21iaW5hdGlvbiBpcyBhbGxvd2VkIGZvciBhIHRhcmdldFxuICAgICAqL1xuICAgIGlzQWxsb3dlZDxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgICAgICBjdG9yOiBUIHwgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+LFxuICAgICAgICBtZXRob2Q6IHN0cmluZ1xuICAgICk6IEFfTWFuaWZlc3RDaGVja2VyIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50Q3RvciA9IHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nID8gY3RvciA6IGN0b3IuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gbmV3IEFfTWFuaWZlc3RDaGVja2VyKHRoaXMsIGNvbXBvbmVudEN0b3IsIG1ldGhvZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgbWV0aG9kIHRvIGNoZWNrIGlmIGFjY2VzcyBpcyBhbGxvd2VkXG4gICAgICovXG4gICAgaW50ZXJuYWxfY2hlY2tBY2Nlc3MocXVlcnk6IEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0UXVlcnkpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IHF1ZXJ5LmNvbXBvbmVudC5uYW1lO1xuICAgICAgICBjb25zdCBtZXRob2ROYW1lID0gcXVlcnkubWV0aG9kO1xuICAgICAgICBjb25zdCB0YXJnZXROYW1lID0gcXVlcnkudGFyZ2V0Lm5hbWU7XG5cbiAgICAgICAgLy8gRmluZCBtYXRjaGluZyBydWxlcywgc29ydGVkIGJ5IHNwZWNpZmljaXR5IChtZXRob2Qtc3BlY2lmaWMgcnVsZXMgZmlyc3QpXG4gICAgICAgIGNvbnN0IG1hdGNoaW5nUnVsZXMgPSB0aGlzLnJ1bGVzXG4gICAgICAgICAgICAuZmlsdGVyKHJ1bGUgPT5cbiAgICAgICAgICAgICAgICBydWxlLmNvbXBvbmVudFJlZ2V4LnRlc3QoY29tcG9uZW50TmFtZSkgJiZcbiAgICAgICAgICAgICAgICBydWxlLm1ldGhvZFJlZ2V4LnRlc3QobWV0aG9kTmFtZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTWV0aG9kLXNwZWNpZmljIHJ1bGVzIChub3QgLiogcGF0dGVybikgc2hvdWxkIGNvbWUgYmVmb3JlIGdlbmVyYWwgcnVsZXNcbiAgICAgICAgICAgICAgICBjb25zdCBhSXNHZW5lcmFsID0gYS5tZXRob2RSZWdleC5zb3VyY2UgPT09ICcuKic7XG4gICAgICAgICAgICAgICAgY29uc3QgYklzR2VuZXJhbCA9IGIubWV0aG9kUmVnZXguc291cmNlID09PSAnLionO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFJc0dlbmVyYWwgJiYgIWJJc0dlbmVyYWwpIHJldHVybiAxOyAgLy8gYiBjb21lcyBmaXJzdFxuICAgICAgICAgICAgICAgIGlmICghYUlzR2VuZXJhbCAmJiBiSXNHZW5lcmFsKSByZXR1cm4gLTE7IC8vIGEgY29tZXMgZmlyc3RcbiAgICAgICAgICAgICAgICByZXR1cm4gMDsgLy8gc2FtZSBwcmlvcml0eVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSWYgbm8gcnVsZXMgbWF0Y2gsIGFsbG93IGJ5IGRlZmF1bHRcbiAgICAgICAgaWYgKG1hdGNoaW5nUnVsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByb2Nlc3MgcnVsZXMgaW4gb3JkZXIgb2Ygc3BlY2lmaWNpdHkgKG1vc3Qgc3BlY2lmaWMgZmlyc3QpXG4gICAgICAgIGZvciAoY29uc3QgcnVsZSBvZiBtYXRjaGluZ1J1bGVzKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIHJ1bGUgaGFzIGFuIGV4Y2x1c2lvbiB0aGF0IG1hdGNoZXMsIGRlbnkgYWNjZXNzXG4gICAgICAgICAgICBpZiAocnVsZS5leGNsdWRlUmVnZXggJiYgcnVsZS5leGNsdWRlUmVnZXgudGVzdCh0YXJnZXROYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgdGhpcyBydWxlIGhhcyBhbiBhcHBseSBsaXN0LCBjaGVjayBpZiB0YXJnZXQgaXMgaW4gaXRcbiAgICAgICAgICAgIGlmIChydWxlLmFwcGx5UmVnZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcnVsZS5hcHBseVJlZ2V4LnRlc3QodGFyZ2V0TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSBoYXZlIHJ1bGVzIGJ1dCBubyBzcGVjaWZpYyBhcHBseS9leGNsdWRlLCBhbGxvdyBieSBkZWZhdWx0XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlzRXhjbHVkZWQ8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgY3RvcjogVCB8IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPixcbiAgICAgICAgbWV0aG9kOiBzdHJpbmdcbiAgICApOiBBX01hbmlmZXN0Q2hlY2tlciB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEN0b3IgPSB0eXBlb2YgY3RvciA9PT0gJ2Z1bmN0aW9uJyA/IGN0b3IgOiBjdG9yLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjtcbiAgICAgICAgcmV0dXJuIG5ldyBBX01hbmlmZXN0Q2hlY2tlcih0aGlzLCBjb21wb25lbnRDdG9yLCBtZXRob2QsIHRydWUpO1xuICAgIH1cbn1cbiIsICJcblxuZXhwb3J0IGVudW0gQV9NZW1vcnlGZWF0dXJlcyB7XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBpbml0aWFsaXphdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkluaXQgPSAnX0FfTWVtb3J5X29uSW5pdCcsXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIGRlc3RydWN0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uRGVzdHJveSA9ICdfQV9NZW1vcnlfb25EZXN0cm95JyxcblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgZXhwaXJhdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkV4cGlyZSA9ICdfQV9NZW1vcnlfb25FeHBpcmUnLFxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBlcnJvciBoYW5kbGluZyBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkVycm9yID0gJ19BX01lbW9yeV9vbkVycm9yJyxcblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgc2VyaWFsaXphdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvblNlcmlhbGl6ZSA9ICdfQV9NZW1vcnlfb25TZXJpYWxpemUnLFxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBzZXQgb3BlcmF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uU2V0ID0gJ19BX01lbW9yeV9vblNldCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBnZXQgb3BlcmF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uR2V0ID0gJ19BX01lbW9yeV9vbkdldCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBkcm9wIG9wZXJhdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkRyb3AgPSAnX0FfTWVtb3J5X29uRHJvcCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBjbGVhciBvcGVyYXRpb24gbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25DbGVhciA9ICdfQV9NZW1vcnlfb25DbGVhcicsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBoYXMgb3BlcmF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uSGFzID0gJ19BX01lbW9yeV9vbkhhcycsXG59IiwgImltcG9ydCB7IEFfRXJyb3IsIEFfRnJhZ21lbnQsIEFfVFlQRVNfX0ZyYWdtZW50X1NlcmlhbGl6ZWQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgZXJyb3IgfSBmcm9tIFwiY29uc29sZVwiO1xuXG5cblxuXG5leHBvcnQgY2xhc3MgQV9NZW1vcnlDb250ZXh0PFxuICAgIF9NZW1vcnlUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgX1NlcmlhbGl6ZWRUeXBlIGV4dGVuZHMgQV9UWVBFU19fRnJhZ21lbnRfU2VyaWFsaXplZCA9IEFfVFlQRVNfX0ZyYWdtZW50X1NlcmlhbGl6ZWRcbj4gZXh0ZW5kcyBBX0ZyYWdtZW50IHtcbiAgICBwcm90ZWN0ZWQgX3N0b3JhZ2U6IE1hcDxrZXlvZiBfTWVtb3J5VHlwZSwgX01lbW9yeVR5cGVba2V5b2YgX01lbW9yeVR5cGVdPiA9IG5ldyBNYXAoKTtcblxuICAgIHNldDxLIGV4dGVuZHMga2V5b2YgX01lbW9yeVR5cGU+KHBhcmFtOiBLLCB2YWx1ZTogX01lbW9yeVR5cGVbS10pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5zZXQocGFyYW0sIHZhbHVlKTtcbiAgICB9XG5cblxuICAgIGdldDxLIGV4dGVuZHMga2V5b2YgX01lbW9yeVR5cGU+KHBhcmFtOiBLKTogX01lbW9yeVR5cGVbS10gfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RvcmFnZS5nZXQocGFyYW0pO1xuICAgIH1cblxuXG4gICAgZGVsZXRlPEsgZXh0ZW5kcyBrZXlvZiBfTWVtb3J5VHlwZT4ocGFyYW06IEspOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5kZWxldGUocGFyYW0pO1xuICAgIH1cblxuXG4gICAgaGFzPEsgZXh0ZW5kcyBrZXlvZiBfTWVtb3J5VHlwZT4ocGFyYW06IEspOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0b3JhZ2UuaGFzKHBhcmFtKTtcbiAgICB9XG5cbiAgICBjbGVhcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5jbGVhcigpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfTWVtb3J5RXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIHN0YXRpYyByZWFkb25seSBNZW1vcnlJbml0aWFsaXphdGlvbkVycm9yID0gJ01lbW9yeSBpbml0aWFsaXphdGlvbiBlcnJvcic7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWVtb3J5RGVzdHJ1Y3Rpb25FcnJvciA9ICdNZW1vcnkgZGVzdHJ1Y3Rpb24gZXJyb3InO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IE1lbW9yeUdldEVycm9yID0gJ01lbW9yeSBHRVQgb3BlcmF0aW9uIGZhaWxlZCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWVtb3J5U2V0RXJyb3IgPSAnTWVtb3J5IFNFVCBvcGVyYXRpb24gZmFpbGVkJztcblxuICAgIHN0YXRpYyByZWFkb25seSBNZW1vcnlEcm9wRXJyb3IgPSAnTWVtb3J5IERST1Agb3BlcmF0aW9uIGZhaWxlZCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWVtb3J5Q2xlYXJFcnJvciA9ICdNZW1vcnkgQ0xFQVIgb3BlcmF0aW9uIGZhaWxlZCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWVtb3J5SGFzRXJyb3IgPSAnTWVtb3J5IEhBUyBvcGVyYXRpb24gZmFpbGVkJztcblxuICAgIHN0YXRpYyByZWFkb25seSBNZW1vcnlTZXJpYWxpemVFcnJvciA9ICdNZW1vcnkgdG9KU09OIG9wZXJhdGlvbiBmYWlsZWQnO1xufVxuIiwgImltcG9ydCB7IEFfQ29tcG9uZW50LCBBX0luamVjdCwgQV9TY29wZSwgQV9GZWF0dXJlLCBBX0RlcGVuZGVuY3ksIEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX01lbW9yeUZlYXR1cmVzIH0gZnJvbSBcIi4vQS1NZW1vcnkuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX01lbW9yeUNvbnRleHQgfSBmcm9tIFwiLi9BLU1lbW9yeS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX01lbW9yeUVycm9yIH0gZnJvbSBcIi4vQS1NZW1vcnkuZXJyb3JcIjtcbmltcG9ydCB7IEFfT3BlcmF0aW9uQ29udGV4dCB9IGZyb20gXCIuLi9BLU9wZXJhdGlvbi9BLU9wZXJhdGlvbi5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX01lbW9yeU9wZXJhdGlvbkNvbnRleHQgfSBmcm9tIFwiLi9BLU1lbW9yeS50eXBlc1wiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX01lbW9yeTxcbiAgICBfU3RvcmFnZVR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PixcbiAgICBfU2VyaWFsaXplZFR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PlxuPiBleHRlbmRzIEFfQ29tcG9uZW50IHtcblxuICAgIHByb3RlY3RlZCBfcmVhZHk/OiBQcm9taXNlPHZvaWQ+XG5cblxuICAgIGdldCByZWFkeSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9yZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5fcmVhZHkgPSB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZHk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT1BLU1lbW9yeSBMaWZlY3ljbGUgSG9va3M9PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBlcnJvcnMgZHVyaW5nIG1lbW9yeSBvcGVyYXRpb25zXG4gICAgICovXG4gICAgYXN5bmMgW0FfTWVtb3J5RmVhdHVyZXMub25FcnJvcl0oLi4uYXJnczogYW55W10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSGFuZGxlIGVycm9yXG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgbWVtb3J5IGV4cGlyYXRpb25cbiAgICAgKi9cbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vbkV4cGlyZV0oLi4uYXJnczogYW55W10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gQ2xlYXIgbWVtb3J5IG9uIGV4cGlyZVxuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgbWVtb3J5IGNvbnRleHRcbiAgICAgKi9cbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vbkluaXRdKFxuICAgICAgICBAQV9JbmplY3QoQV9NZW1vcnlDb250ZXh0KSBjb250ZXh0OiBBX01lbW9yeUNvbnRleHQ8X1N0b3JhZ2VUeXBlPixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBtZW1vcnlcbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gbmV3IEFfTWVtb3J5Q29udGV4dDxfU3RvcmFnZVR5cGU+KCk7XG4gICAgICAgICAgICBBX0NvbnRleHQuc2NvcGUodGhpcykucmVnaXN0ZXIoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgYXN5bmMgW0FfTWVtb3J5RmVhdHVyZXMub25EZXN0cm95XShcbiAgICAgICAgQEFfSW5qZWN0KEFfTWVtb3J5Q29udGV4dCkgY29udGV4dDogQV9NZW1vcnlDb250ZXh0PF9TdG9yYWdlVHlwZT4sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIENsZWFudXAgbWVtb3J5XG4gICAgICAgIGNvbnRleHQuY2xlYXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSAnZ2V0JyBvcGVyYXRpb24gZm9yIHJldHJpZXZpbmcgYSB2YWx1ZSBmcm9tIG1lbW9yeVxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vbkdldF0oXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9PcGVyYXRpb25Db250ZXh0KSBvcGVyYXRpb246IEFfTWVtb3J5T3BlcmF0aW9uQ29udGV4dCxcbiAgICAgICAgQEFfSW5qZWN0KEFfTWVtb3J5Q29udGV4dCkgY29udGV4dDogQV9NZW1vcnlDb250ZXh0PF9TdG9yYWdlVHlwZT4sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEhhbmRsZSBnZXQgb3BlcmF0aW9uXG4gICAgICAgIG9wZXJhdGlvbi5zdWNjZWVkKGNvbnRleHQuZ2V0KG9wZXJhdGlvbi5wYXJhbXMua2V5KSk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlICdoYXMnIG9wZXJhdGlvbiBmb3IgY2hlY2tpbmcgZXhpc3RlbmNlIG9mIGEga2V5IGluIG1lbW9yeVxuICAgICAqL1xuICAgIGFzeW5jIFtBX01lbW9yeUZlYXR1cmVzLm9uSGFzXShcbiAgICAgICAgQEFfRGVwZW5kZW5jeS5SZXF1aXJlZCgpXG4gICAgICAgIEBBX0luamVjdChBX09wZXJhdGlvbkNvbnRleHQpIG9wZXJhdGlvbjogQV9NZW1vcnlPcGVyYXRpb25Db250ZXh0PGJvb2xlYW4+LFxuICAgICAgICBAQV9JbmplY3QoQV9NZW1vcnlDb250ZXh0KSBjb250ZXh0OiBBX01lbW9yeUNvbnRleHQ8X1N0b3JhZ2VUeXBlPixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSGFuZGxlIGhhcyBvcGVyYXRpb25cbiAgICAgICAgb3BlcmF0aW9uLnN1Y2NlZWQoY29udGV4dC5oYXMob3BlcmF0aW9uLnBhcmFtcy5rZXkpKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgJ3NldCcgb3BlcmF0aW9uIGZvciBzYXZpbmcgYSB2YWx1ZSBpbiBtZW1vcnlcbiAgICAgKi9cbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vblNldF0oXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9PcGVyYXRpb25Db250ZXh0KSBvcGVyYXRpb246IEFfTWVtb3J5T3BlcmF0aW9uQ29udGV4dCxcbiAgICAgICAgQEFfSW5qZWN0KEFfTWVtb3J5Q29udGV4dCkgY29udGV4dDogQV9NZW1vcnlDb250ZXh0PF9TdG9yYWdlVHlwZT4sXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSGFuZGxlIHNldCBvcGVyYXRpb25cbiAgICAgICAgY29udGV4dC5zZXQob3BlcmF0aW9uLnBhcmFtcy5rZXksIG9wZXJhdGlvbi5wYXJhbXMudmFsdWUpO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSAnZHJvcCcgb3BlcmF0aW9uIGZvciByZW1vdmluZyBhIHZhbHVlIGZyb20gbWVtb3J5XG4gICAgICovXG4gICAgYXN5bmMgW0FfTWVtb3J5RmVhdHVyZXMub25Ecm9wXShcbiAgICAgICAgQEFfRGVwZW5kZW5jeS5SZXF1aXJlZCgpXG4gICAgICAgIEBBX0luamVjdChBX09wZXJhdGlvbkNvbnRleHQpIG9wZXJhdGlvbjogQV9NZW1vcnlPcGVyYXRpb25Db250ZXh0LFxuICAgICAgICBAQV9JbmplY3QoQV9NZW1vcnlDb250ZXh0KSBjb250ZXh0OiBBX01lbW9yeUNvbnRleHQ8X1N0b3JhZ2VUeXBlPixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSGFuZGxlIGRyb3Agb3BlcmF0aW9uXG4gICAgICAgIGNvbnRleHQuZGVsZXRlKG9wZXJhdGlvbi5wYXJhbXMua2V5KTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgJ2NsZWFyJyBvcGVyYXRpb24gZm9yIGNsZWFyaW5nIGFsbCB2YWx1ZXMgZnJvbSBtZW1vcnlcbiAgICAgKi9cbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vbkNsZWFyXShcbiAgICAgICAgQEFfRGVwZW5kZW5jeS5SZXF1aXJlZCgpXG4gICAgICAgIEBBX0luamVjdChBX09wZXJhdGlvbkNvbnRleHQpIG9wZXJhdGlvbjogQV9NZW1vcnlPcGVyYXRpb25Db250ZXh0LFxuICAgICAgICBAQV9JbmplY3QoQV9NZW1vcnlDb250ZXh0KSBjb250ZXh0OiBBX01lbW9yeUNvbnRleHQ8X1N0b3JhZ2VUeXBlPixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSGFuZGxlIGNsZWFyIG9wZXJhdGlvblxuICAgICAgICBjb250ZXh0LmNsZWFyKCk7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09QS1NZW1vcnkgTWV0aG9kcz09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIG1lbW9yeSBjb250ZXh0XG4gICAgICovXG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlYWR5KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5O1xuXG4gICAgICAgIGNvbnN0IHNjb3BlID0gbmV3IEFfU2NvcGUoeyBuYW1lOiAnQS1NZW1vcnktSW5pdC1TY29wZScgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uSW5pdCwgc2NvcGUpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBpbml0RXJyb3IgPSBuZXcgQV9NZW1vcnlFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfTWVtb3J5RXJyb3IuTWVtb3J5SW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FuIGVycm9yIG9jY3VycmVkIGR1cmluZyBtZW1vcnkgaW5pdGlhbGl6YXRpb24nLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBzY29wZS5yZWdpc3Rlcihpbml0RXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkVycm9yLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgaW5pdEVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIG1lbW9yeSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyByZXNwb25zaWJsZSBmb3IgY2xlYW5pbmcgdXAgYW55IHJlc291cmNlc1xuICAgICAqIHVzZWQgYnkgdGhlIG1lbW9yeSBjb250ZXh0IGFuZCByZXNldHRpbmcgaXRzIHN0YXRlLlxuICAgICAqL1xuICAgIGFzeW5jIGRlc3Ryb3koKSB7XG5cbiAgICAgICAgY29uc3Qgc2NvcGUgPSBuZXcgQV9TY29wZSh7IG5hbWU6ICdBLU1lbW9yeS1EZXN0cm95LVNjb3BlJyB9KVxuICAgICAgICAgICAgLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fcmVhZHkgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uRGVzdHJveSwgc2NvcGUpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBkZXN0cm95RXJyb3IgPSBuZXcgQV9NZW1vcnlFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfTWVtb3J5RXJyb3IuTWVtb3J5RGVzdHJ1Y3Rpb25FcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FuIGVycm9yIG9jY3VycmVkIGR1cmluZyBtZW1vcnkgZGVzdHJ1Y3Rpb24nLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBzY29wZS5yZWdpc3RlcihkZXN0cm95RXJyb3IpO1xuXG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uRXJyb3IsIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyBkZXN0cm95RXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgICogUmV0cmlldmVzIGEgdmFsdWUgZnJvbSB0aGUgY29udGV4dCBtZW1vcnlcbiAgICAgICogXG4gICAgICAqIEBwYXJhbSBrZXkgLSBtZW1vcnkga2V5IHRvIHJldHJpZXZlXG4gICAgICAqIEByZXR1cm5zIC0gdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBrZXkgb3IgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZFxuICAgICAgKi9cbiAgICBhc3luYyBnZXQ8SyBleHRlbmRzIGtleW9mIF9TdG9yYWdlVHlwZT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZXkgdG8gcmV0cmlldmUgdGhlIHZhbHVlIGZvclxuICAgICAgICAgKi9cbiAgICAgICAga2V5OiBLXG4gICAgKTogUHJvbWlzZTxfU3RvcmFnZVR5cGVbS10gfCB1bmRlZmluZWQ+IHtcblxuICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBuZXcgQV9PcGVyYXRpb25Db250ZXh0KCdnZXQnLCB7IGtleSB9KTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6ICdBLU1lbW9yeS1HZXQtT3BlcmF0aW9uLVNjb3BlJyxcbiAgICAgICAgICAgIGZyYWdtZW50czogW29wZXJhdGlvbl1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25HZXQsIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gb3BlcmF0aW9uLnJlc3VsdDtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZ2V0RXJyb3IgPSBuZXcgQV9NZW1vcnlFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfTWVtb3J5RXJyb3IuTWVtb3J5R2V0RXJyb3IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBnZXR0aW5nIHRoZSB2YWx1ZSBmb3Iga2V5IFwiJHtTdHJpbmcoa2V5KX1cImAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzY29wZS5yZWdpc3RlcihnZXRFcnJvcik7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uRXJyb3IsIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyBnZXRFcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHZhbHVlIGV4aXN0cyBpbiB0aGUgY29udGV4dCBtZW1vcnlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ga2V5IC0gbWVtb3J5IGtleSB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIC0gdHJ1ZSBpZiBrZXkgZXhpc3RzLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBhc3luYyBoYXMoa2V5OiBrZXlvZiBfU3RvcmFnZVR5cGUpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gbmV3IEFfT3BlcmF0aW9uQ29udGV4dCgnaGFzJywgeyBrZXkgfSk7XG5cbiAgICAgICAgY29uc3Qgc2NvcGUgPSBuZXcgQV9TY29wZSh7XG4gICAgICAgICAgICBuYW1lOiAnQS1NZW1vcnktSGFzLU9wZXJhdGlvbi1TY29wZScsXG4gICAgICAgICAgICBmcmFnbWVudHM6IFtvcGVyYXRpb25dXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uSGFzLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9wZXJhdGlvbi5yZXN1bHQ7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGdldEVycm9yID0gbmV3IEFfTWVtb3J5RXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBBX01lbW9yeUVycm9yLk1lbW9yeUhhc0Vycm9yLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY2hlY2tpbmcgZXhpc3RlbmNlIGZvciBrZXkgXCIke1N0cmluZyhrZXkpfVwiYCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKGdldEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25FcnJvciwgc2NvcGUpO1xuXG4gICAgICAgICAgICBzY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHRocm93IGdldEVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2F2ZXMgYSB2YWx1ZSBpbiB0aGUgY29udGV4dCBtZW1vcnlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ga2V5IFxuICAgICAqIEBwYXJhbSB2YWx1ZSBcbiAgICAgKi9cbiAgICBhc3luYyBzZXQ8SyBleHRlbmRzIGtleW9mIF9TdG9yYWdlVHlwZT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZXkgdG8gc2F2ZSB0aGUgdmFsdWUgdW5kZXJcbiAgICAgICAgICovXG4gICAgICAgIGtleTogSyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZhbHVlIHRvIHNhdmVcbiAgICAgICAgICovXG4gICAgICAgIHZhbHVlOiBfU3RvcmFnZVR5cGVbS11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gbmV3IEFfT3BlcmF0aW9uQ29udGV4dCgnc2V0JywgeyBrZXksIHZhbHVlIH0pO1xuXG4gICAgICAgIGNvbnN0IHNjb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgbmFtZTogJ0EtTWVtb3J5LVNldC1PcGVyYXRpb24tU2NvcGUnLFxuICAgICAgICAgICAgZnJhZ21lbnRzOiBbb3BlcmF0aW9uXVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vblNldCwgc2NvcGUpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBzZXRFcnJvciA9IG5ldyBBX01lbW9yeUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9NZW1vcnlFcnJvci5NZW1vcnlTZXRFcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHNldHRpbmcgdGhlIHZhbHVlIGZvciBrZXkgXCIke1N0cmluZyhrZXkpfVwiYCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKHNldEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25FcnJvciwgc2NvcGUpO1xuXG4gICAgICAgICAgICBzY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHRocm93IHNldEVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgdmFsdWUgZnJvbSB0aGUgY29udGV4dCBtZW1vcnkgYnkga2V5XG4gICAgICogXG4gICAgICogQHBhcmFtIGtleSBcbiAgICAgKi9cbiAgICBhc3luYyBkcm9wKGtleToga2V5b2YgX1N0b3JhZ2VUeXBlKTogUHJvbWlzZTx2b2lkPiB7XG5cbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gbmV3IEFfT3BlcmF0aW9uQ29udGV4dCgnZHJvcCcsIHsga2V5IH0pO1xuXG4gICAgICAgIGNvbnN0IHNjb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgbmFtZTogJ0EtTWVtb3J5LURyb3AtT3BlcmF0aW9uLVNjb3BlJyxcbiAgICAgICAgICAgIGZyYWdtZW50czogW29wZXJhdGlvbl1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25Ecm9wLCBzY29wZSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGRyb3BFcnJvciA9IG5ldyBBX01lbW9yeUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9NZW1vcnlFcnJvci5NZW1vcnlEcm9wRXJyb3IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBkcm9wcGluZyB0aGUgdmFsdWUgZm9yIGtleSBcIiR7U3RyaW5nKGtleSl9XCJgLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2NvcGUucmVnaXN0ZXIoZHJvcEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25FcnJvciwgc2NvcGUpO1xuXG4gICAgICAgICAgICBzY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHRocm93IGRyb3BFcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgc3RvcmVkIHZhbHVlcyBpbiB0aGUgY29udGV4dCBtZW1vcnlcbiAgICAgKi9cbiAgICBhc3luYyBjbGVhcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gbmV3IEFfT3BlcmF0aW9uQ29udGV4dCgnY2xlYXInKTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6ICdBLU1lbW9yeS1DbGVhci1PcGVyYXRpb24tU2NvcGUnLFxuICAgICAgICAgICAgZnJhZ21lbnRzOiBbb3BlcmF0aW9uXVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkNsZWFyLCBzY29wZSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFyRXJyb3IgPSBuZXcgQV9NZW1vcnlFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfTWVtb3J5RXJyb3IuTWVtb3J5Q2xlYXJFcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGNsZWFyaW5nIHRoZSBtZW1vcnlgLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2NvcGUucmVnaXN0ZXIoY2xlYXJFcnJvcik7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uRXJyb3IsIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyBjbGVhckVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemVzIHRoZSBtZW1vcnkgY29udGV4dCB0byBhIEpTT04gb2JqZWN0XG4gICAgICogIFxuICAgICAqIEByZXR1cm5zIC0gc2VyaWFsaXplZCBtZW1vcnkgb2JqZWN0IFxuICAgICAqL1xuICAgIGFzeW5jIHRvSlNPTigpOiBQcm9taXNlPF9TZXJpYWxpemVkVHlwZT4ge1xuICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBuZXcgQV9PcGVyYXRpb25Db250ZXh0KCdzZXJpYWxpemUnKTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6ICdBLU1lbW9yeS1TZXJpYWxpemUtT3BlcmF0aW9uLVNjb3BlJyxcbiAgICAgICAgICAgIGZyYWdtZW50czogW29wZXJhdGlvbl1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25TZXJpYWxpemUsIHNjb3BlKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9wZXJhdGlvbi5yZXN1bHQgYXMgX1NlcmlhbGl6ZWRUeXBlO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJpYWxpemVFcnJvciA9IG5ldyBBX01lbW9yeUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9NZW1vcnlFcnJvci5NZW1vcnlTZXJpYWxpemVFcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHNlcmlhbGl6aW5nIHRoZSBtZW1vcnlgLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2NvcGUucmVnaXN0ZXIoc2VyaWFsaXplRXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkVycm9yLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgc2VyaWFsaXplRXJyb3I7XG4gICAgICAgIH1cblxuICAgIH1cbn0iLCAiZXhwb3J0IGVudW0gQV9TZXJ2aWNlRmVhdHVyZXMge1xuXG4gICAgb25CZWZvcmVMb2FkID0gJ19BX1NlcnZpY2Vfb25CZWZvcmVMb2FkJyxcbiAgICBvbkxvYWQgPSAnX0FfU2VydmljZV9vbkxvYWQnLFxuICAgIG9uQWZ0ZXJMb2FkID0gJ19BX1NlcnZpY2Vfb25BZnRlckxvYWQnLFxuXG4gICAgb25CZWZvcmVTdGFydCA9ICdfQV9TZXJ2aWNlX29uQmVmb3JlU3RhcnQnLFxuICAgIG9uU3RhcnQgPSAnX0FfU2VydmljZV9vblN0YXJ0JyxcbiAgICBvbkFmdGVyU3RhcnQgPSAnX0FfU2VydmljZV9vbkFmdGVyU3RhcnQnLFxuXG4gICAgb25CZWZvcmVTdG9wID0gJ19BX1NlcnZpY2Vfb25CZWZvcmVTdG9wJyxcbiAgICBvblN0b3AgPSAnX0FfU2VydmljZV9vblN0b3AnLFxuICAgIG9uQWZ0ZXJTdG9wID0gJ19BX1NlcnZpY2Vfb25BZnRlclN0b3AnLFxuXG5cbiAgICBvbkVycm9yID0gJ19BX1NlcnZpY2Vfb25FcnJvcicsXG59IiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfU2VydmljZV9FcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IFNlcnZpY2VMb2FkRXJyb3IgPSAnU2VydmljZSBsb2FkIGVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBTZXJ2aWNlU3RhcnRFcnJvciA9ICdTZXJ2aWNlIHN0YXJ0IGVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBTZXJ2aWNlU3RvcEVycm9yID0gJ1NlcnZpY2Ugc3RvcCBlcnJvcic7XG5cbiAgICBcblxufSIsICJpbXBvcnQgeyBBX0NvbmNlcHQsIEFfQ29udGFpbmVyLCBBX0Vycm9yLCBBX0ZlYXR1cmUsIEFfSW5qZWN0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfU2VydmljZUZlYXR1cmVzIH0gZnJvbSBcIi4vQS1TZXJ2aWNlLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9Qb2x5ZmlsbCB9IGZyb20gXCIuLi9BLVBvbHlmaWxsL0EtUG9seWZpbGwuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBX0NvbmZpZyB9IGZyb20gXCIuLi9BLUNvbmZpZy9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCIuLi9BLUxvZ2dlci9BLUxvZ2dlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfU2VydmljZV9FcnJvciB9IGZyb20gXCIuL0EtU2VydmljZS5lcnJvclwiO1xuXG5cblxuXG4vKipcbiAqIEEtU2VydmljZSBpcyBhIGNvbnRhaW5lciB0aGF0IGNhbiBydW4gZGlmZmVyZW50IHR5cGVzIG9mIHNlcnZpY2VzLCBzdWNoIGFzIEhUVFAgc2VydmVycywgd29ya2VycywgZXRjLlxuICogRGVwZW5kaW5nIG9uIHRoZSBwcm92aWRlZCBjb25maWcgYW5kIGNvbmZpZ3VyYXRpb24sIGl0IHdpbGwgbG9hZCB0aGUgbmVjZXNzYXJ5IGNvbXBvbmVudHMgYW5kIHN0YXJ0IHRoZSBzZXJ2aWNlLlxuICogXG4gKi9cbmV4cG9ydCBjbGFzcyBBX1NlcnZpY2UgZXh0ZW5kcyBBX0NvbnRhaW5lciB7XG5cblxuICAgIEBBX0NvbmNlcHQuTG9hZCgpXG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgc2VydmljZVxuICAgICAqL1xuICAgIGFzeW5jIGxvYWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TZXJ2aWNlRmVhdHVyZXMub25CZWZvcmVMb2FkKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uTG9hZCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1NlcnZpY2VGZWF0dXJlcy5vbkFmdGVyTG9hZCk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgICAgICAgbGV0IHdyYXBwZWRFcnJvcjtcblxuICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBlcnJvciBpbnN0YW5jZW9mIEFfU2VydmljZV9FcnJvcjpcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEVycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBlcnJvciBpbnN0YW5jZW9mIEFfRXJyb3IgJiYgZXJyb3Iub3JpZ2luYWxFcnJvciBpbnN0YW5jZW9mIEFfU2VydmljZV9FcnJvcjpcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEVycm9yID0gZXJyb3Iub3JpZ2luYWxFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRXJyb3IgPSBuZXcgQV9TZXJ2aWNlX0Vycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBBX1NlcnZpY2VfRXJyb3IuU2VydmljZUxvYWRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcHJvY2Vzc2luZyB0aGUgcmVxdWVzdC4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2NvcGUucmVnaXN0ZXIod3JhcHBlZEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uRXJyb3IpO1xuICAgICAgICB9XG5cbiAgICB9XG5cblxuICAgIEBBX0NvbmNlcHQuU3RhcnQoKVxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBzZXJ2ZXJcbiAgICAgKi9cbiAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1NlcnZpY2VGZWF0dXJlcy5vbkJlZm9yZVN0YXJ0KTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uU3RhcnQpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TZXJ2aWNlRmVhdHVyZXMub25BZnRlclN0YXJ0KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICAgICAgICBsZXQgd3JhcHBlZEVycm9yO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGVycm9yIGluc3RhbmNlb2YgQV9TZXJ2aWNlX0Vycm9yOlxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIGVycm9yIGluc3RhbmNlb2YgQV9FcnJvciAmJiBlcnJvci5vcmlnaW5hbEVycm9yIGluc3RhbmNlb2YgQV9TZXJ2aWNlX0Vycm9yOlxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRXJyb3IgPSBlcnJvci5vcmlnaW5hbEVycm9yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZWRFcnJvciA9IG5ldyBBX1NlcnZpY2VfRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IEFfU2VydmljZV9FcnJvci5TZXJ2aWNlU3RhcnRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcHJvY2Vzc2luZyB0aGUgcmVxdWVzdC4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2NvcGUucmVnaXN0ZXIod3JhcHBlZEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uRXJyb3IpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBAQV9Db25jZXB0LlN0b3AoKVxuICAgIC8qKlxuICAgICAqIFN0b3AgdGhlIHNlcnZlclxuICAgICAqL1xuICAgIGFzeW5jIHN0b3AoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TZXJ2aWNlRmVhdHVyZXMub25CZWZvcmVTdG9wKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uU3RvcCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1NlcnZpY2VGZWF0dXJlcy5vbkFmdGVyU3RvcCk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgICAgICAgbGV0IHdyYXBwZWRFcnJvcjtcblxuICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBlcnJvciBpbnN0YW5jZW9mIEFfU2VydmljZV9FcnJvcjpcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEVycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBlcnJvciBpbnN0YW5jZW9mIEFfRXJyb3IgJiYgZXJyb3Iub3JpZ2luYWxFcnJvciBpbnN0YW5jZW9mIEFfU2VydmljZV9FcnJvcjpcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEVycm9yID0gZXJyb3Iub3JpZ2luYWxFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRXJyb3IgPSBuZXcgQV9TZXJ2aWNlX0Vycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBBX1NlcnZpY2VfRXJyb3IuU2VydmljZVN0b3BFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcHJvY2Vzc2luZyB0aGUgcmVxdWVzdC4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2NvcGUucmVnaXN0ZXIod3JhcHBlZEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uRXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBBLVNlcnZpY2UgTGlmZWN5Y2xlID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vbkJlZm9yZUxvYWRdKFxuICAgICAgICBAQV9JbmplY3QoQV9Qb2x5ZmlsbCkgcG9seWZpbGw6IEFfUG9seWZpbGwsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEluaXRpYWxpemUgUG9seWZpbGxcbiAgICAgICAgaWYgKCFwb2x5ZmlsbCkge1xuICAgICAgICAgICAgdGhpcy5zY29wZS5yZWdpc3RlcihBX1BvbHlmaWxsKTtcbiAgICAgICAgICAgIHBvbHlmaWxsID0gdGhpcy5zY29wZS5yZXNvbHZlKEFfUG9seWZpbGwpIVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25Mb2FkXSguLi5hcmdzOiBhbnlbXSkgeyB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vbkFmdGVyTG9hZF0oLi4uYXJnczogYW55W10pIHsgfVxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vbkJlZm9yZVN0YXJ0XSguLi5hcmdzOiBhbnlbXSkgeyB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vblN0YXJ0XSguLi5hcmdzOiBhbnlbXSkgeyB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jICBbQV9TZXJ2aWNlRmVhdHVyZXMub25BZnRlclN0YXJ0XSguLi5hcmdzOiBhbnlbXSkgeyB9XG5cblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25CZWZvcmVTdG9wXSguLi5hcmdzOiBhbnlbXSkgeyB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vblN0b3BdKC4uLmFyZ3M6IGFueVtdKSB7IH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfU2VydmljZUZlYXR1cmVzLm9uQWZ0ZXJTdG9wXSguLi5hcmdzOiBhbnlbXSkgeyB9XG5cblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBiZWZvcmU6IC8uKi9cbiAgICB9KVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25FcnJvcl0oXG4gICAgICAgIEBBX0luamVjdChBX0Vycm9yKSBlcnJvcjogQV9FcnJvcixcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI/OiBBX0xvZ2dlcixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgbG9nZ2VyPy5lcnJvcihlcnJvcik7XG4gICAgfVxuXG59XG5cblxuXG5cblxuXG5cblxuIiwgImltcG9ydCB7IEFfRnJhZ21lbnQgfSBmcm9tICdAYWRhYXMvYS1jb25jZXB0JztcblxuXG5cbmV4cG9ydCBjbGFzcyBBX1JvdXRlPFxuICAgIF9UUGFyYW1zIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgX1RRdWVyeSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cbiAgICBwdWJsaWMgdXJsITogc3RyaW5nO1xuXG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgdXJsOiBzdHJpbmcgfCBSZWdFeHAsXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudXJsID0gdXJsIGluc3RhbmNlb2YgUmVnRXhwID8gdXJsLnNvdXJjZSA6IHVybDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHBhdGggb25seSB3aXRob3V0IHF1ZXJ5IGFuZCBoYXNoXG4gICAgICovXG4gICAgZ2V0IHBhdGgoKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgcCA9IHRoaXMudXJsLnNwbGl0KCc/JylbMF0uc3BsaXQoJyMnKVswXTtcblxuXG4gICAgICAgIC8vICBlbnN1cmUgdGhhdCBsYXN0IGNoYXIgaXMgbm90IC9cbiAgICAgICAgLy8gIGFuZCByZW1vdmUgcHJvdG9jb2wgYW5kIGRvbWFpbiBpZiBwcmVzZW50XG4gICAgICAgIGlmIChwLmluY2x1ZGVzKCc6Ly8nKSkge1xuICAgICAgICAgICAgY29uc3QgcGF0aFN0YXJ0SW5kZXggPSBwLmluZGV4T2YoJy8nLCBwLmluZGV4T2YoJzovLycpICsgMyk7XG4gICAgICAgICAgICBpZiAocGF0aFN0YXJ0SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcvJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IHAuc2xpY2UocGF0aFN0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoLmVuZHNXaXRoKCcvJykgPyBwYXRoLnNsaWNlKDAsIC0xKSA6IHBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHAuZW5kc1dpdGgoJy8nKSA/IHAuc2xpY2UoMCwgLTEpIDogcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhcnJheSBvZiBwYXJhbWV0ZXIgbmFtZXMgaW4gdGhlIHJvdXRlIHBhdGhcbiAgICAgKi9cbiAgICBnZXQgcGFyYW1zKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aFxuICAgICAgICAgICAgLm1hdGNoKC86KFteXFwvXSspL2cpXG4gICAgICAgICAgICA/Lm1hcCgocGFyYW0pID0+IHBhcmFtLnNsaWNlKDEpKVxuICAgICAgICAgICAgfHwgW107XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHByb3RvY29sIGJhc2VkIG9uIFVSTCBzY2hlbWVcbiAgICAgKi9cbiAgICBnZXQgcHJvdG9jb2woKTogc3RyaW5nIHtcbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIHRoaXMudXJsLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2h0dHAnO1xuICAgICAgICAgICAgY2FzZSB0aGlzLnVybC5zdGFydHNXaXRoKCdodHRwczovLycpOlxuICAgICAgICAgICAgICAgIHJldHVybiAnaHR0cHMnO1xuICAgICAgICAgICAgY2FzZSB0aGlzLnVybC5zdGFydHNXaXRoKCd3czovLycpOlxuICAgICAgICAgICAgICAgIHJldHVybiAnd3MnO1xuICAgICAgICAgICAgY2FzZSB0aGlzLnVybC5zdGFydHNXaXRoKCd3c3M6Ly8nKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3dzcyc7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVybC5pbmNsdWRlcygnOi8vJykgPyB0aGlzLnVybC5zcGxpdCgnOi8vJylbMF0gOiAnaHR0cCc7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGV4dHJhY3RQYXJhbXModXJsOiBzdHJpbmcpOiBfVFBhcmFtcyB7XG4gICAgICAgIC8vIFJlbW92ZSBxdWVyeSBzdHJpbmcgKGFueXRoaW5nIGFmdGVyID8pXG4gICAgICAgIGNvbnN0IGNsZWFuVXJsID0gdXJsLnNwbGl0KCc/JylbMF07XG5cbiAgICAgICAgY29uc3QgdXJsU2VnbWVudHMgPSBjbGVhblVybC5zcGxpdCgnLycpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3QgbWFza1NlZ21lbnRzID0gdGhpcy5wYXRoLnNwbGl0KCcvJykuZmlsdGVyKEJvb2xlYW4pO1xuXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFza1NlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IG1hc2tTZWdtZW50ID0gbWFza1NlZ21lbnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgdXJsU2VnbWVudCA9IHVybFNlZ21lbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAobWFza1NlZ21lbnQuc3RhcnRzV2l0aCgnOicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1OYW1lID0gbWFza1NlZ21lbnQuc2xpY2UoMSk7IC8vIFJlbW92ZSAnOicgZnJvbSBtYXNrXG4gICAgICAgICAgICAgICAgcGFyYW1zW3BhcmFtTmFtZV0gPSB1cmxTZWdtZW50O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXNrU2VnbWVudCAhPT0gdXJsU2VnbWVudCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHN0YXRpYyBzZWdtZW50cyBkb27igJl0IG1hdGNoIOKGkiBmYWlsXG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9IGFzIF9UUGFyYW1zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhcmFtcyBhcyBfVFBhcmFtcztcbiAgICB9XG5cbiAgICBleHRyYWN0UXVlcnkodXJsOiBzdHJpbmcpOiBfVFF1ZXJ5IHtcbiAgICAgICAgY29uc3QgcXVlcnk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICAgICAgICAvLyBUYWtlIG9ubHkgdGhlIHBhcnQgYWZ0ZXIgXCI/XCJcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSB1cmwuc3BsaXQoJz8nKVsxXTtcbiAgICAgICAgaWYgKCFxdWVyeVN0cmluZykgcmV0dXJuIHF1ZXJ5IGFzIF9UUXVlcnk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGZyYWdtZW50ICgjLi4uKSBpZiBwcmVzZW50XG4gICAgICAgIGNvbnN0IGNsZWFuUXVlcnkgPSBxdWVyeVN0cmluZy5zcGxpdCgnIycpWzBdO1xuXG4gICAgICAgIC8vIFNwbGl0IGludG8ga2V5PXZhbHVlIHBhaXJzXG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBjbGVhblF1ZXJ5LnNwbGl0KCcmJykpIHtcbiAgICAgICAgICAgIGlmICghcGFpcikgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBba2V5LCB2YWx1ZSA9ICcnXSA9IHBhaXIuc3BsaXQoJz0nKTtcbiAgICAgICAgICAgIHF1ZXJ5W2RlY29kZVVSSUNvbXBvbmVudChrZXkpXSA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcXVlcnkgYXMgX1RRdWVyeTtcbiAgICB9XG5cblxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgLy8gcGF0aCBjYW4gYmUgbGlrZSAvYXBpL3YxL3VzZXJzLzppZFxuICAgICAgICAvLyBhbmQgYmVjYXVzZSBvZiB0aGF0IDppZCB3ZSBuZWVkIHRvIHJlcGxhY2UgaXQgd2l0aCByZWdleCB0aGF0IG1hdGNoZXMgY2hhcnMgYW5kIG51bWJlcnMgb25seSAgIFxuICAgICAgICByZXR1cm4gYCR7dGhpcy5wYXRofWA7XG4gICAgICAgIC8vIC5yZXBsYWNlKC9cXC86KFteXFwvXSspL2csICdcXFxcLyhbXlxcL10rKScpXG4gICAgfVxuXG4gICAgdG9SZWdFeHAoKTogUmVnRXhwIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3RoaXMucGF0aC5yZXBsYWNlKC9cXC86KFteXFwvXSspL2csICcvKFteL10rKScpfSRgKTtcbiAgICB9XG5cbiAgICB0b0FGZWF0dXJlRXh0ZW5zaW9uKGV4dGVuc2lvblNjb3BlOiBBcnJheTxzdHJpbmc+ID0gW10pOiBSZWdFeHAge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7ZXh0ZW5zaW9uU2NvcGUubGVuZ3RoXG4gICAgICAgICAgICA/IGAoJHtleHRlbnNpb25TY29wZS5qb2luKCd8Jyl9KWBcbiAgICAgICAgICAgIDogJy4qJ1xuICAgICAgICAgICAgfVxcXFwuJHt0aGlzLnBhdGgucmVwbGFjZSgvXFwvOihbXlxcL10rKS9nLCAnLyhbXi9dKyknKX0kYCk7XG4gICAgfVxufVxuXG4iLCAiXG5leHBvcnQgZW51bSBBX1NpZ25hbEZlYXR1cmVzIHtcbiAgICBOZXh0ID0gJ19BX1NpZ25hbEZlYXR1cmVzX05leHQnLFxufVxuXG5cblxuZXhwb3J0IGVudW0gQV9TaWduYWxWZWN0b3JGZWF0dXJlcyB7XG4gICAgTmV4dCA9ICdfQV9TaWduYWxWZWN0b3JGZWF0dXJlc19OZXh0Jyxcbn0iLCAiaW1wb3J0IHsgQV9FbnRpdHksIEFfU2NvcGUgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9TaWduYWxfSW5pdCwgQV9TaWduYWxfU2VyaWFsaXplZCB9IGZyb20gXCIuLi9BLVNpZ25hbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9TaWduYWxGZWF0dXJlcyB9IGZyb20gXCIuLi9BLVNpZ25hbC5jb25zdGFudHNcIjtcblxuLyoqXG4gKiBBIFNpZ25hbCBFbnRpdHkgaXMgYW4gaW5kaXZpZHVhbCBzaWduYWwgaW5zdGFuY2UgdGhhdCBjYXJyaWVzIGRhdGEuXG4gKiBTaWduYWxzIGlzIGEgZXZlbnQgdHlwZXMgdGhhdCB1c2VzIGZvciB2ZWN0b3JzIG9mIHNpZ25hbHMgdG8gYmUgdXNlZCBmb3IgZnVydGhlciBwcm9jZXNzaW5nLiBcbiAqIFxuICogQ29tcGFyaW5nIHRvIHN0YW5kYXJkIGV2ZW50cywgc2lnbmFscyBzaG91bGQgYmUgdXNlZCBpbiBjYXNlIHdoZW4gdGhlIGV2ZW50IGltcGFjdHMgc29tZSBcInN0YXRlXCIgXG4gKiBhbmQgdGhlIHN0YXRlIHNob3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIGV2ZW50IGl0c2VsZi5cbiAqIFxuICogRm9yIGV4YW1wbGUsIGEgc2lnbmFsIGNhbiByZXByZXNlbnQgdGhlIGN1cnJlbnQgc3RhdHVzIG9mIGEgdXNlciAob25saW5lL29mZmxpbmUvYXdheSksIFxuICogd2hpbGUgYW4gZXZlbnQgd291bGQgcmVwcmVzZW50IGEgc2luZ2xlIGFjdGlvbiAodXNlciBsb2dnZWQgaW4vbG9nZ2VkIG91dCkuXG4gKiBcbiAqIFNpZ25hbHMgYXJlIHR5cGljYWxseSB1c2VkIGluIHNjZW5hcmlvcyB3aGVyZSB0aGUgY3VycmVudCBzdGF0ZSBpcyBtb3JlIGltcG9ydGFudCB0aGFuIGluZGl2aWR1YWwgZXZlbnRzLCBcbiAqIHN1Y2ggYXMgbW9uaXRvcmluZyBzeXN0ZW1zLCByZWFsLXRpbWUgZGFzaGJvYXJkcywgb3Igc3RhdGVmdWwgYXBwbGljYXRpb25zLlxuICovXG5leHBvcnQgY2xhc3MgQV9TaWduYWw8XG4gICAgX1RTaWduYWxEYXRhVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGV4dGVuZHMgQV9FbnRpdHk8QV9TaWduYWxfSW5pdDxfVFNpZ25hbERhdGFUeXBlPiwgQV9TaWduYWxfU2VyaWFsaXplZDxfVFNpZ25hbERhdGFUeXBlPj4ge1xuXG4gICAgZGF0YSE6IF9UU2lnbmFsRGF0YVR5cGU7XG5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgZGVmYXVsdCBkYXRhIGZvciB0aGUgc2lnbmFsLlxuICAgICAqIFxuICAgICAqIElmIG5vIGRhdGEgaXMgcHJvdmlkZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLCB0aGUgZGVmYXVsdCBkYXRhIHdpbGwgYmUgdXNlZC5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgZGVmYXVsdCgpOiBQcm9taXNlPEFfU2lnbmFsIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG5cblxuICAgIGZyb21KU09OKHNlcmlhbGl6ZWRFbnRpdHk6IEFfU2lnbmFsX1NlcmlhbGl6ZWQ8X1RTaWduYWxEYXRhVHlwZT4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuZnJvbUpTT04oc2VyaWFsaXplZEVudGl0eSk7XG4gICAgICAgIHRoaXMuZGF0YSA9IHNlcmlhbGl6ZWRFbnRpdHkuZGF0YTtcbiAgICB9XG5cblxuICAgIGZyb21OZXcobmV3RW50aXR5OiBBX1NpZ25hbF9Jbml0PF9UU2lnbmFsRGF0YVR5cGU+KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYXNlaWQgPSB0aGlzLmdlbmVyYXRlQVNFSUQoeyBlbnRpdHk6IG5ld0VudGl0eS5uYW1lIH0pO1xuICAgICAgICB0aGlzLmRhdGEgPSBuZXdFbnRpdHkuZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbWl0cyB0aGlzIHNpZ25hbCB3aXRoaW4gdGhlIHByb3ZpZGVkIHNjb3BlLlxuICAgICAqIFxuICAgICAqIFNjb3BlIGlzIG1hbmRhdG9yeSBzaW5jZSBzaWduYWwgaXRzZWxmIHNob3VsZCBub3QgYmUgcmVnaXN0ZXJlZCBpbiB0aGUgc2NvcGUsIFxuICAgICAqIGJ1dCBzaG91bGQgdXNlIHBhcnRpY3VsYXIgc2NvcGUgY29udGV4dCB0byB1c2UgcHJvcGVyIHNldCBvZiBjb21wb25lbnRzXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlIFxuICAgICAqL1xuICAgIGFzeW5jIG5leHQoc2NvcGU6IEFfU2NvcGUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2lnbmFsRmVhdHVyZXMuTmV4dCwgc2NvcGUpO1xuICAgIH1cblxuXG4gICAgdG9KU09OKCk6IEFfU2lnbmFsX1NlcmlhbGl6ZWQ8X1RTaWduYWxEYXRhVHlwZT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBkYXRhOiB0aGlzLmRhdGFcbiAgICAgICAgfTtcbiAgICB9XG5cbn0iLCAiaW1wb3J0IHsgQV9FbnRpdHksIEFfU2NvcGUsIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciwgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfU2lnbmFsVmVjdG9yX1NlcmlhbGl6ZWQsIEFfU2lnbmFsVmVjdG9yX0luaXQgfSBmcm9tIFwiLi4vQS1TaWduYWwudHlwZXNcIjtcbmltcG9ydCB7IEFfU2lnbmFsIH0gZnJvbSBcIi4vQS1TaWduYWwuZW50aXR5XCI7XG5pbXBvcnQgeyBBX1NpZ25hbFZlY3RvckZlYXR1cmVzIH0gZnJvbSBcIi4uL0EtU2lnbmFsLmNvbnN0YW50c1wiO1xuXG5cbi8qKlxuICogQSBTaWduYWwgVmVjdG9yIEVudGl0eSBpcyBhIGNvbGxlY3Rpb24gb2Ygc2lnbmFscyBzdHJ1Y3R1cmVkIGluIGEgc3BlY2lmaWMgd2F5LlxuICogSXQgYWxsb3dzIGdyb3VwaW5nIG11bHRpcGxlIHNpZ25hbHMgdG9nZXRoZXIgZm9yIGJhdGNoIHByb2Nlc3Npbmcgb3IgdHJhbnNtaXNzaW9uLlxuICogXG4gKiBTaWduYWwgVmVjdG9ycyBhcmUgdXNlZnVsIGluIHNjZW5hcmlvcyB3aGVyZSBtdWx0aXBsZSByZWxhdGVkIHNpZ25hbHMgbmVlZCB0byBiZSBoYW5kbGVkIHRvZ2V0aGVyLFxuICogYXMgYSBzdGF0ZSBvZiB0aGUgc3lzdGVtIG9yIGEgc25hcHNob3Qgb2YgdmFyaW91cyBwYXJhbWV0ZXJzIGF0IGEgZ2l2ZW4gdGltZS5cbiAqIFxuICogQHRlbXBsYXRlIFRTaWduYWxzQ29uc3RydWN0b3JzIC0gQXJyYXkgb2Ygc2lnbmFsIGNvbnN0cnVjdG9yIHR5cGVzIChlLmcuLCBbdHlwZW9mIE15U2lnbmFsLCB0eXBlb2YgQ3VzdG9tU2lnbmFsXSlcbiAqIEB0ZW1wbGF0ZSBUU2lnbmFscyAtIEFycmF5IG9mIHNpZ25hbCBpbnN0YW5jZXMgZGVyaXZlZCBmcm9tIGNvbnN0cnVjdG9yc1xuICovXG5leHBvcnQgY2xhc3MgQV9TaWduYWxWZWN0b3I8XG4gICAgVFNpZ25hbHMgZXh0ZW5kcyBBcnJheTxBX1NpZ25hbD4gPSBBcnJheTxBX1NpZ25hbD4sXG4gICAgVFNpZ25hbHNDb25zdHJ1Y3RvcnMgZXh0ZW5kcyBBcnJheTxBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8QV9TaWduYWw+PiA9IFRTaWduYWxzIGV4dGVuZHMgQXJyYXk8aW5mZXIgVT4gPyBVIGV4dGVuZHMgQV9TaWduYWwgPyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VT5bXSA6IG5ldmVyIDogbmV2ZXJcbj4gZXh0ZW5kcyBBX0VudGl0eTxBX1NpZ25hbFZlY3Rvcl9Jbml0PFRTaWduYWxzW251bWJlcl1bXSwgVFNpZ25hbHNDb25zdHJ1Y3RvcnM+LCBBX1NpZ25hbFZlY3Rvcl9TZXJpYWxpemVkPiB7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RydWN0dXJlIG9mIHRoZSBzaWduYWwgdmVjdG9yLCBkZWZpbmluZyB0aGUgdHlwZXMgb2Ygc2lnbmFscyBpdCBjb250YWlucy5cbiAgICAgKiBcbiAgICAgKiBGb3IgZXhhbXBsZTpcbiAgICAgKiBbVXNlclNpZ25JblNpZ25hbCwgVXNlclN0YXR1c1NpZ25hbCwgVXNlckFjdGl2aXR5U2lnbmFsXVxuICAgICAqIFxuICAgICAqIFshXSBpZiBub3QgcHJvdmlkZWQsIGl0IHdpbGwgYmUgZGVyaXZlZCBmcm9tIHRoZSBzaWduYWxzIHZhbHVlcy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3N0cnVjdHVyZT86IFRTaWduYWxzQ29uc3RydWN0b3JzO1xuICAgIC8qKlxuICAgICAqIEl0J3MgYWN0dWFsIHZlY3RvciBWYWx1ZXMgb2YgU2lnbmFscyBsaWtlIDpcbiAgICAgKiBbVXNlckFjdGlvblNpZ25hbCwgVXNlck1vdXNlUG9zaXRpb25TaWduYWwsIEV4dGVybmFsRGVwZW5kZW5jeVNpZ25hbF1cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3NpZ25hbHMhOiBUU2lnbmFsc1tudW1iZXJdW11cblxuXG4gICAgZnJvbU5ldyhuZXdFbnRpdHk6IEFfU2lnbmFsVmVjdG9yX0luaXQ8VFNpZ25hbHNbbnVtYmVyXVtdLCBUU2lnbmFsc0NvbnN0cnVjdG9ycz4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuZnJvbU5ldyhuZXdFbnRpdHkpO1xuICAgICAgICB0aGlzLl9zdHJ1Y3R1cmUgPSBuZXdFbnRpdHkuc3RydWN0dXJlO1xuICAgICAgICB0aGlzLl9zaWduYWxzID0gbmV3RW50aXR5LnZhbHVlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RydWN0dXJlIG9mIHRoZSBzaWduYWwgdmVjdG9yLCBkZWZpbmluZyB0aGUgdHlwZXMgb2Ygc2lnbmFscyBpdCBjb250YWlucy5cbiAgICAgKiBcbiAgICAgKiBGb3IgZXhhbXBsZTpcbiAgICAgKiBbVXNlclNpZ25JblNpZ25hbCwgVXNlclN0YXR1c1NpZ25hbCwgVXNlckFjdGl2aXR5U2lnbmFsXVxuICAgICAqIFxuICAgICAqL1xuICAgIGdldCBzdHJ1Y3R1cmUoKTogVFNpZ25hbHNDb25zdHJ1Y3RvcnMge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RydWN0dXJlIHx8IHRoaXMuX3NpZ25hbHMubWFwKHMgPT4gcy5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8QV9TaWduYWw+KSBhcyBUU2lnbmFsc0NvbnN0cnVjdG9ycztcbiAgICB9XG5cblxuICAgIGdldCBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlLmxlbmd0aDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgaXRlcmF0aW9uIG92ZXIgdGhlIHNpZ25hbHMgaW4gdGhlIHZlY3Rvci5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYXRvcjxUU2lnbmFsc1tudW1iZXJdPiB7XG4gICAgICAgIGxldCBwb2ludGVyID0gMDtcbiAgICAgICAgY29uc3Qgc2lnbmFscyA9IHRoaXMuc3RydWN0dXJlLm1hcCgoc2lnbmFsQ29uc3RydWN0b3IpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNpZ25hbEluZGV4ID0gdGhpcy5fc2lnbmFscy5maW5kSW5kZXgocyA9PiBzLmNvbnN0cnVjdG9yID09PSBzaWduYWxDb25zdHJ1Y3Rvcik7XG4gICAgICAgICAgICByZXR1cm4gc2lnbmFsSW5kZXggIT09IC0xID8gdGhpcy5fc2lnbmFsc1tzaWduYWxJbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIH0pIGFzIFRTaWduYWxzW251bWJlcl1bXTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmV4dCgpOiBJdGVyYXRvclJlc3VsdDxUU2lnbmFsc1tudW1iZXJdPiB7XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50ZXIgPCBzaWduYWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc2lnbmFsc1twb2ludGVyKytdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkIGFzIGFueVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEVtaXRzIHRoZSBzaWduYWwgdmVjdG9yIHRvIHRoZSBzcGVjaWZpZWQgc2NvcGUuXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlXG4gICAgICovXG4gICAgYXN5bmMgbmV4dChzY29wZTogQV9TY29wZSk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jYWxsKEFfU2lnbmFsVmVjdG9yRmVhdHVyZXMuTmV4dCwgc2NvcGUpO1xuICAgIH1cblxuICAgIFxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgdmVjdG9yIGNvbnRhaW5zIGEgc2lnbmFsIG9mIHRoZSBzcGVjaWZpZWQgdHlwZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2lnbmFsIFxuICAgICAqL1xuICAgIGhhcyhzaWduYWw6IEFfU2lnbmFsKTogYm9vbGVhblxuICAgIGhhcyhzaWduYWxDb25zdHJ1Y3RvcjogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPik6IGJvb2xlYW5cbiAgICBoYXMocGFyYW0xOiBBX1NpZ25hbCB8IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4pOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHNpZ25hbENvbnN0cnVjdG9yOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8QV9TaWduYWw+O1xuICAgICAgICBpZiAocGFyYW0xIGluc3RhbmNlb2YgQV9FbnRpdHkpIHtcbiAgICAgICAgICAgIHNpZ25hbENvbnN0cnVjdG9yID0gcGFyYW0xLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaWduYWxDb25zdHJ1Y3RvciA9IHBhcmFtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmUuaW5jbHVkZXMoc2lnbmFsQ29uc3RydWN0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgc2lnbmFsIG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBmcm9tIHRoZSB2ZWN0b3IuXG4gICAgICogXG4gICAgICogQHBhcmFtIHNpZ25hbCBcbiAgICAgKi9cbiAgICBnZXQ8VCBleHRlbmRzIEFfU2lnbmFsPihzaWduYWw6IFQpOiBUIHwgdW5kZWZpbmVkXG4gICAgZ2V0PFQgZXh0ZW5kcyBBX1NpZ25hbD4oc2lnbmFsQ29uc3RydWN0b3I6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPik6IFQgfCB1bmRlZmluZWRcbiAgICBnZXQ8VCBleHRlbmRzIEFfU2lnbmFsPihwYXJhbTE6IFQgfCBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD4pOiBUIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgbGV0IHNpZ25hbENvbnN0cnVjdG9yOiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8QV9TaWduYWw+O1xuXG4gICAgICAgIGlmIChwYXJhbTEgaW5zdGFuY2VvZiBBX0VudGl0eSkge1xuICAgICAgICAgICAgc2lnbmFsQ29uc3RydWN0b3IgPSBwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPEFfU2lnbmFsPjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNpZ25hbENvbnN0cnVjdG9yID0gcGFyYW0xIGFzIEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxBX1NpZ25hbD47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3NpZ25hbHMuZmluZEluZGV4KHMgPT4gcy5jb25zdHJ1Y3RvciA9PT0gc2lnbmFsQ29uc3RydWN0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zaWduYWxzW2luZGV4XSBhcyBUO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdG8gQXJyYXkgb2YgdmFsdWVzIG9mIHNpZ25hbHMgaW4gdGhlIHZlY3RvclxuICAgICAqIE1haW50YWlucyB0aGUgb3JkZXIgc3BlY2lmaWVkIGluIHRoZSBzdHJ1Y3R1cmUvZ2VuZXJpYyB0eXBlXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0cnVjdHVyZSAtIE9wdGlvbmFsIHN0cnVjdHVyZSB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBvcmRlcmluZ1xuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIHNpZ25hbCBpbnN0YW5jZXMgaW4gdGhlIHNwZWNpZmllZCBvcmRlclxuICAgICAqL1xuICAgIGFzeW5jIHRvVmVjdG9yPFxuICAgICAgICBUIGV4dGVuZHMgQXJyYXk8QV9TaWduYWw+ID0gVFNpZ25hbHMsXG4gICAgPihcbiAgICAgICAgc3RydWN0dXJlPzogeyBbSyBpbiBrZXlvZiBUXTogVFtLXSBleHRlbmRzIEFfU2lnbmFsID8gQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPFRbS10+IDogbmV2ZXIgfVxuICAgICk6IFByb21pc2U8eyBbSyBpbiBrZXlvZiBUXTogVFtLXSB9PiB7XG4gICAgICAgIGNvbnN0IHVzZWRTdHJ1Y3R1cmUgPSBzdHJ1Y3R1cmUgfHwgdGhpcy5zdHJ1Y3R1cmU7XG5cbiAgICAgICAgcmV0dXJuIHVzZWRTdHJ1Y3R1cmUubWFwKChzaWduYWxDb25zdHJ1Y3RvcikgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2lnbmFsSW5kZXggPSB0aGlzLl9zaWduYWxzLmZpbmRJbmRleChzID0+IHMuY29uc3RydWN0b3IgPT09IHNpZ25hbENvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIHJldHVybiBzaWduYWxJbmRleCAhPT0gLTEgPyB0aGlzLl9zaWduYWxzW3NpZ25hbEluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSkgYXMgeyBbSyBpbiBrZXlvZiBUXTogVFtLXSB9O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdG8gQXJyYXkgb2YgZGF0YSBvZiBzaWduYWxzIGluIHRoZSB2ZWN0b3JcbiAgICAgKiBNYWludGFpbnMgdGhlIG9yZGVyIHNwZWNpZmllZCBpbiB0aGUgc3RydWN0dXJlL2dlbmVyaWMgdHlwZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHJ1Y3R1cmUgLSBPcHRpb25hbCBzdHJ1Y3R1cmUgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3JkZXJpbmdcbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiBzZXJpYWxpemVkIHNpZ25hbCBkYXRhIGluIHRoZSBzcGVjaWZpZWQgb3JkZXJcbiAgICAgKi9cbiAgICBhc3luYyB0b0RhdGFWZWN0b3I8XG4gICAgICAgIFQgZXh0ZW5kcyBBcnJheTxBX1NpZ25hbD4gPSBUU2lnbmFscyxcbiAgICA+KFxuICAgICAgICBzdHJ1Y3R1cmU/OiB7IFtLIGluIGtleW9mIFRdOiBUW0tdIGV4dGVuZHMgQV9TaWduYWwgPyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VFtLXT4gOiBuZXZlciB9XG4gICAgKTogUHJvbWlzZTx7IFtLIGluIGtleW9mIFRdOiBUW0tdIGV4dGVuZHMgQV9TaWduYWw8aW5mZXIgRD4gPyBEIHwgdW5kZWZpbmVkIDogbmV2ZXIgfT4ge1xuXG4gICAgICAgIGNvbnN0IHVzZWRTdHJ1Y3R1cmUgPSBzdHJ1Y3R1cmUgfHwgdGhpcy5zdHJ1Y3R1cmU7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0czogQXJyYXk8YW55PiA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3Qgc2lnbmFsQ29uc3RydWN0b3Igb2YgdXNlZFN0cnVjdHVyZSkge1xuICAgICAgICAgICAgY29uc3Qgc2lnbmFsSW5kZXggPSB0aGlzLl9zaWduYWxzLmZpbmRJbmRleChzID0+IHMuY29uc3RydWN0b3IgPT09IHNpZ25hbENvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIGxldCBkYXRhOiBhbnk7XG4gICAgICAgICAgICBpZiAoc2lnbmFsSW5kZXggPT09IC0xKSB7XG5cbiAgICAgICAgICAgICAgICBkYXRhID0gYXdhaXQgKHNpZ25hbENvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX1NpZ25hbCkuZGVmYXVsdCgpXG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmFsID0gdGhpcy5fc2lnbmFsc1tzaWduYWxJbmRleF07XG4gICAgICAgICAgICAgICAgZGF0YSA9IHNpZ25hbDtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICByZXN1bHRzLnB1c2goZGF0YT8udG9KU09OKCkuZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0cyBhcyB7IFtLIGluIGtleW9mIFRdOiBUW0tdIGV4dGVuZHMgQV9TaWduYWw8aW5mZXIgRD4gPyBEIHwgdW5kZWZpbmVkIDogbmV2ZXIgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0byBPYmplY3Qgd2l0aCBzaWduYWwgY29uc3RydWN0b3IgbmFtZXMgYXMga2V5cyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBkYXRhIHZhbHVlc1xuICAgICAqIFVzZXMgdGhlIHN0cnVjdHVyZSBvcmRlcmluZyB0byBlbnN1cmUgY29uc2lzdGVudCBrZXkgb3JkZXJpbmdcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBPYmplY3Qgd2l0aCBzaWduYWwgY29uc3RydWN0b3IgbmFtZXMgYXMga2V5cyBhbmQgc2lnbmFsIGRhdGEgYXMgdmFsdWVzXG4gICAgICovXG4gICAgYXN5bmMgdG9PYmplY3Q8XG4gICAgICAgIFQgZXh0ZW5kcyBBcnJheTxBX1NpZ25hbD4gPSBUU2lnbmFscyxcbiAgICA+KFxuICAgICAgICBzdHJ1Y3R1cmU/OiB7IFtLIGluIGtleW9mIFRdOiBUW0tdIGV4dGVuZHMgQV9TaWduYWwgPyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VFtLXT4gOiBuZXZlciB9XG4gICAgKTogUHJvbWlzZTx7IFtrZXk6IHN0cmluZ106IFRbbnVtYmVyXSBleHRlbmRzIEFfU2lnbmFsPGluZmVyIEQ+ID8gRCB8IHVuZGVmaW5lZCA6IG5ldmVyIH0+IHtcblxuICAgICAgICBjb25zdCB1c2VkU3RydWN0dXJlID0gc3RydWN0dXJlIHx8IHRoaXMuc3RydWN0dXJlO1xuXG4gICAgICAgIGNvbnN0IG9iajogeyBba2V5OiBzdHJpbmddOiBUW251bWJlcl0gZXh0ZW5kcyBBX1NpZ25hbDxpbmZlciBEPiA/IEQgfCB1bmRlZmluZWQgOiBuZXZlciB9ID0ge307XG4gICAgICAgIHVzZWRTdHJ1Y3R1cmUuZm9yRWFjaCgoc2lnbmFsQ29uc3RydWN0b3IpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNpZ25hbE5hbWUgPSBzaWduYWxDb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgY29uc3Qgc2lnbmFsSW5kZXggPSB0aGlzLl9zaWduYWxzLmZpbmRJbmRleChzID0+IHMuY29uc3RydWN0b3IgPT09IHNpZ25hbENvbnN0cnVjdG9yKTtcblxuICAgICAgICAgICAgaWYgKHNpZ25hbEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25hbCA9IHRoaXMuX3NpZ25hbHNbc2lnbmFsSW5kZXhdO1xuICAgICAgICAgICAgICAgIG9ialtzaWduYWxOYW1lXSA9IHNpZ25hbC50b0pTT04oKS5kYXRhIGFzIGFueTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqW3NpZ25hbE5hbWVdID0gdW5kZWZpbmVkIGFzIGFueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIFNpZ25hbCBWZWN0b3IgdG8gYSBKU09OLWNvbXBhdGlibGUgZm9ybWF0LlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvSlNPTigpOiBBX1NpZ25hbFZlY3Rvcl9TZXJpYWxpemVkIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN1cGVyLnRvSlNPTigpLFxuICAgICAgICAgICAgc3RydWN0dXJlOiB0aGlzLnN0cnVjdHVyZS5tYXAocyA9PiBzLm5hbWUpLFxuICAgICAgICAgICAgdmFsdWVzOiB0aGlzLl9zaWduYWxzLm1hcChzID0+IHMudG9KU09OKCkpXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwgImltcG9ydCB7IEFfQ29udGV4dCwgQV9GcmFnbWVudCwgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfU2lnbmFsIH0gZnJvbSBcIi4uL2VudGl0aWVzL0EtU2lnbmFsLmVudGl0eVwiO1xuaW1wb3J0IHsgQV9TaWduYWxWZWN0b3IgfSBmcm9tIFwiLi4vZW50aXRpZXMvQS1TaWduYWxWZWN0b3IuZW50aXR5XCI7XG5cbi8qKlxuICogQV9TaWduYWxTdGF0ZSBtYW5hZ2VzIHRoZSBsYXRlc3Qgc3RhdGUgb2YgYWxsIHNpZ25hbHMgd2l0aGluIGEgZ2l2ZW4gc2NvcGUuXG4gKiBcbiAqIFRoaXMgY2xhc3MgbWFpbnRhaW5zIGEgbWFwcGluZyBiZXR3ZWVuIHNpZ25hbCBjb25zdHJ1Y3RvcnMgYW5kIHRoZWlyIG1vc3QgcmVjZW50bHkgZW1pdHRlZCB2YWx1ZXMsXG4gKiBwcm92aWRpbmcgYSBjZW50cmFsaXplZCBzdGF0ZSBzdG9yZSBmb3Igc2lnbmFsIG1hbmFnZW1lbnQgd2l0aGluIGFuIGFwcGxpY2F0aW9uIGNvbnRleHQuXG4gKiBcbiAqIEB0ZW1wbGF0ZSBUU2lnbmFsRGF0YSAtIFVuaW9uIHR5cGUgb2YgYWxsIHBvc3NpYmxlIHNpZ25hbCBkYXRhIHR5cGVzIHRoYXQgY2FuIGJlIHN0b3JlZCAobXVzdCBleHRlbmQgUmVjb3JkPHN0cmluZywgYW55PilcbiAqIFxuICogVGhlIGdlbmVyaWMgZW5zdXJlcyB0eXBlIHNhZmV0eSBieSBtYWludGFpbmluZyBjb3JyZXNwb25kZW5jZSBiZXR3ZWVuOlxuICogLSBTaWduYWwgY29uc3RydWN0b3IgdHlwZXMgYW5kIHRoZWlyIGRhdGEgdHlwZXNcbiAqIC0gU2lnbmFsIGluc3RhbmNlcyBhbmQgdGhlaXIgZW1pdHRlZCB2YWx1ZSB0eXBlc1xuICogLSBWZWN0b3Igc3RydWN0dXJlIGFuZCB0aGUgZGF0YSBpdCBjb250YWluc1xuICovXG5leHBvcnQgY2xhc3MgQV9TaWduYWxTdGF0ZTxcbiAgICBUU2lnbmFsRGF0YSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBtYXAgc3RvcmluZyB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gc2lnbmFsIGNvbnN0cnVjdG9ycyBhbmQgdGhlaXIgbGF0ZXN0IHZhbHVlc1xuICAgICAqIEtleTogU2lnbmFsIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXG4gICAgICogVmFsdWU6IExhdGVzdCBlbWl0dGVkIGRhdGEgZnJvbSB0aGF0IHNpZ25hbCB0eXBlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9zdGF0ZTogTWFwPEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4sIEFfU2lnbmFsPiA9IG5ldyBNYXAoKTtcblxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIHN0cnVjdHVyZSBkZWZpbmluZyB0aGUgb3JkZXJlZCBsaXN0IG9mIHNpZ25hbCBjb25zdHJ1Y3RvcnNcbiAgICAgKiBVc2VkIGZvciB2ZWN0b3Igb3BlcmF0aW9ucyBhbmQgaW5pdGlhbGl6YXRpb25cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3N0cnVjdHVyZTogQXJyYXk8QV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPj47XG5cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG9yZGVyZWQgc3RydWN0dXJlIG9mIHNpZ25hbCBjb25zdHJ1Y3RvcnNcbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiBzaWduYWwgY29uc3RydWN0b3JzIGluIHRoZWlyIGRlZmluZWQgb3JkZXJcbiAgICAgKi9cbiAgICBnZXQgc3RydWN0dXJlKCk6IEFycmF5PEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0cnVjdHVyZSB8fCBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEFfU2lnbmFsU3RhdGUgaW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RydWN0dXJlIC0gT3B0aW9uYWwgYXJyYXkgZGVmaW5pbmcgdGhlIG9yZGVyZWQgc3RydWN0dXJlIG9mIHNpZ25hbCBjb25zdHJ1Y3RvcnNcbiAgICAgKiAgICAgICAgICAgICAgICAgICBUaGlzIHN0cnVjdHVyZSBpcyB1c2VkIGZvciB2ZWN0b3Igb3BlcmF0aW9ucyBhbmQgZGV0ZXJtaW5lcyB0aGUgb3JkZXJcbiAgICAgKiAgICAgICAgICAgICAgICAgICBpbiB3aGljaCBzaWduYWxzIGFyZSBwcm9jZXNzZWQgYW5kIHNlcmlhbGl6ZWRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgc3RydWN0dXJlOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8QV9TaWduYWw+W11cbiAgICApIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiBcIkFfU2lnbmFsU3RhdGVcIiB9KTtcblxuICAgICAgICB0aGlzLl9zdHJ1Y3R1cmUgPSBzdHJ1Y3R1cmU7XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgc3RhdGUgbWFwIHdpdGggdW5kZWZpbmVkIHZhbHVlcyBmb3IgZWFjaCBzaWduYWwgaW4gdGhlIHN0cnVjdHVyZVxuICAgICAgICAvLyBUaGlzIGVuc3VyZXMgYWxsIGV4cGVjdGVkIHNpZ25hbHMgaGF2ZSBlbnRyaWVzIGluIHRoZSBzdGF0ZSBtYXAgZnJvbSB0aGUgc3RhcnRcbiAgICAgIFxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGF0ZXN0IHZhbHVlIGZvciBhIHNwZWNpZmljIHNpZ25hbCB0eXBlXG4gICAgICogXG4gICAgICogQHBhcmFtIHNpZ25hbCAtIFRoZSBzaWduYWwgY29uc3RydWN0b3IgdG8gYXNzb2NpYXRlIHRoZSB2YWx1ZSB3aXRoXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIGRhdGEgdmFsdWUgZW1pdHRlZCBieSB0aGUgc2lnbmFsXG4gICAgICovXG4gICAgc2V0KFxuICAgICAgICBzaWduYWw6IEFfU2lnbmFsLFxuICAgICAgICB2YWx1ZTogQV9TaWduYWxcbiAgICApOiB2b2lkXG4gICAgc2V0KFxuICAgICAgICBzaWduYWw6IEFfU2lnbmFsXG4gICAgKTogdm9pZFxuICAgIHNldChcbiAgICAgICAgc2lnbmFsOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8QV9TaWduYWw+LFxuICAgICAgICB2YWx1ZTogQV9TaWduYWxcbiAgICApOiB2b2lkXG4gICAgc2V0KFxuICAgICAgICBwYXJhbTE6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4gfCBBX1NpZ25hbCxcbiAgICAgICAgcGFyYW0yPzogQV9TaWduYWxcbiAgICApOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gcGFyYW0xIGluc3RhbmNlb2YgQV9TaWduYWwgPyBwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPiA6IHBhcmFtMTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbTEgaW5zdGFuY2VvZiBBX1NpZ25hbCA/IHBhcmFtMSA6IHBhcmFtMiE7XG5cbiAgICAgICAgdGhpcy5fc3RhdGUuc2V0KHNpZ25hbCwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbGF0ZXN0IHZhbHVlIGZvciBhIHNwZWNpZmljIHNpZ25hbCB0eXBlXG4gICAgICogXG4gICAgICogQHBhcmFtIHNpZ25hbCAtIFRoZSBzaWduYWwgY29uc3RydWN0b3IgdG8gZ2V0IHRoZSB2YWx1ZSBmb3JcbiAgICAgKiBAcmV0dXJucyBUaGUgbGF0ZXN0IGRhdGEgdmFsdWUgb3IgdW5kZWZpbmVkIGlmIG5vIHZhbHVlIGhhcyBiZWVuIHNldFxuICAgICAqL1xuICAgIGdldChcbiAgICAgICAgc2lnbmFsOiBBX1NpZ25hbFxuICAgICk6IEFfU2lnbmFsIHwgdW5kZWZpbmVkXG4gICAgZ2V0KFxuICAgICAgICBzaWduYWw6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD5cbiAgICApOiBBX1NpZ25hbCB8IHVuZGVmaW5lZFxuICAgIGdldChcbiAgICAgICAgcGFyYW06IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4gfCBBX1NpZ25hbFxuICAgICk6IEFfU2lnbmFsIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gcGFyYW0gaW5zdGFuY2VvZiBBX1NpZ25hbCA/IHBhcmFtLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4gOiBwYXJhbTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlLmdldChzaWduYWwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHNpZ25hbCB0eXBlIGhhcyBiZWVuIHJlZ2lzdGVyZWQgaW4gdGhlIHN0YXRlXG4gICAgICogXG4gICAgICogQHBhcmFtIHNpZ25hbCAtIFRoZSBzaWduYWwgY29uc3RydWN0b3IgdG8gY2hlY2sgZm9yXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgc2lnbmFsIHR5cGUgZXhpc3RzIGluIHRoZSBzdGF0ZSBtYXBcbiAgICAgKi9cbiAgICBoYXMoXG4gICAgICAgIHNpZ25hbDogQV9TaWduYWxcbiAgICApOiBib29sZWFuXG4gICAgaGFzKFxuICAgICAgICBzaWduYWw6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD5cbiAgICApOiBib29sZWFuXG4gICAgaGFzKFxuICAgICAgICBwYXJhbTogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPiB8IEFfU2lnbmFsXG4gICAgKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IHBhcmFtIGluc3RhbmNlb2YgQV9TaWduYWwgPyBwYXJhbS5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8QV9TaWduYWw+IDogcGFyYW07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlLmluY2x1ZGVzKHNpZ25hbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIHNpZ25hbCB0eXBlIGFuZCBpdHMgYXNzb2NpYXRlZCB2YWx1ZSBmcm9tIHRoZSBzdGF0ZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzaWduYWwgLSBUaGUgc2lnbmFsIGNvbnN0cnVjdG9yIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHNpZ25hbCB3YXMgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQsIGZhbHNlIGlmIGl0IGRpZG4ndCBleGlzdFxuICAgICAqL1xuICAgIGRlbGV0ZShcbiAgICAgICAgc2lnbmFsOiBBX1NpZ25hbFxuICAgICk6IGJvb2xlYW5cbiAgICBkZWxldGUoXG4gICAgICAgIHNpZ25hbDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPEFfU2lnbmFsPlxuICAgICk6IGJvb2xlYW5cbiAgICBkZWxldGUoXG4gICAgICAgIHBhcmFtOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8QV9TaWduYWw+IHwgQV9TaWduYWxcbiAgICApOiBib29sZWFuIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gcGFyYW0gaW5zdGFuY2VvZiBBX1NpZ25hbCA/IHBhcmFtLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4gOiBwYXJhbTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlLmRlbGV0ZShzaWduYWwpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGN1cnJlbnQgc3RhdGUgdG8gYSB2ZWN0b3IgKG9yZGVyZWQgYXJyYXkpIGZvcm1hdFxuICAgICAqIFxuICAgICAqIFRoZSBvcmRlciBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBzdHJ1Y3R1cmUgYXJyYXkgcHJvdmlkZWQgZHVyaW5nIGNvbnN0cnVjdGlvbi5cbiAgICAgKiBFYWNoIHBvc2l0aW9uIGluIHRoZSB2ZWN0b3IgY29ycmVzcG9uZHMgdG8gYSBzcGVjaWZpYyBzaWduYWwgdHlwZSdzIGxhdGVzdCB2YWx1ZS5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiBzaWduYWwgdmFsdWVzIGluIHRoZSBvcmRlciBkZWZpbmVkIGJ5IHRoZSBzdHJ1Y3R1cmVcbiAgICAgKiBAdGhyb3dzIEVycm9yIGlmIHN0cnVjdHVyZSBpcyBub3QgZGVmaW5lZCBvciBpZiBhbnkgc2lnbmFsIHZhbHVlIGlzIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIHRvVmVjdG9yKCk6IEFfU2lnbmFsVmVjdG9yIHtcbiAgICAgICAgY29uc3QgdmVjdG9yOiBBcnJheTxBX1NpZ25hbD4gPSBbXTtcblxuICAgICAgICB0aGlzLl9zdGF0ZS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICB2ZWN0b3IucHVzaCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgQV9TaWduYWxWZWN0b3Ioe1xuICAgICAgICAgICAgc3RydWN0dXJlOiB0aGlzLnN0cnVjdHVyZSxcbiAgICAgICAgICAgIHZhbHVlczogdmVjdG9yXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBjdXJyZW50IHN0YXRlIHRvIGFuIG9iamVjdCB3aXRoIHNpZ25hbCBjb25zdHJ1Y3RvciBuYW1lcyBhcyBrZXlzXG4gICAgICogXG4gICAgICogVGhpcyBwcm92aWRlcyBhIG1vcmUgcmVhZGFibGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIHN0YXRlIHdoZXJlIGVhY2ggc2lnbmFsXG4gICAgICogdHlwZSBpcyBpZGVudGlmaWVkIGJ5IGl0cyBjb25zdHJ1Y3RvciBuYW1lLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIE9iamVjdCBtYXBwaW5nIHNpZ25hbCBjb25zdHJ1Y3RvciBuYW1lcyB0byB0aGVpciBsYXRlc3QgdmFsdWVzXG4gICAgICogQHRocm93cyBFcnJvciBpZiBhbnkgc2lnbmFsIHZhbHVlIGlzIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIHRvT2JqZWN0KCk6IFJlY29yZDxzdHJpbmcsIEFfU2lnbmFsPiB7XG4gICAgICAgIGNvbnN0IG9iajogUmVjb3JkPHN0cmluZywgQV9TaWduYWw+ID0ge307XG5cbiAgICAgICAgdGhpcy5zdHJ1Y3R1cmUuZm9yRWFjaCgoc2lnbmFsQ29uc3RydWN0b3IpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fc3RhdGUuZ2V0KHNpZ25hbENvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTaWduYWwgJHtzaWduYWxDb25zdHJ1Y3Rvci5uYW1lfSBoYXMgbm8gdmFsdWUgaW4gc3RhdGVgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9ialtzaWduYWxDb25zdHJ1Y3Rvci5uYW1lXSA9IHZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxufSIsICJpbXBvcnQgeyBBX0NvbW1vbkhlbHBlciwgQV9Db250ZXh0LCBBX0ZyYWdtZW50LCBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IsIEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX1NpZ25hbENvbmZpZ19Jbml0IH0gZnJvbSBcIi4uL0EtU2lnbmFsLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1NpZ25hbCB9IGZyb20gXCIuLi9lbnRpdGllcy9BLVNpZ25hbC5lbnRpdHlcIjtcblxuXG5cbi8qKlxuICogVGhpcyBjb21wb25lbnQgc2hvdWxkIGRpY3RhdGUgYSBzdHJ1Y3R1cmUgb2YgdGhlIHZlY3RvciBmb3IgYWxsIHNpZ25hbHMgd2l0aGluIGEgZ2l2ZW4gc2NvcGUuXG4gKiBzbyBpZiB0aGVyZSdyZSBtdWx0aXBsZSBzaWduYWxzIGl0IHNob3VsZCBzYXkgd2hhdCB0eXBlIGF0IHdoYXQgcG9zaXRpb24gc2hvdWxkIGJlIGV4cGVjdGVkLlxuICogXG4gKiBlLmcuIFtBX1JvdXRlcldhdGNoZXIsIEFfU2NvcGVXYXRjaGVyLCBBX0xvZ2dlcldhdGNoZXJdXG4gKiBUaGlzIHN0cnVjdHVyZSB0aGVuIHNob3VsZCBiZSB1c2VkIGZvciBhbnkgZnVydGhlciBwcm9jZXNzaW5nIG9mIHNpZ25hbHMgd2l0aGluIHRoZSBzY29wZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEFfU2lnbmFsQ29uZmlnIGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cbiAgICBwcm90ZWN0ZWQgX3N0cnVjdHVyZT86IEFycmF5PEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxBX1NpZ25hbD4+O1xuXG4gICAgcHJvdGVjdGVkIF9jb25maWc6IEFfU2lnbmFsQ29uZmlnX0luaXRcblxuICAgIHByb3RlY3RlZCBfcmVhZHk/OiBQcm9taXNlPHZvaWQ+O1xuXG4gICAgZ2V0IHN0cnVjdHVyZSgpOiBBcnJheTxBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8QV9TaWduYWw+PiB7XG4gICAgICAgIGlmICh0aGlzLl9zdHJ1Y3R1cmUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHJ1Y3R1cmU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzY29wZSA9IEFfQ29udGV4dC5zY29wZSh0aGlzKTtcblxuICAgICAgICAvLyAganVzdCBzb3J0IGJ5IGNvbnN0cnVjdG9yIG5hbWUgdG8gaGF2ZSBjb25zaXN0ZW50IG9yZGVyXG4gICAgICAgIGNvbnN0IGNvbnN0cnVjdG9ycyA9IFsuLi5zY29wZS5hbGxvd2VkRW50aXRpZXNdXG4gICAgICAgICAgICAuZmlsdGVyKGUgPT4gQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGUsIEFfU2lnbmFsKSlcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmNvbnN0cnVjdG9yLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKVxuICAgICAgICAgICAgLm1hcChzID0+IHNjb3BlLnJlc29sdmVDb25zdHJ1Y3RvcjxBX1NpZ25hbD4ocy5uYW1lKSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9ycy5maWx0ZXIocyA9PiBzKSBhcyBBcnJheTxBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8QV9TaWduYWw+PjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGZvciBzeW5jaHJvbml6YXRpb24gdG8gZW5zdXJlIHRoZSBjb25maWcgaXMgaW5pdGlhbGl6ZWQuXG4gICAgICogXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBpbml0aWFsaXplZC5cbiAgICAgKi9cbiAgICBnZXQgcmVhZHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWFkeTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcGFyYW1zOiBBX1NpZ25hbENvbmZpZ19Jbml0XG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHsgbmFtZTogXCJBX1NpZ25hbENvbmZpZ1wiIH0pO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBwYXJhbXM7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgc2lnbmFsIGNvbmZpZ3VyYXRpb24gaWYgbm90IGFscmVhZHkgaW5pdGlhbGl6ZWQuXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9yZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5fcmVhZHkgPSB0aGlzLl9pbml0aWFsaXplKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBzaWduYWwgY29uZmlndXJhdGlvbiBieSBwcm9jZXNzaW5nIHRoZSBwcm92aWRlZCBzdHJ1Y3R1cmUgb3Igc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIFRoaXMgbWV0aG9kIHNldHMgdXAgdGhlIGludGVybmFsIHN0cnVjdHVyZSBvZiBzaWduYWwgY29uc3RydWN0b3JzIGJhc2VkIG9uIHRoZSBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBfaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5zdHJ1Y3R1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0cnVjdHVyZSA9IHRoaXMuX2NvbmZpZy5zdHJ1Y3R1cmU7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fY29uZmlnLnN0cmluZ1N0cnVjdHVyZSkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaW5nU3RydWN0dXJlID0gdGhpcy5fY29uZmlnLnN0cmluZ1N0cnVjdHVyZS5zcGxpdCgnLCcpLm1hcChzID0+IHMudHJpbSgpKTtcbiAgICAgICAgICAgIHRoaXMuX3N0cnVjdHVyZSA9IHN0cmluZ1N0cnVjdHVyZVxuICAgICAgICAgICAgICAgIC5tYXAobmFtZSA9PiBBX0NvbnRleHQuc2NvcGUodGhpcykucmVzb2x2ZUNvbnN0cnVjdG9yPEFfU2lnbmFsPihuYW1lKSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKHMgPT4gcyk7XG4gICAgICAgIH1cblxuICAgIH1cblxufSIsICJpbXBvcnQgeyBBX0NhbGxlciwgQV9Db21wb25lbnQsIEFfQ29udGV4dCwgQV9GZWF0dXJlLCBBX0luamVjdCwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX1NpZ25hbEZlYXR1cmVzIH0gZnJvbSBcIi4uL0EtU2lnbmFsLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9TaWduYWxTdGF0ZSB9IGZyb20gXCIuLi9jb250ZXh0L0EtU2lnbmFsU3RhdGUuY29udGV4dFwiO1xuaW1wb3J0IHsgQV9TaWduYWxDb25maWcgfSBmcm9tIFwiLi4vY29udGV4dC9BLVNpZ25hbENvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0NvbmZpZyB9IGZyb20gXCIuLi8uLi9BLUNvbmZpZy9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCIuLi8uLi9BLUxvZ2dlci9BLUxvZ2dlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfU2lnbmFsIH0gZnJvbSBcIi4uL2VudGl0aWVzL0EtU2lnbmFsLmVudGl0eVwiO1xuXG5cblxuLyoqXG4gKiBUaGlzIGNvbXBvbmVudCBzaG91bGQgbGlzdGVuIGZvciBhbGwgYXZhaWxhYmxlIHNpZ25hbCB3YXRjaGVycyBjb21wb25lbnRzIGluIHRoaXMgYW5kIGFsbCBwYXJlbnQgc2NvcGVzLiBcbiAqIFdoZW4gYSBzaWduYWwgaXMgZW1pdHRlZCwgaXQgc2hvdWxkIGZvcndhcmQgdGhlIHNpZ25hbCB0byBhbGwgcmVnaXN0ZXJlZCB3YXRjaGVycy5cbiAqIFxuICogQV9TaWduYWxCdXMgc2hvdWxkIGFsd2F5cyByZXR1cm4gdGhlIHNhbWUgdmVjdG9yIHN0cnVjdHVyZSBvZiB0aGUgc2lnbmFscywgYW5kIHRoYXQncyB3aHkgaXQgc2hvdWxkIHN0b3JlIHRoZSBzdGF0ZSBvZiB0aGUgbGF0ZXN0IGJlaGF2aW9yLiBcbiAqIEZvciBleGFtcGxlIGlmIHRoZXJlIGFyZSAzIHdhdGNoZXJzIHJlZ2lzdGVyZWQsIHRoZSBidXMgc2hvdWxkIGFsd2F5cyByZXR1cm4gYSB2ZWN0b3Igb2YgMyBlbGVtZW50cywgYmFzZWQgb24gdGhlIEFfU2lnbmFsQ29uZmlnIHN0cnVjdHVyZS5cbiAqIFxuICogXG4gKiBUaGUgY29tcG9uZW50IGl0c2VsZiBpcyBzdGF0ZWxlc3MgYW5kIGFsbCBtZXRob2RzIHVzZXMgb25seSBwYXJhbWV0ZXJzIChjb250ZXh0KSBpcyBwcm92aWRlZCB3aXRoLlxuICovXG5leHBvcnQgY2xhc3MgQV9TaWduYWxCdXMgZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kcyBleHRlbmRzIEEtU2lnbmFsIEVtaXQgZmVhdHVyZSB0byBoYW5kbGUgc2lnbmFsIGVtaXNzaW9uIHdpdGhpbiB0aGUgYnVzLlxuICAgICAqIFxuICAgICAqIEl0IHVwZGF0ZXMgdGhlIHNpZ25hbCBzdGF0ZSBhbmQgZW1pdHMgdGhlIHVwZGF0ZWQgc2lnbmFsIHZlY3Rvci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2lnbmFsIFxuICAgICAqIEBwYXJhbSBnbG9iYWxDb25maWcgXG4gICAgICogQHBhcmFtIGxvZ2dlciBcbiAgICAgKiBAcGFyYW0gc3RhdGUgXG4gICAgICogQHBhcmFtIGNvbmZpZyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIHNjb3BlOiBbQV9TaWduYWxdXG4gICAgfSlcbiAgICBhc3luYyBbQV9TaWduYWxGZWF0dXJlcy5OZXh0XShcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBzaWduYWw6IEFfU2lnbmFsLFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG5cbiAgICAgICAgQEFfSW5qZWN0KEFfQ29uZmlnKSBnbG9iYWxDb25maWc/OiBBX0NvbmZpZzxbJ0FfU0lHTkFMX1ZFQ1RPUl9TVFJVQ1RVUkUnXT4sXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgICAgIEBBX0luamVjdChBX1NpZ25hbFN0YXRlKSBzdGF0ZT86IEFfU2lnbmFsU3RhdGUsXG4gICAgICAgIEBBX0luamVjdChBX1NpZ25hbENvbmZpZykgY29uZmlnPzogQV9TaWduYWxDb25maWcsXG4gICAgKSB7XG5cbiAgICAgICAgLypcbiAgICAgICAgMSkgY3JlYXRlIGEgc2lnbmFsIHdoZW4gaXQgb2NjdXJzIHZpYSBuZXcgQV9TaWduYWwoJ3NvbWVkYXRhJylcbiAgICAgICAgMikgZW1pdCBhIHNpZ25hbCB3aGVuIG5lZWRlZCB2aWEgc2lnbmFsLmVtaXQoc2NvcGUpXG4gICAgICAgIDMpIHRoZSBidXMgc2hvdWxkIGxpc3RlbiBmb3IgYWxsIGVtaXR0ZWQgc2lnbmFscyB3aXRoaW4gdGhlIHNjb3BlXG4gICAgICAgIDQpIHdoZW4gYSBzaWduYWwgaXMgZW1pdHRlZCwgdGhlIGJ1cyBzaG91bGQgc3RvcmUgYSBzaWduYWwgaW4gc29tZSBwbGFjZSAocHJvYmFibHkgaXQncyBtZW1vcnkpXG4gICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdlIG5lZWQgYSBjb250ZXh0IHdoZXJlIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkLCB0byBwcmV2ZW50IGFueSBkdXBsaWNhdGUgcmVnaXN0cmF0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgY29tcG9uZW50Q29udGV4dCA9IEFfQ29udGV4dC5zY29wZSh0aGlzKTtcblxuXG4gICAgICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgICAgICBjb25maWcgPSBuZXcgQV9TaWduYWxDb25maWcoe1xuICAgICAgICAgICAgICAgIHN0cmluZ1N0cnVjdHVyZTogZ2xvYmFsQ29uZmlnPy5nZXQoJ0FfU0lHTkFMX1ZFQ1RPUl9TVFJVQ1RVUkUnKSB8fCB1bmRlZmluZWRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb21wb25lbnRDb250ZXh0LnJlZ2lzdGVyKGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbmZpZy5yZWFkeSlcbiAgICAgICAgICAgIGF3YWl0IGNvbmZpZy5pbml0aWFsaXplKCk7XG5cbiAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgc3RhdGUgPSBuZXcgQV9TaWduYWxTdGF0ZShjb25maWcuc3RydWN0dXJlKTtcbiAgICAgICAgICAgIGNvbXBvbmVudENvbnRleHQucmVnaXN0ZXIoc3RhdGUpO1xuICAgICAgICB9XG5cblxuICAgICAgICBpZiAoIXN0YXRlLmhhcyhzaWduYWwpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG5cbiAgICAgICAgLy8gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAgQW5kIGZpbmFsbHkgaWYgYWxsIGNoZWNrcyBhcmUgcGFzc2VkLCB3ZSBjYW4gdXBkYXRlIHRoZSBzdGF0ZVxuICAgICAgICAvLyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZyhgQV9TaWduYWxCdXM6IFVwZGF0aW5nIHN0YXRlIGZvciBzaWduYWwgJyR7c2lnbmFsLmNvbnN0cnVjdG9yLm5hbWV9JyB3aXRoIGRhdGE6YCwgc2lnbmFsLmRhdGEpO1xuXG4gICAgICAgIHN0YXRlLnNldChzaWduYWwpO1xuXG4gICAgICAgIGNvbnN0IHZlY3RvciA9IHN0YXRlLnRvVmVjdG9yKCk7XG5cbiAgICAgICAgYXdhaXQgdmVjdG9yLm5leHQoc2NvcGUpO1xuICAgIH1cbn1cbiIsICJleHBvcnQgY2xhc3MgQV9EZWZlcnJlZDxUPiB7XG4gICAgcHVibGljIHByb21pc2U6IFByb21pc2U8VD47XG4gICAgcHJpdmF0ZSByZXNvbHZlRm4hOiAodmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPikgPT4gdm9pZDtcbiAgICBwcml2YXRlIHJlamVjdEZuITogKHJlYXNvbj86IGFueSkgPT4gdm9pZDtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWZlcnJlZCBwcm9taXNlXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgY2FuIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkIGxhdGVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlPFQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUZuID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIHRoaXMucmVqZWN0Rm4gPSByZWplY3Q7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlc29sdmUodmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPik6IHZvaWQge1xuICAgICAgICB0aGlzLnJlc29sdmVGbih2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmVqZWN0KHJlYXNvbj86IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlamVjdEZuKHJlYXNvbik7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0RlZmVycmVkIH0gZnJvbSBcIi4vQS1EZWZlcnJlZC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENhbGxiYWNrLCBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENvbmZpZyB9IGZyb20gXCIuL0EtU2NoZWR1bGUudHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIEFfU2NoZWR1bGVPYmplY3Q8VCBleHRlbmRzIGFueSA9IGFueT4ge1xuXG4gICAgcHJpdmF0ZSB0aW1lb3V0ITogTm9kZUpTLlRpbWVvdXQ7XG4gICAgcHJpdmF0ZSBkZWZlcnJlZCE6IEFfRGVmZXJyZWQ8VD47XG5cbiAgICBwcml2YXRlIGNvbmZpZzogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgdGltZW91dCBpcyBjbGVhcmVkLCBzaG91bGQgdGhlIHByb21pc2UgcmVzb2x2ZSBvciByZWplY3Q/XG4gICAgICAgICAqIEJZIERlZmF1bHQgaXQgcmVqZWN0c1xuICAgICAgICAgKiBcbiAgICAgICAgICogISEhTk9URTogSWYgdGhlIHByb3BlcnR5IGlzIHNldCB0byB0cnVlLCB0aGUgcHJvbWlzZSB3aWxsIHJlc29sdmUgd2l0aCB1bmRlZmluZWRcbiAgICAgICAgICovXG4gICAgICAgIHJlc29sdmVPbkNsZWFyOiBmYWxzZVxuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzY2hlZHVsZWQgb2JqZWN0IHRoYXQgd2lsbCBleGVjdXRlIHRoZSBhY3Rpb24gYWZ0ZXIgc3BlY2lmaWVkIG1pbGxpc2Vjb25kc1xuICAgICAqIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBtcyAtIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBleGVjdXRpbmcgdGhlIGFjdGlvblxuICAgICAqIEBwYXJhbSBhY3Rpb24gLSB0aGUgYWN0aW9uIHRvIGV4ZWN1dGVcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgc2NoZWR1bGUgb2JqZWN0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgZXhlY3V0aW5nIHRoZSBhY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIG1zOiBudW1iZXIsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWN0aW9uIHRvIGV4ZWN1dGUgYWZ0ZXIgdGhlIHNwZWNpZmllZCBtaWxsaXNlY29uZHNcbiAgICAgICAgICovXG4gICAgICAgIGFjdGlvbjogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDYWxsYmFjazxUPixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIHNjaGVkdWxlIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDb25maWdcbiAgICApIHtcbiAgICAgICAgaWYgKGNvbmZpZylcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0geyAuLi50aGlzLmNvbmZpZywgLi4uY29uZmlnIH07XG5cbiAgICAgICAgdGhpcy5kZWZlcnJlZCA9IG5ldyBBX0RlZmVycmVkPFQ+KCk7XG5cbiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChcbiAgICAgICAgICAgICgpID0+IGFjdGlvbigpXG4gICAgICAgICAgICAgICAgLnRoZW4oKC4uLmFyZ3MpID0+IHRoaXMuZGVmZXJyZWQucmVzb2x2ZSguLi5hcmdzKSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKC4uLmFyZ3MpID0+IHRoaXMuZGVmZXJyZWQucmVqZWN0KC4uLmFyZ3MpKSxcbiAgICAgICAgICAgIG1zXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0IHByb21pc2UoKTogUHJvbWlzZTxUPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gICAgY2xlYXIoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcucmVzb2x2ZU9uQ2xlYXIpXG4gICAgICAgICAgICAgICAgdGhpcy5kZWZlcnJlZC5yZXNvbHZlKHVuZGVmaW5lZCBhcyBUKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmRlZmVycmVkLnJlamVjdChuZXcgQV9FcnJvcihcIlRpbWVvdXQgQ2xlYXJlZFwiKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsICJpbXBvcnQgeyBBX0NvbXBvbmVudCwgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfU2NoZWR1bGVPYmplY3QgfSBmcm9tIFwiLi9BLVNjaGVkdWxlT2JqZWN0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENhbGxiYWNrLCBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENvbmZpZyB9IGZyb20gXCIuL0EtU2NoZWR1bGUudHlwZXNcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX1NjaGVkdWxlIGV4dGVuZHMgQV9Db21wb25lbnQge1xuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHNjaGVkdWxlIGEgY2FsbGJhY2sgZm9yIHBhcnRpY3VsYXIgdGltZSBpbiB0aGUgZnV0dXJlXG4gICAgICogXG4gICAgICogQHBhcmFtIHRpbWVzdGFtcCAtIFVuaXggdGltZXN0YW1wIGluIG1pbGxpc2Vjb25kc1xuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayB0byBleGVjdXRlXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHNjaGVkdWxlIG9iamVjdFxuICAgICAqL1xuICAgIGFzeW5jIHNjaGVkdWxlPFQgZXh0ZW5kcyBhbnkgPSBhbnk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogVW5peCB0aW1lc3RhbXAgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAqL1xuICAgICAgICB0aW1lc3RhbXA6IG51bWJlcixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayB0byBleGVjdXRlXG4gICAgICAgICAqL1xuICAgICAgICBjYWxsYmFjazogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDYWxsYmFjazxUPixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIHNjaGVkdWxlIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDb25maWdcbiAgICApOiBQcm9taXNlPEFfU2NoZWR1bGVPYmplY3Q8VD4+XG4gICAgYXN5bmMgc2NoZWR1bGU8VCBleHRlbmRzIGFueSA9IGFueT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJU08gZGF0ZSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBkYXRlIGFuZCB0aW1lIHRvIHNjaGVkdWxlIHRoZSBjYWxsYmFjayBmb3JcbiAgICAgICAgICovXG4gICAgICAgIGRhdGU6IHN0cmluZyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayB0byBleGVjdXRlXG4gICAgICAgICAqL1xuICAgICAgICBjYWxsYmFjazogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDYWxsYmFjazxUPixcbiAgICAgICAgLyoqXG4gICAgICAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgc2NoZWR1bGUgb2JqZWN0XG4gICAgICAgICovXG4gICAgICAgIGNvbmZpZz86IEFfVVRJTFNfVFlQRVNfX1NjaGVkdWxlT2JqZWN0Q29uZmlnXG4gICAgKTogUHJvbWlzZTxBX1NjaGVkdWxlT2JqZWN0PFQ+PlxuICAgIGFzeW5jIHNjaGVkdWxlPFQgZXh0ZW5kcyBhbnkgPSBhbnk+KFxuICAgICAgICBkYXRlOiBzdHJpbmcgfCBudW1iZXIsXG4gICAgICAgIGNhbGxiYWNrOiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENhbGxiYWNrPFQ+LFxuICAgICAgICBjb25maWc/OiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENvbmZpZ1xuICAgICk6IFByb21pc2U8QV9TY2hlZHVsZU9iamVjdDxUPj4ge1xuXG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IEFfVHlwZUd1YXJkcy5pc1N0cmluZyhkYXRlKVxuICAgICAgICAgICAgPyAobmV3IERhdGUoZGF0ZSkpLmdldFRpbWUoKVxuICAgICAgICAgICAgOiBkYXRlO1xuXG4gICAgICAgIHJldHVybiBuZXcgQV9TY2hlZHVsZU9iamVjdDxUPihcbiAgICAgICAgICAgIHRpbWVzdGFtcCAtIERhdGUubm93KCksXG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIGNvbmZpZ1xuICAgICAgICApO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXhlY3V0ZSBjYWxsYmFjayBhZnRlciBwYXJ0aWN1bGFyIGRlbGF5IGluIG1pbGxpc2Vjb25kc1xuICAgICAqIFNvIHRoZSBjYWxsYmFjayB3aWxsIGJlIGV4ZWN1dGVkIGFmdGVyIHRoZSBzcGVjaWZpZWQgZGVsYXlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbXMgXG4gICAgICovXG4gICAgYXN5bmMgZGVsYXk8VCBleHRlbmRzIGFueSA9IGFueT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxheSBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICovXG4gICAgICAgIG1zOiBudW1iZXIsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgdG8gZXhlY3V0ZSBhZnRlciB0aGUgZGVsYXlcbiAgICAgICAgICovXG4gICAgICAgIGNhbGxiYWNrOiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENhbGxiYWNrPFQ+LFxuICAgICAgICAvKipcbiAgICAgICAgKiBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBzY2hlZHVsZSBvYmplY3RcbiAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDb25maWdcbiAgICApOiBQcm9taXNlPEFfU2NoZWR1bGVPYmplY3Q8VD4+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBBX1NjaGVkdWxlT2JqZWN0PFQ+KFxuICAgICAgICAgICAgbXMsXG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIGNvbmZpZ1xuICAgICAgICApO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQsIEFfRXJyb3IsIEFfRmVhdHVyZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBcmVGZWF0dXJlcyB9IGZyb20gXCIuL0FyZS5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFyZUNvbXBpbGVyIH0gZnJvbSBcIi4uL0FyZUNvbXBpbGVyL0FyZUNvbXBpbGVyLmNvbXBvbmVudFwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBcmUgZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG5cblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09IExJRkVDWUNMRSBERUNPUkFUT1JTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgc3RhdGljIGdldCBFdmVudEhhbmRsZXIoKSB7XG4gICAgICAgIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IHByb3BlcnR5S2V5LFxuICAgICAgICAgICAgICAgIHNjb3BlOiBbdGFyZ2V0LmNvbnN0cnVjdG9yXSxcbiAgICAgICAgICAgIH0pKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBvbkJlZm9yZUxvYWQoKSB7XG4gICAgICAgIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IEFyZUZlYXR1cmVzLm9uQmVmb3JlTG9hZCxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgc3RhdGljIGdldCBvbkFmdGVyTG9hZCgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgICAgICAgICAgbmFtZTogQXJlRmVhdHVyZXMub25BZnRlckxvYWQsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHN0YXRpYyBnZXQgb25CZWZvcmVDb21waWxlKCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBcmVGZWF0dXJlcy5vbkJlZm9yZUNvbXBpbGUsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9uQWZ0ZXJDb21waWxlKCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBcmVGZWF0dXJlcy5vbkFmdGVyQ29tcGlsZSxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb25CZWZvcmVNb3VudCgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgICAgICAgICAgbmFtZTogQXJlRmVhdHVyZXMub25CZWZvcmVNb3VudCxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb25BZnRlck1vdW50KCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBcmVGZWF0dXJlcy5vbkFmdGVyTW91bnQsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9uQmVmb3JlVW5tb3VudCgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgICAgICAgICAgbmFtZTogQXJlRmVhdHVyZXMub25CZWZvcmVVbm1vdW50LFxuICAgICAgICAgICAgICAgIHNjb3BlOiBbdGFyZ2V0LmNvbnN0cnVjdG9yXSxcbiAgICAgICAgICAgIH0pKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBvbkFmdGVyVW5tb3VudCgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgICAgICAgICAgbmFtZTogQXJlRmVhdHVyZXMub25BZnRlclVubW91bnQsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9uQmVmb3JlVXBkYXRlKCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBcmVGZWF0dXJlcy5vbkJlZm9yZVVwZGF0ZSxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb25BZnRlclVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgICAgICAgICAgbmFtZTogQXJlRmVhdHVyZXMub25BZnRlclVwZGF0ZSxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgc3RhdGljIGdldCBUZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgICAgICAgICAgbmFtZTogQXJlRmVhdHVyZXMub25UZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgc3RhdGljIGdldCBTdHlsZXMoKSB7XG4gICAgICAgIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IEFyZUZlYXR1cmVzLm9uU3R5bGVzLFxuICAgICAgICAgICAgICAgIHNjb3BlOiBbdGFyZ2V0LmNvbnN0cnVjdG9yXSxcbiAgICAgICAgICAgIH0pKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBEYXRhKCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBcmVGZWF0dXJlcy5vbkRhdGEsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09IENPTVBPTkVOVCBNRVRIT0RTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgZ2V0IHdyYXBwZXIoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHRlbXBsYXRlIHN0cmluZyBmb3IgdGhlIGNvbXBvbmVudFxuICAgICAqIFxuICAgICAqIENvdWxkIGJlIG92ZXJyaWRkZW4gdG8gcHJvdmlkZSBkeW5hbWljIHRlbXBsYXRlcyBiYXNlZCBvbiBjb21wb25lbnQgc3RhdGVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBAQXJlLlRlbXBsYXRlXG4gICAgYXN5bmMgdGVtcGxhdGUoXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzdHlsZXMgc3RyaW5nIGZvciB0aGUgY29tcG9uZW50XG4gICAgICogIFxuICAgICAqIENvdWxkIGJlIG92ZXJyaWRkZW4gdG8gcHJvdmlkZSBkeW5hbWljIHN0eWxlcyBiYXNlZCBvbiBjb21wb25lbnQgc3RhdGVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBAQXJlLlN0eWxlc1xuICAgIGFzeW5jIHN0eWxlcyhcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRhdGEgb2JqZWN0IGZvciB0aGUgY29tcG9uZW50XG4gICAgICogXG4gICAgICogVXNlcyBhcyB0aGUgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgY29tcG9uZW50XG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgQEFyZS5EYXRhXG4gICAgYXN5bmMgZGF0YShcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcblxuICAgIH1cblxufSIsICJpbXBvcnQgeyBBU0VJRCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0V4ZWN1dGlvbkNvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcblxuXG5leHBvcnQgY2xhc3MgQXJlU3RvcmU8XG4gICAgVCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGV4dGVuZHMgQV9FeGVjdXRpb25Db250ZXh0PFQ+IHtcblxuICAgIGNvbnN0cnVjdG9yKGFzZWlkOiBBU0VJRCkge1xuICAgICAgICBzdXBlcihhc2VpZC50b1N0cmluZygpKTtcbiAgICB9XG5cblxuICAgIHNldE11bHRpcGxlKHZhbHVlczogUGFydGlhbDxUPik6IHZvaWQge1xuICAgICAgICBPYmplY3QuZW50cmllcyh2YWx1ZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXQoa2V5IGFzIGtleW9mIFQsIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NhbGxlciwgQV9Db25jZXB0LCBBX0NvbnRleHQsIEFfRmVhdHVyZSwgQV9JbmplY3QsIEFfU2NvcGUgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9Db21tYW5kRmVhdHVyZXMsIEFfTG9nZ2VyLCBBX01lbW9yeSwgQV9Qb2x5ZmlsbCB9IGZyb20gXCJAYWRhYXMvYS11dGlsc1wiO1xuaW1wb3J0IHsgQXJlIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29tcG9uZW50cy9BcmVDb21wb25lbnQvQXJlLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQXJlU3RvcmUgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN0b3JlL0FyZVN0b3JlLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUVtYWlsKGVtYWlsOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC8udGVzdChlbWFpbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93QWxlcnQobWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgYWxlcnQobWVzc2FnZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBTaWduSW5Db21wb25lbnQgZXh0ZW5kcyBBcmUge1xuXG5cbiAgICBAQXJlLkRhdGFcbiAgICBhc3luYyBkYXRhKFxuICAgICAgICBAQV9JbmplY3QoQXJlU3RvcmUpIHN0b3JlOiBBcmVTdG9yZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuICAgICkge1xuXG4gICAgICAgIHN0b3JlLnNldE11bHRpcGxlKHtcbiAgICAgICAgICAgIGJ0bk5hbWU6ICdTaWduIEluJ1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBAQXJlLlN0eWxlc1xuICAgIGFzeW5jIHN0eWxlcyhcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBub2RlLnNldFN0eWxlcyhgIFxuICAgICAgICAuY2FyZCB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDMwMHB4O1xuICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgICAgICB0b3A6NTAlO1xuICAgICAgICAgICAgbGVmdDo1MCU7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICAgICAgfVxuICAgICAgICAgICAgYCAgICk7XG4gICAgfVxuXG4gICAgQEFyZS5UZW1wbGF0ZVxuICAgIGFzeW5jIHRlbXBsYXRlKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyOiBBX0xvZ2dlcixcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ2JsdWUnLCBgU2lnbkluQ29tcG9uZW50IHRlbXBsYXRlIGNhbGxlZC4uLiA6IDwke25vZGUuYXNlaWQuZW50aXR5fT4gOiBgLCBub2RlLmFzZWlkLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIG5vZGUuc2V0VGVtcGxhdGUoYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZFwiPlxuICAgICAgICAgICAgICAgIDxoMj5TaWduIEluPC9oMj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImVtYWlsXCIgaWQ9XCJlbWFpbFwiIHBsYWNlaG9sZGVyPVwiRW1haWxcIiAvPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBpZD1cInBhc3N3b3JkXCIgcGxhY2Vob2xkZXI9XCJQYXNzd29yZFwiIC8+XG4gICAgICAgICAgICAgICAgPGEtYnRuICA6bmFtZT1cImJ0bk5hbWVcIiA6c3R5bGU9XCJ7IGNvbG9yOiAncmVkJyB9XCI+PC9hLWJ0bj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgKTtcbiAgICB9XG5cblxuICAgIC8vIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAvLyAgICAgc2NvcGU6IFtTaWduSW5Db21wb25lbnRdXG4gICAgLy8gfSlcbiAgICAvLyBhc3luYyBBX1VJX05PREVfb25CZWZvcmVMb2FkKFxuICAgIC8vICAgICBAQV9JbmplY3QoQXJlTm9kZSkgbm9kZTogQXJlTm9kZSxcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9VSV9Ob2RlU3RvcmUpIHN0b3JlOiBBX1VJX05vZGVTdG9yZSxcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuICAgIC8vICk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgLy8gICAgIGxvZ2dlci5sb2coJ2dyZWVuJywgYFNpZ25JbkNvbXBvbmVudCBpcyBpbml0aWFsaXppbmcuLi4gOiA8JHtub2RlLmFzZWlkLmVudGl0eX0+IDogYCwgbm9kZS5hc2VpZC50b1N0cmluZygpKTtcblxuXG4gICAgLy8gICAgIHN0b3JlLmRhdGEuc2V0KCdidG5OYW1lJywgJ0N1c3RvbSBTaWduIEluIEJ1dHRvbicpO1xuICAgIC8vIH1cblxuXG4gICAgLy8gcHJpdmF0ZSBhZGRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgLy8gICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2lnbkluQnRuXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIC8vICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuc2lnbkluKCkpO1xuICAgIC8vIH1cblxuICAgIC8vIHByaXZhdGUgYXN5bmMgc2lnbkluKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vICAgICBjb25zdCBlbWFpbCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVtYWlsXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgIC8vICAgICBjb25zdCBwYXNzd29yZCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhc3N3b3JkXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuXG4gICAgLy8gICAgIGNvbnN0IHNpZ25JbkNvbW1hbmQgPSBuZXcgU2lnbkluQ29tbWFuZCh7XG4gICAgLy8gICAgICAgICB1c2VybmFtZTogZW1haWwsXG4gICAgLy8gICAgICAgICBwYXNzd29yZFxuICAgIC8vICAgICB9KTtcblxuXG4gICAgLy8gICAgIEFfQ29udGV4dC5zY29wZSh0aGlzKS5yZWdpc3RlcihzaWduSW5Db21tYW5kKTtcblxuICAgIC8vICAgICBhd2FpdCBzaWduSW5Db21tYW5kLmV4ZWN1dGUoKTtcblxuICAgIC8vICAgICBjb25zb2xlLmxvZyhcIlNpZ25JbiBDb21tYW5kIFJlc3VsdDpcIiwgc2lnbkluQ29tbWFuZC50b0pTT04oKSk7XG4gICAgLy8gfVxuXG5cbiAgICAvLyBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgLy8gICAgIG5hbWU6IEFfQ29tbWFuZEZlYXR1cmVzLm9uQ29tcGxldGUsXG4gICAgLy8gICAgIHNjb3BlOiB7XG4gICAgLy8gICAgICAgICBpbmNsdWRlOiBbU2lnbkluQ29tbWFuZF1cbiAgICAvLyAgICAgfVxuICAgIC8vIH0pXG4gICAgLy8gYXN5bmMgaGFuZGxlU3VjY2Vzc1NpZ25JbihcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfTWVtb3J5KSBtZW1vcnk6IEFfTWVtb3J5PHsgdG9rZW46IFNlcmlhbGl6ZWRUb2tlbiB9PixcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBjb21tYW5kOiBTaWduSW5Db21tYW5kLFxuICAgIC8vICkge1xuXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKFwiU2lnbi1pbiBjb21wbGV0ZWQgd2l0aCByZXN1bHQ6XCIsIGNvbW1hbmQucmVzdWx0KTtcblxuICAgIC8vICAgICBhbGVydChjb21tYW5kLnJlc3VsdClcblxuICAgIC8vICAgICBjb25zdCByZXN1bHRUb2tlbiA9IGF3YWl0IG1lbW9yeS5nZXQoJ3Rva2VuJylcblxuICAgIC8vICAgICBjb25zdCB0b2tlbiA9IG5ldyBUb2tlbihyZXN1bHRUb2tlbik7XG5cbiAgICAvLyAgICAgbWVtb3J5LnNldCgndG9rZW4nLCB0b2tlbiBhcyBhbnkpO1xuICAgIC8vIH1cbn1cbiIsICJpbXBvcnQgeyBBX0ZyYWdtZW50IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIlxuaW1wb3J0IHsgQXJlTm9kZSB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHlcIlxuXG5cbmV4cG9ydCBjbGFzcyBBcmVFdmVudDxcbiAgICBUIGV4dGVuZHMgYW55ID0gYW55XG4+IGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cblxuICAgIHByb3RlY3RlZCBfbm9kZT86IEFyZU5vZGVcblxuICAgIHByb3RlY3RlZCBfcHJvcHM6IHtcbiAgICAgICAgZGF0YTogVCxcbiAgICAgICAgZXZlbnQ6IHN0cmluZ1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGV2ZW50TmFtZTogc3RyaW5nLCBwcm9wczoge1xuICAgICAgICBkYXRhOiBULFxuICAgICAgICBub2RlPzogQXJlTm9kZSxcbiAgICAgICAgZXZlbnQ6IHN0cmluZ1xuICAgIH0pIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiBldmVudE5hbWUgfSlcblxuXG4gICAgICAgIHRoaXMuX3Byb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuX25vZGUgPSBwcm9wcy5ub2RlO1xuICAgIH1cblxuICAgIGdldCBub2RlKCk6IEFyZU5vZGUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fbm9kZTtcbiAgICB9XG5cbiAgICBnZXQgZGF0YSgpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BzLmRhdGFcbiAgICB9XG5cbiAgICBnZXQgZXZlbnQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BzLmV2ZW50XG4gICAgfVxuXG5cbiAgICBiaW5kKG5vZGU6IEFyZU5vZGUpIHtcbiAgICAgICAgdGhpcy5fbm9kZSA9IG5vZGU7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQsIEFfRnJhZ21lbnQsIEFfU2NvcGUsIEFTRUlEIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQXJlSW5kZXg8XG4gICAgX1BhdGhUeXBlID0gYW55XG4+IGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cbiAgICBjb25zdHJ1Y3Rvcihhc2VpZDogc3RyaW5nIHwgQVNFSUQpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogYXNlaWQgaW5zdGFuY2VvZiBBU0VJRCA/IGFzZWlkLnRvU3RyaW5nKCkgOiBhc2VpZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQbGF0Zm9ybS1hZ25vc3RpYyBlbGVtZW50IGluZGV4XG4gICAgICogRWxlbWVudCBjYW4gYmUgRE9NIEVsZW1lbnQsIFBERiBlbGVtZW50LCBET0NYIGVsZW1lbnQsIGV0Yy5cbiAgICAgKiBUaGUgYWN0dWFsIHR5cGUgZGVwZW5kcyBvbiB0aGUgY29tcGlsZXIgYmVpbmcgdXNlZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfaW5kZXg6IHtcbiAgICAgICAgQVNFSURfdG9fUGF0aDogTWFwPHN0cmluZywgX1BhdGhUeXBlPixcbiAgICAgICAgUGF0aF90b19BU0VJRDogTWFwPF9QYXRoVHlwZSwgc3RyaW5nPixcblxuICAgICAgICBcbiAgICAgICAgTm9kZV90b19QYXRoOiBNYXA8QXJlTm9kZSwgX1BhdGhUeXBlPixcbiAgICAgICAgUGF0aF90b19Ob2RlOiBNYXA8X1BhdGhUeXBlLCBBcmVOb2RlPixcbiAgICB9ID0ge1xuICAgICAgICAgICAgQVNFSURfdG9fUGF0aDogbmV3IE1hcCgpLFxuICAgICAgICAgICAgUGF0aF90b19BU0VJRDogbmV3IE1hcCgpLFxuICAgICAgICAgICAgTm9kZV90b19QYXRoOiBuZXcgTWFwKCksXG4gICAgICAgICAgICBQYXRoX3RvX05vZGU6IG5ldyBNYXAoKSxcbiAgICAgICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBVbmlxdWUgaGFzaCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGluZGV4XG4gICAgICogQ2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgY2hhbmdlcyBpbiB0aGUgaW5kZXhcbiAgICAgKi9cbiAgICBnZXQgc3RhdGUoKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IEFycmF5LmZyb20odGhpcy5faW5kZXguQVNFSURfdG9fUGF0aC5lbnRyaWVzKCkpXG4gICAgICAgICAgICAuc29ydCgoW2FzZWlkQV0sIFthc2VpZEJdKSA9PiBhc2VpZEEubG9jYWxlQ29tcGFyZShhc2VpZEIpKVxuICAgICAgICAgICAgLm1hcCgoW2FzZWlkLCBwYXRoXSkgPT4gYCR7YXNlaWR9OiR7SlNPTi5zdHJpbmdpZnkocGF0aCl9YCk7XG4gICAgICAgIHJldHVybiBlbnRyaWVzLmpvaW4oJ3wnKTtcbiAgICB9XG5cbiAgICBnZXQgc2NvcGUoKTogQV9TY29wZSB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQuc2NvcGUodGhpcyk7XG4gICAgfVxuXG4gICAgZ2V0IHBhcmVudCgpIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5zY29wZSh0aGlzKS5wYXJlbnQ/LnJlc29sdmU8QXJlSW5kZXg+KEFyZUluZGV4KTtcbiAgICB9XG5cbiAgICBnZXQgc2l6ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXguQVNFSURfdG9fUGF0aC5zaXplO1xuICAgIH1cblxuICAgIGdldCBub2RlcygpOiBBcnJheTxBcmVOb2RlPiB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2luZGV4Lk5vZGVfdG9fUGF0aC5rZXlzKCkpO1xuICAgIH1cblxuICAgIGdldCBwYXRocygpOiBBcnJheTxfUGF0aFR5cGU+IHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5faW5kZXguUGF0aF90b19Ob2RlLmtleXMoKSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldCBkZXB0aCgpOiBudW1iZXIge1xuICAgICAgICBsZXQgZGVwdGggPSAwO1xuICAgICAgICBsZXQgY3VycmVudFNjb3BlOiBBX1Njb3BlIHwgdW5kZWZpbmVkID0gdGhpcy5zY29wZTtcblxuICAgICAgICB3aGlsZSAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gY3VycmVudFNjb3BlLnBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZXB0aDtcbiAgICB9XG4gICAgXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcGxhdGZvcm0tYWdub3N0aWMgZWxlbWVudCB0byB0aGUgaW5kZXhcbiAgICAgKiBAcGFyYW0gbm9kZSAtIEFyZU5vZGUgdG8gaW5kZXhcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFBsYXRmb3JtLXNwZWNpZmljIGVsZW1lbnQgKERPTSwgUERGLCBET0NYLCBldGMuKVxuICAgICAqL1xuICAgIGFkZChub2RlOiBBcmVOb2RlLCBwYXRoOiBfUGF0aFR5cGUpIHtcbiAgICAgICAgdGhpcy5faW5kZXguQVNFSURfdG9fUGF0aC5zZXQobm9kZS5hc2VpZC50b1N0cmluZygpLCBwYXRoKTtcbiAgICAgICAgdGhpcy5faW5kZXguUGF0aF90b19BU0VJRC5zZXQocGF0aCwgbm9kZS5hc2VpZC50b1N0cmluZygpKTtcbiAgICAgICAgdGhpcy5faW5kZXguTm9kZV90b19QYXRoLnNldChub2RlLCBwYXRoKTtcbiAgICAgICAgdGhpcy5faW5kZXguUGF0aF90b19Ob2RlLnNldChwYXRoLCBub2RlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgcGxhdGZvcm0tc3BlY2lmaWMgZWxlbWVudCBieSBBcmVOb2RlXG4gICAgICogQHBhcmFtIG5vZGUgLSBBcmVOb2RlIHRvIGxvb2sgdXBcbiAgICAgKiBAcmV0dXJucyBQbGF0Zm9ybS1zcGVjaWZpYyBlbGVtZW50IG9yIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIHBhdGhPZihub2RlOiBBcmVOb2RlKTogX1BhdGhUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4Lk5vZGVfdG9fUGF0aC5nZXQobm9kZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIEFyZU5vZGUgYnkgcGxhdGZvcm0tc3BlY2lmaWMgZWxlbWVudFxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gUGxhdGZvcm0tc3BlY2lmaWMgZWxlbWVudCB0byBsb29rIHVwXG4gICAgICogQHJldHVybnMgQXJlTm9kZSBvciB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBub2RlT2YocGF0aDogX1BhdGhUeXBlKTogQXJlTm9kZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleC5QYXRoX3RvX05vZGUuZ2V0KHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgaW5kZXggZW50cnkgYnkgQXJlTm9kZVxuICAgICAqIEBwYXJhbSBub2RlIC0gQXJlTm9kZSB0byByZW1vdmUgZnJvbSBpbmRleFxuICAgICAqL1xuICAgIHJlbW92ZUJ5Tm9kZShub2RlOiBBcmVOb2RlKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLl9pbmRleC5Ob2RlX3RvX1BhdGguZ2V0KG5vZGUpO1xuICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgdGhpcy5faW5kZXguQVNFSURfdG9fUGF0aC5kZWxldGUobm9kZS5hc2VpZC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4LlBhdGhfdG9fQVNFSUQuZGVsZXRlKHBhdGgpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXguTm9kZV90b19QYXRoLmRlbGV0ZShub2RlKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4LlBhdGhfdG9fTm9kZS5kZWxldGUocGF0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHJlcGxhY2VCeU5vZGUob2xkTm9kZTogQXJlTm9kZSwgbmV3Tm9kZTogQXJlTm9kZSkge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5faW5kZXguTm9kZV90b19QYXRoLmdldChvbGROb2RlKTtcbiAgICAgICAgaWYgKHBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4LkFTRUlEX3RvX1BhdGguZGVsZXRlKG9sZE5vZGUuYXNlaWQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleC5QYXRoX3RvX0FTRUlELnNldChwYXRoLCBuZXdOb2RlLmFzZWlkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXguTm9kZV90b19QYXRoLmRlbGV0ZShvbGROb2RlKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4Lk5vZGVfdG9fUGF0aC5zZXQobmV3Tm9kZSwgcGF0aCk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleC5QYXRoX3RvX05vZGUuc2V0KHBhdGgsIG5ld05vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICByZXBsYWNlUGF0aChvbGRQYXRoOiBfUGF0aFR5cGUsIG5ld1BhdGg6IF9QYXRoVHlwZSkge1xuICAgICAgICBjb25zdCBhc2VpZCA9IHRoaXMuX2luZGV4LlBhdGhfdG9fQVNFSUQuZ2V0KG9sZFBhdGgpO1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5faW5kZXguUGF0aF90b19Ob2RlLmdldChvbGRQYXRoKTtcbiAgICAgICAgaWYgKGFzZWlkICYmIG5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4LkFTRUlEX3RvX1BhdGguc2V0KGFzZWlkLCBuZXdQYXRoKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4LlBhdGhfdG9fQVNFSUQuZGVsZXRlKG9sZFBhdGgpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXguUGF0aF90b19BU0VJRC5zZXQobmV3UGF0aCwgYXNlaWQpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXguTm9kZV90b19QYXRoLnNldChub2RlLCBuZXdQYXRoKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4LlBhdGhfdG9fTm9kZS5kZWxldGUob2xkUGF0aCk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleC5QYXRoX3RvX05vZGUuc2V0KG5ld1BhdGgsIG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBpbmRleCBlbnRyeSBieSBwbGF0Zm9ybS1zcGVjaWZpYyBlbGVtZW50XG4gICAgICogQHBhcmFtIHBhdGggLSBQbGF0Zm9ybS1zcGVjaWZpYyBlbGVtZW50IHRvIHJlbW92ZSBmcm9tIGluZGV4XG4gICAgICovXG4gICAgcmVtb3ZlQnlFbGVtZW50KHBhdGg6IF9QYXRoVHlwZSkge1xuICAgICAgICBjb25zdCBhc2VpZCA9IHRoaXMuX2luZGV4LlBhdGhfdG9fQVNFSUQuZ2V0KHBhdGgpO1xuICAgICAgICBpZiAoYXNlaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLl9pbmRleC5QYXRoX3RvX05vZGUuZ2V0KHBhdGgpO1xuICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbmRleC5BU0VJRF90b19QYXRoLmRlbGV0ZShhc2VpZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5kZXguUGF0aF90b19BU0VJRC5kZWxldGUocGF0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5kZXguTm9kZV90b19QYXRoLmRlbGV0ZShub2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbmRleC5QYXRoX3RvX05vZGUuZGVsZXRlKHBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuX2luZGV4LkFTRUlEX3RvX1BhdGguY2xlYXIoKTtcbiAgICAgICAgdGhpcy5faW5kZXguUGF0aF90b19BU0VJRC5jbGVhcigpO1xuICAgICAgICB0aGlzLl9pbmRleC5Ob2RlX3RvX1BhdGguY2xlYXIoKTtcbiAgICAgICAgdGhpcy5faW5kZXguUGF0aF90b19Ob2RlLmNsZWFyKCk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQsIEFfRW50aXR5LCBBX0Vycm9yLCBBX0Zvcm1hdHRlckhlbHBlciwgQV9JZGVudGl0eUhlbHBlciwgQV9TY29wZSwgQVNFSUQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQXJlTm9kZU5ld1Byb3BzIH0gZnJvbSBcIi4vQXJlTm9kZS50eXBlc1wiO1xuaW1wb3J0IHsgQXJlRXZlbnQgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZUV2ZW50L0FyZUV2ZW50LmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZU5vZGVGZWF0dXJlcyB9IGZyb20gXCIuL0FyZU5vZGUuY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBjbGFzcyBBcmVOb2RlIGV4dGVuZHMgQV9FbnRpdHk8QXJlTm9kZU5ld1Byb3BzPiB7XG5cblxuICAgIC8qKlxuICAgICAqIFRlbXBsYXRlIHN0cmluZyBkZWZpbmVkIGZvciB0aGUgbm9kZVxuICAgICAqIEV4YW1wbGU6IGA8ZGl2Pnt7bmFtZX19PC9kaXY+YFxuICAgICAqL1xuICAgIF90ZW1wbGF0ZSE6IHN0cmluZ1xuICAgIC8qKlxuICAgICAqIE1hcmt1cCBzdHJpbmcgZGVmaW5lZCBmb3IgdGhlIG5vZGVcbiAgICAgKiBFeGFtcGxlOiBgPGN1c3RvbS1jb21wb25lbnQgOnByb3A9XCJ2YWx1ZVwiPiA8ZGl2PklubmVyIENvbnRlbnQ8L2Rpdj4gPC9jdXN0b20tY29tcG9uZW50PmBcbiAgICAgKi9cbiAgICBfbWFya3VwITogc3RyaW5nXG4gICAgLyoqXG4gICAgICogU3R5bGVzIHN0cmluZyBkZWZpbmVkIGZvciB0aGUgbm9kZVxuICAgICAqL1xuICAgIF9zdHlsZXMhOiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBUaGUgc2NvcGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbm9kZVxuICAgICAqIHVzZXMgdG8gc3RvcmUgYWxsIG5lc3RlZCBmcmFnbWVudHMgYW5kIGVudGl0aWVzIGxpa2Ugb3RoZXIgQXJlTm9kZXMgYW5kIFNjZW5lXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9zY29wZSE6IEFfU2NvcGVcblxuICAgIGdldCBpZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5hc2VpZC5pZDtcbiAgICB9XG5cbiAgICBnZXQgc2NvcGUoKTogQV9TY29wZSB7XG4gICAgICAgIGlmICghdGhpcy5fc2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Njb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgICAgIG5hbWU6IGAke3RoaXMuYXNlaWQuaWR9YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Njb3BlO1xuICAgIH1cblxuXG4gICAgZ2V0IHR5cGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXNlaWQuZW50aXR5O1xuICAgIH1cblxuICAgIGdldCB0ZW1wbGF0ZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcGxhdGU7XG4gICAgfVxuXG5cbiAgICBnZXQgbWFya3VwKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXJrdXA7XG4gICAgfVxuXG4gICAgZ2V0IHN0eWxlcygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGVzO1xuICAgIH1cblxuXG4gICAgZnJvbU5ldyhuZXdFbnRpdHk6IEFyZU5vZGVOZXdQcm9wcyk6IHZvaWQge1xuICAgICAgICB0aGlzLmFzZWlkID0gdGhpcy5nZW5lcmF0ZUFTRUlEKHtcbiAgICAgICAgICAgIGlkOiBuZXdFbnRpdHkuaWQsXG4gICAgICAgICAgICBlbnRpdHk6IG5ld0VudGl0eS5jb21wb25lbnQsXG4gICAgICAgICAgICBzY29wZTogbmV3RW50aXR5LnNjb3BlLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl90ZW1wbGF0ZSA9IG5ld0VudGl0eS50ZW1wbGF0ZSB8fCAnJztcbiAgICAgICAgdGhpcy5fbWFya3VwID0gbmV3RW50aXR5Lm1hcmt1cCB8fCAnJztcbiAgICAgICAgdGhpcy5fc3R5bGVzID0gbmV3RW50aXR5LnN0eWxlcyB8fCAnJztcbiAgICB9XG5cblxuICAgIGZyb21BU0VJRChhc2VpZDogc3RyaW5nIHwgQVNFSUQpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuZnJvbUFTRUlEKGFzZWlkKTtcblxuICAgICAgICB0aGlzLl90ZW1wbGF0ZSA9ICcnO1xuICAgICAgICB0aGlzLl9tYXJrdXAgPSAnJztcbiAgICAgICAgdGhpcy5fc3R5bGVzID0gJyc7XG4gICAgfVxuXG5cbiAgICBzZXRUZW1wbGF0ZSh0ZW1wbGF0ZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgfVxuXG4gICAgc2V0TWFya3VwKG1hcmt1cDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX21hcmt1cCA9IG1hcmt1cDtcbiAgICB9XG5cbiAgICBzZXRTdHlsZXMoc3R5bGVzOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc3R5bGVzID0gc3R5bGVzO1xuICAgIH1cblxuXG5cblxuICAgIGFzeW5jIGVtaXQoXG4gICAgICAgIGV2ZW50OiBBcmVFdmVudCxcbiAgICApIHtcbiAgICAgICAgdGhpcy5jaGVja1Njb3BlSW5oZXJpdGFuY2UoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogaXNvbGF0ZWQgZXZlbnQgc2NvcGUgdG8gYXZvaWQgcG9sbHV0aW5nIHRoZSBub2RlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBldmVudFNjb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgbmFtZTogYCR7ZXZlbnQubmFtZX0tc2NvcGVgLFxuICAgICAgICAgICAgZnJhZ21lbnRzOiBbZXZlbnRdXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuaW5oZXJpdCh0aGlzLnNjb3BlKVxuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBcmVOb2RlRmVhdHVyZXMub25FdmVudCwgZXZlbnRTY29wZSlcblxuICAgICAgICAgICAgZXZlbnRTY29wZS5kZXN0cm95KClcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICAgICAgICBldmVudFNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGFzeW5jIGNvbXBpbGUoKTogUHJvbWlzZTx2b2lkPiB7XG5cbiAgICAgICAgdGhpcy5jaGVja1Njb3BlSW5oZXJpdGFuY2UoKTtcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQXJlTm9kZUZlYXR1cmVzLm9uQ29tcGlsZSwgdGhpcy5zY29wZSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgcmVuZGVyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmNoZWNrU2NvcGVJbmhlcml0YW5jZSgpO1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBcmVOb2RlRmVhdHVyZXMub25SZW5kZXIsIHRoaXMuc2NvcGUpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgYXN5bmMgdXBkYXRlKCk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgICAgIHRoaXMuY2hlY2tTY29wZUluaGVyaXRhbmNlKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBcmVOb2RlRmVhdHVyZXMub25VcGRhdGUsIHRoaXMuc2NvcGUpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAvLyBhc3luYyBtb3VudCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyAgICAgdGhpcy5jaGVja1Njb3BlSW5oZXJpdGFuY2UoKTtcblxuICAgIC8vICAgICB0cnkge1xuXG4gICAgLy8gICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQXJlTm9kZUZlYXR1cmVzLm9uTW91bnQsIHRoaXMuc2NvcGUpO1xuXG4gICAgLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuXG4gICAgYXN5bmMgdW5tb3VudCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5jaGVja1Njb3BlSW5oZXJpdGFuY2UoKTtcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQXJlTm9kZUZlYXR1cmVzLm9uVW5tb3VudCwgdGhpcy5zY29wZSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBhc3luYyBsb2FkKCk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBzdXBlci5sb2FkKHRoaXMuc2NvcGUpO1xuICAgIH1cblxuICAgIGFzeW5jIGRlc3Ryb3koc2NvcGU/OiBBX1Njb3BlKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgdGhpcy5jaGVja1Njb3BlSW5oZXJpdGFuY2UoKTtcbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgc3VwZXIuZGVzdHJveSh0aGlzLnNjb3BlKTtcblxuICAgICAgICAgICAgdGhpcy5zY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgICAgICAgdGhpcy5fc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXJzIE1ldGhvZHNcbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGVuc3VyZSB0aGF0IHRoZSBjdXJyZW50IHNjb3BlIGlzIGluaGVyaXRlZCBmcm9tIHRoZSBjb250ZXh0IHNjb3BlXG4gICAgICogXG4gICAgICogQHRocm93cyBBX0Vycm9yIGlmIHRoZSBzY29wZSBpcyBub3QgaW5oZXJpdGVkIGZyb20gdGhlIGNvbnRleHQgc2NvcGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY2hlY2tTY29wZUluaGVyaXRhbmNlKCk6IHZvaWQge1xuICAgICAgICBsZXQgYXR0YWNoZWRTY29wZTogQV9TY29wZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXR0YWNoZWRTY29wZSA9IEFfQ29udGV4dC5zY29wZSh0aGlzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0Vycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogYEFfVUlfTm9kZSBTY29wZSBJbmhlcml0YW5jZSBFcnJvcmAsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBUaGUgQV9VSV9Ob2RlIGVudGl0eSB3aXRoIEFTRUlEICcke3RoaXMuYXNlaWQudG9TdHJpbmcoKX0nIGlzIG5vdCBib3VuZCB0byBhbnkgY29udGV4dCBzY29wZS4gUGxlYXNlIGVuc3VyZSB0aGF0IHRoZSBlbnRpdHkgaXMgY3JlYXRlZCB3aXRoaW4gYSB2YWxpZCBjb250ZXh0LmAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufSIsICJpbXBvcnQgeyBBU0VJRCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0V4ZWN1dGlvbkNvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcblxuXG5leHBvcnQgY2xhc3MgQXJlUHJvcHM8XG4gICAgVCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGV4dGVuZHMgQV9FeGVjdXRpb25Db250ZXh0PFQ+IHtcblxuICAgIGNvbnN0cnVjdG9yKGFzZWlkOiBBU0VJRCkge1xuICAgICAgICBzdXBlcihhc2VpZC50b1N0cmluZygpKTtcbiAgICB9XG5cblxuICAgIHNldE11bHRpcGxlKHZhbHVlczogUGFydGlhbDxUPik6IHZvaWQge1xuICAgICAgICBPYmplY3QuZW50cmllcyh2YWx1ZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXQoa2V5IGFzIGtleW9mIFQsIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsICJcbmltcG9ydCB7IEFfQ29udGV4dCwgQV9FbnRpdHksIEFfRm9ybWF0dGVySGVscGVyLCBBX1Njb3BlIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFyZVNjZW5lSW5zdHJ1Y3Rpb25OZXdQcm9wcyB9IGZyb20gXCIuL0FyZVNjZW5lSW5zdHJ1Y3Rpb24udHlwZXNcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiLi4vQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiO1xuaW1wb3J0IHsgQXJlRGlyZWN0aXZlIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTeW50YXgvQXJlU3ludGF4LmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZVNjZW5lSW5zdHJ1Y3Rpb25GZWF0dXJlcyB9IGZyb20gXCIuL0FyZVNjZW5lSW5zdHJ1Y3Rpb24uY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBcmVTY2VuZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU2NlbmUvQXJlU2NlbmUuY29udGV4dFwiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFyZVNjZW5lSW5zdHJ1Y3Rpb248VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+PiBleHRlbmRzIEFfRW50aXR5PEFyZVNjZW5lSW5zdHJ1Y3Rpb25OZXdQcm9wczxUPj4ge1xuXG4gICAgYWN0aW9uITogc3RyaW5nXG4gICAgbm9kZSE6IEFyZU5vZGVcblxuICAgIHBhcmFtcz86IFRcblxuXG4gICAgaGFzaFNvdXJjZSE6IHN0cmluZ1xuXG5cbiAgICBnZXQgc2NlbmUoKTogQXJlU2NlbmUge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LnNjb3BlKHRoaXMpLnJlc29sdmUoQXJlU2NlbmUpIVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBldmVuIGhhc2ggdXNlcyBmb3IgZGVkdXBsaWNhdGlvblxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHIgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUhhc2goc3RyPzogc3RyaW5nKTogc3RyaW5nXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUhhc2goc3RyPzogdW5kZWZpbmVkKTogc3RyaW5nXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUhhc2goc3RyPzogUmVjb3JkPHN0cmluZywgYW55Pik6IHN0cmluZ1xuICAgIHByb3RlY3RlZCBjcmVhdGVIYXNoKHN0cj86IEFycmF5PGFueT4pOiBzdHJpbmdcbiAgICBwcm90ZWN0ZWQgY3JlYXRlSGFzaChzdHI/OiBudW1iZXIpOiBzdHJpbmdcbiAgICBwcm90ZWN0ZWQgY3JlYXRlSGFzaChzdHI/OiBib29sZWFuKTogc3RyaW5nXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUhhc2goc3RyPzogbnVsbCk6IHN0cmluZ1xuICAgIHByb3RlY3RlZCBjcmVhdGVIYXNoKG1hcD86IE1hcDxhbnksIGFueT4pOiBzdHJpbmdcbiAgICBwcm90ZWN0ZWQgY3JlYXRlSGFzaChzZXQ/OiBTZXQ8YW55Pik6IHN0cmluZ1xuICAgIHByb3RlY3RlZCBjcmVhdGVIYXNoKHN0cj86IGFueSk6IHN0cmluZyB7XG4gICAgICAgIGxldCBoYXNoU291cmNlOiBzdHJpbmc7XG5cbiAgICAgICAgaWYgKHN0ciBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgaGFzaFNvdXJjZSA9IEpTT04uc3RyaW5naWZ5KEFycmF5LmZyb20oc3RyLmVudHJpZXMoKSkpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0ciBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgaGFzaFNvdXJjZSA9IEpTT04uc3RyaW5naWZ5KEFycmF5LmZyb20oc3RyLnZhbHVlcygpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBzdHIpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICBoYXNoU291cmNlID0gc3RyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICAgICAgICAgICAgICBoYXNoU291cmNlID0gJ3VuZGVmaW5lZCc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgICAgIGhhc2hTb3VyY2UgPSBKU09OLnN0cmluZ2lmeShzdHIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgICAgICAgICBoYXNoU291cmNlID0gc3RyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgICAgICBoYXNoU291cmNlID0gc3RyID8gJ3RydWUnIDogJ2ZhbHNlJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICBoYXNoU291cmNlID0gc3RyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGhhc2hTb3VyY2UgPSBTdHJpbmcoc3RyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoYXNoID0gMCwgaSwgY2hyO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaGFzaFNvdXJjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hyID0gaGFzaFNvdXJjZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgY2hyO1xuICAgICAgICAgICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhhc2hTdHJpbmcgPSBoYXNoLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIGhhc2hTdHJpbmc7XG4gICAgfVxuXG4gICAgZnJvbU5ldyhuZXdFbnRpdHk6IEFyZVNjZW5lSW5zdHJ1Y3Rpb25OZXdQcm9wczxUPik6IHZvaWQge1xuICAgICAgICBjb25zdCBpZGVudGl0eSA9IG5ld0VudGl0eS5pZCB8fCB7XG4gICAgICAgICAgICBuYW1lOiBuZXdFbnRpdHkuYWN0aW9uLFxuICAgICAgICAgICAgbm9kZTogbmV3RW50aXR5Lm5vZGUuYXNlaWQudG9TdHJpbmcoKSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuY3JlYXRlSGFzaChpZGVudGl0eSk7XG5cblxuICAgICAgICB0aGlzLmFzZWlkID0gdGhpcy5nZW5lcmF0ZUFTRUlEKHtcbiAgICAgICAgICAgIGVudGl0eTogQV9Gb3JtYXR0ZXJIZWxwZXIudG9LZWJhYkNhc2UobmV3RW50aXR5LmFjdGlvbiksXG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWN0aW9uID0gbmV3RW50aXR5LmFjdGlvbjtcbiAgICAgICAgdGhpcy5ub2RlID0gbmV3RW50aXR5Lm5vZGU7XG4gICAgICAgIHRoaXMucGFyYW1zID0gbmV3RW50aXR5LnBhcmFtcztcblxuICAgIH1cblxuXG4gICAgdXBkYXRlKHBhcmFtczogUGFydGlhbDxUPik6IHZvaWQge1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMucGFyYW1zLFxuICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICB9IGFzIFQ7XG4gICAgfVxuXG5cbiAgICBhc3luYyBpbml0KFxuICAgICAgICBzY29wZT86IEFfU2NvcGVcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBcmVTY2VuZUluc3RydWN0aW9uRmVhdHVyZXMuSW5pdCwgc2NvcGUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBhcHBseShcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQXJlU2NlbmVJbnN0cnVjdGlvbkZlYXR1cmVzLkFwcGx5LCBzY29wZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHJldmVydChcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQXJlU2NlbmVJbnN0cnVjdGlvbkZlYXR1cmVzLlJldmVydCwgc2NvcGUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuXG5cblxuXG5cblxuXG5cbiIsICJpbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIi4uLy4uL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHlcIjtcbmltcG9ydCB7IEFyZVNjZW5lSW5zdHJ1Y3Rpb24gfSBmcm9tIFwiLi4vQXJlU2NlbmVJbnN0cnVjdGlvbi5lbnRpdHlcIjtcblxuXG5cblxuZXhwb3J0IGNsYXNzIE1vdW50Tm9kZUluc3RydWN0aW9uIGV4dGVuZHMgQXJlU2NlbmVJbnN0cnVjdGlvbjx7XG4gICAgcGF0aDogc3RyaW5nO1xufT4ge1xuXG5cbiAgICBnZXQgcGF0aCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXMhLnBhdGg7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIHBhdGg6IHN0cmluZyxcbiAgICApIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgaWQ6IFtub2RlLCBwYXRoXSxcbiAgICAgICAgICAgIGFjdGlvbjogJ21vdW50LW5vZGUnLFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIHBhdGhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiLi4vLi4vQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiO1xuaW1wb3J0IHsgQXJlU2NlbmVJbnN0cnVjdGlvbiB9IGZyb20gXCIuLi9BcmVTY2VuZUluc3RydWN0aW9uLmVudGl0eVwiO1xuXG5leHBvcnQgY2xhc3MgQWRkU3R5bGVJbnN0cnVjdGlvbiBleHRlbmRzIEFyZVNjZW5lSW5zdHJ1Y3Rpb248e1xuICAgIHN0eWxlczogc3RyaW5nO1xufT4ge1xuXG4gICAgZ2V0IHN0eWxlcygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXMhLnN0eWxlcztcbiAgICB9XG5cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBub2RlOiBBcmVOb2RlLFxuICAgICAgICBzdHlsZXM6IHN0cmluZyxcbiAgICApIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgaWQ6IFtzdHlsZXMsIG5vZGVdLFxuICAgICAgICAgICAgYWN0aW9uOiAnYWRkLXN0eWxlJyxcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBzdHlsZXMsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0LCBBX0ZyYWdtZW50LCBBX1Njb3BlLCBBX1RZUEVTX19GcmFnbWVudF9TZXJpYWxpemVkLCBBU0VJRCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBcmVJbmRleCB9IGZyb20gXCIuLi9BcmVJbmRleC9BcmVJbmRleC5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiO1xuaW1wb3J0IHsgQXJlRXZlbnQgfSBmcm9tIFwiLi4vQXJlRXZlbnQvQXJlRXZlbnQuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlU0NlbmVfU2VyaWFsaXplZCB9IGZyb20gXCIuL0FyZVNjZW5lLnR5cGVzXCI7XG5pbXBvcnQgeyBBcmVQcm9wcyB9IGZyb20gXCIuLi9BcmVQcm9wcy9BcmVQcm9wcy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTdG9yZSB9IGZyb20gXCIuLi9BcmVTdG9yZS9BcmVTdG9yZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0xvZ2dlciwgQV9Mb2dnZXJDb2xvck5hbWUgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFyZVNjZW5lSW5zdHJ1Y3Rpb24gfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVTY2VuZUluc3RydWN0aW9uL0FyZVNjZW5lSW5zdHJ1Y3Rpb24uZW50aXR5XCI7XG5pbXBvcnQgeyBNb3VudE5vZGVJbnN0cnVjdGlvbiB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZVNjZW5lSW5zdHJ1Y3Rpb24vdHlwZXMvTW91bnROb2RlLmluc3RydWN0aW9uXCI7XG5pbXBvcnQgeyBBZGRTdHlsZUluc3RydWN0aW9uIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlU2NlbmVJbnN0cnVjdGlvbi90eXBlcy9BZGRTdHlsZS5pbnN0cnVjdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgQXJlU2NlbmUgZXh0ZW5kcyBBX0ZyYWdtZW50IHtcblxuICAgIHByb3RlY3RlZCBfc3RhdGU6IFNldDxBcmVTY2VuZUluc3RydWN0aW9uPiA9IG5ldyBTZXQoKTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogU2NlbmUgaWRlbnRpdHkgd2lsbCBiZSB1c2VkIHRvIGlkZW50aWZ5IG1vdW50aW5nIHBvaW50IGluIHRoZSBwYXJlbnQgc2NlbmVcbiAgICAgICAgICovXG4gICAgICAgIGlkOiBzdHJpbmcgfCBBU0VJRCxcbiAgICApIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiBpZC50b1N0cmluZygpIH0pO1xuICAgIH1cblxuICAgIGdldCBpZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcm9vdCBzY2VuZSBvZiB0aGUgY3VycmVudCBzY2VuZVxuICAgICAqL1xuICAgIGdldCByb290KCk6IEFyZVNjZW5lIHtcbiAgICAgICAgbGV0IGN1cnJlbnRTY29wZTogQV9TY29wZSB8IHVuZGVmaW5lZCA9IHRoaXMuc2NvcGU7XG4gICAgICAgIGxldCByb290U2NlbmU6IEFyZVNjZW5lID0gdGhpcztcblxuICAgICAgICB3aGlsZSAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRTY2VuZSA9IGN1cnJlbnRTY29wZS5wYXJlbnQ/LnJlc29sdmU8QXJlU2NlbmU+KHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFyZVNjZW5lKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRTY2VuZSkge1xuICAgICAgICAgICAgICAgIHJvb3RTY2VuZSA9IHBhcmVudFNjZW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gY3VycmVudFNjb3BlLnBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByb290U2NlbmU7XG4gICAgfVxuXG4gICAgZ2V0IHNjb3BlKCk6IEFfU2NvcGUge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LnNjb3BlKHRoaXMpO1xuICAgIH1cblxuICAgIGdldCBpbmRleCgpOiBBcmVJbmRleDxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5zY29wZSh0aGlzKS5yZXNvbHZlRmxhdDxBcmVJbmRleDxzdHJpbmc+PihBcmVJbmRleCkhO1xuICAgIH1cblxuICAgIGdldCBwYXJlbnQoKTogQXJlU2NlbmUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LnNjb3BlKHRoaXMpLnBhcmVudD8ucmVzb2x2ZUZsYXQ8QXJlU2NlbmU+KEFyZVNjZW5lKTtcbiAgICB9XG5cbiAgICBnZXQgY2hpbGRyZW4oKTogQXJyYXk8QXJlU2NlbmU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUucmVzb2x2ZUZsYXRBbGw8QXJlTm9kZT4oQXJlTm9kZSlcbiAgICAgICAgICAgIC5tYXAobiA9PiBuLnNjb3BlLnJlc29sdmVGbGF0PEFyZVNjZW5lPihBcmVTY2VuZSkpXG4gICAgICAgICAgICAuZmlsdGVyKHMgPT4gISFzKTtcbiAgICB9XG5cblxuICAgIGdldCBkZXB0aCgpOiBudW1iZXIge1xuICAgICAgICBsZXQgZGVwdGggPSAwO1xuICAgICAgICBsZXQgY3VycmVudFNjb3BlOiBBX1Njb3BlIHwgdW5kZWZpbmVkID0gdGhpcy5zY29wZTtcblxuICAgICAgICB3aGlsZSAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFNjb3BlLnBhcmVudCAmJiBjdXJyZW50U2NvcGUucGFyZW50LnJlc29sdmU8QXJlU2NlbmU+KHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFyZVNjZW5lKSkge1xuICAgICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBjdXJyZW50U2NvcGUucGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlcHRoO1xuICAgIH1cblxuXG4gICAgZ2V0IGluc3RydWN0aW9ucygpOiBBcnJheTxBcmVTY2VuZUluc3RydWN0aW9uPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnJlc29sdmVGbGF0QWxsPEFyZVNjZW5lSW5zdHJ1Y3Rpb24+KEFyZVNjZW5lSW5zdHJ1Y3Rpb24pIHx8IFtdO1xuICAgIH1cblxuXG4gICAgKm5vZGVzKFxuICAgICAgICBmaWx0ZXI/OiAobm9kZTogQXJlTm9kZSkgPT4gYm9vbGVhblxuICAgICk6IEl0ZXJhYmxlPEFyZU5vZGU+IHtcblxuICAgICAgICBmb3IgKGNvbnN0IHBhdGggb2YgdGhpcy5wYXRocygpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmluZGV4Lm5vZGVPZihwYXRoKTtcblxuICAgICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaWx0ZXIgJiYgIWZpbHRlcihub2RlKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB5aWVsZCBub2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJQbGFuRm9yKG5ldyBBcmVOb2RlKCksIHtcbiAgICAgICAgICAgIG9yZGVyOiBbXG4gICAgICAgICAgICAgICAgTW91bnROb2RlSW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgICAgICAgQWRkU3R5bGVJbnN0cnVjdGlvbixcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSlcblxuICAgIH1cblxuXG4gICAgKnJlbmRlclBsYW5Gb3IoXG4gICAgICAgIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIGZpbHRlcjoge1xuICAgICAgICAgICAgZmlsdGVyPzogKGluc3RydWN0aW9uOiBBcmVTY2VuZUluc3RydWN0aW9uKSA9PiBib29sZWFuLFxuICAgICAgICAgICAgY2hhbmdlcz86IEFycmF5PG5ldyAoLi4uYXJnczogYW55W10pID0+IEFyZVNjZW5lSW5zdHJ1Y3Rpb24+LFxuICAgICAgICAgICAgb3JkZXI/OiBBcnJheTxuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBBcmVTY2VuZUluc3RydWN0aW9uPixcbiAgICAgICAgfVxuICAgICkge1xuXG4gICAgICAgIGNvbnN0IG9yZGVyID0gZmlsdGVyLm9yZGVyIHx8IFtdO1xuICAgICAgICBjb25zdCBmaWx0ZXJGbiA9IGZpbHRlci5maWx0ZXI7XG5cbiAgICAgICAgbGV0IHBsYW4gPSB0aGlzLmluc3RydWN0aW9ucztcblxuICAgICAgICBwbGFuID0gcGxhbi5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhSW5kZXggPSBvcmRlci5maW5kSW5kZXgoaW5zdHJ1Y3Rpb25UeXBlID0+IGEgaW5zdGFuY2VvZiBpbnN0cnVjdGlvblR5cGUpO1xuICAgICAgICAgICAgY29uc3QgYkluZGV4ID0gb3JkZXIuZmluZEluZGV4KGluc3RydWN0aW9uVHlwZSA9PiBiIGluc3RhbmNlb2YgaW5zdHJ1Y3Rpb25UeXBlKTtcblxuICAgICAgICAgICAgcmV0dXJuIChhSW5kZXggPT09IC0xID8gb3JkZXIubGVuZ3RoIDogYUluZGV4KSAtIChiSW5kZXggPT09IC0xID8gb3JkZXIubGVuZ3RoIDogYkluZGV4KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGZpbHRlckZuKSB7XG4gICAgICAgICAgICBwbGFuID0gcGxhbi5maWx0ZXIoZmlsdGVyRm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBhY3Rpb24gb2YgcGxhbikge1xuICAgICAgICAgICAgaWYgKGFjdGlvbi5ub2RlID09PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgYWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGRlYnVnUHJlZml4KCkge1xuICAgICAgICByZXR1cm4gYCR7JyAtICcucmVwZWF0KHRoaXMuZGVwdGgpfWBcbiAgICB9XG5cbiAgICBnZXQgcGF0aCgpOiBzdHJpbmcge1xuICAgICAgICBpZiAoIXRoaXMucGFyZW50KVxuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG93bmVyTm9kZSA9IHRoaXMucGFyZW50LnNjb3BlLnJlc29sdmVGbGF0PEFyZU5vZGU+KEFyZU5vZGUsIHtcbiAgICAgICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICBhc2VpZDogdGhpcy5pZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pIGFzIGFueSBhcyBBcmVOb2RlO1xuXG4gICAgICAgICAgICBjb25zdCBOb2RlUGF0aCA9IHRoaXMucGFyZW50LmluZGV4LnBhdGhPZihvd25lck5vZGUpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQucGF0aCA/ICh0aGlzLnBhcmVudC5wYXRoICsgJy4nICsgTm9kZVBhdGgpIDogTm9kZVBhdGghO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgKnBhdGhzKCk6IEl0ZXJhYmxlPHN0cmluZz4ge1xuICAgICAgICBsZXQgcGF0aHMgPSB0aGlzLmluZGV4LnBhdGhzO1xuXG4gICAgICAgIC8vICBjcmVhdGUgcHJvcGVyIHRyZWUgc2VxdWVuY2VcbiAgICAgICAgcGF0aHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgY29uc3QgYVBhcnNlZCA9IGEuc3BsaXQoJy4nKS5tYXAocGFydCA9PiBwYXJzZUludChwYXJ0LCAxMCkpO1xuICAgICAgICAgICAgY29uc3QgYlBhcnNlZCA9IGIuc3BsaXQoJy4nKS5tYXAocGFydCA9PiBwYXJzZUludChwYXJ0LCAxMCkpO1xuXG4gICAgICAgICAgICBjb25zdCBsZW4gPSBNYXRoLm1pbihhUGFyc2VkLmxlbmd0aCwgYlBhcnNlZC5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChhUGFyc2VkW2ldICE9PSBiUGFyc2VkW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhUGFyc2VkW2ldIC0gYlBhcnNlZFtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYVBhcnNlZC5sZW5ndGggLSBiUGFyc2VkLmxlbmd0aDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8geWllbGQgcGF0aHNcbiAgICAgICAgZm9yIChjb25zdCBwYXRoIG9mIHBhdGhzKSB7XG4gICAgICAgICAgICB5aWVsZCBwYXRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGxhbihpbnN0cnVjdGlvbjogQXJlU2NlbmVJbnN0cnVjdGlvbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5zY29wZS5yZWdpc3RlcihpbnN0cnVjdGlvbik7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVuUGxhbihcbiAgICAgICAgaW5zdHJ1Y3Rpb246IEFyZVNjZW5lSW5zdHJ1Y3Rpb25cbiAgICApIHtcbiAgICAgICAgY29uc3QgcGxhbm5lZCA9IHRoaXMuZ2V0UGxhbm5lZChpbnN0cnVjdGlvbik7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChwbGFubmVkKVxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcGUuZGVyZWdpc3RlcihwbGFubmVkKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXR0YWNoKG5vZGU6IEFyZU5vZGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zY29wZS5yZWdpc3Rlcihub2RlKTtcbiAgICAgICAgbm9kZS5zY29wZS5pbmhlcml0KHRoaXMuc2NvcGUpXG4gICAgfVxuXG4gICAgc2NlbmVPZihub2RlOiBBcmVOb2RlKTogQXJlU2NlbmUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gbm9kZS5zY29wZS5yZXNvbHZlRmxhdDxBcmVTY2VuZT4oQXJlU2NlbmUpO1xuICAgIH1cblxuICAgIHByb3BzT2Yobm9kZTogQXJlTm9kZSk6IEFyZVByb3BzIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuc2NvcGUucmVzb2x2ZUZsYXQ8QXJlUHJvcHM+KEFyZVByb3BzKSE7XG4gICAgfVxuXG4gICAgc3RvcmVPZihub2RlOiBBcmVOb2RlKTogQXJlU3RvcmUge1xuICAgICAgICByZXR1cm4gbm9kZS5zY29wZS5yZXNvbHZlRmxhdDxBcmVTdG9yZT4oQXJlU3RvcmUpITtcbiAgICB9XG4gICAgaXNQbGFubmVkKGFjdGlvbjogQXJlU2NlbmVJbnN0cnVjdGlvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQbGFubmVkKGFjdGlvbikgIT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdCByZXR1cm5zIHBsYW5uZWQgaW5zdHJ1Y3Rpb24gaW5zdGFuY2UgZnJvbSB0aGUgc2NlbmVcbiAgICAgKiBcbiAgICAgKiBbIV0gT25seSBQbGFubmVkIGluc3RydWN0aW9ucyBjYW4gYmUgdXNlZCBmb3Igc3RhdGUgY2hlY2tpbmdcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdHJ1Y3Rpb24gXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZ2V0UGxhbm5lZDxUIGV4dGVuZHMgQXJlU2NlbmVJbnN0cnVjdGlvbj4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgYmUgaW5zdHJ1Y3Rpb24gaW5zdGFuY2UgdG8gZ2V0XG4gICAgICAgICAqL1xuICAgICAgICBpbnN0cnVjdGlvbjogVFxuICAgICk6IFQgfCB1bmRlZmluZWQge1xuXG4gICAgICAgIGNvbnN0IHBsYW5uZWQgPSB0aGlzLnNjb3BlLnJlc29sdmVGbGF0PEFyZVNjZW5lSW5zdHJ1Y3Rpb24+KEFyZVNjZW5lSW5zdHJ1Y3Rpb24sIHtcbiAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgYXNlaWQ6IGluc3RydWN0aW9uLmFzZWlkLnRvU3RyaW5nKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkgYXMgYW55IGFzIFQgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIHBsYW5uZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlcmF0aW9uIE9ubHkgYXBwbGljYWJsZSBmcm9tIFBsYW4gLT4gU3RhdGVcbiAgICAgKiBcbiAgICAgKiBTbyBvbmx5IGluc3RydWN0aW9ucyBwcmVzZW50ZWQgaW4gdGhlIHBsYW4gY2FuIGJlIG1vdmVkIHRvIHN0YXRlXG4gICAgICogU3RhdGUgaXMgYSBzZXQgb2YgaW5zdHJ1Y3Rpb25zIHRoYXQgYXJlIGN1cnJlbnRseSBhcHBsaWVkIHRvIHRoZSBzY2VuZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBpbnN0cnVjdGlvbiBcbiAgICAgKi9cbiAgICBzZXRTdGF0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCBiZSBpbnN0cnVjdGlvbiBpbnN0YW5jZSB0byBhcHBseVxuICAgICAgICAgKi9cbiAgICAgICAgaW5zdHJ1Y3Rpb246IEFyZVNjZW5lSW5zdHJ1Y3Rpb25cbiAgICApIHtcbiAgICAgICAgY29uc3QgcGxhbm5lZCA9IHRoaXMuZ2V0UGxhbm5lZChpbnN0cnVjdGlvbik7XG5cbiAgICAgICAgaWYgKHBsYW5uZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLmRlbGV0ZShwbGFubmVkKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLmFkZChpbnN0cnVjdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGRyb3BTdGF0ZTxUIGV4dGVuZHMgQXJlU2NlbmVJbnN0cnVjdGlvbj4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgYmUgaW5zdHJ1Y3Rpb24gaW5zdGFuY2UgdG8gZHJvcFxuICAgICAgICAgKi9cbiAgICAgICAgaW5zdHJ1Y3Rpb246IFRcbiAgICApIHtcbiAgICAgICAgY29uc3QgcGxhbm5lZCA9IHRoaXMuZ2V0UGxhbm5lZChpbnN0cnVjdGlvbik7XG4gICAgICAgIGNvbnNvbGUubG9nKCdkcm9wcGluZyBzdGF0ZSBmb3InLCBwbGFubmVkKTtcblxuICAgICAgICBpZiAocGxhbm5lZCkge1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUuZGVsZXRlKHBsYW5uZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICByZXNldFN0YXRlKFxuICAgICAgICBub2RlOiBBcmVOb2RlXG4gICAgKSB7XG4gICAgICAgIGZvciAoY29uc3QgaW5zdHJ1Y3Rpb24gb2YgQXJyYXkuZnJvbSh0aGlzLl9zdGF0ZSkpIHtcbiAgICAgICAgICAgIGlmIChpbnN0cnVjdGlvbi5ub2RlID09PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGUuZGVsZXRlKGluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZ2V0U3RhdGU8VCBleHRlbmRzIEFyZVNjZW5lSW5zdHJ1Y3Rpb24+KFxuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIGJlIGluc3RydWN0aW9uIGluc3RhbmNlIHRvIGdldCBzdGF0ZSBmb3JcbiAgICAgICAgICovXG4gICAgICAgIGluc3RydWN0aW9uOiBUXG4gICAgKTogVCB8IHVuZGVmaW5lZCB7XG5cblxuICAgICAgICBjb25zdCBwbGFubmVkID0gdGhpcy5zY29wZS5yZXNvbHZlRmxhdDxBcmVTY2VuZUluc3RydWN0aW9uPihBcmVTY2VuZUluc3RydWN0aW9uLCB7XG4gICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgIGFzZWlkOiBpbnN0cnVjdGlvbi5hc2VpZC50b1N0cmluZygpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pIGFzIGFueSBhcyBUIHwgdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmICghcGxhbm5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZS5oYXMocGxhbm5lZCkpXG4gICAgICAgICAgICByZXR1cm4gcGxhbm5lZCBhcyBUO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldmVydChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCBiZSBpbnN0cnVjdGlvbiBpbnN0YW5jZSB0byByZXZlcnRcbiAgICAgICAgICovXG4gICAgICAgIGluc3RydWN0aW9uPzogQXJlU2NlbmVJbnN0cnVjdGlvblxuICAgICkge1xuICAgICAgICB0aGlzLl9zdGF0ZS5kZWxldGUoaW5zdHJ1Y3Rpb24hKTtcbiAgICB9XG5cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmluZGV4LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3N0YXRlLmNsZWFyKCk7XG4gICAgfVxuXG5cbiAgICB0b0pTT04oKTogQXJlU0NlbmVfU2VyaWFsaXplZCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdXBlci50b0pTT04oKSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgICAgICAgQXJyYXkuZnJvbSh0aGlzLmNoaWxkcmVuKS5tYXAoY2hpbGQgPT4gW1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5pZC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBjaGlsZC50b0pTT04oKVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuXG5cblxuLy8gIEp1c3QgdG8gY292ZXIgdGhlIHByb3BlciBsaWZlY3ljbGVcblxuLypcbjEpIENyZWF0ZSBTY2VuZSB3aXRoIHRlbXBsYXRlIGZyb20gbW91bnRpbmcgcG9pbnQgY29udGVudFxuMikgRG8gaW5kZXhpbmcgb2YgdGhlIHNjZW5lIFxuXG4qLyIsICJpbXBvcnQgeyBBX0NhbGxlciwgQV9GZWF0dXJlLCBBX0Zvcm1hdHRlckhlbHBlciwgQV9JbmplY3QsIEFfU2NvcGUgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFyZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlQ29tcG9uZW50L0FyZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFyZUV2ZW50IH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVFdmVudC9BcmVFdmVudC5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTY2VuZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU2NlbmUvQXJlU2NlbmUuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlU3RvcmUgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN0b3JlL0FyZVN0b3JlLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5pbXBvcnQgeyBBcmVJbml0U2lnbmFsIH0gZnJvbSBcInNyYy9zaWduYWxzL0FyZUluaXQuc2lnbmFsXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFCdG4gZXh0ZW5kcyBBcmUge1xuXG5cbiAgICBAQXJlLlRlbXBsYXRlXG4gICAgYXN5bmMgdGVtcGxhdGUoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVN0b3JlKSBzdG9yZTogQXJlU3RvcmUsXG4gICAgKSB7XG4gICAgICAgIG5vZGUuc2V0VGVtcGxhdGUoYFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYS1idG5cIiBAY2xpY2s9XCJoYW5kbGVDbGlja1wiPiBNYWtlIGl0OiAge3tuYW1lfX0ge3tudW1iZXJ9fTwvYnV0dG9uPiA8YS1pbnB1dCAkaWY9XCJzaG93SW5wdXRcIiA+PC9hLWlucHV0PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYS1idG5cIiBAY2xpY2s9XCJoYW5kbGVDbGljazJcIj4gRG86ICB7e2J0bjJ9fTwvYnV0dG9uPiBcbiAgICAgICA8YS1pbnB1dCAkaWY9XCJzaG93SW5wdXQyXCIgPjwvYS1pbnB1dD5cbiAgICAgICAgYCk7XG4gICAgfVxuXG5cbiAgICBAQXJlLlN0eWxlc1xuICAgIGFzeW5jIHN0eWxlcyhcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBub2RlLnNldFN0eWxlcyhgXG4gICAgICAgICAgICAuYS1idG4ge1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB7e2JnQ29sb3J9fSFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYCk7XG4gICAgfVxuXG4gICAgQEFyZS5EYXRhXG4gICAgYXN5bmMgZGF0YShcbiAgICAgICAgQEFfSW5qZWN0KEFyZVN0b3JlKSBzdG9yZTogQXJlU3RvcmUsXG4gICAgKSB7XG4gICAgICAgIHN0b3JlLnNldE11bHRpcGxlKHtcbiAgICAgICAgICAgIG5hbWU6ICdBX0J1dHRvbiBFbGVtZW50JyxcbiAgICAgICAgICAgIHNob3dJbnB1dDogZmFsc2UsXG4gICAgICAgICAgICBiZ0NvbG9yOiAnIzAwN0JGRicsXG4gICAgICAgICAgICBidG4yOiAnQnV0dG9uIDInLFxuICAgICAgICAgICAgc2hvd0lucHV0MjogZmFsc2UsXG4gICAgICAgICAgICBudW1iZXI6IDAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEBBcmUub25CZWZvcmVMb2FkXG4gICAgLy8gYXN5bmMgb25Mb2FkKFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgLy8gICAgIEBBX0luamVjdChBcmVTdG9yZSkgc3RvcmU6IEFyZVN0b3JlLFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgLy8gKSB7XG4gICAgLy8gICAgIGxvZ2dlci5kZWJ1ZygncmVkJywgYEJlZm9yZSBBQnRuIENvbXBvbmVudCBMb2FkIC4uLiA6IDwke25vZGUuYXNlaWQuZW50aXR5fT4gOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX1gKTtcbiAgICAvLyB9XG5cbiAgICAvLyBAQXJlLm9uQWZ0ZXJMb2FkXG4gICAgLy8gYXN5bmMgb25BZnRlckxvYWQoXG4gICAgLy8gICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFyZVN0b3JlKSBzdG9yZTogQXJlU3RvcmUsXG4gICAgLy8gICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyOiBBX0xvZ2dlcixcbiAgICAvLyApIHtcbiAgICAvLyAgICAgbG9nZ2VyLmRlYnVnKCdyZWQnLCBgQWZ0ZXIgQUJ0biBDb21wb25lbnQgTG9hZCAuLi4gOiA8JHtub2RlLmFzZWlkLmVudGl0eX0+IDogJHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9YCk7XG4gICAgLy8gfVxuXG4gICAgQEFyZS5FdmVudEhhbmRsZXJcbiAgICBhc3luYyBoYW5kbGVDbGljayhcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTdG9yZSkgc3RvcmU6IEFyZVN0b3JlLFxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgICAgIEBBX0luamVjdChBcmVFdmVudCkgZXZlbnQ6IEFyZUV2ZW50LFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcbiAgICApIHtcblxuICAgICAgICAvLyAganVzdCBzZXQgcmFuZG9tIFRleHRcbiAgICAgICAgc3RvcmUuc2V0KCdudW1iZXInLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKSk7XG4gICAgICAgIHN0b3JlLnNldCgnbmFtZScsIGBDbGlja2VkISBgKTtcblxuICAgICAgICBzdG9yZS5zZXQoJ3Nob3dJbnB1dCcsICFzdG9yZS5nZXQoJ3Nob3dJbnB1dCcpKTtcbiAgICAgICAgc3RvcmUuc2V0KCdiZ0NvbG9yJywgJyNmZjU3MzMnKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnZXZlbnQgZGF0YTonLCBldmVudCk7XG5cbiAgICAgICAgYXdhaXQgbm9kZS51cGRhdGUoKTtcblxuICAgICAgICAvLyBhd2FpdCBuZXcgQXJlVXBkYXRlU2lnbmFsKG5vZGUpLm5leHQoc2NvcGUpO1xuICAgIH1cblxuXG4gICAgQEFyZS5FdmVudEhhbmRsZXJcbiAgICBhc3luYyBoYW5kbGVDbGljazIoXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU3RvcmUpIHN0b3JlOiBBcmVTdG9yZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuICAgICAgICBAQV9JbmplY3QoQXJlRXZlbnQpIGV2ZW50OiBBcmVFdmVudCxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgKSB7XG5cbiAgICAgICAgLy8gIGp1c3Qgc2V0IHJhbmRvbSBUZXh0XG4gICAgICAgIHN0b3JlLnNldCgnYnRuMicsIGBCdXR0b24gMiBDbGlja2VkISBgKTtcblxuICAgICAgICBzdG9yZS5zZXQoJ3Nob3dJbnB1dDInLCAhc3RvcmUuZ2V0KCdzaG93SW5wdXQyJykpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdldmVudCBkYXRhOicsIGV2ZW50KTtcblxuICAgICAgICBhd2FpdCBub2RlLnVwZGF0ZSgpO1xuXG4gICAgICAgIC8vIGF3YWl0IG5ldyBBcmVVcGRhdGVTaWduYWwobm9kZSkubmV4dChzY29wZSk7XG4gICAgfVxuXG59IiwgImltcG9ydCB7IEFfQ2FsbGVyLCBBX0ZlYXR1cmUsIEFfSW5qZWN0LCBBX1Njb3BlIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5pbXBvcnQgeyBBcmUgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb21wb25lbnRzL0FyZUNvbXBvbmVudC9BcmUuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVFdmVudCB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlRXZlbnQvQXJlRXZlbnQuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlU2NlbmUgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVNjZW5lL0FyZVNjZW5lLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZVN0b3JlIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTdG9yZS9BcmVTdG9yZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBSW5wdXQgZXh0ZW5kcyBBcmUge1xuXG5cbiAgICBAQXJlLlRlbXBsYXRlXG4gICAgYXN5bmMgdGVtcGxhdGUoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyXG4gICAgKSB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCdibHVlJywgYEFJbnB1dCB0ZW1wbGF0ZSBjYWxsZWQuLi4gOiA8JHtub2RlLmFzZWlkLmVudGl0eX0+IDogYCwgbm9kZS5hc2VpZC50b1N0cmluZygpKTtcblxuICAgICAgICBub2RlLnNldFRlbXBsYXRlKGBcbiAgICAgICAgICAgIDxkaXY+PGlucHV0ICRuby11cGRhdGUgQGlucHV0PVwib25DaGFuZ2VcIiA6dmFsdWU9XCJpbnB1dFZhbHVlXCIgdHlwZT1cInRleHRcIiA6cGxhY2Vob2xkZXI9XCJwbGFjZWhvbGRlclwiPiA8L2lucHV0PiAge3tpbnB1dFZhbHVlfX08L2Rpdj5cbiAgICAgICAgICAgIGApO1xuICAgIH1cblxuICAgIEBBcmUuRGF0YVxuICAgIGFzeW5jIGRhdGEoXG4gICAgICAgIEBBX0luamVjdChBcmVTdG9yZSkgc3RvcmU6IEFyZVN0b3JlLFxuICAgICkge1xuICAgICAgICBzdG9yZS5zZXRNdWx0aXBsZSh7XG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogJ0FfSW5wdXQgRWxlbWVudCcsXG4gICAgICAgICAgICBpbnB1dFZhbHVlOiAnVGVzdCcsXG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgQEFyZS5FdmVudEhhbmRsZXJcbiAgICBhc3luYyBBX1VJX05PREVfb25CZWZvcmVMb2FkKFxuICAgICAgICBAQV9JbmplY3QoQXJlTm9kZSkgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU3RvcmUpIHN0b3JlOiBBcmVTdG9yZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBsb2dnZXIubG9nKCdncmVlbicsIGBBSW5wdXQgaXMgaW5pdGlhbGl6aW5nLi4uIDogPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiA6IGAsIG5vZGUuYXNlaWQudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgLy8gc3RvcmUuZGF0YS5zZXQoJ2J0bk5hbWUnLCAnTm9wZScpO1xuICAgIH1cblxuXG4gICAgQEFyZS5FdmVudEhhbmRsZXJcbiAgICBhc3luYyBvbkNoYW5nZShcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTdG9yZSkgc3RvcmU6IEFyZVN0b3JlLFxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgICAgIEBBX0luamVjdChBcmVFdmVudCkgZXZlbnQ6IEFyZUV2ZW50PElucHV0RXZlbnQ+LFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcbiAgICApIHtcblxuICAgICAgICAvLyBjb25zdCB0aW1lb3V0ID0gc3RvcmUuZ2V0KCd0aW1lb3V0Jyk7XG5cbiAgICAgICAgLy8gY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICBpZiAoZXZlbnQuZGF0YS50YXJnZXQgPT09IG51bGxcbiAgICAgICAgICAgIHx8XG4gICAgICAgICAgICBzdG9yZS5nZXQoJ2lucHV0VmFsdWUnKSA9PT0gKGV2ZW50LmRhdGEudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlXG4gICAgICAgICkgcmV0dXJuO1xuXG4gICAgICAgIGxvZ2dlci5sb2coJ2dyZWVuJywgYEFJbnB1dCBvbkNoYW5nZSBldmVudCB0cmlnZ2VyZWQuLi4gOiA8JHtub2RlLmFzZWlkLmVudGl0eX0+IDogYCwgbm9kZS5hc2VpZC50b1N0cmluZygpLCAoZXZlbnQuZGF0YS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpO1xuXG5cblxuICAgICAgICBzdG9yZS5zZXQoJ2lucHV0VmFsdWUnLCAoZXZlbnQuZGF0YS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpO1xuXG5cbiAgICAgICAgLy8gc3RvcmUuc2V0KCd0aW1lb3V0Jywgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IG5vZGUudXBkYXRlKCk7XG5cbiAgICAgICAgLy8gfSwgMTAwMCkpXG5cbiAgICB9XG5cbn0iLCAiaW1wb3J0IHsgQV9EZXBlbmRlbmN5LCBBX0ZlYXR1cmUsIEFfSW5qZWN0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfQ29uZmlnLCBBX0xvZ2dlciwgQV9Qb2x5ZmlsbCwgQV9TZXJ2aWNlLCBBX1NlcnZpY2VGZWF0dXJlcywgQV9TaWduYWwgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFyZUNvbXBpbGVyIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29tcG9uZW50cy9BcmVDb21waWxlci9BcmVDb21waWxlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFyZVNjZW5lIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTY2VuZS9BcmVTY2VuZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiO1xuaW1wb3J0IHsgQXJlSW5pdFNpZ25hbCB9IGZyb20gXCJzcmMvc2lnbmFscy9BcmVJbml0LnNpZ25hbFwiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFyZUFwcCBleHRlbmRzIEFfU2VydmljZSB7XG5cbiAgICBnZXQgcm9vdHMoKTogQXJlTm9kZVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUucmVzb2x2ZUZsYXRBbGw8QXJlTm9kZT4oQXJlTm9kZSkhO1xuICAgIH1cblxuICAgIGFkZFJvb3QoXG4gICAgICAgIG5vZGU6IEFyZU5vZGVcbiAgICApIHtcbiAgICAgICAgdGhpcy5zY29wZS5yZWdpc3Rlcihub2RlKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vbkFmdGVyTG9hZF0oXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyOiBBX0xvZ2dlcixcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ2N5YW4nLCBgVUkgQXBwbGljYXRpb24gbW91bnRlZCBhdCA8JHt0aGlzLnJvb3RzLm1hcChyb290ID0+IHJvb3QuYXNlaWQuc2NvcGUpLmpvaW4oJywgJyl9PiB3aXRoICR7dGhpcy5yb290cy5sZW5ndGh9IHJvb3Qgbm9kZXMuYCk7XG4gICAgfVxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vblN0YXJ0XShcblxuICAgICAgICBAQV9EZXBlbmRlbmN5LlJlcXVpcmVkKClcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuXG5cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcblxuICAgICAgICBmb3IoY29uc3Qgcm9vdCBvZiB0aGlzLnJvb3RzKSB7XG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnY3lhbicsIGBDb21waWxpbmcgcm9vdCBub2RlLi4uIDogPCR7cm9vdC5hc2VpZC5lbnRpdHl9PiA6IGAsIHJvb3QuYXNlaWQudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICAgYXdhaXQgcm9vdC5sb2FkKCk7XG5cbiAgICAgICAgICAgYXdhaXQgcm9vdC5jb21waWxlKCk7XG5cbiAgICAgICAgICAgYXdhaXQgcm9vdC5yZW5kZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnN0IHNpZ25hbCA9IG5ldyBBcmVJbml0U2lnbmFsKHsgZGF0YTogeyByZWFkeTogdHJ1ZSB9IH0pO1xuXG4gICAgICAgIC8vIGF3YWl0IHNpZ25hbC5uZXh0KHRoaXMuc2NvcGUpO1xuICAgIH1cblxufSIsICJpbXBvcnQgeyBBX0ZyYWdtZW50IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFyZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlQ29tcG9uZW50L0FyZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5pbXBvcnQgeyBBcmVQcm9wcyB9IGZyb20gXCIuLi9BcmVQcm9wcy9BcmVQcm9wcy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTdG9yZSB9IGZyb20gXCIuLi9BcmVTdG9yZS9BcmVTdG9yZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTeW50YXhJbml0T3B0aW9ucyB9IGZyb20gXCIuL0FyZVN5bnRheC50eXBlc1wiO1xuXG5leHBvcnQgdHlwZSBBcmVBdHRyaWJ1dGUgPSB7XG4gICAgdGFnOiBzdHJpbmc7ICAgICAgICAvLyB0YWcgbmFtZVxuICAgIG5hbWU6IHN0cmluZzsgICAgICAgLy8gcHJvcCBuYW1lIChlLmcuIFwibGFiZWxcIilcbiAgICByYXc6IHN0cmluZzsgICAgICAgIC8vIHJhdyBhdHRyaWJ1dGUgdGV4dFxuICAgIHZhbHVlOiBzdHJpbmc7ICAgICAvLyBleHByZXNzaW9uIG9yIGxpdGVyYWxcbiAgICBiaW5kaW5nOiBib29sZWFuOyAgIC8vIHRydWUgaWYgOnByb3Bcbn07XG5cbmV4cG9ydCB0eXBlIEFyZUludGVycG9sYXRpb24gPSB7XG4gICAgcmF3OiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIC8qKiBQb3NpdGlvbiBpbiB0aGUgdGVtcGxhdGUgd2hlcmUgdGhpcyBpbnRlcnBvbGF0aW9uIHdhcyBmb3VuZCAqL1xuICAgIHBvc2l0aW9uOiBudW1iZXI7XG59XG5cblxuZXhwb3J0IHR5cGUgQXJlTGlzdGVuZXIgPSB7XG4gICAgdGFnOiBzdHJpbmc7ICAgICAgLy8gdGFnIG5hbWUgd2hlcmUgbGlzdGVuZXIgd2FzIGZvdW5kXG4gICAgbmFtZTogc3RyaW5nOyAgICAgLy8gZXZlbnQgbmFtZSAoZS5nLiBcImlucHV0XCIpXG4gICAgcmF3OiBzdHJpbmc7ICAgICAgLy8gZnVsbCByYXcgYXR0cmlidXRlIChlLmcuICcgQGlucHV0PVwib25DaGFuZ2VcIicpXG4gICAgaGFuZGxlcjogc3RyaW5nOyAgLy8gaGFuZGxlciBleHByZXNzaW9uIChlLmcuIFwib25DaGFuZ2VcIilcbn07XG5cblxuZXhwb3J0IHR5cGUgQXJlRGlyZWN0aXZlID0ge1xuICAgIHRhZzogc3RyaW5nOyAgICAgIC8vIHRhZyBuYW1lXG4gICAgbmFtZTogc3RyaW5nOyAgICAgLy8gZGlyZWN0aXZlIG5hbWUgKGUuZy4gXCIkaWZcIilcbiAgICByYXc6IHN0cmluZzsgICAgICAvLyBmdWxsIHJhdyBhdHRyaWJ1dGVcbiAgICB2YWx1ZT86IHN0cmluZzsgICAvLyBvcHRpb25hbCB2YWx1ZSBleHByZXNzaW9uXG4gICAgdGVtcGxhdGU6IHN0cmluZzsgLy8gZnVsbCB0YWcgdGVtcGxhdGUgd2hlcmUgZGlyZWN0aXZlIHdhcyBmb3VuZFxufTtcblxuXG5leHBvcnQgY2xhc3MgQXJlU3ludGF4IGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cbiAgICByZWFkb25seSBjb25maWchOiBSZXF1aXJlZDxBcmVTeW50YXhJbml0T3B0aW9ucz47XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgY29uZmlnOiBQYXJ0aWFsPEFyZVN5bnRheEluaXRPcHRpb25zPiA9IHt9XG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHsgbmFtZTogJ0FyZVN5bnRheCcgfSk7XG5cbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICBkZWJ1Z01vZGU6IGNvbmZpZy5kZWJ1Z01vZGUgfHwgZmFsc2UsXG4gICAgICAgICAgICBpbnRlcnBvbGF0aW9uRGVsaW1pdGVyczogY29uZmlnLmludGVycG9sYXRpb25EZWxpbWl0ZXJzIHx8IFsne3snLCAnfX0nXSxcbiAgICAgICAgICAgIGJpbmRpbmdEZWxpbWl0ZXI6IGNvbmZpZy5iaW5kaW5nRGVsaW1pdGVyIHx8ICc6JyxcbiAgICAgICAgICAgIGxpc3RlbmVyRGVsaW1pdGVyOiBjb25maWcubGlzdGVuZXJEZWxpbWl0ZXIgfHwgJ0AnLFxuICAgICAgICAgICAgc3RyaWN0TW9kZTogY29uZmlnLnN0cmljdE1vZGUgfHwgdHJ1ZSxcbiAgICAgICAgICAgIGN1c3RvbURpcmVjdGl2ZXM6IGNvbmZpZy5jdXN0b21EaXJlY3RpdmVzIHx8IFtdLFxuICAgICAgICAgICAgdHJpbVdoaXRlc3BhY2U6IGNvbmZpZy50cmltV2hpdGVzcGFjZSB8fCB0cnVlLFxuICAgICAgICAgICAgcm9vdFRhZzogY29uZmlnLnJvb3RUYWcgfHwgJ2FyZS1yb290JyxcbiAgICAgICAgICAgIGRpcmVjdGl2ZURlbGltaXRlcjogY29uZmlnLmRpcmVjdGl2ZURlbGltaXRlciB8fCAnJCcsXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHByb3RlY3RlZCBTVEFOREFSRF9IVE1MX1RBR1MgPSBuZXcgU2V0KFtcbiAgICAgICAgXCJodG1sXCIsIFwiaGVhZFwiLCBcImJvZHlcIiwgXCJkaXZcIiwgXCJzcGFuXCIsIFwicFwiLCBcImFcIiwgXCJ1bFwiLCBcIm9sXCIsIFwibGlcIixcbiAgICAgICAgXCJ0YWJsZVwiLCBcInRoZWFkXCIsIFwidGJvZHlcIiwgXCJ0clwiLCBcInRkXCIsIFwidGhcIiwgXCJmb3JtXCIsIFwiaW5wdXRcIiwgXCJidXR0b25cIixcbiAgICAgICAgXCJzZWxlY3RcIiwgXCJvcHRpb25cIiwgXCJ0ZXh0YXJlYVwiLCBcImxhYmVsXCIsIFwiaW1nXCIsIFwiaDFcIiwgXCJoMlwiLCBcImgzXCIsIFwiaDRcIixcbiAgICAgICAgXCJoNVwiLCBcImg2XCIsIFwic2NyaXB0XCIsIFwic3R5bGVcIiwgXCJsaW5rXCIsIFwibWV0YVwiLCBcIm5hdlwiLCBcImZvb3RlclwiLCBcImhlYWRlclwiLFxuICAgICAgICBcInNlY3Rpb25cIiwgXCJhcnRpY2xlXCIsIFwiYXNpZGVcIiwgXCJtYWluXCIsIFwiY2FudmFzXCIsIFwidmlkZW9cIiwgXCJhdWRpb1wiLCBcImJyXCIsXG4gICAgICAgIFwiaHJcIiwgXCJzdHJvbmdcIiwgXCJlbVwiLCBcInNtYWxsXCIsIFwicHJlXCIsIFwiY29kZVwiLCBcImlmcmFtZVwiLCBcImRldGFpbHNcIixcbiAgICAgICAgXCJzdW1tYXJ5XCIsIFwic3ZnXCIsIFwicGF0aFwiLCBcImNpcmNsZVwiLCBcInJlY3RcIiwgXCJwb2x5Z29uXCIsIFwiZ1wiLCBcImRlZnNcIlxuICAgIF0pO1xuXG5cbiAgICBpc1Jvb3ROb2RlKG5vZGU6IEFyZU5vZGUpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuYXNlaWQuZW50aXR5LnRvTG93ZXJDYXNlKCkgPT09ICdhcmUtcm9vdCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBhIHRhZyBpcyBhIGN1c3RvbSBjb21wb25lbnQgb3Igc3RhbmRhcmQgSFRNTFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBub2RlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGlzQ3VzdG9tTm9kZShub2RlOiBBcmVOb2RlKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy5TVEFOREFSRF9IVE1MX1RBR1MuaGFzKG5vZGUuYXNlaWQuZW50aXR5LnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgaW50ZXJwb2xhdGlvbnMgZnJvbSB0ZW1wbGF0ZSAoc3ludGF4LWFnbm9zdGljKS5cbiAgICAgKiBcbiAgICAgKiBTaW1wbHkgZmluZHMgYWxsIGludGVycG9sYXRpb24gcGF0dGVybnMgYW5kIHJldHVybnMgdGhlaXIgcG9zaXRpb24sIHJhdyB0ZXh0LCBhbmQgbmFtZS5cbiAgICAgKiBXb3JrcyB3aXRoIGFueSB0ZW1wbGF0ZSBmb3JtYXQgLSBIVE1MLCBwbGFpbiB0ZXh0LCBvciBhbnkgb3RoZXIgc3ludGF4LlxuICAgICAqIFxuICAgICAqIEV4YW1wbGU6IGBIZWxsbyB7e25hbWV9fSwgd2VsY29tZSB0byB7e3BsYWNlfX0hYFxuICAgICAqIFJldHVybnM6IFtcbiAgICAgKiAgIHsgcmF3OiBcInt7bmFtZX19XCIsIG5hbWU6IFwibmFtZVwiLCBwb3NpdGlvbjogNiB9LFxuICAgICAqICAgeyByYXc6IFwie3twbGFjZX19XCIsIG5hbWU6IFwicGxhY2VcIiwgcG9zaXRpb246IDI2IH1cbiAgICAgKiBdXG4gICAgICogXG4gICAgICogQHBhcmFtIHRlbXBsYXRlIC0gVGVtcGxhdGUgc3RyaW5nIGluIGFueSBmb3JtYXRcbiAgICAgKi9cbiAgICAqZXh0cmFjdEludGVycG9sYXRpb25zKHRlbXBsYXRlOiBzdHJpbmcpOiBJdGVyYWJsZTxBcmVJbnRlcnBvbGF0aW9uPiB7XG4gICAgICAgIGNvbnN0IGludGVycG9sYXRpb25SZWdleCA9IG5ldyBSZWdFeHAoYCR7dGhpcy5jb25maWcuaW50ZXJwb2xhdGlvbkRlbGltaXRlcnNbMF19XFxcXHMqKFthLXpBLVowLTlfLiRdKylcXFxccyoke3RoaXMuY29uZmlnLmludGVycG9sYXRpb25EZWxpbWl0ZXJzWzFdfWAsICdnJyk7XG4gICAgICAgIFxuICAgICAgICBsZXQgbWF0Y2g6IFJlZ0V4cEV4ZWNBcnJheSB8IG51bGw7XG4gICAgICAgIHdoaWxlICgobWF0Y2ggPSBpbnRlcnBvbGF0aW9uUmVnZXguZXhlYyh0ZW1wbGF0ZSkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICB5aWVsZCB7IFxuICAgICAgICAgICAgICAgIHJhdzogbWF0Y2hbMF0sIFxuICAgICAgICAgICAgICAgIG5hbWU6IG1hdGNoWzFdLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBtYXRjaC5pbmRleCFcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyBjdXN0b20gZGlyZWN0aXZlcyBmcm9tIHRoZSBGSVJTVC9UT1AtTEVWRUwgb3BlbmluZyB0YWcgT05MWS5cbiAgICAgKiBEaXJlY3RpdmVzIHN0YXJ0IHdpdGggYCRgXG4gICAgICpcbiAgICAgKiBFeGFtcGxlczpcbiAgICAgKiAgICRpZj1cImNvbmRpdGlvblwiXG4gICAgICogICAkc2hvd1xuICAgICAqICAgJG5vLXVwZGF0ZT1cIlwiXG4gICAgICogXG4gICAgICogTm90ZTogVGhpcyBtZXRob2QgaW50ZW50aW9uYWxseSBpZ25vcmVzIG5lc3RlZCBlbGVtZW50cyBhbmQgb25seSBwcm9jZXNzZXNcbiAgICAgKiB0aGUgdmVyeSBmaXJzdCBvcGVuaW5nIHRhZyBpbiB0aGUgcHJvdmlkZWQgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqL1xuICAgICpleHRyYWN0RGlyZWN0aXZlcyh0ZW1wbGF0ZTogc3RyaW5nKTogSXRlcmFibGU8QXJlRGlyZWN0aXZlPiB7XG4gICAgICAgIC8vIFRyaW0gd2hpdGVzcGFjZSB0byBlbnN1cmUgd2Ugc3RhcnQgYXQgdGhlIGFjdHVhbCBmaXJzdCB0YWdcbiAgICAgICAgY29uc3QgdHJpbW1lZFRlbXBsYXRlID0gdGVtcGxhdGUudHJpbSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gTWF0Y2ggT05MWSB0aGUgdmVyeSBmaXJzdCBvcGVuaW5nIHRhZyAoYW5jaG9yZWQgd2l0aCBeKVxuICAgICAgICBjb25zdCBmaXJzdFRhZ01hdGNoID0gdHJpbW1lZFRlbXBsYXRlLm1hdGNoKFxuICAgICAgICAgICAgL148KFthLXpBLVpdW15cXHMvPl0qKShcXHNbXj5dKj8pPz4vXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCFmaXJzdFRhZ01hdGNoKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgdGFnID0gZmlyc3RUYWdNYXRjaFsxXTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlc1BhcnQgPSBmaXJzdFRhZ01hdGNoWzJdO1xuXG4gICAgICAgIC8vIElmIG5vIGF0dHJpYnV0ZXMsIG5vIGRpcmVjdGl2ZXMgcG9zc2libGVcbiAgICAgICAgaWYgKCFhdHRyaWJ1dGVzUGFydCkgcmV0dXJuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRyYWN0IGRpcmVjdGl2ZXMgZnJvbSB0aGUgZmlyc3QgdGFnJ3MgYXR0cmlidXRlcyBvbmx5LlxuICAgICAgICAgKiBNYXRjaGVzIHBhdHRlcm5zIGxpa2U6XG4gICAgICAgICAqICAkaWY9XCJjb25kaXRpb25cIlxuICAgICAgICAgKiAgJHNob3dcbiAgICAgICAgICogICRuby11cGRhdGU9XCJcIlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgZGlyZWN0aXZlUmVnZXggPSAvXFxzKyhcXCRbYS16QS1aMC05Xy1dKykoPzpcXHMqPVxccyooPzpcIihbXlwiXSopXCJ8JyhbXiddKiknKSk/L2c7XG5cbiAgICAgICAgbGV0IG1hdGNoOiBSZWdFeHBFeGVjQXJyYXkgfCBudWxsO1xuXG4gICAgICAgIHdoaWxlICgobWF0Y2ggPSBkaXJlY3RpdmVSZWdleC5leGVjKGF0dHJpYnV0ZXNQYXJ0KSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBtYXRjaFsxXTtcblxuICAgICAgICAgICAgLy8gT3B0aW9uYWwgd2hpdGVsaXN0IHN1cHBvcnQgLSBvbmx5IGFwcGx5IGlmIHdoaXRlbGlzdCBpcyBleHBsaWNpdGx5IHByb3ZpZGVkXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcuY3VzdG9tRGlyZWN0aXZlcyAmJlxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmN1c3RvbURpcmVjdGl2ZXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICF0aGlzLmNvbmZpZy5jdXN0b21EaXJlY3RpdmVzLmluY2x1ZGVzKG5hbWUpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmF3ID0gbWF0Y2hbMF07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG1hdGNoWzJdID8/IG1hdGNoWzNdO1xuICAgICAgICAgICAgY29uc3QgdGFnVGVtcGxhdGUgPSBmaXJzdFRhZ01hdGNoWzBdOyAvLyBPbmx5IHRoZSBmaXJzdCB0YWdcblxuICAgICAgICAgICAgeWllbGQge1xuICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgIHJhdyxcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGFnVGVtcGxhdGVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIGNvbXBvbmVudCBwcm9wcyBmcm9tIHRoZSBGSVJTVCBvcGVuaW5nIHRhZy5cbiAgICAgKlxuICAgICAqIEV4YW1wbGVzOlxuICAgICAqICAgbGFiZWw9XCJDbGlja1wiXG4gICAgICogICA6bGFiZWw9XCInQ2xpY2sgTWUnXCJcbiAgICAgKlxuICAgICAqIEV4Y2x1ZGVzOlxuICAgICAqICAgQGNsaWNrXG4gICAgICogICAkaWZcbiAgICAgKi9cbiAgICAqZXh0cmFjdEF0dHJpYnV0ZXModGVtcGxhdGU6IHN0cmluZyk6IEl0ZXJhYmxlPEFyZUF0dHJpYnV0ZT4ge1xuICAgICAgICAvLyBNYXRjaCBmaXJzdCBvcGVuaW5nIHRhZ1xuICAgICAgICBjb25zdCBmaXJzdFRhZ01hdGNoID0gdGVtcGxhdGUubWF0Y2goXG4gICAgICAgICAgICAvXjwoW2EtekEtWl1bXlxccy8+XSopKFxcc1tePl0qPyk/Pi9cbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIWZpcnN0VGFnTWF0Y2gpIHJldHVybjtcblxuICAgICAgICBjb25zdCB0YWcgPSBmaXJzdFRhZ01hdGNoWzFdO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzUGFydCA9IGZpcnN0VGFnTWF0Y2hbMl07XG5cbiAgICAgICAgaWYgKCFhdHRyaWJ1dGVzUGFydCkgcmV0dXJuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXRjaGVzOlxuICAgICAgICAgKiAgIGxhYmVsPVwidGV4dFwiXG4gICAgICAgICAqICAgOmxhYmVsPVwiJ0NsaWNrJ1wiXG4gICAgICAgICAqXG4gICAgICAgICAqIFNraXBzOlxuICAgICAgICAgKiAgIEBjbGlja1xuICAgICAgICAgKiAgICRpZlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgcHJvcFJlZ2V4ID1cbiAgICAgICAgICAgIC9cXHMrKDo/KShbYS16QS1aXVthLXpBLVowLTkuXy1dKilcXHMqPVxccyooPzpcIihbXlwiXSopXCJ8JyhbXiddKiknKS9nO1xuXG4gICAgICAgIGxldCBtYXRjaDogUmVnRXhwRXhlY0FycmF5IHwgbnVsbDtcblxuICAgICAgICB3aGlsZSAoKG1hdGNoID0gcHJvcFJlZ2V4LmV4ZWMoYXR0cmlidXRlc1BhcnQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgaXNCaW5kaW5nID0gbWF0Y2hbMV0gPT09ICc6JztcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBtYXRjaFsyXTtcblxuICAgICAgICAgICAgLy8gRXhjbHVkZSBsaXN0ZW5lcnMgJiBkaXJlY3RpdmVzIGV4cGxpY2l0bHlcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBuYW1lLnN0YXJ0c1dpdGgodGhpcy5jb25maWcubGlzdGVuZXJEZWxpbWl0ZXIpIHx8XG4gICAgICAgICAgICAgICAgbmFtZS5zdGFydHNXaXRoKHRoaXMuY29uZmlnLmRpcmVjdGl2ZURlbGltaXRlcilcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByYXcgPSBtYXRjaFswXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbWF0Y2hbM10gPz8gbWF0Y2hbNF07XG5cbiAgICAgICAgICAgIHlpZWxkIHtcbiAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICByYXcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlIHx8ICcnLFxuICAgICAgICAgICAgICAgIGJpbmRpbmc6IGlzQmluZGluZ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgZXZlbnQgbGlzdGVuZXJzIGZyb20gdGhlIEZJUlNUL1RPUC1MRVZFTCBvcGVuaW5nIHRhZyBPTkxZIGluIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiBTdXBwb3J0czpcbiAgICAgKiAgLSBAZXZlbnQ9XCJoYW5kbGVyXCJcbiAgICAgKiAgLSBAZXZlbnQ9J2hhbmRsZXInXG4gICAgICogXG4gICAgICogTm90ZTogVGhpcyBtZXRob2QgaW50ZW50aW9uYWxseSBpZ25vcmVzIG5lc3RlZCBlbGVtZW50cyBhbmQgb25seSBwcm9jZXNzZXNcbiAgICAgKiB0aGUgdmVyeSBmaXJzdCBvcGVuaW5nIHRhZyBpbiB0aGUgcHJvdmlkZWQgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqL1xuICAgICpleHRyYWN0TGlzdGVuZXJzKHRlbXBsYXRlOiBzdHJpbmcpOiBJdGVyYWJsZTxBcmVMaXN0ZW5lcj4ge1xuICAgICAgICAvLyBUcmltIHdoaXRlc3BhY2UgdG8gZW5zdXJlIHdlIHN0YXJ0IGF0IHRoZSBhY3R1YWwgZmlyc3QgdGFnXG4gICAgICAgIGNvbnN0IHRyaW1tZWRUZW1wbGF0ZSA9IHRlbXBsYXRlLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIC8vIE1hdGNoIE9OTFkgdGhlIHZlcnkgZmlyc3Qgb3BlbmluZyB0YWcgKGFuY2hvcmVkIHdpdGggXilcbiAgICAgICAgY29uc3QgZmlyc3RUYWdNYXRjaCA9IHRyaW1tZWRUZW1wbGF0ZS5tYXRjaChcbiAgICAgICAgICAgIC9ePChbYS16QS1aXVteXFxzLz5dKikoXFxzW14+XSo/KT8+L1xuICAgICAgICApO1xuXG4gICAgICAgIGlmICghZmlyc3RUYWdNYXRjaCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHRhZyA9IGZpcnN0VGFnTWF0Y2hbMV07XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXNQYXJ0ID0gZmlyc3RUYWdNYXRjaFsyXTtcblxuICAgICAgICAvLyBJZiBubyBhdHRyaWJ1dGVzLCBubyBsaXN0ZW5lcnMgcG9zc2libGVcbiAgICAgICAgaWYgKCFhdHRyaWJ1dGVzUGFydCkgcmV0dXJuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRyYWN0IGxpc3RlbmVycyBmcm9tIHRoZSBmaXJzdCB0YWcncyBhdHRyaWJ1dGVzIG9ubHkuXG4gICAgICAgICAqIE1hdGNoIGxpc3RlbmVyIGF0dHJpYnV0ZXM6XG4gICAgICAgICAqICBAaW5wdXQ9XCJvbkNoYW5nZVwiXG4gICAgICAgICAqICBAY2hhbmdlPSdoYW5kbGVDaGFuZ2UnXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBsaXN0ZW5lclJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgIGBcXFxccyske3RoaXMuY29uZmlnLmxpc3RlbmVyRGVsaW1pdGVyfShbYS16QS1aMC05XzotXSspYCArXG4gICAgICAgICAgICBgXFxcXHMqPVxcXFxzKig/OlwiKFteXCJdKilcInwnKFteJ10qKScpYCxcbiAgICAgICAgICAgICdnJ1xuICAgICAgICApO1xuXG4gICAgICAgIGxldCBtYXRjaDogUmVnRXhwRXhlY0FycmF5IHwgbnVsbDtcblxuICAgICAgICB3aGlsZSAoKG1hdGNoID0gbGlzdGVuZXJSZWdleC5leGVjKGF0dHJpYnV0ZXNQYXJ0KSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhdyA9IG1hdGNoWzBdO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IG1hdGNoWzFdO1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IG1hdGNoWzJdID8/IG1hdGNoWzNdID8/IFwiXCI7XG5cbiAgICAgICAgICAgIHlpZWxkIHtcbiAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICByYXcsXG4gICAgICAgICAgICAgICAgaGFuZGxlclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICBpc0JpbmRpbmdQcm9wKHByb3A6IEFyZUF0dHJpYnV0ZSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gcHJvcC5yYXcudHJpbSgpLnN0YXJ0c1dpdGgoJzonKVxuICAgIH1cblxuXG4gICAgZXh0cmFjdFByb3BWYWx1ZShwcm9wOiBBcmVBdHRyaWJ1dGUsIHBhcmVudFN0b3JlOiBBcmVTdG9yZSk6IGFueSB7XG5cbiAgICAgICAgaWYgKHByb3AudmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJpbmRpbmcgcHJvcCAoc3RhcnRzIHdpdGggOilcbiAgICAgICAgaWYgKHByb3AuYmluZGluZykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwcm9wLnZhbHVlLnRyaW0oKTtcblxuICAgICAgICAgICAgLy8gU3RhdGljIGxpdGVyYWwgYmluZGluZzogOmxhYmVsPVwiJ0NsaWNrJ1wiIG9yIDpcIkNsaWNrXCJcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAodmFsdWUuc3RhcnRzV2l0aChcIidcIikgJiYgdmFsdWUuZW5kc1dpdGgoXCInXCIpKSB8fFxuICAgICAgICAgICAgICAgICh2YWx1ZS5zdGFydHNXaXRoKCdcIicpICYmIHZhbHVlLmVuZHNXaXRoKCdcIicpKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRHluYW1pYyBiaW5kaW5nOiA6bGFiZWw9XCJzb21lS2V5XCJcbiAgICAgICAgICAgIC8vIChmdXR1cmU6IGV4cHJlc3Npb25zLCBwYXRocywgY29tcHV0ZWQsIGV0Yy4pXG4gICAgICAgICAgICByZXR1cm4gcGFyZW50U3RvcmU/LmdldCh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdGF0aWMgcHJvcDogbGFiZWw9XCJDbGlja1wiXG4gICAgICAgIHJldHVybiBwcm9wLnZhbHVlO1xuICAgIH1cblxuXG4gICAgYXBwbHlEaXJlY3RpdmUobm9kZTogQXJlTm9kZSwgdGVtcGxhdGU6IHN0cmluZywgZGlyZWN0aXZlOiBBcmVEaXJlY3RpdmUsIHZhbHVlPzogYW55KTogc3RyaW5nIHtcblxuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICdcXG5cXG5cXG4nICsgJz09PT09PT09PT09PT09PT09PT09PT09PT09PT09J1xuICAgICAgICAgICAgKyBgXFxuQXBwbHlpbmcgZGlyZWN0aXZlICcke2RpcmVjdGl2ZS5uYW1lfScgb24gPCR7bm9kZS5hc2VpZC5lbnRpdHl9PmBcbiAgICAgICAgICAgICsgYFxcbkRpcmVjdGl2ZSByYXc6ICR7ZGlyZWN0aXZlLnJhd31gXG4gICAgICAgICAgICArICdcXG5cXG5cXG4nICsgJz09PT09PT09PT09PT09PT09PT09PT09PT09PT09J1xuICAgICAgICApXG5cbiAgICAgICAgc3dpdGNoIChkaXJlY3RpdmUubmFtZSkge1xuICAgICAgICAgICAgLy8gY2FzZSAnJHRyaW0nOiB7XG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoZGlyZWN0aXZlLnJhdywgJycpLnRyaW0oKTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIGNhc2UgJyRpZic6IHtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHJlbW92ZSB0aGUgZWxlbWVudCBpZiB0aGUgY29uZGl0aW9uIGlzIGZhbHN5XG4gICAgICAgICAgICAgICAgLy8gSWYgY29uZGl0aW9uIGlzIHRydXRoeSwga2VlcCB0aGUgZWxlbWVudCBidXQgcmVtb3ZlIHRoZSBkaXJlY3RpdmUgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbmRpdGlvbiBpcyB0cnVlIC0ga2VlcCBlbGVtZW50LCBqdXN0IHJlbW92ZSB0aGUgJGlmIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZShkaXJlY3RpdmUucmF3LCAnJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29uZGl0aW9uIGlzIGZhbHNlIC0gcmVtb3ZlIHRoZSBlbnRpcmUgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZShkaXJlY3RpdmUudGVtcGxhdGUsICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjYXNlICckbm8tdXBkYXRlJzoge1xuICAgICAgICAgICAgLy8gICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKGRpcmVjdGl2ZS5yYXcsICcnKS50cmltKCk7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvLyBleHRyYWN0UHJvcFZhbHVlKHByb3A6IEFyZVByb3AsIHBhcmVudFN0b3JlOiBBcmVTdG9yZSk6IGFueSB7XG4gICAgLy8gICAgIHN3aXRjaCAodHJ1ZSkge1xuXG4gICAgLy8gICAgICAgICBjYXNlIHRoaXMuaXNCaW5kaW5nUHJvcChwcm9wKSAmJiAhKHByb3AudmFsdWUuc3RhcnRzV2l0aCgnXFwnJykgJiYgcHJvcC52YWx1ZS5lbmRzV2l0aCgnXFwnJykpOiB7XG4gICAgLy8gICAgICAgICAgICAgLy8gRHluYW1pYyBiaW5kaW5nIChmb3Igbm93IG9ubHkgc3RyaW5nIGxpdGVyYWxzIGFyZSBzdXBwb3J0ZWQpXG4gICAgLy8gICAgICAgICAgICAgLy8gSW4gZnV0dXJlIGl0IHNob3VsZCBzdXBwb3J0IGV4cHJlc3Npb25zIGFuZCBkYXRhIHBhdGhzXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIHBhcmVudFN0b3JlPy5nZXQocHJvcC52YWx1ZSk7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgICBjYXNlIHRoaXMuaXNCaW5kaW5nUHJvcChwcm9wKSAmJiAocHJvcC52YWx1ZS5zdGFydHNXaXRoKCdcXCcnKSAmJiBwcm9wLnZhbHVlLmVuZHNXaXRoKCdcXCcnKSk6IHtcbiAgICAvLyAgICAgICAgICAgICAvLyBTdGF0aWMgYmluZGluZ1xuICAgIC8vICAgICAgICAgICAgIHJldHVybiBwcm9wLnZhbHVlLnN1YnN0cmluZygxLCBwcm9wLnZhbHVlLmxlbmd0aCAtIDEpO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgZGVmYXVsdDoge1xuICAgIC8vICAgICAgICAgICAgIC8vIFN0YXRpYyB2YWx1ZVxuICAgIC8vICAgICAgICAgICAgIHJldHVybiBwcm9wLnZhbHVlO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgcmVwbGFjZUludGVycG9sYXRpb24odGVtcGxhdGU6IHN0cmluZywgaW50ZXJwb2xhdGlvbjogQXJlSW50ZXJwb2xhdGlvbiB8IHN0cmluZywgdmFsdWU6IGFueSk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGtleSA9IHR5cGVvZiBpbnRlcnBvbGF0aW9uID09PSAnc3RyaW5nJyA/IGludGVycG9sYXRpb24gOiBpbnRlcnBvbGF0aW9uLm5hbWU7XG5cbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UobmV3IFJlZ0V4cChgJHt0aGlzLmNvbmZpZy5pbnRlcnBvbGF0aW9uRGVsaW1pdGVyc1swXX1cXFxccyoke2tleX1cXFxccyoke3RoaXMuY29uZmlnLmludGVycG9sYXRpb25EZWxpbWl0ZXJzWzFdfWAsICdnJyksIHZhbHVlICE9PSB1bmRlZmluZWQgPyBTdHJpbmcodmFsdWUpIDogJycpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9DYWxsZXIsIEFfQ29tcG9uZW50LCBBX0NvbnRleHQsIEFfRGVwZW5kZW5jeSwgQV9GZWF0dXJlLCBBX0Zvcm1hdHRlckhlbHBlciwgQV9JbmplY3QsIEFfU2NvcGUsIEFfVFlQRVNfX0VudGl0eUZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfQ29uZmlnLCBBX0xvZ2dlciwgQV9MT0dHRVJfQ09MT1JTLCBBX1NjaGVkdWxlT2JqZWN0LCBBX1NlcnZpY2VGZWF0dXJlcywgQV9TaWduYWxfSW5pdCwgQV9TaWduYWxCdXMsIEFfU2lnbmFsVmVjdG9yLCBBX1NpZ25hbFZlY3RvckZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5pbXBvcnQgeyBBcmVOb2RlRmVhdHVyZXMgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiO1xuaW1wb3J0IHsgQXJlRmVhdHVyZXMgfSBmcm9tIFwiLi4vQXJlQ29tcG9uZW50L0FyZS5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFyZVN0b3JlIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTdG9yZS9BcmVTdG9yZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTY2VuZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU2NlbmUvQXJlU2NlbmUuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlIH0gZnJvbSBcIi4uL0FyZUNvbXBvbmVudC9BcmUuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVJbmRleCB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlSW5kZXgvQXJlSW5kZXguY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlUHJvcHMgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVByb3BzL0FyZVByb3BzLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZUluaXRTaWduYWwgfSBmcm9tIFwic3JjL3NpZ25hbHMvQXJlSW5pdC5zaWduYWxcIjtcbmltcG9ydCB7IEFyZUV2ZW50IH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVFdmVudC9BcmVFdmVudC5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTeW50YXggfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN5bnRheC9BcmVTeW50YXguY29udGV4dFwiO1xuXG5leHBvcnQgY2xhc3MgQXJlQ29tcGlsZXIgZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09IENPTVBPTkVOVCBNRVRIT0RTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uRXZlbnQsXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGV2ZW50KFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZUV2ZW50KSBldmVudDogQXJlRXZlbnQsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgICAgICBAQV9JbmplY3QoQV9GZWF0dXJlKSBmZWF0dXJlOiBBX0ZlYXR1cmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHNjb3BlLnJlc29sdmU8QV9Mb2dnZXI+KEFfTG9nZ2VyKTtcblxuICAgICAgICBsb2dnZXI/LmRlYnVnKHNjZW5lLmRlYnVnUHJlZml4ICsgYEV2ZW50IFRyaWdnZXIgZm9yIDwke25vZGUuYXNlaWQuZW50aXR5fT4gIHdpdGggYXNlaWQgOnske25vZGUuYXNlaWQudG9TdHJpbmcoKX19IGZvciBldmVudDogJHtldmVudC5uYW1lfWApO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjb3BlLnJlc29sdmU8QXJlPihBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2Uobm9kZS5hc2VpZC5lbnRpdHkpKTtcblxuICAgICAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgICAgICBhd2FpdCBmZWF0dXJlLmNoYWluKGNvbXBvbmVudCwgZXZlbnQubmFtZSwgc2NvcGUpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFfVFlQRVNfX0VudGl0eUZlYXR1cmVzLkxPQUQsXG4gICAgICAgIGJlZm9yZTogLy4qLyxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgYmVmb3JlTG9hZChcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIEBBX0luamVjdChBX0ZlYXR1cmUpIGZlYXR1cmU6IEFfRmVhdHVyZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgY29uc3QgbG9nZ2VyID0gc2NvcGUucmVzb2x2ZTxBX0xvZ2dlcj4oQV9Mb2dnZXIpO1xuXG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gc2NvcGUucmVzb2x2ZTxBcmU+KEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShub2RlLmFzZWlkLmVudGl0eSkpO1xuXG4gICAgICAgIGlmIChjb21wb25lbnQpXG4gICAgICAgICAgICBhd2FpdCBmZWF0dXJlLmNoYWluKGNvbXBvbmVudCwgQXJlRmVhdHVyZXMub25CZWZvcmVMb2FkLCBub2RlLnNjb3BlKTtcbiAgICB9XG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9UWVBFU19fRW50aXR5RmVhdHVyZXMuTE9BRCxcbiAgICAgICAgYWZ0ZXI6IC8uKi8sXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGFmdGVyTG9hZChcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgICAgICBAQV9JbmplY3QoQV9GZWF0dXJlKSBmZWF0dXJlOiBBX0ZlYXR1cmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHNjb3BlLnJlc29sdmU8QV9Mb2dnZXI+KEFfTG9nZ2VyKTtcblxuICAgICAgICBsb2dnZXI/LmRlYnVnKHNjZW5lLmRlYnVnUHJlZml4ICsgYFtcbkxvYWQgLT4gQWZ0ZXJdIENvbXBvbmVudCBUcmlnZ2VyIGZvciA8JHtub2RlLmFzZWlkLmVudGl0eX0+ICB3aXRoIGFzZWlkIDp7JHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9fWApO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50KG5vZGUsIHNjb3BlKTtcblxuICAgICAgICBpZiAoY29tcG9uZW50KVxuICAgICAgICAgICAgYXdhaXQgZmVhdHVyZS5jaGFpbihjb21wb25lbnQsIEFyZUZlYXR1cmVzLm9uQWZ0ZXJMb2FkLCBub2RlLnNjb3BlKTtcblxuICAgIH1cblxuXG4gICAgY29tcG9uZW50KG5vZGU6IEFyZU5vZGUsIHNjb3BlOiBBX1Njb3BlKTogQXJlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHNjb3BlLnJlc29sdmU8QXJlPihBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2Uobm9kZS5hc2VpZC5lbnRpdHkpKTtcbiAgICB9XG5cblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBX1RZUEVTX19FbnRpdHlGZWF0dXJlcy5MT0FELFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyBsb2FkKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVN5bnRheCkgc3ludGF4OiBBcmVTeW50YXgsXG4gICAgICAgIEBBX0luamVjdChBX0ZlYXR1cmUpIGZlYXR1cmU6IEFfRmVhdHVyZSxcblxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcj86IEFfTG9nZ2VyLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICkge1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50KG5vZGUsIHNjb3BlKTtcblxuXG4gICAgICAgIGlmICghY29tcG9uZW50ICYmIHN5bnRheC5pc0N1c3RvbU5vZGUobm9kZSkpIHtcbiAgICAgICAgICAgIGxvZ2dlcj8ud2FybmluZyhcbiAgICAgICAgICAgICAgICAnQ29tcG9uZW50IE5vdCBGb3VuZCcsXG4gICAgICAgICAgICAgICAgYE5vIGNvbXBvbmVudCByZWdpc3RlcmVkIGZvciBlbnRpdHk6ICR7bm9kZS5hc2VpZC5lbnRpdHl9LiBQbGVhc2UgZW5zdXJlIHRoYXQgdGhlIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkIGluIHRoZSBzY29wZSBiZWZvcmUgcmVuZGVyaW5nLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGNvbnN0IG5ld05vZGVTY2VuZSA9IG5ldyBBcmVTY2VuZShub2RlLmFzZWlkKTtcbiAgICAgICAgY29uc3QgbmV3Tm9kZUluZGV4ID0gbmV3IEFyZUluZGV4KG5vZGUuYXNlaWQpO1xuICAgICAgICBjb25zdCBuZXdOb2RlU3RvcmUgPSBuZXcgQXJlU3RvcmUobm9kZS5hc2VpZCk7XG4gICAgICAgIGNvbnN0IG5ld05vZGVQcm9wcyA9IG5ldyBBcmVQcm9wcyhub2RlLmFzZWlkKTtcblxuICAgICAgICBub2RlLnNjb3BlLnJlZ2lzdGVyKG5ld05vZGVTY2VuZSk7XG4gICAgICAgIG5vZGUuc2NvcGUucmVnaXN0ZXIobmV3Tm9kZUluZGV4KTtcblxuICAgICAgICBpZiAoc3ludGF4LmlzQ3VzdG9tTm9kZShub2RlKSkge1xuICAgICAgICAgICAgbm9kZS5zY29wZS5yZWdpc3RlcihuZXdOb2RlU3RvcmUpO1xuICAgICAgICAgICAgbm9kZS5zY29wZS5yZWdpc3RlcihuZXdOb2RlUHJvcHMpO1xuICAgICAgICB9XG5cblxuXG5cbiAgICAgICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICAgICAgYXdhaXQgZmVhdHVyZS5jaGFpbihjb21wb25lbnQsIEFyZUZlYXR1cmVzLm9uRGF0YSwgc2NvcGUpO1xuICAgICAgICAgICAgYXdhaXQgZmVhdHVyZS5jaGFpbihjb21wb25lbnQsIEFyZUZlYXR1cmVzLm9uU3R5bGVzLCBzY29wZSk7XG4gICAgICAgICAgICBhd2FpdCBmZWF0dXJlLmNoYWluKGNvbXBvbmVudCwgQXJlRmVhdHVyZXMub25UZW1wbGF0ZSwgc2NvcGUpO1xuICAgICAgICB9XG5cblxuXG5cbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZyhuZXdOb2RlU2NlbmUuZGVidWdQcmVmaXggKyBgTG9hZGVkIGNvbXBvbmVudCA8JHtub2RlLmFzZWlkLmVudGl0eX0+IHdpdGggJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG4gICAgfVxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZU5vZGVGZWF0dXJlcy5vbkNvbXBpbGUsXG4gICAgICAgIGJlZm9yZTogLy4qLyxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgYmVmb3JlQ29tcGlsZShcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgICAgICBAQV9JbmplY3QoQV9GZWF0dXJlKSBmZWF0dXJlOiBBX0ZlYXR1cmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHNjb3BlLnJlc29sdmU8QV9Mb2dnZXI+KEFfTG9nZ2VyKTtcblxuICAgICAgICBsb2dnZXI/LmRlYnVnKHNjZW5lLmRlYnVnUHJlZml4ICsgYFtDb21waWxlIC0+IEJlZm9yZV0gQ29tcG9uZW50IFRyaWdnZXIgZm9yIDwke25vZGUuYXNlaWQuZW50aXR5fT4gIHdpdGggYXNlaWQgOnske25vZGUuYXNlaWQudG9TdHJpbmcoKX19YCk7XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gc2NvcGUucmVzb2x2ZTxBcmU+KEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShub2RlLmFzZWlkLmVudGl0eSkpO1xuXG4gICAgICAgIGlmIChjb21wb25lbnQpXG4gICAgICAgICAgICBhd2FpdCBmZWF0dXJlLmNoYWluKGNvbXBvbmVudCwgQXJlRmVhdHVyZXMub25CZWZvcmVDb21waWxlLCBub2RlLnNjb3BlKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZU5vZGVGZWF0dXJlcy5vbkNvbXBpbGUsXG4gICAgICAgIGFmdGVyOiAvLiovLFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyBhZnRlckNvbXBpbGUoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfRmVhdHVyZSkgZmVhdHVyZTogQV9GZWF0dXJlLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICkge1xuICAgICAgICBjb25zdCBsb2dnZXIgPSBzY29wZS5yZXNvbHZlPEFfTG9nZ2VyPihBX0xvZ2dlcik7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjb3BlLnJlc29sdmU8QXJlPihBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2Uobm9kZS5hc2VpZC5lbnRpdHkpKTtcblxuICAgICAgICBsb2dnZXI/LmRlYnVnKHNjZW5lLmRlYnVnUHJlZml4ICsgYFtDb21waWxlIC0+IEFmdGVyXSBDb21wb25lbnQgVHJpZ2dlciBmb3IgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiAgd2l0aCBhc2VpZCA6eyR7bm9kZS5hc2VpZC50b1N0cmluZygpfX1gKTtcblxuXG4gICAgICAgIGlmIChjb21wb25lbnQpXG4gICAgICAgICAgICBhd2FpdCBmZWF0dXJlLmNoYWluKGNvbXBvbmVudCwgQXJlRmVhdHVyZXMub25BZnRlckNvbXBpbGUsIG5vZGUuc2NvcGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBpbGVzIHRoZSBBcmVOb2RlIHVzaW5nIEFyZUNvbXBpbGVyXG4gICAgICogXG4gICAgICogXG4gICAgICogQHBhcmFtIGxvZ2dlciBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZU5vZGVGZWF0dXJlcy5vbkNvbXBpbGUsXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGNvbXBpbGUoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcblxuICAgICAgICAvLyBDb21waWxhdGlvbiBsb2dpYyBjYW4gYmUgYWRkZWQgaGVyZVxuXG4gICAgfVxuXG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uQmVmb3JlUmVuZGVyLFxuICAgICAgICBiZWZvcmU6IC8uKi8sXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGJlZm9yZVJlbmRlcihcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgICAgICBAQV9JbmplY3QoQV9GZWF0dXJlKSBmZWF0dXJlOiBBX0ZlYXR1cmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKSB7XG5cbiAgICAgICAgY29uc3QgbG9nZ2VyID0gc2NvcGUucmVzb2x2ZTxBX0xvZ2dlcj4oQV9Mb2dnZXIpO1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBzY29wZS5yZXNvbHZlPEFyZT4oQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5vZGUuYXNlaWQuZW50aXR5KSk7XG5cbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZyhzY2VuZS5kZWJ1Z1ByZWZpeCArIGBbUmVuZGVyIC0+IEJlZm9yZV0gQ29tcG9uZW50IFRyaWdnZXIgZm9yIDwke25vZGUuYXNlaWQuZW50aXR5fT4gIHdpdGggYXNlaWQgOnske25vZGUuYXNlaWQudG9TdHJpbmcoKX19YCk7XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudClcbiAgICAgICAgICAgIGF3YWl0IGZlYXR1cmUuY2hhaW4oY29tcG9uZW50LCBBcmVGZWF0dXJlcy5vbkJlZm9yZVJlbmRlciwgbm9kZS5zY29wZSk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25BZnRlclJlbmRlcixcbiAgICAgICAgYWZ0ZXI6IC8uKi8sXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGFmdGVyUmVuZGVyKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBX0ZlYXR1cmUpIGZlYXR1cmU6IEFfRmVhdHVyZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgY29uc3QgbG9nZ2VyID0gc2NvcGUucmVzb2x2ZTxBX0xvZ2dlcj4oQV9Mb2dnZXIpO1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudChub2RlLCBzY29wZSk7XG5cbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZyhzY2VuZS5kZWJ1Z1ByZWZpeCArIGBbUmVuZGVyIC0+IEFmdGVyXSBDb21wb25lbnQgVHJpZ2dlciBmb3IgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiAgd2l0aCBhc2VpZCA6eyR7bm9kZS5hc2VpZC50b1N0cmluZygpfX1gKTtcblxuXG4gICAgICAgIGlmIChjb21wb25lbnQpXG4gICAgICAgICAgICBhd2FpdCBmZWF0dXJlLmNoYWluKGNvbXBvbmVudCwgQXJlRmVhdHVyZXMub25BZnRlclJlbmRlciwgbm9kZS5zY29wZSk7XG5cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIEFyZU5vZGUgaW50byB0aGUgQXJlU2NlbmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGUgXG4gICAgICogQHBhcmFtIG5vZGUgXG4gICAgICogQHBhcmFtIHNjZW5lIFxuICAgICAqIEBwYXJhbSBsb2dnZXIgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25SZW5kZXIsXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIHJlbmRlcihcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHBhcmVudFNjZW5lPzogQXJlU2NlbmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IG5vZGUuc2NvcGUucmVzb2x2ZTxBX0xvZ2dlcj4oQV9Mb2dnZXIpO1xuXG4gICAgICAgIGxvZ2dlcj8uZGVidWcoc2NlbmUuZGVidWdQcmVmaXggKyBgUmVuZGVyaW5nIG5vZGUgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiBpbnRvICR7c2NlbmUubmFtZX1gKTtcblxuICAgIH1cblxuICAgIGluZGV4KFxuICAgICAgICBub2RlOiBBcmVOb2RlXG4gICAgKSB7XG5cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIEFyZU5vZGVcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZU5vZGVGZWF0dXJlcy5vblVwZGF0ZSxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgdXBkYXRlKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuXG5cbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgYXdhaXQgbm9kZS5jb21waWxlKCk7XG5cbiAgICAgICAgYXdhaXQgbm9kZS5yZW5kZXIoKTtcbiAgICB9XG5cblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBX1RZUEVTX19FbnRpdHlGZWF0dXJlcy5ERVNUUk9ZLFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyBkZXN0cm95KFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHBhcmVudFNjZW5lOiBBcmVTY2VuZSxcblxuICAgICAgICBAQV9JbmplY3QoQXJlSW5kZXgpIGluZGV4OiBBcmVJbmRleCxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVN0b3JlKSBzdG9yZTogQXJlU3RvcmUsXG4gICAgICAgIEBBX0luamVjdChBcmVQcm9wcykgcHJvcHM6IEFyZVByb3BzLFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG5cbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI/OiBBX0xvZ2dlcixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcblxuICAgICAgICAvLyBsb2dnZXI/LmRlYnVnKHNjZW5lLmRlYnVnUHJlZml4ICsgYERlc3Ryb3lpbmcgbm9kZSA8JHtub2RlLmFzZWlkLmVudGl0eX0+IEFTRUlEOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX1gKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0Rlc3Ryb3lpbmcgbm9kZSA8JyArIG5vZGUuYXNlaWQuZW50aXR5ICsgJz4gQVNFSUQ6ICcgKyBub2RlLmFzZWlkLnRvU3RyaW5nKCkpO1xuICAgICAgICAvLyBwYXJlbnRTY2VuZS5yZXNldFN0YXRlKG5vZGUpO1xuICAgICAgICAvLyBpbmRleC5jbGVhcigpO1xuICAgICAgICAvLyBzdG9yZS5jbGVhcigpO1xuICAgICAgICAvLyBwcm9wcy5jbGVhcigpO1xuXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygc2NlbmUubm9kZXMoKSkge1xuICAgICAgICAgICAgYXdhaXQgY2hpbGQuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuXG5cbn0iLCAiaW1wb3J0IHsgQXJlTGlzdGVuZXIgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN5bnRheC9BcmVTeW50YXguY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlTm9kZSB9IGZyb20gXCIuLi8uLi9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5pbXBvcnQgeyBBcmVTY2VuZUluc3RydWN0aW9uIH0gZnJvbSBcIi4uL0FyZVNjZW5lSW5zdHJ1Y3Rpb24uZW50aXR5XCI7XG5pbXBvcnQgeyBBcmVFdmVudCB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlRXZlbnQvQXJlRXZlbnQuY29udGV4dFwiO1xuXG5leHBvcnQgY2xhc3MgQXR0YWNoTGlzdGVuZXJJbnN0cnVjdGlvbiBleHRlbmRzIEFyZVNjZW5lSW5zdHJ1Y3Rpb248e1xuICAgIHRhcmdldDogQXJlTm9kZTtcbiAgICBsaXN0ZW5lcjogQXJlTGlzdGVuZXI7XG59PiB7XG5cbiAgICBwcml2YXRlIF9jYWxsYmFjayE6IChlOiBhbnkpID0+IFByb21pc2U8dm9pZD47XG5cbiAgICBnZXQgbGlzdGVuZXIoKTogQXJlTGlzdGVuZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXMhLmxpc3RlbmVyO1xuICAgIH1cblxuICAgIGdldCBldmVudCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXMhLmxpc3RlbmVyLmhhbmRsZXI7XG4gICAgfVxuXG5cbiAgICBnZXQgdGFyZ2V0KCk6IEFyZU5vZGUge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXMhLnRhcmdldDtcbiAgICB9XG5cbiAgICBnZXQgY2FsbGJhY2soKTogKGU6IGFueSkgPT4gUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWxsYmFjaztcbiAgICB9XG5cblxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIHRhcmdldDogQXJlTm9kZSxcbiAgICAgICAgbGlzdGVuZXI6IEFyZUxpc3RlbmVyLFxuICAgICkge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBpZDogW25vZGUsIGxpc3RlbmVyLm5hbWVdLFxuICAgICAgICAgICAgYWN0aW9uOiAnbGlzdGVuZXInLFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcixcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3RXZlbnQgPSBuZXcgQXJlRXZlbnQobGlzdGVuZXIuaGFuZGxlciwge1xuICAgICAgICAgICAgICAgIGV2ZW50OiBsaXN0ZW5lci5uYW1lLFxuICAgICAgICAgICAgICAgIGRhdGE6IGVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRhcmdldC5lbWl0KG5ld0V2ZW50KTtcblxuICAgICAgICB9XG4gICAgfVxufSIsICJpbXBvcnQgeyBBcmVEaXJlY3RpdmUgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN5bnRheC9BcmVTeW50YXguY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlU2NlbmVJbnN0cnVjdGlvbiB9IGZyb20gXCIuLi9BcmVTY2VuZUluc3RydWN0aW9uLmVudGl0eVwiO1xuaW1wb3J0IHsgQXJlTm9kZSB9IGZyb20gXCIuLi8uLi9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5cblxuXG5cbmV4cG9ydCBjbGFzcyBBZGREaXJlY3RpdmVJbnN0cnVjdGlvbiBleHRlbmRzIEFyZVNjZW5lSW5zdHJ1Y3Rpb248e1xuICAgIGRpcmVjdGl2ZTogQXJlRGlyZWN0aXZlO1xuICAgIHZhbHVlOiBhbnk7XG59PiB7XG5cbiAgICBnZXQgZGlyZWN0aXZlKCk6IEFyZURpcmVjdGl2ZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmFtcyEuZGlyZWN0aXZlO1xuICAgIH1cblxuICAgIGdldCB2YWx1ZSgpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXMhLnZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBub2RlOiBBcmVOb2RlLFxuICAgICAgICBkaXJlY3RpdmU6IEFyZURpcmVjdGl2ZSxcbiAgICAgICAgdmFsdWU6IGFueVxuICAgICkge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBpZDogW2RpcmVjdGl2ZSwgbm9kZV0sXG4gICAgICAgICAgICBhY3Rpb246ICdkaXJlY3RpdmUnLFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIi4uLy4uL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHlcIjtcbmltcG9ydCB7IEFyZVNjZW5lSW5zdHJ1Y3Rpb24gfSBmcm9tIFwiLi4vQXJlU2NlbmVJbnN0cnVjdGlvbi5lbnRpdHlcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBZGRBdHRyaWJ1dGVJbnN0cnVjdGlvbiBleHRlbmRzIEFyZVNjZW5lSW5zdHJ1Y3Rpb248e1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB2YWx1ZTogc3RyaW5nO1xufT4ge1xuXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1zIS5uYW1lO1xuICAgIH1cblxuICAgIGdldCB2YWx1ZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXMhLnZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBub2RlOiBBcmVOb2RlLFxuICAgICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICAgIHZhbHVlOiBzdHJpbmdcbiAgICApIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgaWQ6IFtuYW1lLCBub2RlXSxcbiAgICAgICAgICAgIGFjdGlvbjogJ2FkZC1hdHRyaWJ1dGUnLFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQXJlSW50ZXJwb2xhdGlvbiB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU3ludGF4L0FyZVN5bnRheC5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTY2VuZUluc3RydWN0aW9uIH0gZnJvbSBcIi4uL0FyZVNjZW5lSW5zdHJ1Y3Rpb24uZW50aXR5XCI7XG5pbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIi4uLy4uL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHlcIjtcblxuXG5leHBvcnQgY2xhc3MgUmVwbGFjZUludGVycG9sYXRpb25JbnN0cnVjdGlvbiBleHRlbmRzIEFyZVNjZW5lSW5zdHJ1Y3Rpb248e1xuICAgIGludGVycG9sYXRpb246IEFyZUludGVycG9sYXRpb247XG4gICAgdmFsdWU6IHN0cmluZztcbiAgICBwcmV2VmFsdWU/OiBzdHJpbmc7XG59PiB7XG5cbiAgICBnZXQgcGxhY2VtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXM/LnByZXZWYWx1ZSB8fCB0aGlzLmludGVycG9sYXRpb24ucmF3O1xuICAgIH1cblxuICAgIGdldCBwb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGlvbi5wb3NpdGlvbjtcbiAgICB9XG5cbiAgICBnZXQgaW50ZXJwb2xhdGlvbigpOiBBcmVJbnRlcnBvbGF0aW9uIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1zIS5pbnRlcnBvbGF0aW9uO1xuICAgIH1cblxuICAgIGdldCB2YWx1ZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJhbXM/LnZhbHVlIHx8ICcnO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBub2RlOiBBcmVOb2RlLFxuICAgICAgICBpbnRlcnBvbGF0aW9uOiBBcmVJbnRlcnBvbGF0aW9uLFxuICAgICAgICB2YWx1ZTogc3RyaW5nLFxuICAgICAgICBwcmV2VmFsdWU/OiBzdHJpbmcsXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGlkOiBbbm9kZSwgaW50ZXJwb2xhdGlvbl0sXG4gICAgICAgICAgICBhY3Rpb246ICdyZXBsYWNlLWludGVycG9sYXRpb24nLFxuICAgICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIGludGVycG9sYXRpb24sXG4gICAgICAgICAgICAgICAgcHJldlZhbHVlOiBwcmV2VmFsdWUsXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQXJlTm9kZSB9IGZyb20gXCIuLi8uLi9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5pbXBvcnQgeyBBcmVTY2VuZUluc3RydWN0aW9uIH0gZnJvbSBcIi4uL0FyZVNjZW5lSW5zdHJ1Y3Rpb24uZW50aXR5XCI7XG5cblxuZXhwb3J0IGNsYXNzIFVubW91bnROb2RlSW5zdHJ1Y3Rpb24gZXh0ZW5kcyBBcmVTY2VuZUluc3RydWN0aW9uPHtcbiAgICBwYXRoOiBzdHJpbmdcbn0+IHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBub2RlOiBBcmVOb2RlLFxuICAgICAgICBwYXRoOiBzdHJpbmdcbiAgICApIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgaWQ6IFtub2RlXSxcbiAgICAgICAgICAgIGFjdGlvbjogJ3VubW91bnQtbm9kZScsXG4gICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgcGF0aFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5pbXBvcnQgeyBBcmVJbmRleCB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlSW5kZXgvQXJlSW5kZXguY29udGV4dFwiO1xuaW1wb3J0IHsgQV9Db25maWcsIEFfRXhlY3V0aW9uQ29udGV4dCwgQV9Mb2dnZXIsIEFfU2VydmljZUZlYXR1cmVzLCB9IGZyb20gXCJAYWRhYXMvYS11dGlsc1wiO1xuaW1wb3J0IHsgQV9DYWxsZXIsIEFfRGVwZW5kZW5jeSwgQV9FcnJvciwgQV9GZWF0dXJlLCBBX0luamVjdCwgQV9TY29wZSwgQVNFSUQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQXJlTm9kZUZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQXJlU3RvcmUgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN0b3JlL0FyZVN0b3JlLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZVByb3BzIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVQcm9wcy9BcmVQcm9wcy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVDb21waWxlciB9IGZyb20gXCIuLi9BcmVDb21waWxlci9BcmVDb21waWxlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFyZVNjZW5lIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTY2VuZS9BcmVTY2VuZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVTeW50YXggfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN5bnRheC9BcmVTeW50YXguY29udGV4dFwiO1xuaW1wb3J0IHsgQWRkU3R5bGVJbnN0cnVjdGlvbiB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZVNjZW5lSW5zdHJ1Y3Rpb24vdHlwZXMvQWRkU3R5bGUuaW5zdHJ1Y3Rpb25cIjtcbmltcG9ydCB7IEF0dGFjaExpc3RlbmVySW5zdHJ1Y3Rpb24gfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVTY2VuZUluc3RydWN0aW9uL3R5cGVzL0F0dGFjaExpc3RlbmVyLmluc3RydWN0aW9uXCI7XG5pbXBvcnQgeyBBZGREaXJlY3RpdmVJbnN0cnVjdGlvbiB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZVNjZW5lSW5zdHJ1Y3Rpb24vdHlwZXMvQWRkRGlyZWN0aXZlLmluc3RydWN0aW9uXCI7XG5pbXBvcnQgeyBBZGRBdHRyaWJ1dGVJbnN0cnVjdGlvbiB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZVNjZW5lSW5zdHJ1Y3Rpb24vdHlwZXMvQWRkQXR0cmlidXRlLmluc3RydWN0aW9uXCI7XG5pbXBvcnQgeyBNb3VudE5vZGVJbnN0cnVjdGlvbiB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZVNjZW5lSW5zdHJ1Y3Rpb24vdHlwZXMvTW91bnROb2RlLmluc3RydWN0aW9uXCI7XG5pbXBvcnQgeyBSZXBsYWNlSW50ZXJwb2xhdGlvbkluc3RydWN0aW9uIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlU2NlbmVJbnN0cnVjdGlvbi90eXBlcy9SZXBsYWNlSW50ZXJwb2xhdGlvbi5pbnN0cnVjdGlvblwiO1xuaW1wb3J0IHsgQXJlU2NlbmVJbnN0cnVjdGlvbkZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlU2NlbmVJbnN0cnVjdGlvbi9BcmVTY2VuZUluc3RydWN0aW9uLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQXJlQXBwIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGFpbmVycy9BcmVBcHAvQXJlQXBwLmNvbnRhaW5lclwiO1xuaW1wb3J0IHsgVW5tb3VudE5vZGVJbnN0cnVjdGlvbiB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZVNjZW5lSW5zdHJ1Y3Rpb24vdHlwZXMvVW5tb3VudE5vZGUuaW5zdHJ1Y3Rpb25cIjtcblxuLyoqXG4gKiBCcm93c2VyIERPTSBzcGVjaWZpYyBzY2VuZSBpbXBsZW1lbnRhdGlvblxuICogSGFuZGxlcyBhbGwgYnJvd3Nlci9ET00gcmVsYXRlZCBvcGVyYXRpb25zIGFuZCBwcm92aWRlcyB3ZWItc3BlY2lmaWMgY29tcGlsYXRpb24gbG9naWNcbiAqL1xuZXhwb3J0IGNsYXNzIEFyZUJyb3dzZXJDb21waWxlciBleHRlbmRzIEFyZUNvbXBpbGVyIHtcblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25CZWZvcmVMb2FkXShcbiAgICAgICAgQEFfSW5qZWN0KEFyZUFwcCkgYXBwOiBBcmVBcHAsXG5cblxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHJvb3Q/OiBBcmVTY2VuZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfQ29uZmlnKSBjb25maWc/OiBBX0NvbmZpZzxhbnk+LFxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcj86IEFfTG9nZ2VyLFxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyAxKSBJbml0aWFsaXplIFNjZW5lIGlmIG5vdCBwcmVzZW50XG4gICAgICAgIGxvZ2dlcj8uZGVidWcoJ2N5YW4nLCBgSW5pdGlhbGl6aW5nIEFyZVNjZW5lIGluIEFyZUJyb3dzZXJDb21waWxlci4uLmApO1xuICAgICAgICAvLyBjb25zdCBtb3VudFBvaW50SUQgPSBjb25maWc/LmdldCgnQVJFX01PVU5UX1BPSU5UJykgfHwgJ2FwcCc7XG5cbiAgICAgICAgaWYgKCFyb290KSB7XG4gICAgICAgICAgICBjb25zdCBtb3VudFBvaW50RWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYXJlLXJvb3QnKVxuXG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBBcnJheS5mcm9tKG1vdW50UG9pbnRFbGVtZW50cykpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RJZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpZCcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFyb290SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfRXJyb3IoYGFyZS1yb290IGVsZW1lbnQgbXVzdCBoYXZlIGFuICdpZCcgYXR0cmlidXRlIHRvIGlkZW50aWZ5IHRoZSBtb3VudCBwb2ludC5gKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCByb290Tm9kZSA9IG5ldyBBcmVOb2RlKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHJvb3RJZCxcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICdhcmUnLFxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdhcmUtcm9vdCcsXG4gICAgICAgICAgICAgICAgICAgIG1hcmt1cDogZWxlbWVudC5vdXRlckhUTUwsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBlbGVtZW50LmlubmVySFRNTCxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGFwcC5hZGRSb290KHJvb3ROb2RlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09IENPTVBPTkVOVCBNRVRIT0RTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBDb21waWxlcyB0aGUgQXJlTm9kZSB1c2luZyBBcmVDb21waWxlclxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBsb2dnZXIgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25Db21waWxlLFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyBjb21waWxlKFxuICAgICAgICAvKipcbiAgICAgICAgICogQWN0dWFsIE5vZGUgbm8gYmUgY29tcGlsZWRcbiAgICAgICAgICovXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vZGVzIG93bmVkIFNjZW5lXG4gICAgICAgICAqIFxuICAgICAgICAgKi9cbiAgICAgICAgQEFfRGVwZW5kZW5jeS5GbGF0KClcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJlbnQgU2NlbmUgd2hlcmUgdGhlIG5vZGUgaXMgcmVnaXN0ZXJlZFxuICAgICAgICAgKi9cbiAgICAgICAgQEFfRGVwZW5kZW5jeS5QYXJlbnQoKVxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHBhcmVudFNjZW5lOiBBcmVTY2VuZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2xvYmFsIFN5bnRheCBEZWZpbml0aW9uIGZvciBwYXJzaW5nIG1hcmt1cFxuICAgICAgICAgKi9cbiAgICAgICAgQEFfSW5qZWN0KEFyZVN5bnRheCkgc3ludGF4OiBBcmVTeW50YXgsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY29wZSBvZiB0aGUgQ29tcGlsYXRpb24gRmVhdHVyZSAtIGFjdHVhbGx5IHRoZSBBcmVOb2RlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG5cbiAgICAgICAgQEFfSW5qZWN0KEFyZVByb3BzKSBwcm9wczogQXJlUHJvcHMsXG4gICAgICAgIEBBX0luamVjdChBcmVTdG9yZSkgc3RvcmU6IEFyZVN0b3JlLFxuXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUGFyZW50KClcbiAgICAgICAgQEFfSW5qZWN0KEFyZVN0b3JlKSBwYXJlbnRTdG9yZTogQXJlU3RvcmUsXG5cblxuXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgKSB7XG5cbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZygndmlvbGV0JyxcbiAgICAgICAgICAgICctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScsXG4gICAgICAgICAgICAnU3RhcnQgQ29tcGlsaW5nIE5vZGU6IDwnICsgbm9kZS5hc2VpZC5lbnRpdHkgKyAnPiBBU0VJRDogJyArIG5vZGUuYXNlaWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSdcbiAgICAgICAgKVxuXG5cbiAgICAgICAgLy8gIHRoZSBjYXNlIHdoZW4gaXQncyBOT1QgYSBSb290Tm9kZVxuICAgICAgICBpZiAocGFyZW50U2NlbmUpIHtcblxuICAgICAgICAgICAgbG9nZ2VyPy5kZWJ1ZyhzY2VuZS5kZWJ1Z1ByZWZpeCArIGBDb21waWxpbmcgbm9kZSA8JHtub2RlLmFzZWlkLmVudGl0eX0+IGluIFNjZW5lIDwke3BhcmVudFNjZW5lLm5hbWV9PmApO1xuXG5cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIDEpIGluZGV4IHRoZSBzY2VuZSBhbmQgcGxhbiBNb3VudCBOb2RlIGluc3RydWN0aW9uXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgIGNvbnN0IG1vdW50SW5zdHJ1Y3Rpb24gPSBuZXcgTW91bnROb2RlSW5zdHJ1Y3Rpb24obm9kZSwgc2NlbmUucGF0aCk7XG5cbiAgICAgICAgICAgIGlmICghcGFyZW50U2NlbmUuaXNQbGFubmVkKG1vdW50SW5zdHJ1Y3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyPy5kZWJ1ZygncmVkJywgc2NlbmUuZGVidWdQcmVmaXggKyBgQXJlQ29tcGlsZXI6IEJ1aWxkaW5nIFNjZW5lIEluZGV4IGZvciA8JHtzY2VuZS5uYW1lfT4gZHVyaW5nIGNvbXBpbGF0aW9uIG9mIE5vZGUgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PmApO1xuXG5cbiAgICAgICAgICAgICAgICAvLyAgbW92ZSB0byBsb2FkXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleChub2RlKTtcblxuICAgICAgICAgICAgICAgIHBhcmVudFNjZW5lLnBsYW4obW91bnRJbnN0cnVjdGlvbik7XG4gICAgICAgICAgICAgICAgYXdhaXQgbW91bnRJbnN0cnVjdGlvbi5pbml0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzeW50YXguaXNDdXN0b21Ob2RlKG5vZGUpKVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW50ZXJwb2xhdGlvbiBvZiBzeW50YXguZXh0cmFjdEludGVycG9sYXRpb25zKG5vZGUudGVtcGxhdGUpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzdG9yZS5nZXQoaW50ZXJwb2xhdGlvbi5uYW1lKSB8fCBwYXJlbnRTdG9yZS5nZXQoaW50ZXJwb2xhdGlvbi5uYW1lKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbiA9IG5ldyBSZXBsYWNlSW50ZXJwb2xhdGlvbkluc3RydWN0aW9uKG5vZGUsIGludGVycG9sYXRpb24sIHZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZUluc3RydWN0aW9uID0gcGFyZW50U2NlbmUuZ2V0U3RhdGUoaW5zdHJ1Y3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uLnVwZGF0ZSh7IHZhbHVlLCBwcmV2VmFsdWU6IHN0YXRlSW5zdHJ1Y3Rpb24/LnZhbHVlIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFyZW50U2NlbmUuaXNQbGFubmVkKGluc3RydWN0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U2NlbmUucGxhbihpbnN0cnVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBpbnN0cnVjdGlvbi5pbml0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTY2VuZS51blBsYW4oaW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U2NlbmUucGxhbihpbnN0cnVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDEpIGV4dHJhY3QgYWxsIHByb3BzIGZyb20gdGhlIG1hcmt1cCBhbmQgc2V0IHRoZW0gaW4gdGhlIHByb3BzIHN0b3JlXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHIgb2Ygc3ludGF4LmV4dHJhY3RBdHRyaWJ1dGVzKG5vZGUubWFya3VwKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSAoc3ludGF4LmlzQmluZGluZ1Byb3AoYXR0cikgP1xuICAgICAgICAgICAgICAgICAgICBzdG9yZS5nZXQoYXR0ci52YWx1ZSkgfHwgcGFyZW50U3RvcmUuZ2V0KGF0dHIudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIDogYXR0ci52YWx1ZSkgfHwgJyc7XG5cbiAgICAgICAgICAgICAgICBwcm9wcy5zZXQobmFtZSwgdmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgcGFyZW50U2NlbmUucGxhbihuZXcgQWRkQXR0cmlidXRlSW5zdHJ1Y3Rpb24obm9kZSwgbmFtZSwgdmFsdWUpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gM2EpIFByb2Nlc3MgZGlyZWN0aXZlcyBmaXJzdCBiZWZvcmUgb3RoZXIgb3BlcmF0aW9uc1xuICAgICAgICAgICAgZm9yIChjb25zdCBkaXJlY3RpdmUgb2Ygc3ludGF4LmV4dHJhY3REaXJlY3RpdmVzKG5vZGUubWFya3VwKSkge1xuICAgICAgICAgICAgICAgIGxldCBkaXJlY3RpdmVWYWx1ZTogYW55O1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBkaXJlY3RpdmUgdmFsdWUgZnJvbSBzdG9yZSBvciBwcm9wc1xuICAgICAgICAgICAgICAgIGlmIChkaXJlY3RpdmUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlVmFsdWUgPSBzdG9yZS5nZXQoZGlyZWN0aXZlLnZhbHVlKSB8fCBwYXJlbnRTdG9yZS5nZXQoZGlyZWN0aXZlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUHJvY2Vzc2luZyBkaXJlY3RpdmUnLCBkaXJlY3RpdmUubmFtZSwgJ3dpdGggdmFsdWUnLCBkaXJlY3RpdmVWYWx1ZSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgaW5zdHJ1Y3Rpb24gPSBuZXcgQWRkRGlyZWN0aXZlSW5zdHJ1Y3Rpb24obm9kZSwgZGlyZWN0aXZlLCBkaXJlY3RpdmVWYWx1ZSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZUluc3RydWN0aW9uID0gcGFyZW50U2NlbmUuZ2V0U3RhdGUoaW5zdHJ1Y3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0ZUluc3RydWN0aW9uIHx8IHN0YXRlSW5zdHJ1Y3Rpb24udmFsdWUgIT09IGRpcmVjdGl2ZVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFNjZW5lLnVuUGxhbihpbnN0cnVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFNjZW5lLnBsYW4oaW5zdHJ1Y3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGluc3RydWN0aW9uLmluaXQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gMikgcmVwbGFjZSBhbGwgc3R5bGUgaW50ZXJwb2xhdGlvbnMgaW4gdGhlIHN0eWxlc1xuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgbGV0IHN0eWxlcyA9IG5vZGUuc3R5bGVzIHx8ICcnO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGludGVycG9sYXRpb24gb2Ygc3ludGF4LmV4dHJhY3RJbnRlcnBvbGF0aW9ucyhzdHlsZXMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzdG9yZS5nZXQoaW50ZXJwb2xhdGlvbi5uYW1lKTtcblxuICAgICAgICAgICAgICAgIHN0eWxlcyA9IHN5bnRheC5yZXBsYWNlSW50ZXJwb2xhdGlvbihzdHlsZXMsIGludGVycG9sYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0eWxlcy50cmltKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbiA9IG5ldyBBZGRTdHlsZUluc3RydWN0aW9uKG5vZGUsIHN0eWxlcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudFNjZW5lLmlzUGxhbm5lZChpbnN0cnVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50U2NlbmUucGxhbihpbnN0cnVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGluc3RydWN0aW9uLmluaXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIDMpIGdvIHRocm91Z2ggYWxsIGxpc3RlbmVycyBhbmQgcmVnaXN0ZXIgdGhlbSBpbiB0aGUgc2NlbmVcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2Ygc3ludGF4LmV4dHJhY3RMaXN0ZW5lcnMobm9kZS5tYXJrdXApKSB7XG5cbiAgICAgICAgICAgICAgICAvLyAgdGFyZ2V0IGVtaXR0ZXIgc2hvdWxkIGJlIGN1c3RvbSBjb21wb25lbnQgdGhhdCBvd25zIHRoZSBsaXN0ZW5lclxuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50U2NlbmUgPSBzY2VuZTtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0Tm9kZSA9IG5vZGVcblxuXG4gICAgICAgICAgICAgICAgd2hpbGUgKCFzeW50YXguaXNDdXN0b21Ob2RlKHRhcmdldE5vZGUpICYmIGN1cnJlbnRTY2VuZS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9IGN1cnJlbnRTY2VuZS5wYXJlbnQuc2NvcGUucmVzb2x2ZUZsYXQ8QXJlTm9kZT4oQXJlTm9kZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc2VpZDogY3VycmVudFNjZW5lLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pIGFzIGFueSBhcyBBcmVOb2RlXG5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjZW5lID0gY3VycmVudFNjZW5lLnBhcmVudDtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIGNvbnN0IGluc3RydWN0aW9uID0gbmV3IEF0dGFjaExpc3RlbmVySW5zdHJ1Y3Rpb24obm9kZSwgdGFyZ2V0Tm9kZSwgbGlzdGVuZXIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFwYXJlbnRTY2VuZS5pc1BsYW5uZWQoaW5zdHJ1Y3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFNjZW5lLnBsYW4oaW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBpbnN0cnVjdGlvbi5pbml0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyPy5kZWJ1ZygncmVkJywgc2NlbmUuZGVidWdQcmVmaXggKyBgUm9vdCBOb2RlIGlzIGZvdW5kIGR1cmluZyBjb21waWxhdGlvbiBvZiBOb2RlIDwke25vZGUuYXNlaWQuZW50aXR5fT4uIEluZGV4aW5nIHRoZSBTY2VuZS4uLmAsIHNjZW5lKTtcblxuICAgICAgICAgICAgdGhpcy5pbmRleChub2RlKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgZm9yIChjb25zdCBzY2VuZU5vZGUgb2Ygc2NlbmUubm9kZXMoKSkge1xuXG4gICAgICAgICAgICBjb25zdCBleGlzdGVkID0gc2NlbmUuc2NvcGUucmVzb2x2ZUZsYXQ8QXJlTm9kZT4oQXJlTm9kZSwge1xuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgIGFzZWlkOiBzY2VuZU5vZGUuYXNlaWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICBpZiAoIWV4aXN0ZWQpIHtcbiAgICAgICAgICAgICAgICBzY2VuZS5hdHRhY2goc2NlbmVOb2RlKVxuXG4gICAgICAgICAgICAgICAgYXdhaXQgc2NlbmVOb2RlLmxvYWQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgc2NlbmVOb2RlLmNvbXBpbGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgcGF0aCBmb3IgRE9NIGVsZW1lbnQgcmVsYXRpdmUgdG8gdmlydHVhbCByb290IChsZWdhY3kgbWV0aG9kLCBrZXB0IGZvciBjb21wYXRpYmlsaXR5KVxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBzdHJpbmctYmFzZWQgcGF0aCBjb21wdXRhdGlvbiBpbnN0ZWFkXG4gICAgICovXG4gICAgY29tcHV0ZVBhdGgobm9kZTogTm9kZSwgdmlydHVhbDogRWxlbWVudCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHBhdGg6IG51bWJlcltdID0gW107XG4gICAgICAgIGxldCBjdXJyZW50OiBOb2RlIHwgbnVsbCA9IG5vZGU7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudCAhPT0gdmlydHVhbCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gY3VycmVudC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gQXJyYXkuZnJvbShwYXJlbnQuY2hpbGROb2RlcylcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihuID0+IChuIGFzIGFueSkubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKVxuICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihjdXJyZW50KTtcblxuICAgICAgICAgICAgICAgIHBhdGgudW5zaGlmdChpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gcGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhdGguam9pbignLicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBET00gZWxlbWVudCBieSBzdHJpbmcgcGF0aCBmcm9tIHJvb3QgZWxlbWVudFxuICAgICAqIFdvcmtzIHdpdGggcGF0aHMgZ2VuZXJhdGVkIGJ5IHRoZSBzdHJpbmctYmFzZWQgcGFyc2VyXG4gICAgICovXG4gICAgZ2V0RWxlbWVudEJ5UGF0aChcbiAgICAgICAgcm9vdDogRWxlbWVudCxcbiAgICAgICAgcGF0aDogc3RyaW5nXG4gICAgKTogRWxlbWVudCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICghcGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbmRpY2VzID0gcGF0aC5zcGxpdCgnLicpLm1hcChpbmRleCA9PiBwYXJzZUludChpbmRleCwgMTApKTtcbiAgICAgICAgbGV0IGN1cnJlbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQgPSByb290O1xuXG4gICAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgaW5kaWNlcykge1xuICAgICAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IG9ubHkgZWxlbWVudCBjaGlsZHJlbiAobm90IHRleHQgbm9kZXMsIGNvbW1lbnRzLCBldGMuKVxuICAgICAgICAgICAgY29uc3QgZWxlbWVudENoaWxkcmVuID0gQXJyYXkuZnJvbShjdXJyZW50LmNoaWxkcmVuKS5maWx0ZXIoY2hpbGQgPT4gY2hpbGQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ID49IGVsZW1lbnRDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJyZW50ID0gZWxlbWVudENoaWxkcmVuW2luZGV4XSBhcyBFbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuXG5cblxuICAgIGdldEVsZW1lbnRCeU5vZGUobm9kZTogQXJlTm9kZSk6IEVsZW1lbnQgfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBzY2VuZSA9IG5vZGUuc2NvcGUucmVzb2x2ZUZsYXQ8QXJlU2NlbmU+KEFyZVNjZW5lKSE7XG4gICAgICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuZXcgQVNFSUQoc2NlbmUucm9vdC5pZCkuaWQpITtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZXRFbGVtZW50QnlQYXRoKHJvb3QsIHNjZW5lLnBhdGgpO1xuICAgIH1cblxuICAgIGluc2VydEVsZW1lbnRBdFBhdGgoXG4gICAgICAgIHJvb3Q6IEVsZW1lbnQsXG4gICAgICAgIHBhdGg6IHN0cmluZyxcbiAgICAgICAgZWxlbWVudDogRWxlbWVudFxuICAgICk6IHZvaWQge1xuICAgICAgICBjb25zdCBwYXJlbnRQYXRoID0gcGF0aC5zcGxpdCgnLicpLnNsaWNlKDAsIC0xKS5qb2luKCcuJyk7XG4gICAgICAgIGNvbnN0IHBhcmVudEVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnRCeVBhdGgocm9vdCwgcGFyZW50UGF0aCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQocGF0aC5zcGxpdCgnLicpLnNsaWNlKC0xKVswXSwgMTApO1xuICAgICAgICBpZiAocGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKHBhcmVudEVsZW1lbnQuY2hpbGRyZW4pLmZpbHRlcihjaGlsZCA9PiBjaGlsZC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIGNoaWxkcmVuW2luZGV4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbnNlcnRFbGVtZW50QnlOb2RlKFxuICAgICAgICBub2RlOiBBcmVOb2RlLFxuICAgICAgICBlbGVtZW50OiBFbGVtZW50XG4gICAgKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gbm9kZS5zY29wZS5yZXNvbHZlRmxhdDxBcmVTY2VuZT4oQXJlU2NlbmUpITtcbiAgICAgICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5ldyBBU0VJRChzY2VuZS5yb290LmlkKS5pZCkhO1xuICAgICAgICB0aGlzLmluc2VydEVsZW1lbnRBdFBhdGgocm9vdCwgc2NlbmUucGF0aCwgZWxlbWVudCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHN0cmluZyBwYXRoIGZvciBhIERPTSBlbGVtZW50IHJlbGF0aXZlIHRvIGEgcm9vdCBlbGVtZW50XG4gICAgICogVGhpcyBnZW5lcmF0ZXMgdGhlIHNhbWUgZm9ybWF0IGFzIHBhcnNlSFRNTEVsZW1lbnRzIHVzZXNcbiAgICAgKi9cbiAgICBjb21wdXRlU3RyaW5nUGF0aChlbGVtZW50OiBFbGVtZW50LCByb290OiBFbGVtZW50KTogc3RyaW5nIHtcbiAgICAgICAgaWYgKGVsZW1lbnQgPT09IHJvb3QpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhdGg6IG51bWJlcltdID0gW107XG4gICAgICAgIGxldCBjdXJyZW50OiBFbGVtZW50IHwgbnVsbCA9IGVsZW1lbnQ7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudCAhPT0gcm9vdCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gQXJyYXkuZnJvbShwYXJlbnQuY2hpbGRyZW4pLmluZGV4T2YoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhdGgudW5zaGlmdChpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gcGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhdGguam9pbignLicpO1xuICAgIH1cblxuXG4gICAgaW5kZXgoXG4gICAgICAgIG5vZGU6IEFyZU5vZGVcbiAgICApIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBub2RlLnNjb3BlLnJlc29sdmVGbGF0PEFyZUluZGV4PihBcmVJbmRleCkhO1xuICAgICAgICBjb25zdCBzY2VuZSA9IG5vZGUuc2NvcGUucmVzb2x2ZUZsYXQ8QXJlU2NlbmU+KEFyZVNjZW5lKSE7XG5cbiAgICAgICAgc2NlbmUucmVzZXQoKTtcblxuICAgICAgICAvLyBVc2UgYSBwb3NpdGlvbi1iYXNlZCBhcHByb2FjaCB0aGF0IG1hcHMgRE9NIHBhdGhzIHRvIG9yaWdpbmFsIG1hcmt1cCBleGFjdGx5XG4gICAgICAgIGNvbnN0IHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGVtcERpdi5pbm5lckhUTUwgPSBub2RlLnRlbXBsYXRlO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhIG1hcHBpbmcgb2YgRE9NIHBhdGhzIHRvIG9yaWdpbmFsIG1hcmt1cCB1c2luZyBET00gdHJhdmVyc2FsXG4gICAgICAgIGNvbnN0IG1hcmt1cE1hcCA9IHRoaXMuY3JlYXRlUG9zaXRpb25CYXNlZE1hcmt1cE1hcChub2RlLnRlbXBsYXRlKTtcblxuICAgICAgICB0aGlzLmluZGV4RWxlbWVudHNGcm9tRE9NKHRlbXBEaXYsIGluZGV4LCBbXSwgbWFya3VwTWFwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBwb3NpdGlvbi1iYXNlZCBtYXBwaW5nIGJ5IHBhcnNpbmcgdGhlIG9yaWdpbmFsIHRlbXBsYXRlIHdpdGggRE9NXG4gICAgICogVGhpcyBlbnN1cmVzIDE6MSBjb3JyZXNwb25kZW5jZSBiZXR3ZWVuIERPTSBzdHJ1Y3R1cmUgYW5kIG9yaWdpbmFsIG1hcmt1cFxuICAgICAqL1xuICAgIHByaXZhdGUgY3JlYXRlUG9zaXRpb25CYXNlZE1hcmt1cE1hcCh0ZW1wbGF0ZTogc3RyaW5nKTogTWFwPHN0cmluZywgc3RyaW5nPiB7XG4gICAgICAgIGNvbnN0IG1hcmt1cE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG9yaWdpbmFsRGl2LmlubmVySFRNTCA9IHRlbXBsYXRlO1xuXG4gICAgICAgIC8vIFRyYXZlcnNlIHRoZSBvcmlnaW5hbCBET00gYW5kIG1hcCBlYWNoIHBvc2l0aW9uIHRvIGl0cyBvdXRlckhUTUxcbiAgICAgICAgdGhpcy5tYXBET01Qb3NpdGlvbnMob3JpZ2luYWxEaXYsIFtdLCBtYXJrdXBNYXApO1xuXG4gICAgICAgIHJldHVybiBtYXJrdXBNYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgbWFwIERPTSBwb3NpdGlvbnMgdG8gdGhlaXIgZXhhY3Qgb3JpZ2luYWwgbWFya3VwXG4gICAgICovXG4gICAgcHJpdmF0ZSBtYXBET01Qb3NpdGlvbnMoXG4gICAgICAgIHBhcmVudEVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgICAgIHBhcmVudFBhdGg6IG51bWJlcltdLFxuICAgICAgICBtYXJrdXBNYXA6IE1hcDxzdHJpbmcsIHN0cmluZz5cbiAgICApOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKHBhcmVudEVsZW1lbnQuY2hpbGRyZW4pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gWy4uLnBhcmVudFBhdGgsIGldO1xuICAgICAgICAgICAgY29uc3QgcGF0aEtleSA9IGN1cnJlbnRQYXRoLmpvaW4oJy4nKTtcblxuICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGV4YWN0IG91dGVySFRNTCBmb3IgdGhpcyBwb3NpdGlvblxuICAgICAgICAgICAgbWFya3VwTWFwLnNldChwYXRoS2V5LCBlbGVtZW50Lm91dGVySFRNTCk7XG5cbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHByb2Nlc3MgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIGlmIChlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLm1hcERPTVBvc2l0aW9ucyhlbGVtZW50LCBjdXJyZW50UGF0aCwgbWFya3VwTWFwKTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZGV4IGVsZW1lbnRzIHVzaW5nIGFjdHVhbCBET00gc3RydWN0dXJlIHdpdGggcG9zaXRpb24tYmFzZWQgbWFya3VwIG1hcHBpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGluZGV4RWxlbWVudHNGcm9tRE9NKFxuICAgICAgICBwYXJlbnRFbGVtZW50OiBFbGVtZW50LFxuICAgICAgICBpbmRleDogQXJlSW5kZXgsXG4gICAgICAgIHBhcmVudFBhdGg6IG51bWJlcltdLFxuICAgICAgICBtYXJrdXBNYXA6IE1hcDxzdHJpbmcsIHN0cmluZz5cbiAgICApOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKHBhcmVudEVsZW1lbnQuY2hpbGRyZW4pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gWy4uLnBhcmVudFBhdGgsIGldO1xuICAgICAgICAgICAgY29uc3QgcGF0aEtleSA9IGN1cnJlbnRQYXRoLmpvaW4oJy4nKTtcblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBleGFjdCBtYXJrdXAgZm9yIHRoaXMgcG9zaXRpb24gZnJvbSBvdXIgbWFwcGluZ1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxNYXJrdXAgPSBtYXJrdXBNYXAuZ2V0KHBhdGhLZXkpO1xuXG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBBcmVOb2RlIHdpdGggcHJlc2VydmVkIG9yaWdpbmFsIG1hcmt1cFxuICAgICAgICAgICAgY29uc3QgYXJlTm9kZSA9IG5ldyBBcmVOb2RlKHtcbiAgICAgICAgICAgICAgICBzY29wZTogaW5kZXgubmFtZSxcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgIG1hcmt1cDogb3JpZ2luYWxNYXJrdXAgfHwgZWxlbWVudC5vdXRlckhUTUwsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IGVsZW1lbnQuaW5uZXJIVE1MLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEFkZCB0byBpbmRleFxuICAgICAgICAgICAgaW5kZXguYWRkKGFyZU5vZGUsIGN1cnJlbnRQYXRoLmpvaW4oJy4nKSk7XG5cblxuICAgICAgICAgICAgLy8gUmVjdXJzaXZlbHkgcHJvY2VzcyBjaGlsZHJlblxuICAgICAgICAgICAgLy8gaWYgKGVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gICAgIHRoaXMuaW5kZXhFbGVtZW50c0Zyb21ET00oZWxlbWVudCwgaW5kZXgsIGN1cnJlbnRQYXRoLCBtYXJrdXBNYXApO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICB9XG4gICAgfVxuXG5cblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBcmVOb2RlRmVhdHVyZXMub25SZW5kZXIsXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIHJlbmRlcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vZGUgdG8gYmUgbW91bnRlZFxuICAgICAgICAgKi9cbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICAvKipcbiAgICAgICAgICogTm9kZSBDb250ZW50XG4gICAgICAgICAqL1xuICAgICAgICBAQV9EZXBlbmRlbmN5LkZsYXQoKVxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcblxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjZW5lIHdoZXJlIHRhcmdldCBub2RlIGlzIHJlZ2lzdGVyZWRcbiAgICAgICAgICogXG4gICAgICAgICAqIFshXSBGb3IgUm9vdCBOb2RlIGl0IGRvZXNuJ3QgZXhpc3RzXG4gICAgICAgICAqL1xuICAgICAgICBAQV9EZXBlbmRlbmN5LlBhcmVudCgpXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgcGFyZW50U2NlbmU/OiBBcmVTY2VuZSxcblxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcj86IEFfTG9nZ2VyLFxuXG5cbiAgICApIHtcbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZygnQXJlQnJvd3NlckNvbXBpbGVyOiBSZW5kZXJpbmcgPCcgKyBub2RlLmFzZWlkLmVudGl0eSArICc+IEFTRUlEOiAnICsgbm9kZS5hc2VpZC50b1N0cmluZygpLCBzY2VuZSk7XG5cbiAgICAgICAgaWYgKHBhcmVudFNjZW5lKSB7XG5cblxuICAgICAgICAgICAgLy8gMSkgc2hvdWxkIGJlIG1vdW50ZWQgb3IgdW5tb3VudGVkXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGluc3RydWN0aW9uIG9mIHBhcmVudFNjZW5lLnJlbmRlclBsYW5Gb3Iobm9kZSwge1xuICAgICAgICAgICAgICAgIGZpbHRlcjogKGluc3QpID0+IGluc3QgaW5zdGFuY2VvZiBNb3VudE5vZGVJbnN0cnVjdGlvbiB8fCBpbnN0IGluc3RhbmNlb2YgVW5tb3VudE5vZGVJbnN0cnVjdGlvbixcbiAgICAgICAgICAgIH0pKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFyZW50U2NlbmUuZ2V0U3RhdGUoaW5zdHJ1Y3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcj8uZGVidWcoJ3llbGxvdycsIHNjZW5lLmRlYnVnUHJlZml4ICsgYEFjdGlvbiAnJHtpbnN0cnVjdGlvbi5hY3Rpb259JyBmb3IgTm9kZSA8JHtub2RlLmFzZWlkLmVudGl0eX0+IEFTRUlEOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX0gYWxyZWFkeSBtb3VudGVkLiBTa2lwcGluZy4uLmAsIGluc3RydWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbG9nZ2VyPy5kZWJ1ZygncmVkJywgc2NlbmUuZGVidWdQcmVmaXggKyBgUHJvY2Vzc2luZyAke2luc3RydWN0aW9uLmFjdGlvbn0gSW5zdHJ1Y3Rpb24gZm9yIE5vZGUgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiBgLCBpbnN0cnVjdGlvbik7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBleGVjdXRpb25Db250ZXh0ID0gbmV3IEFfRXhlY3V0aW9uQ29udGV4dCgnQXJlQnJvd3NlckNvbXBpbGVyOiBNb3VudC9Vbm1vdW50IE5vZGUgSW5zdHJ1Y3Rpb24nKTtcblxuICAgICAgICAgICAgICAgIC8vIC5zZXQoJ21vdW50UG9pbnQnLCBtb3VudFBvaW50KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFwcGx5U2NvcGUgPSBuZXcgQV9TY29wZSh7IGZyYWdtZW50czogW2V4ZWN1dGlvbkNvbnRleHRdIH0pLmluaGVyaXQoc2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgaW5zdHJ1Y3Rpb24uYXBwbHkoYXBwbHlTY29wZSk7XG5cbiAgICAgICAgICAgICAgICBhcHBseVNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgICAgIHBhcmVudFNjZW5lLnNldFN0YXRlKGluc3RydWN0aW9uKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAgaWYgVGhlcmUncyBubyBNb3VudCBJbnN0cnVjdGlvbiBwbGFubmVkLCBpdGUgbWVhbnMgdGhhdCB0aGlzIG5vZGUgc2hvdWxkIG5vdCBiZSByZW5kZXJlZCBcbiAgICAgICAgICAgIC8vICBhbmQgYW55IG90aGVyIGluc3RydWN0aW9ucyByZWxhdGVkIHRvIGl0IHNob3VsZCBiZSBpZ25vcmVkXG4gICAgICAgICAgICBpZiAoIXBhcmVudFNjZW5lLmlzUGxhbm5lZChuZXcgTW91bnROb2RlSW5zdHJ1Y3Rpb24obm9kZSwgc2NlbmUucGF0aCkpKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyPy5kZWJ1ZygneWVsbG93Jywgc2NlbmUuZGVidWdQcmVmaXggKyBgTm9kZSA8JHtub2RlLmFzZWlkLmVudGl0eX0+IEFTRUlEOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX0gaGFzIG5vIE1vdW50IEluc3RydWN0aW9uIHBsYW5uZWQuIFNraXBwaW5nIG1vdW50LmApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY29uc3QgcGF0aCA9IHBhcmVudFNjZW5lLmluZGV4LnBhdGhPZihub2RlKSE7XG4gICAgICAgICAgICAvLyBjb25zdCBlbGVtZW50ID0gdGhpcy5nZXRFbGVtZW50QnlOb2RlKG5vZGUpO1xuXG5cbiAgICAgICAgICAgIC8vIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgLy8gICAgIHRocm93IG5ldyBBX0Vycm9yKGBFbGVtZW50IGF0IHBhdGggbm90IGZvdW5kIGluIHRoZSBtb3VudCBwb2ludC5gKTtcbiAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgZm9yIChjb25zdCBpbnN0cnVjdGlvbiBvZiBwYXJlbnRTY2VuZS5yZW5kZXJQbGFuRm9yKG5vZGUsIHtcbiAgICAgICAgICAgICAgICBvcmRlcjogW1xuICAgICAgICAgICAgICAgICAgICBBZGRTdHlsZUluc3RydWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBBdHRhY2hMaXN0ZW5lckluc3RydWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBBZGRBdHRyaWJ1dGVJbnN0cnVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgUmVwbGFjZUludGVycG9sYXRpb25JbnN0cnVjdGlvblxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFyZW50U2NlbmUuZ2V0U3RhdGUoaW5zdHJ1Y3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcj8uZGVidWcoJ3llbGxvdycsIHNjZW5lLmRlYnVnUHJlZml4ICsgYEFjdGlvbiAnJHtpbnN0cnVjdGlvbi5hY3Rpb259JyBmb3IgTm9kZSA8JHtub2RlLmFzZWlkLmVudGl0eX0+IEFTRUlEOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX0gYWxyZWFkeSBtb3VudGVkLiBTa2lwcGluZy4uLmAsIGluc3RydWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBjb25zdCBleGVjdXRpb25Db250ZXh0ID0gbmV3IEFfRXhlY3V0aW9uQ29udGV4dCgnQXJlQnJvd3NlckNvbXBpbGVyOiBNb3VudCBOb2RlIEluc3RydWN0aW9uJyk7XG5cbiAgICAgICAgICAgICAgICBleGVjdXRpb25Db250ZXh0XG4gICAgICAgICAgICAgICAgICAgIC5zZXQoJ2NvbnRlbnQnLCBzY2VuZSlcbiAgICAgICAgICAgICAgICAvLyAuc2V0KCdlbGVtZW50JywgZWxlbWVudClcbiAgICAgICAgICAgICAgICAvLyAuc2V0KCdtb3VudFBvaW50JywgbW91bnRQb2ludCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBhcHBseVNjb3BlID0gbmV3IEFfU2NvcGUoeyBmcmFnbWVudHM6IFtleGVjdXRpb25Db250ZXh0XSB9KS5pbmhlcml0KHNjb3BlKTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IGluc3RydWN0aW9uLmFwcGx5KGFwcGx5U2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgYXBwbHlTY29wZS5kZXN0cm95KCk7XG5cblxuICAgICAgICAgICAgICAgIHBhcmVudFNjZW5lLnNldFN0YXRlKGluc3RydWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVuc3VyZSByb290IGlkZW50aWZpZWRcbiAgICAgICAgICAgIGNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobm9kZS5pZCk7XG5cbiAgICAgICAgICAgIGlmICghcm9vdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9FcnJvcihgUm9vdCBlbGVtZW50IHdpdGggaWQgJyR7bm9kZS5pZH0nIG5vdCBmb3VuZCBpbiB0aGUgRE9NLmApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByb290RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FzZWlkJywgbm9kZS5hc2VpZC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygc2NlbmUubm9kZXMoKSkge1xuICAgICAgICAgICAgYXdhaXQgY2hpbGQucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uVW5tb3VudCxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgdW5tb3VudChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vZGUgdG8gYmUgdW5tb3VudGVkXG4gICAgICAgICAqL1xuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb2RlIENvbnRlbnRcbiAgICAgICAgICovXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuRmxhdCgpXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2NlbmUgd2hlcmUgdGFyZ2V0IG5vZGUgaXMgcmVnaXN0ZXJlZFxuICAgICAgICAgKiBcbiAgICAgICAgICogWyFdIEZvciBSb290IE5vZGUgaXQgZG9lc24ndCBleGlzdHNcbiAgICAgICAgICovXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUGFyZW50KClcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBwYXJlbnRTY2VuZT86IEFyZVNjZW5lLFxuXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgKSB7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1VubW91bnRpbmcgbm9kZSA8JyArIG5vZGUuYXNlaWQuZW50aXR5ICsgJz4gQVNFSUQ6ICcgKyBub2RlLmFzZWlkLnRvU3RyaW5nKCksIHBhcmVudFNjZW5lKTtcbiAgICAgICAgaWYgKHBhcmVudFNjZW5lKVxuICAgICAgICAgICAgZm9yIChjb25zdCBpbnN0cnVjdGlvbiBvZiBwYXJlbnRTY2VuZS5yZW5kZXJQbGFuRm9yKG5vZGUsIHt9KSkge1xuICAgICAgICAgICAgICAgIHNjZW5lLmRyb3BTdGF0ZShpbnN0cnVjdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcnBvbGF0aW9uVGV4dE5vZGVzLmRlbGV0ZShpbnN0cnVjdGlvbi5hc2VpZC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBzY2VuZS5ub2RlcygpKSB7XG4gICAgICAgICAgICBhd2FpdCBjaGlsZC51bm1vdW50KCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlU2NlbmVJbnN0cnVjdGlvbkZlYXR1cmVzLkFwcGx5LFxuICAgICAgICBzY29wZTogW01vdW50Tm9kZUluc3RydWN0aW9uXVxuICAgIH0pXG4gICAgYXN5bmMgYXBwbHlNb3VudE5vZGVJbnN0cnVjdGlvbihcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBpbnN0cnVjdGlvbjogTW91bnROb2RlSW5zdHJ1Y3Rpb24sXG4gICAgICAgIEBBX0luamVjdChBX0V4ZWN1dGlvbkNvbnRleHQpIGNvbnRleHQ6IEFfRXhlY3V0aW9uQ29udGV4dDx7XG4gICAgICAgICAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgICAgICAgICAgbW91bnRQb2ludDogRWxlbWVudCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IEFyZVNjZW5lLFxuICAgICAgICB9PixcbiAgICAgICAgQEFfSW5qZWN0KEFyZVN5bnRheCkgc3ludGF4OiBBcmVTeW50YXgsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcblxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcj86IEFfTG9nZ2VyLFxuICAgICkge1xuICAgICAgICB0cnkge1xuXG5cbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBpbnN0cnVjdGlvbi5ub2RlO1xuICAgICAgICAgICAgY29uc3Qgc2NlbmUgPSBpbnN0cnVjdGlvbi5zY2VuZTtcblxuXG4gICAgICAgICAgICBpZiAoc3ludGF4LmlzQ3VzdG9tTm9kZShub2RlKSkge1xuXG4gICAgICAgICAgICAgICAgbG9nZ2VyPy5kZWJ1ZygncmVkJywgc2NlbmUuZGVidWdQcmVmaXggKyBgTW91bnRpbmcgTm9kZSA8JHtub2RlLmFzZWlkLmVudGl0eX0+IEFTRUlEOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX0gYXQgcGF0aCBgKTtcbiAgICAgICAgICAgICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLmNvbXBvbmVudChub2RlLCBzY29wZSk/LndyYXBwZXIgfHwgJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2FzZWlkJywgbm9kZS5hc2VpZC50b1N0cmluZygpKTtcblxuICAgICAgICAgICAgICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gbm9kZS50ZW1wbGF0ZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnRCeU5vZGUobm9kZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSBwbGFjZW1lbnQgd2l0aCB0aGUgcmVuZGVyZWQgY29udGVudFxuICAgICAgICAgICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluc2VydEVsZW1lbnRCeU5vZGUobm9kZSwgd3JhcHBlcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgKGVsZW1lbnQpLnJlcGxhY2VXaXRoKHdyYXBwZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyPy5lcnJvcihlcnJvcilcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZVNjZW5lSW5zdHJ1Y3Rpb25GZWF0dXJlcy5BcHBseSxcbiAgICAgICAgc2NvcGU6IFtVbm1vdW50Tm9kZUluc3RydWN0aW9uXVxuICAgIH0pXG4gICAgYXN5bmMgYXBwbHlVbm1vdW50Tm9kZUluc3RydWN0aW9uKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIGluc3RydWN0aW9uOiBVbm1vdW50Tm9kZUluc3RydWN0aW9uLFxuICAgICAgICBAQV9JbmplY3QoQV9FeGVjdXRpb25Db250ZXh0KSBjb250ZXh0OiBBX0V4ZWN1dGlvbkNvbnRleHQ8e1xuICAgICAgICAgICAgZWxlbWVudDogRWxlbWVudCxcbiAgICAgICAgICAgIG1vdW50UG9pbnQ6IEVsZW1lbnQsXG4gICAgICAgICAgICBjb250ZW50OiBBcmVTY2VuZSxcbiAgICAgICAgfT4sXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcblxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcj86IEFfTG9nZ2VyLFxuICAgICkge1xuXG4gICAgICAgIGNvbnN0IG5vZGUgPSBpbnN0cnVjdGlvbi5ub2RlO1xuICAgICAgICBjb25zdCBzY2VuZSA9IGluc3RydWN0aW9uLnNjZW5lO1xuICAgICAgICBjb25zdCBpbmRleCA9IHNjZW5lLnNjb3BlLnJlc29sdmVGbGF0PEFyZUluZGV4PihBcmVJbmRleCkhO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2FzZWlkPVwiJHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9XCJdYCkhO1xuICAgICAgICBjb25zdCBwYXRoID0gaW5kZXgucGF0aE9mKG5vZGUpITtcblxuICAgICAgICBjb25zdCBjb250ZW50ID0gbm9kZS5zY29wZS5yZXNvbHZlRmxhdDxBcmVTY2VuZT4oQXJlU2NlbmUpITtcblxuICAgICAgICBsb2dnZXI/LmRlYnVnKCdyZWQnLCBzY2VuZS5kZWJ1Z1ByZWZpeCArIGBVbm1vdW50aW5nIE5vZGUgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiBBU0VJRDogJHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9YCk7XG5cblxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuXG4gICAgICAgICAgICBhd2FpdCBub2RlLnVubW91bnQoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlcj8uZXJyb3IoZXJyb3IpXG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vICB0aGVuIHdlIGhhdmUgdG8gZG8gc2hpZnQgaW4gaW5kZXgsIHNpbmNlIHRoZSBub2RlIGlzIHJlbW92ZWRcbiAgICAgICAgLy8gIHNvIGlmIGN1cnJlbnQgbm9kZSBwYXRoIGlzIDEgdGhlbiBhbGwgb3RoZXIgbm9kZXMgc2hvdWxkIGJlIG1vdmVkIHVwIGFuZCBuZXh0IG5vZGUgc2hvdWxkIGJlY2FtZSAxXG4gICAgICAgIC8vIGZvciAoY29uc3QgY2hpbGQgb2Ygc2NlbmUubm9kZXMoKSkge1xuICAgICAgICAvLyAgICAgY29uc3QgY2hpbGRQYXRoID0gaW5kZXgucGF0aE9mKGNoaWxkKSE7XG5cbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdDb21wYXJpbmcgcGF0aHMgZm9yIHJlaW5kZXhpbmc6JywgY2hpbGRQYXRoLCBwYXRoKTtcblxuICAgICAgICAvLyAgICAgaWYocGFyc2VJbnQoY2hpbGRQYXRoKSA+IHBhcnNlSW50KHBhdGgpKSB7XG4gICAgICAgIC8vICAgICAgICAgY29uc3QgbmV3UGF0aCA9IChwYXJzZUludChjaGlsZFBhdGgpIC0gMSkudG9TdHJpbmcoKTtcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZygnUmVpbmRleGluZyBub2RlIDwnICsgY2hpbGQuYXNlaWQuZW50aXR5ICsgJz4gZnJvbSBwYXRoICcgKyBjaGlsZFBhdGggKyAnIHRvICcgKyBuZXdQYXRoKTtcbiAgICAgICAgLy8gICAgICAgICBpbmRleC5yZXBsYWNlUGF0aChjaGlsZFBhdGgsIG5ld1BhdGgpO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9XG4gICAgfVxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZVNjZW5lSW5zdHJ1Y3Rpb25GZWF0dXJlcy5BcHBseSxcbiAgICAgICAgc2NvcGU6IFtBZGRTdHlsZUluc3RydWN0aW9uXVxuICAgIH0pXG4gICAgYXN5bmMgYXBwbHlBZGRTdHlsZUluc3RydWN0aW9uKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIGluc3RydWN0aW9uOiBBZGRTdHlsZUluc3RydWN0aW9uLFxuICAgICAgICBAQV9JbmplY3QoQV9FeGVjdXRpb25Db250ZXh0KSBjb250ZXh0OiBBX0V4ZWN1dGlvbkNvbnRleHQ8e1xuICAgICAgICAgICAgZWxlbWVudDogRWxlbWVudCxcbiAgICAgICAgICAgIG1vdW50UG9pbnQ6IEVsZW1lbnQsXG4gICAgICAgICAgICBjb250ZW50OiBBcmVTY2VuZSxcbiAgICAgICAgfT4sXG5cbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgKSB7XG5cbiAgICAgICAgY29uc3Qgbm9kZSA9IGluc3RydWN0aW9uLm5vZGU7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gaW5zdHJ1Y3Rpb24uc2NlbmU7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnRCeU5vZGUobm9kZSkhO1xuXG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IGluc3RydWN0aW9uLnBhcmFtcz8uc3R5bGVzIHx8ICcnO1xuXG4gICAgICAgIGxvZ2dlcj8uZGVidWcoJ2dyZWVuJywgc2NlbmUuZGVidWdQcmVmaXggKyBgQXBwbHlpbmcgc3R5bGVzIGZvciBOb2RlIDwke25vZGUuYXNlaWQuZW50aXR5fT4gQVNFSUQ6ICR7bm9kZS5hc2VpZC50b1N0cmluZygpfWApO1xuXG4gICAgICAgIGNvbnN0IHN0eWxlRWxlbWVudElkID0gYGEtc3R5bGUtJHtub2RlLmFzZWlkLmVudGl0eX1gO1xuICAgICAgICBsZXQgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7c3R5bGVFbGVtZW50SWR9YCkgYXMgSFRNTFN0eWxlRWxlbWVudCB8IG51bGw7XG5cbiAgICAgICAgaWYgKCFzdHlsZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgICAgICBzdHlsZUVsZW1lbnQuaWQgPSBzdHlsZUVsZW1lbnRJZDtcbiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZUVsZW1lbnQuaW5uZXJIVE1MID0gc3R5bGVzO1xuICAgIH1cblxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZVNjZW5lSW5zdHJ1Y3Rpb25GZWF0dXJlcy5BcHBseSxcbiAgICAgICAgc2NvcGU6IFtBdHRhY2hMaXN0ZW5lckluc3RydWN0aW9uXVxuICAgIH0pXG4gICAgYXN5bmMgYXBwbHlBdHRhY2hMaXN0ZW5lckluc3RydWN0aW9uKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIGluc3RydWN0aW9uOiBBdHRhY2hMaXN0ZW5lckluc3RydWN0aW9uLFxuICAgICAgICBAQV9JbmplY3QoQV9FeGVjdXRpb25Db250ZXh0KSBjb250ZXh0OiBBX0V4ZWN1dGlvbkNvbnRleHQ8e1xuICAgICAgICAgICAgZWxlbWVudDogRWxlbWVudCxcbiAgICAgICAgICAgIG1vdW50UG9pbnQ6IEVsZW1lbnQsXG4gICAgICAgICAgICBjb250ZW50OiBBcmVTY2VuZSxcbiAgICAgICAgfT4sXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcblxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcj86IEFfTG9nZ2VyLFxuICAgICkge1xuXG4gICAgICAgIGNvbnN0IG5vZGUgPSBpbnN0cnVjdGlvbi5ub2RlO1xuICAgICAgICBjb25zdCBzY2VuZSA9IGluc3RydWN0aW9uLnNjZW5lO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gY29udGV4dC5nZXQoJ2NvbnRlbnQnKSE7XG5cbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZ2V0RWxlbWVudEJ5Tm9kZShpbnN0cnVjdGlvbi5ub2RlKSE7XG4gICAgICAgIGNvbnN0IG1vdW50UG9pbnQgPSBjb250ZXh0LmdldCgnbW91bnRQb2ludCcpITtcblxuICAgICAgICBsb2dnZXI/LmRlYnVnKCdncmVlbicsIHNjZW5lLmRlYnVnUHJlZml4ICsgYEF0dGFjaGluZyBsaXN0ZW5lciAnJHtpbnN0cnVjdGlvbi5saXN0ZW5lci5uYW1lfScgZm9yIHRhcmdldCA8JHtub2RlLmFzZWlkLmVudGl0eX0+IEFTRUlEOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX1gKTtcblxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoaW5zdHJ1Y3Rpb24ubGlzdGVuZXIubmFtZSwgaW5zdHJ1Y3Rpb24uY2FsbGJhY2sgYXMgRXZlbnRMaXN0ZW5lcik7XG4gICAgfVxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZVNjZW5lSW5zdHJ1Y3Rpb25GZWF0dXJlcy5BcHBseSxcbiAgICAgICAgc2NvcGU6IFtBZGRBdHRyaWJ1dGVJbnN0cnVjdGlvbl1cbiAgICB9KVxuICAgIGFzeW5jIGFwcGx5QWRkQXR0cmlidXRlSW5zdHJ1Y3Rpb24oXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgaW5zdHJ1Y3Rpb246IEFkZEF0dHJpYnV0ZUluc3RydWN0aW9uLFxuICAgICAgICBAQV9JbmplY3QoQV9FeGVjdXRpb25Db250ZXh0KSBjb250ZXh0OiBBX0V4ZWN1dGlvbkNvbnRleHQ8e1xuICAgICAgICAgICAgZWxlbWVudDogRWxlbWVudCxcbiAgICAgICAgICAgIG1vdW50UG9pbnQ6IEVsZW1lbnQsXG4gICAgICAgICAgICBjb250ZW50OiBBcmVTY2VuZSxcbiAgICAgICAgfT4sXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcblxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcj86IEFfTG9nZ2VyLFxuICAgICkge1xuXG4gICAgICAgIGNvbnN0IG5vZGUgPSBpbnN0cnVjdGlvbi5ub2RlO1xuICAgICAgICBjb25zdCBzY2VuZSA9IGluc3RydWN0aW9uLnNjZW5lO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gY29udGV4dC5nZXQoJ2NvbnRlbnQnKSE7XG5cbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZ2V0RWxlbWVudEJ5Tm9kZShub2RlKSE7XG5cbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZygnZ3JlZW4nLCBzY2VuZS5kZWJ1Z1ByZWZpeCArIGBTZXR0aW5nIGF0dHJpYnV0ZSAnJHtpbnN0cnVjdGlvbi5uYW1lfSc9JyR7aW5zdHJ1Y3Rpb24udmFsdWV9JyBmb3IgdGFyZ2V0IDwke25vZGUuYXNlaWQuZW50aXR5fT4gQVNFSUQ6ICR7bm9kZS5hc2VpZC50b1N0cmluZygpfWAsIGVsZW1lbnQpO1xuXG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGluc3RydWN0aW9uLm5hbWUsIGluc3RydWN0aW9uLnZhbHVlKTtcbiAgICB9XG5cblxuXG4gICAgaW50ZXJwb2xhdGlvblRleHROb2RlczogTWFwPHN0cmluZywgVGV4dD4gPSBuZXcgTWFwKCk7XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZVNjZW5lSW5zdHJ1Y3Rpb25GZWF0dXJlcy5BcHBseSxcbiAgICAgICAgc2NvcGU6IFtSZXBsYWNlSW50ZXJwb2xhdGlvbkluc3RydWN0aW9uXVxuICAgIH0pXG4gICAgYXN5bmMgYXBwbHlSZXBsYWNlSW50ZXJwb2xhdGlvbkluc3RydWN0aW9uKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIGluc3RydWN0aW9uOiBSZXBsYWNlSW50ZXJwb2xhdGlvbkluc3RydWN0aW9uLFxuICAgICAgICBAQV9JbmplY3QoQV9FeGVjdXRpb25Db250ZXh0KSBjb250ZXh0OiBBX0V4ZWN1dGlvbkNvbnRleHQ8e1xuICAgICAgICAgICAgZWxlbWVudDogRWxlbWVudCxcbiAgICAgICAgICAgIG1vdW50UG9pbnQ6IEVsZW1lbnQsXG4gICAgICAgICAgICBjb250ZW50OiBBcmVTY2VuZSxcbiAgICAgICAgfT4sXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVN5bnRheCkgc3ludGF4OiBBcmVTeW50YXgsXG5cbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI/OiBBX0xvZ2dlcixcbiAgICApIHtcblxuICAgICAgICBjb25zdCBub2RlID0gaW5zdHJ1Y3Rpb24ubm9kZTtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSBpbnN0cnVjdGlvbi5zY2VuZTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZ2V0RWxlbWVudEJ5Tm9kZShub2RlKSE7XG5cbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZygnbWFnZW50YScsIHNjZW5lLmRlYnVnUHJlZml4ICsgYFJlcGxhY2luZyBpbnRlcnBvbGF0aW9uICcke2luc3RydWN0aW9uLmludGVycG9sYXRpb24ubmFtZX0nIHdpdGggdmFsdWUgJyR7aW5zdHJ1Y3Rpb24udmFsdWV9JyBmb3IgdGFyZ2V0IDwke25vZGUuYXNlaWQuZW50aXR5fT5gKTtcblxuICAgICAgICBjb25zdCB0ZXh0Tm9kZSA9IHRoaXMuaW50ZXJwb2xhdGlvblRleHROb2Rlcy5nZXQoaW5zdHJ1Y3Rpb24uYXNlaWQudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgaWYgKHRleHROb2RlKSB7XG4gICAgICAgICAgICB0ZXh0Tm9kZS5ub2RlVmFsdWUgPSBpbnN0cnVjdGlvbi52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgY29uc3QgdHJlZVRleHROb2Rlc1dhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoXG4gICAgICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgICAgICBOb2RlRmlsdGVyLlNIT1dfVEVYVCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFjY2VwdE5vZGU6IChub2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVmFsdWUgJiYgbm9kZS5ub2RlVmFsdWUuaW5jbHVkZXMoaW5zdHJ1Y3Rpb24uaW50ZXJwb2xhdGlvbi5yYXcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE5vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBOb2RlRmlsdGVyLkZJTFRFUl9SRUpFQ1Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgZm91bmROb2RlID0gdHJlZVRleHROb2Rlc1dhbGtlci5uZXh0Tm9kZSgpIGFzIFRleHQgfCBudWxsO1xuXG5cbiAgICAgICAgICAgIC8vICB0aGVuIEkgaGF2ZSB0byBzcGxpdCB0aGlzIG5vZGUgaW50byBtdWx0aXBsZSB0ZXh0IG5vZGVzXG4gICAgICAgICAgICBpZiAoZm91bmROb2RlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBmb3VuZE5vZGUubm9kZVZhbHVlIS5zcGxpdChpbnN0cnVjdGlvbi5pbnRlcnBvbGF0aW9uLnJhdyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBmb3VuZE5vZGUucGFyZW50Tm9kZTtcblxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydCA9IHBhcnRzW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHROb2RlUGFydCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHBhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGV4dE5vZGVQYXJ0LCBmb3VuZE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHBhcnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShpbnN0cnVjdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSh2YWx1ZU5vZGUsIGZvdW5kTm9kZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSByZWZlcmVuY2UgdG8gdGhpcyB0ZXh0IG5vZGUgZm9yIGZ1dHVyZSB1cGRhdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcnBvbGF0aW9uVGV4dE5vZGVzLnNldChpbnN0cnVjdGlvbi5hc2VpZC50b1N0cmluZygpLCB2YWx1ZU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBvcmlnaW5hbCBub2RlXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChmb3VuZE5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG5cblxuXG5cblxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZVNjZW5lSW5zdHJ1Y3Rpb25GZWF0dXJlcy5Jbml0LFxuICAgICAgICBzY29wZTogW0FkZERpcmVjdGl2ZUluc3RydWN0aW9uXVxuICAgIH0pXG4gICAgYXN5bmMgaW5pdEFkZERpcmVjdGl2ZUluc3RydWN0aW9uKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIGluc3RydWN0aW9uOiBBZGREaXJlY3RpdmVJbnN0cnVjdGlvbixcblxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG5cbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI/OiBBX0xvZ2dlcixcbiAgICApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0lOSVQgRElSRUNUSVZFIElOU1RSVUNUSU9OOiAnLCBpbnN0cnVjdGlvbik7XG5cbiAgICAgICAgY29uc3Qgbm9kZSA9IGluc3RydWN0aW9uLm5vZGU7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gbm9kZS5zY29wZS5yZXNvbHZlRmxhdDxBcmVTY2VuZT4oQXJlU2NlbmUpITtcbiAgICAgICAgY29uc3QgcGFyZW50U2NlbmUgPSBpbnN0cnVjdGlvbi5zY2VuZTtcblxuICAgICAgICBsb2dnZXI/LmRlYnVnKCdncmVlbicsIHNjZW5lLmRlYnVnUHJlZml4ICsgYEluaXRpYWxpemluZyBkaXJlY3RpdmUgJyR7aW5zdHJ1Y3Rpb24uZGlyZWN0aXZlLm5hbWV9JyBmb3IgTm9kZSA8JHtub2RlLmFzZWlkLmVudGl0eX0+IEFTRUlEOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX1gLCBzY2VuZSwgcGFyZW50U2NlbmUpO1xuXG5cbiAgICAgICAgc3dpdGNoIChpbnN0cnVjdGlvbi5kaXJlY3RpdmUubmFtZSkge1xuICAgICAgICAgICAgY2FzZSAnJGlmJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vdW50SW5zdHJ1Y3Rpb24gPSBuZXcgTW91bnROb2RlSW5zdHJ1Y3Rpb24obm9kZSwgc2NlbmUucGF0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5tb3VudEluc3RydWN0aW9uID0gbmV3IFVubW91bnROb2RlSW5zdHJ1Y3Rpb24obm9kZSwgc2NlbmUucGF0aCk7XG5cblxuICAgICAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICFpbnN0cnVjdGlvbi52YWx1ZSAmJiAhIXBhcmVudFNjZW5lLmdldFN0YXRlKG1vdW50SW5zdHJ1Y3Rpb24pOlxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U2NlbmUudW5QbGFuKG1vdW50SW5zdHJ1Y3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTY2VuZS5wbGFuKHVubW91bnRJbnN0cnVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTY2VuZS5kcm9wU3RhdGUodW5tb3VudEluc3RydWN0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgIWluc3RydWN0aW9uLnZhbHVlICYmICFwYXJlbnRTY2VuZS5nZXRTdGF0ZShtb3VudEluc3RydWN0aW9uKTpcblxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U2NlbmUudW5QbGFuKG1vdW50SW5zdHJ1Y3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBpbnN0cnVjdGlvbi52YWx1ZSAmJiAhIXBhcmVudFNjZW5lLmdldFN0YXRlKHVubW91bnRJbnN0cnVjdGlvbik6XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFNjZW5lLnVuUGxhbih1bm1vdW50SW5zdHJ1Y3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTY2VuZS5wbGFuKG1vdW50SW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U2NlbmUuZHJvcFN0YXRlKG1vdW50SW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaW5zdHJ1Y3Rpb24udmFsdWUgJiYgIXBhcmVudFNjZW5lLmdldFN0YXRlKHVubW91bnRJbnN0cnVjdGlvbik6XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFNjZW5lLnVuUGxhbih1bm1vdW50SW5zdHJ1Y3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgbG9nZ2VyPy53YXJuaW5nKCd5ZWxsb3cnLCBzY2VuZS5kZWJ1Z1ByZWZpeCArIGBVbmtub3duIGRpcmVjdGl2ZSAnJHtpbnN0cnVjdGlvbi5kaXJlY3RpdmUubmFtZX0nIGZvciBOb2RlIDwke25vZGUuYXNlaWQuZW50aXR5fT4gQVNFSUQ6ICR7bm9kZS5hc2VpZC50b1N0cmluZygpfWApO1xuICAgICAgICB9XG5cblxuXG5cbiAgICAgICAgLy8gRGlyZWN0aXZlcyBtYXkgaGF2ZSBhc3luYyBpbml0aWFsaXphdGlvbiBsb2dpYyBpbiBmdXR1cmVcbiAgICB9XG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlU2NlbmVJbnN0cnVjdGlvbkZlYXR1cmVzLkFwcGx5LFxuICAgICAgICBzY29wZTogW0FkZERpcmVjdGl2ZUluc3RydWN0aW9uXVxuICAgIH0pXG4gICAgYXN5bmMgYXBwbHlBZGREaXJlY3RpdmVJbnN0cnVjdGlvbihcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBpbnN0cnVjdGlvbjogQWRkRGlyZWN0aXZlSW5zdHJ1Y3Rpb24sXG4gICAgICAgIEBBX0luamVjdChBX0V4ZWN1dGlvbkNvbnRleHQpIGNvbnRleHQ6IEFfRXhlY3V0aW9uQ29udGV4dDx7XG4gICAgICAgICAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgICAgICAgICAgbW91bnRQb2ludDogRWxlbWVudCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IEFyZVNjZW5lLFxuICAgICAgICB9PixcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgKSB7XG5cbiAgICAgICAgY29uc3Qgbm9kZSA9IGluc3RydWN0aW9uLm5vZGU7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gaW5zdHJ1Y3Rpb24uc2NlbmU7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnRCeU5vZGUobm9kZSk7XG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgbG9nZ2VyPy5kZWJ1ZygnZ3JlZW4nLCBzY2VuZS5kZWJ1Z1ByZWZpeCArIGBBcHBseWluZyBkaXJlY3RpdmUgJyR7aW5zdHJ1Y3Rpb24uZGlyZWN0aXZlLm5hbWV9JyBmb3IgTm9kZSA8JHtub2RlLmFzZWlkLmVudGl0eX0+IEFTRUlEOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX1gLCBpbnN0cnVjdGlvbik7XG5cbiAgICAgICAgICAgIC8vIHN3aXRjaCAoaW5zdHJ1Y3Rpb24uZGlyZWN0aXZlLm5hbWUpIHtcbiAgICAgICAgICAgIC8vICAgICBjYXNlICckaWYnOiB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGlmICghaW5zdHJ1Y3Rpb24udmFsdWUgJiYgZWxlbWVudCkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgZWxlbWVudC5yZXBsYWNlV2l0aChkb2N1bWVudC5jcmVhdGVDb21tZW50KGAkaWYgZGlyZWN0aXZlIHJlbW92ZWQgbm9kZSA8JHtub2RlLmFzZWlkLmVudGl0eX0+YCkpO1xuICAgICAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gICAgICAgICBsb2dnZXI/Lndhcm5pbmcoJ3llbGxvdycsIHNjZW5lLmRlYnVnUHJlZml4ICsgYFVua25vd24gZGlyZWN0aXZlICcke2luc3RydWN0aW9uLmRpcmVjdGl2ZS5uYW1lfScgZm9yIE5vZGUgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiBBU0VJRDogJHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9YCk7XG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIC8vIERpcmVjdGl2ZSBhcHBsaWNhdGlvbiBsb2dpYyBnb2VzIGhlcmVcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlcj8uZXJyb3IoZXJyb3IpXG4gICAgICAgIH1cbiAgICB9XG5cbn0iLCAiaW1wb3J0IHsgQV9Mb2dnZXIsIEFfU2lnbmFsVmVjdG9yRmVhdHVyZXMsIEFfU2lnbmFsU3RhdGUsIEFfU2lnbmFsVmVjdG9yIH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5pbXBvcnQgeyBBcmUgfSBmcm9tIFwiLi4vQXJlQ29tcG9uZW50L0FyZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfQ2FsbGVyLCBBX0ZlYXR1cmUsIEFfSW5qZWN0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFyZU5vZGVGZWF0dXJlcyB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5pbXBvcnQgeyBBcmVTY2VuZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU2NlbmUvQXJlU2NlbmUuY29udGV4dFwiO1xuXG5cblxuXG5leHBvcnQgY2xhc3MgQXJlU2xvdCBleHRlbmRzIEFyZSB7XG5cblxuXG4gICAgYXN5bmMgdGVtcGxhdGUoKSB7XG4gICAgICAgIC8vIHJldHVybiBgPGRpdj5BcmUgU2xvdCBDb21wb25lbnQ8L2Rpdj5gO1xuICAgIH1cblxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgYXN5bmMgW0FfU2lnbmFsVmVjdG9yRmVhdHVyZXMuTmV4dF0oXG4gICAgICAgIEBBX0luamVjdChBX1NpZ25hbFZlY3RvcikgdmVjdG9yOiBBX1NpZ25hbFZlY3RvclxuICAgICkge1xuICAgICAgICAvLyBFbWl0IHNpZ25hbHMgaWYgbmVlZGVkXG5cbiAgICAgICAgY29uc29sZS5sb2coJ0FyZVNsb3QgU2lnbmFsIFZlY3RvciBFbWl0dGVkOicsIHZlY3Rvcik7XG4gICAgfVxuXG5cblxuICAgIC8vIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAvLyAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uQ29tcGlsZSxcbiAgICAvLyAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIC8vIH0pXG4gICAgLy8gYXN5bmMgY29tcGlsZShcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgIC8vICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9TaWduYWxTdGF0ZSkgc2lnbmFsU3RhdGU/OiBBX1NpZ25hbFN0YXRlLFxuICAgIC8vICkge1xuXG4gICAgLy8gICAgIGNvbnN0IHZlY3RvciA9IGF3YWl0IHNpZ25hbFN0YXRlPy50b1ZlY3RvcigpLnRvRGF0YVZlY3RvcigpXG5cbiAgICAvLyAgICAgbG9nZ2VyLmRlYnVnKCdyZWQnLFxuICAgIC8vICAgICAgICAgJz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nLFxuICAgIC8vICAgICAgICAgYENvbXBpbGluZyBBcmVTbG90IENvbXBvbmVudCBhdCBTY2VuZTogPCR7c2NlbmUubmFtZX0+YCxcbiAgICAvLyAgICAgICAgICc9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09JyxcbiAgICAvLyAgICAgICAgIHZlY3RvclxuICAgIC8vICAgICApXG4gICAgLy8gfVxuXG59IiwgImltcG9ydCB7IEFfU2lnbmFsIH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5cblxuXG5cbmV4cG9ydCBjbGFzcyBBcmVTaWduYWw8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+PiBleHRlbmRzIEFfU2lnbmFsPFQ+IHtcblxuXG59IiwgImltcG9ydCB7IEFyZVNpZ25hbCB9IGZyb20gXCIuLi9lbnRpdGllcy9BcmVTaWduYWwvQXJlU2lnbmFsLmVudGl0eVwiO1xuXG5leHBvcnQgY2xhc3MgQXJlSW5pdFNpZ25hbCBleHRlbmRzIEFyZVNpZ25hbDx7IHJlYWR5OiBib29sZWFuIH0+IHtcbiAgICBzdGF0aWMgYXN5bmMgZGVmYXVsdCgpOiBQcm9taXNlPEFyZVNpZ25hbCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICByZXR1cm4gbmV3IEFyZUluaXRTaWduYWwoeyBkYXRhOiB7IHJlYWR5OiBmYWxzZSB9IH0pO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9DYWxsZXIsIEFfQ29tcG9uZW50LCBBX0luamVjdCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBcmUgfSBmcm9tIFwiLi4vQXJlQ29tcG9uZW50L0FyZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5pbXBvcnQgeyBBcmVTY2VuZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU2NlbmUvQXJlU2NlbmUuY29udGV4dFwiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFyZVByb3BzIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVQcm9wcy9BcmVQcm9wcy5jb250ZXh0XCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQXJlUm9vdCBleHRlbmRzIEFyZSB7XG5cblxuICAgIC8vIEBBcmUub25BZnRlckxvYWRcbiAgICAvLyBhc3luYyBvbkFmdGVyTG9hZChcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgIC8vICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuICAgIC8vICAgICBAQV9JbmplY3QoQXJlUHJvcHMpIHByb3BzOiBBcmVQcm9wcyxcbiAgICAvLyApIHtcbiAgICAvLyB9XG59IiwgImltcG9ydCB7IEFfQ2FsbGVyLCBBX0luamVjdCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBcmUgfSBmcm9tIFwiLi4vQXJlQ29tcG9uZW50L0FyZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5pbXBvcnQgeyBBcmVTY2VuZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU2NlbmUvQXJlU2NlbmUuY29udGV4dFwiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFyZVByb3BzIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVQcm9wcy9BcmVQcm9wcy5jb250ZXh0XCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQXJlSW50ZXJwb2xhdGlvbiBleHRlbmRzIEFyZSB7XG5cbiAgICBnZXQgd3JhcHBlcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ3NwYW4nO1xuICAgIH1cblxuICAgXG4gICAgQEFyZS5vbkFmdGVyQ29tcGlsZVxuICAgIGFzeW5jIG9uQWZ0ZXJDb21waWxlKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgICAgIEBBX0luamVjdChBcmVQcm9wcykgcHJvcHM6IEFyZVByb3BzLFxuICAgICkge1xuICAgICAgICBsb2dnZXIuaW5mbygnYmx1ZScsIGBBcmVJbnRlcnBvbGF0aW9uIG9uQWZ0ZXJDb21waWxlIGNhbGxlZC4uLiA6IDwke25vZGUuYXNlaWQuZW50aXR5fT4gOiBgLCBub2RlLmFzZWlkLnRvU3RyaW5nKCksIHByb3BzKTtcblxuICAgICAgICBub2RlLnNldFRlbXBsYXRlKHByb3BzLmdldCgndmFsdWUnKT8udG9TdHJpbmcoKSB8fCAnJyk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbmNlcHQsIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVksIEFfQ29udGFpbmVyLCBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiXG5pbXBvcnQgeyBBX0NvbmZpZywgQV9Mb2dnZXIsIEFfTE9HR0VSX0RFRkFVTFRfTEVWRUwsIEFfTE9HR0VSX0VOVl9LRVlTLCBBX1BvbHlmaWxsLCBBX1NpZ25hbEJ1cywgQ29uZmlnUmVhZGVyLCB9IGZyb20gXCJAYWRhYXMvYS11dGlsc1wiXG5pbXBvcnQgeyBTaWduSW5Db21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL1NpZ25JbkNvbXBvbmVudC5jb21wb25lbnRcIlxuaW1wb3J0IHsgQUJ0biB9IGZyb20gXCIuL2NvbXBvbmVudHMvQS1CdG4uY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBSW5wdXQgfSBmcm9tIFwiLi9jb21wb25lbnRzL0EtSW5wdXQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVBcHAgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250YWluZXJzL0FyZUFwcC9BcmVBcHAuY29udGFpbmVyXCI7XG5pbXBvcnQgeyBBcmVCcm93c2VyQ29tcGlsZXIgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb21wb25lbnRzL0FyZUJyb3dzZXJDb21waWxlci9BcmVCcm93c2VyQ29tcGlsZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVTbG90IH0gZnJvbSBcIkBhZGFhcy9hcmUvY29tcG9uZW50cy9BcmVTbG90L0FyZVNsb3QuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVJbml0U2lnbmFsIH0gZnJvbSBcInNyYy9zaWduYWxzL0FyZUluaXQuc2lnbmFsXCI7XG5pbXBvcnQgeyBBcmVTeW50YXggfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVN5bnRheC9BcmVTeW50YXguY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlUm9vdCB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlUm9vdC9BcmVSb290LmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQXJlSW50ZXJwb2xhdGlvbiB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlSW50ZXJwb2xhdGlvbi9BcmVJbnRlcnBvbGF0aW9uLmNvbXBvbmVudFwiO1xuXG5cbi8vIC8vICBUT0RPOiBGaXggZm9yIGJ1aWxkIHN5c3RlbSAtLS1cbi8vIHdpbmRvdy5wcm9jZXNzID0geyBlbnY6IHsgTk9ERV9FTlY6ICdwcm9kdWN0aW9uJyB9LCBjd2Q6ICgpID0+IFwiL1wiIH0gYXMgYW55OyAvLyAtLS0gSUdOT1JFIC0tLVxuLy8gd2luZG93Ll9fZGlybmFtZSA9IFwiL1wiOyAvLyAtLS0gSUdOT1JFIC0tLVxuXG4oYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gbmV3IEFyZUFwcCh7XG4gICAgICAgICAgICBuYW1lOiAnQVJFIEp1bXBzdGFydCcsXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIC8vIEFsbG93ZWQgRW50aXRpZXMgXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIC8vIC4uLi4uLi4uLi4uLlxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvLyBBbGxvd2VkIENvbW1hbmRzIFxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvLyAuLi4uLi4uLi4uLi5cbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgLy8gVUkgQ29tcG9uZW50cyBcbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgU2lnbkluQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIEFCdG4sXG4gICAgICAgICAgICAgICAgQUlucHV0LFxuICAgICAgICAgICAgICAgIEFyZVNsb3QsXG4gICAgICAgICAgICAgICAgQV9TaWduYWxCdXMsXG4gICAgICAgICAgICAgICAgQXJlUm9vdCxcbiAgICAgICAgICAgICAgICBBcmVJbnRlcnBvbGF0aW9uLFxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvLyBBZGRvbnMgXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIEFfUG9seWZpbGwsXG4gICAgICAgICAgICAgICAgQ29uZmlnUmVhZGVyLFxuICAgICAgICAgICAgICAgIC8vIEFfU2VydmVyUHJveHlcbiAgICAgICAgICAgICAgICBBcmVCcm93c2VyQ29tcGlsZXIsXG4gICAgICAgICAgICAgICAgQV9Mb2dnZXJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBlbnRpdGllczogW1xuICAgICAgICAgICAgICAgIC8vIC4uLi4uLi4uLi4uLlxuICAgICAgICAgICAgICAgIEFyZUluaXRTaWduYWwsXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBmcmFnbWVudHM6IFtcbiAgICAgICAgICAgICAgICBuZXcgQV9Db25maWcoe1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgQV9VSV9NT1VOVF9QT0lOVDogJ2Etcm9vdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBbQV9MT0dHRVJfRU5WX0tFWVMuTE9HX0xFVkVMXTogJ2RlYnVnJyxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIG5ldyBBcmVTeW50YXgoKVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBjb25jZXB0ID0gbmV3IEFfQ29uY2VwdCh7XG4gICAgICAgICAgICBuYW1lOiAnYWRhYXMtYXJlLWV4YW1wbGUtanVtcHN0YXJ0JyxcbiAgICAgICAgICAgIGZyYWdtZW50czogW25ldyBBX0NvbmZpZyh7XG4gICAgICAgICAgICAgICAgdmFyaWFibGVzOiBbJ0NPTkZJR19WRVJCT1NFJywgJ0RFVl9NT0RFJ10gYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgQ09ORklHX1ZFUkJPU0U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIERFVl9NT0RFOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSldLFxuICAgICAgICAgICAgY29tcG9uZW50czogW0FfTG9nZ2VyLCBDb25maWdSZWFkZXIsIEFfUG9seWZpbGxdLFxuICAgICAgICAgICAgY29udGFpbmVyczogW2NvbnRhaW5lcl1cbiAgICAgICAgfSlcblxuXG4gICAgICAgIGF3YWl0IGNvbmNlcHQubG9hZCgpO1xuICAgICAgICBhd2FpdCBjb25jZXB0LnN0YXJ0KCk7XG5cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IEFfQ29udGV4dC5yb290LnJlc29sdmU8QV9Mb2dnZXI+KEFfTG9nZ2VyKSE7XG4gICAgICAgIGxvZ2dlci5lcnJvcihlcnJvcik7XG4gICAgfVxuXG5cblxufSkoKTsiXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7OztBQUFPLElBQUEsS0FBQSxPQUFBO0FBQUEsSUFBQSxJQUFBLHdCQUFBLEdBQUEsTUFBQSxHQUFBLEdBQUEsUUFBQSxFQUFBLE9BQUEsR0FBQSxjQUFBLEtBQUEsQ0FBQSxHQUFBO0FBQUEsSUFBTUEsSUFBcUMsRUFhOUMsZ0JBQWdCLGtCQVFoQixzQkFBc0Isd0JBSXRCLHVCQUF1Qix5QkFLdkIsdUJBQXVCLHlCQUl2Qiw2QkFBNkIsOEJBQ2pDO0FBbkNPLElBMENNQyxLQUEyQyxDQUNwREQsRUFBbUMsZ0JBQ25DQSxFQUFtQyxzQkFDbkNBLEVBQW1DLHVCQUNuQ0EsRUFBbUMsdUJBRW5DQSxFQUFtQywyQkFDdkM7QUFBQSxJQ3FDWUUs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O0FBQ3hELFdBQU8sTUFBTSxLQUFLO0FBQUEsRUFDdEI7QUFJSixHQUFHOyIsCiAgIm5hbWVzIjogWyJBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTIiwgIkFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVkiLCAiQV9UWVBFU19fRmVhdHVyZVN0YXRlIiwgIl9BX01ldGEiLCAiaXRlcmF0b3IiLCAiX19uYW1lIiwgIm1ldGEiLCAia2V5IiwgInZhbHVlIiwgImluaGVyaXRlZFZhbHVlIiwgIm5hbWUiLCAicmVzdWx0cyIsICJyZWdleCIsICJvYmoiLCAiayIsICJ2IiwgIml0ZW0iLCAicmVzIiwgImpzb24iLCAiQV9NZXRhIiwgIkFfVFlQRVNfX0VudGl0eU1ldGFLZXkiLCAiQV9UWVBFU19fRW50aXR5RmVhdHVyZXMiLCAiQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSIsICJBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IiwgIl9hIiwgIl9BX0NvbXBvbmVudE1ldGEiLCAiaGFuZGxlciIsICJmZWF0dXJlIiwgInN0ZXBzIiwgImV4dGVuc2lvbnMiLCAiZXh0ZW5zaW9uIiwgImFic3RyYWN0aW9uIiwgImFic3RyYWN0aW9ucyIsICJpbmplY3Rpb25zIiwgImFyZ3MiLCAiQV9Db21wb25lbnRNZXRhIiwgIl9BX0NvbnRhaW5lciIsICJBX0NvbnRleHQiLCAiY29uZmlnIiwgInNjb3BlIiwgIkFfRmVhdHVyZSIsICJBX0NvbnRhaW5lciIsICJfQV9Db250YWluZXJNZXRhIiwgIkFfQ29udGFpbmVyTWV0YSIsICJfQV9Gb3JtYXR0ZXJIZWxwZXIiLCAic3RyIiwgInBhcnQiLCAiaW5kZXgiLCAiQV9Gb3JtYXR0ZXJIZWxwZXIiLCAiX0FfSWRlbnRpdHlIZWxwZXIiLCAicGFydHMiLCAidGltZSIsICJyYW5kb20iLCAiaWQiLCAidGltZVBhcnQiLCAicmFuZG9tUGFydCIsICJudW1iZXIiLCAibWF4WmVyb3MiLCAiZm9ybWF0dGVkTnVtYmVyIiwgIkFfSWRlbnRpdHlIZWxwZXIiLCAiQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTIiwgIkFfQ09OU1RBTlRTX19FUlJPUl9ERVNDUklQVElPTiIsICJfQV9FcnJvciIsICJwYXJhbTEiLCAicGFyYW0yIiwgIkFfVHlwZUd1YXJkcyIsICJlcnJvciIsICJBU0VJRCIsICJtZXNzYWdlIiwgInNlcmlhbGl6ZWQiLCAidGl0bGUiLCAiZGVzY3JpcHRpb24iLCAicGFyYW1zIiwgInJvb3RFcnJvciIsICJBX0Vycm9yIiwgIl9BU0VJRF9FcnJvciIsICJBU0VJRF9FcnJvciIsICJfQVNFSUQiLCAiaWRlbnRpdHkiLCAiY29uY2VwdCIsICJib2R5IiwgInZlcnNpb24iLCAiZW50aXR5IiwgImlkQ2FuZGlkYXRlIiwgInNoYXJkIiwgIl9BX0VudGl0eUVycm9yIiwgIkFfRW50aXR5RXJyb3IiLCAiX0FfRW50aXR5IiwgInByb3BzIiwgIngiLCAib3ZlcnJpZGUiLCAiYXNlaWQiLCAibmV3RW50aXR5IiwgIkFfRW50aXR5IiwgIl9BX0VudGl0eU1ldGEiLCAiQV9FbnRpdHlNZXRhIiwgIl9BX0ZyYWdtZW50IiwgIkFfRnJhZ21lbnQiLCAiX0FfQ29tbW9uSGVscGVyIiwgInJlc29sdmUiLCAiY2hpbGRDbGFzcyIsICJwYXJlbnRDbGFzcyIsICJjdXJyZW50IiwgInBhcmVudHMiLCAiY2hhaW4iLCAiaW5wdXQiLCAicGF0aHMiLCAicmVzdWx0IiwgInJlbW92ZVByb3BlcnRpZXMiLCAidGFyZ2V0IiwgImN1cnJQYXRoIiwgImN1cnJLZXkiLCAicGF0aCIsICJwYXRoS2V5cyIsICJzb3VyY2UiLCAidmlzaXRlZCIsICJjbG9uZSIsICJjb21wb25lbnQiLCAiVU5LTk9XTiIsICJBTk9OWU1PVVMiLCAiZm5BbnkiLCAibWF0Y2giLCAib2JqQW55IiwgInMiLCAiQV9Db21tb25IZWxwZXIiLCAiX0FfU2NvcGVFcnJvciIsICJBX1Njb3BlRXJyb3IiLCAiX0FfU2NvcGUiLCAiY3VycmVudFBhcmVudCIsICJsYXllck9mZnNldCIsICJwYXJlbnRTY29wZSIsICJfY29tcG9uZW50cyIsICJfZXJyb3JzIiwgIl9lbnRpdGllcyIsICJlbnQiLCAiX2ZyYWdtZW50cyIsICJfbWV0YSIsICJmcmFnbWVudCIsICJwYXJhbSIsICJwYXJlbnQiLCAiY2lyY3VsYXJDaGVjayIsICJjdG9yIiwgImZvdW5kIiwgImMiLCAiZiIsICJlIiwgImFub3RoZXJTY29wZSIsICJjdXJyZW50UmVzdWx0cyIsICJwYXJlbnRSZXN1bHRzIiwgImluc3RhbmNlIiwgImluc3RhbmNlcyIsICJpbnN0cnVjdGlvbnMiLCAiY29tcG9uZW50TmFtZSIsICJ2YWx1ZXMiLCAiaXNzdWVyIiwgInF1ZXJ5IiwgImNvdW50IiwgImZyYWdtZW50SW5zdGFuY2VQcmVzZW50ZWQiLCAiZWwiLCAicmVzb2x2ZWRBcmdzIiwgImFyZyIsICJmbGF0IiwgImRlcGVuZGVuY3kiLCAicmVxdWlyZSIsICJjcmVhdGUiLCAiZGVmYXVsdEFyZ3MiLCAidGFyZ2V0UGFyZW50IiwgIm5ld0NvbXBvbmVudCIsICJBX0NvbXBvbmVudCIsICJhY2MiLCAiaW5oZXJpdGFuY2VDaGFpbiIsICJBX1Njb3BlIiwgIl9BX0NhbGxlckVycm9yIiwgIkFfQ2FsbGVyRXJyb3IiLCAiX0FfQ2FsbGVyIiwgIkFfQ2FsbGVyIiwgIl9BX1R5cGVHdWFyZHMiLCAiX0FfRmVhdHVyZUVycm9yIiwgIkFfRmVhdHVyZUVycm9yIiwgIkFfRmVhdHVyZV9EZWZpbmUiLCAicHJvcGVydHlLZXkiLCAiZGVzY3JpcHRvciIsICJtZXRhS2V5IiwgImV4aXN0ZWRNZXRhIiwgImludm9rZSIsICJvcmlnaW5hbE1ldGhvZCIsICJBX0ZlYXR1cmVfRXh0ZW5kIiwgInRhcmdldFJlZ2V4cCIsICJiZWhhdmlvciIsICJiZWZvcmUiLCAiYWZ0ZXIiLCAiaW5jbHVkZSIsICJleGNsdWRlIiwgInRocm93T25FcnJvciIsICJidWlsZFRhcmdldFJlZ2V4cCIsICJleGlzdGVkRGVmaW5pdGlvbnMiLCAiZXhpc3RlZE1ldGFWYWx1ZSIsICJoYW5kbGVycyIsICJpbmRleEluQW5vdGhlciIsICJleGlzdGVkSW5kZXgiLCAiaW5jbHVkZVBhcnQiLCAiZXhjbHVkZVBhcnQiLCAicGF0dGVybiIsICJBX1RZUEVTX19BX1N0YWdlX1N0YXR1cyIsICJfQV9TdGFnZUVycm9yIiwgIkFfU3RhZ2VFcnJvciIsICJfQV9TdGFnZSIsICJzdGVwIiwgInJlc29sdmVyQ29uc3RydWN0b3IiLCAidGFyZ2V0U2NvcGUiLCAibmV3RGVwZW5kZW5jeSIsICJjYWxsQXJncyIsICJyZWplY3QiLCAid3JhcHBlZEVycm9yIiwgIkFfU3RhZ2UiLCAiX0FfU3RlcE1hbmFnZXJFcnJvciIsICJfYSIsICJfQV9TdGVwc01hbmFnZXIiLCAiZW50aXRpZXMiLCAic3RlcCIsICJpIiwgInNlbGYiLCAicyIsICJlbnRpdHkiLCAiZW50aXR5SWQiLCAidGFyZ2V0IiwgInNvdXJjZSIsICJwYXR0ZXJuIiwgInJlZ2V4IiwgIm5vZGUiLCAibmVpZ2hib3IiLCAiZmVhdHVyZSIsICJpZCIsICJBX1N0YWdlIiwgIl9fbmFtZSIsICJBX1N0ZXBzTWFuYWdlciIsICJfQV9GZWF0dXJlIiwgInBhcmFtcyIsICJBX0ZlYXR1cmVfRGVmaW5lIiwgIkFfRmVhdHVyZV9FeHRlbmQiLCAiQV9Db250ZXh0IiwgIkFfRmVhdHVyZUVycm9yIiwgIkFfU2NvcGUiLCAiY29tcG9uZW50U2NvcGUiLCAiZXh0ZXJuYWxTY29wZSIsICJlcnJvciIsICJBX0NhbGxlciIsICJBX0NvbXBvbmVudCIsICJBX1R5cGVHdWFyZHMiLCAic2NvcGUiLCAidGVtcGxhdGUiLCAic3RhZ2UiLCAic3RhZ2VJbmRleCIsICJyZWFzb24iLCAicGFyYW0xIiwgInBhcmFtMiIsICJwYXJhbTMiLCAiZmVhdHVyZVNjb3BlIiwgIkFfRmVhdHVyZSIsICJfQV9Db21wb25lbnQiLCAiX0FfQ29udGV4dEVycm9yIiwgIkFfRXJyb3IiLCAiQV9Db250ZXh0RXJyb3IiLCAiX0FfQ29udGV4dCIsICJuYW1lIiwgIkFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMiLCAidGVzdEVudmlyb25tZW50IiwgImNvbXBvbmVudCIsICJjb21wb25lbnROYW1lIiwgIkFfQ29tbW9uSGVscGVyIiwgImluc3RhbmNlIiwgImltcG9ydGluZyIsICJuZXdTY29wZSIsICJwcm9wZXJ0eSIsICJtZXRhVHlwZSIsICJBX0NvbnRhaW5lck1ldGEiLCAiQV9Db21wb25lbnRNZXRhIiwgIkFfRW50aXR5TWV0YSIsICJmb3VuZCIsICJjIiwgIkFfRm9ybWF0dGVySGVscGVyIiwgIkFfTWV0YSIsICJpbmhlcml0TWV0YSIsICJjYWxsTmFtZXMiLCAiQV9Db250YWluZXIiLCAiQV9FbnRpdHkiLCAic3RlcHMiLCAiY2FsbE5hbWUiLCAiY21wIiwgIm1ldGEiLCAiZGVjbGFyYXRpb24iLCAiaXRlbXMiLCAiaXRlbSIsICJjdXJyZW50Q2xhc3MiLCAib3RoZXIiLCAib3RoZXJDbGFzcyIsICJtZXRhS2V5IiwgImFic3RyYWN0aW9uIiwgInBhcmFtIiwgIl9BX0Fic3RyYWN0aW9uRXJyb3IiLCAiQV9BYnN0cmFjdGlvbkVycm9yIiwgIkFfQWJzdHJhY3Rpb25fRXh0ZW5kIiwgImNvbmZpZyIsICJwcm9wZXJ0eUtleSIsICJkZXNjcmlwdG9yIiwgInNldE5hbWUiLCAiZXhpc3RlZE1ldGEiLCAiZXhpc3RlZE1ldGFWYWx1ZSIsICJleGlzdGVkSW5kZXgiLCAiX0FfQWJzdHJhY3Rpb24iLCAiY29udGFpbmVyIiwgIkFfQWJzdHJhY3Rpb24iLCAiQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucyIsICJBX1RZUEVTX19Db25jZXB0TWV0YUtleSIsICJfQV9Db25jZXB0IiwgInByb3BzIiwgImZyYWdtZW50IiwgIm1ldGhvZCIsICJBX0NvbmNlcHQiLCAiX0FfQ29uY2VwdE1ldGEiLCAiY29udGFpbmVycyIsICJfYSIsICJfQV9EZXBlbmRlbmN5RXJyb3IiLCAiQV9FcnJvciIsICJfX25hbWUiLCAiQV9EZXBlbmRlbmN5RXJyb3IiLCAiQV9EZXBlbmRlbmN5X0RlZmF1bHQiLCAiYXJncyIsICJ0YXJnZXQiLCAibWV0aG9kTmFtZSIsICJwYXJhbWV0ZXJJbmRleCIsICJjb21wb25lbnROYW1lIiwgIkFfQ29tbW9uSGVscGVyIiwgIkFfVHlwZUd1YXJkcyIsICJtZXRob2QiLCAibWV0YUtleSIsICJleGlzdGVkTWV0YSIsICJBX0NvbnRleHQiLCAiQV9NZXRhIiwgInBhcmFtc0FycmF5IiwgIkFfRGVwZW5kZW5jeV9GbGF0IiwgIkFfRGVwZW5kZW5jeV9Mb2FkIiwgInBhdGgiLCAiQV9EZXBlbmRlbmN5X1BhcmVudCIsICJsYXllck9mZnNldCIsICJBX0RlcGVuZGVuY3lfUmVxdWlyZSIsICJfQV9EZXBlbmRlbmN5IiwgIm5hbWUiLCAiQV9EZXBlbmRlbmN5IiwgIl9BX0luamVjdEVycm9yIiwgIkFfSW5qZWN0RXJyb3IiLCAiQV9JbmplY3QiLCAicGFyYW0xIiwgInBhcmFtMiIsICJqIiwgImMiLCAibyIsICJfQV9FeGVjdXRpb25Db250ZXh0IiwgIl9hIiwgIkFfRnJhZ21lbnQiLCAibmFtZSIsICJkZWZhdWx0cyIsICJBX01ldGEiLCAia2V5IiwgInZhbHVlIiwgIl9fbmFtZSIsICJBX0V4ZWN1dGlvbkNvbnRleHQiLCAiX0FfT3BlcmF0aW9uQ29udGV4dCIsICJvcGVyYXRpb24iLCAicGFyYW1zIiwgImVycm9yIiwgInJlc3VsdCIsICJBX09wZXJhdGlvbkNvbnRleHQiLCAiX0FfQ2hhbm5lbEVycm9yIiwgIkFfRXJyb3IiLCAib3JpZ2luYWxFcnJvciIsICJjb250ZXh0IiwgIkFfVHlwZUd1YXJkcyIsICJBX0NoYW5uZWxFcnJvciIsICJBX0NoYW5uZWxGZWF0dXJlcyIsICJBX0NoYW5uZWxSZXF1ZXN0U3RhdHVzZXMiLCAiX0FfQ2hhbm5lbFJlcXVlc3QiLCAiZXhpc3RlZCIsICJBX0NoYW5uZWxSZXF1ZXN0IiwgIl9BX0NoYW5uZWwiLCAiQV9Db21wb25lbnQiLCAiYXJncyIsICJyZXF1ZXN0U2NvcGUiLCAiQV9TY29wZSIsICJBX0lkZW50aXR5SGVscGVyIiwgIkFfQ29udGV4dCIsICJjaGFubmVsRXJyb3IiLCAibWVzc2FnZSIsICJfX2RlY29yYXRlQ2xhc3MiLCAiQV9GZWF0dXJlIiwgIkFfQ29tbWFuZF9TdGF0dXMiLCAiQV9Db21tYW5kVHJhbnNpdGlvbnMiLCAiQV9Db21tYW5kRmVhdHVyZXMiLCAiQV9Db21tYW5kRXZlbnQiLCAiX0FfQ29tbWFuZEVycm9yIiwgIl9hIiwgIkFfRXJyb3IiLCAiX19uYW1lIiwgIkFfQ29tbWFuZEVycm9yIiwgIl9BX1N0YXRlTWFjaGluZUVycm9yIiwgIkFfU3RhdGVNYWNoaW5lRXJyb3IiLCAiQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcyIsICJfQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uIiwgIkFfT3BlcmF0aW9uQ29udGV4dCIsICJwYXJhbXMiLCAiQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uIiwgIl9iIiwgIl9jIiwgIl9kIiwgIl9BX1N0YXRlTWFjaGluZSIsICJBX0NvbXBvbmVudCIsICJhcmdzIiwgImZyb20iLCAidG8iLCAicHJvcHMiLCAidHJhbnNpdGlvbk5hbWUiLCAiQV9Gb3JtYXR0ZXJIZWxwZXIiLCAidHJhbnNpdGlvbiIsICJzY29wZSIsICJBX1Njb3BlIiwgIkFfQ29udGV4dCIsICJlcnJvciIsICJ3cmFwcGVkRXJyb3IiLCAiX19kZWNvcmF0ZUNsYXNzIiwgIkFfRmVhdHVyZSIsICJBX1N0YXRlTWFjaGluZSIsICJBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVkiLCAiX0FfQ29uZmlnRXJyb3IiLCAiX2EiLCAiQV9FcnJvciIsICJfX25hbWUiLCAiQV9Db25maWdFcnJvciIsICJfQV9Db25maWciLCAiQV9FeGVjdXRpb25Db250ZXh0IiwgImNvbmZpZyIsICJBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZIiwgImtleSIsICJBX0Zvcm1hdHRlckhlbHBlciIsICJwcm9wZXJ0eSIsICJ2YWx1ZSIsICJhcnJheSIsICJBX0NvbmZpZyIsICJBX0xPR0dFUl9DT0xPUlMiLCAiQV9MT0dHRVJfU0FGRV9SQU5ET01fQ09MT1JTIiwgIkFfTE9HR0VSX0FOU0kiLCAiQV9MT0dHRVJfVElNRV9GT1JNQVQiLCAiQV9MT0dHRVJfRk9STUFUIiwgIkFfTE9HR0VSX1RFUk1JTkFMIiwgIkFfTE9HR0VSX0VOVl9LRVlTIiwgIkFfTG9nZ2VyIiwgIl9hIiwgIkFfQ29tcG9uZW50IiwgInNjb3BlIiwgImNvbmZpZyIsICJjb25maWdTY29wZUNvbG9yIiwgImNvbmZpZ0xvZ0NvbG9yIiwgImNvbXBsZW1lbnRhcnlDb2xvcnMiLCAic3RyIiwgImhhc2giLCAiaSIsICJjaGFyIiwgInNjb3BlTmFtZSIsICJzYWZlQ29sb3JzIiwgImNvbG9ySW5kZXgiLCAiY29sb3JQYWlycyIsICJwYWlySW5kZXgiLCAiQV9Db250ZXh0IiwgImNvbHMiLCAidGV4dCIsICJzY29wZVBhZGRpbmciLCAiaXNGaXJzdExpbmUiLCAic2NvcGVIZWFkZXJMZW5ndGgiLCAiY29udGludWF0aW9uSW5kZW50IiwgImZpcnN0TGluZU1heFdpZHRoIiwgImNvbnRpbnVhdGlvbk1heFdpZHRoIiwgImxpbmVzIiwgIndvcmRzIiwgImN1cnJlbnRMaW5lIiwgImN1cnJlbnRNYXhXaWR0aCIsICJ3b3JkIiwgInNwYWNlTmVlZGVkIiwgImNodW5rcyIsICJtYXhMZW5ndGgiLCAidG90YWxMZW5ndGgiLCAidG90YWxQYWRkaW5nIiwgImxlZnRQYWRkaW5nIiwgInJpZ2h0UGFkZGluZyIsICJtZXNzYWdlQ29sb3IiLCAiYXJncyIsICJ0aW1lU3RyaW5nIiwgImlzTXVsdGlBcmciLCAiYXJnIiwgInNob3VsZEFkZE5ld2xpbmUiLCAiQV9FcnJvciIsICJvYmoiLCAianNvblN0cmluZyIsICJzZWVuIiwgImtleSIsICJ2YWx1ZSIsICJtYXhKc29uTGluZVdpZHRoIiwgImZvcm1hdHRlZCIsICJsaW5lIiwgInN0cmluZ1ZhbHVlTWF0Y2giLCAicHJlZml4IiwgInN1ZmZpeCIsICJ3cmFwcGVkVmFsdWUiLCAibWF4V2lkdGgiLCAid3JhcHBlZExpbmVzIiwgImZvcm1hdHRlZExpbmVzIiwgImluZGV4IiwgImxvZ01ldGhvZCIsICJwYXJhbTEiLCAiZXJyb3IiLCAidGltZSIsICJzZXBhcmF0b3IiLCAiZXJyb3JNZXNzYWdlIiwgImVycm9yRGVzY3JpcHRpb24iLCAib3JpZ2luYWxNZXNzYWdlIiwgInN0YWNrTGluZXMiLCAibGlua1RleHQiLCAic3RhY2siLCAiYmFzZUluZGVudCIsICJzdGFja0luZGVudCIsICJ3cmFwcGVkTGluZSIsICJub3ciLCAibWludXRlcyIsICJzZWNvbmRzIiwgIm1pbGxpc2Vjb25kcyIsICJfX25hbWUiLCAiX19kZWNvcmF0ZUNsYXNzIiwgIl9fZGVjb3JhdGVQYXJhbSIsICJBX0luamVjdCIsICJBX1Njb3BlIiwgIkFfQ29uZmlnIiwgIl9iIiwgIl9jIiwgIl9kIiwgIl9lIiwgIl9mIiwgIl9nIiwgIl9oIiwgIl9pIiwgIl9qIiwgIl9rIiwgIl9BX0NvbW1hbmQiLCAiQV9FbnRpdHkiLCAicGFyYW1zIiwgIkFfRXhlY3V0aW9uQ29udGV4dCIsICJ0cmFuc2l0aW9uIiwgImxvZ2dlciIsICJzdGF0ZU1hY2hpbmUiLCAib3BlcmF0aW9uIiwgImNvbnRleHQiLCAicmVzb2x2ZSIsICJyZWplY3QiLCAib25CZWZvcmVFeGVjdXRlRmVhdHVyZSIsICJBX0ZlYXR1cmUiLCAib25FeGVjdXRlRmVhdHVyZSIsICJvbkFmdGVyRXhlY3V0ZUZlYXR1cmUiLCAidGFyZ2V0RXJyb3IiLCAiQV9Db21tYW5kRXJyb3IiLCAicmVzdWx0IiwgImV2ZW50IiwgImxpc3RlbmVyIiwgIm5ld0VudGl0eSIsICJBX1N0YXRlTWFjaGluZSIsICJzZXJpYWxpemVkIiwgImF0dGFjaGVkU2NvcGUiLCAiQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uIiwgIkFfRGVwZW5kZW5jeSIsICJfQV9GU1BvbHlmaWxsQ2xhc3MiLCAiX2EiLCAibG9nZ2VyIiwgIkFfQ29udGV4dCIsICJfX25hbWUiLCAicGF0aCIsICJlbmNvZGluZyIsICJBX0ZTUG9seWZpbGxDbGFzcyIsICJfQV9DcnlwdG9Qb2x5ZmlsbENsYXNzIiwgImZzUG9seWZpbGwiLCAiY3J5cHRvIiwgInRleHQiLCAiYWxnb3JpdGhtIiwgImZpbGVQYXRoIiwgInJlc29sdmUiLCAicmVqZWN0IiwgImhhc2giLCAiZmlsZVN0cmVhbSIsICJkYXRhIiwgImVyciIsICJlcnJvciIsICJoYXNoQnVmZmVyIiwgImhhc2hBcnJheSIsICJoYXNoQmFzZTY0IiwgIkFfQ3J5cHRvUG9seWZpbGxDbGFzcyIsICJfQV9IdHRwUG9seWZpbGxDbGFzcyIsICJodHRwTW9kdWxlIiwgIm9wdGlvbnMiLCAiY2FsbGJhY2siLCAidXJsIiwgImlzSHR0cHMiLCAibW9ja1Jlc3BvbnNlIiwgImV2ZW50IiwgImhhbmRsZXIiLCAiZGVzdCIsICJBX0h0dHBQb2x5ZmlsbENsYXNzIiwgIl9BX0h0dHBzUG9seWZpbGxDbGFzcyIsICJodHRwc01vZHVsZSIsICJBX0h0dHBzUG9seWZpbGxDbGFzcyIsICJfQV9QYXRoUG9seWZpbGxDbGFzcyIsICJwYXRocyIsICJyZXNvbHZlZFBhdGgiLCAiZXh0IiwgImJhc2UiLCAicGFydHMiLCAiZnJvbSIsICJ0byIsICJuYW1lIiwgInBhdGhPYmplY3QiLCAiQV9QYXRoUG9seWZpbGxDbGFzcyIsICJfQV9VcmxQb2x5ZmlsbENsYXNzIiwgInVybE1vZHVsZSIsICJ1cmxTdHJpbmciLCAidXJsT2JqZWN0IiwgIkFfVXJsUG9seWZpbGxDbGFzcyIsICJfQV9CdWZmZXJQb2x5ZmlsbENsYXNzIiwgImJ1ZmZlck1vZHVsZSIsICJzaXplIiwgImZpbGwiLCAiYnVmZmVyIiwgIm9iaiIsICJsaXN0IiwgInRvdGFsTGVuZ3RoIiwgImxlbmd0aCIsICJzdW0iLCAiYnVmIiwgInJlc3VsdCIsICJvZmZzZXQiLCAiQV9CdWZmZXJQb2x5ZmlsbENsYXNzIiwgIl9BX1Byb2Nlc3NQb2x5ZmlsbENsYXNzIiwgImNvZGUiLCAiYXJncyIsICJBX1Byb2Nlc3NQb2x5ZmlsbENsYXNzIiwgIkFfUG9seWZpbGwiLCAiQV9Db21wb25lbnQiLCAiX19kZWNvcmF0ZUNsYXNzIiwgIkFfQ29uY2VwdCIsICJfX2RlY29yYXRlUGFyYW0iLCAiQV9JbmplY3QiLCAiQV9Mb2dnZXIiLCAiQ29uZmlnUmVhZGVyIiwgInBvbHlmaWxsIiwgIkFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVkiLCAiQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTX0FSUkFZIiwgImNvbnRhaW5lciIsICJjb250ZXh0IiwgImNvbmZpZyIsICJBX0NvbmZpZyIsICJyb290RGlyIiwgImtleSIsICJwcm9wZXJ0eSIsICJ2YXJpYWJsZXMiLCAic3RhcnRQYXRoIiwgIkFfQ29udGFpbmVyIiwgIkFfU2NvcGUiLCAiQV9EZXBlbmRlbmN5IiwgIl9GaWxlQ29uZmlnUmVhZGVyIiwgIkFfRm9ybWF0dGVySGVscGVyIiwgImZzIiwgIkZpbGVDb25maWdSZWFkZXIiLCAiX0VOVkNvbmZpZ1JlYWRlciIsICJmZWF0dXJlIiwgImxpbmUiLCAidmFsdWUiLCAiYWxsVmFyaWFibGVzIiwgInZhcmlhYmxlIiwgIkFfRmVhdHVyZSIsICJFTlZDb25maWdSZWFkZXIiLCAiX0FfQ29uZmlnTG9hZGVyIiwgIm5ld0NvbmZpZyIsICJBX0NvbmZpZ0Vycm9yIiwgIkFfU2NvcGVFcnJvciIsICJBX0xvZ2dlckVudlZhcmlhYmxlcyIsICJBX0xvZ2dlckVudlZhcmlhYmxlc0FycmF5IiwgIl9BX01hbmlmZXN0RXJyb3IiLCAiX2EiLCAiQV9FcnJvciIsICJfX25hbWUiLCAiQV9NYW5pZmVzdEVycm9yIiwgIl9BX01hbmlmZXN0Q2hlY2tlciIsICJtYW5pZmVzdCIsICJjb21wb25lbnQiLCAibWV0aG9kIiwgImNoZWNrRXhjbHVzaW9uIiwgInRhcmdldCIsICJyZXN1bHQiLCAiQV9NYW5pZmVzdENoZWNrZXIiLCAiX0FfTWFuaWZlc3QiLCAiQV9GcmFnbWVudCIsICJjb25maWciLCAiQV9UeXBlR3VhcmRzIiwgIml0ZW0iLCAiY29tcG9uZW50UmVnZXgiLCAibWV0aG9kUmVnZXgiLCAibWV0aG9kQ29uZmlnIiwgImN0b3IiLCAiY29tcG9uZW50cyIsICJwYXR0ZXJucyIsICJzdHIiLCAiY29tcG9uZW50Q3RvciIsICJxdWVyeSIsICJjb21wb25lbnROYW1lIiwgIm1ldGhvZE5hbWUiLCAidGFyZ2V0TmFtZSIsICJtYXRjaGluZ1J1bGVzIiwgInJ1bGUiLCAiYSIsICJiIiwgImFJc0dlbmVyYWwiLCAiYklzR2VuZXJhbCIsICJBX01lbW9yeUZlYXR1cmVzIiwgIl9BX01lbW9yeUNvbnRleHQiLCAiX2EiLCAiQV9GcmFnbWVudCIsICJwYXJhbSIsICJ2YWx1ZSIsICJfX25hbWUiLCAiQV9NZW1vcnlDb250ZXh0IiwgIl9BX01lbW9yeUVycm9yIiwgIkFfRXJyb3IiLCAiQV9NZW1vcnlFcnJvciIsICJfYiIsICJfYyIsICJfZCIsICJfZSIsICJfZiIsICJfZyIsICJfaCIsICJfaSIsICJfQV9NZW1vcnkiLCAiQV9Db21wb25lbnQiLCAiYXJncyIsICJjb250ZXh0IiwgIkFfQ29udGV4dCIsICJvcGVyYXRpb24iLCAic2NvcGUiLCAiQV9TY29wZSIsICJlcnJvciIsICJpbml0RXJyb3IiLCAiZGVzdHJveUVycm9yIiwgImtleSIsICJBX09wZXJhdGlvbkNvbnRleHQiLCAiZ2V0RXJyb3IiLCAic2V0RXJyb3IiLCAiZHJvcEVycm9yIiwgImNsZWFyRXJyb3IiLCAic2VyaWFsaXplRXJyb3IiLCAiX19kZWNvcmF0ZUNsYXNzIiwgIkFfRmVhdHVyZSIsICJfX2RlY29yYXRlUGFyYW0iLCAiQV9JbmplY3QiLCAiQV9EZXBlbmRlbmN5IiwgIkFfU2VydmljZUZlYXR1cmVzIiwgIl9BX1NlcnZpY2VfRXJyb3IiLCAiX2EiLCAiQV9FcnJvciIsICJfX25hbWUiLCAiQV9TZXJ2aWNlX0Vycm9yIiwgIl9iIiwgIl9jIiwgIl9kIiwgIl9lIiwgIl9mIiwgIl9nIiwgIl9oIiwgIl9pIiwgIl9qIiwgIl9BX1NlcnZpY2UiLCAiQV9Db250YWluZXIiLCAiZXJyb3IiLCAid3JhcHBlZEVycm9yIiwgInBvbHlmaWxsIiwgImFyZ3MiLCAiQV9Qb2x5ZmlsbCIsICJsb2dnZXIiLCAiX19kZWNvcmF0ZUNsYXNzIiwgIkFfQ29uY2VwdCIsICJBX0ZlYXR1cmUiLCAiX19kZWNvcmF0ZVBhcmFtIiwgIkFfSW5qZWN0IiwgIkFfTG9nZ2VyIiwgIkFfU2VydmljZSIsICJfQV9Sb3V0ZSIsICJBX0ZyYWdtZW50IiwgInVybCIsICJwIiwgInBhdGhTdGFydEluZGV4IiwgInBhdGgiLCAicGFyYW0iLCAidXJsU2VnbWVudHMiLCAibWFza1NlZ21lbnRzIiwgInBhcmFtcyIsICJpIiwgIm1hc2tTZWdtZW50IiwgInVybFNlZ21lbnQiLCAicGFyYW1OYW1lIiwgInF1ZXJ5IiwgInF1ZXJ5U3RyaW5nIiwgImNsZWFuUXVlcnkiLCAicGFpciIsICJrZXkiLCAidmFsdWUiLCAiZXh0ZW5zaW9uU2NvcGUiLCAiQV9TaWduYWxGZWF0dXJlcyIsICJBX1NpZ25hbFZlY3RvckZlYXR1cmVzIiwgIl9BX1NpZ25hbCIsICJfYSIsICJBX0VudGl0eSIsICJzZXJpYWxpemVkRW50aXR5IiwgIm5ld0VudGl0eSIsICJzY29wZSIsICJfX25hbWUiLCAiQV9TaWduYWwiLCAiX0FfU2lnbmFsVmVjdG9yIiwgInMiLCAicG9pbnRlciIsICJzaWduYWxzIiwgInNpZ25hbENvbnN0cnVjdG9yIiwgInNpZ25hbEluZGV4IiwgInBhcmFtMSIsICJpbmRleCIsICJzdHJ1Y3R1cmUiLCAidXNlZFN0cnVjdHVyZSIsICJyZXN1bHRzIiwgImRhdGEiLCAib2JqIiwgInNpZ25hbE5hbWUiLCAic2lnbmFsIiwgIkFfU2lnbmFsVmVjdG9yIiwgIl9BX1NpZ25hbFN0YXRlIiwgIkFfRnJhZ21lbnQiLCAicGFyYW0yIiwgInZhbHVlIiwgInBhcmFtIiwgInZlY3RvciIsICJrZXkiLCAiQV9TaWduYWxTdGF0ZSIsICJfQV9TaWduYWxDb25maWciLCAiQV9Db250ZXh0IiwgImUiLCAiQV9Db21tb25IZWxwZXIiLCAiYSIsICJiIiwgInBhcmFtcyIsICJzdHJpbmdTdHJ1Y3R1cmUiLCAibmFtZSIsICJBX1NpZ25hbENvbmZpZyIsICJfQV9TaWduYWxCdXMiLCAiQV9Db21wb25lbnQiLCAiZ2xvYmFsQ29uZmlnIiwgImxvZ2dlciIsICJzdGF0ZSIsICJjb25maWciLCAiY29tcG9uZW50Q29udGV4dCIsICJfX2RlY29yYXRlQ2xhc3MiLCAiQV9GZWF0dXJlIiwgIl9fZGVjb3JhdGVQYXJhbSIsICJBX0luamVjdCIsICJBX0NhbGxlciIsICJBX1Njb3BlIiwgIkFfQ29uZmlnIiwgIkFfTG9nZ2VyIiwgIkFfU2lnbmFsQnVzIiwgIl9BX0RlZmVycmVkIiwgInJlc29sdmUiLCAicmVqZWN0IiwgInJlYXNvbiIsICJBX0RlZmVycmVkIiwgIl9BX1NjaGVkdWxlT2JqZWN0IiwgIm1zIiwgImFjdGlvbiIsICJhcmdzIiwgIkFfRXJyb3IiLCAiQV9TY2hlZHVsZU9iamVjdCIsICJfQV9TY2hlZHVsZSIsICJkYXRlIiwgImNhbGxiYWNrIiwgInRpbWVzdGFtcCIsICJBX1R5cGVHdWFyZHMiLCAiYiIsICJUIiwgImIiLCAiaSIsICJhIiwgImIiLCAiaSIsICJUIiwgIlQiLCAiX2EiLCAiVCIsICJUIiwgIl9hIiwgImkiLCAiYiIsICJub2RlIiwgIkEiLCAiVCIsICJfYSIsICJnZSIsICJUIiwgImYiLCAiUiIsICJUIiwgIkEiLCAiZGUiXQp9Cg==
