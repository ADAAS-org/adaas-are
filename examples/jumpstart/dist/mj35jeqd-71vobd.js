var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __decorateClass = (decorators, target, key, kind) => {
  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;
  for (var i2 = decorators.length - 1, decorator; i2 >= 0; i2--)
    if (decorator = decorators[i2])
      result = (kind ? decorator(target, key, result) : decorator(result)) || result;
  if (kind && result) __defProp(target, key, result);
  return result;
};
var __decorateParam = (index, decorator) => (target, key) => decorator(target, key, index);

// node_modules/@adaas/a-concept/dist/index.mjs
var Ze = Object.defineProperty;
var a = /* @__PURE__ */ __name((m2, e) => Ze(m2, "name", { value: e, configurable: true }), "a");
var D = { A_CONCEPT_NAME: "A_CONCEPT_NAME", A_CONCEPT_ROOT_SCOPE: "A_CONCEPT_ROOT_SCOPE", A_CONCEPT_ENVIRONMENT: "A_CONCEPT_ENVIRONMENT", A_CONCEPT_ROOT_FOLDER: "A_CONCEPT_ROOT_FOLDER", A_ERROR_DEFAULT_DESCRIPTION: "A_ERROR_DEFAULT_DESCRIPTION" };
var st = [D.A_CONCEPT_NAME, D.A_CONCEPT_ROOT_SCOPE, D.A_CONCEPT_ENVIRONMENT, D.A_CONCEPT_ROOT_FOLDER, D.A_ERROR_DEFAULT_DESCRIPTION];
var Ge = ((s) => (s.INITIALIZED = "INITIALIZED", s.PROCESSING = "PROCESSING", s.COMPLETED = "COMPLETED", s.INTERRUPTED = "INTERRUPTED", s.FAILED = "FAILED", s))(Ge || {});
var _a;
var ae = (_a = class {
  constructor() {
    this.meta = /* @__PURE__ */ new Map();
  }
  [Symbol.iterator]() {
    let e = this.meta.entries();
    return { next: a(() => e.next(), "next") };
  }
  from(e) {
    return this.meta = new Map(e.meta), this;
  }
  set(e, t) {
    let r = this.meta.get(e) || Array.isArray(t) ? [] : t instanceof Map ? /* @__PURE__ */ new Map() : {};
    this.meta.get(e) || Array.isArray(t) ? [...r] : t instanceof Map ? new Map(r) : { ...r };
    this.meta.set(e, t);
  }
  get(e) {
    return this.meta.get(e);
  }
  delete(e) {
    return this.meta.delete(e);
  }
  size() {
    return this.meta.size;
  }
  convertToRegExp(e) {
    return e instanceof RegExp ? e : new RegExp(e);
  }
  find(e) {
    let t = [];
    for (let [r, n] of this.meta.entries()) this.convertToRegExp(String(r)).test(e) && t.push([r, n]);
    return t;
  }
  findByRegex(e) {
    let t = [];
    for (let [r, n] of this.meta.entries()) e.test(String(r)) && t.push([r, n]);
    return t;
  }
  has(e) {
    return this.meta.has(e);
  }
  entries() {
    return this.meta.entries();
  }
  clear() {
    this.meta.clear();
  }
  toArray() {
    return Array.from(this.meta.entries());
  }
  recursiveToJSON(e) {
    switch (true) {
      case e instanceof _a:
        return e.toJSON();
      case e instanceof Map:
        let t = {};
        for (let [n, s] of e.entries()) t[String(n)] = this.recursiveToJSON(s);
        return t;
      case Array.isArray(e):
        return e.map((n) => this.recursiveToJSON(n));
      case (!!e && typeof e == "object"):
        let r = {};
        for (let [n, s] of Object.entries(e)) r[n] = this.recursiveToJSON(s);
        return r;
      default:
        return e;
    }
  }
  toJSON() {
    let e = {};
    for (let [t, r] of this.meta.entries()) e[String(t)] = this.recursiveToJSON(r);
    return e;
  }
}, __name(_a, "ae"), _a);
a(ae, "A_Meta");
var l = ae;
var He = ((n) => (n.EXTENSIONS = "a-component-extensions", n.FEATURES = "a-component-features", n.ABSTRACTIONS = "a-component-abstractions", n.INJECTIONS = "a-component-injections", n))(He || {});
var We = ((r) => (r.SAVE = "save", r.DESTROY = "destroy", r.LOAD = "load", r))(We || {});
var Xe = ((n) => (n.FEATURES = "a-container-features", n.INJECTIONS = "a-container-injections", n.ABSTRACTIONS = "a-container-abstractions", n.EXTENSIONS = "a-container-extensions", n))(Xe || {});
var Qe = ((n) => (n.EXTENSIONS = "a-component-extensions", n.FEATURES = "a-component-features", n.INJECTIONS = "a-component-injections", n.ABSTRACTIONS = "a-component-abstractions", n))(Qe || {});
var _a2;
var Ae = (_a2 = class extends l {
  injections(e) {
    return this.get("a-component-injections")?.get(e) || [];
  }
  extensions(e) {
    let t = [];
    return this.get("a-component-extensions")?.find(e).forEach(([n, s]) => {
      s.forEach((i2) => {
        t.push({ name: i2.name, handler: i2.handler, behavior: i2.behavior, before: i2.before || "", after: i2.after || "", throwOnError: i2.throwOnError || true, override: "" });
      });
    }), t;
  }
  features() {
    return this.get("a-component-features")?.toArray().map(([, t]) => t) || [];
  }
  abstractions(e) {
    let t = [], r = this.get("a-component-abstractions"), n = this.get("a-component-injections");
    return r?.find(`CONCEPT_ABSTRACTION::${e}`).forEach(([s, i2]) => {
      i2.forEach((c) => {
        let d2 = n?.get(c.handler) || [];
        t.push({ ...c, args: d2 });
      });
    }), t;
  }
}, __name(_a2, "Ae"), _a2);
a(Ae, "A_ComponentMeta");
var k = Ae;
var _a3;
var fe = (_a3 = class {
  get name() {
    return this.config?.name || this.constructor.name;
  }
  get scope() {
    return _.scope(this);
  }
  constructor(e = {}) {
    this.config = e, _.allocate(this, this.config);
  }
  async call(e, t) {
    return await new Y({ name: e, component: this }).process(t);
  }
}, __name(_a3, "fe"), _a3);
a(fe, "A_Container");
var U = fe;
var _a4;
var Ee = (_a4 = class extends l {
  injections(e) {
    return this.get("a-container-injections")?.get(e) || [];
  }
  features() {
    return this.get("a-container-features")?.toArray().map(([, t]) => t) || [];
  }
  abstractions(e) {
    let t = [], r = this.get("a-container-abstractions"), n = this.get("a-container-injections");
    return r?.find(`CONCEPT_ABSTRACTION::${e}`).forEach(([s, i2]) => {
      i2.forEach((c) => {
        let d2 = n?.get(c.handler) || [];
        t.push({ ...c, args: d2 });
      });
    }), t;
  }
  extensions(e) {
    let t = [];
    return this.get("a-container-extensions")?.find(e).forEach(([n, s]) => {
      s.forEach((i2) => {
        t.push({ name: i2.name, handler: i2.handler, behavior: i2.behavior, before: i2.before || "", after: i2.after || "", throwOnError: i2.throwOnError || true, override: "" });
      });
    }), t;
  }
}, __name(_a4, "Ee"), _a4);
a(Ee, "A_ContainerMeta");
var J = Ee;
var _a5;
var Se = (_a5 = class {
  static toUpperSnakeCase(e) {
    return e.trim().replace(/([a-z])([A-Z])/g, "$1_$2").replace(/[^a-zA-Z0-9]+/g, "_").replace(/_+/g, "_").replace(/^_|_$/g, "").toUpperCase();
  }
  static toCamelCase(e) {
    return e.trim().replace(/[^a-zA-Z0-9]+/g, " ").split(" ").filter(Boolean).map((t, r) => r === 0 ? t.toLowerCase() : t.charAt(0).toUpperCase() + t.slice(1).toLowerCase()).join("");
  }
  static toPascalCase(e) {
    return e.trim().replace(/([a-z])([A-Z])/g, "$1 $2").replace(/[^a-zA-Z0-9]+/g, " ").split(" ").filter(Boolean).map((t) => t.charAt(0).toUpperCase() + t.slice(1).toLowerCase()).join("");
  }
  static toKebabCase(e) {
    return e.replace(/[^a-zA-Z0-9]+/g, " ").replace(/([a-z0-9])([A-Z])/g, "$1 $2").trim().replace(/\s+/g, "-").toLowerCase();
  }
}, __name(_a5, "Se"), _a5);
a(Se, "A_FormatterHelper");
var g = Se;
var _a6;
var Te = (_a6 = class {
  static generateTimeId(e = { timestamp: /* @__PURE__ */ new Date(), random: Math.random().toString(36).slice(2, 8) }) {
    let t = e.timestamp.getTime().toString(36), r = e.random;
    return `${t}-${r}`;
  }
  static parseTimeId(e) {
    let [t, r] = e.split("-");
    return { timestamp: new Date(parseInt(t, 36)), random: r };
  }
  static formatWithLeadingZeros(e, t = 10) {
    return String(e).padStart(t + 1, "0").slice(-t);
  }
  static removeLeadingZeros(e) {
    return String(Number(e));
  }
}, __name(_a6, "Te"), _a6);
a(Te, "A_IdentityHelper");
var $ = Te;
var G = { UNEXPECTED_ERROR: "A-Error Unexpected Error", VALIDATION_ERROR: "A-Error Validation Error" };
var Be = "If you see this error please let us know.";
var _a7;
var O = (_a7 = class extends Error {
  static get entity() {
    return g.toKebabCase(this.name);
  }
  static get concept() {
    return _.concept;
  }
  static get scope() {
    return _.root.name;
  }
  constructor(e, t) {
    switch (true) {
      case e instanceof _a7:
        return e;
      case e instanceof Error:
        super(e.message);
        break;
      case o.isErrorSerializedType(e):
        super(e.message);
        break;
      case (o.isErrorConstructorType(e) && "description" in e):
        super(`[${e.title}]: ${e.description}`);
        break;
      case (o.isErrorConstructorType(e) && !("description" in e)):
        super(e.title);
        break;
      case (o.isString(e) && !t):
        super(e);
        break;
      case (o.isString(e) && !!t):
        super(`[${e}]: ${t}`);
        break;
      default:
        throw new _a7(G.VALIDATION_ERROR, "Invalid parameters provided to A_Error constructor");
    }
    this.getInitializer(e, t).call(this, e, t);
  }
  get aseid() {
    return this._aseid;
  }
  get title() {
    return this._title;
  }
  get message() {
    return super.message;
  }
  get code() {
    return this._code || g.toKebabCase(this.title);
  }
  get type() {
    return this.constructor.entity;
  }
  get link() {
    return this._link ? this._link : new URL(`https://adaas.support/a-concept/errors/${this.aseid.toString()}`).toString();
  }
  get scope() {
    return this._aseid.scope;
  }
  get description() {
    return this._description || process.env[D.A_ERROR_DEFAULT_DESCRIPTION] || Be;
  }
  get originalError() {
    return this._originalError;
  }
  getInitializer(e, t) {
    switch (true) {
      case (o.isString(e) && !t):
        return this.fromMessage;
      case (o.isString(e) && !!t):
        return this.fromTitle;
      case e instanceof Error:
        return this.fromError;
      case o.isErrorSerializedType(e):
        return this.fromJSON;
      case o.isErrorConstructorType(e):
        return this.fromConstructor;
      default:
        throw new _a7(G.VALIDATION_ERROR, "Invalid parameters provided to A_Error constructor");
    }
  }
  fromError(e) {
    this._title = G.UNEXPECTED_ERROR, this._aseid = new C({ concept: this.constructor.concept, scope: this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._originalError = e;
  }
  fromMessage(e) {
    this._title = G.UNEXPECTED_ERROR, this._aseid = new C({ concept: this.constructor.concept, scope: this._scope || this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._link = void 0, this._originalError = void 0;
  }
  fromJSON(e) {
    this._aseid = new C(e.aseid), super.message = e.message, this._title = e.title, this._code = e.code, this._scope = e.scope, this._description = e.description, this._originalError = e.originalError ? new _a7(e.originalError) : void 0, this._link = e.link;
  }
  fromTitle(e, t) {
    this.validateTitle(e), this._title = e, this._description = t, this._aseid = new C({ concept: this.constructor.concept, scope: this._scope || this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._link = void 0, this._originalError = void 0;
  }
  fromConstructor(e) {
    if (this.validateTitle(e.title), this._title = e.title, this._code = e.code, this._scope = e.scope ? o.isScopeInstance(e.scope) ? e.scope.name : e.scope : void 0, this._aseid = new C({ concept: this.constructor.concept, scope: this._scope || this.constructor.scope, entity: this.constructor.entity, id: this.code }), this._description = e.description, this._link = e.link, e.originalError instanceof _a7) {
      let t = e.originalError;
      for (; t.originalError instanceof _a7; ) t = t.originalError;
      this._originalError = t.originalError || t;
    } else this._originalError = e.originalError;
  }
  toJSON() {
    return { aseid: this.aseid.toString(), title: this.title, code: this.code, type: this.type, message: this.message, link: this.link, scope: this.scope, description: this.description, originalError: this.originalError?.message };
  }
  validateTitle(e) {
    if (e.length > 60) throw new _a7(G.VALIDATION_ERROR, "A-Error title exceeds 60 characters limit.");
    if (e.length === 0) throw new _a7(G.VALIDATION_ERROR, "A-Error title cannot be empty.");
  }
}, __name(_a7, "O"), _a7);
a(O, "A_Error");
var A = O;
var _a8;
var ne = (_a8 = class extends A {
}, __name(_a8, "ne"), _a8);
a(ne, "ASEID_Error"), ne.ASEIDInitializationError = "ASEID Initialization Error", ne.ASEIDValidationError = "ASEID Validation Error";
var N = ne;
var _a9;
var L = (_a9 = class {
  static isASEID(e) {
    return this.regexp.test(e);
  }
  constructor(e) {
    this.verifyInput(e), this.getInitializer(e).call(this, e);
  }
  get concept() {
    return this._concept || _.concept;
  }
  get scope() {
    return this._scope || _.root.name;
  }
  get entity() {
    return this._entity;
  }
  get id() {
    return this._id;
  }
  get version() {
    return this._version;
  }
  get shard() {
    return this._shard;
  }
  getInitializer(e) {
    switch (true) {
      case o.isString(e):
        return this.fromString;
      case o.isObject(e):
        return this.fromObject;
      default:
        throw new N(N.ASEIDInitializationError, "Invalid parameters provided to ASEID constructor");
    }
  }
  fromString(e) {
    let [t, r, n] = e.split("@"), [s, i2, c] = r.split(":"), d2 = c.includes(".") ? c.split(".")[0] : void 0, E2 = c.includes(".") ? c.split(".")[1] : c;
    this._concept = t || _.root.name, this._scope = s || _.root.name, this._entity = i2, this._id = E2, this._version = n, this._shard = d2;
  }
  fromObject(e) {
    this._concept = e.concept ? _a9.isASEID(e.concept) ? new _a9(e.concept).id : e.concept : _.concept, this._scope = e.scope ? o.isNumber(e.scope) ? $.formatWithLeadingZeros(e.scope) : _a9.isASEID(e.scope) ? new _a9(e.scope).id : e.scope : _.root.name, this._entity = e.entity, this._id = o.isNumber(e.id) ? $.formatWithLeadingZeros(e.id) : e.id, this._version = e.version, this._shard = e.shard;
  }
  toString() {
    return `${this.concept}@${this.scope}:${this.entity}:${this.shard ? this.shard + "." + this.id : this.id}${this.version ? "@" + this.version : ""}`;
  }
  toJSON() {
    return { concept: this._concept, scope: this._scope, entity: this._entity, id: this._id, version: this._version, shard: this._shard };
  }
  verifyInput(e) {
    switch (true) {
      case (o.isString(e) && !_a9.isASEID(e)):
        throw new N(N.ASEIDValidationError, "Invalid ASEID format provided");
      case (o.isObject(e) && !e.id):
        throw new N(N.ASEIDValidationError, "ASEID id is required");
      case (o.isObject(e) && !e.entity):
        throw new N(N.ASEIDValidationError, "ASEID entity is required");
    }
  }
}, __name(_a9, "L"), _a9);
a(L, "ASEID"), L.regexp = new RegExp("^[a-z|A-Z|0-9|-]+@[a-z|A-Z|0-9|-]+:[a-z|A-Z|0-9|-]+:[a-z|A-Z|0-9|\\.|-]+(@v[0-9|\\.]+|@lts)?$");
var C = L;
var _a10;
var ce = (_a10 = class extends A {
}, __name(_a10, "ce"), _a10);
a(ce, "A_EntityError"), ce.ValidationError = "A-Entity Validation Error";
var X = ce;
var _a11;
var he = (_a11 = class {
  static get entity() {
    return g.toKebabCase(this.name);
  }
  static get concept() {
    return _.concept;
  }
  static get scope() {
    return _.root.name;
  }
  constructor(e) {
    this.getInitializer(e).call(this, e);
  }
  get id() {
    return this.aseid.id;
  }
  isStringASEID(e) {
    return typeof e == "string" && C.isASEID(e);
  }
  isASEIDInstance(e) {
    return e instanceof C;
  }
  isSerializedObject(e) {
    return !!e && typeof e == "object" && "aseid" in e;
  }
  isConstructorProps(e) {
    return !!e && typeof e == "object" && !("aseid" in e);
  }
  getInitializer(e) {
    if (!e) return this.fromUndefined;
    if (this.isStringASEID(e)) return this.fromASEID;
    if (this.isASEIDInstance(e)) return this.fromASEID;
    if (this.isSerializedObject(e)) return this.fromJSON;
    if (this.isConstructorProps(e)) return this.fromNew;
    throw new X(X.ValidationError, "Unable to determine A-Entity constructor initialization method. Please check the provided parameters.");
  }
  async call(e, t) {
    return await new Y({ name: e, component: this, scope: t }).process(t);
  }
  async load(e) {
    return this.call("load", e);
  }
  async destroy(e) {
    return this.call("destroy", e);
  }
  async save(e) {
    return this.call("save", e);
  }
  fromASEID(e) {
    e instanceof C ? this.aseid = e : this.aseid = new C(e);
  }
  fromUndefined() {
    this.aseid = new C({ concept: this.constructor.concept, scope: this.constructor.scope, entity: this.constructor.entity, id: $.generateTimeId() });
  }
  fromNew(e) {
    this.aseid = new C({ concept: this.constructor.concept, scope: this.constructor.scope, entity: this.constructor.entity, id: $.generateTimeId() });
  }
  fromJSON(e) {
    this.aseid = new C(e.aseid);
  }
  toJSON() {
    return { aseid: this.aseid.toString() };
  }
  toString() {
    return this.aseid ? this.aseid.toString() : this.constructor.name;
  }
}, __name(_a11, "he"), _a11);
a(he, "A_Entity");
var M = he;
var _a12;
var ge = (_a12 = class extends l {
  features() {
    return this.get("a-component-features")?.toArray().map(([, t]) => t) || [];
  }
  injections(e) {
    return this.get("a-component-injections")?.get(e) || [];
  }
}, __name(_a12, "ge"), _a12);
a(ge, "A_EntityMeta");
var H = ge;
var _a13;
var ye = (_a13 = class {
  constructor(e = {}) {
    this._name = e.name || this.constructor.name;
  }
  get name() {
    return this._name;
  }
  toJSON() {
    return { name: this.name };
  }
}, __name(_a13, "ye"), _a13);
a(ye, "A_Fragment");
var K = ye;
var _a14;
var Ce = (_a14 = class {
  static resolve() {
    return new Promise((e) => e());
  }
  static isInheritedFrom(e, t) {
    let r = e;
    for (; r; ) {
      if (r === t) return true;
      r = Object.getPrototypeOf(r);
    }
    return false;
  }
  static omitProperties(e, t) {
    let r = JSON.parse(JSON.stringify(e));
    function n(s, i2) {
      let c = i2[0];
      i2.length === 1 ? delete s[c] : s[c] !== void 0 && typeof s[c] == "object" && n(s[c], i2.slice(1));
    }
    __name(n, "n");
    return a(n, "removeProperties"), t.forEach((s) => {
      let i2 = s.split(".");
      n(r, i2);
    }), r;
  }
  static isObject(e) {
    return e !== null && typeof e == "object" && !Array.isArray(e);
  }
  static deepMerge(e, t, r = /* @__PURE__ */ new Map()) {
    if (this.isObject(e) && this.isObject(t)) for (let n in t) this.isObject(t[n]) ? (e[n] || (e[n] = {}), r.has(t[n]) ? e[n] = r.get(t[n]) : (r.set(t[n], {}), this.deepMerge(e[n], t[n], r))) : e[n] = t[n];
    return e;
  }
  static deepClone(e) {
    if (e == null || typeof e != "object") return e;
    if (e instanceof Date) return new Date(e.getTime());
    if (Array.isArray(e)) return e.map((t) => this.deepClone(t));
    if (typeof e == "function") return e;
    if (e instanceof Object) {
      let t = {};
      for (let r in e) e.hasOwnProperty(r) && (t[r] = this.deepClone(e[r]));
      return t;
    }
    throw new Error("Unable to clone the object. Unsupported type.");
  }
  static deepCloneAndMerge(e, t) {
    if (t == null && e == null) return e;
    if (e == null && t) return this.deepClone(t);
    if (typeof e != "object") return e;
    if (e instanceof Date) return new Date(e.getTime());
    if (Array.isArray(e)) return e.map((r) => this.deepCloneAndMerge(r, t));
    if (typeof e == "function") return e;
    if (e instanceof Object) {
      let r = {};
      for (let n in e) t[n] !== null && t[n] !== void 0 ? r[n] = this.deepCloneAndMerge(e[n], t[n]) : r[n] = this.deepClone(e[n]);
      for (let n in t) e[n] !== void 0 && e[n] !== null ? r[n] = this.deepCloneAndMerge(e[n], t[n]) : r[n] = this.deepClone(t[n]);
      return r;
    }
    throw new Error("Unable to clone the object. Unsupported type.");
  }
  static getComponentName(e) {
    let t = "Unknown", r = "Anonymous";
    if (e == null) return t;
    if (typeof e == "string") return e || t;
    if (typeof e == "symbol") try {
      return e.toString();
    } catch {
      return t;
    }
    if (Array.isArray(e)) return e.length === 0 ? t : this.getComponentName(e[0]);
    if (typeof e == "function") {
      let n = e;
      if (n.displayName) return String(n.displayName);
      if (n.name) return String(n.name);
      try {
        let i2 = Function.prototype.toString.call(e).match(/^(?:class\s+([A-Za-z0-9_$]+)|function\s+([A-Za-z0-9_$]+)|([A-Za-z0-9_$]+)\s*=>)/);
        if (i2) return i2[1] || i2[2] || i2[3] || r;
      } catch {
      }
      return r;
    }
    if (typeof e == "object") {
      let n = e;
      if (n.type) return this.getComponentName(n.type);
      if (n.displayName) return String(n.displayName);
      if (n.name) return String(n.name);
      if (n.constructor && n.constructor.name && n.constructor.name !== "Object") return String(n.constructor.name);
      try {
        let s = n.toString();
        if (typeof s == "string" && s !== "[object Object]") return s;
      } catch {
      }
      return r;
    }
    try {
      return String(e);
    } catch {
      return t;
    }
  }
}, __name(_a14, "Ce"), _a14);
a(Ce, "A_CommonHelper");
var u = Ce;
var _a15;
var z = (_a15 = class extends A {
}, __name(_a15, "z"), _a15);
a(z, "A_ScopeError"), z.InitializationError = "A-Scope Initialization Error", z.ConstructorError = "Unable to construct A-Scope instance", z.ResolutionError = "A-Scope Resolution Error", z.RegistrationError = "A-Scope Registration Error", z.CircularInheritanceError = "A-Scope Circular Inheritance Error", z.DeregistrationError = "A-Scope Deregistration Error";
var f = z;
var _a16;
var _e = (_a16 = class {
  constructor(e, t) {
    this._meta = new l();
    this._allowedComponents = /* @__PURE__ */ new Set();
    this._allowedErrors = /* @__PURE__ */ new Set();
    this._allowedEntities = /* @__PURE__ */ new Set();
    this._allowedFragments = /* @__PURE__ */ new Set();
    this._components = /* @__PURE__ */ new Map();
    this._errors = /* @__PURE__ */ new Map();
    this._entities = /* @__PURE__ */ new Map();
    this._fragments = /* @__PURE__ */ new Map();
    this.getInitializer(e).call(this, e, t);
  }
  get name() {
    return this._name;
  }
  get meta() {
    return this._meta;
  }
  get allowedComponents() {
    return this._allowedComponents;
  }
  get allowedEntities() {
    return this._allowedEntities;
  }
  get allowedFragments() {
    return this._allowedFragments;
  }
  get allowedErrors() {
    return this._allowedErrors;
  }
  get entities() {
    return Array.from(this._entities.values());
  }
  get fragments() {
    return Array.from(this._fragments.values());
  }
  get components() {
    return Array.from(this._components.values());
  }
  get errors() {
    return Array.from(this._errors.values());
  }
  get parent() {
    return this._parent;
  }
  getInitializer(e, t) {
    switch (true) {
      case (!e && !t):
        return this.defaultInitialized;
      case !!e:
        return this.defaultInitialized;
      default:
        throw new f(f.ConstructorError, "Invalid parameters provided to A_Scope constructor");
    }
  }
  defaultInitialized(e = {}, t = {}) {
    this._name = e.name || this.constructor.name, this.initComponents(e.components), this.initErrors(e.errors), this.initFragments(e.fragments), this.initEntities(e.entities), this.initMeta(e.meta), t.parent && (this._parent = t.parent);
  }
  initComponents(e) {
    e?.forEach(this.register.bind(this));
  }
  initErrors(e) {
    e?.forEach(this.register.bind(this));
  }
  initEntities(e) {
    e?.forEach((t) => this.register(t));
  }
  initFragments(e) {
    e?.forEach(this.register.bind(this));
  }
  initMeta(e) {
    e && Object.entries(e).forEach(([t, r]) => {
      this._meta.set(t, r);
    });
  }
  destroy() {
    this._components.forEach((e) => _.deregister(e)), this._fragments.forEach((e) => _.deregister(e)), this._entities.forEach((e) => _.deregister(e)), this._components.clear(), this._errors.clear(), this._fragments.clear(), this._entities.clear(), this.issuer() && _.deallocate(this);
  }
  get(e) {
    return this._meta.get(e);
  }
  set(e, t) {
    this._meta.set(e, t);
  }
  issuer() {
    return _.issuer(this);
  }
  inherit(e) {
    if (!e) throw new f(f.InitializationError, "Invalid parent scope provided");
    if (e === this) throw new f(f.CircularInheritanceError, `Unable to inherit scope ${this.name} from itself`);
    if (e === this._parent) return this;
    let t = this.checkCircularInheritance(e);
    if (t) throw new f(f.CircularInheritanceError, `Circular inheritance detected: ${[...t, e.name].join(" -> ")}`);
    return this._parent = e, this;
  }
  has(e) {
    let t = false;
    switch (true) {
      case o.isScopeConstructor(e):
        return true;
      case typeof e == "string":
        return Array.from(this.allowedComponents).find((c) => c.name === e) && (t = true), Array.from(this.allowedFragments).find((c) => c.name === e) && (t = true), Array.from(this.allowedEntities).find((c) => c.name === e) && (t = true), Array.from(this.allowedErrors).find((c) => c.name === e) && (t = true), this._parent ? this._parent.has(e) : false;
      case o.isComponentConstructor(e): {
        t = this.isAllowedComponent(e) || !![...this.allowedComponents].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case o.isEntityConstructor(e): {
        t = this.isAllowedEntity(e) || !![...this.allowedEntities].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case o.isFragmentConstructor(e): {
        t = this.isAllowedFragment(e) || !![...this.allowedFragments].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case o.isErrorConstructor(e): {
        t = this.isAllowedError(e) || !![...this.allowedErrors].find((r) => u.isInheritedFrom(r, e));
        break;
      }
      case (this.issuer() && (this.issuer().constructor === e || u.isInheritedFrom(this.issuer().constructor, e))): {
        t = true;
        break;
      }
    }
    if (!t && this._parent) try {
      return this._parent.has(e);
    } catch {
      return false;
    }
    return t;
  }
  merge(e) {
    return new _a16({ name: `${this.name} + ${e.name}`, components: [...this.allowedComponents, ...e.allowedComponents], fragments: [...this.fragments, ...e.fragments], entities: [...this.entities, ...e.entities, ...this.allowedEntities, ...e.allowedEntities] }, { parent: this._parent || e._parent });
  }
  resolveConstructor(e) {
    let t = Array.from(this.allowedComponents).find((s) => s.name === e || s.name === g.toPascalCase(e));
    if (t) return t;
    let r = Array.from(this.allowedEntities).find((s) => s.name === e || s.name === g.toPascalCase(e) || s.entity === e || s.entity === g.toKebabCase(e));
    if (r) return r;
    let n = Array.from(this.allowedFragments).find((s) => s.name === e || s.name === g.toPascalCase(e));
    if (n) return n;
    if (this._parent) return this._parent.resolveConstructor(e);
  }
  resolve(e, t) {
    switch (true) {
      case o.isArray(e):
        return e.map((r) => o.isString(r) ? this.resolveByName(r) : this.resolveOnce(r, t)).filter(Boolean);
      case o.isFunction(e):
        return this.resolveOnce(e, t);
      case o.isString(e):
        return this.resolveByName(e);
      default:
        throw new f(f.ResolutionError, `Invalid parameter provided to resolve method: ${e} in scope ${this.name}`);
    }
  }
  resolveByName(e) {
    let t = Array.from(this.allowedComponents).find((i2) => i2.name === e || i2.name === g.toPascalCase(e));
    if (t) return this.resolveOnce(t);
    let r = Array.from(this.allowedEntities).find((i2) => i2.name === e || i2.name === g.toPascalCase(e) || i2.entity === e || i2.entity === g.toKebabCase(e));
    if (r) return this.resolveOnce(r);
    let n = Array.from(this.allowedFragments).find((i2) => i2.name === e || i2.name === g.toPascalCase(e));
    if (n) return this.resolveOnce(n);
    let s = Array.from(this.allowedErrors).find((i2) => i2.name === e || i2.name === g.toPascalCase(e) || i2.code === e || i2.code === g.toKebabCase(e));
    if (s) return this.resolveOnce(s);
    if (this._parent) return this._parent.resolveByName(e);
  }
  resolveOnce(e, t) {
    let r = u.getComponentName(e);
    if (!(!e || !this.has(e))) switch (true) {
      case o.isConstructorAllowedForScopeAllocation(e):
        return this.resolveIssuer(e);
      case o.isEntityConstructor(e):
        return this.resolveEntity(e, t);
      case o.isFragmentConstructor(e):
        return this.resolveFragment(e);
      case o.isScopeConstructor(e):
        return this.resolveScope(e);
      case o.isComponentConstructor(e):
        return this.resolveComponent(e);
      case o.isErrorConstructor(e):
        return this.resolveError(e);
      default:
        throw new f(f.ResolutionError, `Injected Component ${r} not found in the scope`);
    }
  }
  resolveIssuer(e) {
    let t = this.issuer();
    if (t && (t.constructor === e || u.isInheritedFrom(t?.constructor, e))) return t;
    if (this._parent) return this._parent.resolveIssuer(e);
  }
  resolveEntity(e, t) {
    let r = t?.query || {}, n = t?.pagination?.count || 1;
    switch (true) {
      case !t: {
        let s = this.entities.find((i2) => i2 instanceof e);
        switch (true) {
          case !!s:
            return s;
          case (!s && !!this._parent):
            return this._parent.resolveEntity(e, t);
          default:
            return;
        }
      }
      case (!!r.aseid && typeof r.aseid == "string" && this._entities.has(r.aseid)):
        return this._entities.get(r.aseid);
      case (!!r.aseid && typeof r.aseid == "object" && r.aseid instanceof C && this._entities.has(r.aseid.toString())):
        return this._entities.get(r.aseid.toString());
      case !!r.id:
        return this.entities.filter((i2) => i2 instanceof e).find((i2) => String(i2.id) === String(r.id));
      default: {
        let s = this.entities.filter((i2) => i2 instanceof e).filter((i2) => Object.entries(r).every(([c, d2]) => c in i2 ? i2[c] === d2 : false));
        return s.length === 0 && this._parent ? this._parent.resolveEntity(e, t) : n === 1 ? s[0] : s;
      }
    }
  }
  resolveError(e) {
    let t = this.errors.find((r) => r instanceof e);
    switch (true) {
      case !!t:
        return t;
      case (!t && !!this._parent):
        return this._parent.resolveError(e);
      default:
        return;
    }
  }
  resolveFragment(e) {
    let t = this._fragments.get(e);
    switch (true) {
      case (t && this._fragments.has(e)):
        return t;
      case (!t && Array.from(this._allowedFragments).some((r) => u.isInheritedFrom(r, e))): {
        let r = Array.from(this._allowedFragments).find((n) => u.isInheritedFrom(n, e));
        return this.resolveFragment(r);
      }
      case (!t && !!this._parent):
        return this._parent.resolveFragment(e);
      default:
        return;
    }
  }
  resolveScope(e) {
    return this;
  }
  resolveComponent(e) {
    switch (true) {
      case (this.allowedComponents.has(e) && this._components.has(e)):
        return this._components.get(e);
      case (this.allowedComponents.has(e) && !this._components.has(e)): {
        let n = (_.meta(e).get("a-component-injections")?.get("constructor") || []).map((i2) => {
          let c = u.getComponentName(i2.target);
          if ("instructions" in i2 && i2.instructions) {
            let { target: d2, instructions: E2 } = i2, h2 = this.resolve(d2, E2);
            if (!h2) throw new f(f.ResolutionError, `Unable to resolve dependency ${c} for component ${e.name} in scope ${this.name}`);
            return h2;
          } else {
            let { target: d2, require: E2, create: h2, defaultArgs: I2 } = i2, P2 = this.resolve(d2);
            if (h2 && !P2 && o.isAllowedForDependencyDefaultCreation(d2)) {
              let v2 = new d2(...I2);
              return this.register(v2), v2;
            }
            if (E2 && !P2) throw new f(f.ResolutionError, `Unable to resolve required dependency ${c} for component ${e.name} in scope ${this.name}`);
            return P2;
          }
        }), s = new e(...n);
        return this.register(s), this._components.get(e);
      }
      case (!this.allowedComponents.has(e) && Array.from(this.allowedComponents).some((t) => u.isInheritedFrom(t, e))): {
        let t = Array.from(this.allowedComponents).find((r) => u.isInheritedFrom(r, e));
        return this.resolveComponent(t);
      }
      case !!this._parent:
        return this._parent.resolveComponent(e);
      default:
        throw new f(f.ResolutionError, `Component ${e.name} not found in the scope ${this.name}`);
    }
  }
  register(e) {
    switch (true) {
      case e instanceof x: {
        this.allowedComponents.has(e.constructor) || this.allowedComponents.add(e.constructor), this._components.set(e.constructor, e), _.register(this, e);
        break;
      }
      case (o.isEntityInstance(e) && !this._entities.has(e.aseid.toString())): {
        this.allowedEntities.has(e.constructor) || this.allowedEntities.add(e.constructor), this._entities.set(e.aseid.toString(), e), _.register(this, e);
        break;
      }
      case o.isFragmentInstance(e): {
        this.allowedFragments.has(e.constructor) || this.allowedFragments.add(e.constructor), this._fragments.set(e.constructor, e), _.register(this, e);
        break;
      }
      case o.isErrorInstance(e): {
        this.allowedErrors.has(e.constructor) || this.allowedErrors.add(e.constructor), this._errors.set(e.code, e), _.register(this, e);
        break;
      }
      case o.isComponentConstructor(e): {
        this.allowedComponents.has(e) || this.allowedComponents.add(e);
        break;
      }
      case o.isFragmentConstructor(e): {
        this.allowedFragments.has(e) || this.allowedFragments.add(e);
        break;
      }
      case o.isEntityConstructor(e): {
        this.allowedEntities.has(e) || this.allowedEntities.add(e);
        break;
      }
      case o.isErrorConstructor(e): {
        this.allowedErrors.has(e) || this.allowedErrors.add(e);
        break;
      }
      default:
        if (e instanceof M) throw new f(f.RegistrationError, `Entity with ASEID ${e.aseid.toString()} is already registered in the scope ${this.name}`);
        if (e instanceof K) throw new f(f.RegistrationError, `Fragment ${e.constructor.name} is already registered in the scope ${this.name}`);
        {
          let t = u.getComponentName(e);
          throw new f(f.RegistrationError, `Cannot register ${t} in the scope ${this.name}`);
        }
    }
  }
  deregister(e) {
    switch (true) {
      case e instanceof x: {
        this._components.delete(e.constructor), _.deregister(e);
        break;
      }
      case o.isEntityInstance(e): {
        this._entities.delete(e.aseid.toString()), _.deregister(e);
        break;
      }
      case o.isFragmentInstance(e): {
        this._fragments.delete(e.constructor), _.deregister(e);
        break;
      }
      case o.isErrorInstance(e): {
        this._errors.delete(e.code), _.deregister(e);
        break;
      }
      case o.isComponentConstructor(e): {
        this.allowedComponents.delete(e);
        break;
      }
      case o.isFragmentConstructor(e): {
        this.allowedFragments.delete(e);
        break;
      }
      case o.isEntityConstructor(e): {
        this.allowedEntities.delete(e);
        break;
      }
      case o.isErrorConstructor(e): {
        this.allowedErrors.delete(e);
        break;
      }
      default:
        let t = u.getComponentName(e);
        throw new f(f.DeregistrationError, `Cannot deregister ${t} from the scope ${this.name}`);
    }
  }
  toJSON() {
    return this.fragments.reduce((e, t) => {
      let r = t.toJSON();
      return { ...e, [r.name]: r };
    }, {});
  }
  isAllowedComponent(e) {
    return o.isComponentConstructor(e) && this.allowedComponents.has(e);
  }
  isAllowedEntity(e) {
    return o.isEntityConstructor(e) && this.allowedEntities.has(e);
  }
  isAllowedFragment(e) {
    return o.isFragmentConstructor(e) && this.allowedFragments.has(e);
  }
  isAllowedError(e) {
    return o.isErrorConstructor(e) && this.allowedErrors.has(e);
  }
  isInheritedFrom(e) {
    let t = this;
    for (; t; ) {
      if (t === e) return true;
      t = t._parent;
    }
    return false;
  }
  checkCircularInheritance(e) {
    let t = [], r = this._parent;
    for (; r; ) {
      if (t.push(r.name), r === e) return t;
      r = r._parent;
    }
    return false;
  }
  printInheritanceChain() {
    let e = [], t = this;
    for (; t; ) e.push(t.name), t = t._parent;
    console.log(e.join(" -> "));
  }
}, __name(_a16, "_e"), _a16);
a(_e, "A_Scope");
var R = _e;
var _a17;
var pe = (_a17 = class extends A {
}, __name(_a17, "pe"), _a17);
a(pe, "A_CallerError"), pe.CallerInitializationError = "Unable to initialize A-Caller";
var Q = pe;
var _a18;
var Ie = (_a18 = class {
  constructor(e) {
    this.validateParams(e), this._component = e;
  }
  get component() {
    return this._component;
  }
  validateParams(e) {
    if (!o.isAllowedForFeatureCall(e)) throw new Q(Q.CallerInitializationError, `Invalid A-Caller component provided of type: ${typeof e} with value: ${JSON.stringify(e).slice(0, 100)}...`);
  }
}, __name(_a18, "Ie"), _a18);
a(Ie, "A_Caller");
var B = Ie;
var _a19;
var S = (_a19 = class {
  static isString(e) {
    return typeof e == "string" || e instanceof String;
  }
  static isNumber(e) {
    return typeof e == "number" && isFinite(e);
  }
  static isBoolean(e) {
    return typeof e == "boolean";
  }
  static isArray(e) {
    return Array.isArray(e);
  }
  static isObject(e) {
    return e && typeof e == "object" && !Array.isArray(e);
  }
  static isFunction(e) {
    return typeof e == "function";
  }
  static isUndefined(e) {
    return typeof e > "u";
  }
  static isRegExp(e) {
    return e instanceof RegExp;
  }
  static isContainerConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, U);
  }
  static isComponentConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, x);
  }
  static isFragmentConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, K);
  }
  static isEntityConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, M);
  }
  static isScopeConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, R);
  }
  static isErrorConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, A);
  }
  static isFeatureConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, Y);
  }
  static isCallerConstructor(e) {
    return typeof e == "function" && u.isInheritedFrom(e, B);
  }
  static isContainerInstance(e) {
    return e instanceof U;
  }
  static isComponentInstance(e) {
    return e instanceof x;
  }
  static isFeatureInstance(e) {
    return e instanceof Y;
  }
  static isFragmentInstance(e) {
    return e instanceof K;
  }
  static isEntityInstance(e) {
    return e instanceof M;
  }
  static isScopeInstance(e) {
    return e instanceof R;
  }
  static isErrorInstance(e) {
    return e instanceof A;
  }
  static isComponentMetaInstance(e) {
    return e instanceof k;
  }
  static isContainerMetaInstance(e) {
    return e instanceof J;
  }
  static isEntityMetaInstance(e) {
    return e instanceof H;
  }
  static isConstructorAllowedForScopeAllocation(e) {
    return _a19.isContainerConstructor(e) || _a19.isFeatureConstructor(e);
  }
  static isInstanceAllowedForScopeAllocation(e) {
    return _a19.isContainerInstance(e) || _a19.isFeatureInstance(e);
  }
  static isConstructorAvailableForAbstraction(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e);
  }
  static isTargetAvailableForInjection(e) {
    return _a19.isComponentConstructor(e) || _a19.isComponentInstance(e) || _a19.isContainerInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForFeatureCall(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForFeatureDefinition(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForFeatureExtension(e) {
    return _a19.isComponentInstance(e) || _a19.isContainerInstance(e) || _a19.isEntityInstance(e);
  }
  static isAllowedForAbstractionDefinition(e) {
    return _a19.isContainerInstance(e) || _a19.isComponentInstance(e);
  }
  static isAllowedForDependencyDefaultCreation(e) {
    return _a19.isComponentConstructor(e) || u.isInheritedFrom(e, x) || _a19.isEntityConstructor(e) || u.isInheritedFrom(e, M);
  }
  static isErrorConstructorType(e) {
    return !!e && _a19.isObject(e) && !(e instanceof Error) && "title" in e;
  }
  static isErrorSerializedType(e) {
    return !!e && _a19.isObject(e) && !(e instanceof Error) && "aseid" in e && C.isASEID(e.aseid);
  }
}, __name(_a19, "S"), _a19);
a(S, "A_TypeGuards");
var o = S;
var _a20;
var V = (_a20 = class extends A {
  fromConstructor(e) {
    super.fromConstructor(e), this.stage = e.stage;
  }
}, __name(_a20, "V"), _a20);
a(V, "A_FeatureError"), V.Interruption = "Feature Interrupted", V.FeatureInitializationError = "Unable to initialize A-Feature", V.FeatureProcessingError = "Error occurred during A-Feature processing", V.FeatureDefinitionError = "Unable to define A-Feature", V.FeatureExtensionError = "Unable to extend A-Feature";
var T = V;
function Pe(m2 = {}) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isAllowedForFeatureDefinition(e)) throw new T(T.FeatureDefinitionError, `A-Feature cannot be defined on the ${n} level`);
    let s = _.meta(e.constructor), i2;
    switch (true) {
      case o.isEntityInstance(e):
        i2 = "a-component-features";
        break;
      case o.isContainerInstance(e):
        i2 = "a-container-features";
        break;
      case o.isComponentInstance(e):
        i2 = "a-component-features";
        break;
    }
    let c = s.get(i2) || new l(), d2 = m2.name || t, E2 = m2.invoke || false;
    c.set(t, { name: `${e.constructor.name}.${d2}`, handler: t, invoke: E2, template: m2.template && m2.template.length ? m2.template.map((I2) => ({ ...I2, before: I2.before || "", after: I2.after || "", behavior: I2.behavior || "sync", throwOnError: true, override: I2.override || "" })) : [] }), _.meta(e.constructor).set(i2, c);
    let h2 = r.value;
    return r.value = function(...I2) {
      if (E2) h2.apply(this, I2);
      else return h2.apply(this, I2);
      if (typeof this.call == "function" && E2) return this.call(d2);
    }, r;
  };
}
__name(Pe, "Pe");
a(Pe, "A_Feature_Define");
function be(m2) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isAllowedForFeatureExtension(e)) throw new T(T.FeatureExtensionError, `A-Feature-Extend cannot be applied on the ${n} level`);
    let s, i2 = "sync", c = "", d2 = "", E2 = "", h2 = [], I2 = [], P2 = true, v2;
    switch (true) {
      case o.isEntityInstance(e):
        v2 = "a-component-extensions";
        break;
      case o.isContainerInstance(e):
        v2 = "a-container-extensions";
        break;
      case o.isComponentInstance(e):
        v2 = "a-component-extensions";
        break;
    }
    switch (true) {
      case o.isRegExp(m2):
        s = m2;
        break;
      case (!!m2 && typeof m2 == "object"):
        Array.isArray(m2.scope) ? h2 = m2.scope : m2.scope && typeof m2.scope == "object" && (Array.isArray(m2.scope.include) && (h2 = m2.scope.include), Array.isArray(m2.scope.exclude) && (I2 = m2.scope.exclude)), s = et(m2, h2, I2, t), i2 = m2.behavior || i2, P2 = m2.throwOnError !== void 0 ? m2.throwOnError : P2, c = o.isArray(m2.before) ? new RegExp(`^${m2.before.join("|").replace(/\./g, "\\.")}$`).source : m2.before instanceof RegExp ? m2.before.source : "", d2 = o.isArray(m2.after) ? new RegExp(`^${m2.after.join("|").replace(/\./g, "\\.")}$`).source : m2.after instanceof RegExp ? m2.after.source : "", E2 = o.isArray(m2.override) ? new RegExp(`^${m2.override.join("|").replace(/\./g, "\\.")}$`).source : m2.override instanceof RegExp ? m2.override.source : "";
        break;
      default:
        s = new RegExp(`^.*${t.replace(/\./g, "\\.")}$`);
        break;
    }
    let se2 = _.meta(e).get(v2), Ue2 = _.meta(e), le = Ue2.get(v2) ? new l().from(Ue2.get(v2)) : new l();
    if (se2 && se2.size() && se2.has(t) && se2.get(t).invoke) throw new T(T.FeatureExtensionError, `A-Feature-Extend cannot be used on the method "${t}" because it is already defined as a Feature with "invoke" set to true. Please remove the A-Feature-Extend decorator or set "invoke" to false in the A-Feature decorator.`);
    let re = [...le.get(s.source) || []], Je2 = re.findIndex((qe) => qe.handler === t), Ke = { name: s.source, handler: t, behavior: i2, before: c, after: d2, throwOnError: P2, override: E2 };
    Je2 !== -1 ? re[Je2] = Ke : re.push(Ke), re.push(), le.set(s.source, re), _.meta(e).set(v2, le);
  };
}
__name(be, "be");
a(be, "A_Feature_Extend");
function et(m2, e, t, r) {
  let n = e.length ? `(${e.map((c) => c.name).join("|")})` : ".*", s = t.length ? `(?!${t.map((c) => c.name).join("|")})` : "", i2 = m2.scope ? `^${s}${n}\\.${m2.name || r}$` : `.*\\.${m2.name || r}$`;
  return new RegExp(i2);
}
__name(et, "et");
a(et, "buildTargetRegexp");
var tt = ((i2) => (i2.PROCESSING = "PROCESSING", i2.COMPLETED = "COMPLETED", i2.FAILED = "FAILED", i2.SKIPPED = "SKIPPED", i2.INITIALIZED = "INITIALIZED", i2.ABORTED = "ABORTED", i2))(tt || {});
var _a21;
var me = (_a21 = class extends A {
  static get CompileError() {
    return "Unable to compile A-Stage";
  }
}, __name(_a21, "me"), _a21);
a(me, "A_StageError"), me.ArgumentsResolutionError = "A-Stage Arguments Resolution Error";
var j = me;
var _a22;
var we = (_a22 = class {
  constructor(e, t) {
    this._status = "INITIALIZED";
    this._feature = e, this._definition = t;
  }
  get name() {
    return this.toString();
  }
  get definition() {
    return this._definition;
  }
  get status() {
    return this._status;
  }
  get feature() {
    return this._feature;
  }
  get isProcessed() {
    return this._status === "COMPLETED" || this._status === "FAILED" || this._status === "SKIPPED";
  }
  get error() {
    return this._error;
  }
  async getStepArgs(e, t) {
    let r;
    switch (true) {
      case o.isContainerInstance(t.component):
        r = t.component.constructor;
        break;
      case o.isString(t.component):
        r = e.resolveConstructor(t.component);
        break;
      default:
        r = t.component;
        break;
    }
    return Promise.all(_.meta(r).injections(t.handler).map(async (n) => {
      switch (true) {
        case o.isCallerConstructor(n.target):
          return this._feature.caller.component;
        case o.isFeatureConstructor(n.target):
          return this._feature;
        default: {
          let { target: s, require: i2, create: c, defaultArgs: d2, parent: E2 } = n, h2, I2 = e;
          if (E2 && typeof E2.layerOffset == "number") {
            let P2 = e.parent, v2 = E2.layerOffset;
            for (; v2 < -1 && P2; ) P2 = P2.parent, v2++;
            P2 && (h2 = P2.resolve(s), I2 = P2);
          } else h2 = I2.resolve(s);
          if (c && !h2 && o.isAllowedForDependencyDefaultCreation(s)) {
            let P2 = new s(...d2);
            return I2.register(P2), P2;
          }
          if (i2 && !h2) throw new j(j.ArgumentsResolutionError, `Unable to resolve required argument ${u.getComponentName(n.target)} for stage ${this.name} in scope ${e.name}`);
          return h2;
        }
      }
    }));
  }
  getStepComponent(e, t) {
    let { component: r, handler: n } = t, s;
    switch (true) {
      case o.isContainerInstance(r):
        s = r;
        break;
      case o.isString(r):
        s = e.resolve(r) || this.feature.scope.resolve(r);
        break;
      default:
        s = e.resolve(r) || this.feature.scope.resolve(r);
        break;
    }
    if (!s) throw new j(j.CompileError, `Unable to resolve component ${typeof r == "string" ? r : r.name} from scope ${e.name}`);
    if (!s[n]) throw new j(j.CompileError, `Handler ${n} not found in ${s.constructor.name}`);
    return s;
  }
  async callStepHandler(e, t) {
    let r = await this.getStepComponent(t, e), n = await this.getStepArgs(t, e);
    return await r[e.handler](...n);
  }
  skip() {
    this._status = "SKIPPED";
  }
  async process(e) {
    let t = o.isScopeInstance(e) ? e : this._feature.scope;
    return this._processed || (this._processed = new Promise(async (r, n) => {
      try {
        return this._status = "PROCESSING", this._definition.behavior === "sync" ? await this.callStepHandler(this._definition, t) : this.callStepHandler(this._definition, t), this.completed(), r();
      } catch (s) {
        let i2 = new A(s);
        return this.failed(i2), this._definition.throwOnError ? r() : n(i2);
      }
    })), this._processed;
  }
  completed() {
    this._status = "COMPLETED";
  }
  failed(e) {
    this._error = new A(e), this._status = "FAILED";
  }
  toJSON() {
    return { name: this.name, status: this.status };
  }
  toString() {
    return `A-Stage(${this._feature.name}::${this._definition.behavior}@${this._definition.handler})`;
  }
}, __name(_a22, "we"), _a22);
a(we, "A_Stage");
var oe = we;
var _a23;
var ue = (_a23 = class extends A {
}, __name(_a23, "ue"), _a23);
a(ue, "A_StepManagerError"), ue.CircularDependencyError = "A-StepManager Circular Dependency Error";
var _a24;
var Ye = (_a24 = class {
  constructor(e) {
    this._isBuilt = false;
    this.entities = this.prepareSteps(e), this.graph = /* @__PURE__ */ new Map(), this.visited = /* @__PURE__ */ new Set(), this.tempMark = /* @__PURE__ */ new Set(), this.sortedEntities = [];
  }
  prepareSteps(e) {
    return e.map((t) => ({ ...t, behavior: t.behavior || "sync", before: t.before || "", after: t.after || "", override: t.override || "", throwOnError: false }));
  }
  ID(e) {
    return `${typeof e.component == "string" ? e.component : e.component.name}.${e.handler}`;
  }
  buildGraph() {
    this._isBuilt || (this._isBuilt = true, this.entities = this.entities.filter((e, t, r) => !r.some((n) => n.override ? new RegExp(n.override).test(this.ID(e)) : false)), this.entities.forEach((e) => this.graph.set(this.ID(e), /* @__PURE__ */ new Set())), this.entities.forEach((e) => {
      let t = this.ID(e);
      e.before && this.matchEntities(t, e.before).forEach((n) => {
        this.graph.has(n) || this.graph.set(n, /* @__PURE__ */ new Set()), this.graph.get(n).add(t);
      }), e.after && this.matchEntities(t, e.after).forEach((n) => {
        this.graph.has(t) || this.graph.set(t, /* @__PURE__ */ new Set()), this.graph.get(t).add(n);
      });
    }));
  }
  matchEntities(e, t) {
    let r = new RegExp(t);
    return this.entities.filter((n) => r.test(this.ID(n)) && this.ID(n) !== e).map((n) => this.ID(n));
  }
  visit(e) {
    this.tempMark.has(e) || this.visited.has(e) || (this.tempMark.add(e), (this.graph.get(e) || []).forEach((t) => this.visit(t)), this.tempMark.delete(e), this.visited.add(e), this.sortedEntities.push(e));
  }
  toSortedArray() {
    return this.buildGraph(), this.entities.forEach((e) => {
      this.visited.has(this.ID(e)) || this.visit(this.ID(e));
    }), this.sortedEntities;
  }
  toStages(e) {
    return this.toSortedArray().map((r) => {
      let n = this.entities.find((s) => this.ID(s) === r);
      return new oe(e, n);
    });
  }
}, __name(_a24, "Ye"), _a24);
a(Ye, "A_StepsManager");
var te = Ye;
var _a25;
var ve = (_a25 = class {
  constructor(e) {
    this._stages = [];
    this._index = 0;
    this._state = "INITIALIZED";
    this.validateParams(e), this.getInitializer(e).call(this, e);
  }
  static get Define() {
    return Pe;
  }
  static get Extend() {
    return be;
  }
  get name() {
    return this._name;
  }
  get error() {
    return this._error;
  }
  get state() {
    return this._state;
  }
  get index() {
    return this._index;
  }
  get stage() {
    return this._current;
  }
  get caller() {
    return this._caller;
  }
  get scope() {
    return _.scope(this);
  }
  get size() {
    return this._stages.length;
  }
  get isDone() {
    return !this.stage || this._index >= this._stages.length;
  }
  get isProcessed() {
    return this.state === "COMPLETED" || this.state === "FAILED" || this.state === "INTERRUPTED";
  }
  [Symbol.iterator]() {
    return { next: a(() => this.isDone ? (this._current = void 0, { value: void 0, done: true }) : (this._current = this._stages[this._index], this._index++, { value: this._current, done: false }), "next") };
  }
  validateParams(e) {
    if (!e || typeof e != "object") throw new T(T.FeatureInitializationError, `Invalid A-Feature initialization parameters of type: ${typeof e} with value: ${JSON.stringify(e).slice(0, 100)}...`);
  }
  getInitializer(e) {
    switch (true) {
      case !("template" in e):
        return this.fromComponent;
      case "template" in e:
        return this.fromTemplate;
      default:
        throw new T(T.FeatureInitializationError, `Invalid A-Feature initialization parameters of type: ${typeof e} with value: ${JSON.stringify(e).slice(0, 100)}...`);
    }
  }
  fromTemplate(e) {
    if (!e.template || !Array.isArray(e.template)) throw new T(T.FeatureInitializationError, `Invalid A-Feature template provided of type: ${typeof e.template} with value: ${JSON.stringify(e.template).slice(0, 100)}...`);
    if (!e.component && (!e.scope || !(e.scope instanceof R))) throw new T(T.FeatureInitializationError, `Invalid A-Feature scope provided of type: ${typeof e.scope} with value: ${JSON.stringify(e.scope).slice(0, 100)}...`);
    this._name = e.name;
    let t, r = e.scope;
    try {
      e.component && (t = _.scope(e.component));
    } catch (s) {
      if (!r) throw s;
    }
    t && r && !r.isInheritedFrom(t) && r.inherit(t), this._caller = new B(e.component || new x()), _.allocate(this).inherit(t || r), this._SM = new te(e.template), this._stages = this._SM.toStages(this), this._current = this._stages[0];
  }
  fromComponent(e) {
    if (!e.component || !o.isAllowedForFeatureDefinition(e.component)) throw new T(T.FeatureInitializationError, `Invalid A-Feature component provided of type: ${typeof e.component} with value: ${JSON.stringify(e.component).slice(0, 100)}...`);
    this._name = e.name;
    let t, r = e.scope;
    try {
      t = _.scope(e.component);
    } catch (i2) {
      if (!r) throw i2;
    }
    t && r && !r.isInheritedFrom(t) && r.inherit(t), this._caller = new B(e.component);
    let n = _.allocate(this);
    n.inherit(t || r);
    let s = _.featureTemplate(this._name, this._caller.component, n);
    this._SM = new te(s), this._stages = this._SM.toStages(this), this._current = this._stages[0];
  }
  async process(e) {
    try {
      if (this.isProcessed) return;
      this._state = "PROCESSING";
      for (let t of this) await t.process(e);
      return await this.completed();
    } catch (t) {
      return await this.failed(new T({ title: T.FeatureProcessingError, description: `An error occurred while processing the A-Feature: ${this.name}. Failed at stage: ${this.stage?.name || "N/A"}.`, stage: this.stage, originalError: t }));
    }
  }
  next(e) {
    let t = this._stages.indexOf(e);
    this._index = t + 1, this._index >= this._stages.length && this.completed();
  }
  async completed() {
    this.isProcessed || (this._state = "COMPLETED", this.scope.destroy());
  }
  async failed(e) {
    if (!this.isProcessed) throw this._state = "FAILED", this._error = e, this.scope.destroy(), this._error;
  }
  async interrupt(e) {
    if (!this.isProcessed) {
      switch (this._state = "INTERRUPTED", true) {
        case o.isString(e):
          this._error = new T(T.Interruption, e);
          break;
        case o.isErrorInstance(e):
          this._error = new T({ code: T.Interruption, title: e.title, description: e.description, stage: this.stage, originalError: e });
          break;
      }
      this.scope.destroy();
    }
  }
  toString() {
    return `A-Feature(${this.caller.component?.constructor?.name || "Unknown"}::${this.name})`;
  }
}, __name(_a25, "ve"), _a25);
a(ve, "A_Feature");
var Y = ve;
var _a26;
var xe = (_a26 = class {
  async call(e, t) {
    return await new Y({ name: e, component: this }).process(t);
  }
}, __name(_a26, "xe"), _a26);
a(xe, "A_Component");
var x = xe;
var _a27;
var y = (_a27 = class extends A {
}, __name(_a27, "y"), _a27);
a(y, "A_ContextError"), y.NotAllowedForScopeAllocationError = "Component is not allowed for scope allocation", y.ComponentAlreadyHasScopeAllocatedError = "Component already has scope allocated", y.InvalidMetaParameterError = "Invalid parameter provided to get meta", y.InvalidScopeParameterError = "Invalid parameter provided to get scope", y.ScopeNotFoundError = "Scope not found", y.InvalidFeatureParameterError = "Invalid parameter provided to get feature", y.InvalidFeatureDefinitionParameterError = "Invalid parameter provided to define feature", y.InvalidFeatureTemplateParameterError = "Invalid parameter provided to get feature template", y.InvalidFeatureExtensionParameterError = "Invalid parameter provided to extend feature", y.InvalidAbstractionParameterError = "Invalid parameter provided to get abstraction", y.InvalidAbstractionDefinitionParameterError = "Invalid parameter provided to define abstraction", y.InvalidAbstractionTemplateParameterError = "Invalid parameter provided to get abstraction template", y.InvalidAbstractionExtensionParameterError = "Invalid parameter provided to extend abstraction", y.InvalidInjectionParameterError = "Invalid parameter provided to get injections", y.InvalidExtensionParameterError = "Invalid parameter provided to get extensions", y.InvalidRegisterParameterError = "Invalid parameter provided to register component", y.InvalidComponentParameterError = "Invalid component provided", y.ComponentNotRegisteredError = "Component not registered in the context", y.InvalidDeregisterParameterError = "Invalid parameter provided to deregister component";
var p = y;
var _a28;
var F = (_a28 = class {
  constructor() {
    this._registry = /* @__PURE__ */ new WeakMap();
    this._scopeIssuers = /* @__PURE__ */ new WeakMap();
    this._scopeStorage = /* @__PURE__ */ new WeakMap();
    this._metaStorage = /* @__PURE__ */ new Map();
    let e = "root";
    _a28.environment === "server" && (e = process.env[D.A_CONCEPT_ROOT_SCOPE] || "root"), _a28.environment === "browser" && (e = window[D.A_CONCEPT_ROOT_SCOPE] || "root"), this._root = new R({ name: e });
  }
  static get concept() {
    return process.env[D.A_CONCEPT_NAME] || "a-concept";
  }
  static get root() {
    return this.getInstance()._root;
  }
  static get environment() {
    let e = "browser";
    try {
      e = window.location ? "browser" : "server";
    } catch {
      e = "server";
    }
    return e;
  }
  static getInstance() {
    return _a28._instance || (_a28._instance = new _a28()), _a28._instance;
  }
  static register(e, t) {
    let r = u.getComponentName(t), n = this.getInstance();
    if (!t) throw new p(p.InvalidRegisterParameterError, "Unable to register component. Component cannot be null or undefined.");
    if (!e) throw new p(p.InvalidRegisterParameterError, "Unable to register component. Scope cannot be null or undefined.");
    if (!this.isAllowedToBeRegistered(t)) throw new p(p.NotAllowedForScopeAllocationError, `Component ${r} is not allowed for scope allocation.`);
    return n._scopeStorage.set(t, e), e;
  }
  static deregister(e) {
    let t = u.getComponentName(e), r = this.getInstance();
    if (!e) throw new p(p.InvalidDeregisterParameterError, "Unable to deregister component. Component cannot be null or undefined.");
    if (!r._scopeStorage.has(e)) throw new p(p.ComponentNotRegisteredError, `Unable to deregister component. Component ${t} is not registered.`);
    r._scopeStorage.delete(e);
  }
  static allocate(e, t) {
    let r = u.getComponentName(e);
    if (!this.isAllowedForScopeAllocation(e)) throw new p(p.NotAllowedForScopeAllocationError, `Component of type ${r} is not allowed for scope allocation. Only A_Container, A_Feature are allowed.`);
    let n = this.getInstance();
    if (n._registry.has(e)) throw new p(p.ComponentAlreadyHasScopeAllocatedError, `Component ${r} already has a scope allocated.`);
    let s = o.isScopeInstance(t) ? t : new R(t || { name: r + "-scope" }, t);
    return s.isInheritedFrom(_a28.root) || s.inherit(_a28.root), n._registry.set(e, s), n._scopeIssuers.set(s, e), s;
  }
  static deallocate(e) {
    let t = this.getInstance(), r = o.isScopeInstance(e) ? e : t._registry.get(e);
    if (!r) return;
    let n = o.isComponentInstance(e) ? e : this.issuer(r);
    n && t._registry.delete(n), r && t._scopeIssuers.delete(r);
  }
  static meta(e) {
    let t = u.getComponentName(e), r = this.getInstance();
    if (!e) throw new p(p.InvalidMetaParameterError, "Invalid parameter provided to get meta. Parameter cannot be null or undefined.");
    if (!(this.isAllowedForMeta(e) || this.isAllowedForMetaConstructor(e) || o.isString(e) || o.isFunction(e))) throw new p(p.InvalidMetaParameterError, `Invalid parameter provided to get meta. Component of type ${t} is not allowed for meta storage. Only A_Container, A_Component and A_Entity are allowed.`);
    let n, s;
    switch (true) {
      case o.isContainerInstance(e): {
        n = e.constructor, s = J;
        break;
      }
      case o.isContainerConstructor(e): {
        n = e, s = J;
        break;
      }
      case o.isComponentInstance(e): {
        n = e.constructor, s = k;
        break;
      }
      case o.isComponentConstructor(e): {
        n = e, s = k;
        break;
      }
      case o.isEntityInstance(e): {
        n = e.constructor, s = k;
        break;
      }
      case o.isEntityConstructor(e): {
        n = e, s = H;
        break;
      }
      case typeof e == "string": {
        let i2 = Array.from(r._metaStorage).find(([c]) => c.name === e || c.name === g.toKebabCase(e) || c.name === g.toPascalCase(e));
        if (!(i2 && i2.length)) throw new p(p.InvalidMetaParameterError, `Invalid parameter provided to get meta. Component with name ${e} not found in the meta storage.`);
        n = i2[0], s = k;
        break;
      }
      default: {
        n = e, s = l;
        break;
      }
    }
    if (!r._metaStorage.has(n)) {
      let i2 = r._metaStorage.get(Object.getPrototypeOf(n)) || new s();
      r._metaStorage.set(n, new s().from(i2));
    }
    return r._metaStorage.get(n);
  }
  static issuer(e) {
    let t = this.getInstance();
    if (!e) throw new p(p.InvalidComponentParameterError, "Invalid parameter provided to get scope issuer. Parameter cannot be null or undefined.");
    return t._scopeIssuers.get(e);
  }
  static scope(e) {
    let t = e?.constructor?.name || String(e), r = this.getInstance();
    if (!e) throw new p(p.InvalidScopeParameterError, "Invalid parameter provided to get scope. Parameter cannot be null or undefined.");
    if (!this.isAllowedForScopeAllocation(e) && !this.isAllowedToBeRegistered(e)) throw new p(p.InvalidScopeParameterError, `Invalid parameter provided to get scope. Component of type ${t} is not allowed for scope allocation.`);
    switch (true) {
      case this.isAllowedForScopeAllocation(e):
        if (!r._registry.has(e)) throw new p(p.ScopeNotFoundError, `Invalid parameter provided to get scope. Component of type ${t} does not have a scope allocated. Make sure to allocate a scope using A_Context.allocate() method before trying to get the scope.`);
        return r._registry.get(e);
      case this.isAllowedToBeRegistered(e):
        if (!r._scopeStorage.has(e)) throw new p(p.ScopeNotFoundError, `Invalid parameter provided to get scope. Component of type ${t} does not have a scope registered. Make sure to register the component using A_Context.register() method before trying to get the scope.`);
        return r._scopeStorage.get(e);
      default:
        throw new p(p.InvalidScopeParameterError, `Invalid parameter provided to get scope. Component of type ${t} is not allowed to be registered.`);
    }
  }
  static featureTemplate(e, t, r = this.scope(t)) {
    let n = u.getComponentName(t);
    if (!t) throw new p(p.InvalidFeatureTemplateParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new p(p.InvalidFeatureTemplateParameterError, "Unable to get feature template. Feature name cannot be null or undefined.");
    if (!o.isAllowedForFeatureDefinition(t)) throw new p(p.InvalidFeatureTemplateParameterError, `Unable to get feature template. Component of type ${n} is not allowed for feature definition.`);
    return [...this.featureDefinition(e, t), ...this.featureExtensions(e, t, r)];
  }
  static featureExtensions(e, t, r) {
    let n = this.getInstance(), s = u.getComponentName(t);
    if (!t) throw new p(p.InvalidFeatureExtensionParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new p(p.InvalidFeatureExtensionParameterError, "Unable to get feature template. Feature name cannot be null or undefined.");
    if (!o.isAllowedForFeatureDefinition(t)) throw new p(p.InvalidFeatureExtensionParameterError, `Unable to get feature template. Component of type ${s} is not allowed for feature definition.`);
    let i2 = `${t.constructor.name}.${e}`, c = [];
    for (let [d2, E2] of n._metaStorage) r.has(d2) && (o.isComponentMetaInstance(E2) || o.isContainerMetaInstance(E2)) && E2.extensions(i2).forEach((h2) => {
      c.push({ component: d2, ...h2 });
    });
    return n.filterToMostDerived(r, c);
  }
  filterToMostDerived(e, t) {
    return t.filter((r) => {
      let n = typeof r.component == "string" ? e.resolveConstructor(r.component) : o.isContainerInstance(r.component) ? r.component.constructor : r.component;
      return !t.some((i2) => {
        if (i2 === r) return false;
        let c = typeof i2.component == "string" ? e.resolveConstructor(i2.component) : o.isContainerInstance(i2.component) ? i2.component.constructor : i2.component;
        return n.prototype.isPrototypeOf(c.prototype);
      });
    });
  }
  static featureDefinition(e, t) {
    let r;
    if (!e) throw new p(p.InvalidFeatureTemplateParameterError, "Unable to get feature template. Feature name cannot be null or undefined.");
    if (!t) throw new p(p.InvalidFeatureTemplateParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    switch (true) {
      case t instanceof M:
        r = "a-component-features";
        break;
      case t instanceof U:
        r = "a-container-features";
        break;
      case t instanceof x:
        r = "a-component-features";
        break;
      default:
        throw new p(p.InvalidFeatureTemplateParameterError, `A-Feature cannot be defined on the ${t} level`);
    }
    return [...this.meta(t)?.get(r)?.get(e)?.template || []];
  }
  static abstractionTemplate(e, t) {
    let r = u.getComponentName(t);
    if (!t) throw new p(p.InvalidAbstractionTemplateParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new p(p.InvalidAbstractionTemplateParameterError, "Unable to get feature template. Abstraction stage cannot be null or undefined.");
    if (!o.isAllowedForAbstractionDefinition(t)) throw new p(p.InvalidAbstractionTemplateParameterError, `Unable to get feature template. Component of type ${r} is not allowed for feature definition.`);
    return [...this.abstractionExtensions(e, t)];
  }
  static abstractionExtensions(e, t) {
    let r = this.getInstance(), n = u.getComponentName(t);
    if (!t) throw new p(p.InvalidAbstractionExtensionParameterError, "Unable to get feature template. Component cannot be null or undefined.");
    if (!e) throw new p(p.InvalidAbstractionExtensionParameterError, "Unable to get feature template. Abstraction stage cannot be null or undefined.");
    if (!o.isAllowedForAbstractionDefinition(t)) throw new p(p.InvalidAbstractionExtensionParameterError, `Unable to get feature template. Component of type ${n} is not allowed for feature definition.`);
    let s = [], i2 = this.scope(t);
    for (let [c, d2] of r._metaStorage) i2.has(c) && (o.isComponentMetaInstance(d2) || o.isContainerMetaInstance(d2)) && d2.abstractions(e).forEach((E2) => {
      s.push({ component: c, ...E2 });
    });
    return r.filterToMostDerived(i2, s);
  }
  static reset() {
    let e = _a28.getInstance();
    e._registry = /* @__PURE__ */ new WeakMap();
    let t = "root";
    _a28.environment === "server" && (t = process.env[D.A_CONCEPT_ROOT_SCOPE] || "root"), _a28.environment === "browser" && (t = window[D.A_CONCEPT_ROOT_SCOPE] || "root"), e._root = new R({ name: t });
  }
  static isAllowedForScopeAllocation(e) {
    return o.isContainerInstance(e) || o.isFeatureInstance(e);
  }
  static isAllowedToBeRegistered(e) {
    return o.isEntityInstance(e) || o.isComponentInstance(e) || o.isFragmentInstance(e) || o.isErrorInstance(e);
  }
  static isAllowedForMeta(e) {
    return o.isContainerInstance(e) || o.isComponentInstance(e) || o.isEntityInstance(e);
  }
  static isAllowedForMetaConstructor(e) {
    return o.isContainerConstructor(e) || o.isComponentConstructor(e) || o.isEntityConstructor(e);
  }
}, __name(_a28, "F"), _a28);
a(F, "A_Context");
var _ = F;
var _a29;
var de = (_a29 = class extends A {
}, __name(_a29, "de"), _a29);
a(de, "A_AbstractionError"), de.AbstractionExtensionError = "Unable to extend abstraction execution";
var q = de;
function Fe(m2, e = {}) {
  return function(t, r, n) {
    let s = u.getComponentName(t);
    if (!m2) throw new q(q.AbstractionExtensionError, `Abstraction name must be provided to extend abstraction for '${s}'.`);
    if (!o.isConstructorAvailableForAbstraction(t)) throw new q(q.AbstractionExtensionError, `Unable to extend Abstraction '${m2}' for '${s}'. Only A-Containers and A-Components can extend Abstractions.`);
    let i2, c = _.meta(t);
    switch (true) {
      case (o.isContainerConstructor(t) || o.isContainerInstance(t)):
        i2 = "a-container-abstractions";
        break;
      case (o.isComponentConstructor(t) || o.isComponentInstance(t)):
        i2 = "a-component-abstractions";
        break;
    }
    let d2 = `CONCEPT_ABSTRACTION::${m2}`, E2 = c.get(i2) ? new l().from(c.get(i2)) : new l(), h2 = [...E2.get(d2) || []], I2 = h2.findIndex((v2) => v2.handler === r), P2 = { name: d2, handler: r, behavior: e.behavior || "sync", throwOnError: e.throwOnError !== void 0 ? e.throwOnError : true, before: o.isArray(e.before) ? new RegExp(`^${e.before.join("|").replace(/\./g, "\\.")}$`).source : e.before instanceof RegExp ? e.before.source : "", after: o.isArray(e.after) ? new RegExp(`^${e.after.join("|").replace(/\./g, "\\.")}$`).source : e.after instanceof RegExp ? e.after.source : "", override: o.isArray(e.override) ? new RegExp(`^${e.override.join("|").replace(/\./g, "\\.")}$`).source : e.after instanceof RegExp ? e.after.source : "" };
    I2 !== -1 ? h2[I2] = P2 : h2.push(P2), E2.set(d2, h2), _.meta(t).set(i2, E2);
  };
}
__name(Fe, "Fe");
a(Fe, "A_Abstraction_Extend");
var _a30;
var De = (_a30 = class {
  constructor(e) {
    this._features = [];
    this._index = 0;
    this._name = e.name, this._features = e.containers.map((t) => {
      let r = _.abstractionTemplate(this._name, t);
      return new Y({ name: this._name, component: t, template: r });
    }), this._current = this._features[0];
  }
  static get Extend() {
    return Fe;
  }
  get name() {
    return this._name;
  }
  get feature() {
    return this._current;
  }
  get isDone() {
    return !this.feature || this._index >= this._features.length;
  }
  [Symbol.iterator]() {
    return { next: a(() => this.isDone ? (this._current = void 0, { value: void 0, done: true }) : (this._current = this._features[this._index], { value: this._current, done: false }), "next") };
  }
  next(e) {
    if (this._index >= this._features.length) return;
    let t = this._features.indexOf(e);
    this._index = t + 1;
  }
  async process(e) {
    if (!this.isDone) for (let t of this._features) await t.process(e);
  }
}, __name(_a30, "De"), _a30);
a(De, "A_Abstraction");
var b = De;
var rt = ((c) => (c.Run = "run", c.Build = "build", c.Publish = "publish", c.Deploy = "deploy", c.Load = "load", c.Start = "start", c.Stop = "stop", c))(rt || {});
var nt = ((e) => (e.LIFECYCLE = "a-component-extensions", e))(nt || {});
var _a31;
var Re = (_a31 = class {
  constructor(e) {
    this.props = e;
    this._name = e.name || _.root.name, e.components && e.components.length && e.components.forEach((t) => this.scope.register(t)), e.fragments && e.fragments.length && e.fragments.forEach((t) => this.scope.register(t)), e.entities && e.entities.length && e.entities.forEach((t) => this.scope.register(t)), this._containers = e.containers || [];
  }
  static Load(e) {
    return b.Extend("load", e);
  }
  static Publish(e) {
    return b.Extend("publish");
  }
  static Deploy(e) {
    return b.Extend("deploy", e);
  }
  static Build(e) {
    return b.Extend("build", e);
  }
  static Run(e) {
    return b.Extend("run", e);
  }
  static Start(e) {
    return b.Extend("start", e);
  }
  static Stop(e) {
    return b.Extend("stop", e);
  }
  get name() {
    return _.root.name;
  }
  get scope() {
    return _.root;
  }
  get register() {
    return this.scope.register.bind(this.scope);
  }
  get resolve() {
    return this.scope.resolve.bind(this.scope);
  }
  async load(e) {
    await new b({ name: "load", containers: this._containers }).process(e);
  }
  async run(e) {
    await new b({ name: "run", containers: this._containers }).process(e);
  }
  async start(e) {
    await new b({ name: "start", containers: this._containers }).process(e);
  }
  async stop(e) {
    await new b({ name: "stop", containers: this._containers }).process(e);
  }
  async build(e) {
    await new b({ name: "build", containers: this._containers }).process(e);
  }
  async deploy(e) {
    await new b({ name: "deploy", containers: this._containers }).process(e);
  }
  async publish(e) {
    await new b({ name: "publish", containers: this._containers }).process(e);
  }
  async call(e, t) {
    return await new Y({ name: e, component: t }).process();
  }
}, __name(_a31, "Re"), _a31);
a(Re, "A_Concept");
var Ne = Re;
var _a32;
var Me = (_a32 = class extends l {
  constructor(t) {
    super();
    this.containers = t;
  }
}, __name(_a32, "Me"), _a32);
a(Me, "A_ConceptMeta");
var _a33;
var W = (_a33 = class extends A {
}, __name(_a33, "W"), _a33);
a(W, "A_DependencyError"), W.InvalidDependencyTarget = "Invalid Dependency Target", W.InvalidLoadTarget = "Invalid Load Target", W.InvalidLoadPath = "Invalid Load Path", W.InvalidDefaultTarget = "Invalid Default Target";
var w = W;
function ke(...m2) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isTargetAvailableForInjection(e)) throw new w(w.InvalidDefaultTarget, `A-Default cannot be used on the target of type ${typeof e} (${n})`);
    let s = t ? String(t) : "constructor", i2;
    switch (true) {
      case (o.isComponentConstructor(e) || o.isComponentInstance(e)):
        i2 = "a-component-injections";
        break;
      case o.isContainerInstance(e):
        i2 = "a-container-injections";
        break;
    }
    let c = _.meta(e).get(i2) || new l(), d2 = c.get(s) || [];
    d2[r] = { ...d2[r] || {}, defaultArgs: m2, create: true }, c.set(s, d2), _.meta(e).set(i2, c);
  };
}
__name(ke, "ke");
a(ke, "A_Dependency_Default");
function je(m2) {
  if (!m2 || typeof m2 != "string") throw new w(w.InvalidLoadPath, "A-Load decorator requires a valid path string to the dependency");
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isTargetAvailableForInjection(e)) throw new w(w.InvalidLoadTarget, `A-Load cannot be used on the target of type ${typeof e} (${n})`);
    let s = t ? String(t) : "constructor", i2;
    switch (true) {
      case (o.isComponentConstructor(e) || o.isComponentInstance(e)):
        i2 = "a-component-injections";
        break;
      case o.isContainerInstance(e):
        i2 = "a-container-injections";
        break;
    }
    let c = _.meta(e).get(i2) || new l(), d2 = c.get(s) || [];
    d2[r] = { ...d2[r] || {}, load: m2 }, c.set(s, d2), _.meta(e).set(i2, c);
  };
}
__name(je, "je");
a(je, "A_Dependency_Load");
function Ve(m2 = -1) {
  return function(e, t, r) {
    let n = u.getComponentName(e);
    if (!o.isTargetAvailableForInjection(e)) throw new w(w.InvalidDependencyTarget, `A-Dependency cannot be used on the target of type ${typeof e} (${n})`);
    let s = t ? String(t) : "constructor", i2;
    switch (true) {
      case (o.isComponentConstructor(e) || o.isComponentInstance(e)):
        i2 = "a-component-injections";
        break;
      case o.isContainerInstance(e):
        i2 = "a-container-injections";
        break;
    }
    let c = _.meta(e).get(i2) || new l(), d2 = c.get(s) || [];
    d2[r] = { ...d2[r] || {}, parent: { layerOffset: m2 } }, c.set(s, d2), _.meta(e).set(i2, c);
  };
}
__name(Ve, "Ve");
a(Ve, "A_Dependency_Parent");
function $e() {
  return function(m2, e, t) {
    let r = u.getComponentName(m2);
    if (!o.isTargetAvailableForInjection(m2)) throw new w(w.InvalidDependencyTarget, `A-Dependency cannot be used on the target of type ${typeof m2} (${r})`);
    let n = e ? String(e) : "constructor", s;
    switch (true) {
      case (o.isComponentConstructor(m2) || o.isComponentInstance(m2)):
        s = "a-component-injections";
        break;
      case o.isContainerInstance(m2):
        s = "a-container-injections";
        break;
    }
    let i2 = _.meta(m2).get(s) || new l(), c = i2.get(n) || [];
    c[t] = { ...c[t] || {}, require: true }, i2.set(n, c), _.meta(m2).set(s, i2);
  };
}
__name($e, "$e");
a($e, "A_Dependency_Require");
var _a34;
var ze = (_a34 = class {
  static get Required() {
    return $e;
  }
  static get Loaded() {
    return je;
  }
  static get Default() {
    return ke;
  }
  static get Parent() {
    return Ve;
  }
  constructor(e) {
    this._name = e;
  }
  get name() {
    return this._name;
  }
}, __name(_a34, "ze"), _a34);
a(ze, "A_Dependency");
var Le = ze;
var _a35;
var ie = (_a35 = class extends A {
}, __name(_a35, "ie"), _a35);
a(ie, "A_InjectError"), ie.InvalidInjectionTarget = "Invalid target for A-Inject decorator", ie.MissingInjectionTarget = "Missing target for A-Inject decorator";
var Z = ie;
function ot(m2, e) {
  if (!m2) throw new Z(Z.MissingInjectionTarget, "A-Inject decorator is missing the target to inject");
  return function(t, r, n) {
    let s = u.getComponentName(t);
    if (!o.isTargetAvailableForInjection(t)) throw new Z(Z.InvalidInjectionTarget, `A-Inject cannot be used on the target of type ${typeof t} (${s})`);
    let i2 = r ? String(r) : "constructor", c;
    switch (true) {
      case (o.isComponentConstructor(t) || o.isComponentInstance(t)):
        c = "a-component-injections";
        break;
      case o.isContainerInstance(t):
        c = "a-container-injections";
        break;
      case o.isEntityInstance(t):
        c = "a-component-injections";
        break;
    }
    let d2 = _.meta(t).get(c) || new l(), E2 = d2.get(i2) || [];
    E2[n] = { target: m2, instructions: e }, d2.set(i2, E2), _.meta(t).set(c, d2);
  };
}
__name(ot, "ot");
a(ot, "A_Inject");

// node_modules/@adaas/a-utils/dist/index.mjs
var nt2 = Object.defineProperty;
var ut = Object.getOwnPropertyDescriptor;
var i = /* @__PURE__ */ __name((B2, t) => nt2(B2, "name", { value: t, configurable: true }), "i");
var a2 = /* @__PURE__ */ __name((B2, t, e, r) => {
  for (var o2 = r > 1 ? void 0 : r ? ut(t, e) : t, n = B2.length - 1, s; n >= 0; n--) (s = B2[n]) && (o2 = (r ? s(t, e, o2) : s(o2)) || o2);
  return r && o2 && nt2(t, e, o2), o2;
}, "a");
var p2 = /* @__PURE__ */ __name((B2, t) => (e, r) => t(e, r, B2), "p");
var _a36;
var we2 = (_a36 = class extends K {
  constructor(t, e) {
    super({ name: t }), this._meta = new l();
    for (let r in e) this._meta.set(r, e[r]);
  }
  [Symbol.iterator]() {
    return this._meta[Symbol.iterator]();
  }
  get meta() {
    return this._meta;
  }
  get(t) {
    return this._meta.get(t);
  }
  set(t, e) {
    this._meta.set(t, e);
  }
  has(t) {
    return this._meta.has(t);
  }
  drop(t) {
    this._meta.delete(t);
  }
  clear() {
    this._meta.clear();
  }
  toRaw() {
    return this._meta.toJSON();
  }
  toJSON() {
    return { name: this.name, ...this.meta.toJSON() };
  }
}, __name(_a36, "we"), _a36);
i(we2, "A_ExecutionContext");
var v = we2;
var _a37;
var Re2 = (_a37 = class extends v {
  constructor(t, e) {
    super("operation-context"), this.meta.set("name", t), this.meta.set("params", e || {});
  }
  get name() {
    return this._meta.get("name") || this._name;
  }
  get result() {
    return this._meta.get("result");
  }
  get error() {
    return this._meta.get("error");
  }
  get params() {
    return this._meta.get("params") || {};
  }
  fail(t) {
    this._meta.set("error", t);
  }
  succeed(t) {
    this._meta.set("result", t);
  }
  toJSON() {
    return { name: this.name, params: this.params, result: this.result || {}, error: this.error?.toJSON() };
  }
}, __name(_a37, "Re"), _a37);
i(Re2, "A_OperationContext");
var _2 = Re2;
var _a38;
var pe2 = (_a38 = class extends A {
  constructor(t, e) {
    o.isString(e) ? super(t, e) : super(t), e instanceof _2 && (this._context = e);
  }
  get context() {
    return this._context;
  }
}, __name(_a38, "pe"), _a38);
i(pe2, "A_ChannelError"), pe2.MethodNotImplemented = "A-Channel Method Not Implemented";
var Y2 = pe2;
var xt = ((x2) => (x2.onTimeout = "_A_Channel_onTimeout", x2.onRetry = "_A_Channel_onRetry", x2.onCircuitBreakerOpen = "_A_Channel_onCircuitBreakerOpen", x2.onCache = "_A_Channel_onCache", x2.onConnect = "_A_Channel_onConnect", x2.onDisconnect = "_A_Channel_onDisconnect", x2.onBeforeRequest = "_A_Channel_onBeforeRequest", x2.onRequest = "_A_Channel_onRequest", x2.onAfterRequest = "_A_Channel_onAfterRequest", x2.onError = "_A_Channel_onError", x2.onSend = "_A_Channel_onSend", x2.onConsume = "_A_Channel_onConsume", x2))(xt || {});
var Ct = ((r) => (r.PENDING = "PENDING", r.SUCCESS = "SUCCESS", r.FAILED = "FAILED", r))(Ct || {});
var _a39;
var Le2 = (_a39 = class extends _2 {
  constructor(t) {
    super("request", t);
  }
  get status() {
    return this.result?.status;
  }
  get data() {
    return this.result?.data;
  }
  succeed(t) {
    let e = this.result;
    super.succeed({ ...e, data: t, status: "SUCCESS" });
  }
}, __name(_a39, "Le"), _a39);
i(Le2, "A_ChannelRequest");
var te2 = Le2;
var _a40;
var I = (_a40 = class extends x {
  constructor() {
    super();
    this._processing = false;
    this._cache = /* @__PURE__ */ new Map();
  }
  get processing() {
    return this._processing;
  }
  get initialize() {
    return this._initialized || (this._initialized = this.connect()), this._initialized;
  }
  async onConnect(...e) {
  }
  async onDisconnect(...e) {
  }
  async onBeforeRequest(...e) {
  }
  async onRequest(...e) {
  }
  async onAfterRequest(...e) {
  }
  async onError(...e) {
  }
  async onSend(...e) {
  }
  async connect() {
    await this.call("_A_Channel_onConnect");
  }
  async disconnect() {
    await this.call("_A_Channel_onDisconnect");
  }
  async request(e) {
    await this.initialize, this._processing = true;
    let r = new R({ name: `a-channel@scope:request:${$.generateTimeId()}` }).inherit(_.scope(this)), o2 = new te2(e);
    try {
      return r.register(o2), await this.call("_A_Channel_onBeforeRequest", r), await this.call("_A_Channel_onRequest", r), await this.call("_A_Channel_onAfterRequest", r), this._processing = false, o2;
    } catch (n) {
      this._processing = false;
      let s = new Y2(n);
      throw o2.fail(s), r.register(s), await this.call("_A_Channel_onError", r), r.destroy(), s;
    }
  }
  async send(e) {
    await this.initialize, this._processing = true;
    let r = new R({ name: `a-channel@scope:send:${$.generateTimeId()}` }).inherit(_.scope(this)), o2 = new _2("send", e);
    try {
      r.inherit(_.scope(this)), r.register(o2), await this.call("_A_Channel_onSend", r), this._processing = false;
    } catch (n) {
      this._processing = false;
      let s = new Y2(n);
      r.register(s), o2.fail(s), await this.call("_A_Channel_onError", r), r.destroy();
    }
  }
  async consume() {
    await this.initialize, this._processing = true;
    let e = new R({ name: `a-channel@scope:consume:${$.generateTimeId()}` }).inherit(_.scope(this)), r = new _2("consume", {});
    try {
      return e.inherit(_.scope(this)), e.register(r), await this.call("_A_Channel_onConsume", e), this._processing = false, r;
    } catch (o2) {
      this._processing = false;
      let n = new Y2(o2);
      return r.fail(n), await this.call("_A_Channel_onError", e), r;
    }
  }
}, __name(_a40, "I"), _a40);
i(I, "A_Channel"), a2([Y.Extend({ name: "_A_Channel_onConnect" })], I.prototype, "onConnect", 1), a2([Y.Extend({ name: "_A_Channel_onDisconnect" })], I.prototype, "onDisconnect", 1), a2([Y.Extend({ name: "_A_Channel_onBeforeRequest" })], I.prototype, "onBeforeRequest", 1), a2([Y.Extend({ name: "_A_Channel_onRequest" })], I.prototype, "onRequest", 1), a2([Y.Extend({ name: "_A_Channel_onAfterRequest" })], I.prototype, "onAfterRequest", 1), a2([Y.Extend({ name: "_A_Channel_onError" })], I.prototype, "onError", 1), a2([Y.Extend({ name: "_A_Channel_onSend" })], I.prototype, "onSend", 1);
var Rt = ((s) => (s.CREATED = "CREATED", s.INITIALIZED = "INITIALIZED", s.COMPILED = "COMPILED", s.EXECUTING = "EXECUTING", s.COMPLETED = "COMPLETED", s.FAILED = "FAILED", s))(Rt || {});
var Lt = ((o2) => (o2.CREATED_TO_INITIALIZED = "created_initialized", o2.INITIALIZED_TO_EXECUTING = "initialized_executing", o2.EXECUTING_TO_COMPLETED = "executing_completed", o2.EXECUTING_TO_FAILED = "executing_failed", o2))(Lt || {});
var vt = ((c) => (c.onInit = "_A_Command_onInit", c.onBeforeExecute = "_A_Command_onBeforeExecute", c.onExecute = "_A_Command_onExecute", c.onAfterExecute = "_A_Command_onAfterExecute", c.onComplete = "_A_Command_onComplete", c.onFail = "_A_Command_onFail", c.onError = "_A_Command_onError", c))(vt || {});
var Pt = ((c) => (c.onInit = "onInit", c.onBeforeExecute = "onBeforeExecute", c.onExecute = "onExecute", c.onAfterExecute = "onAfterExecute", c.onComplete = "onComplete", c.onFail = "onFail", c.onError = "onError", c))(Pt || {});
var _a41;
var q2 = (_a41 = class extends A {
}, __name(_a41, "q"), _a41);
i(q2, "A_CommandError"), q2.CommandScopeBindingError = "A-Command Scope Binding Error", q2.ExecutionError = "A-Command Execution Error", q2.ResultProcessingError = "A-Command Result Processing Error", q2.CommandInterruptedError = "A-Command Interrupted Error";
var D2 = q2;
var _a42;
var oe2 = (_a42 = class extends A {
}, __name(_a42, "oe"), _a42);
i(oe2, "A_StateMachineError"), oe2.InitializationError = "A-StateMachine Initialization Error", oe2.TransitionError = "A-StateMachine Transition Error";
var K2 = oe2;
var bt = ((o2) => (o2.onError = "_A_StateMachine_onError", o2.onInitialize = "_A_StateMachine_onInitialize", o2.onBeforeTransition = "_A_StateMachine_onBeforeTransition", o2.onAfterTransition = "_A_StateMachine_onAfterTransition", o2))(bt || {});
var _a43;
var Ie2 = (_a43 = class extends _2 {
  constructor(t) {
    super("a-state-machine-transition", t), this._meta.set("from", t.from), this._meta.set("to", t.to);
  }
  get from() {
    return this._meta.get("from");
  }
  get to() {
    return this._meta.get("to");
  }
}, __name(_a43, "Ie"), _a43);
i(Ie2, "A_StateMachineTransition");
var P = Ie2;
var Mt;
var Gt;
var $t;
var Ut;
var _a44;
var j2 = (_a44 = class extends x {
  get ready() {
    return this._initialized || (this._initialized = this.call("_A_StateMachine_onInitialize")), this._initialized;
  }
  async [Ut = "_A_StateMachine_onInitialize"](...t) {
  }
  async [$t = "_A_StateMachine_onBeforeTransition"](...t) {
  }
  async [Gt = "_A_StateMachine_onAfterTransition"](...t) {
  }
  async [Mt = "_A_StateMachine_onError"](...t) {
  }
  async transition(t, e, r) {
    await this.ready;
    let o2 = `${g.toCamelCase(String(t))}_${g.toCamelCase(String(e))}`, n = new P({ from: String(t), to: String(e), props: r }), s = new R({ name: `A-StateMachine-Transition-Scope-${o2}`, fragments: [n] }).inherit(_.scope(this));
    try {
      return await this.call("_A_StateMachine_onBeforeTransition", s), await this.call(o2, s), await this.call("_A_StateMachine_onAfterTransition", s), s.destroy(), n.result;
    } catch (c) {
      let f2 = new K2({ title: K2.TransitionError, description: `An error occurred while transitioning to "${o2}"`, originalError: c });
      throw s.register(f2), await this.call("_A_StateMachine_onError", s), s.destroy(), f2;
    }
  }
}, __name(_a44, "j"), _a44);
i(j2, "A_StateMachine"), a2([Y.Extend()], j2.prototype, Ut, 1), a2([Y.Extend()], j2.prototype, $t, 1), a2([Y.Extend()], j2.prototype, Gt, 1), a2([Y.Extend()], j2.prototype, Mt, 1);
var b2 = j2;
var X2 = [];
var _a45;
var _e2 = (_a45 = class extends A {
}, __name(_a45, "_e"), _a45);
i(_e2, "A_ConfigError"), _e2.InitializationError = "A-Config Initialization Error";
var N2 = _e2;
var _a46;
var Ne2 = (_a46 = class extends v {
  constructor(e) {
    super("a-config");
    this.DEFAULT_ALLOWED_TO_READ_PROPERTIES = [...st, ...X2];
    this._strict = e.strict ?? false, this._configProperties = e.variables ?? [];
    for (let r in e.defaults) this.set(g.toUpperSnakeCase(r), e.defaults[r]);
  }
  get strict() {
    return this._strict;
  }
  get(e) {
    if (this._configProperties.includes(e) || this.DEFAULT_ALLOWED_TO_READ_PROPERTIES.includes(e) || !this._strict) return super.get(g.toUpperSnakeCase(e));
    throw new N2("Property not exists or not allowed to read");
  }
  set(e, r) {
    let o2 = Array.isArray(e) ? e : typeof e == "string" ? [{ property: e, value: r }] : Object.keys(e).map((n) => ({ property: n, value: e[n] }));
    for (let { property: n, value: s } of o2) super.set(g.toUpperSnakeCase(n), s);
  }
}, __name(_a46, "Ne"), _a46);
i(Ne2, "A_Config");
var g2 = Ne2;
var ct = { red: "31", yellow: "33", green: "32", blue: "34", cyan: "36", magenta: "35", gray: "90", brightBlue: "94", brightCyan: "96", brightMagenta: "95", darkGray: "30", lightGray: "37", indigo: "38;5;54", violet: "38;5;93", purple: "38;5;129", lavender: "38;5;183", skyBlue: "38;5;117", steelBlue: "38;5;67", slateBlue: "38;5;62", deepBlue: "38;5;18", lightBlue: "38;5;153", periwinkle: "38;5;111", cornflower: "38;5;69", powder: "38;5;152", charcoal: "38;5;236", silver: "38;5;250", smoke: "38;5;244", slate: "38;5;240" };
var pt = ["blue", "cyan", "magenta", "gray", "brightBlue", "brightCyan", "brightMagenta", "darkGray", "lightGray", "indigo", "violet", "purple", "lavender", "skyBlue", "steelBlue", "slateBlue", "deepBlue", "lightBlue", "periwinkle", "cornflower", "powder", "charcoal", "silver", "smoke", "slate"];
var z2 = { RESET: "\x1B[0m", PREFIX: "\x1B[", SUFFIX: "m" };
var J2 = { MINUTES_PAD: 2, SECONDS_PAD: 2, MILLISECONDS_PAD: 3, SEPARATOR: ":" };
var C2 = { SCOPE_OPEN: "[", SCOPE_CLOSE: "]", TIME_OPEN: "|", TIME_CLOSE: "|", SEPARATOR: "-------------------------------", INDENT_BASE: 3, PIPE: "| " };
var ie2 = { LOG_LEVEL: "A_LOGGER_LEVEL", DEFAULT_SCOPE_LENGTH: "A_LOGGER_DEFAULT_SCOPE_LENGTH", DEFAULT_SCOPE_COLOR: "A_LOGGER_DEFAULT_SCOPE_COLOR", DEFAULT_LOG_COLOR: "A_LOGGER_DEFAULT_LOG_COLOR" };
var _a47;
var T2 = (_a47 = class extends x {
  constructor(e, r) {
    super();
    this.scope = e;
    this.config = r;
    this.COLORS = ct, this.STANDARD_SCOPE_LENGTH = r?.get(ie2.DEFAULT_SCOPE_LENGTH) || 20;
    let o2 = r?.get(ie2.DEFAULT_SCOPE_COLOR), n = r?.get(ie2.DEFAULT_LOG_COLOR);
    if (o2 || n) this.DEFAULT_SCOPE_COLOR = o2 || this.generateColorFromScopeName(this.scope.name), this.DEFAULT_LOG_COLOR = n || this.generateColorFromScopeName(this.scope.name);
    else {
      let s = this.generateComplementaryColorsFromScope(this.scope.name);
      this.DEFAULT_SCOPE_COLOR = s.scopeColor, this.DEFAULT_LOG_COLOR = s.logColor;
    }
  }
  simpleHash(e) {
    let r = 0;
    for (let o2 = 0; o2 < e.length; o2++) {
      let n = e.charCodeAt(o2);
      r = (r << 5) - r + n, r = r & r;
    }
    return Math.abs(r);
  }
  generateColorFromScopeName(e) {
    let r = pt, n = this.simpleHash(e) % r.length;
    return r[n];
  }
  generateComplementaryColorsFromScope(e) {
    let r = [{ scopeColor: "indigo", logColor: "lightBlue" }, { scopeColor: "deepBlue", logColor: "cyan" }, { scopeColor: "purple", logColor: "lavender" }, { scopeColor: "steelBlue", logColor: "skyBlue" }, { scopeColor: "slateBlue", logColor: "periwinkle" }, { scopeColor: "charcoal", logColor: "silver" }, { scopeColor: "violet", logColor: "brightMagenta" }, { scopeColor: "darkGray", logColor: "lightGray" }, { scopeColor: "cornflower", logColor: "powder" }, { scopeColor: "slate", logColor: "smoke" }], n = this.simpleHash(e) % r.length;
    return r[n];
  }
  get scopeLength() {
    return Math.max(this.scope.name.length, this.STANDARD_SCOPE_LENGTH);
  }
  get formattedScope() {
    let e = this.scope.name, r = this.STANDARD_SCOPE_LENGTH;
    if (e.length >= r) return e.substring(0, r);
    let o2 = r - e.length, n = Math.floor(o2 / 2), s = o2 - n;
    return " ".repeat(n) + e + " ".repeat(s);
  }
  compile(e, ...r) {
    let o2 = this.getTime(), n = " ".repeat(this.scopeLength + 3), s = r.length > 1;
    return [`${z2.PREFIX}${this.COLORS[this.DEFAULT_SCOPE_COLOR]}${z2.SUFFIX}${C2.SCOPE_OPEN}${this.formattedScope}${C2.SCOPE_CLOSE}${z2.RESET} ${z2.PREFIX}${this.COLORS[e]}${z2.SUFFIX}${C2.TIME_OPEN}${o2}${C2.TIME_CLOSE}`, s ? `
${n}${C2.TIME_OPEN}${C2.SEPARATOR}` : "", ...r.map((c, f2) => {
      let U2 = f2 > 0 || s;
      switch (true) {
        case c instanceof A:
          return this.compile_A_Error(c);
        case c instanceof Error:
          return this.compile_Error(c);
        case (typeof c == "object" && c !== null):
          return this.formatObject(c, U2, n);
        default:
          return this.formatString(String(c), U2, n);
      }
    }), s ? `
${n}${C2.TIME_OPEN}${C2.SEPARATOR}${z2.RESET}` : z2.RESET];
  }
  formatObject(e, r, o2) {
    if (_.environment === "browser") return e;
    let n;
    try {
      n = JSON.stringify(e, null, 2);
    } catch {
      let f2 = /* @__PURE__ */ new WeakSet();
      n = JSON.stringify(e, (U2, l2) => {
        if (typeof l2 == "object" && l2 !== null) {
          if (f2.has(l2)) return "[Circular Reference]";
          f2.add(l2);
        }
        return l2;
      }, 2);
    }
    let s = n.replace(/\n/g, `
${o2}${C2.PIPE}`);
    return r ? `
${o2}${C2.PIPE}` + s : s;
  }
  formatString(e, r, o2) {
    return ((r ? `
` : "") + e).replace(/\n/g, `
${o2}${C2.PIPE}`);
  }
  shouldLog(e) {
    switch (this.config?.get(ie2.LOG_LEVEL) || "info") {
      case "debug":
        return true;
      case "info":
        return e === "info" || e === "warning" || e === "error";
      case "warn":
        return e === "warning" || e === "error";
      case "error":
        return e === "error";
      case "all":
        return true;
      default:
        return false;
    }
  }
  debug(e, ...r) {
    this.shouldLog("debug") && (typeof e == "string" && this.COLORS[e] ? console.log(...this.compile(e, ...r)) : console.log(...this.compile(this.DEFAULT_LOG_COLOR, e, ...r)));
  }
  info(e, ...r) {
    this.shouldLog("info") && (typeof e == "string" && this.COLORS[e] ? console.log(...this.compile(e, ...r)) : console.log(...this.compile(this.DEFAULT_LOG_COLOR, e, ...r)));
  }
  log(e, ...r) {
    this.info(e, ...r);
  }
  warning(...e) {
    this.shouldLog("warning") && console.log(...this.compile("yellow", ...e));
  }
  error(...e) {
    this.shouldLog("error") && console.log(...this.compile("red", ...e));
  }
  log_A_Error(e) {
    let r = this.getTime(), o2 = " ".repeat(this.scopeLength + 3);
    console.log(`\x1B[31m[${this.formattedScope}] |${r}| ERROR ${e.code}
${o2}| ${e.message}
${o2}| ${e.description} 
${o2}|-------------------------------
${o2}| ${e.stack?.split(`
`).map((n, s) => s === 0 ? n : `${o2}| ${n}`).join(`
`) || "No stack trace"}
${o2}|-------------------------------
\x1B[0m` + (e.originalError ? `\x1B[31m${o2}| Wrapped From  ${e.originalError.message}
${o2}|-------------------------------
${o2}| ${e.originalError.stack?.split(`
`).map((n, s) => s === 0 ? n : `${o2}| ${n}`).join(`
`) || "No stack trace"}
${o2}|-------------------------------
\x1B[0m` : "") + (e.link ? `\x1B[31m${o2}| Read in docs: ${e.link}
${o2}|-------------------------------
\x1B[0m` : ""));
  }
  compile_A_Error(e) {
    let r = " ".repeat(this.scopeLength + 3);
    return `
${r}|-------------------------------
${r}|  Error:  | ${e.code}
${r}|-------------------------------
${r}|${" ".repeat(10)}| ${e.message}
${r}|${" ".repeat(10)}| ${e.description} 
${r}|-------------------------------
${r}| ${e.stack?.split(`
`).map((o2, n) => n === 0 ? o2 : `${r}| ${o2}`).join(`
`) || "No stack trace"}
${r}|-------------------------------` + (e.originalError ? `${r}| Wrapped From  ${e.originalError.message}
${r}|-------------------------------
${r}| ${e.originalError.stack?.split(`
`).map((o2, n) => n === 0 ? o2 : `${r}| ${o2}`).join(`
`) || "No stack trace"}
${r}|-------------------------------` : "") + (e.link ? `${r}| Read in docs: ${e.link}
${r}|-------------------------------` : "");
  }
  compile_Error(e) {
    let r = " ".repeat(this.scopeLength + 3);
    return JSON.stringify({ name: e.name, message: e.message, stack: e.stack?.split(`
`).map((o2, n) => n === 0 ? o2 : `${r}| ${o2}`).join(`
`) }, null, 2).replace(/\n/g, `
${r}| `).replace(/\\n/g, `
`);
  }
  getTime() {
    let e = /* @__PURE__ */ new Date(), r = String(e.getMinutes()).padStart(J2.MINUTES_PAD, "0"), o2 = String(e.getSeconds()).padStart(J2.SECONDS_PAD, "0"), n = String(e.getMilliseconds()).padStart(J2.MILLISECONDS_PAD, "0");
    return `${r}${J2.SEPARATOR}${o2}${J2.SEPARATOR}${n}`;
  }
}, __name(_a47, "T"), _a47);
i(T2, "A_Logger"), T2 = a2([p2(0, ot(R)), p2(1, ot(g2))], T2);
var Ht;
var Kt;
var Xt;
var Jt;
var Wt;
var Zt;
var Qt;
var er;
var tr;
var rr;
var or;
var _a48;
var E = (_a48 = class extends M {
  constructor(e) {
    super(e);
    this._listeners = /* @__PURE__ */ new Map();
  }
  static get code() {
    return super.entity;
  }
  get duration() {
    return this._endTime && this._startTime ? this._endTime.getTime() - this._startTime.getTime() : this._startTime ? (/* @__PURE__ */ new Date()).getTime() - this._startTime.getTime() : void 0;
  }
  get idleTime() {
    return this._startTime && this._createdAt ? this._startTime.getTime() - this._createdAt.getTime() : void 0;
  }
  get scope() {
    return this._executionScope;
  }
  get context() {
    return this.scope.resolve(v);
  }
  get code() {
    return this.constructor.code;
  }
  get status() {
    return this._status;
  }
  get createdAt() {
    return this._createdAt;
  }
  get startedAt() {
    return this._startTime;
  }
  get endedAt() {
    return this._endTime;
  }
  get result() {
    return this._result;
  }
  get error() {
    return this._error;
  }
  get params() {
    return this._params;
  }
  get isProcessed() {
    return this._status === "COMPLETED" || this._status === "FAILED";
  }
  async [or = "_A_StateMachine_onBeforeTransition"](e, r, ...o2) {
    this.checkScopeInheritance(), r?.debug("yellow", `Command ${this.aseid.toString()} transitioning from ${e.from} to ${e.to}`);
  }
  async [rr = "created_initialized"](e, ...r) {
    this._status === "CREATED" && (this._createdAt = /* @__PURE__ */ new Date(), this._status = "INITIALIZED", this.emit("onInit"));
  }
  async [tr = "initialized_executing"](e, ...r) {
    this._status !== "INITIALIZED" && this._status !== "CREATED" || (this._startTime = /* @__PURE__ */ new Date(), this._status = "EXECUTING", this.emit("onExecute"));
  }
  async [er = "executing_completed"](e, ...r) {
    this._endTime = /* @__PURE__ */ new Date(), this._status = "COMPLETED", this.emit("onComplete");
  }
  async [Qt = "executing_failed"](e, r, ...o2) {
    this._endTime = /* @__PURE__ */ new Date(), this._status = "FAILED", this.emit("onFail");
  }
  async [Zt = "_A_Command_onInit"](e, ...r) {
    await e.transition("CREATED", "INITIALIZED");
  }
  async [Wt = "_A_Command_onBeforeExecute"](e, ...r) {
    await e.transition("INITIALIZED", "EXECUTING");
  }
  async [Jt = "_A_Command_onExecute"](...e) {
  }
  async [Xt = "_A_Command_onAfterExecute"](...e) {
  }
  async [Kt = "_A_Command_onComplete"](e, ...r) {
    await e.transition("EXECUTING", "COMPLETED");
  }
  async [Ht = "_A_Command_onFail"](e, r, ...o2) {
    await e.transition("EXECUTING", "FAILED");
  }
  async init() {
    await this.call("_A_Command_onInit", this.scope);
  }
  async execute() {
    if (!this.isProcessed) try {
      this.checkScopeInheritance();
      let e = new v("execute-command");
      this.scope.register(e), await new Promise(async (r, o2) => {
        try {
          let n = new Y({ name: "_A_Command_onBeforeExecute", component: this, scope: this.scope }), s = new Y({ name: "_A_Command_onExecute", component: this, scope: this.scope }), c = new Y({ name: "_A_Command_onAfterExecute", component: this, scope: this.scope });
          this.on("onComplete", () => {
            n.interrupt(), s.interrupt(), c.interrupt(), r();
          }), this.on("onFail", () => {
            n.interrupt(), s.interrupt(), c.interrupt(), o2(this.error);
          }), await n.process(this.scope), await s.process(this.scope), await c.process(this.scope), this._origin === "invoked" && await this.complete(), r();
        } catch (n) {
          o2(n);
        }
      });
    } catch (e) {
      let r = e instanceof A ? e : new D2({ title: D2.ExecutionError, description: `An error occurred while executing command "${this.aseid.toString()}".`, originalError: e });
      await this.fail(r);
    }
  }
  async complete(e) {
    this.isProcessed || (this._status = "COMPLETED", this._result = e, await this.call("_A_Command_onComplete", this.scope), this.scope.destroy());
  }
  async fail(e) {
    this.isProcessed || (this._status = "FAILED", e && (this._error = e, this.scope.register(e)), await this.call("_A_Command_onFail", this.scope), this.scope.destroy());
  }
  on(e, r) {
    this._listeners.has(e) || this._listeners.set(e, /* @__PURE__ */ new Set()), this._listeners.get(e).add(r);
  }
  off(e, r) {
    this._listeners.get(e)?.delete(r);
  }
  emit(e) {
    this._listeners.get(e)?.forEach(async (r) => {
      r(this);
    });
  }
  fromNew(e) {
    super.fromNew(e), this._origin = "invoked", this._executionScope = new R({ name: `A-Command-Execution-Scope-${this.aseid.toString()}`, components: [b2] }), this._createdAt = /* @__PURE__ */ new Date(), this._params = e, this._status = "CREATED";
  }
  fromJSON(e) {
    super.fromJSON(e), this._origin = "serialized", this._executionScope = new R({ name: `A-Command-Execution-Scope-${this.aseid.toString()}`, components: [b2] }), e.createdAt && (this._createdAt = new Date(e.createdAt)), e.startedAt && (this._startTime = new Date(e.startedAt)), e.endedAt && (this._endTime = new Date(e.endedAt)), this._params = e.params, this._status = e.status, e.error && (this._error = new D2(e.error)), e.result && (this._result = e.result);
  }
  toJSON() {
    return { ...super.toJSON(), code: this.code, status: this._status, params: this._params, createdAt: this._createdAt.toISOString(), startedAt: this._startTime ? this._startTime.toISOString() : void 0, endedAt: this._endTime ? this._endTime.toISOString() : void 0, duration: this.duration, idleTime: this.idleTime, result: this.result, error: this.error ? this.error.toJSON() : void 0 };
  }
  checkScopeInheritance() {
    let e;
    try {
      e = _.scope(this);
    } catch (r) {
      throw new D2({ title: D2.CommandScopeBindingError, description: `Command ${this.aseid.toString()} is not bound to any context scope. Ensure the command is properly registered within a context before execution.`, originalError: r });
    }
    this.scope.isInheritedFrom(_.scope(this)) || this.scope.inherit(_.scope(this));
  }
}, __name(_a48, "E"), _a48);
i(E, "A_Command"), a2([Y.Extend(), p2(0, ot(P)), p2(1, ot(T2))], E.prototype, or, 1), a2([Y.Extend(), p2(0, ot(P))], E.prototype, rr, 1), a2([Y.Extend(), p2(0, ot(P))], E.prototype, tr, 1), a2([Y.Extend(), p2(0, ot(P))], E.prototype, er, 1), a2([Y.Extend(), p2(0, ot(P)), p2(1, ot(A))], E.prototype, Qt, 1), a2([Y.Extend(), p2(0, ot(b2))], E.prototype, Zt, 1), a2([Y.Extend({ after: /.*/ }), p2(0, Le.Required()), p2(0, ot(b2))], E.prototype, Wt, 1), a2([Y.Extend()], E.prototype, Jt, 1), a2([Y.Extend()], E.prototype, Xt, 1), a2([Y.Extend({ after: /.*/ }), p2(0, ot(b2))], E.prototype, Kt, 1), a2([Y.Extend({ after: /.*/ }), p2(0, Le.Required()), p2(0, ot(b2)), p2(1, ot(v))], E.prototype, Ht, 1);
var _a49;
var Me2 = (_a49 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._fs;
  }
  async init() {
    try {
      _.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    this._fs = await import("fs");
  }
  initBrowser() {
    this._fs = { readFileSync: i((t, e) => (this.logger.warning("fs.readFileSync not available in browser environment"), ""), "readFileSync"), existsSync: i((t) => (this.logger.warning("fs.existsSync not available in browser environment"), false), "existsSync"), createReadStream: i((t) => (this.logger.warning("fs.createReadStream not available in browser environment"), null), "createReadStream") };
  }
}, __name(_a49, "Me"), _a49);
i(Me2, "A_FSPolyfillClass");
var de2 = Me2;
var _a50;
var Ge2 = (_a50 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get(t) {
    return this._initialized || (this._fsPolyfill = t, await this.init()), this._crypto;
  }
  async init() {
    try {
      _.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("crypto");
    this._crypto = { createTextHash: i((e, r = "sha384") => Promise.resolve(`${r}-${t.createHash(r).update(e).digest("base64")}`), "createTextHash"), createFileHash: i((e, r = "sha384") => new Promise(async (o2, n) => {
      try {
        if (!this._fsPolyfill) throw new Error("FS polyfill is required for file hashing");
        let s = t.createHash(r), c = this._fsPolyfill.createReadStream(e);
        c.on("data", (f2) => s.update(f2)), c.on("end", () => o2(`${r}-${s.digest("base64")}`)), c.on("error", (f2) => n(f2));
      } catch (s) {
        n(s);
      }
    }), "createFileHash") };
  }
  initBrowser() {
    this._crypto = { createFileHash: i(() => (this.logger.warning("File hash not available in browser environment"), Promise.resolve("")), "createFileHash"), createTextHash: i((t, e = "SHA-384") => new Promise(async (r, o2) => {
      try {
        if (!crypto.subtle) throw new Error("SubtleCrypto not available");
        let s = new TextEncoder().encode(t), c = await crypto.subtle.digest(e, s), f2 = Array.from(new Uint8Array(c)), U2 = btoa(String.fromCharCode(...f2));
        r(`${e}-${U2}`);
      } catch (n) {
        o2(n);
      }
    }), "createTextHash") };
  }
}, __name(_a50, "Ge"), _a50);
i(Ge2, "A_CryptoPolyfillClass");
var me2 = Ge2;
var _a51;
var $e2 = (_a51 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._http;
  }
  async init() {
    try {
      _.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("http");
    this._http = { request: t.request, get: t.get, createServer: t.createServer };
  }
  initBrowser() {
    this._http = { request: i((t, e) => (this.logger.warning("http.request not available in browser/test environment, use fetch instead"), this.createMockRequest(t, e, false)), "request"), get: i((t, e) => (this.logger.warning("http.get not available in browser/test environment, use fetch instead"), this.createMockRequest(typeof t == "string" ? { hostname: t } : t, e, false)), "get"), createServer: i(() => (this.logger.error("http.createServer not available in browser/test environment"), null), "createServer") };
  }
  createMockRequest(t, e, r = false) {
    return { end: i(() => {
      if (e) {
        let n = { statusCode: 200, headers: {}, on: i((s, c) => {
          s === "data" ? setTimeout(() => c("mock data"), 0) : s === "end" && setTimeout(() => c(), 0);
        }, "on"), pipe: i((s) => {
          s.write && s.write("mock data"), s.end && s.end();
        }, "pipe") };
        setTimeout(() => e(n), 0);
      }
    }, "end"), write: i((n) => {
    }, "write"), on: i((n, s) => {
    }, "on") };
  }
}, __name(_a51, "$e"), _a51);
i($e2, "A_HttpPolyfillClass");
var he2 = $e2;
var _a52;
var Ue = (_a52 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._https;
  }
  async init() {
    try {
      _.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("https");
    this._https = { request: t.request, get: t.get, createServer: t.createServer };
  }
  initBrowser() {
    this._https = { request: i((t, e) => (this.logger.warning("https.request not available in browser/test environment, use fetch instead"), this.createMockRequest(t, e, true)), "request"), get: i((t, e) => (this.logger.warning("https.get not available in browser/test environment, use fetch instead"), this.createMockRequest(typeof t == "string" ? { hostname: t } : t, e, true)), "get"), createServer: i(() => (this.logger.error("https.createServer not available in browser/test environment"), null), "createServer") };
  }
  createMockRequest(t, e, r = true) {
    return { end: i(() => {
      if (e) {
        let n = { statusCode: 200, headers: {}, on: i((s, c) => {
          s === "data" ? setTimeout(() => c("mock data"), 0) : s === "end" && setTimeout(() => c(), 0);
        }, "on"), pipe: i((s) => {
          s.write && s.write("mock data"), s.end && s.end();
        }, "pipe") };
        setTimeout(() => e(n), 0);
      }
    }, "end"), write: i((n) => {
    }, "write"), on: i((n, s) => {
    }, "on") };
  }
}, __name(_a52, "Ue"), _a52);
i(Ue, "A_HttpsPolyfillClass");
var fe2 = Ue;
var _a53;
var ze2 = (_a53 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._path;
  }
  async init() {
    try {
      _.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    this._path = await import("path");
  }
  initBrowser() {
    this._path = { join: i((...t) => t.join("/").replace(/\/+/g, "/"), "join"), resolve: i((...t) => {
      let e = "";
      for (let r of t) r.startsWith("/") ? e = r : e = this._path.join(e, r);
      return e || "/";
    }, "resolve"), dirname: i((t) => t.split("/").slice(0, -1).join("/") || "/", "dirname"), basename: i((t, e) => {
      let r = t.split("/").pop() || "";
      return e && r.endsWith(e) ? r.slice(0, -e.length) : r;
    }, "basename"), extname: i((t) => {
      let e = t.split(".");
      return e.length > 1 ? "." + e.pop() : "";
    }, "extname"), relative: i((t, e) => e.replace(t, "").replace(/^\//, ""), "relative"), normalize: i((t) => t.replace(/\/+/g, "/").replace(/\/$/, "") || "/", "normalize"), isAbsolute: i((t) => t.startsWith("/") || /^[a-zA-Z]:/.test(t), "isAbsolute"), parse: i((t) => {
      let e = this._path.extname(t), r = this._path.basename(t), o2 = this._path.basename(t, e);
      return { root: "/", dir: this._path.dirname(t), base: r, ext: e, name: o2 };
    }, "parse"), format: i((t) => this._path.join(t.dir || "", t.base || ""), "format"), sep: "/", delimiter: ":" };
  }
}, __name(_a53, "ze"), _a53);
i(ze2, "A_PathPolyfillClass");
var ye2 = ze2;
var _a54;
var Fe2 = (_a54 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._url;
  }
  async init() {
    try {
      _.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("url");
    this._url = { parse: t.parse, format: t.format, resolve: t.resolve, URL: t.URL || globalThis.URL, URLSearchParams: t.URLSearchParams || globalThis.URLSearchParams };
  }
  initBrowser() {
    this._url = { parse: i((t) => {
      try {
        let e = new URL(t);
        return { protocol: e.protocol, hostname: e.hostname, port: e.port, pathname: e.pathname, search: e.search, hash: e.hash, host: e.host, href: e.href };
      } catch {
        return {};
      }
    }, "parse"), format: i((t) => {
      try {
        return new URL("", t.href || `${t.protocol}//${t.host}${t.pathname}${t.search}${t.hash}`).href;
      } catch {
        return "";
      }
    }, "format"), resolve: i((t, e) => {
      try {
        return new URL(e, t).href;
      } catch {
        return e;
      }
    }, "resolve"), URL: globalThis.URL, URLSearchParams: globalThis.URLSearchParams };
  }
}, __name(_a54, "Fe"), _a54);
i(Fe2, "A_UrlPolyfillClass");
var ge2 = Fe2;
var _a55;
var Be2 = (_a55 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._buffer;
  }
  async init() {
    try {
      _.environment === "server" ? await this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  async initServer() {
    let t = await import("buffer");
    this._buffer = { from: t.Buffer.from, alloc: t.Buffer.alloc, allocUnsafe: t.Buffer.allocUnsafe, isBuffer: t.Buffer.isBuffer, concat: t.Buffer.concat };
  }
  initBrowser() {
    this._buffer = { from: i((t, e) => typeof t == "string" ? new TextEncoder().encode(t) : new Uint8Array(t), "from"), alloc: i((t, e) => {
      let r = new Uint8Array(t);
      return e !== void 0 && r.fill(e), r;
    }, "alloc"), allocUnsafe: i((t) => new Uint8Array(t), "allocUnsafe"), isBuffer: i((t) => t instanceof Uint8Array || t instanceof ArrayBuffer, "isBuffer"), concat: i((t, e) => {
      let r = e || t.reduce((s, c) => s + c.length, 0), o2 = new Uint8Array(r), n = 0;
      for (let s of t) o2.set(s, n), n += s.length;
      return o2;
    }, "concat") };
  }
}, __name(_a55, "Be"), _a55);
i(Be2, "A_BufferPolyfillClass");
var ue2 = Be2;
var _a56;
var Ye2 = (_a56 = class {
  constructor(t) {
    this.logger = t;
    this._initialized = false;
  }
  get isInitialized() {
    return this._initialized;
  }
  async get() {
    return this._initialized || await this.init(), this._process;
  }
  async init() {
    try {
      _.environment === "server" ? this.initServer() : this.initBrowser(), this._initialized = true;
    } catch {
      this.initBrowser(), this._initialized = true;
    }
  }
  initServer() {
    this._process = { env: process.env, argv: process.argv, platform: process.platform, version: process.version, versions: process.versions, cwd: process.cwd, exit: process.exit, nextTick: process.nextTick };
  }
  initBrowser() {
    this._process = { env: { NODE_ENV: "browser", ...globalThis.process?.env || {} }, argv: ["browser"], platform: "browser", version: "browser", versions: { node: "browser" }, cwd: i(() => "/", "cwd"), exit: i((t) => {
      throw this.logger.warning("process.exit not available in browser"), new Error(`Process exit with code ${t}`);
    }, "exit"), nextTick: i((t, ...e) => {
      setTimeout(() => t(...e), 0);
    }, "nextTick") };
  }
}, __name(_a56, "Ye"), _a56);
i(Ye2, "A_ProcessPolyfillClass");
var Ee2 = Ye2;
var _a57;
var m = (_a57 = class extends x {
  constructor(e) {
    super();
    this.logger = e;
    this._initializing = null;
  }
  get ready() {
    return this._initialized || (this._initialized = this._loadInternal()), this._initialized;
  }
  async load() {
    await this.ready;
  }
  async attachToWindow() {
    _.environment === "browser" && (globalThis.A_Polyfill = this, globalThis.process = { env: { NODE_ENV: "production" }, cwd: i(() => "/", "cwd") }, globalThis.__dirname = "/");
  }
  async _loadInternal() {
    this._fsPolyfill = new de2(this.logger), this._cryptoPolyfill = new me2(this.logger), this._httpPolyfill = new he2(this.logger), this._httpsPolyfill = new fe2(this.logger), this._pathPolyfill = new ye2(this.logger), this._urlPolyfill = new ge2(this.logger), this._bufferPolyfill = new ue2(this.logger), this._processPolyfill = new Ee2(this.logger), await this._fsPolyfill.get(), await this._cryptoPolyfill.get(await this._fsPolyfill.get()), await this._httpPolyfill.get(), await this._httpsPolyfill.get(), await this._pathPolyfill.get(), await this._urlPolyfill.get(), await this._bufferPolyfill.get(), await this._processPolyfill.get();
  }
  async fs() {
    return await this.ready, await this._fsPolyfill.get();
  }
  async crypto() {
    return await this.ready, await this._cryptoPolyfill.get();
  }
  async http() {
    return await this.ready, await this._httpPolyfill.get();
  }
  async https() {
    return await this.ready, await this._httpsPolyfill.get();
  }
  async path() {
    return await this.ready, await this._pathPolyfill.get();
  }
  async url() {
    return await this.ready, await this._urlPolyfill.get();
  }
  async buffer() {
    return await this.ready, await this._bufferPolyfill.get();
  }
  async process() {
    return await this.ready, await this._processPolyfill.get();
  }
}, __name(_a57, "m"), _a57);
i(m, "A_Polyfill"), a2([Ne.Load()], m.prototype, "load", 1), a2([Ne.Load()], m.prototype, "attachToWindow", 1), m = a2([p2(0, ot(T2))], m);
var _a58;
var A2 = (_a58 = class extends x {
  constructor(e) {
    super();
    this.polyfill = e;
    this.DEFAULT_ALLOWED_TO_READ_PROPERTIES = [...st, ...X2];
  }
  async attachContext(e, r, o2) {
    o2 || (o2 = new g2({ defaults: {} }), e.scope.register(o2));
    let n = await this.getProjectRoot();
    o2.set("A_CONCEPT_ROOT_FOLDER", n);
  }
  async initialize(e) {
    let r = await this.read();
    for (let o2 in r) e.set(o2, r[o2]);
  }
  resolve(e) {
    return e;
  }
  async read(e = []) {
    return {};
  }
  async getProjectRoot(e = __dirname) {
    return (await this.polyfill.process()).cwd();
  }
}, __name(_a58, "A"), _a58);
i(A2, "ConfigReader"), a2([Ne.Load(), p2(0, ot(U)), p2(1, ot(R)), p2(2, ot(g2))], A2.prototype, "attachContext", 1), a2([Ne.Load(), p2(0, Le.Required()), p2(0, ot(g2))], A2.prototype, "initialize", 1), A2 = a2([p2(0, Le.Required()), p2(0, ot(m))], A2);
var _a59;
var Ve2 = (_a59 = class extends A2 {
  constructor() {
    super(...arguments);
    this.FileData = /* @__PURE__ */ new Map();
  }
  getConfigurationProperty_File_Alias(e) {
    return g.toCamelCase(e);
  }
  resolve(e) {
    return this.FileData.get(this.getConfigurationProperty_File_Alias(e));
  }
  async read(e) {
    let r = await this.polyfill.fs();
    try {
      let o2 = r.readFileSync(`${_.concept}.conf.json`, "utf8"), n = JSON.parse(o2);
      return this.FileData = new Map(Object.entries(n)), n;
    } catch {
      return {};
    }
  }
}, __name(_a59, "Ve"), _a59);
i(Ve2, "FileConfigReader");
var se = Ve2;
var _a60;
var Te2 = (_a60 = class extends A2 {
  async readEnvFile(t, e, r) {
    let o2 = await e.fs();
    o2.existsSync(".env") && o2.readFileSync(`${t.get("A_CONCEPT_ROOT_FOLDER")}/.env`, "utf-8").split(`
`).forEach((n) => {
      let [s, c] = n.split("=");
      s && c && (process.env[s.trim()] = c.trim());
    });
  }
  getConfigurationProperty_ENV_Alias(t) {
    return g.toUpperSnakeCase(t);
  }
  resolve(t) {
    return process.env[this.getConfigurationProperty_ENV_Alias(t)];
  }
  async read(t = []) {
    let e = [...t, ...Object.keys(process.env)], r = {};
    return e.forEach((o2) => {
      r[o2] = this.resolve(o2);
    }), r;
  }
}, __name(_a60, "Te"), _a60);
i(Te2, "ENVConfigReader"), a2([Ne.Load({ before: ["ENVConfigReader.initialize"] }), p2(0, ot(g2)), p2(1, ot(m)), p2(2, ot(Y))], Te2.prototype, "readEnvFile", 1);
var W2 = Te2;
var _a61;
var Ae2 = (_a61 = class extends U {
  async prepare(t) {
    if (!this.scope.has(g2)) {
      let r = new g2({ variables: [...st, ...X2], defaults: {} });
      this.scope.register(r);
    }
    let e = await t.fs();
    try {
      switch (true) {
        case (_.environment === "server" && !!e.existsSync(`${_.concept}.conf.json`)):
          this.reader = this.scope.resolve(se);
          break;
        case (_.environment === "server" && !e.existsSync(`${_.concept}.conf.json`)):
          this.reader = this.scope.resolve(W2);
          break;
        case _.environment === "browser":
          this.reader = this.scope.resolve(W2);
          break;
        default:
          throw new N2(N2.InitializationError, `Environment ${_.environment} is not supported`);
      }
    } catch (r) {
      if (r instanceof f) throw new N2({ title: N2.InitializationError, description: `Failed to initialize A_ConfigLoader. Reader not found for environment ${_.environment}`, originalError: r });
    }
  }
}, __name(_a61, "Ae"), _a61);
i(Ae2, "A_ConfigLoader"), a2([Ne.Load({ before: /.*/ }), p2(0, ot(m))], Ae2.prototype, "prepare", 1);
var Se2 = { A_LOGGER_LEVEL: "A_LOGGER_LEVEL", A_LOGGER_DEFAULT_SCOPE_LENGTH: "A_LOGGER_DEFAULT_SCOPE_LENGTH", A_LOGGER_DEFAULT_SCOPE_COLOR: "A_LOGGER_DEFAULT_SCOPE_COLOR", A_LOGGER_DEFAULT_LOG_COLOR: "A_LOGGER_DEFAULT_LOG_COLOR" };
var $n = [Se2.A_LOGGER_LEVEL, Se2.A_LOGGER_DEFAULT_SCOPE_LENGTH, Se2.A_LOGGER_DEFAULT_SCOPE_COLOR, Se2.A_LOGGER_DEFAULT_LOG_COLOR];
var _a62;
var xe2 = (_a62 = class extends A {
}, __name(_a62, "xe"), _a62);
i(xe2, "A_ManifestError"), xe2.ManifestInitializationError = "A-Manifest Initialization Error";
var F2 = xe2;
var _a63;
var He2 = (_a63 = class {
  constructor(t, e, r, o2 = false) {
    this.manifest = t;
    this.component = e;
    this.method = r;
    this.checkExclusion = o2;
  }
  for(t) {
    let e = this.manifest.internal_checkAccess({ component: this.component, method: this.method, target: t });
    return this.checkExclusion ? !e : e;
  }
}, __name(_a63, "He"), _a63);
i(He2, "A_ManifestChecker");
var Z2 = He2;
var _a64;
var Xe2 = (_a64 = class extends K {
  constructor(e = []) {
    super({ name: "A-Manifest" });
    this.rules = [];
    this.prepare(e);
  }
  prepare(e) {
    if (!o.isArray(e)) throw new F2(F2.ManifestInitializationError, "A-Manifest configuration should be an array of configurations");
    for (let r of e) this.processConfigItem(r);
  }
  processConfigItem(e) {
    if (!o.isComponentConstructor(e.component)) throw new F2(F2.ManifestInitializationError, "A-Manifest configuration item should be a A-Component constructor");
    let r = this.constructorToRegex(e.component);
    if (e.apply || e.exclude) {
      let o2 = /.*/;
      this.rules.push({ componentRegex: r, methodRegex: o2, applyRegex: e.apply ? this.allowedComponentsToRegex(e.apply) : void 0, excludeRegex: e.exclude ? this.allowedComponentsToRegex(e.exclude) : void 0 });
    }
    if (e.methods && e.methods.length > 0) for (let o2 of e.methods) {
      let n = this.methodToRegex(o2.method);
      this.rules.push({ componentRegex: r, methodRegex: n, applyRegex: o2.apply ? this.allowedComponentsToRegex(o2.apply) : void 0, excludeRegex: o2.exclude ? this.allowedComponentsToRegex(o2.exclude) : void 0 });
    }
  }
  constructorToRegex(e) {
    return new RegExp(`^${this.escapeRegex(e.name)}$`);
  }
  methodToRegex(e) {
    return e instanceof RegExp ? e : new RegExp(`^${this.escapeRegex(e)}$`);
  }
  allowedComponentsToRegex(e) {
    if (e instanceof RegExp) return e;
    let r = e.map((o2) => this.escapeRegex(o2.name));
    return new RegExp(`^(${r.join("|")})$`);
  }
  escapeRegex(e) {
    return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
  }
  configItemToRegexp(e) {
    return this.constructorToRegex(e);
  }
  ID(e, r) {
    return `${e.name}.${r}`;
  }
  isAllowed(e, r) {
    let o2 = typeof e == "function" ? e : e.constructor;
    return new Z2(this, o2, r);
  }
  internal_checkAccess(e) {
    let r = e.component.name, o2 = e.method, n = e.target.name, s = this.rules.filter((c) => c.componentRegex.test(r) && c.methodRegex.test(o2)).sort((c, f2) => {
      let U2 = c.methodRegex.source === ".*", l2 = f2.methodRegex.source === ".*";
      return U2 && !l2 ? 1 : !U2 && l2 ? -1 : 0;
    });
    if (s.length === 0) return true;
    for (let c of s) {
      if (c.excludeRegex && c.excludeRegex.test(n)) return false;
      if (c.applyRegex) return c.applyRegex.test(n);
    }
    return true;
  }
  isExcluded(e, r) {
    let o2 = typeof e == "function" ? e : e.constructor;
    return new Z2(this, o2, r, true);
  }
}, __name(_a64, "Xe"), _a64);
i(Xe2, "A_Manifest");
var br = ((l2) => (l2.onInit = "_A_Memory_onInit", l2.onDestroy = "_A_Memory_onDestroy", l2.onExpire = "_A_Memory_onExpire", l2.onError = "_A_Memory_onError", l2.onSerialize = "_A_Memory_onSerialize", l2.onSet = "_A_Memory_onSet", l2.onGet = "_A_Memory_onGet", l2.onDrop = "_A_Memory_onDrop", l2.onClear = "_A_Memory_onClear", l2.onHas = "_A_Memory_onHas", l2))(br || {});
var _a65;
var Je = (_a65 = class extends K {
  constructor() {
    super(...arguments);
    this._storage = /* @__PURE__ */ new Map();
  }
  set(e, r) {
    this._storage.set(e, r);
  }
  get(e) {
    return this._storage.get(e);
  }
  delete(e) {
    this._storage.delete(e);
  }
  has(e) {
    return this._storage.has(e);
  }
  clear() {
    this._storage.clear();
  }
}, __name(_a65, "Je"), _a65);
i(Je, "A_MemoryContext");
var R2 = Je;
var _a66;
var O2 = (_a66 = class extends A {
}, __name(_a66, "O"), _a66);
i(O2, "A_MemoryError"), O2.MemoryInitializationError = "Memory initialization error", O2.MemoryDestructionError = "Memory destruction error", O2.MemoryGetError = "Memory GET operation failed", O2.MemorySetError = "Memory SET operation failed", O2.MemoryDropError = "Memory DROP operation failed", O2.MemoryClearError = "Memory CLEAR operation failed", O2.MemoryHasError = "Memory HAS operation failed", O2.MemorySerializeError = "Memory toJSON operation failed";
var d = O2;
var Mr;
var Gr;
var $r;
var Ur;
var zr;
var Fr;
var Br;
var Yr;
var Vr;
var _a67;
var L2 = (_a67 = class extends x {
  get ready() {
    return this._ready || (this._ready = this.init()), this._ready;
  }
  async [Vr = "_A_Memory_onError"](...t) {
  }
  async [Yr = "_A_Memory_onExpire"](...t) {
  }
  async [Br = "_A_Memory_onInit"](t, ...e) {
    t || (t = new R2(), _.scope(this).register(t));
  }
  async [Fr = "_A_Memory_onDestroy"](t, ...e) {
    t.clear();
  }
  async [zr = "_A_Memory_onGet"](t, e, ...r) {
    t.succeed(e.get(t.params.key));
  }
  async [Ur = "_A_Memory_onHas"](t, e, ...r) {
    t.succeed(e.has(t.params.key));
  }
  async [$r = "_A_Memory_onSet"](t, e, r, ...o2) {
    console.log("A_Memory onSet called with key:", r.name), console.log("A_Memory onSet called with key:", r.parent?.name), e.set(t.params.key, t.params.value);
  }
  async [Gr = "_A_Memory_onDrop"](t, e, ...r) {
    e.delete(t.params.key);
  }
  async [Mr = "_A_Memory_onClear"](t, e, ...r) {
    e.clear();
  }
  async init() {
    if (this._ready) return this._ready;
    let t = new R({ name: "A-Memory-Init-Scope" }).inherit(_.scope(this));
    try {
      await this.call("_A_Memory_onInit", t);
    } catch (e) {
      let r = new d({ title: d.MemoryInitializationError, description: "An error occurred during memory initialization", originalError: e });
      throw t.register(r), await this.call("_A_Memory_onError", t), t.destroy(), r;
    }
  }
  async destroy() {
    let t = new R({ name: "A-Memory-Destroy-Scope" }).inherit(_.scope(this));
    try {
      this._ready = void 0, await this.call("_A_Memory_onDestroy", t);
    } catch (e) {
      let r = new d({ title: d.MemoryDestructionError, description: "An error occurred during memory destruction", originalError: e });
      throw t.register(r), await this.call("_A_Memory_onError", t), t.destroy(), r;
    }
  }
  async get(t) {
    let e = new _2("get", { key: t }), r = new R({ name: "A-Memory-Get-Operation-Scope", fragments: [e] }).inherit(_.scope(this));
    try {
      return await this.call("_A_Memory_onGet", r), r.destroy(), e.result;
    } catch (o2) {
      let n = new d({ title: d.MemoryGetError, description: `An error occurred while getting the value for key "${String(t)}"`, originalError: o2 });
      throw r.register(n), await this.call("_A_Memory_onError", r), r.destroy(), n;
    }
  }
  async has(t) {
    let e = new _2("has", { key: t }), r = new R({ name: "A-Memory-Has-Operation-Scope", fragments: [e] }).inherit(_.scope(this));
    try {
      return await this.call("_A_Memory_onHas", r), r.destroy(), e.result;
    } catch (o2) {
      let n = new d({ title: d.MemoryHasError, description: `An error occurred while checking existence for key "${String(t)}"`, originalError: o2 });
      throw r.register(n), await this.call("_A_Memory_onError", r), r.destroy(), n;
    }
  }
  async set(t, e) {
    let r = new _2("set", { key: t, value: e }), o2 = new R({ name: "A-Memory-Set-Operation-Scope", fragments: [r] }).inherit(_.scope(this));
    try {
      await this.call("_A_Memory_onSet", o2);
    } catch (n) {
      let s = new d({ title: d.MemorySetError, description: `An error occurred while setting the value for key "${String(t)}"`, originalError: n });
      throw o2.register(s), await this.call("_A_Memory_onError", o2), o2.destroy(), s;
    }
  }
  async drop(t) {
    let e = new _2("drop", { key: t }), r = new R({ name: "A-Memory-Drop-Operation-Scope", fragments: [e] }).inherit(_.scope(this));
    try {
      await this.call("_A_Memory_onDrop", r);
    } catch (o2) {
      let n = new d({ title: d.MemoryDropError, description: `An error occurred while dropping the value for key "${String(t)}"`, originalError: o2 });
      throw r.register(n), await this.call("_A_Memory_onError", r), r.destroy(), n;
    }
  }
  async clear() {
    let t = new _2("clear"), e = new R({ name: "A-Memory-Clear-Operation-Scope", fragments: [t] }).inherit(_.scope(this));
    try {
      await this.call("_A_Memory_onClear", e);
    } catch (r) {
      let o2 = new d({ title: d.MemoryClearError, description: "An error occurred while clearing the memory", originalError: r });
      throw e.register(o2), await this.call("_A_Memory_onError", e), e.destroy(), o2;
    }
  }
  async toJSON() {
    let t = new _2("serialize"), e = new R({ name: "A-Memory-Serialize-Operation-Scope", fragments: [t] }).inherit(_.scope(this));
    try {
      return await this.call("_A_Memory_onSerialize", e), t.result;
    } catch (r) {
      let o2 = new d({ title: d.MemorySerializeError, description: "An error occurred while serializing the memory", originalError: r });
      throw e.register(o2), await this.call("_A_Memory_onError", e), e.destroy(), o2;
    }
  }
}, __name(_a67, "L"), _a67);
i(L2, "A_Memory"), a2([Y.Extend()], L2.prototype, Vr, 1), a2([Y.Extend()], L2.prototype, Yr, 1), a2([Y.Extend(), p2(0, ot(R2))], L2.prototype, Br, 1), a2([Y.Extend(), p2(0, ot(R2))], L2.prototype, Fr, 1), a2([Y.Extend(), p2(0, Le.Required()), p2(0, ot(_2)), p2(1, ot(R2))], L2.prototype, zr, 1), a2([Y.Extend(), p2(0, Le.Required()), p2(0, ot(_2)), p2(1, ot(R2))], L2.prototype, Ur, 1), a2([Y.Extend(), p2(0, Le.Required()), p2(0, ot(_2)), p2(1, ot(R2)), p2(2, ot(R))], L2.prototype, $r, 1), a2([Y.Extend(), p2(0, Le.Required()), p2(0, ot(_2)), p2(1, ot(R2))], L2.prototype, Gr, 1), a2([Y.Extend(), p2(0, Le.Required()), p2(0, ot(_2)), p2(1, ot(R2))], L2.prototype, Mr, 1);
var qr = ((l2) => (l2.onBeforeLoad = "_A_Service_onBeforeLoad", l2.onLoad = "_A_Service_onLoad", l2.onAfterLoad = "_A_Service_onAfterLoad", l2.onBeforeStart = "_A_Service_onBeforeStart", l2.onStart = "_A_Service_onStart", l2.onAfterStart = "_A_Service_onAfterStart", l2.onBeforeStop = "_A_Service_onBeforeStop", l2.onStop = "_A_Service_onStop", l2.onAfterStop = "_A_Service_onAfterStop", l2.onError = "_A_Service_onError", l2))(qr || {});
var _a68;
var Q2 = (_a68 = class extends A {
}, __name(_a68, "Q"), _a68);
i(Q2, "A_Service_Error"), Q2.ServiceLoadError = "Service load error", Q2.ServiceStartError = "Service start error", Q2.ServiceStopError = "Service stop error";
var y2 = Q2;
var Kr;
var Xr;
var Jr;
var Wr;
var Zr;
var Qr;
var eo;
var to;
var ro;
var oo;
var _a69;
var h = (_a69 = class extends U {
  async load() {
    try {
      await this.call("_A_Service_onBeforeLoad"), await this.call("_A_Service_onLoad"), await this.call("_A_Service_onAfterLoad");
    } catch (t) {
      let e;
      switch (true) {
        case t instanceof y2:
          e = t;
          break;
        case (t instanceof A && t.originalError instanceof y2):
          e = t.originalError;
          break;
        default:
          e = new y2({ title: y2.ServiceLoadError, description: "An error occurred while processing the request.", originalError: t });
          break;
      }
      this.scope.register(e), await this.call("_A_Service_onError");
    }
  }
  async start() {
    try {
      await this.call("_A_Service_onBeforeStart"), await this.call("_A_Service_onStart"), await this.call("_A_Service_onAfterStart");
    } catch (t) {
      let e;
      switch (true) {
        case t instanceof y2:
          e = t;
          break;
        case (t instanceof A && t.originalError instanceof y2):
          e = t.originalError;
          break;
        default:
          e = new y2({ title: y2.ServiceStartError, description: "An error occurred while processing the request.", originalError: t });
          break;
      }
      this.scope.register(e), await this.call("_A_Service_onError");
    }
  }
  async stop() {
    try {
      await this.call("_A_Service_onBeforeStop"), await this.call("_A_Service_onStop"), await this.call("_A_Service_onAfterStop");
    } catch (t) {
      let e;
      switch (true) {
        case t instanceof y2:
          e = t;
          break;
        case (t instanceof A && t.originalError instanceof y2):
          e = t.originalError;
          break;
        default:
          e = new y2({ title: y2.ServiceStopError, description: "An error occurred while processing the request.", originalError: t });
          break;
      }
      this.scope.register(e), await this.call("_A_Service_onError");
    }
  }
  async [oo = "_A_Service_onBeforeLoad"](t, ...e) {
    t || (this.scope.register(m), t = this.scope.resolve(m));
  }
  async [ro = "_A_Service_onLoad"](...t) {
  }
  async [to = "_A_Service_onAfterLoad"](...t) {
  }
  async [eo = "_A_Service_onBeforeStart"](...t) {
  }
  async [Qr = "_A_Service_onStart"](...t) {
  }
  async [Zr = "_A_Service_onAfterStart"](...t) {
  }
  async [Wr = "_A_Service_onBeforeStop"](...t) {
  }
  async [Jr = "_A_Service_onStop"](...t) {
  }
  async [Xr = "_A_Service_onAfterStop"](...t) {
  }
  async [Kr = "_A_Service_onError"](t, e, ...r) {
    e?.error(t);
  }
}, __name(_a69, "h"), _a69);
i(h, "A_Service"), a2([Ne.Load()], h.prototype, "load", 1), a2([Ne.Start()], h.prototype, "start", 1), a2([Ne.Stop()], h.prototype, "stop", 1), a2([Y.Extend(), p2(0, ot(m))], h.prototype, oo, 1), a2([Y.Extend()], h.prototype, ro, 1), a2([Y.Extend()], h.prototype, to, 1), a2([Y.Extend()], h.prototype, eo, 1), a2([Y.Extend()], h.prototype, Qr, 1), a2([Y.Extend()], h.prototype, Zr, 1), a2([Y.Extend()], h.prototype, Wr, 1), a2([Y.Extend()], h.prototype, Jr, 1), a2([Y.Extend()], h.prototype, Xr, 1), a2([Y.Extend({ before: /.*/ }), p2(0, ot(A)), p2(1, ot(T2))], h.prototype, Kr, 1);
var et2 = h;
var _a70;
var tt2 = (_a70 = class {
  constructor() {
    this.promise = new Promise((t, e) => {
      this.resolveFn = t, this.rejectFn = e;
    });
  }
  resolve(t) {
    this.resolveFn(t);
  }
  reject(t) {
    this.rejectFn(t);
  }
}, __name(_a70, "tt"), _a70);
i(tt2, "A_Deferred");
var ce2 = tt2;
var _a71;
var rt2 = (_a71 = class {
  constructor(t, e, r) {
    this.config = { resolveOnClear: false };
    r && (this.config = { ...this.config, ...r }), this.deferred = new ce2(), this.timeout = setTimeout(() => e().then((...o2) => this.deferred.resolve(...o2)).catch((...o2) => this.deferred.reject(...o2)), t);
  }
  get promise() {
    return this.deferred.promise;
  }
  clear() {
    this.timeout && (clearTimeout(this.timeout), this.config.resolveOnClear ? this.deferred.resolve(void 0) : this.deferred.reject(new A("Timeout Cleared")));
  }
}, __name(_a71, "rt"), _a71);
i(rt2, "A_ScheduleObject");
var ee = rt2;
var _a72;
var it = (_a72 = class extends x {
  async schedule(t, e, r) {
    let o2 = o.isString(t) ? new Date(t).getTime() : t;
    return new ee(o2 - Date.now(), e, r);
  }
  async delay(t, e, r) {
    return new ee(t, e, r);
  }
}, __name(_a72, "it"), _a72);
i(it, "A_Schedule");

// src/components/AreComponent/Are.component.ts
var _Are = class _Are extends x {
  //==================================================================================
  //======================== LIFECYCLE DECORATORS ====================================
  //==================================================================================
  static get EventHandler() {
    return (target, propertyKey, descriptor) => {
      return Y.Extend({
        name: propertyKey,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeLoad() {
    return (target, propertyKey, descriptor) => {
      return Y.Extend({
        name: "_Are_onBeforeLoad" /* onBeforeLoad */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterLoad() {
    return (target, propertyKey, descriptor) => {
      return Y.Extend({
        name: "_Are_onAfterLoad" /* onAfterLoad */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeMount() {
    return (target, propertyKey, descriptor) => {
      return Y.Extend({
        name: "_Are_onBeforeMount" /* onBeforeMount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterMount() {
    return (target, propertyKey, descriptor) => {
      return Y.Extend({
        name: "_Are_onAfterMount" /* onAfterMount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeUnmount() {
    return (target, propertyKey, descriptor) => {
      return Y.Extend({
        name: "_Are_onBeforeUnmount" /* onBeforeUnmount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterUnmount() {
    return (target, propertyKey, descriptor) => {
      return Y.Extend({
        name: "_Are_onAfterUnmount" /* onAfterUnmount */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onBeforeUpdate() {
    return (target, propertyKey, descriptor) => {
      return Y.Extend({
        name: "_Are_onBeforeUpdate" /* onBeforeUpdate */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  static get onAfterUpdate() {
    return (target, propertyKey, descriptor) => {
      return Y.Extend({
        name: "_Are_onAfterUpdate" /* onAfterUpdate */,
        scope: [target.constructor]
      })(target, propertyKey, descriptor);
    };
  }
  // ==================================================================================
  // ========================= COMPONENT METHODS =======================================
  // ==================================================================================
  /**
   * Returns the template string for the component
   * 
   * Could be overridden to provide dynamic templates based on component state
   * 
   * @returns 
   */
  async template() {
    return ``;
  }
  /**
   * Returns the styles string for the component
   *  
   * Could be overridden to provide dynamic styles based on component state
   * 
   * @returns 
   */
  async styles() {
    return ``;
  }
  /**
   * Returns the data object for the component
   * 
   * Uses as the initial state of the component
   * 
   * @returns 
   */
  async data() {
    return {};
  }
};
__name(_Are, "Are");
var Are = _Are;

// examples/jumpstart/src/components/SignInComponent.component.ts
var _SignInComponent = class _SignInComponent extends Are {
  async data() {
    return {
      btnName: "Sign In"
    };
  }
  async styles() {
    return `
        .card {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            max-width: 300px;
            margin: 0 auto;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position:absolute;
            top:50%;
            left:50%;
            transform: translate(-50%, -50%);
        }
            `;
  }
  async template() {
    return `
              <div class="card">
                <h2>Sign In</h2>
                <input type="email" id="email" placeholder="Email" />
                <input type="password" id="password" placeholder="Password" />
                <a-btn @click="signIn" :name="btnName" :style="{ color: 'red' }"></a-btn>
              </div>
            `;
  }
  // @A_Feature.Extend({
  //     scope: [SignInComponent]
  // })
  // async A_UI_NODE_onBeforeLoad(
  //     @A_Inject(AreNode) node: AreNode,
  //     @A_Inject(A_Scope) scope: A_Scope,
  //     @A_Inject(A_UI_NodeStore) store: A_UI_NodeStore,
  //     @A_Inject(A_Logger) logger: A_Logger,
  // ): Promise<void> {
  //     logger.log('green', `SignInComponent is initializing... : <${node.aseid.entity}> : `, node.aseid.toString());
  //     store.data.set('btnName', 'Custom Sign In Button');
  // }
  // private addListeners(): void {
  //     const btn = document.getElementById("signInBtn") as HTMLButtonElement;
  //     btn.addEventListener("click", () => this.signIn());
  // }
  // private async signIn(): Promise<void> {
  //     const email = (document.getElementById("email") as HTMLInputElement).value;
  //     const password = (document.getElementById("password") as HTMLInputElement).value;
  //     const signInCommand = new SignInCommand({
  //         username: email,
  //         password
  //     });
  //     A_Context.scope(this).register(signInCommand);
  //     await signInCommand.execute();
  //     console.log("SignIn Command Result:", signInCommand.toJSON());
  // }
  // @A_Feature.Extend({
  //     name: A_CommandFeatures.onComplete,
  //     scope: {
  //         include: [SignInCommand]
  //     }
  // })
  // async handleSuccessSignIn(
  //     @A_Inject(A_Memory) memory: A_Memory<{ token: SerializedToken }>,
  //     @A_Inject(A_Caller) command: SignInCommand,
  // ) {
  //     console.log("Sign-in completed with result:", command.result);
  //     alert(command.result)
  //     const resultToken = await memory.get('token')
  //     const token = new Token(resultToken);
  //     memory.set('token', token as any);
  // }
};
__name(_SignInComponent, "SignInComponent");
var SignInComponent = _SignInComponent;

// src/context/AreEvent/AreEvent.context.ts
var _AreEvent = class _AreEvent extends K {
  constructor(eventName, props) {
    super({ name: eventName });
    this._props = props;
  }
  get data() {
    return this._props.data;
  }
  get event() {
    return this._props.event;
  }
};
__name(_AreEvent, "AreEvent");
var AreEvent = _AreEvent;

// src/context/AreStore/AreStore.context.ts
var _AreStore = class _AreStore extends v {
  constructor(aseid) {
    super(aseid.toString());
  }
  setMultiple(values) {
    Object.entries(values).forEach(([key, value]) => {
      this.set(key, value);
    });
  }
};
__name(_AreStore, "AreStore");
var AreStore = _AreStore;

// src/entities/AreNode/AreNode.entity.ts
var _AreNode = class _AreNode extends M {
  get scope() {
    if (!this._scope) {
      this._scope = new R({
        name: `${this.aseid.id}`
      });
    }
    return this._scope;
  }
  fromNew(newEntity) {
    this.aseid = new C({
      id: $.generateTimeId(),
      entity: newEntity.component,
      scope: newEntity.scope
    });
    this.template = newEntity.template || "";
    this.markup = newEntity.markup || "";
    this.styles = newEntity.styles || "";
  }
  fromASEID(aseid) {
    super.fromASEID(aseid);
    this.template = "";
    this.markup = "";
    this.styles = "";
  }
  async emit(event) {
    this.checkScopeInheritance();
    const eventScope = new R({
      name: `${event.name}-scope`,
      fragments: [event]
    }).inherit(this.scope);
    try {
      await this.call("_AreNode_onEvent" /* onEvent */, eventScope);
      eventScope.destroy();
    } catch (error) {
      eventScope.destroy();
      throw error;
    }
  }
  async compile() {
    this.checkScopeInheritance();
    try {
      await this.call("_AreNode_onCompile" /* onCompile */, this.scope);
    } catch (error) {
      throw error;
    }
  }
  async render() {
    this.checkScopeInheritance();
    try {
      await this.call("_AreNode_onRender" /* onRender */, this.scope);
    } catch (error) {
      throw error;
    }
  }
  async load() {
    return await super.load(this._scope);
  }
  async destroy(scope) {
    this.checkScopeInheritance();
    try {
      await super.destroy(scope);
      this._scope.destroy();
    } catch (error) {
      this._scope.destroy();
      throw error;
    }
  }
  //============================================================================================
  //                                Helpers Methods
  //============================================================================================
  /**
   * Method to ensure that the current scope is inherited from the context scope
   * 
   * @throws A_Error if the scope is not inherited from the context scope
   */
  checkScopeInheritance() {
    let attachedScope;
    try {
      attachedScope = _.scope(this);
    } catch (error) {
      throw new A({
        title: `A_UI_Node Scope Inheritance Error`,
        description: `The A_UI_Node entity with ASEID '${this.aseid.toString()}' is not bound to any context scope. Please ensure that the entity is created within a valid context.`,
        originalError: error
      });
    }
  }
};
__name(_AreNode, "AreNode");
var AreNode = _AreNode;

// examples/jumpstart/src/components/A-Btn.component.ts
var _ABtn = class _ABtn extends Are {
  async template() {
    return `<button class="a-btn" @click="handleClick">{{name}}</button> <a-input a-if="showInput" @click="handleclikc"></a-input>`;
  }
  async styles() {
    return `
            .a-btn {
                padding: 10px 20px;
                background-color: #ff5733!important;
                color: white;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                font-size: 16px;
            }
        `;
  }
  async data() {
    return {
      name: "A_Button Element"
    };
  }
  async onLoad(node, store, logger) {
    logger.debug("red", `Before ABtn Component Load ... : <${node.aseid.entity}> : ${node.aseid.toString()}`);
  }
  async onAfterLoad(node, store, logger) {
    logger.debug("red", `After ABtn Component Load ... : <${node.aseid.entity}> : ${node.aseid.toString()}`);
  }
  async handleClick(scope, node, store, logger, event) {
    logger.log("red", "Button clicked!", scope, node, store, event);
    alert(`Button ${store.get("name")} clicked!`);
  }
};
__name(_ABtn, "ABtn");
__decorateClass([
  Are.onBeforeLoad,
  __decorateParam(0, ot(AreNode)),
  __decorateParam(1, ot(AreStore)),
  __decorateParam(2, ot(T2))
], _ABtn.prototype, "onLoad", 1);
__decorateClass([
  Are.onAfterLoad,
  __decorateParam(0, ot(AreNode)),
  __decorateParam(1, ot(AreStore)),
  __decorateParam(2, ot(T2))
], _ABtn.prototype, "onAfterLoad", 1);
__decorateClass([
  Are.EventHandler,
  __decorateParam(0, ot(R)),
  __decorateParam(1, ot(AreNode)),
  __decorateParam(2, ot(AreStore)),
  __decorateParam(3, ot(T2)),
  __decorateParam(4, ot(AreEvent))
], _ABtn.prototype, "handleClick", 1);
var ABtn = _ABtn;

// examples/jumpstart/src/components/A-Input.component.ts
var _AInput = class _AInput extends Are {
  async template() {
    return `<input type="text" placeholder="A_Input Element"/>`;
  }
  async A_UI_NODE_onBeforeLoad(node, scope, store, logger) {
    logger.log("green", `AInput is initializing... : <${node.aseid.entity}> : `, node.aseid.toString());
  }
};
__name(_AInput, "AInput");
__decorateClass([
  Are.EventHandler,
  __decorateParam(0, ot(AreNode)),
  __decorateParam(1, ot(R)),
  __decorateParam(2, ot(AreStore)),
  __decorateParam(3, ot(T2))
], _AInput.prototype, "A_UI_NODE_onBeforeLoad", 1);
var AInput = _AInput;

// src/context/AreIndex/AreIndex.context.ts
var _AreIndex = class _AreIndex extends K {
  constructor(aseid) {
    super({
      name: aseid instanceof C ? aseid.toString() : aseid
    });
    /**
     * Platform-agnostic element index
     * Element can be DOM Element, PDF element, DOCX element, etc.
     * The actual type depends on the compiler being used
     */
    this._index = {
      ASEID_to_Element: /* @__PURE__ */ new Map(),
      Element_to_ASEID: /* @__PURE__ */ new Map(),
      Node_to_Element: /* @__PURE__ */ new Map(),
      Element_to_Node: /* @__PURE__ */ new Map()
    };
  }
  get scope() {
    return _.scope(this);
  }
  get parent() {
    return _.scope(this).parent?.resolve(_AreIndex);
  }
  get size() {
    return this._index.ASEID_to_Element.size;
  }
  get depth() {
    let depth = 0;
    let currentScope = this.scope;
    while (currentScope) {
      depth++;
      currentScope = currentScope.parent;
    }
    return depth;
  }
  /**
   * Adds a platform-agnostic element to the index
   * @param node - AreNode to index
   * @param element - Platform-specific element (DOM, PDF, DOCX, etc.)
   */
  add(node, element) {
    this._index.ASEID_to_Element.set(node.aseid.toString(), element);
    this._index.Element_to_ASEID.set(element, node.aseid.toString());
    this._index.Node_to_Element.set(node, element);
    this._index.Element_to_Node.set(element, node);
  }
  /**
   * Retrieves platform-specific element by AreNode
   * @param node - AreNode to look up
   * @returns Platform-specific element or undefined
   */
  getByNode(node) {
    return this._index.Node_to_Element.get(node);
  }
  /**
   * Retrieves AreNode by platform-specific element
   * @param element - Platform-specific element to look up
   * @returns AreNode or undefined
   */
  getByElement(element) {
    return this._index.Element_to_Node.get(element);
  }
  /**
   * Removes index entry by AreNode
   * @param node - AreNode to remove from index
   */
  removeByNode(node) {
    const element = this._index.Node_to_Element.get(node);
    if (element) {
      this._index.ASEID_to_Element.delete(node.aseid.toString());
      this._index.Element_to_ASEID.delete(element);
      this._index.Node_to_Element.delete(node);
      this._index.Element_to_Node.delete(element);
    }
  }
  /**
   * Removes index entry by platform-specific element
   * @param element - Platform-specific element to remove from index
   */
  removeByElement(element) {
    const aseid = this._index.Element_to_ASEID.get(element);
    if (aseid) {
      const node = this._index.Element_to_Node.get(element);
      if (node) {
        this._index.ASEID_to_Element.delete(aseid);
        this._index.Element_to_ASEID.delete(element);
        this._index.Node_to_Element.delete(node);
        this._index.Element_to_Node.delete(element);
      }
    }
  }
  clear() {
    this._index.ASEID_to_Element.clear();
    this._index.Element_to_ASEID.clear();
    this._index.Node_to_Element.clear();
    this._index.Element_to_Node.clear();
  }
};
__name(_AreIndex, "AreIndex");
var AreIndex = _AreIndex;

// src/context/AreScene/AreScene.context.ts
var _AreScene = class _AreScene extends K {
  constructor(name, template) {
    super({ name: name || "are-app" });
  }
  get scope() {
    return _.scope(this);
  }
  get index() {
    return _.scope(this).resolve(AreIndex);
  }
  get parent() {
    return _.scope(this).parent?.resolve(_AreScene);
  }
  get template() {
    return "";
  }
  get mountPoint() {
    return document.getElementById(this.name);
  }
  set template(value) {
    return;
  }
  get depth() {
    let depth = 0;
    let currentScope = this.scope;
    while (currentScope) {
      if (currentScope.parent && currentScope.parent.resolve(_AreScene)) {
        depth++;
      }
      currentScope = currentScope.parent;
    }
    return depth;
  }
  [Symbol.iterator]() {
    return {
      next: /* @__PURE__ */ __name(() => {
        return {
          done: true,
          value: null
        };
      }, "next")
    };
  }
  attach(node) {
    this.scope.register(node);
    node.scope.inherit(this.scope);
  }
  async mount(node) {
  }
  async update(node) {
  }
  async unmount(node) {
  }
  async addListener(event, handler, owner, node) {
  }
  async render() {
  }
  async parentOf(node) {
    return null;
  }
  async childrenOf(node) {
    const children = [];
    return children;
  }
  async clear() {
    this.index.clear();
  }
  async reset(template) {
    this.index.clear();
  }
  async addStyles(node, styles) {
  }
};
__name(_AreScene, "AreScene");
var AreScene = _AreScene;

// src/context/AreProps/AreProps.context.ts
var _AreProps = class _AreProps extends v {
  constructor(aseid) {
    super(aseid.toString());
  }
  setMultiple(values) {
    Object.entries(values).forEach(([key, value]) => {
      this.set(key, value);
    });
  }
};
__name(_AreProps, "AreProps");
var AreProps = _AreProps;

// src/components/AreCompiler/AreCompiler.component.ts
var _AreCompiler = class _AreCompiler extends x {
  /**
   * Determines if a tag is a custom component or standard HTML
   * 
   * @param node 
   * @returns 
   */
  isCustomComponent(node) {
    return node.aseid.entity.toLowerCase().startsWith("a-");
  }
  debugLogger(scene, message) {
    _.scope(this).resolve(T2)?.debug(
      "magenta",
      `${" - ".repeat(scene.depth)} ${message}`
    );
  }
  async beforeLoad(node, scope, scene, ...args) {
    this.debugLogger(scene, `[Load -> Before] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(g.toPascalCase(node.aseid.entity));
    component?.call("_Are_onBeforeLoad" /* onBeforeLoad */, node.scope);
  }
  async afterLoad(node, scope, scene, ...args) {
    this.debugLogger(scene, `[Load -> After] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(g.toPascalCase(node.aseid.entity));
    component?.call("_Are_onAfterLoad" /* onAfterLoad */, node.scope);
  }
  async load(node, scene, scope, ...args) {
    node.scope.register(new AreIndex(node.aseid));
    node.scope.register(new AreStore(node.aseid));
    node.scope.register(new AreProps(node.aseid));
    const component = scope.resolve(g.toPascalCase(node.aseid.entity));
    if (!component) {
      scope.resolve(T2)?.warning(
        "Component Not Found",
        `No component registered for entity: ${node.aseid.entity}. Please ensure that the component is registered in the scope before rendering.`
      );
      return;
    }
    const data = await component.data();
    const template = await component.template();
    const styles = await component.styles();
    node.template = template;
    node.styles = styles;
    const store = scope.resolve(AreStore);
    store.setMultiple(data);
    this.debugLogger(scene, `Loaded component <${node.aseid.entity}> with ${this.constructor.name}`);
  }
  async beforeCompile(node, scope, scene, ...args) {
    this.debugLogger(scene, `[Compile -> Before] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(g.toPascalCase(node.aseid.entity));
    component?.call("_Are_onBeforeCompile" /* onBeforeCompile */, node.scope);
  }
  async afterCompile(node, scope, scene, ...args) {
    this.debugLogger(scene, `[Compile -> After] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(g.toPascalCase(node.aseid.entity));
    component?.call("_Are_onAfterCompile" /* onAfterCompile */, node.scope);
  }
  async compile(node, ...args) {
  }
  async beforeRender(node, scope, scene, ...args) {
    this.debugLogger(scene, `[Render -> Before] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(g.toPascalCase(node.aseid.entity));
    component?.call("_Are_onBeforeRender" /* onBeforeRender */, node.scope);
  }
  async afterRender(node, scope, scene, ...args) {
    this.debugLogger(scene, `[Render -> After] Component Trigger for <${node.aseid.entity}>  with aseid :{${node.aseid.toString()}}`);
    const component = scope.resolve(g.toPascalCase(node.aseid.entity));
    component?.call("_Are_onAfterRender" /* onAfterRender */, node.scope);
  }
  async render(node, scene, parentScene, ...args) {
    this.debugLogger(scene, `Rendering node <${node.aseid.entity}> into ${scene.name}`);
    for (const newNode of scene) {
      switch (true) {
        case this.isCustomComponent(newNode): {
          scene.attach(newNode);
          await newNode.load();
          await newNode.compile();
          await newNode.render();
          await scene.mount(newNode);
          break;
        }
        default: {
          break;
        }
      }
    }
    this.debugLogger(scene, `Node <${node.aseid.entity}> rendered successfully.`);
  }
  async update() {
  }
  async destroy() {
  }
};
__name(_AreCompiler, "AreCompiler");
__decorateClass([
  Y.Extend({
    name: We.LOAD,
    before: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, ot(B)),
  __decorateParam(1, ot(R)),
  __decorateParam(2, ot(AreScene))
], _AreCompiler.prototype, "beforeLoad", 1);
__decorateClass([
  Y.Extend({
    name: We.LOAD,
    after: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, ot(B)),
  __decorateParam(1, ot(R)),
  __decorateParam(2, ot(AreScene))
], _AreCompiler.prototype, "afterLoad", 1);
__decorateClass([
  Y.Extend({
    name: We.LOAD,
    scope: [AreNode]
  }),
  __decorateParam(0, ot(B)),
  __decorateParam(1, ot(AreScene)),
  __decorateParam(2, ot(R))
], _AreCompiler.prototype, "load", 1);
__decorateClass([
  Y.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    before: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, ot(B)),
  __decorateParam(1, ot(R)),
  __decorateParam(2, ot(AreScene))
], _AreCompiler.prototype, "beforeCompile", 1);
__decorateClass([
  Y.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    after: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, ot(B)),
  __decorateParam(1, ot(R)),
  __decorateParam(2, ot(AreScene))
], _AreCompiler.prototype, "afterCompile", 1);
__decorateClass([
  Y.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    scope: [AreNode]
  }),
  __decorateParam(0, ot(B))
], _AreCompiler.prototype, "compile", 1);
__decorateClass([
  Y.Extend({
    name: "_AreNode_onRender" /* onRender */,
    before: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, ot(B)),
  __decorateParam(1, ot(R)),
  __decorateParam(2, ot(AreScene))
], _AreCompiler.prototype, "beforeRender", 1);
__decorateClass([
  Y.Extend({
    name: "_AreNode_onRender" /* onRender */,
    after: /.*/,
    scope: [AreNode]
  }),
  __decorateParam(0, ot(B)),
  __decorateParam(1, ot(R)),
  __decorateParam(2, ot(AreScene))
], _AreCompiler.prototype, "afterRender", 1);
__decorateClass([
  Y.Extend({
    name: "_AreNode_onRender" /* onRender */,
    scope: [AreNode]
  }),
  __decorateParam(0, ot(B)),
  __decorateParam(1, ot(AreScene)),
  __decorateParam(2, Le.Required()),
  __decorateParam(2, ot(AreScene))
], _AreCompiler.prototype, "render", 1);
__decorateClass([
  Y.Extend({
    name: "_AreNode_onUpdate" /* onUpdate */,
    scope: [AreNode]
  })
], _AreCompiler.prototype, "update", 1);
__decorateClass([
  Y.Extend({
    name: We.DESTROY,
    scope: [AreNode]
  })
], _AreCompiler.prototype, "destroy", 1);
var AreCompiler = _AreCompiler;

// src/containers/AreApp/AreApp.container.ts
var _a73, _b;
var _AreApp = class _AreApp extends et2 {
  get root() {
    return this.scope.resolve(AreScene);
  }
  async [_b = qr.onAfterLoad](logger) {
    logger.info("cyan", `UI Application mounted at <${this.root.name}>`);
  }
  async [_a73 = qr.onStart](logger, scene, compiler, config) {
    for (const node of scene) {
      if (!compiler.isCustomComponent(node))
        continue;
      scene.attach(node);
      await node.load();
      await node.compile();
      await node.render();
      await this.root.mount(node);
      await this.root.render();
    }
  }
};
__name(_AreApp, "AreApp");
__decorateClass([
  Y.Extend(),
  __decorateParam(0, ot(T2))
], _AreApp.prototype, _b, 1);
__decorateClass([
  Y.Extend(),
  __decorateParam(0, Le.Required()),
  __decorateParam(0, ot(T2)),
  __decorateParam(1, Le.Required()),
  __decorateParam(1, ot(AreScene)),
  __decorateParam(2, ot(AreCompiler)),
  __decorateParam(3, ot(g2))
], _AreApp.prototype, _a73, 1);
var AreApp = _AreApp;

// src/context/AreScene/AreScene.error.ts
var _AreSceneError = class _AreSceneError extends A {
};
__name(_AreSceneError, "AreSceneError");
_AreSceneError.SceneError = "AreSceneError.SceneError";
_AreSceneError.RootNotFound = "AreSceneError.RootNotFound";
_AreSceneError.UpdateFailed = "AreSceneError.UpdateFailed";
_AreSceneError.MountFailed = "AreSceneError.MountFailed";
_AreSceneError.UnmountFailed = "AreSceneError.UnmountFailed";
_AreSceneError.MountPointNotFound = "AreSceneError.MountPointNotFound";
_AreSceneError.InvalidTemplate = "AreSceneError.InvalidTemplate";
_AreSceneError.RenderFailed = "AreSceneError.RenderFailed";
var AreSceneError = _AreSceneError;

// src/context/AreBrowserDom/AreBrowserDom.context.ts
var _AreBrowserDom = class _AreBrowserDom extends AreScene {
  constructor(name, template) {
    super(name);
    this._virtual = new DOMParser().parseFromString(template || this.mountPoint?.innerHTML || `<${this.name}></${this.name}>`, "text/html");
  }
  get template() {
    return this._virtual.documentElement.innerHTML;
  }
  get mountPoint() {
    return document.getElementById(this.name);
  }
  set template(value) {
    const parser = new DOMParser();
    this._virtual = parser.parseFromString(value, "text/html");
  }
  [Symbol.iterator]() {
    const walker = document.createTreeWalker(this._virtual.body, NodeFilter.SHOW_ELEMENT);
    let current = walker.nextNode();
    return {
      next: /* @__PURE__ */ __name(() => {
        if (!current) return {
          done: true,
          value: null
        };
        let node = this.index.getByElement(current) || new AreNode({
          scope: this.name,
          component: current.tagName.toLowerCase(),
          markup: current.outerHTML
        });
        this.index.add(node, current);
        const result = {
          done: false,
          value: node
        };
        current = walker.nextNode();
        return result;
      }, "next")
    };
  }
  async mount(node) {
    const element = this.index.getByNode(node);
    if (element) {
      const wrapper = this._virtual.createElement("div");
      wrapper.setAttribute("aseid", node.aseid.toString());
      const nodeContent = node.scope.resolve(_AreBrowserDom);
      if (!nodeContent) {
        throw new AreSceneError(
          AreSceneError.MountFailed,
          `Scene for node with ASEID '${node.aseid.toString()}' not found in the scope '${node.scope.name}'.`
        );
      }
      wrapper.replaceChildren(...Array.from(nodeContent._virtual.body.childNodes));
      element.replaceWith(wrapper);
      const styleElements = nodeContent._virtual.querySelectorAll('style[id^="a-style-"]');
      styleElements.forEach((styleEl) => {
        const existingStyleEl = this._virtual.getElementById(styleEl.id);
        if (!existingStyleEl)
          this._virtual.head.appendChild(styleEl.cloneNode(true));
      });
    } else {
      throw new AreSceneError(
        AreSceneError.MountFailed,
        `Placement for node with ASEID '${node.aseid.toString()}' not found in the scene.`
      );
    }
  }
  async update(node) {
    const element = this.index.getByNode(node);
    if (element) {
      const wrapper = this._virtual.createElement("div");
      wrapper.setAttribute("aseid", node.aseid.toString());
      const scene = node.scope.resolve(_AreBrowserDom);
      if (!scene) {
        throw new AreSceneError(
          AreSceneError.UpdateFailed,
          `Scene for node with ASEID '${node.aseid.toString()}' not found in the scope '${node.scope.name}'.`
        );
      }
      wrapper.innerHTML = scene.template;
      element.replaceWith(wrapper);
    } else {
      throw new AreSceneError(
        AreSceneError.UpdateFailed,
        `Placement for node with ASEID '${node.aseid.toString()}' not found in the scene.`
      );
    }
  }
  async unmount(node) {
    this.scope.deregister(node);
    await node.destroy();
    const element = this.index.getByNode(node);
    if (element) {
      element.remove();
    }
    this.index.removeByNode(node);
  }
  async addListener(event, handler, owner, node) {
    const element = this.index.getByNode(node);
    console.log("Adding listener", { event, handler, owner, node, element });
    if (element) {
      element.addEventListener(event, async (e) => {
        const newEvent = new AreEvent(handler, {
          event,
          data: e
        });
        await owner.emit(newEvent);
      });
    }
  }
  async addStyles(node, styles) {
    if (styles.trim().length > 0) {
      const styleElementId = `a-style-${node.aseid.entity}`;
      let styleElement = this._virtual.getElementById(styleElementId);
      if (!styleElement) {
        styleElement = this._virtual.createElement("style");
        styleElement.id = styleElementId;
        this._virtual.head.appendChild(styleElement);
      }
      styleElement.innerHTML = styles;
    }
  }
  async render() {
    const newEl = this._virtual.body.firstElementChild;
    if (this.mountPoint && newEl) {
      for (const attr of Array.from(newEl.attributes)) {
        this.mountPoint.setAttribute(attr.name, attr.value);
      }
      this.mountPoint.replaceChildren(...Array.from(newEl.childNodes));
      const existingStyleElements = this.mountPoint.querySelectorAll('style[id^="a-style-"]');
      existingStyleElements.forEach((el) => el.remove());
      const styleElements = this._virtual.querySelectorAll('style[id^="a-style-"]');
      styleElements.forEach((styleEl) => {
        const existingStyleEl = this.mountPoint?.ownerDocument.getElementById(styleEl.id);
        if (!existingStyleEl)
          this.mountPoint?.ownerDocument.head.appendChild(styleEl.cloneNode(true));
      });
    } else {
      throw new AreSceneError(
        AreSceneError.RenderFailed,
        `No <${this.name}> root element found in the document. Please ensure that your HTML contains an <${this.name}> element to serve as the application root.`
      );
    }
  }
  async parentOf(node) {
    const parentElement = this.index.getByNode(node)?.parentElement;
    if (parentElement) {
      const parentNode = this.index.getByElement(parentElement);
      if (parentNode) {
        return parentNode;
      }
    }
    return null;
  }
  async childrenOf(node) {
    const children = [];
    const parentElement = this.index.getByNode(node);
    if (parentElement) {
      for (const childElement of Array.from(parentElement.children)) {
        const childNode = this.index.getByElement(childElement);
        if (childNode) {
          children.push(childNode);
        } else {
          const newNode = new AreNode({
            scope: this.name,
            component: childElement.tagName.toLowerCase(),
            markup: childElement.outerHTML
          });
          this.index.add(newNode, childElement);
          children.push(newNode);
        }
      }
    }
    return children;
  }
  async clear() {
    this._virtual = new DOMParser().parseFromString("", "text/html");
    this.index.clear();
  }
  async reset(template) {
    this._virtual = new DOMParser().parseFromString(template, "text/html");
    this.index.clear();
  }
};
__name(_AreBrowserDom, "AreBrowserDom");
var AreBrowserDom = _AreBrowserDom;

// src/components/AreBrowserCompiler/AreBrowserCompiler.component.ts
var _a74;
var _AreBrowserCompiler = class _AreBrowserCompiler extends AreCompiler {
  constructor() {
    super(...arguments);
    this.STANDARD_HTML_TAGS = /* @__PURE__ */ new Set([
      "html",
      "head",
      "body",
      "div",
      "span",
      "p",
      "a",
      "ul",
      "ol",
      "li",
      "table",
      "thead",
      "tbody",
      "tr",
      "td",
      "th",
      "form",
      "input",
      "button",
      "select",
      "option",
      "textarea",
      "label",
      "img",
      "h1",
      "h2",
      "h3",
      "h4",
      "h5",
      "h6",
      "script",
      "style",
      "link",
      "meta",
      "nav",
      "footer",
      "header",
      "section",
      "article",
      "aside",
      "main",
      "canvas",
      "video",
      "audio",
      "br",
      "hr",
      "strong",
      "em",
      "small",
      "pre",
      "code",
      "iframe",
      "details",
      "summary",
      "svg",
      "path",
      "circle",
      "rect",
      "polygon",
      "g",
      "defs"
    ]);
  }
  async [_a74 = qr.onBeforeLoad](scope, root, index, config, logger) {
    logger?.debug("cyan", `Initializing AreBrowserDom in AreBrowserCompiler...`);
    const mountPoint = config?.get("ARE_MOUNT_POINT") || "are-app";
    if (!root) {
      scope.register(new AreBrowserDom(mountPoint));
    }
    if (!index) {
      scope.register(new AreIndex(mountPoint));
    }
  }
  /**
   * Determines if a tag is a custom component or standard HTML
   * 
   * @param node 
   * @returns 
   */
  isCustomComponent(node) {
    return !this.STANDARD_HTML_TAGS.has(node.aseid.entity.toLowerCase());
  }
  *extractInterpolations(template) {
    const interpolationRegex = /{{\s*([\w.]+)\s*}}/g;
    let match;
    while ((match = interpolationRegex.exec(template)) !== null) {
      yield match[1];
    }
  }
  *extractProps(template) {
    const attrRegex = /([a-zA-Z0-9:@][a-zA-Z0-9:._-]+)\s*=\s*"(.*?)"/g;
    let attrMatch;
    while ((attrMatch = attrRegex.exec(template)) !== null) {
      const raw = attrMatch[0];
      const name = attrMatch[1];
      const value = attrMatch[2];
      yield { name, raw, value };
    }
  }
  *extractEvents(template) {
    const eventRegex = /@([a-zA-Z0-9:_-]+)\s*=\s*"(.*?)"/g;
    let eventMatch;
    while ((eventMatch = eventRegex.exec(template)) !== null) {
      const raw = eventMatch[0];
      const name = eventMatch[1];
      const handler = eventMatch[2];
      yield { name, raw, handler };
    }
  }
  /**
   * Uses to Load AreNode definitions or other necessary resources
   */
  async load(node, scene, scope) {
    this.debugLogger(scene, `Loading component <${node.aseid.entity}> with ${this.constructor.name}`);
    scope.register(new AreBrowserDom(node.aseid.id));
    await super.load(node, scene, scope);
  }
  async event(node, store, scope, event) {
    const component = scope.resolve(g.toPascalCase(node.aseid.entity));
    await component?.call(event.name, scope);
  }
  async compile(node, scene, parentScene, parentStore, props, store, logger) {
    this.debugLogger(scene, `Compiling node with AreBrowserCompiler in Scene <${scene.name}>`);
    let template = node.template || "";
    let styles = node.styles || "";
    for (const prop of this.extractProps(node.markup)) {
      switch (true) {
        // 1) Prop is a string binding
        case (prop.name.startsWith(":") && prop.value.startsWith("'") && prop.value.endsWith("'")):
          props.set(prop.name.slice(1), prop.value.slice(1, -1));
          break;
        case (prop.name.startsWith(":") && !(prop.value.startsWith("'") && prop.value.endsWith("'"))):
          const dynamicValue = parentStore?.get(prop.value);
          props.set(prop.name.slice(1), dynamicValue);
          break;
        // // 2) Event listener
        // case prop.name.startsWith('@'):
        //     // Event listener
        //     const eventName = prop.name.slice(1);
        //     const handlerName = prop.value;
        //     console.log('!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!Adding listener:', eventName, '->', handlerName);
        //     await scene.addListener(eventName, handlerName, node);
        //     break;
        // 3) Standard property
        default:
          props.set(prop.name, prop.value);
          break;
      }
      logger.debug("red", `Setting property '${prop.name}' with value '${prop.value}' in component <${node.aseid.entity}>`);
    }
    for (const interpolation of this.extractInterpolations(styles)) {
      const value = store.get(interpolation);
      styles = styles.replace(new RegExp(`{{\\s*${interpolation}\\s*}}`, "g"), value !== void 0 ? String(value) : "");
    }
    await scene.reset(template);
    await scene.addStyles(node, styles);
    for (const element of scene) {
      const children = await scene.childrenOf(element);
      if (children.length > 0 || this.isCustomComponent(element))
        continue;
      for (const prop of this.extractProps(element.markup)) {
      }
      for (const interpolation of this.extractInterpolations(element.markup)) {
        const [target, property] = interpolation.split(".");
        let value;
        switch (target) {
          case "props":
            value = props.get(property);
            break;
          case "data":
            value = store.get(property);
            break;
          default:
            value = props.get(interpolation) || store.get(interpolation);
            break;
        }
        template = element.markup.replace(new RegExp(`{{\\s*${interpolation}\\s*}}`, "g"), value !== void 0 ? String(value) : "");
        template = template.replace(element.markup, template);
      }
      for (const listeners of this.extractEvents(element.markup)) {
        await scene.addListener(listeners.name, listeners.handler, node, element);
        this.debugLogger(scene, `[Compile -> ADD -> Listener] '${listeners.name}' with handler '${listeners.handler}' in component <${node.aseid.entity}> for element <${element.aseid.entity}> ASEID '${element.aseid.toString()}'`);
      }
    }
    this.debugLogger(scene, `Node <${node.aseid.entity}> compiled successfully.`);
  }
  async update() {
  }
  async destroy() {
  }
};
__name(_AreBrowserCompiler, "AreBrowserCompiler");
__decorateClass([
  Y.Extend(),
  __decorateParam(0, Le.Parent()),
  __decorateParam(0, ot(R)),
  __decorateParam(1, ot(AreBrowserDom)),
  __decorateParam(2, ot(AreIndex)),
  __decorateParam(3, ot(g2)),
  __decorateParam(4, ot(T2))
], _AreBrowserCompiler.prototype, _a74, 1);
__decorateClass([
  Y.Extend({
    name: We.LOAD,
    scope: [AreNode]
  }),
  __decorateParam(0, ot(B)),
  __decorateParam(1, ot(AreScene)),
  __decorateParam(2, ot(R))
], _AreBrowserCompiler.prototype, "load", 1);
__decorateClass([
  Y.Extend({
    name: "_AreNode_onEvent" /* onEvent */,
    scope: [AreNode]
  }),
  __decorateParam(0, ot(B)),
  __decorateParam(1, ot(AreStore)),
  __decorateParam(2, ot(R)),
  __decorateParam(3, ot(AreEvent))
], _AreBrowserCompiler.prototype, "event", 1);
__decorateClass([
  Y.Extend({
    name: "_AreNode_onCompile" /* onCompile */,
    scope: [AreNode]
  }),
  __decorateParam(0, ot(B)),
  __decorateParam(1, ot(AreScene)),
  __decorateParam(2, Le.Parent()),
  __decorateParam(2, ot(AreScene)),
  __decorateParam(3, Le.Parent()),
  __decorateParam(3, ot(AreStore)),
  __decorateParam(4, ot(AreProps)),
  __decorateParam(5, ot(AreStore)),
  __decorateParam(6, ot(T2))
], _AreBrowserCompiler.prototype, "compile", 1);
__decorateClass([
  Y.Extend({
    name: "_AreNode_onUpdate" /* onUpdate */,
    scope: [AreNode]
  })
], _AreBrowserCompiler.prototype, "update", 1);
__decorateClass([
  Y.Extend({
    name: We.DESTROY,
    scope: [AreNode]
  })
], _AreBrowserCompiler.prototype, "destroy", 1);
var AreBrowserCompiler = _AreBrowserCompiler;

// examples/jumpstart/src/concept.ts
(async () => {
  try {
    const container = new AreApp({
      name: "ARE Jumpstart",
      components: [
        // ----------------------------------
        // Allowed Entities 
        // ----------------------------------
        // ............
        // ----------------------------------
        // Allowed Commands 
        // ----------------------------------
        // ............
        // ----------------------------------
        // UI Components 
        // ----------------------------------
        SignInComponent,
        ABtn,
        AInput,
        // ----------------------------------
        // Addons 
        // ----------------------------------
        m,
        A2,
        // A_ServerProxy
        AreBrowserCompiler,
        T2
      ],
      fragments: [
        new g2({
          defaults: {
            A_UI_MOUNT_POINT: "a-root",
            [ie2.LOG_LEVEL]: "debug"
          }
        })
      ]
    });
    const concept = new Ne({
      name: "adaas-are-example-jumpstart",
      fragments: [new g2({
        variables: ["CONFIG_VERBOSE", "DEV_MODE"],
        defaults: {
          CONFIG_VERBOSE: true,
          DEV_MODE: true
        }
      })],
      components: [T2, A2, m],
      containers: [container]
    });
    await concept.load();
    await concept.start();
  } catch (error) {
    const logger = _.root.resolve(T2);
    logger.error(error);
  }
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2NvbnN0YW50cy9lbnYuY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS50eXBlcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtTWV0YS9BLU1ldGEuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5tZXRhLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5tZXRhLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9oZWxwZXJzL0FfRm9ybWF0dGVyLmhlbHBlci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvaGVscGVycy9BX0lkZW50aXR5LmhlbHBlci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRXJyb3IvQV9FcnJvci5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUVycm9yL0FfRXJyb3IuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BU0VJRC9BU0VJRC5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0FTRUlEL0FTRUlELmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1FbnRpdHkvQS1FbnRpdHkuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRW50aXR5L0EtRW50aXR5Lm1ldGEudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUZyYWdtZW50L0EtRnJhZ21lbnQuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2hlbHBlcnMvQV9Db21tb24uaGVscGVyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1TY29wZS9BLVNjb3BlLmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1TY29wZS9BLVNjb3BlLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1DYWxsZXIvQV9DYWxsZXIuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNhbGxlci9BX0NhbGxlci5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRmVhdHVyZS9BLUZlYXR1cmUtRGVmaW5lLmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRmVhdHVyZS9BLUZlYXR1cmUtRXh0ZW5kLmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RhZ2UvQS1TdGFnZS50eXBlcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RhZ2UvQS1TdGFnZS5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RhZ2UvQS1TdGFnZS5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RlcE1hbmFnZXIvQS1TdGVwTWFuYWdlci5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtU3RlcE1hbmFnZXIvQS1TdGVwTWFuYWdlci5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRmVhdHVyZS9BLUZlYXR1cmUuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1BYnN0cmFjdGlvbi9BLUFic3RyYWN0aW9uLmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1BYnN0cmFjdGlvbi9BLUFic3RyYWN0aW9uLUV4dGVuZC5kZWNvcmF0b3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUFic3RyYWN0aW9uL0EtQWJzdHJhY3Rpb24uY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbmNlcHQvQS1Db25jZXB0LmNvbnN0YW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtQ29uY2VwdC9BLUNvbmNlcHQuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLUNvbmNlcHQvQS1Db25jZXB0Lm1ldGEudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLURlcGVuZGVuY3kvQS1EZXBlbmRlbmN5LmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1EZXBlbmRlbmN5L0EtRGVwZW5kZW5jeS1EZWZhdWx0LmRlY29yYXRvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtRGVwZW5kZW5jeS9BLURlcGVuZGVuY3ktTG9hZC5kZWNvcmF0b3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLURlcGVuZGVuY3kvQS1EZXBlbmRlbmN5LVBhcmVudC5kZWNvcmF0b3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLWNvbmNlcHQvc3JjL2dsb2JhbC9BLURlcGVuZGVuY3kvQS1EZXBlbmRlbmN5LVJlcXVpcmUuZGVjb3JhdG9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1EZXBlbmRlbmN5L0EtRGVwZW5kZW5jeS5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtY29uY2VwdC9zcmMvZ2xvYmFsL0EtSW5qZWN0L0EtSW5qZWN0LmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS1jb25jZXB0L3NyYy9nbG9iYWwvQS1JbmplY3QvQS1JbmplY3QuZGVjb3JhdG9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtRXhlY3V0aW9uL0EtRXhlY3V0aW9uLmNvbnRleHQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1PcGVyYXRpb24vQS1PcGVyYXRpb24uY29udGV4dC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNoYW5uZWwvQS1DaGFubmVsLmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ2hhbm5lbC9BLUNoYW5uZWwuY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ2hhbm5lbC9BLUNoYW5uZWxSZXF1ZXN0LmNvbnRleHQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1DaGFubmVsL0EtQ2hhbm5lbC5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db21tYW5kL0EtQ29tbWFuZC5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db21tYW5kL0EtQ29tbWFuZC5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVN0YXRlTWFjaGluZS9BLVN0YXRlTWFjaGluZS5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVN0YXRlTWFjaGluZS9BLVN0YXRlTWFjaGluZS5jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TdGF0ZU1hY2hpbmUvQS1TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uLmNvbnRleHQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TdGF0ZU1hY2hpbmUvQS1TdGF0ZU1hY2hpbmUuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29uZmlnL0EtQ29uZmlnLmNvbnN0YW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNvbmZpZy9BLUNvbmZpZy5lcnJvci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNvbmZpZy9BLUNvbmZpZy5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbnN0YW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUxvZ2dlci9BLUxvZ2dlci5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db21tYW5kL0EtQ29tbWFuZC5lbnRpdHkudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Qb2x5ZmlsbC9jbGFzc2VzL0EtRlMtUG9seWZpbGwuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Qb2x5ZmlsbC9jbGFzc2VzL0EtQ3J5cHRvLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLUh0dHAtUG9seWZpbGwuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Qb2x5ZmlsbC9jbGFzc2VzL0EtSHR0cHMtUG9seWZpbGwuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Qb2x5ZmlsbC9jbGFzc2VzL0EtUGF0aC1Qb2x5ZmlsbC5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVBvbHlmaWxsL2NsYXNzZXMvQS1VcmwtUG9seWZpbGwuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Qb2x5ZmlsbC9jbGFzc2VzL0EtQnVmZmVyLVBvbHlmaWxsLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtUG9seWZpbGwvY2xhc3Nlcy9BLVByb2Nlc3MtUG9seWZpbGwuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Qb2x5ZmlsbC9BLVBvbHlmaWxsLmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNvbmZpZy9jb21wb25lbnRzL0NvbmZpZ1JlYWRlci5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db25maWcvY29tcG9uZW50cy9GaWxlQ29uZmlnUmVhZGVyLmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLUNvbmZpZy9jb21wb25lbnRzL0VOVkNvbmZpZ1JlYWRlci5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1Db25maWcvQS1Db25maWcuY29udGFpbmVyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtQ29uZmlnL0EtQ29uZmlnLnR5cGVzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtTG9nZ2VyL0EtTG9nZ2VyLmVudi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLU1hbmlmZXN0L0EtTWFuaWZlc3QuZXJyb3IudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1NYW5pZmVzdC9jbGFzc2VzL0EtTWFuaWZlc3RDaGVja2VyLmNsYXNzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtTWFuaWZlc3QvQS1NYW5pZmVzdC5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtTWVtb3J5L0EtTWVtb3J5LmNvbnN0YW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLU1lbW9yeS9BLU1lbW9yeS5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtTWVtb3J5L0EtTWVtb3J5LmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtTWVtb3J5L0EtTWVtb3J5LmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVNlcnZpY2UvQS1TZXJ2aWNlLmNvbnN0YW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVNlcnZpY2UvQS1TZXJ2aWNlLmVycm9yLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU2VydmljZS9BLVNlcnZpY2UuY29udGFpbmVyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWRhYXMvYS11dGlscy9zcmMvbGliL0EtU2NoZWR1bGUvQS1EZWZlcnJlZC5jbGFzcy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFkYWFzL2EtdXRpbHMvc3JjL2xpYi9BLVNjaGVkdWxlL0EtU2NoZWR1bGVPYmplY3QuY2xhc3MudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhZGFhcy9hLXV0aWxzL3NyYy9saWIvQS1TY2hlZHVsZS9BLVNjaGVkdWxlLmNvbXBvbmVudC50cyIsICIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9BcmVDb21wb25lbnQvQXJlLmNvbXBvbmVudC50cyIsICIuLi9zcmMvY29tcG9uZW50cy9TaWduSW5Db21wb25lbnQuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL3NyYy9jb250ZXh0L0FyZUV2ZW50L0FyZUV2ZW50LmNvbnRleHQudHMiLCAiLi4vLi4vLi4vc3JjL2NvbnRleHQvQXJlU3RvcmUvQXJlU3RvcmUuY29udGV4dC50cyIsICIuLi8uLi8uLi9zcmMvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eS50cyIsICIuLi9zcmMvY29tcG9uZW50cy9BLUJ0bi5jb21wb25lbnQudHMiLCAiLi4vc3JjL2NvbXBvbmVudHMvQS1JbnB1dC5jb21wb25lbnQudHMiLCAiLi4vLi4vLi4vc3JjL2NvbnRleHQvQXJlSW5kZXgvQXJlSW5kZXguY29udGV4dC50cyIsICIuLi8uLi8uLi9zcmMvY29udGV4dC9BcmVTY2VuZS9BcmVTY2VuZS5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL3NyYy9jb250ZXh0L0FyZVByb3BzL0FyZVByb3BzLmNvbnRleHQudHMiLCAiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQXJlQ29tcGlsZXIvQXJlQ29tcGlsZXIuY29tcG9uZW50LnRzIiwgIi4uLy4uLy4uL3NyYy9jb250YWluZXJzL0FyZUFwcC9BcmVBcHAuY29udGFpbmVyLnRzIiwgIi4uLy4uLy4uL3NyYy9jb250ZXh0L0FyZVNjZW5lL0FyZVNjZW5lLmVycm9yLnRzIiwgIi4uLy4uLy4uL3NyYy9jb250ZXh0L0FyZUJyb3dzZXJEb20vQXJlQnJvd3NlckRvbS5jb250ZXh0LnRzIiwgIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0FyZUJyb3dzZXJDb21waWxlci9BcmVCcm93c2VyQ29tcGlsZXIuY29tcG9uZW50LnRzIiwgIi4uL3NyYy9jb25jZXB0LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJleHBvcnQgY29uc3QgQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUyA9IHtcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gQS1Db25jZXB0IENvcmUgRW52aXJvbm1lbnQgVmFyaWFibGVzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIFRoZXNlIGVudmlyb25tZW50IHZhcmlhYmxlcyBhcmUgdXNlZCBieSBBLUNvbmNlcHQgY29yZSB0byBjb25maWd1cmUgdGhlIGFwcGxpY2F0aW9uXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogXG4gICAgICogREVGQVVMVCB2YWx1ZSBpcyAnYS1jb25jZXB0J1xuICAgICAqIFxuICAgICAqIFshXSBQcm92aWRlZCBuYW1lIHdpbGwgYmUgdXNlZCBmb3IgYWxsIGFzZWlkcyBpbiB0aGUgYXBwbGljYXRpb24gYnkgZGVmYXVsdFxuICAgICAqL1xuICAgIEFfQ09OQ0VQVF9OQU1FOiAnQV9DT05DRVBUX05BTUUnLFxuICAgIC8qKlxuICAgICAqIFJvb3Qgc2NvcGUgb2YgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogXG4gICAgICogREVGQVVMVCB2YWx1ZSBpcyAncm9vdCdcbiAgICAgKiBcbiAgICAgKiBbIV0gUHJvdmlkZWQgbmFtZSB3aWxsIGJlIHVzZWQgZm9yIGFsbCBhc2VpZHMgaW4gdGhlIGFwcGxpY2F0aW9uIGJ5IGRlZmF1bHRcbiAgICAgKi9cbiAgICBBX0NPTkNFUFRfUk9PVF9TQ09QRTogJ0FfQ09OQ0VQVF9ST09UX1NDT1BFJyxcbiAgICAvKipcbiAgICAgKiBFbnZpcm9ubWVudCBvZiB0aGUgYXBwbGljYXRpb24gZS5nLiBkZXZlbG9wbWVudCwgcHJvZHVjdGlvbiwgc3RhZ2luZ1xuICAgICAqL1xuICAgIEFfQ09OQ0VQVF9FTlZJUk9OTUVOVDogJ0FfQ09OQ0VQVF9FTlZJUk9OTUVOVCcsXG4gICAgLyoqXG4gICAgICogUm9vdCBmb2xkZXIgb2YgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogWyFdIEF1dG9tYXRpY2FsbHkgc2V0IGJ5IEEtQ29uY2VwdCB3aGVuIHRoZSBhcHBsaWNhdGlvbiBzdGFydHNcbiAgICAgKi9cbiAgICBBX0NPTkNFUFRfUk9PVF9GT0xERVI6ICdBX0NPTkNFUFRfUk9PVF9GT0xERVInLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgYSBkZWZhdWx0IGVycm9yIGRlc2NyaXB0aW9uIGZvciBlcnJvcnMgdGhyb3duIHdpdGhvdXQgYSBkZXNjcmlwdGlvblxuICAgICAqL1xuICAgIEFfRVJST1JfREVGQVVMVF9ERVNDUklQVElPTjogJ0FfRVJST1JfREVGQVVMVF9ERVNDUklQVElPTicsXG59IGFzIGNvbnN0XG5cblxuLy9zaG91bGQgYmUgYW4gYXJyYXlcbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0NvbmNlcHRFTlZWYXJpYWJsZXMgPSAodHlwZW9mIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMpW2tleW9mIHR5cGVvZiBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTXVtdO1xuXG5cbmV4cG9ydCBjb25zdCBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZID0gW1xuICAgIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMuQV9DT05DRVBUX05BTUUsXG4gICAgQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0NPTkNFUFRfUk9PVF9TQ09QRSxcbiAgICBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTLkFfQ09OQ0VQVF9FTlZJUk9OTUVOVCxcbiAgICBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTLkFfQ09OQ0VQVF9ST09UX0ZPTERFUixcblxuICAgIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMuQV9FUlJPUl9ERUZBVUxUX0RFU0NSSVBUSU9OLFxuXSBhcyBjb25zdDtcblxuIiwgImltcG9ydCB7IEFfVFlQRVNfX0FfU3RhZ2VTdGVwLCBBX1RZUEVTX1N0YWdlRXhlY3V0aW9uQmVoYXZpb3IgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLnR5cGVzXCJcbmltcG9ydCB7IEFfRnJhZ21lbnQgfSBmcm9tIFwiLi4vQS1GcmFnbWVudC9BLUZyYWdtZW50LmNsYXNzXCJcbmltcG9ydCB7IEFfRW50aXR5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRW50aXR5L0EtRW50aXR5LmNsYXNzXCJcbmltcG9ydCB7IEFfQ29udGFpbmVyIH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNsYXNzXCJcbmltcG9ydCB7IEFfQ29tcG9uZW50IH0gZnJvbSBcIi4uL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNsYXNzXCJcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC50eXBlc1wiXG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vQS1Db250YWluZXIvQS1Db250YWluZXIudHlwZXNcIlxuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5LnR5cGVzXCJcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuL0EtRmVhdHVyZS5jbGFzc1wiXG5pbXBvcnQgeyBBX1RZUEVTX19SZXF1aXJlZCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L3R5cGVzL0FfQ29tbW9uLnR5cGVzXCJcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLmNsYXNzXCJcbmltcG9ydCB7IEFfU3RhZ2UgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLmNsYXNzXCJcbmltcG9ydCB7IEFfVFlQRVNfX0Vycm9yX0luaXQgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLnR5cGVzXCJcblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gUHJpbWFyeSBUeXBlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vKipcbiAqIEZlYXR1cmUgY29uc3RydWN0b3IgdHlwZVxuICogVXNlcyB0aGUgZ2VuZXJpYyB0eXBlIFQgdG8gc3BlY2lmeSB0aGUgdHlwZSBvZiB0aGUgZmVhdHVyZVxuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlX0NvbnN0cnVjdG9yPFQgPSBBX0ZlYXR1cmU+ID0gbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVDtcbi8qKlxuICogRmVhdHVyZSBpbml0aWFsaXphdGlvbiB0eXBlXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVfSW5pdDxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4gPSBBX1RZUEVTX19GZWF0dXJlX0luaXRXaXRoQ29tcG9uZW50PFQ+IHwgQV9UWVBFU19fRmVhdHVyZV9Jbml0V2l0aFRlbXBsYXRlPFQ+XG4vKipcbiAqIEZlYXR1cmUgaW5pdGlhbGl6YXRpb24gdHlwZSB1c2luZyBjb21wb25lbnRcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZV9Jbml0V2l0aENvbXBvbmVudDxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4gPSB7XG4gICAgLyoqXG4gICAgICogRmVhdHVyZSBOYW1lXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIFRoZSBjb21wb25lbnQgZnJvbSB3aGVyZSB0aGUgZmVhdHVyZSBpcyBjYWxsaW5nLiBJdCdzIGltcG9ydGFudCBmb3IgcHJvcGVyIHNjb3BpbmcuIFxuICAgICAqIEJhc2VkIG9uIHRoZSBjb21wb25lbnQgd291bGQgYmUgcmV0cmlldmVkIGNvbm5lY3RlZCBjb21wb25lbnRzLCBlbnRpdGllcyBhbmQgY29udGFpbmVycy5cbiAgICAgKiBcbiAgICAgKiBbIV0gQ291bGQgYmUgQ29udGFpbmVyLCBFbnRpdHksIENvbXBvbmVudCBvciBDb21tYW5kXG4gICAgICovXG4gICAgY29tcG9uZW50OiBULFxuXG4gICAgLyoqXG4gICAgICogSW4gY2FzZSB3aGVuIEVudGl0eSBpcyBub3QgYXR0YWNoZWQgdG8gdGhlIHNjb3BlIGNhbiBiZSB1c2VkIHRvIHRyYW5zcGFyZW50bHkgc2hvdyBkZXBlbmRlbmNpZXNcbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKi9cbiAgICBzY29wZT86IEFfU2NvcGVcbn1cbi8qKlxuICogRmVhdHVyZSBpbml0aWFsaXphdGlvbiB0eXBlIHVzaW5nIHRlbXBsYXRlXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVfSW5pdFdpdGhUZW1wbGF0ZTxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4gPSB7XG4gICAgLyoqXG4gICAgICogRmVhdHVyZSBOYW1lXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIFRoZSBzY29wZSBmcm9tIHdoZXJlIHRvIHJldHJpZXZlIGRlcGVuZGVudCBjb21wb25lbnRzLCBlbnRpdGllcyBhbmQgY29udGFpbmVycy4gXG4gICAgICogXG4gICAgICogWyFdIEltcG9ydGFudCBmb3IgcHJvcGVyIHNjb3BpbmcuIFxuICAgICAqL1xuICAgIHNjb3BlOiBBX1Njb3BlXG4gICAgLyoqXG4gICAgICogVGhlIGNvbXBvbmVudCBmcm9tIHdoZXJlIHRoZSBmZWF0dXJlIGlzIGNhbGxpbmcuIEl0J3MgaW1wb3J0YW50IGZvciBwcm9wZXIgc2NvcGluZy4gXG4gICAgICogQmFzZWQgb24gdGhlIGNvbXBvbmVudCB3b3VsZCBiZSByZXRyaWV2ZWQgY29ubmVjdGVkIGNvbXBvbmVudHMsIGVudGl0aWVzIGFuZCBjb250YWluZXJzLlxuICAgICAqIFxuICAgICAqIFshXSBDb3VsZCBiZSBDb250YWluZXIsIEVudGl0eSwgQ29tcG9uZW50IG9yIENvbW1hbmRcbiAgICAgKi9cbiAgICBjb21wb25lbnQ/OiBULFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIEZlYXR1cmUgdGVtcGxhdGUgdG8gYmUgdXNlZCBpbnN0ZWFkIG9mIGJ1aWxkaW5nIGl0IGZyb20gZGVjb3JhdG9yc1xuICAgICAqL1xuICAgIHRlbXBsYXRlOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGVtcGxhdGVJdGVtPlxufVxuXG4vKipcbiAqIEZlYXR1cmUgc2VyaWFsaXplZCB0eXBlXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVfU2VyaWFsaXplZCA9IHt9XG5cblxuLyoqXG4gKiBGZWF0dXJlIGxpZmVjeWNsZSBzdGF0ZXNcbiAqL1xuZXhwb3J0IGVudW0gQV9UWVBFU19fRmVhdHVyZVN0YXRlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgZmVhdHVyZSBoYXMgYmVlbiBpbml0aWFsaXplZFxuICAgICAqL1xuICAgIElOSVRJQUxJWkVEID0gXCJJTklUSUFMSVpFRFwiLFxuICAgIC8qKlxuICAgICAqIFRoZSBmZWF0dXJlIGlzIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBQUk9DRVNTSU5HID0gXCJQUk9DRVNTSU5HXCIsXG4gICAgLyoqXG4gICAgICogVGhlIGZlYXR1cmUgaGFzIGJlZW4gY29tcGxldGVkXG4gICAgICovXG4gICAgQ09NUExFVEVEID0gXCJDT01QTEVURURcIixcbiAgICAvKipcbiAgICAgKiBUaGUgZmVhdHVyZSBoYXMgYmVlbiBpbnRlcnJ1cHRlZFxuICAgICAqL1xuICAgIElOVEVSUlVQVEVEID0gXCJJTlRFUlJVUFRFRFwiLFxuICAgIC8qKlxuICAgICAqIFRoZSBmZWF0dXJlIGhhcyBmYWlsZWRcbiAgICAgKi9cbiAgICBGQUlMRUQgPSBcIkZBSUxFRFwiXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEVycm9yIFR5cGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVFcnJvcl9Jbml0ID0ge1xuICAgIC8qKlxuICAgICAqIFN0YWdlIHdoZXJlIHRoZSBlcnJvciBvY2N1cnJlZFxuICAgICAqL1xuICAgIHN0YWdlPzogQV9TdGFnZVxuXG59ICYgQV9UWVBFU19fRXJyb3JfSW5pdFxuXG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09LVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEF2YWlsYWJsZSBUeXBlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBBIGxpc3Qgb2YgY29tcG9uZW50IHdoZXJlIGZlYXR1cmVzIGNhbiBiZSBEZWZpbmVkXG4gKiBcbiAqIFshXSBPbiB0aGlzIGNvbXBvbmVudCBGZWF0dXJlIERlZmluaXRpb24gaXMgQXZhaWxhYmxlXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzID0gSW5zdGFuY2VUeXBlPEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb25zdHJ1Y3RvcnM+XG4vKipcbiAqIEEgbGlzdCBvZiBjb25zdHJ1Y3RvcnMgd2hlcmUgZmVhdHVyZXMgY2FuIGJlIERlZmluZWRcbiAqIFxuICogWyFdIE9uIHRoaXMgY29tcG9uZW50IEZlYXR1cmUgRGVmaW5pdGlvbiBpcyBBdmFpbGFibGVcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbnN0cnVjdG9ycyA9IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvclxuICAgIHwgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yXG4gICAgfCBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3JcblxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIERlY29yYXRvciBUeXBlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1GZWF0dXJlIERlZmluZSBEZWNvcmF0b3IgVHlwZXMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKlxuICogSW5kaWNhdGVzIGEgdHlwZSBvZiBGZWF0dXJlIERlZmluZSBkZWNvcmF0b3JcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvckRlc2NyaXB0b3IgPVxuICAgIFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPCguLi5hcmdzOiBhbnlbXSkgPT4gYW55PlxuICAgIHwgVHlwZWRQcm9wZXJ0eURlc2NyaXB0b3I8KC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+XG4gICAgfCBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjwoLi4uYXJnczogYW55W10pID0+IFByb21pc2U8YW55Pj5cbiAgICB8IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPCguLi5hcmdzOiBhbnlbXSkgPT4gUHJvbWlzZTxhbnk+PlxuLyoqXG4gKiBEZXNjcmliZXMgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMgdG8gYmUgdXNlZCBpbiBGZWF0dXJlIERlZmluZSBkZWNvcmF0b3JcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvckNvbmZpZyA9IHtcbiAgICAvKipcbiAgICAgKiBGZWF0dXJlIG5hbWVcbiAgICAgKiBcbiAgICAgKiBbIV0gQnkgZGVmYXVsdCB1c2VzIHRoZSBtZXRob2QgbmFtZVxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgYSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSBmZWF0dXJlLiBJZiB0cnVlIHRoZSBmZWF0dXJlIHdpbGwgYmUgYXV0b21hdGljYWxseSBhdHRhY2hlZCB0byB0aGUgZXhlY3V0aW9uLlxuICAgICAqIFxuICAgICAqIFshXSBCZWZvcmUgZmVhdHVyZSBleGVjdXRpb24gdGhlIG1ldGhvZCBpdHNlbGYgd2lsbCBiZSBjYWxsZWQgdG8gcHJlcGFyZSB0aGUgZmVhdHVyZSB0ZW1wbGF0ZVxuICAgICAqIFshXSBEZWZhdWx0IGlzIGZhbHNlXG4gICAgICovXG4gICAgaW52b2tlOiBib29sZWFuLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBhZGQgYSBkZWZhdWx0IGJlaGF2aW9yIG9yIG51bWJlciBvZiBzdGVwcyB0aGF0IHdpbGwgYmUgcGFydCBvZiB0aGUgZmVhdHVyZVxuICAgICAqL1xuICAgIHRlbXBsYXRlOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGVtcGxhdGVJdGVtPlxufVxuLyoqXG4gKiBEZXNjcmliZXMgYSBzaW5nbGUgdGVtcGxhdGUgaXRlbSB1c2VkIGluIEZlYXR1cmUgRGVmaW5lIGRlY29yYXRvclxuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGVtcGxhdGVJdGVtID0gQV9UWVBFU19fUmVxdWlyZWQ8UGFydGlhbDxBX1RZUEVTX19BX1N0YWdlU3RlcD4sIFsnbmFtZScsICdoYW5kbGVyJywgJ2NvbXBvbmVudCddPlxuLyoqXG4gKiBEZXNjcmliZXMgYSB0YXJnZXQgd2hlcmUgRmVhdHVyZSBEZWZpbmUgZGVjb3JhdG9yIGNhbiBiZSBhcHBsaWVkXG4gKiBcbiAqIFshXSBUaGUgZmVhdHVyZSBjYW4gYmUgZGVmaW5lZCBvbiBDb250YWluZXIsIEVudGl0eSwgQ29tcG9uZW50IG9yIENvbW1hbmRcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvclRhcmdldCA9IEFfQ29udGFpbmVyXG4gICAgfCBBX0VudGl0eVxuICAgIHwgQV9Db21wb25lbnRcbi8qKlxuICogQSB0eXBlIG9mIE1ldGEgaW5mb3JtYXRpb24gc3RvcmVkIGJ5IEZlYXR1cmUgRGVmaW5lIGRlY29yYXRvclxuICogVGhpcyBpbmZvcm1hdGlvbiB0aGVuIHVzZXMgYnkgQS1Db250ZXh0IHRvIGJ1aWxkIGEgcHJvcGVyIGZlYXR1cmUgdGVtcGxhdGVcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGEgPSB7XG4gICAgLyoqXG4gICAgICogRmVhdHVyZSBuYW1lXG4gICAgICogbWFpbmx5IGl0J3MgYSB1bmlxdWUgY29tYmluYXRpb24gb2YgdGhlIGNsYXNzIG5hbWUgYW5kIG1ldGhvZCBuYW1lXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIEFjdHVhbCBtZXRob2QgbmFtZSBpbiB0aGUgY2xhc3NcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBzdHJpbmcsXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGEgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUgZmVhdHVyZS4gSWYgdHJ1ZSB0aGUgZmVhdHVyZSB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgYXR0YWNoZWQgdG8gdGhlIGV4ZWN1dGlvbi5cbiAgICAgKiBcbiAgICAgKiBbIV0gQmVmb3JlIGZlYXR1cmUgZXhlY3V0aW9uIHRoZSBtZXRob2QgaXRzZWxmIHdpbGwgYmUgY2FsbGVkIHRvIHByZXBhcmUgdGhlIGZlYXR1cmUgdGVtcGxhdGVcbiAgICAgKiBbIV0gRGVmYXVsdCBpcyBmYWxzZVxuICAgICAqL1xuICAgIGludm9rZTogYm9vbGVhbixcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gYWRkIGEgZGVmYXVsdCBiZWhhdmlvciBvciBudW1iZXIgb2Ygc3RlcHMgdGhhdCB3aWxsIGJlIHBhcnQgb2YgdGhlIGZlYXR1cmVcbiAgICAgKi9cbiAgICB0ZW1wbGF0ZTogQXJyYXk8QV9UWVBFU19fQV9TdGFnZVN0ZXA+XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tRmVhdHVyZSBFeHRlbmQgRGVjb3JhdG9yIFR5cGVzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKipcbiAqIERlc2NyaXB0b3IgdHlwZSBmb3IgQV9FeHRlbmQgZGVjb3JhdG9yXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JEZXNjcmlwdG9yID1cbiAgICBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjwoKSA9PiBhbnk+XG4gICAgfCBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjwoLi4uYXJnczogYW55W10pID0+IGFueT5cbiAgICB8IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPCguLi5hcmdzOiBhbnlbXSkgPT4gUHJvbWlzZTxhbnk+PlxuICAgIHwgVHlwZWRQcm9wZXJ0eURlc2NyaXB0b3I8KCkgPT4gUHJvbWlzZTxhbnk+PlxuLyoqXG4gKiBUYXJnZXQgdHlwZSBmb3IgQV9FeHRlbmQgZGVjb3JhdG9yXG4gKiBcbiAqIFshXSBDYW4gYmUgYXBwbGllZCBvbmx5IG9uIEEtQ29tcG9uZW50c1xuICovXG5leHBvcnQgdHlwZSBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yVGFyZ2V0ID0gQV9Db21wb25lbnQgfCBBX0NvbnRhaW5lciB8IEFfRW50aXR5XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiB0eXBlIGZvciBBX0V4dGVuZCBkZWNvcmF0b3JcbiAqIFxuICogVGhpcyBpcyBhbiBJTlBVVCBwYXJhbWV0ZXIgcHJvdmlkZWQgYnkgdGhlIHVzZXJcbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvckNvbmZpZyA9IHtcbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoZSBjb250YWluZXIgTGlmZWN5Y2xlIG1ldGhvZCB0byBiZSBleHRlbmRlZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgbm90IHByb3ZpZGVkIHdpbGwgYmUgdXNlZCB0aGUgbmFtZSBvZiB0aGUgbWV0aG9kLlxuICAgICAqIFshIV0gSWYgbmFtZSBjb250YWlucyBcIi5cIiBkb3QgaXQgd2lsbCBiZSBjb25zaWRlcmVkIGFzIGEgcGF0aCB0byB0aGUgbWV0aG9kLlxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBDb250YWluZXIgY2xhc3Mgb3IgY29udGFpbmVyIG5hbWUgdXNlcyB0byBpZGVudGlmeSB0aGUgcHJvcGVyIGNvbnRhaW5lciBpbiBjYXNlIHdoZW4gdGhlIG5hbWUgaXMgbm90IHVuaXF1ZS5cbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgbm90IHByb3ZpZGVkIHdpbGwgYmUgYXBwbGllZCB0byBhbGwgY29udGFpbmVycyB3aXRoIHRoZSBzYW1lIG5hbWUuXG4gICAgICogWyEhXSBCeSBkZWZhdWx0IHVzZXMgT1IgdG8gam9pbiBhbGwgcHJvdmlkZWQgaXRlbXMuIElmIHlvdSBuZWVkIG1vcmUgY29tcGxleCBMb2dpYywgcGxlYXNlIHVzZSBSZWdleHAgaW5zdGVhZFxuICAgICAqIFxuICAgICAqIFshISFdIEluIGNhc2UgaWYgeW91IG5lZWQgdG8gZXhjbHVkZSBzb21lIGNvbnRhaW5lcnMsIGVudGl0aWVzIG9yIGNvbXBvbmVudHMsIHBsZWFzZSB1c2UgXCJleGNsdWRlXCIgcHJvcGVydHlcbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIFxuICAgICAqIGBgYHRzXG4gICAgICogIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgKiAgICAgIG5hbWU6ICdsb2FkJyxcbiAgICAgKiAgICAgIHNjb3BlOiB7XG4gICAgICogICAgICAgICAgaW5jbHVkZTogW0FfQ29udGFpbmVyMSwgQV9FbnRpdHkxXSxcbiAgICAgKiAgICAgICAgICBleGNsdWRlOiBbQV9Db21wb25lbnQxXVxuICAgICAqICAgICAgfVxuICAgICAqICB9KVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHNjb3BlOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yU2NvcGVJdGVtPiB8IFBhcnRpYWw8QV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclNjb3BlQ29uZmlnPixcbiAgICAvKipcbiAgICAgKiBUaGUgYmVoYXZpb3Igb2YgdGhlIG1ldGhvZC4gXG4gICAgICogSW4gY2FzZSBpdHMgYXN5bmMgaXQgd2lsbCBiZSBleGVjdXRlZCBpbmRlcGVuZGVudGx5IGZyb20gdGhlIG1haW4gdGhyZWFkLlxuICAgICAqIFxuICAgICAqIFshXSBIb3dldmVyLCBpbiBjYXNlIG9mIHN5bmMsIGl0IHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIG1haW4gdGhyZWFkLmluIHRoZSBvcmRlciBvZiB0aGUgZGVjbGFyYXRpb24uXG4gICAgICogXG4gICAgICovXG4gICAgYmVoYXZpb3I6IEFfVFlQRVNfU3RhZ2VFeGVjdXRpb25CZWhhdmlvclxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIHRoZSBleGVjdXRpb24gb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSXQgYXBwbGllcyBmb3IgdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmUgOidDb21wb25lbnQubWV0aG9kTmFtZSdcbiAgICAgKiBbIV0gSW4gY2FzZSB0aGUgbWV0aG9kIGhhcyBjaXJjdWxhciBkZXBlbmRlbmNpZXMgaXQgd2lsbCBUaHJvdyBhbiBlcnJvci5cbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIGBgYHRzXG4gICAgICogIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgKiAgICAgIG5hbWU6ICdsb2FkJyxcbiAgICAgKiAgICAgIGJlZm9yZTogWydDb21wb25lbnQxLm1ldGhvZE5hbWUnLCAnQ29tcG9uZW50Mi5tZXRob2ROYW1lMiddXG4gICAgICogIH0pXG4gICAgICogIC8vIE9SXG4gICAgICogIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgKiAgICAgIG5hbWU6ICdsb2FkJyxcbiAgICAgKiAgICAgIGJlZm9yZTogL0NvbXBvbmVudDJcXC4uKy9cbiAgICAgKiAgfSlcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBiZWZvcmU6IEFycmF5PHN0cmluZz4gfCBSZWdFeHBcblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIHRoZSBleGVjdXRpb24gb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSXQgYXBwbGllcyBmb3IgdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmUgOidDb21wb25lbnQubWV0aG9kTmFtZSdcbiAgICAgKiBbIV0gSW4gY2FzZSB0aGUgbWV0aG9kIGhhcyBjaXJjdWxhciBkZXBlbmRlbmNpZXMgaXQgd2lsbCBUaHJvdyBhbiBlcnJvci5cbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIGBgYHRzXG4gICAgICogIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgKiAgICAgIG5hbWU6ICdsb2FkJyxcbiAgICAgKiAgICAgIGFmdGVyOiBbJ0NvbXBvbmVudDEubWV0aG9kTmFtZScsICdDb21wb25lbnQyLm1ldGhvZE5hbWUyJ11cbiAgICAgKiAgfSlcbiAgICAgKiAgLy8gT1JcbiAgICAgKiAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAqICAgICAgbmFtZTogJ2xvYWQnLFxuICAgICAqICAgICAgYWZ0ZXI6IC9Db21wb25lbnQyXFwuLisvXG4gICAgICogIH0pXG4gICAgICogYGBgXG4gICAgICogXG4gICAgICovXG4gICAgYWZ0ZXI6IEFycmF5PHN0cmluZz4gfCBSZWdFeHBcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0byB0aHJvdyBhbiBlcnJvciBpZiB0aGUgc3RlcCBmYWlscy5cbiAgICAgKiBcbiAgICAgKiBbIV0gQnkgZGVmYXVsdCBpcyB0cnVlXG4gICAgICovXG4gICAgdGhyb3dPbkVycm9yOiBib29sZWFuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gb3ZlcnJpZGUgcGFydGljdWxhciBzdGVwcyBpbiB0aGUgZmVhdHVyZSBzZXF1ZW5jZSBieSBwcm92aWRlZCBuYW1lcyBbQ29tcG9uZW50XS5bTWV0aG9kXSBvciBieSByZWdleHBcbiAgICAgKi9cbiAgICBvdmVycmlkZTogQXJyYXk8c3RyaW5nPiB8IFJlZ0V4cFxufVxuLyoqXG4gKiBTY29wZSBpdGVtIHRoYXQgY2FuIGJlIHVzZWQgaW4gQV9FeHRlbmQgZGVjb3JhdG9yIGNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IHR5cGUgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclNjb3BlQ29uZmlnID0ge1xuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBjb21wb25lbnRzLCBlbnRpdGllcyBvciBjb250YWluZXJzIHRvIGluY2x1ZGUgaW4gdGhlIHNjb3BlIG9mIHRoZSBleHRlbnNpb25cbiAgICAgKi9cbiAgICBpbmNsdWRlPzogQXJyYXk8QV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclNjb3BlSXRlbT4sXG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIGNvbXBvbmVudHMsIGVudGl0aWVzIG9yIGNvbnRhaW5lcnMgdG8gZXhjbHVkZSBmcm9tIHRoZSBzY29wZSBvZiB0aGUgZXh0ZW5zaW9uXG4gICAgICovXG4gICAgZXhjbHVkZT86IEFycmF5PEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JTY29wZUl0ZW0+XG59XG4vKipcbiAqIEEgc2luZ2xlIGl0ZW0gdGhhdCBjYW4gYmUgdXNlZCBpbiBzY29wZSBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JTY29wZUl0ZW0gPSBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3JcbiAgICB8IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvclxuICAgIHwgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yXG5cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1NRVRBIFRZUEVTLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vKipcbiAqIE1ldGEgdHlwZSBmb3IgQV9FeHRlbmQgZGVjb3JhdG9yXG4gKi9cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JNZXRhID0ge1xuICAgIC8qKlxuICAgICAqIE9yaWdpbmFsIEZlYXR1cmUgRXh0ZW5zaW9uIG5hbWVcbiAgICAgKiBcbiAgICAgKiBbIV0gY291bGQgYmUgc3RyaW5nIG9yIHJlZ2V4XG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIEFjdHVhbCBtZXRob2QgbmFtZSBpbiB0aGUgY2xhc3NcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBUaGUgYmVoYXZpb3Igb2YgdGhlIG1ldGhvZC4gXG4gICAgICogSW4gY2FzZSBpdHMgYXN5bmMgaXQgd2lsbCBiZSBleGVjdXRlZCBpbmRlcGVuZGVudGx5IGZyb20gdGhlIG1haW4gdGhyZWFkLlxuICAgICAqIFxuICAgICAqIFshXSBIb3dldmVyLCBpbiBjYXNlIG9mIHN5bmMsIGl0IHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIG1haW4gdGhyZWFkLmluIHRoZSBvcmRlciBvZiB0aGUgZGVjbGFyYXRpb24uXG4gICAgICogXG4gICAgICovXG4gICAgYmVoYXZpb3I6IEFfVFlQRVNfU3RhZ2VFeGVjdXRpb25CZWhhdmlvclxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIHRoZSBleGVjdXRpb24gb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSW4gY2FzZSB0aGUgbWV0aG9kIGhhcyBjaXJjdWxhciBkZXBlbmRlbmNpZXMgaXQgd2lsbCBUaHJvdyBhbiBlcnJvci5cbiAgICAgKiBcbiAgICAgKi9cbiAgICBiZWZvcmU6IHN0cmluZ1xuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIHRoZSBleGVjdXRpb24gb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBcbiAgICAgKiBbIV0gSW4gY2FzZSB0aGUgbWV0aG9kIGhhcyBjaXJjdWxhciBkZXBlbmRlbmNpZXMgaXQgd2lsbCBUaHJvdyBhbiBlcnJvci5cbiAgICAgKiBcbiAgICAgKi9cbiAgICBhZnRlcjogc3RyaW5nXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdG8gdGhyb3cgYW4gZXJyb3IgaWYgdGhlIHN0ZXAgZmFpbHMuXG4gICAgICogXG4gICAgICogWyFdIEJ5IGRlZmF1bHQgaXMgdHJ1ZVxuICAgICAqL1xuICAgIHRocm93T25FcnJvcjogYm9vbGVhbixcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gb3ZlcnJpZGUgcGFydGljdWxhciBzdGVwcyBpbiB0aGUgZmVhdHVyZSBzZXF1ZW5jZSBieSBwcm92aWRlZCBuYW1lcyBbQ29tcG9uZW50XS5bTWV0aG9kXSBvciBieSByZWdleHBcbiAgICAgKi9cbiAgICBvdmVycmlkZTogc3RyaW5nXG59XG5cblxuIiwgIi8qKlxuICogQSBNZXRhIGlzIGFuIGVudGl0eSB0aGF0IHN0b3JlcyBhbGwgdGhlIG1ldGFkYXRhIGZvciB0aGUgc3BlY2lmaWMgZW50aXR5IGxpa2UgY29udGFpbmVyLCBjb21wb25lbnQsIGZlYXR1cmUsIGV0Yy4gXG4gKiBcbiAqIFshXSBNZXRhIGNhbiBiZSBkaWZmZXJlbnQgZGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIGlucHV0IGRhdGFcbiAqL1xuZXhwb3J0IGNsYXNzIEFfTWV0YTxcbiAgICBfU3RvcmFnZUl0ZW1zIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IGFueSxcbiAgICBfU2VyaWFsaXplZFR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PlxuPiBpbXBsZW1lbnRzIEl0ZXJhYmxlPFtrZXlvZiBfU3RvcmFnZUl0ZW1zLCBfU3RvcmFnZUl0ZW1zW2tleW9mIF9TdG9yYWdlSXRlbXNdXT4ge1xuXG4gICAgcHJvdGVjdGVkIG1ldGE6IE1hcDxrZXlvZiBfU3RvcmFnZUl0ZW1zLCBfU3RvcmFnZUl0ZW1zW2tleW9mIF9TdG9yYWdlSXRlbXNdPiA9IG5ldyBNYXAoKTtcblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGdldCB0aGUgaXRlcmF0b3IgZm9yIHRoZSBtZXRhIG9iamVjdFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhdG9yPFtrZXlvZiBfU3RvcmFnZUl0ZW1zLCBfU3RvcmFnZUl0ZW1zW2tleW9mIF9TdG9yYWdlSXRlbXNdXT4ge1xuICAgICAgICBjb25zdCBpdGVyYXRvciA9IHRoaXMubWV0YS5lbnRyaWVzKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0OiAoKSA9PiBpdGVyYXRvci5uZXh0KClcbiAgICAgICAgfTtcbiAgICB9XG5cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gTUVUQSBPUEVSQVRJT05TID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHJlcGxpY2F0ZSByZWNlaXZlZCBtZXRhIG9iamVjdCBieSByZXBsYWNpbmcgaW50ZXJuYWwgbWV0YSB0byB0aGUgcmVjZWl2ZWQgb25lXG4gICAgICogXG4gICAgICogQHBhcmFtIG1ldGEgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZnJvbShcbiAgICAgICAgbWV0YTogQV9NZXRhPF9TdG9yYWdlSXRlbXM+XG4gICAgKTogQV9NZXRhPF9TdG9yYWdlSXRlbXM+IHtcbiAgICAgICAgdGhpcy5tZXRhID0gbmV3IE1hcChtZXRhLm1ldGEpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIHNldCB2YWx1ZXMgaW4gdGhlIG1hcFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXkgXG4gICAgICogQHBhcmFtIHZhbHVlIFxuICAgICAqL1xuICAgIHNldDxLIGV4dGVuZHMga2V5b2YgX1N0b3JhZ2VJdGVtcz4oa2V5OiBLLCB2YWx1ZTogX1N0b3JhZ2VJdGVtc1tLXSkge1xuXG4gICAgICAgIGNvbnN0IGluaGVyaXRlZFZhbHVlID0gdGhpcy5tZXRhLmdldChrZXkpXG4gICAgICAgICAgICB8fCBBcnJheS5pc0FycmF5KHZhbHVlKVxuICAgICAgICAgICAgPyBbXVxuICAgICAgICAgICAgOiAodmFsdWUgYXMgYW55KSBpbnN0YW5jZW9mIE1hcFxuICAgICAgICAgICAgICAgID8gbmV3IE1hcCgpXG4gICAgICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSB0aGlzLm1ldGEuZ2V0KGtleSlcbiAgICAgICAgICAgIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICAuLi5pbmhlcml0ZWRWYWx1ZSBhcyBhbnlcbiAgICAgICAgICAgIF0gOiAodmFsdWUgYXMgYW55KSBpbnN0YW5jZW9mIE1hcFxuICAgICAgICAgICAgICAgID8gbmV3IE1hcChpbmhlcml0ZWRWYWx1ZSBhcyBhbnkpXG4gICAgICAgICAgICAgICAgOiB7IC4uLmluaGVyaXRlZFZhbHVlIH07XG5cbiAgICAgICAgdGhpcy5tZXRhLnNldChrZXksIHZhbHVlKTtcblxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gZ2V0IHZhbHVlcyBmcm9tIHRoZSBtYXBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ga2V5IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGdldDxLIGV4dGVuZHMga2V5b2YgX1N0b3JhZ2VJdGVtcz4oa2V5OiBLKTogX1N0b3JhZ2VJdGVtc1tLXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGEuZ2V0KGtleSkgYXMgX1N0b3JhZ2VJdGVtc1tLXTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBkZWxldGUgdmFsdWVzIGZyb20gdGhlIG1hcFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXkgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZGVsZXRlKGtleToga2V5b2YgX1N0b3JhZ2VJdGVtcyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhLmRlbGV0ZShrZXkpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGdldCB0aGUgc2l6ZSBvZiB0aGUgbWFwXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc2l6ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhLnNpemU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBuZWVkZWQgdG8gY29udmVydCB0aGUga2V5IHRvIGEgcmVndWxhciBleHByZXNzaW9uIGFuZCBjb3ZlciBjYXNlcyBsaWtlOiBcbiAgICAgKiBcbiAgICAgKiBzaW1wbGUgKiBlLmcuIFwiYSpcIiBpbnN0ZWFkIG9mIFwiYS4qXCJcbiAgICAgKiBcbiAgICAgKiBzaW1wbGUgPyBlLmcuIFwiYT9cIiBpbnN0ZWFkIG9mIFwiYS5cIlxuICAgICAqIFxuICAgICAqIGV0Yy4gXG4gICAgICogXG4gICAgICogQHBhcmFtIGtleSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcml2YXRlIGNvbnZlcnRUb1JlZ0V4cChrZXk6IHN0cmluZyB8IFJlZ0V4cCk6IFJlZ0V4cCB7XG4gICAgICAgIHJldHVybiBrZXkgaW5zdGFuY2VvZiBSZWdFeHBcbiAgICAgICAgICAgID8ga2V5XG4gICAgICAgICAgICA6IG5ldyBSZWdFeHAoa2V5KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBmaW5kIHZhbHVlcyBpbiB0aGUgbWFwIGJ5IG5hbWUuXG4gICAgICogXG4gICAgICogQ29udmVydHMgdGhlIEtleSBpbiBNYXAgdG8gYSByZWd1bGFyIGV4cHJlc3Npb24gYW5kIHRoZW4gY29tcGFyZXMgdG8gdGhlIG5hbWVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbmFtZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBmaW5kKG5hbWU6IHN0cmluZykge1xuICAgICAgICBjb25zdCByZXN1bHRzOiBBcnJheTxba2V5b2YgX1N0b3JhZ2VJdGVtcywgX1N0b3JhZ2VJdGVtc1trZXlvZiBfU3RvcmFnZUl0ZW1zXV0+ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHRoaXMubWV0YS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnZlcnRUb1JlZ0V4cChTdHJpbmcoa2V5KSkudGVzdChuYW1lKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGZpbmQgdmFsdWVzIGluIHRoZSBtYXAgYnkgcmVndWxhciBleHByZXNzaW9uXG4gICAgICogXG4gICAgICogQ29tcGFyZXMgTWFwIEtleSB0byB0aGUgaW5wdXQgcmVndWxhciBleHByZXNzaW9uXG4gICAgICogXG4gICAgICogQHBhcmFtIHJlZ2V4IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGZpbmRCeVJlZ2V4KHJlZ2V4OiBSZWdFeHApOiBBcnJheTxba2V5b2YgX1N0b3JhZ2VJdGVtcywgX1N0b3JhZ2VJdGVtc1trZXlvZiBfU3RvcmFnZUl0ZW1zXV0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0czogQXJyYXk8W2tleW9mIF9TdG9yYWdlSXRlbXMsIF9TdG9yYWdlSXRlbXNba2V5b2YgX1N0b3JhZ2VJdGVtc11dPiA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiB0aGlzLm1ldGEuZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAocmVnZXgudGVzdChTdHJpbmcoa2V5KSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjaGVjayBpZiB0aGUgbWFwIGhhcyBhIHNwZWNpZmljIGtleVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXkgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgaGFzKGtleToga2V5b2YgX1N0b3JhZ2VJdGVtcyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhLmhhcyhrZXkpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGdldCB0aGUgc2l6ZSBvZiB0aGUgbWFwXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZW50cmllcygpOiBJdGVyYWJsZUl0ZXJhdG9yPFtrZXlvZiBfU3RvcmFnZUl0ZW1zLCBfU3RvcmFnZUl0ZW1zW2tleW9mIF9TdG9yYWdlSXRlbXNdXT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhLmVudHJpZXMoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjbGVhciB0aGUgbWFwXG4gICAgICovXG4gICAgY2xlYXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWV0YS5jbGVhcigpO1xuICAgIH1cblxuXG4gICAgdG9BcnJheSgpOiBBcnJheTxba2V5b2YgX1N0b3JhZ2VJdGVtcywgX1N0b3JhZ2VJdGVtc1trZXlvZiBfU3RvcmFnZUl0ZW1zXV0+IHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5tZXRhLmVudHJpZXMoKSk7XG4gICAgfVxuXG5cbiAgICBwcm90ZWN0ZWQgcmVjdXJzaXZlVG9KU09OKHZhbHVlOiBhbnkpOiBhbnkge1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgdmFsdWUgaW5zdGFuY2VvZiBBX01ldGE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvSlNPTigpO1xuXG4gICAgICAgICAgICBjYXNlIHZhbHVlIGluc3RhbmNlb2YgTWFwOlxuICAgICAgICAgICAgICAgIGNvbnN0IG9iajogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIHZhbHVlLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBvYmpbU3RyaW5nKGspXSA9IHRoaXMucmVjdXJzaXZlVG9KU09OKHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuXG4gICAgICAgICAgICBjYXNlIEFycmF5LmlzQXJyYXkodmFsdWUpOlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5tYXAoKGl0ZW0pID0+IHRoaXMucmVjdXJzaXZlVG9KU09OKGl0ZW0pKTtcblxuICAgICAgICAgICAgY2FzZSAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1trXSA9IHRoaXMucmVjdXJzaXZlVG9KU09OKHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIG1ldGEgdG8gYSBKU09OIG9iamVjdFxuICAgICAqIFVzZXMgaW50ZXJuYWwgc3RvcmFnZSB0byBjb252ZXJ0IHRvIEpTT05cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICB0b0pTT04oKTogX1NlcmlhbGl6ZWRUeXBlIHtcbiAgICAgICAgY29uc3QganNvbjogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHRoaXMubWV0YS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGpzb25bU3RyaW5nKGtleSldID0gdGhpcy5yZWN1cnNpdmVUb0pTT04odmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqc29uIGFzIF9TZXJpYWxpemVkVHlwZTtcbiAgICB9XG59IiwgImV4cG9ydCBlbnVtIEFfVFlQRVNfX0VudGl0eU1ldGFLZXkge1xuICAgIEVYVEVOU0lPTlMgPSAnYS1jb21wb25lbnQtZXh0ZW5zaW9ucycsXG4gICAgRkVBVFVSRVMgPSAnYS1jb21wb25lbnQtZmVhdHVyZXMnLFxuICAgIEFCU1RSQUNUSU9OUyA9ICdhLWNvbXBvbmVudC1hYnN0cmFjdGlvbnMnLFxuICAgIElOSkVDVElPTlMgPSAnYS1jb21wb25lbnQtaW5qZWN0aW9ucycsXG59XG5cbmV4cG9ydCBlbnVtIEFfVFlQRVNfX0VudGl0eUZlYXR1cmVzIHtcbiAgICBTQVZFID0gJ3NhdmUnLFxuICAgIERFU1RST1kgPSAnZGVzdHJveScsXG4gICAgTE9BRCA9ICdsb2FkJ1xufSIsICJleHBvcnQgZW51bSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IHtcbiAgICBGRUFUVVJFUyA9ICdhLWNvbnRhaW5lci1mZWF0dXJlcycsXG4gICAgSU5KRUNUSU9OUyA9ICdhLWNvbnRhaW5lci1pbmplY3Rpb25zJyxcbiAgICBBQlNUUkFDVElPTlMgPSAnYS1jb250YWluZXItYWJzdHJhY3Rpb25zJyxcbiAgICBFWFRFTlNJT05TICA9ICdhLWNvbnRhaW5lci1leHRlbnNpb25zJyxcbn0iLCAiXG5cblxuZXhwb3J0IGVudW0gQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB7XG4gICAgRVhURU5TSU9OUyA9ICdhLWNvbXBvbmVudC1leHRlbnNpb25zJyxcbiAgICBGRUFUVVJFUyA9ICdhLWNvbXBvbmVudC1mZWF0dXJlcycsXG4gICAgSU5KRUNUSU9OUyA9ICdhLWNvbXBvbmVudC1pbmplY3Rpb25zJyxcbiAgICBBQlNUUkFDVElPTlMgPSAnYS1jb21wb25lbnQtYWJzdHJhY3Rpb25zJyxcbn0iLCAiaW1wb3J0IHsgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9uTWV0YSB9IGZyb20gXCIuLi9BLUNvbmNlcHQvQS1Db25jZXB0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiLi4vQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YSwgQV9UWVBFU19fQ29tcG9uZW50TWV0YUV4dGVuc2lvbiB9IGZyb20gXCIuL0EtQ29tcG9uZW50LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSBcIi4vQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfQ29tcG9uZW50TWV0YSBleHRlbmRzIEFfTWV0YTxBX1RZUEVTX19Db21wb25lbnRNZXRhPiB7XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZ2V0IGFsbCB0aGUgaW5qZWN0aW9ucyBmb3IgYSBnaXZlbiBoYW5kbGVyXG4gICAgICogXG4gICAgICogQHBhcmFtIGhhbmRsZXIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgaW5qZWN0aW9ucyhcbiAgICAgICAgaGFuZGxlcjogc3RyaW5nXG4gICAgKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSB7XG4gICAgICAgIGNvbnN0IGluamVjdGlvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LklOSkVDVElPTlMpO1xuXG4gICAgICAgIGNvbnN0IGFyZ3MgPSBpbmplY3Rpb25zPy5nZXQoaGFuZGxlcikgfHwgW107XG5cbiAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGdldCBhbGwgdGhlIGV4dGVuc2lvbnMgZm9yIGEgZ2l2ZW4gZmVhdHVyZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBmZWF0dXJlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGV4dGVuc2lvbnMoXG4gICAgICAgIGZlYXR1cmU6IHN0cmluZ1xuICAgICk6IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFFeHRlbnNpb25bXSB7XG4gICAgICAgIGNvbnN0IHN0ZXBzOiBBX1RZUEVTX19Db21wb25lbnRNZXRhRXh0ZW5zaW9uW10gPSBbXTtcblxuICAgICAgICBjb25zdCBleHRlbnNpb25zID0gdGhpcy5nZXQoQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5FWFRFTlNJT05TKTtcblxuICAgICAgICBleHRlbnNpb25zXG4gICAgICAgICAgICAvLyByZXR1cm5zIGFsbCBleHRlbnNpb25zIHRoYXQgbWF0Y2ggdGhlIGZlYXR1cmVcbiAgICAgICAgICAgID8uZmluZChmZWF0dXJlKVxuICAgICAgICAgICAgLmZvckVhY2goKFtoYW5kbGVyLCBleHRlbnNpb25zXSkgPT4ge1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMuZm9yRWFjaChleHRlbnNpb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICBzdGVwcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudDogY29uc3RydWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGV4dGVuc2lvbi5oYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3I6IGV4dGVuc2lvbi5iZWhhdmlvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZTogZXh0ZW5zaW9uLmJlZm9yZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyOiBleHRlbnNpb24uYWZ0ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvd09uRXJyb3I6IGV4dGVuc2lvbi50aHJvd09uRXJyb3IgfHwgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlOicnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIHJldHVybiBzdGVwcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBmZWF0dXJlcyBkZWZpbmVkIGluIHRoZSBDb21wb25lbnRcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBmZWF0dXJlcygpOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YT4ge1xuXG4gICAgICAgIGNvbnN0IGZlYXR1cmVzID0gdGhpcy5nZXQoQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5GRUFUVVJFUyk7XG5cbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzPy50b0FycmF5KClcbiAgICAgICAgICAgIC8vIHJldHVybnMgYWxsIGV4dGVuc2lvbnMgdGhhdCBtYXRjaCB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgLm1hcCgoWywgZmVhdHVyZV0pID0+IGZlYXR1cmUpIHx8IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzZXQgb2YgaW5zdHJ1Y3Rpb25zIHRvIHJ1biBwcm9wZXIgbWV0aG9kcyBpbiBDb21wb25lbnQgZHVyaW5nIEEtQ29uY2VwdCBTdGFnZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdGFnZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhYnN0cmFjdGlvbnMoXG4gICAgICAgIGFic3RyYWN0aW9uOiBhbnlcbiAgICApOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25NZXRhW10ge1xuICAgICAgICBjb25zdCBzdGVwczogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9uTWV0YVtdID0gW107XG5cbiAgICAgICAgY29uc3QgYWJzdHJhY3Rpb25zID0gdGhpcy5nZXQoQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5BQlNUUkFDVElPTlMpO1xuICAgICAgICBjb25zdCBpbmplY3Rpb25zID0gdGhpcy5nZXQoQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5JTkpFQ1RJT05TKTtcblxuICAgICAgICBhYnN0cmFjdGlvbnNcbiAgICAgICAgICAgIC8vIHJldHVybnMgYWxsIGV4dGVuc2lvbnMgdGhhdCBtYXRjaCB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgPy5maW5kKGBDT05DRVBUX0FCU1RSQUNUSU9OOjoke2Fic3RyYWN0aW9ufWApXG4gICAgICAgICAgICAuZm9yRWFjaCgoW2hhbmRsZXIsIGV4dGVuc2lvbnNdKSA9PiB7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5mb3JFYWNoKGV4dGVuc2lvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBpbmplY3Rpb25zPy5nZXQoZXh0ZW5zaW9uLmhhbmRsZXIpIHx8IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIHN0ZXBzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZXh0ZW5zaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50OiBjb25zdHJ1Y3RvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIHJldHVybiBzdGVwcztcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCIuLi9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0ZlYXR1cmUgfSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9TY29wZSB9IGZyb20gXCIuLi9BLVNjb3BlL0EtU2NvcGUuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lcl9Jbml0IH0gZnJvbSBcIi4vQS1Db250YWluZXIudHlwZXNcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX0NvbnRhaW5lciB7XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIG9mIHRoZSBjb250YWluZXIgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcnVuIGl0LlxuICAgICAqL1xuICAgIHByb3RlY3RlZCByZWFkb25seSBjb25maWchOiBQYXJ0aWFsPEFfVFlQRVNfX0NvbnRhaW5lcl9Jbml0PjtcbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoZSBjb250YWluZXJcbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnPy5uYW1lIHx8IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2NvcGUgd2hlcmUgdGhlIGNvbnRhaW5lciBpcyByZWdpc3RlcmVkXG4gICAgICovXG4gICAgZ2V0IHNjb3BlKCk6IEFfU2NvcGUge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LnNjb3BlKHRoaXMpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBjbGFzcyBzaG91bGQgY29tYmluZSBDb21wb25lbnRzIHRvIGFjaGlldmUgdGhlIGdvYWwgd2l0aGluZyBDb25jZXB0XG4gICAgICogXG4gICAgICogQ29udGFpbmVyIGlzIGEgZGlyZWN0IGNvbnRhaW5lciB0aGF0IHNob3VsZCBiZSBcInJ1blwiIHRvIG1ha2UgQ29uY2VwdCB3b3JrLiBcbiAgICAgKiBTbyBiZWNhdXNlIG9mIHRoYXQgQ29udGFpbmVyIGNhbiBiZTpcbiAgICAgKiAtIEhUVFAgU2VydmVyXG4gICAgICogLSBCQVNIIFNjcmlwdFxuICAgICAqIC0gRGF0YWJhc2UgQ29ubmVjdGlvblxuICAgICAqIC0gTWljcm9zZXJ2aWNlXG4gICAgICogLSBldGMuXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIENvbmZpZ3VyYXRpb24gb2YgdGhlIGNvbnRhaW5lciB0aGF0IHdpbGwgYmUgdXNlZCB0byBydW4gaXQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25maWd1cmF0aW9uIG9mIHRoZSBjb250YWluZXIgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcnVuIGl0LlxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnOiBQYXJ0aWFsPEFfVFlQRVNfX0NvbnRhaW5lcl9Jbml0PiA9IHt9XG4gICAgKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgICAgIEFfQ29udGV4dC5hbGxvY2F0ZSh0aGlzLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDYWxscyB0aGUgZmVhdHVyZSB3aXRoIHRoZSBnaXZlbiBuYW1lIGluIHRoZSBnaXZlbiBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBUaGlzIG1ldGhvZCBjcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBmZWF0dXJlIGV2ZXJ5IHRpbWUgaXQgaXMgY2FsbGVkXG4gICAgICogXG4gICAgICogQHBhcmFtIGZlYXR1cmUgLSB0aGUgbmFtZSBvZiB0aGUgZmVhdHVyZSB0byBjYWxsXG4gICAgICogQHBhcmFtIHNjb3BlICAtIHRoZSBzY29wZSBpbiB3aGljaCB0byBjYWxsIHRoZSBmZWF0dXJlXG4gICAgICogQHJldHVybnMgIC0gdm9pZFxuICAgICAqL1xuICAgIGFzeW5jIGNhbGwoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOYW1lIG9mIHRoZSBmZWF0dXJlIHRvIGNhbGxcbiAgICAgICAgICovXG4gICAgICAgIGZlYXR1cmU6IHN0cmluZyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNjb3BlIGluIHdoaWNoIHRoZSBmZWF0dXJlIHdpbGwgYmUgZXhlY3V0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlPzogQV9TY29wZVxuICAgICkge1xuICAgICAgICBjb25zdCBuZXdGZWF0dXJlID0gbmV3IEFfRmVhdHVyZSh7XG4gICAgICAgICAgICBuYW1lOiBmZWF0dXJlLFxuICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBhd2FpdCBuZXdGZWF0dXJlLnByb2Nlc3Moc2NvcGUpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YSwgQV9UWVBFU19fQ29udGFpbmVyTWV0YUV4dGVuc2lvbiwgfSBmcm9tIFwiLi9BLUNvbnRhaW5lci50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9uLCBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25NZXRhIH0gZnJvbSBcIi4uL0EtQ29uY2VwdC9BLUNvbmNlcHQudHlwZXNcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCIuLi9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IH0gZnJvbSBcIi4vQS1Db250YWluZXIuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zIH0gZnJvbSBcIi4uL0EtQ29uY2VwdC9BLUNvbmNlcHQuY29uc3RhbnRzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9Db250YWluZXJNZXRhIGV4dGVuZHMgQV9NZXRhPEFfVFlQRVNfX0NvbnRhaW5lck1ldGE+IHtcblxuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZ2V0IGFsbCB0aGUgaW5qZWN0aW9ucyBmb3IgYSBnaXZlbiBoYW5kbGVyXG4gICAgICogXG4gICAgICogQHBhcmFtIGhhbmRsZXIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgaW5qZWN0aW9ucyhcbiAgICAgICAgaGFuZGxlcjogc3RyaW5nXG4gICAgKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSB7XG4gICAgICAgIGNvbnN0IGluamVjdGlvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LklOSkVDVElPTlMpO1xuXG4gICAgICAgIGNvbnN0IGFyZ3MgPSBpbmplY3Rpb25zPy5nZXQoaGFuZGxlcikgfHwgW107XG5cbiAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgZmVhdHVyZXMgZGVmaW5lZCBpbiB0aGUgQ29udGFpbmVyXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZmVhdHVyZXMoKTogQXJyYXk8QV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGE+IHtcblxuICAgICAgICBjb25zdCBmZWF0dXJlcyA9IHRoaXMuZ2V0KEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuRkVBVFVSRVMpO1xuXG4gICAgICAgIHJldHVybiBmZWF0dXJlcz8udG9BcnJheSgpXG4gICAgICAgICAgICAvLyByZXR1cm5zIGFsbCBleHRlbnNpb25zIHRoYXQgbWF0Y2ggdGhlIGZlYXR1cmVcbiAgICAgICAgICAgIC5tYXAoKFssIGZlYXR1cmVdKSA9PiBmZWF0dXJlKSB8fCBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc2V0IG9mIGluc3RydWN0aW9ucyB0byBydW4gcHJvcGVyIG1ldGhvZHMgaW4gQ29udGFpbmVyIGR1cmluZyBBLUNvbmNlcHQgU3RhZ2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RhZ2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYWJzdHJhY3Rpb25zKFxuICAgICAgICBhYnN0cmFjdGlvbjogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9uc1xuICAgICk6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbk1ldGFbXSB7XG4gICAgICAgIGNvbnN0IHN0ZXBzOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25NZXRhW10gPSBbXTtcblxuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LkFCU1RSQUNUSU9OUyk7XG4gICAgICAgIGNvbnN0IGluamVjdGlvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LklOSkVDVElPTlMpO1xuXG4gICAgICAgIGFic3RyYWN0aW9uc1xuICAgICAgICAgICAgLy8gcmV0dXJucyBhbGwgZXh0ZW5zaW9ucyB0aGF0IG1hdGNoIHRoZSBmZWF0dXJlXG4gICAgICAgICAgICA/LmZpbmQoYENPTkNFUFRfQUJTVFJBQ1RJT046OiR7YWJzdHJhY3Rpb259YClcbiAgICAgICAgICAgIC5mb3JFYWNoKChbaGFuZGxlciwgZXh0ZW5zaW9uc10pID0+IHtcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zLmZvckVhY2goZXh0ZW5zaW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJncyA9IGluamVjdGlvbnM/LmdldChleHRlbnNpb24uaGFuZGxlcikgfHwgW107XG5cbiAgICAgICAgICAgICAgICAgICAgc3RlcHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5leHRlbnNpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICByZXR1cm4gc3RlcHM7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZ2V0IGFsbCB0aGUgZXh0ZW5zaW9ucyBmb3IgYSBnaXZlbiBmZWF0dXJlXG4gICAgICogXG4gICAgICogQHBhcmFtIGZlYXR1cmUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZXh0ZW5zaW9ucyhcbiAgICAgICAgZmVhdHVyZTogc3RyaW5nXG4gICAgKTogQV9UWVBFU19fQ29udGFpbmVyTWV0YUV4dGVuc2lvbltdIHtcbiAgICAgICAgY29uc3Qgc3RlcHM6IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFFeHRlbnNpb25bXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbnMgPSB0aGlzLmdldChBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LkVYVEVOU0lPTlMpO1xuXG4gICAgICAgIGV4dGVuc2lvbnNcbiAgICAgICAgICAgIC8vIHJldHVybnMgYWxsIGV4dGVuc2lvbnMgdGhhdCBtYXRjaCB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgPy5maW5kKGZlYXR1cmUpXG4gICAgICAgICAgICAuZm9yRWFjaCgoW2hhbmRsZXIsIGV4dGVuc2lvbnNdKSA9PiB7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5mb3JFYWNoKGV4dGVuc2lvbiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXBzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50OiBjb25zdHJ1Y3RvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGV4dGVuc2lvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogZXh0ZW5zaW9uLmhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWhhdmlvcjogZXh0ZW5zaW9uLmJlaGF2aW9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBleHRlbnNpb24uYmVmb3JlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IGV4dGVuc2lvbi5hZnRlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93T25FcnJvcjogZXh0ZW5zaW9uLnRocm93T25FcnJvciB8fCB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGU6ICcnXG5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgcmV0dXJuIHN0ZXBzO1xuICAgIH1cblxufSIsICJcbi8qKlxuICogQV9Gb3JtYXR0ZXJIZWxwZXJcbiAqIFxuICogSGVscGVyIGNsYXNzIGZvciBmb3JtYXR0aW5nIHN0cmluZ3MgaW50byBkaWZmZXJlbnQgY2FzZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBBX0Zvcm1hdHRlckhlbHBlciB7XG4gICAgLyoqXG4gICAgICogQ29udmVydCBzdHJpbmcgdG8gVVBQRVJfU05BS0VfQ0FTRVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIHRvVXBwZXJTbmFrZUNhc2Uoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gc3RyXG4gICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgJyQxXyQyJykgIC8vIEhhbmRsZSBjYW1lbENhc2VcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOV0rL2csICdfJykgICAgICAgLy8gUmVwbGFjZSBub24tYWxwaGFudW1lcmljIHdpdGggdW5kZXJzY29yZXNcbiAgICAgICAgICAgIC5yZXBsYWNlKC9fKy9nLCAnXycpICAgICAgICAgICAgICAgICAgLy8gQ29sbGFwc2UgbXVsdGlwbGUgdW5kZXJzY29yZXNcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eX3xfJC9nLCAnJykgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcvdHJhaWxpbmcgdW5kZXJzY29yZXNcbiAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHN0cmluZyB0byBjYW1lbENhc2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RyIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyB0b0NhbWVsQ2FzZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBzdHJcbiAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOV0rL2csICcgJykgICAgICAgLy8gUmVwbGFjZSBub24tYWxwaGFudW1lcmljIHdpdGggc3BhY2VzXG4gICAgICAgICAgICAuc3BsaXQoJyAnKSAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwbGl0IGJ5IHNwYWNlc1xuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKSAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZW1wdHkgaXRlbXNcbiAgICAgICAgICAgIC5tYXAoKHBhcnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcGFydC5zbGljZSgxKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKCcnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBzdHJpbmcgdG8gUGFzY2FsQ2FzZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIHRvUGFzY2FsQ2FzZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBzdHJcbiAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEgJDInKSAgLy8gSW5zZXJ0IHNwYWNlIGJlZm9yZSB1cHBlcmNhc2UgaW4gY2FtZWxDYXNlXG4gICAgICAgICAgICAucmVwbGFjZSgvW15hLXpBLVowLTldKy9nLCAnICcpICAgICAgIC8vIFJlcGxhY2Ugbm9uLWFscGhhbnVtZXJpYyB3aXRoIHNwYWNlc1xuICAgICAgICAgICAgLnNwbGl0KCcgJykgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTcGxpdCBieSBzcGFjZXNcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbikgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGVtcHR5IGl0ZW1zXG4gICAgICAgICAgICAubWFwKHBhcnQgPT4gcGFydC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHBhcnQuc2xpY2UoMSkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgIC5qb2luKCcnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBzdHJpbmcgdG8ga2ViYWItY2FzZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIHRvS2ViYWJDYXNlKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN0clxuICAgICAgICAgICAgLy8gMS4gUmVwbGFjZSBhbGwgbm9uLWFscGhhbnVtZXJpYyAodW5kZXJzY29yZSwgZG90LCBldGMuKSB3aXRoIGEgc3BhY2VcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOV0rL2csICcgJylcbiAgICAgICAgICAgIC8vIDIuIEluc2VydCBzcGFjZSBiZWZvcmUgYW55IHVwcGVyY2FzZSBwcmVjZWRlZCBieSBsb3dlcmNhc2Ugb3IgZGlnaXRcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oW2EtejAtOV0pKFtBLVpdKS9nLCAnJDEgJDInKVxuICAgICAgICAgICAgLy8gMy4gVHJpbSBzcGFjZXMgYXQgYm90aCBlbmRzIGFuZCByZXBsYWNlIHJlbWFpbmluZyBzcGFjZXMgd2l0aCBkYXNoZXNcbiAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcbiAgICAgICAgICAgIC8vIDQuIExvd2VyY2FzZSBldmVyeXRoaW5nXG4gICAgICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICB9XG59IiwgIlxuZXhwb3J0IHR5cGUgQV9JRF9UWVBFU19fVGltZUlkX1BhcnRzID0ge1xuICAgIHRpbWVzdGFtcDogRGF0ZTtcbiAgICByYW5kb206IHN0cmluZztcbn1cblxuXG5leHBvcnQgY2xhc3MgQV9JZGVudGl0eUhlbHBlciB7XG4gICAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIHNob3J0LCB0aW1lLWJhc2VkIHVuaXF1ZSBJRC5cbiAgICogRW5jb2RlcyBjdXJyZW50IHRpbWUgKG1zIHNpbmNlIGVwb2NoKSBhbmQgcmFuZG9tIGJpdHMgaW4gYmFzZTM2LlxuICAgKiBFeGFtcGxlOiBcIm1iNGYxZy03ZjlhMWNcIlxuICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdGVUaW1lSWQoXG4gICAgICAgIHBhcnRzOiBBX0lEX1RZUEVTX19UaW1lSWRfUGFydHMgPSB7IHRpbWVzdGFtcDogbmV3IERhdGUoKSwgcmFuZG9tOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA4KSB9XG4gICAgKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgdGltZSA9IHBhcnRzLnRpbWVzdGFtcC5nZXRUaW1lKCkudG9TdHJpbmcoMzYpOyAvLyBiYXNlMzYtZW5jb2RlZCB0aW1lc3RhbXBcbiAgICAgICAgY29uc3QgcmFuZG9tID0gcGFydHMucmFuZG9tOyAvLyB1c2UgcHJvdmlkZWQgcmFuZG9tIHN0cmluZ1xuICAgICAgICByZXR1cm4gYCR7dGltZX0tJHtyYW5kb219YDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBzaG9ydCBJRCBiYWNrIGludG8gaXRzIHBhcnRzLlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIG9yaWdpbmFsIHRpbWVzdGFtcCAoYXMgRGF0ZSkgYW5kIHJhbmRvbSBzdHJpbmcuXG4gICAgICovXG4gICAgc3RhdGljIHBhcnNlVGltZUlkKGlkOiBzdHJpbmcpOiBBX0lEX1RZUEVTX19UaW1lSWRfUGFydHMge1xuICAgICAgICBjb25zdCBbdGltZVBhcnQsIHJhbmRvbVBhcnRdID0gaWQuc3BsaXQoJy0nKTtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUocGFyc2VJbnQodGltZVBhcnQsIDM2KSk7XG4gICAgICAgIHJldHVybiB7IHRpbWVzdGFtcCwgcmFuZG9tOiByYW5kb21QYXJ0IH07XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiAgRm9ybWF0IGEgbnVtYmVyIHdpdGggbGVhZGluZyB6ZXJvcyB0byBhIGZpeGVkIGxlbmd0aFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBudW1iZXIgXG4gICAgICogQHBhcmFtIG1heFplcm9zIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBmb3JtYXRXaXRoTGVhZGluZ1plcm9zKG51bWJlciwgbWF4WmVyb3MgPSAxMCkge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWROdW1iZXIgPSBTdHJpbmcobnVtYmVyKS5wYWRTdGFydChtYXhaZXJvcyArIDEsICcwJyk7XG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWROdW1iZXIuc2xpY2UoLW1heFplcm9zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgbGVhZGluZyB6ZXJvcyBmcm9tIGEgZm9ybWF0dGVkIG51bWJlclxuICAgICAqL1xuICAgIHN0YXRpYyByZW1vdmVMZWFkaW5nWmVyb3MoZm9ybWF0dGVkTnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcoTnVtYmVyKGZvcm1hdHRlZE51bWJlcikpOyAvLyBDb252ZXJ0IHRvIG51bWJlciBhbmQgYmFjayB0byBzdHJpbmcgdG8gcmVtb3ZlIGxlYWRpbmcgemVyb3NcbiAgICB9XG5cblxufSIsICJcblxuXG5leHBvcnQgY29uc3QgQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTID0ge1xuICAgIFVORVhQRUNURURfRVJST1I6ICdBLUVycm9yIFVuZXhwZWN0ZWQgRXJyb3InLFxuICAgIFZBTElEQVRJT05fRVJST1I6ICdBLUVycm9yIFZhbGlkYXRpb24gRXJyb3InLFxufSBhcyBjb25zdDtcblxuXG5cbmV4cG9ydCBjb25zdCBBX0NPTlNUQU5UU19fRVJST1JfREVTQ1JJUFRJT04gPSAnSWYgeW91IHNlZSB0aGlzIGVycm9yIHBsZWFzZSBsZXQgdXMga25vdy4nIiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fRXJyb3JfSW5pdCxcbiAgICBBX1RZUEVTX19FcnJvcl9TZXJpYWxpemVkXG59IGZyb20gJy4vQV9FcnJvci50eXBlcyc7XG5pbXBvcnQge1xuICAgIEFfQ09OU1RBTlRTX19FUlJPUl9DT0RFUyxcbiAgICBBX0NPTlNUQU5UU19fRVJST1JfREVTQ1JJUFRJT05cbn0gZnJvbSAnLi9BX0Vycm9yLmNvbnN0YW50cyc7XG5pbXBvcnQgeyBBX0Zvcm1hdHRlckhlbHBlciB9IGZyb20gJ0BhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0Zvcm1hdHRlci5oZWxwZXInO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSAnLi4vQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzcyc7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tICdAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlcic7XG5pbXBvcnQgeyBBU0VJRCB9IGZyb20gJy4uL0FTRUlEL0FTRUlELmNsYXNzJztcbmltcG9ydCB7IEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMgfSBmcm9tICdAYWRhYXMvYS1jb25jZXB0L2NvbnN0YW50cy9lbnYuY29uc3RhbnRzJztcblxuXG5leHBvcnQgY2xhc3MgQV9FcnJvcjxcbiAgICBfQ29uc3RydWN0b3JUeXBlIGV4dGVuZHMgQV9UWVBFU19fRXJyb3JfSW5pdCA9IEFfVFlQRVNfX0Vycm9yX0luaXQsXG4gICAgX1NlcmlhbGl6ZWRUeXBlIGV4dGVuZHMgQV9UWVBFU19fRXJyb3JfU2VyaWFsaXplZCA9IEFfVFlQRVNfX0Vycm9yX1NlcmlhbGl6ZWRcbj4gZXh0ZW5kcyBFcnJvciB7XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gU3RhdGljIEEtRXJyb3IgSW5mb3JtYXRpb24gPT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogRXJyb3IgSWRlbnRpZmllciB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBjbGFzcyBuYW1lXG4gICAgICovXG4gICAgc3RhdGljIGdldCBlbnRpdHkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEFfRm9ybWF0dGVySGVscGVyLnRvS2ViYWJDYXNlKHRoaXMubmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERFRkFVTFQgTmFtZXNwYWNlIG9mIHRoZSBlcnJvciBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlIEFfQ09OQ0VQVF9OQU1FU1BBQ0VcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvICdhLWNvbmNlcHQnXG4gICAgICovXG4gICAgc3RhdGljIGdldCBjb25jZXB0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQuY29uY2VwdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogREVGQVVMVCBTY29wZSBvZiB0aGUgZW50aXR5IGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGUgQV9DT05DRVBUX0RFRkFVTFRfU0NPUEVcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvICdjb3JlJ1xuICAgICAqIFshXSBTY29wZSBpcyBhbiBhcHBsaWNhdGlvbiBzcGVjaWZpYyBpZGVudGlmaWVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZ3JvdXAgZW50aXRpZXMgdG9nZXRoZXJcbiAgICAgKiBbIV0gZS5nLiAnZGVmYXVsdCcsICdjb3JlJywgJ3B1YmxpYycsICdpbnRlcm5hbCcsIGV0Y1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgc2NvcGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5yb290Lm5hbWU7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gSGlkZGVuIEEtRXJyb3IgSW5mb3JtYXRpb24gPT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogQVNFSUQgb2YgdGhlIGVycm9yIGluc3RhbmNlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9hc2VpZCE6IEFTRUlEO1xuICAgIC8qKlxuICAgICAqIFRpdGxlIG9mIHRoZSBlcnJvclxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfdGl0bGUhOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogUG9zc2libGUgU2NvcGUgaWYgbmVlZGVkIHRvIGlkZW50aWZ5IHRoZSBlcnJvciBieSBpdCdzIGV4ZWN1dGlvbiBlbnZpcm9ubWVudFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfc2NvcGU/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogVW5pcXVlIGNvZGUgcmVwcmVzZW50aW5nIHRoZSB0eXBlIG9mIGVycm9yXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9jb2RlPzogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIERldGFpbGVkIGRlc2NyaXB0aW9uIG9mIHRoZSBlcnJvclxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogT3JpZ2luYWwgRXJyb3IgaWYgYW55XG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9vcmlnaW5hbEVycm9yPzogRXJyb3IgfCBhbnlcbiAgICAvKipcbiAgICAgKiBMaW5rIHRvIHRoZSBkb2N1bWVudGF0aW9uIG9yIHN1cHBvcnQgcGFnZSBmb3IgdGhlIGVycm9yXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9saW5rPzogc3RyaW5nO1xuXG5cblxuICAgIC8qKlxuICAgICAqIEFfRXJyb3IgaXMgYSBjdXN0b20gZXJyb3IgY2xhc3MgZm9yIEFfQ29uY2VwdCBmcmFtZXdvcmsuXG4gICAgICogVGhpcyBlcnJvciBhbGxvd3MgdG8gaGF2ZSBtb3JlIHN0cnVjdHVyZWQgZXJyb3IgaGFuZGxpbmcuXG4gICAgICogRWFjaCBlcnJvciBoYXMgYSB1bmlxdWUgY29kZSwgZGVzY3JpcHRpb24gYW5kIGEgbGluayB0byB0aGUgZG9jdW1lbnRhdGlvbi5cbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlIG9mIHVzYWdlOiBcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogXG4gICAgICogLy8gMSkgYWxsIHBhcmFtZXRlcnMgd2lsbCBiZSB1c2VkIGFzIHByb3ZpZGVkXG4gICAgICogdGhyb3cgbmV3IEFfRXJyb3Ioe1xuICAgICAqICAgIG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcsXG4gICAgICogICAgY29kZTogJ1VTRVJfTk9UX0ZPVU5EJyxcbiAgICAgKiAgICBkZXNjcmlwdGlvbjogJ1RoZSB1c2VyIHdpdGggdGhlIGdpdmVuIElEIHdhcyBub3QgZm91bmQuJyxcbiAgICAgKiAgICBsaW5rOiAnaHR0cHM6Ly9zdXBwb3J0LmFkYWFzLm9yZy9lcnJvci9VU0VSX05PVF9GT1VORCdcbiAgICAgKiB9KTtcbiAgICAgKiBcbiAgICAgKiAvLyBvclxuICAgICAqIC8vIDIpIG9ubHkgbWVzc2FnZSBpcyBwcm92aWRlZCwgb3RoZXIgcGFyYW1ldGVycyB3aWxsIGJlIHNldCB0byBkZWZhdWx0IHZhbHVlczpcbiAgICAgKiAvLyAgICAgLSBjb2RlOiAndXNlci1ub3QtZm91bmQnIChrZWJhYi1jYXNlIG9mIHRoZSBtZXNzYWdlKVxuICAgICAqIC8vICAgICAtIGRlc2NyaXB0aW9uOiAnVXNlciBub3QgZm91bmQnIChzYW1lIGFzIG1lc3NhZ2UpXG4gICAgICogLy8gICAgIC0gbGluazogRW1wdHlcbiAgICAgKiB0aHJvdyBuZXcgQV9FcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICAgKiBcbiAgICAgKiAvLyBvclxuICAgICAqIC8vIDMpIFByb3ZpZGVkIE1lc3NhZ2UgYW5kIERlc2NyaXB0aW9uLCBvdGhlciBwYXJhbWV0ZXJzIHdpbGwgYmUgc2V0IHRvIGRlZmF1bHQgdmFsdWVzOlxuICAgICAqIC8vICAgICAtIGNvZGU6ICd1c2VyLW5vdC1mb3VuZCcgKGtlYmFiLWNhc2Ugb2YgdGhlIG1lc3NhZ2UpXG4gICAgICogLy8gICAgIC0gZGVzY3JpcHRpb246ICdUaGUgdXNlciB3aXRoIHRoZSBnaXZlbiBJRCB3YXMgbm90IGZvdW5kLicgKGFzIHByb3ZpZGVkKVxuICAgICAqIC8vICAgICAtIGxpbms6IEVtcHR5XG4gICAgICogdGhyb3cgbmV3IEFfRXJyb3IoJ1VzZXIgbm90IGZvdW5kJywgJ1RoZSB1c2VyIHdpdGggdGhlIGdpdmVuIElEIHdhcyBub3QgZm91bmQuJyk7XG4gICAgICogXG4gICAgICogXG4gICAgICogYGBgXG4gICAgICogWyFdIE5vdGU6IFRoZSBiZWhhdmlvciBvZiBBX0Vycm9yIGlzIHNpbWlsYXIgdG8gdGhlIEFfRW50aXR5IGhvd2V2ZXIgaXQgY2Fubm90IGhhdmUgb3duIEFfRmVhdHVyZXMuXG4gICAgICogWyFdIE5vdGU6IFRoaXMgY2xhc3MgY2FuIGJlIGluaGVyaXRlZCB0byBjcmVhdGUgY3VzdG9tIGVycm9yIGNsYXNzZXMuXG4gICAgICogXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBX0Vycm9yIENvbnN0cnVjdG9yIHBhcmFtc1xuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW1zOiBfQ29uc3RydWN0b3JUeXBlXG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogRXJyb3IgbWVzc2FnZVxuICAgICAgICAgKi9cbiAgICAgICAgbWVzc2FnZTogc3RyaW5nXG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogT3JpZ2luYWwgSlMgRXJyb3JcbiAgICAgICAgICovXG4gICAgICAgIGVycm9yOiBFcnJvclxuICAgIClcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVycm9yIG1lc3NhZ2VcbiAgICAgICAgICovXG4gICAgICAgIHRpdGxlOiBzdHJpbmcsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRhaWxlZCBkZXNjcmlwdGlvbiBvZiB0aGUgZXJyb3JcbiAgICAgICAgICovXG4gICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgICApXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBhcmFtMTogX0NvbnN0cnVjdG9yVHlwZSB8IEVycm9yIHwgc3RyaW5nIHwgQV9FcnJvcixcbiAgICAgICAgcGFyYW0yPzogc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIC8vICB0byBwcmV2ZW50IGVycm9ycyBhY2N1bXVsYXRpb24gaW4gdGhlIHN0YWNrIHRyYWNlIGl0IHJldHVybnMgdGhlIG9yaWdpbmFsIGVycm9yIGlmIHByb3ZpZGVkIHBhcmFtMSBpcyBBX0Vycm9yXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBwYXJhbTEgaW5zdGFuY2VvZiBBX0Vycm9yOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbTEgYXMgQV9FcnJvcjxfQ29uc3RydWN0b3JUeXBlLCBfU2VyaWFsaXplZFR5cGU+O1xuXG4gICAgICAgICAgICBjYXNlIHBhcmFtMSBpbnN0YW5jZW9mIEVycm9yOlxuICAgICAgICAgICAgICAgIHN1cGVyKHBhcmFtMS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFcnJvclNlcmlhbGl6ZWRUeXBlPF9TZXJpYWxpemVkVHlwZT4ocGFyYW0xKTpcbiAgICAgICAgICAgICAgICBzdXBlcihwYXJhbTEubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JDb25zdHJ1Y3RvclR5cGU8X0NvbnN0cnVjdG9yVHlwZT4ocGFyYW0xKSAmJiAnZGVzY3JpcHRpb24nIGluIHBhcmFtMTpcbiAgICAgICAgICAgICAgICBzdXBlcihgWyR7cGFyYW0xLnRpdGxlfV06ICR7cGFyYW0xLmRlc2NyaXB0aW9ufWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Vycm9yQ29uc3RydWN0b3JUeXBlPF9Db25zdHJ1Y3RvclR5cGU+KHBhcmFtMSkgJiYgISgnZGVzY3JpcHRpb24nIGluIHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgc3VwZXIocGFyYW0xLnRpdGxlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcocGFyYW0xKSAmJiAhcGFyYW0yOlxuICAgICAgICAgICAgICAgIHN1cGVyKHBhcmFtMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKHBhcmFtMSkgJiYgISFwYXJhbTI6XG4gICAgICAgICAgICAgICAgc3VwZXIoYFske3BhcmFtMX1dOiAke3BhcmFtMn1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9FcnJvcihcbiAgICAgICAgICAgICAgICAgICAgQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTLlZBTElEQVRJT05fRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICdJbnZhbGlkIHBhcmFtZXRlcnMgcHJvdmlkZWQgdG8gQV9FcnJvciBjb25zdHJ1Y3RvcidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZXIgPSB0aGlzLmdldEluaXRpYWxpemVyKHBhcmFtMSwgcGFyYW0yKTtcbiAgICAgICAgLy8gdGhlIHJldHVybmVkIGluaXRpYWxpemVyIGlzIGFscmVhZHkgYm91bmQgdG8gYHRoaXNgICh3ZSB1c2VkIC5iaW5kKHRoaXMpKSxcbiAgICAgICAgLy8gc28gY2FsbGluZyBpdCB3aWxsIHJ1biB0aGUgYXBwcm9wcmlhdGUgbG9naWMgb24gdGhpcyBpbnN0YW5jZTpcbiAgICAgICAgaW5pdGlhbGl6ZXIuY2FsbCh0aGlzLCBwYXJhbTEsIHBhcmFtMik7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09IFB1YmxpYyBBLUVycm9yIEluZm9ybWF0aW9uID09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEFTRUlEIG9mIHRoZSBlcnJvciBpbnN0YW5jZVxuICAgICAqL1xuICAgIGdldCBhc2VpZCgpOiBBU0VJRCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hc2VpZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdGl0bGUgb2YgdGhlIGVycm9yXG4gICAgICogXG4gICAgICogRXhhbXBsZTogJ1VzZXIgbm90IGZvdW5kJywgJ1ZhbGlkYXRpb24gZXJyb3InLCAnVW5hdXRob3JpemVkIGFjY2VzcycsIGV0Yy5cbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogVGhpcyB0aXRsZSBzaG91bGQgYmUgc2hvcnQgYW5kIGNvbmNpc2UsIGxlc3MgdGhhbiA2MCBjaGFyYWN0ZXJzXG4gICAgICogWyFdIE5vdGU6IElmIHRpdGxlIGV4Y2VlZHMgNjAgY2hhcmFjdGVycywgdGhlcmUgd291bGQgYmUgYW4gZXJyb3IgdGhyb3duXG4gICAgICogWyFdIE5vdGU6IFRoaXMgdGl0bGUgaXMgaW50ZW5kZWQgdG8gYmUgaHVtYW4tcmVhZGFibGUgYW5kIGNhbiBiZSBkaXNwbGF5ZWQgaW4gVUkgb3IgbG9nc1xuICAgICAqL1xuICAgIGdldCB0aXRsZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGl0bGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gRXJyb3IgbWVzc2FnZSB3aGF0IGlzIGEgYnJpZWYgdGl0bGUgb2YgdGhlIGVycm9yXG4gICAgICogXG4gICAgICovXG4gICAgZ2V0IG1lc3NhZ2UoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLm1lc3NhZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB1bmlxdWUgY29kZSByZXByZXNlbnRpbmcgdGhlIHR5cGUgb2YgZXJyb3JcbiAgICAgKiBcbiAgICAgKiBJZiBjb2RlIGlzIG5vdCBwcm92aWRlZCwgaXQgd2lsbCBnZW5lcmF0ZSBhIGtlYmFiLWNhc2Ugb2YgdGhlIG1lc3NhZ2VcbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOiAndmFsaWRhdGlvbi1lcnJvcicsICdub3QtZm91bmQnLCAndXNlci1ub3QtZm91bmQnLCAndW5hdXRob3JpemVkJyBldGMuXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IEl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSBrZWJhYi1jYXNlIGZvciBlcnJvciBjb2Rlc1xuICAgICAqIFshXSBOb3RlOiBJZiBub3QgcHJvdmlkZWQgd291bGQgYmUgdXNlZCBhIGtlYmFiLWNhc2UgbWVzc2FnZSBvZiB0aGUgZXJyb3JcbiAgICAgKi9cbiAgICBnZXQgY29kZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29kZSB8fCBBX0Zvcm1hdHRlckhlbHBlci50b0tlYmFiQ2FzZSh0aGlzLnRpdGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdHlwZSBvZiB0aGUgZXJyb3Igd2hpY2ggY29ycmVzcG9uZHMgdG8gdGhlIHN0YXRpYyBlbnRpdHkgb2YgdGhlIGNsYXNzXG4gICAgICogXG4gICAgICogRXhhbXBsZTogJ2EtZXJyb3InLCAndmFsaWRhdGlvbi1lcnJvcicsICdub3QtZm91bmQtZXJyb3InLCAndXNlci1lcnJvcicsIGV0Yy5cbiAgICAgKiBcbiAgICAgKiBEZWZhdWx0cyB0byB0aGUga2ViYWItY2FzZSBvZiB0aGUgY2xhc3MgbmFtZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBuYW1pbmcgYWQgc2VwYXJhdGlvbiBhcmUgZnVsbHkgZGVwZW5kZW50IG9uIHRoZSBhcmNoaXRlY3R1cmUgb2YgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogWyFdIE5vdGU6IEl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSBrZWJhYi1jYXNlIGZvciBlcnJvciB0eXBlc1xuICAgICAqIFshXSBOb3RlOiBUaGlzIHR5cGUgaXMgaW50ZW5kZWQgdG8gZ3JvdXAgc2ltaWxhciBlcnJvcnMgdG9nZXRoZXJcbiAgICAgKi9cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5lbnRpdHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaW5rIHdpdGggcG9zc2libGUgZG9jdW1lbnRhdGlvbiBvciBzdXBwb3J0IHBhZ2UgZm9yIHRoZSBlcnJvclxuICAgICAqIElmIGxpbmsgaXMgbm90IHByb3ZpZGVkLCBpdCB3aWxsIGdlbmVyYXRlIGEgbGluayBiYXNlZCBvbiB0aGUgQVNFSUQgb2YgdGhlIGVycm9yIHRoYXQgcG9pbnRzIHRvIHRoZSBBLUNvbmNlcHQgc3VwcG9ydCBwYWdlXG4gICAgICogXG4gICAgICogRXhhbXBsZTogaHR0cHM6Ly9hZGFhcy5zdXBwb3J0L2EtY29uY2VwdC9lcnJvcnMve0FTRUlEfVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBBU0VJRCBpcyBnZW5lcmF0ZWQgYmFzZWQgb24gdGhlIHN0YXRpYyBwcm9wZXJ0aWVzIG9mIHRoZSBjbGFzcyAoY29uY2VwdCwgc2NvcGUsIGVudGl0eSkgYW5kIHRoZSBjb2RlIG9mIHRoZSBlcnJvclxuICAgICAqL1xuICAgIGdldCBsaW5rKCkge1xuICAgICAgICBpZiAodGhpcy5fbGluaylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5rO1xuXG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYGh0dHBzOi8vYWRhYXMuc3VwcG9ydC9hLWNvbmNlcHQvZXJyb3JzLyR7dGhpcy5hc2VpZC50b1N0cmluZygpfWApO1xuXG4gICAgICAgIHJldHVybiB1cmwudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHNjb3BlIG5hbWUgb2YgdGhlIGVycm9yIGluc3RhbmNlXG4gICAgICogXG4gICAgICogSWYgc2NvcGUgaXMgbm90IHByb3ZpZGVkLCBpdCB3aWxsIHVzZSB0aGUgc3RhdGljIHNjb3BlIG9mIHRoZSBjbGFzc1xuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBTY29wZSBpcyBhbiBhcHBsaWNhdGlvbiBzcGVjaWZpYyBpZGVudGlmaWVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZ3JvdXAgZW50aXRpZXMgdG9nZXRoZXJcbiAgICAgKiBbIV0gZS5nLiAnZGVmYXVsdCcsICdjb3JlJywgJ3B1YmxpYycsICdpbnRlcm5hbCcsIGV0Y1xuICAgICAqL1xuICAgIGdldCBzY29wZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FzZWlkLnNjb3BlXG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgZGV0YWlsZWQgZGVzY3JpcHRpb24gb2YgdGhlIGVycm9yXG4gICAgICogSWYgZGVzY3JpcHRpb24gaXMgbm90IHByb3ZpZGVkLCBpdCB3aWxsIHVzZSB0aGUgZW52aXJvbm1lbnQgdmFyaWFibGUgQV9FUlJPUl9ERUZBVUxUX0RFU0NSSVBUSU9OIG9yIGEgZ2VuZXJpYyBtZXNzYWdlXG4gICAgICogXG4gICAgICogRXhhbXBsZTogJ1RoZSB1c2VyIHdpdGggdGhlIGdpdmVuIElEIHdhcyBub3QgZm91bmQuJywgJ1RoZSBwcm92aWRlZCBkYXRhIGlzIGludmFsaWQuJywgJ1lvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGlzIHJlc291cmNlLicsIGV0Yy5cbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogVGhpcyBkZXNjcmlwdGlvbiBpcyBpbnRlbmRlZCB0byBwcm92aWRlIG1vcmUgY29udGV4dCBhYm91dCB0aGUgZXJyb3IgYW5kIGNhbiBiZSB1c2VkIGZvciBkZWJ1Z2dpbmcgb3IgbG9nZ2luZyBwdXJwb3Nlc1xuICAgICAqL1xuICAgIGdldCBkZXNjcmlwdGlvbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzY3JpcHRpb24gfHwgcHJvY2Vzcy5lbnZbQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0VSUk9SX0RFRkFVTFRfREVTQ1JJUFRJT05dIHx8IEFfQ09OU1RBTlRTX19FUlJPUl9ERVNDUklQVElPTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgb3JpZ2luYWwgZXJyb3IgaWYgYW55XG4gICAgICogXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZnVsIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMgdG8gc2VlIHRoZSBvcmlnaW5hbCBzdGFjayB0cmFjZSBvciBlcnJvciBtZXNzYWdlXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IE9yaWdpbmFsIGVycm9yIGlzIG9wdGlvbmFsIGFuZCBtYXkgbm90IGJlIHByZXNlbnQgaW4gYWxsIGNhc2VzXG4gICAgICovXG4gICAgZ2V0IG9yaWdpbmFsRXJyb3IoKTogRXJyb3IgfCBhbnkgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3JpZ2luYWxFcnJvcjtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGljaCBpbml0aWFsaXplciBtZXRob2QgdG8gdXNlIGJhc2VkIG9uIHRoZSB0eXBlIG9mIHRoZSBmaXJzdCBwYXJhbWV0ZXIuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtMSBcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRJbml0aWFsaXplcihcbiAgICAgICAgcGFyYW0xOiBfQ29uc3RydWN0b3JUeXBlIHwgRXJyb3IgfCBzdHJpbmcgfCBhbnksXG4gICAgICAgIHBhcmFtMj86IHN0cmluZ1xuICAgICk6IChwYXJhbTE6IGFueSwgcGFyYW0yOiBhbnkpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCkge1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcocGFyYW0xKSAmJiAhcGFyYW0yOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21NZXNzYWdlO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1N0cmluZyhwYXJhbTEpICYmICEhcGFyYW0yOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21UaXRsZTtcblxuICAgICAgICAgICAgY2FzZSBwYXJhbTEgaW5zdGFuY2VvZiBFcnJvcjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tRXJyb3I7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JTZXJpYWxpemVkVHlwZTxfU2VyaWFsaXplZFR5cGU+KHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbUpTT047XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JDb25zdHJ1Y3RvclR5cGU8X0NvbnN0cnVjdG9yVHlwZT4ocGFyYW0xKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tQ29uc3RydWN0b3I7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9FcnJvcihcbiAgICAgICAgICAgICAgICAgICAgQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTLlZBTElEQVRJT05fRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICdJbnZhbGlkIHBhcmFtZXRlcnMgcHJvdmlkZWQgdG8gQV9FcnJvciBjb25zdHJ1Y3RvcidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIEFfRXJyb3IgaW5zdGFuY2UgZnJvbSBhIHN0YW5kYXJkIEVycm9yIG9iamVjdC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXJyb3IgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGZyb21FcnJvcihlcnJvcjogRXJyb3IpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBBX0NPTlNUQU5UU19fRVJST1JfQ09ERVMuVU5FWFBFQ1RFRF9FUlJPUjtcblxuICAgICAgICB0aGlzLl9hc2VpZCA9IG5ldyBBU0VJRCh7XG4gICAgICAgICAgICBjb25jZXB0OiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuY29uY2VwdCxcbiAgICAgICAgICAgIHNjb3BlOiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuc2NvcGUsXG4gICAgICAgICAgICBlbnRpdHk6ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5lbnRpdHksXG4gICAgICAgICAgICBpZDogdGhpcy5jb2RlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX29yaWdpbmFsRXJyb3IgPSBlcnJvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIEFfRXJyb3IgaW5zdGFuY2UgZnJvbSBhIG1lc3NhZ2UuXG4gICAgICogXG4gICAgICogQHBhcmFtIHRpdGxlIFxuICAgICAqIEBwYXJhbSBkZXNjcmlwdGlvbiBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZnJvbU1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3RpdGxlID0gQV9DT05TVEFOVFNfX0VSUk9SX0NPREVTLlVORVhQRUNURURfRVJST1I7XG5cbiAgICAgICAgdGhpcy5fYXNlaWQgPSBuZXcgQVNFSUQoe1xuICAgICAgICAgICAgY29uY2VwdDogKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRXJyb3IpLmNvbmNlcHQsXG4gICAgICAgICAgICBzY29wZTogdGhpcy5fc2NvcGUgfHwgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRXJyb3IpLnNjb3BlLFxuICAgICAgICAgICAgZW50aXR5OiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuZW50aXR5LFxuICAgICAgICAgICAgaWQ6IHRoaXMuY29kZVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9saW5rID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9vcmlnaW5hbEVycm9yID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgQV9FcnJvciBpbnN0YW5jZSBmcm9tIGEgc2VyaWFsaXplZCBvYmplY3QuXG4gICAgICogXG4gICAgICogQHBhcmFtIHNlcmlhbGl6ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZnJvbUpTT04oc2VyaWFsaXplZDogX1NlcmlhbGl6ZWRUeXBlKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2FzZWlkID0gbmV3IEFTRUlEKHNlcmlhbGl6ZWQuYXNlaWQpO1xuICAgICAgICBzdXBlci5tZXNzYWdlID0gc2VyaWFsaXplZC5tZXNzYWdlO1xuICAgICAgICB0aGlzLl90aXRsZSA9IHNlcmlhbGl6ZWQudGl0bGU7XG4gICAgICAgIHRoaXMuX2NvZGUgPSBzZXJpYWxpemVkLmNvZGU7XG4gICAgICAgIHRoaXMuX3Njb3BlID0gc2VyaWFsaXplZC5zY29wZTtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBzZXJpYWxpemVkLmRlc2NyaXB0aW9uO1xuICAgICAgICAvLyBOb3RlOiBvcmlnaW5hbEVycm9yIGlzIGRlc2VyaWFsaXplZCBhcyBtZXNzYWdlIG9ubHlcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxFcnJvciA9IHNlcmlhbGl6ZWQub3JpZ2luYWxFcnJvciA/IG5ldyBBX0Vycm9yKHNlcmlhbGl6ZWQub3JpZ2luYWxFcnJvcikgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2xpbmsgPSBzZXJpYWxpemVkLmxpbms7XG4gICAgfVxuXG5cblxuICAgIGZyb21UaXRsZSh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVUaXRsZSh0aXRsZSk7XG5cbiAgICAgICAgdGhpcy5fdGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcblxuICAgICAgICB0aGlzLl9hc2VpZCA9IG5ldyBBU0VJRCh7XG4gICAgICAgICAgICBjb25jZXB0OiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuY29uY2VwdCxcbiAgICAgICAgICAgIHNjb3BlOiB0aGlzLl9zY29wZSB8fCAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuc2NvcGUsXG4gICAgICAgICAgICBlbnRpdHk6ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5lbnRpdHksXG4gICAgICAgICAgICBpZDogdGhpcy5jb2RlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2xpbmsgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBBX0Vycm9yIGluc3RhbmNlIGZyb20gYSBjb25zdHJ1Y3RvciBwYXJhbWV0ZXJzIG9iamVjdC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBmcm9tQ29uc3RydWN0b3IocGFyYW1zOiBfQ29uc3RydWN0b3JUeXBlKTogdm9pZCB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVUaXRsZShwYXJhbXMudGl0bGUpO1xuXG4gICAgICAgIHRoaXMuX3RpdGxlID0gcGFyYW1zLnRpdGxlO1xuICAgICAgICB0aGlzLl9jb2RlID0gcGFyYW1zLmNvZGU7XG4gICAgICAgIHRoaXMuX3Njb3BlID0gcGFyYW1zLnNjb3BlID8gKEFfVHlwZUd1YXJkcy5pc1Njb3BlSW5zdGFuY2UocGFyYW1zLnNjb3BlKSA/IHBhcmFtcy5zY29wZS5uYW1lIDogcGFyYW1zLnNjb3BlKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICB0aGlzLl9hc2VpZCA9IG5ldyBBU0VJRCh7XG4gICAgICAgICAgICBjb25jZXB0OiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuY29uY2VwdCxcbiAgICAgICAgICAgIHNjb3BlOiB0aGlzLl9zY29wZSB8fCAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FcnJvcikuc2NvcGUsXG4gICAgICAgICAgICBlbnRpdHk6ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0Vycm9yKS5lbnRpdHksXG4gICAgICAgICAgICBpZDogdGhpcy5jb2RlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gcGFyYW1zLmRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLl9saW5rID0gcGFyYW1zLmxpbms7XG5cbiAgICAgICAgLy8gSGFuZGxlIG9yaWdpbmFsRXJyb3I6IGlmIGl0J3MgYW4gQV9FcnJvciwgd2Ugc2hvdWxkIHRyYWNlIGJhY2sgdG8gdGhlIHJvb3QgY2F1c2VcbiAgICAgICAgLy8gdG8gYXZvaWQgaW5maW5pdGUgbmVzdGluZyBvZiBBX0Vycm9yIGluc3RhbmNlc1xuICAgICAgICBpZiAocGFyYW1zLm9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBBX0Vycm9yKSB7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSByb290IG9yaWdpbmFsIGVycm9yIGJ5IHRyYXZlcnNpbmcgdGhlIGNoYWluXG4gICAgICAgICAgICBsZXQgcm9vdEVycm9yID0gcGFyYW1zLm9yaWdpbmFsRXJyb3I7XG4gICAgICAgICAgICB3aGlsZSAocm9vdEVycm9yLm9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBBX0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgcm9vdEVycm9yID0gcm9vdEVycm9yLm9yaWdpbmFsRXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXQgdGhlIHJvb3QgY2F1c2UgYXMgdGhlIG9yaWdpbmFsIGVycm9yXG4gICAgICAgICAgICB0aGlzLl9vcmlnaW5hbEVycm9yID0gcm9vdEVycm9yLm9yaWdpbmFsRXJyb3IgfHwgcm9vdEVycm9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxFcnJvciA9IHBhcmFtcy5vcmlnaW5hbEVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgQV9FcnJvciBpbnN0YW5jZSB0byBhIHBsYWluIG9iamVjdC5cbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICB0b0pTT04oKTogX1NlcmlhbGl6ZWRUeXBlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFzZWlkOiB0aGlzLmFzZWlkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgICAgICAgIGNvZGU6IHRoaXMuY29kZSxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgICAgIGxpbms6IHRoaXMubGluayxcbiAgICAgICAgICAgIHNjb3BlOiB0aGlzLnNjb3BlLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBvcmlnaW5hbEVycm9yOiB0aGlzLm9yaWdpbmFsRXJyb3I/Lm1lc3NhZ2VcbiAgICAgICAgfSBhcyBfU2VyaWFsaXplZFR5cGU7XG4gICAgfVxuXG5cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gUFJPVEVDVEVEIEhFTFBFUlMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgcHJvdmlkZWQgdGl0bGUgZXhjZWVkcyA2MCBjaGFyYWN0ZXJzLlxuICAgICAqIElmIGl0IGRvZXMsIHRocm93cyBhIHZhbGlkYXRpb24gQV9FcnJvci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdGl0bGUgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHZhbGlkYXRlVGl0bGUodGl0bGU6IHN0cmluZykge1xuICAgICAgICBpZiAodGl0bGUubGVuZ3RoID4gNjApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0Vycm9yKFxuICAgICAgICAgICAgICAgIEFfQ09OU1RBTlRTX19FUlJPUl9DT0RFUy5WQUxJREFUSU9OX0VSUk9SLFxuICAgICAgICAgICAgICAgICdBLUVycm9yIHRpdGxlIGV4Y2VlZHMgNjAgY2hhcmFjdGVycyBsaW1pdC4nXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aXRsZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0Vycm9yKFxuICAgICAgICAgICAgICAgIEFfQ09OU1RBTlRTX19FUlJPUl9DT0RFUy5WQUxJREFUSU9OX0VSUk9SLFxuICAgICAgICAgICAgICAgICdBLUVycm9yIHRpdGxlIGNhbm5vdCBiZSBlbXB0eS4nXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuXG5cbi8vIG1lc3NhZ2UgPSB0aXRsZSArIGRlc2NyaXB0aW9uIGZvciBiZXR0ZXIgcHJpbnRpbmcgaW4gdGhlIGNvbnNvbGVcbi8vIGRlc2NyaXB0aW9uID0gZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVycm9yXG4vLyBjb2RlID0ga2ViYWJjYXNlICh0aXRsZSlcblxuIiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQVNFSURfRXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuXG4gICAgc3RhdGljIHJlYWRvbmx5IEFTRUlESW5pdGlhbGl6YXRpb25FcnJvciA9ICdBU0VJRCBJbml0aWFsaXphdGlvbiBFcnJvcic7XG4gICAgXG4gICAgc3RhdGljIHJlYWRvbmx5IEFTRUlEVmFsaWRhdGlvbkVycm9yID0gJ0FTRUlEIFZhbGlkYXRpb24gRXJyb3InO1xuXG59IiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fQVNFSURfQ29uc3RydWN0b3IsXG4gICAgQV9UWVBFU19fQVNFSURfSlNPTlxufSBmcm9tIFwiLi9BU0VJRC50eXBlc1wiO1xuaW1wb3J0IHsgQV9JZGVudGl0eUhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9JZGVudGl0eS5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIi4uL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFTRUlEX0Vycm9yIH0gZnJvbSBcIi4vQVNFSUQuZXJyb3JcIjtcbmltcG9ydCB7IEFfVFlQRVNfX1JlcXVpcmVkIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvdHlwZXMvQV9Db21tb24udHlwZXNcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBU0VJRCB7XG5cblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFNUQVRJQyBNRVRIT0RTID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBBU0VJRCBSZWd1bGFyIEV4cHJlc3Npb25cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgcmVnZXhwOiBSZWdFeHAgPSBuZXcgUmVnRXhwKGBeW2EtenxBLVp8MC05fC1dK0BbYS16fEEtWnwwLTl8XFwtXSs6W2EtenxBLVp8MC05fFxcLV0rOlthLXp8QS1afDAtOXxcXFxcLnwtXSsoQHZbMC05fFxcXFwuXSt8QGx0cyk/JGApXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgdGhlIGlkZW50aXR5IHN0cmluZyBpcyBhbiBBU0VJRFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBpZGVudGl0eSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNBU0VJRChpZGVudGl0eTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2V4cC50ZXN0KGlkZW50aXR5KVxuICAgIH1cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09IEhpZGRlbiBBU0VJRCBJbmZvcm1hdGlvbiA9PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBDb25jZXB0IGZvciB0aGUgQVNFSURcbiAgICAgKiBHZW5lcmFsbHkgaXQgaXMgdGhlIGFwcGxpY2F0aW9uIG5hbWUgb3IgY29kZSwgc2hvdWxkIGNvcnJlc3BvbmQgdG8gdGhlIGNvbmNlcHQgd2hlcmUgdGhlIGVudGl0eSBpcyB1c2VkXG4gICAgICogQ291bGQgYmUgSUQgb3IgQVNFSURcbiAgICAgKi9cbiAgICBwcml2YXRlIF9jb25jZXB0ITogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEVudGl0eSBTY29wZSB0aGUgcHJpbWFyeSBsb2NhdGlvbiBvZiB0aGUgcmVzb3VyY2UgXG4gICAgICogT3JnYW5pemF0aW9uLCBvciBvcmdhbml6YXRpb24gVW5pdFxuICAgICAqIENvdWxkIGJlIElEIG9yIEFTRUlEXG4gICAgICogXG4gICAgICovXG4gICAgcHJpdmF0ZSBfc2NvcGUhOiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBFbnRpdHkgVHlwZSB0aGUgdHlwZSBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKi9cbiAgICBwcml2YXRlIF9lbnRpdHkhOiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBFbnRpdHkgSUQgdGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSByZXNvdXJjZVxuICAgICAqL1xuICAgIHByaXZhdGUgX2lkITogc3RyaW5nXG4gICAgLyoqXG4gICAgICogVmVyc2lvbiBvZiB0aGUgZW50aXR5IChvcHRpb25hbClcbiAgICAgKi9cbiAgICBwcml2YXRlIF92ZXJzaW9uPzogc3RyaW5nXG4gICAgLyoqXG4gICAgICogU2hhcmQgb2YgdGhlIGVudGl0eSAob3B0aW9uYWwpXG4gICAgICovXG4gICAgcHJpdmF0ZSBfc2hhcmQ/OiBzdHJpbmdcblxuXG5cblxuXG5cbiAgICAvKipcbiAgICAgKiBBU0VJRCBpcyBhIHN0cnVjdHVyZWQgaWRlbnRpZmllciBmb3IgZW50aXRpZXMgaW4gdGhlIEEtQ29uY2VwdCBzeXN0ZW0uIFxuICAgICAqIHVzaW5nIHRoZSBmb3JtYXQ6XG4gICAgICogIEEgLSBBLUNvbmNlcHRcbiAgICAgKiAgUyAtIFN5c3RlbSBcbiAgICAgKiAgRSAtIEVudGl0eVxuICAgICAqICBJIC0gSWRlbnRpZmllclxuICAgICAqICBEIC0gaURlbnRpZmllclxuICAgICAqIFxuICAgICAqIFN0cnVjdHVyZTogQ09OQ0VQVF9OQU1FICsgQCArIFNDT1BFICsgOiBFTlRJVFlfTkFNRSArIDogKyBJRCArIEAgKyBWRVJTSU9OIFxuICAgICAqIFxuICAgICAqIEV4YW1wbGU6XG4gICAgICogIC0gcm9vdEBjb3JlOnVzcjowMDAwMDAwMDAxXG4gICAgICogXG4gICAgICogWyFdIENvbmNlcHQgaXMgb3B0aW9uYWwsIGlmIG5vdCBwcm92aWRlZCB3aWxsIGJlIHVzZWQgdGhlIGN1cnJlbnQgY29uY2VwdCBuYW1lXG4gICAgICogWyFdIFNjb3BlIGlzIG9wdGlvbmFsLCBpZiBub3QgcHJvdmlkZWQgd2lsbCBiZSB1c2VkIHRoZSByb290IHNjb3BlIG9mIHRoZSBjdXJyZW50IGNvbmNlcHRcbiAgICAgKiBbIV0gVmVyc2lvbiBpcyBvcHRpb25hbCwgaWYgbm90IHByb3ZpZGVkIHdpbGwgYmUgY29uc2lkZXJlZCBhcyBsYXRlc3QgdmVyc2lvblxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhc2VpZCAtIEFTRUlEIHN0cmluZyByZXByZXNlbnRhdGlvbiBvciBBU0VJRCBjb21wb25lbnRzIGFzIG9iamVjdFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogQVNFSUQgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBhc2VpZDogc3RyaW5nXG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogQVNFSUQgY29tcG9uZW50cyBhcyBvYmplY3QgXG4gICAgICAgICAqL1xuICAgICAgICBwcm9wczogQV9UWVBFU19fUmVxdWlyZWQ8UGFydGlhbDxBX1RZUEVTX19BU0VJRF9Db25zdHJ1Y3Rvcj4sIFsnaWQnLCAnZW50aXR5J10+XG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKHBhcmFtMTogc3RyaW5nIHwgQV9UWVBFU19fUmVxdWlyZWQ8UGFydGlhbDxBX1RZUEVTX19BU0VJRF9Db25zdHJ1Y3Rvcj4sIFsnaWQnLCAnZW50aXR5J10+KSB7XG4gICAgICAgIHRoaXMudmVyaWZ5SW5wdXQocGFyYW0xKTtcblxuICAgICAgICBjb25zdCBpbml0aWFsaXplciA9IHRoaXMuZ2V0SW5pdGlhbGl6ZXIocGFyYW0xKTtcbiAgICAgICAgLy8gdGhlIHJldHVybmVkIGluaXRpYWxpemVyIGlzIGFscmVhZHkgYm91bmQgdG8gYHRoaXNgICh3ZSB1c2VkIC5iaW5kKHRoaXMpKSxcbiAgICAgICAgLy8gc28gY2FsbGluZyBpdCB3aWxsIHJ1biB0aGUgYXBwcm9wcmlhdGUgbG9naWMgb24gdGhpcyBpbnN0YW5jZTpcbiAgICAgICAgaW5pdGlhbGl6ZXIuY2FsbCh0aGlzLCBwYXJhbTEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHRlcnMgZm9yIEFTRUlEIGNvbXBvbmVudHNcbiAgICAgKi9cbiAgICBnZXQgY29uY2VwdCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uY2VwdCB8fCBBX0NvbnRleHQuY29uY2VwdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzY29wZSBvZiB0aGUgQVNFSURcbiAgICAgKi9cbiAgICBnZXQgc2NvcGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Njb3BlIHx8IEFfQ29udGV4dC5yb290Lm5hbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZW50aXR5IG9mIHRoZSBBU0VJRFxuICAgICAqL1xuICAgIGdldCBlbnRpdHkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpZCBvZiB0aGUgQVNFSURcbiAgICAgKi9cbiAgICBnZXQgaWQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZlcnNpb24gb2YgdGhlIEFTRUlEIChpZiBhbnkpXG4gICAgICovXG4gICAgZ2V0IHZlcnNpb24oKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZlcnNpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2hhcmQgb2YgdGhlIEFTRUlEIChpZiBhbnkpXG4gICAgICovXG4gICAgZ2V0IHNoYXJkKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaGFyZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZXQgSW50ZXJuYWwgSW5pdGlhbGl6ZXIgYmFzZWQgb24gdGhlIHR5cGUgb2YgdGhlIHBhcmFtZXRlciBwcm92aWRlZFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbTEgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRJbml0aWFsaXplcihcbiAgICAgICAgcGFyYW0xOiBzdHJpbmcgfCBBX1RZUEVTX19SZXF1aXJlZDxQYXJ0aWFsPEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yPiwgWydpZCcsICdlbnRpdHknXT5cbiAgICApOiAocGFyYW0xOiBhbnkpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCkge1xuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVN0cmluZztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNPYmplY3Q8QV9UWVBFU19fQVNFSURfQ29uc3RydWN0b3I+KHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbU9iamVjdDtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQVNFSURfRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIEFTRUlEX0Vycm9yLkFTRUlESW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgJ0ludmFsaWQgcGFyYW1ldGVycyBwcm92aWRlZCB0byBBU0VJRCBjb25zdHJ1Y3RvcidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIEFTRUlEIGZyb20gc3RyaW5nXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtMSBcbiAgICAgKi9cbiAgICBwcml2YXRlIGZyb21TdHJpbmcocGFyYW0xOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgW2NvbmNlcHQsIGJvZHksIHZlcnNpb25dID0gcGFyYW0xLnNwbGl0KCdAJyk7XG4gICAgICAgIGNvbnN0IFtzY29wZSwgZW50aXR5LCBpZENhbmRpZGF0ZV0gPSBib2R5LnNwbGl0KCc6Jyk7XG5cbiAgICAgICAgY29uc3Qgc2hhcmQgPSBpZENhbmRpZGF0ZS5pbmNsdWRlcygnLicpID8gaWRDYW5kaWRhdGUuc3BsaXQoJy4nKVswXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgaWQgPSBpZENhbmRpZGF0ZS5pbmNsdWRlcygnLicpID8gaWRDYW5kaWRhdGUuc3BsaXQoJy4nKVsxXSA6IGlkQ2FuZGlkYXRlO1xuXG4gICAgICAgIHRoaXMuX2NvbmNlcHQgPSBjb25jZXB0IHx8IEFfQ29udGV4dC5yb290Lm5hbWU7XG4gICAgICAgIHRoaXMuX3Njb3BlID0gc2NvcGUgfHwgQV9Db250ZXh0LnJvb3QubmFtZTtcbiAgICAgICAgdGhpcy5fZW50aXR5ID0gZW50aXR5O1xuICAgICAgICB0aGlzLl9pZCA9IGlkO1xuICAgICAgICB0aGlzLl92ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy5fc2hhcmQgPSBzaGFyZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBBU0VJRCBmcm9tIG9iamVjdFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbTEgXG4gICAgICovXG4gICAgcHJpdmF0ZSBmcm9tT2JqZWN0KHBhcmFtMTogQV9UWVBFU19fUmVxdWlyZWQ8UGFydGlhbDxBX1RZUEVTX19BU0VJRF9Db25zdHJ1Y3Rvcj4sIFsnaWQnLCAnZW50aXR5J10+KSB7XG4gICAgICAgIHRoaXMuX2NvbmNlcHQgPSBwYXJhbTEuY29uY2VwdFxuICAgICAgICAgICAgPyBBU0VJRC5pc0FTRUlEKHBhcmFtMS5jb25jZXB0KVxuICAgICAgICAgICAgICAgID8gbmV3IEFTRUlEKHBhcmFtMS5jb25jZXB0KS5pZFxuICAgICAgICAgICAgICAgIDogcGFyYW0xLmNvbmNlcHRcbiAgICAgICAgICAgIDogQV9Db250ZXh0LmNvbmNlcHQ7XG5cbiAgICAgICAgdGhpcy5fc2NvcGUgPSBwYXJhbTEuc2NvcGVcbiAgICAgICAgICAgID8gQV9UeXBlR3VhcmRzLmlzTnVtYmVyKHBhcmFtMS5zY29wZSlcbiAgICAgICAgICAgICAgICA/IEFfSWRlbnRpdHlIZWxwZXIuZm9ybWF0V2l0aExlYWRpbmdaZXJvcyhwYXJhbTEuc2NvcGUpIDpcbiAgICAgICAgICAgICAgICBBU0VJRC5pc0FTRUlEKHBhcmFtMS5zY29wZSlcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgQVNFSUQocGFyYW0xLnNjb3BlKS5pZFxuICAgICAgICAgICAgICAgICAgICA6IHBhcmFtMS5zY29wZVxuICAgICAgICAgICAgOiBBX0NvbnRleHQucm9vdC5uYW1lXG5cbiAgICAgICAgdGhpcy5fZW50aXR5ID0gcGFyYW0xLmVudGl0eTtcblxuICAgICAgICB0aGlzLl9pZCA9IEFfVHlwZUd1YXJkcy5pc051bWJlcihwYXJhbTEuaWQpXG4gICAgICAgICAgICA/IEFfSWRlbnRpdHlIZWxwZXIuZm9ybWF0V2l0aExlYWRpbmdaZXJvcyhwYXJhbTEuaWQpXG4gICAgICAgICAgICA6IHBhcmFtMS5pZDtcblxuICAgICAgICB0aGlzLl92ZXJzaW9uID0gcGFyYW0xLnZlcnNpb247XG4gICAgICAgIHRoaXMuX3NoYXJkID0gcGFyYW0xLnNoYXJkO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBBU0VJRFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmNvbmNlcHR9QCR7dGhpcy5zY29wZX06JHt0aGlzLmVudGl0eX06JHt0aGlzLnNoYXJkID8gKHRoaXMuc2hhcmQgKyAnLicgKyB0aGlzLmlkKSA6IHRoaXMuaWR9JHt0aGlzLnZlcnNpb24gPyAoJ0AnICsgdGhpcy52ZXJzaW9uKSA6ICcnfWBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBBU0VJRFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvSlNPTigpOiBBX1RZUEVTX19BU0VJRF9KU09OIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbmNlcHQ6IHRoaXMuX2NvbmNlcHQsXG4gICAgICAgICAgICBzY29wZTogdGhpcy5fc2NvcGUsXG4gICAgICAgICAgICBlbnRpdHk6IHRoaXMuX2VudGl0eSxcbiAgICAgICAgICAgIGlkOiB0aGlzLl9pZCxcbiAgICAgICAgICAgIHZlcnNpb246IHRoaXMuX3ZlcnNpb24sXG4gICAgICAgICAgICBzaGFyZDogdGhpcy5fc2hhcmRcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gUFJPVEVDVEVEIEhFTFBFUlMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbiAgICBwcm90ZWN0ZWQgdmVyaWZ5SW5wdXQocGFyYW0xOiBzdHJpbmcgfCBBX1RZUEVTX19SZXF1aXJlZDxQYXJ0aWFsPEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yPiwgWydpZCcsICdlbnRpdHknXT4pIHtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIC8vIDEpIGNoZWNrIGZvciBzdHJpbmcgYW5kIHZhbGlkYXRlIGl0IGFzIEFTRUlEXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1N0cmluZyhwYXJhbTEpICYmICFBU0VJRC5pc0FTRUlEKHBhcmFtMSk6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFTRUlEX0Vycm9yKEFTRUlEX0Vycm9yLkFTRUlEVmFsaWRhdGlvbkVycm9yLCAnSW52YWxpZCBBU0VJRCBmb3JtYXQgcHJvdmlkZWQnKVxuXG4gICAgICAgICAgICAvLyAyKSBjaGVjayBmb3Igb2JqZWN0IGFuZCB2YWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzT2JqZWN0PEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yPihwYXJhbTEpICYmICFwYXJhbTEuaWQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFTRUlEX0Vycm9yKEFTRUlEX0Vycm9yLkFTRUlEVmFsaWRhdGlvbkVycm9yLCAnQVNFSUQgaWQgaXMgcmVxdWlyZWQnKVxuXG4gICAgICAgICAgICAvLyAzKSBjaGVjayBmb3Igb2JqZWN0IGFuZCB2YWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzT2JqZWN0PEFfVFlQRVNfX0FTRUlEX0NvbnN0cnVjdG9yPihwYXJhbTEpICYmICFwYXJhbTEuZW50aXR5OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBU0VJRF9FcnJvcihBU0VJRF9FcnJvci5BU0VJRFZhbGlkYXRpb25FcnJvciwgJ0FTRUlEIGVudGl0eSBpcyByZXF1aXJlZCcpXG5cbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX0VudGl0eUVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBjb2RlIGZvciB2YWxpZGF0aW9uIGVycm9ycy5cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgVmFsaWRhdGlvbkVycm9yID0gJ0EtRW50aXR5IFZhbGlkYXRpb24gRXJyb3InO1xuXG59IiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fRW50aXR5X1NlcmlhbGl6ZWQsXG4gICAgQV9UWVBFU19fRW50aXR5X0luaXQsXG4gICAgQV9UWVBFU19fSUVudGl0eSxcbn0gZnJvbSBcIi4vQS1FbnRpdHkudHlwZXNcIjtcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCIuLi9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1Njb3BlIH0gZnJvbSBcIi4uL0EtU2NvcGUvQS1TY29wZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Gb3JtYXR0ZXJIZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfRm9ybWF0dGVyLmhlbHBlclwiO1xuaW1wb3J0IHsgQVNFSUQgfSBmcm9tIFwiLi4vQVNFSUQvQVNFSUQuY2xhc3NcIjtcbmltcG9ydCB7IEFfSWRlbnRpdHlIZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfSWRlbnRpdHkuaGVscGVyXCI7XG5pbXBvcnQgeyBBX0VudGl0eUVycm9yIH0gZnJvbSBcIi4vQS1FbnRpdHkuZXJyb3JcIjtcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5cblxuLyoqXG4gKiBBX0VudGl0eSBpcyBhbm90aGVyIGFic3RyYWN0aW9uIHRoYXQgZGVzY3JpYmVzIGFsbCBtYWpvciBwYXJ0aWNpcGFudHMgaW4gdGhlIHN5c3RlbSBidXNpbmVzcyBsb2dpYy5cbiAqIEVhY2ggRW50aXR5IHNob3VsZCBoYXZlIGEgY2xlYXIgZGVmaW5pdGlvbiBhbmQgYSBjbGVhciBzZXQgb2YgcmVzcG9uc2liaWxpdGllcy4gXG4gKiBIb3dldmVyLCBlbnRpdHkgbWF5IGhpZGUgc29tZSBvZiBpdHMgcmVzcG9uc2liaWxpdGllcyBiZWhpbmQgdGhlIGludGVyZmFjZSB0byBwcmV2ZW50IG92ZXJsb2FkLiBcbiAqIFxuICogRWFjaCBlbnRpdHkgc2hvdWxkIGJlIGNvbm5lY3RlZCB0byB0aGUgQ29udGV4dEZyYWdtZW50IChTY29wZSkgYW5kIHNob3VsZCBiZSBhYmxlIHRvIGNvbW11bmljYXRlIHdpdGggb3RoZXIgZW50aXRpZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBBX0VudGl0eTxcbiAgICBfQ29uc3RydWN0b3JUeXBlIGV4dGVuZHMgQV9UWVBFU19fRW50aXR5X0luaXQgPSBBX1RZUEVTX19FbnRpdHlfSW5pdCxcbiAgICBfU2VyaWFsaXplZFR5cGUgZXh0ZW5kcyBBX1RZUEVTX19FbnRpdHlfU2VyaWFsaXplZCA9IEFfVFlQRVNfX0VudGl0eV9TZXJpYWxpemVkXG4+XG4gICAgaW1wbGVtZW50cyBBX1RZUEVTX19JRW50aXR5IHtcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09IFN0YXRpYyBBLUVudGl0eSBJbmZvcm1hdGlvbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBFbnRpdHkgSWRlbnRpZmllciB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBjbGFzcyBuYW1lXG4gICAgICovXG4gICAgc3RhdGljIGdldCBlbnRpdHkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEFfRm9ybWF0dGVySGVscGVyLnRvS2ViYWJDYXNlKHRoaXMubmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERFRkFVTFQgQ29uY2VwdCBOYW1lIChBcHBsaWNhdGlvbiBOYW1lKSBvZiB0aGUgZW50aXR5IGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGUgQV9DT05DRVBUX05BTUVcbiAgICAgKiBbIV0gSWYgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvICdhLWNvbmNlcHQnXG4gICAgICovXG4gICAgc3RhdGljIGdldCBjb25jZXB0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQuY29uY2VwdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogREVGQVVMVCBTY29wZSBvZiB0aGUgZW50aXR5IGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGUgQV9DT05DRVBUX0RFRkFVTFRfU0NPUEVcbiAgICAgKiBbIV0gSWYgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvICdjb3JlJ1xuICAgICAqIFshXSBTY29wZSBpcyBhbiBhcHBsaWNhdGlvbiBzcGVjaWZpYyBpZGVudGlmaWVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZ3JvdXAgZW50aXRpZXMgdG9nZXRoZXJcbiAgICAgKiBbIV0gZS5nLiAnZGVmYXVsdCcsICdjb3JlJywgJ3B1YmxpYycsICdpbnRlcm5hbCcsIGV0Y1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgc2NvcGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5yb290Lm5hbWU7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09IEluc3RhbmNlIEEtRW50aXR5IEluZm9ybWF0aW9uID09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEFTRUlEIGlzIGFuIGVudGl0eSBpZGVudGlmaWVyIHRoYXQgaXMgdW5pcXVlIGFjcm9zcyB0aGUgc3lzdGVtXG4gICAgICogQSAtIEFfQ29uY2VwdCBvciBBcHBsaWNhdGlvblxuICAgICAqIFMgLSBTeXN0ZW0gb3IgU2NvcGVcbiAgICAgKiBFIC0gRW50aXR5XG4gICAgICogSUQgLSBJZGVudGlmaWVyXG4gICAgICogXG4gICAgICogWyFdIEFTRUlEIGlzIGltbXV0YWJsZSBhbmQgc2hvdWxkIG5vdCBiZSBjaGFuZ2VkIGFmdGVyIHRoZSBlbnRpdHkgaXMgY3JlYXRlZFxuICAgICAqIFxuICAgICAqIFshXSBBU0VJRCBpcyBjb21wb3NlZCBvZiB0aGUgZm9sbG93aW5nIHBhcnRzOlxuICAgICAqIC0gY29uY2VwdDogYW4gYXBwbGljYXRpb24gc3BlY2lmaWMgaWRlbnRpZmllciBmcm9tIHdoZXJlIHRoZSBlbnRpdHkgaXMgY29taW5nIGZyb21cbiAgICAgKiAtIHNjb3BlOiB0aGUgc2NvcGUgb2YgdGhlIGVudGl0eSBmcm9tIGNvbmNlcHRcbiAgICAgKiAtIGVudGl0eTogdGhlIG5hbWUgb2YgdGhlIGVudGl0eSBmcm9tIGNvbmNlcHRcbiAgICAgKiAtIGlkOiB0aGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIGVudGl0eVxuICAgICAqXG4gICAgICogWyFdIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IEFTRUlELCBwbGVhc2UgcmVmZXIgdG8gdGhlIEFTRUlEIGNsYXNzIGRvY3VtZW50YXRpb25dXG4gICAgICovXG4gICAgYXNlaWQhOiBBU0VJRDtcblxuXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQV9lbnRpdHkgaW5zdGFuY2UgZnJvbSBBc2VpZCBTdHJpbmdcbiAgICAgKiBlLmcuIHByb2plY3RAc2NvcGU6ZW50aXR5OjAwMDAwMDAwMDFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gYXNlaWQgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBU0VJRCBzdHJpbmcgdGhhdCByZXByZXNlbnRzIHRoZSBlbnRpdHlcbiAgICAgICAgICovXG4gICAgICAgIGFzZWlkPzogc3RyaW5nXG4gICAgKVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBBX2VudGl0eSBpbnN0YW5jZSBmcm9tIEFzZWlkIGluc3RhbmNlXG4gICAgICogZS5nLiBuZXcgQVNFSUQoe2NvbmNlcHQ6ICdwcm9qZWN0Jywgc2NvcGU6ICdkZWZhdWx0JywgZW50aXR5OiAnZW50aXR5JywgaWQ6ICcwMDAwMDAwMDAxJ30pXG4gICAgICogXG4gICAgICogQHBhcmFtIGFzZWlkIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogQVNFSUQgaW5zdGFuY2UgdGhhdCByZXByZXNlbnRzIHRoZSBlbnRpdHlcbiAgICAgICAgICovXG4gICAgICAgIGFzZWlkOiBBU0VJRFxuICAgIClcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQV9lbnRpdHkgaW5zdGFuY2UgZnJvbSBzZXJpYWxpemVkIG9iamVjdFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzZXJpYWxpemVkIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogU2VyaWFsaXplZCBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSBlbnRpdHlcbiAgICAgICAgICovXG4gICAgICAgIHNlcmlhbGl6ZWQ6IF9TZXJpYWxpemVkVHlwZVxuICAgIClcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQV9lbnRpdHkgaW5zdGFuY2UgZnJvbSBjb25zdHJ1Y3RvciBvYmplY3RcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbmV3RW50aXR5IFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RydWN0b3Igb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgZW50aXR5XG4gICAgICAgICAqL1xuICAgICAgICBuZXdFbnRpdHk/OiBfQ29uc3RydWN0b3JUeXBlXG4gICAgKVxuICAgIGNvbnN0cnVjdG9yKHByb3BzPzogc3RyaW5nIHwgQVNFSUQgfCBfU2VyaWFsaXplZFR5cGUgfCBfQ29uc3RydWN0b3JUeXBlKSB7XG5cbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZXIgPSB0aGlzLmdldEluaXRpYWxpemVyKHByb3BzKTtcbiAgICAgICAgLy8gdGhlIHJldHVybmVkIGluaXRpYWxpemVyIGlzIGFscmVhZHkgYm91bmQgdG8gYHRoaXNgICh3ZSB1c2VkIC5iaW5kKHRoaXMpKSxcbiAgICAgICAgLy8gc28gY2FsbGluZyBpdCB3aWxsIHJ1biB0aGUgYXBwcm9wcmlhdGUgbG9naWMgb24gdGhpcyBpbnN0YW5jZTpcbiAgICAgICAgaW5pdGlhbGl6ZXIuY2FsbCh0aGlzLCBwcm9wcyk7XG4gICAgfVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09IERVUExJQ0FURUQgQVNFSUQgR2V0dGVycyA9PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIElEIGZyb20gdGhlIEFTRUlEXG4gICAgICogSUQgaXMgdGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBlbnRpdHlcbiAgICAgKi9cbiAgICBnZXQgaWQoKTogc3RyaW5nIHwgbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXNlaWQuaWQ7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gQ29uc3RydWN0b3IgSGVscGVycyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICAgIC8vIC0tLSBUeXBlIGd1YXJkcyB1c2VkIHRvIGNsYXNzaWZ5IGBwcm9wc2AgcHJvcGVybHkgLS0tXG4gICAgcHJvdGVjdGVkIGlzU3RyaW5nQVNFSUQoeDogdW5rbm93bik6IHggaXMgc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN0cmluZ1wiICYmIEFTRUlELmlzQVNFSUQoeCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGlzQVNFSURJbnN0YW5jZSh4OiB1bmtub3duKTogeCBpcyBBU0VJRCB7XG4gICAgICAgIHJldHVybiB4IGluc3RhbmNlb2YgQVNFSUQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBcInNlcmlhbGl6ZWRcIiBvYmplY3QgaXMgY29uc2lkZXJlZCBzdWNoIGlmIGl0IGlzIGEgbm9uLW51bGwgb2JqZWN0IFxuICAgICAqIGFuZCBjb250YWlucyBhbiBcImFzZWlkXCIgcHJvcGVydHkgKHRoaXMgbWlycm9ycyB5b3VyIG9yaWdpbmFsIGNoZWNrKS4gXG4gICAgICogXG4gICAgICogQHBhcmFtIHggXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGlzU2VyaWFsaXplZE9iamVjdCh4OiB1bmtub3duKTogeCBpcyBfU2VyaWFsaXplZFR5cGUge1xuICAgICAgICByZXR1cm4gISF4ICYmIHR5cGVvZiB4ID09PSBcIm9iamVjdFwiICYmIFwiYXNlaWRcIiBpbiAoeCBhcyBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yLXN0eWxlIHByb3BzID0gYSBwbGFpbiBvYmplY3Qgd2hpY2ggZG9lcyBOT1QgY29udGFpbiBcImFzZWlkXCIuXG4gICAgICogVGhpcyBpcyB0aGUgXCJjcmVhdGUgZnJvbSBwcm92aWRlZCBmaWVsZHNcIiBjYXNlLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB4IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpc0NvbnN0cnVjdG9yUHJvcHMoeDogdW5rbm93bik6IHggaXMgX0NvbnN0cnVjdG9yVHlwZSB7XG4gICAgICAgIHJldHVybiAhIXggJiYgdHlwZW9mIHggPT09IFwib2JqZWN0XCIgJiYgIShcImFzZWlkXCIgaW4gKHggYXMgb2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgYXBwcm9wcmlhdGUgaW5pdGlhbGl6ZXIgbWV0aG9kIGJhc2VkIG9uIHRoZSB0eXBlIG9mIGBwcm9wc2AuXG4gICAgICogVGhlIG1ldGhvZCBjaGVja3MgaWYgYHByb3BzYCBpczogIFxuICAgICAqIDEpIGEgc3RyaW5nIHRoYXQgbWF0Y2hlcyBBU0VJRCBmb3JtYXQgLT4gZnJvbUFTRUlEXG4gICAgICogMikgYW4gQVNFSUQgaW5zdGFuY2UgLT4gZnJvbUFTRUlEXG4gICAgICogMykgYSBzZXJpYWxpemVkIG9iamVjdCAoaGFzICdhc2VpZCcpIC0+IGZyb21KU09OXG4gICAgICogNCkgYSBwbGFpbiBvYmplY3Qgd2l0aCBubyAnYXNlaWQnIC0+IHRyZWF0IGFzIGNvbnN0cnVjdG9yIHByb3BzIC0+IGZyb21OZXdcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgYHByb3BzYCBpcyB1bmRlZmluZWQsIGl0IHdpbGwgY2FsbCBmcm9tVW5kZWZpbmVkIG1ldGhvZFxuICAgICAqIFxuICAgICAqIElmIG5vbmUgb2YgdGhlIGFib3ZlLCBpdCB0aHJvd3MgYW4gZXJyb3IgaW5kaWNhdGluZyBpbmNvcnJlY3QgY29uc3RydWN0b3IgdXNhZ2UuXG4gICAgICogXG4gICAgICogXG4gICAgICogVG8gZ2V0IGEgY3VzdG9tIGluaXRpYWxpemVyLCBvdmVycmlkZSB0aGlzIG1ldGhvZCBpbiB0aGUgY2hpbGQgY2xhc3MuXG4gICAgICogRXhhbXBsZTpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogcHJvdGVjdGVkIGdldEluaXRpYWxpemVyKFxuICAgICAqICAgcHJvcHM/OiBzdHJpbmcgfCBBU0VJRCB8IF9TZXJpYWxpemVkVHlwZSB8IF9Db25zdHJ1Y3RvclR5cGVcbiAgICAgKiApOiAocHJvcHM6IGFueSkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKSB7XG4gICAgICogICBpZignY3VzdG9tRmllbGQnIGluIHByb3BzKSB7XG4gICAgICogICAgICAgcmV0dXJuIHRoaXMuZnJvbUN1c3RvbUZpZWxkLmJpbmQodGhpcyk7XG4gICAgICogICB9XG4gICAgICogICByZXR1cm4gc3VwZXIuZ2V0SW5pdGlhbGl6ZXIocHJvcHMpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKiBAcGFyYW0gcHJvcHNcbiAgICAgKiBAcmV0dXJucyBUaGUgYXBwcm9wcmlhdGUgaW5pdGlhbGl6ZXIgbWV0aG9kXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldEluaXRpYWxpemVyKFxuICAgICAgICBwcm9wcz86IHN0cmluZyB8IEFTRUlEIHwgX1NlcmlhbGl6ZWRUeXBlIHwgX0NvbnN0cnVjdG9yVHlwZVxuICAgICk6IChwcm9wczogYW55KSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpIHtcblxuICAgICAgICBpZiAoIXByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tVW5kZWZpbmVkXG4gICAgICAgIH1cblxuICAgICAgICAvLyAxKSBzdHJpbmcgdGhhdCBtYXRjaGVzIEFTRUlEIGZvcm1hdCAtPiBmcm9tQVNFSURcbiAgICAgICAgaWYgKHRoaXMuaXNTdHJpbmdBU0VJRChwcm9wcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21BU0VJRCBhcyAocDogc3RyaW5nKSA9PiB2b2lkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMikgQVNFSUQgaW5zdGFuY2UgLT4gZnJvbUFTRUlEXG4gICAgICAgIGlmICh0aGlzLmlzQVNFSURJbnN0YW5jZShwcm9wcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21BU0VJRCBhcyAocDogQVNFSUQpID0+IHZvaWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzKSBzZXJpYWxpemVkIG9iamVjdCAoaGFzICdhc2VpZCcpIC0+IGZyb21KU09OXG4gICAgICAgIGlmICh0aGlzLmlzU2VyaWFsaXplZE9iamVjdChwcm9wcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21KU09OIGFzIChwOiBfU2VyaWFsaXplZFR5cGUpID0+IHZvaWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyA0KSBwbGFpbiBvYmplY3Qgd2l0aCBubyAnYXNlaWQnIC0+IHRyZWF0IGFzIGNvbnN0cnVjdG9yIHByb3BzIC0+IGZyb21OZXdcbiAgICAgICAgaWYgKHRoaXMuaXNDb25zdHJ1Y3RvclByb3BzKHByb3BzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbU5ldyBhcyAocDogX0NvbnN0cnVjdG9yVHlwZSkgPT4gdm9pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vbmUgb2YgdGhlIGFib3ZlIC0+IHRocm93IGNvbnNpc3RlbnQgZXJyb3JcbiAgICAgICAgdGhyb3cgbmV3IEFfRW50aXR5RXJyb3IoQV9FbnRpdHlFcnJvci5WYWxpZGF0aW9uRXJyb3IsICdVbmFibGUgdG8gZGV0ZXJtaW5lIEEtRW50aXR5IGNvbnN0cnVjdG9yIGluaXRpYWxpemF0aW9uIG1ldGhvZC4gUGxlYXNlIGNoZWNrIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzLicpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ2FsbCBhIGZlYXR1cmUgb2YgdGhlIGNvbXBvbmVudCB3aXRoIHRoZSBwcm92aWRlZCBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBJZiB0aGUgcHJvdmlkZWQgc2NvcGUgaXMgbm90IGluaGVyaXRlZCBmcm9tIHRoZSBlbnRpdHkgc2NvcGUsIGl0IHdpbGwgYmUgaW5oZXJpdGVkXG4gICAgICogXG4gICAgICogQHBhcmFtIGxpZmVjeWNsZU1ldGhvZCBcbiAgICAgKiBAcGFyYW0gYXJncyBcbiAgICAgKi9cbiAgICBhc3luYyBjYWxsKFxuICAgICAgICBmZWF0dXJlOiBzdHJpbmcsXG4gICAgICAgIHNjb3BlPzogQV9TY29wZVxuICAgICkge1xuICAgICAgICBjb25zdCBuZXdGZWF0dXJlID0gbmV3IEFfRmVhdHVyZSh7XG4gICAgICAgICAgICBuYW1lOiBmZWF0dXJlLFxuICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzLFxuICAgICAgICAgICAgc2NvcGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ld0ZlYXR1cmUucHJvY2VzcyhzY29wZSk7XG4gICAgfVxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PSBFbnRpdHkgQmFzZSBNZXRob2RzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IG1ldGhvZCB0aGF0IGNhbiBiZSBjYWxsZWQgYW5kIGV4dGVuZGVkIHRvIGxvYWQgZW50aXR5IGRhdGEuXG4gICAgICovXG4gICAgYXN5bmMgbG9hZChcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlLFxuICAgICkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKCdsb2FkJywgc2NvcGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IG1ldGhvZCB0aGF0IGNhbiBiZSBjYWxsZWQgYW5kIGV4dGVuZGVkIHRvIGRlc3Ryb3kgZW50aXR5IGRhdGEuXG4gICAgICovXG4gICAgYXN5bmMgZGVzdHJveShzY29wZT86IEFfU2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbCgnZGVzdHJveScsIHNjb3BlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBtZXRob2QgdGhhdCBjYW4gYmUgY2FsbGVkIGFuZCBleHRlbmRlZCB0byBzYXZlIGVudGl0eSBkYXRhLlxuICAgICAqL1xuICAgIGFzeW5jIHNhdmUoc2NvcGU/OiBBX1Njb3BlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoJ3NhdmUnLCBzY29wZSk7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09IEVudGl0eSBTZXJpYWxpemF0aW9uID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGVudGl0eSBmcm9tIEFTRUlEIHN0cmluZyBvciBpbnN0YW5jZVxuICAgICAqIFshXSBFeGVjdXRlZCB3aGVuIHRoZSBjb25zdHJ1Y3RvciBpcyBjYWxsZWQgd2l0aCBhIHN0cmluZyBvciBBU0VJRCBpbnN0YW5jZSB0aGF0IHJlcHJlc2VudHMgdGhlIEFTRUlEXG4gICAgICogWyFdIEV4ZWN1dGVzIEJ5IERlZmF1bHQgd2l0aCBuZXcgQV9FbnRpdHkoJ2FzZWlkLXN0cmluZycpIG9yIG5ldyBBX0VudGl0eShuZXcgQVNFSUQoLi4uKSkgaWYgZ2V0SW5pdGlhbGl6ZXIgaGFzIG5vdCBiZWVuIG92ZXJyaWRkZW5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gYXNlaWQgXG4gICAgICovXG4gICAgZnJvbUFTRUlEKGFzZWlkOiBzdHJpbmcgfCBBU0VJRCk6IHZvaWQge1xuICAgICAgICBpZiAoYXNlaWQgaW5zdGFuY2VvZiBBU0VJRClcbiAgICAgICAgICAgIHRoaXMuYXNlaWQgPSBhc2VpZDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5hc2VpZCA9IG5ldyBBU0VJRChhc2VpZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgY2FzZSB3aGVuIG5vIHByb3BzIGFyZSBwcm92aWRlZCB0byB0aGUgY29uc3RydWN0b3IuXG4gICAgICogVGhpcyBtZXRob2QgY2FuIGJlIG92ZXJyaWRkZW4gaW4gY2hpbGQgY2xhc3NlcyB0byBzZXQgZGVmYXVsdCB2YWx1ZXMgb3IgcGVyZm9ybSBzcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYy5cbiAgICAgKiBCeSBkZWZhdWx0LCBpdCBkb2VzIG5vdGhpbmcuXG4gICAgICogXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZnJvbVVuZGVmaW5lZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hc2VpZCA9IG5ldyBBU0VJRCh7XG4gICAgICAgICAgICBjb25jZXB0OiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FbnRpdHkpLmNvbmNlcHQsXG4gICAgICAgICAgICBzY29wZTogKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRW50aXR5KS5zY29wZSxcbiAgICAgICAgICAgIGVudGl0eTogKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRW50aXR5KS5lbnRpdHksXG4gICAgICAgICAgICBpZDogQV9JZGVudGl0eUhlbHBlci5nZW5lcmF0ZVRpbWVJZCgpXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGVudGl0eSBmcm9tIGNvbnN0cnVjdG9yIG9iamVjdFxuICAgICAqIFshXSBFeGVjdXRlZCB3aGVuIHRoZSBjb25zdHJ1Y3RvciBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3QgdGhhdCBkb2VzIG5vdCBjb250YWluIFwiYXNlaWRcIiBwcm9wZXJ0eVxuICAgICAqIFshXSBFeGVjdXRlcyBCeSBEZWZhdWx0IHdpdGggbmV3IEFfRW50aXR5KHt9KSBpZiBnZXRJbml0aWFsaXplciBoYXMgbm90IGJlZW4gb3ZlcnJpZGRlblxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuZXdFbnRpdHkgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZnJvbU5ldyhuZXdFbnRpdHk6IF9Db25zdHJ1Y3RvclR5cGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hc2VpZCA9IG5ldyBBU0VJRCh7XG4gICAgICAgICAgICBjb25jZXB0OiAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgQV9FbnRpdHkpLmNvbmNlcHQsXG4gICAgICAgICAgICBzY29wZTogKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRW50aXR5KS5zY29wZSxcbiAgICAgICAgICAgIGVudGl0eTogKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIEFfRW50aXR5KS5lbnRpdHksXG4gICAgICAgICAgICBpZDogQV9JZGVudGl0eUhlbHBlci5nZW5lcmF0ZVRpbWVJZCgpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgZW50aXR5IGZyb20gc2VyaWFsaXplZCBvYmplY3RcbiAgICAgKiBcbiAgICAgKiBbIV0gRXhlY3V0ZWQgd2hlbiB0aGUgY29uc3RydWN0b3IgaXMgY2FsbGVkIHdpdGggYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgXCJhc2VpZFwiIHByb3BlcnR5XG4gICAgICogWyFdIEV4ZWN1dGVzIEJ5IERlZmF1bHQgd2l0aCBuZXcgQV9FbnRpdHkoeyBhc2VpZDogJy4uLicgfSkgaWYgZ2V0SW5pdGlhbGl6ZXIgaGFzIG5vdCBiZWVuIG92ZXJyaWRkZW5cbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2VyaWFsaXplZCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBmcm9tSlNPTihzZXJpYWxpemVkOiBfU2VyaWFsaXplZFR5cGUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hc2VpZCA9IG5ldyBBU0VJRChzZXJpYWxpemVkLmFzZWlkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZW50aXR5IHRvIGEgSlNPTiBvYmplY3QgXG4gICAgICogWyFdIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBleHRlbmRlZCBpbiB0aGUgY2hpbGQgY2xhc3NlcyB0byBpbmNsdWRlIGFsbCBwcm9wZXJ0aWVzIG9mIHRoZSBlbnRpdHlcbiAgICAgKiBbIV0gSW5jbHVkZXMgYXNlaWQgYnkgZGVmYXVsdCBcbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICB0b0pTT04oKTogX1NlcmlhbGl6ZWRUeXBlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFzZWlkOiB0aGlzLmFzZWlkLnRvU3RyaW5nKClcbiAgICAgICAgfSBhcyBfU2VyaWFsaXplZFR5cGU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGVudGl0eVxuICAgICAqIHdoYXQgaXMgYmFzaWNhbGx5IHRoZSBBU0VJRCBzdHJpbmdcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5hc2VpZCA/IHRoaXMuYXNlaWQudG9TdHJpbmcoKSA6IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCIuLi9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19FbnRpdHlNZXRhIH0gZnJvbSBcIi4vQS1FbnRpdHkudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0VudGl0eU1ldGFLZXkgfSBmcm9tIFwiLi9BLUVudGl0eS5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0ZlYXR1cmVEZWZpbmVEZWNvcmF0b3JNZXRhIH0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEgfSBmcm9tIFwiLi4vQS1JbmplY3QvQS1JbmplY3QudHlwZXNcIjtcblxuXG5leHBvcnQgY2xhc3MgQV9FbnRpdHlNZXRhIGV4dGVuZHMgQV9NZXRhPEFfVFlQRVNfX0VudGl0eU1ldGE+IHtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWxsIGZlYXR1cmVzIGRlZmluZWQgaW4gdGhlIENvbnRhaW5lclxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGZlYXR1cmVzKCk6IEFycmF5PEFfVFlQRVNfX0ZlYXR1cmVEZWZpbmVEZWNvcmF0b3JNZXRhPiB7XG5cbiAgICAgICAgY29uc3QgZmVhdHVyZXMgPSB0aGlzLmdldChBX1RZUEVTX19FbnRpdHlNZXRhS2V5LkZFQVRVUkVTKTtcblxuICAgICAgICByZXR1cm4gZmVhdHVyZXM/LnRvQXJyYXkoKVxuICAgICAgICAgICAgLy8gcmV0dXJucyBhbGwgZXh0ZW5zaW9ucyB0aGF0IG1hdGNoIHRoZSBmZWF0dXJlXG4gICAgICAgICAgICAubWFwKChbLCBmZWF0dXJlXSkgPT4gZmVhdHVyZSkgfHwgW107XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZ2V0IGFsbCB0aGUgaW5qZWN0aW9ucyBmb3IgYSBnaXZlbiBoYW5kbGVyXG4gICAgICogXG4gICAgICogQHBhcmFtIGhhbmRsZXIgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgaW5qZWN0aW9ucyhcbiAgICAgICAgaGFuZGxlcjogc3RyaW5nXG4gICAgKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSB7XG4gICAgICAgIGNvbnN0IGluamVjdGlvbnMgPSB0aGlzLmdldChBX1RZUEVTX19FbnRpdHlNZXRhS2V5LklOSkVDVElPTlMpO1xuXG4gICAgICAgIGNvbnN0IGFyZ3MgPSBpbmplY3Rpb25zPy5nZXQoaGFuZGxlcikgfHwgW107XG5cbiAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfVxuXG59IiwgImltcG9ydCB7IEFfVFlQRVNfX0RlZXBQYXJ0aWFsIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvdHlwZXMvQV9Db21tb24udHlwZXNcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCIuLi9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GcmFnbWVudF9Jbml0LCBBX1RZUEVTX19GcmFnbWVudF9TZXJpYWxpemVkIH0gZnJvbSBcIi4vQS1GcmFnbWVudC50eXBlc1wiO1xuXG5cbi8qKlxuICogQV9GcmFnbWVudCBpcyBhIGNvcmUgYXJjaGl0ZWN0dXJhbCBjb21wb25lbnQgdGhhdCByZXByZXNlbnRzIGEgc2luZ2xldG9uIGV4ZWN1dGlvbiBjb250ZXh0XG4gKiB3aXRoaW4gdGhlIEEtQ29uY2VwdCBmcmFtZXdvcmsuIEl0IHNlcnZlcyBhcyBhIHNoYXJlZCBtZW1vcnkgY29udGFpbmVyIHRoYXQgY2FuIGJlIHBhc3NlZFxuICogYmV0d2VlbiBDb21wb25lbnRzLCBFbnRpdGllcywgYW5kIENvbW1hbmRzIHRocm91Z2hvdXQgdGhlIGFwcGxpY2F0aW9uIHBpcGVsaW5lLlxuICogXG4gKiBLZXkgRmVhdHVyZXM6XG4gKiAtIFNpbmdsZXRvbiBwYXR0ZXJuOiBPbmx5IG9uZSBpbnN0YW5jZSBwZXIgZnJhZ21lbnQgdHlwZSBwZXIgc2NvcGVcbiAqIC0gTWV0YSBzdG9yYWdlOiBCdWlsdC1pbiBrZXktdmFsdWUgc3RvcmFnZSBmb3IgcGlwZWxpbmUgZGF0YVxuICogLSBUeXBlLXNhZmU6IEZ1bGwgVHlwZVNjcmlwdCBnZW5lcmljcyBzdXBwb3J0IGZvciBtZXRhIGl0ZW1zIGFuZCBzZXJpYWxpemF0aW9uXG4gKiAtIFNlcmlhbGl6YWJsZTogQ2FuIGJlIGNvbnZlcnRlZCB0byBKU09OIGZvciBwZXJzaXN0ZW5jZSBvciB0cmFuc21pc3Npb25cbiAqIFxuICogQHRlbXBsYXRlIF9NZXRhSXRlbXMgLSBUeXBlIGRlZmluaXRpb24gZm9yIHRoZSBtZXRhIHN0b3JhZ2Ugc3RydWN0dXJlXG4gKiBAdGVtcGxhdGUgX1NlcmlhbGl6ZWRUeXBlIC0gVHlwZSBkZWZpbml0aW9uIGZvciB0aGUgc2VyaWFsaXplZCBvdXRwdXQgZm9ybWF0XG4gKiBcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAvLyBCYXNpYyB1c2FnZSB3aXRoIHR5cGVkIG1ldGFcbiAqIGNsYXNzIFVzZXJGcmFnbWVudCBleHRlbmRzIEFfRnJhZ21lbnQ8eyB1c2VySWQ6IHN0cmluZzsgcm9sZTogc3RyaW5nIH0+IHtcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgc3VwZXIoeyBuYW1lOiAnVXNlckZyYWdtZW50JyB9KTtcbiAqICAgfVxuICogfSAgICBcbiAqIFxuICogLy8gQ3VzdG9tIHNlcmlhbGl6YXRpb25cbiAqIGNsYXNzIFNlc3Npb25GcmFnbWVudCBleHRlbmRzIEFfRnJhZ21lbnQ8XG4gKiAgIHsgc2Vzc2lvbklkOiBzdHJpbmc7IHRpbWVzdGFtcDogbnVtYmVyIH0sXG4gKiAgIHsgbmFtZTogc3RyaW5nOyBzZXNzaW9uRGF0YTogc3RyaW5nIH1cbiAqID4ge1xuICogICB0b0pTT04oKSB7XG4gKiAgICAgcmV0dXJuIHtcbiAqICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAqICAgICAgIHNlc3Npb25EYXRhOiBgJHt0aGlzLmdldCgnc2Vzc2lvbklkJyl9LSR7dGhpcy5nZXQoJ3RpbWVzdGFtcCcpfWBcbiAqICAgICB9O1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIEFfRnJhZ21lbnQ8XG4gICAgX1NlcmlhbGl6ZWRUeXBlIGV4dGVuZHMgQV9UWVBFU19fRnJhZ21lbnRfU2VyaWFsaXplZCA9IEFfVFlQRVNfX0ZyYWdtZW50X1NlcmlhbGl6ZWRcbj4ge1xuICAgIC8qKlxuICAgICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllci9uYW1lIGZvciB0aGlzIGZyYWdtZW50IGluc3RhbmNlLlxuICAgICAqIFVzZWQgZm9yIGlkZW50aWZpY2F0aW9uIGFuZCBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9uYW1lOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEFfRnJhZ21lbnQgaW5zdGFuY2UuXG4gICAgICogXG4gICAgICogQV9GcmFnbWVudCBpbXBsZW1lbnRzIHRoZSBzaW5nbGV0b24gcGF0dGVybiBmb3IgZXhlY3V0aW9uIGNvbnRleHRzLCBhbGxvd2luZ1xuICAgICAqIHNoYXJlZCBzdGF0ZSBtYW5hZ2VtZW50IGFjcm9zcyBkaWZmZXJlbnQgcGFydHMgb2YgdGhlIGFwcGxpY2F0aW9uIHBpcGVsaW5lLlxuICAgICAqIEVhY2ggZnJhZ21lbnQgc2VydmVzIGFzIGEgbWVtb3J5IGNvbnRhaW5lciB0aGF0IGNhbiBzdG9yZSB0eXBlZCBkYXRhIGFuZCBiZVxuICAgICAqIHNlcmlhbGl6ZWQgZm9yIHBlcnNpc3RlbmNlIG9yIHRyYW5zbWlzc2lvbi5cbiAgICAgKiBcbiAgICAgKiBLZXkgQmVuZWZpdHM6XG4gICAgICogLSBDZW50cmFsaXplZCBzdGF0ZSBtYW5hZ2VtZW50IGZvciByZWxhdGVkIG9wZXJhdGlvbnNcbiAgICAgKiAtIFR5cGUtc2FmZSBtZXRhIG9wZXJhdGlvbnMgd2l0aCBmdWxsIEludGVsbGlTZW5zZSBzdXBwb3J0XG4gICAgICogLSBTZXJpYWxpemF0aW9uIHN1cHBvcnQgZm9yIGRhdGEgcGVyc2lzdGVuY2UgXG4gICAgICogLSBTaW5nbGV0b24gcGF0dGVybiBlbnN1cmVzIGNvbnNpc3RlbnQgc3RhdGUgd2l0aGluIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtcyAtIEluaXRpYWxpemF0aW9uIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gcGFyYW1zLm5hbWUgLSBPcHRpb25hbCBjdXN0b20gbmFtZSBmb3IgdGhlIGZyYWdtZW50IChkZWZhdWx0cyB0byBjbGFzcyBuYW1lKVxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IGZyYWdtZW50ID0gbmV3IEFfRnJhZ21lbnQ8eyB1c2VySWQ6IHN0cmluZyB9Pih7IFxuICAgICAqICAgbmFtZTogJ1VzZXJTZXNzaW9uRnJhZ21lbnQnIFxuICAgICAqIH0pO1xuICAgICAqIGZyYWdtZW50LnNldCgndXNlcklkJywgJzEyMzQ1Jyk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocGFyYW1zOiBQYXJ0aWFsPEFfVFlQRVNfX0ZyYWdtZW50X0luaXQ+ID0ge30pIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IHBhcmFtcy5uYW1lIHx8IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBmcmFnbWVudCdzIHVuaXF1ZSBuYW1lL2lkZW50aWZpZXIuXG4gICAgICogXG4gICAgICogQHJldHVybnMgVGhlIGZyYWdtZW50IG5hbWVcbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemVzIHRoZSBmcmFnbWVudCB0byBhIEpTT04tY29tcGF0aWJsZSBvYmplY3QuXG4gICAgICogXG4gICAgICogVGhpcyBtZXRob2QgY29tYmluZXMgdGhlIGZyYWdtZW50J3MgbmFtZSB3aXRoIGFsbCBtZXRhIGRhdGEgdG8gY3JlYXRlXG4gICAgICogYSBzZXJpYWxpemFibGUgcmVwcmVzZW50YXRpb24uIFRoZSByZXR1cm4gdHlwZSBpcyBkZXRlcm1pbmVkIGJ5IHRoZVxuICAgICAqIF9TZXJpYWxpemVkVHlwZSBnZW5lcmljIHBhcmFtZXRlciwgYWxsb3dpbmcgZm9yIGN1c3RvbSBzZXJpYWxpemF0aW9uIGZvcm1hdHMuXG4gICAgICogXG4gICAgICogQHJldHVybnMgQSBzZXJpYWxpemVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBmcmFnbWVudFxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IGZyYWdtZW50ID0gbmV3IEFfRnJhZ21lbnQ8eyB1c2VySWQ6IHN0cmluZywgcm9sZTogc3RyaW5nIH0+KHtcbiAgICAgKiAgIG5hbWU6ICdVc2VyRnJhZ21lbnQnXG4gICAgICogfSk7XG4gICAgICogZnJhZ21lbnQuc2V0KCd1c2VySWQnLCAnMTIzNDUnKTtcbiAgICAgKiBmcmFnbWVudC5zZXQoJ3JvbGUnLCAnYWRtaW4nKTtcbiAgICAgKiBcbiAgICAgKiBjb25zdCBqc29uID0gZnJhZ21lbnQudG9KU09OKCk7XG4gICAgICogLy8gUmVzdWx0OiB7IG5hbWU6ICdVc2VyRnJhZ21lbnQnLCB1c2VySWQ6ICcxMjM0NScsIHJvbGU6ICdhZG1pbicgfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHRvSlNPTigpOiBfU2VyaWFsaXplZFR5cGUge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdCBhcyBfU2VyaWFsaXplZFR5cGU7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX1RZUEVTX19EZWVwUGFydGlhbCB9IGZyb20gXCIuLi90eXBlcy9BX0NvbW1vbi50eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgQV9Db21tb25IZWxwZXIge1xuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGltbWVkaWF0ZWx5LlxuICAgICAqIENhbiBiZSB1c2VkIGluIGFzeW5jIGZ1bmN0aW9ucyB0byBjcmVhdGUgYSByZXNvbHZlZCBwcm9taXNlLlxuICAgICAqL1xuICAgIHN0YXRpYyByZXNvbHZlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHJlc29sdmUoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYSBjbGFzcyBpcyBpbmhlcml0ZWQgZnJvbSBhbm90aGVyIGNsYXNzXG4gICAgICogXG4gICAgICogQHBhcmFtIGNoaWxkQ2xhc3MgXG4gICAgICogQHBhcmFtIHBhcmVudENsYXNzIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0luaGVyaXRlZEZyb20oY2hpbGRDbGFzczogYW55LCBwYXJlbnRDbGFzczogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBjdXJyZW50ID0gY2hpbGRDbGFzcztcblxuICAgICAgICAvLyBUcmF2ZXJzZSB0aGUgcHJvdG90eXBlIGNoYWluXG4gICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gcGFyZW50Q2xhc3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBPbWl0IHByb3BlcnRpZXMgZnJvbSBhbiBvYmplY3Qgb3IgYXJyYXkgd2l0aCBuZXN0ZWQgb2JqZWN0c1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBpbnB1dCBcbiAgICAgKiBAcGFyYW0gcGF0aHMgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIG9taXRQcm9wZXJ0aWVzPFQsIFMgZXh0ZW5kcyBzdHJpbmc+KFxuICAgICAgICBpbnB1dDogVCxcbiAgICAgICAgcGF0aHM6IHN0cmluZ1tdXG5cbiAgICApOiBPbWl0PFQsIFM+IHtcblxuICAgICAgICAvLyBEZWVwIGNsb25lIHRoZSBpbnB1dCBvYmplY3Qgb3IgYXJyYXlcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpbnB1dCkpO1xuXG4gICAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byByZWN1cnNpdmVseSByZW1vdmUgcHJvcGVydGllc1xuICAgICAgICBmdW5jdGlvbiByZW1vdmVQcm9wZXJ0aWVzKHRhcmdldDogUmVjb3JkPHN0cmluZywgYW55PiB8IGFueVtdLCBjdXJyUGF0aDogc3RyaW5nW10pIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJLZXkgPSBjdXJyUGF0aFswXTtcbiAgICAgICAgICAgIGlmIChjdXJyUGF0aC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBjdXJyZW50IHBhdGggaGFzIG9ubHkgb25lIGtleSwgZGVsZXRlIHRoZSBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXRbY3VycktleV07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldFtjdXJyS2V5XSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB0YXJnZXRbY3VycktleV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgY3VycmVudCBrZXkgZXhpc3RzIGFuZCBpcyBhbiBvYmplY3QsIHJlY3Vyc2l2ZWx5IGNhbGwgcmVtb3ZlUHJvcGVydGllc1xuICAgICAgICAgICAgICAgIHJlbW92ZVByb3BlcnRpZXModGFyZ2V0W2N1cnJLZXldLCBjdXJyUGF0aC5zbGljZSgxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggZWFjaCBwYXRoIGFuZCByZW1vdmUgY29ycmVzcG9uZGluZyBwcm9wZXJ0aWVzIGZyb20gdGhlIHJlc3VsdFxuICAgICAgICBwYXRocy5mb3JFYWNoKHBhdGggPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aEtleXMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICByZW1vdmVQcm9wZXJ0aWVzKHJlc3VsdCwgcGF0aEtleXMpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0IGFzIE9taXQ8VCwgUz47XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgaXNPYmplY3QoaXRlbTogdW5rbm93bik6IGl0ZW0gaXMgUmVjb3JkPHN0cmluZywgYW55PiB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBudWxsICYmIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpdGVtKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVlcE1lcmdlPFQgPSBhbnk+KHRhcmdldDogYW55LCBzb3VyY2U6IGFueSwgdmlzaXRlZCA9IG5ldyBNYXA8YW55LCBhbnk+KCkpOiBUIHtcbiAgICAgICAgaWYgKHRoaXMuaXNPYmplY3QodGFyZ2V0KSAmJiB0aGlzLmlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzT2JqZWN0KHNvdXJjZVtrZXldKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldFtrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzb3VyY2Ugb2JqZWN0IGhhcyBhbHJlYWR5IGJlZW4gdmlzaXRlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZpc2l0ZWQuaGFzKHNvdXJjZVtrZXldKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRlZC5zZXQoc291cmNlW2tleV0sIHt9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVlcE1lcmdlKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSwgdmlzaXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHZpc2l0ZWQuZ2V0KHNvdXJjZVtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgZGVlcENsb25lPFQ+KHRhcmdldDogVCk6IFQge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgdmFsdWUgaXMgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gbnVsbCB8fCB0YXJnZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBwcmltaXRpdmUgdHlwZXMgKHN0cmluZywgbnVtYmVyLCBib29sZWFuLCBldGMuKVxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgRGF0ZVxuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRhcmdldC5nZXRUaW1lKCkpIGFzIFQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgQXJyYXlcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5tYXAoaXRlbSA9PiB0aGlzLmRlZXBDbG9uZShpdGVtKSkgYXMgdW5rbm93biBhcyBUO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIEZ1bmN0aW9uXG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIE9iamVjdFxuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgICAgICBjb25zdCBjbG9uZSA9IHt9IGFzIFQ7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVba2V5XSA9IHRoaXMuZGVlcENsb25lKHRhcmdldFtrZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3IgYW55IG90aGVyIGNhc2VzXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNsb25lIHRoZSBvYmplY3QuIFVuc3VwcG9ydGVkIHR5cGUuJyk7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgZGVlcENsb25lQW5kTWVyZ2U8VD4odGFyZ2V0OiBBX1RZUEVTX19EZWVwUGFydGlhbDxUPiwgc291cmNlOiBUKTogVCB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIChzb3VyY2UgPT09IG51bGwgfHwgc291cmNlID09PSB1bmRlZmluZWQpICYmXG4gICAgICAgICAgICAodGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gdW5kZWZpbmVkKSlcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHZhbHVlIGlzIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmICgodGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gdW5kZWZpbmVkKSAmJlxuICAgICAgICAgICAgc291cmNlXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVlcENsb25lKHNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgcHJpbWl0aXZlIHR5cGVzIChzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgZXRjLilcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIEhhbmRsZSBEYXRlXG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodGFyZ2V0LmdldFRpbWUoKSkgYXMgVDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBBcnJheVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lm1hcChpdGVtID0+IHRoaXMuZGVlcENsb25lQW5kTWVyZ2UoaXRlbSwgc291cmNlKSkgYXMgdW5rbm93biBhcyBUO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIEZ1bmN0aW9uXG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIE9iamVjdFxuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgICAgICBjb25zdCBjbG9uZSA9IHt9IGFzIFQ7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVtrZXldICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICYmXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVtrZXldICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIGNsb25lW2tleV0gPSB0aGlzLmRlZXBDbG9uZUFuZE1lcmdlKHRhcmdldFtrZXkgYXMgYW55XSwgc291cmNlW2tleV0pO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVba2V5IGFzIGFueV0gPSB0aGlzLmRlZXBDbG9uZSh0YXJnZXRba2V5XSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAmJlxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVba2V5XSA9IHRoaXMuZGVlcENsb25lQW5kTWVyZ2UodGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGNsb25lW2tleV0gPSB0aGlzLmRlZXBDbG9uZShzb3VyY2Vba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3IgYW55IG90aGVyIGNhc2VzXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNsb25lIHRoZSBvYmplY3QuIFVuc3VwcG9ydGVkIHR5cGUuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgcmVhZGFibGUgbmFtZSBmb3IgYSBjb21wb25lbnQgKHN0cmluZywgY2xhc3MsIGZ1bmN0aW9uLCBSZWFjdCBlbGVtZW50LCBpbnN0YW5jZSwgZXRjLilcbiAgICAgKlxuICAgICAqIENvdmVyczpcbiAgICAgKiAtIHN0cmluZyB0YWdzIChcImRpdlwiKVxuICAgICAqIC0gc3ltYm9scyAoU3ltYm9sLmZvcigneHh4JykpXG4gICAgICogLSBmdW5jdGlvbnMgYW5kIGNsYXNzZXMgKHdpdGggbmFtZSBvciBkaXNwbGF5TmFtZSlcbiAgICAgKiAtIFJlYWN0IGVsZW1lbnRzIChvYmplY3Qgd2l0aCBgdHlwZWApXG4gICAgICogLSBjb21wb25lbnQgaW5zdGFuY2VzIChjb25zdHJ1Y3Rvci5uYW1lKVxuICAgICAqIC0gb2JqZWN0cyB3aXRoIGN1c3RvbSB0b1N0cmluZyByZXR1cm5pbmcgbWVhbmluZ2Z1bCBpbmZvXG4gICAgICpcbiAgICAgKiBGYWxscyBiYWNrIHRvIHNlbnNpYmxlIGRlZmF1bHRzIChcIlVua25vd25cIiAvIFwiQW5vbnltb3VzXCIpLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRDb21wb25lbnROYW1lKGNvbXBvbmVudDogYW55KTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgVU5LTk9XTiA9ICdVbmtub3duJztcbiAgICAgICAgY29uc3QgQU5PTllNT1VTID0gJ0Fub255bW91cyc7XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudCA9PT0gbnVsbCB8fCBjb21wb25lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIFVOS05PV047XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdHJpbmdzIChIVE1MIHRhZ3Mgb3IgZXhwbGljaXQgbmFtZXMpXG4gICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudCB8fCBVTktOT1dOO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3ltYm9sc1xuICAgICAgICBpZiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFVOS05PV047XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcnJheXMgLSB0cnkgdG8gZGVyaXZlIGZyb20gZmlyc3QgZWxlbWVudFxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb21wb25lbnQpKSB7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIFVOS05PV047XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb21wb25lbnROYW1lKGNvbXBvbmVudFswXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGdW5jdGlvbnMgYW5kIGNsYXNzZXNcbiAgICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IGZuQW55ID0gY29tcG9uZW50IGFzIGFueTtcbiAgICAgICAgICAgIC8vIENvbW1vbiBSZWFjdCBjb252ZW50aW9uXG4gICAgICAgICAgICBpZiAoZm5BbnkuZGlzcGxheU5hbWUpIHJldHVybiBTdHJpbmcoZm5BbnkuZGlzcGxheU5hbWUpO1xuICAgICAgICAgICAgaWYgKGZuQW55Lm5hbWUpIHJldHVybiBTdHJpbmcoZm5BbnkubmFtZSk7XG5cbiAgICAgICAgICAgIC8vIFRyeSB0byBleHRyYWN0IGEgbmFtZSBmcm9tIHNvdXJjZSBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzcmMgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIC8vIGNsYXNzIEZvbyB7IC4uLiB9IG9yIGZ1bmN0aW9uIGZvbygpIHsgLi4uIH0gb3IgZm9vID0+IC4uLlxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gc3JjLm1hdGNoKC9eKD86Y2xhc3NcXHMrKFtBLVphLXowLTlfJF0rKXxmdW5jdGlvblxccysoW0EtWmEtejAtOV8kXSspfChbQS1aYS16MC05XyRdKylcXHMqPT4pLyk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaFsxXSB8fCBtYXRjaFsyXSB8fCBtYXRjaFszXSB8fCBBTk9OWU1PVVM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLy8gZmFsbHRocm91Z2hcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBBTk9OWU1PVVM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPYmplY3RzIChpbnN0YW5jZXMsIFJlYWN0IGVsZW1lbnRzLCBwbGFpbiBvYmplY3RzKVxuICAgICAgICBpZiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IG9iakFueSA9IGNvbXBvbmVudCBhcyBhbnk7XG5cbiAgICAgICAgICAgIC8vIFJlYWN0IGVsZW1lbnQ6IHsgdHlwZTogQ29tcG9uZW50T3JTdHJpbmcsIHByb3BzOiAuLi4gfVxuICAgICAgICAgICAgaWYgKG9iakFueS50eXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tcG9uZW50TmFtZShvYmpBbnkudHlwZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlYWN0IGZvcndhcmRSZWYgLyBtZW1vIHdyYXBwZXJzIG9mdGVuIGV4cG9zZSBkaXNwbGF5TmFtZVxuICAgICAgICAgICAgaWYgKG9iakFueS5kaXNwbGF5TmFtZSkgcmV0dXJuIFN0cmluZyhvYmpBbnkuZGlzcGxheU5hbWUpO1xuICAgICAgICAgICAgaWYgKG9iakFueS5uYW1lKSByZXR1cm4gU3RyaW5nKG9iakFueS5uYW1lKTtcblxuICAgICAgICAgICAgLy8gSW5zdGFuY2U6IHVzZSBjb25zdHJ1Y3RvciBuYW1lIGlmIGF2YWlsYWJsZSBhbmQgbm90IE9iamVjdFxuICAgICAgICAgICAgaWYgKG9iakFueS5jb25zdHJ1Y3RvciAmJiBvYmpBbnkuY29uc3RydWN0b3IubmFtZSAmJiBvYmpBbnkuY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKG9iakFueS5jb25zdHJ1Y3Rvci5uYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgb2JqZWN0IGltcGxlbWVudHMgYSBtZWFuaW5nZnVsIHRvU3RyaW5nLCB0cnkgaXRcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IG9iakFueS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycgJiYgcyAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLy8gaWdub3JlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBBTk9OWU1PVVM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGYWxsYmFjayBmb3Igb3RoZXIgdHlwZXNcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcoY29tcG9uZW50KTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gVU5LTk9XTjtcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcblxuZXhwb3J0IGNsYXNzIEFfU2NvcGVFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgSW5pdGlhbGl6YXRpb25FcnJvciA9ICdBLVNjb3BlIEluaXRpYWxpemF0aW9uIEVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBDb25zdHJ1Y3RvckVycm9yID0gJ1VuYWJsZSB0byBjb25zdHJ1Y3QgQS1TY29wZSBpbnN0YW5jZSc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgUmVzb2x1dGlvbkVycm9yID0gJ0EtU2NvcGUgUmVzb2x1dGlvbiBFcnJvcic7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgUmVnaXN0cmF0aW9uRXJyb3IgPSAnQS1TY29wZSBSZWdpc3RyYXRpb24gRXJyb3InO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IENpcmN1bGFySW5oZXJpdGFuY2VFcnJvciA9ICdBLVNjb3BlIENpcmN1bGFyIEluaGVyaXRhbmNlIEVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBEZXJlZ2lzdHJhdGlvbkVycm9yID0gJ0EtU2NvcGUgRGVyZWdpc3RyYXRpb24gRXJyb3InO1xufSIsICJpbXBvcnQge1xuICAgIEFfVFlQRVNfX1Njb3BlQ29uZmlnLFxuICAgIEFfVFlQRVNfX1Njb3BlX0luaXQsXG4gICAgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzLFxuICAgIEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHMsXG4gICAgQV9UWVBFU19fU2NvcGVfQ29uc3RydWN0b3IsXG4gICAgQV9UWVBFU19fU2NvcGVMaW5rZWRDb25zdHJ1Y3RvcnNcbn0gZnJvbSAnLi9BLVNjb3BlLnR5cGVzJ1xuaW1wb3J0IHtcbiAgICBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25JbnN0cnVjdGlvbnMsXG4gICAgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uUXVlcnksXG4gICAgQV9UWVBFU19fSW5qZWN0YWJsZUNvbnN0cnVjdG9ycyxcbn0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX0ZyYWdtZW50IH0gZnJvbSBcIi4uL0EtRnJhZ21lbnQvQS1GcmFnbWVudC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIi4uL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ29tcG9uZW50IH0gZnJvbSBcIi4uL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0VudGl0eSB9IGZyb20gXCIuLi9BLUVudGl0eS9BLUVudGl0eS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Gb3JtYXR0ZXJIZWxwZXIgfSBmcm9tICdAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Gb3JtYXR0ZXIuaGVscGVyJztcbmltcG9ydCB7IEFTRUlEIH0gZnJvbSAnLi4vQVNFSUQvQVNFSUQuY2xhc3MnO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tICdAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyJztcbmltcG9ydCB7IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvciB9IGZyb20gJy4uL0EtRW50aXR5L0EtRW50aXR5LnR5cGVzJztcbmltcG9ydCB7IEFfU2NvcGVFcnJvciB9IGZyb20gJy4vQS1TY29wZS5lcnJvcic7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IgfSBmcm9tICcuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC50eXBlcyc7XG5pbXBvcnQgeyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvciB9IGZyb20gJy4uL0EtRnJhZ21lbnQvQS1GcmFnbWVudC50eXBlcyc7XG5pbXBvcnQgeyBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvciB9IGZyb20gJy4uL0EtRXJyb3IvQV9FcnJvci50eXBlcyc7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSAnLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQuY29uc3RhbnRzJztcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gJy4uL0EtTWV0YS9BLU1ldGEuY2xhc3MnO1xuXG5cblxuXG5leHBvcnQgY2xhc3MgQV9TY29wZTxcbiAgICBfTWV0YUl0ZW1zIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IGFueSxcbiAgICBfQ29tcG9uZW50VHlwZSBleHRlbmRzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcltdID0gQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yW10sXG4gICAgX0Vycm9yVHlwZSBleHRlbmRzIEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yW10gPSBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcltdLFxuICAgIF9FbnRpdHlUeXBlIGV4dGVuZHMgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yW10gPSBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3JbXSxcbiAgICBfRnJhZ21lbnRUeXBlIGV4dGVuZHMgQV9GcmFnbWVudFtdID0gQV9GcmFnbWVudFtdLFxuPiB7XG5cbiAgICAvKipcbiAgICAgKiBTY29wZSBOYW1lIHVzZXMgZm9yIGlkZW50aWZpY2F0aW9uIGFuZCBsb2dnaW5nIHB1cnBvc2VzXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9uYW1lITogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFBhcmVudCBzY29wZSByZWZlcmVuY2UsIHVzZWQgZm9yIGluaGVyaXRhbmNlIG9mIGNvbXBvbmVudHMsIGZyYWdtZW50cywgZW50aXRpZXMgYW5kIGNvbW1hbmRzXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9wYXJlbnQ/OiBBX1Njb3BlO1xuICAgIC8qKlxuICAgICAqIEludGVybmFsIG1ldGEgc3RvcmFnZSB1c2luZyBBX01ldGEgZm9yIHR5cGUtc2FmZSBrZXktdmFsdWUgb3BlcmF0aW9ucy5cbiAgICAgKiBUaGlzIHN0b3JlcyBhbGwgdGhlIHNjb3BlJ3MgcnVudGltZSBkYXRhIHRoYXQgY2FuIGJlIGFjY2Vzc2VkIGFuZCBtb2RpZmllZFxuICAgICAqIHRocm91Z2hvdXQgdGhlIGV4ZWN1dGlvbiBwaXBlbGluZSBvciB3aXRoaW4gcnVubmluZyBjb250YWluZXJzLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfbWV0YTogQV9NZXRhPF9NZXRhSXRlbXM+ID0gbmV3IEFfTWV0YTxfTWV0YUl0ZW1zPigpO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1BTExvd2VkIENvbnN0cnVjdG9ycy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogQSBzZXQgb2YgYWxsb3dlZCBjb21wb25lbnRzLCBBIHNldCBvZiBjb25zdHJ1Y3RvcnMgdGhhdCBhcmUgYWxsb3dlZCBpbiB0aGUgc2NvcGVcbiAgICAgKiAgICAgIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfYWxsb3dlZENvbXBvbmVudHMgPSBuZXcgU2V0PF9Db21wb25lbnRUeXBlW251bWJlcl0+KCk7XG4gICAgLyoqXG4gICAgICogQSBzZXQgb2YgYWxsb3dlZCBlcnJvcnMsIEEgc2V0IG9mIGNvbnN0cnVjdG9ycyB0aGF0IGFyZSBhbGxvd2VkIGluIHRoZSBzY29wZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfYWxsb3dlZEVycm9ycyA9IG5ldyBTZXQ8X0Vycm9yVHlwZVtudW1iZXJdPigpO1xuICAgIC8qKlxuICAgICAqIEEgc2V0IG9mIGFsbG93ZWQgZW50aXRpZXMsIEEgc2V0IG9mIGNvbnN0cnVjdG9ycyB0aGF0IGFyZSBhbGxvd2VkIGluIHRoZSBzY29wZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfYWxsb3dlZEVudGl0aWVzID0gbmV3IFNldDxfRW50aXR5VHlwZVtudW1iZXJdPigpO1xuICAgIC8qKlxuICAgICAqIEEgc2V0IG9mIGFsbG93ZWQgZnJhZ21lbnRzLCBBIHNldCBvZiBjb25zdHJ1Y3RvcnMgdGhhdCBhcmUgYWxsb3dlZCBpbiB0aGUgc2NvcGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2FsbG93ZWRGcmFnbWVudHMgPSBuZXcgU2V0PEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPF9GcmFnbWVudFR5cGVbbnVtYmVyXT4+KCk7XG5cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1JbnRlcm5hbCBTdG9yYWdlLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBTdG9yYWdlIGZvciB0aGUgY29tcG9uZW50cywgc2hvdWxkIGJlIHN0cm9uZyBhcyBjb21wb25lbnRzIGFyZSB1bmlxdWUgcGVyIHNjb3BlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9jb21wb25lbnRzOiBNYXA8X0NvbXBvbmVudFR5cGVbbnVtYmVyXSwgSW5zdGFuY2VUeXBlPF9Db21wb25lbnRUeXBlW251bWJlcl0+PiA9IG5ldyBNYXAoKTtcbiAgICAvKipcbiAgICAgKiBTdG9yYWdlIGZvciB0aGUgZXJyb3JzLCBzaG91bGQgYmUgc3Ryb25nIGFzIGVycm9ycyBhcmUgdW5pcXVlIHBlciBjb2RlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9lcnJvcnM6IE1hcDxzdHJpbmcsIEluc3RhbmNlVHlwZTxfRXJyb3JUeXBlW251bWJlcl0+PiA9IG5ldyBNYXAoKTtcbiAgICAvKipcbiAgICAgKiBTdG9yYWdlIGZvciB0aGUgZW50aXRpZXMsIHNob3VsZCBiZSBzdHJvbmcgYXMgZW50aXRpZXMgYXJlIHVuaXF1ZSBwZXIgYXNlaWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2VudGl0aWVzOiBNYXA8c3RyaW5nLCBJbnN0YW5jZVR5cGU8X0VudGl0eVR5cGVbbnVtYmVyXT4+ID0gbmV3IE1hcCgpO1xuICAgIC8qKlxuICAgICAqIFN0b3JhZ2UgZm9yIHRoZSBmcmFnbWVudHMsIHNob3VsZCBiZSB3ZWFrIGFzIGZyYWdtZW50cyBhcmUgc2luZ2xldG9ucyBwZXIgc2NvcGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2ZyYWdtZW50czogTWFwPEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPF9GcmFnbWVudFR5cGVbbnVtYmVyXT4sIF9GcmFnbWVudFR5cGVbbnVtYmVyXT4gPSBuZXcgTWFwKCk7XG5cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVJlYWRvbmx5IEFsbG93ZWQgUHJvcGVydGllcy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBuYW1lIG9mIHRoZSBzY29wZVxuICAgICAqL1xuICAgIGdldCBuYW1lKCkgeyByZXR1cm4gdGhpcy5fbmFtZSB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWV0YSBvYmplY3Qgb2YgdGhlIHNjb3BlXG4gICAgICovXG4gICAgZ2V0IG1ldGEoKSB7IHJldHVybiB0aGlzLl9tZXRhIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBDb25zdHJ1Y3RvcnMgZm9yIEEtQ29tcG9uZW50cyB0aGF0IGFyZSBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICovXG4gICAgZ2V0IGFsbG93ZWRDb21wb25lbnRzKCkgeyByZXR1cm4gdGhpcy5fYWxsb3dlZENvbXBvbmVudHMgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIENvbnN0cnVjdG9ycyBmb3IgQS1FbnRpdGllcyB0aGF0IGFyZSBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICovXG4gICAgZ2V0IGFsbG93ZWRFbnRpdGllcygpIHsgcmV0dXJuIHRoaXMuX2FsbG93ZWRFbnRpdGllcyB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgQ29uc3RydWN0b3JzIGZvciBBLUZyYWdtZW50cyB0aGF0IGFyZSBhdmFpbGFibGUgaW4gdGhlIHNjb3BlXG4gICAgICovXG4gICAgZ2V0IGFsbG93ZWRGcmFnbWVudHMoKSB7IHJldHVybiB0aGlzLl9hbGxvd2VkRnJhZ21lbnRzIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBDb25zdHJ1Y3RvcnMgZm9yIEEtRXJyb3JzIHRoYXQgYXJlIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgKi9cbiAgICBnZXQgYWxsb3dlZEVycm9ycygpIHsgcmV0dXJuIHRoaXMuX2FsbG93ZWRFcnJvcnMgfVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tUmVhZG9ubHkgUmVnaXN0ZXJlZCBQcm9wZXJ0aWVzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIEFycmF5IG9mIGVudGl0aWVzIHJlZ2lzdGVyZWQgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogWyFdIE9uZSBlbnRpdHkgcGVyIGFzZWlkXG4gICAgICovXG4gICAgZ2V0IGVudGl0aWVzKCk6IEFycmF5PEluc3RhbmNlVHlwZTxfRW50aXR5VHlwZVtudW1iZXJdPj4geyByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9lbnRpdGllcy52YWx1ZXMoKSkgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gQXJyYXkgb2YgZnJhZ21lbnRzIHJlZ2lzdGVyZWQgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogWyFdIE9uZSBmcmFnbWVudCBwZXIgc2NvcGVcbiAgICAgKi9cbiAgICBnZXQgZnJhZ21lbnRzKCk6IEFycmF5PF9GcmFnbWVudFR5cGVbbnVtYmVyXT4geyByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9mcmFnbWVudHMudmFsdWVzKCkpIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIEFycmF5IG9mIGNvbXBvbmVudHMgcmVnaXN0ZXJlZCBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gT25lIGNvbXBvbmVudCBpbnN0YW5jZSBwZXIgc2NvcGVcbiAgICAgKi9cbiAgICBnZXQgY29tcG9uZW50cygpOiBBcnJheTxJbnN0YW5jZVR5cGU8X0NvbXBvbmVudFR5cGVbbnVtYmVyXT4+IHsgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fY29tcG9uZW50cy52YWx1ZXMoKSkgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gQXJyYXkgb2YgZXJyb3JzIHJlZ2lzdGVyZWQgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogWyFdIE9uZSBlcnJvciBwZXIgY29kZVxuICAgICAqL1xuICAgIGdldCBlcnJvcnMoKTogQXJyYXk8SW5zdGFuY2VUeXBlPF9FcnJvclR5cGVbbnVtYmVyXT4+IHsgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fZXJyb3JzLnZhbHVlcygpKSB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwYXJlbnQgc2NvcGUgb2YgdGhlIGN1cnJlbnQgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2V0VmFsdWUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZ2V0IHBhcmVudCgpOiBBX1Njb3BlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQV9TY29wZSByZWZlcnMgdG8gdGhlIHZpc2liaWxpdHkgYW5kIGFjY2Vzc2liaWxpdHkgb2YgOlxuICAgICAqIC0gdmFyaWFibGVzLCBcbiAgICAgKiAtIENvbXBvbmVudHMsIFxuICAgICAqIC0gQ29udGV4dCBGcmFnbWVudHMgXG4gICAgICogLSBFbnRpdGllc1xuICAgICAqIC0gYW5kIG9iamVjdHMgaW4gZGlmZmVyZW50IHBhcnRzIG9mIHlvdXIgY29kZS4gXG4gICAgICogU2NvcGUgZGV0ZXJtaW5lcyB3aGVyZSBhIHBhcnRpY3VsYXIgcGllY2Ugb2YgZGF0YSAobGlrZSBhIHZhcmlhYmxlIG9yIGZ1bmN0aW9uKSBcbiAgICAgKiBjYW4gYmUgYWNjZXNzZWQsIG1vZGlmaWVkLCBvciByZWZlcmVuY2VkLCBhbmQgaXQgcGxheXMgYSBjcnVjaWFsIHJvbGUgaW4gYXZvaWRpbmcgbmFtaW5nIGNvbGxpc2lvbnMgYW5kIGVuc3VyaW5nIGRhdGEgaW50ZWdyaXR5LiBcbiAgICAgKiBcbiAgICAgKiBbIV0gVGhlIHNjb3BlIGJlaGF2aW9yIGlzIHNpbWlsYXIgdG8gdHJlZSBzdHJ1Y3R1cmUgd2hlcmUgZWFjaCBzY29wZSBjYW4gaGF2ZSBhIHBhcmVudCBzY29wZSBhbmQgaW5oZXJpdCBpdHMgY29tcG9uZW50cywgZnJhZ21lbnRzLCBlbnRpdGllcyBhbmQgZXJyb3JzXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtcyBcbiAgICAgKiBAcGFyYW0gY29uZmlnIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2V0IG9mIGNvbnN0cnVjdG9ycyB0aGF0IGFyZSBhbGxvd2VkIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW1zOiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlX0luaXQ8X01ldGFJdGVtcywgX0NvbXBvbmVudFR5cGUsIF9FcnJvclR5cGUsIF9FbnRpdHlUeXBlLCBfRnJhZ21lbnRUeXBlPj4sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogUGFydGlhbDxBX1RZUEVTX19TY29wZUNvbmZpZz5cbiAgICApXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBhcmFtMT86IFBhcnRpYWw8QV9UWVBFU19fU2NvcGVfSW5pdDxfTWV0YUl0ZW1zLCBfQ29tcG9uZW50VHlwZSwgX0Vycm9yVHlwZSwgX0VudGl0eVR5cGUsIF9GcmFnbWVudFR5cGU+PixcbiAgICAgICAgcGFyYW0yPzogUGFydGlhbDxBX1RZUEVTX19TY29wZUNvbmZpZz5cbiAgICApIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZXIgPSB0aGlzLmdldEluaXRpYWxpemVyKHBhcmFtMSk7XG4gICAgICAgIC8vIHRoZSByZXR1cm5lZCBpbml0aWFsaXplciBpcyBhbHJlYWR5IGJvdW5kIHRvIGB0aGlzYCAod2UgdXNlZCAuYmluZCh0aGlzKSksXG4gICAgICAgIC8vIHNvIGNhbGxpbmcgaXQgd2lsbCBydW4gdGhlIGFwcHJvcHJpYXRlIGxvZ2ljIG9uIHRoaXMgaW5zdGFuY2U6XG4gICAgICAgIGluaXRpYWxpemVyLmNhbGwodGhpcywgcGFyYW0xLCBwYXJhbTIpO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoaWNoIGluaXRpYWxpemVyIG1ldGhvZCB0byB1c2UgYmFzZWQgb24gdGhlIHR5cGUgb2YgdGhlIGZpcnN0IHBhcmFtZXRlci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW0xIFxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldEluaXRpYWxpemVyKFxuICAgICAgICBwYXJhbTE/OiBQYXJ0aWFsPEFfVFlQRVNfX1Njb3BlX0luaXQ8X01ldGFJdGVtcywgX0NvbXBvbmVudFR5cGUsIF9FcnJvclR5cGUsIF9FbnRpdHlUeXBlLCBfRnJhZ21lbnRUeXBlPj4sXG4gICAgICAgIHBhcmFtMj86IFBhcnRpYWw8QV9UWVBFU19fU2NvcGVDb25maWc+XG4gICAgKTogKHBhcmFtMTogYW55LCBwYXJhbTI6IGFueSkgPT4gdm9pZCB8ICgoKSA9PiB2b2lkKSB7XG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSAhcGFyYW0xICYmICFwYXJhbTI6IDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0SW5pdGlhbGl6ZWQ7XG5cbiAgICAgICAgICAgIGNhc2UgISFwYXJhbTE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdEluaXRpYWxpemVkO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKEFfU2NvcGVFcnJvci5Db25zdHJ1Y3RvckVycm9yLCAnSW52YWxpZCBwYXJhbWV0ZXJzIHByb3ZpZGVkIHRvIEFfU2NvcGUgY29uc3RydWN0b3InKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICBwcm90ZWN0ZWQgZGVmYXVsdEluaXRpYWxpemVkKFxuICAgICAgICBwYXJhbXM6IFBhcnRpYWw8QV9UWVBFU19fU2NvcGVfSW5pdDxfTWV0YUl0ZW1zLCBfQ29tcG9uZW50VHlwZSwgX0Vycm9yVHlwZSwgX0VudGl0eVR5cGUsIF9GcmFnbWVudFR5cGU+PiA9IHt9LFxuICAgICAgICBjb25maWc6IFBhcnRpYWw8QV9UWVBFU19fU2NvcGVDb25maWc+ID0ge31cbiAgICApIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IHBhcmFtcy5uYW1lIHx8IHRoaXMuY29uc3RydWN0b3IubmFtZVxuXG4gICAgICAgIHRoaXMuaW5pdENvbXBvbmVudHMocGFyYW1zLmNvbXBvbmVudHMpO1xuICAgICAgICB0aGlzLmluaXRFcnJvcnMocGFyYW1zLmVycm9ycyk7XG4gICAgICAgIHRoaXMuaW5pdEZyYWdtZW50cyhwYXJhbXMuZnJhZ21lbnRzKTtcbiAgICAgICAgdGhpcy5pbml0RW50aXRpZXMocGFyYW1zLmVudGl0aWVzKTtcbiAgICAgICAgdGhpcy5pbml0TWV0YShwYXJhbXMubWV0YSk7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudCA9IGNvbmZpZy5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVNjb3BlIEluaXRpYWxpemF0aW9uIE1ldGhvZHMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGluaXRpYWxpemUgdGhlIGNvbXBvbmVudHMgaW4gdGhlIHNjb3BlXG4gICAgICogVG8gc2F2ZSBtZW1vcnkgY29tcG9uZW50cyBhcmUgaW5pdGlhbGl6ZWQgb25seSB3aGVuIHRoZXkgYXJlIHJlcXVlc3RlZFxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIG9ubHkgcmVnaXN0ZXJzIHRoZSBjb21wb25lbnQgaW4gdGhlIHNjb3BlIGluIGNhc2UgdGhleSBhcmUgbm90IHJlZ2lzdGVyZWQgeWV0XG4gICAgICogXG4gICAgICogQHBhcmFtIF9jb21wb25lbnRzIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpbml0Q29tcG9uZW50cyhfY29tcG9uZW50cz86IF9Db21wb25lbnRUeXBlKSB7IF9jb21wb25lbnRzPy5mb3JFYWNoKHRoaXMucmVnaXN0ZXIuYmluZCh0aGlzKSk7IH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGluaXRpYWxpemUgdGhlIGVycm9ycyBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBvbmx5IHJlZ2lzdGVycyB0aGUgZXJyb3JzIGluIHRoZSBzY29wZSBpbiBjYXNlIHRoZXkgYXJlIG5vdCByZWdpc3RlcmVkIHlldFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBfZXJyb3JzIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpbml0RXJyb3JzKF9lcnJvcnM/OiBfRXJyb3JUeXBlKSB7IF9lcnJvcnM/LmZvckVhY2godGhpcy5yZWdpc3Rlci5iaW5kKHRoaXMpKTsgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gaW5pdGlhbGl6ZSB0aGUgZW50aXRpZXMgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogVGhpcyBtZXRob2Qgb25seSByZWdpc3RlcnMgdGhlIGVudGl0aWVzIGluIHRoZSBzY29wZSBpbiBjYXNlIHRoZXkgYXJlIG5vdCByZWdpc3RlcmVkIHlldFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBfZW50aXRpZXMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGluaXRFbnRpdGllcyhfZW50aXRpZXM/OiBbXG4gICAgICAgIC4uLl9FbnRpdHlUeXBlLFxuICAgICAgICAuLi5JbnN0YW5jZVR5cGU8X0VudGl0eVR5cGVbbnVtYmVyXT5bXVxuICAgIF0pIHsgX2VudGl0aWVzPy5mb3JFYWNoKGVudCA9PiB0aGlzLnJlZ2lzdGVyKGVudCBhcyBhbnkpKTsgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gaW5pdGlhbGl6ZSB0aGUgZnJhZ21lbnRzIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIG9ubHkgcmVnaXN0ZXJzIHRoZSBmcmFnbWVudHMgaW4gdGhlIHNjb3BlIGluIGNhc2UgdGhleSBhcmUgbm90IHJlZ2lzdGVyZWQgeWV0XG4gICAgICogXG4gICAgICogQHBhcmFtIF9mcmFnbWVudHMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGluaXRGcmFnbWVudHMoX2ZyYWdtZW50cz86IF9GcmFnbWVudFR5cGUpIHsgX2ZyYWdtZW50cz8uZm9yRWFjaCh0aGlzLnJlZ2lzdGVyLmJpbmQodGhpcykpOyB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBpbml0aWFsaXplIHRoZSBtZXRhIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIG9ubHkgc2V0cyB0aGUgbWV0YSB2YWx1ZXMgaW4gdGhlIHNjb3BlIGluIGNhc2UgdGhleSBhcmUgbm90IHNldCB5ZXRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gX21ldGEgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGluaXRNZXRhKF9tZXRhPzogUGFydGlhbDxfTWV0YUl0ZW1zPikge1xuICAgICAgICBpZiAoX21ldGEpIHtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKF9tZXRhKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXRhLnNldChrZXkgYXMga2V5b2YgX01ldGFJdGVtcywgdmFsdWUgYXMgX01ldGFJdGVtc1trZXlvZiBfTWV0YUl0ZW1zXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVNjb3BlIFB1YmxpYyBNZXRob2RzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gZGVzdHJveSB0aGUgc2NvcGUgYW5kIGFsbCBpdHMgcmVnaXN0ZXJlZCBjb21wb25lbnRzLCBmcmFnbWVudHMgYW5kIGVudGl0aWVzXG4gICAgICogXG4gICAgICogWyFdIFRoaXMgbWV0aG9kIGRlcmVnaXN0ZXJzIGFsbCBjb21wb25lbnRzLCBmcmFnbWVudHMgYW5kIGVudGl0aWVzIGZyb20gdGhlIEEtQ29udGV4dFxuICAgICAqIFshXSBUaGlzIG1ldGhvZCBhbHNvIGNsZWFycyBhbGwgaW50ZXJuYWwgcmVnaXN0cmllcyBhbmQgY29sbGVjdGlvbnNcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50ID0+IEFfQ29udGV4dC5kZXJlZ2lzdGVyKGNvbXBvbmVudCkpO1xuICAgICAgICB0aGlzLl9mcmFnbWVudHMuZm9yRWFjaChmcmFnbWVudCA9PiBBX0NvbnRleHQuZGVyZWdpc3RlcihmcmFnbWVudCkpO1xuICAgICAgICB0aGlzLl9lbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiBBX0NvbnRleHQuZGVyZWdpc3RlcihlbnRpdHkpKTtcblxuICAgICAgICB0aGlzLl9jb21wb25lbnRzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2Vycm9ycy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9mcmFnbWVudHMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fZW50aXRpZXMuY2xlYXIoKTtcblxuICAgICAgICBpZiAodGhpcy5pc3N1ZXIoKSkge1xuXG4gICAgICAgICAgICBBX0NvbnRleHQuZGVhbGxvY2F0ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgdmFsdWUgZnJvbSB0aGUgc2NvcGUncyBtZXRhLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbSAtIFRoZSBrZXkgdG8gcmV0cmlldmVcbiAgICAgKiBAcmV0dXJucyBUaGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBrZXksIG9yIHVuZGVmaW5lZCBpZiBub3QgZm91bmRcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCB1c2VySWQgPSBzY29wZS5nZXQoJ3VzZXJJZCcpO1xuICAgICAqIGlmICh1c2VySWQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGBDdXJyZW50IHVzZXI6ICR7dXNlcklkfWApO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBnZXQ8SyBleHRlbmRzIGtleW9mIF9NZXRhSXRlbXM+KHBhcmFtOiBLKTogX01ldGFJdGVtc1tLXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXRhLmdldChwYXJhbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcmVzIGEgdmFsdWUgaW4gdGhlIHNjb3BlJ3MgbWV0YS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW0gLSBUaGUga2V5IHRvIHN0b3JlIHRoZSB2YWx1ZSB1bmRlclxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBzdG9yZVxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIHNjb3BlLnNldCgndXNlcklkJywgJzEyMzQ1Jyk7XG4gICAgICogc2NvcGUuc2V0KCdyb2xlJywgJ2FkbWluJyk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgc2V0PEsgZXh0ZW5kcyBrZXlvZiBfTWV0YUl0ZW1zPihwYXJhbTogSywgdmFsdWU6IF9NZXRhSXRlbXNbS10pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fbWV0YS5zZXQocGFyYW0sIHZhbHVlKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGlzc3VlciBvZiB0aGUgc2NvcGUsIHVzZWZ1bCBmb3IgZGVidWdnaW5nIGFuZCB0cmFja2luZyBwdXJwb3Nlc1xuICAgICAqIFxuICAgICAqIElzc3VlciBjYW4gYmU6XG4gICAgICogLSBBIENvbnRhaW5lciB0aGF0IGFsbG9jYXRlZCB0aGUgc2NvcGVcbiAgICAgKiAtIEEgRmVhdHVyZSB0aGF0IGFsbG9jYXRlZCB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGF0IHRoZSBpc3N1ZXIgaXMgdGhlIGRpcmVjdCBhbGxvY2F0b3Igb2YgdGhlIHNjb3BlLCBzbyBpZiBhIENvbnRhaW5lciBhbGxvY2F0ZWQgYSBGZWF0dXJlIHRoYXQgYWxsb2NhdGVkIHRoZSBzY29wZSwgdGhlIGlzc3VlciB3aWxsIGJlIHRoZSBGZWF0dXJlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgaXNzdWVyPFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHM+KCk6IFQgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0Lmlzc3Vlcih0aGlzKSBhcyBUO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGluaGVyaXQgZnJvbSBhIHBhcmVudCBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBUaGlzIG1ldGhvZCBjaGVja3MgZm9yIGNpcmN1bGFyIGluaGVyaXRhbmNlIGFuZCB0aHJvd3MgYW4gZXJyb3IgaWYgZGV0ZWN0ZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyZW50IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGluaGVyaXQocGFyZW50OiBBX1Njb3BlKTogQV9TY29wZSB7XG4gICAgICAgIGlmICghcGFyZW50KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuSW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgSW52YWxpZCBwYXJlbnQgc2NvcGUgcHJvdmlkZWRgXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGlmIChwYXJlbnQgPT09IHRoaXMpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5DaXJjdWxhckluaGVyaXRhbmNlRXJyb3IsXG4gICAgICAgICAgICAgICAgYFVuYWJsZSB0byBpbmhlcml0IHNjb3BlICR7dGhpcy5uYW1lfSBmcm9tIGl0c2VsZmBcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgaWYgKHBhcmVudCA9PT0gdGhpcy5fcGFyZW50KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgLy8gUHJldmVudCBjaXJjdWxhciBpbmhlcml0YW5jZVxuICAgICAgICBjb25zdCBjaXJjdWxhckNoZWNrID0gdGhpcy5jaGVja0NpcmN1bGFySW5oZXJpdGFuY2UocGFyZW50KTtcblxuICAgICAgICBpZiAoY2lyY3VsYXJDaGVjaylcbiAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9TY29wZUVycm9yLkNpcmN1bGFySW5oZXJpdGFuY2VFcnJvcixcbiAgICAgICAgICAgICAgICBgQ2lyY3VsYXIgaW5oZXJpdGFuY2UgZGV0ZWN0ZWQ6ICR7Wy4uLmNpcmN1bGFyQ2hlY2ssIHBhcmVudC5uYW1lXS5qb2luKCcgLT4gJyl9YFxuICAgICAgICAgICAgKTtcblxuXG4gICAgICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGNoZWNrIGlmIHRoZSBjb21wb25lbnQgaXMgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlIHRoYXQgdGhpcyBtZXRob2QgY2hlY2tzIGZvciB0aGUgY29tcG9uZW50IGluIHRoZSBjdXJyZW50IHNjb3BlIGFuZCBhbGwgcGFyZW50IHNjb3Blc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgaGFzPFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IGNvbnN0cnVjdG9yIHRvIGNoZWNrIGlmIGl0J3MgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8VD5cbiAgICApOiBib29sZWFuXG4gICAgaGFzPFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byBjaGVjayBpZiBpdCdzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgICAgICogXG4gICAgICAgICAqIFshXSBOb3RlIHRoYXQgZW50aXRpZXMgYXJlIHVuaXF1ZSBwZXIgYXNlaWQsIHNvIHRoaXMgbWV0aG9kIGNoZWNrcyBpZiB0aGVyZSdzIGF0IGxlYXN0IG9uZSBlbnRpdHkgb2YgdGhlIHByb3ZpZGVkIHR5cGUgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IGJvb2xlYW5cbiAgICBoYXM8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGZyYWdtZW50IGNvbnN0cnVjdG9yIHRvIGNoZWNrIGlmIGl0J3MgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZnJhZ21lbnQ6IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogYm9vbGVhblxuICAgIGhhczxUIGV4dGVuZHMgQV9FcnJvcj4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVycm9yIGNvbnN0cnVjdG9yIHRvIGNoZWNrIGlmIGl0J3MgYXZhaWxhYmxlIGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3I6IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogYm9vbGVhblxuICAgIGhhcyhcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBzdHJpbmcgdG8gY2hlY2sgaWYgYSBjb21wb25lbnQsIGVudGl0eSBvciBmcmFnbWVudCB3aXRoIHRoZSBwcm92aWRlZCBuYW1lIGlzIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yOiBzdHJpbmdcbiAgICApOiBib29sZWFuXG4gICAgaGFzKFxuICAgICAgICBjdG9yOiB1bmtub3duXG4gICAgKTogYm9vbGVhbiB7XG5cbiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAvLyAxKSBDaGVjayBpZiBpdCdzIGEgU2NvcGUuIEl0J3MgYWx3YXlzIHRydWUgc2luY2UgaXQgcmV0dXJucyBpdHNlbGZcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU2NvcGVDb25zdHJ1Y3RvcihjdG9yKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gMikgQ2hlY2sgYnkgc3RyaW5nIG5hbWUuICBcbiAgICAgICAgICAgIGNhc2UgdHlwZW9mIGN0b3IgPT09ICdzdHJpbmcnOiB7XG4gICAgICAgICAgICAgICAgLy8gMi4xIENoZWNrIGlmIGl0J3MgYSBjb21wb25lbnQgbmFtZVxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlQ29tcG9uZW50ID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRDb21wb25lbnRzKS5maW5kKGMgPT4gYy5uYW1lID09PSBjdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAocG9zc2libGVDb21wb25lbnQpIGZvdW5kID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIDIuMiBDaGVjayBpZiBpdCdzIGEgZnJhZ21lbnQgbmFtZVxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlRnJhZ21lbnQgPSBBcnJheS5mcm9tKHRoaXMuYWxsb3dlZEZyYWdtZW50cykuZmluZChmID0+IGYubmFtZSA9PT0gY3Rvcik7XG4gICAgICAgICAgICAgICAgaWYgKHBvc3NpYmxlRnJhZ21lbnQpIGZvdW5kID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIDIuMyBDaGVjayBpZiBpdCdzIGFuIGVudGl0eSBuYW1lIG9yIGVudGl0eSBzdGF0aWMgZW50aXR5IHByb3BlcnR5XG4gICAgICAgICAgICAgICAgY29uc3QgcG9zc2libGVFbnRpdHkgPSBBcnJheS5mcm9tKHRoaXMuYWxsb3dlZEVudGl0aWVzKS5maW5kKGUgPT4gZS5uYW1lID09PSBjdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAocG9zc2libGVFbnRpdHkpIGZvdW5kID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIDIuNCBDaGVjayBpZiBpdCdzIGFuIGVycm9yIG5hbWVcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NzaWJsZUVycm9yID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRFcnJvcnMpLmZpbmQoZSA9PiBlLm5hbWUgPT09IGN0b3IpO1xuICAgICAgICAgICAgICAgIGlmIChwb3NzaWJsZUVycm9yKSBmb3VuZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAvLyAyLjUgSWYgbm90IGZvdW5kIGluIGN1cnJlbnQgc2NvcGUsIGNoZWNrIHBhcmVudCBzY29wZVxuICAgICAgICAgICAgICAgIGlmICghIXRoaXMuX3BhcmVudClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudC5oYXMoY3Rvcik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAzKSBDaGVjayBpZiBpdCdzIGEgQ29tcG9uZW50XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKGN0b3IpOiB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0aGlzLmlzQWxsb3dlZENvbXBvbmVudChjdG9yKVxuICAgICAgICAgICAgICAgICAgICB8fCAhIVsuLi50aGlzLmFsbG93ZWRDb21wb25lbnRzXVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoYyA9PiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oYywgY3RvcikpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA0KSBDaGVjayBpZiBpdCdzIGFuIEVudGl0eVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlDb25zdHJ1Y3RvcihjdG9yKToge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gdGhpcy5pc0FsbG93ZWRFbnRpdHkoY3RvcilcbiAgICAgICAgICAgICAgICAgICAgfHwgISFbLi4udGhpcy5hbGxvd2VkRW50aXRpZXNdXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluZChlID0+IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShlLCBjdG9yKSk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDUpIENoZWNrIGlmIGl0J3MgYSBGcmFnbWVudFxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNGcmFnbWVudENvbnN0cnVjdG9yKGN0b3IpOiB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0aGlzLmlzQWxsb3dlZEZyYWdtZW50KGN0b3IpXG4gICAgICAgICAgICAgICAgICAgIHx8ICEhWy4uLnRoaXMuYWxsb3dlZEZyYWdtZW50c11cbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKGYgPT4gQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGYsIGN0b3IpKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyA2KSBDaGVjayBpZiBpdCdzIGFuIEVycm9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Vycm9yQ29uc3RydWN0b3IoY3Rvcik6IHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IHRoaXMuaXNBbGxvd2VkRXJyb3IoY3RvcilcbiAgICAgICAgICAgICAgICAgICAgfHwgISFbLi4udGhpcy5hbGxvd2VkRXJyb3JzXVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoZSA9PiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oZSwgY3RvcikpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDcpIENoZWNrIHNjb3BlIGlzc3VlclxuICAgICAgICAgICAgY2FzZSB0aGlzLmlzc3VlcigpXG4gICAgICAgICAgICAgICAgJiYgKHRoaXMuaXNzdWVyKCkhLmNvbnN0cnVjdG9yID09PSBjdG9yXG4gICAgICAgICAgICAgICAgICAgIHx8IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbSh0aGlzLmlzc3VlcigpIS5jb25zdHJ1Y3RvciwgY3RvclxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKToge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDcpIENoZWNrIHBhcmVudCBzY29wZSBpbiBjYXNlIG5vdCBmb3VuZFxuICAgICAgICBpZiAoIWZvdW5kICYmICEhdGhpcy5fcGFyZW50KVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50LmhhcyhjdG9yIGFzIGFueSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE1lcmdlcyB0d28gc2NvcGVzIGludG8gYSBuZXcgb25lXG4gICAgICogXG4gICAgICogWyFdIE5vdGVzOiBcbiAgICAgKiAgLSB0aGlzIG1ldGhvZCBkb2VzIE5PVCBtb2RpZnkgdGhlIGV4aXN0aW5nIHNjb3Blc1xuICAgICAqICAtIHBhcmVudCBvZiB0aGUgbmV3IHNjb3BlIHdpbGwgYmUgdGhlIHBhcmVudCBvZiB0aGUgY3VycmVudCBzY29wZSBvciB0aGUgcGFyZW50IG9mIGFub3RoZXJTY29wZSAoaWYgZXhpc3RzKVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhbm90aGVyU2NvcGUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgbWVyZ2UoYW5vdGhlclNjb3BlOiBBX1Njb3BlKTogQV9TY29wZSB7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBBX1Njb3BlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IGAke3RoaXMubmFtZX0gKyAke2Fub3RoZXJTY29wZS5uYW1lfWAsXG5cbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbLi4udGhpcy5hbGxvd2VkQ29tcG9uZW50cywgLi4uYW5vdGhlclNjb3BlLmFsbG93ZWRDb21wb25lbnRzXSxcbiAgICAgICAgICAgICAgICBmcmFnbWVudHM6IFsuLi50aGlzLmZyYWdtZW50cywgLi4uYW5vdGhlclNjb3BlLmZyYWdtZW50c10sXG4gICAgICAgICAgICAgICAgZW50aXRpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5lbnRpdGllcywgLi4uYW5vdGhlclNjb3BlLmVudGl0aWVzLFxuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmFsbG93ZWRFbnRpdGllcywgLi4uYW5vdGhlclNjb3BlLmFsbG93ZWRFbnRpdGllc1xuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy5fcGFyZW50IHx8IGFub3RoZXJTY29wZS5fcGFyZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byByZXRyaWV2ZSB0aGUgY29uc3RydWN0b3Igb2YgdGhlIGNvbXBvbmVudCBvciBlbnRpdHkgYnkgaXRzIG5hbWVcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZXM6XG4gICAgICogLSBJbiBjYXNlIG9mIHNlYXJjaCBmb3IgQS1FbnRpdHkgcGxlYXNlIGVuc3VyZSB0aGF0IHByb3ZpZGVkIHN0cmluZyBjb3JyZXNwb25kcyB0byB0aGUgc3RhdGljIGVudGl0eSBwcm9wZXJ0eSBvZiB0aGUgY2xhc3MuIFshXSBCeSBkZWZhdWx0IGl0J3MgdGhlIGtlYmFiLWNhc2Ugb2YgdGhlIGNsYXNzIG5hbWVcbiAgICAgKiAtIEluIGNhc2Ugb2Ygc2VhcmNoIGZvciBBX0NvbXBvbmVudCBwbGVhc2UgZW5zdXJlIHRoYXQgcHJvdmlkZWQgc3RyaW5nIGNvcnJlc3BvbmRzIHRvIHRoZSBjbGFzcyBuYW1lIGluIFBhc2NhbENhc2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbmFtZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICByZXNvbHZlQ29uc3RydWN0b3I8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIGVudGl0eSBuYW1lIG9yIHN0YXRpYyBlbnRpdHkgcHJvcGVydHkgdG8gcmV0cmlldmUgaXRzIGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBuYW1lOiBzdHJpbmdcbiAgICApOiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD5cbiAgICByZXNvbHZlQ29uc3RydWN0b3I8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIGNvbXBvbmVudCBuYW1lIGluIFBhc2NhbENhc2UgdG8gcmV0cmlldmUgaXRzIGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBuYW1lOiBzdHJpbmdcbiAgICApOiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8VD5cbiAgICByZXNvbHZlQ29uc3RydWN0b3I8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgZnJhZ21lbnQgbmFtZSBpbiBQYXNjYWxDYXNlIHRvIHJldHJpZXZlIGl0cyBjb25zdHJ1Y3RvclxuICAgICAgICAgKi9cbiAgICAgICAgbmFtZTogc3RyaW5nXG4gICAgKTogQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8VD5cbiAgICByZXNvbHZlQ29uc3RydWN0b3I8VCBleHRlbmRzIEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHM+KG5hbWU6IHN0cmluZyk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPiB8IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPiB8IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgLy8gMSkgQ2hlY2sgY29tcG9uZW50c1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBBcnJheS5mcm9tKHRoaXMuYWxsb3dlZENvbXBvbmVudHMpLmZpbmQoXG4gICAgICAgICAgICBjID0+IGMubmFtZSA9PT0gbmFtZVxuICAgICAgICAgICAgICAgIHx8IGMubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5hbWUpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChjb21wb25lbnQpIHJldHVybiBjb21wb25lbnQgYXMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+O1xuXG4gICAgICAgIC8vIDIpIENoZWNrIGVudGl0aWVzXG4gICAgICAgIGNvbnN0IGVudGl0eSA9IEFycmF5LmZyb20odGhpcy5hbGxvd2VkRW50aXRpZXMpLmZpbmQoXG4gICAgICAgICAgICBlID0+IGUubmFtZSA9PT0gbmFtZVxuICAgICAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5hbWUpXG4gICAgICAgICAgICAgICAgfHwgKGUgYXMgYW55KS5lbnRpdHkgPT09IG5hbWVcbiAgICAgICAgICAgICAgICB8fCAoZSBhcyBhbnkpLmVudGl0eSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9LZWJhYkNhc2UobmFtZSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGVudGl0eSkgcmV0dXJuIGVudGl0eSBhcyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8VD47XG5cbiAgICAgICAgLy8gMykgQ2hlY2sgZnJhZ21lbnRzXG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRGcmFnbWVudHMpLmZpbmQoZiA9PiBmLm5hbWUgPT09IG5hbWVcbiAgICAgICAgICAgIHx8IGYubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5hbWUpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChmcmFnbWVudCkgcmV0dXJuIGZyYWdtZW50IGFzIEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+O1xuXG4gICAgICAgIC8vIElmIG5vdCBmb3VuZCBpbiBjdXJyZW50IHNjb3BlLCBjaGVjayBwYXJlbnQgc2NvcGVcbiAgICAgICAgaWYgKCEhdGhpcy5fcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50LnJlc29sdmVDb25zdHJ1Y3RvcihuYW1lKSBhcyBhbnk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBhbGxvd3MgdG8gcmVzb2x2ZS9pbmplY3QgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBmcm9tIHRoZSBzY29wZVxuICAgICAqIERlcGVuZGluZyBvbiB0aGUgcHJvdmlkZWQgcGFyYW1ldGVycyBpdCBjYW4gcmVzb2x2ZTpcbiAgICAgKiAtIEEgc2luZ2xlIGNvbXBvbmVudC9mcmFnbWVudC9lbnRpdHkgYnkgaXRzIGNvbnN0cnVjdG9yIG9yIG5hbWVcbiAgICAgKiAtIEFuIGFycmF5IG9mIGNvbXBvbmVudHMvZnJhZ21lbnRzL2VudGl0aWVzIGJ5IHByb3ZpZGluZyBhbiBhcnJheSBvZiBjb25zdHJ1Y3RvcnNcbiAgICAgKiAtIEFuIGVudGl0eSBvciBhbiBhcnJheSBvZiBlbnRpdGllcyBieSBwcm92aWRpbmcgdGhlIGVudGl0eSBjb25zdHJ1Y3RvciBhbmQgcXVlcnkgaW5zdHJ1Y3Rpb25zXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICByZXNvbHZlPFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IFQgfCB1bmRlZmluZWRcbiAgICByZXNvbHZlPFQgZXh0ZW5kcyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3JbXT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGFycmF5IG9mIGNvbXBvbmVudCBjb25zdHJ1Y3RvcnMgdG8gcmVzb2x2ZSB0aGVpciBpbnN0YW5jZXMgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudHM6IFsuLi5UXVxuICAgICk6IEFycmF5PEluc3RhbmNlVHlwZTxUW251bWJlcl0+PiB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGZyYWdtZW50IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudDogQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8VD5cbiAgICApOiBUIHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3JbXT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGFycmF5IG9mIGZyYWdtZW50IGNvbnN0cnVjdG9ycyB0byByZXNvbHZlIHRoZWlyIGluc3RhbmNlcyBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZnJhZ21lbnRzOiBbLi4uVF1cbiAgICApOiBBcnJheTxJbnN0YW5jZVR5cGU8VFtudW1iZXJdPj4gfCB1bmRlZmluZWRcbiAgICByZXNvbHZlPFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBvciBhbiBhcnJheSBvZiBpbnN0YW5jZXMgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVudGl0eTogQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogVCB8IHVuZGVmaW5lZFxuXG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2Ugb3IgYW4gYXJyYXkgb2YgaW5zdGFuY2VzIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgb3B0aW9uYWwgaW5zdHJ1Y3Rpb25zIHRvIGZpbmQgYSBzcGVjaWZpYyBlbnRpdHkgb3IgYSBzZXQgb2YgZW50aXRpZXNcbiAgICAgICAgICovXG4gICAgICAgIGluc3RydWN0aW9uczogUGFydGlhbDxBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25JbnN0cnVjdGlvbnM8VD4+XG4gICAgKTogQXJyYXk8VD5cbiAgICByZXNvbHZlPFQgZXh0ZW5kcyBBX1Njb3BlPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXMgb25seSBpbiBjYXNlIG9mIHJlc29sdmluZyBhIHNpbmdsZSBlbnRpdHlcbiAgICAgICAgICogXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGNvbnN0cnVjdG9yIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBzY29wZTogQV9UWVBFU19fU2NvcGVfQ29uc3RydWN0b3I8VD5cbiAgICApOiBUIHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9FcnJvcj4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VzIG9ubHkgaW4gY2FzZSBvZiByZXNvbHZpbmcgYSBzaW5nbGUgZW50aXR5XG4gICAgICAgICAqIFxuICAgICAgICAgKiBQcm92aWRlIGFuIGVudGl0eSBjb25zdHJ1Y3RvciB0byByZXNvbHZlIGl0cyBpbnN0YW5jZSBmcm9tIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU6IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogVCB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHM+KFxuICAgICAgICBjb25zdHJ1Y3Rvck5hbWU6IHN0cmluZ1xuICAgICk6IFQgfCB1bmRlZmluZWRcbiAgICAvLyBiYXNlIGRlZmluaXRpb25cbiAgICByZXNvbHZlPFQgZXh0ZW5kcyBBX1RZUEVTX19TY29wZVJlc29sdmFibGVDb21wb25lbnRzPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBjb25zdHJ1Y3RvciBvciBhbiBhcnJheSBvZiBjb25zdHJ1Y3RvcnMgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UocykgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtMTogQV9UWVBFU19fSW5qZWN0YWJsZUNvbnN0cnVjdG9ycyxcblxuICAgICk6IFQgfCBBcnJheTxUPiB8IHVuZGVmaW5lZFxuICAgIHJlc29sdmU8VCBleHRlbmRzIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29uc3RydWN0b3JzPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBjb25zdHJ1Y3RvciBvciBhbiBhcnJheSBvZiBjb25zdHJ1Y3RvcnMgdG8gcmVzb2x2ZSBpdHMgaW5zdGFuY2UocykgZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtMTogSW5zdGFuY2VUeXBlPFQ+LFxuXG4gICAgKTogVCB8IEFycmF5PFQ+IHwgdW5kZWZpbmVkXG4gICAgcmVzb2x2ZTxUIGV4dGVuZHMgQV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgY29uc3RydWN0b3Igb3IgYW4gYXJyYXkgb2YgY29uc3RydWN0b3JzIHRvIHJlc29sdmUgaXRzIGluc3RhbmNlKHMpIGZyb20gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbTE6IEFfVFlQRVNfX0luamVjdGFibGVDb25zdHJ1Y3RvcnMgfCBBcnJheTxBX1RZUEVTX19JbmplY3RhYmxlQ29uc3RydWN0b3JzPixcbiAgICAgICAgcGFyYW0yPzogUGFydGlhbDxBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25JbnN0cnVjdGlvbnM+XG4gICAgKTogVCB8IEFycmF5PFQ+IHwgdW5kZWZpbmVkIHtcbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0FycmF5KHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW0xLm1hcChjID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFfVHlwZUd1YXJkcy5pc1N0cmluZyhjKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVCeU5hbWUoYyk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVPbmNlKGMsIHBhcmFtMik7XG4gICAgICAgICAgICAgICAgfSkuZmlsdGVyKEJvb2xlYW4pIGFzIEFycmF5PFQ+O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Z1bmN0aW9uKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlT25jZShwYXJhbTEsIHBhcmFtMikgYXMgVDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVCeU5hbWUocGFyYW0xKSBhcyBUO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgQV9TY29wZUVycm9yLlJlc29sdXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgYEludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIHJlc29sdmUgbWV0aG9kOiAke3BhcmFtMX0gaW4gc2NvcGUgJHt0aGlzLm5hbWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUlOVEVSTkFMIFJFU09MVkVSUy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IHRvIHJlc29sdmUgYSBjb21wb25lbnQsIGZyYWdtZW50IG9yIGVudGl0eSBieSBpdHMgY29uc3RydWN0b3IgbmFtZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlIHRoYXQgdGhpcyBtZXRob2QgY2hlY2tzIGZvciB0aGUgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgaW4gdGhlIGN1cnJlbnQgc2NvcGUgYW5kIGFsbCBwYXJlbnQgc2NvcGVzXG4gICAgICogXG4gICAgICogQHBhcmFtIG5hbWUgIC0gbmFtZSBvZiB0aGUgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgdG8gcmVzb2x2ZSAoY29uc3RydWN0b3IgbmFtZSBmb3IgY29tcG9uZW50cyBhbmQgZnJhZ21lbnRzLCBzdGF0aWMgZW50aXR5IHByb3BlcnR5IGZvciBlbnRpdGllcywgc3RhdGljIGNvZGUgcHJvcGVydHkgZm9yIGNvbW1hbmRzKVxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVzb2x2ZUJ5TmFtZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudCwgZnJhZ21lbnQgb3IgZW50aXR5IHRvIHJlc29sdmVcbiAgICAgICAgICovXG4gICAgICAgIG5hbWU6IHN0cmluZ1xuICAgICk6IF9FbnRpdHlUeXBlW251bWJlcl0gfCBJbnN0YW5jZVR5cGU8X0NvbXBvbmVudFR5cGVbbnVtYmVyXT4gfCBfRnJhZ21lbnRUeXBlW251bWJlcl0gfFxuICAgICAgICBJbnN0YW5jZVR5cGU8X0Vycm9yVHlwZVtudW1iZXJdPiB8IHVuZGVmaW5lZCB7XG4gICAgICAgIC8vIDEpIENoZWNrIGNvbXBvbmVudHNcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRDb21wb25lbnRzKS5maW5kKFxuICAgICAgICAgICAgYyA9PiBjLm5hbWUgPT09IG5hbWVcbiAgICAgICAgICAgICAgICB8fCBjLm5hbWUgPT09IEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShuYW1lKVxuICAgICAgICApO1xuICAgICAgICBpZiAoY29tcG9uZW50KSByZXR1cm4gdGhpcy5yZXNvbHZlT25jZShjb21wb25lbnQpIGFzIEluc3RhbmNlVHlwZTxfQ29tcG9uZW50VHlwZVtudW1iZXJdPjtcblxuICAgICAgICAvLyAyKSBDaGVjayBlbnRpdGllc1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBBcnJheS5mcm9tKHRoaXMuYWxsb3dlZEVudGl0aWVzKS5maW5kKFxuICAgICAgICAgICAgZSA9PiBlLm5hbWUgPT09IG5hbWVcbiAgICAgICAgICAgICAgICB8fCBlLm5hbWUgPT09IEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShuYW1lKVxuICAgICAgICAgICAgICAgIHx8IChlIGFzIGFueSkuZW50aXR5ID09PSBuYW1lXG4gICAgICAgICAgICAgICAgfHwgKGUgYXMgYW55KS5lbnRpdHkgPT09IEFfRm9ybWF0dGVySGVscGVyLnRvS2ViYWJDYXNlKG5hbWUpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChlbnRpdHkpIHJldHVybiB0aGlzLnJlc29sdmVPbmNlKGVudGl0eSkgYXMgSW5zdGFuY2VUeXBlPF9FbnRpdHlUeXBlW251bWJlcl0+O1xuXG4gICAgICAgIC8vIDMpIENoZWNrIGZyYWdtZW50c1xuICAgICAgICBjb25zdCBmcmFnbWVudCA9IEFycmF5LmZyb20odGhpcy5hbGxvd2VkRnJhZ21lbnRzKS5maW5kKGYgPT4gZi5uYW1lID09PSBuYW1lXG4gICAgICAgICAgICB8fCBmLm5hbWUgPT09IEFfRm9ybWF0dGVySGVscGVyLnRvUGFzY2FsQ2FzZShuYW1lKVxuICAgICAgICApO1xuICAgICAgICBpZiAoZnJhZ21lbnQpIHJldHVybiB0aGlzLnJlc29sdmVPbmNlKGZyYWdtZW50KSBhcyBfRnJhZ21lbnRUeXBlW251bWJlcl07XG5cbiAgICAgICAgLy8gNCkgQ2hlY2sgZXJyb3JzXG4gICAgICAgIGNvbnN0IGVycm9yID0gQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRFcnJvcnMpLmZpbmQoXG4gICAgICAgICAgICBlID0+IGUubmFtZSA9PT0gbmFtZVxuICAgICAgICAgICAgICAgIHx8IGUubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9QYXNjYWxDYXNlKG5hbWUpXG4gICAgICAgICAgICAgICAgfHwgKGUgYXMgYW55KS5jb2RlID09PSBuYW1lXG4gICAgICAgICAgICAgICAgfHwgKGUgYXMgYW55KS5jb2RlID09PSBBX0Zvcm1hdHRlckhlbHBlci50b0tlYmFiQ2FzZShuYW1lKVxuICAgICAgICApO1xuICAgICAgICBpZiAoZXJyb3IpIHJldHVybiB0aGlzLnJlc29sdmVPbmNlKGVycm9yKSBhcyBJbnN0YW5jZVR5cGU8X0Vycm9yVHlwZVtudW1iZXJdPjtcblxuICAgICAgICAvLyBJZiBub3QgZm91bmQgaW4gY3VycmVudCBzY29wZSwgY2hlY2sgcGFyZW50IHNjb3BlXG4gICAgICAgIGlmICghIXRoaXMuX3BhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudC5yZXNvbHZlQnlOYW1lKG5hbWUpIGFzIGFueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IHRvIHJlc29sdmUgYSBzaW5nbGUgY29tcG9uZW50LCBmcmFnbWVudCBvciBlbnRpdHkgZnJvbSB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEBwYXJhbSBpbnN0cnVjdGlvbnMgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNvbHZlT25jZShcbiAgICAgICAgY29tcG9uZW50OiBhbnksXG4gICAgICAgIGluc3RydWN0aW9ucz86IFBhcnRpYWw8QV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uSW5zdHJ1Y3Rpb25zPlxuICAgICk6IEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHMgfCBBX1Njb3BlIHwgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHwgQXJyYXk8QV9UWVBFU19fU2NvcGVSZXNvbHZhYmxlQ29tcG9uZW50cz4gfCB1bmRlZmluZWQge1xuXG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KTtcblxuICAgICAgICBpZiAoIWNvbXBvbmVudCB8fCAhdGhpcy5oYXMoY29tcG9uZW50KSlcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbnN0cnVjdG9yQWxsb3dlZEZvclNjb3BlQWxsb2NhdGlvbihjb21wb25lbnQpOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZUlzc3Vlcihjb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlDb25zdHJ1Y3Rvcihjb21wb25lbnQpOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZUVudGl0eShjb21wb25lbnQsIGluc3RydWN0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0ZyYWdtZW50Q29uc3RydWN0b3IoY29tcG9uZW50KToge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVGcmFnbWVudChjb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTY29wZUNvbnN0cnVjdG9yKGNvbXBvbmVudCk6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlU2NvcGUoY29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IoY29tcG9uZW50KToge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVDb21wb25lbnQoY29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JDb25zdHJ1Y3Rvcihjb21wb25lbnQpOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZUVycm9yKGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5SZXNvbHV0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGBJbmplY3RlZCBDb21wb25lbnQgJHtjb21wb25lbnROYW1lfSBub3QgZm91bmQgaW4gdGhlIHNjb3BlYFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlc29sdmVJc3N1ZXIoXG4gICAgICAgIGN0b3I6IEFfVFlQRVNfX1Njb3BlTGlua2VkQ29uc3RydWN0b3JzXG4gICAgKTogQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHwgdW5kZWZpbmVkIHtcblxuICAgICAgICBjb25zdCBpc3N1ZXIgPSB0aGlzLmlzc3VlcigpO1xuXG4gICAgICAgIGlmIChpc3N1ZXJcbiAgICAgICAgICAgICYmIChcbiAgICAgICAgICAgICAgICBpc3N1ZXIuY29uc3RydWN0b3IgPT09IGN0b3JcbiAgICAgICAgICAgICAgICB8fCBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oaXNzdWVyPy5jb25zdHJ1Y3RvciwgY3RvcilcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgIHJldHVybiBpc3N1ZXIhO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIXRoaXMuX3BhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudC5yZXNvbHZlSXNzdWVyKGN0b3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgdG8gcmVzb2x2ZSBhIHNpbmdsZSBlbnRpdHkgZnJvbSB0aGUgc2NvcGUgYmFzZWQgb24gdGhlIHByb3ZpZGVkIGluc3RydWN0aW9uc1xuICAgICAqIFxuICAgICAqIFshXSBOb3RlIHRoYXQgdGhpcyBtZXRob2QgY2FuIHJldHVybiBlaXRoZXIgYSBzaW5nbGUgZW50aXR5IG9yIGFuIGFycmF5IG9mIGVudGl0aWVzIGRlcGVuZGluZyBvbiB0aGUgaW5zdHJ1Y3Rpb25zIHByb3ZpZGVkXG4gICAgICogXG4gICAgICogQHBhcmFtIGVudGl0eSBcbiAgICAgKiBAcGFyYW0gaW5zdHJ1Y3Rpb25zIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVzb2x2ZUVudGl0eTxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPixcbiAgICAgICAgaW5zdHJ1Y3Rpb25zPzogUGFydGlhbDxBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25JbnN0cnVjdGlvbnM8VD4+XG4gICAgKTogVCB8IEFycmF5PFQ+IHwgdW5kZWZpbmVkIHtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IGluc3RydWN0aW9ucz8ucXVlcnkgfHwge30gYXMgUGFydGlhbDxBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25RdWVyeTxUPj47XG4gICAgICAgIGNvbnN0IGNvdW50ID0gaW5zdHJ1Y3Rpb25zPy5wYWdpbmF0aW9uPy5jb3VudCB8fCAxO1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAxKSBJbiBjYXNlIHdoZW4gbm8gaW5zdHJ1Y3Rpb25zIHByb3ZpZGVkLCByZXR1cm4gdGhlIGZpcnN0IGZvdW5kIGVudGl0eSBvZiB0aGUgcHJvdmlkZWQgdHlwZVxuICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgKiBbIV0gTm90ZSB0aGF0IGl0IHJldHVybnMgT05MWSBPTkUgZW50aXR5XG4gICAgICAgICAgICAgKiBbISFdIEluIGNhc2Ugd2hlbiBubyBlbnRpdHkgZm91bmQgaW4gdGhlIGN1cnJlbnQgc2NvcGUsIGl0IHRyaWVzIHRvIHJlc29sdmUgaXQgZnJvbSB0aGUgcGFyZW50IHNjb3BlIChpZiBleGlzdHMpXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhc2UgIWluc3RydWN0aW9uczoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy5lbnRpdGllcy5maW5kKGUgPT4gZSBpbnN0YW5jZW9mIGVudGl0eSk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAhIWZvdW5kOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kIGFzIFQ7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAhZm91bmQgJiYgISF0aGlzLl9wYXJlbnQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50LnJlc29sdmVFbnRpdHkoZW50aXR5LCBpbnN0cnVjdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogMikgSW4gY2FzZSB3aGVuIGFzZWlkIGlzIHByb3ZpZGVkIGluIHRoZSBxdWVyeSwgd2UgY2FuIGRpcmVjdGx5IGdldCB0aGUgZW50aXR5IGZyb20gdGhlIG1hcFxuICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgKiBbIV0gTm90ZSB0aGF0IGl0IHJldHVybnMgT05MWSBPTkUgZW50aXR5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhc2UgISFxdWVyeS5hc2VpZFxuICAgICAgICAgICAgICAgICYmIHR5cGVvZiBxdWVyeS5hc2VpZCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAmJiB0aGlzLl9lbnRpdGllcy5oYXMocXVlcnkuYXNlaWQpOiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbnRpdGllcy5nZXQocXVlcnkuYXNlaWQpIGFzIFQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiAzKSBJbiBjYXNlIHdoZW4gYXNlaWQgaXMgcHJvdmlkZWQgYXMgQVNFSUQgaW5zdGFuY2UsIHdlIGNhbiBkaXJlY3RseSBnZXQgdGhlIGVudGl0eSBmcm9tIHRoZSBtYXBcbiAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICogWyFdIE5vdGUgdGhhdCBpdCByZXR1cm5zIE9OTFkgT05FIGVudGl0eVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjYXNlICEhcXVlcnkuYXNlaWRcbiAgICAgICAgICAgICAgICAmJiB0eXBlb2YgcXVlcnkuYXNlaWQgPT09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgJiYgcXVlcnkuYXNlaWQgaW5zdGFuY2VvZiBBU0VJRFxuICAgICAgICAgICAgICAgICYmIHRoaXMuX2VudGl0aWVzLmhhcyhxdWVyeS5hc2VpZC50b1N0cmluZygpKToge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZW50aXRpZXMuZ2V0KHF1ZXJ5LmFzZWlkLnRvU3RyaW5nKCkpIGFzIFQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiA0KSBJbiBjYXNlIHdoZW4gaWQgaXMgcHJvdmlkZWQgaW4gdGhlIHF1ZXJ5LCB3ZSBoYXZlIHRvIGZpbmQgdGhlIGVudGl0eSBieSB0aGUgaWRcbiAgICAgICAgICAgICAqIFxuICAgICAgICAgICAgICogWyFdICBOb3RlIHRoYXQgaXQgcmV0dXJucyBPTkxZIE9ORSBlbnRpdHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY2FzZSAhIXF1ZXJ5LmlkOiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IHRoaXMuZW50aXRpZXNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihlID0+IGUgaW5zdGFuY2VvZiBlbnRpdHkpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKGUgPT4gU3RyaW5nKGUuaWQpID09PSBTdHJpbmcocXVlcnkuaWQpKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZCBhcyBUO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiA1KSBJbiBjYXNlIHdoZW4gdGhlcmUncyBhIHF1ZXJ5IG9iamVjdCwgd2UgaGF2ZSB0byBmaWx0ZXIgdGhlIGVudGl0aWVzIGJ5IHRoZSBxdWVyeVxuICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgKiBbIV0gTm90ZSB0aGF0IGl0IGNhbiByZXR1cm4gZWl0aGVyIGEgc2luZ2xlIGVudGl0eSBvciBhbiBhcnJheSBvZiBlbnRpdGllcyBkZXBlbmRpbmcgb24gdGhlIGNvdW50IGluc3RydWN0aW9uXG4gICAgICAgICAgICAgKiBbISFdIEluIGNhc2Ugd2hlbiBubyBlbnRpdHkgZm91bmQgaW4gdGhlIGN1cnJlbnQgc2NvcGUsIGl0IHRyaWVzIHRvIHJlc29sdmUgaXQgZnJvbSB0aGUgcGFyZW50IHNjb3BlIChpZiBleGlzdHMpXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy5lbnRpdGllc1xuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGUgPT4gZSBpbnN0YW5jZW9mIGVudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZW50cmllcyhxdWVyeSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXZlcnkoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoZSBhcyBhbnkpW2tleV0gPT09IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZm91bmQubGVuZ3RoID09PSAwICYmICEhdGhpcy5fcGFyZW50KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50LnJlc29sdmVFbnRpdHkoZW50aXR5LCBpbnN0cnVjdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSAxKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm91bmRbMF0gYXMgVDtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZCBhcyBUW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnRlcm5hbGx5IHRvIHJlc29sdmUgYSBzaW5nbGUgZXJyb3IgZnJvbSB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXJyb3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNvbHZlRXJyb3I8VCBleHRlbmRzIEFfRXJyb3I+KGVycm9yOiBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcjxUPik6IFQgfCB1bmRlZmluZWQge1xuXG4gICAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy5lcnJvcnMuZmluZChlID0+IGUgaW5zdGFuY2VvZiBlcnJvcik7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlICEhZm91bmQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kIGFzIFQ7XG5cbiAgICAgICAgICAgIGNhc2UgIWZvdW5kICYmICEhdGhpcy5fcGFyZW50OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQucmVzb2x2ZUVycm9yKGVycm9yKTtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSB0byByZXNvbHZlIGEgc2luZ2xlIGZyYWdtZW50IGZyb20gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGZyYWdtZW50IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVzb2x2ZUZyYWdtZW50PFQgZXh0ZW5kcyBBX0ZyYWdtZW50PihmcmFnbWVudDogQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8VD4pOiBfRnJhZ21lbnRUeXBlW251bWJlcl0gfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBmcmFnbWVudEluc3RhbmNlUHJlc2VudGVkID0gdGhpcy5fZnJhZ21lbnRzLmdldChmcmFnbWVudCk7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIGZyYWdtZW50SW5zdGFuY2VQcmVzZW50ZWQgJiYgdGhpcy5fZnJhZ21lbnRzLmhhcyhmcmFnbWVudCk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyYWdtZW50SW5zdGFuY2VQcmVzZW50ZWQ7XG5cbiAgICAgICAgICAgIC8vIDMpIEluIGNhc2Ugd2hlbiB0aGVyZSdzIGEgY29tcG9uZW50IHRoYXQgaXMgaW5oZXJpdGVkIGZyb20gdGhlIHJlcXVpcmVkIGNvbXBvbmVudFxuICAgICAgICAgICAgY2FzZSAhZnJhZ21lbnRJbnN0YW5jZVByZXNlbnRlZCAmJiBBcnJheS5mcm9tKHRoaXMuX2FsbG93ZWRGcmFnbWVudHMpLnNvbWUoZWwgPT4gQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGVsLCBmcmFnbWVudCkpOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSBBcnJheS5mcm9tKHRoaXMuX2FsbG93ZWRGcmFnbWVudHMpLmZpbmQoZWwgPT4gQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGVsLCBmcmFnbWVudCkpITtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVGcmFnbWVudChmb3VuZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhc2UgIWZyYWdtZW50SW5zdGFuY2VQcmVzZW50ZWQgJiYgISF0aGlzLl9wYXJlbnQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudC5yZXNvbHZlRnJhZ21lbnQoZnJhZ21lbnQpO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSB0byByZXNvbHZlIGEgc2luZ2xlIHNjb3BlIGZyb20gdGhlIGN1cnJlbnQgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNvbHZlU2NvcGUoc2NvcGU6IEFfVFlQRVNfX1Njb3BlX0NvbnN0cnVjdG9yKTogQV9TY29wZSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGludGVybmFsbHkgdG8gcmVzb2x2ZSBhIHNpbmdsZSBjb21wb25lbnQgZnJvbSB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVzb2x2ZUNvbXBvbmVudDxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+KTogSW5zdGFuY2VUeXBlPF9Db21wb25lbnRUeXBlW251bWJlcl0+IHwgdW5kZWZpbmVkIHtcblxuICAgICAgICAvLyAgVGhlIGlkZWEgaGVyZSB0aGF0IGluIGNhc2Ugd2hlbiBTY29wZSBoYXMgbm8gZXhhY3QgY29tcG9uZW50IHdlIGhhdmUgdG8gcmVzb2x2ZSBpdCBmcm9tIHRoZSBfcGFyZW50XG4gICAgICAgIC8vICBCVVQ6IGlmIGl0J3Mgbm90IHByZXNlbnRlZCBpbiBfcGFyZW50ICB3ZSBoYXZlIHRvIGNoZWNrIGZvciBpbmhlcml0YW5jZVxuICAgICAgICAvLyAgVGhhdCBtZWFucyB0aGF0IHdlIHNob3VsZCBlbnN1cmUgdGhhdCB0aGVyZSdzIG5vIGNvbXBvbmVudHMgdGhhdCBhcmUgY2hpbGRyZW4gb2YgdGhlIHJlcXVpcmVkIGNvbXBvbmVudFxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIC8vIDEpIEluIGNhc2Ugd2hlbiB0aGUgY29tcG9uZW50IGlzIGF2YWlsYWJsZSBhbmQgZXhpc3RzIGluIHRoZSBzY29wZVxuICAgICAgICAgICAgY2FzZSB0aGlzLmFsbG93ZWRDb21wb25lbnRzLmhhcyhjb21wb25lbnQpICYmIHRoaXMuX2NvbXBvbmVudHMuaGFzKGNvbXBvbmVudCk6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50cy5nZXQoY29tcG9uZW50KSE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDIpIEluIGNhc2UgdGhlIGNvbXBvbmVudCBhdmFpbGFibGUgYnV0IGRvZXMgTk9UIGV4aXN0IGluIHRoZSBzY29wZVxuICAgICAgICAgICAgY2FzZSB0aGlzLmFsbG93ZWRDb21wb25lbnRzLmhhcyhjb21wb25lbnQpICYmICF0aGlzLl9jb21wb25lbnRzLmhhcyhjb21wb25lbnQpOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50TWV0YSA9IEFfQ29udGV4dC5tZXRhKGNvbXBvbmVudClcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3NNZXRhID0gY29tcG9uZW50TWV0YS5nZXQoQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5JTkpFQ1RJT05TKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkQXJncyA9IChhcmdzTWV0YT8uZ2V0KCdjb25zdHJ1Y3RvcicpIHx8IFtdKVxuICAgICAgICAgICAgICAgICAgICAubWFwKGFyZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgRXJyb3IgaGFuZGxpbmcgcHVycG9zZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKGFyZy50YXJnZXQpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgnaW5zdHJ1Y3Rpb25zJyBpbiBhcmcgJiYgISFhcmcuaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB0YXJnZXQsIGluc3RydWN0aW9ucyB9ID0gYXJnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVwZW5kZW5jeSA9IHRoaXMucmVzb2x2ZSh0YXJnZXQgYXMgYW55LCBpbnN0cnVjdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGVwZW5kZW5jeSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5SZXNvbHV0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIHJlc29sdmUgZGVwZW5kZW5jeSAke2NvbXBvbmVudE5hbWV9IGZvciBjb21wb25lbnQgJHtjb21wb25lbnQubmFtZX0gaW4gc2NvcGUgJHt0aGlzLm5hbWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlcGVuZGVuY3k7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdGFyZ2V0LCByZXF1aXJlLCBjcmVhdGUsIGRlZmF1bHRBcmdzIH0gPSBhcmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVwZW5kZW5jeSA9IHRoaXMucmVzb2x2ZSh0YXJnZXQgYXMgYW55KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGUgJiYgIWRlcGVuZGVuY3kgJiYgQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckRlcGVuZGVuY3lEZWZhdWx0Q3JlYXRpb24odGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdEZXBlbmRlbmN5ID0gbmV3IHRhcmdldCguLi5kZWZhdWx0QXJncyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlcihuZXdEZXBlbmRlbmN5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld0RlcGVuZGVuY3k7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVpcmUgJiYgIWRlcGVuZGVuY3kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5SZXNvbHV0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIHJlc29sdmUgcmVxdWlyZWQgZGVwZW5kZW5jeSAke2NvbXBvbmVudE5hbWV9IGZvciBjb21wb25lbnQgJHtjb21wb25lbnQubmFtZX0gaW4gc2NvcGUgJHt0aGlzLm5hbWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXBlbmRlbmN5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NvbXBvbmVudCA9IG5ldyBjb21wb25lbnQoLi4ucmVzb2x2ZWRBcmdzKVxuXG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlcihuZXdDb21wb25lbnQpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudHMuZ2V0KGNvbXBvbmVudCkhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAzKSBJbiBjYXNlIHdoZW4gdGhlcmUncyBhIGNvbXBvbmVudCB0aGF0IGlzIGluaGVyaXRlZCBmcm9tIHRoZSByZXF1aXJlZCBjb21wb25lbnRcbiAgICAgICAgICAgIGNhc2UgIXRoaXMuYWxsb3dlZENvbXBvbmVudHMuaGFzKGNvbXBvbmVudCkgJiYgQXJyYXkuZnJvbSh0aGlzLmFsbG93ZWRDb21wb25lbnRzKS5zb21lKGVsID0+IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShlbCwgY29tcG9uZW50KSk6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IEFycmF5LmZyb20odGhpcy5hbGxvd2VkQ29tcG9uZW50cykuZmluZChlbCA9PiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oZWwsIGNvbXBvbmVudCkpITtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVDb21wb25lbnQoZm91bmQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyA0KSBJbiBjYXNlIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBzY29wZSBidXQgdGhlIF9wYXJlbnQgaXMgYXZhaWxhYmxlXG4gICAgICAgICAgICBjYXNlICEhdGhpcy5fcGFyZW50OiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudC5yZXNvbHZlQ29tcG9uZW50KGNvbXBvbmVudCkgYXMgSW5zdGFuY2VUeXBlPF9Db21wb25lbnRUeXBlW251bWJlcl0+O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5SZXNvbHV0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGBDb21wb25lbnQgJHtjb21wb25lbnQubmFtZX0gbm90IGZvdW5kIGluIHRoZSBzY29wZSAke3RoaXMubmFtZX1gXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byByZWdpc3RlciB0aGUgY29tcG9uZW50IGluIHRoZSBzY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBmcmFnbWVudCBcbiAgICAgKi9cbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGNvbXBvbmVudCBjb25zdHJ1Y3RvciB0byByZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogdm9pZFxuICAgIHJlZ2lzdGVyPFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tbWFuZCBpbnN0YW5jZSB0byByZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogVFxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9FcnJvcj4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGFuIGVycm9yIGNvbnN0cnVjdG9yIHRvIHJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3I6IEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogdm9pZFxuICAgIHJlZ2lzdGVyPFQgZXh0ZW5kcyBBX0Vycm9yPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZXJyb3IgaW5zdGFuY2UgdG8gcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlcnJvcjogVFxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tbWFuZCBpbnN0YW5jZSB0byByZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgaW5zdGFuY2UgdG8gcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudDogVFxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgY29uc3RydWN0b3IgdG8gcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICByZWdpc3RlcjxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgaW5zdGFuY2UgdG8gcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IFRcbiAgICApOiB2b2lkXG5cbiAgICByZWdpc3RlcihcbiAgICAgICAgcGFyYW0xOiB1bmtub3duXG4gICAgKTogdm9pZCB7XG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0gSW5zdGFuY2VzIC0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gMSkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUNvbXBvbmVudCBpbnN0YW5jZVxuICAgICAgICAgICAgY2FzZSBwYXJhbTEgaW5zdGFuY2VvZiBBX0NvbXBvbmVudDoge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmFsbG93ZWRDb21wb25lbnRzLmhhcyhwYXJhbTEuY29uc3RydWN0b3IgYXMgX0NvbXBvbmVudFR5cGVbbnVtYmVyXSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dlZENvbXBvbmVudHMuYWRkKHBhcmFtMS5jb25zdHJ1Y3RvciBhcyBfQ29tcG9uZW50VHlwZVtudW1iZXJdKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudHMuc2V0KFxuICAgICAgICAgICAgICAgICAgICBwYXJhbTEuY29uc3RydWN0b3IgYXMgX0NvbXBvbmVudFR5cGVbbnVtYmVyXSxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0xIGFzIEluc3RhbmNlVHlwZTxfQ29tcG9uZW50VHlwZVtudW1iZXJdPlxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBBX0NvbnRleHQucmVnaXN0ZXIodGhpcywgcGFyYW0xKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMykgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUVudGl0eSBpbnN0YW5jZVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbTEpICYmICF0aGlzLl9lbnRpdGllcy5oYXMocGFyYW0xLmFzZWlkLnRvU3RyaW5nKCkpOiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYWxsb3dlZEVudGl0aWVzLmhhcyhwYXJhbTEuY29uc3RydWN0b3IgYXMgX0VudGl0eVR5cGVbbnVtYmVyXSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dlZEVudGl0aWVzLmFkZChwYXJhbTEuY29uc3RydWN0b3IgYXMgX0VudGl0eVR5cGVbbnVtYmVyXSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdGllcy5zZXQocGFyYW0xLmFzZWlkLnRvU3RyaW5nKCksIHBhcmFtMSBhcyBJbnN0YW5jZVR5cGU8X0VudGl0eVR5cGVbbnVtYmVyXT4pO1xuICAgICAgICAgICAgICAgIEFfQ29udGV4dC5yZWdpc3Rlcih0aGlzLCBwYXJhbTEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNCkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUZyYWdtZW50IGluc3RhbmNlXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0ZyYWdtZW50SW5zdGFuY2UocGFyYW0xKToge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmFsbG93ZWRGcmFnbWVudHMuaGFzKHBhcmFtMS5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxfRnJhZ21lbnRUeXBlW251bWJlcl0+KSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkRnJhZ21lbnRzLmFkZChwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9mcmFnbWVudHMuc2V0KFxuICAgICAgICAgICAgICAgICAgICBwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPixcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0xIGFzIF9GcmFnbWVudFR5cGVbbnVtYmVyXVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBBX0NvbnRleHQucmVnaXN0ZXIodGhpcywgcGFyYW0xKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNSkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUVycm9yIGluc3RhbmNlXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Vycm9ySW5zdGFuY2UocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkRXJyb3JzLmhhcyhwYXJhbTEuY29uc3RydWN0b3IgYXMgX0Vycm9yVHlwZVtudW1iZXJdKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkRXJyb3JzLmFkZChwYXJhbTEuY29uc3RydWN0b3IgYXMgX0Vycm9yVHlwZVtudW1iZXJdKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9ycy5zZXQoXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtMS5jb2RlLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbTEgYXMgSW5zdGFuY2VUeXBlPF9FcnJvclR5cGVbbnVtYmVyXT5cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgQV9Db250ZXh0LnJlZ2lzdGVyKHRoaXMsIHBhcmFtMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tIENvbnN0cnVjdG9ycyAtLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIDYpIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1Db21wb25lbnQgY29uc3RydWN0b3JcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5oYXMocGFyYW0xKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5hZGQocGFyYW0xIGFzIF9Db21wb25lbnRUeXBlW251bWJlcl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gOCkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUZyYWdtZW50IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0ZyYWdtZW50Q29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkRnJhZ21lbnRzLmhhcyhwYXJhbTEpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRGcmFnbWVudHMuYWRkKHBhcmFtMSBhcyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxfRnJhZ21lbnRUeXBlW251bWJlcl0+KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDkpIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1FbnRpdHkgY29uc3RydWN0b3JcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5Q29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkRW50aXRpZXMuaGFzKHBhcmFtMSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dlZEVudGl0aWVzLmFkZChwYXJhbTEgYXMgX0VudGl0eVR5cGVbbnVtYmVyXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAxMCkgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUVycm9yIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0Vycm9yQ29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hbGxvd2VkRXJyb3JzLmhhcyhwYXJhbTEpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRFcnJvcnMuYWRkKHBhcmFtMSBhcyBfRXJyb3JUeXBlW251bWJlcl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLSBJbnZhbGlkIENhc2VzIC0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmIChwYXJhbTEgaW5zdGFuY2VvZiBBX0VudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfU2NvcGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIEFfU2NvcGVFcnJvci5SZWdpc3RyYXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGBFbnRpdHkgd2l0aCBBU0VJRCAke3BhcmFtMS5hc2VpZC50b1N0cmluZygpfSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgaW4gdGhlIHNjb3BlICR7dGhpcy5uYW1lfWBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXJhbTEgaW5zdGFuY2VvZiBBX0ZyYWdtZW50KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgQV9TY29wZUVycm9yLlJlZ2lzdHJhdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYEZyYWdtZW50ICR7cGFyYW0xLmNvbnN0cnVjdG9yLm5hbWV9IGlzIGFscmVhZHkgcmVnaXN0ZXJlZCBpbiB0aGUgc2NvcGUgJHt0aGlzLm5hbWV9YFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShwYXJhbTEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX1Njb3BlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuUmVnaXN0cmF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBgQ2Fubm90IHJlZ2lzdGVyICR7Y29tcG9uZW50TmFtZX0gaW4gdGhlIHNjb3BlICR7dGhpcy5uYW1lfWBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gZGVyZWdpc3RlciB0aGUgY29tcG9uZW50IGZyb20gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGZyYWdtZW50IFxuICAgICAqL1xuICAgIGRlcmVnaXN0ZXI8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgY29uc3RydWN0b3IgdG8gZGVyZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogdm9pZFxuICAgIGRlcmVnaXN0ZXIoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tbWFuZCBpbnN0YW5jZSB0byBkZXJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX0NvbXBvbmVudFxuICAgICk6IHZvaWRcbiAgICBkZXJlZ2lzdGVyPFQgZXh0ZW5kcyBBX0Vycm9yPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZXJyb3IgY29uc3RydWN0b3IgdG8gZGVyZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVycm9yOiBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICBkZXJlZ2lzdGVyKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlcnJvciBpbnN0YW5jZSB0byBkZXJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3I6IEFfRXJyb3JcbiAgICApOiB2b2lkXG4gICAgZGVyZWdpc3RlcjxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tbWFuZCBpbnN0YW5jZSB0byBkZXJlZ2lzdGVyIGl0IGluIHRoZSBzY29wZVxuICAgICAgICAgKi9cbiAgICAgICAgZnJhZ21lbnQ6IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+XG4gICAgKTogdm9pZFxuICAgIGRlcmVnaXN0ZXIoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZnJhZ21lbnQgaW5zdGFuY2UgdG8gZGVyZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGZyYWdtZW50OiBBX0ZyYWdtZW50XG4gICAgKTogdm9pZFxuICAgIGRlcmVnaXN0ZXI8VCBleHRlbmRzIEFfRW50aXR5PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYW4gZW50aXR5IGNvbnN0cnVjdG9yIHRvIGRlcmVnaXN0ZXIgaXQgaW4gdGhlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPlxuICAgICk6IHZvaWRcbiAgICBkZXJlZ2lzdGVyKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgaW5zdGFuY2UgdG8gZGVyZWdpc3RlciBpdCBpbiB0aGUgc2NvcGVcbiAgICAgICAgICovXG4gICAgICAgIGVudGl0eTogQV9FbnRpdHlcbiAgICApOiB2b2lkXG5cbiAgICBkZXJlZ2lzdGVyKFxuICAgICAgICBwYXJhbTE6IHVua25vd25cbiAgICApOiB2b2lkIHtcbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLSBJbnN0YW5jZXMgLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyAxKSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtQ29tcG9uZW50IGluc3RhbmNlXG4gICAgICAgICAgICBjYXNlIHBhcmFtMSBpbnN0YW5jZW9mIEFfQ29tcG9uZW50OiB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wb25lbnRzLmRlbGV0ZShwYXJhbTEuY29uc3RydWN0b3IgYXMgX0NvbXBvbmVudFR5cGVbbnVtYmVyXSk7XG4gICAgICAgICAgICAgICAgQV9Db250ZXh0LmRlcmVnaXN0ZXIocGFyYW0xKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMykgSW4gY2FzZSB3aGVuIGl0J3MgYSBBLUVudGl0eSBpbnN0YW5jZVxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbTEpOiB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdGllcy5kZWxldGUocGFyYW0xLmFzZWlkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIEFfQ29udGV4dC5kZXJlZ2lzdGVyKHBhcmFtMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA0KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtRnJhZ21lbnQgaW5zdGFuY2VcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRnJhZ21lbnRJbnN0YW5jZShwYXJhbTEpOiB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9mcmFnbWVudHMuZGVsZXRlKHBhcmFtMS5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjxfRnJhZ21lbnRUeXBlW251bWJlcl0+KTtcbiAgICAgICAgICAgICAgICBBX0NvbnRleHQuZGVyZWdpc3RlcihwYXJhbTEpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA1KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtRXJyb3IgaW5zdGFuY2VcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRXJyb3JJbnN0YW5jZShwYXJhbTEpOiB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvcnMuZGVsZXRlKHBhcmFtMS5jb2RlKTtcbiAgICAgICAgICAgICAgICBBX0NvbnRleHQuZGVyZWdpc3RlcihwYXJhbTEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLSBDb25zdHJ1Y3RvcnMgLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyA2KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtQ29tcG9uZW50IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRDb21wb25lbnRzLmRlbGV0ZShwYXJhbTEgYXMgX0NvbXBvbmVudFR5cGVbbnVtYmVyXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA4KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtRnJhZ21lbnQgY29uc3RydWN0b3JcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRnJhZ21lbnRDb25zdHJ1Y3RvcihwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGxvd2VkRnJhZ21lbnRzLmRlbGV0ZShwYXJhbTEgYXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3I8X0ZyYWdtZW50VHlwZVtudW1iZXJdPik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA5KSBJbiBjYXNlIHdoZW4gaXQncyBhIEEtRW50aXR5IGNvbnN0cnVjdG9yXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0VudGl0eUNvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRFbnRpdGllcy5kZWxldGUocGFyYW0xIGFzIF9FbnRpdHlUeXBlW251bWJlcl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMTApIEluIGNhc2Ugd2hlbiBpdCdzIGEgQS1FcnJvciBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFcnJvckNvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFsbG93ZWRFcnJvcnMuZGVsZXRlKHBhcmFtMSBhcyBfRXJyb3JUeXBlW251bWJlcl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLSBJbnZhbGlkIENhc2VzIC0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHBhcmFtMSk7XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TY29wZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICBBX1Njb3BlRXJyb3IuRGVyZWdpc3RyYXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgYENhbm5vdCBkZXJlZ2lzdGVyICR7Y29tcG9uZW50TmFtZX0gZnJvbSB0aGUgc2NvcGUgJHt0aGlzLm5hbWV9YFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VmdWwgd2hlbiB5b3Ugd2FudCB0byBzZXJpYWxpemUgdGhlIHNjb3BlIHRvIEpTT05cbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZSB0aGlzIGlzIG5vdCBhIGRlZXAgc2VyaWFsaXphdGlvbiwgb25seSB0aGUgZnJhZ21lbnRzIGFyZSBzZXJpYWxpemVkXG4gICAgICogWyFdIEZyYWdtZW50cyBhcmUgYSBzdG9yYWdlIGZvciBpbmZvcm1hdGlvbiB3aGljaCBpcyByZWxldmFudCB0byB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICB0b0pTT04oKTogUmVjb3JkPHN0cmluZywgYW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyYWdtZW50c1xuICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCBmcmFnbWVudCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IGZyYWdtZW50LnRvSlNPTigpXG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICAgICAgICAgIFtzZXJpYWxpemVkLm5hbWVdOiBzZXJpYWxpemVkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge30pO1xuICAgIH1cblxuXG5cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1TY29wZSBUeXBlIENoZWNrIEhlbHBlcnMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX0NvbXBvbmVudCBhbmQgaXMgYWxsb3dlZCBpbiB0aGUgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY3RvciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgaXNBbGxvd2VkQ29tcG9uZW50KGN0b3I6IHVua25vd24pOiBjdG9yIGlzIF9Db21wb25lbnRUeXBlW251bWJlcl0ge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IoY3RvcikgJiYgdGhpcy5hbGxvd2VkQ29tcG9uZW50cy5oYXMoY3Rvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGNvbnN0cnVjdG9yIGlzIG9mIHR5cGUgQV9FbnRpdHkgYW5kIGlzIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGlzQWxsb3dlZEVudGl0eShjdG9yOiB1bmtub3duKTogY3RvciBpcyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3I8X0VudGl0eVR5cGVbbnVtYmVyXT4ge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzRW50aXR5Q29uc3RydWN0b3IoY3RvcikgJiYgdGhpcy5hbGxvd2VkRW50aXRpZXMuaGFzKGN0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfRnJhZ21lbnQgYW5kIGlzIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGlzQWxsb3dlZEZyYWdtZW50KGN0b3I6IHVua25vd24pOiBjdG9yIGlzIEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPF9GcmFnbWVudFR5cGVbbnVtYmVyXT4ge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzRnJhZ21lbnRDb25zdHJ1Y3RvcihjdG9yKSAmJiB0aGlzLmFsbG93ZWRGcmFnbWVudHMuaGFzKGN0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfRXJyb3IgYW5kIGlzIGFsbG93ZWQgaW4gdGhlIHNjb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGlzQWxsb3dlZEVycm9yKGN0b3I6IHVua25vd24pOiBjdG9yIGlzIEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yPF9FcnJvclR5cGVbbnVtYmVyXT4ge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzRXJyb3JDb25zdHJ1Y3RvcihjdG9yKSAmJiB0aGlzLmFsbG93ZWRFcnJvcnMuaGFzKGN0b3IpO1xuICAgIH1cblxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1ERUJVRyAmIEhlbHBlcnMgTWV0aG9kcy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBjaGVjayBpZiB0aGUgc2NvcGUgaXMgaW5oZXJpdGVkIGZyb20gYW5vdGhlciBzY29wZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzY29wZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBpc0luaGVyaXRlZEZyb20oc2NvcGU6IEFfU2NvcGUpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGN1cnJlbnQ6IEFfU2NvcGUgfCB1bmRlZmluZWQgPSB0aGlzO1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gc2NvcGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Ll9wYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCB0byBjaGVjayBjaXJjdWxhciBpbmhlcml0YW5jZVxuICAgICAqIFNob3VsZCByZXR1cm4gYSBmdWxsIHNlcXVlbmNlIG9mIGluaGVyaXRhbmNlIGZvciBsb2dnaW5nIHB1cnBvc2VzXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGNoZWNrQ2lyY3VsYXJJbmhlcml0YW5jZShzY29wZTogQV9TY29wZSk6IEFycmF5PHN0cmluZz4gfCBmYWxzZSB7XG4gICAgICAgIGNvbnN0IGluaGVyaXRhbmNlQ2hhaW46IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnQ6IEFfU2NvcGUgfCB1bmRlZmluZWQgPSB0aGlzLl9wYXJlbnQ7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGluaGVyaXRhbmNlQ2hhaW4ucHVzaChjdXJyZW50Lm5hbWUpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluaGVyaXRhbmNlQ2hhaW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5fcGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdG8gcHJpbnQgdGhlIGluaGVyaXRhbmNlIGNoYWluIG9mIHRoZSBzY29wZVxuICAgICAqL1xuICAgIHByaW50SW5oZXJpdGFuY2VDaGFpbigpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY2hhaW46IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnQ6IEFfU2NvcGUgfCB1bmRlZmluZWQgPSB0aGlzO1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICBjaGFpbi5wdXNoKGN1cnJlbnQubmFtZSk7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5fcGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coY2hhaW4uam9pbignIC0+ICcpKTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfQ2FsbGVyRXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZXJyb3IgY29kZSBpbmRpY2F0ZXMgdGhhdCB0aGVyZSB3YXMgYW4gaXNzdWUgaW5pdGlhbGl6aW5nIHRoZSBBLUNhbGxlclxuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBDYWxsZXJJbml0aWFsaXphdGlvbkVycm9yID0gJ1VuYWJsZSB0byBpbml0aWFsaXplIEEtQ2FsbGVyJztcbn0iLCAiaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0NhbGxlckVycm9yIH0gZnJvbSBcIi4vQV9DYWxsZXIuZXJyb3JcIjtcblxuXG5cbi8qKlxuICogVGhpcyBpcyBhIGNvbW1vbiBjbGFzcyB0aGF0IHVzZXMgdG8gcmV0dXJuIGFuIGVudGl0eSB0aGF0IGluaXRpYXRlcyBhIGZlYXR1cmUgY2FsbFxuICogXG4gKiBJdCBjYW4gYmUgdXNlZCB0aGVuIGluIEBBX0luamVjdChBX0NhbGxlcikgdG8gZ2V0IHRoZSBlbnRpdHkgdGhhdCBpbml0aWF0ZWQgdGhlIGZlYXR1cmUgY2FsbFxuICogXG4gKiBbIV0gdGhlIGNsYXNzIGl0c2VsZiBtYXkgYmUgcmV0cmlldmVkLCBidXQgbWF5IHJlcXVpcmUgYWRkaXRpb25hbCBwcm9jZXNzaW5nIGluc2lkZSB0aGUgZmVhdHVyZVxuICogXG4gKi9cbmV4cG9ydCBjbGFzcyBBX0NhbGxlcjxUIGV4dGVuZHMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMgPSBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cz4ge1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvbXBvbmVudCB0aGF0IGluaXRpYXRlZCB0aGUgZmVhdHVyZSBjYWxsXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9jb21wb25lbnQ6IFQ7XG5cblxuICAgIC8qKlxuICAgICAqIEFfQ2FsbGVyIGFsbG93cyB0byBnZXQgdGhlIGNvbXBvbmVudCB0aGF0IGluaXRpYXRlZCB0aGUgZmVhdHVyZSBjYWxsXG4gICAgICogXG4gICAgICogSXQgY2FuIGJlIHVzZWQgdGhlbiBpbiBAQV9JbmplY3QoQV9DYWxsZXIpIHRvIGdldCB0aGUgZW50aXR5IHRoYXQgaW5pdGlhdGVkIHRoZSBmZWF0dXJlIGNhbGxcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgU2NvcGUgaXMgbm90IHByb3ZpZGVkLCBhIG5ldyBlbXB0eSBzY29wZSB3aWxsIGJlIGNyZWF0ZWQgYW5kIGluaGVyaXRlZCBmcm9tIHRoZSBnbG9iYWwgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEBwYXJhbSBzY29wZSBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgY29tcG9uZW50OiBUXG4gICAgKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVQYXJhbXMoY29tcG9uZW50KTtcblxuICAgICAgICB0aGlzLl9jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgfVxuXG4gICAgZ2V0IGNvbXBvbmVudCgpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0aGUgcHJvdmlkZWQgcGFyYW1ldGVycyBhbmQgRW5zdXJlcyB0aGF0IHRoZSBjb21wb25lbnQgaXMgb2YgYW4gYWxsb3dlZCB0eXBlXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgdmFsaWRhdGVQYXJhbXMoXG4gICAgICAgIGNvbXBvbmVudDogVFxuICAgICkge1xuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc0FsbG93ZWRGb3JGZWF0dXJlQ2FsbChjb21wb25lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9DYWxsZXJFcnJvcihcbiAgICAgICAgICAgICAgICBBX0NhbGxlckVycm9yLkNhbGxlckluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEludmFsaWQgQS1DYWxsZXIgY29tcG9uZW50IHByb3ZpZGVkIG9mIHR5cGU6ICR7dHlwZW9mIGNvbXBvbmVudH0gd2l0aCB2YWx1ZTogJHtKU09OLnN0cmluZ2lmeShjb21wb25lbnQpLnNsaWNlKDAsIDEwMCl9Li4uYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19GZWF0dXJlX0NvbnN0cnVjdG9yLFxuICAgIEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzLFxuICAgIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JUYXJnZXRcbn0gZnJvbSBcIi4uL2dsb2JhbC9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5pbXBvcnQge1xuICAgIEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yLFxuICAgIEFfVFlQRVNfX0Vycm9yX0luaXQsXG4gICAgQV9UWVBFU19fRXJyb3JfU2VyaWFsaXplZFxufSBmcm9tIFwiLi4vZ2xvYmFsL0EtRXJyb3IvQV9FcnJvci50eXBlc1wiO1xuaW1wb3J0IHsgQV9Db21wb25lbnQgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbXBvbmVudE1ldGEgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50Lm1ldGFcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQudHlwZXNcIjtcbmltcG9ydCB7IEFfQ29udGFpbmVyIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db250YWluZXJNZXRhIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5tZXRhXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0VudGl0eSB9IGZyb20gXCIuLi9nbG9iYWwvQS1FbnRpdHkvQS1FbnRpdHkuY2xhc3NcIjtcbmltcG9ydCB7IEFfRW50aXR5TWV0YSB9IGZyb20gXCIuLi9nbG9iYWwvQS1FbnRpdHkvQS1FbnRpdHkubWV0YVwiO1xuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS50eXBlc1wiO1xuaW1wb3J0IHsgQV9GZWF0dXJlIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0ZyYWdtZW50IH0gZnJvbSBcIi4uL2dsb2JhbC9BLUZyYWdtZW50L0EtRnJhZ21lbnQuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUZyYWdtZW50L0EtRnJhZ21lbnQudHlwZXNcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtU2NvcGUvQS1TY29wZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9DYWxsZXIgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ2FsbGVyL0FfQ2FsbGVyLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19DYWxsZXJfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQ2FsbGVyL0FfQ2FsbGVyLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL2dsb2JhbC9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIi4vQV9Db21tb24uaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BYnN0cmFjdGlvbkF2YWlsYWJsZUNvbXBvbmVudHMgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtQWJzdHJhY3Rpb24vQS1BYnN0cmFjdGlvbi50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fU2NvcGVfQ29uc3RydWN0b3IsIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cywgQV9UWVBFU19fU2NvcGVMaW5rZWRDb25zdHJ1Y3RvcnMgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtU2NvcGUvQS1TY29wZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMgfSBmcm9tIFwiLi4vZ2xvYmFsL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBU0VJRCB9IGZyb20gXCIuLi9nbG9iYWwvQVNFSUQvQVNFSUQuY2xhc3NcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX1R5cGVHdWFyZHMge1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEJBU0UgVHlwZSBHdWFyZHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHZhbHVlIGlzIGEgc3RyaW5nXG4gICAgICogXG4gICAgICogQHBhcmFtIHZhbHVlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc1N0cmluZyh2YWx1ZTogYW55KTogdmFsdWUgaXMgc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdmFsdWUgaW5zdGFuY2VvZiBTdHJpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHZhbHVlIGlzIGEgbnVtYmVyXG4gICAgICogXG4gICAgICogQHBhcmFtIHZhbHVlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc051bWJlcih2YWx1ZTogYW55KTogdmFsdWUgaXMgbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB2YWx1ZSBpcyBhIGJvb2xlYW5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdmFsdWUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQm9vbGVhbih2YWx1ZTogYW55KTogdmFsdWUgaXMgYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdmFsdWUgaXMgYW4gYXJyYXlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdmFsdWUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQXJyYXkodmFsdWU6IGFueSk6IHZhbHVlIGlzIEFycmF5PGFueT4ge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHZhbHVlIGlzIGFuIG9iamVjdFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB2YWx1ZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNPYmplY3Q8VCBleHRlbmRzIE9iamVjdCA9IE9iamVjdD4odmFsdWU6IGFueSk6IHZhbHVlIGlzIFQge1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHZhbHVlIGlzIGEgZnVuY3Rpb25cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdmFsdWUgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRnVuY3Rpb24odmFsdWU6IGFueSk6IHZhbHVlIGlzIEZ1bmN0aW9uIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNVbmRlZmluZWQodmFsdWU6IGFueSk6IHZhbHVlIGlzIHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc1JlZ0V4cCh2YWx1ZTogYW55KTogdmFsdWUgaXMgUmVnRXhwIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUmVnRXhwO1xuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1BLUNvbmNlcHQgVHlwZSBHdWFyZHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX0NvbnRhaW5lclxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjdG9yIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0NvbnRhaW5lckNvbnN0cnVjdG9yKGN0b3I6IGFueSk6IGN0b3IgaXMgQV9UWVBFU19fQ29udGFpbmVyX0NvbnN0cnVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nICYmIEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBBX0NvbnRhaW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGNvbnN0cnVjdG9yIGlzIG9mIHR5cGUgQV9Db21wb25lbnRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY3RvciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNDb21wb25lbnRDb25zdHJ1Y3RvcihjdG9yOiBhbnkpOiBjdG9yIGlzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgY3RvciA9PT0gJ2Z1bmN0aW9uJyAmJiBBX0NvbW1vbkhlbHBlci5pc0luaGVyaXRlZEZyb20oY3RvciwgQV9Db21wb25lbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfRnJhZ21lbnRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY3RvciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNGcmFnbWVudENvbnN0cnVjdG9yKGN0b3I6IGFueSk6IGN0b3IgaXMgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3Ige1xuICAgICAgICByZXR1cm4gdHlwZW9mIGN0b3IgPT09ICdmdW5jdGlvbicgJiYgQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGN0b3IsIEFfRnJhZ21lbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfRW50aXR5XG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRW50aXR5Q29uc3RydWN0b3IoY3RvcjogYW55KTogY3RvciBpcyBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3Ige1xuICAgICAgICByZXR1cm4gdHlwZW9mIGN0b3IgPT09ICdmdW5jdGlvbicgJiYgQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGN0b3IsIEFfRW50aXR5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX1Njb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzU2NvcGVDb25zdHJ1Y3RvcihjdG9yOiBhbnkpOiBjdG9yIGlzIEFfVFlQRVNfX1Njb3BlX0NvbnN0cnVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nICYmIEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBBX1Njb3BlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX1Njb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRXJyb3JDb25zdHJ1Y3RvcihjdG9yOiBhbnkpOiBjdG9yIGlzIEFfVFlQRVNfX0Vycm9yX0NvbnN0cnVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nICYmIEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBBX0Vycm9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgY29uc3RydWN0b3IgaXMgb2YgdHlwZSBBX0ZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY3RvciBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNGZWF0dXJlQ29uc3RydWN0b3IoY3RvcjogYW55KTogY3RvciBpcyBBX1RZUEVTX19GZWF0dXJlX0NvbnN0cnVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nICYmIEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShjdG9yLCBBX0ZlYXR1cmUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBjb25zdHJ1Y3RvciBpcyBvZiB0eXBlIEFfQ2FsbGVyXG4gICAgICogXG4gICAgICogQHBhcmFtIGN0b3IgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQ2FsbGVyQ29uc3RydWN0b3IoY3RvcjogYW55KTogY3RvciBpcyBBX1RZUEVTX19DYWxsZXJfQ29uc3RydWN0b3Ige1xuICAgICAgICByZXR1cm4gdHlwZW9mIGN0b3IgPT09ICdmdW5jdGlvbicgJiYgQV9Db21tb25IZWxwZXIuaXNJbmhlcml0ZWRGcm9tKGN0b3IsIEFfQ2FsbGVyKTtcbiAgICB9XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEluc3RhbmNlIHR5cGUgZ3VhcmRzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9Db250YWluZXJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQ29udGFpbmVySW5zdGFuY2UoaW5zdGFuY2U6IGFueSk6IGluc3RhbmNlIGlzIEFfQ29udGFpbmVyIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9Db250YWluZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9Db21wb25lbnRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQ29tcG9uZW50SW5zdGFuY2UoaW5zdGFuY2U6IGFueSk6IGluc3RhbmNlIGlzIEFfQ29tcG9uZW50IHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9Db21wb25lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgaW5zdGFuY2UgaXMgb2YgdHlwZSBBX0ZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRmVhdHVyZUluc3RhbmNlKGluc3RhbmNlOiBhbnkpOiBpbnN0YW5jZSBpcyBBX0ZlYXR1cmUge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBBX0ZlYXR1cmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9GcmFnbWVudFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNGcmFnbWVudEluc3RhbmNlKGluc3RhbmNlOiBhbnkpOiBpbnN0YW5jZSBpcyBBX0ZyYWdtZW50IHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9GcmFnbWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgaW5zdGFuY2UgaXMgb2YgdHlwZSBBX0VudGl0eVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNFbnRpdHlJbnN0YW5jZShpbnN0YW5jZTogYW55KTogaW5zdGFuY2UgaXMgQV9FbnRpdHkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBBX0VudGl0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgaW5zdGFuY2UgaXMgb2YgdHlwZSBBX1Njb3BlXG4gICAgICogXG4gICAgICogQHBhcmFtIGluc3RhbmNlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc1Njb3BlSW5zdGFuY2UoaW5zdGFuY2U6IGFueSk6IGluc3RhbmNlIGlzIEFfU2NvcGUge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBBX1Njb3BlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBpbnN0YW5jZSBpcyBvZiB0eXBlIEFfRXJyb3JcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRXJyb3JJbnN0YW5jZShpbnN0YW5jZTogYW55KTogaW5zdGFuY2UgaXMgQV9FcnJvciB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSBpbnN0YW5jZW9mIEFfRXJyb3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGluc3RhbmNlIGlzIG9mIHR5cGUgQV9Db21wb25lbnRNZXRhXG4gICAgICogXG4gICAgICogQHBhcmFtIGluc3RhbmNlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0NvbXBvbmVudE1ldGFJbnN0YW5jZShpbnN0YW5jZTogYW55KTogaW5zdGFuY2UgaXMgQV9Db21wb25lbnRNZXRhIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIGluc3RhbmNlb2YgQV9Db21wb25lbnRNZXRhO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUeXBlIGd1YXJkIHRvIGNoZWNrIGlmIHRoZSBpbnN0YW5jZSBpcyBvZiB0eXBlIEFfQ29udGFpbmVyTWV0YVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNDb250YWluZXJNZXRhSW5zdGFuY2UoaW5zdGFuY2U6IGFueSk6IGluc3RhbmNlIGlzIEFfQ29udGFpbmVyTWV0YSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSBpbnN0YW5jZW9mIEFfQ29udGFpbmVyTWV0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHlwZSBndWFyZCB0byBjaGVjayBpZiB0aGUgaW5zdGFuY2UgaXMgb2YgdHlwZSBBX0VudGl0eU1ldGFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzRW50aXR5TWV0YUluc3RhbmNlKGluc3RhbmNlOiBhbnkpOiBpbnN0YW5jZSBpcyBBX0VudGl0eU1ldGEge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBBX0VudGl0eU1ldGE7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PSBTUEVDSUFMIFR5cGUgR3VhcmRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgc3RhdGljIGlzQ29uc3RydWN0b3JBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uKHRhcmdldDogYW55KTogdGFyZ2V0IGlzIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29uc3RydWN0b3JzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckNvbnN0cnVjdG9yKHRhcmdldClcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0ZlYXR1cmVDb25zdHJ1Y3Rvcih0YXJnZXQpO1xuICAgIH1cbiAgICBzdGF0aWMgaXNJbnN0YW5jZUFsbG93ZWRGb3JTY29wZUFsbG9jYXRpb24odGFyZ2V0OiBhbnkpOiB0YXJnZXQgaXMgQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHRhcmdldClcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0ZlYXR1cmVJbnN0YW5jZSh0YXJnZXQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc0NvbnN0cnVjdG9yQXZhaWxhYmxlRm9yQWJzdHJhY3Rpb24odGFyZ2V0OiBhbnkpOiB0YXJnZXQgaXMgQV9UWVBFU19fQWJzdHJhY3Rpb25BdmFpbGFibGVDb21wb25lbnRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHRhcmdldClcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgaXNUYXJnZXRBdmFpbGFibGVGb3JJbmplY3Rpb24odGFyZ2V0OiBhbnkpOiB0YXJnZXQgaXMgQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IodGFyZ2V0KVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UodGFyZ2V0KVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UodGFyZ2V0KVxuICAgIH1cblxuICAgIHN0YXRpYyBpc0FsbG93ZWRGb3JGZWF0dXJlQ2FsbChwYXJhbTogYW55KTogcGFyYW0gaXMgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0VudGl0eUluc3RhbmNlKHBhcmFtKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNBbGxvd2VkRm9yRmVhdHVyZURlZmluaXRpb24ocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzQWxsb3dlZEZvckZlYXR1cmVFeHRlbnNpb24ocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JUYXJnZXQge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0VudGl0eUluc3RhbmNlKHBhcmFtKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNBbGxvd2VkRm9yQWJzdHJhY3Rpb25EZWZpbml0aW9uKHBhcmFtOiBhbnkpOiBwYXJhbSBpcyBBX1RZUEVTX19BYnN0cmFjdGlvbkF2YWlsYWJsZUNvbXBvbmVudHMge1xuICAgICAgICByZXR1cm4gQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZShwYXJhbSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGlzQWxsb3dlZEZvckRlcGVuZGVuY3lEZWZhdWx0Q3JlYXRpb24ocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvciB8IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB7XG4gICAgICAgIHJldHVybiBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3RvcihwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShwYXJhbSwgQV9Db21wb25lbnQpXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNFbnRpdHlDb25zdHJ1Y3RvcihwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfQ29tbW9uSGVscGVyLmlzSW5oZXJpdGVkRnJvbShwYXJhbSwgQV9FbnRpdHkpXG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gY2hlY2sgaWYgdGhlIHByb3ZpZGVkIHBhcmFtIGlzIG9mIGNvbnN0cnVjdG9yIHR5cGUuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0Vycm9yQ29uc3RydWN0b3JUeXBlPFQgZXh0ZW5kcyBBX1RZUEVTX19FcnJvcl9Jbml0PihwYXJhbTogYW55KTogcGFyYW0gaXMgVCB7XG4gICAgICAgIHJldHVybiAhIXBhcmFtICYmIEFfVHlwZUd1YXJkcy5pc09iamVjdChwYXJhbSkgJiYgIShwYXJhbSBpbnN0YW5jZW9mIEVycm9yKSAmJiBcInRpdGxlXCIgaW4gcGFyYW07XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgaXNFcnJvclNlcmlhbGl6ZWRUeXBlPFQgZXh0ZW5kcyBBX1RZUEVTX19FcnJvcl9TZXJpYWxpemVkPihwYXJhbTogYW55KTogcGFyYW0gaXMgVCB7XG4gICAgICAgIHJldHVybiAhIXBhcmFtICYmIEFfVHlwZUd1YXJkcy5pc09iamVjdChwYXJhbSkgJiYgIShwYXJhbSBpbnN0YW5jZW9mIEVycm9yKSAmJiBcImFzZWlkXCIgaW4gcGFyYW0gJiYgQVNFSUQuaXNBU0VJRChwYXJhbS5hc2VpZCk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9TdGFnZSB9IGZyb20gXCIuLi9BLVN0YWdlL0EtU3RhZ2UuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0ZlYXR1cmVFcnJvcl9Jbml0IH0gZnJvbSBcIi4vQS1GZWF0dXJlLnR5cGVzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9GZWF0dXJlRXJyb3IgZXh0ZW5kcyBBX0Vycm9yPEFfVFlQRVNfX0ZlYXR1cmVFcnJvcl9Jbml0PiB7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgRmVhdHVyZSBoYXMgYmVlbiBpbnRlcnJ1cHRlZFxuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBJbnRlcnJ1cHRpb24gPSAnRmVhdHVyZSBJbnRlcnJ1cHRlZCc7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlcmUgd2FzIGFuIGVycm9yIGluaXRpYWxpemluZyB0aGUgRmVhdHVyZVxuICAgICAqIFxuICAgICAqIEZhaWxlZCBkdXJpbmcgdGhlIEEtRmVhdHVyZSBpbml0aWFsaXphdGlvbiBwcm9jZXNzXG4gICAgICovXG4gICAgc3RhdGljIHJlYWRvbmx5IEZlYXR1cmVJbml0aWFsaXphdGlvbkVycm9yID0gJ1VuYWJsZSB0byBpbml0aWFsaXplIEEtRmVhdHVyZSc7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlcmUgd2FzIGFuIGVycm9yIHByb2Nlc3NpbmcgdGhlIEZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBGYWlsZWQgZHVyaW5nIHRoZSBBLUZlYXR1cmUgcHJvY2Vzc2luZ1xuICAgICAqL1xuICAgIHN0YXRpYyByZWFkb25seSBGZWF0dXJlUHJvY2Vzc2luZ0Vycm9yID0gJ0Vycm9yIG9jY3VycmVkIGR1cmluZyBBLUZlYXR1cmUgcHJvY2Vzc2luZyc7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRGVjb3JhdG9yIEVycm9ycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlcmUgd2FzIGFuIGVycm9yIGRlZmluaW5nIHRoZSBGZWF0dXJlXG4gICAgICogXG4gICAgICogRmFpbGVkIGR1cmluZyB0aGUgQEFfRmVhdHVyZS5EZWZpbmUoKSBkZWNvcmF0b3IgZXhlY3V0aW9uXG4gICAgICovXG4gICAgc3RhdGljIHJlYWRvbmx5IEZlYXR1cmVEZWZpbml0aW9uRXJyb3IgPSAnVW5hYmxlIHRvIGRlZmluZSBBLUZlYXR1cmUnO1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGF0IHRoZXJlIHdhcyBhbiBlcnJvciBleHRlbmRpbmcgdGhlIEZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBGYWlsZWQgZHVyaW5nIHRoZSBAQV9GZWF0dXJlLkV4dGVuZCgpIGRlY29yYXRvciBleGVjdXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgRmVhdHVyZUV4dGVuc2lvbkVycm9yID0gJ1VuYWJsZSB0byBleHRlbmQgQS1GZWF0dXJlJztcblxuICAgIFxuICAgIC8qKlxuICAgICAqIFN0YWdlIHdoZXJlIHRoZSBlcnJvciBvY2N1cnJlZFxuICAgICAqL1xuICAgIHN0YWdlPzogQV9TdGFnZVxuXG5cbiAgICBwcm90ZWN0ZWQgZnJvbUNvbnN0cnVjdG9yKHBhcmFtczogQV9UWVBFU19fRmVhdHVyZUVycm9yX0luaXQpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuZnJvbUNvbnN0cnVjdG9yKHBhcmFtcyk7XG5cbiAgICAgICAgdGhpcy5zdGFnZSA9IHBhcmFtcy5zdGFnZTtcbiAgICB9XG59IiwgImltcG9ydCB7XG4gICAgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvckNvbmZpZyxcbiAgICBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yRGVzY3JpcHRvcixcbiAgICBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YSxcbiAgICBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGFyZ2V0XG59IGZyb20gXCIuL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfRW50aXR5TWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS5tZXRhXCI7XG5pbXBvcnQgeyBBX0NvbnRhaW5lck1ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIubWV0YVwiO1xuaW1wb3J0IHsgQV9Db21wb25lbnRNZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50Lm1ldGFcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19FbnRpdHlNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRW50aXR5L0EtRW50aXR5LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfRmVhdHVyZUVycm9yIH0gZnJvbSBcIi4vQS1GZWF0dXJlLmVycm9yXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyXCI7XG5cbi8qKlxuICogQS1GZWF0dXJlIGRlY29yYXRvclxuICogXG4gKiBUaGlzIGRlY29yYXRvciBhbGxvd3MgdG8gZGVmaW5lIGEgY3VzdG9tIGxpZmVjeWNsZSBzdGFnZSBmb3IgdGhlIENvbnRhaW5lci5cbiAqIFRoZXNlIHN0YWdlcyBhcmUgZXhlY3V0ZWQgaW4gYSBjb250YWluZXItc3BlY2lmaWMgb3JkZXIgYW5kIGNhbiBiZSBleHRlbmRlZCBieSBjb21wb25lbnRzIHRoYXQgYXJlIGluamVjdGVkIGludG8gdGhlIGNvbnRhaW5lci5cbiAqIFRoaXMgYXBwcm9hY2ggYWxsb3dzIHRvIGNyZWF0ZSBhIGZsZXhpYmxlIGFuZCBleHRlbmRhYmxlIGFyY2hpdGVjdHVyZSBmb3IgdGhlIGFwcGxpY2F0aW9uLlxuICogXG4gKiBUaGUgbWFpbiBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIEEtRmVhdHVyZSBhbmQgQS1GZWF0dXJlIGRlY29yYXRvcnMgaXMgdGhhdCBBLUZlYXR1cmUgbWV0aG9kcyBjYW4gYmUgaW5oZXJpdGVkIGFuZCBvdmVycmlkZGVuIGJ5IGNoaWxkIGNsYXNzZXMuXG4gKiBcbiAqIFxuICogQHBhcmFtIHBhcmFtcyBcbiAqIEByZXR1cm5zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gQV9GZWF0dXJlX0RlZmluZShcbiAgICBjb25maWc6IFBhcnRpYWw8QV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvckNvbmZpZz4gPSB7fVxuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgICAgdGFyZ2V0OiBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGFyZ2V0LFxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLFxuICAgICAgICBkZXNjcmlwdG9yOiBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yRGVzY3JpcHRvclxuICAgICkge1xuICAgICAgICAvLyBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KVxuXG5cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNBbGxvd2VkRm9yRmVhdHVyZURlZmluaXRpb24odGFyZ2V0KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICBBX0ZlYXR1cmVFcnJvci5GZWF0dXJlRGVmaW5pdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgIGBBLUZlYXR1cmUgY2Fubm90IGJlIGRlZmluZWQgb24gdGhlICR7Y29tcG9uZW50TmFtZX0gbGV2ZWxgXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IG1ldGE6IEFfRW50aXR5TWV0YSB8IEFfQ29udGFpbmVyTWV0YSB8IEFfQ29tcG9uZW50TWV0YSA9IEFfQ29udGV4dC5tZXRhKHRhcmdldC5jb25zdHJ1Y3RvciBhcyBhbnkpO1xuXG4gICAgICAgIGxldCBtZXRhS2V5O1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19FbnRpdHlNZXRhS2V5LkZFQVRVUkVTO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LkZFQVRVUkVTXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuRkVBVFVSRVNcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gR2V0IHRoZSBleGlzdGVkIG1ldGFkYXRhIG9yIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGE6IEFfTWV0YTx7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdoZXJlIEtleSBpcyB0aGUgbmFtZSBvZiB0aGUgZmVhdHVyZVxuICAgICAgICAgICAgICogXG4gICAgICAgICAgICAgKiBXaGVyZSB2YWx1ZSBpcyB0aGUgbGlzdCBvZiBmZWF0dXJlc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBbS2V5OiBzdHJpbmddOiBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yTWV0YVxuICAgICAgICB9PiA9IG1ldGEuZ2V0KG1ldGFLZXkpIHx8IG5ldyBBX01ldGEoKTtcblxuXG4gICAgICAgIGNvbnN0IG5hbWUgPSBjb25maWcubmFtZSB8fCBwcm9wZXJ0eUtleTtcbiAgICAgICAgLy8gIGRlZmF1bHQgdG8gZmFsc2VcbiAgICAgICAgY29uc3QgaW52b2tlID0gY29uZmlnLmludm9rZSB8fCBmYWxzZTtcblxuXG4gICAgICAgIC8vIFNldCB0aGUgbWV0YWRhdGEgb2YgdGhlIG1ldGhvZCB0byBkZWZpbmUgYSBjdXN0b20gRmVhdHVyZSB3aXRoIG5hbWUgXG4gICAgICAgIGV4aXN0ZWRNZXRhLnNldChwcm9wZXJ0eUtleSwge1xuICAgICAgICAgICAgbmFtZTogYCR7dGFyZ2V0LmNvbnN0cnVjdG9yLm5hbWV9LiR7bmFtZX1gLFxuICAgICAgICAgICAgaGFuZGxlcjogcHJvcGVydHlLZXksXG4gICAgICAgICAgICBpbnZva2U6IGludm9rZSxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBjb25maWcudGVtcGxhdGUgJiYgY29uZmlnLnRlbXBsYXRlLmxlbmd0aCA/IGNvbmZpZy50ZW1wbGF0ZS5tYXAoXG4gICAgICAgICAgICAgICAgaXRlbSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IGl0ZW0uYmVmb3JlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBhZnRlcjogaXRlbS5hZnRlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3I6IGl0ZW0uYmVoYXZpb3IgfHwgJ3N5bmMnLFxuICAgICAgICAgICAgICAgICAgICB0aHJvd09uRXJyb3I6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlOiBpdGVtLm92ZXJyaWRlIHx8ICcnXG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKSA6IFtdLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyAgVXBkYXRlIHRoZSBtZXRhZGF0YSBvZiB0aGUgY29udGFpbmVyIHdpdGggdGhlIG5ldyBGZWF0dXJlIGRlZmluaXRpb25cbiAgICAgICAgQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQuY29uc3RydWN0b3IgYXMgYW55KVxuICAgICAgICAgICAgLnNldChcbiAgICAgICAgICAgICAgICBtZXRhS2V5LFxuICAgICAgICAgICAgICAgIGV4aXN0ZWRNZXRhXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsTWV0aG9kID0gZGVzY3JpcHRvci52YWx1ZSE7XG5cbiAgICAgICAgLy8gV3JhcCB0aGUgb3JpZ2luYWwgbWV0aG9kIHRvIGFkZCB0aGUgY2FsbCB0byBgY2FsbGBcbiAgICAgICAgLy8gdGhpcyBoZWxwcyB0byBhdXRvbWF0aWNhbGx5IGNhbGwgdGhlIGNvbnRhaW5lci9lbnRpdHkvY29tcG9uZW50IG1ldGhvZCB3aGVuIGl0J3MgY2FsbGVkXG4gICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAoLi4uYXJnczogYW55W10pIHtcblxuICAgICAgICAgICAgLy8gQ2FsbCB0aGUgb3JpZ2luYWwgbWV0aG9kXG4gICAgICAgICAgICBpZiAoIWludm9rZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxNZXRob2QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxNZXRob2QuYXBwbHkodGhpcywgYXJncyk7XG5cbiAgICAgICAgICAgIC8vIENhbGwgeW91ciBgY2FsbGAgd2l0aCB0aGUgZnVuY3Rpb24gbmFtZVxuICAgICAgICAgICAgaWYgKHR5cGVvZiAodGhpcyBhcyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGFyZ2V0KS5jYWxsID09PSBcImZ1bmN0aW9uXCIgJiYgaW52b2tlKVxuICAgICAgICAgICAgICAgIHJldHVybiAodGhpcyBhcyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGFyZ2V0KS5jYWxsKG5hbWUpO1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgfTtcbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yQ29uZmlnLCBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yRGVzY3JpcHRvciwgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclNjb3BlSXRlbSwgQV9UWVBFU19fRmVhdHVyZUV4dGVuZERlY29yYXRvclRhcmdldCB9IGZyb20gXCIuL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSBcIi4uL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9GZWF0dXJlRXJyb3IgfSBmcm9tIFwiLi9BLUZlYXR1cmUuZXJyb3JcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0NvbW1vbi5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0VudGl0eU1ldGFLZXkgfSBmcm9tIFwiLi4vQS1FbnRpdHkvQS1FbnRpdHkuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5IH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9Db250YWluZXIgfSBmcm9tIFwiLi4vQS1Db250YWluZXIvQS1Db250YWluZXIuY2xhc3NcIjtcblxuXG5cblxuLyoqXG4gKiBBLUV4dGVuZCBkZWNvcmF0b3JcbiAqIFxuICogVGhpcyBkZWNvcmF0b3IgYWxsb3dzIHRvIGRlZmluZSBhIGN1c3RvbSBFeHRlbmQgc3RhZ2UgZm9yIHRoZSBDb250YWluZXIuXG4gKiBUaGVzZSBzdGFnZXMgYXJlIGV4ZWN1dGVkIGluIGEgY29udGFpbmVyLXNwZWNpZmljIG9yZGVyIGFuZCBjYW4gYmUgZXh0ZW5kZWQgYnkgY29tcG9uZW50cyB0aGF0IGFyZSBpbmplY3RlZCBpbnRvIHRoZSBjb250YWluZXIuXG4gKiBUaGlzIGFwcHJvYWNoIGFsbG93cyB0byBjcmVhdGUgYSBmbGV4aWJsZSBhbmQgZXh0ZW5kYWJsZSBhcmNoaXRlY3R1cmUgZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAqIFxuICogVGhlIG1haW4gZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBBLUV4dGVuZCBhbmQgQS1FeHRlbmQgZGVjb3JhdG9ycyBpcyB0aGF0IEEtRXh0ZW5kIG1ldGhvZHMgY2FuIGJlIGluaGVyaXRlZCBhbmQgb3ZlcnJpZGRlbiBieSBjaGlsZCBjbGFzc2VzLlxuICogXG4gKiBcbiAqIEBwYXJhbSBwYXJhbXMgXG4gKiBAcmV0dXJucyBcbiAqL1xuLyoqXG4gKiBVc2UgcmVnZXhwIGluIGNhc2UgaWYgeW91IG5lZWQgbW9yZSBmbGV4aWJpbGl0eSBhbmQgY29udHJvbCBvdmVyIHRoZSBuYW1lIG9mIHRoZSBtZXRob2RcbiAqIFxuICogQHBhcmFtIHJlZ2V4cCBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfRmVhdHVyZV9FeHRlbmQoXG4gICAgLyoqXG4gICAgICogVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCB0aGUgbmFtZSBvZiB0aGUgRmVhdHVyZSBtZXRob2QgdG8gYmUgZXh0ZW5kZWRcbiAgICAgKiBcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIFxuICAgICAqIGBgYHRzXG4gICAgICogIEBBX0ZlYXR1cmUuRXh0ZW5kKC8uKlxcLmxvYWQvKVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHJlZ2V4cDogUmVnRXhwXG4pXG4vKipcbiAqIEluIHRoaXMgY2FzZSB0aGUgbmFtZSBjb25maWd1cmF0aW9ucyB3aWxsIGJlIHVzZWQgYXMgYW4gaW5wdXQgdG8gZ2V0IHNjb3BlIGFuZCBuYW1lIG9mIHRhcmdldCBmdW5jdGlvblxuICogWyFdIE5vdCB0aGF0IGZvciBhbGwgU0NPUEUgd2lsbCBiZSB1c2VkIE9SIG9wZXJhdG9yXG4gKiBcbiAqIEBwYXJhbSBjb25maWcgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBX0ZlYXR1cmVfRXh0ZW5kKFxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBBLUZlYXR1cmUtRXh0ZW5kIGRlY29yYXRvclxuICAgICAqL1xuICAgIGNvbmZpZzogUGFydGlhbDxBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yQ29uZmlnPlxuKVxuLyoqXG4gKiBJbiB0aGlzIGNhc2UgdGhlIG5hbWUgb2YgZnVuY3Rpb24gd2lsbCBiZSB1c2VkIGFzIGEgbmFtZSBvZiB0aGUgRmVhdHVyZS5cbiAqIFshXSBBTkQgaXQgd2lsbCBiZSBhcHBsaWNhYmxlIGZvciBBTlkgZWxlbWVudCB3aGVyZSB0aGUgbmFtZSBpcyB0aGUgc2FtZSBhcyB0aGUgbmFtZSBvZiB0aGUgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfRmVhdHVyZV9FeHRlbmQoKVxuZXhwb3J0IGZ1bmN0aW9uIEFfRmVhdHVyZV9FeHRlbmQoXG4gICAgcGFyYW0xPzogUGFydGlhbDxBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yQ29uZmlnPiB8IFJlZ0V4cFxuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgICAgdGFyZ2V0OiBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yVGFyZ2V0LFxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLFxuICAgICAgICBkZXNjcmlwdG9yOiBBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yRGVzY3JpcHRvclxuICAgICkge1xuICAgICAgICAvLyBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KVxuXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckZlYXR1cmVFeHRlbnNpb24odGFyZ2V0KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICBBX0ZlYXR1cmVFcnJvci5GZWF0dXJlRXh0ZW5zaW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEEtRmVhdHVyZS1FeHRlbmQgY2Fubm90IGJlIGFwcGxpZWQgb24gdGhlICR7Y29tcG9uZW50TmFtZX0gbGV2ZWxgXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGxldCB0YXJnZXRSZWdleHA6IFJlZ0V4cDtcbiAgICAgICAgbGV0IGJlaGF2aW9yOiAnc3luYycgfCAnYXN5bmMnID0gJ3N5bmMnO1xuICAgICAgICBsZXQgYmVmb3JlOiBzdHJpbmcgPSAnJztcbiAgICAgICAgbGV0IGFmdGVyOiBzdHJpbmcgPSAnJztcbiAgICAgICAgbGV0IG92ZXJyaWRlOiBzdHJpbmcgPSAnJztcbiAgICAgICAgbGV0IGluY2x1ZGU6IEFycmF5PEFfVFlQRVNfX0ZlYXR1cmVFeHRlbmREZWNvcmF0b3JTY29wZUl0ZW0+ID0gW107XG4gICAgICAgIGxldCBleGNsdWRlOiBBcnJheTxBX1RZUEVTX19GZWF0dXJlRXh0ZW5kRGVjb3JhdG9yU2NvcGVJdGVtPiA9IFtdO1xuICAgICAgICBsZXQgdGhyb3dPbkVycm9yOiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgbGV0IG1ldGFLZXk7XG5cblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fRW50aXR5TWV0YUtleS5FWFRFTlNJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LkVYVEVOU0lPTlNcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5FWFRFTlNJT05TXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNSZWdFeHAocGFyYW0xKTpcbiAgICAgICAgICAgICAgICB0YXJnZXRSZWdleHAgPSBwYXJhbTE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgISFwYXJhbTEgJiYgdHlwZW9mIHBhcmFtMSA9PT0gJ29iamVjdCc6XG5cbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJhbTEuc2NvcGUpKVxuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlID0gcGFyYW0xLnNjb3BlO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCEhcGFyYW0xLnNjb3BlICYmIHR5cGVvZiBwYXJhbTEuc2NvcGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmFtMS5zY29wZS5pbmNsdWRlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGUgPSBwYXJhbTEuc2NvcGUuaW5jbHVkZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyYW0xLnNjb3BlLmV4Y2x1ZGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgZXhjbHVkZSA9IHBhcmFtMS5zY29wZS5leGNsdWRlO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgdGFyZ2V0UmVnZXhwID0gYnVpbGRUYXJnZXRSZWdleHAocGFyYW0xLCBpbmNsdWRlLCBleGNsdWRlLCBwcm9wZXJ0eUtleSk7XG5cbiAgICAgICAgICAgICAgICBiZWhhdmlvciA9IHBhcmFtMS5iZWhhdmlvciB8fCBiZWhhdmlvcjtcbiAgICAgICAgICAgICAgICB0aHJvd09uRXJyb3IgPSBwYXJhbTEudGhyb3dPbkVycm9yICE9PSB1bmRlZmluZWQgPyBwYXJhbTEudGhyb3dPbkVycm9yIDogdGhyb3dPbkVycm9yO1xuXG4gICAgICAgICAgICAgICAgYmVmb3JlID0gQV9UeXBlR3VhcmRzLmlzQXJyYXkocGFyYW0xLmJlZm9yZSlcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgUmVnRXhwKGBeJHtwYXJhbTEuYmVmb3JlLmpvaW4oJ3wnKS5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJyl9JGApLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICA6IHBhcmFtMS5iZWZvcmUgaW5zdGFuY2VvZiBSZWdFeHBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyYW0xLmJlZm9yZS5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICBhZnRlciA9IEFfVHlwZUd1YXJkcy5pc0FycmF5KHBhcmFtMS5hZnRlcilcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgUmVnRXhwKGBeJHtwYXJhbTEuYWZ0ZXIuam9pbignfCcpLnJlcGxhY2UoL1xcLi9nLCAnXFxcXC4nKX0kYCkuc291cmNlXG4gICAgICAgICAgICAgICAgICAgIDogcGFyYW0xLmFmdGVyIGluc3RhbmNlb2YgUmVnRXhwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBhcmFtMS5hZnRlci5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJydcblxuICAgICAgICAgICAgICAgIG92ZXJyaWRlID0gQV9UeXBlR3VhcmRzLmlzQXJyYXkocGFyYW0xLm92ZXJyaWRlKVxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBSZWdFeHAoYF4ke3BhcmFtMS5vdmVycmlkZS5qb2luKCd8JykucmVwbGFjZSgvXFwuL2csICdcXFxcLicpfSRgKS5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgOiBwYXJhbTEub3ZlcnJpZGUgaW5zdGFuY2VvZiBSZWdFeHBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyYW0xLm92ZXJyaWRlLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRhcmdldFJlZ2V4cCA9IG5ldyBSZWdFeHAoYF4uKiR7cHJvcGVydHlLZXkucmVwbGFjZSgvXFwuL2csICdcXFxcLicpfSRgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG5cblxuXG5cbiAgICAgICAgY29uc3QgZXhpc3RlZERlZmluaXRpb25zID0gQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQpXG4gICAgICAgICAgICAuZ2V0KG1ldGFLZXkpO1xuXG5cbiAgICAgICAgLy8gR2V0IHRoZSBleGlzdGVkIG1ldGFkYXRhIG9yIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgY29uc3QgbWV0YSA9IEFfQ29udGV4dFxuICAgICAgICAgICAgLm1ldGEodGFyZ2V0KVxuXG4gICAgICAgIGNvbnN0IGV4aXN0ZWRNZXRhID0gbWV0YS5nZXQobWV0YUtleSlcbiAgICAgICAgICAgID8gbmV3IEFfTWV0YSgpLmZyb20obWV0YS5nZXQobWV0YUtleSkhKVxuICAgICAgICAgICAgOiBuZXcgQV9NZXRhKCk7XG5cbiAgICAgICAgaWYgKGV4aXN0ZWREZWZpbml0aW9uc1xuICAgICAgICAgICAgJiYgZXhpc3RlZERlZmluaXRpb25zLnNpemUoKVxuICAgICAgICAgICAgJiYgZXhpc3RlZERlZmluaXRpb25zLmhhcyhwcm9wZXJ0eUtleSlcbiAgICAgICAgICAgICYmIGV4aXN0ZWREZWZpbml0aW9ucy5nZXQocHJvcGVydHlLZXkpIS5pbnZva2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9GZWF0dXJlRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9GZWF0dXJlRXJyb3IuRmVhdHVyZUV4dGVuc2lvbkVycm9yLFxuICAgICAgICAgICAgICAgIGBBLUZlYXR1cmUtRXh0ZW5kIGNhbm5vdCBiZSB1c2VkIG9uIHRoZSBtZXRob2QgXCIke3Byb3BlcnR5S2V5fVwiIGJlY2F1c2UgaXQgaXMgYWxyZWFkeSBkZWZpbmVkIGFzIGEgRmVhdHVyZSB3aXRoIFwiaW52b2tlXCIgc2V0IHRvIHRydWUuIFBsZWFzZSByZW1vdmUgdGhlIEEtRmVhdHVyZS1FeHRlbmQgZGVjb3JhdG9yIG9yIHNldCBcImludm9rZVwiIHRvIGZhbHNlIGluIHRoZSBBLUZlYXR1cmUgZGVjb3JhdG9yLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleGlzdGVkTWV0YVZhbHVlID0gW1xuICAgICAgICAgICAgLi4uKGV4aXN0ZWRNZXRhLmdldCh0YXJnZXRSZWdleHAuc291cmNlKSB8fCBbXSlcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBleGlzdGVkSW5kZXggPSBleGlzdGVkTWV0YVZhbHVlLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaGFuZGxlciA9PT0gcHJvcGVydHlLZXkpO1xuXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IHtcbiAgICAgICAgICAgIG5hbWU6IHRhcmdldFJlZ2V4cC5zb3VyY2UsXG4gICAgICAgICAgICBoYW5kbGVyOiBwcm9wZXJ0eUtleSxcbiAgICAgICAgICAgIGJlaGF2aW9yLFxuICAgICAgICAgICAgYmVmb3JlLFxuICAgICAgICAgICAgYWZ0ZXIsXG4gICAgICAgICAgICB0aHJvd09uRXJyb3IsXG4gICAgICAgICAgICBvdmVycmlkZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV4aXN0ZWRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgZXhpc3RpbmcgbWV0aG9kIGluIHRoZSBtZXRhZGF0YVxuICAgICAgICAgICAgZXhpc3RlZE1ldGFWYWx1ZVtleGlzdGVkSW5kZXhdID0gZXh0ZW5zaW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQWRkIHRoZSBuZXcgbWV0aG9kIHRvIHRoZSBtZXRhZGF0YVxuICAgICAgICAgICAgZXhpc3RlZE1ldGFWYWx1ZS5wdXNoKGV4dGVuc2lvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgdGhlIG5ldyBtZXRob2QgdG8gdGhlIG1ldGFkYXRhXG4gICAgICAgIGV4aXN0ZWRNZXRhVmFsdWUucHVzaCgpO1xuXG4gICAgICAgIC8vIFNldCB0aGUgbWV0YWRhdGEgb2YgdGhlIG1ldGhvZCB0byBkZWZpbmUgYSBjdXN0b20gRmVhdHVyZSB3aXRoIG5hbWVcbiAgICAgICAgZXhpc3RlZE1ldGEuc2V0KHRhcmdldFJlZ2V4cC5zb3VyY2UsIGV4aXN0ZWRNZXRhVmFsdWUpO1xuXG4gICAgICAgIC8vICBVcGRhdGUgdGhlIG1ldGFkYXRhIG9mIHRoZSBjb250YWluZXIgd2l0aCB0aGUgbmV3IEZlYXR1cmUgZGVmaW5pdGlvblxuICAgICAgICBBX0NvbnRleHRcbiAgICAgICAgICAgIC5tZXRhKHRhcmdldClcbiAgICAgICAgICAgIC5zZXQobWV0YUtleSwgZXhpc3RlZE1ldGEpO1xuICAgIH07XG59XG5cblxuLyoqXG4gKiBCdWlsZHMgYSB0YXJnZXQgcmVndWxhciBleHByZXNzaW9uIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzLlxuICogXG4gKiBAcGFyYW0gcGFyYW0xIC0gVGhlIGZpcnN0IHBhcmFtZXRlciwgd2hpY2ggY2FuIGJlIGEgc3RyaW5nIG9yIGFuIG9iamVjdC5cbiAqIEBwYXJhbSBpbmNsdWRlIC0gQW4gYXJyYXkgb2YgaXRlbXMgdG8gaW5jbHVkZSBpbiB0aGUgcmVndWxhciBleHByZXNzaW9uLlxuICogQHBhcmFtIGV4Y2x1ZGUgLSBBbiBhcnJheSBvZiBpdGVtcyB0byBleGNsdWRlIGZyb20gdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAqIEBwYXJhbSBwcm9wZXJ0eUtleSAtIFRoZSBwcm9wZXJ0eSBrZXkgdG8gdXNlIGluIHRoZSByZWd1bGFyIGV4cHJlc3Npb24uXG4gKiBAcmV0dXJucyBBIHJlZ3VsYXIgZXhwcmVzc2lvbiBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFRhcmdldFJlZ2V4cChcbiAgICBwYXJhbTE6IGFueSxcbiAgICBpbmNsdWRlOiBhbnlbXSxcbiAgICBleGNsdWRlOiBhbnlbXSxcbiAgICBwcm9wZXJ0eUtleTogc3RyaW5nXG4pIHtcbiAgICBjb25zdCBpbmNsdWRlUGFydCA9IGluY2x1ZGUubGVuZ3RoXG4gICAgICAgID8gYCgke2luY2x1ZGUubWFwKGVsID0+IGVsLm5hbWUpLmpvaW4oJ3wnKX0pYFxuICAgICAgICA6IGAuKmA7XG5cbiAgICBjb25zdCBleGNsdWRlUGFydCA9IGV4Y2x1ZGUubGVuZ3RoXG4gICAgICAgID8gYCg/ISR7ZXhjbHVkZS5tYXAoZWwgPT4gZWwubmFtZSkuam9pbignfCcpfSlgXG4gICAgICAgIDogYGA7XG5cbiAgICBjb25zdCBwYXR0ZXJuID0gcGFyYW0xLnNjb3BlXG4gICAgICAgID8gYF4ke2V4Y2x1ZGVQYXJ0fSR7aW5jbHVkZVBhcnR9XFxcXC4ke3BhcmFtMS5uYW1lIHx8IHByb3BlcnR5S2V5fSRgXG4gICAgICAgIDogYC4qXFxcXC4ke3BhcmFtMS5uYW1lIHx8IHByb3BlcnR5S2V5fSRgO1xuXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAocGF0dGVybik7XG59IiwgImltcG9ydCB7IEFfQ29udGFpbmVyIH0gZnJvbSBcIi4uL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLmNsYXNzXCJcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC50eXBlc1wiXG5cblxuXG5leHBvcnQgZW51bSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cyB7XG4gICAgLyoqXG4gICAgICogVGhlIHN0YWdlIGlzIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBQUk9DRVNTSU5HID0gJ1BST0NFU1NJTkcnLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGFnZSBoYXMgYmVlbiBjb21wbGV0ZWRcbiAgICAgKi9cbiAgICBDT01QTEVURUQgPSAnQ09NUExFVEVEJyxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhZ2UgaGFzIGZhaWxlZFxuICAgICAqL1xuICAgIEZBSUxFRCA9ICdGQUlMRUQnLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGFnZSBoYXMgYmVlbiBza2lwcGVkXG4gICAgICovXG4gICAgU0tJUFBFRCA9ICdTS0lQUEVEJyxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhZ2UgaGFzIGJlZW4gcGF1c2VkXG4gICAgICovXG4gICAgLy8gUEFVU0VEID0gJ1BBVVNFRCcsXG4gICAgLyoqXG4gICAgICogVGhlIHN0YWdlIGhhcyBiZWVuIHN0b3BwZWRcbiAgICAgKi9cbiAgICAvLyBTVE9QUEVEID0gJ1NUT1BQRUQnLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGFnZSBoYXMgYmVlbiBzdGFydGVkXG4gICAgICovXG4gICAgLy8gU1RBUlRFRCA9ICdTVEFSVEVEJyxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhZ2UgaGFzIGJlZW4gaW5pdGlhbGl6ZWRcbiAgICAgKi9cbiAgICBJTklUSUFMSVpFRCA9ICdJTklUSUFMSVpFRCcsXG4gICAgLyoqXG4gICAgICogVGhlIHN0YWdlIGhhcyBiZWVuIGFib3J0ZWRcbiAgICAgKi9cbiAgICBBQk9SVEVEID0gJ0FCT1JURUQnXG59XG5cbmV4cG9ydCB0eXBlIEFfVFlQRVNfU3RhZ2VFeGVjdXRpb25CZWhhdmlvciA9ICdhc3luYycgfCAnc3luYydcblxuXG5leHBvcnQgdHlwZSBBX1RZUEVTX19BX1N0YWdlU3RlcCA9IHtcbiAgICAvKipcbiAgICAgKiBUaGUgY29tcG9uZW50IHRvIGJlIGNhbGxlZFxuICAgICAqL1xuICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yIHwgQV9Db250YWluZXIgfCBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBUaGUgbWV0aG9kIHRvIGJlIGNhbGxlZCBvbiB0aGUgY29tcG9uZW50XG4gICAgICovXG4gICAgaGFuZGxlcjogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIE9yaWdpbmFsIEZlYXR1cmUgRXh0ZW5zaW9uIG5hbWVcbiAgICAgKiBcbiAgICAgKiBbIV0gY291bGQgYmUgc3RyaW5nIG9yIHJlZ2V4XG4gICAgICogXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nLFxuXG4gICAgLyoqXG4gICAgICogSW4gY2FzZSBpdHMgYXN5bmMgaXQgd2lsbCBiZSBleGVjdXRlZCBpbmRlcGVuZGVudGx5IGZyb20gdGhlIG1haW4gdGhyZWFkLlxuICAgICAqIFxuICAgICAqIFshXSBIb3dldmVyLCBpbiBjYXNlIG9mIHN5bmMsIGl0IHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIG1haW4gdGhyZWFkLmluIHRoZSBvcmRlciBvZiB0aGUgZGVjbGFyYXRpb24uXG4gICAgICogXG4gICAgICovXG4gICAgYmVoYXZpb3I6IEFfVFlQRVNfU3RhZ2VFeGVjdXRpb25CZWhhdmlvclxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgbWV0aG9kLlxuICAgICAqIFxuICAgICAqIFshXSBJbiBjYXNlIHRoZSBtZXRob2QgaGFzIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBpdCB3aWxsIFRocm93IGFuIGVycm9yLlxuICAgICAqIFxuICAgICAqL1xuICAgIGJlZm9yZTogc3RyaW5nXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiB0aGUgZXhlY3V0aW9uIG9mIHRoZSBtZXRob2QuXG4gICAgICogXG4gICAgICogWyFdIEluIGNhc2UgdGhlIG1ldGhvZCBoYXMgY2lyY3VsYXIgZGVwZW5kZW5jaWVzIGl0IHdpbGwgVGhyb3cgYW4gZXJyb3IuXG4gICAgICogXG4gICAgICovXG4gICAgYWZ0ZXI6IHN0cmluZyxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRvIHRocm93IGFuIGVycm9yIGlmIHRoZSBzdGVwIGZhaWxzLlxuICAgICAqIFxuICAgICAqIFshXSBCeSBkZWZhdWx0IGlzIHRydWVcbiAgICAgKi9cbiAgICB0aHJvd09uRXJyb3I6IGJvb2xlYW5cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqL1xuICAgIG92ZXJyaWRlOiBzdHJpbmdcbn1cblxuXG5cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX1N0YWdlX1NlcmlhbGl6ZWQgPSB7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgc3RhZ2VcbiAgICAgKi9cbiAgICBuYW1lOiBzdHJpbmcsXG5cbiAgICAvKipcbiAgICAgKiAgVGhlIHN0YXR1cyBvZiB0aGUgc3RhZ2VcbiAgICAgKiBcbiAgICAgKi9cbiAgICBzdGF0dXM6IEFfVFlQRVNfX0FfU3RhZ2VfU3RhdHVzLFxuXG5cbn1cblxuXG5cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0FfU3RhZ2VTdGVwUHJvY2Vzc2luZ0V4dHJhUGFyYW1zID0ge1xuICAgIHN0ZXBzOiBBX1RZUEVTX19BX1N0YWdlU3RlcFtdXG4gICAgZmlsdGVyOiAoc3RlcDogQV9UWVBFU19fQV9TdGFnZVN0ZXApID0+IGJvb2xlYW5cbn1cbiIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX1N0YWdlRXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIHN0YXRpYyByZWFkb25seSBBcmd1bWVudHNSZXNvbHV0aW9uRXJyb3IgPSAnQS1TdGFnZSBBcmd1bWVudHMgUmVzb2x1dGlvbiBFcnJvcic7XG5cblxuICAgIHN0YXRpYyBnZXQgQ29tcGlsZUVycm9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnVW5hYmxlIHRvIGNvbXBpbGUgQS1TdGFnZSc7XG4gICAgfVxuXG59XG4iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cyxcbiAgICBBX1RZUEVTX19BX1N0YWdlU3RlcCxcbiAgICBBX1RZUEVTX19TdGFnZV9TZXJpYWxpemVkXG59IGZyb20gXCIuL0EtU3RhZ2UudHlwZXNcIjtcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCIuLi9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0ZlYXR1cmUgfSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9TY29wZSB9IGZyb20gXCIuLi9BLVNjb3BlL0EtU2NvcGUuY2xhc3NcIjtcbmltcG9ydCB7IEFfU3RhZ2VFcnJvciB9IGZyb20gXCIuL0EtU3RhZ2UuZXJyb3JcIjtcbmltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHMgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vQS1Db250YWluZXIvQS1Db250YWluZXIudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlclwiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfU3RhZ2Uge1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZlYXR1cmUgdGhhdCBvd25zIHRoaXMgc3RhZ2VcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlYWRvbmx5IF9mZWF0dXJlITogQV9GZWF0dXJlO1xuICAgIC8qKlxuICAgICAqIEluaXRpYWwgSW5zdHJ1Y3Rpb25zIHRvIHByb2Nlc3MgdGhlIHN0YWdlXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGVmaW5pdGlvbiE6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwO1xuICAgIC8qKlxuICAgICAqIFBvc3NpYmxlIGVycm9ycyBkdXJpbmcgc3RhZ2UgcHJvY2Vzc2luZ1xuICAgICAqL1xuICAgIHByaXZhdGUgX2Vycm9yPzogQV9FcnJvcjtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSBzdGFnZVxuICAgICAqL1xuICAgIHByaXZhdGUgX3N0YXR1czogQV9UWVBFU19fQV9TdGFnZV9TdGF0dXMgPSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5JTklUSUFMSVpFRDtcblxuICAgIC8qKlxuICAgICAqIFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gdGhlIHN0YWdlIGlzIFByb2Nlc3NlZFxuICAgICAqL1xuICAgIHByaXZhdGUgX3Byb2Nlc3NlZDogUHJvbWlzZTx2b2lkPiB8IHVuZGVmaW5lZDtcblxuXG4gICAgLyoqXG4gICAgICogQV9TdGFnZSBpcyBhIGNhbGxhYmxlIEFfRnVuY3Rpb24gd2l0aGluIEFfRmVhdHVyZSB0aGF0IHNob3VsZCBiZSBydW4gd2l0aCBzcGVjaWZpYyBwYXJhbWV0ZXJzLlxuICAgICAqIFshXSBEZXBlbmRpbmcgb24gdGhlIFN0YWdlIERlZmluaXRpb24gdHlwZSBzeW5jL2FzeW5jIGZ1bmN0aW9uIGNhbiBiZSBleGVjdXRlZCBjb3JyZXNwb25kaW5nbHkuXG4gICAgICogXG4gICAgICogQS1TdGFnZSBpcyBhIGNvbW1vbiBvYmplY3QgdGhhdCB1c2VzIHRvIHNpbXBsaWZ5IGxvZ2ljIGFuZCByZS11c2Ugb2YgQS1GZWF0dXJlIGludGVybmFscyBmb3IgYmV0dGVyIGNvbXBvc2l0aW9uLiBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmZWF0dXJlIHRoYXQgb3ducyB0aGlzIHN0YWdlXG4gICAgICAgICAqL1xuICAgICAgICBmZWF0dXJlOiBBX0ZlYXR1cmUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RlcCBkZWZpbml0aW9ucyBvZiB0aGUgc3RhZ2VcbiAgICAgICAgICovXG4gICAgICAgIHN0ZXA6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX2ZlYXR1cmUgPSBmZWF0dXJlO1xuICAgICAgICB0aGlzLl9kZWZpbml0aW9uID0gc3RlcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBuYW1lIG9mIHRoZSBzdGFnZVxuICAgICAqL1xuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRlZmluaXRpb24gb2YgdGhlIHN0YWdlXG4gICAgICovXG4gICAgZ2V0IGRlZmluaXRpb24oKTogQV9UWVBFU19fQV9TdGFnZVN0ZXAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmaW5pdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBzdGF0dXMgb2YgdGhlIHN0YWdlXG4gICAgICovXG4gICAgZ2V0IHN0YXR1cygpOiBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGZlYXR1cmUgdGhhdCBvd25zIHRoaXMgc3RhZ2VcbiAgICAgKi9cbiAgICBnZXQgZmVhdHVyZSgpOiBBX0ZlYXR1cmUge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmVhdHVyZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzdGFnZSBpcyBwcm9jZXNzZWQgKGNvbXBsZXRlZCwgZmFpbGVkLCBvciBza2lwcGVkKVxuICAgICAqL1xuICAgIGdldCBpc1Byb2Nlc3NlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1cyA9PT0gQV9UWVBFU19fQV9TdGFnZV9TdGF0dXMuQ09NUExFVEVEXG4gICAgICAgICAgICB8fCB0aGlzLl9zdGF0dXMgPT09IEFfVFlQRVNfX0FfU3RhZ2VfU3RhdHVzLkZBSUxFRFxuICAgICAgICAgICAgfHwgdGhpcy5fc3RhdHVzID09PSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5TS0lQUEVEO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBlcnJvciBvZiB0aGUgc3RhZ2VcbiAgICAgKi9cbiAgICBnZXQgZXJyb3IoKTogQV9FcnJvciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyB0aGUgYXJndW1lbnRzIG9mIHRoZSBzdGVwXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0ZXAgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIGdldFN0ZXBBcmdzKFxuICAgICAgICBzY29wZTogQV9TY29wZSxcbiAgICAgICAgc3RlcDogQV9UWVBFU19fQV9TdGFnZVN0ZXBcbiAgICApIHtcbiAgICAgICAgbGV0IHJlc29sdmVyQ29uc3RydWN0b3I6IEFfVFlQRVNfX0NvbnRhaW5lcl9Db25zdHJ1Y3RvciB8IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2Uoc3RlcC5jb21wb25lbnQpOlxuICAgICAgICAgICAgICAgIHJlc29sdmVyQ29uc3RydWN0b3IgPSBzdGVwLmNvbXBvbmVudC5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19Db250YWluZXJfQ29uc3RydWN0b3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzU3RyaW5nKHN0ZXAuY29tcG9uZW50KTpcbiAgICAgICAgICAgICAgICByZXNvbHZlckNvbnN0cnVjdG9yID0gc2NvcGUucmVzb2x2ZUNvbnN0cnVjdG9yKHN0ZXAuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXNvbHZlckNvbnN0cnVjdG9yID0gc3RlcC5jb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHJldHVybiBQcm9taXNlXG4gICAgICAgICAgICAuYWxsKEFfQ29udGV4dFxuICAgICAgICAgICAgICAgIC5tZXRhKHJlc29sdmVyQ29uc3RydWN0b3IpXG4gICAgICAgICAgICAgICAgLmluamVjdGlvbnMoc3RlcC5oYW5kbGVyKVxuICAgICAgICAgICAgICAgIC5tYXAoYXN5bmMgYXJnID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NhbGxlckNvbnN0cnVjdG9yKGFyZy50YXJnZXQpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mZWF0dXJlLmNhbGxlci5jb21wb25lbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRmVhdHVyZUNvbnN0cnVjdG9yKGFyZy50YXJnZXQpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mZWF0dXJlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB0YXJnZXQsIHJlcXVpcmUsIGNyZWF0ZSwgZGVmYXVsdEFyZ3MsIHBhcmVudCB9ID0gYXJnO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVwZW5kZW5jeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0U2NvcGUgPSBzY29wZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgJiYgdHlwZW9mIHBhcmVudC5sYXllck9mZnNldCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcmVudFNjb3BlID0gc2NvcGUucGFyZW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvZmZzZXQgPSBwYXJlbnQubGF5ZXJPZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG9mZnNldCA8IC0xICYmIHBhcmVudFNjb3BlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTY29wZSA9IHBhcmVudFNjb3BlLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFNjb3BlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gcGFyZW50U2NvcGUucmVzb2x2ZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0U2NvcGUgPSBwYXJlbnRTY29wZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwZW5kZW5jeSA9IHRhcmdldFNjb3BlLnJlc29sdmUodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlICYmICFkZXBlbmRlbmN5ICYmIEFfVHlwZUd1YXJkcy5pc0FsbG93ZWRGb3JEZXBlbmRlbmN5RGVmYXVsdENyZWF0aW9uKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RGVwZW5kZW5jeSA9IG5ldyB0YXJnZXQoLi4uZGVmYXVsdEFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFNjb3BlLnJlZ2lzdGVyKG5ld0RlcGVuZGVuY3kpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3RGVwZW5kZW5jeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWlyZSAmJiAhZGVwZW5kZW5jeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9TdGFnZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQV9TdGFnZUVycm9yLkFyZ3VtZW50c1Jlc29sdXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gcmVzb2x2ZSByZXF1aXJlZCBhcmd1bWVudCAke0FfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoYXJnLnRhcmdldCl9IGZvciBzdGFnZSAke3RoaXMubmFtZX0gaW4gc2NvcGUgJHtzY29wZS5uYW1lfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVwZW5kZW5jeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyB0aGUgY29tcG9uZW50IG9mIHRoZSBzdGVwXG4gICAgICogXG4gICAgICogQHBhcmFtIHN0ZXAgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGdldFN0ZXBDb21wb25lbnQoXG4gICAgICAgIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBzdGVwOiBBX1RZUEVTX19BX1N0YWdlU3RlcFxuICAgICkge1xuICAgICAgICBjb25zdCB7IGNvbXBvbmVudCwgaGFuZGxlciB9ID0gc3RlcDtcblxuICAgICAgICBsZXQgaW5zdGFuY2U6IEFfVFlQRVNfX1Njb3BlUmVzb2x2YWJsZUNvbXBvbmVudHMgfCB1bmRlZmluZWRcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UoY29tcG9uZW50KTpcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNTdHJpbmcoY29tcG9uZW50KTpcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IHNjb3BlLnJlc29sdmUoY29tcG9uZW50KSB8fCB0aGlzLmZlYXR1cmUuc2NvcGUucmVzb2x2ZShjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gc2NvcGUucmVzb2x2ZShjb21wb25lbnQpIHx8IHRoaXMuZmVhdHVyZS5zY29wZS5yZXNvbHZlKGNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWluc3RhbmNlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfU3RhZ2VFcnJvcihBX1N0YWdlRXJyb3IuQ29tcGlsZUVycm9yLCBgVW5hYmxlIHRvIHJlc29sdmUgY29tcG9uZW50ICR7dHlwZW9mIGNvbXBvbmVudCA9PT0gJ3N0cmluZycgPyBjb21wb25lbnQgOiBjb21wb25lbnQubmFtZX0gZnJvbSBzY29wZSAke3Njb3BlLm5hbWV9YCk7XG5cbiAgICAgICAgaWYgKCFpbnN0YW5jZVtoYW5kbGVyXSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX1N0YWdlRXJyb3IoQV9TdGFnZUVycm9yLkNvbXBpbGVFcnJvciwgYEhhbmRsZXIgJHtoYW5kbGVyfSBub3QgZm91bmQgaW4gJHtpbnN0YW5jZS5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuXG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgdGhlIGhhbmRsZXIgb2YgdGhlIHN0ZXBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RlcCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgY2FsbFN0ZXBIYW5kbGVyKFxuICAgICAgICBzdGVwOiBBX1RZUEVTX19BX1N0YWdlU3RlcCxcbiAgICAgICAgc2NvcGU6IEFfU2NvcGVcbiAgICApIHtcbiAgICAgICAgLy8gMSkgUmVzb2x2ZSBjb21wb25lbnRcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gYXdhaXQgdGhpcy5nZXRTdGVwQ29tcG9uZW50KHNjb3BlLCBzdGVwKTtcbiAgICAgICAgLy8gMikgUmVzb2x2ZSBhcmd1bWVudHNcbiAgICAgICAgY29uc3QgY2FsbEFyZ3MgPSBhd2FpdCB0aGlzLmdldFN0ZXBBcmdzKHNjb3BlLCBzdGVwKTtcblxuICAgICAgICAvLyAzKSBDYWxsIGhhbmRsZXJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNvbXBvbmVudFtzdGVwLmhhbmRsZXJdKC4uLmNhbGxBcmdzKTtcbiAgICB9XG5cblxuICAgIHNraXAoKSB7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IEFfVFlQRVNfX0FfU3RhZ2VfU3RhdHVzLlNLSVBQRUQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBwcm9jZXNzZXMgdGhlIHN0YWdlIGJ5IGV4ZWN1dGluZyBhbGwgdGhlIHN0ZXBzXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlIC0gU2NvcGUgdG8gYmUgdXNlZCB0byByZXNvbHZlIHRoZSBzdGVwcyBkZXBlbmRlbmNpZXNcbiAgICAgKi9cbiAgICBhc3luYyBwcm9jZXNzKFxuICAgICAgICAvKipcbiAgICAgICAgICogU2NvcGUgdG8gYmUgdXNlZCB0byByZXNvbHZlIHRoZSBzdGVwcyBkZXBlbmRlbmNpZXNcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcblxuICAgICAgICBjb25zdCB0YXJnZXRTY29wZSA9IEFfVHlwZUd1YXJkcy5pc1Njb3BlSW5zdGFuY2Uoc2NvcGUpXG4gICAgICAgICAgICA/IHNjb3BlXG4gICAgICAgICAgICA6IHRoaXMuX2ZlYXR1cmUuc2NvcGU7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9wcm9jZXNzZWQpXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzZWQgPSBuZXcgUHJvbWlzZTx2b2lkPihcbiAgICAgICAgICAgICAgICBhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5QUk9DRVNTSU5HO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGVmaW5pdGlvbi5iZWhhdmlvciA9PT0gJ3N5bmMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gY2FzZSB3ZSBoYXZlIHRvIHdhaXQgZm9yIHRoZSByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGxTdGVwSGFuZGxlcih0aGlzLl9kZWZpbml0aW9uLCB0YXJnZXRTY29wZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluIGNhc2Ugd2UgZG9uJ3QgaGF2ZSB0byB3YWl0IGZvciB0aGUgcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsU3RlcEhhbmRsZXIodGhpcy5fZGVmaW5pdGlvbiwgdGFyZ2V0U2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlZEVycm9yID0gbmV3IEFfRXJyb3IoZXJyb3IgYXMgYW55KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWlsZWQod3JhcHBlZEVycm9yKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RlZmluaXRpb24udGhyb3dPbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCh3cmFwcGVkRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3NlZDtcbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PSBTdGF0dXMgbWV0aG9kcyA9PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBwcm90ZWN0ZWQgY29tcGxldGVkKCkge1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5DT01QTEVURUQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGZhaWxlZChcbiAgICAgICAgZXJyb3I6IEVycm9yIHwgQV9FcnJvciB8IGFueVxuICAgICkge1xuICAgICAgICB0aGlzLl9lcnJvciA9IG5ldyBBX0Vycm9yKGVycm9yKTtcblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX1RZUEVTX19BX1N0YWdlX1N0YXR1cy5GQUlMRUQ7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PSBTZXJpYWxpemF0aW9uID09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIHN0YWdlIHRvIEpTT05cbiAgICAgKiBcbiAgICAgKi9cbiAgICB0b0pTT04oKTogQV9UWVBFU19fU3RhZ2VfU2VyaWFsaXplZCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3RhZ2VcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBBLVN0YWdlKCR7dGhpcy5fZmVhdHVyZS5uYW1lfTo6JHt0aGlzLl9kZWZpbml0aW9uLmJlaGF2aW9yfUAke3RoaXMuX2RlZmluaXRpb24uaGFuZGxlcn0pYDtcbiAgICB9XG59ICAgIiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5cblxuXG5leHBvcnQgY2xhc3MgQV9TdGVwTWFuYWdlckVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cblxuICAgIHN0YXRpYyByZWFkb25seSBDaXJjdWxhckRlcGVuZGVuY3lFcnJvciA9ICdBLVN0ZXBNYW5hZ2VyIENpcmN1bGFyIERlcGVuZGVuY3kgRXJyb3InO1xuXG59IiwgImltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GZWF0dXJlRGVmaW5lRGVjb3JhdG9yVGVtcGxhdGVJdGVtIH0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUudHlwZXNcIjtcbmltcG9ydCB7IEFfU3RhZ2UgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX1N0YWdlU3RlcCB9IGZyb20gXCIuLi9BLVN0YWdlL0EtU3RhZ2UudHlwZXNcIjtcbmltcG9ydCB7IEFfU3RlcE1hbmFnZXJFcnJvciB9IGZyb20gXCIuL0EtU3RlcE1hbmFnZXIuZXJyb3JcIjtcblxuZXhwb3J0IGNsYXNzIEFfU3RlcHNNYW5hZ2VyIHtcblxuICAgIHB1YmxpYyBlbnRpdGllczogQV9UWVBFU19fQV9TdGFnZVN0ZXBbXTtcbiAgICBwdWJsaWMgZ3JhcGg6IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PjtcbiAgICBwdWJsaWMgdmlzaXRlZDogU2V0PHN0cmluZz47XG4gICAgcHVibGljIHRlbXBNYXJrOiBTZXQ8c3RyaW5nPjtcbiAgICBwdWJsaWMgc29ydGVkRW50aXRpZXM6IHN0cmluZ1tdO1xuXG5cbiAgICBwcml2YXRlIF9pc0J1aWx0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihlbnRpdGllczogQXJyYXk8QV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvclRlbXBsYXRlSXRlbT4pIHtcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IHRoaXMucHJlcGFyZVN0ZXBzKGVudGl0aWVzKTtcblxuICAgICAgICB0aGlzLmdyYXBoID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnZpc2l0ZWQgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMudGVtcE1hcmsgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuc29ydGVkRW50aXRpZXMgPSBbXTtcblxuICAgIH1cblxuICAgIHByaXZhdGUgcHJlcGFyZVN0ZXBzKFxuICAgICAgICBlbnRpdGllczogQXJyYXk8QV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvclRlbXBsYXRlSXRlbT5cbiAgICApOiBBcnJheTxBX1RZUEVTX19BX1N0YWdlU3RlcD4ge1xuICAgICAgICByZXR1cm4gZW50aXRpZXNcbiAgICAgICAgICAgIC5tYXAoc3RlcCA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnN0ZXAsXG5cbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogc3RlcC5iZWhhdmlvciB8fCAnc3luYycsXG4gICAgICAgICAgICAgICAgYmVmb3JlOiBzdGVwLmJlZm9yZSB8fCAnJyxcbiAgICAgICAgICAgICAgICBhZnRlcjogc3RlcC5hZnRlciB8fCAnJyxcbiAgICAgICAgICAgICAgICBvdmVycmlkZTogc3RlcC5vdmVycmlkZSB8fCAnJyxcbiAgICAgICAgICAgICAgICB0aHJvd09uRXJyb3I6IGZhbHNlXG4gICAgICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBJRChzdGVwOiBBX1RZUEVTX19BX1N0YWdlU3RlcCkge1xuICAgICAgICByZXR1cm4gYCR7dHlwZW9mIHN0ZXAuY29tcG9uZW50ID09PSAnc3RyaW5nJyA/IHN0ZXAuY29tcG9uZW50IDogc3RlcC5jb21wb25lbnQubmFtZX0uJHtzdGVwLmhhbmRsZXJ9YDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkR3JhcGgoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0J1aWx0KSByZXR1cm47XG4gICAgICAgIHRoaXMuX2lzQnVpbHQgPSB0cnVlO1xuXG4gICAgICAgIC8vIEZpbHRlciBvdmVycmlkZVxuICAgICAgICB0aGlzLmVudGl0aWVzID0gdGhpcy5lbnRpdGllc1xuICAgICAgICAgICAgLmZpbHRlcigoc3RlcCwgaSwgc2VsZikgPT5cbiAgICAgICAgICAgICAgICAhc2VsZi5zb21lKHMgPT4gcy5vdmVycmlkZSA/IG5ldyBSZWdFeHAocy5vdmVycmlkZSkudGVzdCh0aGlzLklEKHN0ZXApKSA6IGZhbHNlKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIGdyYXBoIG5vZGVzXG4gICAgICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4gdGhpcy5ncmFwaC5zZXQodGhpcy5JRChlbnRpdHkpLCBuZXcgU2V0KCkpKTtcblxuICAgICAgICAvLyBBZGQgZGlyZWN0ZWQgZWRnZXMgYmFzZWQgb24gJ2JlZm9yZScgYW5kICdhZnRlcidcbiAgICAgICAgdGhpcy5lbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHlJZCA9IHRoaXMuSUQoZW50aXR5KTtcblxuICAgICAgICAgICAgLy8gQWRkIGVkZ2VzIGZvciAnYmVmb3JlJyBkZXBlbmRlbmNpZXNcbiAgICAgICAgICAgIC8vIElmIGVudGl0eSBzaG91bGQgZXhlY3V0ZSBiZWZvcmUgdGFyZ2V0cywgdGhlbiB0YXJnZXRzIGRlcGVuZCBvbiBlbnRpdHlcbiAgICAgICAgICAgIC8vIFNvIHdlIGFkZCBlZGdlczogdGFyZ2V0IC0+IGVudGl0eSAodGFyZ2V0IGRlcGVuZHMgb24gZW50aXR5KVxuICAgICAgICAgICAgaWYgKGVudGl0eS5iZWZvcmUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRzID0gdGhpcy5tYXRjaEVudGl0aWVzKGVudGl0eUlkLCBlbnRpdHkuYmVmb3JlKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRzLmZvckVhY2godGFyZ2V0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdyYXBoLmhhcyh0YXJnZXQpKSB0aGlzLmdyYXBoLnNldCh0YXJnZXQsIG5ldyBTZXQoKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGguZ2V0KHRhcmdldCkhLmFkZChlbnRpdHlJZCk7IC8vIHRhcmdldCBkZXBlbmRzIG9uIGVudGl0eVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBZGQgZWRnZXMgZm9yICdhZnRlcicgZGVwZW5kZW5jaWVzICBcbiAgICAgICAgICAgIC8vIElmIGVudGl0eSBzaG91bGQgZXhlY3V0ZSBhZnRlciBzb3VyY2VzLCB0aGVuIGVudGl0eSBkZXBlbmRzIG9uIHNvdXJjZXNcbiAgICAgICAgICAgIC8vIFNvIHdlIGFkZCBlZGdlczogZW50aXR5IC0+IHNvdXJjZSAoZW50aXR5IGRlcGVuZHMgb24gc291cmNlKVxuICAgICAgICAgICAgaWYgKGVudGl0eS5hZnRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLm1hdGNoRW50aXRpZXMoZW50aXR5SWQsIGVudGl0eS5hZnRlcik7XG5cbiAgICAgICAgICAgICAgICBzb3VyY2VzLmZvckVhY2goc291cmNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdyYXBoLmhhcyhlbnRpdHlJZCkpIHRoaXMuZ3JhcGguc2V0KGVudGl0eUlkLCBuZXcgU2V0KCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyYXBoLmdldChlbnRpdHlJZCkhLmFkZChzb3VyY2UpOyAvLyBlbnRpdHkgZGVwZW5kcyBvbiBzb3VyY2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gTWF0Y2ggZW50aXRpZXMgYnkgbmFtZSBvciByZWdleFxuICAgIHByaXZhdGUgbWF0Y2hFbnRpdGllcyhlbnRpdHlJZDogc3RyaW5nLCBwYXR0ZXJuOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChwYXR0ZXJuKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5lbnRpdGllc1xuICAgICAgICAgICAgLmZpbHRlcihlbnRpdHkgPT4gcmVnZXgudGVzdCh0aGlzLklEKGVudGl0eSkpICYmIHRoaXMuSUQoZW50aXR5KSAhPT0gZW50aXR5SWQpXG4gICAgICAgICAgICAubWFwKGVudGl0eSA9PiB0aGlzLklEKGVudGl0eSkpO1xuICAgIH1cblxuICAgIC8vIFRvcG9sb2dpY2FsIHNvcnQgd2l0aCBjeWNsZSBkZXRlY3Rpb25cbiAgICBwcml2YXRlIHZpc2l0KG5vZGU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy50ZW1wTWFyay5oYXMobm9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIFRPRE86IG1heWJlIHdlIGhhdmUgdG8ga2VlcCB0aGlzIGVycm9yIGJ1dCBvbmx5IGZvciBwYXJ0aWFsIGNhc2VzXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9TdGVwTWFuYWdlckVycm9yKFxuICAgICAgICAgICAgICAgIEFfU3RlcE1hbmFnZXJFcnJvci5DaXJjdWxhckRlcGVuZGVuY3lFcnJvcixcbiAgICAgICAgICAgICAgICBgQ2lyY3VsYXIgZGVwZW5kZW5jeSBkZXRlY3RlZCBpbnZvbHZpbmcgc3RlcDogJHtub2RlfS4gTWFrZSBzdXJlIHRoYXQgeW91ciAnYmVmb3JlJyBhbmQgJ2FmdGVyJyBkZXBlbmRlbmNpZXMgZG8gbm90IGNyZWF0ZSBjeWNsZXMuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy52aXNpdGVkLmhhcyhub2RlKSkge1xuICAgICAgICAgICAgdGhpcy50ZW1wTWFyay5hZGQobm9kZSk7XG5cblxuICAgICAgICAgICAgKHRoaXMuZ3JhcGguZ2V0KG5vZGUpIHx8IFtdKS5mb3JFYWNoKG5laWdoYm9yID0+IHRoaXMudmlzaXQobmVpZ2hib3IpKTtcbiAgICAgICAgICAgIHRoaXMudGVtcE1hcmsuZGVsZXRlKG5vZGUpO1xuICAgICAgICAgICAgdGhpcy52aXNpdGVkLmFkZChub2RlKTtcbiAgICAgICAgICAgIHRoaXMuc29ydGVkRW50aXRpZXMucHVzaChub2RlKTtcblxuICAgICAgICAgICAgLy8gLy8gVmlzaXQgbmVpZ2hib3JzIGluIHN0YWJsZSBvcmRlciAocHJlc2VydmluZyBvcmlnaW5hbCBvcmRlcilcbiAgICAgICAgICAgIC8vIGNvbnN0IG5laWdoYm9ycyA9IEFycmF5LmZyb20odGhpcy5ncmFwaC5nZXQobm9kZSkgfHwgW10pO1xuICAgICAgICAgICAgLy8gLy8gbmVpZ2hib3JzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIC8vIC8vICAgICBjb25zdCBvcmRlckEgPSB0aGlzLm9yaWdpbmFsT3JkZXIuZ2V0KGEpIHx8IDA7XG4gICAgICAgICAgICAvLyAvLyAgICAgY29uc3Qgb3JkZXJCID0gdGhpcy5vcmlnaW5hbE9yZGVyLmdldChiKSB8fCAwO1xuICAgICAgICAgICAgLy8gLy8gICAgIHJldHVybiBvcmRlckEgLSBvcmRlckI7XG4gICAgICAgICAgICAvLyAvLyB9KTtcblxuICAgICAgICAgICAgLy8gbmVpZ2hib3JzLmZvckVhY2gobmVpZ2hib3IgPT4gdGhpcy52aXNpdChuZWlnaGJvcikpO1xuICAgICAgICAgICAgLy8gdGhpcy50ZW1wTWFyay5kZWxldGUobm9kZSk7XG4gICAgICAgICAgICAvLyB0aGlzLnZpc2l0ZWQuYWRkKG5vZGUpO1xuICAgICAgICAgICAgLy8gdGhpcy5zb3J0ZWRFbnRpdGllcy5wdXNoKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICB0b1NvcnRlZEFycmF5KCk6IEFycmF5PHN0cmluZz4ge1xuICAgICAgICB0aGlzLmJ1aWxkR3JhcGgoKTtcblxuICAgICAgICAvLyBTdGFydCB0b3BvbG9naWNhbCBzb3J0XG4gICAgICAgIHRoaXMuZW50aXRpZXMuZm9yRWFjaChlbnRpdHkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnZpc2l0ZWQuaGFzKHRoaXMuSUQoZW50aXR5KSkpIHRoaXMudmlzaXQodGhpcy5JRChlbnRpdHkpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc29ydGVkRW50aXRpZXM7XG4gICAgfVxuXG4gICAgLy8gU29ydCB0aGUgZW50aXRpZXMgYmFzZWQgb24gZGVwZW5kZW5jaWVzXG4gICAgdG9TdGFnZXMoZmVhdHVyZTogQV9GZWF0dXJlKTogQXJyYXk8QV9TdGFnZT4ge1xuXG5cbiAgICAgICAgY29uc3Qgc29ydGVkTmFtZXMgPSB0aGlzLnRvU29ydGVkQXJyYXkoKTtcblxuXG4gICAgICAgIC8vIE1hcCBzb3J0ZWQgbmFtZXMgYmFjayB0byBlbnRpdHkgb2JqZWN0c1xuICAgICAgICByZXR1cm4gc29ydGVkTmFtZXNcbiAgICAgICAgICAgIC5tYXAoaWQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSB0aGlzLmVudGl0aWVzLmZpbmQoZW50aXR5ID0+IHRoaXMuSUQoZW50aXR5KSA9PT0gaWQpITtcblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBX1N0YWdlKGZlYXR1cmUsIHN0ZXApO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cbiIsICJpbXBvcnQge1xuICAgIEFfVFlQRVNfX0ZlYXR1cmVfSW5pdCxcbiAgICBBX1RZUEVTX19GZWF0dXJlX0luaXRXaXRoQ29tcG9uZW50LFxuICAgIEFfVFlQRVNfX0ZlYXR1cmVfSW5pdFdpdGhUZW1wbGF0ZSxcbiAgICBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgICBBX1RZUEVTX19GZWF0dXJlU3RhdGUsXG59IGZyb20gXCIuL0EtRmVhdHVyZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9GZWF0dXJlX0RlZmluZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUZlYXR1cmUvQS1GZWF0dXJlLURlZmluZS5kZWNvcmF0b3JcIjtcbmltcG9ydCB7IEFfRmVhdHVyZV9FeHRlbmQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1GZWF0dXJlL0EtRmVhdHVyZS1FeHRlbmQuZGVjb3JhdG9yXCI7XG5pbXBvcnQgeyBBX1N0YWdlIH0gZnJvbSBcIi4uL0EtU3RhZ2UvQS1TdGFnZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9TdGVwc01hbmFnZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1TdGVwTWFuYWdlci9BLVN0ZXBNYW5hZ2VyLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1N0YWdlRXJyb3IgfSBmcm9tIFwiLi4vQS1TdGFnZS9BLVN0YWdlLmVycm9yXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfRmVhdHVyZUVycm9yIH0gZnJvbSBcIi4vQS1GZWF0dXJlLmVycm9yXCI7XG5pbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiLi4vQS1Db250ZXh0L0EtQ29udGV4dC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9DYWxsZXIgfSBmcm9tIFwiLi4vQS1DYWxsZXIvQV9DYWxsZXIuY2xhc3NcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbXBvbmVudCB9IGZyb20gXCIuLi9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jbGFzc1wiO1xuXG5cbi8qKlxuICogQV9GZWF0dXJlIGlzIHJlcHJlc2VudGluZyBhIGZlYXR1cmUgdGhhdCBjYW4gYmUgZXhlY3V0ZWQgYWNyb3NzIG11bHRpcGxlIGNvbXBvbmVudHNcbiAqIFRoaXMgY2xhc3Mgc3RvcmVzIHRoZSBzdGVwcyBvZiB0aGUgZmVhdHVyZSBhbmQgZXhlY3V0ZXMgdGhlbSBpbiBvcmRlciBvZiBhcHBlYXJhbmNlXG4gKiBcbiAqIFVzaW5nIEFfRmVhdHVyZS5EZWZpbmUgYW5kIEFfRmVhdHVyZS5FeHRlbmQgZGVjb3JhdG9ycyB0byBkZWZpbmUgYW5kIGV4dGVuZCB0aGUgZmVhdHVyZSBtZXRob2RzIFxuICogYWNyb3NzIHRoZSBkaWZmZXJlbnQsIGRpc3RyaWJ1dGVkIGNvbXBvbmVudHNcbiAqIFxuICovXG5leHBvcnQgY2xhc3MgQV9GZWF0dXJlPFQgZXh0ZW5kcyBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyA9IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzPiB7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBTdGF0aWMgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIERlZmluZSBhIG5ldyBBLUZlYXR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IERlZmluZSgpOiB0eXBlb2YgQV9GZWF0dXJlX0RlZmluZSB7XG4gICAgICAgIHJldHVybiBBX0ZlYXR1cmVfRGVmaW5lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dGVuZCBhbiBleGlzdGluZyBBLUZlYXR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IEV4dGVuZCgpOiB0eXBlb2YgQV9GZWF0dXJlX0V4dGVuZCB7XG4gICAgICAgIHJldHVybiBBX0ZlYXR1cmVfRXh0ZW5kO1xuICAgIH1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBJbnRlcm5hbCBQcm9wZXJ0aWVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBGZWF0dXJlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9uYW1lITogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIExpc3Qgb2Ygc3RhZ2VzIHRoYXQgYXJlIHBhcnQgb2YgdGhpcyBGZWF0dXJlXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9zdGFnZXM6IEFycmF5PEFfU3RhZ2U+ID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIFN0YWdlIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2N1cnJlbnQ/OiBBX1N0YWdlO1xuICAgIC8qKlxuICAgICAqIEFjdHVhbCBJbmRleCBvZiB0aGUgY3VycmVudCBTdGFnZSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2luZGV4OiBudW1iZXIgPSAwO1xuICAgIC8qKlxuICAgICAqIFN0ZXBzIE1hbmFnZXIgdG8gb3JnYW5pemUgdGhlIHN0ZXBzIGludG8gc3RhZ2VzXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9TTSE6IEFfU3RlcHNNYW5hZ2VyO1xuICAgIC8qKlxuICAgICAqIFRoZSBDYWxsZXIgdGhhdCBpbml0aWF0ZWQgdGhlIEZlYXR1cmUgY2FsbFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfY2FsbGVyITogQV9DYWxsZXI8VD47XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIEZlYXR1cmVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3N0YXRlOiBBX1RZUEVTX19GZWF0dXJlU3RhdGUgPSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuSU5JVElBTElaRUQ7XG4gICAgLyoqXG4gICAgICogVGhlIGVycm9yIHRoYXQgY2F1c2VkIHRoZSBGZWF0dXJlIHRvIGJlIGludGVycnVwdGVkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9lcnJvcj86IEFfRmVhdHVyZUVycm9yXG5cblxuXG4gICAgLyoqXG4gICAgICogQS1GZWF0dXJlIGlzIGEgcGlwZWxpbmUgZGlzdHJpYnV0ZWQgYnkgbXVsdGlwbGUgY29tcG9uZW50cyB0aGF0IGNhbiBiZSBlYXNpbHkgYXR0YWNoZWQgb3IgZGV0YWNoZWQgZnJvbSB0aGUgc2NvcGUuIFxuICAgICAqIEZlYXR1cmUgaXRzZWxmIGRvZXMgbm90IGhhdmUgc2NvcGUsIGJ1dCBhdHRhY2hlZCB0byB0aGUgY2FsbGVyIHdobyBkaWN0YXRlcyBob3cgZmVhdHVyZSBzaG91bGQgYmUgcHJvY2Vzc2VkLiBcbiAgICAgKiBcbiAgICAgKiBDb21wYXJpbmcgdG8gQS1Db21tYW5kIEZlYXR1cmUgZG9lcyBub3Qgc3RvcmUgYW55IHN0YXRlIGV4Y2VwdCBzdGF0dXNlcyBmb3IgYmV0dGVyIGFuYWx5c2lzLiBcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogSWYgQS1GZWF0dXJlIHNob3VsZCBoYXZlIHJlc3VsdCB1c2UgQS1GcmFnbWVudCBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKipcbiAgICAgICAgICogRmVhdHVyZSBJbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzXG4gICAgICAgICAqL1xuICAgICAgICBwYXJhbXM6IEFfVFlQRVNfX0ZlYXR1cmVfSW5pdDxUPlxuICAgICkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlUGFyYW1zKHBhcmFtcyk7XG5cbiAgICAgICAgY29uc3QgaW5pdGlhbGl6ZXIgPSB0aGlzLmdldEluaXRpYWxpemVyKHBhcmFtcyk7XG4gICAgICAgIC8vIHRoZSByZXR1cm5lZCBpbml0aWFsaXplciBpcyBhbHJlYWR5IGJvdW5kIHRvIGB0aGlzYCAod2UgdXNlZCAuYmluZCh0aGlzKSksXG4gICAgICAgIC8vIHNvIGNhbGxpbmcgaXQgd2lsbCBydW4gdGhlIGFwcHJvcHJpYXRlIGxvZ2ljIG9uIHRoaXMgaW5zdGFuY2U6XG4gICAgICAgIGluaXRpYWxpemVyLmNhbGwodGhpcywgcGFyYW1zKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBGZWF0dXJlXG4gICAgICovXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMuX25hbWU7IH1cbiAgICAvKipcbiAgICAgKiBUaGUgZXJyb3IgdGhhdCBjYXVzZWQgdGhlIEZlYXR1cmUgdG8gYmUgaW50ZXJydXB0ZWRcbiAgICAgKi9cbiAgICBnZXQgZXJyb3IoKTogQV9GZWF0dXJlRXJyb3IgfCB1bmRlZmluZWQgeyByZXR1cm4gdGhpcy5fZXJyb3I7IH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgRmVhdHVyZVxuICAgICAqL1xuICAgIGdldCBzdGF0ZSgpOiBBX1RZUEVTX19GZWF0dXJlU3RhdGUgeyByZXR1cm4gdGhpcy5fc3RhdGU7IH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBGZWF0dXJlXG4gICAgICovXG4gICAgZ2V0IGluZGV4KCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9pbmRleDsgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgQS1GZWF0dXJlIFN0YWdlXG4gICAgICovXG4gICAgZ2V0IHN0YWdlKCk6IEFfU3RhZ2UgfCB1bmRlZmluZWQgeyByZXR1cm4gdGhpcy5fY3VycmVudDsgfVxuICAgIC8qKlxuICAgICAqIFRoZSBDYWxsZXIgdGhhdCBpbml0aWF0ZWQgdGhlIEZlYXR1cmUgY2FsbFxuICAgICAqL1xuICAgIGdldCBjYWxsZXIoKTogQV9DYWxsZXI8VD4geyByZXR1cm4gdGhpcy5fY2FsbGVyOyB9XG4gICAgLyoqXG4gICAgICogVGhlIFNjb3BlIGFsbG9jYXRlZCBmb3IgdGhlIEZlYXR1cmUgRXhlY3V0aW9uXG4gICAgICovXG4gICAgZ2V0IHNjb3BlKCk6IEFfU2NvcGUgeyByZXR1cm4gQV9Db250ZXh0LnNjb3BlKHRoaXMpOyB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBzdGFnZXMgaW4gdGhlIGZlYXR1cmVcbiAgICAgKi9cbiAgICBnZXQgc2l6ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhZ2VzLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBjaGVja3MgaWYgdGhlIEEtRmVhdHVyZSBpcyBkb25lXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZ2V0IGlzRG9uZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLnN0YWdlXG4gICAgICAgICAgICB8fCB0aGlzLl9pbmRleCA+PSB0aGlzLl9zdGFnZXMubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgZmVhdHVyZSBoYXMgYmVlbiBwcm9jZXNzZWQgKGNvbXBsZXRlZCwgZmFpbGVkLCBvciBpbnRlcnJ1cHRlZClcbiAgICAgKi9cbiAgICBnZXQgaXNQcm9jZXNzZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlID09PSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuQ09NUExFVEVEXG4gICAgICAgICAgICB8fCB0aGlzLnN0YXRlID09PSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuRkFJTEVEXG4gICAgICAgICAgICB8fCB0aGlzLnN0YXRlID09PSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuSU5URVJSVVBURUQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdG9yIHRvIGl0ZXJhdGUgb3ZlciB0aGUgc3RlcHMgb2YgdGhlIGZlYXR1cmVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYXRvcjxBX1N0YWdlLCBhbnk+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQ6ICgpOiBJdGVyYXRvclJlc3VsdDxBX1N0YWdlLCBhbnk+ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNEb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSB0aGlzLl9zdGFnZXNbdGhpcy5faW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmRleCsrO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5fY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IHVuZGVmaW5lZDsgLy8gUmVzZXQgY3VycmVudCBvbiBlbmRcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBJbml0aWFsaXphdGlvbiBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzIGZvciBBLUZlYXR1cmUgaW5pdGlhbGl6YXRpb25cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqL1xuICAgIHByb3RlY3RlZCB2YWxpZGF0ZVBhcmFtcyhcbiAgICAgICAgcGFyYW1zOiBBX1RZUEVTX19GZWF0dXJlX0luaXQ8VD5cbiAgICApIHtcbiAgICAgICAgaWYgKCFwYXJhbXMgfHwgdHlwZW9mIHBhcmFtcyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICBBX0ZlYXR1cmVFcnJvci5GZWF0dXJlSW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgSW52YWxpZCBBLUZlYXR1cmUgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVycyBvZiB0eXBlOiAke3R5cGVvZiBwYXJhbXN9IHdpdGggdmFsdWU6ICR7SlNPTi5zdHJpbmdpZnkocGFyYW1zKS5zbGljZSgwLCAxMDApfS4uLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYXBwcm9wcmlhdGUgaW5pdGlhbGl6ZXIgbWV0aG9kIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtcyBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0SW5pdGlhbGl6ZXIoXG4gICAgICAgIHBhcmFtczogQV9UWVBFU19fRmVhdHVyZV9Jbml0PFQ+XG4gICAgKTogKHBhcmFtMTogYW55KSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpIHtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgISgndGVtcGxhdGUnIGluIHBhcmFtcyk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbUNvbXBvbmVudDtcblxuICAgICAgICAgICAgY2FzZSAndGVtcGxhdGUnIGluIHBhcmFtczpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tVGVtcGxhdGU7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgQV9GZWF0dXJlRXJyb3IuRmVhdHVyZUluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGBJbnZhbGlkIEEtRmVhdHVyZSBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzIG9mIHR5cGU6ICR7dHlwZW9mIHBhcmFtc30gd2l0aCB2YWx1ZTogJHtKU09OLnN0cmluZ2lmeShwYXJhbXMpLnNsaWNlKDAsIDEwMCl9Li4uYFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIEEtRmVhdHVyZSBmcm9tIHRoZSBwcm92aWRlZCB0ZW1wbGF0ZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbXMgXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGZyb21UZW1wbGF0ZShcbiAgICAgICAgcGFyYW1zOiBBX1RZUEVTX19GZWF0dXJlX0luaXRXaXRoVGVtcGxhdGU8VD5cbiAgICApIHtcbiAgICAgICAgaWYgKCFwYXJhbXMudGVtcGxhdGUgfHwgIUFycmF5LmlzQXJyYXkocGFyYW1zLnRlbXBsYXRlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfRmVhdHVyZUVycm9yKFxuICAgICAgICAgICAgICAgIEFfRmVhdHVyZUVycm9yLkZlYXR1cmVJbml0aWFsaXphdGlvbkVycm9yLFxuICAgICAgICAgICAgICAgIGBJbnZhbGlkIEEtRmVhdHVyZSB0ZW1wbGF0ZSBwcm92aWRlZCBvZiB0eXBlOiAke3R5cGVvZiBwYXJhbXMudGVtcGxhdGV9IHdpdGggdmFsdWU6ICR7SlNPTi5zdHJpbmdpZnkocGFyYW1zLnRlbXBsYXRlKS5zbGljZSgwLCAxMDApfS4uLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXBhcmFtcy5jb21wb25lbnQgJiYgKCFwYXJhbXMuc2NvcGUgfHwgIShwYXJhbXMuc2NvcGUgaW5zdGFuY2VvZiBBX1Njb3BlKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0ZlYXR1cmVFcnJvcihcbiAgICAgICAgICAgICAgICBBX0ZlYXR1cmVFcnJvci5GZWF0dXJlSW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICBgSW52YWxpZCBBLUZlYXR1cmUgc2NvcGUgcHJvdmlkZWQgb2YgdHlwZTogJHt0eXBlb2YgcGFyYW1zLnNjb3BlfSB3aXRoIHZhbHVlOiAke0pTT04uc3RyaW5naWZ5KHBhcmFtcy5zY29wZSkuc2xpY2UoMCwgMTAwKX0uLi5gXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMSkgc2F2ZSBmZWF0dXJlIG5hbWVcbiAgICAgICAgdGhpcy5fbmFtZSA9IHBhcmFtcy5uYW1lO1xuXG4gICAgICAgIC8vIDIpIGdldCBzY29wZSBmcm9tIHdoZXJlIGZlYXR1cmUgaXMgY2FsbGVkXG4gICAgICAgIC8vIDIpIGdldCBzY29wZSBmcm9tIHdoZXJlIGZlYXR1cmUgaXMgY2FsbGVkXG4gICAgICAgIGxldCBjb21wb25lbnRTY29wZTogQV9TY29wZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gIHVzZXMgdG8gZXh0ZW5kIGEgY29tcG9uZW50IHNjb3BlIGlmIGNvbXBvbmVudCBpcyBub3QgcmVnaXN0ZXJlZCBpbiB0aGUgY29udGV4dFxuICAgICAgICBsZXQgZXh0ZXJuYWxTY29wZTogQV9TY29wZSB8IHVuZGVmaW5lZCA9IHBhcmFtcy5zY29wZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5jb21wb25lbnQpXG4gICAgICAgICAgICAgICAgY29tcG9uZW50U2NvcGUgPSBBX0NvbnRleHQuc2NvcGUocGFyYW1zLmNvbXBvbmVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoIWV4dGVybmFsU2NvcGUpXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tcG9uZW50U2NvcGUgJiYgZXh0ZXJuYWxTY29wZSAmJiAhZXh0ZXJuYWxTY29wZS5pc0luaGVyaXRlZEZyb20oY29tcG9uZW50U2NvcGUpKSB7XG4gICAgICAgICAgICBleHRlcm5hbFNjb3BlLmluaGVyaXQoY29tcG9uZW50U2NvcGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gMykgY3JlYXRlIGNhbGxlciB3cmFwcGVyIGZvciB0aGUgc2ltcGxlIGluamVjdGlvbiBvZiB0aGUgY2FsbGVyIGNvbXBvbmVudFxuICAgICAgICAvLyAgIC0gSnVzdCB0byBwcmV2ZW50IGlzc3VlcyB3aXRoIHVuZGVmaW5lZCBjYWxsZXIgaW4gZmVhdHVyZXMgd2l0aG91dCBjb21wb25lbnRcbiAgICAgICAgLy8gICAtIFRPRE86IG1heWJlIHdvdWxkIGJlIGJldHRlciB0byBhbGxvdyBwYXNzaW5nIGNhbGxlciBpbiBwYXJhbXM/XG4gICAgICAgIHRoaXMuX2NhbGxlciA9IG5ldyBBX0NhbGxlcjxUPihwYXJhbXMuY29tcG9uZW50IHx8IG5ldyBBX0NvbXBvbmVudCgpIGFzIFQpO1xuXG4gICAgICAgIC8vIDQpIGFsbG9jYXRlIG5ldyBzY29wZSBmb3IgdGhlIGZlYXR1cmVcbiAgICAgICAgY29uc3Qgc2NvcGUgPSBBX0NvbnRleHQuYWxsb2NhdGUodGhpcyk7XG5cbiAgICAgICAgLy8gNSkgZW5zdXJlIHRoYXQgdGhlIHNjb3BlIG9mIHRoZSBjYWxsZXIgY29tcG9uZW50IGlzIGluaGVyaXRlZCBieSB0aGUgZmVhdHVyZSBzY29wZVxuICAgICAgICBzY29wZS5pbmhlcml0KGNvbXBvbmVudFNjb3BlIHx8IGV4dGVybmFsU2NvcGUhKTtcblxuICAgICAgICAvLyA2KSBjcmVhdGUgc3RlcHMgbWFuYWdlciB0byBvcmdhbml6ZSBzdGVwcyBpbnRvIHN0YWdlc1xuICAgICAgICB0aGlzLl9TTSA9IG5ldyBBX1N0ZXBzTWFuYWdlcihwYXJhbXMudGVtcGxhdGUpO1xuXG4gICAgICAgIC8vIDcpIGNyZWF0ZSBzdGFnZXMgZnJvbSB0aGUgc3RlcHNcbiAgICAgICAgdGhpcy5fc3RhZ2VzID0gdGhpcy5fU00udG9TdGFnZXModGhpcyk7XG5cbiAgICAgICAgLy8gOCkgc2V0IHRoZSBmaXJzdCBzdGFnZSBhcyBjdXJyZW50XG4gICAgICAgIHRoaXMuX2N1cnJlbnQgPSB0aGlzLl9zdGFnZXNbMF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBBLUZlYXR1cmUgZnJvbSB0aGUgcHJvdmlkZWQgY29tcG9uZW50XG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtcyBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZnJvbUNvbXBvbmVudChcbiAgICAgICAgcGFyYW1zOiBBX1RZUEVTX19GZWF0dXJlX0luaXRXaXRoQ29tcG9uZW50PFQ+XG4gICAgKSB7XG4gICAgICAgIGlmICghcGFyYW1zLmNvbXBvbmVudCB8fCAhQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckZlYXR1cmVEZWZpbml0aW9uKHBhcmFtcy5jb21wb25lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9GZWF0dXJlRXJyb3IoXG4gICAgICAgICAgICAgICAgQV9GZWF0dXJlRXJyb3IuRmVhdHVyZUluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEludmFsaWQgQS1GZWF0dXJlIGNvbXBvbmVudCBwcm92aWRlZCBvZiB0eXBlOiAke3R5cGVvZiBwYXJhbXMuY29tcG9uZW50fSB3aXRoIHZhbHVlOiAke0pTT04uc3RyaW5naWZ5KHBhcmFtcy5jb21wb25lbnQpLnNsaWNlKDAsIDEwMCl9Li4uYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDEpIHNhdmUgZmVhdHVyZSBuYW1lXG4gICAgICAgIHRoaXMuX25hbWUgPSBwYXJhbXMubmFtZTtcblxuICAgICAgICAvLyAyKSBnZXQgc2NvcGUgZnJvbSB3aGVyZSBmZWF0dXJlIGlzIGNhbGxlZFxuICAgICAgICBsZXQgY29tcG9uZW50U2NvcGU6IEFfU2NvcGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIC8vICB1c2VzIHRvIGV4dGVuZCBhIGNvbXBvbmVudCBzY29wZSBpZiBjb21wb25lbnQgaXMgbm90IHJlZ2lzdGVyZWQgaW4gdGhlIGNvbnRleHRcbiAgICAgICAgbGV0IGV4dGVybmFsU2NvcGU6IEFfU2NvcGUgfCB1bmRlZmluZWQgPSBwYXJhbXMuc2NvcGU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbXBvbmVudFNjb3BlID0gQV9Db250ZXh0LnNjb3BlKHBhcmFtcy5jb21wb25lbnQpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKCFleHRlcm5hbFNjb3BlKVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbXBvbmVudFNjb3BlICYmIGV4dGVybmFsU2NvcGUgJiYgIWV4dGVybmFsU2NvcGUuaXNJbmhlcml0ZWRGcm9tKGNvbXBvbmVudFNjb3BlKSkge1xuICAgICAgICAgICAgZXh0ZXJuYWxTY29wZS5pbmhlcml0KGNvbXBvbmVudFNjb3BlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDMpIGNyZWF0ZSBjYWxsZXIgd3JhcHBlciBmb3IgdGhlIHNpbXBsZSBpbmplY3Rpb24gb2YgdGhlIGNhbGxlciBjb21wb25lbnRcbiAgICAgICAgdGhpcy5fY2FsbGVyID0gbmV3IEFfQ2FsbGVyPFQ+KHBhcmFtcy5jb21wb25lbnQpO1xuXG4gICAgICAgIC8vIDQpIGFsbG9jYXRlIG5ldyBzY29wZSBmb3IgdGhlIGZlYXR1cmVcbiAgICAgICAgY29uc3Qgc2NvcGUgPSBBX0NvbnRleHQuYWxsb2NhdGUodGhpcyk7XG5cbiAgICAgICAgLy8gNSkgZW5zdXJlIHRoYXQgdGhlIHNjb3BlIG9mIHRoZSBjYWxsZXIgY29tcG9uZW50IGlzIGluaGVyaXRlZCBieSB0aGUgZmVhdHVyZSBzY29wZVxuICAgICAgICBzY29wZS5pbmhlcml0KGNvbXBvbmVudFNjb3BlIHx8IGV4dGVybmFsU2NvcGUhKTtcblxuICAgICAgICAvLyA2KSByZXRyaWV2ZSB0aGUgdGVtcGxhdGUgZnJvbSB0aGUgY29udGV4dFxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IEFfQ29udGV4dC5mZWF0dXJlVGVtcGxhdGUodGhpcy5fbmFtZSwgdGhpcy5fY2FsbGVyLmNvbXBvbmVudCwgc2NvcGUpO1xuXG4gICAgICAgIC8vIDcpIGNyZWF0ZSBzdGVwcyBtYW5hZ2VyIHRvIG9yZ2FuaXplIHN0ZXBzIGludG8gc3RhZ2VzXG4gICAgICAgIHRoaXMuX1NNID0gbmV3IEFfU3RlcHNNYW5hZ2VyKHRlbXBsYXRlKTtcblxuICAgICAgICAvLyA4KSBjcmVhdGUgc3RhZ2VzIGZyb20gdGhlIHN0ZXBzXG4gICAgICAgIHRoaXMuX3N0YWdlcyA9IHRoaXMuX1NNLnRvU3RhZ2VzKHRoaXMpO1xuXG4gICAgICAgIC8vIDkpIHNldCB0aGUgZmlyc3Qgc3RhZ2UgYXMgY3VycmVudFxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5fc3RhZ2VzWzBdO1xuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIE1haW4gUHJvY2Vzc2luZyBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcHJvY2Vzc2VzIHRoZSBmZWF0dXJlIGJ5IGV4ZWN1dGluZyBhbGwgdGhlIHN0YWdlc1xuICAgICAqIFxuICAgICAqL1xuICAgIGFzeW5jIHByb2Nlc3MoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPcHRpb25hbCBzY29wZSB0byBiZSB1c2VkIHRvIHJlc29sdmUgdGhlIHN0ZXBzIGRlcGVuZGVuY2llc1xuICAgICAgICAgKiBJZiBub3QgcHJvdmlkZWQsIHRoZSBzY29wZSBvZiB0aGUgY2FsbGVyIGNvbXBvbmVudCB3aWxsIGJlIHVzZWRcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEl0IHNlZW1zIGxpa2UgdGhpcyBpcyBhIGJhZCBpZGVhIHRvIGVuZm9yY2Ugc2NvcGUgaW5oZXJpdGFuY2UgaGVyZVxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAvLyBpZiAoc2NvcGUgJiYgIXNjb3BlLmlzSW5oZXJpdGVkRnJvbShBX0NvbnRleHQuc2NvcGUodGhpcykpKVxuICAgICAgICAgICAgLy8gICAgIHNjb3BlLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNQcm9jZXNzZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IEFfVFlQRVNfX0ZlYXR1cmVTdGF0ZS5QUk9DRVNTSU5HO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN0YWdlIG9mIHRoaXMpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBzdGFnZS5wcm9jZXNzKHNjb3BlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY29tcGxldGVkKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mYWlsZWQobmV3IEFfRmVhdHVyZUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9GZWF0dXJlRXJyb3IuRmVhdHVyZVByb2Nlc3NpbmdFcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHByb2Nlc3NpbmcgdGhlIEEtRmVhdHVyZTogJHt0aGlzLm5hbWV9LiBGYWlsZWQgYXQgc3RhZ2U6ICR7dGhpcy5zdGFnZT8ubmFtZSB8fCAnTi9BJ30uYCxcbiAgICAgICAgICAgICAgICBzdGFnZTogdGhpcy5zdGFnZSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgbW92ZXMgdGhlIGZlYXR1cmUgdG8gdGhlIG5leHQgc3RhZ2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RhZ2UgXG4gICAgICovXG4gICAgbmV4dChzdGFnZSkge1xuICAgICAgICBjb25zdCBzdGFnZUluZGV4ID0gdGhpcy5fc3RhZ2VzLmluZGV4T2Yoc3RhZ2UpO1xuXG4gICAgICAgIHRoaXMuX2luZGV4ID0gc3RhZ2VJbmRleCArIDE7XG5cbiAgICAgICAgaWYgKHRoaXMuX2luZGV4ID49IHRoaXMuX3N0YWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgbWFya3MgdGhlIGZlYXR1cmUgYXMgY29tcGxldGVkIGFuZCByZXR1cm5zIHRoZSByZXN1bHRcbiAgICAgKiBVc2VzIHRvIGludGVycnVwdCBvciBlbmQgdGhlIGZlYXR1cmUgcHJvY2Vzc2luZ1xuICAgICAqIFxuICAgICAqIEBwYXJhbSByZXN1bHQgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgY29tcGxldGVkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5pc1Byb2Nlc3NlZCkgcmV0dXJuO1xuXG5cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuQ09NUExFVEVEO1xuXG4gICAgICAgIHRoaXMuc2NvcGUuZGVzdHJveSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBtYXJrcyB0aGUgZmVhdHVyZSBhcyBmYWlsZWQgYW5kIHRocm93cyBhbiBlcnJvclxuICAgICAqIFVzZXMgdG8gbWFyayB0aGUgZmVhdHVyZSBhcyBmYWlsZWRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXJyb3IgXG4gICAgICovXG4gICAgYXN5bmMgZmFpbGVkKGVycm9yOiBBX0ZlYXR1cmVFcnJvcikge1xuICAgICAgICBpZiAodGhpcy5pc1Byb2Nlc3NlZCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3N0YXRlID0gQV9UWVBFU19fRmVhdHVyZVN0YXRlLkZBSUxFRDtcblxuICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuXG4gICAgICAgIHRoaXMuc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgIHRocm93IHRoaXMuX2Vycm9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBtYXJrcyB0aGUgZmVhdHVyZSBhcyBmYWlsZWQgYW5kIHRocm93cyBhbiBlcnJvclxuICAgICAqIFVzZXMgdG8gaW50ZXJydXB0IG9yIGVuZCB0aGUgZmVhdHVyZSBwcm9jZXNzaW5nXG4gICAgICogXG4gICAgICogQHBhcmFtIGVycm9yIFxuICAgICAqL1xuICAgIGFzeW5jIGludGVycnVwdChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZWFzb24gb2YgZmVhdHVyZSBpbnRlcnJ1cHRpb25cbiAgICAgICAgICovXG4gICAgICAgIHJlYXNvbj86IHN0cmluZyB8IEFfU3RhZ2VFcnJvciB8IEVycm9yXG4gICAgKSB7XG4gICAgICAgIGlmICh0aGlzLmlzUHJvY2Vzc2VkKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBBX1RZUEVTX19GZWF0dXJlU3RhdGUuSU5URVJSVVBURUQ7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc1N0cmluZyhyZWFzb24pOlxuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gbmV3IEFfRmVhdHVyZUVycm9yKEFfRmVhdHVyZUVycm9yLkludGVycnVwdGlvbiwgcmVhc29uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNFcnJvckluc3RhbmNlKHJlYXNvbik6XG4gICAgICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSBuZXcgQV9GZWF0dXJlRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBBX0ZlYXR1cmVFcnJvci5JbnRlcnJ1cHRpb24sXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiByZWFzb24udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZWFzb24uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIHN0YWdlOiB0aGlzLnN0YWdlLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiByZWFzb25cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdGhpcy5zY29wZS5kZXN0cm95KCk7XG4gICAgfVxuXG5cblxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGBBLUZlYXR1cmUoJHt0aGlzLmNhbGxlci5jb21wb25lbnQ/LmNvbnN0cnVjdG9yPy5uYW1lIHx8ICdVbmtub3duJ306OiR7dGhpcy5uYW1lfSlgO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIi4uL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCIuLi9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1Njb3BlIH0gZnJvbSBcIi4uL0EtU2NvcGUvQS1TY29wZS5jbGFzc1wiO1xuXG5cblxuLyoqXG4gKiBBLUNvbXBvbmVudCBpcyBhIHByaW1hcnkgXCJleHRlbmRhYmxlXCIgb2JqZWN0IGluIHRoZSBzeXN0ZW1cbiAqIEEgdW5pcXVlIGNvbWJpbmF0aW9uIG9mIENvbXBvbmVudHMgY3JlYXRlcyBjb21wbGV0ZWx5IG5ldyBmdW5jdGlvbmFsaXR5XG4gKiBcbiAqIFRoZSBtb3N0IGltcG9ydGFudCB0aGluZyBpcyB0aGF0IEEtQ29tcG9uZW50IGlzIFNUQVRFTEVTUywgaXQgbWVhbnMgdGhhdCBpdCBkb2Vzbid0IHN0b3JlIGFueSBzdGF0ZSBpbiBpdHNlbGZcbiAqIFxuICogXG4gKiBbIV0gRXZlcnkgQS1Db21wb25lbnQgaXMgYSBzaW5nbGV0b24sIHNvIGlmIHlvdSBuZWVkIHRvIGNyZWF0ZSBtdWx0aXBsZSBpbnN0YW5jZXMgb2YgdGhlIHNhbWUgbG9naWMgLSB1c2UgQS1Db250YWluZXJcbiAqIFshXSBTbyBvbmUgc2NvcGUgY2FuIGhhdmUgb25seSBvbmUgaW5zdGFuY2Ugb2YgdGhlIHNhbWUgQS1Db21wb25lbnRcbiAqIFshXSBFdmVyeSBBLUNvbXBvbmVudCBjYW4gYmUgZXh0ZW5kZWQgYnkgZmVhdHVyZXMgYW5kIGV4dGVuc2lvbnNcbiAqIFshXSBPTkxZIEEtQ29tcG9uZW50IGNhbiBoYXZlIEEtRmVhdHVyZSBleHRlbnNpb25zXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQV9Db21wb25lbnQge1xuXG5cbiAgICAvKipcbiAgICAgKiBDYWxscyB0aGUgZmVhdHVyZSB3aXRoIHRoZSBnaXZlbiBuYW1lIGluIHRoZSBnaXZlbiBzY29wZVxuICAgICAqIFxuICAgICAqIFshXSBOb3RlOiBUaGlzIG1ldGhvZCBjcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBmZWF0dXJlIGV2ZXJ5IHRpbWUgaXQgaXMgY2FsbGVkXG4gICAgICogXG4gICAgICogQHBhcmFtIGZlYXR1cmUgLSB0aGUgbmFtZSBvZiB0aGUgZmVhdHVyZSB0byBjYWxsXG4gICAgICogQHBhcmFtIHNjb3BlICAtIHRoZSBzY29wZSBpbiB3aGljaCB0byBjYWxsIHRoZSBmZWF0dXJlXG4gICAgICogQHJldHVybnMgIC0gdm9pZFxuICAgICAqL1xuICAgIGFzeW5jIGNhbGwoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOYW1lIG9mIHRoZSBmZWF0dXJlIHRvIGNhbGxcbiAgICAgICAgICovXG4gICAgICAgIGZlYXR1cmU6IHN0cmluZyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjb3BlIGluIHdoaWNoIHRoZSBmZWF0dXJlIHdpbGwgYmUgZXhlY3V0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlPzogQV9TY29wZVxuICAgICkge1xuICAgICAgICBjb25zdCBuZXdGZWF0dXJlID0gbmV3IEFfRmVhdHVyZSh7XG4gICAgICAgICAgICBuYW1lOiBmZWF0dXJlLFxuICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBhd2FpdCBuZXdGZWF0dXJlLnByb2Nlc3Moc2NvcGUpO1xuICAgIH1cbn1cblxuXG5cbiIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIi4uL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfQ29udGV4dEVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cblxuICAgIHN0YXRpYyBOb3RBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uRXJyb3IgPSAnQ29tcG9uZW50IGlzIG5vdCBhbGxvd2VkIGZvciBzY29wZSBhbGxvY2F0aW9uJztcblxuICAgIHN0YXRpYyBDb21wb25lbnRBbHJlYWR5SGFzU2NvcGVBbGxvY2F0ZWRFcnJvciA9ICdDb21wb25lbnQgYWxyZWFkeSBoYXMgc2NvcGUgYWxsb2NhdGVkJztcblxuICAgIHN0YXRpYyBJbnZhbGlkTWV0YVBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBtZXRhJztcblxuICAgIHN0YXRpYyBJbnZhbGlkU2NvcGVQYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgc2NvcGUnO1xuXG4gICAgc3RhdGljIFNjb3BlTm90Rm91bmRFcnJvciA9ICdTY29wZSBub3QgZm91bmQnO1xuXG4gICAgc3RhdGljIEludmFsaWRGZWF0dXJlUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IGZlYXR1cmUnO1xuXG4gICAgc3RhdGljIEludmFsaWRGZWF0dXJlRGVmaW5pdGlvblBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGRlZmluZSBmZWF0dXJlJztcblxuICAgIHN0YXRpYyBJbnZhbGlkRmVhdHVyZVRlbXBsYXRlUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUnO1xuXG4gICAgc3RhdGljIEludmFsaWRGZWF0dXJlRXh0ZW5zaW9uUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZXh0ZW5kIGZlYXR1cmUnO1xuXG5cbiAgICBzdGF0aWMgSW52YWxpZEFic3RyYWN0aW9uUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IGFic3RyYWN0aW9uJztcblxuICAgIHN0YXRpYyBJbnZhbGlkQWJzdHJhY3Rpb25EZWZpbml0aW9uUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZGVmaW5lIGFic3RyYWN0aW9uJztcblxuICAgIHN0YXRpYyBJbnZhbGlkQWJzdHJhY3Rpb25UZW1wbGF0ZVBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBhYnN0cmFjdGlvbiB0ZW1wbGF0ZSc7XG5cbiAgICBzdGF0aWMgSW52YWxpZEFic3RyYWN0aW9uRXh0ZW5zaW9uUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZXh0ZW5kIGFic3RyYWN0aW9uJztcblxuICAgIHN0YXRpYyBJbnZhbGlkSW5qZWN0aW9uUGFyYW1ldGVyRXJyb3IgPSAnSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IGluamVjdGlvbnMnO1xuXG4gICAgc3RhdGljIEludmFsaWRFeHRlbnNpb25QYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgZXh0ZW5zaW9ucyc7XG5cblxuICAgIHN0YXRpYyBJbnZhbGlkUmVnaXN0ZXJQYXJhbWV0ZXJFcnJvciA9ICdJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byByZWdpc3RlciBjb21wb25lbnQnO1xuXG5cbiAgICBzdGF0aWMgSW52YWxpZENvbXBvbmVudFBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgY29tcG9uZW50IHByb3ZpZGVkJztcblxuICAgIHN0YXRpYyBDb21wb25lbnROb3RSZWdpc3RlcmVkRXJyb3IgPSAnQ29tcG9uZW50IG5vdCByZWdpc3RlcmVkIGluIHRoZSBjb250ZXh0JztcblxuICAgIHN0YXRpYyBJbnZhbGlkRGVyZWdpc3RlclBhcmFtZXRlckVycm9yID0gJ0ludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGRlcmVnaXN0ZXIgY29tcG9uZW50Jztcbn0iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19TY29wZV9Jbml0LFxuICAgIEFfVFlQRVNfX1Njb3BlQ29uZmlnLFxuICAgIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyxcbiAgICBBX1RZUEVTX1Njb3BlRGVwZW5kZW50Q29tcG9uZW50c1xufSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLnR5cGVzXCI7XG5pbXBvcnQge1xuICAgIEFfVFlQRVNfX01ldGFMaW5rZWRDb21wb25lbnRDb25zdHJ1Y3RvcnMsXG4gICAgQV9UWVBFU19fTWV0YUxpbmtlZENvbXBvbmVudHNcbn0gZnJvbSBcIi4uL0EtTWV0YS9BLU1ldGEudHlwZXNcIjtcbmltcG9ydCB7XG4gICAgQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMsXG4gICAgQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGFcbn0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUudHlwZXNcIjtcbmltcG9ydCB7IEFfQ29tcG9uZW50IH0gZnJvbSBcIi4uL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0ZlYXR1cmUgfSBmcm9tIFwiLi4vQS1GZWF0dXJlL0EtRmVhdHVyZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db250YWluZXIgfSBmcm9tIFwiLi4vQS1Db250YWluZXIvQS1Db250YWluZXIuY2xhc3NcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiLi4vQS1TY29wZS9BLVNjb3BlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiLi4vQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db21wb25lbnRNZXRhIH0gZnJvbSBcIi4uL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50Lm1ldGFcIjtcbmltcG9ydCB7IEFfQ29udGFpbmVyTWV0YSB9IGZyb20gXCIuLi9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5tZXRhXCI7XG5pbXBvcnQgeyBBX0VudGl0eSB9IGZyb20gXCIuLi9BLUVudGl0eS9BLUVudGl0eS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9FbnRpdHlNZXRhIH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5Lm1ldGFcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfU3RhZ2VTdGVwIH0gZnJvbSBcIi4uL0EtU3RhZ2UvQS1TdGFnZS50eXBlc1wiO1xuaW1wb3J0IHsgQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2NvbnN0YW50cy9lbnYuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19FbnRpdHlNZXRhS2V5IH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSB9IGZyb20gXCIuLi9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tIFwiLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db250ZXh0RW52aXJvbm1lbnQgfSBmcm9tIFwiLi9BLUNvbnRleHQudHlwZXNcIjtcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9Db250ZXh0RXJyb3IgfSBmcm9tIFwiLi9BLUNvbnRleHQuZXJyb3JcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lcl9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiLi4vQS1Db21wb25lbnQvQS1Db21wb25lbnQudHlwZXNcIjtcbmltcG9ydCB7IEFfRm9ybWF0dGVySGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0Zvcm1hdHRlci5oZWxwZXJcIjtcbmltcG9ydCB7IEFfRnJhZ21lbnQgfSBmcm9tIFwiLi4vQS1GcmFnbWVudC9BLUZyYWdtZW50LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyB9IGZyb20gXCIuLi9BLUluamVjdC9BLUluamVjdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucyB9IGZyb20gXCIuLi9BLUNvbmNlcHQvQS1Db25jZXB0LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlclwiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfQ29udGV4dCB7XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFNUQVRJQyBQUk9QRVJUSUVTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBuYW1lIG9mIHRoZSBhcHBsaWNhdGlvbiBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlIEFfQ09OQ0VQVF9OQU1FXG4gICAgICogXG4gICAgICogWyFdIElmIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQsIGl0IHdpbGwgZGVmYXVsdCB0byAnYS1jb25jZXB0J1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgY29uY2VwdCgpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3MuZW52W0FfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMuQV9DT05DRVBUX05BTUVdIHx8ICdhLWNvbmNlcHQnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSb290IHNjb3BlIG9mIHRoZSBhcHBsaWNhdGlvbiBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlIEFfQ09OQ0VQVF9ST09UX1NDT1BFXG4gICAgICogXG4gICAgICogWyFdIElmIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQsIGl0IHdpbGwgZGVmYXVsdCB0byAncm9vdCdcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHJvb3QoKTogQV9TY29wZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEluc3RhbmNlKCkuX3Jvb3Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVudmlyb25tZW50IHRoZSBhcHBsaWNhdGlvbiBpcyBydW5uaW5nIGluLlxuICAgICAqIENhbiBiZSBlaXRoZXIgJ3NlcnZlcicgb3IgJ2Jyb3dzZXInLlxuICAgICAqIFshXSBEZXRlcm1pbmVkIGJ5IGNoZWNraW5nIGlmICd3aW5kb3cnIG9iamVjdCBpcyBhdmFpbGFibGUuXG4gICAgICovXG4gICAgc3RhdGljIGdldCBlbnZpcm9ubWVudCgpOiBBX1RZUEVTX19Db250ZXh0RW52aXJvbm1lbnQge1xuICAgICAgICBsZXQgdGVzdEVudmlyb25tZW50OiBBX1RZUEVTX19Db250ZXh0RW52aXJvbm1lbnQgPSAnYnJvd3Nlcic7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRlc3RFbnZpcm9ubWVudCA9IHdpbmRvdy5sb2NhdGlvbiA/ICdicm93c2VyJyA6ICdzZXJ2ZXInO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGVzdEVudmlyb25tZW50ID0gJ3NlcnZlcic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGVzdEVudmlyb25tZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpbmdsZXRvbiBpbnN0YW5jZSBvZiB0aGUgQ29udGV4dFxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogQV9Db250ZXh0O1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBJTlRFUk5BTCBSRUdJU1RSWSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFJvb3QgU2NvcGUgb2YgdGhlIENvbmNlcHQgYW5kIEVudmlyb25tZW50XG4gICAgICpcbiAgICAgKiBSb290IHNjb3BlIGlzIHRoZSB0b3AtbGV2ZWwgc2NvcGUgdGhhdCBhbGwgb3RoZXIgc2NvcGVzIGluaGVyaXQgZnJvbS5cbiAgICAgKiBJdCBzdG9yZXMgZ2xvYmFsIGNvbmZpZ3VyYXRpb25zIGFuZCBzZXR0aW5ncyBhbmQgQUxMIFNIQVJFQUJMRSBSRVNPVVJDRVMuXG4gICAgICogXG4gICAgICogWyFdIFJvb3Qgc2NvcGUgaXMgY3JlYXRlZCBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIENvbnRleHQgaXMgaW5pdGlhbGl6ZWQuXG4gICAgICogWyFdIFJvb3Qgc2NvcGUgbmFtZSBjYW4gYmUgY29uZmlndXJlZCB1c2luZyBlbnZpcm9ubWVudCB2YXJpYWJsZSBBX0NPTkNFUFRfUk9PVF9TQ09QRVxuICAgICAqL1xuICAgIHByaXZhdGUgX3Jvb3QhOiBBX1Njb3BlXG4gICAgLyoqXG4gICAgICogQSByZWdpc3RyeSB0aGF0IGtlZXBzIHRyYWNrIG9mIHNjb3BlcyBmb3IgYWxsIGNvbXBvbmVudHMgKENvbnRhaW5lcnMsIEZlYXR1cmVzLCBDb21tYW5kcykgXG4gICAgICogV2hpY2ggY2FuIGlzc3VlIGEgc2NvcGUgYWxsb2NhdGlvbi5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3JlZ2lzdHJ5OiBXZWFrTWFwPEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cywgQV9TY29wZT4gPSBuZXcgV2Vha01hcCgpO1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYSByZWdpc3RyeSB0aGF0IHN0b3JlcyBhbiBpc3N1ZXIgb2YgZWFjaCBzY29wZSBhbGxvY2F0aW9uLlxuICAgICAqIEl0IGhlbHBzIHRvIHRyYWNrIHdoaWNoIGNvbXBvbmVudCAoQ29udGFpbmVyLCBGZWF0dXJlLCBDb21tYW5kKSBhbGxvY2F0ZWQgYSBzcGVjaWZpYyBzY29wZS5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3Njb3BlSXNzdWVyczogV2Vha01hcDxBX1Njb3BlLCBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHM+ID0gbmV3IFdlYWtNYXAoKTtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgYSBjb250ZXh0IGFzc29jaWF0ZWQgd2l0aCBhIHNwZWNpZmljIGNvbXBvbmVudCB0aGF0IGRlcGVuZHMgb24gYSBzY29wZS5cbiAgICAgKiB1c2VzIGZvciBxdWljayByZXRyaWV2YWwgb2YgdGhlIHNjb3BlIGZvciB0aGUgY29tcG9uZW50LlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfc2NvcGVTdG9yYWdlOiBXZWFrTWFwPEFfVFlQRVNfU2NvcGVEZXBlbmRlbnRDb21wb25lbnRzLCBBX1Njb3BlPiA9IG5ldyBXZWFrTWFwKCk7XG4gICAgLyoqXG4gICAgICogU3RvcmVzIG1ldGEgaW5mb3JtYXRpb24gZm9yIGRpZmZlcmVudCBjb21wb25lbnQgdHlwZXMgYnkgdGhlaXIgY29uc3RydWN0b3JzLlxuICAgICAqIE1ldGEgcHJvdmlkZXMgdG8gc3RvcmUgZXh0cmEgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNsYXNzIGJlaGF2aW9yIGFuZCBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfbWV0YVN0b3JhZ2U6IE1hcDxBX1RZUEVTX19NZXRhTGlua2VkQ29tcG9uZW50Q29uc3RydWN0b3JzLCBBX01ldGE+ID0gbmV3IE1hcCgpO1xuXG5cblxuICAgIC8qKlxuICAgICAqIFByaXZhdGUgY29uc3RydWN0b3IgdG8gZW5mb3JjZSBzaW5nbGV0b24gcGF0dGVybi5cbiAgICAgKiBcbiAgICAgKiBbIV0gVGhpcyBjbGFzcyBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS4gVXNlIEFfQ29udGV4dC5nZXRJbnN0YW5jZSgpIGluc3RlYWQuXG4gICAgICovXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgbGV0IG5hbWUgPSAncm9vdCc7XG5cbiAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ3NlcnZlcicpXG4gICAgICAgICAgICBuYW1lID0gcHJvY2Vzcy5lbnZbQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0NPTkNFUFRfUk9PVF9TQ09QRV0gfHwgJ3Jvb3QnO1xuXG4gICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdicm93c2VyJylcbiAgICAgICAgICAgIG5hbWUgPSAod2luZG93IGFzIGFueSlbQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0NPTkNFUFRfUk9PVF9TQ09QRV0gfHwgJ3Jvb3QnO1xuXG4gICAgICAgIHRoaXMuX3Jvb3QgPSBuZXcgQV9TY29wZSh7IG5hbWUgfSk7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaW5zdGFuY2Ugb2YgdGhlIE5hbWVzcGFjZSBQcm92aWRlci5cbiAgICAgKiBcbiAgICAgKiBJZiB0aGUgaW5zdGFuY2UgZG9lcyBub3QgZXhpc3QsIGl0IHdpbGwgYmUgY3JlYXRlZC5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghQV9Db250ZXh0Ll9pbnN0YW5jZSkge1xuICAgICAgICAgICAgQV9Db250ZXh0Ll9pbnN0YW5jZSA9IG5ldyBBX0NvbnRleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBBX0NvbnRleHQuX2luc3RhbmNlO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBtZXRob2QgYWxsb3dzIHRvIHJlZ2lzdGVyIGEgY29tcG9uZW50IHdpdGggYSBzcGVjaWZpYyBzY29wZSBpbiB0aGUgY29udGV4dC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IC0gQ29tcG9uZW50IHRvIHJlZ2lzdGVyIHdpdGggYSBzcGVjaWZpYyBzY29wZS4gQ2FuIGJlIGVpdGhlciBBX0NvbnRhaW5lciwgQV9GZWF0dXJlLlxuICAgICAqIEBwYXJhbSBzY29wZSAtIFNjb3BlIHRvIGFzc29jaWF0ZSB0aGUgY29tcG9uZW50IHdpdGguXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIHJlZ2lzdGVyKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgc2NvcGUgdGhhdCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgY29tcG9uZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IHRoYXQgbmVlZHMgdG8gYmUgcmVnaXN0ZXJlZCB3aXRoIGEgc3BlY2lmaWMgc2NvcGUuXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfU2NvcGVEZXBlbmRlbnRDb21wb25lbnRzLFxuXG4gICAgKTogQV9TY29wZSB7XG4gICAgICAgIC8vIHVzZXMgb25seSBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KTtcblxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICBpZiAoIWNvbXBvbmVudCkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAgICAgQV9Db250ZXh0RXJyb3IuSW52YWxpZFJlZ2lzdGVyUGFyYW1ldGVyRXJyb3IsXG4gICAgICAgICAgICBgVW5hYmxlIHRvIHJlZ2lzdGVyIGNvbXBvbmVudC4gQ29tcG9uZW50IGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcblxuICAgICAgICBpZiAoIXNjb3BlKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICBBX0NvbnRleHRFcnJvci5JbnZhbGlkUmVnaXN0ZXJQYXJhbWV0ZXJFcnJvcixcbiAgICAgICAgICAgIGBVbmFibGUgdG8gcmVnaXN0ZXIgY29tcG9uZW50LiBTY29wZSBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzQWxsb3dlZFRvQmVSZWdpc3RlcmVkKGNvbXBvbmVudCkpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLk5vdEFsbG93ZWRGb3JTY29wZUFsbG9jYXRpb25FcnJvcixcbiAgICAgICAgICAgIGBDb21wb25lbnQgJHtjb21wb25lbnROYW1lfSBpcyBub3QgYWxsb3dlZCBmb3Igc2NvcGUgYWxsb2NhdGlvbi5gKTtcblxuICAgICAgICBpbnN0YW5jZS5fc2NvcGVTdG9yYWdlLnNldChjb21wb25lbnQsIHNjb3BlKTtcblxuICAgICAgICByZXR1cm4gc2NvcGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVyZWdpc3RlciBtZXRob2QgYWxsb3dzIHRvIGRlcmVnaXN0ZXIgYSBjb21wb25lbnQgZnJvbSB0aGUgY29udGV4dC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IC0gQ29tcG9uZW50IHRvIGRlcmVnaXN0ZXIgZnJvbSB0aGUgY29udGV4dC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZGVyZWdpc3RlcihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdGhhdCBuZWVkcyB0byBiZSBkZXJlZ2lzdGVyZWQgZnJvbSB0aGUgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19TY29wZURlcGVuZGVudENvbXBvbmVudHMsXG4gICAgKTogdm9pZCB7XG4gICAgICAgIC8vIHVzZXMgb25seSBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KTtcblxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICBpZiAoIWNvbXBvbmVudCkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAgICAgQV9Db250ZXh0RXJyb3IuSW52YWxpZERlcmVnaXN0ZXJQYXJhbWV0ZXJFcnJvcixcbiAgICAgICAgICAgIGBVbmFibGUgdG8gZGVyZWdpc3RlciBjb21wb25lbnQuIENvbXBvbmVudCBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG5cbiAgICAgICAgaWYgKCFpbnN0YW5jZS5fc2NvcGVTdG9yYWdlLmhhcyhjb21wb25lbnQpKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICBBX0NvbnRleHRFcnJvci5Db21wb25lbnROb3RSZWdpc3RlcmVkRXJyb3IsXG4gICAgICAgICAgICBgVW5hYmxlIHRvIGRlcmVnaXN0ZXIgY29tcG9uZW50LiBDb21wb25lbnQgJHtjb21wb25lbnROYW1lfSBpcyBub3QgcmVnaXN0ZXJlZC5gKTtcblxuICAgICAgICBpbnN0YW5jZS5fc2NvcGVTdG9yYWdlLmRlbGV0ZShjb21wb25lbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsbG9jYXRlIG1ldGhvZCBpbnN0YW50aWF0ZXMgYSBuZXcgc2NvcGUgZm9yIHRoZSBnaXZlbiBjb21wb25lbnQgYW5kIHJlZ2lzdGVycyBpdCBpbiB0aGUgY29udGV4dC5cbiAgICAgKiBJdCBib3VuZHMgdGhlIGNvbXBvbmVudCAoQ29udGFpbmVyLCBGZWF0dXJlKSB0byBhIG5ldyBzY29wZSB0aGF0IGNhbiBiZSBjb25maWd1cmVkIGFuZCB1c2VkIGluZGVwZW5kZW50bHkuXG4gICAgICogXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCAtIENvbXBvbmVudCB0byBhbGxvY2F0ZSB0aGUgc2NvcGUgZm9yLiBDYW4gYmUgZWl0aGVyIEFfQ29udGFpbmVyLCBBX0ZlYXR1cmUuXG4gICAgICogQHBhcmFtIGltcG9ydGluZyAgLSBDb25maWd1cmF0aW9uIG9mIHRoZSBzY29wZSB0aGF0IHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhlIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYWxsb2NhdGUoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IHRoYXQgbmVlZHMgYSBzY29wZSBhbGxvY2F0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMsXG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBhbGxvY2F0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdGhhdCBuZWVkcyBhIHNjb3BlIGFsbG9jYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIHNjb3BlIHRoYXQgd2lsbCBiZSB1c2VkIGFzIGEgYmFzZSBmb3IgdGhlIG5ldyBzY29wZS5cbiAgICAgICAgICovXG4gICAgICAgIGltcG9ydGluZzogQV9TY29wZVxuICAgICk6IEFfU2NvcGVcbiAgICBzdGF0aWMgYWxsb2NhdGUoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgY29tcG9uZW50IHRoYXQgbmVlZHMgYSBzY29wZSBhbGxvY2F0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBzY29wZSB0aGF0IHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhlIGNvbXBvbmVudC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbmZpZzogUGFydGlhbDxBX1RZUEVTX19TY29wZV9Jbml0ICYgQV9UWVBFU19fU2NvcGVDb25maWc+XG4gICAgKTogQV9TY29wZVxuICAgIHN0YXRpYyBhbGxvY2F0ZShcbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19TY29wZUxpbmtlZENvbXBvbmVudHMsXG4gICAgICAgIGltcG9ydGluZz86IFBhcnRpYWw8QV9UWVBFU19fU2NvcGVfSW5pdCAmIEFfVFlQRVNfX1Njb3BlQ29uZmlnPiB8IEFfU2NvcGVcbiAgICApOiBBX1Njb3BlIHtcbiAgICAgICAgLy8gdXNlcyBvbmx5IGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQpO1xuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tSW5wdXQgVmFsaWRhdGlvbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vIDEpIGNoZWNrIGlmIGNvbXBvbmVudCBpcyB2YWxpZFxuICAgICAgICBpZiAoIXRoaXMuaXNBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uKGNvbXBvbmVudCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuTm90QWxsb3dlZEZvclNjb3BlQWxsb2NhdGlvbkVycm9yLCBgQ29tcG9uZW50IG9mIHR5cGUgJHtjb21wb25lbnROYW1lfSBpcyBub3QgYWxsb3dlZCBmb3Igc2NvcGUgYWxsb2NhdGlvbi4gT25seSBBX0NvbnRhaW5lciwgQV9GZWF0dXJlIGFyZSBhbGxvd2VkLmApO1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICAvLyAyKSBjaGVjayBpZiBjb21wb25lbnQgYWxyZWFkeSBoYXMgYSBzY29wZSBhbGxvY2F0ZWRcbiAgICAgICAgaWYgKGluc3RhbmNlLl9yZWdpc3RyeS5oYXMoY29tcG9uZW50KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5Db21wb25lbnRBbHJlYWR5SGFzU2NvcGVBbGxvY2F0ZWRFcnJvciwgYENvbXBvbmVudCAke2NvbXBvbmVudE5hbWV9IGFscmVhZHkgaGFzIGEgc2NvcGUgYWxsb2NhdGVkLmApO1xuXG5cbiAgICAgICAgLy8gMykgQ3JlYXRlIGEgbmV3IHNjb3BlIGZvciB0aGUgY29tcG9uZW50XG4gICAgICAgIGNvbnN0IG5ld1Njb3BlID0gQV9UeXBlR3VhcmRzLmlzU2NvcGVJbnN0YW5jZShpbXBvcnRpbmcpXG4gICAgICAgICAgICA/IGltcG9ydGluZ1xuICAgICAgICAgICAgOiBuZXcgQV9TY29wZShpbXBvcnRpbmcgfHwge1xuICAgICAgICAgICAgICAgIG5hbWU6IGNvbXBvbmVudE5hbWUgKyAnLXNjb3BlJ1xuICAgICAgICAgICAgfSwgaW1wb3J0aW5nKTtcblxuICAgICAgICAvLyA0KSBNYWtlIHN1cmUgdGhhdCB0aGUgbmV3IHNjb3BlIGluaGVyaXRzIGZyb20gdGhlIHJvb3Qgc2NvcGVcbiAgICAgICAgaWYgKCFuZXdTY29wZS5pc0luaGVyaXRlZEZyb20oQV9Db250ZXh0LnJvb3QpKVxuICAgICAgICAgICAgbmV3U2NvcGUuaW5oZXJpdChBX0NvbnRleHQucm9vdCk7XG5cbiAgICAgICAgLy8gNSkgUmVnaXN0ZXIgdGhlIGNvbXBvbmVudCBpbiB0aGUgYXBwcm9wcmlhdGUgc3RvcmFnZVxuICAgICAgICBpbnN0YW5jZS5fcmVnaXN0cnkuc2V0KGNvbXBvbmVudCwgbmV3U2NvcGUpO1xuICAgICAgICAvLyBBbHNvIHJlZ2lzdGVyIHRoZSBpc3N1ZXIgb2YgdGhlIHNjb3BlIGZvciBmYXN0ZXIgdHJhY2tpbmdcbiAgICAgICAgaW5zdGFuY2UuX3Njb3BlSXNzdWVycy5zZXQobmV3U2NvcGUsIGNvbXBvbmVudCk7XG5cbiAgICAgICAgLy8gNikgUmV0dXJuIHRoZSBuZXdseSBjcmVhdGVkIHNjb3BlXG4gICAgICAgIHJldHVybiBuZXdTY29wZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWFsbG9jYXRlIG1ldGhvZCByZW1vdmVzIHRoZSBzY29wZSBhbGxvY2F0aW9uIGZvciB0aGUgZ2l2ZW4gY29tcG9uZW50IGZyb20gdGhlIGNvbnRleHQuXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZGVhbGxvY2F0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgU2NvcGUgdGhhdCBuZWVkcyB0byBiZSBkZWFsbG9jYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlOiBBX1Njb3BlLFxuICAgIClcbiAgICBzdGF0aWMgZGVhbGxvY2F0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdGhhdCBuZWVkcyB0byBoYXZlIGl0cyBzY29wZSBkZWFsbG9jYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzLFxuICAgIClcbiAgICBzdGF0aWMgZGVhbGxvY2F0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdGhhdCBuZWVkcyB0byBoYXZlIGl0cyBzY29wZSBkZWFsbG9jYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHBhcmFtMTogQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHwgQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgY29uc3Qgc2NvcGUgPSBBX1R5cGVHdWFyZHMuaXNTY29wZUluc3RhbmNlKHBhcmFtMSlcbiAgICAgICAgICAgID8gcGFyYW0xXG4gICAgICAgICAgICA6IGluc3RhbmNlLl9yZWdpc3RyeS5nZXQocGFyYW0xKTtcblxuICAgICAgICBpZiAoIXNjb3BlKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UocGFyYW0xKVxuICAgICAgICAgICAgPyBwYXJhbTFcbiAgICAgICAgICAgIDogdGhpcy5pc3N1ZXIoc2NvcGUpO1xuXG4gICAgICAgIGlmIChjb21wb25lbnQpXG4gICAgICAgICAgICBpbnN0YW5jZS5fcmVnaXN0cnkuZGVsZXRlKGNvbXBvbmVudCk7XG4gICAgICAgIGlmIChzY29wZSlcbiAgICAgICAgICAgIGluc3RhbmNlLl9zY29wZUlzc3VlcnMuZGVsZXRlKHNjb3BlKTtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICAqIEdldCBvciBDcmVhdGUgTWV0YSBmb3IgdGhlIHNwZWNpZmljIGNsYXNzIG9yIGluc3RhbmNlLlxuICAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiB0aGUgZXhpc3RpbmcgbWV0YSBpZiBpdCBleGlzdHMsIG9yIGNyZWF0ZSBhIG5ldyBvbmUgaWYgaXQgZG9lc24ndC5cbiAgICAgICogXG4gICAgICAqIE1ldGEgb2JqZWN0IGNvbnRhaW5zIGN1c3RvbSBtZXRhZGF0YSBiYXNlZCBvbiB0aGUgY2xhc3MgdHlwZS5cbiAgICAgICogXG4gICAgICAqIEBwYXJhbSBjb250YWluZXIgXG4gICAgICAqL1xuICAgIHN0YXRpYyBtZXRhKFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IG1ldGEgZm9yIHRoZSBzcGVjaWZpYyBjb250YWluZXIgY2xhc3MgYnkgY29uc3RydWN0b3IuXG4gICAgICAgICAqL1xuICAgICAgICBjb250YWluZXI6IEFfVFlQRVNfX0NvbnRhaW5lcl9Db25zdHJ1Y3RvcixcbiAgICApOiBBX0NvbnRhaW5lck1ldGFcbiAgICBzdGF0aWMgbWV0YShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBtZXRhIGZvciB0aGUgc3BlY2lmaWMgY29udGFpbmVyIGluc3RhbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgY29udGFpbmVyOiBBX0NvbnRhaW5lcixcbiAgICApOiBBX0NvbnRhaW5lck1ldGFcbiAgICBzdGF0aWMgbWV0YShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBtZXRhIGZvciB0aGUgc3BlY2lmaWMgZW50aXR5IGNsYXNzIGJ5IGNvbnN0cnVjdG9yLlxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5OiBBX1RZUEVTX19FbnRpdHlfQ29uc3RydWN0b3IsXG4gICAgKTogQV9FbnRpdHlNZXRhXG4gICAgc3RhdGljIG1ldGEoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgbWV0YSBmb3IgdGhlIHNwZWNpZmljIGVudGl0eSBpbnN0YW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIGVudGl0eTogQV9FbnRpdHksXG4gICAgKTogQV9FbnRpdHlNZXRhXG4gICAgc3RhdGljIG1ldGEoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgbWV0YSBmb3IgdGhlIHNwZWNpZmljIGNvbXBvbmVudCBjbGFzcyBieSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yLFxuICAgICk6IEFfQ29tcG9uZW50TWV0YVxuICAgIHN0YXRpYyBtZXRhKFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IG1ldGEgZm9yIHRoZSBzcGVjaWZpYyBjb21wb25lbnQgaW5zdGFuY2UuXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfQ29tcG9uZW50LFxuICAgICk6IEFfQ29tcG9uZW50TWV0YVxuICAgIHN0YXRpYyBtZXRhKFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IG1ldGEgZm9yIHRoZSBzcGVjaWZpYyBjb21wb25lbnQgYnkgaXRzIG5hbWUuXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IHN0cmluZyxcbiAgICApOiBBX0NvbXBvbmVudE1ldGFcbiAgICBzdGF0aWMgbWV0YShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBtZXRhIGZvciB0aGUgc3BlY2lmaWMgaW5qZWN0YWJsZSB0YXJnZXQgKGNsYXNzIG9yIGluc3RhbmNlKS5cbiAgICAgICAgICovXG4gICAgICAgIHRhcmdldDogQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMsXG4gICAgKTogQV9Db21wb25lbnRNZXRhXG4gICAgc3RhdGljIG1ldGE8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4+KFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IG1ldGEgZm9yIHRoZSBzcGVjaWZpYyBjbGFzcyBvciBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3I6IG5ldyAoLi4uYXJnczogYW55W10pID0+IGFueVxuICAgICk6IEFfTWV0YTxUPlxuXG4gICAgc3RhdGljIG1ldGE8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4+KFxuICAgICAgICBwYXJhbTE6IEFfVFlQRVNfX01ldGFMaW5rZWRDb21wb25lbnRDb25zdHJ1Y3RvcnNcbiAgICAgICAgICAgIHwgQV9UWVBFU19fTWV0YUxpbmtlZENvbXBvbmVudHNcbiAgICAgICAgICAgIHwgc3RyaW5nXG4gICAgKTogQV9NZXRhPFQ+IHtcblxuICAgICAgICAvLyBHZXQgdGhlIGNvbXBvbmVudCBuYW1lIGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShwYXJhbTEpO1xuICAgICAgICAvLyBHZXQgdGhlIGluc3RhbmNlIG9mIHRoZSBjb250ZXh0XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgIGlmICghcGFyYW0xKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZE1ldGFQYXJhbWV0ZXJFcnJvciwgYEludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBtZXRhLiBQYXJhbWV0ZXIgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwYXJhbWV0ZXIgaXMgYWxsb3dlZCBmb3IgbWV0YSBzdG9yYWdlXG4gICAgICAgIGlmICghKFxuICAgICAgICAgICAgdGhpcy5pc0FsbG93ZWRGb3JNZXRhKHBhcmFtMSlcbiAgICAgICAgICAgIHx8IHRoaXMuaXNBbGxvd2VkRm9yTWV0YUNvbnN0cnVjdG9yKHBhcmFtMSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc1N0cmluZyhwYXJhbTEpXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNGdW5jdGlvbihwYXJhbTFcbiAgICAgICAgICAgICkpXG4gICAgICAgICkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkludmFsaWRNZXRhUGFyYW1ldGVyRXJyb3IsIGBJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgbWV0YS4gQ29tcG9uZW50IG9mIHR5cGUgJHtjb21wb25lbnROYW1lfSBpcyBub3QgYWxsb3dlZCBmb3IgbWV0YSBzdG9yYWdlLiBPbmx5IEFfQ29udGFpbmVyLCBBX0NvbXBvbmVudCBhbmQgQV9FbnRpdHkgYXJlIGFsbG93ZWQuYCk7XG5cbiAgICAgICAgbGV0IHByb3BlcnR5OiBBX1RZUEVTX19NZXRhTGlua2VkQ29tcG9uZW50Q29uc3RydWN0b3JzO1xuICAgICAgICBsZXQgbWV0YVR5cGU6IHR5cGVvZiBBX01ldGE8VD4gfCB0eXBlb2YgQV9Db250YWluZXJNZXRhIHwgdHlwZW9mIEFfQ29tcG9uZW50TWV0YSB8IHR5cGVvZiBBX0VudGl0eU1ldGFcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIC8vIDEpIElmIHBhcmFtMSBpcyBpbnN0YW5jZSBvZiBBX0NvbnRhaW5lclxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZShwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBwYXJhbTEuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fQ29udGFpbmVyX0NvbnN0cnVjdG9yO1xuICAgICAgICAgICAgICAgIG1ldGFUeXBlID0gQV9Db250YWluZXJNZXRhO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAyKSBJZiBwYXJhbTEgaXMgY2xhc3Mgb2YgQV9Db250YWluZXJcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVyQ29uc3RydWN0b3IocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcGFyYW0xIGFzIHR5cGVvZiBBX0NvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICBtZXRhVHlwZSA9IEFfQ29udGFpbmVyTWV0YTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMykgSWYgcGFyYW0xIGlzIGluc3RhbmNlIG9mIEFfQ29tcG9uZW50XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHBhcmFtMS5jb25zdHJ1Y3RvciBhcyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I7XG4gICAgICAgICAgICAgICAgbWV0YVR5cGUgPSBBX0NvbXBvbmVudE1ldGE7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDQpIElmIHBhcmFtMSBpcyBjbGFzcyBvZiBBX0NvbXBvbmVudFxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3RvcihwYXJhbTEpOiB7XG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBwYXJhbTEgYXMgdHlwZW9mIEFfQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgIG1ldGFUeXBlID0gQV9Db21wb25lbnRNZXRhO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyA1KSBJZiBwYXJhbTEgaXMgaW5zdGFuY2Ugb2YgQV9FbnRpdHlcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UocGFyYW0xKToge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcGFyYW0xLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjtcbiAgICAgICAgICAgICAgICBtZXRhVHlwZSA9IEFfQ29tcG9uZW50TWV0YTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNikgSWYgcGFyYW0xIGlzIGNsYXNzIG9mIEFfRW50aXR5XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0VudGl0eUNvbnN0cnVjdG9yKHBhcmFtMSk6IHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHBhcmFtMTtcbiAgICAgICAgICAgICAgICBtZXRhVHlwZSA9IEFfRW50aXR5TWV0YTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gNykgSWYgcGFyYW0xIGlzIHN0cmluZyB0aGVuIHdlIG5lZWQgdG8gZmluZCB0aGUgY29tcG9uZW50IGJ5IGl0cyBuYW1lXG4gICAgICAgICAgICBjYXNlIHR5cGVvZiBwYXJhbTEgPT09ICdzdHJpbmcnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSBBcnJheS5mcm9tKGluc3RhbmNlLl9tZXRhU3RvcmFnZSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoKFtjXSkgPT4gYy5uYW1lID09PSBwYXJhbTFcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IGMubmFtZSA9PT0gQV9Gb3JtYXR0ZXJIZWxwZXIudG9LZWJhYkNhc2UocGFyYW0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgYy5uYW1lID09PSBBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2UocGFyYW0xKVxuICAgICAgICAgICAgICAgICAgICApITtcbiAgICAgICAgICAgICAgICBpZiAoIShmb3VuZCAmJiBmb3VuZC5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZE1ldGFQYXJhbWV0ZXJFcnJvciwgYEludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBtZXRhLiBDb21wb25lbnQgd2l0aCBuYW1lICR7cGFyYW0xfSBub3QgZm91bmQgaW4gdGhlIG1ldGEgc3RvcmFnZS5gKTtcblxuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gZm91bmRbMF07XG4gICAgICAgICAgICAgICAgbWV0YVR5cGUgPSBBX0NvbXBvbmVudE1ldGE7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDgpIElmIHBhcmFtMSBpcyBhbnkgb3RoZXIgY2xhc3Mgb3IgZnVuY3Rpb25cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHBhcmFtMTtcbiAgICAgICAgICAgICAgICBtZXRhVHlwZSA9IEFfTWV0YTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIG1ldGEgYWxyZWFkeSBleGlzdHMgZm9yIHRoZSBwcm9wZXJ0eSwgaWYgbm90IGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgaWYgKCFpbnN0YW5jZS5fbWV0YVN0b3JhZ2UuaGFzKHByb3BlcnR5KSkge1xuICAgICAgICAgICAgY29uc3QgaW5oZXJpdE1ldGEgPSBpbnN0YW5jZS5fbWV0YVN0b3JhZ2UuZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm9wZXJ0eSkpIHx8IG5ldyBtZXRhVHlwZSgpO1xuICAgICAgICAgICAgaW5zdGFuY2UuX21ldGFTdG9yYWdlLnNldChwcm9wZXJ0eSwgbmV3IG1ldGFUeXBlKCkuZnJvbShpbmhlcml0TWV0YSBhcyBhbnkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldHVybiB0aGUgbWV0YSBmb3IgdGhlIHByb3BlcnR5XG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5fbWV0YVN0b3JhZ2UuZ2V0KHByb3BlcnR5KSE7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBhbGxvd3MgdG8gZ2V0IHRoZSBpc3N1ZXIgb2YgYSBzcGVjaWZpYyBzY29wZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGUgLSBTY29wZSB0byBnZXQgdGhlIGlzc3VlciBmb3IuXG4gICAgICogQHJldHVybnMgLSBDb21wb25lbnQgdGhhdCBpc3N1ZWQgdGhlIHNjb3BlLlxuICAgICAqL1xuICAgIHN0YXRpYyBpc3N1ZXIoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBzY29wZSB0byBnZXQgaXRzIGlzc3Vlci5cbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlOiBBX1Njb3BlXG4gICAgKTogQV9UWVBFU19fU2NvcGVMaW5rZWRDb21wb25lbnRzIHwgdW5kZWZpbmVkIHtcblxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcblxuICAgICAgICBpZiAoIXNjb3BlKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoXG4gICAgICAgICAgICBBX0NvbnRleHRFcnJvci5JbnZhbGlkQ29tcG9uZW50UGFyYW1ldGVyRXJyb3IsXG4gICAgICAgICAgICBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IHNjb3BlIGlzc3Vlci4gUGFyYW1ldGVyIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gaWYgKCFpbnN0YW5jZS5fc2NvcGVJc3N1ZXJzLmhhcyhzY29wZSkpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgLy8gICAgIEFfQ29udGV4dEVycm9yLlNjb3BlTm90Rm91bmRFcnJvcixcbiAgICAgICAgLy8gICAgIGBJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgc2NvcGUgaXNzdWVyLiBQcm92aWRlZCBzY29wZSBkb2VzIG5vdCBoYXZlIGFuIGlzc3VlciByZWdpc3RlcmVkLmBcbiAgICAgICAgLy8gKTtcblxuICAgICAgICByZXR1cm4gaW5zdGFuY2UuX3Njb3BlSXNzdWVycy5nZXQoc2NvcGUpITtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzY29wZSBvZiB0aGUgc3BlY2lmaWMgY2xhc3Mgb3IgaW5zdGFuY2UuXG4gICAgICogXG4gICAgICogRXZlcnkgZXhlY3V0aW9uIGluIENvbmNlcHQgaGFzIGl0cyBvd24gc2NvcGUuXG4gICAgICogXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIHNjb3BlIG9mIHRoZSBzcGVjaWZpYyBjbGFzcyBvciBpbnN0YW5jZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZW50aXR5IFxuICAgICAqL1xuICAgIHN0YXRpYyBzY29wZTxUIGV4dGVuZHMgQV9FbnRpdHk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhbiBlbnRpdHkgdG8gZ2V0IGl0cyBzY29wZS5cbiAgICAgICAgICovXG4gICAgICAgIGVudGl0eTogVFxuICAgICk6IEFfU2NvcGVcbiAgICBzdGF0aWMgc2NvcGU8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb21wb25lbnQgdG8gZ2V0IGl0cyBzY29wZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogVFxuICAgICk6IEFfU2NvcGVcbiAgICBzdGF0aWMgc2NvcGU8VCBleHRlbmRzIEFfQ29udGFpbmVyPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgYSBjb250YWluZXIgdG8gZ2V0IGl0cyBzY29wZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnRhaW5lcjogVFxuICAgICk6IEFfU2NvcGVcbiAgICBzdGF0aWMgc2NvcGU8VCBleHRlbmRzIEFfRmVhdHVyZT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIGEgZmVhdHVyZSB0byBnZXQgaXRzIHNjb3BlLlxuICAgICAgICAgKi9cbiAgICAgICAgZmVhdHVyZTogVFxuICAgICk6IEFfU2NvcGVcbiAgICBzdGF0aWMgc2NvcGU8VCBleHRlbmRzIEFfRnJhZ21lbnQ+KFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSBhIGZyYWdtZW50IHRvIGdldCBpdHMgc2NvcGUuXG4gICAgICAgICAqL1xuICAgICAgICBmcmFnbWVudDogVFxuICAgICk6IEFfU2NvcGVcbiAgICBzdGF0aWMgc2NvcGU8VCBleHRlbmRzIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyB8IEFfVFlQRVNfU2NvcGVEZXBlbmRlbnRDb21wb25lbnRzPihcbiAgICAgICAgcGFyYW0xOiBUXG4gICAgKTogQV9TY29wZSB7XG5cbiAgICAgICAgLy8gZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IG5hbWUgPSAocGFyYW0xIGFzIGFueSk/LmNvbnN0cnVjdG9yPy5uYW1lIHx8IFN0cmluZyhwYXJhbTEpO1xuXG4gICAgICAgIC8vIEdldCB0aGUgaW5zdGFuY2Ugb2YgdGhlIGNvbnRleHRcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgLy8gSW5wdXQgdmFsaWRhdGlvblxuICAgICAgICBpZiAoIXBhcmFtMSkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkludmFsaWRTY29wZVBhcmFtZXRlckVycm9yLCBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IHNjb3BlLiBQYXJhbWV0ZXIgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwYXJhbWV0ZXIgaXMgYWxsb3dlZCBmb3Igc2NvcGUgYWxsb2NhdGlvblxuICAgICAgICBpZiAoIXRoaXMuaXNBbGxvd2VkRm9yU2NvcGVBbGxvY2F0aW9uKHBhcmFtMSlcbiAgICAgICAgICAgICYmICF0aGlzLmlzQWxsb3dlZFRvQmVSZWdpc3RlcmVkKHBhcmFtMSlcbiAgICAgICAgKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkludmFsaWRTY29wZVBhcmFtZXRlckVycm9yLCBgSW52YWxpZCBwYXJhbWV0ZXIgcHJvdmlkZWQgdG8gZ2V0IHNjb3BlLiBDb21wb25lbnQgb2YgdHlwZSAke25hbWV9IGlzIG5vdCBhbGxvd2VkIGZvciBzY29wZSBhbGxvY2F0aW9uLmApO1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSB0aGlzLmlzQWxsb3dlZEZvclNjb3BlQWxsb2NhdGlvbihwYXJhbTEpOlxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBhcmFtZXRlciBoYXMgYSBzY29wZSBhbGxvY2F0ZWRcbiAgICAgICAgICAgICAgICBpZiAoIWluc3RhbmNlLl9yZWdpc3RyeS5oYXMocGFyYW0xKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgQV9Db250ZXh0RXJyb3IuU2NvcGVOb3RGb3VuZEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYEludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBzY29wZS4gQ29tcG9uZW50IG9mIHR5cGUgJHtuYW1lfSBkb2VzIG5vdCBoYXZlIGEgc2NvcGUgYWxsb2NhdGVkLiBNYWtlIHN1cmUgdG8gYWxsb2NhdGUgYSBzY29wZSB1c2luZyBBX0NvbnRleHQuYWxsb2NhdGUoKSBtZXRob2QgYmVmb3JlIHRyeWluZyB0byBnZXQgdGhlIHNjb3BlLmBcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwYXJhbWV0ZXIgaXMgYWxsb3dlZCBmb3Igc2NvcGUgYWxsb2NhdGlvbiwgcmV0dXJuIHRoZSBzY29wZVxuICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZS5fcmVnaXN0cnkuZ2V0KHBhcmFtMSkhO1xuXG4gICAgICAgICAgICBjYXNlIHRoaXMuaXNBbGxvd2VkVG9CZVJlZ2lzdGVyZWQocGFyYW0xKTpcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBwYXJhbWV0ZXIgaGFzIGEgc2NvcGUgcmVnaXN0ZXJlZFxuICAgICAgICAgICAgICAgIGlmICghaW5zdGFuY2UuX3Njb3BlU3RvcmFnZS5oYXMocGFyYW0xKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgQV9Db250ZXh0RXJyb3IuU2NvcGVOb3RGb3VuZEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgYEludmFsaWQgcGFyYW1ldGVyIHByb3ZpZGVkIHRvIGdldCBzY29wZS4gQ29tcG9uZW50IG9mIHR5cGUgJHtuYW1lfSBkb2VzIG5vdCBoYXZlIGEgc2NvcGUgcmVnaXN0ZXJlZC4gTWFrZSBzdXJlIHRvIHJlZ2lzdGVyIHRoZSBjb21wb25lbnQgdXNpbmcgQV9Db250ZXh0LnJlZ2lzdGVyKCkgbWV0aG9kIGJlZm9yZSB0cnlpbmcgdG8gZ2V0IHRoZSBzY29wZS5gXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcGFyYW1ldGVyIGlzIGFsbG93ZWQgdG8gYmUgcmVnaXN0ZXJlZCwgcmV0dXJuIHRoZSBzY29wZSBmcm9tIHRoZSBzdG9yYWdlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLl9zY29wZVN0b3JhZ2UuZ2V0KHBhcmFtMSkhO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZFNjb3BlUGFyYW1ldGVyRXJyb3IsIGBJbnZhbGlkIHBhcmFtZXRlciBwcm92aWRlZCB0byBnZXQgc2NvcGUuIENvbXBvbmVudCBvZiB0eXBlICR7bmFtZX0gaXMgbm90IGFsbG93ZWQgdG8gYmUgcmVnaXN0ZXJlZC5gKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRkVBVFVSRSBNQU5BR0VNRU5UID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tUHJpbWFyeSBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHRlbXBsYXRlIG9mIHRoZSBmZWF0dXJlIHRoYXQgY2FuIGJlIHRoZW4gdXNlZCB0byBjcmVhdGUgYSBuZXcgQS1GZWF0dXJlIEluc3RhbmNlXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IFN0ZXBzL1N0YWdlcyBpbmNsdWRlZCBhcmUgZnVsbHkgZGVwZW5kZW50IG9uIHRoZSBzY29wZSBwcm92aWRlZCBzaW5jZSBpdCBkaWN0YXRlcyB3aGljaCBjb21wb25lbnRzIGFyZSBhY3RpdmUgYW5kIGNhbiBwcm92aWRlIGV4dGVuc2lvbnMgZm9yIHRoZSBmZWF0dXJlLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuYW1lIFxuICAgICAqL1xuICAgIHN0YXRpYyBmZWF0dXJlVGVtcGxhdGUoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBuYW1lIG9mIHRoZSBmZWF0dXJlIHRvIGdldCB0aGUgdGVtcGxhdGUgZm9yLiBSZWd1bGFyIGV4cHJlc3Npb25zIGFyZSBhbHNvIHN1cHBvcnRlZCB0byBtYXRjaCBtdWx0aXBsZSBmZWF0dXJlcy5cbiAgICAgICAgICovXG4gICAgICAgIG5hbWU6IHN0cmluZyB8IFJlZ0V4cCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIGNvbXBvbmVudCB0byBnZXQgdGhlIGZlYXR1cmUgdGVtcGxhdGUgZnJvbS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBzY29wZSB0aGF0IGRpY3RhdGVzIHdoaWNoIGNvbXBvbmVudHMgYXJlIGFjdGl2ZSBhbmQgY2FuIHByb3ZpZGUgZXh0ZW5zaW9ucyBmb3IgdGhlIGZlYXR1cmUuXG4gICAgICAgICAqL1xuICAgICAgICBzY29wZTogQV9TY29wZSA9IHRoaXMuc2NvcGUoY29tcG9uZW50KVxuICAgICk6IEFycmF5PEFfVFlQRVNfX0FfU3RhZ2VTdGVwPiB7XG4gICAgICAgIC8vIG5hbWUgZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKGNvbXBvbmVudCk7XG5cbiAgICAgICAgLy8gSW5wdXQgdmFsaWRhdGlvblxuICAgICAgICBpZiAoIWNvbXBvbmVudCkgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkludmFsaWRGZWF0dXJlVGVtcGxhdGVQYXJhbWV0ZXJFcnJvciwgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQ29tcG9uZW50IGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcbiAgICAgICAgaWYgKCFuYW1lKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVUZW1wbGF0ZVBhcmFtZXRlckVycm9yLCBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBGZWF0dXJlIG5hbWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwYXJhbWV0ZXIgaXMgYWxsb3dlZCBmb3IgZmVhdHVyZSBkZWZpbml0aW9uXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzQWxsb3dlZEZvckZlYXR1cmVEZWZpbml0aW9uKGNvbXBvbmVudCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVUZW1wbGF0ZVBhcmFtZXRlckVycm9yLCBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBDb21wb25lbnQgb2YgdHlwZSAke2NvbXBvbmVudE5hbWV9IGlzIG5vdCBhbGxvd2VkIGZvciBmZWF0dXJlIGRlZmluaXRpb24uYCk7XG5cbiAgICAgICAgY29uc3Qgc3RlcHM6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwW10gPSBbXG4gICAgICAgICAgICAvLyAxKSBHZXQgdGhlIGJhc2UgZmVhdHVyZSBkZWZpbml0aW9uIGZyb20gdGhlIGNvbXBvbmVudFxuICAgICAgICAgICAgLi4udGhpcy5mZWF0dXJlRGVmaW5pdGlvbihuYW1lLCBjb21wb25lbnQpLFxuICAgICAgICAgICAgLy8gMikgR2V0IGFsbCBleHRlbnNpb25zIGZvciB0aGUgZmVhdHVyZSBmcm9tIG90aGVyIGNvbXBvbmVudHMgaW4gdGhlIHNjb3BlXG4gICAgICAgICAgICAuLi50aGlzLmZlYXR1cmVFeHRlbnNpb25zKG5hbWUsIGNvbXBvbmVudCwgc2NvcGUpXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHN0ZXBzO1xuICAgIH1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1IZWxwZXIgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBleHRlbnNpb25zIGZvciB0aGUgc3BlY2lmaWMgZmVhdHVyZSBpbiB0aGUgc3BlY2lmaWMgY29tcG9uZW50IHdpdGhpbiB0aGUgcHJvdmlkZWQgc2NvcGUuXG4gICAgICogU2NvcGUgZGljdGF0ZXMgd2hpY2ggY29tcG9uZW50cyBhcmUgYWN0aXZlIGFuZCBjYW4gcHJvdmlkZSBleHRlbnNpb25zIGZvciB0aGUgZmVhdHVyZS5cbiAgICAgKiBcbiAgICAgKiBbIV0gVGhpcyBtZXRob2Qgb25seSByZXR1cm5zIGV4dGVuc2lvbnMsIG5vdCB0aGUgYmFzZSBmZWF0dXJlIGRlZmluaXRpb24uXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBmZWF0dXJlRXh0ZW5zaW9ucyhcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIG5hbWUgb2YgdGhlIGZlYXR1cmUgdG8gZ2V0IHRoZSB0ZW1wbGF0ZSBmb3IuIFJlZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIGFsc28gc3VwcG9ydGVkIHRvIG1hdGNoIG11bHRpcGxlIGZlYXR1cmVzLlxuICAgICAgICAgKi9cbiAgICAgICAgbmFtZTogc3RyaW5nIHwgUmVnRXhwLFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgY29tcG9uZW50IHRvIGdldCB0aGUgZmVhdHVyZSB0ZW1wbGF0ZSBmcm9tLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIHNjb3BlIHRoYXQgZGljdGF0ZXMgd2hpY2ggY29tcG9uZW50cyBhcmUgYWN0aXZlIGFuZCBjYW4gcHJvdmlkZSBleHRlbnNpb25zIGZvciB0aGUgZmVhdHVyZS5cbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlOiBBX1Njb3BlXG4gICAgKTogQXJyYXk8QV9UWVBFU19fQV9TdGFnZVN0ZXA+IHtcblxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgLy8gbmFtZSBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUoY29tcG9uZW50KTtcblxuICAgICAgICAvLyBJbnB1dCB2YWxpZGF0aW9uXG4gICAgICAgIGlmICghY29tcG9uZW50KSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVFeHRlbnNpb25QYXJhbWV0ZXJFcnJvciwgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQ29tcG9uZW50IGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcbiAgICAgICAgaWYgKCFuYW1lKSB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVFeHRlbnNpb25QYXJhbWV0ZXJFcnJvciwgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gRmVhdHVyZSBuYW1lIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcGFyYW1ldGVyIGlzIGFsbG93ZWQgZm9yIGZlYXR1cmUgZGVmaW5pdGlvblxuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc0FsbG93ZWRGb3JGZWF0dXJlRGVmaW5pdGlvbihjb21wb25lbnQpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkludmFsaWRGZWF0dXJlRXh0ZW5zaW9uUGFyYW1ldGVyRXJyb3IsIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIENvbXBvbmVudCBvZiB0eXBlICR7Y29tcG9uZW50TmFtZX0gaXMgbm90IGFsbG93ZWQgZm9yIGZlYXR1cmUgZGVmaW5pdGlvbi5gKTtcblxuICAgICAgICBjb25zdCBjYWxsTmFtZSA9IGAke2NvbXBvbmVudC5jb25zdHJ1Y3Rvci5uYW1lfS4ke25hbWV9YDtcblxuICAgICAgICBjb25zdCBzdGVwczogQV9UWVBFU19fQV9TdGFnZVN0ZXBbXSA9IFtdO1xuXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gZ2V0IGFsbCBjb21wb25lbnRzIHRoYXQgaGFzIGV4dGVuc2lvbnMgZm9yIHRoZSBmZWF0dXJlIGluIGNvbXBvbmVudFxuICAgICAgICBmb3IgKGNvbnN0IFtjbXAsIG1ldGFdIG9mIGluc3RhbmNlLl9tZXRhU3RvcmFnZSkge1xuICAgICAgICAgICAgLy8gSnVzdCB0cnkgdG8gbWFrZSBzdXJlIHRoYXQgY29tcG9uZW50IG5vdCBvbmx5IEluZGV4ZWQgYnV0IGFsc28gcHJlc2VudGVkIGluIHNjb3BlXG4gICAgICAgICAgICBpZiAoc2NvcGUuaGFzKGNtcCkgJiYgKFxuICAgICAgICAgICAgICAgIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudE1ldGFJbnN0YW5jZShtZXRhKVxuICAgICAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lck1ldGFJbnN0YW5jZShtZXRhKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgIC8vIEdldCBhbGwgZXh0ZW5zaW9ucyBmb3IgdGhlIGZlYXR1cmVcbiAgICAgICAgICAgICAgICBtZXRhXG4gICAgICAgICAgICAgICAgICAgIC5leHRlbnNpb25zKGNhbGxOYW1lKVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCgoZGVjbGFyYXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogY21wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRlY2xhcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5zdGFuY2UuZmlsdGVyVG9Nb3N0RGVyaXZlZChzY29wZSwgc3RlcHMpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogbWV0aG9kIGhlbHBzIHRvIGZpbHRlciBzdGVwcyBpbiBhIHdheSB0aGF0IG9ubHkgdGhlIG1vc3QgZGVyaXZlZCBjbGFzc2VzIGFyZSBrZXB0LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzY29wZSBcbiAgICAgKiBAcGFyYW0gaXRlbXMgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHJpdmF0ZSBmaWx0ZXJUb01vc3REZXJpdmVkKFxuICAgICAgICBzY29wZTogQV9TY29wZSxcbiAgICAgICAgaXRlbXM6IEFfVFlQRVNfX0FfU3RhZ2VTdGVwW10pOiBBcnJheTxBX1RZUEVTX19BX1N0YWdlU3RlcD4ge1xuICAgICAgICByZXR1cm4gaXRlbXMuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENsYXNzID0gdHlwZW9mIGl0ZW0uY29tcG9uZW50ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gc2NvcGUucmVzb2x2ZUNvbnN0cnVjdG9yKGl0ZW0uY29tcG9uZW50KVxuICAgICAgICAgICAgICAgIDogQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UoaXRlbS5jb21wb25lbnQpXG4gICAgICAgICAgICAgICAgICAgID8gaXRlbS5jb21wb25lbnQuY29uc3RydWN0b3IgOiBpdGVtLmNvbXBvbmVudDtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBjbGFzcyBpcyBwYXJlbnQgb2YgYW55IG90aGVyIGluIHRoZSBsaXN0XG4gICAgICAgICAgICBjb25zdCBpc1BhcmVudE9mQW5vdGhlciA9IGl0ZW1zLnNvbWUob3RoZXIgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChvdGhlciA9PT0gaXRlbSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJDbGFzcyA9IHR5cGVvZiBvdGhlci5jb21wb25lbnQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gc2NvcGUucmVzb2x2ZUNvbnN0cnVjdG9yKG90aGVyLmNvbXBvbmVudClcbiAgICAgICAgICAgICAgICAgICAgOiBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZShvdGhlci5jb21wb25lbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG90aGVyLmNvbXBvbmVudC5jb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBvdGhlci5jb21wb25lbnQ7XG5cblxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50Q2xhc3MucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yob3RoZXJDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEtlZXAgb25seSBjbGFzc2VzIHRoYXQgYXJlIG5vdCBwYXJlbnQgb2YgYW55IG90aGVyXG4gICAgICAgICAgICByZXR1cm4gIWlzUGFyZW50T2ZBbm90aGVyO1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZlYXR1cmUgdGVtcGxhdGUgZGVmaW5pdGlvbiB3aXRob3V0IGFueSBleHRlbnNpb25zLlxuICAgICAqIEl0IGNhbiBiZSB1c2VkIHRvIHJldHJpZXZlIHRoZSBiYXNlIHRlbXBsYXRlIGZvciBhIGZlYXR1cmUgYmVmb3JlIGFueSBtb2RpZmljYXRpb25zIGFyZSBhcHBsaWVkLlxuICAgICAqIFxuICAgICAqIFshXSBUaGlzIG1ldGhvZCBkb2VzIG5vdCBjb25zaWRlciBleHRlbnNpb25zIGZyb20gb3RoZXIgY29tcG9uZW50cy5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZmVhdHVyZSBcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBmZWF0dXJlRGVmaW5pdGlvbihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5hbWUgb2YgdGhlIGZlYXR1cmUgdG8gZ2V0IHRoZSB0ZW1wbGF0ZSBmb3IuXG4gICAgICAgICAqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIGFsc28gc3VwcG9ydGVkIHRvIG1hdGNoIG11bHRpcGxlIGZlYXR1cmVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZmVhdHVyZTogc3RyaW5nIHwgUmVnRXhwLFxuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcG9uZW50IHRvIGdldCB0aGUgZmVhdHVyZSB0ZW1wbGF0ZSBmcm9tLlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBBX1RZUEVTX19GZWF0dXJlQXZhaWxhYmxlQ29tcG9uZW50cyxcbiAgICApOiBBcnJheTxBX1RZUEVTX19BX1N0YWdlU3RlcD4ge1xuICAgICAgICBsZXQgbWV0YUtleTtcblxuICAgICAgICBpZiAoIWZlYXR1cmUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEZlYXR1cmVUZW1wbGF0ZVBhcmFtZXRlckVycm9yLCBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBGZWF0dXJlIG5hbWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuICAgICAgICBpZiAoIWNvbXBvbmVudClcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihBX0NvbnRleHRFcnJvci5JbnZhbGlkRmVhdHVyZVRlbXBsYXRlUGFyYW1ldGVyRXJyb3IsIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIENvbXBvbmVudCBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG5cblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgY29tcG9uZW50IGluc3RhbmNlb2YgQV9FbnRpdHk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0VudGl0eU1ldGFLZXkuRkVBVFVSRVM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbXBvbmVudCBpbnN0YW5jZW9mIEFfQ29udGFpbmVyOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LkZFQVRVUkVTXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbXBvbmVudCBpbnN0YW5jZW9mIEFfQ29tcG9uZW50OlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LkZFQVRVUkVTXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFfQ29udGV4dEVycm9yKEFfQ29udGV4dEVycm9yLkludmFsaWRGZWF0dXJlVGVtcGxhdGVQYXJhbWV0ZXJFcnJvciwgYEEtRmVhdHVyZSBjYW5ub3QgYmUgZGVmaW5lZCBvbiB0aGUgJHtjb21wb25lbnR9IGxldmVsYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmZWF0dXJlRGVmaW5pdGlvbjogQV9UWVBFU19fRmVhdHVyZURlZmluZURlY29yYXRvck1ldGEgfCB1bmRlZmluZWQgPSB0aGlzLm1ldGEoY29tcG9uZW50KVxuICAgICAgICAgICAgPy5nZXQobWV0YUtleSlcbiAgICAgICAgICAgID8uZ2V0KGZlYXR1cmUpO1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAuLi4oZmVhdHVyZURlZmluaXRpb24/LnRlbXBsYXRlIHx8IFtdKVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEFCU1RSQUNUSU9OIE1BTkFHRU1FTlQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1QcmltYXJ5IE1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZGVmaW5pdGlvbiBvZiB0aGUgYWJzdHJhY3Rpb24gdGhhdCBjYW4gYmUgdGhlbiB1c2VkIHRvIGNyZWF0ZSBhIG5ldyBBLUZlYXR1cmUgSW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBbIV0gTm90ZTogU3RlcHMvU3RhZ2VzIGluY2x1ZGVkIGFyZSBmdWxseSBkZXBlbmRlbnQgb24gdGhlIHNjb3BlIHByb3ZpZGVkIHNpbmNlIGl0IGRpY3RhdGVzIHdoaWNoIGNvbXBvbmVudHMgYXJlIGFjdGl2ZSBhbmQgY2FuIHByb3ZpZGUgZXh0ZW5zaW9ucyBmb3IgdGhlIGFic3RyYWN0aW9uLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhYnN0cmFjdGlvbiBcbiAgICAgKi9cbiAgICBzdGF0aWMgYWJzdHJhY3Rpb25UZW1wbGF0ZShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIGFic3RyYWN0aW9uIHN0YWdlIHRvIGdldCB0aGUgZGVmaW5pdGlvbiBmb3IuXG4gICAgICAgICAqL1xuICAgICAgICBhYnN0cmFjdGlvbjogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb3ZpZGUgdGhlIGNvbXBvbmVudCB0byBnZXQgdGhlIGFic3RyYWN0aW9uIGRlZmluaXRpb24gZnJvbS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogQV9UWVBFU19fRmVhdHVyZUF2YWlsYWJsZUNvbXBvbmVudHMsXG4gICAgKTogQXJyYXk8QV9UWVBFU19fQV9TdGFnZVN0ZXA+IHtcbiAgICAgICAgLy8gbmFtZSBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IChBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKGNvbXBvbmVudCkpO1xuXG4gICAgICAgIC8vIElucHV0IHZhbGlkYXRpb25cbiAgICAgICAgaWYgKCFjb21wb25lbnQpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLkludmFsaWRBYnN0cmFjdGlvblRlbXBsYXRlUGFyYW1ldGVyRXJyb3IsXG4gICAgICAgICAgICBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBDb21wb25lbnQgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmApO1xuXG4gICAgICAgIGlmICghYWJzdHJhY3Rpb24pIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLkludmFsaWRBYnN0cmFjdGlvblRlbXBsYXRlUGFyYW1ldGVyRXJyb3IsXG4gICAgICAgICAgICBgVW5hYmxlIHRvIGdldCBmZWF0dXJlIHRlbXBsYXRlLiBBYnN0cmFjdGlvbiBzdGFnZSBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuYCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBhcmFtZXRlciBpcyBhbGxvd2VkIGZvciBmZWF0dXJlIGRlZmluaXRpb25cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNBbGxvd2VkRm9yQWJzdHJhY3Rpb25EZWZpbml0aW9uKGNvbXBvbmVudCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3IoQV9Db250ZXh0RXJyb3IuSW52YWxpZEFic3RyYWN0aW9uVGVtcGxhdGVQYXJhbWV0ZXJFcnJvciwgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQ29tcG9uZW50IG9mIHR5cGUgJHtjb21wb25lbnROYW1lfSBpcyBub3QgYWxsb3dlZCBmb3IgZmVhdHVyZSBkZWZpbml0aW9uLmApO1xuXG4gICAgICAgIGNvbnN0IHN0ZXBzOiBBX1RZUEVTX19BX1N0YWdlU3RlcFtdID0gW1xuICAgICAgICAgICAgLy8gMSkgR2V0IHRoZSBiYXNlIGFic3RyYWN0aW9uIGRlZmluaXRpb24gZnJvbSB0aGUgY29tcG9uZW50XG4gICAgICAgICAgICAvLyBbIV0gTm8gYWJzdHJhY3Rpb24gRGVmaW5pdGlvbnMgLT4gVGhleSBhcmUgbGltaXRlZCB0byBDb25jZXB0IEFic3RyYWN0aW9ucyBPTkxZXG4gICAgICAgICAgICAvLyAuLi50aGlzLmFic3RyYWN0aW9uRGVmaW5pdGlvbihhYnN0cmFjdGlvbiwgY29tcG9uZW50KSxcblxuICAgICAgICAgICAgLy8gMikgR2V0IGFsbCBleHRlbnNpb25zIGZvciB0aGUgYWJzdHJhY3Rpb24gZnJvbSBvdGhlciBjb21wb25lbnRzIGluIHRoZSBzY29wZVxuICAgICAgICAgICAgLi4udGhpcy5hYnN0cmFjdGlvbkV4dGVuc2lvbnMoYWJzdHJhY3Rpb24sIGNvbXBvbmVudClcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gc3RlcHM7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tSGVscGVyIE1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBzdGF0aWMgYWJzdHJhY3Rpb25FeHRlbnNpb25zKFxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvdmlkZSB0aGUgYWJzdHJhY3Rpb24gbmFtZSB0byBnZXQgdGhlIGRlZmluaXRpb24gZm9yLlxuICAgICAgICAgKi9cbiAgICAgICAgYWJzdHJhY3Rpb246IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm92aWRlIHRoZSBjb21wb25lbnQgdG8gZ2V0IHRoZSBhYnN0cmFjdGlvbiBkZWZpbml0aW9uIGZyb20uXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IEFfVFlQRVNfX0ZlYXR1cmVBdmFpbGFibGVDb21wb25lbnRzLFxuICAgICk6IEFycmF5PEFfVFlQRVNfX0FfU3RhZ2VTdGVwPiB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAvLyBuYW1lIGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnQpO1xuXG4gICAgICAgIC8vIElucHV0IHZhbGlkYXRpb25cbiAgICAgICAgaWYgKCFjb21wb25lbnQpIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLkludmFsaWRBYnN0cmFjdGlvbkV4dGVuc2lvblBhcmFtZXRlckVycm9yLFxuICAgICAgICAgICAgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQ29tcG9uZW50IGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5gXG4gICAgICAgICk7XG4gICAgICAgIGlmICghYWJzdHJhY3Rpb24pIHRocm93IG5ldyBBX0NvbnRleHRFcnJvcihcbiAgICAgICAgICAgIEFfQ29udGV4dEVycm9yLkludmFsaWRBYnN0cmFjdGlvbkV4dGVuc2lvblBhcmFtZXRlckVycm9yLFxuICAgICAgICAgICAgYFVuYWJsZSB0byBnZXQgZmVhdHVyZSB0ZW1wbGF0ZS4gQWJzdHJhY3Rpb24gc3RhZ2UgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLmBcbiAgICAgICAgKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBhcmFtZXRlciBpcyBhbGxvd2VkIGZvciBmZWF0dXJlIGRlZmluaXRpb25cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNBbGxvd2VkRm9yQWJzdHJhY3Rpb25EZWZpbml0aW9uKGNvbXBvbmVudCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9Db250ZXh0RXJyb3JcbiAgICAgICAgICAgICAgICAoQV9Db250ZXh0RXJyb3IuSW52YWxpZEFic3RyYWN0aW9uRXh0ZW5zaW9uUGFyYW1ldGVyRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gZ2V0IGZlYXR1cmUgdGVtcGxhdGUuIENvbXBvbmVudCBvZiB0eXBlICR7Y29tcG9uZW50TmFtZX0gaXMgbm90IGFsbG93ZWQgZm9yIGZlYXR1cmUgZGVmaW5pdGlvbi5gXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBzdGVwczogQV9UWVBFU19fQV9TdGFnZVN0ZXBbXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHNjb3BlID0gdGhpcy5zY29wZShjb21wb25lbnQpO1xuXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gZ2V0IGFsbCBjb21wb25lbnRzIHRoYXQgaGFzIGV4dGVuc2lvbnMgZm9yIHRoZSBmZWF0dXJlIGluIGNvbXBvbmVudFxuICAgICAgICBmb3IgKGNvbnN0IFtjbXAsIG1ldGFdIG9mIGluc3RhbmNlLl9tZXRhU3RvcmFnZSkge1xuICAgICAgICAgICAgLy8gSnVzdCB0cnkgdG8gbWFrZSBzdXJlIHRoYXQgY29tcG9uZW50IG5vdCBvbmx5IEluZGV4ZWQgYnV0IGFsc28gcHJlc2VudGVkIGluIHNjb3BlXG4gICAgICAgICAgICBpZiAoc2NvcGUuaGFzKGNtcCkgJiYgKFxuICAgICAgICAgICAgICAgIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudE1ldGFJbnN0YW5jZShtZXRhKVxuICAgICAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lck1ldGFJbnN0YW5jZShtZXRhKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgIC8vIEdldCBhbGwgZXh0ZW5zaW9ucyBmb3IgdGhlIGZlYXR1cmVcbiAgICAgICAgICAgICAgICBtZXRhXG4gICAgICAgICAgICAgICAgICAgIC5hYnN0cmFjdGlvbnMoYWJzdHJhY3Rpb24pXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChkZWNsYXJhdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBjbXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGVjbGFyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5maWx0ZXJUb01vc3REZXJpdmVkKHNjb3BlLCBzdGVwcyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIENvbnRleHQgdG8gaXRzIGluaXRpYWwgc3RhdGUuXG4gICAgICovXG4gICAgc3RhdGljIHJlc2V0KCkge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IEFfQ29udGV4dC5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgIGluc3RhbmNlLl9yZWdpc3RyeSA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgICAgICAgbGV0IG5hbWUgPSAncm9vdCc7XG5cbiAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ3NlcnZlcicpXG4gICAgICAgICAgICBuYW1lID0gcHJvY2Vzcy5lbnZbQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0NPTkNFUFRfUk9PVF9TQ09QRV0gfHwgJ3Jvb3QnO1xuXG4gICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdicm93c2VyJylcbiAgICAgICAgICAgIG5hbWUgPSAod2luZG93IGFzIGFueSlbQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUy5BX0NPTkNFUFRfUk9PVF9TQ09QRV0gfHwgJ3Jvb3QnO1xuXG4gICAgICAgIGluc3RhbmNlLl9yb290ID0gbmV3IEFfU2NvcGUoeyBuYW1lIH0pO1xuICAgIH1cblxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gSEVMUEVSUyAmIEdVQVJEUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIHBhcmFtIGlzIGFsbG93ZWQgZm9yIHNjb3BlIGFsbG9jYXRpb24uXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBpc0FsbG93ZWRGb3JTY29wZUFsbG9jYXRpb24ocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfX1Njb3BlTGlua2VkQ29tcG9uZW50cyB7XG4gICAgICAgIHJldHVybiBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0ZlYXR1cmVJbnN0YW5jZShwYXJhbSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIHBhcmFtIGlzIGFsbG93ZWQgdG8gYmUgcmVnaXN0ZXJlZCBpbiB0aGUgY29udGV4dC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW0gXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQWxsb3dlZFRvQmVSZWdpc3RlcmVkKHBhcmFtOiBhbnkpOiBwYXJhbSBpcyBBX1RZUEVTX1Njb3BlRGVwZW5kZW50Q29tcG9uZW50cyB7XG4gICAgICAgIHJldHVybiBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzRnJhZ21lbnRJbnN0YW5jZShwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0Vycm9ySW5zdGFuY2UocGFyYW0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIHBhcmFtIGlzIGFsbG93ZWQgZm9yIG1ldGEgc3RvcmFnZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW0gXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQWxsb3dlZEZvck1ldGEocGFyYW06IGFueSk6IHBhcmFtIGlzIEFfVFlQRVNfX01ldGFMaW5rZWRDb21wb25lbnRzIHtcbiAgICAgICAgcmV0dXJuIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UocGFyYW0pXG4gICAgICAgICAgICB8fCBBX1R5cGVHdWFyZHMuaXNFbnRpdHlJbnN0YW5jZShwYXJhbSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIHBhcmFtIGlzIGFsbG93ZWQgZm9yIG1ldGEgc3RvcmFnZSBieSBjb25zdHJ1Y3Rvci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW0gXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGlzQWxsb3dlZEZvck1ldGFDb25zdHJ1Y3RvcihwYXJhbTogYW55KTogcGFyYW0gaXMgQV9UWVBFU19fTWV0YUxpbmtlZENvbXBvbmVudENvbnN0cnVjdG9ycyB7XG4gICAgICAgIHJldHVybiBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJDb25zdHJ1Y3RvcihwYXJhbSlcbiAgICAgICAgICAgIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHBhcmFtKVxuICAgICAgICAgICAgfHwgQV9UeXBlR3VhcmRzLmlzRW50aXR5Q29uc3RydWN0b3IocGFyYW0pO1xuICAgIH1cblxuXG5cbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcblxuZXhwb3J0IGNsYXNzIEFfQWJzdHJhY3Rpb25FcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuICAgIC8qKlxuICAgICAqIFRoaXMgZXJyb3IgY29kZSBpbmRpY2F0ZXMgdGhhdCB0aGVyZSB3YXMgYW4gaXNzdWUgZXh0ZW5kaW5nIHRoZSBhYnN0cmFjdGlvbiBleGVjdXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgQWJzdHJhY3Rpb25FeHRlbnNpb25FcnJvciA9ICdVbmFibGUgdG8gZXh0ZW5kIGFic3RyYWN0aW9uIGV4ZWN1dGlvbic7XG5cbn0iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZyxcbiAgICBBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckRlc2NyaXB0b3Jcbn0gZnJvbSBcIi4vQS1BYnN0cmFjdGlvbi50eXBlc1wiO1xuaW1wb3J0IHsgQV9Db21wb25lbnQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbnRhaW5lciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db250YWluZXJNZXRhIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGFpbmVyL0EtQ29udGFpbmVyLm1ldGFcIjtcbmltcG9ydCB7IEFfQ29tcG9uZW50TWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5tZXRhXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbmNlcHQvQS1Db25jZXB0LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb24gfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db25jZXB0L0EtQ29uY2VwdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9BYnN0cmFjdGlvbkVycm9yIH0gZnJvbSBcIi4vQS1BYnN0cmFjdGlvbi5lcnJvclwiO1xuaW1wb3J0IHsgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX1R5cGVHdWFyZHMuaGVscGVyXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyXCI7XG5cblxuLyoqXG4gKiBBLUFic3RyYWN0aW9uIEV4dGVuZCBkZWNvcmF0b3IgYWxsb3dzIHRvIGV4dGVuZHMgYmVoYXZpb3Igb2YgZWFjaCBjb25jZXB0IGFic3RyYWN0aW9uIGV4ZWN1dGlvbi4gXG4gKiBJbiBjYXNlIHNvbWUgY29tcG9uZW50cyBvciBjb250YWluZXJzIHJlcXVpcmVzIHRvIGV4dGVuZCB0aGUgYmVoYXZpb3Igb2YgdGhlIGFic3RyYWN0aW9uIGxpa2UgJ3N0YXJ0JywgJ2J1aWxkJyBvciAnZGVwbG95J1xuICogZm9yIGV4YW1wbGUsIHRoaXMgZGVjb3JhdG9yIGFsbG93cyB0byBkbyBzby4gICAgXG4gKiBcbiAqIEBwYXJhbSBuYW1lIC0gYWJzdHJhY3Rpb24gbmFtZSBcbiAqIEBwYXJhbSBjb25maWcgLSBjb25maWd1cmF0aW9uIG9mIHRoZSBhYnN0cmFjdGlvbiBleHRlbnNpb25cbiAqIEByZXR1cm5zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gQV9BYnN0cmFjdGlvbl9FeHRlbmQoXG4gICAgLyoqXG4gICAgICogTmFtZSBvZiB0aGUgQ29uY2VwdCBBYnN0cmFjdGlvbiB0byBleHRlbmRcbiAgICAgKi9cbiAgICBuYW1lOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLFxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gb2YgdGhlIEFic3RyYWN0aW9uIEV4dGVuc2lvblxuICAgICAqIFxuICAgICAqL1xuICAgIGNvbmZpZzogUGFydGlhbDxBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZz4gPSB7fVxuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgICAgdGFyZ2V0OiBBX0NvbnRhaW5lciB8IEFfQ29tcG9uZW50LFxuICAgICAgICBwcm9wZXJ0eUtleTogc3RyaW5nLFxuICAgICAgICBkZXNjcmlwdG9yOiBBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckRlc2NyaXB0b3JcbiAgICApIHtcbiAgICAgICAgLy8gZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHRhcmdldClcblxuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9BYnN0cmFjdGlvbkVycm9yKFxuICAgICAgICAgICAgICAgIEFfQWJzdHJhY3Rpb25FcnJvci5BYnN0cmFjdGlvbkV4dGVuc2lvbkVycm9yLFxuICAgICAgICAgICAgICAgIGBBYnN0cmFjdGlvbiBuYW1lIG11c3QgYmUgcHJvdmlkZWQgdG8gZXh0ZW5kIGFic3RyYWN0aW9uIGZvciAnJHtjb21wb25lbnROYW1lfScuYCxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgLy8gIE9ubHkgQ29udGFpbmVycyBhbmQgQ29tcG9uZW50cyBjYW4gZXh0ZW5kIENvbmNlcHQgQWJzdHJhY3Rpb25zXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzQ29uc3RydWN0b3JBdmFpbGFibGVGb3JBYnN0cmFjdGlvbih0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9BYnN0cmFjdGlvbkVycm9yKFxuICAgICAgICAgICAgICAgIEFfQWJzdHJhY3Rpb25FcnJvci5BYnN0cmFjdGlvbkV4dGVuc2lvbkVycm9yLFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gZXh0ZW5kIEFic3RyYWN0aW9uICcke25hbWV9JyBmb3IgJyR7Y29tcG9uZW50TmFtZX0nLiBPbmx5IEEtQ29udGFpbmVycyBhbmQgQS1Db21wb25lbnRzIGNhbiBleHRlbmQgQWJzdHJhY3Rpb25zLmAsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1ldGFLZXk7XG4gICAgICAgIGNvbnN0IG1ldGE6IEFfQ29udGFpbmVyTWV0YSB8IEFfQ29tcG9uZW50TWV0YSA9IEFfQ29udGV4dC5tZXRhKHRhcmdldCk7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckNvbnN0cnVjdG9yKHRhcmdldCkgfHwgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleS5BQlNUUkFDVElPTlNcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IodGFyZ2V0KSB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LkFCU1RSQUNUSU9OU1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNldE5hbWUgPSBgQ09OQ0VQVF9BQlNUUkFDVElPTjo6JHtuYW1lfWA7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBleGlzdGVkIG1ldGFkYXRhIG9yIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGE6IEFfTWV0YTx7XG4gICAgICAgICAgICBbS2V5OiBzdHJpbmddOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25bXTtcbiAgICAgICAgfT4gPSBtZXRhLmdldChtZXRhS2V5KSA/XG4gICAgICAgICAgICAgICAgbmV3IEFfTWV0YSgpLmZyb20obWV0YS5nZXQobWV0YUtleSkpXG4gICAgICAgICAgICAgICAgOiBuZXcgQV9NZXRhKCk7XG5cbiAgICAgICAgLy8gU2V0IHRoZSBtZXRhZGF0YSBvZiB0aGUgbWV0aG9kIHRvIGRlZmluZSBhIGN1c3RvbSBTdGFnZSB3aXRoIG5hbWVcbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGFWYWx1ZSA9IFtcbiAgICAgICAgICAgIC4uLihleGlzdGVkTWV0YS5nZXQoc2V0TmFtZSkgfHwgW10pXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgZXhpc3RlZEluZGV4ID0gZXhpc3RlZE1ldGFWYWx1ZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmhhbmRsZXIgPT09IHByb3BlcnR5S2V5KTtcblxuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbiA9IHtcbiAgICAgICAgICAgIG5hbWU6IHNldE5hbWUsXG4gICAgICAgICAgICBoYW5kbGVyOiBwcm9wZXJ0eUtleSxcbiAgICAgICAgICAgIGJlaGF2aW9yOiBjb25maWcuYmVoYXZpb3IgfHwgJ3N5bmMnLFxuICAgICAgICAgICAgdGhyb3dPbkVycm9yOiBjb25maWcudGhyb3dPbkVycm9yICE9PSB1bmRlZmluZWQgPyBjb25maWcudGhyb3dPbkVycm9yIDogdHJ1ZSxcblxuICAgICAgICAgICAgYmVmb3JlOiBBX1R5cGVHdWFyZHMuaXNBcnJheShjb25maWcuYmVmb3JlKVxuICAgICAgICAgICAgICAgID8gbmV3IFJlZ0V4cChgXiR7Y29uZmlnLmJlZm9yZS5qb2luKCd8JykucmVwbGFjZSgvXFwuL2csICdcXFxcLicpfSRgKS5zb3VyY2VcbiAgICAgICAgICAgICAgICA6IGNvbmZpZy5iZWZvcmUgaW5zdGFuY2VvZiBSZWdFeHBcbiAgICAgICAgICAgICAgICAgICAgPyBjb25maWcuYmVmb3JlLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICAgICAgYWZ0ZXI6IEFfVHlwZUd1YXJkcy5pc0FycmF5KGNvbmZpZy5hZnRlcilcbiAgICAgICAgICAgICAgICA/IG5ldyBSZWdFeHAoYF4ke2NvbmZpZy5hZnRlci5qb2luKCd8JykucmVwbGFjZSgvXFwuL2csICdcXFxcLicpfSRgKS5zb3VyY2VcbiAgICAgICAgICAgICAgICA6IGNvbmZpZy5hZnRlciBpbnN0YW5jZW9mIFJlZ0V4cFxuICAgICAgICAgICAgICAgICAgICA/IGNvbmZpZy5hZnRlci5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgOiAnJyxcblxuICAgICAgICAgICAgb3ZlcnJpZGU6IEFfVHlwZUd1YXJkcy5pc0FycmF5KGNvbmZpZy5vdmVycmlkZSlcbiAgICAgICAgICAgICAgICA/IG5ldyBSZWdFeHAoYF4ke2NvbmZpZy5vdmVycmlkZS5qb2luKCd8JykucmVwbGFjZSgvXFwuL2csICdcXFxcLicpfSRgKS5zb3VyY2VcbiAgICAgICAgICAgICAgICA6IGNvbmZpZy5hZnRlciBpbnN0YW5jZW9mIFJlZ0V4cFxuICAgICAgICAgICAgICAgICAgICA/IGNvbmZpZy5hZnRlci5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgOiAnJyxcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChleGlzdGVkSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGV4aXN0aW5nIG1ldGhvZCBpbiB0aGUgbWV0YWRhdGFcbiAgICAgICAgICAgIGV4aXN0ZWRNZXRhVmFsdWVbZXhpc3RlZEluZGV4XSA9IGFic3RyYWN0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQWRkIHRoZSBuZXcgbWV0aG9kIHRvIHRoZSBtZXRhZGF0YVxuICAgICAgICAgICAgZXhpc3RlZE1ldGFWYWx1ZS5wdXNoKGFic3RyYWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgbWV0YWRhdGEgb2YgdGhlIG1ldGhvZCB0byBkZWZpbmUgYSBjdXN0b20gRmVhdHVyZSB3aXRoIG5hbWVcbiAgICAgICAgZXhpc3RlZE1ldGEuc2V0KHNldE5hbWUsIGV4aXN0ZWRNZXRhVmFsdWUpO1xuXG4gICAgICAgIC8vICBVcGRhdGUgdGhlIG1ldGFkYXRhIG9mIHRoZSBjb250YWluZXIgd2l0aCB0aGUgbmV3IFN0YWdlIGRlZmluaXRpb25cbiAgICAgICAgQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQpXG4gICAgICAgICAgICAuc2V0KFxuICAgICAgICAgICAgICAgIG1ldGFLZXksXG4gICAgICAgICAgICAgICAgZXhpc3RlZE1ldGFcbiAgICAgICAgICAgICk7XG4gICAgfTtcbn1cbiIsICJpbXBvcnQgeyBBX0Fic3RyYWN0aW9uX0V4dGVuZCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUFic3RyYWN0aW9uL0EtQWJzdHJhY3Rpb24tRXh0ZW5kLmRlY29yYXRvclwiO1xuaW1wb3J0IHsgQV9GZWF0dXJlIH0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0Fic3RyYWN0aW9uX0luaXQgfSBmcm9tIFwiLi9BLUFic3RyYWN0aW9uLnR5cGVzXCI7XG5pbXBvcnQgeyBBX1Njb3BlIH0gZnJvbSBcIi4uL0EtU2NvcGUvQS1TY29wZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIi4uL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMgfSBmcm9tIFwiLi4vQS1Db25jZXB0L0EtQ29uY2VwdC5jb25zdGFudHNcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX0Fic3RyYWN0aW9uIHtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBBYnN0cmFjdGlvbiBlLmcuICdkZXBsb3knLCAnc3RhcnQnLCAndGVzdCcsIGV0Yy5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX25hbWU6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnM7XG4gICAgLyoqXG4gICAgICogTGlzdCBvZiBmZWF0dXJlcyB0aGF0IGFyZSBwYXJ0IG9mIHRoaXMgQWJzdHJhY3Rpb25cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2ZlYXR1cmVzOiBBX0ZlYXR1cmVbXSA9IFtdO1xuICAgIC8qKlxuICAgICAqIFRoZSBGZWF0dXJlIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2N1cnJlbnQ/OiBBX0ZlYXR1cmU7XG4gICAgLyoqXG4gICAgICogQWN0dWFsIEluZGV4IG9mIHRoZSBjdXJyZW50IEZlYXR1cmUgYmVpbmcgcHJvY2Vzc2VkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9pbmRleDogbnVtYmVyID0gMDtcblxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZHMgQS1BYnN0cmFjdGlvbiB3aXRoIGFkZGl0aW9uYWwgbWV0aG9kc1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgRXh0ZW5kKCk6IHR5cGVvZiBBX0Fic3RyYWN0aW9uX0V4dGVuZCB7XG4gICAgICAgIHJldHVybiBBX0Fic3RyYWN0aW9uX0V4dGVuZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBLUFic3RyYWN0aW9uIGlzIGFuIG9iamVjdCB0aGF0IGlzIGNvbW1vbiBmb3IgYW55IGFwcGxpY2F0aW9uLiBcbiAgICAgKiBCeSBwcm92aWRpbmcgY29tcG9uZW50cyBhbmQgY3JlYXRpbmcgYWJzdHJhY3Rpb24gZXh0ZW5zaW9ucyBpdCdzIHBvc3NpYmxlIHRvIGNyZWF0ZSBhIHVuaXF1ZSBiZWhhdmlvciBvZiB0aGUgd2hvbGUgc29sdXRpb24uXG4gICAgICogXG4gICAgICogRXZlcnkgYXBwbGljYXRpb24gaGFzIGJhc2ljIGFic3RyYWN0aW9ucyBsaWtlICdzdGFydCcsICdzdG9wJywgJ2RlcGxveScsICd0ZXN0JywgZXRjLiBcbiAgICAgKiBUaGV5IGNhbiBiZSBlYXNpbHkgZXh0ZW5kZWQgd2l0aCBhZGRpdGlvbmFsIGxvZ2ljIGZyb20gYm90aCBjb250YWluZXJzIGFuZCBjb21wb25lbnRzLlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwYXJhbXMgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJhbWV0ZXJzIHRvIGRlZmluZSB0aGUgQS1BYnN0cmFjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW1zOiBBX1RZUEVTX19BYnN0cmFjdGlvbl9Jbml0XG4gICAgKSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSBwYXJhbXMubmFtZTtcblxuICAgICAgICB0aGlzLl9mZWF0dXJlcyA9IHBhcmFtcy5jb250YWluZXJzLm1hcChjb250YWluZXIgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBBX0NvbnRleHQuYWJzdHJhY3Rpb25UZW1wbGF0ZShcbiAgICAgICAgICAgICAgICB0aGlzLl9uYW1lLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQV9GZWF0dXJlKHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogY29udGFpbmVyLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5fZmVhdHVyZXNbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgQWJzdHJhY3Rpb25cbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gdGhpcy5fbmFtZTsgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgRmVhdHVyZSBiZWluZyBwcm9jZXNzZWRcbiAgICAgKi9cbiAgICBnZXQgZmVhdHVyZSgpOiBBX0ZlYXR1cmUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgY2hlY2tzIGlmIHRoZSBBLUZlYXR1cmUgaXMgZG9uZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGdldCBpc0RvbmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy5mZWF0dXJlXG4gICAgICAgICAgICB8fCB0aGlzLl9pbmRleCA+PSB0aGlzLl9mZWF0dXJlcy5sZW5ndGhcblxuICAgIH1cblxuXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmF0b3I8QV9GZWF0dXJlLCBhbnk+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIEN1c3RvbSBuZXh0IG1ldGhvZFxuICAgICAgICAgICAgbmV4dDogKCk6IEl0ZXJhdG9yUmVzdWx0PEFfRmVhdHVyZSwgYW55PiA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRG9uZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSB0aGlzLl9mZWF0dXJlc1t0aGlzLl9pbmRleF07XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9jdXJyZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSB1bmRlZmluZWQ7IC8vIFJlc2V0IGN1cnJlbnQgb24gZW5kXG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIG1vdmVzIHRoZSBBYnN0cmFjdGlvbiBwcm9jZXNzaW5nIHRvIHRoZSBuZXh0IEZlYXR1cmUgaW4gdGhlIGxpc3RcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RhZ2UgXG4gICAgICovXG4gICAgbmV4dChzdGFnZSkge1xuICAgICAgICBpZiAodGhpcy5faW5kZXggPj0gdGhpcy5fZmVhdHVyZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGFnZUluZGV4ID0gdGhpcy5fZmVhdHVyZXMuaW5kZXhPZihzdGFnZSk7XG5cbiAgICAgICAgdGhpcy5faW5kZXggPSBzdGFnZUluZGV4ICsgMTtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHByb2Nlc3MgYWxsIHN0YWdlcyBvZiB0aGUgQWJzdHJhY3Rpb25cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhc3luYyBwcm9jZXNzKFxuICAgICAgICAvKipcbiAgICAgICAgICogQWxsb3dzIHRvIG92ZXJyaWRlIHRoZSBzY29wZSBpbiB3aGljaCB0aGUgQWJzdHJhY3Rpb24gd2lsbCBiZSBwcm9jZXNzZWRcbiAgICAgICAgICogXG4gICAgICAgICAqL1xuICAgICAgICBzY29wZT86IEFfU2NvcGVcbiAgICApIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEb25lKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGZvciAoY29uc3QgZmVhdHVyZSBvZiB0aGlzLl9mZWF0dXJlcykge1xuXG4gICAgICAgICAgICBhd2FpdCBmZWF0dXJlLnByb2Nlc3Moc2NvcGUpO1xuICAgICAgICB9XG4gICAgfVxufSIsICJleHBvcnQgZW51bSBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zIHtcbiAgICAvKipcbiAgICAgKiBSdW4gdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgUnVuID0gJ3J1bicsXG4gICAgLyoqXG4gICAgICogQnVpbGQgdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgQnVpbGQgPSAnYnVpbGQnLFxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2ggdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgUHVibGlzaCA9ICdwdWJsaXNoJyxcbiAgICAvKipcbiAgICAgKiBEZXBsb3kgdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgRGVwbG95ID0gJ2RlcGxveScsXG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBMb2FkID0gJ2xvYWQnLFxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIFN0YXJ0ID0gJ3N0YXJ0JyxcbiAgICAvKipcbiAgICAgKiBTdG9wIHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIFN0b3AgPSAnc3RvcCcsXG59XG5cblxuXG5leHBvcnQgZW51bSBBX1RZUEVTX19Db25jZXB0TWV0YUtleSB7XG4gICAgTElGRUNZQ0xFID0gJ2EtY29tcG9uZW50LWV4dGVuc2lvbnMnLFxufSIsICJpbXBvcnQgeyBBX0NvbnRhaW5lciB9IGZyb20gXCIuLi9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9BYnN0cmFjdGlvbiB9IGZyb20gXCIuLi9BLUFic3RyYWN0aW9uL0EtQWJzdHJhY3Rpb24uY2xhc3NcIjtcbmltcG9ydCB7IEFfQWJzdHJhY3Rpb25fRXh0ZW5kIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQWJzdHJhY3Rpb24vQS1BYnN0cmFjdGlvbi1FeHRlbmQuZGVjb3JhdG9yXCI7XG5pbXBvcnQgeyBBX1Njb3BlIH0gZnJvbSBcIi4uL0EtU2NvcGUvQS1TY29wZS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIi4uL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMgfSBmcm9tIFwiLi9BLUNvbmNlcHQuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25jZXB0X0luaXQgfSBmcm9tIFwiLi9BLUNvbmNlcHQudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0Fic3RyYWN0aW9uRGVjb3JhdG9yQ29uZmlnIH0gZnJvbSBcIi4uL0EtQWJzdHJhY3Rpb24vQS1BYnN0cmFjdGlvbi50eXBlc1wiO1xuaW1wb3J0IHsgQV9GZWF0dXJlIH0gZnJvbSBcIi4uL0EtRmVhdHVyZS9BLUZlYXR1cmUuY2xhc3NcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX0NvbmNlcHQ8XG4gICAgX0ltcG9ydHMgZXh0ZW5kcyBBX0NvbnRhaW5lcltdID0gQV9Db250YWluZXJbXVxuPiB7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSAgU1RBVElDIExJRkVDWUNMRSBERUNPUkFUT1JTICA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBjb25jZXB0LiBUaGlzIHN0ZXAgcnVucyBiZWZvcmUgYW55IG90aGVyIHN0ZXBzIHRvIGVuc3VyZSB0aGF0IGFsbCBjb21wb25lbnRzIGFyZSBsb2FkZWQuXG4gICAgICovXG4gICAgc3RhdGljIExvYWQoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwcm92aWRlIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIGFic3RyYWN0aW9uIGV4dGVuc2lvbiB0byBtYWtlIGl0IGRlcGVuZGVudCBvbiBvdGhlciBmYWN0b3JzXG4gICAgICAgICAqL1xuICAgICAgICBjb25maWc/OiBQYXJ0aWFsPEFfVFlQRVNfX0Fic3RyYWN0aW9uRGVjb3JhdG9yQ29uZmlnPlxuICAgICk6IFJldHVyblR5cGU8dHlwZW9mIEFfQWJzdHJhY3Rpb25fRXh0ZW5kPiB7XG4gICAgICAgIHJldHVybiBBX0Fic3RyYWN0aW9uLkV4dGVuZChBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLkxvYWQsIGNvbmZpZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVibGlzaCB0aGUgY29uY2VwdCB0byBBREFBUyBwbGF0Zm9ybS4gKE9yIGFueSBvdGhlciBwbGFjZSBkZWZpbmVkIGluIHRoZSBjb25jZXB0KVxuICAgICAqXG4gICAgICogWyFdIFRvIGV4dGVuZCB0aGUgbG9naWMganVzdCBjcmVhdGUgYSBjdXN0b20gY29udGFpbmVycyBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmVoYXZpb3IuXG4gICAgICovXG4gICAgc3RhdGljIFB1Ymxpc2goXG4gICAgICAgIC8qKlxuICAgICAgICAqIHByb3ZpZGUgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgYWJzdHJhY3Rpb24gZXh0ZW5zaW9uIHRvIG1ha2UgaXQgZGVwZW5kZW50IG9uIG90aGVyIGZhY3RvcnNcbiAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogUGFydGlhbDxBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZz5cbiAgICApOiBSZXR1cm5UeXBlPHR5cGVvZiBBX0Fic3RyYWN0aW9uX0V4dGVuZD4ge1xuICAgICAgICByZXR1cm4gQV9BYnN0cmFjdGlvbi5FeHRlbmQoQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5QdWJsaXNoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXBsb3kgdGhlIGNvbmNlcHQgdG8gdGhlIGVudmlyb25tZW50LlxuICAgICAqL1xuICAgIHN0YXRpYyBEZXBsb3koXG4gICAgICAgIC8qKlxuICAgICAgICAqIHByb3ZpZGUgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgYWJzdHJhY3Rpb24gZXh0ZW5zaW9uIHRvIG1ha2UgaXQgZGVwZW5kZW50IG9uIG90aGVyIGZhY3RvcnNcbiAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogUGFydGlhbDxBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZz5cbiAgICApIHtcbiAgICAgICAgcmV0dXJuIEFfQWJzdHJhY3Rpb24uRXh0ZW5kKEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuRGVwbG95LCBjb25maWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBpbGVzIHRoZSBDb25jZXB0IGluIGNhc2UgdGhlcmUgYXJlIHNvbWUgY29udGFpbmVycyB0aGF0IHJlcXVpcmUgdGhhdC4gXG4gICAgICogXG4gICAgICogQ2FuIGJlIHVzZWQgZm9yIHN0YXRpYyB3ZWJzaXRlcyBvciBhbnkgb3RoZXIgY29uY2VwdCB0aGF0IHJlcXVpcmVzIGEgYnVpbGQgc3RlcC5cbiAgICAgKiBcbiAgICAgKi9cbiAgICBzdGF0aWMgQnVpbGQoXG4gICAgICAgIC8qKlxuICAgICAgICAqIHByb3ZpZGUgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgYWJzdHJhY3Rpb24gZXh0ZW5zaW9uIHRvIG1ha2UgaXQgZGVwZW5kZW50IG9uIG90aGVyIGZhY3RvcnNcbiAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogUGFydGlhbDxBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZz5cbiAgICApIHtcbiAgICAgICAgcmV0dXJuIEFfQWJzdHJhY3Rpb24uRXh0ZW5kKEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuQnVpbGQsIGNvbmZpZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIE1haW4gZXhlY3V0aW9uIG9mIHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIHN0YXRpYyBSdW4oXG4gICAgICAgIC8qKlxuICAgICAgICAqIHByb3ZpZGUgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgYWJzdHJhY3Rpb24gZXh0ZW5zaW9uIHRvIG1ha2UgaXQgZGVwZW5kZW50IG9uIG90aGVyIGZhY3RvcnNcbiAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogUGFydGlhbDxBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZz5cbiAgICApIHtcbiAgICAgICAgcmV0dXJuIEFfQWJzdHJhY3Rpb24uRXh0ZW5kKEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuUnVuLCBjb25maWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBTdGFydCB0aGUgY29uY2VwdC4gVXNlcyBmb3Igc2VydmVycyBvciBhbnkgb3RoZXIgYmFja2dyb3VuZCBzZXJ2aWNlcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgU3RhcnQoXG4gICAgICAgIC8qKlxuICAgICAgICAqIHByb3ZpZGUgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgYWJzdHJhY3Rpb24gZXh0ZW5zaW9uIHRvIG1ha2UgaXQgZGVwZW5kZW50IG9uIG90aGVyIGZhY3RvcnNcbiAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogUGFydGlhbDxBX1RZUEVTX19BYnN0cmFjdGlvbkRlY29yYXRvckNvbmZpZz5cbiAgICApIHtcbiAgICAgICAgcmV0dXJuIEFfQWJzdHJhY3Rpb24uRXh0ZW5kKEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuU3RhcnQsIGNvbmZpZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgY29uY2VwdC4gVXNlcyBmb3Igc2VydmVycyBvciBhbnkgb3RoZXIgYmFja2dyb3VuZCBzZXJ2aWNlcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgU3RvcChcbiAgICAgICAgLyoqXG4gICAgICAgICogcHJvdmlkZSBhZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBhYnN0cmFjdGlvbiBleHRlbnNpb24gdG8gbWFrZSBpdCBkZXBlbmRlbnQgb24gb3RoZXIgZmFjdG9yc1xuICAgICAgICAqL1xuICAgICAgICBjb25maWc/OiBQYXJ0aWFsPEFfVFlQRVNfX0Fic3RyYWN0aW9uRGVjb3JhdG9yQ29uZmlnPlxuICAgICkge1xuICAgICAgICByZXR1cm4gQV9BYnN0cmFjdGlvbi5FeHRlbmQoQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5TdG9wLCBjb25maWcpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTmFtZSBvZiB0aGUgY29uY2VwdFxuICAgICAqIFxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSBuYW1lIG9mIHRoZSBDb25jZXB0IGlzICdhLWNvbmNlcHQnXG4gICAgICovXG4gICAgcHJpdmF0ZSBfbmFtZSE6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgaW50ZXJuYWxseSBkZWZpbmVkIGNvbnRhaW5lcnMgdGhhdCB0aGUgY29uY2VwdCB1c2VzLlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfY29udGFpbmVycyE6IEFfQ29udGFpbmVyW107XG5cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT0gIE1BSU4gTWV0aG9kcyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG4gICAgLyoqXG4gICAgICogQS1Db25jZXB0IGlzIGEgcGxhY2Vob2xkZXIgZm9yIHRoZSBjb25jZXB0IG9mIHRoZSBhbnkgcHJvZ3JhbS5cbiAgICAgKiBcbiAgICAgKiBDb25jZXB0IC0gY291bGQgYmUgYW55IFByb2dyYW0gcmVnYXJkbGVzcyBlbnZpcm9ubWVudCBhbmQgaXQncyBnb2FsLlxuICAgICAqIEl0IGNvdWxkIGJlIG1vYmlsZSwgd2ViIG9yIHNpbXBsZSBodG1sIHBhZ2UuXG4gICAgICogQWxsIGRlcGVuZHMgb24gQ29udGFpbmVycyBhbmQgQ29tcG9uZW50cyBpbnN0YWxsZWQgYW5kIHByb3ZpZGVkIGluIHRoZSBDb25jZXB0LlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIFshXSBDb25jZXB0IG9wZXJhdGVzIE9OTFkgd2l0aCBhbGwgQ29tcG9uZW50cyBhbmQgQ29udGFpbmVycyBwcm92aWRlZCB0byBhY2hpZXZlIHRoZSBnb2FsLlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwcm9wcyAtIEluaXRpYWxpemF0aW9uIHByb3BlcnRpZXMgZm9yIHRoZSBDb25jZXB0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByb3RlY3RlZCBwcm9wczogQV9UWVBFU19fQ29uY2VwdF9Jbml0PF9JbXBvcnRzPlxuICAgICkge1xuICAgICAgICB0aGlzLl9uYW1lID0gcHJvcHMubmFtZSB8fCBBX0NvbnRleHQucm9vdC5uYW1lO1xuXG4gICAgICAgIGlmIChwcm9wcy5jb21wb25lbnRzICYmIHByb3BzLmNvbXBvbmVudHMubGVuZ3RoKVxuICAgICAgICAgICAgcHJvcHMuY29tcG9uZW50cy5mb3JFYWNoKGNvbXBvbmVudCA9PiB0aGlzLnNjb3BlLnJlZ2lzdGVyKGNvbXBvbmVudCkpXG5cbiAgICAgICAgaWYgKHByb3BzLmZyYWdtZW50cyAmJiBwcm9wcy5mcmFnbWVudHMubGVuZ3RoKVxuICAgICAgICAgICAgcHJvcHMuZnJhZ21lbnRzLmZvckVhY2goZnJhZ21lbnQgPT4gdGhpcy5zY29wZS5yZWdpc3RlcihmcmFnbWVudCkpXG5cbiAgICAgICAgaWYgKHByb3BzLmVudGl0aWVzICYmIHByb3BzLmVudGl0aWVzLmxlbmd0aClcbiAgICAgICAgICAgIHByb3BzLmVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHRoaXMuc2NvcGUucmVnaXN0ZXIoZW50aXR5IGFzIGFueSkpXG5cblxuICAgICAgICB0aGlzLl9jb250YWluZXJzID0gcHJvcHMuY29udGFpbmVycyB8fCBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOYW1lIG9mIHRoZSBjb25jZXB0XG4gICAgICovXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQucm9vdC5uYW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcHJpbWFyeSBSb290IHNjb3BlIG9mIHRoZSBjb25jZXB0LlxuICAgICAqL1xuICAgIGdldCBzY29wZSgpIHtcbiAgICAgICAgcmV0dXJuIEFfQ29udGV4dC5yb290O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgY2xhc3Mgb3IgdmFsdWUgaW4gdGhlIGNvbmNlcHQgc2NvcGUuXG4gICAgICovXG4gICAgZ2V0IHJlZ2lzdGVyKCk6IEFfU2NvcGVbJ3JlZ2lzdGVyJ10ge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5yZWdpc3Rlci5iaW5kKHRoaXMuc2NvcGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc29sdmUgYSBjbGFzcyBvciB2YWx1ZSBmcm9tIHRoZSBjb25jZXB0IHNjb3BlLlxuICAgICAqL1xuICAgIGdldCByZXNvbHZlKCk6IEFfU2NvcGVbJ3Jlc29sdmUnXSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnJlc29sdmUuYmluZCh0aGlzLnNjb3BlKTtcbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT0gIExJRkVDWUNMRSAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgYXN5bmMgbG9hZChcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlLFxuICAgICkge1xuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbiA9IG5ldyBBX0Fic3RyYWN0aW9uKHtcbiAgICAgICAgICAgIG5hbWU6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuTG9hZCxcbiAgICAgICAgICAgIGNvbnRhaW5lcnM6IHRoaXMuX2NvbnRhaW5lcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IGFic3RyYWN0aW9uLnByb2Nlc3Moc2NvcGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW4gdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgYXN5bmMgcnVuKFxuICAgICAgICBzY29wZT86IEFfU2NvcGUsXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGFic3RyYWN0aW9uID0gbmV3IEFfQWJzdHJhY3Rpb24oe1xuICAgICAgICAgICAgbmFtZTogQV9UWVBFU19fQ29uY2VwdEFic3RyYWN0aW9ucy5SdW4sXG4gICAgICAgICAgICBjb250YWluZXJzOiB0aGlzLl9jb250YWluZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBhYnN0cmFjdGlvbi5wcm9jZXNzKHNjb3BlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnQgdGhlIGNvbmNlcHQuXG4gICAgICogXG4gICAgICogQHBhcmFtIHBhcmFtcyBcbiAgICAgKi9cbiAgICBhc3luYyBzdGFydChcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlLFxuICAgICkge1xuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbiA9IG5ldyBBX0Fic3RyYWN0aW9uKHtcbiAgICAgICAgICAgIG5hbWU6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuU3RhcnQsXG4gICAgICAgICAgICBjb250YWluZXJzOiB0aGlzLl9jb250YWluZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBhYnN0cmFjdGlvbi5wcm9jZXNzKHNjb3BlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgY29uY2VwdC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcGFyYW1zIFxuICAgICAqL1xuICAgIGFzeW5jIHN0b3AoXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgY29uc3QgYWJzdHJhY3Rpb24gPSBuZXcgQV9BYnN0cmFjdGlvbih7XG4gICAgICAgICAgICBuYW1lOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLlN0b3AsXG4gICAgICAgICAgICBjb250YWluZXJzOiB0aGlzLl9jb250YWluZXJzLFxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBhYnN0cmFjdGlvbi5wcm9jZXNzKHNjb3BlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQnVpbGQgdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgYXN5bmMgYnVpbGQoXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgY29uc3QgYWJzdHJhY3Rpb24gPSBuZXcgQV9BYnN0cmFjdGlvbih7XG4gICAgICAgICAgICBuYW1lOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLkJ1aWxkLFxuICAgICAgICAgICAgY29udGFpbmVyczogdGhpcy5fY29udGFpbmVycyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgYWJzdHJhY3Rpb24ucHJvY2VzcyhzY29wZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlcGxveSB0aGUgY29uY2VwdC5cbiAgICAgKi9cbiAgICBhc3luYyBkZXBsb3koXG4gICAgICAgIHNjb3BlPzogQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgY29uc3QgYWJzdHJhY3Rpb24gPSBuZXcgQV9BYnN0cmFjdGlvbih7XG4gICAgICAgICAgICBuYW1lOiBBX1RZUEVTX19Db25jZXB0QWJzdHJhY3Rpb25zLkRlcGxveSxcbiAgICAgICAgICAgIGNvbnRhaW5lcnM6IHRoaXMuX2NvbnRhaW5lcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IGFic3RyYWN0aW9uLnByb2Nlc3Moc2NvcGUpO1xuXG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2ggdGhlIGNvbmNlcHQuXG4gICAgICovXG4gICAgYXN5bmMgcHVibGlzaChcbiAgICAgICAgc2NvcGU/OiBBX1Njb3BlLFxuICAgICkge1xuICAgICAgICBjb25zdCBhYnN0cmFjdGlvbiA9IG5ldyBBX0Fic3RyYWN0aW9uKHtcbiAgICAgICAgICAgIG5hbWU6IEFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMuUHVibGlzaCxcbiAgICAgICAgICAgIGNvbnRhaW5lcnM6IHRoaXMuX2NvbnRhaW5lcnMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IGFic3RyYWN0aW9uLnByb2Nlc3Moc2NvcGUpO1xuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PSAgQ0FMTCAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICAgIC8qKlxuICAgICAqIENhbGwgdGhlIHNwZWNpZmljIG1ldGhvZCBvZiB0aGUgY29uY2VwdCBvciBpbmNsdWRlZCBtb2R1bGVzLlxuICAgICAqL1xuICAgIGFzeW5jIGNhbGw8XG4gICAgICAgIEsgZXh0ZW5kcyBSZWNvcmQ8X0ltcG9ydHNbbnVtYmVyXVsnbmFtZSddLCBzdHJpbmc+XG4gICAgPihcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5hbWUgb2YgdGhlIG1ldGhvZCB0byBjYWxsXG4gICAgICAgICAqL1xuICAgICAgICBtZXRob2Q6IEtba2V5b2YgS10sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250YWluZXIgaW4gd2hpY2ggdGhlIG1ldGhvZCBpcyBsb2NhdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjb250YWluZXI6IF9JbXBvcnRzW251bWJlcl0sXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGZlYXR1cmUgPSBuZXcgQV9GZWF0dXJlKHsgbmFtZTogbWV0aG9kLCBjb21wb25lbnQ6IGNvbnRhaW5lciB9KTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgZmVhdHVyZS5wcm9jZXNzKCk7XG4gICAgfVxufVxuXG5cblxuXG4iLCAiXG5pbXBvcnQgeyBBX0NvbnRhaW5lciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9NZXRhIH0gZnJvbSBcIi4uL0EtTWV0YS9BLU1ldGEuY2xhc3NcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX0NvbmNlcHRNZXRhIGV4dGVuZHMgQV9NZXRhPGFueT4ge1xuXG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBjb250YWluZXJzOiBBcnJheTxBX0NvbnRhaW5lcj4sXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG5cbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IuY2xhc3NcIjtcblxuZXhwb3J0IGNsYXNzIEFfRGVwZW5kZW5jeUVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgSW52YWxpZERlcGVuZGVuY3lUYXJnZXQgPSAnSW52YWxpZCBEZXBlbmRlbmN5IFRhcmdldCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgSW52YWxpZExvYWRUYXJnZXQgPSAnSW52YWxpZCBMb2FkIFRhcmdldCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgSW52YWxpZExvYWRQYXRoID0gJ0ludmFsaWQgTG9hZCBQYXRoJztcblxuXG4gICAgc3RhdGljIHJlYWRvbmx5IEludmFsaWREZWZhdWx0VGFyZ2V0ID0gJ0ludmFsaWQgRGVmYXVsdCBUYXJnZXQnO1xufSIsICJcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEsIEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzIH0gZnJvbSBcIi4uL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX0RlcGVuZGVuY3lfRGVmYXVsdERlY29yYXRvclJldHVybiB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS50eXBlc1wiO1xuaW1wb3J0IHsgQV9EZXBlbmRlbmN5RXJyb3IgfSBmcm9tIFwiLi9BLURlcGVuZGVuY3kuZXJyb3JcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0NvbW1vbi5oZWxwZXJcIjtcblxuXG4vKipcbiAqIFNob3VsZCBpbmRpY2F0ZSB3aGljaCBEZWZhdWx0IGlzIHJlcXVpcmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBX0RlcGVuZGVuY3lfRGVmYXVsdChcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciBQYXJhbWV0ZXJzIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGNyZWF0ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZVxuICAgICAqL1xuICAgIC4uLmFyZ3M6IGFueVtdXG4pOiBBX1RZUEVTX19BX0RlcGVuZGVuY3lfRGVmYXVsdERlY29yYXRvclJldHVybiB7XG5cblxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICAgIHRhcmdldDogQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMsXG4gICAgICAgIG1ldGhvZE5hbWU6IHN0cmluZyB8IHN5bWJvbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgcGFyYW1ldGVySW5kZXg6IG51bWJlclxuICAgICkge1xuICAgICAgICAvLyBmb3IgRXJyb3IgaGFuZGxpbmcgcHVycG9zZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KVxuXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzVGFyZ2V0QXZhaWxhYmxlRm9ySW5qZWN0aW9uKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0RlcGVuZGVuY3lFcnJvcihcbiAgICAgICAgICAgICAgICBBX0RlcGVuZGVuY3lFcnJvci5JbnZhbGlkRGVmYXVsdFRhcmdldCxcbiAgICAgICAgICAgICAgICBgQS1EZWZhdWx0IGNhbm5vdCBiZSB1c2VkIG9uIHRoZSB0YXJnZXQgb2YgdHlwZSAke3R5cGVvZiB0YXJnZXR9ICgke2NvbXBvbmVudE5hbWV9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIG1ldGhvZCBuYW1lIG9yICdjb25zdHJ1Y3RvcicgZm9yIGNvbnN0cnVjdG9yIGluamVjdGlvbnNcbiAgICAgICAgY29uc3QgbWV0aG9kID0gbWV0aG9kTmFtZSA/IFN0cmluZyhtZXRob2ROYW1lKSA6ICdjb25zdHJ1Y3Rvcic7XG4gICAgICAgIGxldCBtZXRhS2V5O1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3Rvcih0YXJnZXQpIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgbWV0YSBvciBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIGNvbnN0IGV4aXN0ZWRNZXRhID0gQV9Db250ZXh0Lm1ldGEodGFyZ2V0KS5nZXQobWV0YUtleSkgfHwgbmV3IEFfTWV0YSgpO1xuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgaW5qZWN0aW9ucyBmb3IgdGhlIG1ldGhvZCBvciBjcmVhdGUgYSBuZXcgYXJyYXlcbiAgICAgICAgY29uc3QgcGFyYW1zQXJyYXk6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEgPSBleGlzdGVkTWV0YS5nZXQobWV0aG9kKSB8fCBbXTtcblxuICAgICAgICAvLyBzZXQgdGhlIHBhcmFtZXRlciBpbmplY3Rpb24gaW5mb1xuICAgICAgICBwYXJhbXNBcnJheVtwYXJhbWV0ZXJJbmRleF0gPSB7XG4gICAgICAgICAgICAuLi4ocGFyYW1zQXJyYXlbcGFyYW1ldGVySW5kZXhdIHx8IHt9KSxcbiAgICAgICAgICAgIGRlZmF1bHRBcmdzOiBhcmdzLFxuICAgICAgICAgICAgY3JlYXRlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIGluamVjdGlvbnMgYXJyYXlcbiAgICAgICAgZXhpc3RlZE1ldGEuc2V0KG1ldGhvZCwgcGFyYW1zQXJyYXkpO1xuXG4gICAgICAgIC8vIHNhdmUgYmFjayB0aGUgdXBkYXRlZCBtZXRhIGluZm9cbiAgICAgICAgQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQpXG4gICAgICAgICAgICAuc2V0KFxuICAgICAgICAgICAgICAgIG1ldGFLZXksXG4gICAgICAgICAgICAgICAgZXhpc3RlZE1ldGFcbiAgICAgICAgICAgICk7XG4gICAgfVxufSIsICJcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEsIEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzIH0gZnJvbSBcIi4uL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX0RlcGVuZGVuY3lfTG9hZERlY29yYXRvclJldHVybiB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS50eXBlc1wiO1xuaW1wb3J0IHsgQV9EZXBlbmRlbmN5RXJyb3IgfSBmcm9tIFwiLi9BLURlcGVuZGVuY3kuZXJyb3JcIjtcbmltcG9ydCB7IEFfQ29tbW9uSGVscGVyIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvaGVscGVycy9BX0NvbW1vbi5oZWxwZXJcIjtcblxuXG4vKipcbiAqIFNob3VsZCBpbmRpY2F0ZSB3aGljaCBMb2FkIGlzIHJlcXVpcmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBX0RlcGVuZGVuY3lfTG9hZChcbiAgICAvKipcbiAgICAgKiBQYXRoIHRvIGxvYWQgdGhlIGRlcGVuZGVuY3kgZnJvbVxuICAgICAqL1xuICAgIHBhdGg6IHN0cmluZ1xuKTogQV9UWVBFU19fQV9EZXBlbmRlbmN5X0xvYWREZWNvcmF0b3JSZXR1cm4ge1xuXG4gICAgaWYgKCFwYXRoIHx8IHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgQV9EZXBlbmRlbmN5RXJyb3IoXG4gICAgICAgICAgICBBX0RlcGVuZGVuY3lFcnJvci5JbnZhbGlkTG9hZFBhdGgsXG4gICAgICAgICAgICBgQS1Mb2FkIGRlY29yYXRvciByZXF1aXJlcyBhIHZhbGlkIHBhdGggc3RyaW5nIHRvIHRoZSBkZXBlbmRlbmN5YFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICAgIHRhcmdldDogQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMsXG4gICAgICAgIG1ldGhvZE5hbWU6IHN0cmluZyB8IHN5bWJvbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgcGFyYW1ldGVySW5kZXg6IG51bWJlclxuICAgICkge1xuICAgICAgICAvLyBmb3IgRXJyb3IgaGFuZGxpbmcgcHVycG9zZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KTtcblxuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc1RhcmdldEF2YWlsYWJsZUZvckluamVjdGlvbih0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9EZXBlbmRlbmN5RXJyb3IoXG4gICAgICAgICAgICAgICAgQV9EZXBlbmRlbmN5RXJyb3IuSW52YWxpZExvYWRUYXJnZXQsXG4gICAgICAgICAgICAgICAgYEEtTG9hZCBjYW5ub3QgYmUgdXNlZCBvbiB0aGUgdGFyZ2V0IG9mIHR5cGUgJHt0eXBlb2YgdGFyZ2V0fSAoJHtjb21wb25lbnROYW1lfSlgXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBtZXRob2QgbmFtZSBvciAnY29uc3RydWN0b3InIGZvciBjb25zdHJ1Y3RvciBpbmplY3Rpb25zXG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IG1ldGhvZE5hbWUgPyBTdHJpbmcobWV0aG9kTmFtZSkgOiAnY29uc3RydWN0b3InO1xuICAgICAgICBsZXQgbWV0YUtleTtcblxuICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50Q29uc3RydWN0b3IodGFyZ2V0KSB8fCBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzQ29udGFpbmVySW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIG1ldGEgb3IgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICBjb25zdCBleGlzdGVkTWV0YSA9IEFfQ29udGV4dC5tZXRhKHRhcmdldCkuZ2V0KG1ldGFLZXkpIHx8IG5ldyBBX01ldGEoKTtcbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIGluamVjdGlvbnMgZm9yIHRoZSBtZXRob2Qgb3IgY3JlYXRlIGEgbmV3IGFycmF5XG4gICAgICAgIGNvbnN0IHBhcmFtc0FycmF5OiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhID0gZXhpc3RlZE1ldGEuZ2V0KG1ldGhvZCkgfHwgW107XG5cbiAgICAgICAgLy8gc2V0IHRoZSBwYXJhbWV0ZXIgaW5qZWN0aW9uIGluZm9cbiAgICAgICAgcGFyYW1zQXJyYXlbcGFyYW1ldGVySW5kZXhdID0ge1xuICAgICAgICAgICAgLi4uKHBhcmFtc0FycmF5W3BhcmFtZXRlckluZGV4XSB8fCB7fSksXG4gICAgICAgICAgICBsb2FkOiBwYXRoXG4gICAgICAgIH1cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIGluamVjdGlvbnMgYXJyYXlcbiAgICAgICAgZXhpc3RlZE1ldGEuc2V0KG1ldGhvZCwgcGFyYW1zQXJyYXkpO1xuXG4gICAgICAgIC8vIHNhdmUgYmFjayB0aGUgdXBkYXRlZCBtZXRhIGluZm9cbiAgICAgICAgQV9Db250ZXh0XG4gICAgICAgICAgICAubWV0YSh0YXJnZXQpXG4gICAgICAgICAgICAuc2V0KFxuICAgICAgICAgICAgICAgIG1ldGFLZXksXG4gICAgICAgICAgICAgICAgZXhpc3RlZE1ldGFcbiAgICAgICAgICAgICk7XG4gICAgfVxufSIsICJcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX01ldGEgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1NZXRhL0EtTWV0YS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEsIEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzIH0gZnJvbSBcIi4uL0EtSW5qZWN0L0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19BX0RlcGVuZGVuY3lfUGFyZW50RGVjb3JhdG9yUmV0dXJuIH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LnR5cGVzXCI7XG5pbXBvcnQgeyBBX0RlcGVuZGVuY3lFcnJvciB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS5lcnJvclwiO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlclwiO1xuXG5cbi8qKlxuICogU2hvdWxkIGluZGljYXRlIHdoaWNoIGRlcGVuZGVuY3kgaXMgcmVxdWlyZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfRGVwZW5kZW5jeV9QYXJlbnQoXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGhvdyBtYW55IGxheWVycyB1cCB0aGUgcGFyZW50IGRlcGVuZGVuY3kgc2hvdWxkIGJlIHJlc29sdmVkIGZyb20gY3VycmVudCBkZXBlbmRlbmN5XG4gICAgICogXG4gICAgICogRGVmYXVsdDogLTEgKG9uZSBsYXllciB1cClcbiAgICAgKi9cbiAgICBsYXllck9mZnNldDogbnVtYmVyID0gLTFcbik6IEFfVFlQRVNfX0FfRGVwZW5kZW5jeV9QYXJlbnREZWNvcmF0b3JSZXR1cm4ge1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgICAgdGFyZ2V0OiBBX1RZUEVTX19JbmplY3RhYmxlVGFyZ2V0cyxcbiAgICAgICAgbWV0aG9kTmFtZTogc3RyaW5nIHwgc3ltYm9sIHwgdW5kZWZpbmVkLFxuICAgICAgICBwYXJhbWV0ZXJJbmRleDogbnVtYmVyXG4gICAgKSB7XG4gICAgICAgIC8vIGZvciBFcnJvciBoYW5kbGluZyBwdXJwb3Nlc1xuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gQV9Db21tb25IZWxwZXIuZ2V0Q29tcG9uZW50TmFtZSh0YXJnZXQpXG5cbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNUYXJnZXRBdmFpbGFibGVGb3JJbmplY3Rpb24odGFyZ2V0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfRGVwZW5kZW5jeUVycm9yKFxuICAgICAgICAgICAgICAgIEFfRGVwZW5kZW5jeUVycm9yLkludmFsaWREZXBlbmRlbmN5VGFyZ2V0LFxuICAgICAgICAgICAgICAgIGBBLURlcGVuZGVuY3kgY2Fubm90IGJlIHVzZWQgb24gdGhlIHRhcmdldCBvZiB0eXBlICR7dHlwZW9mIHRhcmdldH0gKCR7Y29tcG9uZW50TmFtZX0pYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRldGVybWluZSB0aGUgbWV0aG9kIG5hbWUgb3IgJ2NvbnN0cnVjdG9yJyBmb3IgY29uc3RydWN0b3IgaW5qZWN0aW9uc1xuICAgICAgICBjb25zdCBtZXRob2QgPSBtZXRob2ROYW1lID8gU3RyaW5nKG1ldGhvZE5hbWUpIDogJ2NvbnN0cnVjdG9yJztcbiAgICAgICAgbGV0IG1ldGFLZXk7XG5cbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudENvbnN0cnVjdG9yKHRhcmdldCkgfHwgQV9UeXBlR3VhcmRzLmlzQ29tcG9uZW50SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEFfVHlwZUd1YXJkcy5pc0NvbnRhaW5lckluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBleGlzdGluZyBtZXRhIG9yIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgY29uc3QgZXhpc3RlZE1ldGEgPSBBX0NvbnRleHQubWV0YSh0YXJnZXQpLmdldChtZXRhS2V5KSB8fCBuZXcgQV9NZXRhKCk7XG4gICAgICAgIC8vIGdldCBleGlzdGluZyBpbmplY3Rpb25zIGZvciB0aGUgbWV0aG9kIG9yIGNyZWF0ZSBhIG5ldyBhcnJheVxuICAgICAgICBjb25zdCBwYXJhbXNBcnJheTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSA9IGV4aXN0ZWRNZXRhLmdldChtZXRob2QpIHx8IFtdO1xuXG4gICAgICAgIC8vIHNldCB0aGUgcGFyYW1ldGVyIGluamVjdGlvbiBpbmZvXG4gICAgICAgIHBhcmFtc0FycmF5W3BhcmFtZXRlckluZGV4XSA9IHtcbiAgICAgICAgICAgIC4uLihwYXJhbXNBcnJheVtwYXJhbWV0ZXJJbmRleF0gfHwge30pLFxuICAgICAgICAgICAgcGFyZW50OiB7IGxheWVyT2Zmc2V0IH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzYXZlIGJhY2sgdGhlIHVwZGF0ZWQgaW5qZWN0aW9ucyBhcnJheVxuICAgICAgICBleGlzdGVkTWV0YS5zZXQobWV0aG9kLCBwYXJhbXNBcnJheSk7XG5cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIG1ldGEgaW5mb1xuICAgICAgICBBX0NvbnRleHRcbiAgICAgICAgICAgIC5tZXRhKHRhcmdldClcbiAgICAgICAgICAgIC5zZXQoXG4gICAgICAgICAgICAgICAgbWV0YUtleSxcbiAgICAgICAgICAgICAgICBleGlzdGVkTWV0YVxuICAgICAgICAgICAgKTtcbiAgICB9XG59IiwgIlxuaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29udGV4dC9BLUNvbnRleHQuY2xhc3NcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRNZXRhS2V5IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtQ29tcG9uZW50L0EtQ29tcG9uZW50LmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29udGFpbmVyTWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRhaW5lci9BLUNvbnRhaW5lci5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9UeXBlR3VhcmRzLmhlbHBlclwiO1xuaW1wb3J0IHsgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSwgQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMgfSBmcm9tIFwiLi4vQS1JbmplY3QvQS1JbmplY3QudHlwZXNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0FfRGVwZW5kZW5jeV9SZXF1aXJlRGVjb3JhdG9yUmV0dXJuIH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LnR5cGVzXCI7XG5pbXBvcnQgeyBBX0RlcGVuZGVuY3lFcnJvciB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS5lcnJvclwiO1xuaW1wb3J0IHsgQV9Db21tb25IZWxwZXIgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfQ29tbW9uLmhlbHBlclwiO1xuXG5cbi8qKlxuICogU2hvdWxkIGluZGljYXRlIHdoaWNoIGRlcGVuZGVuY3kgaXMgcmVxdWlyZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfRGVwZW5kZW5jeV9SZXF1aXJlKCk6IEFfVFlQRVNfX0FfRGVwZW5kZW5jeV9SZXF1aXJlRGVjb3JhdG9yUmV0dXJuIHtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICAgIHRhcmdldDogQV9UWVBFU19fSW5qZWN0YWJsZVRhcmdldHMsXG4gICAgICAgIG1ldGhvZE5hbWU6IHN0cmluZyB8IHN5bWJvbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgcGFyYW1ldGVySW5kZXg6IG51bWJlclxuICAgICkge1xuICAgICAgICAvLyBmb3IgRXJyb3IgaGFuZGxpbmcgcHVycG9zZXNcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IEFfQ29tbW9uSGVscGVyLmdldENvbXBvbmVudE5hbWUodGFyZ2V0KVxuXG4gICAgICAgIGlmICghQV9UeXBlR3VhcmRzLmlzVGFyZ2V0QXZhaWxhYmxlRm9ySW5qZWN0aW9uKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0RlcGVuZGVuY3lFcnJvcihcbiAgICAgICAgICAgICAgICBBX0RlcGVuZGVuY3lFcnJvci5JbnZhbGlkRGVwZW5kZW5jeVRhcmdldCxcbiAgICAgICAgICAgICAgICBgQS1EZXBlbmRlbmN5IGNhbm5vdCBiZSB1c2VkIG9uIHRoZSB0YXJnZXQgb2YgdHlwZSAke3R5cGVvZiB0YXJnZXR9ICgke2NvbXBvbmVudE5hbWV9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIG1ldGhvZCBuYW1lIG9yICdjb25zdHJ1Y3RvcicgZm9yIGNvbnN0cnVjdG9yIGluamVjdGlvbnNcbiAgICAgICAgY29uc3QgbWV0aG9kID0gbWV0aG9kTmFtZSA/IFN0cmluZyhtZXRob2ROYW1lKSA6ICdjb25zdHJ1Y3Rvcic7XG4gICAgICAgIGxldCBtZXRhS2V5O1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3Rvcih0YXJnZXQpIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgbWV0YSBvciBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIGNvbnN0IGV4aXN0ZWRNZXRhID0gQV9Db250ZXh0Lm1ldGEodGFyZ2V0KS5nZXQobWV0YUtleSkgfHwgbmV3IEFfTWV0YSgpO1xuICAgICAgICAvLyBnZXQgZXhpc3RpbmcgaW5qZWN0aW9ucyBmb3IgdGhlIG1ldGhvZCBvciBjcmVhdGUgYSBuZXcgYXJyYXlcbiAgICAgICAgY29uc3QgcGFyYW1zQXJyYXk6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yX01ldGEgPSBleGlzdGVkTWV0YS5nZXQobWV0aG9kKSB8fCBbXTtcblxuICAgICAgICAvLyBzZXQgdGhlIHBhcmFtZXRlciBpbmplY3Rpb24gaW5mb1xuICAgICAgICBwYXJhbXNBcnJheVtwYXJhbWV0ZXJJbmRleF0gPSB7XG4gICAgICAgICAgICAuLi4ocGFyYW1zQXJyYXlbcGFyYW1ldGVySW5kZXhdIHx8IHt9KSxcbiAgICAgICAgICAgIHJlcXVpcmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgICAvLyBzYXZlIGJhY2sgdGhlIHVwZGF0ZWQgaW5qZWN0aW9ucyBhcnJheVxuICAgICAgICBleGlzdGVkTWV0YS5zZXQobWV0aG9kLCBwYXJhbXNBcnJheSk7XG5cbiAgICAgICAgLy8gc2F2ZSBiYWNrIHRoZSB1cGRhdGVkIG1ldGEgaW5mb1xuICAgICAgICBBX0NvbnRleHRcbiAgICAgICAgICAgIC5tZXRhKHRhcmdldClcbiAgICAgICAgICAgIC5zZXQoXG4gICAgICAgICAgICAgICAgbWV0YUtleSxcbiAgICAgICAgICAgICAgICBleGlzdGVkTWV0YVxuICAgICAgICAgICAgKTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfRGVwZW5kZW5jeV9EZWZhdWx0IH0gZnJvbSBcIi4vQS1EZXBlbmRlbmN5LURlZmF1bHQuZGVjb3JhdG9yXCI7XG5pbXBvcnQgeyBBX0RlcGVuZGVuY3lfTG9hZCB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS1Mb2FkLmRlY29yYXRvclwiO1xuaW1wb3J0IHsgQV9EZXBlbmRlbmN5X1BhcmVudCB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS1QYXJlbnQuZGVjb3JhdG9yXCI7XG5pbXBvcnQgeyBBX0RlcGVuZGVuY3lfUmVxdWlyZSB9IGZyb20gXCIuL0EtRGVwZW5kZW5jeS1SZXF1aXJlLmRlY29yYXRvclwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0RlcGVuZGVuY3kge1xuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBpbmRpY2F0ZSB3aGljaCBJbmplY3RlZCBwYXJhbWV0ZXIgaXMgcmVxdWlyZWRcbiAgICAgKiBcbiAgICAgKiBbIV0gSWYgcGFyYW1ldGVyIG1hcmtlZCBhcyByZXF1aXJlZCBpcyBub3QgcHJvdmlkZWQsIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgc3RhdGljIGdldCBSZXF1aXJlZCgpOiB0eXBlb2YgQV9EZXBlbmRlbmN5X1JlcXVpcmUge1xuICAgICAgICByZXR1cm4gQV9EZXBlbmRlbmN5X1JlcXVpcmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBpbmRpY2F0ZSB3aGljaCBkZXBlbmRlbmN5IHNob3VsZCBiZSBsb2FkZWQgZnJvbSBhIHNwZWNpZmljIHBhdGhcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IExvYWRlZCgpOiB0eXBlb2YgQV9EZXBlbmRlbmN5X0xvYWQge1xuICAgICAgICByZXR1cm4gQV9EZXBlbmRlbmN5X0xvYWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBpbmRpY2F0ZSB3aGljaCBkZXBlbmRlbmN5IGRlZmF1bHQgcGFyYW1ldGVycyBzaG91bGQgYmUgdXNlZFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgRGVmYXVsdCgpOiB0eXBlb2YgQV9EZXBlbmRlbmN5X0RlZmF1bHQge1xuICAgICAgICByZXR1cm4gQV9EZXBlbmRlbmN5X0RlZmF1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBpbmRpY2F0ZSB3aGljaCBwYXJlbnQgZGVwZW5kZW5jeSBzaG91bGQgYmUgcmVzb2x2ZWRcbiAgICAgKiBlLmcuIGZyb20gd2hpY2ggbGF5ZXIgdXAgdGhlIHBhcmVudCBzaG91bGQgYmUgdGFrZW5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IFBhcmVudCgpOiB0eXBlb2YgQV9EZXBlbmRlbmN5X1BhcmVudCB7XG4gICAgICAgIHJldHVybiBBX0RlcGVuZGVuY3lfUGFyZW50O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBfbmFtZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQ2xhc3MgaW5zdGFuY2VzIGFsbG93cyB0byBpbmRlbnRpZnkgZGVwZW5kZW5jaWVzIGJ5IG5hbWUgYW5kIHVzZSB0aGVtIGZvciBiZXR0ZXIgdHlwZSBjaGVja2luZ1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBuYW1lIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBuYW1lOiBzdHJpbmdcbiAgICApIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGVwZW5kZW5jeSBuYW1lXG4gICAgICogXG4gICAgICogQ2FuIGJlIGlkZW50aWZpZXIsIHVybCBvciBhbnkgc3RyaW5nIHZhbHVlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRXJyb3IvQV9FcnJvci5jbGFzc1wiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0luamVjdEVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG4gICAgc3RhdGljIHJlYWRvbmx5IEludmFsaWRJbmplY3Rpb25UYXJnZXQgPSAnSW52YWxpZCB0YXJnZXQgZm9yIEEtSW5qZWN0IGRlY29yYXRvcic7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWlzc2luZ0luamVjdGlvblRhcmdldCA9ICdNaXNzaW5nIHRhcmdldCBmb3IgQS1JbmplY3QgZGVjb3JhdG9yJztcbn0iLCAiaW1wb3J0IHtcbiAgICBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25JbnN0cnVjdGlvbnMsXG4gICAgQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfTWV0YSxcbiAgICBBX1RZUEVTX19BX0luamVjdERlY29yYXRvclJldHVybixcbiAgICBBX1RZUEVTX19JbmplY3RhYmxlQ29uc3RydWN0b3JzLFxuICAgIEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzXG59IGZyb20gXCIuL0EtSW5qZWN0LnR5cGVzXCI7XG5pbXBvcnQgeyBBX0NvbXBvbmVudCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9GcmFnbWVudCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUZyYWdtZW50L0EtRnJhZ21lbnQuY2xhc3NcIjtcbmltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbnRleHQvQS1Db250ZXh0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db21wb25lbnQvQS1Db21wb25lbnQudHlwZXNcIjtcbmltcG9ydCB7IEFfTWV0YSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLU1ldGEvQS1NZXRhLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0VudGl0eSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUVudGl0eS9BLUVudGl0eS5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fRmVhdHVyZV9Db25zdHJ1Y3RvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUZlYXR1cmUvQS1GZWF0dXJlLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0NhbGxlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNhbGxlci9BX0NhbGxlci5jbGFzc1wiO1xuaW1wb3J0IHsgQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUNvbXBvbmVudC9BLUNvbXBvbmVudC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1Db250YWluZXIvQS1Db250YWluZXIuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1R5cGVHdWFyZHMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9oZWxwZXJzL0FfVHlwZUd1YXJkcy5oZWxwZXJcIjtcbmltcG9ydCB7IEFfSW5qZWN0RXJyb3IgfSBmcm9tIFwiLi9BLUluamVjdC5lcnJvclwiO1xuaW1wb3J0IHsgQV9UWVBFU19fRW50aXR5X0NvbnN0cnVjdG9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHQvZ2xvYmFsL0EtRW50aXR5L0EtRW50aXR5LnR5cGVzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUZyYWdtZW50L0EtRnJhZ21lbnQudHlwZXNcIjtcbmltcG9ydCB7IEFfU2NvcGUgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdC9nbG9iYWwvQS1TY29wZS9BLVNjb3BlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19TY29wZV9Db25zdHJ1Y3RvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLVNjb3BlL0EtU2NvcGUudHlwZXNcIjtcbmltcG9ydCB7IEFfRmVhdHVyZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2dsb2JhbC9BLUZlYXR1cmUvQS1GZWF0dXJlLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NvbW1vbkhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0L2hlbHBlcnMvQV9Db21tb24uaGVscGVyXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvciB9IGZyb20gXCIuLi9BLUVycm9yL0FfRXJyb3IudHlwZXNcIjtcbmltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiLi4vQS1FcnJvci9BX0Vycm9yLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1RZUEVTX19FbnRpdHlNZXRhS2V5IH0gZnJvbSBcIi4uL0EtRW50aXR5L0EtRW50aXR5LmNvbnN0YW50c1wiO1xuXG5cbi8qKlxuICogQS1JbmplY3QgZGVjb3JhdG9yXG4gKiBcbiAqIFRoaXMgRGVjb3JhdG9yIGFsbG93cyB0byBpbmplY3QgZGVwZW5kZW5jaWVzIGludG8gdGhlIG1vZHVsZSBsaWtlIFxuICogLSBOYW1lc3BhY2VzIFxuICogLSBPdGhlciBDb25jZXB0cyBcbiAqIC0gb3IgbWF5YmUgQ29tcG9uZW50c1xuICogXG4gKiBAcGFyYW0gcGFyYW1zIC0gc2VlIG92ZXJsb2Fkc1xuICogQHJldHVybnMgLSBkZWNvcmF0b3IgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFfSW5qZWN0PFQgZXh0ZW5kcyBBX1Njb3BlPihcbiAgICAvKioqXG4gICAgICogUHJvdmlkZSB0aGUgU2NvcGUgY29uc3RydWN0b3IgdGhhdCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgaW5qZWN0aW9uLlxuICAgICAqXG4gICAgICogWyFdIEl0IHJldHVybnMgYW4gaW5zdGFuY2Ugb2YgdGhlIFNjb3BlIHdoZXJlIHRoZSBFbnRpdHkvQ29tcG9uZW50L0NvbnRhaW5lciBpcyBkZWZpbmVkLlxuICAgICAqL1xuICAgIHNjb3BlOiBBX1RZUEVTX19TY29wZV9Db25zdHJ1Y3RvcjxUPlxuKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JSZXR1cm5cbmV4cG9ydCBmdW5jdGlvbiBBX0luamVjdDxUIGV4dGVuZHMgQV9FcnJvcj4oXG4gICAgLyoqKlxuICAgICAqIFByb3ZpZGUgdGhlIEVycm9yIGNvbnN0cnVjdG9yIHRoYXQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIGluamVjdGlvbi5cbiAgICAgKlxuICAgICAqIFshXSBJdCByZXR1cm5zIGFuIEluc3RhbmNlIG9mIHRoZSBFcnJvciB3aGF0IGlzIGV4ZWN1dGVkLlxuICAgICAqL1xuICAgIGVycm9yOiBBX1RZUEVTX19FcnJvcl9Db25zdHJ1Y3RvcjxUPlxuKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JSZXR1cm5cbmV4cG9ydCBmdW5jdGlvbiBBX0luamVjdDxUIGV4dGVuZHMgQV9GZWF0dXJlPihcbiAgICAvKipcbiAgICAgKiBQcm92aWRlIHRoZSBGZWF0dXJlIGNvbnN0cnVjdG9yIHRoYXQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIGluamVjdGlvbi5cbiAgICAgKiBcbiAgICAgKiBbIV0gSXQgcmV0dXJucyBhbiBJbnN0YW5jZSBvZiB0aGUgRmVhdHVyZSB3aGF0IGlzIGV4ZWN1dGVkLiBcbiAgICAgKi9cbiAgICBmZWF0dXJlOiBBX1RZUEVTX19GZWF0dXJlX0NvbnN0cnVjdG9yPFQ+XG4pOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvclJldHVyblxuZXhwb3J0IGZ1bmN0aW9uIEFfSW5qZWN0PFQgZXh0ZW5kcyBBX0NvbXBvbmVudD4oXG4gICAgLyoqXG4gICAgICogUHJvdmlkZSB0aGUgQ29tcG9uZW50IGNvbnN0cnVjdG9yIHRoYXQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIGluamVjdGlvbi5cbiAgICAgKiBcbiAgICAgKiBbIV0gSXQgcmV0dXJucyBhbiBJbnN0YW5jZSBvZiB0aGUgQ29tcG9uZW50IGZyb20gY3VycmVudCBTY29wZSBvciBmcm9tIFBhcmVudCBTY29wZXMuXG4gICAgICovXG4gICAgY29tcG9uZW50OiBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3I8VD5cbik6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yUmV0dXJuXG4vLyAgQWxsb3dzIHRvIGluamVjdCBqdXN0IG9uZSBBX0ZlYXR1cmVDYWxsZXJcbmV4cG9ydCBmdW5jdGlvbiBBX0luamVjdChcbiAgICAvKipcbiAgICAgKiBQcm92aWRlIHRoZSBBX0NhbGxlciBjb25zdHJ1Y3RvciB0byBpbmplY3QgdGhlIENhbGxlciBpbnN0YW5jZVxuICAgICAqXG4gICAgICogWyFdIEl0IHJldHVybnMgaW5pdGlhdG9yIG9mIHRoZSBjYWxsLCBlLmcuIENvbnRhaW5lci9Db21wb25lbnQvQ29tbWFuZCB3aG8gY2FsbGVkIEZlYXR1cmUgXG4gICAgICovXG4gICAgY2FsbGVyOiB0eXBlb2YgQV9DYWxsZXJcbik6IEFfVFlQRVNfX0FfSW5qZWN0RGVjb3JhdG9yUmV0dXJuXG4vLyBBbGxvd3MgdG8gaW5qZWN0IGp1c3Qgb25lIENvbnRleHQgRnJhZ21lbnRcbmV4cG9ydCBmdW5jdGlvbiBBX0luamVjdDxUIGV4dGVuZHMgQV9GcmFnbWVudD4oXG4gICAgLyoqXG4gICAgICogUHJvdmlkZSB0aGUgRnJhZ21lbnQgY29uc3RydWN0b3IgdG8gaW5qZWN0IHRoZSBGcmFnbWVudCBpbnN0YW5jZVxuICAgICAqXG4gICAgICogWyFdIEl0IHJldHVybnMgdGhlIEZyYWdtZW50IGluc3RhbmNlIGZyb20gY3VycmVudCBTY29wZSBvciBmcm9tIFBhcmVudCBTY29wZXMuXG4gICAgICovXG4gICAgZnJhZ21lbnQ6IEFfVFlQRVNfX0ZyYWdtZW50X0NvbnN0cnVjdG9yPFQ+XG4pOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvclJldHVyblxuZXhwb3J0IGZ1bmN0aW9uIEFfSW5qZWN0PFQgZXh0ZW5kcyBBX0VudGl0eT4oXG4gICAgLyoqXG4gICAgICogUHJvdmlkZSB0aGUgRW50aXR5IGNvbnN0cnVjdG9yIHRvIGluamVjdCB0aGUgRW50aXR5IGluc3RhbmNlXG4gICAgICogXG4gICAgICogWyFdIE5vdGU6IEl0IHJldHVybnMgdGhlIEVudGl0eSBpbnN0YW5jZSBmcm9tIGN1cnJlbnQgU2NvcGUgb3IgZnJvbSBQYXJlbnQgU2NvcGVzLlxuICAgICAqIFshXSBOb3RlOiBJZiBpbnN0YW5jZSBoYXMgbW9yZSB0aGFuIG9uZSBFbnRpdHkgb2YgdGhlIHNhbWUgdHlwZSBJdCByZXR1cm5zIEZJUlNUIGZvdW5kIEVudGl0eVxuICAgICAqIFshXSBOb3RlOiBVc2UgJ2NvbmZpZycgdG8gc3BlY2lmeSB0byBpbmplY3Qgc3BlY2lmaWMgb25lIG9yIGV2ZW4gQXJyYXkgb2YgRW50aXRpZXNcbiAgICAgKi9cbiAgICBlbnRpdHk6IEFfVFlQRVNfX0VudGl0eV9Db25zdHJ1Y3RvcjxUPixcbiAgICAvKipcbiAgICAgKiBQcm92aWRlIGFkZGl0aW9uYWwgaW5zdHJ1Y3Rpb25zIG9uIGhvdyB0byBwZXJmb3JtIHRoZSBpbmplY3Rpb25cbiAgICAgKiBcbiAgICAgKiBbIV0gRGVmYXVsdCBQYWdpbmF0aW9uIGlzIDEgaWYgaXQncyBuZWNlc3NhcnkgdG8gZ2V0IG11bHRpcGxlIEVudGl0aWVzIHBsZWFzZSBjdXN0b21pemUgaXQgaW4gdGhlIGluc3RydWN0aW9uc1xuICAgICAqL1xuICAgIGNvbmZpZz86IFBhcnRpYWw8QV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JfRW50aXR5SW5qZWN0aW9uSW5zdHJ1Y3Rpb25zPFQ+PlxuKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JSZXR1cm48VD5cbmV4cG9ydCBmdW5jdGlvbiBBX0luamVjdDxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgIC8qKlxuICAgICAqIFByb3ZpZGUgdGhlIG5hbWUgb2YgQ29tcG9uZW50IGNvbnN0cnVjdG9yIHRvIGluamVjdCB0aGUgQ29tcG9uZW50IGluc3RhbmNlXG4gICAgICogXG4gICAgICogWyFdIFlvdSBjYW4gdXNlIGJvdGggY3VzdG9taXplZCBvbmUgb3Igb3JpZ2luYWwgZGVwZW5kaW5nIG9uIHlvdXIgb3ZlcnJpZGluZyBzdHJhdGVneVxuICAgICAqL1xuICAgIGN0b3I6IHN0cmluZ1xuKTogQV9UWVBFU19fQV9JbmplY3REZWNvcmF0b3JSZXR1cm5cbmV4cG9ydCBmdW5jdGlvbiBBX0luamVjdChcbiAgICBwYXJhbTE6IEFfVFlQRVNfX0luamVjdGFibGVDb25zdHJ1Y3RvcnMsXG4gICAgcGFyYW0yPzogUGFydGlhbDxBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9FbnRpdHlJbmplY3Rpb25JbnN0cnVjdGlvbnM+XG4pOiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvclJldHVybiB7XG5cbiAgICAvLyAgcHJlIGNhbGwgY2hlY2tzXG4gICAgaWYgKCFwYXJhbTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFfSW5qZWN0RXJyb3IoXG4gICAgICAgICAgICBBX0luamVjdEVycm9yLk1pc3NpbmdJbmplY3Rpb25UYXJnZXQsXG4gICAgICAgICAgICBgQS1JbmplY3QgZGVjb3JhdG9yIGlzIG1pc3NpbmcgdGhlIHRhcmdldCB0byBpbmplY3RgXG4gICAgICAgICk7XG4gICAgfVxuXG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgICB0YXJnZXQ6IEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzLFxuICAgICAgICBtZXRob2ROYW1lOiBzdHJpbmcgfCBzeW1ib2wgfCB1bmRlZmluZWQsXG4gICAgICAgIHBhcmFtZXRlckluZGV4OiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgLy8gZm9yIEVycm9yIGhhbmRsaW5nIHB1cnBvc2VzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBBX0NvbW1vbkhlbHBlci5nZXRDb21wb25lbnROYW1lKHRhcmdldClcblxuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc1RhcmdldEF2YWlsYWJsZUZvckluamVjdGlvbih0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9JbmplY3RFcnJvcihcbiAgICAgICAgICAgICAgICBBX0luamVjdEVycm9yLkludmFsaWRJbmplY3Rpb25UYXJnZXQsXG4gICAgICAgICAgICAgICAgYEEtSW5qZWN0IGNhbm5vdCBiZSB1c2VkIG9uIHRoZSB0YXJnZXQgb2YgdHlwZSAke3R5cGVvZiB0YXJnZXR9ICgke2NvbXBvbmVudE5hbWV9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIG1ldGhvZCBuYW1lIG9yICdjb25zdHJ1Y3RvcicgZm9yIGNvbnN0cnVjdG9yIGluamVjdGlvbnNcbiAgICAgICAgY29uc3QgbWV0aG9kID0gbWV0aG9kTmFtZSA/IFN0cmluZyhtZXRob2ROYW1lKSA6ICdjb25zdHJ1Y3Rvcic7XG4gICAgICAgIGxldCBtZXRhS2V5O1xuXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3Rvcih0YXJnZXQpIHx8IEFfVHlwZUd1YXJkcy5pc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCk6XG4gICAgICAgICAgICAgICAgbWV0YUtleSA9IEFfVFlQRVNfX0NvbXBvbmVudE1ldGFLZXkuSU5KRUNUSU9OUztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBBX1R5cGVHdWFyZHMuaXNDb250YWluZXJJbnN0YW5jZSh0YXJnZXQpOlxuICAgICAgICAgICAgICAgIG1ldGFLZXkgPSBBX1RZUEVTX19Db250YWluZXJNZXRhS2V5LklOSkVDVElPTlM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQV9UeXBlR3VhcmRzLmlzRW50aXR5SW5zdGFuY2UodGFyZ2V0KTpcbiAgICAgICAgICAgICAgICBtZXRhS2V5ID0gQV9UWVBFU19fRW50aXR5TWV0YUtleS5JTkpFQ1RJT05TO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIG1ldGEgb3IgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICBjb25zdCBleGlzdGVkTWV0YSA9IEFfQ29udGV4dC5tZXRhKHRhcmdldCkuZ2V0KG1ldGFLZXkpIHx8IG5ldyBBX01ldGEoKTtcbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIGluamVjdGlvbnMgZm9yIHRoZSBtZXRob2Qgb3IgY3JlYXRlIGEgbmV3IGFycmF5XG4gICAgICAgIGNvbnN0IHBhcmFtc0FycmF5OiBBX1RZUEVTX19BX0luamVjdERlY29yYXRvcl9NZXRhID0gZXhpc3RlZE1ldGEuZ2V0KG1ldGhvZCkgfHwgW107XG5cbiAgICAgICAgLy8gc2V0IHRoZSBwYXJhbWV0ZXIgaW5qZWN0aW9uIGluZm9cbiAgICAgICAgcGFyYW1zQXJyYXlbcGFyYW1ldGVySW5kZXhdID0ge1xuICAgICAgICAgICAgdGFyZ2V0OiBwYXJhbTEsXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6IHBhcmFtMlxuICAgICAgICB9XG4gICAgICAgIC8vIHNhdmUgYmFjayB0aGUgdXBkYXRlZCBpbmplY3Rpb25zIGFycmF5XG4gICAgICAgIGV4aXN0ZWRNZXRhLnNldChtZXRob2QsIHBhcmFtc0FycmF5KTtcblxuICAgICAgICAvLyBzYXZlIGJhY2sgdGhlIHVwZGF0ZWQgbWV0YSBpbmZvXG4gICAgICAgIEFfQ29udGV4dFxuICAgICAgICAgICAgLm1ldGEodGFyZ2V0KVxuICAgICAgICAgICAgLnNldChcbiAgICAgICAgICAgICAgICBtZXRhS2V5LFxuICAgICAgICAgICAgICAgIGV4aXN0ZWRNZXRhXG4gICAgICAgICAgICApO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9GcmFnbWVudCwgQV9NZXRhLCBBX1RZUEVTX19GcmFnbWVudF9TZXJpYWxpemVkIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX0V4ZWN1dGlvbkNvbnRleHQ8XG4gICAgX01ldGFUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgX1NlcmlhbGl6ZWRUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT5cbj4gZXh0ZW5kcyBBX0ZyYWdtZW50IHtcblxuXG4gICAgcHJvdGVjdGVkIF9tZXRhOiBBX01ldGE8X01ldGFUeXBlLCBfU2VyaWFsaXplZFR5cGU+O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgICAgZGVmYXVsdHM/OiBQYXJ0aWFsPF9NZXRhVHlwZT4sXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHsgbmFtZSB9KTtcbiAgICAgICAgdGhpcy5fbWV0YSA9IG5ldyBBX01ldGE8X01ldGFUeXBlLCBfU2VyaWFsaXplZFR5cGU+KCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICAgICAgICAgIHRoaXMuX21ldGEuc2V0KGtleSBhcyBrZXlvZiBfTWV0YVR5cGUsIGRlZmF1bHRzW2tleSBhcyBrZXlvZiBfTWV0YVR5cGVdIGFzIF9NZXRhVHlwZVtrZXlvZiBfTWV0YVR5cGVdKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmF0b3I8W2tleW9mIF9NZXRhVHlwZSwgX01ldGFUeXBlW2tleW9mIF9NZXRhVHlwZV1dPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXRhW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICB9XG5cblxuICAgIGdldCBtZXRhKCk6IEFfTWV0YTxfTWV0YVR5cGU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGE7XG4gICAgfVxuXG5cbiAgICBnZXQ8SyBleHRlbmRzIGtleW9mIF9NZXRhVHlwZT4oa2V5OiBLKTogX01ldGFUeXBlW0tdIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgc2V0PEsgZXh0ZW5kcyBrZXlvZiBfTWV0YVR5cGU+KGtleTogSywgdmFsdWU6IF9NZXRhVHlwZVtLXSk6IHZvaWQge1xuICAgICAgICB0aGlzLl9tZXRhLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICBoYXMoa2V5OiBrZXlvZiBfTWV0YVR5cGUpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuaGFzKGtleSk7XG4gICAgfVxuXG4gICAgZHJvcChrZXk6IGtleW9mIF9NZXRhVHlwZSk6IHZvaWQge1xuICAgICAgICB0aGlzLl9tZXRhLmRlbGV0ZShrZXkpO1xuICAgIH1cblxuICAgIGNsZWFyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9tZXRhLmNsZWFyKCk7XG4gICAgfVxuXG5cbiAgICB0b1JhdygpOiBfU2VyaWFsaXplZFR5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWV0YS50b0pTT04oKTtcbiAgICB9XG5cbiAgICB0b0pTT04oKTogQV9UWVBFU19fRnJhZ21lbnRfU2VyaWFsaXplZCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAuLi50aGlzLm1ldGEudG9KU09OKCksXG4gICAgICAgIH1cbiAgICB9XG59IiwgImltcG9ydCB7IEFfRXJyb3IsIEFfRnJhZ21lbnQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9PcGVyYXRpb25fU2VyaWFsaXplZCwgQV9PcGVyYXRpb25fU3RvcmFnZSB9IGZyb20gXCIuL0EtT3BlcmF0aW9uLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0V4ZWN1dGlvbkNvbnRleHQgfSBmcm9tIFwiLi4vQS1FeGVjdXRpb24vQS1FeGVjdXRpb24uY29udGV4dFwiO1xuXG5leHBvcnQgY2xhc3MgQV9PcGVyYXRpb25Db250ZXh0PFxuICAgIF9BbGxvd2VkT3BlcmF0aW9ucyBleHRlbmRzIHN0cmluZyA9IHN0cmluZyxcbiAgICBfUGFyYW1zVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgIF9SZXN1bHRUeXBlID0gYW55LFxuICAgIF9TdG9yYWdlVHlwZSBleHRlbmRzIEFfT3BlcmF0aW9uX1N0b3JhZ2U8X1Jlc3VsdFR5cGUsIF9QYXJhbXNUeXBlPiA9IEFfT3BlcmF0aW9uX1N0b3JhZ2U8X1Jlc3VsdFR5cGUsIF9QYXJhbXNUeXBlPlxuPiBleHRlbmRzIEFfRXhlY3V0aW9uQ29udGV4dDxcbiAgICBfU3RvcmFnZVR5cGUsXG4gICAgQV9PcGVyYXRpb25fU2VyaWFsaXplZDxfUmVzdWx0VHlwZSwgX1BhcmFtc1R5cGU+XG4+IHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBvcGVyYXRpb246IF9BbGxvd2VkT3BlcmF0aW9ucyxcbiAgICAgICAgcGFyYW1zPzogX1BhcmFtc1R5cGVcbiAgICApIHtcbiAgICAgICAgc3VwZXIoJ29wZXJhdGlvbi1jb250ZXh0Jyk7XG5cbiAgICAgICAgdGhpcy5tZXRhLnNldCgnbmFtZScsIG9wZXJhdGlvbik7XG4gICAgICAgIHRoaXMubWV0YS5zZXQoJ3BhcmFtcycsIHBhcmFtcyB8fCB7fSBhcyBfUGFyYW1zVHlwZSk7XG4gICAgfVxuXG4gICAgZ2V0IG5hbWUoKTogX0FsbG93ZWRPcGVyYXRpb25zIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9tZXRhLmdldCgnbmFtZScpIHx8IHRoaXMuX25hbWUpIGFzIF9BbGxvd2VkT3BlcmF0aW9ucztcbiAgICB9XG5cbiAgICBnZXQgcmVzdWx0KCk6IF9SZXN1bHRUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuZ2V0KCdyZXN1bHQnKTtcbiAgICB9XG5cbiAgICBnZXQgZXJyb3IoKTogQV9FcnJvciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXRhLmdldCgnZXJyb3InKTtcbiAgICB9XG5cbiAgICBnZXQgcGFyYW1zKCk6IF9QYXJhbXNUeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuZ2V0KCdwYXJhbXMnKSB8fCB7fSBhcyBfUGFyYW1zVHlwZTtcbiAgICB9XG5cblxuICAgIGZhaWwoZXJyb3I6IEFfRXJyb3IpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fbWV0YS5zZXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgIH1cblxuICAgIHN1Y2NlZWQocmVzdWx0OiBfUmVzdWx0VHlwZSk6IHZvaWQge1xuICAgICAgICB0aGlzLl9tZXRhLnNldCgncmVzdWx0JywgcmVzdWx0KTtcbiAgICB9XG5cblxuICAgIHRvSlNPTigpOiBBX09wZXJhdGlvbl9TZXJpYWxpemVkPF9SZXN1bHRUeXBlLCBfUGFyYW1zVHlwZT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgcGFyYW1zOiB0aGlzLnBhcmFtcyxcbiAgICAgICAgICAgIHJlc3VsdDogdGhpcy5yZXN1bHQgfHwge30gYXMgX1Jlc3VsdFR5cGUsXG4gICAgICAgICAgICBlcnJvcjogdGhpcy5lcnJvcj8udG9KU09OKCksXG4gICAgICAgIH1cbiAgICB9XG59IiwgImltcG9ydCB7IEFfRXJyb3IsIEFfVHlwZUd1YXJkcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX09wZXJhdGlvbkNvbnRleHQgfSBmcm9tIFwiLi4vQS1PcGVyYXRpb24vQS1PcGVyYXRpb24uY29udGV4dFwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0NoYW5uZWxFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09IEVycm9yIFR5cGVzID09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICAgIHN0YXRpYyByZWFkb25seSBNZXRob2ROb3RJbXBsZW1lbnRlZCA9ICdBLUNoYW5uZWwgTWV0aG9kIE5vdCBJbXBsZW1lbnRlZCc7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT0gUHJvcGVydGllcyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHByb3RlY3RlZCBfY29udGV4dD86IEFfT3BlcmF0aW9uQ29udGV4dFxuXG5cbiAgICAvKipcbiAgICAgKiBDaGFubmVsIEVycm9yIGFsbG93cyB0byBrZWVwIHRyYWNrIG9mIGVycm9ycyB3aXRoaW4gYSBjaGFubmVsIGlmIHNvbWV0aGluZyBnb2VzIHdyb25nXG4gICAgICogXG4gICAgICogXG4gICAgICogQHBhcmFtIG9yaWdpbmFsRXJyb3IgXG4gICAgICogQHBhcmFtIGNvbnRleHQgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIG9yaWdpbmFsRXJyb3I6IHN0cmluZyB8IEFfRXJyb3IgfCBFcnJvciB8IGFueSxcbiAgICAgICAgY29udGV4dD86IEFfT3BlcmF0aW9uQ29udGV4dCB8IHN0cmluZ1xuICAgICkge1xuICAgICAgICBpZiAoQV9UeXBlR3VhcmRzLmlzU3RyaW5nKGNvbnRleHQpKVxuICAgICAgICAgICAgc3VwZXIob3JpZ2luYWxFcnJvciwgY29udGV4dCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN1cGVyKG9yaWdpbmFsRXJyb3IpO1xuXG4gICAgICAgIGlmIChjb250ZXh0IGluc3RhbmNlb2YgQV9PcGVyYXRpb25Db250ZXh0KVxuICAgICAgICAgICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHRcbiAgICB9XG5cbiAgICAvKioqXG4gICAgICogUmV0dXJucyBDb250ZXh0IG9mIHRoZSBlcnJvclxuICAgICAqL1xuICAgIGdldCBjb250ZXh0KCk6IEFfT3BlcmF0aW9uQ29udGV4dCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0XG4gICAgfVxuXG5cbn0iLCAiXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQURBQVMgQS1DaGFubmVsIENvbnN0YW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgZW51bSBBX0NoYW5uZWxGZWF0dXJlcyB7XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCB0aW1lb3V0IGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uVGltZW91dCA9ICdfQV9DaGFubmVsX29uVGltZW91dCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCByZXRyeSBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvblJldHJ5ID0gJ19BX0NoYW5uZWxfb25SZXRyeScsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBjaXJjdWl0IGJyZWFrZXIgbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25DaXJjdWl0QnJlYWtlck9wZW4gPSAnX0FfQ2hhbm5lbF9vbkNpcmN1aXRCcmVha2VyT3BlbicsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBjYWNoZSBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkNhY2hlID0gJ19BX0NoYW5uZWxfb25DYWNoZScsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBjb25uZWN0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uQ29ubmVjdCA9ICdfQV9DaGFubmVsX29uQ29ubmVjdCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBkaXNjb25uZWN0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uRGlzY29ubmVjdCA9ICdfQV9DaGFubmVsX29uRGlzY29ubmVjdCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCByZXF1ZXN0IHByZXBhcmF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uQmVmb3JlUmVxdWVzdCA9ICdfQV9DaGFubmVsX29uQmVmb3JlUmVxdWVzdCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCByZXF1ZXN0IHNlbmRpbmcgbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25SZXF1ZXN0ID0gJ19BX0NoYW5uZWxfb25SZXF1ZXN0JyxcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIHJlcXVlc3QgcG9zdC1wcm9jZXNzaW5nIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uQWZ0ZXJSZXF1ZXN0ID0gJ19BX0NoYW5uZWxfb25BZnRlclJlcXVlc3QnLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgZXJyb3IgaGFuZGxpbmcgbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICogXG4gICAgICogWyFdIFRoZSBzYW1lIGFwcHJvYWNoIHVzZXMgZm9yIEFMTCBlcnJvcnMgd2l0aGluIHRoZSBjaGFubmVsXG4gICAgICovXG4gICAgb25FcnJvciA9ICdfQV9DaGFubmVsX29uRXJyb3InLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgc2VuZCBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvblNlbmQgPSAnX0FfQ2hhbm5lbF9vblNlbmQnLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgY29uc3VtZSBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkNvbnN1bWUgPSAnX0FfQ2hhbm5lbF9vbkNvbnN1bWUnLFxufVxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBBLUNoYW5uZWwgUmVxdWVzdCBDb25zdGFudHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGVudW0gQV9DaGFubmVsUmVxdWVzdFN0YXR1c2VzIHtcbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IGlzIHBlbmRpbmdcbiAgICAgKi9cbiAgICBQRU5ESU5HID0gJ1BFTkRJTkcnLFxuICAgIC8qKipcbiAgICAgKiBSZXF1ZXN0IHdhcyBzdWNjZXNzZnVsXG4gICAgICovXG4gICAgU1VDQ0VTUyA9ICdTVUNDRVNTJyxcbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IGZhaWxlZFxuICAgICAqL1xuICAgIEZBSUxFRCA9ICdGQUlMRUQnLFxufSIsICJpbXBvcnQgeyBBX09wZXJhdGlvbkNvbnRleHQgfSBmcm9tIFwiLi4vQS1PcGVyYXRpb24vQS1PcGVyYXRpb24uY29udGV4dFwiO1xuaW1wb3J0IHsgQV9DaGFubmVsUmVxdWVzdFN0YXR1c2VzIH0gZnJvbSBcIi4vQS1DaGFubmVsLmNvbnN0YW50c1wiO1xuXG5leHBvcnQgY2xhc3MgQV9DaGFubmVsUmVxdWVzdDxcbiAgICBfUGFyYW1zVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgIF9SZXN1bHRUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4+IGV4dGVuZHMgQV9PcGVyYXRpb25Db250ZXh0PFxuICAgICdyZXF1ZXN0JyxcbiAgICBfUGFyYW1zVHlwZSxcbiAgICB7XG4gICAgICAgIGRhdGE/OiBfUmVzdWx0VHlwZTtcbiAgICAgICAgc3RhdHVzPzogQV9DaGFubmVsUmVxdWVzdFN0YXR1c2VzO1xuICAgIH1cbj4ge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBhcmFtcz86IF9QYXJhbXNUeXBlLFxuICAgICkge1xuICAgICAgICBzdXBlcigncmVxdWVzdCcsIHBhcmFtcyk7XG4gICAgfVxuXG5cbiAgICBnZXQgc3RhdHVzKCk6IEFfQ2hhbm5lbFJlcXVlc3RTdGF0dXNlcyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdD8uc3RhdHVzO1xuICAgIH1cblxuICAgIGdldCBkYXRhKCk6IF9SZXN1bHRUeXBlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0Py5kYXRhO1xuICAgIH1cblxuXG4gICAgc3VjY2VlZChyZXN1bHQ6IF9SZXN1bHRUeXBlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGV4aXN0ZWQgPSB0aGlzLnJlc3VsdDtcblxuICAgICAgICBzdXBlci5zdWNjZWVkKHtcbiAgICAgICAgICAgIC4uLmV4aXN0ZWQsXG4gICAgICAgICAgICBkYXRhOiByZXN1bHQsXG4gICAgICAgICAgICBzdGF0dXM6IEFfQ2hhbm5lbFJlcXVlc3RTdGF0dXNlcy5TVUNDRVNTLFxuICAgICAgICB9KTtcbiAgICB9XG5cbn0gICAgIiwgImltcG9ydCB7IEFfQ29tcG9uZW50LCBBX0NvbnRleHQsIEFfRXJyb3IsIEFfRmVhdHVyZSwgQV9JZGVudGl0eUhlbHBlciwgQV9JbmplY3QsIEFfU2NvcGUsIEFfVFlQRVNfX0luamVjdGFibGVDb25zdHJ1Y3RvcnMsIEFfVFlQRVNfX0luamVjdGFibGVUYXJnZXRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfQ2hhbm5lbEVycm9yIH0gZnJvbSBcIi4vQS1DaGFubmVsLmVycm9yXCI7XG5pbXBvcnQgeyBBX0NoYW5uZWxGZWF0dXJlcyB9IGZyb20gXCIuL0EtQ2hhbm5lbC5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfT3BlcmF0aW9uQ29udGV4dCB9IGZyb20gXCIuLi9BLU9wZXJhdGlvbi9BLU9wZXJhdGlvbi5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0NoYW5uZWxSZXF1ZXN0IH0gZnJvbSBcIi4vQS1DaGFubmVsUmVxdWVzdC5jb250ZXh0XCI7XG5cbi8qKlxuICogQS1DaGFubmVsIC0gQSBwb3dlcmZ1bCwgZXh0ZW5zaWJsZSBjb21tdW5pY2F0aW9uIGNoYW5uZWwgY29tcG9uZW50XG4gKiBcbiAqIEEtQ2hhbm5lbCBwcm92aWRlcyBhIHN0cnVjdHVyZWQgYXBwcm9hY2ggdG8gaW1wbGVtZW50aW5nIHZhcmlvdXMgY29tbXVuaWNhdGlvbiBwYXR0ZXJuc1xuICogc3VjaCBhcyBIVFRQIGNsaWVudHMsIFdlYlNvY2tldCBjb25uZWN0aW9ucywgbWVzc2FnZSBxdWV1ZXMsIGFuZCBvdGhlciBtZXNzYWdpbmcgc3lzdGVtcy5cbiAqIEl0IG9mZmVycyBhIGNvbXBsZXRlIGxpZmVjeWNsZSBtYW5hZ2VtZW50IHN5c3RlbSB3aXRoIGV4dGVuc2libGUgaG9va3MgZm9yIGN1c3RvbSBiZWhhdmlvci5cbiAqIFxuICogIyMgS2V5IEZlYXR1cmVzOlxuICogLSDwn5SEICoqTGlmZWN5Y2xlIE1hbmFnZW1lbnQqKiAtIENvbXBsZXRlIGNvbm5lY3Rpb24gYW5kIHByb2Nlc3NpbmcgbGlmZWN5Y2xlIHdpdGggaG9va3NcbiAqIC0g8J+ToSAqKk11bHRpcGxlIENvbW11bmljYXRpb24gUGF0dGVybnMqKiAtIFJlcXVlc3QvUmVzcG9uc2UgYW5kIEZpcmUtYW5kLUZvcmdldCBtZXNzYWdpbmcgIFxuICogLSDwn5uh77iPICoqRXJyb3IgSGFuZGxpbmcqKiAtIENvbXByZWhlbnNpdmUgZXJyb3IgY2FwdHVyZSBhbmQgbWFuYWdlbWVudFxuICogLSDwn46vICoqVHlwZSBTYWZldHkqKiAtIEZ1bGwgVHlwZVNjcmlwdCBzdXBwb3J0IHdpdGggZ2VuZXJpYyB0eXBlc1xuICogLSDwn5SnICoqRXh0ZW5zaWJsZSoqIC0gQ29tcG9uZW50LWJhc2VkIGFyY2hpdGVjdHVyZSBmb3IgY3VzdG9tIGJlaGF2aW9yXG4gKiAtIOKaoSAqKkNvbmN1cnJlbnQgUHJvY2Vzc2luZyoqIC0gSGFuZGxlIG11bHRpcGxlIHJlcXVlc3RzIHNpbXVsdGFuZW91c2x5XG4gKiBcbiAqICMjIEJhc2ljIFVzYWdlOlxuICogYGBgdHlwZXNjcmlwdFxuICogY29uc3QgY2hhbm5lbCA9IG5ldyBBX0NoYW5uZWwoKTtcbiAqIEFfQ29udGV4dC5yb290LnJlZ2lzdGVyKGNoYW5uZWwpO1xuICogXG4gKiAvLyBSZXF1ZXN0L1Jlc3BvbnNlIHBhdHRlcm5cbiAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2hhbm5lbC5yZXF1ZXN0KHsgYWN0aW9uOiAnZ2V0RGF0YScsIGlkOiAxMjMgfSk7XG4gKiBcbiAqIC8vIEZpcmUtYW5kLWZvcmdldCBwYXR0ZXJuICBcbiAqIGF3YWl0IGNoYW5uZWwuc2VuZCh7IHR5cGU6ICdub3RpZmljYXRpb24nLCBtZXNzYWdlOiAnSGVsbG8gV29ybGQnIH0pO1xuICogYGBgXG4gKiBcbiAqICMjIEN1c3RvbSBJbXBsZW1lbnRhdGlvbjpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEh0dHBDaGFubmVsIGV4dGVuZHMgQV9DaGFubmVsIHt9XG4gKiBcbiAqIGNsYXNzIEh0dHBQcm9jZXNzb3IgZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG4gKiAgICAgQEFfRmVhdHVyZS5FeHRlbmQoeyBzY29wZTogW0h0dHBDaGFubmVsXSB9KVxuICogICAgIGFzeW5jIFtBX0NoYW5uZWxGZWF0dXJlcy5vblJlcXVlc3RdKFxuICogICAgICAgICBAQV9JbmplY3QoQV9DaGFubmVsUmVxdWVzdCkgY29udGV4dDogQV9DaGFubmVsUmVxdWVzdFxuICogICAgICkge1xuICogICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbnRleHQucGFyYW1zLnVybCk7XG4gKiAgICAgICAgIChjb250ZXh0IGFzIGFueSkuX3Jlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAqICAgICB9XG4gKiB9XG4gKiBgYGBcbiAqIFxuICogQHNlZSB7QGxpbmsgLi9SRUFETUUubWR9IEZvciBjb21wbGV0ZSBkb2N1bWVudGF0aW9uIGFuZCBleGFtcGxlc1xuICovXG5leHBvcnQgY2xhc3MgQV9DaGFubmVsIGV4dGVuZHMgQV9Db21wb25lbnQge1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGNoYW5uZWwgaXMgY3VycmVudGx5IHByb2Nlc3NpbmcgcmVxdWVzdHMuXG4gICAgICogVGhpcyBmbGFnIGlzIG1hbmFnZWQgYXV0b21hdGljYWxseSBkdXJpbmcgcmVxdWVzdC9zZW5kIG9wZXJhdGlvbnMuXG4gICAgICogXG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9wcm9jZXNzaW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgY2hhbm5lbCBpbml0aWFsaXphdGlvbiBpcyBjb21wbGV0ZS5cbiAgICAgKiBFbnN1cmVzIHRoYXQgb25Db25uZWN0IGxpZmVjeWNsZSBob29rIGhhcyBiZWVuIGV4ZWN1dGVkIGJlZm9yZVxuICAgICAqIGFueSBjb21tdW5pY2F0aW9uIG9wZXJhdGlvbnMuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2luaXRpYWxpemVkPzogUHJvbWlzZTx2b2lkPjtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGNhY2hlIHN0b3JhZ2UgZm9yIGNoYW5uZWwtc3BlY2lmaWMgZGF0YS5cbiAgICAgKiBDYW4gYmUgdXNlZCBieSBjdXN0b20gaW1wbGVtZW50YXRpb25zIGZvciBjYWNoaW5nIHJlc3BvbnNlcyxcbiAgICAgKiBjb25uZWN0aW9uIHBvb2xzLCBvciBvdGhlciBjaGFubmVsLXNwZWNpZmljIHN0YXRlLlxuICAgICAqIFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2NhY2hlOiBNYXA8c3RyaW5nLCBhbnk+ID0gbmV3IE1hcCgpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBBX0NoYW5uZWwgaW5zdGFuY2UuXG4gICAgICogXG4gICAgICogVGhlIGNoYW5uZWwgbXVzdCBiZSByZWdpc3RlcmVkIHdpdGggQV9Db250ZXh0IGJlZm9yZSB1c2U6XG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IGNoYW5uZWwgPSBuZXcgQV9DaGFubmVsKCk7XG4gICAgICogQV9Db250ZXh0LnJvb3QucmVnaXN0ZXIoY2hhbm5lbCk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGNoYW5uZWwgaXMgY3VycmVudGx5IHByb2Nlc3NpbmcgcmVxdWVzdHMuXG4gICAgICogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgY2hhbm5lbCBpcyBwcm9jZXNzaW5nLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBnZXQgcHJvY2Vzc2luZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3Npbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGNoYW5uZWwgaXMgZnVsbHkgaW5pdGlhbGl6ZWQuXG4gICAgICogXG4gICAgICogQXV0b21hdGljYWxseSBjYWxscyB0aGUgb25Db25uZWN0IGxpZmVjeWNsZSBob29rIGlmIG5vdCBhbHJlYWR5IGNhbGxlZC5cbiAgICAgKiBUaGlzIGVuc3VyZXMgdGhlIGNoYW5uZWwgaXMgcmVhZHkgZm9yIGNvbW11bmljYXRpb24gb3BlcmF0aW9ucy5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gaW5pdGlhbGl6YXRpb24gaXMgY29tcGxldGVcbiAgICAgKi9cbiAgICBnZXQgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0aGlzLmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT0gTGlmZWN5Y2xlIEV4dGVuc2lvbiBQb2ludHMgPT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIENvbm5lY3Rpb24gbGlmZWN5Y2xlIGhvb2sgLSBjYWxsZWQgZHVyaW5nIGNoYW5uZWwgaW5pdGlhbGl6YXRpb24uXG4gICAgICogXG4gICAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgaW4gY3VzdG9tIGNvbXBvbmVudHMgdG8gaW1wbGVtZW50IGNvbm5lY3Rpb24gbG9naWM6XG4gICAgICogLSBJbml0aWFsaXplIG5ldHdvcmsgY29ubmVjdGlvbnNcbiAgICAgKiAtIExvYWQgY29uZmlndXJhdGlvblxuICAgICAqIC0gVmFsaWRhdGUgZW52aXJvbm1lbnRcbiAgICAgKiAtIFNldCB1cCBjb25uZWN0aW9uIHBvb2xzXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY2xhc3MgRGF0YWJhc2VDaGFubmVsIGV4dGVuZHMgQV9DaGFubmVsIHt9XG4gICAgICogXG4gICAgICogY2xhc3MgRGF0YWJhc2VDb25uZWN0b3IgZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG4gICAgICogICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHsgc2NvcGU6IFtEYXRhYmFzZUNoYW5uZWxdIH0pXG4gICAgICogICAgIGFzeW5jIFtBX0NoYW5uZWxGZWF0dXJlcy5vbkNvbm5lY3RdKCkge1xuICAgICAqICAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplRGF0YWJhc2UoKTtcbiAgICAgKiAgICAgICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBjaGFubmVsIGNvbm5lY3RlZCcpO1xuICAgICAqICAgICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9DaGFubmVsRmVhdHVyZXMub25Db25uZWN0XG4gICAgfSlcbiAgICBhc3luYyBvbkNvbm5lY3QoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiAtIG5vIG9wZXJhdGlvblxuICAgICAgICAvLyBPdmVycmlkZSBpbiBjdXN0b20gaW1wbGVtZW50YXRpb25zXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdGlvbiBsaWZlY3ljbGUgaG9vayAtIGNhbGxlZCBkdXJpbmcgY2hhbm5lbCBjbGVhbnVwLlxuICAgICAqIFxuICAgICAqIE92ZXJyaWRlIHRoaXMgbWV0aG9kIGluIGN1c3RvbSBjb21wb25lbnRzIHRvIGltcGxlbWVudCBjbGVhbnVwIGxvZ2ljOlxuICAgICAqIC0gQ2xvc2UgbmV0d29yayBjb25uZWN0aW9uc1xuICAgICAqIC0gU2F2ZSBzdGF0ZVxuICAgICAqIC0gUmVsZWFzZSByZXNvdXJjZXNcbiAgICAgKiAtIENsZWFyIGNhY2hlc1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBBX0ZlYXR1cmUuRXh0ZW5kKHsgc2NvcGU6IFtEYXRhYmFzZUNoYW5uZWxdIH0pXG4gICAgICogYXN5bmMgW0FfQ2hhbm5lbEZlYXR1cmVzLm9uRGlzY29ubmVjdF0oKSB7XG4gICAgICogICAgIGF3YWl0IHRoaXMuY2xvc2VDb25uZWN0aW9ucygpO1xuICAgICAqICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY2hhbm5lbCBkaXNjb25uZWN0ZWQnKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBX0NoYW5uZWxGZWF0dXJlcy5vbkRpc2Nvbm5lY3RcbiAgICB9KVxuICAgIGFzeW5jIG9uRGlzY29ubmVjdCguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9uIC0gbm8gb3BlcmF0aW9uXG4gICAgICAgIC8vIE92ZXJyaWRlIGluIGN1c3RvbSBpbXBsZW1lbnRhdGlvbnNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmUtcmVxdWVzdCBwcm9jZXNzaW5nIGhvb2sgLSBjYWxsZWQgYmVmb3JlIG1haW4gcmVxdWVzdCBwcm9jZXNzaW5nLlxuICAgICAqIFxuICAgICAqIFVzZSB0aGlzIGhvb2sgZm9yOlxuICAgICAqIC0gUmVxdWVzdCB2YWxpZGF0aW9uXG4gICAgICogLSBBdXRoZW50aWNhdGlvblxuICAgICAqIC0gUmF0ZSBsaW1pdGluZ1xuICAgICAqIC0gTG9nZ2luZ1xuICAgICAqIC0gUmVxdWVzdCB0cmFuc2Zvcm1hdGlvblxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBBX0ZlYXR1cmUuRXh0ZW5kKHsgc2NvcGU6IFtIdHRwQ2hhbm5lbF0gfSlcbiAgICAgKiBhc3luYyBbQV9DaGFubmVsRmVhdHVyZXMub25CZWZvcmVSZXF1ZXN0XShcbiAgICAgKiAgICAgQEFfSW5qZWN0KEFfQ2hhbm5lbFJlcXVlc3QpIGNvbnRleHQ6IEFfQ2hhbm5lbFJlcXVlc3RcbiAgICAgKiApIHtcbiAgICAgKiAgICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgcGFyYW1ldGVyc1xuICAgICAqICAgICBpZiAoIWNvbnRleHQucGFyYW1zLnVybCkge1xuICAgICAqICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUkwgaXMgcmVxdWlyZWQnKTtcbiAgICAgKiAgICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFfQ2hhbm5lbEZlYXR1cmVzLm9uQmVmb3JlUmVxdWVzdFxuICAgIH0pXG4gICAgYXN5bmMgb25CZWZvcmVSZXF1ZXN0KC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb24gLSBubyBvcGVyYXRpb25cbiAgICAgICAgLy8gT3ZlcnJpZGUgaW4gY3VzdG9tIGltcGxlbWVudGF0aW9uc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1haW4gcmVxdWVzdCBwcm9jZXNzaW5nIGhvb2sgLSBjb3JlIGJ1c2luZXNzIGxvZ2ljIGdvZXMgaGVyZS5cbiAgICAgKiBcbiAgICAgKiBUaGlzIGlzIHdoZXJlIHRoZSBtYWluIGNvbW11bmljYXRpb24gbG9naWMgc2hvdWxkIGJlIGltcGxlbWVudGVkOlxuICAgICAqIC0gTWFrZSBIVFRQIHJlcXVlc3RzXG4gICAgICogLSBTZW5kIG1lc3NhZ2VzIHRvIHF1ZXVlc1xuICAgICAqIC0gRXhlY3V0ZSBkYXRhYmFzZSBxdWVyaWVzXG4gICAgICogLSBQcm9jZXNzIGJ1c2luZXNzIGxvZ2ljXG4gICAgICogXG4gICAgICogU2V0IHRoZSByZXN1bHQgaW4gdGhlIGNvbnRleHQ6IGAoY29udGV4dCBhcyBhbnkpLl9yZXN1bHQgPSB5b3VyUmVzdWx0O2BcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBAQV9GZWF0dXJlLkV4dGVuZCh7IHNjb3BlOiBbSHR0cENoYW5uZWxdIH0pXG4gICAgICogYXN5bmMgW0FfQ2hhbm5lbEZlYXR1cmVzLm9uUmVxdWVzdF0oXG4gICAgICogICAgIEBBX0luamVjdChBX0NoYW5uZWxSZXF1ZXN0KSBjb250ZXh0OiBBX0NoYW5uZWxSZXF1ZXN0XG4gICAgICogKSB7XG4gICAgICogICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29udGV4dC5wYXJhbXMudXJsKTtcbiAgICAgKiAgICAgKGNvbnRleHQgYXMgYW55KS5fcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFfQ2hhbm5lbEZlYXR1cmVzLm9uUmVxdWVzdFxuICAgIH0pXG4gICAgYXN5bmMgb25SZXF1ZXN0KC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb24gLSBubyBvcGVyYXRpb25cbiAgICAgICAgLy8gT3ZlcnJpZGUgaW4gY3VzdG9tIGltcGxlbWVudGF0aW9uc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBvc3QtcmVxdWVzdCBwcm9jZXNzaW5nIGhvb2sgLSBjYWxsZWQgYWZ0ZXIgc3VjY2Vzc2Z1bCByZXF1ZXN0IHByb2Nlc3NpbmcuXG4gICAgICogXG4gICAgICogVXNlIHRoaXMgaG9vayBmb3I6XG4gICAgICogLSBSZXNwb25zZSB0cmFuc2Zvcm1hdGlvblxuICAgICAqIC0gTG9nZ2luZ1xuICAgICAqIC0gQW5hbHl0aWNzXG4gICAgICogLSBDYWNoaW5nIHJlc3VsdHNcbiAgICAgKiAtIENsZWFudXBcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBAQV9GZWF0dXJlLkV4dGVuZCh7IHNjb3BlOiBbSHR0cENoYW5uZWxdIH0pXG4gICAgICogYXN5bmMgW0FfQ2hhbm5lbEZlYXR1cmVzLm9uQWZ0ZXJSZXF1ZXN0XShcbiAgICAgKiAgICAgQEFfSW5qZWN0KEFfQ2hhbm5lbFJlcXVlc3QpIGNvbnRleHQ6IEFfQ2hhbm5lbFJlcXVlc3RcbiAgICAgKiApIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYFJlcXVlc3QgY29tcGxldGVkIGluICR7RGF0ZS5ub3coKSAtIGNvbnRleHQuc3RhcnRUaW1lfW1zYCk7XG4gICAgICogICAgIGF3YWl0IHRoaXMuY2FjaGVSZXNwb25zZShjb250ZXh0LnBhcmFtcywgY29udGV4dC5kYXRhKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBuYW1lOiBBX0NoYW5uZWxGZWF0dXJlcy5vbkFmdGVyUmVxdWVzdFxuICAgIH0pXG4gICAgYXN5bmMgb25BZnRlclJlcXVlc3QoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiAtIG5vIG9wZXJhdGlvblxuICAgICAgICAvLyBPdmVycmlkZSBpbiBjdXN0b20gaW1wbGVtZW50YXRpb25zXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgaGFuZGxpbmcgaG9vayAtIGNhbGxlZCB3aGVuIGFueSBvcGVyYXRpb24gZmFpbHMuXG4gICAgICogXG4gICAgICogVXNlIHRoaXMgaG9vayBmb3I6XG4gICAgICogLSBFcnJvciBsb2dnaW5nXG4gICAgICogLSBFcnJvciB0cmFuc2Zvcm1hdGlvblxuICAgICAqIC0gQWxlcnRpbmdcbiAgICAgKiAtIFJldHJ5IGxvZ2ljXG4gICAgICogLSBGYWxsYmFjayBtZWNoYW5pc21zXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQEFfRmVhdHVyZS5FeHRlbmQoeyBzY29wZTogW0h0dHBDaGFubmVsXSB9KVxuICAgICAqIGFzeW5jIFtBX0NoYW5uZWxGZWF0dXJlcy5vbkVycm9yXShcbiAgICAgKiAgICAgQEFfSW5qZWN0KEFfQ2hhbm5lbFJlcXVlc3QpIGNvbnRleHQ6IEFfQ2hhbm5lbFJlcXVlc3RcbiAgICAgKiApIHtcbiAgICAgKiAgICAgY29uc29sZS5lcnJvcignUmVxdWVzdCBmYWlsZWQ6JywgY29udGV4dC5wYXJhbXMsIGNvbnRleHQuZmFpbGVkKTtcbiAgICAgKiAgICAgYXdhaXQgdGhpcy5sb2dFcnJvcihjb250ZXh0KTtcbiAgICAgKiAgICAgYXdhaXQgdGhpcy5zZW5kQWxlcnQoY29udGV4dCk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9DaGFubmVsRmVhdHVyZXMub25FcnJvclxuICAgIH0pXG4gICAgYXN5bmMgb25FcnJvciguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9uIC0gbm8gb3BlcmF0aW9uXG4gICAgICAgIC8vIE92ZXJyaWRlIGluIGN1c3RvbSBpbXBsZW1lbnRhdGlvbnNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIG9wZXJhdGlvbiBob29rIC0gY2FsbGVkIGZvciBmaXJlLWFuZC1mb3JnZXQgbWVzc2FnaW5nLlxuICAgICAqIFxuICAgICAqIFVzZSB0aGlzIGhvb2sgZm9yOlxuICAgICAqIC0gTWVzc2FnZSBicm9hZGNhc3RpbmdcbiAgICAgKiAtIEV2ZW50IHB1Ymxpc2hpbmdcbiAgICAgKiAtIE5vdGlmaWNhdGlvbiBzZW5kaW5nXG4gICAgICogLSBRdWV1ZSBvcGVyYXRpb25zXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQEFfRmVhdHVyZS5FeHRlbmQoeyBzY29wZTogW0V2ZW50Q2hhbm5lbF0gfSlcbiAgICAgKiBhc3luYyBbQV9DaGFubmVsRmVhdHVyZXMub25TZW5kXShcbiAgICAgKiAgICAgQEFfSW5qZWN0KEFfQ2hhbm5lbFJlcXVlc3QpIGNvbnRleHQ6IEFfQ2hhbm5lbFJlcXVlc3RcbiAgICAgKiApIHtcbiAgICAgKiAgICAgY29uc3QgeyBldmVudFR5cGUsIHBheWxvYWQgfSA9IGNvbnRleHQucGFyYW1zO1xuICAgICAqICAgICBhd2FpdCB0aGlzLnB1Ymxpc2hFdmVudChldmVudFR5cGUsIHBheWxvYWQpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFfQ2hhbm5lbEZlYXR1cmVzLm9uU2VuZFxuICAgIH0pXG4gICAgYXN5bmMgb25TZW5kKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb24gLSBubyBvcGVyYXRpb25cbiAgICAgICAgLy8gT3ZlcnJpZGUgaW4gY3VzdG9tIGltcGxlbWVudGF0aW9uc1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PSBQdWJsaWMgQVBJIE1ldGhvZHMgPT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBjaGFubmVsIGJ5IGNhbGxpbmcgdGhlIG9uQ29ubmVjdCBsaWZlY3ljbGUgaG9vay5cbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYXV0b21hdGljYWxseSB3aGVuIGFjY2Vzc2luZyB0aGUgYGluaXRpYWxpemVgIHByb3BlcnR5LlxuICAgICAqIFlvdSBjYW4gYWxzbyBjYWxsIGl0IG1hbnVhbGx5IGlmIG5lZWRlZC5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZFxuICAgICAqL1xuICAgIGFzeW5jIGNvbm5lY3QoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX0NoYW5uZWxGZWF0dXJlcy5vbkNvbm5lY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIHRoZSBjaGFubmVsIGJ5IGNhbGxpbmcgdGhlIG9uRGlzY29ubmVjdCBsaWZlY3ljbGUgaG9vay5cbiAgICAgKiBcbiAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gcHJvcGVybHkgY2xlYW51cCByZXNvdXJjZXMgd2hlbiB0aGUgY2hhbm5lbCBpcyBubyBsb25nZXIgbmVlZGVkLlxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBjbGVhbnVwIGlzIGNvbXBsZXRlXG4gICAgICovXG4gICAgYXN5bmMgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ2hhbm5lbEZlYXR1cmVzLm9uRGlzY29ubmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZHMgYSByZXF1ZXN0IGFuZCB3YWl0cyBmb3IgYSByZXNwb25zZSAoUmVxdWVzdC9SZXNwb25zZSBwYXR0ZXJuKS5cbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBmb2xsb3dzIHRoZSBjb21wbGV0ZSByZXF1ZXN0IGxpZmVjeWNsZTpcbiAgICAgKiAxLiBFbnN1cmVzIGNoYW5uZWwgaXMgaW5pdGlhbGl6ZWRcbiAgICAgKiAyLiBDcmVhdGVzIHJlcXVlc3Qgc2NvcGUgYW5kIGNvbnRleHRcbiAgICAgKiAzLiBDYWxscyBvbkJlZm9yZVJlcXVlc3QgaG9va1xuICAgICAqIDQuIENhbGxzIG9uUmVxdWVzdCBob29rIChtYWluIHByb2Nlc3NpbmcpXG4gICAgICogNS4gQ2FsbHMgb25BZnRlclJlcXVlc3QgaG9va1xuICAgICAqIDYuIFJldHVybnMgdGhlIHJlc3BvbnNlIGNvbnRleHRcbiAgICAgKiBcbiAgICAgKiBJZiBhbnkgc3RlcCBmYWlscywgdGhlIG9uRXJyb3IgaG9vayBpcyBjYWxsZWQgYW5kIHRoZSBlcnJvciBpcyBjYXB0dXJlZFxuICAgICAqIGluIHRoZSByZXR1cm5lZCBjb250ZXh0LlxuICAgICAqIFxuICAgICAqIEB0ZW1wbGF0ZSBfUGFyYW1zVHlwZSBUaGUgdHlwZSBvZiByZXF1ZXN0IHBhcmFtZXRlcnNcbiAgICAgKiBAdGVtcGxhdGUgX1Jlc3VsdFR5cGUgVGhlIHR5cGUgb2YgcmVzcG9uc2UgZGF0YVxuICAgICAqIEBwYXJhbSBwYXJhbXMgVGhlIHJlcXVlc3QgcGFyYW1ldGVyc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFfQ2hhbm5lbFJlcXVlc3Q8X1BhcmFtc1R5cGUsIF9SZXN1bHRUeXBlPj59IFJlcXVlc3QgY29udGV4dCB3aXRoIHJlc3BvbnNlXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogLy8gQmFzaWMgdXNhZ2VcbiAgICAgKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNoYW5uZWwucmVxdWVzdCh7IGFjdGlvbjogJ2dldERhdGEnLCBpZDogMTIzIH0pO1xuICAgICAqIFxuICAgICAqIC8vIFR5cGVkIHVzYWdlXG4gICAgICogaW50ZXJmYWNlIFVzZXJSZXF1ZXN0IHsgdXNlcklkOiBzdHJpbmc7IH1cbiAgICAgKiBpbnRlcmZhY2UgVXNlclJlc3BvbnNlIHsgbmFtZTogc3RyaW5nOyBlbWFpbDogc3RyaW5nOyB9XG4gICAgICogXG4gICAgICogY29uc3QgdXNlclJlc3BvbnNlID0gYXdhaXQgY2hhbm5lbC5yZXF1ZXN0PFVzZXJSZXF1ZXN0LCBVc2VyUmVzcG9uc2U+KHtcbiAgICAgKiAgICAgdXNlcklkOiAndXNlci0xMjMnXG4gICAgICogfSk7XG4gICAgICogXG4gICAgICogaWYgKCF1c2VyUmVzcG9uc2UuZmFpbGVkKSB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdVc2VyOicsIHVzZXJSZXNwb25zZS5kYXRhLm5hbWUpO1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBhc3luYyByZXF1ZXN0PFxuICAgICAgICBfUGFyYW1zVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgICAgICBfUmVzdWx0VHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgID4ocGFyYW1zOiBfUGFyYW1zVHlwZSk6IFByb21pc2U8QV9DaGFubmVsUmVxdWVzdDxfUGFyYW1zVHlwZSwgX1Jlc3VsdFR5cGU+PiB7XG4gICAgICAgIC8vIEVuc3VyZSBjaGFubmVsIGlzIGluaXRpYWxpemVkIGJlZm9yZSBwcm9jZXNzaW5nXG4gICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZTtcblxuICAgICAgICAvLyBTZXQgcHJvY2Vzc2luZyBmbGFnXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSB0cnVlO1xuXG4gICAgICAgIC8vIENyZWF0ZSBpc29sYXRlZCBzY29wZSBmb3IgdGhpcyByZXF1ZXN0XG4gICAgICAgIGNvbnN0IHJlcXVlc3RTY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6IGBhLWNoYW5uZWxAc2NvcGU6cmVxdWVzdDoke0FfSWRlbnRpdHlIZWxwZXIuZ2VuZXJhdGVUaW1lSWQoKX1gXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG4gICAgICAgIC8vIENyZWF0ZSByZXF1ZXN0IGNvbnRleHRcbiAgICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBBX0NoYW5uZWxSZXF1ZXN0PF9QYXJhbXNUeXBlLCBfUmVzdWx0VHlwZT4ocGFyYW1zKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gU2V0IHVwIGRlcGVuZGVuY3kgaW5qZWN0aW9uIHNjb3BlXG4gICAgICAgICAgICByZXF1ZXN0U2NvcGUucmVnaXN0ZXIoY29udGV4dCk7XG5cbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgcmVxdWVzdCBsaWZlY3ljbGVcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX0NoYW5uZWxGZWF0dXJlcy5vbkJlZm9yZVJlcXVlc3QsIHJlcXVlc3RTY29wZSk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9DaGFubmVsRmVhdHVyZXMub25SZXF1ZXN0LCByZXF1ZXN0U2NvcGUpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ2hhbm5lbEZlYXR1cmVzLm9uQWZ0ZXJSZXF1ZXN0LCByZXF1ZXN0U2NvcGUpO1xuXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBjaGFubmVsLXNwZWNpZmljIGVycm9yXG4gICAgICAgICAgICBjb25zdCBjaGFubmVsRXJyb3IgPSBuZXcgQV9DaGFubmVsRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgY29udGV4dC5mYWlsKGNoYW5uZWxFcnJvcik7XG4gICAgICAgICAgICByZXF1ZXN0U2NvcGUucmVnaXN0ZXIoY2hhbm5lbEVycm9yKTtcblxuICAgICAgICAgICAgLy8gQ2FsbCBlcnJvciBoYW5kbGluZyBob29rXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9DaGFubmVsRmVhdHVyZXMub25FcnJvciwgcmVxdWVzdFNjb3BlKTtcblxuICAgICAgICAgICAgcmVxdWVzdFNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgY2hhbm5lbEVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBmaXJlLWFuZC1mb3JnZXQgbWVzc2FnZSAoU2VuZCBwYXR0ZXJuKS5cbiAgICAgKiBcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGZvciBvbmUtd2F5IGNvbW11bmljYXRpb24gd2hlcmUgbm8gcmVzcG9uc2UgaXMgZXhwZWN0ZWQ6XG4gICAgICogLSBFdmVudCBicm9hZGNhc3RpbmdcbiAgICAgKiAtIE5vdGlmaWNhdGlvbiBzZW5kaW5nXG4gICAgICogLSBNZXNzYWdlIHF1ZXVpbmdcbiAgICAgKiAtIExvZ2dpbmcgb3BlcmF0aW9uc1xuICAgICAqIFxuICAgICAqIFRoZSBtZXRob2QgZm9sbG93cyB0aGlzIGxpZmVjeWNsZTpcbiAgICAgKiAxLiBFbnN1cmVzIGNoYW5uZWwgaXMgaW5pdGlhbGl6ZWRcbiAgICAgKiAyLiBDcmVhdGVzIHNlbmQgc2NvcGUgYW5kIGNvbnRleHRcbiAgICAgKiAzLiBDYWxscyBvblNlbmQgaG9va1xuICAgICAqIDQuIENvbXBsZXRlcyB3aXRob3V0IHJldHVybmluZyBkYXRhXG4gICAgICogXG4gICAgICogSWYgdGhlIG9wZXJhdGlvbiBmYWlscywgdGhlIG9uRXJyb3IgaG9vayBpcyBjYWxsZWQgYnV0IG5vIGVycm9yIGlzIHRocm93blxuICAgICAqIHRvIHRoZSBjYWxsZXIgKGZpcmUtYW5kLWZvcmdldCBzZW1hbnRpY3MpLlxuICAgICAqIFxuICAgICAqIEB0ZW1wbGF0ZSBfUGFyYW1zVHlwZSBUaGUgdHlwZSBvZiBtZXNzYWdlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBzZW5kXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHNlbmQgaXMgY29tcGxldGVcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiAvLyBTZW5kIG5vdGlmaWNhdGlvblxuICAgICAqIGF3YWl0IGNoYW5uZWwuc2VuZCh7XG4gICAgICogICAgIHR5cGU6ICd1c2VyLmxvZ2luJyxcbiAgICAgKiAgICAgdXNlcklkOiAndXNlci0xMjMnLFxuICAgICAqICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAqIH0pO1xuICAgICAqIFxuICAgICAqIC8vIFNlbmQgdG8gbWVzc2FnZSBxdWV1ZVxuICAgICAqIGF3YWl0IGNoYW5uZWwuc2VuZCh7XG4gICAgICogICAgIHF1ZXVlOiAnZW1haWwtcXVldWUnLFxuICAgICAqICAgICBwYXlsb2FkOiB7XG4gICAgICogICAgICAgICB0bzogJ3VzZXJAZXhhbXBsZS5jb20nLFxuICAgICAqICAgICAgICAgc3ViamVjdDogJ1dlbGNvbWUhJyxcbiAgICAgKiAgICAgICAgIGJvZHk6ICdXZWxjb21lIHRvIG91ciBzZXJ2aWNlISdcbiAgICAgKiAgICAgfVxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGFzeW5jIHNlbmQ8X1BhcmFtc1R5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55Pj4oXG4gICAgICAgIG1lc3NhZ2U6IF9QYXJhbXNUeXBlXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEVuc3VyZSBjaGFubmVsIGlzIGluaXRpYWxpemVkIGJlZm9yZSBwcm9jZXNzaW5nXG4gICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZTtcblxuICAgICAgICAvLyBTZXQgcHJvY2Vzc2luZyBmbGFnXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSB0cnVlO1xuXG4gICAgICAgIC8vIENyZWF0ZSBpc29sYXRlZCBzY29wZSBmb3IgdGhpcyBzZW5kIG9wZXJhdGlvblxuICAgICAgICBjb25zdCByZXF1ZXN0U2NvcGUgPSBuZXcgQV9TY29wZSh7XG4gICAgICAgICAgICBuYW1lOiBgYS1jaGFubmVsQHNjb3BlOnNlbmQ6JHtBX0lkZW50aXR5SGVscGVyLmdlbmVyYXRlVGltZUlkKCl9YFxuICAgICAgICB9KVxuICAgICAgICAgICAgLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuXG4gICAgICAgIC8vIENyZWF0ZSByZXF1ZXN0IGNvbnRleHQgZm9yIHRoZSBtZXNzYWdlXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgQV9PcGVyYXRpb25Db250ZXh0KCdzZW5kJywgbWVzc2FnZSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFNldCB1cCBkZXBlbmRlbmN5IGluamVjdGlvbiBzY29wZVxuICAgICAgICAgICAgcmVxdWVzdFNjb3BlLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcbiAgICAgICAgICAgIHJlcXVlc3RTY29wZS5yZWdpc3Rlcihjb250ZXh0KTtcblxuICAgICAgICAgICAgLy8gRXhlY3V0ZSBzZW5kIG9wZXJhdGlvblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ2hhbm5lbEZlYXR1cmVzLm9uU2VuZCwgcmVxdWVzdFNjb3BlKTtcblxuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc2luZyA9IGZhbHNlO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBjaGFubmVsLXNwZWNpZmljIGVycm9yXG4gICAgICAgICAgICBjb25zdCBjaGFubmVsRXJyb3IgPSBuZXcgQV9DaGFubmVsRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgcmVxdWVzdFNjb3BlLnJlZ2lzdGVyKGNoYW5uZWxFcnJvcik7XG4gICAgICAgICAgICBjb250ZXh0LmZhaWwoY2hhbm5lbEVycm9yKTtcblxuICAgICAgICAgICAgLy8gQ2FsbCBlcnJvciBoYW5kbGluZyBob29rXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9DaGFubmVsRmVhdHVyZXMub25FcnJvciwgcmVxdWVzdFNjb3BlKTtcblxuICAgICAgICAgICAgcmVxdWVzdFNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgLy8gTm90ZTogV2UgZG9uJ3QgcmUtdGhyb3cgdGhlIGVycm9yIGZvciBmaXJlLWFuZC1mb3JnZXQgb3BlcmF0aW9uc1xuICAgICAgICAgICAgLy8gVGhlIGVycm9yIGlzIGhhbmRsZWQgYnkgdGhlIG9uRXJyb3IgaG9va1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGZ1dHVyZSB2ZXJzaW9ucy5cbiAgICAgKiBVc2UgcmVxdWVzdCgpIG9yIHNlbmQoKSBtZXRob2RzIGluc3RlYWQgZGVwZW5kaW5nIG9uIHlvdXIgY29tbXVuaWNhdGlvbiBwYXR0ZXJuLlxuICAgICAqIFxuICAgICAqIEZvciByZXF1ZXN0L3Jlc3BvbnNlIHBhdHRlcm46IFVzZSByZXF1ZXN0KClcbiAgICAgKiBGb3IgZmlyZS1hbmQtZm9yZ2V0IHBhdHRlcm46IFVzZSBzZW5kKClcbiAgICAgKiBGb3IgY29uc3VtZXIgcGF0dGVybnM6IEltcGxlbWVudCBjdXN0b20gY29uc3VtZXIgbG9naWMgdXNpbmcgcmVxdWVzdCgpIGluIGEgbG9vcFxuICAgICAqL1xuICAgIGFzeW5jIGNvbnN1bWU8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+PigpOiBQcm9taXNlPEFfT3BlcmF0aW9uQ29udGV4dDxhbnksIFQ+PiB7XG4gICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZTtcblxuICAgICAgICB0aGlzLl9wcm9jZXNzaW5nID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0U2NvcGUgPSBuZXcgQV9TY29wZSh7IG5hbWU6IGBhLWNoYW5uZWxAc2NvcGU6Y29uc3VtZToke0FfSWRlbnRpdHlIZWxwZXIuZ2VuZXJhdGVUaW1lSWQoKX1gIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBBX09wZXJhdGlvbkNvbnRleHQoJ2NvbnN1bWUnLCB7fSBhcyBUKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVxdWVzdFNjb3BlLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcbiAgICAgICAgICAgIHJlcXVlc3RTY29wZS5yZWdpc3Rlcihjb250ZXh0KTtcblxuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9DaGFubmVsRmVhdHVyZXMub25Db25zdW1lLCByZXF1ZXN0U2NvcGUpO1xuXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0IGFzIEFfT3BlcmF0aW9uQ29udGV4dDxhbnksIFQ+O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3QgY2hhbm5lbEVycm9yID0gbmV3IEFfQ2hhbm5lbEVycm9yKGVycm9yKVxuXG4gICAgICAgICAgICBjb250ZXh0LmZhaWwoY2hhbm5lbEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ2hhbm5lbEZlYXR1cmVzLm9uRXJyb3IsIHJlcXVlc3RTY29wZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0IGFzIEFfT3BlcmF0aW9uQ29udGV4dDxhbnksIFQ+O1xuICAgICAgICB9XG4gICAgfVxuXG59IiwgIi8qKlxuICogQS1Db21tYW5kIFN0YXR1cyBFbnVtZXJhdGlvblxuICogXG4gKiBEZWZpbmVzIGFsbCBwb3NzaWJsZSBzdGF0ZXMgYSBjb21tYW5kIGNhbiBiZSBpbiBkdXJpbmcgaXRzIGxpZmVjeWNsZS5cbiAqIENvbW1hbmRzIHByb2dyZXNzIHRocm91Z2ggdGhlc2Ugc3RhdGVzIGluIGEgc3BlY2lmaWMgb3JkZXI6XG4gKiBDUkVBVEVEIOKGkiBJTklUSUFMSVpFRCDihpIgQ09NUElMRUQg4oaSIEVYRUNVVElORyDihpIgQ09NUExFVEVEL0ZBSUxFRFxuICovXG5leHBvcnQgZW51bSBBX0NvbW1hbmRfU3RhdHVzIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsIHN0YXRlIHdoZW4gY29tbWFuZCBpcyBpbnN0YW50aWF0ZWQgYnV0IG5vdCB5ZXQgcmVhZHkgZm9yIGV4ZWN1dGlvblxuICAgICAqL1xuICAgIENSRUFURUQgPSAnQ1JFQVRFRCcsXG5cbiAgICAvKipcbiAgICAgKiBDb21tYW5kIGhhcyBiZWVuIGluaXRpYWxpemVkIHdpdGggZXhlY3V0aW9uIHNjb3BlIGFuZCBkZXBlbmRlbmNpZXNcbiAgICAgKi9cbiAgICBJTklUSUFMSVpFRCA9ICdJTklUSUFMSVpFRCcsXG5cbiAgICAvKipcbiAgICAgKiBDb21tYW5kIGhhcyBiZWVuIGNvbXBpbGVkIGFuZCBpcyByZWFkeSBmb3IgZXhlY3V0aW9uXG4gICAgICovXG4gICAgQ09NUElMRUQgPSAnQ09NUElMRUQnLFxuXG4gICAgLyoqXG4gICAgICogQ29tbWFuZCBpcyBjdXJyZW50bHkgYmVpbmcgZXhlY3V0ZWRcbiAgICAgKi9cbiAgICBFWEVDVVRJTkcgPSAnRVhFQ1VUSU5HJyxcblxuICAgIC8qKlxuICAgICAqIENvbW1hbmQgaGFzIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlcbiAgICAgKi9cbiAgICBDT01QTEVURUQgPSAnQ09NUExFVEVEJyxcblxuICAgIC8qKlxuICAgICAqIENvbW1hbmQgZXhlY3V0aW9uIGhhcyBmYWlsZWQgd2l0aCBlcnJvcnNcbiAgICAgKi9cbiAgICBGQUlMRUQgPSAnRkFJTEVEJyxcbn1cblxuXG4vKipcbiAqIEEtQ29tbWFuZCBTdGF0ZSBUcmFuc2l0aW9uc1xuICogXG4gKiBEZWZpbmVzIHZhbGlkIHN0YXRlIHRyYW5zaXRpb25zIGZvciBjb21tYW5kIGxpZmVjeWNsZSBtYW5hZ2VtZW50LlxuICogVGhlc2UgdHJhbnNpdGlvbnMgYXJlIHVzZWQgYnkgdGhlIFN0YXRlTWFjaGluZSB0byBlbmZvcmNlIHByb3BlciBjb21tYW5kIGZsb3cuXG4gKi9cbmV4cG9ydCBlbnVtIEFfQ29tbWFuZFRyYW5zaXRpb25zIHtcbiAgICAvKiogVHJhbnNpdGlvbiBmcm9tIENSRUFURUQgdG8gSU5JVElBTElaRUQgc3RhdGUgKi9cbiAgICBDUkVBVEVEX1RPX0lOSVRJQUxJWkVEID0gJ2NyZWF0ZWRfaW5pdGlhbGl6ZWQnLFxuXG4gICAgLyoqIFRyYW5zaXRpb24gZnJvbSBJTklUSUFMSVpFRCB0byBFWEVDVVRJTkcgc3RhdGUgKi9cbiAgICBJTklUSUFMSVpFRF9UT19FWEVDVVRJTkcgPSAnaW5pdGlhbGl6ZWRfZXhlY3V0aW5nJyxcblxuICAgIC8qKiBUcmFuc2l0aW9uIGZyb20gRVhFQ1VUSU5HIHRvIENPTVBMRVRFRCBzdGF0ZSAoc3VjY2VzcyBwYXRoKSAqL1xuICAgIEVYRUNVVElOR19UT19DT01QTEVURUQgPSAnZXhlY3V0aW5nX2NvbXBsZXRlZCcsXG5cbiAgICAvKiogVHJhbnNpdGlvbiBmcm9tIEVYRUNVVElORyB0byBGQUlMRUQgc3RhdGUgKGVycm9yIHBhdGgpICovXG4gICAgRVhFQ1VUSU5HX1RPX0ZBSUxFRCA9ICdleGVjdXRpbmdfZmFpbGVkJyxcbn1cblxuLyoqXG4gKiBBLUNvbW1hbmQgTGlmZWN5Y2xlIEZlYXR1cmVzXG4gKiBcbiAqIERlZmluZXMgZmVhdHVyZSBleHRlbnNpb24gcG9pbnRzIHRoYXQgY29tcG9uZW50cyBjYW4gaW1wbGVtZW50IHRvIGN1c3RvbWl6ZVxuICogY29tbWFuZCBiZWhhdmlvciBhdCBkaWZmZXJlbnQgc3RhZ2VzIG9mIHRoZSBsaWZlY3ljbGUuXG4gKiBcbiAqIENvbXBvbmVudHMgY2FuIHVzZSBAQV9GZWF0dXJlLkV4dGVuZCgpIGRlY29yYXRvciB3aXRoIHRoZXNlIGZlYXR1cmUgbmFtZXNcbiAqIHRvIGluamVjdCBjdXN0b20gbG9naWMgaW50byBjb21tYW5kIGV4ZWN1dGlvbi5cbiAqL1xuZXhwb3J0IGVudW0gQV9Db21tYW5kRmVhdHVyZXMge1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBkdXJpbmcgY29tbWFuZCBpbml0aWFsaXphdGlvbiBwaGFzZVxuICAgICAqIFVzZSB0byBzZXQgdXAgZXhlY3V0aW9uIGVudmlyb25tZW50LCB2YWxpZGF0ZSBwYXJhbWV0ZXJzLCBvciBwcmVwYXJlIHJlc291cmNlc1xuICAgICAqL1xuICAgIG9uSW5pdCA9ICdfQV9Db21tYW5kX29uSW5pdCcsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYmVmb3JlIGNvbW1hbmQgZXhlY3V0aW9uIHN0YXJ0c1xuICAgICAqIFVzZSBmb3IgcHJlLWV4ZWN1dGlvbiB2YWxpZGF0aW9uLCBsb2dnaW5nLCBvciBzZXR1cCB0YXNrc1xuICAgICAqL1xuICAgIG9uQmVmb3JlRXhlY3V0ZSA9ICdfQV9Db21tYW5kX29uQmVmb3JlRXhlY3V0ZScsXG5cbiAgICAvKipcbiAgICAgKiBNYWluIGNvbW1hbmQgZXhlY3V0aW9uIGxvZ2ljXG4gICAgICogQ29yZSBidXNpbmVzcyBsb2dpYyBzaG91bGQgYmUgaW1wbGVtZW50ZWQgaGVyZVxuICAgICAqL1xuICAgIG9uRXhlY3V0ZSA9ICdfQV9Db21tYW5kX29uRXhlY3V0ZScsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgY29tbWFuZCBleGVjdXRpb24gY29tcGxldGVzIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICogVXNlIGZvciBjbGVhbnVwLCBsb2dnaW5nLCBvciBwb3N0LXByb2Nlc3NpbmcgdGFza3NcbiAgICAgKi9cbiAgICBvbkFmdGVyRXhlY3V0ZSA9ICdfQV9Db21tYW5kX29uQWZ0ZXJFeGVjdXRlJyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGNvbW1hbmQgY29tcGxldGVzIHN1Y2Nlc3NmdWxseVxuICAgICAqIFVzZSBmb3Igc3VjY2Vzcy1zcGVjaWZpYyBvcGVyYXRpb25zIGxpa2Ugbm90aWZpY2F0aW9ucyBvciByZXN1bHQgcHJvY2Vzc2luZ1xuICAgICAqL1xuICAgIG9uQ29tcGxldGUgPSAnX0FfQ29tbWFuZF9vbkNvbXBsZXRlJyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGNvbW1hbmQgZXhlY3V0aW9uIGZhaWxzXG4gICAgICogVXNlIGZvciBlcnJvciBoYW5kbGluZywgY2xlYW51cCwgb3IgZmFpbHVyZSBub3RpZmljYXRpb25zXG4gICAgICovXG4gICAgb25GYWlsID0gJ19BX0NvbW1hbmRfb25GYWlsJyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgZXhlY3V0aW9uXG4gICAgICogVXNlIGZvciBlcnJvciBsb2dnaW5nLCB0cmFuc2Zvcm1hdGlvbiwgb3IgcmVjb3ZlcnkgYXR0ZW1wdHNcbiAgICAgKi9cbiAgICBvbkVycm9yID0gJ19BX0NvbW1hbmRfb25FcnJvcicsXG59XG5cblxuZXhwb3J0IGVudW0gQV9Db21tYW5kRXZlbnQge1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCBkdXJpbmcgY29tbWFuZCBpbml0aWFsaXphdGlvbiBwaGFzZVxuICAgICAqIFVzZSB0byBzZXQgdXAgZXhlY3V0aW9uIGVudmlyb25tZW50LCB2YWxpZGF0ZSBwYXJhbWV0ZXJzLCBvciBwcmVwYXJlIHJlc291cmNlc1xuICAgICAqL1xuICAgIG9uSW5pdCA9ICdvbkluaXQnLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIGJlZm9yZSBjb21tYW5kIGV4ZWN1dGlvbiBzdGFydHNcbiAgICAgKiBVc2UgZm9yIHByZS1leGVjdXRpb24gdmFsaWRhdGlvbiwgbG9nZ2luZywgb3Igc2V0dXAgdGFza3NcbiAgICAgKi9cbiAgICBvbkJlZm9yZUV4ZWN1dGUgPSAnb25CZWZvcmVFeGVjdXRlJyxcblxuICAgIC8qKlxuICAgICAqIE1haW4gY29tbWFuZCBleGVjdXRpb24gbG9naWNcbiAgICAgKiBDb3JlIGJ1c2luZXNzIGxvZ2ljIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBoZXJlXG4gICAgICovXG4gICAgb25FeGVjdXRlID0gJ29uRXhlY3V0ZScsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgYWZ0ZXIgY29tbWFuZCBleGVjdXRpb24gY29tcGxldGVzIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICogVXNlIGZvciBjbGVhbnVwLCBsb2dnaW5nLCBvciBwb3N0LXByb2Nlc3NpbmcgdGFza3NcbiAgICAgKi9cbiAgICBvbkFmdGVyRXhlY3V0ZSA9ICdvbkFmdGVyRXhlY3V0ZScsXG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgd2hlbiBjb21tYW5kIGNvbXBsZXRlcyBzdWNjZXNzZnVsbHlcbiAgICAgKiBVc2UgZm9yIHN1Y2Nlc3Mtc3BlY2lmaWMgb3BlcmF0aW9ucyBsaWtlIG5vdGlmaWNhdGlvbnMgb3IgcmVzdWx0IHByb2Nlc3NpbmdcbiAgICAgKi9cbiAgICBvbkNvbXBsZXRlID0gJ29uQ29tcGxldGUnLFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gY29tbWFuZCBleGVjdXRpb24gZmFpbHNcbiAgICAgKiBVc2UgZm9yIGVycm9yIGhhbmRsaW5nLCBjbGVhbnVwLCBvciBmYWlsdXJlIG5vdGlmaWNhdGlvbnNcbiAgICAgKi9cbiAgICBvbkZhaWwgPSAnb25GYWlsJyxcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgZXhlY3V0aW9uXG4gICAgICogVXNlIGZvciBlcnJvciBsb2dnaW5nLCB0cmFuc2Zvcm1hdGlvbiwgb3IgcmVjb3ZlcnkgYXR0ZW1wdHNcbiAgICAgKi9cbiAgICBvbkVycm9yID0gJ29uRXJyb3InLFxufVxuXG4vKipcbiAqIFR5cGUgYWxpYXMgZm9yIGNvbW1hbmQgbGlmZWN5Y2xlIGV2ZW50IG5hbWVzXG4gKiBSZXByZXNlbnRzIGFsbCBhdmFpbGFibGUgZXZlbnRzIHRoYXQgY2FuIGJlIGxpc3RlbmVkIHRvIG9uIGEgY29tbWFuZCBpbnN0YW5jZVxuICovXG5leHBvcnQgdHlwZSBBX0NvbW1hbmRFdmVudHMgPSBrZXlvZiB0eXBlb2YgQV9Db21tYW5kRXZlbnQ7XG5cblxuXG5cblxuIiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX0NvbW1hbmRFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgQ29tbWFuZFNjb3BlQmluZGluZ0Vycm9yID0gJ0EtQ29tbWFuZCBTY29wZSBCaW5kaW5nIEVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBFeGVjdXRpb25FcnJvciA9ICdBLUNvbW1hbmQgRXhlY3V0aW9uIEVycm9yJztcblxuXG4gICAgc3RhdGljIHJlYWRvbmx5IFJlc3VsdFByb2Nlc3NpbmdFcnJvciA9ICdBLUNvbW1hbmQgUmVzdWx0IFByb2Nlc3NpbmcgRXJyb3InO1xuXG5cbiAgICAvKipcbiAgICAgKiBFcnJvciBpbmRpY2F0aW5nIHRoYXQgdGhlIGNvbW1hbmQgd2FzIGludGVycnVwdGVkIGR1cmluZyBleGVjdXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVhZG9ubHkgQ29tbWFuZEludGVycnVwdGVkRXJyb3IgPSAnQS1Db21tYW5kIEludGVycnVwdGVkIEVycm9yJztcbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfU3RhdGVNYWNoaW5lRXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIHN0YXRpYyByZWFkb25seSBJbml0aWFsaXphdGlvbkVycm9yID0gJ0EtU3RhdGVNYWNoaW5lIEluaXRpYWxpemF0aW9uIEVycm9yJztcblxuICAgIHN0YXRpYyByZWFkb25seSBUcmFuc2l0aW9uRXJyb3IgPSAnQS1TdGF0ZU1hY2hpbmUgVHJhbnNpdGlvbiBFcnJvcic7XG4gICAgXG59IiwgImV4cG9ydCBlbnVtIEFfU3RhdGVNYWNoaW5lRmVhdHVyZXMge1xuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgZXJyb3IgaGFuZGxpbmcgbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25FcnJvciA9ICdfQV9TdGF0ZU1hY2hpbmVfb25FcnJvcicsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBpbml0aWFsaXphdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkluaXRpYWxpemUgPSAnX0FfU3RhdGVNYWNoaW5lX29uSW5pdGlhbGl6ZScsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCB0cmFuc2l0aW9uIHZhbGlkYXRpb24gbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25CZWZvcmVUcmFuc2l0aW9uID0gJ19BX1N0YXRlTWFjaGluZV9vbkJlZm9yZVRyYW5zaXRpb24nLFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgcG9zdC10cmFuc2l0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uQWZ0ZXJUcmFuc2l0aW9uID0gJ19BX1N0YXRlTWFjaGluZV9vbkFmdGVyVHJhbnNpdGlvbicsXG59IiwgImltcG9ydCB7IEFfT3BlcmF0aW9uQ29udGV4dCB9IGZyb20gXCIuLi9BLU9wZXJhdGlvbi9BLU9wZXJhdGlvbi5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb25QYXJhbXMsIEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvblN0b3JhZ2UgfSBmcm9tIFwiLi9BLVN0YXRlTWFjaGluZS50eXBlc1wiO1xuXG5cblxuZXhwb3J0IGNsYXNzIEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbjxcbiAgICBfUGFyYW1zVHlwZSA9IGFueSxcbiAgICBfUmVzdWx0VHlwZSA9IGFueVxuPiBleHRlbmRzIEFfT3BlcmF0aW9uQ29udGV4dDxcbiAgICAnYS1zdGF0ZS1tYWNoaW5lLXRyYW5zaXRpb24nLFxuICAgIEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvblBhcmFtczxfUGFyYW1zVHlwZT4sXG4gICAgX1Jlc3VsdFR5cGUsXG4gICAgQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uU3RvcmFnZTxfUmVzdWx0VHlwZSwgX1BhcmFtc1R5cGU+XG4+IHtcblxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBhcmFtczogQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uUGFyYW1zPF9QYXJhbXNUeXBlPlxuICAgICkge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgICdhLXN0YXRlLW1hY2hpbmUtdHJhbnNpdGlvbicsXG4gICAgICAgICAgICBwYXJhbXNcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLl9tZXRhLnNldCgnZnJvbScsIHBhcmFtcy5mcm9tKTtcbiAgICAgICAgdGhpcy5fbWV0YS5zZXQoJ3RvJywgcGFyYW1zLnRvKTtcbiAgICB9XG5cblxuXG4gICAgZ2V0IGZyb20oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuZ2V0KCdmcm9tJykhO1xuICAgIH1cblxuXG5cbiAgICBnZXQgdG8oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGEuZ2V0KCd0bycpITtcbiAgICB9XG5cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQsIEFfQ29udGV4dCwgQV9GZWF0dXJlLCBBX0Zvcm1hdHRlckhlbHBlciwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX1N0YXRlTWFjaGluZUVycm9yIH0gZnJvbSBcIi4vQS1TdGF0ZU1hY2hpbmUuZXJyb3JcIjtcbmltcG9ydCB7IEFfU3RhdGVNYWNoaW5lRmVhdHVyZXMgfSBmcm9tIFwiLi9BLVN0YXRlTWFjaGluZS5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbiB9IGZyb20gXCIuL0EtU3RhdGVNYWNoaW5lVHJhbnNpdGlvbi5jb250ZXh0XCI7XG5cbi8qKlxuICogQV9TdGF0ZU1hY2hpbmUgaXMgYSBwb3dlcmZ1bCBzdGF0ZSBtYWNoaW5lIGltcGxlbWVudGF0aW9uIHRoYXQgYWxsb3dzIHlvdSB0byBkZWZpbmUgYW5kIG1hbmFnZVxuICogY29tcGxleCBzdGF0ZSB0cmFuc2l0aW9ucyB3aXRoIHZhbGlkYXRpb24sIGhvb2tzLCBhbmQgZXJyb3IgaGFuZGxpbmcuXG4gKiBcbiAqIEB0ZW1wbGF0ZSBUIC0gQSByZWNvcmQgdHlwZSBkZWZpbmluZyB0aGUgc3RhdGUgdHJhbnNpdGlvbnMgYW5kIHRoZWlyIGFzc29jaWF0ZWQgZGF0YSB0eXBlcy5cbiAqICAgICAgICAgICAgICAgRWFjaCBrZXkgcmVwcmVzZW50cyBhIHN0YXRlIG5hbWUsIGFuZCB0aGUgdmFsdWUgcmVwcmVzZW50cyB0aGUgZGF0YSB0eXBlIGZvciB0aGF0IHN0YXRlLlxuICogXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogaW50ZXJmYWNlIE9yZGVyU3RhdGVzIHtcbiAqICAgcGVuZGluZzogeyBvcmRlcklkOiBzdHJpbmcgfTtcbiAqICAgcHJvY2Vzc2luZzogeyBvcmRlcklkOiBzdHJpbmc7IHByb2Nlc3NlZEJ5OiBzdHJpbmcgfTtcbiAqICAgY29tcGxldGVkOiB7IG9yZGVySWQ6IHN0cmluZzsgY29tcGxldGVkQXQ6IERhdGUgfTtcbiAqICAgY2FuY2VsbGVkOiB7IG9yZGVySWQ6IHN0cmluZzsgcmVhc29uOiBzdHJpbmcgfTtcbiAqIH1cbiAqIFxuICogY2xhc3MgT3JkZXJTdGF0ZU1hY2hpbmUgZXh0ZW5kcyBBX1N0YXRlTWFjaGluZTxPcmRlclN0YXRlcz4ge1xuICogICAvLyBEZWZpbmUgY3VzdG9tIHRyYW5zaXRpb24gbG9naWNcbiAqICAgYXN5bmMgcGVuZGluZ19wcm9jZXNzaW5nKHNjb3BlOiBBX1Njb3BlKSB7XG4gKiAgICAgY29uc3Qgb3BlcmF0aW9uID0gc2NvcGUucmVzb2x2ZShBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24pITtcbiAqICAgICBjb25zdCB7IG9yZGVySWQgfSA9IG9wZXJhdGlvbi5wcm9wcztcbiAqICAgICAvLyBDdXN0b20gdmFsaWRhdGlvbiBhbmQgYnVzaW5lc3MgbG9naWNcbiAqICAgfVxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBBX1N0YXRlTWFjaGluZTxcbiAgICBUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT5cbj4gZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBwcm9taXNlIHRoYXQgdHJhY2tzIHRoZSBpbml0aWFsaXphdGlvbiBzdGF0ZSBvZiB0aGUgc3RhdGUgbWFjaGluZS5cbiAgICAgKiBVc2VkIHRvIGVuc3VyZSB0aGUgc3RhdGUgbWFjaGluZSBpcyBwcm9wZXJseSBpbml0aWFsaXplZCBiZWZvcmUgYWxsb3dpbmcgdHJhbnNpdGlvbnMuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9pbml0aWFsaXplZD86IFByb21pc2U8dm9pZD47XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHN0YXRlIG1hY2hpbmUgaXMgZnVsbHkgaW5pdGlhbGl6ZWQgYW5kIHJlYWR5IGZvciB0cmFuc2l0aW9ucy5cbiAgICAgKiBUaGlzIGVuc3VyZXMgdGhhdCBhbGwgaW5pdGlhbGl6YXRpb24gaG9va3MgaGF2ZSBiZWVuIGV4ZWN1dGVkIGJlZm9yZSBhbGxvd2luZyBzdGF0ZSB0cmFuc2l0aW9ucy5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPHZvaWQ+IHRoYXQgcmVzb2x2ZXMgd2hlbiBpbml0aWFsaXphdGlvbiBpcyBjb21wbGV0ZVxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IHN0YXRlTWFjaGluZSA9IG5ldyBNeVN0YXRlTWFjaGluZSgpO1xuICAgICAqIGF3YWl0IHN0YXRlTWFjaGluZS5yZWFkeTsgLy8gV2FpdCBmb3IgaW5pdGlhbGl6YXRpb25cbiAgICAgKiBhd2FpdCBzdGF0ZU1hY2hpbmUudHJhbnNpdGlvbignaWRsZScsICdydW5uaW5nJyk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0IHJlYWR5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRoaXMuY2FsbChBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uSW5pdGlhbGl6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemF0aW9uIGhvb2sgdGhhdCBydW5zIHdoZW4gdGhlIHN0YXRlIG1hY2hpbmUgaXMgZmlyc3QgY3JlYXRlZC5cbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgZXh0ZW5kZWQgdG8gYWRkIGN1c3RvbSBpbml0aWFsaXphdGlvbiBsb2dpYy5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gYXJncyAtIFZhcmlhYmxlIGFyZ3VtZW50cyBwYXNzZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgICogQHJldHVybnMgUHJvbWlzZTx2b2lkPlxuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNsYXNzIE15U3RhdGVNYWNoaW5lIGV4dGVuZHMgQV9TdGF0ZU1hY2hpbmUge1xuICAgICAqICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgICAqICAgYXN5bmMgW0FfU3RhdGVNYWNoaW5lRmVhdHVyZXMub25Jbml0aWFsaXplXSgpIHtcbiAgICAgKiAgICAgLy8gQ3VzdG9tIGluaXRpYWxpemF0aW9uIGxvZ2ljXG4gICAgICogICAgIGNvbnNvbGUubG9nKCdTdGF0ZSBtYWNoaW5lIGluaXRpYWxpemVkJyk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBhc3luYyBbQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcy5vbkluaXRpYWxpemVdKC4uLmFyZ3M6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEluaXRpYWxpemF0aW9uIGxvZ2ljIGNhbiBiZSBhZGRlZCBoZXJlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSG9vayB0aGF0IHJ1bnMgYmVmb3JlIGFueSBzdGF0ZSB0cmFuc2l0aW9uIG9jY3Vycy5cbiAgICAgKiBVc2UgdGhpcyB0byBhZGQgdmFsaWRhdGlvbiwgbG9nZ2luZywgb3IgcHJlcGFyYXRpb24gbG9naWMgdGhhdCBzaG91bGQgcnVuIGZvciBhbGwgdHJhbnNpdGlvbnMuXG4gICAgICogXG4gICAgICogQHBhcmFtIGFyZ3MgLSBWYXJpYWJsZSBhcmd1bWVudHMsIHR5cGljYWxseSBpbmNsdWRlcyB0aGUgdHJhbnNpdGlvbiBzY29wZVxuICAgICAqIEByZXR1cm5zIFByb21pc2U8dm9pZD5cbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBNeVN0YXRlTWFjaGluZSBleHRlbmRzIEFfU3RhdGVNYWNoaW5lIHtcbiAgICAgKiAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAgKiAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQmVmb3JlVHJhbnNpdGlvbl0oc2NvcGU6IEFfU2NvcGUpIHtcbiAgICAgKiAgICAgY29uc3Qgb3BlcmF0aW9uID0gc2NvcGUucmVzb2x2ZShBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24pITtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYFRyYW5zaXRpb25pbmcgZnJvbSAke29wZXJhdGlvbi5wcm9wcy5mcm9tfSB0byAke29wZXJhdGlvbi5wcm9wcy50b31gKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQmVmb3JlVHJhbnNpdGlvbl0oLi4uYXJnczogYW55W10pOiBQcm9taXNlPHZvaWQ+IHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhvb2sgdGhhdCBydW5zIGFmdGVyIGEgc3VjY2Vzc2Z1bCBzdGF0ZSB0cmFuc2l0aW9uLlxuICAgICAqIFVzZSB0aGlzIHRvIGFkZCBjbGVhbnVwLCBsb2dnaW5nLCBvciBwb3N0LXRyYW5zaXRpb24gbG9naWMgdGhhdCBzaG91bGQgcnVuIGZvciBhbGwgdHJhbnNpdGlvbnMuXG4gICAgICogXG4gICAgICogQHBhcmFtIGFyZ3MgLSBWYXJpYWJsZSBhcmd1bWVudHMsIHR5cGljYWxseSBpbmNsdWRlcyB0aGUgdHJhbnNpdGlvbiBzY29wZVxuICAgICAqIEByZXR1cm5zIFByb21pc2U8dm9pZD5cbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBNeVN0YXRlTWFjaGluZSBleHRlbmRzIEFfU3RhdGVNYWNoaW5lIHtcbiAgICAgKiAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAgKiAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQWZ0ZXJUcmFuc2l0aW9uXShzY29wZTogQV9TY29wZSkge1xuICAgICAqICAgICBjb25zdCBvcGVyYXRpb24gPSBzY29wZS5yZXNvbHZlKEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbikhO1xuICAgICAqICAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IHRyYW5zaXRpb25lZCB0byAke29wZXJhdGlvbi5wcm9wcy50b31gKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQWZ0ZXJUcmFuc2l0aW9uXSguLi5hcmdzOiBhbnlbXSk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXJyb3IgaGFuZGxpbmcgaG9vayB0aGF0IHJ1bnMgd2hlbiBhIHRyYW5zaXRpb24gZmFpbHMuXG4gICAgICogVXNlIHRoaXMgdG8gYWRkIGN1c3RvbSBlcnJvciBoYW5kbGluZywgbG9nZ2luZywgb3IgcmVjb3ZlcnkgbG9naWMuXG4gICAgICogXG4gICAgICogQHBhcmFtIGFyZ3MgLSBWYXJpYWJsZSBhcmd1bWVudHMsIHR5cGljYWxseSBpbmNsdWRlcyB0aGUgZXJyb3Igc2NvcGVcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPHZvaWQ+XG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY2xhc3MgTXlTdGF0ZU1hY2hpbmUgZXh0ZW5kcyBBX1N0YXRlTWFjaGluZSB7XG4gICAgICogICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgICogICBhc3luYyBbQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcy5vbkVycm9yXShzY29wZTogQV9TY29wZSkge1xuICAgICAqICAgICBjb25zdCBlcnJvciA9IHNjb3BlLnJlc29sdmUoQV9TdGF0ZU1hY2hpbmVFcnJvcik7XG4gICAgICogICAgIGNvbnNvbGUuZXJyb3IoJ1RyYW5zaXRpb24gZmFpbGVkOicsIGVycm9yPy5tZXNzYWdlKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIGFzeW5jIFtBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uRXJyb3JdKC4uLmFyZ3M6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIERlZmF1bHQgZXJyb3IgaGFuZGxpbmcgbG9naWMgY2FuIGJlIGFkZGVkIGhlcmVcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgYSBzdGF0ZSB0cmFuc2l0aW9uIGZyb20gb25lIHN0YXRlIHRvIGFub3RoZXIuXG4gICAgICogVGhpcyBpcyB0aGUgY29yZSBtZXRob2Qgb2YgdGhlIHN0YXRlIG1hY2hpbmUgdGhhdCBoYW5kbGVzIHRoZSBjb21wbGV0ZSB0cmFuc2l0aW9uIGxpZmVjeWNsZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZnJvbSAtIFRoZSBzdGF0ZSB0byB0cmFuc2l0aW9uIGZyb20gKG11c3QgYmUgYSBrZXkgb2YgVClcbiAgICAgKiBAcGFyYW0gdG8gLSBUaGUgc3RhdGUgdG8gdHJhbnNpdGlvbiB0byAobXVzdCBiZSBhIGtleSBvZiBUKVxuICAgICAqIEBwYXJhbSBwcm9wcyAtIE9wdGlvbmFsIHByb3BlcnRpZXMgdG8gcGFzcyB0byB0aGUgdHJhbnNpdGlvbiBjb250ZXh0IChzaG91bGQgbWF0Y2ggVFtrZXlvZiBUXSlcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlPHZvaWQ+IHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgdHJhbnNpdGlvbiBpcyBjb21wbGV0ZVxuICAgICAqIFxuICAgICAqIEB0aHJvd3Mge0FfU3RhdGVNYWNoaW5lRXJyb3J9IFdoZW4gdGhlIHRyYW5zaXRpb24gZmFpbHMgZm9yIGFueSByZWFzb25cbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBpbnRlcmZhY2UgT3JkZXJTdGF0ZXMge1xuICAgICAqICAgcGVuZGluZzogeyBvcmRlcklkOiBzdHJpbmcgfTtcbiAgICAgKiAgIHByb2Nlc3Npbmc6IHsgb3JkZXJJZDogc3RyaW5nOyBwcm9jZXNzZWRCeTogc3RyaW5nIH07XG4gICAgICogfVxuICAgICAqIFxuICAgICAqIGNvbnN0IG9yZGVyTWFjaGluZSA9IG5ldyBBX1N0YXRlTWFjaGluZTxPcmRlclN0YXRlcz4oKTtcbiAgICAgKiBcbiAgICAgKiAvLyBUcmFuc2l0aW9uIHdpdGggcHJvcHNcbiAgICAgKiBhd2FpdCBvcmRlck1hY2hpbmUudHJhbnNpdGlvbigncGVuZGluZycsICdwcm9jZXNzaW5nJywge1xuICAgICAqICAgb3JkZXJJZDogJzEyMzQ1JyxcbiAgICAgKiAgIHByb2Nlc3NlZEJ5OiAndXNlci00NTYnXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICogXG4gICAgICogVGhlIHRyYW5zaXRpb24gcHJvY2VzcyBmb2xsb3dzIHRoaXMgbGlmZWN5Y2xlOlxuICAgICAqIDEuIFdhaXQgZm9yIHN0YXRlIG1hY2hpbmUgaW5pdGlhbGl6YXRpb24gKHJlYWR5KVxuICAgICAqIDIuIENyZWF0ZSB0cmFuc2l0aW9uIG5hbWUgaW4gY2FtZWxDYXNlIGZvcm1hdCAoZS5nLiwgXCJwZW5kaW5nX3Byb2Nlc3NpbmdcIilcbiAgICAgKiAzLiBDcmVhdGUgb3BlcmF0aW9uIGNvbnRleHQgd2l0aCB0cmFuc2l0aW9uIGRhdGFcbiAgICAgKiA0LiBDcmVhdGUgaXNvbGF0ZWQgc2NvcGUgZm9yIHRoZSB0cmFuc2l0aW9uXG4gICAgICogNS4gQ2FsbCBvbkJlZm9yZVRyYW5zaXRpb24gaG9va1xuICAgICAqIDYuIEV4ZWN1dGUgdGhlIHNwZWNpZmljIHRyYW5zaXRpb24gbWV0aG9kIChpZiBkZWZpbmVkKVxuICAgICAqIDcuIENhbGwgb25BZnRlclRyYW5zaXRpb24gaG9va1xuICAgICAqIDguIENsZWFuIHVwIHNjb3BlIGFuZCByZXR1cm4gcmVzdWx0XG4gICAgICogXG4gICAgICogSWYgYW55IHN0ZXAgZmFpbHMsIHRoZSBvbkVycm9yIGhvb2sgaXMgY2FsbGVkIGFuZCBhIHdyYXBwZWQgZXJyb3IgaXMgdGhyb3duLlxuICAgICAqL1xuICAgIGFzeW5jIHRyYW5zaXRpb24oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RhdGUgdG8gdHJhbnNpdGlvbiBmcm9tXG4gICAgICAgICAqL1xuICAgICAgICBmcm9tOiBrZXlvZiBULFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0YXRlIHRvIHRyYW5zaXRpb24gdG9cbiAgICAgICAgICovXG4gICAgICAgIHRvOiBrZXlvZiBULFxuICAgICAgICAvKipcbiAgICAgICAgICogT3B0aW9uYWwgcHJvcGVydGllcyB0byBwYXNzIHRvIHRoZSB0cmFuc2l0aW9uIGNvbnRleHRcbiAgICAgICAgICovXG4gICAgICAgIHByb3BzPzogVFtrZXlvZiBUXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHk7XG5cbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbk5hbWUgPSBgJHtBX0Zvcm1hdHRlckhlbHBlci50b0NhbWVsQ2FzZShTdHJpbmcoZnJvbSkpfV8ke0FfRm9ybWF0dGVySGVscGVyLnRvQ2FtZWxDYXNlKFN0cmluZyh0bykpfWA7XG5cbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IG5ldyBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24oe1xuICAgICAgICAgICAgZnJvbTogU3RyaW5nKGZyb20pLFxuICAgICAgICAgICAgdG86IFN0cmluZyh0byksXG4gICAgICAgICAgICBwcm9wc1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6IGBBLVN0YXRlTWFjaGluZS1UcmFuc2l0aW9uLVNjb3BlLSR7dHJhbnNpdGlvbk5hbWV9YCxcbiAgICAgICAgICAgIGZyYWdtZW50czogW3RyYW5zaXRpb25dXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1N0YXRlTWFjaGluZUZlYXR1cmVzLm9uQmVmb3JlVHJhbnNpdGlvbiwgc2NvcGUpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwodHJhbnNpdGlvbk5hbWUsIHNjb3BlKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU3RhdGVNYWNoaW5lRmVhdHVyZXMub25BZnRlclRyYW5zaXRpb24sIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJhbnNpdGlvbi5yZXN1bHQ7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZWRFcnJvciA9IG5ldyBBX1N0YXRlTWFjaGluZUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9TdGF0ZU1hY2hpbmVFcnJvci5UcmFuc2l0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSB0cmFuc2l0aW9uaW5nIHRvIFwiJHt0cmFuc2l0aW9uTmFtZX1cImAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzY29wZS5yZWdpc3Rlcih3cmFwcGVkRXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcy5vbkVycm9yLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgd3JhcHBlZEVycm9yO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbiIsICJleHBvcnQgY29uc3QgQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTID0ge1xuXG59IGFzIGNvbnN0XG5cblxuLy9zaG91bGQgYmUgYW4gYXJyYXlcbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0NvbmZpZ0VOVlZhcmlhYmxlcyA9ICh0eXBlb2YgQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTKVtrZXlvZiB0eXBlb2YgQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTXVtdO1xuXG5cbmV4cG9ydCBjb25zdCBBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVkgPSBbXG5cbl0gYXMgY29uc3Q7XG5cbiIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcblxuXG5leHBvcnQgY2xhc3MgQV9Db25maWdFcnJvciBleHRlbmRzIEFfRXJyb3Ige1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IEluaXRpYWxpemF0aW9uRXJyb3IgPSAnQS1Db25maWcgSW5pdGlhbGl6YXRpb24gRXJyb3InO1xufSIsICJpbXBvcnQgeyBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZLCBBX0Zvcm1hdHRlckhlbHBlciwgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX1RZUEVTX19Db25maWdDb250YWluZXJDb25zdHJ1Y3RvciB9IGZyb20gXCIuL0EtQ29uZmlnLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0V4ZWN1dGlvbkNvbnRleHQgfSBmcm9tIFwiLi4vQS1FeGVjdXRpb24vQS1FeGVjdXRpb24uY29udGV4dFwiO1xuaW1wb3J0IHsgQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTX0FSUkFZIH0gZnJvbSBcIi4vQS1Db25maWcuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX0NvbmZpZ0Vycm9yIH0gZnJvbSBcIi4vQS1Db25maWcuZXJyb3JcIjtcblxuXG5leHBvcnQgY2xhc3MgQV9Db25maWc8XG4gICAgVCBleHRlbmRzIEFycmF5PHN0cmluZyB8IEFfVFlQRVNfX0NvbmNlcHRFTlZWYXJpYWJsZXNbbnVtYmVyXT4gPSBhbnlbXVxuPiBleHRlbmRzIEFfRXhlY3V0aW9uQ29udGV4dDxcbiAgICB7IFtrZXkgaW4gVFtudW1iZXJdXTogYW55OyB9ICYge1xuICAgICAgICBba2V5IGluIHR5cGVvZiBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZW251bWJlcl1dOiBhbnlcbiAgICB9ICYge1xuICAgICAgICBba2V5IGluIHR5cGVvZiBBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVlbbnVtYmVyXV06IGFueVxuICAgIH1cbj4ge1xuICAgIHByb3RlY3RlZCBfc3RyaWN0OiBib29sZWFuO1xuICAgIHByb3RlY3RlZCBfY29uZmlnUHJvcGVydGllcyE6IFQ7XG5cbiAgICBwcm90ZWN0ZWQgREVGQVVMVF9BTExPV0VEX1RPX1JFQURfUFJPUEVSVElFUyA9IFtcbiAgICAgICAgLi4uQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFU19BUlJBWSxcbiAgICAgICAgLi4uQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTX0FSUkFZXG4gICAgXTtcblxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGNvbmZpZzogUGFydGlhbDxBX1RZUEVTX19Db25maWdDb250YWluZXJDb25zdHJ1Y3RvcjxUPj5cbiAgICApIHtcbiAgICAgICAgc3VwZXIoJ2EtY29uZmlnJyk7XG5cbiAgICAgICAgdGhpcy5fc3RyaWN0ID0gY29uZmlnLnN0cmljdCA/PyBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29uZmlnUHJvcGVydGllcyA9IGNvbmZpZy52YXJpYWJsZXMgPz8gW10gYXMgYW55O1xuXG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY29uZmlnLmRlZmF1bHRzKSB7XG4gICAgICAgICAgICB0aGlzLnNldChcbiAgICAgICAgICAgICAgICBBX0Zvcm1hdHRlckhlbHBlci50b1VwcGVyU25ha2VDYXNlKGtleSksXG4gICAgICAgICAgICAgICAgY29uZmlnLmRlZmF1bHRzW2tleSBhcyBUW251bWJlcl1dXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBnZXQgc3RyaWN0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RyaWN0O1xuICAgIH1cblxuXG4gICAgLyoqIFxuICAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGdldCB0aGUgY29uZmlndXJhdGlvbiBwcm9wZXJ0eSBieSBuYW1lXG4gICAgICAqIFxuICAgICAgKiBAcGFyYW0gcHJvcGVydHkgXG4gICAgICAqIEByZXR1cm5zIFxuICAgICAgKi9cbiAgICBnZXQ8SyBleHRlbmRzIFRbbnVtYmVyXT4oXG4gICAgICAgIHByb3BlcnR5OiBLIHwgdHlwZW9mIHRoaXMuREVGQVVMVF9BTExPV0VEX1RPX1JFQURfUFJPUEVSVElFU1tudW1iZXJdXG4gICAgKTogeyBba2V5IGluIFRbbnVtYmVyXV06IGFueTsgfVtLXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWdQcm9wZXJ0aWVzLmluY2x1ZGVzKHByb3BlcnR5IGFzIGFueSlcbiAgICAgICAgICAgIHx8IHRoaXMuREVGQVVMVF9BTExPV0VEX1RPX1JFQURfUFJPUEVSVElFUy5pbmNsdWRlcyhwcm9wZXJ0eSBhcyBhbnkpXG4gICAgICAgICAgICB8fCAhdGhpcy5fc3RyaWN0XG4gICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXQoQV9Gb3JtYXR0ZXJIZWxwZXIudG9VcHBlclNuYWtlQ2FzZShwcm9wZXJ0eSkpO1xuXG4gICAgICAgIHRocm93IG5ldyBBX0NvbmZpZ0Vycm9yKCdQcm9wZXJ0eSBub3QgZXhpc3RzIG9yIG5vdCBhbGxvd2VkIHRvIHJlYWQnKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gc2V0IHRoZSBjb25maWd1cmF0aW9uIHByb3BlcnR5IGJ5IG5hbWVcbiAgICAgKiBPUiBzZXQgbXVsdGlwbGUgcHJvcGVydGllcyBhdCBvbmNlIGJ5IHBhc3NpbmcgYW4gYXJyYXkgb2Ygb2JqZWN0c1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB2YXJpYWJsZXMgXG4gICAgICovXG4gICAgc2V0KFxuICAgICAgICB2YXJpYWJsZXM6IEFycmF5PHtcbiAgICAgICAgICAgIHByb3BlcnR5OiBUW251bWJlcl0gfCBBX1RZUEVTX19Db25jZXB0RU5WVmFyaWFibGVzW251bWJlcl0sXG4gICAgICAgICAgICB2YWx1ZTogYW55XG4gICAgICAgIH0+XG4gICAgKVxuICAgIHNldChcbiAgICAgICAgdmFyaWFibGVzOiBQYXJ0aWFsPFJlY29yZDxUW251bWJlcl0gfCBBX1RZUEVTX19Db25jZXB0RU5WVmFyaWFibGVzW251bWJlcl0sIGFueT4+XG4gICAgKVxuICAgIHNldChcbiAgICAgICAgcHJvcGVydHk6IFRbbnVtYmVyXSB8IEFfVFlQRVNfX0NvbmNlcHRFTlZWYXJpYWJsZXNbbnVtYmVyXSxcbiAgICAgICAgdmFsdWU6IGFueVxuICAgIClcbiAgICBzZXQoXG4gICAgICAgIHByb3BlcnR5OiBUW251bWJlcl0gfCBBX1RZUEVTX19Db25jZXB0RU5WVmFyaWFibGVzW251bWJlcl0gfCBBcnJheTx7XG4gICAgICAgICAgICBwcm9wZXJ0eTogVFtudW1iZXJdIHwgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlc1tudW1iZXJdLFxuICAgICAgICAgICAgdmFsdWU6IGFueVxuICAgICAgICB9PiB8IFBhcnRpYWw8UmVjb3JkPFRbbnVtYmVyXSB8IEFfVFlQRVNfX0NvbmNlcHRFTlZWYXJpYWJsZXNbbnVtYmVyXSwgYW55Pj4sXG4gICAgICAgIHZhbHVlPzogYW55XG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gQXJyYXkuaXNBcnJheShwcm9wZXJ0eSlcbiAgICAgICAgICAgID8gcHJvcGVydHlcbiAgICAgICAgICAgIDogdHlwZW9mIHByb3BlcnR5ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gW3sgcHJvcGVydHksIHZhbHVlIH1dXG4gICAgICAgICAgICAgICAgOiBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgLmtleXMocHJvcGVydHkpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGtleSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcHJvcGVydHlba2V5XVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgZm9yIChjb25zdCB7IHByb3BlcnR5LCB2YWx1ZSB9IG9mIGFycmF5KSB7XG4gICAgICAgICAgICBzdXBlci5zZXQoQV9Gb3JtYXR0ZXJIZWxwZXIudG9VcHBlclNuYWtlQ2FzZShwcm9wZXJ0eSksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiLyoqXG4gKiBBLUxvZ2dlciBDb25zdGFudHNcbiAqIFxuICogQ29uZmlndXJhdGlvbiBjb25zdGFudHMgYW5kIGRlZmF1bHQgdmFsdWVzIGZvciB0aGUgQV9Mb2dnZXIgY29tcG9uZW50XG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IHNjb3BlIGxlbmd0aCBmb3IgY29uc2lzdGVudCBtZXNzYWdlIGFsaWdubWVudFxuICovXG5leHBvcnQgY29uc3QgQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9MRU5HVEggPSAyMDtcblxuLyoqXG4gKiBEZWZhdWx0IGxvZyBsZXZlbCB3aGVuIG5vbmUgaXMgc3BlY2lmaWVkXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9ERUZBVUxUX0xFVkVMID0gJ2FsbCc7XG5cbi8qKlxuICogVGVybWluYWwgY29sb3IgY29kZXMgbWFwcGluZ1xuICovXG5leHBvcnQgY29uc3QgQV9MT0dHRVJfQ09MT1JTID0ge1xuICAgIC8vIFN5c3RlbSBjb2xvcnMgKHJlc2VydmVkIGZvciBzcGVjaWZpYyBwdXJwb3NlcylcbiAgICByZWQ6ICczMScsICAgICAgICAgIC8vIEVycm9ycywgY3JpdGljYWwgaXNzdWVzXG4gICAgeWVsbG93OiAnMzMnLCAgICAgICAvLyBXYXJuaW5ncywgY2F1dGlvbiBtZXNzYWdlc1xuICAgIGdyZWVuOiAnMzInLCAgICAgICAgLy8gU3VjY2VzcywgY29tcGxldGlvbiBtZXNzYWdlc1xuICAgIFxuICAgIC8vIFNhZmUgcGFsZXR0ZSBmb3IgcmFuZG9tIHNlbGVjdGlvbiAoZ3JleS1ibHVlLXZpb2xldCB0aGVtZSlcbiAgICBibHVlOiAnMzQnLCAgICAgICAgIC8vIEluZm8sIGdlbmVyYWwgbWVzc2FnZXNcbiAgICBjeWFuOiAnMzYnLCAgICAgICAgIC8vIEhlYWRlcnMsIHRpdGxlc1xuICAgIG1hZ2VudGE6ICczNScsICAgICAgLy8gU3BlY2lhbCBoaWdobGlnaHRpbmdcbiAgICBncmF5OiAnOTAnLCAgICAgICAgIC8vIERlYnVnLCBsZXNzIGltcG9ydGFudCBpbmZvXG4gICAgYnJpZ2h0Qmx1ZTogJzk0JywgICAvLyBCcmlnaHQgYmx1ZSB2YXJpYW50XG4gICAgYnJpZ2h0Q3lhbjogJzk2JywgICAvLyBCcmlnaHQgY3lhbiB2YXJpYW50XG4gICAgYnJpZ2h0TWFnZW50YTogJzk1JywgLy8gQnJpZ2h0IG1hZ2VudGEgdmFyaWFudFxuICAgIGRhcmtHcmF5OiAnMzAnLCAgICAgLy8gRGFyayBncmF5XG4gICAgbGlnaHRHcmF5OiAnMzcnLCAgICAvLyBMaWdodCBncmF5ICh3aGl0ZSlcbiAgICBcbiAgICAvLyBFeHRlbmRlZCBibHVlLXZpb2xldCBwYWxldHRlXG4gICAgaW5kaWdvOiAnMzg7NTs1NCcsICAgICAgLy8gRGVlcCBpbmRpZ29cbiAgICB2aW9sZXQ6ICczODs1OzkzJywgICAgICAvLyBWaW9sZXRcbiAgICBwdXJwbGU6ICczODs1OzEyOScsICAgICAvLyBQdXJwbGVcbiAgICBsYXZlbmRlcjogJzM4OzU7MTgzJywgICAvLyBMYXZlbmRlclxuICAgIHNreUJsdWU6ICczODs1OzExNycsICAgIC8vIFNreSBibHVlXG4gICAgc3RlZWxCbHVlOiAnMzg7NTs2NycsICAgLy8gU3RlZWwgYmx1ZVxuICAgIHNsYXRlQmx1ZTogJzM4OzU7NjInLCAgIC8vIFNsYXRlIGJsdWVcbiAgICBkZWVwQmx1ZTogJzM4OzU7MTgnLCAgICAvLyBEZWVwIGJsdWVcbiAgICBsaWdodEJsdWU6ICczODs1OzE1MycsICAvLyBMaWdodCBibHVlXG4gICAgcGVyaXdpbmtsZTogJzM4OzU7MTExJywgLy8gUGVyaXdpbmtsZVxuICAgIGNvcm5mbG93ZXI6ICczODs1OzY5JywgIC8vIENvcm5mbG93ZXIgYmx1ZVxuICAgIHBvd2RlcjogJzM4OzU7MTUyJywgICAgIC8vIFBvd2RlciBibHVlXG4gICAgXG4gICAgLy8gQWRkaXRpb25hbCBncmF5cyBmb3IgdmFyaWV0eVxuICAgIGNoYXJjb2FsOiAnMzg7NTsyMzYnLCAgIC8vIENoYXJjb2FsXG4gICAgc2lsdmVyOiAnMzg7NTsyNTAnLCAgICAgLy8gU2lsdmVyXG4gICAgc21va2U6ICczODs1OzI0NCcsICAgICAgLy8gU21va2UgZ3JheVxuICAgIHNsYXRlOiAnMzg7NTsyNDAnLCAgICAgIC8vIFNsYXRlIGdyYXlcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogU2FmZSBjb2xvcnMgZm9yIHJhbmRvbSBzZWxlY3Rpb24gLSBncmV5LWJsdWUtdmlvbGV0IHBhbGV0dGVcbiAqIEV4Y2x1ZGVzIHN5c3RlbSBjb2xvcnMgKHJlZCwgeWVsbG93LCBncmVlbikgdG8gYXZvaWQgY29uZnVzaW9uIHdpdGggd2FybmluZ3MvZXJyb3JzXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9TQUZFX1JBTkRPTV9DT0xPUlMgPSBbXG4gICAgJ2JsdWUnLCAnY3lhbicsICdtYWdlbnRhJywgJ2dyYXknLCAnYnJpZ2h0Qmx1ZScsICdicmlnaHRDeWFuJywgJ2JyaWdodE1hZ2VudGEnLFxuICAgICdkYXJrR3JheScsICdsaWdodEdyYXknLCAnaW5kaWdvJywgJ3Zpb2xldCcsICdwdXJwbGUnLCAnbGF2ZW5kZXInLCAnc2t5Qmx1ZScsXG4gICAgJ3N0ZWVsQmx1ZScsICdzbGF0ZUJsdWUnLCAnZGVlcEJsdWUnLCAnbGlnaHRCbHVlJywgJ3Blcml3aW5rbGUnLCAnY29ybmZsb3dlcicsXG4gICAgJ3Bvd2RlcicsICdjaGFyY29hbCcsICdzaWx2ZXInLCAnc21va2UnLCAnc2xhdGUnXG5dIGFzIGNvbnN0O1xuXG4vKipcbiAqIEFOU0kgZXNjYXBlIGNvZGVzXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9BTlNJID0ge1xuICAgIFJFU0VUOiAnXFx4MWJbMG0nLFxuICAgIFBSRUZJWDogJ1xceDFiWycsXG4gICAgU1VGRklYOiAnbSdcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogVGltZXN0YW1wIGZvcm1hdCBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9USU1FX0ZPUk1BVCA9IHtcbiAgICBNSU5VVEVTX1BBRDogMixcbiAgICBTRUNPTkRTX1BBRDogMixcbiAgICBNSUxMSVNFQ09ORFNfUEFEOiAzLFxuICAgIFNFUEFSQVRPUjogJzonXG59IGFzIGNvbnN0O1xuXG4vKipcbiAqIExvZyBtZXNzYWdlIHN0cnVjdHVyZSBjb25zdGFudHNcbiAqL1xuZXhwb3J0IGNvbnN0IEFfTE9HR0VSX0ZPUk1BVCA9IHtcbiAgICBTQ09QRV9PUEVOOiAnWycsXG4gICAgU0NPUEVfQ0xPU0U6ICddJyxcbiAgICBUSU1FX09QRU46ICd8JyxcbiAgICBUSU1FX0NMT1NFOiAnfCcsXG4gICAgU0VQQVJBVE9SOiAnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScsXG4gICAgSU5ERU5UX0JBU0U6IDMsXG4gICAgUElQRTogJ3wgJ1xufSBhcyBjb25zdDtcblxuLyoqXG4gKiBFbnZpcm9ubWVudCB2YXJpYWJsZSBrZXlzXG4gKi9cbmV4cG9ydCBjb25zdCBBX0xPR0dFUl9FTlZfS0VZUyA9IHtcbiAgICBMT0dfTEVWRUw6ICdBX0xPR0dFUl9MRVZFTCcsXG4gICAgREVGQVVMVF9TQ09QRV9MRU5HVEg6ICdBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0xFTkdUSCcsXG4gICAgREVGQVVMVF9TQ09QRV9DT0xPUjogJ0FfTE9HR0VSX0RFRkFVTFRfU0NPUEVfQ09MT1InLFxuICAgIERFRkFVTFRfTE9HX0NPTE9SOiAnQV9MT0dHRVJfREVGQVVMVF9MT0dfQ09MT1InXG59IGFzIGNvbnN0OyIsICJpbXBvcnQgeyBBX0NvbXBvbmVudCwgQV9Db250ZXh0LCBBX0Vycm9yLCBBX0luamVjdCwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0NvbmZpZyB9IGZyb20gXCIuLi9BLUNvbmZpZy9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0xvZ2dlckVudlZhcmlhYmxlc1R5cGUgfSBmcm9tIFwiLi9BLUxvZ2dlci5lbnZcIjtcbmltcG9ydCB7IEFfTG9nZ2VyTGV2ZWwgfSBmcm9tIFwiLi9BLUxvZ2dlci50eXBlc1wiO1xuaW1wb3J0IHtcbiAgICBBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0xFTkdUSCxcbiAgICBBX0xPR0dFUl9DT0xPUlMsXG4gICAgQV9MT0dHRVJfQU5TSSxcbiAgICBBX0xPR0dFUl9USU1FX0ZPUk1BVCxcbiAgICBBX0xPR0dFUl9GT1JNQVQsXG4gICAgQV9MT0dHRVJfRU5WX0tFWVMsXG4gICAgQV9MT0dHRVJfU0FGRV9SQU5ET01fQ09MT1JTXG59IGZyb20gXCIuL0EtTG9nZ2VyLmNvbnN0YW50c1wiO1xuXG4vKipcbiAqIEFfTG9nZ2VyIC0gQWR2YW5jZWQgTG9nZ2luZyBDb21wb25lbnQgd2l0aCBTY29wZS1iYXNlZCBPdXRwdXQgRm9ybWF0dGluZ1xuICogXG4gKiBUaGlzIGNvbXBvbmVudCBwcm92aWRlcyBjb21wcmVoZW5zaXZlIGxvZ2dpbmcgY2FwYWJpbGl0aWVzIHdpdGg6XG4gKiAtIENvbG9yLWNvZGVkIGNvbnNvbGUgb3V0cHV0IGZvciBkaWZmZXJlbnQgbG9nIGxldmVsc1xuICogLSBTY29wZS1iYXNlZCBtZXNzYWdlIGZvcm1hdHRpbmcgd2l0aCBjb25zaXN0ZW50IGFsaWdubWVudFxuICogLSBTdXBwb3J0IGZvciBtdWx0aXBsZSBkYXRhIHR5cGVzIChvYmplY3RzLCBlcnJvcnMsIHN0cmluZ3MpXG4gKiAtIENvbmZpZ3VyYWJsZSBsb2cgbGV2ZWxzIGZvciBmaWx0ZXJpbmcgb3V0cHV0XG4gKiAtIFNwZWNpYWwgaGFuZGxpbmcgZm9yIEFfRXJyb3IgYW5kIG5hdGl2ZSBFcnJvciBvYmplY3RzXG4gKiAtIFRpbWVzdGFtcCBpbmNsdXNpb24gZm9yIGJldHRlciBkZWJ1Z2dpbmdcbiAqIFxuICogS2V5IEZlYXR1cmVzOlxuICogLSAqKlNjb3BlIEludGVncmF0aW9uKio6IFVzZXMgQV9TY29wZSBmb3IgY29uc2lzdGVudCBtZXNzYWdlIHByZWZpeGluZ1xuICogLSAqKkNvbG9yIFN1cHBvcnQqKjogVGVybWluYWwgY29sb3IgY29kZXMgZm9yIHZpc3VhbCBkaXN0aW5jdGlvblxuICogLSAqKk9iamVjdCBGb3JtYXR0aW5nKio6IFByZXR0eS1wcmludHMgSlNPTiBvYmplY3RzIHdpdGggcHJvcGVyIGluZGVudGF0aW9uXG4gKiAtICoqRXJyb3IgSGFuZGxpbmcqKjogU3BlY2lhbCBmb3JtYXR0aW5nIGZvciBBX0Vycm9yIGFuZCBFcnJvciBvYmplY3RzXG4gKiAtICoqTG9nIExldmVsIEZpbHRlcmluZyoqOiBDb25maWd1cmFibGUgZmlsdGVyaW5nIGJhc2VkIG9uIHNldmVyaXR5XG4gKiAtICoqTXVsdGktbGluZSBTdXBwb3J0Kio6IFByb3BlciBhbGlnbm1lbnQgZm9yIG11bHRpLWxpbmUgbWVzc2FnZXNcbiAqIFxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIC8vIEJhc2ljIHVzYWdlIHdpdGggZGVwZW5kZW5jeSBpbmplY3Rpb24gKHVzZXMgZGV0ZXJtaW5pc3RpYyBjb2xvcnMgYmFzZWQgb24gc2NvcGUgbmFtZSlcbiAqIGNsYXNzIE15U2VydmljZSB7XG4gKiAgIGNvbnN0cnVjdG9yKEBBX0luamVjdChBX0xvZ2dlcikgcHJpdmF0ZSBsb2dnZXI6IEFfTG9nZ2VyKSB7fVxuICogICBcbiAqICAgZG9Tb21ldGhpbmcoKSB7XG4gKiAgICAgdGhpcy5sb2dnZXIuaW5mbygnUHJvY2Vzc2luZyBzdGFydGVkJyk7IC8vIFVzZXMgc2NvcGUtbmFtZS1iYXNlZCBjb2xvcnMsIGFsd2F5cyBzaG93c1xuICogICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdEZWJ1ZyBpbmZvcm1hdGlvbicpOyAvLyBPbmx5IHNob3dzIHdoZW4gZGVidWcgbGV2ZWwgZW5hYmxlZFxuICogICAgIHRoaXMubG9nZ2VyLmluZm8oJ2dyZWVuJywgJ0N1c3RvbSBtZXNzYWdlIGNvbG9yJyk7IC8vIEdyZWVuIG1lc3NhZ2UsIHNjb3BlIHN0YXlzIGRlZmF1bHRcbiAqICAgICB0aGlzLmxvZ2dlci53YXJuaW5nKCdTb21ldGhpbmcgbWlnaHQgYmUgd3JvbmcnKTtcbiAqICAgICB0aGlzLmxvZ2dlci5lcnJvcihuZXcgRXJyb3IoJ1NvbWV0aGluZyBmYWlsZWQnKSk7XG4gKiAgIH1cbiAqIH1cbiAqIFxuICogLy8gU2FtZSBzY29wZSBuYW1lcyB3aWxsIGFsd2F5cyBnZXQgdGhlIHNhbWUgY29sb3JzIGF1dG9tYXRpY2FsbHlcbiAqIGNvbnN0IGxvZ2dlcjEgPSBuZXcgQV9Mb2dnZXIobmV3IEFfU2NvcGUoe25hbWU6ICdVc2VyU2VydmljZSd9KSk7IC8vIEdldHMgY29uc2lzdGVudCBjb2xvcnNcbiAqIGNvbnN0IGxvZ2dlcjIgPSBuZXcgQV9Mb2dnZXIobmV3IEFfU2NvcGUoe25hbWU6ICdVc2VyU2VydmljZSd9KSk7IC8vIEdldHMgc2FtZSBjb2xvcnMgYXMgbG9nZ2VyMVxuICogXG4gKiAvLyBDb25maWd1cmF0aW9uIHZpYSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgb3IgQV9Db25maWcgKG92ZXJyaWRlcyBhdXRvbWF0aWMgc2VsZWN0aW9uKVxuICogcHJvY2Vzcy5lbnYuQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9DT0xPUiA9ICdtYWdlbnRhJztcbiAqIHByb2Nlc3MuZW52LkFfTE9HR0VSX0RFRkFVTFRfTE9HX0NPTE9SID0gJ2dyZWVuJztcbiAqIFxuICogLy8gT3IgdGhyb3VnaCBBX0NvbmZpZyBpbnN0YW5jZVxuICogY29uc3QgY29uZmlnID0gbmV3IEFfQ29uZmlnKHtcbiAqICAgQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9DT0xPUjogJ3JlZCcsXG4gKiAgIEFfTE9HR0VSX0RFRkFVTFRfTE9HX0NPTE9SOiAnd2hpdGUnXG4gKiB9KTtcbiAqIGNvbnN0IGxvZ2dlciA9IG5ldyBBX0xvZ2dlcihzY29wZSwgY29uZmlnKTtcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgQV9Mb2dnZXIgZXh0ZW5kcyBBX0NvbXBvbmVudCB7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDb25maWd1cmF0aW9uIGFuZCBDb25zdGFudHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFRlcm1pbmFsIGNvbG9yIGNvZGVzIGZvciBkaWZmZXJlbnQgbG9nIGxldmVscyBhbmQgY3VzdG9tIHN0eWxpbmdcbiAgICAgKiBUaGVzZSBjb2RlcyB3b3JrIHdpdGggQU5TSSBlc2NhcGUgc2VxdWVuY2VzIGZvciBjb2xvcmVkIHRlcm1pbmFsIG91dHB1dFxuICAgICAqL1xuICAgIHJlYWRvbmx5IENPTE9SUztcblxuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIHNjb3BlIGxlbmd0aCBmb3IgY29uc2lzdGVudCBmb3JtYXR0aW5nXG4gICAgICogVGhpcyBlbnN1cmVzIGFsbCBsb2cgbWVzc2FnZXMgYWxpZ24gcHJvcGVybHkgcmVnYXJkbGVzcyBvZiBzY29wZSBuYW1lIGxlbmd0aFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVhZG9ubHkgU1RBTkRBUkRfU0NPUEVfTEVOR1RIO1xuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBjb2xvciBmb3IgdGhlIHNjb3BlIHBvcnRpb24gb2YgbG9nIG1lc3NhZ2VzXG4gICAgICogVGhpcyBjb2xvciBpcyB1c2VkIGZvciB0aGUgc2NvcGUgYnJhY2tldHMgYW5kIGNvbnRlbnQsIGFuZCByZW1haW5zIGNvbnNpc3RlbnRcbiAgICAgKiBmb3IgdGhpcyBsb2dnZXIgaW5zdGFuY2UgcmVnYXJkbGVzcyBvZiBtZXNzYWdlIGNvbG9yIG92ZXJyaWRlc1xuICAgICAqL1xuICAgIHByaXZhdGUgcmVhZG9ubHkgREVGQVVMVF9TQ09QRV9DT0xPUjoga2V5b2YgdHlwZW9mIEFfTE9HR0VSX0NPTE9SUztcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgY29sb3IgZm9yIGxvZyBtZXNzYWdlIGNvbnRlbnQgd2hlbiBubyBleHBsaWNpdCBjb2xvciBpcyBwcm92aWRlZFxuICAgICAqIFRoaXMgY29sb3IgaXMgdXNlZCBmb3IgdGhlIG1lc3NhZ2UgYm9keSB3aGVuIGxvZ2dpbmcgd2l0aG91dCBzcGVjaWZ5aW5nIGEgY29sb3JcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlYWRvbmx5IERFRkFVTFRfTE9HX0NPTE9SOiBrZXlvZiB0eXBlb2YgQV9MT0dHRVJfQ09MT1JTO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ29uc3RydWN0b3IgYW5kIEluaXRpYWxpemF0aW9uXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIEFfTG9nZ2VyIHdpdGggZGVwZW5kZW5jeSBpbmplY3Rpb25cbiAgICAgKiBDb2xvcnMgYXJlIGNvbmZpZ3VyZWQgdGhyb3VnaCBBX0NvbmZpZyBvciBnZW5lcmF0ZWQgcmFuZG9tbHkgaWYgbm90IHByb3ZpZGVkXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlIC0gVGhlIGN1cnJlbnQgc2NvcGUgY29udGV4dCBmb3IgbWVzc2FnZSBwcmVmaXhpbmdcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgbG9nIGxldmVsIGZpbHRlcmluZyBhbmQgY29sb3Igc2V0dGluZ3NcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHByb3RlY3RlZCBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfQ29uZmlnKSBwcm90ZWN0ZWQgY29uZmlnPzogQV9Db25maWc8QV9Mb2dnZXJFbnZWYXJpYWJsZXNUeXBlPlxuICAgICkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLkNPTE9SUyA9IEFfTE9HR0VSX0NPTE9SUztcbiAgICAgICAgdGhpcy5TVEFOREFSRF9TQ09QRV9MRU5HVEggPSBjb25maWc/LmdldChBX0xPR0dFUl9FTlZfS0VZUy5ERUZBVUxUX1NDT1BFX0xFTkdUSCkgfHwgQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9MRU5HVEg7XG5cbiAgICAgICAgLy8gR2V0IGNvbG9ycyBmcm9tIGNvbmZpZyBvciBnZW5lcmF0ZSBkZXRlcm1pbmlzdGljIGNvbG9ycyBiYXNlZCBvbiBzY29wZSBuYW1lXG4gICAgICAgIGNvbnN0IGNvbmZpZ1Njb3BlQ29sb3IgPSBjb25maWc/LmdldChBX0xPR0dFUl9FTlZfS0VZUy5ERUZBVUxUX1NDT1BFX0NPTE9SKSBhcyBrZXlvZiB0eXBlb2YgQV9MT0dHRVJfQ09MT1JTO1xuICAgICAgICBjb25zdCBjb25maWdMb2dDb2xvciA9IGNvbmZpZz8uZ2V0KEFfTE9HR0VSX0VOVl9LRVlTLkRFRkFVTFRfTE9HX0NPTE9SKSBhcyBrZXlvZiB0eXBlb2YgQV9MT0dHRVJfQ09MT1JTO1xuXG4gICAgICAgIGlmIChjb25maWdTY29wZUNvbG9yIHx8IGNvbmZpZ0xvZ0NvbG9yKSB7XG4gICAgICAgICAgICAvLyBJZiBhbnkgY29sb3IgaXMgY29uZmlndXJlZCwgdXNlIGNvbmZpZyB2YWx1ZXMgb3IgZmFsbGJhY2sgdG8gc2NvcGUtYmFzZWQgc2VsZWN0aW9uXG4gICAgICAgICAgICB0aGlzLkRFRkFVTFRfU0NPUEVfQ09MT1IgPSBjb25maWdTY29wZUNvbG9yIHx8IHRoaXMuZ2VuZXJhdGVDb2xvckZyb21TY29wZU5hbWUodGhpcy5zY29wZS5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMuREVGQVVMVF9MT0dfQ09MT1IgPSBjb25maWdMb2dDb2xvciB8fCB0aGlzLmdlbmVyYXRlQ29sb3JGcm9tU2NvcGVOYW1lKHRoaXMuc2NvcGUubmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBubyBjb2xvcnMgY29uZmlndXJlZCwgZ2VuZXJhdGUgY29tcGxlbWVudGFyeSBwYWlyIGJhc2VkIG9uIHNjb3BlIG5hbWVcbiAgICAgICAgICAgIGNvbnN0IGNvbXBsZW1lbnRhcnlDb2xvcnMgPSB0aGlzLmdlbmVyYXRlQ29tcGxlbWVudGFyeUNvbG9yc0Zyb21TY29wZSh0aGlzLnNjb3BlLm5hbWUpO1xuICAgICAgICAgICAgdGhpcy5ERUZBVUxUX1NDT1BFX0NPTE9SID0gY29tcGxlbWVudGFyeUNvbG9ycy5zY29wZUNvbG9yO1xuICAgICAgICAgICAgdGhpcy5ERUZBVUxUX0xPR19DT0xPUiA9IGNvbXBsZW1lbnRhcnlDb2xvcnMubG9nQ29sb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBDb2xvciBHZW5lcmF0aW9uIFV0aWxpdGllc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYSBzaW1wbGUgaGFzaCBmcm9tIGEgc3RyaW5nXG4gICAgICogVXNlZCB0byBjcmVhdGUgZGV0ZXJtaW5pc3RpYyBjb2xvciBzZWxlY3Rpb24gYmFzZWQgb24gc2NvcGUgbmFtZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzdHIgLSBUaGUgc3RyaW5nIHRvIGhhc2hcbiAgICAgKiBAcmV0dXJucyBBIG51bWVyaWMgaGFzaCB2YWx1ZVxuICAgICAqL1xuICAgIHByaXZhdGUgc2ltcGxlSGFzaChzdHI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgICAgIGxldCBoYXNoID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNoYXI7XG4gICAgICAgICAgICBoYXNoID0gaGFzaCAmIGhhc2g7IC8vIENvbnZlcnQgdG8gMzItYml0IGludGVnZXJcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC5hYnMoaGFzaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYSBkZXRlcm1pbmlzdGljIGNvbG9yIGJhc2VkIG9uIHNjb3BlIG5hbWVcbiAgICAgKiBTYW1lIHNjb3BlIG5hbWVzIHdpbGwgYWx3YXlzIGdldCB0aGUgc2FtZSBjb2xvciwgYnV0IHVzZXMgc2FmZSBjb2xvciBwYWxldHRlXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlTmFtZSAtIFRoZSBzY29wZSBuYW1lIHRvIGdlbmVyYXRlIGNvbG9yIGZvclxuICAgICAqIEByZXR1cm5zIEEgY29sb3Iga2V5IGZyb20gdGhlIHNhZmUgY29sb3JzIHBhbGV0dGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGdlbmVyYXRlQ29sb3JGcm9tU2NvcGVOYW1lKHNjb3BlTmFtZTogc3RyaW5nKToga2V5b2YgdHlwZW9mIEFfTE9HR0VSX0NPTE9SUyB7XG4gICAgICAgIGNvbnN0IHNhZmVDb2xvcnMgPSBBX0xPR0dFUl9TQUZFX1JBTkRPTV9DT0xPUlM7XG4gICAgICAgIGNvbnN0IGhhc2ggPSB0aGlzLnNpbXBsZUhhc2goc2NvcGVOYW1lKTtcbiAgICAgICAgY29uc3QgY29sb3JJbmRleCA9IGhhc2ggJSBzYWZlQ29sb3JzLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHNhZmVDb2xvcnNbY29sb3JJbmRleF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYSBwYWlyIG9mIGNvbXBsZW1lbnRhcnkgY29sb3JzIGJhc2VkIG9uIHNjb3BlIG5hbWVcbiAgICAgKiBFbnN1cmVzIHZpc3VhbCBoYXJtb255IGJldHdlZW4gc2NvcGUgYW5kIG1lc3NhZ2UgY29sb3JzIHdoaWxlIGJlaW5nIGRldGVybWluaXN0aWNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc2NvcGVOYW1lIC0gVGhlIHNjb3BlIG5hbWUgdG8gYmFzZSBjb2xvcnMgb25cbiAgICAgKiBAcmV0dXJucyBPYmplY3Qgd2l0aCBzY29wZUNvbG9yIGFuZCBsb2dDb2xvciB0aGF0IHdvcmsgd2VsbCB0b2dldGhlclxuICAgICAqL1xuICAgIHByaXZhdGUgZ2VuZXJhdGVDb21wbGVtZW50YXJ5Q29sb3JzRnJvbVNjb3BlKHNjb3BlTmFtZTogc3RyaW5nKTogeyBzY29wZUNvbG9yOiBrZXlvZiB0eXBlb2YgQV9MT0dHRVJfQ09MT1JTLCBsb2dDb2xvcjoga2V5b2YgdHlwZW9mIEFfTE9HR0VSX0NPTE9SUyB9IHtcbiAgICAgICAgLy8gRGVmaW5lIGNvbG9yIGdyb3VwcyB0aGF0IHdvcmsgd2VsbCB0b2dldGhlclxuICAgICAgICBjb25zdCBjb2xvclBhaXJzID0gW1xuICAgICAgICAgICAgeyBzY29wZUNvbG9yOiAnaW5kaWdvJyBhcyBjb25zdCwgbG9nQ29sb3I6ICdsaWdodEJsdWUnIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHNjb3BlQ29sb3I6ICdkZWVwQmx1ZScgYXMgY29uc3QsIGxvZ0NvbG9yOiAnY3lhbicgYXMgY29uc3QgfSxcbiAgICAgICAgICAgIHsgc2NvcGVDb2xvcjogJ3B1cnBsZScgYXMgY29uc3QsIGxvZ0NvbG9yOiAnbGF2ZW5kZXInIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHNjb3BlQ29sb3I6ICdzdGVlbEJsdWUnIGFzIGNvbnN0LCBsb2dDb2xvcjogJ3NreUJsdWUnIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHNjb3BlQ29sb3I6ICdzbGF0ZUJsdWUnIGFzIGNvbnN0LCBsb2dDb2xvcjogJ3Blcml3aW5rbGUnIGFzIGNvbnN0IH0sXG4gICAgICAgICAgICB7IHNjb3BlQ29sb3I6ICdjaGFyY29hbCcgYXMgY29uc3QsIGxvZ0NvbG9yOiAnc2lsdmVyJyBhcyBjb25zdCB9LFxuICAgICAgICAgICAgeyBzY29wZUNvbG9yOiAndmlvbGV0JyBhcyBjb25zdCwgbG9nQ29sb3I6ICdicmlnaHRNYWdlbnRhJyBhcyBjb25zdCB9LFxuICAgICAgICAgICAgeyBzY29wZUNvbG9yOiAnZGFya0dyYXknIGFzIGNvbnN0LCBsb2dDb2xvcjogJ2xpZ2h0R3JheScgYXMgY29uc3QgfSxcbiAgICAgICAgICAgIHsgc2NvcGVDb2xvcjogJ2Nvcm5mbG93ZXInIGFzIGNvbnN0LCBsb2dDb2xvcjogJ3Bvd2RlcicgYXMgY29uc3QgfSxcbiAgICAgICAgICAgIHsgc2NvcGVDb2xvcjogJ3NsYXRlJyBhcyBjb25zdCwgbG9nQ29sb3I6ICdzbW9rZScgYXMgY29uc3QgfSxcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBoYXNoID0gdGhpcy5zaW1wbGVIYXNoKHNjb3BlTmFtZSk7XG4gICAgICAgIGNvbnN0IHBhaXJJbmRleCA9IGhhc2ggJSBjb2xvclBhaXJzLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGNvbG9yUGFpcnNbcGFpckluZGV4XTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBGYWN0b3J5IE1ldGhvZHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBTY29wZSBhbmQgRm9ybWF0dGluZyBVdGlsaXRpZXNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZm9ybWF0dGVkIHNjb3BlIGxlbmd0aCBmb3IgY29uc2lzdGVudCBtZXNzYWdlIGFsaWdubWVudFxuICAgICAqIFVzZXMgYSBzdGFuZGFyZCBsZW5ndGggdG8gZW5zdXJlIGFsbCBtZXNzYWdlcyBhbGlnbiBwcm9wZXJseSByZWdhcmRsZXNzIG9mIHNjb3BlIG5hbWVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBUaGUgc2NvcGUgbGVuZ3RoIHRvIHVzZSBmb3IgcGFkZGluZyBjYWxjdWxhdGlvbnNcbiAgICAgKi9cbiAgICBnZXQgc2NvcGVMZW5ndGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMuc2NvcGUubmFtZS5sZW5ndGgsIHRoaXMuU1RBTkRBUkRfU0NPUEVfTEVOR1RIKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGZvcm1hdHRlZCBzY29wZSBuYW1lIHdpdGggcHJvcGVyIHBhZGRpbmcsIGNlbnRlcmVkIHdpdGhpbiB0aGUgY29udGFpbmVyXG4gICAgICogRW5zdXJlcyBjb25zaXN0ZW50IHdpZHRoIGZvciBhbGwgc2NvcGUgbmFtZXMgaW4gbG9nIG91dHB1dCB3aXRoIGNlbnRlcmVkIGFsaWdubWVudFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIENlbnRlcmVkIGFuZCBwYWRkZWQgc2NvcGUgbmFtZSBmb3IgY29uc2lzdGVudCBmb3JtYXR0aW5nXG4gICAgICovXG4gICAgZ2V0IGZvcm1hdHRlZFNjb3BlKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHNjb3BlTmFtZSA9IHRoaXMuc2NvcGUubmFtZTtcbiAgICAgICAgY29uc3QgdG90YWxMZW5ndGggPSB0aGlzLlNUQU5EQVJEX1NDT1BFX0xFTkdUSDtcblxuICAgICAgICAvLyBJZiBzY29wZSBuYW1lIGlzIGxvbmdlciB0aGFuIHN0YW5kYXJkIGxlbmd0aCwgdHJ1bmNhdGUgaXRcbiAgICAgICAgaWYgKHNjb3BlTmFtZS5sZW5ndGggPj0gdG90YWxMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBzY29wZU5hbWUuc3Vic3RyaW5nKDAsIHRvdGFsTGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBwYWRkaW5nIGZvciBjZW50ZXJpbmdcbiAgICAgICAgY29uc3QgdG90YWxQYWRkaW5nID0gdG90YWxMZW5ndGggLSBzY29wZU5hbWUubGVuZ3RoO1xuICAgICAgICBjb25zdCBsZWZ0UGFkZGluZyA9IE1hdGguZmxvb3IodG90YWxQYWRkaW5nIC8gMik7XG4gICAgICAgIGNvbnN0IHJpZ2h0UGFkZGluZyA9IHRvdGFsUGFkZGluZyAtIGxlZnRQYWRkaW5nO1xuXG4gICAgICAgIHJldHVybiAnICcucmVwZWF0KGxlZnRQYWRkaW5nKSArIHNjb3BlTmFtZSArICcgJy5yZXBlYXQocmlnaHRQYWRkaW5nKTtcbiAgICB9XG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIE1lc3NhZ2UgQ29tcGlsYXRpb24gYW5kIEZvcm1hdHRpbmdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIENvbXBpbGUgbG9nIGFyZ3VtZW50cyBpbnRvIGZvcm1hdHRlZCBjb25zb2xlIG91dHB1dCB3aXRoIGNvbG9ycyBhbmQgcHJvcGVyIGFsaWdubWVudFxuICAgICAqIFxuICAgICAqIFRoaXMgbWV0aG9kIGhhbmRsZXMgdGhlIGNvcmUgZm9ybWF0dGluZyBsb2dpYyBmb3IgYWxsIGxvZyBtZXNzYWdlczpcbiAgICAgKiAtIEFwcGxpZXMgc2VwYXJhdGUgY29sb3JzIGZvciBzY29wZSBhbmQgbWVzc2FnZSBjb250ZW50XG4gICAgICogLSBGb3JtYXRzIHNjb3BlIG5hbWVzIHdpdGggY29uc2lzdGVudCBwYWRkaW5nXG4gICAgICogLSBIYW5kbGVzIGRpZmZlcmVudCBkYXRhIHR5cGVzIGFwcHJvcHJpYXRlbHlcbiAgICAgKiAtIE1haW50YWlucyBwcm9wZXIgaW5kZW50YXRpb24gZm9yIG11bHRpLWxpbmUgY29udGVudFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBtZXNzYWdlQ29sb3IgLSBUaGUgY29sb3Iga2V5IHRvIGFwcGx5IHRvIHRoZSBtZXNzYWdlIGNvbnRlbnRcbiAgICAgKiBAcGFyYW0gYXJncyAtIFZhcmlhYmxlIGFyZ3VtZW50cyB0byBmb3JtYXQgYW5kIGRpc3BsYXlcbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiBmb3JtYXR0ZWQgc3RyaW5ncyByZWFkeSBmb3IgY29uc29sZSBvdXRwdXRcbiAgICAgKi9cbiAgICBjb21waWxlKFxuICAgICAgICBtZXNzYWdlQ29sb3I6IGtleW9mIHR5cGVvZiB0aGlzLkNPTE9SUyxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBBcnJheTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3QgdGltZVN0cmluZyA9IHRoaXMuZ2V0VGltZSgpO1xuICAgICAgICBjb25zdCBzY29wZVBhZGRpbmcgPSAnICcucmVwZWF0KHRoaXMuc2NvcGVMZW5ndGggKyAzKTtcbiAgICAgICAgY29uc3QgaXNNdWx0aUFyZyA9IGFyZ3MubGVuZ3RoID4gMTtcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgLy8gSGVhZGVyIHdpdGggc2VwYXJhdGUgY29sb3JzIGZvciBzY29wZSBhbmQgbWVzc2FnZSBjb250ZW50XG4gICAgICAgICAgICBgJHtBX0xPR0dFUl9BTlNJLlBSRUZJWH0ke3RoaXMuQ09MT1JTW3RoaXMuREVGQVVMVF9TQ09QRV9DT0xPUl19JHtBX0xPR0dFUl9BTlNJLlNVRkZJWH0ke0FfTE9HR0VSX0ZPUk1BVC5TQ09QRV9PUEVOfSR7dGhpcy5mb3JtYXR0ZWRTY29wZX0ke0FfTE9HR0VSX0ZPUk1BVC5TQ09QRV9DTE9TRX0ke0FfTE9HR0VSX0FOU0kuUkVTRVR9ICR7QV9MT0dHRVJfQU5TSS5QUkVGSVh9JHt0aGlzLkNPTE9SU1ttZXNzYWdlQ29sb3JdfSR7QV9MT0dHRVJfQU5TSS5TVUZGSVh9JHtBX0xPR0dFUl9GT1JNQVQuVElNRV9PUEVOfSR7dGltZVN0cmluZ30ke0FfTE9HR0VSX0ZPUk1BVC5USU1FX0NMT1NFfWAsXG5cbiAgICAgICAgICAgIC8vIFRvcCBzZXBhcmF0b3IgZm9yIG11bHRpLWFyZ3VtZW50IG1lc3NhZ2VzXG4gICAgICAgICAgICBpc011bHRpQXJnID8gJ1xcbicgKyBgJHtzY29wZVBhZGRpbmd9JHtBX0xPR0dFUl9GT1JNQVQuVElNRV9PUEVOfSR7QV9MT0dHRVJfRk9STUFULlNFUEFSQVRPUn1gIDogJycsXG5cbiAgICAgICAgICAgIC8vIFByb2Nlc3MgZWFjaCBhcmd1bWVudCB3aXRoIGFwcHJvcHJpYXRlIGZvcm1hdHRpbmdcbiAgICAgICAgICAgIC4uLmFyZ3MubWFwKChhcmcsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRBZGROZXdsaW5lID0gaSA+IDAgfHwgaXNNdWx0aUFyZztcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGFyZyBpbnN0YW5jZW9mIEFfRXJyb3I6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21waWxlX0FfRXJyb3IoYXJnKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIGFyZyBpbnN0YW5jZW9mIEVycm9yOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGlsZV9FcnJvcihhcmcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0T2JqZWN0KGFyZywgc2hvdWxkQWRkTmV3bGluZSwgc2NvcGVQYWRkaW5nKTtcblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0U3RyaW5nKFN0cmluZyhhcmcpLCBzaG91bGRBZGROZXdsaW5lLCBzY29wZVBhZGRpbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICAvLyBCb3R0b20gc2VwYXJhdG9yIGFuZCBjb2xvciByZXNldFxuICAgICAgICAgICAgaXNNdWx0aUFyZ1xuICAgICAgICAgICAgICAgID8gJ1xcbicgKyBgJHtzY29wZVBhZGRpbmd9JHtBX0xPR0dFUl9GT1JNQVQuVElNRV9PUEVOfSR7QV9MT0dHRVJfRk9STUFULlNFUEFSQVRPUn0ke0FfTE9HR0VSX0FOU0kuUkVTRVR9YFxuICAgICAgICAgICAgICAgIDogQV9MT0dHRVJfQU5TSS5SRVNFVFxuICAgICAgICBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvcm1hdCBhbiBvYmplY3QgZm9yIGRpc3BsYXkgd2l0aCBwcm9wZXIgSlNPTiBpbmRlbnRhdGlvblxuICAgICAqIFxuICAgICAqIEBwYXJhbSBvYmogLSBUaGUgb2JqZWN0IHRvIGZvcm1hdFxuICAgICAqIEBwYXJhbSBzaG91bGRBZGROZXdsaW5lIC0gV2hldGhlciB0byBhZGQgYSBuZXdsaW5lIHByZWZpeFxuICAgICAqIEBwYXJhbSBzY29wZVBhZGRpbmcgLSBUaGUgcGFkZGluZyBzdHJpbmcgZm9yIGNvbnNpc3RlbnQgYWxpZ25tZW50XG4gICAgICogQHJldHVybnMgRm9ybWF0dGVkIG9iamVjdCBzdHJpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGZvcm1hdE9iamVjdChvYmo6IGFueSwgc2hvdWxkQWRkTmV3bGluZTogYm9vbGVhbiwgc2NvcGVQYWRkaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xuXG4gICAgICAgIC8vICBpbiBjYXNlIGl0J3MgYnJvd3NlciwganVzdCByZXR1cm4gdGhlIG9iamVjdCBhcyBpcyB0byB1c2UgbmF0aXZlIGNvbnNvbGUgb2JqZWN0IHJlbmRlcmluZ1xuICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnYnJvd3NlcicpXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuXG4gICAgICAgIGxldCBqc29uU3RyaW5nOiBzdHJpbmc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBqc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkob2JqLCBudWxsLCAyKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBjaXJjdWxhciByZWZlcmVuY2VzXG4gICAgICAgICAgICBjb25zdCBzZWVuID0gbmV3IFdlYWtTZXQoKTtcbiAgICAgICAgICAgIGpzb25TdHJpbmcgPSBKU09OLnN0cmluZ2lmeShvYmosIChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlZW4uaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXIgUmVmZXJlbmNlXSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2Vlbi5hZGQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9LCAyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmb3JtYXR0ZWQgPSBqc29uU3RyaW5nLnJlcGxhY2UoL1xcbi9nLCAnXFxuJyArIGAke3Njb3BlUGFkZGluZ30ke0FfTE9HR0VSX0ZPUk1BVC5QSVBFfWApO1xuICAgICAgICByZXR1cm4gc2hvdWxkQWRkTmV3bGluZSA/ICdcXG4nICsgYCR7c2NvcGVQYWRkaW5nfSR7QV9MT0dHRVJfRk9STUFULlBJUEV9YCArIGZvcm1hdHRlZCA6IGZvcm1hdHRlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXQgYSBzdHJpbmcgZm9yIGRpc3BsYXkgd2l0aCBwcm9wZXIgaW5kZW50YXRpb25cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RyIC0gVGhlIHN0cmluZyB0byBmb3JtYXRcbiAgICAgKiBAcGFyYW0gc2hvdWxkQWRkTmV3bGluZSAtIFdoZXRoZXIgdG8gYWRkIGEgbmV3bGluZSBwcmVmaXhcbiAgICAgKiBAcGFyYW0gc2NvcGVQYWRkaW5nIC0gVGhlIHBhZGRpbmcgc3RyaW5nIGZvciBjb25zaXN0ZW50IGFsaWdubWVudFxuICAgICAqIEByZXR1cm5zIEZvcm1hdHRlZCBzdHJpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGZvcm1hdFN0cmluZyhzdHI6IHN0cmluZywgc2hvdWxkQWRkTmV3bGluZTogYm9vbGVhbiwgc2NvcGVQYWRkaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBwcmVmaXggPSBzaG91bGRBZGROZXdsaW5lID8gJ1xcbicgOiAnJztcbiAgICAgICAgcmV0dXJuIChwcmVmaXggKyBzdHIpLnJlcGxhY2UoL1xcbi9nLCAnXFxuJyArIGAke3Njb3BlUGFkZGluZ30ke0FfTE9HR0VSX0ZPUk1BVC5QSVBFfWApO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIExvZyBMZXZlbCBNYW5hZ2VtZW50XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgYSBsb2cgbWVzc2FnZSBzaG91bGQgYmUgb3V0cHV0IGJhc2VkIG9uIGNvbmZpZ3VyZWQgbG9nIGxldmVsXG4gICAgICogXG4gICAgICogTG9nIGxldmVsIGhpZXJhcmNoeTpcbiAgICAgKiAtIGRlYnVnOiBTaG93cyBhbGwgbWVzc2FnZXMgKGRlYnVnLCBpbmZvLCB3YXJuaW5nLCBlcnJvcilcbiAgICAgKiAtIGluZm86IFNob3dzIGluZm8sIHdhcm5pbmcsIGFuZCBlcnJvciBtZXNzYWdlc1xuICAgICAqIC0gd2FybjogU2hvd3Mgd2FybmluZyBhbmQgZXJyb3IgbWVzc2FnZXMgb25seVxuICAgICAqIC0gZXJyb3I6IFNob3dzIGVycm9yIG1lc3NhZ2VzIG9ubHlcbiAgICAgKiAtIGFsbDogU2hvd3MgYWxsIG1lc3NhZ2VzIChhbGlhcyBmb3IgZGVidWcpXG4gICAgICogXG4gICAgICogQHBhcmFtIGxvZ01ldGhvZCAtIFRoZSB0eXBlIG9mIGxvZyBtZXRob2QgYmVpbmcgY2FsbGVkXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgbWVzc2FnZSBzaG91bGQgYmUgbG9nZ2VkLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgc2hvdWxkTG9nKGxvZ01ldGhvZDogJ2RlYnVnJyB8ICdpbmZvJyB8ICd3YXJuaW5nJyB8ICdlcnJvcicpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3Qgc2hvdWxkTG9nOiBBX0xvZ2dlckxldmVsID0gdGhpcy5jb25maWc/LmdldChBX0xPR0dFUl9FTlZfS0VZUy5MT0dfTEVWRUwpIHx8ICdpbmZvJztcblxuICAgICAgICBzd2l0Y2ggKHNob3VsZExvZykge1xuICAgICAgICAgICAgY2FzZSAnZGVidWcnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY2FzZSAnaW5mbyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvZ01ldGhvZCA9PT0gJ2luZm8nIHx8IGxvZ01ldGhvZCA9PT0gJ3dhcm5pbmcnIHx8IGxvZ01ldGhvZCA9PT0gJ2Vycm9yJztcbiAgICAgICAgICAgIGNhc2UgJ3dhcm4nOlxuICAgICAgICAgICAgICAgIHJldHVybiBsb2dNZXRob2QgPT09ICd3YXJuaW5nJyB8fCBsb2dNZXRob2QgPT09ICdlcnJvcic7XG4gICAgICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvZ01ldGhvZCA9PT0gJ2Vycm9yJztcbiAgICAgICAgICAgIGNhc2UgJ2FsbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gUHVibGljIExvZ2dpbmcgTWV0aG9kc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLyoqXG4gICAgICogRGVidWcgbG9nZ2luZyBtZXRob2Qgd2l0aCBvcHRpb25hbCBjb2xvciBzcGVjaWZpY2F0aW9uXG4gICAgICogT25seSBsb2dzIHdoZW4gZGVidWcgbGV2ZWwgaXMgZW5hYmxlZFxuICAgICAqIFxuICAgICAqIFN1cHBvcnRzIHR3byB1c2FnZSBwYXR0ZXJuczpcbiAgICAgKiAxLiBkZWJ1ZyhtZXNzYWdlLCAuLi5hcmdzKSAtIFVzZXMgaW5zdGFuY2UncyBkZWZhdWx0IGxvZyBjb2xvclxuICAgICAqIDIuIGRlYnVnKGNvbG9yLCBtZXNzYWdlLCAuLi5hcmdzKSAtIFVzZXMgc3BlY2lmaWVkIGNvbG9yIGZvciBtZXNzYWdlIGNvbnRlbnQgb25seVxuICAgICAqIFxuICAgICAqIE5vdGU6IFRoZSBzY29wZSBjb2xvciBhbHdheXMgcmVtYWlucyB0aGUgaW5zdGFuY2UncyBkZWZhdWx0IHNjb3BlIGNvbG9yLFxuICAgICAqIG9ubHkgdGhlIG1lc3NhZ2UgY29udGVudCBjb2xvciBjaGFuZ2VzIHdoZW4gZXhwbGljaXRseSBzcGVjaWZpZWQuXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbG9yIC0gT3B0aW9uYWwgY29sb3Iga2V5IG9yIHRoZSBmaXJzdCBtZXNzYWdlIGFyZ3VtZW50XG4gICAgICogQHBhcmFtIGFyZ3MgLSBBZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBsb2dcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBsb2dnZXIuZGVidWcoJ0RlYnVnIGluZm9ybWF0aW9uJyk7IC8vIFVzZXMgaW5zdGFuY2UgZGVmYXVsdCBjb2xvcnNcbiAgICAgKiBsb2dnZXIuZGVidWcoJ2dyYXknLCAnRGVidWcgbWVzc2FnZScpOyAvLyBHcmF5IG1lc3NhZ2UsIHNjb3BlIHN0YXlzIGluc3RhbmNlIGNvbG9yXG4gICAgICogbG9nZ2VyLmRlYnVnKCdQcm9jZXNzaW5nIHVzZXI6JywgeyBpZDogMSwgbmFtZTogJ0pvaG4nIH0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGRlYnVnKGNvbG9yOiBrZXlvZiB0eXBlb2YgdGhpcy5DT0xPUlMsIC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbiAgICBkZWJ1ZyguLi5hcmdzOiBhbnlbXSk6IHZvaWQ7XG4gICAgZGVidWcocGFyYW0xOiBhbnksIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRMb2coJ2RlYnVnJykpIHJldHVybjtcblxuICAgICAgICAvLyBDaGVjayBpZiBmaXJzdCBwYXJhbWV0ZXIgaXMgYSB2YWxpZCBjb2xvciBrZXlcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbTEgPT09ICdzdHJpbmcnICYmIHRoaXMuQ09MT1JTW3BhcmFtMSBhcyBrZXlvZiB0eXBlb2YgdGhpcy5DT0xPUlNdKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyguLi50aGlzLmNvbXBpbGUocGFyYW0xIGFzIGtleW9mIHR5cGVvZiB0aGlzLkNPTE9SUywgLi4uYXJncykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVXNlIGluc3RhbmNlJ3MgZGVmYXVsdCBsb2cgY29sb3IgYW5kIHRyZWF0IHBhcmFtMSBhcyBmaXJzdCBtZXNzYWdlIGFyZ3VtZW50XG4gICAgICAgICAgICBjb25zb2xlLmxvZyguLi50aGlzLmNvbXBpbGUodGhpcy5ERUZBVUxUX0xPR19DT0xPUiwgcGFyYW0xLCAuLi5hcmdzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmZvIGxvZ2dpbmcgbWV0aG9kIHdpdGggb3B0aW9uYWwgY29sb3Igc3BlY2lmaWNhdGlvblxuICAgICAqIExvZ3Mgd2l0aG91dCBhbnkgcmVzdHJpY3Rpb25zIChhbHdheXMgc2hvd3MgcmVnYXJkbGVzcyBvZiBsb2cgbGV2ZWwpXG4gICAgICogXG4gICAgICogU3VwcG9ydHMgdHdvIHVzYWdlIHBhdHRlcm5zOlxuICAgICAqIDEuIGluZm8obWVzc2FnZSwgLi4uYXJncykgLSBVc2VzIGluc3RhbmNlJ3MgZGVmYXVsdCBsb2cgY29sb3JcbiAgICAgKiAyLiBpbmZvKGNvbG9yLCBtZXNzYWdlLCAuLi5hcmdzKSAtIFVzZXMgc3BlY2lmaWVkIGNvbG9yIGZvciBtZXNzYWdlIGNvbnRlbnQgb25seVxuICAgICAqIFxuICAgICAqIE5vdGU6IFRoZSBzY29wZSBjb2xvciBhbHdheXMgcmVtYWlucyB0aGUgaW5zdGFuY2UncyBkZWZhdWx0IHNjb3BlIGNvbG9yLFxuICAgICAqIG9ubHkgdGhlIG1lc3NhZ2UgY29udGVudCBjb2xvciBjaGFuZ2VzIHdoZW4gZXhwbGljaXRseSBzcGVjaWZpZWQuXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbG9yIC0gT3B0aW9uYWwgY29sb3Iga2V5IG9yIHRoZSBmaXJzdCBtZXNzYWdlIGFyZ3VtZW50XG4gICAgICogQHBhcmFtIGFyZ3MgLSBBZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBsb2dcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBsb2dnZXIuaW5mbygnSGVsbG8gV29ybGQnKTsgLy8gVXNlcyBpbnN0YW5jZSBkZWZhdWx0IGNvbG9yc1xuICAgICAqIGxvZ2dlci5pbmZvKCdncmVlbicsICdTdWNjZXNzIG1lc3NhZ2UnKTsgLy8gR3JlZW4gbWVzc2FnZSwgc2NvcGUgc3RheXMgaW5zdGFuY2UgY29sb3JcbiAgICAgKiBsb2dnZXIuaW5mbygnUHJvY2Vzc2luZyB1c2VyOicsIHsgaWQ6IDEsIG5hbWU6ICdKb2huJyB9KTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBpbmZvKGNvbG9yOiBrZXlvZiB0eXBlb2YgdGhpcy5DT0xPUlMsIC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbiAgICBpbmZvKC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbiAgICBpbmZvKHBhcmFtMTogYW55LCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkTG9nKCdpbmZvJykpIHJldHVybjtcblxuICAgICAgICAvLyBDaGVjayBpZiBmaXJzdCBwYXJhbWV0ZXIgaXMgYSB2YWxpZCBjb2xvciBrZXlcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbTEgPT09ICdzdHJpbmcnICYmIHRoaXMuQ09MT1JTW3BhcmFtMSBhcyBrZXlvZiB0eXBlb2YgdGhpcy5DT0xPUlNdKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyguLi50aGlzLmNvbXBpbGUocGFyYW0xIGFzIGtleW9mIHR5cGVvZiB0aGlzLkNPTE9SUywgLi4uYXJncykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVXNlIGluc3RhbmNlJ3MgZGVmYXVsdCBsb2cgY29sb3IgYW5kIHRyZWF0IHBhcmFtMSBhcyBmaXJzdCBtZXNzYWdlIGFyZ3VtZW50XG4gICAgICAgICAgICBjb25zb2xlLmxvZyguLi50aGlzLmNvbXBpbGUodGhpcy5ERUZBVUxUX0xPR19DT0xPUiwgcGFyYW0xLCAuLi5hcmdzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMZWdhY3kgbG9nIG1ldGhvZCAoa2VwdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgaW5mbygpIG1ldGhvZCBpbnN0ZWFkXG4gICAgICogXG4gICAgICogQHBhcmFtIGNvbG9yIC0gT3B0aW9uYWwgY29sb3Iga2V5IG9yIHRoZSBmaXJzdCBtZXNzYWdlIGFyZ3VtZW50XG4gICAgICogQHBhcmFtIGFyZ3MgLSBBZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBsb2dcbiAgICAgKi9cbiAgICBsb2coY29sb3I6IGtleW9mIHR5cGVvZiB0aGlzLkNPTE9SUywgLi4uYXJnczogYW55W10pOiB2b2lkO1xuICAgIGxvZyguLi5hcmdzOiBhbnlbXSk6IHZvaWQ7XG4gICAgbG9nKHBhcmFtMTogYW55LCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICAvLyBEZWxlZ2F0ZSB0byBpbmZvIG1ldGhvZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAgICB0aGlzLmluZm8ocGFyYW0xLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2cgd2FybmluZyBtZXNzYWdlcyB3aXRoIHllbGxvdyBjb2xvciBjb2RpbmdcbiAgICAgKiBcbiAgICAgKiBVc2UgZm9yIG5vbi1jcml0aWNhbCBpc3N1ZXMgdGhhdCBzaG91bGQgYmUgYnJvdWdodCB0byBhdHRlbnRpb25cbiAgICAgKiBidXQgZG9uJ3QgcHJldmVudCBub3JtYWwgb3BlcmF0aW9uXG4gICAgICogXG4gICAgICogQHBhcmFtIGFyZ3MgLSBBcmd1bWVudHMgdG8gbG9nIGFzIHdhcm5pbmdzXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogbG9nZ2VyLndhcm5pbmcoJ0RlcHJlY2F0ZWQgbWV0aG9kIHVzZWQnKTtcbiAgICAgKiBsb2dnZXIud2FybmluZygnUmF0ZSBsaW1pdCBhcHByb2FjaGluZzonLCB7IGN1cnJlbnQ6IDk1LCBsaW1pdDogMTAwIH0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHdhcm5pbmcoLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZExvZygnd2FybmluZycpKSByZXR1cm47XG4gICAgICAgIGNvbnNvbGUubG9nKC4uLnRoaXMuY29tcGlsZSgneWVsbG93JywgLi4uYXJncykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvZyBlcnJvciBtZXNzYWdlcyB3aXRoIHJlZCBjb2xvciBjb2RpbmdcbiAgICAgKiBcbiAgICAgKiBVc2UgZm9yIGNyaXRpY2FsIGlzc3VlcywgZXhjZXB0aW9ucywgYW5kIGZhaWx1cmVzIHRoYXQgbmVlZCBpbW1lZGlhdGUgYXR0ZW50aW9uXG4gICAgICogXG4gICAgICogQHBhcmFtIGFyZ3MgLSBBcmd1bWVudHMgdG8gbG9nIGFzIGVycm9yc1xuICAgICAqIEByZXR1cm5zIHZvaWQgKGZvciBjb21wYXRpYmlsaXR5IHdpdGggY29uc29sZS5sb2cpXG4gICAgICogXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogbG9nZ2VyLmVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgICAqIGxvZ2dlci5lcnJvcihuZXcgRXJyb3IoJ1ZhbGlkYXRpb24gZmFpbGVkJykpO1xuICAgICAqIGxvZ2dlci5lcnJvcignQ3JpdGljYWwgZXJyb3I6JywgZXJyb3IsIHsgY29udGV4dDogJ3VzZXItcmVnaXN0cmF0aW9uJyB9KTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBlcnJvciguLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkTG9nKCdlcnJvcicpKSByZXR1cm47XG4gICAgICAgIGNvbnNvbGUubG9nKC4uLnRoaXMuY29tcGlsZSgncmVkJywgLi4uYXJncykpO1xuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFNwZWNpYWxpemVkIEVycm9yIEZvcm1hdHRpbmdcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIExlZ2FjeSBtZXRob2QgZm9yIEFfRXJyb3IgbG9nZ2luZyAoa2VwdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcbiAgICAgKiBcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgZXJyb3IoKSBtZXRob2QgaW5zdGVhZCB3aGljaCBoYW5kbGVzIEFfRXJyb3IgYXV0b21hdGljYWxseVxuICAgICAqIEBwYXJhbSBlcnJvciAtIFRoZSBBX0Vycm9yIGluc3RhbmNlIHRvIGxvZ1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBsb2dfQV9FcnJvcihlcnJvcjogQV9FcnJvcik6IHZvaWQge1xuICAgICAgICBjb25zdCB0aW1lID0gdGhpcy5nZXRUaW1lKCk7XG4gICAgICAgIGNvbnN0IHNjb3BlUGFkZGluZyA9ICcgJy5yZXBlYXQodGhpcy5zY29wZUxlbmd0aCArIDMpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBcXHgxYlszMW1bJHt0aGlzLmZvcm1hdHRlZFNjb3BlfV0gfCR7dGltZX18IEVSUk9SICR7ZXJyb3IuY29kZX1cbiR7c2NvcGVQYWRkaW5nfXwgJHtlcnJvci5tZXNzYWdlfVxuJHtzY29wZVBhZGRpbmd9fCAke2Vycm9yLmRlc2NyaXB0aW9ufSBcbiR7c2NvcGVQYWRkaW5nfXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4ke3Njb3BlUGFkZGluZ318ICR7ZXJyb3Iuc3RhY2s/LnNwbGl0KCdcXG4nKS5tYXAoKGxpbmUsIGluZGV4KSA9PiBpbmRleCA9PT0gMCA/IGxpbmUgOiBgJHtzY29wZVBhZGRpbmd9fCAke2xpbmV9YCkuam9pbignXFxuJykgfHwgJ05vIHN0YWNrIHRyYWNlJ31cbiR7c2NvcGVQYWRkaW5nfXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cXHgxYlswbWBcbiAgICAgICAgICAgICsgKGVycm9yLm9yaWdpbmFsRXJyb3IgPyBgXFx4MWJbMzFtJHtzY29wZVBhZGRpbmd9fCBXcmFwcGVkIEZyb20gICR7ZXJyb3Iub3JpZ2luYWxFcnJvci5tZXNzYWdlfVxuJHtzY29wZVBhZGRpbmd9fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiR7c2NvcGVQYWRkaW5nfXwgJHtlcnJvci5vcmlnaW5hbEVycm9yLnN0YWNrPy5zcGxpdCgnXFxuJykubWFwKChsaW5lLCBpbmRleCkgPT4gaW5kZXggPT09IDAgPyBsaW5lIDogYCR7c2NvcGVQYWRkaW5nfXwgJHtsaW5lfWApLmpvaW4oJ1xcbicpIHx8ICdObyBzdGFjayB0cmFjZSd9XG4ke3Njb3BlUGFkZGluZ318LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXFx4MWJbMG1gOiAnJylcbiAgICAgICAgICAgICsgKGVycm9yLmxpbmsgPyBgXFx4MWJbMzFtJHtzY29wZVBhZGRpbmd9fCBSZWFkIGluIGRvY3M6ICR7ZXJyb3IubGlua31cbiR7c2NvcGVQYWRkaW5nfXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cXHgxYlswbWA6ICcnKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IEFfRXJyb3IgaW5zdGFuY2VzIGZvciBpbmxpbmUgZGlzcGxheSB3aXRoaW4gY29tcGlsZWQgbWVzc2FnZXNcbiAgICAgKiBcbiAgICAgKiBQcm92aWRlcyBkZXRhaWxlZCBmb3JtYXR0aW5nIGZvciBBX0Vycm9yIG9iamVjdHMgaW5jbHVkaW5nOlxuICAgICAqIC0gRXJyb3IgY29kZSBhbmQgbWVzc2FnZVxuICAgICAqIC0gRGVzY3JpcHRpb24gYW5kIHN0YWNrIHRyYWNlXG4gICAgICogLSBPcmlnaW5hbCBlcnJvciBpbmZvcm1hdGlvbiAoaWYgd3JhcHBlZClcbiAgICAgKiAtIERvY3VtZW50YXRpb24gbGlua3MgKGlmIGF2YWlsYWJsZSlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXJyb3IgLSBUaGUgQV9FcnJvciBpbnN0YW5jZSB0byBmb3JtYXRcbiAgICAgKiBAcmV0dXJucyBGb3JtYXR0ZWQgc3RyaW5nIHJlYWR5IGZvciBkaXNwbGF5XG4gICAgICovXG4gICAgcHJvdGVjdGVkIGNvbXBpbGVfQV9FcnJvcihlcnJvcjogQV9FcnJvcik6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHNjb3BlUGFkZGluZyA9ICcgJy5yZXBlYXQodGhpcy5zY29wZUxlbmd0aCArIDMpO1xuXG4gICAgICAgIHJldHVybiAnXFxuJyArXG4gICAgICAgICAgICBgJHtzY29wZVBhZGRpbmd9fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1gICtcbiAgICAgICAgICAgICdcXG4nICtcbiAgICAgICAgICAgIGAke3Njb3BlUGFkZGluZ318ICBFcnJvcjogIHwgJHtlcnJvci5jb2RlfVxuJHtzY29wZVBhZGRpbmd9fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiR7c2NvcGVQYWRkaW5nfXwkeycgJy5yZXBlYXQoMTApfXwgJHtlcnJvci5tZXNzYWdlfVxuJHtzY29wZVBhZGRpbmd9fCR7JyAnLnJlcGVhdCgxMCl9fCAke2Vycm9yLmRlc2NyaXB0aW9ufSBcbiR7c2NvcGVQYWRkaW5nfXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4ke3Njb3BlUGFkZGluZ318ICR7ZXJyb3Iuc3RhY2s/LnNwbGl0KCdcXG4nKS5tYXAoKGxpbmUsIGluZGV4KSA9PiBpbmRleCA9PT0gMCA/IGxpbmUgOiBgJHtzY29wZVBhZGRpbmd9fCAke2xpbmV9YCkuam9pbignXFxuJykgfHwgJ05vIHN0YWNrIHRyYWNlJ31cbiR7c2NvcGVQYWRkaW5nfXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tYFxuICAgICAgICAgICAgK1xuICAgICAgICAgICAgKGVycm9yLm9yaWdpbmFsRXJyb3IgPyBgJHtzY29wZVBhZGRpbmd9fCBXcmFwcGVkIEZyb20gICR7ZXJyb3Iub3JpZ2luYWxFcnJvci5tZXNzYWdlfVxuJHtzY29wZVBhZGRpbmd9fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiR7c2NvcGVQYWRkaW5nfXwgJHtlcnJvci5vcmlnaW5hbEVycm9yLnN0YWNrPy5zcGxpdCgnXFxuJykubWFwKChsaW5lLCBpbmRleCkgPT4gaW5kZXggPT09IDAgPyBsaW5lIDogYCR7c2NvcGVQYWRkaW5nfXwgJHtsaW5lfWApLmpvaW4oJ1xcbicpIHx8ICdObyBzdGFjayB0cmFjZSd9XG4ke3Njb3BlUGFkZGluZ318LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWAgOiAnJylcbiAgICAgICAgICAgICtcbiAgICAgICAgICAgIChlcnJvci5saW5rID8gYCR7c2NvcGVQYWRkaW5nfXwgUmVhZCBpbiBkb2NzOiAke2Vycm9yLmxpbmt9XG4ke3Njb3BlUGFkZGluZ318LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWAgOiAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0IHN0YW5kYXJkIEVycm9yIGluc3RhbmNlcyBmb3IgaW5saW5lIGRpc3BsYXkgd2l0aGluIGNvbXBpbGVkIG1lc3NhZ2VzXG4gICAgICogXG4gICAgICogQ29udmVydHMgc3RhbmRhcmQgSmF2YVNjcmlwdCBFcnJvciBvYmplY3RzIGludG8gYSByZWFkYWJsZSBKU09OIGZvcm1hdFxuICAgICAqIHdpdGggcHJvcGVyIGluZGVudGF0aW9uIGFuZCBzdGFjayB0cmFjZSBmb3JtYXR0aW5nXG4gICAgICogXG4gICAgICogQHBhcmFtIGVycm9yIC0gVGhlIEVycm9yIGluc3RhbmNlIHRvIGZvcm1hdFxuICAgICAqIEByZXR1cm5zIEZvcm1hdHRlZCBzdHJpbmcgcmVhZHkgZm9yIGRpc3BsYXlcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY29tcGlsZV9FcnJvcihlcnJvcjogRXJyb3IpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBzY29wZVBhZGRpbmcgPSAnICcucmVwZWF0KHRoaXMuc2NvcGVMZW5ndGggKyAzKTtcblxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgbmFtZTogZXJyb3IubmFtZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICBzdGFjazogZXJyb3Iuc3RhY2s/LnNwbGl0KCdcXG4nKVxuICAgICAgICAgICAgICAgIC5tYXAoKGxpbmUsIGluZGV4KSA9PiBpbmRleCA9PT0gMCA/IGxpbmUgOiBgJHtzY29wZVBhZGRpbmd9fCAke2xpbmV9YClcbiAgICAgICAgICAgICAgICAuam9pbignXFxuJylcbiAgICAgICAgfSwgbnVsbCwgMilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXG4vZywgJ1xcbicgKyBgJHtzY29wZVBhZGRpbmd9fCBgKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxuL2csICdcXG4nKTtcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBVdGlsaXR5IE1ldGhvZHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIHRpbWVzdGFtcCBzdHJpbmcgZm9yIGxvZyBtZXNzYWdlc1xuICAgICAqIFxuICAgICAqIEZvcm1hdDogTU06U1M6bW1tIChtaW51dGVzOnNlY29uZHM6bWlsbGlzZWNvbmRzKVxuICAgICAqIFRoaXMgcHJvdmlkZXMgc3VmZmljaWVudCBwcmVjaXNpb24gZm9yIGRlYnVnZ2luZyB3aGlsZSByZW1haW5pbmcgcmVhZGFibGVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBGb3JtYXR0ZWQgdGltZXN0YW1wIHN0cmluZ1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlXG4gICAgICogUmV0dXJuczogXCIxNTo0MjoxMzdcIiBmb3IgMzo0MjoxNSBQTSBhbmQgMTM3IG1pbGxpc2Vjb25kc1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXRUaW1lKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBTdHJpbmcobm93LmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoQV9MT0dHRVJfVElNRV9GT1JNQVQuTUlOVVRFU19QQUQsICcwJyk7XG4gICAgICAgIGNvbnN0IHNlY29uZHMgPSBTdHJpbmcobm93LmdldFNlY29uZHMoKSkucGFkU3RhcnQoQV9MT0dHRVJfVElNRV9GT1JNQVQuU0VDT05EU19QQUQsICcwJyk7XG4gICAgICAgIGNvbnN0IG1pbGxpc2Vjb25kcyA9IFN0cmluZyhub3cuZ2V0TWlsbGlzZWNvbmRzKCkpLnBhZFN0YXJ0KEFfTE9HR0VSX1RJTUVfRk9STUFULk1JTExJU0VDT05EU19QQUQsICcwJyk7XG4gICAgICAgIHJldHVybiBgJHttaW51dGVzfSR7QV9MT0dHRVJfVElNRV9GT1JNQVQuU0VQQVJBVE9SfSR7c2Vjb25kc30ke0FfTE9HR0VSX1RJTUVfRk9STUFULlNFUEFSQVRPUn0ke21pbGxpc2Vjb25kc31gO1xuICAgIH1cbn0iLCAiaW1wb3J0IHtcbiAgICBBX0NvbW1hbmRfRXhlY3V0aW9uQ29udGV4dCxcbiAgICBBX1RZUEVTX19Db21tYW5kX0luaXQsXG4gICAgQV9UWVBFU19fQ29tbWFuZF9MaXN0ZW5lcixcbiAgICBBX1RZUEVTX19Db21tYW5kX1NlcmlhbGl6ZWRcbn0gZnJvbSBcIi4vQS1Db21tYW5kLnR5cGVzXCI7XG5pbXBvcnQge1xuICAgIEFfQ29tbWFuZEZlYXR1cmVzLFxuICAgIEFfQ29tbWFuZF9TdGF0dXMsXG4gICAgQV9Db21tYW5kVHJhbnNpdGlvbnMsXG4gICAgQV9Db21tYW5kRXZlbnRcbn0gZnJvbSBcIi4vQS1Db21tYW5kLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgIEFfQ29udGV4dCwgQV9EZXBlbmRlbmN5LCBBX0VudGl0eSwgQV9FcnJvciwgQV9GZWF0dXJlLCBBX0luamVjdCwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0NvbW1hbmRFcnJvciB9IGZyb20gXCIuL0EtQ29tbWFuZC5lcnJvclwiO1xuaW1wb3J0IHsgQV9TdGF0ZU1hY2hpbmUgfSBmcm9tIFwiLi4vQS1TdGF0ZU1hY2hpbmUvQS1TdGF0ZU1hY2hpbmUuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBX1N0YXRlTWFjaGluZUZlYXR1cmVzIH0gZnJvbSBcIi4uL0EtU3RhdGVNYWNoaW5lL0EtU3RhdGVNYWNoaW5lLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24gfSBmcm9tIFwiLi4vQS1TdGF0ZU1hY2hpbmUvQS1TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uLmNvbnRleHRcIjtcbmltcG9ydCB7IEFfRXhlY3V0aW9uQ29udGV4dCB9IGZyb20gXCIuLi9BLUV4ZWN1dGlvbi9BLUV4ZWN1dGlvbi5jb250ZXh0XCI7XG5cbi8qKlxuICogQV9Db21tYW5kIC0gQWR2YW5jZWQgQ29tbWFuZCBQYXR0ZXJuIEltcGxlbWVudGF0aW9uXG4gKiBcbiAqIEEgY29tcHJlaGVuc2l2ZSBjb21tYW5kIHBhdHRlcm4gaW1wbGVtZW50YXRpb24gdGhhdCBlbmNhcHN1bGF0ZXMgYnVzaW5lc3MgbG9naWNcbiAqIGFzIGV4ZWN1dGFibGUgY29tbWFuZHMgd2l0aCBmdWxsIGxpZmVjeWNsZSBtYW5hZ2VtZW50LCBldmVudCBoYW5kbGluZywgYW5kIFxuICogc3RhdGUgcGVyc2lzdGVuY2UgY2FwYWJpbGl0aWVzLlxuICogXG4gKiAjIyBLZXkgRmVhdHVyZXNcbiAqIC0gKipTdHJ1Y3R1cmVkIExpZmVjeWNsZSoqOiBBdXRvbWF0aWMgcHJvZ3Jlc3Npb24gdGhyb3VnaCBpbml0IOKGkiBjb21waWxlIOKGkiBleGVjdXRlIOKGkiBjb21wbGV0ZS9mYWlsXG4gKiAtICoqRXZlbnQtRHJpdmVuKio6IFN1YnNjcmliZSB0byBsaWZlY3ljbGUgZXZlbnRzIGFuZCBlbWl0IGN1c3RvbSBldmVudHNcbiAqIC0gKipTdGF0ZSBQZXJzaXN0ZW5jZSoqOiBGdWxsIHNlcmlhbGl6YXRpb24vZGVzZXJpYWxpemF0aW9uIGZvciBjcm9zcy1zZXJ2aWNlIGNvbW11bmljYXRpb25cbiAqIC0gKipUeXBlIFNhZmV0eSoqOiBHZW5lcmljIHR5cGVzIGZvciBwYXJhbWV0ZXJzLCByZXN1bHRzLCBhbmQgY3VzdG9tIGV2ZW50c1xuICogLSAqKkRlcGVuZGVuY3kgSW5qZWN0aW9uKio6IEludGVncmF0ZWQgd2l0aCBBLUNvbmNlcHQncyBESSBzeXN0ZW1cbiAqIC0gKipFcnJvciBNYW5hZ2VtZW50Kio6IENvbXByZWhlbnNpdmUgZXJyb3IgY2FwdHVyZSBhbmQgaGFuZGxpbmdcbiAqIC0gKipFeGVjdXRpb24gVHJhY2tpbmcqKjogQnVpbHQtaW4gdGltaW5nIGFuZCBwZXJmb3JtYW5jZSBtZXRyaWNzXG4gKiBcbiAqICMjIExpZmVjeWNsZSBQaGFzZXNcbiAqIDEuICoqQ1JFQVRFRCoqIC0gQ29tbWFuZCBpbnN0YW50aWF0ZWQgYnV0IG5vdCBpbml0aWFsaXplZFxuICogMi4gKipJTklUSUFMSVpFRCoqIC0gRXhlY3V0aW9uIHNjb3BlIGFuZCBkZXBlbmRlbmNpZXMgc2V0IHVwXG4gKiAzLiAqKkNPTVBJTEVEKiogLSBSZWFkeSBmb3IgZXhlY3V0aW9uIHdpdGggYWxsIHJlc291cmNlcyBwcmVwYXJlZFxuICogNC4gKipFWEVDVVRJTkcqKiAtIEN1cnJlbnRseSBydW5uaW5nIGJ1c2luZXNzIGxvZ2ljXG4gKiA1LiAqKkNPTVBMRVRFRCoqIC0gU3VjY2Vzc2Z1bGx5IGZpbmlzaGVkIGV4ZWN1dGlvblxuICogNi4gKipGQUlMRUQqKiAtIEV4ZWN1dGlvbiBmYWlsZWQgd2l0aCBlcnJvcnMgY2FwdHVyZWRcbiAqIFxuICogQHRlbXBsYXRlIEludm9rZVR5cGUgLSBUeXBlIGRlZmluaXRpb24gZm9yIGNvbW1hbmQgcGFyYW1ldGVyc1xuICogQHRlbXBsYXRlIFJlc3VsdFR5cGUgLSBUeXBlIGRlZmluaXRpb24gZm9yIGNvbW1hbmQgZXhlY3V0aW9uIHJlc3VsdFxuICogQHRlbXBsYXRlIExpZmVjeWNsZUV2ZW50cyAtIFVuaW9uIHR5cGUgb2YgY3VzdG9tIGxpZmVjeWNsZSBldmVudCBuYW1lc1xuICogXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gRGVmaW5lIHBhcmFtZXRlciBhbmQgcmVzdWx0IHR5cGVzXG4gKiBpbnRlcmZhY2UgVXNlckNyZWF0ZVBhcmFtcyB7XG4gKiAgIG5hbWU6IHN0cmluZztcbiAqICAgZW1haWw6IHN0cmluZztcbiAqICAgcm9sZTogJ2FkbWluJyB8ICd1c2VyJztcbiAqIH1cbiAqIFxuICogaW50ZXJmYWNlIFVzZXJDcmVhdGVSZXN1bHQge1xuICogICB1c2VySWQ6IHN0cmluZztcbiAqICAgc3VjY2VzczogYm9vbGVhbjtcbiAqIH1cbiAqIFxuICogLy8gQ3JlYXRlIGN1c3RvbSBjb21tYW5kXG4gKiBjbGFzcyBDcmVhdGVVc2VyQ29tbWFuZCBleHRlbmRzIEFfQ29tbWFuZDxVc2VyQ3JlYXRlUGFyYW1zLCBVc2VyQ3JlYXRlUmVzdWx0PiB7fVxuICogXG4gKiAvLyBFeGVjdXRlIGNvbW1hbmRcbiAqIGNvbnN0IGNvbW1hbmQgPSBuZXcgQ3JlYXRlVXNlckNvbW1hbmQoe1xuICogICBuYW1lOiAnSm9obiBEb2UnLFxuICogICBlbWFpbDogJ2pvaG5AZXhhbXBsZS5jb20nLFxuICogICByb2xlOiAndXNlcidcbiAqIH0pO1xuICogXG4gKiBzY29wZS5yZWdpc3Rlcihjb21tYW5kKTtcbiAqIGF3YWl0IGNvbW1hbmQuZXhlY3V0ZSgpO1xuICogXG4gKiBjb25zb2xlLmxvZygnUmVzdWx0OicsIGNvbW1hbmQucmVzdWx0KTtcbiAqIGNvbnNvbGUubG9nKCdTdGF0dXM6JywgY29tbWFuZC5zdGF0dXMpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBBX0NvbW1hbmQ8XG4gICAgSW52b2tlVHlwZSBleHRlbmRzIEFfVFlQRVNfX0NvbW1hbmRfSW5pdCA9IEFfVFlQRVNfX0NvbW1hbmRfSW5pdCxcbiAgICBSZXN1bHRUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgTGlmZWN5Y2xlRXZlbnRzIGV4dGVuZHMgc3RyaW5nIHwga2V5b2YgdHlwZW9mIEFfQ29tbWFuZEV2ZW50ID0ga2V5b2YgdHlwZW9mIEFfQ29tbWFuZEV2ZW50LFxuPiBleHRlbmRzIEFfRW50aXR5PEludm9rZVR5cGUsIEFfVFlQRVNfX0NvbW1hbmRfU2VyaWFsaXplZDxJbnZva2VUeXBlLCBSZXN1bHRUeXBlPj4ge1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gU3RhdGljIENvbW1hbmQgSW5mb3JtYXRpb24gPT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKipcbiAgICAgKiBTdGF0aWMgY29tbWFuZCBpZGVudGlmaWVyIGRlcml2ZWQgZnJvbSB0aGUgY2xhc3MgbmFtZVxuICAgICAqIFVzZWQgZm9yIGNvbW1hbmQgcmVnaXN0cmF0aW9uIGFuZCBzZXJpYWxpemF0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGdldCBjb2RlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBzdXBlci5lbnRpdHk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gSW5zdGFuY2UgUHJvcGVydGllcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvKiogVGhlIG9yaWdpbiBvZiB0aGUgY29tbWFuZCwgdXNlZCB0byBrbm93IGhhcyBpdCBiZWVuIGNyZWF0ZWQgZnJvbSBzZXJpYWxpemF0aW9uIG9yIGludm9rZWQgKi9cbiAgICBwcm90ZWN0ZWQgX29yaWdpbiE6ICdpbnZva2VkJyB8ICdzZXJpYWxpemVkJztcblxuICAgIC8qKiBDb21tYW5kIGV4ZWN1dGlvbiBzY29wZSBmb3IgZGVwZW5kZW5jeSBpbmplY3Rpb24gYW5kIGZlYXR1cmUgcmVzb2x1dGlvbiAqL1xuICAgIHByb3RlY3RlZCBfZXhlY3V0aW9uU2NvcGUhOiBBX1Njb3BlO1xuXG4gICAgLyoqIFJlc3VsdCBkYXRhIHByb2R1Y2VkIGJ5IHN1Y2Nlc3NmdWwgY29tbWFuZCBleGVjdXRpb24gKi9cbiAgICBwcm90ZWN0ZWQgX3Jlc3VsdD86IFJlc3VsdFR5cGU7XG5cbiAgICAvKiogU2V0IG9mIGVycm9ycyB0aGF0IG9jY3VycmVkIGR1cmluZyBjb21tYW5kIGV4ZWN1dGlvbiAqL1xuICAgIHByb3RlY3RlZCBfZXJyb3IhOiBBX0Vycm9yO1xuXG4gICAgLyoqIENvbW1hbmQgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVycyAqL1xuICAgIHByb3RlY3RlZCBfcGFyYW1zITogSW52b2tlVHlwZTtcblxuICAgIC8qKiBDdXJyZW50IGxpZmVjeWNsZSBzdGF0dXMgb2YgdGhlIGNvbW1hbmQgKi9cbiAgICBwcm90ZWN0ZWQgX3N0YXR1cyE6IEFfQ29tbWFuZF9TdGF0dXNcblxuICAgIC8qKiBNYXAgb2YgZXZlbnQgbGlzdGVuZXJzIG9yZ2FuaXplZCBieSBldmVudCBuYW1lICovXG4gICAgcHJvdGVjdGVkIF9saXN0ZW5lcnM6IE1hcDxcbiAgICAgICAgTGlmZWN5Y2xlRXZlbnRzIHwga2V5b2YgdHlwZW9mIEFfQ29tbWFuZEV2ZW50LFxuICAgICAgICBTZXQ8QV9UWVBFU19fQ29tbWFuZF9MaXN0ZW5lcjxJbnZva2VUeXBlLCBSZXN1bHRUeXBlLCBMaWZlY3ljbGVFdmVudHM+PlxuICAgID4gPSBuZXcgTWFwKCk7XG5cbiAgICAvKiogVGltZXN0YW1wIHdoZW4gY29tbWFuZCBleGVjdXRpb24gc3RhcnRlZCAqL1xuICAgIHByb3RlY3RlZCBfc3RhcnRUaW1lPzogRGF0ZTtcblxuICAgIC8qKiBUaW1lc3RhbXAgd2hlbiBjb21tYW5kIGV4ZWN1dGlvbiBlbmRlZCAqL1xuICAgIHByb3RlY3RlZCBfZW5kVGltZT86IERhdGU7XG5cbiAgICAvKiogVGltZXN0YW1wIHdoZW4gY29tbWFuZCB3YXMgY3JlYXRlZCAqL1xuICAgIHByb3RlY3RlZCBfY3JlYXRlZEF0ITogRGF0ZTtcblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gUHVibGljIEdldHRlciBQcm9wZXJ0aWVzID09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFRvdGFsIGV4ZWN1dGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHNcbiAgICAgKiBcbiAgICAgKiAtIElmIGNvbXBsZXRlZC9mYWlsZWQ6IFJldHVybnMgdG90YWwgdGltZSBmcm9tIHN0YXJ0IHRvIGVuZFxuICAgICAqIC0gSWYgY3VycmVudGx5IGV4ZWN1dGluZzogUmV0dXJucyBlbGFwc2VkIHRpbWUgc2luY2Ugc3RhcnRcbiAgICAgKiAtIElmIG5vdCBzdGFydGVkOiBSZXR1cm5zIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGdldCBkdXJhdGlvbigpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5kVGltZSAmJiB0aGlzLl9zdGFydFRpbWVcbiAgICAgICAgICAgID8gdGhpcy5fZW5kVGltZS5nZXRUaW1lKCkgLSB0aGlzLl9zdGFydFRpbWUuZ2V0VGltZSgpXG4gICAgICAgICAgICA6IHRoaXMuX3N0YXJ0VGltZVxuICAgICAgICAgICAgICAgID8gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLl9zdGFydFRpbWUuZ2V0VGltZSgpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWRsZSB0aW1lIGJlZm9yZSBleGVjdXRpb24gc3RhcnRlZCBpbiBtaWxsaXNlY29uZHNcbiAgICAgKiBcbiAgICAgKiBUaW1lIGJldHdlZW4gY29tbWFuZCBjcmVhdGlvbiBhbmQgZXhlY3V0aW9uIHN0YXJ0LlxuICAgICAqIFVzZWZ1bCBmb3IgbW9uaXRvcmluZyBjb21tYW5kIHF1ZXVlIHBlcmZvcm1hbmNlLlxuICAgICAqL1xuICAgIGdldCBpZGxlVGltZSgpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRUaW1lICYmIHRoaXMuX2NyZWF0ZWRBdFxuICAgICAgICAgICAgPyB0aGlzLl9zdGFydFRpbWUuZ2V0VGltZSgpIC0gdGhpcy5fY3JlYXRlZEF0LmdldFRpbWUoKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tbWFuZCBleGVjdXRpb24gc2NvcGUgZm9yIGRlcGVuZGVuY3kgaW5qZWN0aW9uXG4gICAgICogXG4gICAgICogUHJvdmlkZXMgYWNjZXNzIHRvIGNvbXBvbmVudHMsIHNlcnZpY2VzLCBhbmQgc2hhcmVkIHJlc291cmNlc1xuICAgICAqIGR1cmluZyBjb21tYW5kIGV4ZWN1dGlvbi4gSW5oZXJpdHMgZnJvbSB0aGUgc2NvcGUgd2hlcmUgdGhlXG4gICAgICogY29tbWFuZCB3YXMgcmVnaXN0ZXJlZC5cbiAgICAgKi9cbiAgICBnZXQgc2NvcGUoKTogQV9TY29wZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9leGVjdXRpb25TY29wZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0aW9uIGNvbnRleHQgYXNzb2NpYXRlZCB3aXRoIHRoZSBjb21tYW5kXG4gICAgICovXG4gICAgZ2V0IGNvbnRleHQoKTogQV9FeGVjdXRpb25Db250ZXh0PEFfQ29tbWFuZF9FeGVjdXRpb25Db250ZXh0PEludm9rZVR5cGUsIFJlc3VsdFR5cGU+PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnJlc29sdmUoQV9FeGVjdXRpb25Db250ZXh0PEFfQ29tbWFuZF9FeGVjdXRpb25Db250ZXh0PEludm9rZVR5cGUsIFJlc3VsdFR5cGU+PikhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBjb21tYW5kIHR5cGUgaWRlbnRpZmllclxuICAgICAqIFxuICAgICAqIERlcml2ZWQgZnJvbSB0aGUgY2xhc3MgbmFtZSBhbmQgdXNlZCBmb3I6XG4gICAgICogLSBDb21tYW5kIHJlZ2lzdHJhdGlvbiBhbmQgcmVzb2x1dGlvblxuICAgICAqIC0gU2VyaWFsaXphdGlvbiBhbmQgZGVzZXJpYWxpemF0aW9uXG4gICAgICogLSBMb2dnaW5nIGFuZCBkZWJ1Z2dpbmdcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZSAnY3JlYXRlLXVzZXItY29tbWFuZCcsICdwcm9jZXNzLW9yZGVyLWNvbW1hbmQnXG4gICAgICovXG4gICAgZ2V0IGNvZGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBBX0NvbW1hbmQpLmNvZGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgbGlmZWN5Y2xlIHN0YXR1cyBvZiB0aGUgY29tbWFuZFxuICAgICAqIFxuICAgICAqIEluZGljYXRlcyB0aGUgY3VycmVudCBwaGFzZSBpbiB0aGUgY29tbWFuZCBleGVjdXRpb24gbGlmZWN5Y2xlLlxuICAgICAqIFVzZWQgdG8gdHJhY2sgcHJvZ3Jlc3MgYW5kIGRldGVybWluZSBhdmFpbGFibGUgb3BlcmF0aW9ucy5cbiAgICAgKi9cbiAgICBnZXQgc3RhdHVzKCk6IEFfQ29tbWFuZF9TdGF0dXMge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRpbWVzdGFtcCB3aGVuIHRoZSBjb21tYW5kIHdhcyBjcmVhdGVkXG4gICAgICogXG4gICAgICogTWFya3MgdGhlIGluaXRpYWwgaW5zdGFudGlhdGlvbiB0aW1lLCB1c2VmdWwgZm9yIHRyYWNraW5nXG4gICAgICogY29tbWFuZCBhZ2UgYW5kIHF1ZXVlIHBlcmZvcm1hbmNlIG1ldHJpY3MuXG4gICAgICovXG4gICAgZ2V0IGNyZWF0ZWRBdCgpOiBEYXRlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZWRBdCE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGltZXN0YW1wIHdoZW4gY29tbWFuZCBleGVjdXRpb24gc3RhcnRlZFxuICAgICAqIFxuICAgICAqIFVuZGVmaW5lZCB1bnRpbCBleGVjdXRpb24gYmVnaW5zLiBVc2VkIGZvciBjYWxjdWxhdGluZ1xuICAgICAqIGV4ZWN1dGlvbiBkdXJhdGlvbiBhbmQgaWRsZSB0aW1lLlxuICAgICAqL1xuICAgIGdldCBzdGFydGVkQXQoKTogRGF0ZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFydFRpbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGltZXN0YW1wIHdoZW4gY29tbWFuZCBleGVjdXRpb24gZW5kZWRcbiAgICAgKiBcbiAgICAgKiBTZXQgd2hlbiBjb21tYW5kIHJlYWNoZXMgQ09NUExFVEVEIG9yIEZBSUxFRCBzdGF0dXMuXG4gICAgICogVXNlZCBmb3IgY2FsY3VsYXRpbmcgdG90YWwgZXhlY3V0aW9uIGR1cmF0aW9uLlxuICAgICAqL1xuICAgIGdldCBlbmRlZEF0KCk6IERhdGUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5kVGltZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXN1bHQgZGF0YSBwcm9kdWNlZCBieSBjb21tYW5kIGV4ZWN1dGlvblxuICAgICAqIFxuICAgICAqIENvbnRhaW5zIHRoZSBvdXRwdXQgZGF0YSBmcm9tIHN1Y2Nlc3NmdWwgY29tbWFuZCBleGVjdXRpb24uXG4gICAgICogVW5kZWZpbmVkIHVudGlsIGNvbW1hbmQgY29tcGxldGVzIHN1Y2Nlc3NmdWxseS5cbiAgICAgKi9cbiAgICBnZXQgcmVzdWx0KCk6IFJlc3VsdFR5cGUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFycmF5IG9mIGVycm9ycyB0aGF0IG9jY3VycmVkIGR1cmluZyBleGVjdXRpb25cbiAgICAgKiBcbiAgICAgKiBBdXRvbWF0aWNhbGx5IHdyYXBzIG5hdGl2ZSBlcnJvcnMgaW4gQV9FcnJvciBpbnN0YW5jZXNcbiAgICAgKiBmb3IgY29uc2lzdGVudCBlcnJvciBoYW5kbGluZy4gRW1wdHkgYXJyYXkgaWYgbm8gZXJyb3JzIG9jY3VycmVkLlxuICAgICAqL1xuICAgIGdldCBlcnJvcigpOiBBX0Vycm9yIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbW1hbmQgaW5pdGlhbGl6YXRpb24gcGFyYW1ldGVyc1xuICAgICAqIFxuICAgICAqIENvbnRhaW5zIHRoZSBpbnB1dCBkYXRhIHVzZWQgdG8gY3JlYXRlIGFuZCBjb25maWd1cmUgdGhlIGNvbW1hbmQuXG4gICAgICogVGhlc2UgcGFyYW1ldGVycyBhcmUgaW1tdXRhYmxlIGR1cmluZyBjb21tYW5kIGV4ZWN1dGlvbi5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBX0Vycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tbWFuZCBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzXG4gICAgICogXG4gICAgICogQ29udGFpbnMgdGhlIGlucHV0IGRhdGEgdXNlZCB0byBjcmVhdGUgYW5kIGNvbmZpZ3VyZSB0aGUgY29tbWFuZC5cbiAgICAgKiBUaGVzZSBwYXJhbWV0ZXJzIGFyZSBpbW11dGFibGUgZHVyaW5nIGNvbW1hbmQgZXhlY3V0aW9uLlxuICAgICAqL1xuICAgIGdldCBwYXJhbXMoKTogSW52b2tlVHlwZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHRoZSBjb21tYW5kIGhhcyBiZWVuIHByb2Nlc3NlZCAoY29tcGxldGVkIG9yIGZhaWxlZClcbiAgICAgKiBcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGNvbW1hbmQgaGFzIGNvbXBsZXRlZCBvciBmYWlsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBnZXQgaXNQcm9jZXNzZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXMgPT09IEFfQ29tbWFuZF9TdGF0dXMuQ09NUExFVEVEXG4gICAgICAgICAgICB8fCB0aGlzLl9zdGF0dXMgPT09IEFfQ29tbWFuZF9TdGF0dXMuRkFJTEVEO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEEtQ29tbWFuZCByZXByZXNlbnRzIGFuIGV4ZWN1dGFibGUgY29tbWFuZCB3aXRoIGEgc3BlY2lmaWMgY29kZSBhbmQgcGFyYW1ldGVycy5cbiAgICAgKiBJdCBjYW4gYmUgZXhlY3V0ZWQgd2l0aGluIGEgZ2l2ZW4gc2NvcGUgYW5kIHN0b3JlcyBleGVjdXRpb24gcmVzdWx0cyBhbmQgZXJyb3JzLlxuICAgICAqIFxuICAgICAqIFxuICAgICAqIEEtQ29tbWFuZCBzaG91bGQgYmUgY29udGV4dCBpbmRlcGVuZGVudCBhbmQgZXhlY3V0aW9uIGxvZ2ljIHNob3VsZCBiZSBiYXNlZCBvbiBhdHRhY2hlZCBjb21wb25lbnRzIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBjb2RlIFxuICAgICAqIEBwYXJhbSBwYXJhbXMgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21tYW5kIGludm9jYXRpb24gcGFyYW1ldGVyc1xuICAgICAgICAgKi9cbiAgICAgICAgcGFyYW1zOiBJbnZva2VUeXBlIHwgQV9UWVBFU19fQ29tbWFuZF9TZXJpYWxpemVkPEludm9rZVR5cGUsIFJlc3VsdFR5cGU+IHwgc3RyaW5nLFxuICAgICkge1xuICAgICAgICBzdXBlcihwYXJhbXMgYXMgYW55KTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIEEtU3RhdGVNYWNoaW5lIEZlYXR1cmUgRXh0ZW5zaW9uc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TdGF0ZU1hY2hpbmVGZWF0dXJlcy5vbkJlZm9yZVRyYW5zaXRpb25dKFxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uKSB0cmFuc2l0aW9uOiBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24sXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKSB7XG4gICAgICAgIHRoaXMuY2hlY2tTY29wZUluaGVyaXRhbmNlKCk7XG5cbiAgICAgICAgLy8gIGFuZCByZWdpc3RlciBhbGwgYWxsb3dlZCBzdGF0dXMgdHJhbnNpdGlvbnNcbiAgICAgICAgLy8gIHN3aXRjaCBhY3Jvc3MgYWxsb3dlZCB0cmFuc2l0aW9ucywgaWYgbm90IGFsbG93ZWQgdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZygneWVsbG93JywgYENvbW1hbmQgJHt0aGlzLmFzZWlkLnRvU3RyaW5nKCl9IHRyYW5zaXRpb25pbmcgZnJvbSAke3RyYW5zaXRpb24uZnJvbX0gdG8gJHt0cmFuc2l0aW9uLnRvfWApO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZFRyYW5zaXRpb25zLkNSRUFURURfVE9fSU5JVElBTElaRURdKFxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uKSB0cmFuc2l0aW9uOiBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0dXMgIT09IEFfQ29tbWFuZF9TdGF0dXMuQ1JFQVRFRCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY3JlYXRlZEF0ID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gQV9Db21tYW5kX1N0YXR1cy5JTklUSUFMSVpFRDtcblxuICAgICAgICB0aGlzLmVtaXQoQV9Db21tYW5kRXZlbnQub25Jbml0KTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX0NvbW1hbmRUcmFuc2l0aW9ucy5JTklUSUFMSVpFRF9UT19FWEVDVVRJTkddKFxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uKSB0cmFuc2l0aW9uOiBBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0dXMgIT09IEFfQ29tbWFuZF9TdGF0dXMuSU5JVElBTElaRURcbiAgICAgICAgICAgICYmIHRoaXMuX3N0YXR1cyAhPT0gQV9Db21tYW5kX1N0YXR1cy5DUkVBVEVEXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gQV9Db21tYW5kX1N0YXR1cy5FWEVDVVRJTkc7XG5cbiAgICAgICAgdGhpcy5lbWl0KEFfQ29tbWFuZEV2ZW50Lm9uRXhlY3V0ZSk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgY29tbWFuZCBjb21wbGV0aW9uIGFmdGVyIHN1Y2Nlc3NmdWwgZXhlY3V0aW9uXG4gICAgICogXG4gICAgICogRVhFQ1VUSU9OIC0+IENPTVBMRVRFRCB0cmFuc2l0aW9uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX0NvbW1hbmRUcmFuc2l0aW9ucy5FWEVDVVRJTkdfVE9fQ09NUExFVEVEXShcbiAgICAgICAgQEFfSW5qZWN0KEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbikgdHJhbnNpdGlvbjogQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLl9lbmRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gQV9Db21tYW5kX1N0YXR1cy5DT01QTEVURUQ7XG5cbiAgICAgICAgdGhpcy5lbWl0KEFfQ29tbWFuZEV2ZW50Lm9uQ29tcGxldGUpO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGNvbW1hbmQgZmFpbHVyZSBkdXJpbmcgZXhlY3V0aW9uXG4gICAgICogXG4gICAgICogRVhFQ1VUSU9OIC0+IEZBSUxFRCB0cmFuc2l0aW9uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX0NvbW1hbmRUcmFuc2l0aW9ucy5FWEVDVVRJTkdfVE9fRkFJTEVEXShcbiAgICAgICAgQEFfSW5qZWN0KEFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbikgdHJhbnNpdGlvbjogQV9TdGF0ZU1hY2hpbmVUcmFuc2l0aW9uLFxuICAgICAgICBAQV9JbmplY3QoQV9FcnJvcikgZXJyb3I6IEFfRXJyb3IsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuX2VuZFRpbWUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IEFfQ29tbWFuZF9TdGF0dXMuRkFJTEVEO1xuXG4gICAgICAgIHRoaXMuZW1pdChBX0NvbW1hbmRFdmVudC5vbkZhaWwpO1xuICAgIH1cblxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBBLUNvbW1hbmQgTGlmZWN5Y2xlIEZlYXR1cmUgRXh0ZW5zaW9uc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgYmVoYXZpb3IgZm9yIENvbW1hbmQgSW5pdGlhbGl6YXRpb24gdXNlcyBTdGF0ZU1hY2hpbmUgdG8gdHJhbnNpdGlvbiBzdGF0ZXNcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZEZlYXR1cmVzLm9uSW5pdF0oXG4gICAgICAgIEBBX0luamVjdChBX1N0YXRlTWFjaGluZSkgc3RhdGVNYWNoaW5lOiBBX1N0YXRlTWFjaGluZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgc3RhdGVNYWNoaW5lLnRyYW5zaXRpb24oQV9Db21tYW5kX1N0YXR1cy5DUkVBVEVELCBBX0NvbW1hbmRfU3RhdHVzLklOSVRJQUxJWkVEKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIGFmdGVyOiAvLiovXG4gICAgfSlcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZEZlYXR1cmVzLm9uQmVmb3JlRXhlY3V0ZV0oXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmUpIHN0YXRlTWFjaGluZTogQV9TdGF0ZU1hY2hpbmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHN0YXRlTWFjaGluZS50cmFuc2l0aW9uKEFfQ29tbWFuZF9TdGF0dXMuSU5JVElBTElaRUQsIEFfQ29tbWFuZF9TdGF0dXMuRVhFQ1VUSU5HKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX0NvbW1hbmRGZWF0dXJlcy5vbkV4ZWN1dGVdKFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAvKipcbiAgICAgKiBCeSBEZWZhdWx0IG9uIEFmdGVyRXhlY3V0ZSBjYWxscyB0aGUgQ29tcGxldGlvbiBtZXRob2QgdG8gbWFyayB0aGUgY29tbWFuZCBhcyBjb21wbGV0ZWRcbiAgICAgKiBcbiAgICAgKiBbIV0gVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiB0byBpbXBsZW1lbnQgY3VzdG9tIGJlaGF2aW9yIHVzaW5nIEFfRmVhdHVyZSBvdmVycmlkZXNcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZEZlYXR1cmVzLm9uQWZ0ZXJFeGVjdXRlXShcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIGFmdGVyOiAvLiovXG4gICAgfSlcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfQ29tbWFuZEZlYXR1cmVzLm9uQ29tcGxldGVdKFxuICAgICAgICBAQV9JbmplY3QoQV9TdGF0ZU1hY2hpbmUpIHN0YXRlTWFjaGluZTogQV9TdGF0ZU1hY2hpbmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHN0YXRlTWFjaGluZS50cmFuc2l0aW9uKEFfQ29tbWFuZF9TdGF0dXMuRVhFQ1VUSU5HLCBBX0NvbW1hbmRfU3RhdHVzLkNPTVBMRVRFRCk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICBhZnRlcjogLy4qL1xuICAgIH0pXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX0NvbW1hbmRGZWF0dXJlcy5vbkZhaWxdKFxuICAgICAgICBAQV9EZXBlbmRlbmN5LlJlcXVpcmVkKClcbiAgICAgICAgQEFfSW5qZWN0KEFfU3RhdGVNYWNoaW5lKSBzdGF0ZU1hY2hpbmU6IEFfU3RhdGVNYWNoaW5lLFxuICAgICAgICBAQV9JbmplY3QoQV9FeGVjdXRpb25Db250ZXh0KSBvcGVyYXRpb246IEFfRXhlY3V0aW9uQ29udGV4dDxBX0NvbW1hbmRfRXhlY3V0aW9uQ29udGV4dDxJbnZva2VUeXBlLCBSZXN1bHRUeXBlPj4sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHN0YXRlTWFjaGluZS50cmFuc2l0aW9uKEFfQ29tbWFuZF9TdGF0dXMuRVhFQ1VUSU5HLCBBX0NvbW1hbmRfU3RhdHVzLkZBSUxFRCk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBBLUNvbW1hbmQgTGlmZWN5Y2xlIE1ldGhvZHNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBjb21tYW5kIGJlZm9yZSBleGVjdXRpb24uXG4gICAgICovXG4gICAgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ29tbWFuZEZlYXR1cmVzLm9uSW5pdCwgdGhpcy5zY29wZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNvbW1hbmQgbG9naWMuXG4gICAgICovXG4gICAgYXN5bmMgZXhlY3V0ZSgpOiBQcm9taXNlPGFueT4ge1xuXG4gICAgICAgIGlmICh0aGlzLmlzUHJvY2Vzc2VkKSByZXR1cm47XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tTY29wZUluaGVyaXRhbmNlKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgQV9FeGVjdXRpb25Db250ZXh0PEFfQ29tbWFuZF9FeGVjdXRpb25Db250ZXh0PEludm9rZVR5cGUsIFJlc3VsdFR5cGU+PignZXhlY3V0ZS1jb21tYW5kJyk7XG5cbiAgICAgICAgICAgIHRoaXMuc2NvcGUucmVnaXN0ZXIoY29udGV4dCk7XG5cbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9uQmVmb3JlRXhlY3V0ZUZlYXR1cmUgPSBuZXcgQV9GZWF0dXJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IEFfQ29tbWFuZEZlYXR1cmVzLm9uQmVmb3JlRXhlY3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiB0aGlzLnNjb3BlXG4gICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb25FeGVjdXRlRmVhdHVyZSA9IG5ldyBBX0ZlYXR1cmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogQV9Db21tYW5kRmVhdHVyZXMub25FeGVjdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6IHRoaXMuc2NvcGVcbiAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbkFmdGVyRXhlY3V0ZUZlYXR1cmUgPSBuZXcgQV9GZWF0dXJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IEFfQ29tbWFuZEZlYXR1cmVzLm9uQWZ0ZXJFeGVjdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6IHRoaXMuc2NvcGVcbiAgICAgICAgICAgICAgICAgICAgfSlcblxuXG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbihBX0NvbW1hbmRFdmVudC5vbkNvbXBsZXRlLCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQmVmb3JlRXhlY3V0ZUZlYXR1cmUuaW50ZXJydXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkV4ZWN1dGVGZWF0dXJlLmludGVycnVwdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25BZnRlckV4ZWN1dGVGZWF0dXJlLmludGVycnVwdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub24oQV9Db21tYW5kRXZlbnQub25GYWlsLCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQmVmb3JlRXhlY3V0ZUZlYXR1cmUuaW50ZXJydXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkV4ZWN1dGVGZWF0dXJlLmludGVycnVwdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25BZnRlckV4ZWN1dGVGZWF0dXJlLmludGVycnVwdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QodGhpcy5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgb25CZWZvcmVFeGVjdXRlRmVhdHVyZS5wcm9jZXNzKHRoaXMuc2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG9uRXhlY3V0ZUZlYXR1cmUucHJvY2Vzcyh0aGlzLnNjb3BlKTtcblxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBvbkFmdGVyRXhlY3V0ZUZlYXR1cmUucHJvY2Vzcyh0aGlzLnNjb3BlKTtcblxuICAgICAgICAgICAgICAgICAgICAvKiogb25seSBpbiBjYXNlIGl0IHdhcyByZWFsbHkgaW52b2tlZCB3ZSBhdXRvbWF0aWNhbGx5IHRyYW5zaXQgaXQgdG8gQ09NUExFVEVEIHN0YXRlICovXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcmlnaW4gPT09ICdpbnZva2VkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbGV0IHRhcmdldEVycm9yID0gZXJyb3IgaW5zdGFuY2VvZiBBX0Vycm9yXG4gICAgICAgICAgICAgICAgPyBlcnJvclxuICAgICAgICAgICAgICAgIDogbmV3IEFfQ29tbWFuZEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IEFfQ29tbWFuZEVycm9yLkV4ZWN1dGlvbkVycm9yLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGV4ZWN1dGluZyBjb21tYW5kIFwiJHt0aGlzLmFzZWlkLnRvU3RyaW5nKCl9XCIuYCxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5mYWlsKHRhcmdldEVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcmtzIHRoZSBjb21tYW5kIGFzIGNvbXBsZXRlZFxuICAgICAqIFxuICAgICAqIFxuICAgICAqIENhbGxpbmcgVGhpcyBtZXRob2Qgd2lsbCBzZXQgdGhlIGNvbW1hbmQgc3RhdHVzIHRvIENPTVBMRVRFRCwgcmVjb3JkIHRoZSBlbmQgdGltZSxcbiAgICAgKiBzdG9yZSB0aGUgcmVzdWx0LCBlbWl0IHRoZSBvbkNvbXBsZXRlIGV2ZW50LCBhbmQgZGVzdHJveSB0aGUgZXhlY3V0aW9uIHNjb3BlLlxuICAgICAqXG4gICAgICogWyFdIEFmdGVyIENhbGxpbmcgdGhpcyBtZXRob2QsIHRoZSBjb21tYW5kIGlzIGNvbnNpZGVyZWQgZnVsbHkgcHJvY2Vzc2VkIEFuZCBmdXJ0aGVyIHByb2Nlc3Npbmcgd2lsbCBiZSBJTlRFUlJVUFRFRC4gXG4gICAgICogWyFdIElmIHRoZSBjb21tYW5kIGlzIGFscmVhZHkgcHJvY2Vzc2VkIChDT01QTEVURUQgb3IgRkFJTEVEKSwgdGhpcyBtZXRob2QgZG9lcyBub3RoaW5nLlxuICAgICAqIFshXSBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHdpdGggb3B0aW9uYWwgcmVzdWx0IGRhdGEgdG8gc3RvcmUgd2l0aCB0aGUgY29tbWFuZC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gT3B0aW9uYWwgcmVzdWx0IGRhdGEgdG8gc3RvcmUgd2l0aCB0aGUgY29tbWFuZFxuICAgICAqL1xuICAgIGFzeW5jIGNvbXBsZXRlKHJlc3VsdD86IFJlc3VsdFR5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNQcm9jZXNzZWQpIHJldHVybjtcblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX0NvbW1hbmRfU3RhdHVzLkNPTVBMRVRFRDtcblxuICAgICAgICB0aGlzLl9yZXN1bHQgPSByZXN1bHQ7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfQ29tbWFuZEZlYXR1cmVzLm9uQ29tcGxldGUsIHRoaXMuc2NvcGUpO1xuXG4gICAgICAgIHRoaXMuc2NvcGUuZGVzdHJveSgpO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBNYXJrcyB0aGUgY29tbWFuZCBhcyBmYWlsZWRcbiAgICAgKi9cbiAgICBhc3luYyBmYWlsKGVycm9yPzogQV9FcnJvcikge1xuICAgICAgICBpZiAodGhpcy5pc1Byb2Nlc3NlZCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IEFfQ29tbWFuZF9TdGF0dXMuRkFJTEVEO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgICAgICB0aGlzLnNjb3BlLnJlZ2lzdGVyKGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX0NvbW1hbmRGZWF0dXJlcy5vbkZhaWwsIHRoaXMuc2NvcGUpO1xuXG4gICAgICAgIHRoaXMuc2NvcGUuZGVzdHJveSgpO1xuICAgIH1cblxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gICBcbiAgICAvLyBBLUNvbW1hbmQgRXZlbnQtRW1pdHRlciBtZXRob2RzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lciBmb3IgYSBzcGVjaWZpYyBldmVudFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBldmVudCBcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgXG4gICAgICovXG4gICAgb24oZXZlbnQ6IExpZmVjeWNsZUV2ZW50cyB8IEFfQ29tbWFuZEV2ZW50LCBsaXN0ZW5lcjogQV9UWVBFU19fQ29tbWFuZF9MaXN0ZW5lcjxJbnZva2VUeXBlLCBSZXN1bHRUeXBlLCBMaWZlY3ljbGVFdmVudHM+KSB7XG4gICAgICAgIGlmICghdGhpcy5fbGlzdGVuZXJzLmhhcyhldmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycy5zZXQoZXZlbnQsIG5ldyBTZXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLmdldChldmVudCkhLmFkZChsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGEgc3BlY2lmaWMgZXZlbnRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXZlbnQgXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFxuICAgICAqL1xuICAgIG9mZihldmVudDogTGlmZWN5Y2xlRXZlbnRzIHwgQV9Db21tYW5kRXZlbnQsIGxpc3RlbmVyOiBBX1RZUEVTX19Db21tYW5kX0xpc3RlbmVyPEludm9rZVR5cGUsIFJlc3VsdFR5cGUsIExpZmVjeWNsZUV2ZW50cz4pIHtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLmdldChldmVudCk/LmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGV2ZW50IHRvIGFsbCByZWdpc3RlcmVkIGxpc3RlbmVyc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBldmVudCBcbiAgICAgKi9cbiAgICBlbWl0KGV2ZW50OiBMaWZlY3ljbGVFdmVudHMgfCBrZXlvZiB0eXBlb2YgQV9Db21tYW5kRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLmdldChldmVudCk/LmZvckVhY2goYXN5bmMgbGlzdGVuZXIgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXIodGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBBLUVudGl0eSBCYXNlIENsYXNzIE92ZXJyaWRlc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gU2VyaWFsaXphdGlvbiAvIERlc2VyaWFsaXphdGlvblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGNyZWF0ZSBhIENvbW1hbmQgaW5zdGFuY2UgZnJvbSBuZXcgZGF0YVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBuZXdFbnRpdHkgXG4gICAgICovXG4gICAgZnJvbU5ldyhuZXdFbnRpdHk6IEludm9rZVR5cGUpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuZnJvbU5ldyhuZXdFbnRpdHkpO1xuXG4gICAgICAgIHRoaXMuX29yaWdpbiA9ICdpbnZva2VkJztcblxuICAgICAgICB0aGlzLl9leGVjdXRpb25TY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6IGBBLUNvbW1hbmQtRXhlY3V0aW9uLVNjb3BlLSR7dGhpcy5hc2VpZC50b1N0cmluZygpfWAsXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbQV9TdGF0ZU1hY2hpbmVdLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9jcmVhdGVkQXQgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuX3BhcmFtcyA9IG5ld0VudGl0eTtcblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBBX0NvbW1hbmRfU3RhdHVzLkNSRUFURUQ7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBjb252ZXJ0IHNlcmlhbGl6ZWQgZGF0YSB0byBDb21tYW5kIGluc3RhbmNlXG4gICAgICogXG4gICAgICogWyFdIEJ5IGRlZmF1bHQgaXQgb21pdHMgcGFyYW1zIGFzIHRoZXkgYXJlIG5vdCBzdG9yZWQgaW4gdGhlIHNlcmlhbGl6ZWQgZGF0YVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzZXJpYWxpemVkIFxuICAgICAqL1xuICAgIGZyb21KU09OKHNlcmlhbGl6ZWQ6IEFfVFlQRVNfX0NvbW1hbmRfU2VyaWFsaXplZDxJbnZva2VUeXBlLCBSZXN1bHRUeXBlPik6IHZvaWQge1xuICAgICAgICBzdXBlci5mcm9tSlNPTihzZXJpYWxpemVkKTtcblxuICAgICAgICB0aGlzLl9vcmlnaW4gPSAnc2VyaWFsaXplZCc7XG5cbiAgICAgICAgdGhpcy5fZXhlY3V0aW9uU2NvcGUgPSBuZXcgQV9TY29wZSh7XG4gICAgICAgICAgICBuYW1lOiBgQS1Db21tYW5kLUV4ZWN1dGlvbi1TY29wZS0ke3RoaXMuYXNlaWQudG9TdHJpbmcoKX1gLFxuICAgICAgICAgICAgY29tcG9uZW50czogW0FfU3RhdGVNYWNoaW5lXSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHNlcmlhbGl6ZWQuY3JlYXRlZEF0KSB0aGlzLl9jcmVhdGVkQXQgPSBuZXcgRGF0ZShzZXJpYWxpemVkLmNyZWF0ZWRBdCk7XG4gICAgICAgIGlmIChzZXJpYWxpemVkLnN0YXJ0ZWRBdCkgdGhpcy5fc3RhcnRUaW1lID0gbmV3IERhdGUoc2VyaWFsaXplZC5zdGFydGVkQXQpO1xuICAgICAgICBpZiAoc2VyaWFsaXplZC5lbmRlZEF0KSB0aGlzLl9lbmRUaW1lID0gbmV3IERhdGUoc2VyaWFsaXplZC5lbmRlZEF0KTtcblxuICAgICAgICB0aGlzLl9wYXJhbXMgPSBzZXJpYWxpemVkLnBhcmFtc1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBzZXJpYWxpemVkLnN0YXR1cztcblxuICAgICAgICBpZiAoc2VyaWFsaXplZC5lcnJvcilcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gbmV3IEFfQ29tbWFuZEVycm9yKHNlcmlhbGl6ZWQuZXJyb3IpXG5cbiAgICAgICAgaWYgKHNlcmlhbGl6ZWQucmVzdWx0KVxuICAgICAgICAgICAgdGhpcy5fcmVzdWx0ID0gc2VyaWFsaXplZC5yZXN1bHQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgQ29tbWFuZCBpbnN0YW5jZSB0byBhIHBsYWluIG9iamVjdFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHRvSlNPTigpOiBBX1RZUEVTX19Db21tYW5kX1NlcmlhbGl6ZWQ8SW52b2tlVHlwZSwgUmVzdWx0VHlwZT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMuX3N0YXR1cyxcbiAgICAgICAgICAgIHBhcmFtczogdGhpcy5fcGFyYW1zLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiB0aGlzLl9jcmVhdGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHN0YXJ0ZWRBdDogdGhpcy5fc3RhcnRUaW1lID8gdGhpcy5fc3RhcnRUaW1lLnRvSVNPU3RyaW5nKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbmRlZEF0OiB0aGlzLl9lbmRUaW1lID8gdGhpcy5fZW5kVGltZS50b0lTT1N0cmluZygpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb24sXG4gICAgICAgICAgICBpZGxlVGltZTogdGhpcy5pZGxlVGltZSxcbiAgICAgICAgICAgIHJlc3VsdDogdGhpcy5yZXN1bHQsXG4gICAgICAgICAgICBlcnJvcjogdGhpcy5lcnJvciA/IHRoaXMuZXJyb3IudG9KU09OKCkgOiB1bmRlZmluZWQsXG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlcnMgTWV0aG9kc1xuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoYXQgdGhlIGNvbW1hbmQncyBleGVjdXRpb24gc2NvcGUgaW5oZXJpdHMgZnJvbSB0aGUgY29udGV4dCBzY29wZVxuICAgICAqIFxuICAgICAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgY29tbWFuZCBpcyBub3QgYm91bmQgdG8gYW55IGNvbnRleHQgc2NvcGVcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY2hlY2tTY29wZUluaGVyaXRhbmNlKCk6IHZvaWQge1xuICAgICAgICBsZXQgYXR0YWNoZWRTY29wZTogQV9TY29wZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXR0YWNoZWRTY29wZSA9IEFfQ29udGV4dC5zY29wZSh0aGlzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbW1hbmRFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfQ29tbWFuZEVycm9yLkNvbW1hbmRTY29wZUJpbmRpbmdFcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYENvbW1hbmQgJHt0aGlzLmFzZWlkLnRvU3RyaW5nKCl9IGlzIG5vdCBib3VuZCB0byBhbnkgY29udGV4dCBzY29wZS4gRW5zdXJlIHRoZSBjb21tYW5kIGlzIHByb3Blcmx5IHJlZ2lzdGVyZWQgd2l0aGluIGEgY29udGV4dCBiZWZvcmUgZXhlY3V0aW9uLmAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnNjb3BlLmlzSW5oZXJpdGVkRnJvbShBX0NvbnRleHQuc2NvcGUodGhpcykpKSB7XG4gICAgICAgICAgICB0aGlzLnNjb3BlLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuIiwgImltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBJZnNwb2x5ZmlsbCB9IGZyb20gXCIuLi9BLVBvbHlmaWxsLnR5cGVzXCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCIuLi8uLi9BLUxvZ2dlci9BLUxvZ2dlci5jb21wb25lbnRcIjtcblxuZXhwb3J0IGNsYXNzIEFfRlNQb2x5ZmlsbENsYXNzIHtcbiAgICBwcml2YXRlIF9mcyE6IElmc3BvbHlmaWxsO1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIGxvZ2dlcjogQV9Mb2dnZXJcbiAgICApIHtcblxuICAgIH1cblxuICAgIGdldCBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG5cbiAgICBhc3luYyBnZXQoKTogUHJvbWlzZTxJZnNwb2x5ZmlsbD4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZnM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbml0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudD09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuX2ZzID0gYXdhaXQgaW1wb3J0KCdmcycpIGFzIElmc3BvbHlmaWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdEJyb3dzZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2ZzID0ge1xuICAgICAgICAgICAgcmVhZEZpbGVTeW5jOiAocGF0aDogc3RyaW5nLCBlbmNvZGluZzogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnZnMucmVhZEZpbGVTeW5jIG5vdCBhdmFpbGFibGUgaW4gYnJvd3NlciBlbnZpcm9ubWVudCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleGlzdHNTeW5jOiAocGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnZnMuZXhpc3RzU3luYyBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXIgZW52aXJvbm1lbnQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3JlYXRlUmVhZFN0cmVhbTogKHBhdGg6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoJ2ZzLmNyZWF0ZVJlYWRTdHJlYW0gbm90IGF2YWlsYWJsZSBpbiBicm93c2VyIGVudmlyb25tZW50Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgSWNyeXB0b0ludGVyZmFjZSwgSWZzcG9seWZpbGwgfSBmcm9tIFwiLi4vQS1Qb2x5ZmlsbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBBX0NyeXB0b1BvbHlmaWxsQ2xhc3Mge1xuICAgIHByaXZhdGUgX2NyeXB0byE6IEljcnlwdG9JbnRlcmZhY2U7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9mc1BvbHlmaWxsPzogSWZzcG9seWZpbGw7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIGxvZ2dlcjogQV9Mb2dnZXJcbiAgICApIHtcbiAgICB9XG5cbiAgICBnZXQgaXNJbml0aWFsaXplZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkO1xuICAgIH1cblxuICAgIGFzeW5jIGdldChmc1BvbHlmaWxsPzogSWZzcG9seWZpbGwpOiBQcm9taXNlPEljcnlwdG9JbnRlcmZhY2U+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy5fZnNQb2x5ZmlsbCA9IGZzUG9seWZpbGw7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY3J5cHRvO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0U2VydmVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdFNlcnZlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgY3J5cHRvID0gYXdhaXQgaW1wb3J0KCdjcnlwdG8nKTtcbiAgICAgICAgdGhpcy5fY3J5cHRvID0ge1xuICAgICAgICAgICAgY3JlYXRlVGV4dEhhc2g6ICh0ZXh0OiBzdHJpbmcsIGFsZ29yaXRobTogc3RyaW5nID0gJ3NoYTM4NCcpID0+IFByb21pc2UucmVzb2x2ZShcbiAgICAgICAgICAgICAgICBgJHthbGdvcml0aG19LSR7Y3J5cHRvLmNyZWF0ZUhhc2goYWxnb3JpdGhtKS51cGRhdGUodGV4dCkuZGlnZXN0KCdiYXNlNjQnKX1gXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgY3JlYXRlRmlsZUhhc2g6IChmaWxlUGF0aDogc3RyaW5nLCBhbGdvcml0aG06IHN0cmluZyA9ICdzaGEzODQnKSA9PiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9mc1BvbHlmaWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZTIHBvbHlmaWxsIGlzIHJlcXVpcmVkIGZvciBmaWxlIGhhc2hpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNoID0gY3J5cHRvLmNyZWF0ZUhhc2goYWxnb3JpdGhtKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZVN0cmVhbSA9IHRoaXMuX2ZzUG9seWZpbGwuY3JlYXRlUmVhZFN0cmVhbShmaWxlUGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVTdHJlYW0ub24oJ2RhdGEnLCAoZGF0YTogYW55KSA9PiBoYXNoLnVwZGF0ZShkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVTdHJlYW0ub24oJ2VuZCcsICgpID0+IHJlc29sdmUoYCR7YWxnb3JpdGhtfS0ke2hhc2guZGlnZXN0KCdiYXNlNjQnKX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVTdHJlYW0ub24oJ2Vycm9yJywgKGVycjogYW55KSA9PiByZWplY3QoZXJyKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdEJyb3dzZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2NyeXB0byA9IHtcbiAgICAgICAgICAgIGNyZWF0ZUZpbGVIYXNoOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnRmlsZSBoYXNoIG5vdCBhdmFpbGFibGUgaW4gYnJvd3NlciBlbnZpcm9ubWVudCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNyZWF0ZVRleHRIYXNoOiAodGV4dDogc3RyaW5nLCBhbGdvcml0aG06IHN0cmluZyA9ICdTSEEtMzg0JykgPT4gbmV3IFByb21pc2U8c3RyaW5nPihhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjcnlwdG8uc3VidGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1YnRsZUNyeXB0byBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gZW5jb2Rlci5lbmNvZGUodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc2hCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChhbGdvcml0aG0sIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzaEJhc2U2NCA9IGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZSguLi5oYXNoQXJyYXkpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShgJHthbGdvcml0aG19LSR7aGFzaEJhc2U2NH1gKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgSWh0dHBJbnRlcmZhY2UgfSBmcm9tIFwiLi4vQS1Qb2x5ZmlsbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBBX0h0dHBQb2x5ZmlsbENsYXNzIHtcbiAgICBwcml2YXRlIF9odHRwITogSWh0dHBJbnRlcmZhY2U7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuXG4gICAgfVxuXG4gICAgZ2V0IGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZDtcbiAgICB9XG5cbiAgICBhc3luYyBnZXQoKTogUHJvbWlzZTxJaHR0cEludGVyZmFjZT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faHR0cDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGh0dHBNb2R1bGUgPSBhd2FpdCBpbXBvcnQoJ2h0dHAnKTtcbiAgICAgICAgdGhpcy5faHR0cCA9IHtcbiAgICAgICAgICAgIHJlcXVlc3Q6IGh0dHBNb2R1bGUucmVxdWVzdCxcbiAgICAgICAgICAgIGdldDogaHR0cE1vZHVsZS5nZXQsXG4gICAgICAgICAgICBjcmVhdGVTZXJ2ZXI6IGh0dHBNb2R1bGUuY3JlYXRlU2VydmVyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0QnJvd3NlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5faHR0cCA9IHtcbiAgICAgICAgICAgIHJlcXVlc3Q6IChvcHRpb25zOiBhbnksIGNhbGxiYWNrPzogKHJlczogYW55KSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnaHR0cC5yZXF1ZXN0IG5vdCBhdmFpbGFibGUgaW4gYnJvd3Nlci90ZXN0IGVudmlyb25tZW50LCB1c2UgZmV0Y2ggaW5zdGVhZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZU1vY2tSZXF1ZXN0KG9wdGlvbnMsIGNhbGxiYWNrLCBmYWxzZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiAodXJsOiBzdHJpbmcgfCBhbnksIGNhbGxiYWNrPzogKHJlczogYW55KSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZygnaHR0cC5nZXQgbm90IGF2YWlsYWJsZSBpbiBicm93c2VyL3Rlc3QgZW52aXJvbm1lbnQsIHVzZSBmZXRjaCBpbnN0ZWFkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlTW9ja1JlcXVlc3QodHlwZW9mIHVybCA9PT0gJ3N0cmluZycgPyB7IGhvc3RuYW1lOiB1cmwgfSA6IHVybCwgY2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVhdGVTZXJ2ZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignaHR0cC5jcmVhdGVTZXJ2ZXIgbm90IGF2YWlsYWJsZSBpbiBicm93c2VyL3Rlc3QgZW52aXJvbm1lbnQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZU1vY2tSZXF1ZXN0KG9wdGlvbnM6IGFueSwgY2FsbGJhY2s/OiAocmVzOiBhbnkpID0+IHZvaWQsIGlzSHR0cHM6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICAvLyBSZXR1cm4gYSBtb2NrIHJlcXVlc3QgdGhhdCBkb2Vzbid0IG1ha2UgcmVhbCBuZXR3b3JrIGNhbGxzXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgICAgICBlbmQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBNb2NrIHJlc3BvbnNlIGZvciBhbGwgZW52aXJvbm1lbnRzXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb246IChldmVudDogc3RyaW5nLCBoYW5kbGVyOiBGdW5jdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudCA9PT0gJ2RhdGEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gaGFuZGxlcignbW9jayBkYXRhJyksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdlbmQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gaGFuZGxlcigpLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGlwZTogKGRlc3Q6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXN0LndyaXRlKSBkZXN0LndyaXRlKCdtb2NrIGRhdGEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVzdC5lbmQpIGRlc3QuZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gY2FsbGJhY2sobW9ja1Jlc3BvbnNlKSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdyaXRlOiAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTW9jayB3cml0ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uOiAoZXZlbnQ6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAvLyBNb2NrIGV2ZW50IGhhbmRsaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgSWh0dHBzSW50ZXJmYWNlIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwudHlwZXNcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgQV9IdHRwc1BvbHlmaWxsQ2xhc3Mge1xuICAgIHByaXZhdGUgX2h0dHBzITogSWh0dHBzSW50ZXJmYWNlO1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIGxvZ2dlcjogQV9Mb2dnZXJcbiAgICApIHtcblxuICAgIH1cblxuICAgIGdldCBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0KCk6IFByb21pc2U8SWh0dHBzSW50ZXJmYWNlPiB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwcztcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGh0dHBzTW9kdWxlID0gYXdhaXQgaW1wb3J0KCdodHRwcycpO1xuICAgICAgICB0aGlzLl9odHRwcyA9IHtcbiAgICAgICAgICAgIHJlcXVlc3Q6IGh0dHBzTW9kdWxlLnJlcXVlc3QsXG4gICAgICAgICAgICBnZXQ6IGh0dHBzTW9kdWxlLmdldCxcbiAgICAgICAgICAgIGNyZWF0ZVNlcnZlcjogaHR0cHNNb2R1bGUuY3JlYXRlU2VydmVyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0QnJvd3NlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5faHR0cHMgPSB7XG4gICAgICAgICAgICByZXF1ZXN0OiAob3B0aW9uczogYW55LCBjYWxsYmFjaz86IChyZXM6IGFueSkgPT4gdm9pZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoJ2h0dHBzLnJlcXVlc3Qgbm90IGF2YWlsYWJsZSBpbiBicm93c2VyL3Rlc3QgZW52aXJvbm1lbnQsIHVzZSBmZXRjaCBpbnN0ZWFkJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlTW9ja1JlcXVlc3Qob3B0aW9ucywgY2FsbGJhY2ssIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogKHVybDogc3RyaW5nIHwgYW55LCBjYWxsYmFjaz86IChyZXM6IGFueSkgPT4gdm9pZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoJ2h0dHBzLmdldCBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXIvdGVzdCBlbnZpcm9ubWVudCwgdXNlIGZldGNoIGluc3RlYWQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVNb2NrUmVxdWVzdCh0eXBlb2YgdXJsID09PSAnc3RyaW5nJyA/IHsgaG9zdG5hbWU6IHVybCB9IDogdXJsLCBjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3JlYXRlU2VydmVyOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ2h0dHBzLmNyZWF0ZVNlcnZlciBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXIvdGVzdCBlbnZpcm9ubWVudCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlTW9ja1JlcXVlc3Qob3B0aW9uczogYW55LCBjYWxsYmFjaz86IChyZXM6IGFueSkgPT4gdm9pZCwgaXNIdHRwczogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgLy8gUmV0dXJuIGEgbW9jayByZXF1ZXN0IHRoYXQgZG9lc24ndCBtYWtlIHJlYWwgbmV0d29yayBjYWxsc1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgZW5kOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTW9jayByZXNwb25zZSBmb3IgYWxsIGVudmlyb25tZW50c1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2NrUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOiAoZXZlbnQ6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdkYXRhJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGhhbmRsZXIoJ21vY2sgZGF0YScpLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnZW5kJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGhhbmRsZXIoKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpcGU6IChkZXN0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVzdC53cml0ZSkgZGVzdC53cml0ZSgnbW9jayBkYXRhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3QuZW5kKSBkZXN0LmVuZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGNhbGxiYWNrKG1vY2tSZXNwb25zZSksIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3cml0ZTogKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIE1vY2sgd3JpdGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbjogKGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTW9jayBldmVudCBoYW5kbGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IElwYXRoSW50ZXJmYWNlIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwudHlwZXNcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgQV9QYXRoUG9seWZpbGxDbGFzcyB7XG4gICAgcHJpdmF0ZSBfcGF0aCE6IElwYXRoSW50ZXJmYWNlO1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJvdGVjdGVkIGxvZ2dlcjogQV9Mb2dnZXJcbiAgICApIHtcblxuICAgIH1cblxuICAgIGdldCBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6ZWQ7XG4gICAgfVxuXG5cbiAgICBhc3luYyBnZXQoKTogUHJvbWlzZTxJcGF0aEludGVyZmFjZT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcGF0aDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuX3BhdGggPSBhd2FpdCBpbXBvcnQoJ3BhdGgnKSBhcyBJcGF0aEludGVyZmFjZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRCcm93c2VyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9wYXRoID0ge1xuICAgICAgICAgICAgam9pbjogKC4uLnBhdGhzOiBzdHJpbmdbXSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRocy5qb2luKCcvJykucmVwbGFjZSgvXFwvKy9nLCAnLycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc29sdmU6ICguLi5wYXRoczogc3RyaW5nW10pID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzb2x2ZWRQYXRoID0gJyc7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYXRoIG9mIHBhdGhzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRQYXRoID0gcGF0aDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkUGF0aCA9IHRoaXMuX3BhdGguam9pbihyZXNvbHZlZFBhdGgsIHBhdGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlZFBhdGggfHwgJy8nO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpcm5hbWU6IChwYXRoOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFydHMuc2xpY2UoMCwgLTEpLmpvaW4oJy8nKSB8fCAnLyc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmFzZW5hbWU6IChwYXRoOiBzdHJpbmcsIGV4dD86IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSBwYXRoLnNwbGl0KCcvJykucG9wKCkgfHwgJyc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4dCAmJiBiYXNlLmVuZHNXaXRoKGV4dCkgPyBiYXNlLnNsaWNlKDAsIC1leHQubGVuZ3RoKSA6IGJhc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXh0bmFtZTogKHBhdGg6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0cy5sZW5ndGggPiAxID8gJy4nICsgcGFydHMucG9wKCkgOiAnJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWxhdGl2ZTogKGZyb206IHN0cmluZywgdG86IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFNpbXBsaWZpZWQgcmVsYXRpdmUgcGF0aCBjYWxjdWxhdGlvblxuICAgICAgICAgICAgICAgIHJldHVybiB0by5yZXBsYWNlKGZyb20sICcnKS5yZXBsYWNlKC9eXFwvLywgJycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vcm1hbGl6ZTogKHBhdGg6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLysvZywgJy8nKS5yZXBsYWNlKC9cXC8kLywgJycpIHx8ICcvJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0Fic29sdXRlOiAocGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdGguc3RhcnRzV2l0aCgnLycpIHx8IC9eW2EtekEtWl06Ly50ZXN0KHBhdGgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcnNlOiAocGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gdGhpcy5fcGF0aC5leHRuYW1lKHBhdGgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLl9wYXRoLmJhc2VuYW1lKHBhdGgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLl9wYXRoLmJhc2VuYW1lKHBhdGgsIGV4dCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlyID0gdGhpcy5fcGF0aC5kaXJuYW1lKHBhdGgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHJvb3Q6ICcvJywgZGlyLCBiYXNlLCBleHQsIG5hbWUgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb3JtYXQ6IChwYXRoT2JqZWN0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGF0aC5qb2luKHBhdGhPYmplY3QuZGlyIHx8ICcnLCBwYXRoT2JqZWN0LmJhc2UgfHwgJycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlcDogJy8nLFxuICAgICAgICAgICAgZGVsaW1pdGVyOiAnOidcbiAgICAgICAgfTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBJdXJsSW50ZXJmYWNlIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwudHlwZXNcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgQV9VcmxQb2x5ZmlsbENsYXNzIHtcbiAgICBwcml2YXRlIF91cmwhOiBJdXJsSW50ZXJmYWNlO1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBnZXQgaXNJbml0aWFsaXplZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0KCk6IFByb21pc2U8SXVybEludGVyZmFjZT4ge1xuICAgICAgICBpZiAoIXRoaXMuX2luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdXJsO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0U2VydmVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEJyb3dzZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgaW5pdFNlcnZlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgdXJsTW9kdWxlID0gYXdhaXQgaW1wb3J0KCd1cmwnKTtcbiAgICAgICAgdGhpcy5fdXJsID0ge1xuICAgICAgICAgICAgcGFyc2U6IHVybE1vZHVsZS5wYXJzZSxcbiAgICAgICAgICAgIGZvcm1hdDogdXJsTW9kdWxlLmZvcm1hdCxcbiAgICAgICAgICAgIHJlc29sdmU6IHVybE1vZHVsZS5yZXNvbHZlLFxuICAgICAgICAgICAgVVJMOiAodXJsTW9kdWxlLlVSTCB8fCBnbG9iYWxUaGlzLlVSTCkgYXMgYW55LFxuICAgICAgICAgICAgVVJMU2VhcmNoUGFyYW1zOiAodXJsTW9kdWxlLlVSTFNlYXJjaFBhcmFtcyB8fCBnbG9iYWxUaGlzLlVSTFNlYXJjaFBhcmFtcykgYXMgYW55XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0QnJvd3NlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fdXJsID0ge1xuICAgICAgICAgICAgcGFyc2U6ICh1cmxTdHJpbmc6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodXJsU3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3RvY29sOiB1cmwucHJvdG9jb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0bmFtZTogdXJsLmhvc3RuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogdXJsLnBvcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRobmFtZTogdXJsLnBhdGhuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiB1cmwuc2VhcmNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzaDogdXJsLmhhc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICBob3N0OiB1cmwuaG9zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IHVybC5ocmVmXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9ybWF0OiAodXJsT2JqZWN0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVSTCgnJywgdXJsT2JqZWN0LmhyZWYgfHwgYCR7dXJsT2JqZWN0LnByb3RvY29sfS8vJHt1cmxPYmplY3QuaG9zdH0ke3VybE9iamVjdC5wYXRobmFtZX0ke3VybE9iamVjdC5zZWFyY2h9JHt1cmxPYmplY3QuaGFzaH1gKS5ocmVmO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc29sdmU6IChmcm9tOiBzdHJpbmcsIHRvOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVSTCh0bywgZnJvbSkuaHJlZjtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBVUkw6IGdsb2JhbFRoaXMuVVJMLFxuICAgICAgICAgICAgVVJMU2VhcmNoUGFyYW1zOiBnbG9iYWxUaGlzLlVSTFNlYXJjaFBhcmFtc1xuICAgICAgICB9O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IElidWZmZXJJbnRlcmZhY2UgfSBmcm9tIFwiLi4vQS1Qb2x5ZmlsbC50eXBlc1wiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBBX0J1ZmZlclBvbHlmaWxsQ2xhc3Mge1xuICAgIHByaXZhdGUgX2J1ZmZlciE6IElidWZmZXJJbnRlcmZhY2U7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuXG4gICAgfVxuXG4gICAgZ2V0IGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZDtcbiAgICB9XG5cblxuICAgIGFzeW5jIGdldCgpOiBQcm9taXNlPElidWZmZXJJbnRlcmZhY2U+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdFNlcnZlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRCcm93c2VyKCk7XG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGluaXRTZXJ2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlck1vZHVsZSA9IGF3YWl0IGltcG9ydCgnYnVmZmVyJyk7XG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IHtcbiAgICAgICAgICAgIGZyb206IGJ1ZmZlck1vZHVsZS5CdWZmZXIuZnJvbSxcbiAgICAgICAgICAgIGFsbG9jOiBidWZmZXJNb2R1bGUuQnVmZmVyLmFsbG9jLFxuICAgICAgICAgICAgYWxsb2NVbnNhZmU6IGJ1ZmZlck1vZHVsZS5CdWZmZXIuYWxsb2NVbnNhZmUsXG4gICAgICAgICAgICBpc0J1ZmZlcjogYnVmZmVyTW9kdWxlLkJ1ZmZlci5pc0J1ZmZlcixcbiAgICAgICAgICAgIGNvbmNhdDogYnVmZmVyTW9kdWxlLkJ1ZmZlci5jb25jYXRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRCcm93c2VyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9idWZmZXIgPSB7XG4gICAgICAgICAgICBmcm9tOiAoZGF0YTogYW55LCBlbmNvZGluZz86IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFsbG9jOiAoc2l6ZTogbnVtYmVyLCBmaWxsPzogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXIuZmlsbChmaWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbGxvY1Vuc2FmZTogKHNpemU6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0J1ZmZlcjogKG9iajogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgb2JqIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uY2F0OiAobGlzdDogYW55W10sIHRvdGFsTGVuZ3RoPzogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gdG90YWxMZW5ndGggfHwgbGlzdC5yZWR1Y2UoKHN1bSwgYnVmKSA9PiBzdW0gKyBidWYubGVuZ3RoLCAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICAgICAgICAgICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYnVmIG9mIGxpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldChidWYsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBidWYubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IElwcm9jZXNzSW50ZXJmYWNlIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwudHlwZXNcIjtcbmltcG9ydCB7IEFfTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL0EtTG9nZ2VyL0EtTG9nZ2VyLmNvbXBvbmVudFwiO1xuXG5leHBvcnQgY2xhc3MgQV9Qcm9jZXNzUG9seWZpbGxDbGFzcyB7XG4gICAgcHJpdmF0ZSBfcHJvY2VzcyE6IElwcm9jZXNzSW50ZXJmYWNlO1xuICAgIHByaXZhdGUgX2luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBnZXQgaXNJbml0aWFsaXplZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcm90ZWN0ZWQgbG9nZ2VyOiBBX0xvZ2dlclxuICAgICkge1xuXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0KCk6IFByb21pc2U8SXByb2Nlc3NJbnRlcmZhY2U+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3M7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBpbml0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCA9PT0gJ3NlcnZlcicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRTZXJ2ZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0QnJvd3NlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5pbml0QnJvd3NlcigpO1xuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0U2VydmVyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9wcm9jZXNzID0ge1xuICAgICAgICAgICAgZW52OiBwcm9jZXNzLmVudiBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgICAgICAgICAgYXJndjogcHJvY2Vzcy5hcmd2LFxuICAgICAgICAgICAgcGxhdGZvcm06IHByb2Nlc3MucGxhdGZvcm0sXG4gICAgICAgICAgICB2ZXJzaW9uOiBwcm9jZXNzLnZlcnNpb24sXG4gICAgICAgICAgICB2ZXJzaW9uczogcHJvY2Vzcy52ZXJzaW9ucyBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICAgICAgICAgICAgY3dkOiBwcm9jZXNzLmN3ZCxcbiAgICAgICAgICAgIGV4aXQ6IHByb2Nlc3MuZXhpdCxcbiAgICAgICAgICAgIG5leHRUaWNrOiBwcm9jZXNzLm5leHRUaWNrXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0QnJvd3NlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IHtcbiAgICAgICAgICAgIGVudjoge1xuICAgICAgICAgICAgICAgIE5PREVfRU5WOiAnYnJvd3NlcicsXG4gICAgICAgICAgICAgICAgLi4uKChnbG9iYWxUaGlzIGFzIGFueSkucHJvY2Vzcz8uZW52IHx8IHt9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFyZ3Y6IFsnYnJvd3NlciddLFxuICAgICAgICAgICAgcGxhdGZvcm06ICdicm93c2VyJyxcbiAgICAgICAgICAgIHZlcnNpb246ICdicm93c2VyJyxcbiAgICAgICAgICAgIHZlcnNpb25zOiB7IG5vZGU6ICdicm93c2VyJyB9LFxuICAgICAgICAgICAgY3dkOiAoKSA9PiAnLycsXG4gICAgICAgICAgICBleGl0OiAoY29kZT86IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoJ3Byb2Nlc3MuZXhpdCBub3QgYXZhaWxhYmxlIGluIGJyb3dzZXInKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb2Nlc3MgZXhpdCB3aXRoIGNvZGUgJHtjb2RlfWApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5leHRUaWNrOiAoY2FsbGJhY2s6IEZ1bmN0aW9uLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gY2FsbGJhY2soLi4uYXJncyksIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQsIEFfQ29uY2VwdCwgQV9Db250ZXh0LCBBX0luamVjdCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCIuLi9BLUxvZ2dlci9BLUxvZ2dlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfRlNQb2x5ZmlsbENsYXNzIH0gZnJvbSBcIi4vY2xhc3Nlcy9BLUZTLVBvbHlmaWxsLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0NyeXB0b1BvbHlmaWxsQ2xhc3MgfSBmcm9tIFwiLi9jbGFzc2VzL0EtQ3J5cHRvLVBvbHlmaWxsLmNsYXNzXCI7XG5pbXBvcnQgeyBBX0h0dHBQb2x5ZmlsbENsYXNzIH0gZnJvbSBcIi4vY2xhc3Nlcy9BLUh0dHAtUG9seWZpbGwuY2xhc3NcIjtcbmltcG9ydCB7IEFfSHR0cHNQb2x5ZmlsbENsYXNzIH0gZnJvbSBcIi4vY2xhc3Nlcy9BLUh0dHBzLVBvbHlmaWxsLmNsYXNzXCI7XG5pbXBvcnQgeyBBX1BhdGhQb2x5ZmlsbENsYXNzIH0gZnJvbSBcIi4vY2xhc3Nlcy9BLVBhdGgtUG9seWZpbGwuY2xhc3NcIjtcbmltcG9ydCB7IEFfVXJsUG9seWZpbGxDbGFzcyB9IGZyb20gXCIuL2NsYXNzZXMvQS1VcmwtUG9seWZpbGwuY2xhc3NcIjtcbmltcG9ydCB7IEFfQnVmZmVyUG9seWZpbGxDbGFzcyB9IGZyb20gXCIuL2NsYXNzZXMvQS1CdWZmZXItUG9seWZpbGwuY2xhc3NcIjtcbmltcG9ydCB7IEFfUHJvY2Vzc1BvbHlmaWxsQ2xhc3MgfSBmcm9tIFwiLi9jbGFzc2VzL0EtUHJvY2Vzcy1Qb2x5ZmlsbC5jbGFzc1wiO1xuXG5leHBvcnQgY2xhc3MgQV9Qb2x5ZmlsbCBleHRlbmRzIEFfQ29tcG9uZW50IHtcblxuICAgIHByb3RlY3RlZCBfZnNQb2x5ZmlsbCE6IEFfRlNQb2x5ZmlsbENsYXNzO1xuICAgIHByb3RlY3RlZCBfY3J5cHRvUG9seWZpbGwhOiBBX0NyeXB0b1BvbHlmaWxsQ2xhc3M7XG4gICAgcHJvdGVjdGVkIF9odHRwUG9seWZpbGwhOiBBX0h0dHBQb2x5ZmlsbENsYXNzO1xuICAgIHByb3RlY3RlZCBfaHR0cHNQb2x5ZmlsbCE6IEFfSHR0cHNQb2x5ZmlsbENsYXNzO1xuICAgIHByb3RlY3RlZCBfcGF0aFBvbHlmaWxsITogQV9QYXRoUG9seWZpbGxDbGFzcztcbiAgICBwcm90ZWN0ZWQgX3VybFBvbHlmaWxsITogQV9VcmxQb2x5ZmlsbENsYXNzO1xuICAgIHByb3RlY3RlZCBfYnVmZmVyUG9seWZpbGwhOiBBX0J1ZmZlclBvbHlmaWxsQ2xhc3M7XG4gICAgcHJvdGVjdGVkIF9wcm9jZXNzUG9seWZpbGwhOiBBX1Byb2Nlc3NQb2x5ZmlsbENsYXNzO1xuXG4gICAgcHJvdGVjdGVkIF9pbml0aWFsaXppbmc6IFByb21pc2U8dm9pZD4gfCBudWxsID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY2hhbm5lbCBpcyBjb25uZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX2luaXRpYWxpemVkPzogUHJvbWlzZTx2b2lkPjtcblxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgcHJvdGVjdGVkIGxvZ2dlcjogQV9Mb2dnZXJcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY2hhbm5lbCBpcyBjb25uZWN0ZWRcbiAgICAgKi9cbiAgICBnZXQgcmVhZHkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdGhpcy5fbG9hZEludGVybmFsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkO1xuICAgIH1cblxuXG5cbiAgICBAQV9Db25jZXB0LkxvYWQoKVxuICAgIGFzeW5jIGxvYWQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHk7XG4gICAgfVxuXG4gICAgQEFfQ29uY2VwdC5Mb2FkKClcbiAgICBhc3luYyBhdHRhY2hUb1dpbmRvdygpIHtcbiAgICAgICAgaWYgKEFfQ29udGV4dC5lbnZpcm9ubWVudCAhPT0gJ2Jyb3dzZXInKSByZXR1cm47XG5cblxuICAgICAgICAoZ2xvYmFsVGhpcyBhcyBhbnkpLkFfUG9seWZpbGwgPSB0aGlzO1xuICAgICAgICAvLyBhdHRhY2ggZW52IHZhcmlhYmxlc1xuICAgICAgICAoZ2xvYmFsVGhpcyBhcyBhbnkpLnByb2Nlc3MgPSB7IGVudjogeyBOT0RFX0VOVjogJ3Byb2R1Y3Rpb24nIH0sIGN3ZDogKCkgPT4gXCIvXCIgfTtcbiAgICAgICAgKGdsb2JhbFRoaXMgYXMgYW55KS5fX2Rpcm5hbWUgPSBcIi9cIjtcblxuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIF9sb2FkSW50ZXJuYWwoKSB7XG5cbiAgICAgICAgdGhpcy5fZnNQb2x5ZmlsbCA9IG5ldyBBX0ZTUG9seWZpbGxDbGFzcyh0aGlzLmxvZ2dlcik7XG4gICAgICAgIHRoaXMuX2NyeXB0b1BvbHlmaWxsID0gbmV3IEFfQ3J5cHRvUG9seWZpbGxDbGFzcyh0aGlzLmxvZ2dlcik7XG4gICAgICAgIHRoaXMuX2h0dHBQb2x5ZmlsbCA9IG5ldyBBX0h0dHBQb2x5ZmlsbENsYXNzKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5faHR0cHNQb2x5ZmlsbCA9IG5ldyBBX0h0dHBzUG9seWZpbGxDbGFzcyh0aGlzLmxvZ2dlcik7XG4gICAgICAgIHRoaXMuX3BhdGhQb2x5ZmlsbCA9IG5ldyBBX1BhdGhQb2x5ZmlsbENsYXNzKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5fdXJsUG9seWZpbGwgPSBuZXcgQV9VcmxQb2x5ZmlsbENsYXNzKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5fYnVmZmVyUG9seWZpbGwgPSBuZXcgQV9CdWZmZXJQb2x5ZmlsbENsYXNzKHRoaXMubG9nZ2VyKTtcbiAgICAgICAgdGhpcy5fcHJvY2Vzc1BvbHlmaWxsID0gbmV3IEFfUHJvY2Vzc1BvbHlmaWxsQ2xhc3ModGhpcy5sb2dnZXIpO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgYWxsIHBvbHlmaWxscyB0byBlbnN1cmUgdGhleSdyZSByZWFkeVxuICAgICAgICBhd2FpdCB0aGlzLl9mc1BvbHlmaWxsLmdldCgpO1xuICAgICAgICBhd2FpdCB0aGlzLl9jcnlwdG9Qb2x5ZmlsbC5nZXQoYXdhaXQgdGhpcy5fZnNQb2x5ZmlsbC5nZXQoKSk7XG4gICAgICAgIGF3YWl0IHRoaXMuX2h0dHBQb2x5ZmlsbC5nZXQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5faHR0cHNQb2x5ZmlsbC5nZXQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fcGF0aFBvbHlmaWxsLmdldCgpO1xuICAgICAgICBhd2FpdCB0aGlzLl91cmxQb2x5ZmlsbC5nZXQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fYnVmZmVyUG9seWZpbGwuZ2V0KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuX3Byb2Nlc3NQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAnZnMnIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ2ZzJyBwb2x5ZmlsbCBhbmQgcmV0dXJucyBpdHMgaW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhc3luYyBmcygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fZnNQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAnY3J5cHRvJyBwb2x5ZmlsbCBtZXRob2RzIHJlZ2FyZGxlc3Mgb2YgdGhlIGVudmlyb25tZW50XG4gICAgICogVGhpcyBtZXRob2QgbG9hZHMgdGhlICdjcnlwdG8nIHBvbHlmaWxsIGFuZCByZXR1cm5zIGl0cyBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIGNyeXB0bygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fY3J5cHRvUG9seWZpbGwuZ2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHVzZSB0aGUgJ2h0dHAnIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ2h0dHAnIHBvbHlmaWxsIGFuZCByZXR1cm5zIGl0cyBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIGh0dHAoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2h0dHBQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAnaHR0cHMnIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ2h0dHBzJyBwb2x5ZmlsbCBhbmQgcmV0dXJucyBpdHMgaW5zdGFuY2VcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhc3luYyBodHRwcygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5faHR0cHNQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAncGF0aCcgcG9seWZpbGwgbWV0aG9kcyByZWdhcmRsZXNzIG9mIHRoZSBlbnZpcm9ubWVudFxuICAgICAqIFRoaXMgbWV0aG9kIGxvYWRzIHRoZSAncGF0aCcgcG9seWZpbGwgYW5kIHJldHVybnMgaXRzIGluc3RhbmNlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgcGF0aCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fcGF0aFBvbHlmaWxsLmdldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byB1c2UgdGhlICd1cmwnIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ3VybCcgcG9seWZpbGwgYW5kIHJldHVybnMgaXRzIGluc3RhbmNlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgdXJsKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWR5O1xuXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl91cmxQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gdXNlIHRoZSAnYnVmZmVyJyBwb2x5ZmlsbCBtZXRob2RzIHJlZ2FyZGxlc3Mgb2YgdGhlIGVudmlyb25tZW50XG4gICAgICogVGhpcyBtZXRob2QgbG9hZHMgdGhlICdidWZmZXInIHBvbHlmaWxsIGFuZCByZXR1cm5zIGl0cyBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIGJ1ZmZlcigpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZWFkeTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fYnVmZmVyUG9seWZpbGwuZ2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHVzZSB0aGUgJ3Byb2Nlc3MnIHBvbHlmaWxsIG1ldGhvZHMgcmVnYXJkbGVzcyBvZiB0aGUgZW52aXJvbm1lbnRcbiAgICAgKiBUaGlzIG1ldGhvZCBsb2FkcyB0aGUgJ3Byb2Nlc3MnIHBvbHlmaWxsIGFuZCByZXR1cm5zIGl0cyBpbnN0YW5jZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIHByb2Nlc3MoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3Byb2Nlc3NQb2x5ZmlsbC5nZXQoKTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ29tcG9uZW50LCBBX0NvbmNlcHQsIEFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVksIEFfQ29udGFpbmVyLCBBX0NvbnRleHQsIEFfRGVwZW5kZW5jeSwgQV9GZWF0dXJlLCBBX0luamVjdCwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0NvbmZpZyB9IGZyb20gXCIuLi9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVkgfSBmcm9tIFwiLi4vQS1Db25maWcuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX1BvbHlmaWxsIH0gZnJvbSBcIi4uLy4uL0EtUG9seWZpbGwvQS1Qb2x5ZmlsbC5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfTWVtb3J5IH0gZnJvbSBcIi4uLy4uL0EtTWVtb3J5L0EtTWVtb3J5LmNvbXBvbmVudFwiO1xuXG4vKipcbiAqIENvbmZpZyBSZWFkZXJcbiAqL1xuZXhwb3J0IGNsYXNzIENvbmZpZ1JlYWRlciBleHRlbmRzIEFfQ29tcG9uZW50IHtcblxuICAgIHByb3RlY3RlZCBERUZBVUxUX0FMTE9XRURfVE9fUkVBRF9QUk9QRVJUSUVTID0gW1xuICAgICAgICAuLi5BX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZLFxuICAgICAgICAuLi5BX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVlcbiAgICBdO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9Qb2x5ZmlsbCkgcHJvdGVjdGVkIHBvbHlmaWxsOiBBX1BvbHlmaWxsLFxuICAgICkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIEBBX0NvbmNlcHQuTG9hZCgpXG4gICAgYXN5bmMgYXR0YWNoQ29udGV4dChcbiAgICAgICAgQEFfSW5qZWN0KEFfQ29udGFpbmVyKSBjb250YWluZXI6IEFfQ29udGFpbmVyLFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgY29udGV4dDogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfQ29uZmlnKSBjb25maWc/OiBBX0NvbmZpZzxhbnk+LFxuICAgICkge1xuICAgICAgICBpZiAoIWNvbmZpZykge1xuICAgICAgICAgICAgY29uZmlnID0gbmV3IEFfQ29uZmlnKHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0czoge31cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb250YWluZXIuc2NvcGUucmVnaXN0ZXIoY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJvb3REaXIgPSBhd2FpdCB0aGlzLmdldFByb2plY3RSb290KCk7XG5cbiAgICAgICAgY29uZmlnLnNldCgnQV9DT05DRVBUX1JPT1RfRk9MREVSJywgcm9vdERpcik7XG4gICAgfVxuXG4gICAgQEFfQ29uY2VwdC5Mb2FkKClcbiAgICBhc3luYyBpbml0aWFsaXplKFxuICAgICAgICBAQV9EZXBlbmRlbmN5LlJlcXVpcmVkKClcbiAgICAgICAgQEFfSW5qZWN0KEFfQ29uZmlnKSBjb25maWc6IEFfQ29uZmlnLFxuICAgICkge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5yZWFkKCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgY29uZmlnLnNldChrZXksIGRhdGFba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbmZpZ3VyYXRpb24gcHJvcGVydHkgYnkgTmFtZVxuICAgICAqIEBwYXJhbSBwcm9wZXJ0eSBcbiAgICAgKi9cbiAgICByZXNvbHZlPF9SZXR1cm5UeXBlID0gYW55Pihwcm9wZXJ0eTogc3RyaW5nKTogX1JldHVyblR5cGUge1xuICAgICAgICByZXR1cm4gcHJvcGVydHkgYXMgX1JldHVyblR5cGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmVhZHMgdGhlIGNvbmZpZ3VyYXRpb24gYW5kIHNldHMgdGhlIHZhbHVlcyB0byB0aGUgY29udGV4dFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIHJlYWQ8VCBleHRlbmRzIHN0cmluZz4oXG4gICAgICAgIHZhcmlhYmxlczogQXJyYXk8VD4gPSBbXVxuICAgICk6IFByb21pc2U8UmVjb3JkPFQsIGFueT4+IHtcbiAgICAgICAgcmV0dXJuIHt9IGFzIFJlY29yZDxULCBhbnk+O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoZSBwcm9qZWN0IGJ5IGxvY2F0aW5nIHRoZSBmb2xkZXIgY29udGFpbmluZyBwYWNrYWdlLmpzb25cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RhcnRQYXRoIC0gVGhlIGluaXRpYWwgZGlyZWN0b3J5IHRvIHN0YXJ0IHNlYXJjaGluZyBmcm9tIChkZWZhdWx0IGlzIF9fZGlybmFtZSlcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IC0gVGhlIHBhdGggdG8gdGhlIHJvb3QgZGlyZWN0b3J5IG9yIG51bGwgaWYgcGFja2FnZS5qc29uIGlzIG5vdCBmb3VuZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhc3luYyBnZXRQcm9qZWN0Um9vdChzdGFydFBhdGggPSBfX2Rpcm5hbWUpIHtcbiAgICAgICAgY29uc3QgcHJvY2VzcyA9IGF3YWl0IHRoaXMucG9seWZpbGwucHJvY2VzcygpO1xuXG4gICAgICAgIHJldHVybiBwcm9jZXNzLmN3ZCgpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0LCBBX0Zvcm1hdHRlckhlbHBlciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBDb25maWdSZWFkZXIgfSBmcm9tIFwiLi9Db25maWdSZWFkZXIuY29tcG9uZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBGaWxlQ29uZmlnUmVhZGVyIGV4dGVuZHMgQ29uZmlnUmVhZGVyIHtcblxuICAgIHByaXZhdGUgRmlsZURhdGE6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjb25maWd1cmF0aW9uIHByb3BlcnR5IE5hbWVcbiAgICAgKiBAcGFyYW0gcHJvcGVydHkgXG4gICAgICovXG4gICAgZ2V0Q29uZmlndXJhdGlvblByb3BlcnR5X0ZpbGVfQWxpYXMocHJvcGVydHk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBBX0Zvcm1hdHRlckhlbHBlci50b0NhbWVsQ2FzZShwcm9wZXJ0eSk7XG4gICAgfVxuXG5cbiAgICByZXNvbHZlPF9SZXR1cm5UeXBlID0gYW55Pihwcm9wZXJ0eTogc3RyaW5nKTogX1JldHVyblR5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5GaWxlRGF0YS5nZXQodGhpcy5nZXRDb25maWd1cmF0aW9uUHJvcGVydHlfRmlsZV9BbGlhcyhwcm9wZXJ0eSkpIGFzIF9SZXR1cm5UeXBlO1xuICAgIH1cblxuXG4gICAgYXN5bmMgcmVhZDxUIGV4dGVuZHMgc3RyaW5nPihcbiAgICAgICAgdmFyaWFibGVzPzogQXJyYXk8VD5cbiAgICApOiBQcm9taXNlPFJlY29yZDxULCBhbnk+PiB7XG5cbiAgICAgICAgY29uc3QgZnMgPSBhd2FpdCB0aGlzLnBvbHlmaWxsLmZzKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMoYCR7QV9Db250ZXh0LmNvbmNlcHR9LmNvbmYuanNvbmAsICd1dGY4Jyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZzogUmVjb3JkPFQsIGFueT4gPSBKU09OLnBhcnNlKGRhdGEpO1xuXG4gICAgICAgICAgICB0aGlzLkZpbGVEYXRhID0gbmV3IE1hcChPYmplY3QuZW50cmllcyhjb25maWcpKTtcblxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gdGhpcy5jb250ZXh0LkxvZ2dlci5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4ge30gYXMgUmVjb3JkPFQsIGFueT47XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQV9Db25jZXB0LCBBX0ZlYXR1cmUsIEFfRm9ybWF0dGVySGVscGVyLCBBX0luamVjdCwgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlcyB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBDb25maWdSZWFkZXIgfSBmcm9tIFwiLi9Db25maWdSZWFkZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBX0NvbmZpZyB9IGZyb20gXCIuLi9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX1BvbHlmaWxsIH0gZnJvbSBcIi4uLy4uL0EtUG9seWZpbGwvQS1Qb2x5ZmlsbC5jb21wb25lbnRcIjtcblxuXG5leHBvcnQgY2xhc3MgRU5WQ29uZmlnUmVhZGVyIGV4dGVuZHMgQ29uZmlnUmVhZGVyIHtcblxuXG4gICAgQEFfQ29uY2VwdC5Mb2FkKHtcbiAgICAgICAgYmVmb3JlOiBbJ0VOVkNvbmZpZ1JlYWRlci5pbml0aWFsaXplJ11cbiAgICB9KVxuICAgIGFzeW5jIHJlYWRFbnZGaWxlKFxuICAgICAgICBAQV9JbmplY3QoQV9Db25maWcpIGNvbmZpZzogQV9Db25maWc8QV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlcz4sXG4gICAgICAgIEBBX0luamVjdChBX1BvbHlmaWxsKSBwb2x5ZmlsbDogQV9Qb2x5ZmlsbCxcbiAgICAgICAgQEFfSW5qZWN0KEFfRmVhdHVyZSkgZmVhdHVyZTogQV9GZWF0dXJlLFxuXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IGZzID0gYXdhaXQgcG9seWZpbGwuZnMoKTtcblxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYygnLmVudicpKVxuICAgICAgICAgICAgZnMucmVhZEZpbGVTeW5jKGAke2NvbmZpZy5nZXQoJ0FfQ09OQ0VQVF9ST09UX0ZPTERFUicpfS8uZW52YCwgJ3V0Zi04Jykuc3BsaXQoJ1xcbicpLmZvckVhY2gobGluZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gbGluZS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIGlmIChrZXkgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnZba2V5LnRyaW0oKV0gPSB2YWx1ZS50cmltKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNvbmZpZ3VyYXRpb24gcHJvcGVydHkgTmFtZSBcbiAgICAgKiBAcGFyYW0gcHJvcGVydHkgXG4gICAgICovXG4gICAgZ2V0Q29uZmlndXJhdGlvblByb3BlcnR5X0VOVl9BbGlhcyhwcm9wZXJ0eTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEFfRm9ybWF0dGVySGVscGVyLnRvVXBwZXJTbmFrZUNhc2UocHJvcGVydHkpO1xuICAgIH1cblxuXG4gICAgcmVzb2x2ZTxfUmV0dXJuVHlwZSA9IGFueT4ocHJvcGVydHk6IHN0cmluZyk6IF9SZXR1cm5UeXBlIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3MuZW52W3RoaXMuZ2V0Q29uZmlndXJhdGlvblByb3BlcnR5X0VOVl9BbGlhcyhwcm9wZXJ0eSldIGFzIF9SZXR1cm5UeXBlO1xuICAgIH1cblxuXG4gICAgYXN5bmMgcmVhZDxUIGV4dGVuZHMgc3RyaW5nPih2YXJpYWJsZXM6IEFycmF5PFQ+ID0gW10pOiBQcm9taXNlPFJlY29yZDxULCBhbnk+PiB7XG4gICAgICAgIGNvbnN0IGFsbFZhcmlhYmxlcyA9IFtcbiAgICAgICAgICAgIC4uLnZhcmlhYmxlcyxcbiAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKHByb2Nlc3MuZW52KSxcbiAgICAgICAgXVxuXG4gICAgICAgIGNvbnN0IGNvbmZpZzogUmVjb3JkPFQsIGFueT4gPSB7fSBhcyBSZWNvcmQ8VCwgYW55PjtcblxuICAgICAgICBhbGxWYXJpYWJsZXMuZm9yRWFjaCh2YXJpYWJsZSA9PiB7XG4gICAgICAgICAgICBjb25maWdbdmFyaWFibGVdID0gdGhpcy5yZXNvbHZlKHZhcmlhYmxlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG59ICIsICJpbXBvcnQgeyBBX0NhbGxlciwgQV9Db25jZXB0LCBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZLCBBX0NvbnRhaW5lciwgQV9Db250ZXh0LCBBX0ZyYWdtZW50LCBBX0luamVjdCwgQV9TY29wZSwgQV9TY29wZUVycm9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IENvbmZpZ1JlYWRlciB9IGZyb20gXCIuL2NvbXBvbmVudHMvQ29uZmlnUmVhZGVyLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQV9Db25maWcgfSBmcm9tIFwiLi9BLUNvbmZpZy5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX1BvbHlmaWxsIH0gZnJvbSBcIi4uL0EtUG9seWZpbGwvQS1Qb2x5ZmlsbC5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFfQ29uZmlnRXJyb3IgfSBmcm9tIFwiLi9BLUNvbmZpZy5lcnJvclwiO1xuaW1wb3J0IHsgRmlsZUNvbmZpZ1JlYWRlciB9IGZyb20gXCIuL2NvbXBvbmVudHMvRmlsZUNvbmZpZ1JlYWRlci5jb21wb25lbnRcIjtcbmltcG9ydCB7IEVOVkNvbmZpZ1JlYWRlciB9IGZyb20gXCIuL2NvbXBvbmVudHMvRU5WQ29uZmlnUmVhZGVyLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTX0FSUkFZIH0gZnJvbSBcIi4vQS1Db25maWcuY29uc3RhbnRzXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfQ29uZmlnTG9hZGVyIGV4dGVuZHMgQV9Db250YWluZXIge1xuXG4gICAgcHJpdmF0ZSByZWFkZXIhOiBDb25maWdSZWFkZXJcblxuXG4gICAgQEFfQ29uY2VwdC5Mb2FkKHtcbiAgICAgICAgYmVmb3JlOiAvLiovXG4gICAgfSlcbiAgICBhc3luYyBwcmVwYXJlKFxuICAgICAgICBAQV9JbmplY3QoQV9Qb2x5ZmlsbCkgcG9seWZpbGw6IEFfUG9seWZpbGxcbiAgICApIHtcbiAgICAgICAgaWYgKCF0aGlzLnNjb3BlLmhhcyhBX0NvbmZpZykpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IG5ldyBBX0NvbmZpZyh7XG4gICAgICAgICAgICAgICAgdmFyaWFibGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIC4uLkFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVNfQVJSQVksXG4gICAgICAgICAgICAgICAgICAgIC4uLkFfQ09OU1RBTlRTX19DT05GSUdfRU5WX1ZBUklBQkxFU19BUlJBWVxuICAgICAgICAgICAgICAgIF0gYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgZGVmYXVsdHM6IHt9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5zY29wZS5yZWdpc3RlcjxBX0ZyYWdtZW50PihuZXdDb25maWcpO1xuICAgICAgICB9XG5cblxuICAgICAgICBjb25zdCBmcyA9IGF3YWl0IHBvbHlmaWxsLmZzKCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgY2FzZSBBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdzZXJ2ZXInICYmICEhZnMuZXhpc3RzU3luYyhgJHtBX0NvbnRleHQuY29uY2VwdH0uY29uZi5qc29uYCk6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZGVyID0gdGhpcy5zY29wZS5yZXNvbHZlPENvbmZpZ1JlYWRlcj4oRmlsZUNvbmZpZ1JlYWRlcikhO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgQV9Db250ZXh0LmVudmlyb25tZW50ID09PSAnc2VydmVyJyAmJiAhZnMuZXhpc3RzU3luYyhgJHtBX0NvbnRleHQuY29uY2VwdH0uY29uZi5qc29uYCk6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZGVyID0gdGhpcy5zY29wZS5yZXNvbHZlPENvbmZpZ1JlYWRlcj4oRU5WQ29uZmlnUmVhZGVyKSE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBBX0NvbnRleHQuZW52aXJvbm1lbnQgPT09ICdicm93c2VyJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkZXIgPSB0aGlzLnNjb3BlLnJlc29sdmU8Q29uZmlnUmVhZGVyPihFTlZDb25maWdSZWFkZXIpITtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQV9Db25maWdFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIEFfQ29uZmlnRXJyb3IuSW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGBFbnZpcm9ubWVudCAke0FfQ29udGV4dC5lbnZpcm9ubWVudH0gaXMgbm90IHN1cHBvcnRlZGBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEFfU2NvcGVFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBX0NvbmZpZ0Vycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IEFfQ29uZmlnRXJyb3IuSW5pdGlhbGl6YXRpb25FcnJvcixcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBGYWlsZWQgdG8gaW5pdGlhbGl6ZSBBX0NvbmZpZ0xvYWRlci4gUmVhZGVyIG5vdCBmb3VuZCBmb3IgZW52aXJvbm1lbnQgJHtBX0NvbnRleHQuZW52aXJvbm1lbnR9YCxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlcywgQV9UWVBFU19fRnJhZ21lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuXG5leHBvcnQgZW51bSBBX1RZUEVTX19Db25maWdGZWF0dXJlIHtcblxufVxuXG5cbmV4cG9ydCB0eXBlIEFfVFlQRVNfX0NvbmZpZ0NvbnRhaW5lckNvbnN0cnVjdG9yPFQgZXh0ZW5kcyAgQXJyYXk8c3RyaW5nIHwgQV9UWVBFU19fQ29uY2VwdEVOVlZhcmlhYmxlc1tudW1iZXJdPj4gPSB7XG5cbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIFNESyB3aWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSB2YXJpYWJsZSBpcyBub3QgZGVmaW5lZCBPUiBub3QgcHJlc2VudGVkIGluIHRoZSBkZWZhdWx0c1xuICAgICAqL1xuICAgIHN0cmljdDogYm9vbGVhblxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGRlZmluZSB0aGUgbmFtZXMgb2YgdmFyaWFibGUgdG8gYmUgbG9hZGVkXG4gICAgICovXG4gICAgdmFyaWFibGVzOiBUXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gc2V0IHRoZSBkZWZhdWx0IHZhbHVlcyBmb3IgdGhlIHZhcmlhYmxlc1xuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIFtrZXkgaW4gVFtudW1iZXJdXT86IGFueVxuICAgIH1cbn0gJiBBX1RZUEVTX19GcmFnbWVudF9Db25zdHJ1Y3RvcjtcbiIsICJcblxuZXhwb3J0IGNvbnN0IEFfTG9nZ2VyRW52VmFyaWFibGVzID0ge1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxvZyBsZXZlbCBmb3IgdGhlIGxvZ2dlclxuICAgICAqIFxuICAgICAqIEBleGFtcGxlICdkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXG4gICAgICovXG4gICAgQV9MT0dHRVJfTEVWRUw6ICdBX0xPR0dFUl9MRVZFTCcsXG5cbiAgICAvKiogICAgIFxuICAgICAqIFNldHMgdGhlIGRlZmF1bHQgc2NvcGUgbGVuZ3RoIGZvciBsb2cgbWVzc2FnZXNcbiAgICAgKiBcbiAgICAgKiBAZXhhbXBsZSAnQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9MRU5HVEgnXG4gICAgICovXG4gICAgQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9MRU5HVEg6ICdBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0xFTkdUSCcsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBkZWZhdWx0IGNvbG9yIGZvciBzY29wZSBkaXNwbGF5IGluIGxvZyBtZXNzYWdlc1xuICAgICAqIFxuICAgICAqIEBleGFtcGxlICdncmVlbicsICdibHVlJywgJ3JlZCcsICd5ZWxsb3cnLCAnZ3JheScsICdtYWdlbnRhJywgJ2N5YW4nLCAnd2hpdGUnLCAncGluaydcbiAgICAgKi9cbiAgICBBX0xPR0dFUl9ERUZBVUxUX1NDT1BFX0NPTE9SOiAnQV9MT0dHRVJfREVGQVVMVF9TQ09QRV9DT0xPUicsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBkZWZhdWx0IGNvbG9yIGZvciBsb2cgbWVzc2FnZSBjb250ZW50XG4gICAgICogXG4gICAgICogQGV4YW1wbGUgJ2dyZWVuJywgJ2JsdWUnLCAncmVkJywgJ3llbGxvdycsICdncmF5JywgJ21hZ2VudGEnLCAnY3lhbicsICd3aGl0ZScsICdwaW5rJ1xuICAgICAqL1xuICAgIEFfTE9HR0VSX0RFRkFVTFRfTE9HX0NPTE9SOiAnQV9MT0dHRVJfREVGQVVMVF9MT0dfQ09MT1InLFxufSBhcyBjb25zdDtcblxuXG5cbmV4cG9ydCBjb25zdCBBX0xvZ2dlckVudlZhcmlhYmxlc0FycmF5ID0gW1xuICAgIEFfTG9nZ2VyRW52VmFyaWFibGVzLkFfTE9HR0VSX0xFVkVMLFxuICAgIEFfTG9nZ2VyRW52VmFyaWFibGVzLkFfTE9HR0VSX0RFRkFVTFRfU0NPUEVfTEVOR1RILFxuICAgIEFfTG9nZ2VyRW52VmFyaWFibGVzLkFfTE9HR0VSX0RFRkFVTFRfU0NPUEVfQ09MT1IsXG4gICAgQV9Mb2dnZXJFbnZWYXJpYWJsZXMuQV9MT0dHRVJfREVGQVVMVF9MT0dfQ09MT1IsXG5dIGFzIGNvbnN0O1xuXG5cbmV4cG9ydCB0eXBlIEFfTG9nZ2VyRW52VmFyaWFibGVzVHlwZSA9ICh0eXBlb2YgQV9Mb2dnZXJFbnZWYXJpYWJsZXMpW2tleW9mIHR5cGVvZiBBX0xvZ2dlckVudlZhcmlhYmxlc11bXTsiLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5cbmV4cG9ydCBjbGFzcyBBX01hbmlmZXN0RXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIHN0YXRpYyByZWFkb25seSBNYW5pZmVzdEluaXRpYWxpemF0aW9uRXJyb3IgPSAnQS1NYW5pZmVzdCBJbml0aWFsaXphdGlvbiBFcnJvcic7XG5cbn1cbiIsICJpbXBvcnQgeyBBX1RZUEVTX19Db21wb25lbnRfQ29uc3RydWN0b3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9NYW5pZmVzdCB9IGZyb20gXCIuLi9BLU1hbmlmZXN0LmNvbnRleHRcIjtcbmltcG9ydCB7IEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0X0FsbG93ZWRDb21wb25lbnRzIH0gZnJvbSBcIi4uL0EtTWFuaWZlc3QudHlwZXNcIjtcblxuLyoqXG4gKiBGbHVlbnQgQVBJIGZvciBjaGVja2luZyBtYW5pZmVzdCBwZXJtaXNzaW9uc1xuICovXG5leHBvcnQgY2xhc3MgQV9NYW5pZmVzdENoZWNrZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIG1hbmlmZXN0OiBBX01hbmlmZXN0LFxuICAgICAgICBwcml2YXRlIGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yLFxuICAgICAgICBwcml2YXRlIG1ldGhvZDogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIGNoZWNrRXhjbHVzaW9uOiBib29sZWFuID0gZmFsc2VcbiAgICApIHt9XG5cbiAgICBmb3IodGFyZ2V0OiBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdF9BbGxvd2VkQ29tcG9uZW50cyk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLm1hbmlmZXN0LmludGVybmFsX2NoZWNrQWNjZXNzKHtcbiAgICAgICAgICAgIGNvbXBvbmVudDogdGhpcy5jb21wb25lbnQsXG4gICAgICAgICAgICBtZXRob2Q6IHRoaXMubWV0aG9kLFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tFeGNsdXNpb24gPyAhcmVzdWx0IDogcmVzdWx0O1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQsIEFfRnJhZ21lbnQsIEFfVHlwZUd1YXJkcywgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0X0luaXQsIEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0X0NvbXBvbmVudExldmVsQ29uZmlnLCBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdF9BbGxvd2VkQ29tcG9uZW50cywgQV9VVElMU19UWVBFU19fTWFuaWZlc3RSdWxlLCBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdFF1ZXJ5IH0gZnJvbSBcIi4vQS1NYW5pZmVzdC50eXBlc1wiO1xuaW1wb3J0IHsgQV9NYW5pZmVzdEVycm9yIH0gZnJvbSBcIi4vQS1NYW5pZmVzdC5lcnJvclwiO1xuaW1wb3J0IHsgQV9NYW5pZmVzdENoZWNrZXIgfSBmcm9tIFwiLi9jbGFzc2VzL0EtTWFuaWZlc3RDaGVja2VyLmNsYXNzXCI7XG5cblxuXG5cblxuZXhwb3J0IGNsYXNzIEFfTWFuaWZlc3QgZXh0ZW5kcyBBX0ZyYWdtZW50IHtcblxuICAgIHByaXZhdGUgcnVsZXM6IEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0UnVsZVtdID0gW107XG5cbiAgICAvKipcbiAgICAgKiBBLU1hbmlmZXN0IGlzIGEgY29uZmlndXJhdGlvbiBzZXQgdGhhdCBhbGxvd3MgdG8gaW5jbHVkZSBvciBleGNsdWRlIGNvbXBvbmVudCBhcHBsaWNhdGlvbiBmb3IgdGhlIHBhcnRpY3VsYXIgbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIEZvciBleGFtcGxlLCBpZiBBLVNjb3BlIHByb3ZpZGVzIHBvbHltb3JwaGljIEEtQ29tcG9uZW50IHRoYXQgYXBwbGllcyBmb3IgQWxsIEEtRW50aXRpZXMgaW4gaXQgYnV0IHlvdSBoYXZlIGFub3RoZXIgY29tcG9uZW50IHRoYXQgc2hvdWxkIGJlIHVzZWQgZm9yIG9ubHkgT25lIHBhcnRpY3VsYXIgRW50aXR5LCB5b3UgY2FuIHVzZSBBLU1hbmlmZXN0IHRvIHNwZWNpZnkgdGhpcyBiZWhhdmlvci5cbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBCeSBkZWZhdWx0IGlmIENvbXBvbmVudCBpcyBwcm92aWRlZCBpbiB0aGUgc2NvcGUgLSBpdCBhcHBsaWVzIGZvciBhbGwgZW50aXRpZXMgaW4gaXQuIEhvd2V2ZXIsIGlmIHlvdSB3YW50IHRvIGV4Y2x1ZGUgc29tZSBlbnRpdGllcyBvciBpbmNsdWRlIG9ubHkgc29tZSBlbnRpdGllcyBmb3IgdGhlIHBhcnRpY3VsYXIgY29tcG9uZW50IC0geW91IGNhbiB1c2UgQS1NYW5pZmVzdCB0byBkZWZpbmUgdGhpcyBiZWhhdmlvci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gQXJyYXkgb2YgY29tcG9uZW50IGNvbmZpZ3VyYXRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBBX1VUSUxTX1RZUEVTX19NYW5pZmVzdF9Jbml0ID0gW10pIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogJ0EtTWFuaWZlc3QnLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnByZXBhcmUoY29uZmlnKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFNob3VsZCBjb252ZXJ0IHJlY2VpdmVkIGNvbmZpZ3VyYXRpb24gaW50byBpbnRlcm5hbCBSZWdleHAgYXBwbGljYWJsZSBmb3IgaW50ZXJuYWwgc3RvcmFnZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBwcmVwYXJlKGNvbmZpZzogQV9VVElMU19UWVBFU19fTWFuaWZlc3RfSW5pdCkge1xuICAgICAgICBpZiAoIUFfVHlwZUd1YXJkcy5pc0FycmF5KGNvbmZpZykpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9NYW5pZmVzdEVycm9yKFxuICAgICAgICAgICAgICAgIEFfTWFuaWZlc3RFcnJvci5NYW5pZmVzdEluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEEtTWFuaWZlc3QgY29uZmlndXJhdGlvbiBzaG91bGQgYmUgYW4gYXJyYXkgb2YgY29uZmlndXJhdGlvbnNgXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBjb25maWcpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0NvbmZpZ0l0ZW0oaXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGEgc2luZ2xlIGNvbmZpZ3VyYXRpb24gaXRlbSBhbmQgY29udmVydCBpdCB0byBpbnRlcm5hbCBydWxlc1xuICAgICAqL1xuICAgIHByaXZhdGUgcHJvY2Vzc0NvbmZpZ0l0ZW0oaXRlbTogQV9VVElMU19UWVBFU19fTWFuaWZlc3RfQ29tcG9uZW50TGV2ZWxDb25maWcpIHtcbiAgICAgICAgaWYgKCFBX1R5cGVHdWFyZHMuaXNDb21wb25lbnRDb25zdHJ1Y3RvcihpdGVtLmNvbXBvbmVudCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgQV9NYW5pZmVzdEVycm9yKFxuICAgICAgICAgICAgICAgIEFfTWFuaWZlc3RFcnJvci5NYW5pZmVzdEluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgYEEtTWFuaWZlc3QgY29uZmlndXJhdGlvbiBpdGVtIHNob3VsZCBiZSBhIEEtQ29tcG9uZW50IGNvbnN0cnVjdG9yYFxuICAgICAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBjb21wb25lbnRSZWdleCA9IHRoaXMuY29uc3RydWN0b3JUb1JlZ2V4KGl0ZW0uY29tcG9uZW50KTtcblxuICAgICAgICAvLyBBbHdheXMgYWRkIGNvbXBvbmVudC1sZXZlbCBydWxlIGZpcnN0IChhcHBsaWVzIHRvIGFsbCBtZXRob2RzKVxuICAgICAgICBpZiAoaXRlbS5hcHBseSB8fCBpdGVtLmV4Y2x1ZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZFJlZ2V4ID0gLy4qLzsgLy8gTWF0Y2ggYWxsIG1ldGhvZHNcblxuICAgICAgICAgICAgdGhpcy5ydWxlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRSZWdleCxcbiAgICAgICAgICAgICAgICBtZXRob2RSZWdleCxcbiAgICAgICAgICAgICAgICBhcHBseVJlZ2V4OiBpdGVtLmFwcGx5ID8gdGhpcy5hbGxvd2VkQ29tcG9uZW50c1RvUmVnZXgoaXRlbS5hcHBseSkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZXhjbHVkZVJlZ2V4OiBpdGVtLmV4Y2x1ZGUgPyB0aGlzLmFsbG93ZWRDb21wb25lbnRzVG9SZWdleChpdGVtLmV4Y2x1ZGUpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGVuIGFkZCBtZXRob2QtbGV2ZWwgY29uZmlndXJhdGlvbnMgKHRoZXNlIHdpbGwgb3ZlcnJpZGUgY29tcG9uZW50LWxldmVsKVxuICAgICAgICBpZiAoaXRlbS5tZXRob2RzICYmIGl0ZW0ubWV0aG9kcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1ldGhvZENvbmZpZyBvZiBpdGVtLm1ldGhvZHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRob2RSZWdleCA9IHRoaXMubWV0aG9kVG9SZWdleChtZXRob2RDb25maWcubWV0aG9kKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucnVsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFJlZ2V4LFxuICAgICAgICAgICAgICAgICAgICBtZXRob2RSZWdleCxcbiAgICAgICAgICAgICAgICAgICAgYXBwbHlSZWdleDogbWV0aG9kQ29uZmlnLmFwcGx5ID8gdGhpcy5hbGxvd2VkQ29tcG9uZW50c1RvUmVnZXgobWV0aG9kQ29uZmlnLmFwcGx5KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgZXhjbHVkZVJlZ2V4OiBtZXRob2RDb25maWcuZXhjbHVkZSA/IHRoaXMuYWxsb3dlZENvbXBvbmVudHNUb1JlZ2V4KG1ldGhvZENvbmZpZy5leGNsdWRlKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgY29uc3RydWN0b3IgdG8gYSByZWdleCBwYXR0ZXJuXG4gICAgICovXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvclRvUmVnZXgoY3RvcjogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yKTogUmVnRXhwIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3RoaXMuZXNjYXBlUmVnZXgoY3Rvci5uYW1lKX0kYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhIG1ldGhvZCBuYW1lIG9yIHJlZ2V4IHRvIGEgcmVnZXggcGF0dGVyblxuICAgICAqL1xuICAgIHByaXZhdGUgbWV0aG9kVG9SZWdleChtZXRob2Q6IHN0cmluZyB8IFJlZ0V4cCk6IFJlZ0V4cCB7XG4gICAgICAgIGlmIChtZXRob2QgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3RoaXMuZXNjYXBlUmVnZXgobWV0aG9kIGFzIHN0cmluZyl9JGApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYWxsb3dlZCBjb21wb25lbnRzIGFycmF5IG9yIHJlZ2V4IHRvIGEgc2luZ2xlIHJlZ2V4XG4gICAgICovXG4gICAgcHJpdmF0ZSBhbGxvd2VkQ29tcG9uZW50c1RvUmVnZXgoY29tcG9uZW50czogQV9VVElMU19UWVBFU19fTWFuaWZlc3RfQWxsb3dlZENvbXBvbmVudHNbXSB8IFJlZ0V4cCk6IFJlZ0V4cCB7XG4gICAgICAgIGlmIChjb21wb25lbnRzIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhdHRlcm5zID0gY29tcG9uZW50cy5tYXAoY3RvciA9PiB0aGlzLmVzY2FwZVJlZ2V4KGN0b3IubmFtZSkpO1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXigke3BhdHRlcm5zLmpvaW4oJ3wnKX0pJGApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZSBzcGVjaWFsIHJlZ2V4IGNoYXJhY3RlcnMgaW4gYSBzdHJpbmdcbiAgICAgKi9cbiAgICBwcml2YXRlIGVzY2FwZVJlZ2V4KHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb25maWdJdGVtVG9SZWdleHAoaXRlbTogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yKTogUmVnRXhwIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3JUb1JlZ2V4KGl0ZW0pO1xuICAgIH1cblxuXG4gICAgcHJvdGVjdGVkIElEKGNvbXBvbmVudDogQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yLCBtZXRob2Q6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gYCR7Y29tcG9uZW50Lm5hbWV9LiR7bWV0aG9kfWA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYSBjb21wb25lbnQgYW5kIG1ldGhvZCBjb21iaW5hdGlvbiBpcyBhbGxvd2VkIGZvciBhIHRhcmdldFxuICAgICAqL1xuICAgIGlzQWxsb3dlZDxUIGV4dGVuZHMgQV9Db21wb25lbnQ+KFxuICAgICAgICBjdG9yOiBUIHwgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yPFQ+LFxuICAgICAgICBtZXRob2Q6IHN0cmluZ1xuICAgICk6IEFfTWFuaWZlc3RDaGVja2VyIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50Q3RvciA9IHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nID8gY3RvciA6IGN0b3IuY29uc3RydWN0b3IgYXMgQV9UWVBFU19fQ29tcG9uZW50X0NvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gbmV3IEFfTWFuaWZlc3RDaGVja2VyKHRoaXMsIGNvbXBvbmVudEN0b3IsIG1ldGhvZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgbWV0aG9kIHRvIGNoZWNrIGlmIGFjY2VzcyBpcyBhbGxvd2VkXG4gICAgICovXG4gICAgaW50ZXJuYWxfY2hlY2tBY2Nlc3MocXVlcnk6IEFfVVRJTFNfVFlQRVNfX01hbmlmZXN0UXVlcnkpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IHF1ZXJ5LmNvbXBvbmVudC5uYW1lO1xuICAgICAgICBjb25zdCBtZXRob2ROYW1lID0gcXVlcnkubWV0aG9kO1xuICAgICAgICBjb25zdCB0YXJnZXROYW1lID0gcXVlcnkudGFyZ2V0Lm5hbWU7XG5cbiAgICAgICAgLy8gRmluZCBtYXRjaGluZyBydWxlcywgc29ydGVkIGJ5IHNwZWNpZmljaXR5IChtZXRob2Qtc3BlY2lmaWMgcnVsZXMgZmlyc3QpXG4gICAgICAgIGNvbnN0IG1hdGNoaW5nUnVsZXMgPSB0aGlzLnJ1bGVzXG4gICAgICAgICAgICAuZmlsdGVyKHJ1bGUgPT5cbiAgICAgICAgICAgICAgICBydWxlLmNvbXBvbmVudFJlZ2V4LnRlc3QoY29tcG9uZW50TmFtZSkgJiZcbiAgICAgICAgICAgICAgICBydWxlLm1ldGhvZFJlZ2V4LnRlc3QobWV0aG9kTmFtZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gTWV0aG9kLXNwZWNpZmljIHJ1bGVzIChub3QgLiogcGF0dGVybikgc2hvdWxkIGNvbWUgYmVmb3JlIGdlbmVyYWwgcnVsZXNcbiAgICAgICAgICAgICAgICBjb25zdCBhSXNHZW5lcmFsID0gYS5tZXRob2RSZWdleC5zb3VyY2UgPT09ICcuKic7XG4gICAgICAgICAgICAgICAgY29uc3QgYklzR2VuZXJhbCA9IGIubWV0aG9kUmVnZXguc291cmNlID09PSAnLionO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFJc0dlbmVyYWwgJiYgIWJJc0dlbmVyYWwpIHJldHVybiAxOyAgLy8gYiBjb21lcyBmaXJzdFxuICAgICAgICAgICAgICAgIGlmICghYUlzR2VuZXJhbCAmJiBiSXNHZW5lcmFsKSByZXR1cm4gLTE7IC8vIGEgY29tZXMgZmlyc3RcbiAgICAgICAgICAgICAgICByZXR1cm4gMDsgLy8gc2FtZSBwcmlvcml0eVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSWYgbm8gcnVsZXMgbWF0Y2gsIGFsbG93IGJ5IGRlZmF1bHRcbiAgICAgICAgaWYgKG1hdGNoaW5nUnVsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByb2Nlc3MgcnVsZXMgaW4gb3JkZXIgb2Ygc3BlY2lmaWNpdHkgKG1vc3Qgc3BlY2lmaWMgZmlyc3QpXG4gICAgICAgIGZvciAoY29uc3QgcnVsZSBvZiBtYXRjaGluZ1J1bGVzKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIHJ1bGUgaGFzIGFuIGV4Y2x1c2lvbiB0aGF0IG1hdGNoZXMsIGRlbnkgYWNjZXNzXG4gICAgICAgICAgICBpZiAocnVsZS5leGNsdWRlUmVnZXggJiYgcnVsZS5leGNsdWRlUmVnZXgudGVzdCh0YXJnZXROYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgdGhpcyBydWxlIGhhcyBhbiBhcHBseSBsaXN0LCBjaGVjayBpZiB0YXJnZXQgaXMgaW4gaXRcbiAgICAgICAgICAgIGlmIChydWxlLmFwcGx5UmVnZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcnVsZS5hcHBseVJlZ2V4LnRlc3QodGFyZ2V0TmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSBoYXZlIHJ1bGVzIGJ1dCBubyBzcGVjaWZpYyBhcHBseS9leGNsdWRlLCBhbGxvdyBieSBkZWZhdWx0XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlzRXhjbHVkZWQ8VCBleHRlbmRzIEFfQ29tcG9uZW50PihcbiAgICAgICAgY3RvcjogVCB8IEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjxUPixcbiAgICAgICAgbWV0aG9kOiBzdHJpbmdcbiAgICApOiBBX01hbmlmZXN0Q2hlY2tlciB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEN0b3IgPSB0eXBlb2YgY3RvciA9PT0gJ2Z1bmN0aW9uJyA/IGN0b3IgOiBjdG9yLmNvbnN0cnVjdG9yIGFzIEFfVFlQRVNfX0NvbXBvbmVudF9Db25zdHJ1Y3RvcjtcbiAgICAgICAgcmV0dXJuIG5ldyBBX01hbmlmZXN0Q2hlY2tlcih0aGlzLCBjb21wb25lbnRDdG9yLCBtZXRob2QsIHRydWUpO1xuICAgIH1cbn1cbiIsICJcblxuZXhwb3J0IGVudW0gQV9NZW1vcnlGZWF0dXJlcyB7XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBpbml0aWFsaXphdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkluaXQgPSAnX0FfTWVtb3J5X29uSW5pdCcsXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXh0ZW5kIGRlc3RydWN0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uRGVzdHJveSA9ICdfQV9NZW1vcnlfb25EZXN0cm95JyxcblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgZXhwaXJhdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkV4cGlyZSA9ICdfQV9NZW1vcnlfb25FeHBpcmUnLFxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBlcnJvciBoYW5kbGluZyBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkVycm9yID0gJ19BX01lbW9yeV9vbkVycm9yJyxcblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBleHRlbmQgc2VyaWFsaXphdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvblNlcmlhbGl6ZSA9ICdfQV9NZW1vcnlfb25TZXJpYWxpemUnLFxuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBzZXQgb3BlcmF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uU2V0ID0gJ19BX01lbW9yeV9vblNldCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBnZXQgb3BlcmF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uR2V0ID0gJ19BX01lbW9yeV9vbkdldCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBkcm9wIG9wZXJhdGlvbiBsb2dpYyBhbmQgYmVoYXZpb3JcbiAgICAgKi9cbiAgICBvbkRyb3AgPSAnX0FfTWVtb3J5X29uRHJvcCcsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBjbGVhciBvcGVyYXRpb24gbG9naWMgYW5kIGJlaGF2aW9yXG4gICAgICovXG4gICAgb25DbGVhciA9ICdfQV9NZW1vcnlfb25DbGVhcicsXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIGV4dGVuZCBoYXMgb3BlcmF0aW9uIGxvZ2ljIGFuZCBiZWhhdmlvclxuICAgICAqL1xuICAgIG9uSGFzID0gJ19BX01lbW9yeV9vbkhhcycsXG59IiwgImltcG9ydCB7IEFfRXJyb3IsIEFfRnJhZ21lbnQsIEFfVFlQRVNfX0ZyYWdtZW50X1NlcmlhbGl6ZWQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgZXJyb3IgfSBmcm9tIFwiY29uc29sZVwiO1xuXG5cblxuXG5leHBvcnQgY2xhc3MgQV9NZW1vcnlDb250ZXh0PFxuICAgIF9NZW1vcnlUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55PiA9IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgX1NlcmlhbGl6ZWRUeXBlIGV4dGVuZHMgQV9UWVBFU19fRnJhZ21lbnRfU2VyaWFsaXplZCA9IEFfVFlQRVNfX0ZyYWdtZW50X1NlcmlhbGl6ZWRcbj4gZXh0ZW5kcyBBX0ZyYWdtZW50IHtcbiAgICBwcm90ZWN0ZWQgX3N0b3JhZ2U6IE1hcDxrZXlvZiBfTWVtb3J5VHlwZSwgX01lbW9yeVR5cGVba2V5b2YgX01lbW9yeVR5cGVdPiA9IG5ldyBNYXAoKTtcblxuICAgIHNldDxLIGV4dGVuZHMga2V5b2YgX01lbW9yeVR5cGU+KHBhcmFtOiBLLCB2YWx1ZTogX01lbW9yeVR5cGVbS10pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5zZXQocGFyYW0sIHZhbHVlKTtcbiAgICB9XG5cblxuICAgIGdldDxLIGV4dGVuZHMga2V5b2YgX01lbW9yeVR5cGU+KHBhcmFtOiBLKTogX01lbW9yeVR5cGVbS10gfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RvcmFnZS5nZXQocGFyYW0pO1xuICAgIH1cblxuXG4gICAgZGVsZXRlPEsgZXh0ZW5kcyBrZXlvZiBfTWVtb3J5VHlwZT4ocGFyYW06IEspOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5kZWxldGUocGFyYW0pO1xuICAgIH1cblxuXG4gICAgaGFzPEsgZXh0ZW5kcyBrZXlvZiBfTWVtb3J5VHlwZT4ocGFyYW06IEspOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0b3JhZ2UuaGFzKHBhcmFtKTtcbiAgICB9XG5cbiAgICBjbGVhcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZS5jbGVhcigpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5cblxuZXhwb3J0IGNsYXNzIEFfTWVtb3J5RXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIHN0YXRpYyByZWFkb25seSBNZW1vcnlJbml0aWFsaXphdGlvbkVycm9yID0gJ01lbW9yeSBpbml0aWFsaXphdGlvbiBlcnJvcic7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWVtb3J5RGVzdHJ1Y3Rpb25FcnJvciA9ICdNZW1vcnkgZGVzdHJ1Y3Rpb24gZXJyb3InO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IE1lbW9yeUdldEVycm9yID0gJ01lbW9yeSBHRVQgb3BlcmF0aW9uIGZhaWxlZCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWVtb3J5U2V0RXJyb3IgPSAnTWVtb3J5IFNFVCBvcGVyYXRpb24gZmFpbGVkJztcblxuICAgIHN0YXRpYyByZWFkb25seSBNZW1vcnlEcm9wRXJyb3IgPSAnTWVtb3J5IERST1Agb3BlcmF0aW9uIGZhaWxlZCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWVtb3J5Q2xlYXJFcnJvciA9ICdNZW1vcnkgQ0xFQVIgb3BlcmF0aW9uIGZhaWxlZCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTWVtb3J5SGFzRXJyb3IgPSAnTWVtb3J5IEhBUyBvcGVyYXRpb24gZmFpbGVkJztcblxuICAgIHN0YXRpYyByZWFkb25seSBNZW1vcnlTZXJpYWxpemVFcnJvciA9ICdNZW1vcnkgdG9KU09OIG9wZXJhdGlvbiBmYWlsZWQnO1xufVxuIiwgImltcG9ydCB7IEFfQ29tcG9uZW50LCBBX0luamVjdCwgQV9TY29wZSwgQV9GZWF0dXJlLCBBX0RlcGVuZGVuY3ksIEFfQ29udGV4dCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX01lbW9yeUZlYXR1cmVzIH0gZnJvbSBcIi4vQS1NZW1vcnkuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBX01lbW9yeUNvbnRleHQgfSBmcm9tIFwiLi9BLU1lbW9yeS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX01lbW9yeUVycm9yIH0gZnJvbSBcIi4vQS1NZW1vcnkuZXJyb3JcIjtcbmltcG9ydCB7IEFfT3BlcmF0aW9uQ29udGV4dCB9IGZyb20gXCIuLi9BLU9wZXJhdGlvbi9BLU9wZXJhdGlvbi5jb250ZXh0XCI7XG5pbXBvcnQgeyBBX01lbW9yeU9wZXJhdGlvbkNvbnRleHQgfSBmcm9tIFwiLi9BLU1lbW9yeS50eXBlc1wiO1xuXG5cbmV4cG9ydCBjbGFzcyBBX01lbW9yeTxcbiAgICBfU3RvcmFnZVR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PixcbiAgICBfU2VyaWFsaXplZFR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PlxuPiBleHRlbmRzIEFfQ29tcG9uZW50IHtcblxuICAgIHByb3RlY3RlZCBfcmVhZHk/OiBQcm9taXNlPHZvaWQ+XG5cblxuICAgIGdldCByZWFkeSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9yZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5fcmVhZHkgPSB0aGlzLmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZHk7XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT1BLU1lbW9yeSBMaWZlY3ljbGUgSG9va3M9PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBlcnJvcnMgZHVyaW5nIG1lbW9yeSBvcGVyYXRpb25zXG4gICAgICovXG4gICAgYXN5bmMgW0FfTWVtb3J5RmVhdHVyZXMub25FcnJvcl0oLi4uYXJnczogYW55W10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSGFuZGxlIGVycm9yXG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgbWVtb3J5IGV4cGlyYXRpb25cbiAgICAgKi9cbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vbkV4cGlyZV0oLi4uYXJnczogYW55W10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gQ2xlYXIgbWVtb3J5IG9uIGV4cGlyZVxuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgbWVtb3J5IGNvbnRleHRcbiAgICAgKi9cbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vbkluaXRdKFxuICAgICAgICBAQV9JbmplY3QoQV9NZW1vcnlDb250ZXh0KSBjb250ZXh0OiBBX01lbW9yeUNvbnRleHQ8X1N0b3JhZ2VUeXBlPixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBtZW1vcnlcbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gbmV3IEFfTWVtb3J5Q29udGV4dDxfU3RvcmFnZVR5cGU+KCk7XG4gICAgICAgICAgICBBX0NvbnRleHQuc2NvcGUodGhpcykucmVnaXN0ZXIoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgYXN5bmMgW0FfTWVtb3J5RmVhdHVyZXMub25EZXN0cm95XShcbiAgICAgICAgQEFfSW5qZWN0KEFfTWVtb3J5Q29udGV4dCkgY29udGV4dDogQV9NZW1vcnlDb250ZXh0PF9TdG9yYWdlVHlwZT4sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIENsZWFudXAgbWVtb3J5XG4gICAgICAgIGNvbnRleHQuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgJ2dldCcgb3BlcmF0aW9uIGZvciByZXRyaWV2aW5nIGEgdmFsdWUgZnJvbSBtZW1vcnlcbiAgICAgKi9cbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vbkdldF0oXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9PcGVyYXRpb25Db250ZXh0KSBvcGVyYXRpb246IEFfTWVtb3J5T3BlcmF0aW9uQ29udGV4dCxcbiAgICAgICAgQEFfSW5qZWN0KEFfTWVtb3J5Q29udGV4dCkgY29udGV4dDogQV9NZW1vcnlDb250ZXh0PF9TdG9yYWdlVHlwZT4sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEhhbmRsZSBnZXQgb3BlcmF0aW9uXG4gICAgICAgIG9wZXJhdGlvbi5zdWNjZWVkKGNvbnRleHQuZ2V0KG9wZXJhdGlvbi5wYXJhbXMua2V5KSk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlICdoYXMnIG9wZXJhdGlvbiBmb3IgY2hlY2tpbmcgZXhpc3RlbmNlIG9mIGEga2V5IGluIG1lbW9yeVxuICAgICAqL1xuICAgIGFzeW5jIFtBX01lbW9yeUZlYXR1cmVzLm9uSGFzXShcbiAgICAgICAgQEFfRGVwZW5kZW5jeS5SZXF1aXJlZCgpXG4gICAgICAgIEBBX0luamVjdChBX09wZXJhdGlvbkNvbnRleHQpIG9wZXJhdGlvbjogQV9NZW1vcnlPcGVyYXRpb25Db250ZXh0PGJvb2xlYW4+LFxuICAgICAgICBAQV9JbmplY3QoQV9NZW1vcnlDb250ZXh0KSBjb250ZXh0OiBBX01lbW9yeUNvbnRleHQ8X1N0b3JhZ2VUeXBlPixcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgLy8gSGFuZGxlIGhhcyBvcGVyYXRpb25cbiAgICAgICAgb3BlcmF0aW9uLnN1Y2NlZWQoY29udGV4dC5oYXMob3BlcmF0aW9uLnBhcmFtcy5rZXkpKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgJ3NldCcgb3BlcmF0aW9uIGZvciBzYXZpbmcgYSB2YWx1ZSBpbiBtZW1vcnlcbiAgICAgKi9cbiAgICBhc3luYyBbQV9NZW1vcnlGZWF0dXJlcy5vblNldF0oXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9PcGVyYXRpb25Db250ZXh0KSBvcGVyYXRpb246IEFfTWVtb3J5T3BlcmF0aW9uQ29udGV4dCxcbiAgICAgICAgQEFfSW5qZWN0KEFfTWVtb3J5Q29udGV4dCkgY29udGV4dDogQV9NZW1vcnlDb250ZXh0PF9TdG9yYWdlVHlwZT4sXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0FfTWVtb3J5IG9uU2V0IGNhbGxlZCB3aXRoIGtleTonLCBzY29wZS5uYW1lKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0FfTWVtb3J5IG9uU2V0IGNhbGxlZCB3aXRoIGtleTonLCBzY29wZS5wYXJlbnQ/Lm5hbWUpO1xuXG4gICAgICAgIC8vIEhhbmRsZSBzZXQgb3BlcmF0aW9uXG4gICAgICAgIGNvbnRleHQuc2V0KG9wZXJhdGlvbi5wYXJhbXMua2V5LCBvcGVyYXRpb24ucGFyYW1zLnZhbHVlKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgJ2Ryb3AnIG9wZXJhdGlvbiBmb3IgcmVtb3ZpbmcgYSB2YWx1ZSBmcm9tIG1lbW9yeVxuICAgICAqL1xuICAgIGFzeW5jIFtBX01lbW9yeUZlYXR1cmVzLm9uRHJvcF0oXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9PcGVyYXRpb25Db250ZXh0KSBvcGVyYXRpb246IEFfTWVtb3J5T3BlcmF0aW9uQ29udGV4dCxcbiAgICAgICAgQEFfSW5qZWN0KEFfTWVtb3J5Q29udGV4dCkgY29udGV4dDogQV9NZW1vcnlDb250ZXh0PF9TdG9yYWdlVHlwZT4sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEhhbmRsZSBkcm9wIG9wZXJhdGlvblxuICAgICAgICBjb250ZXh0LmRlbGV0ZShvcGVyYXRpb24ucGFyYW1zLmtleSk7XG4gICAgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlICdjbGVhcicgb3BlcmF0aW9uIGZvciBjbGVhcmluZyBhbGwgdmFsdWVzIGZyb20gbWVtb3J5XG4gICAgICovXG4gICAgYXN5bmMgW0FfTWVtb3J5RmVhdHVyZXMub25DbGVhcl0oXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9PcGVyYXRpb25Db250ZXh0KSBvcGVyYXRpb246IEFfTWVtb3J5T3BlcmF0aW9uQ29udGV4dCxcbiAgICAgICAgQEFfSW5qZWN0KEFfTWVtb3J5Q29udGV4dCkgY29udGV4dDogQV9NZW1vcnlDb250ZXh0PF9TdG9yYWdlVHlwZT4sXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIEhhbmRsZSBjbGVhciBvcGVyYXRpb25cbiAgICAgICAgY29udGV4dC5jbGVhcigpO1xuICAgIH1cblxuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PUEtTWVtb3J5IE1ldGhvZHM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBtZW1vcnkgY29udGV4dFxuICAgICAqL1xuICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWFkeSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWFkeTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IG5ldyBBX1Njb3BlKHsgbmFtZTogJ0EtTWVtb3J5LUluaXQtU2NvcGUnIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkluaXQsIHNjb3BlKTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgaW5pdEVycm9yID0gbmV3IEFfTWVtb3J5RXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBBX01lbW9yeUVycm9yLk1lbW9yeUluaXRpYWxpemF0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgbWVtb3J5IGluaXRpYWxpemF0aW9uJyxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgc2NvcGUucmVnaXN0ZXIoaW5pdEVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25FcnJvciwgc2NvcGUpO1xuXG4gICAgICAgICAgICBzY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHRocm93IGluaXRFcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBtZW1vcnkgY29udGV4dFxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgcmVzcG9uc2libGUgZm9yIGNsZWFuaW5nIHVwIGFueSByZXNvdXJjZXNcbiAgICAgKiB1c2VkIGJ5IHRoZSBtZW1vcnkgY29udGV4dCBhbmQgcmVzZXR0aW5nIGl0cyBzdGF0ZS5cbiAgICAgKi9cbiAgICBhc3luYyBkZXN0cm95KCkge1xuXG4gICAgICAgIGNvbnN0IHNjb3BlID0gbmV3IEFfU2NvcGUoeyBuYW1lOiAnQS1NZW1vcnktRGVzdHJveS1TY29wZScgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX3JlYWR5ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkRlc3Ryb3ksIHNjb3BlKTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZGVzdHJveUVycm9yID0gbmV3IEFfTWVtb3J5RXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBBX01lbW9yeUVycm9yLk1lbW9yeURlc3RydWN0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgbWVtb3J5IGRlc3RydWN0aW9uJyxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgc2NvcGUucmVnaXN0ZXIoZGVzdHJveUVycm9yKTtcblxuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkVycm9yLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgZGVzdHJveUVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICAqIFJldHJpZXZlcyBhIHZhbHVlIGZyb20gdGhlIGNvbnRleHQgbWVtb3J5XG4gICAgICAqIFxuICAgICAgKiBAcGFyYW0ga2V5IC0gbWVtb3J5IGtleSB0byByZXRyaWV2ZVxuICAgICAgKiBAcmV0dXJucyAtIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGUga2V5IG9yIHVuZGVmaW5lZCBpZiBub3QgZm91bmRcbiAgICAgICovXG4gICAgYXN5bmMgZ2V0PEsgZXh0ZW5kcyBrZXlvZiBfU3RvcmFnZVR5cGU+KFxuICAgICAgICAvKipcbiAgICAgICAgICogS2V5IHRvIHJldHJpZXZlIHRoZSB2YWx1ZSBmb3JcbiAgICAgICAgICovXG4gICAgICAgIGtleTogS1xuICAgICk6IFByb21pc2U8X1N0b3JhZ2VUeXBlW0tdIHwgdW5kZWZpbmVkPiB7XG5cbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gbmV3IEFfT3BlcmF0aW9uQ29udGV4dCgnZ2V0JywgeyBrZXkgfSk7XG5cbiAgICAgICAgY29uc3Qgc2NvcGUgPSBuZXcgQV9TY29wZSh7XG4gICAgICAgICAgICBuYW1lOiAnQS1NZW1vcnktR2V0LU9wZXJhdGlvbi1TY29wZScsXG4gICAgICAgICAgICBmcmFnbWVudHM6IFtvcGVyYXRpb25dXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uR2V0LCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgcmV0dXJuIG9wZXJhdGlvbi5yZXN1bHQ7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGdldEVycm9yID0gbmV3IEFfTWVtb3J5RXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBBX01lbW9yeUVycm9yLk1lbW9yeUdldEVycm9yLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZ2V0dGluZyB0aGUgdmFsdWUgZm9yIGtleSBcIiR7U3RyaW5nKGtleSl9XCJgLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2NvcGUucmVnaXN0ZXIoZ2V0RXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkVycm9yLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgZ2V0RXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSB2YWx1ZSBleGlzdHMgaW4gdGhlIGNvbnRleHQgbWVtb3J5XG4gICAgICogXG4gICAgICogQHBhcmFtIGtleSAtIG1lbW9yeSBrZXkgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyAtIHRydWUgaWYga2V5IGV4aXN0cywgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgYXN5bmMgaGFzKGtleToga2V5b2YgX1N0b3JhZ2VUeXBlKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IG5ldyBBX09wZXJhdGlvbkNvbnRleHQoJ2hhcycsIHsga2V5IH0pO1xuXG4gICAgICAgIGNvbnN0IHNjb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgbmFtZTogJ0EtTWVtb3J5LUhhcy1PcGVyYXRpb24tU2NvcGUnLFxuICAgICAgICAgICAgZnJhZ21lbnRzOiBbb3BlcmF0aW9uXVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmluaGVyaXQoQV9Db250ZXh0LnNjb3BlKHRoaXMpKTtcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkhhcywgc2NvcGUpO1xuXG4gICAgICAgICAgICBzY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHJldHVybiBvcGVyYXRpb24ucmVzdWx0O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBnZXRFcnJvciA9IG5ldyBBX01lbW9yeUVycm9yKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogQV9NZW1vcnlFcnJvci5NZW1vcnlIYXNFcnJvcixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGNoZWNraW5nIGV4aXN0ZW5jZSBmb3Iga2V5IFwiJHtTdHJpbmcoa2V5KX1cImAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzY29wZS5yZWdpc3RlcihnZXRFcnJvcik7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uRXJyb3IsIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyBnZXRFcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhdmVzIGEgdmFsdWUgaW4gdGhlIGNvbnRleHQgbWVtb3J5XG4gICAgICogXG4gICAgICogQHBhcmFtIGtleSBcbiAgICAgKiBAcGFyYW0gdmFsdWUgXG4gICAgICovXG4gICAgYXN5bmMgc2V0PEsgZXh0ZW5kcyBrZXlvZiBfU3RvcmFnZVR5cGU+KFxuICAgICAgICAvKipcbiAgICAgICAgICogS2V5IHRvIHNhdmUgdGhlIHZhbHVlIHVuZGVyXG4gICAgICAgICAqL1xuICAgICAgICBrZXk6IEssXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWYWx1ZSB0byBzYXZlXG4gICAgICAgICAqL1xuICAgICAgICB2YWx1ZTogX1N0b3JhZ2VUeXBlW0tdXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IG5ldyBBX09wZXJhdGlvbkNvbnRleHQoJ3NldCcsIHsga2V5LCB2YWx1ZSB9KTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6ICdBLU1lbW9yeS1TZXQtT3BlcmF0aW9uLVNjb3BlJyxcbiAgICAgICAgICAgIGZyYWdtZW50czogW29wZXJhdGlvbl1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25TZXQsIHNjb3BlKTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3Qgc2V0RXJyb3IgPSBuZXcgQV9NZW1vcnlFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfTWVtb3J5RXJyb3IuTWVtb3J5U2V0RXJyb3IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBzZXR0aW5nIHRoZSB2YWx1ZSBmb3Iga2V5IFwiJHtTdHJpbmcoa2V5KX1cImAsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzY29wZS5yZWdpc3RlcihzZXRFcnJvcik7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uRXJyb3IsIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyBzZXRFcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIHZhbHVlIGZyb20gdGhlIGNvbnRleHQgbWVtb3J5IGJ5IGtleVxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXkgXG4gICAgICovXG4gICAgYXN5bmMgZHJvcChrZXk6IGtleW9mIF9TdG9yYWdlVHlwZSk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IG5ldyBBX09wZXJhdGlvbkNvbnRleHQoJ2Ryb3AnLCB7IGtleSB9KTtcblxuICAgICAgICBjb25zdCBzY29wZSA9IG5ldyBBX1Njb3BlKHtcbiAgICAgICAgICAgIG5hbWU6ICdBLU1lbW9yeS1Ecm9wLU9wZXJhdGlvbi1TY29wZScsXG4gICAgICAgICAgICBmcmFnbWVudHM6IFtvcGVyYXRpb25dXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uRHJvcCwgc2NvcGUpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBkcm9wRXJyb3IgPSBuZXcgQV9NZW1vcnlFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfTWVtb3J5RXJyb3IuTWVtb3J5RHJvcEVycm9yLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZHJvcHBpbmcgdGhlIHZhbHVlIGZvciBrZXkgXCIke1N0cmluZyhrZXkpfVwiYCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKGRyb3BFcnJvcik7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uRXJyb3IsIHNjb3BlKTtcblxuICAgICAgICAgICAgc2NvcGUuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICB0aHJvdyBkcm9wRXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIHN0b3JlZCB2YWx1ZXMgaW4gdGhlIGNvbnRleHQgbWVtb3J5XG4gICAgICovXG4gICAgYXN5bmMgY2xlYXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IG5ldyBBX09wZXJhdGlvbkNvbnRleHQoJ2NsZWFyJyk7XG5cbiAgICAgICAgY29uc3Qgc2NvcGUgPSBuZXcgQV9TY29wZSh7XG4gICAgICAgICAgICBuYW1lOiAnQS1NZW1vcnktQ2xlYXItT3BlcmF0aW9uLVNjb3BlJyxcbiAgICAgICAgICAgIGZyYWdtZW50czogW29wZXJhdGlvbl1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5pbmhlcml0KEFfQ29udGV4dC5zY29wZSh0aGlzKSk7XG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25DbGVhciwgc2NvcGUpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBjbGVhckVycm9yID0gbmV3IEFfTWVtb3J5RXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBBX01lbW9yeUVycm9yLk1lbW9yeUNsZWFyRXJyb3IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBjbGVhcmluZyB0aGUgbWVtb3J5YCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKGNsZWFyRXJyb3IpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9NZW1vcnlGZWF0dXJlcy5vbkVycm9yLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgY2xlYXJFcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgbWVtb3J5IGNvbnRleHQgdG8gYSBKU09OIG9iamVjdFxuICAgICAqICBcbiAgICAgKiBAcmV0dXJucyAtIHNlcmlhbGl6ZWQgbWVtb3J5IG9iamVjdCBcbiAgICAgKi9cbiAgICBhc3luYyB0b0pTT04oKTogUHJvbWlzZTxfU2VyaWFsaXplZFR5cGU+IHtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gbmV3IEFfT3BlcmF0aW9uQ29udGV4dCgnc2VyaWFsaXplJyk7XG5cbiAgICAgICAgY29uc3Qgc2NvcGUgPSBuZXcgQV9TY29wZSh7XG4gICAgICAgICAgICBuYW1lOiAnQS1NZW1vcnktU2VyaWFsaXplLU9wZXJhdGlvbi1TY29wZScsXG4gICAgICAgICAgICBmcmFnbWVudHM6IFtvcGVyYXRpb25dXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuaW5oZXJpdChBX0NvbnRleHQuc2NvcGUodGhpcykpO1xuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX01lbW9yeUZlYXR1cmVzLm9uU2VyaWFsaXplLCBzY29wZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvcGVyYXRpb24ucmVzdWx0IGFzIF9TZXJpYWxpemVkVHlwZTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplRXJyb3IgPSBuZXcgQV9NZW1vcnlFcnJvcih7XG4gICAgICAgICAgICAgICAgdGl0bGU6IEFfTWVtb3J5RXJyb3IuTWVtb3J5U2VyaWFsaXplRXJyb3IsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBzZXJpYWxpemluZyB0aGUgbWVtb3J5YCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKHNlcmlhbGl6ZUVycm9yKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfTWVtb3J5RmVhdHVyZXMub25FcnJvciwgc2NvcGUpO1xuXG4gICAgICAgICAgICBzY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHRocm93IHNlcmlhbGl6ZUVycm9yO1xuICAgICAgICB9XG5cbiAgICB9XG59IiwgImV4cG9ydCBlbnVtIEFfU2VydmljZUZlYXR1cmVzIHtcblxuICAgIG9uQmVmb3JlTG9hZCA9ICdfQV9TZXJ2aWNlX29uQmVmb3JlTG9hZCcsXG4gICAgb25Mb2FkID0gJ19BX1NlcnZpY2Vfb25Mb2FkJyxcbiAgICBvbkFmdGVyTG9hZCA9ICdfQV9TZXJ2aWNlX29uQWZ0ZXJMb2FkJyxcblxuICAgIG9uQmVmb3JlU3RhcnQgPSAnX0FfU2VydmljZV9vbkJlZm9yZVN0YXJ0JyxcbiAgICBvblN0YXJ0ID0gJ19BX1NlcnZpY2Vfb25TdGFydCcsXG4gICAgb25BZnRlclN0YXJ0ID0gJ19BX1NlcnZpY2Vfb25BZnRlclN0YXJ0JyxcblxuICAgIG9uQmVmb3JlU3RvcCA9ICdfQV9TZXJ2aWNlX29uQmVmb3JlU3RvcCcsXG4gICAgb25TdG9wID0gJ19BX1NlcnZpY2Vfb25TdG9wJyxcbiAgICBvbkFmdGVyU3RvcCA9ICdfQV9TZXJ2aWNlX29uQWZ0ZXJTdG9wJyxcblxuXG4gICAgb25FcnJvciA9ICdfQV9TZXJ2aWNlX29uRXJyb3InLFxufSIsICJpbXBvcnQgeyBBX0Vycm9yIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX1NlcnZpY2VfRXJyb3IgZXh0ZW5kcyBBX0Vycm9yIHtcblxuICAgIHN0YXRpYyByZWFkb25seSBTZXJ2aWNlTG9hZEVycm9yID0gJ1NlcnZpY2UgbG9hZCBlcnJvcic7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgU2VydmljZVN0YXJ0RXJyb3IgPSAnU2VydmljZSBzdGFydCBlcnJvcic7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgU2VydmljZVN0b3BFcnJvciA9ICdTZXJ2aWNlIHN0b3AgZXJyb3InO1xuXG4gICAgXG5cbn0iLCAiaW1wb3J0IHsgQV9Db25jZXB0LCBBX0NvbnRhaW5lciwgQV9FcnJvciwgQV9GZWF0dXJlLCBBX0luamVjdCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX1NlcnZpY2VGZWF0dXJlcyB9IGZyb20gXCIuL0EtU2VydmljZS5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFfUG9seWZpbGwgfSBmcm9tIFwiLi4vQS1Qb2x5ZmlsbC9BLVBvbHlmaWxsLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQV9Db25maWcgfSBmcm9tIFwiLi4vQS1Db25maWcvQS1Db25maWcuY29udGV4dFwiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiLi4vQS1Mb2dnZXIvQS1Mb2dnZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBX1NlcnZpY2VfRXJyb3IgfSBmcm9tIFwiLi9BLVNlcnZpY2UuZXJyb3JcIjtcblxuXG5cblxuLyoqXG4gKiBBLVNlcnZpY2UgaXMgYSBjb250YWluZXIgdGhhdCBjYW4gcnVuIGRpZmZlcmVudCB0eXBlcyBvZiBzZXJ2aWNlcywgc3VjaCBhcyBIVFRQIHNlcnZlcnMsIHdvcmtlcnMsIGV0Yy5cbiAqIERlcGVuZGluZyBvbiB0aGUgcHJvdmlkZWQgY29uZmlnIGFuZCBjb25maWd1cmF0aW9uLCBpdCB3aWxsIGxvYWQgdGhlIG5lY2Vzc2FyeSBjb21wb25lbnRzIGFuZCBzdGFydCB0aGUgc2VydmljZS5cbiAqIFxuICovXG5leHBvcnQgY2xhc3MgQV9TZXJ2aWNlIGV4dGVuZHMgQV9Db250YWluZXIge1xuXG5cbiAgICBAQV9Db25jZXB0LkxvYWQoKVxuICAgIC8qKlxuICAgICAqIExvYWQgdGhlIHNlcnZpY2VcbiAgICAgKi9cbiAgICBhc3luYyBsb2FkKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uQmVmb3JlTG9hZCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1NlcnZpY2VGZWF0dXJlcy5vbkxvYWQpO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TZXJ2aWNlRmVhdHVyZXMub25BZnRlckxvYWQpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cbiAgICAgICAgICAgIGxldCB3cmFwcGVkRXJyb3I7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgZXJyb3IgaW5zdGFuY2VvZiBBX1NlcnZpY2VfRXJyb3I6XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZWRFcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgZXJyb3IgaW5zdGFuY2VvZiBBX0Vycm9yICYmIGVycm9yLm9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBBX1NlcnZpY2VfRXJyb3I6XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZWRFcnJvciA9IGVycm9yLm9yaWdpbmFsRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEVycm9yID0gbmV3IEFfU2VydmljZV9FcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogQV9TZXJ2aWNlX0Vycm9yLlNlcnZpY2VMb2FkRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIHByb2Nlc3NpbmcgdGhlIHJlcXVlc3QuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNjb3BlLnJlZ2lzdGVyKHdyYXBwZWRFcnJvcik7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1NlcnZpY2VGZWF0dXJlcy5vbkVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG5cbiAgICBAQV9Db25jZXB0LlN0YXJ0KClcbiAgICAvKipcbiAgICAgKiBTdGFydCB0aGUgc2VydmVyXG4gICAgICovXG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TZXJ2aWNlRmVhdHVyZXMub25CZWZvcmVTdGFydCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1NlcnZpY2VGZWF0dXJlcy5vblN0YXJ0KTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uQWZ0ZXJTdGFydCk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgICAgICAgbGV0IHdyYXBwZWRFcnJvcjtcblxuICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBlcnJvciBpbnN0YW5jZW9mIEFfU2VydmljZV9FcnJvcjpcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEVycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBlcnJvciBpbnN0YW5jZW9mIEFfRXJyb3IgJiYgZXJyb3Iub3JpZ2luYWxFcnJvciBpbnN0YW5jZW9mIEFfU2VydmljZV9FcnJvcjpcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEVycm9yID0gZXJyb3Iub3JpZ2luYWxFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRXJyb3IgPSBuZXcgQV9TZXJ2aWNlX0Vycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBBX1NlcnZpY2VfRXJyb3IuU2VydmljZVN0YXJ0RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIHByb2Nlc3NpbmcgdGhlIHJlcXVlc3QuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNjb3BlLnJlZ2lzdGVyKHdyYXBwZWRFcnJvcik7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1NlcnZpY2VGZWF0dXJlcy5vbkVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgQEFfQ29uY2VwdC5TdG9wKClcbiAgICAvKipcbiAgICAgKiBTdG9wIHRoZSBzZXJ2ZXJcbiAgICAgKi9cbiAgICBhc3luYyBzdG9wKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFfU2VydmljZUZlYXR1cmVzLm9uQmVmb3JlU3RvcCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1NlcnZpY2VGZWF0dXJlcy5vblN0b3ApO1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQV9TZXJ2aWNlRmVhdHVyZXMub25BZnRlclN0b3ApO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG5cbiAgICAgICAgICAgIGxldCB3cmFwcGVkRXJyb3I7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgZXJyb3IgaW5zdGFuY2VvZiBBX1NlcnZpY2VfRXJyb3I6XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZWRFcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgZXJyb3IgaW5zdGFuY2VvZiBBX0Vycm9yICYmIGVycm9yLm9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBBX1NlcnZpY2VfRXJyb3I6XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZWRFcnJvciA9IGVycm9yLm9yaWdpbmFsRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEVycm9yID0gbmV3IEFfU2VydmljZV9FcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogQV9TZXJ2aWNlX0Vycm9yLlNlcnZpY2VTdG9wRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIHByb2Nlc3NpbmcgdGhlIHJlcXVlc3QuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNjb3BlLnJlZ2lzdGVyKHdyYXBwZWRFcnJvcik7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBX1NlcnZpY2VGZWF0dXJlcy5vbkVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQS1TZXJ2aWNlIExpZmVjeWNsZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25CZWZvcmVMb2FkXShcbiAgICAgICAgQEFfSW5qZWN0KEFfUG9seWZpbGwpIHBvbHlmaWxsOiBBX1BvbHlmaWxsLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICAvLyBJbml0aWFsaXplIFBvbHlmaWxsXG4gICAgICAgIGlmICghcG9seWZpbGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2NvcGUucmVnaXN0ZXIoQV9Qb2x5ZmlsbCk7XG4gICAgICAgICAgICBwb2x5ZmlsbCA9IHRoaXMuc2NvcGUucmVzb2x2ZShBX1BvbHlmaWxsKSFcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfU2VydmljZUZlYXR1cmVzLm9uTG9hZF0oLi4uYXJnczogYW55W10pIHsgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25BZnRlckxvYWRdKC4uLmFyZ3M6IGFueVtdKSB7IH1cblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25CZWZvcmVTdGFydF0oLi4uYXJnczogYW55W10pIHsgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25TdGFydF0oLi4uYXJnczogYW55W10pIHsgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyAgW0FfU2VydmljZUZlYXR1cmVzLm9uQWZ0ZXJTdGFydF0oLi4uYXJnczogYW55W10pIHsgfVxuXG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfU2VydmljZUZlYXR1cmVzLm9uQmVmb3JlU3RvcF0oLi4uYXJnczogYW55W10pIHsgfVxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25TdG9wXSguLi5hcmdzOiBhbnlbXSkgeyB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vbkFmdGVyU3RvcF0oLi4uYXJnczogYW55W10pIHsgfVxuXG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgYmVmb3JlOiAvLiovXG4gICAgfSlcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfU2VydmljZUZlYXR1cmVzLm9uRXJyb3JdKFxuICAgICAgICBAQV9JbmplY3QoQV9FcnJvcikgZXJyb3I6IEFfRXJyb3IsXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKSB7XG4gICAgICAgIGxvZ2dlcj8uZXJyb3IoZXJyb3IpO1xuICAgIH1cblxufVxuXG5cblxuXG5cblxuXG5cbiIsICJleHBvcnQgY2xhc3MgQV9EZWZlcnJlZDxUPiB7XG4gICAgcHVibGljIHByb21pc2U6IFByb21pc2U8VD47XG4gICAgcHJpdmF0ZSByZXNvbHZlRm4hOiAodmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPikgPT4gdm9pZDtcbiAgICBwcml2YXRlIHJlamVjdEZuITogKHJlYXNvbj86IGFueSkgPT4gdm9pZDtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWZlcnJlZCBwcm9taXNlXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgY2FuIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkIGxhdGVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlPFQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUZuID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIHRoaXMucmVqZWN0Rm4gPSByZWplY3Q7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlc29sdmUodmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPik6IHZvaWQge1xuICAgICAgICB0aGlzLnJlc29sdmVGbih2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmVqZWN0KHJlYXNvbj86IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlamVjdEZuKHJlYXNvbik7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0RlZmVycmVkIH0gZnJvbSBcIi4vQS1EZWZlcnJlZC5jbGFzc1wiO1xuaW1wb3J0IHsgQV9FcnJvciB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENhbGxiYWNrLCBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENvbmZpZyB9IGZyb20gXCIuL0EtU2NoZWR1bGUudHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIEFfU2NoZWR1bGVPYmplY3Q8VCBleHRlbmRzIGFueSA9IGFueT4ge1xuXG4gICAgcHJpdmF0ZSB0aW1lb3V0ITogTm9kZUpTLlRpbWVvdXQ7XG4gICAgcHJpdmF0ZSBkZWZlcnJlZCE6IEFfRGVmZXJyZWQ8VD47XG5cbiAgICBwcml2YXRlIGNvbmZpZzogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDb25maWcgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgdGltZW91dCBpcyBjbGVhcmVkLCBzaG91bGQgdGhlIHByb21pc2UgcmVzb2x2ZSBvciByZWplY3Q/XG4gICAgICAgICAqIEJZIERlZmF1bHQgaXQgcmVqZWN0c1xuICAgICAgICAgKiBcbiAgICAgICAgICogISEhTk9URTogSWYgdGhlIHByb3BlcnR5IGlzIHNldCB0byB0cnVlLCB0aGUgcHJvbWlzZSB3aWxsIHJlc29sdmUgd2l0aCB1bmRlZmluZWRcbiAgICAgICAgICovXG4gICAgICAgIHJlc29sdmVPbkNsZWFyOiBmYWxzZVxuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzY2hlZHVsZWQgb2JqZWN0IHRoYXQgd2lsbCBleGVjdXRlIHRoZSBhY3Rpb24gYWZ0ZXIgc3BlY2lmaWVkIG1pbGxpc2Vjb25kc1xuICAgICAqIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSBtcyAtIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBleGVjdXRpbmcgdGhlIGFjdGlvblxuICAgICAqIEBwYXJhbSBhY3Rpb24gLSB0aGUgYWN0aW9uIHRvIGV4ZWN1dGVcbiAgICAgKiBAcGFyYW0gY29uZmlnIC0gY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgc2NoZWR1bGUgb2JqZWN0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgZXhlY3V0aW5nIHRoZSBhY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIG1zOiBudW1iZXIsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWN0aW9uIHRvIGV4ZWN1dGUgYWZ0ZXIgdGhlIHNwZWNpZmllZCBtaWxsaXNlY29uZHNcbiAgICAgICAgICovXG4gICAgICAgIGFjdGlvbjogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDYWxsYmFjazxUPixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIHNjaGVkdWxlIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDb25maWdcbiAgICApIHtcbiAgICAgICAgaWYgKGNvbmZpZylcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0geyAuLi50aGlzLmNvbmZpZywgLi4uY29uZmlnIH07XG5cbiAgICAgICAgdGhpcy5kZWZlcnJlZCA9IG5ldyBBX0RlZmVycmVkPFQ+KCk7XG5cbiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChcbiAgICAgICAgICAgICgpID0+IGFjdGlvbigpXG4gICAgICAgICAgICAgICAgLnRoZW4oKC4uLmFyZ3MpID0+IHRoaXMuZGVmZXJyZWQucmVzb2x2ZSguLi5hcmdzKSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKC4uLmFyZ3MpID0+IHRoaXMuZGVmZXJyZWQucmVqZWN0KC4uLmFyZ3MpKSxcbiAgICAgICAgICAgIG1zXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0IHByb21pc2UoKTogUHJvbWlzZTxUPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gICAgY2xlYXIoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcucmVzb2x2ZU9uQ2xlYXIpXG4gICAgICAgICAgICAgICAgdGhpcy5kZWZlcnJlZC5yZXNvbHZlKHVuZGVmaW5lZCBhcyBUKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmRlZmVycmVkLnJlamVjdChuZXcgQV9FcnJvcihcIlRpbWVvdXQgQ2xlYXJlZFwiKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsICJpbXBvcnQgeyBBX0NvbXBvbmVudCwgQV9UeXBlR3VhcmRzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFfU2NoZWR1bGVPYmplY3QgfSBmcm9tIFwiLi9BLVNjaGVkdWxlT2JqZWN0LmNsYXNzXCI7XG5pbXBvcnQgeyBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENhbGxiYWNrLCBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENvbmZpZyB9IGZyb20gXCIuL0EtU2NoZWR1bGUudHlwZXNcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBX1NjaGVkdWxlIGV4dGVuZHMgQV9Db21wb25lbnQge1xuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHNjaGVkdWxlIGEgY2FsbGJhY2sgZm9yIHBhcnRpY3VsYXIgdGltZSBpbiB0aGUgZnV0dXJlXG4gICAgICogXG4gICAgICogQHBhcmFtIHRpbWVzdGFtcCAtIFVuaXggdGltZXN0YW1wIGluIG1pbGxpc2Vjb25kc1xuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayB0byBleGVjdXRlXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHNjaGVkdWxlIG9iamVjdFxuICAgICAqL1xuICAgIGFzeW5jIHNjaGVkdWxlPFQgZXh0ZW5kcyBhbnkgPSBhbnk+KFxuICAgICAgICAvKipcbiAgICAgICAgICogVW5peCB0aW1lc3RhbXAgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAqL1xuICAgICAgICB0aW1lc3RhbXA6IG51bWJlcixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayB0byBleGVjdXRlXG4gICAgICAgICAqL1xuICAgICAgICBjYWxsYmFjazogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDYWxsYmFjazxUPixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIHNjaGVkdWxlIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDb25maWdcbiAgICApOiBQcm9taXNlPEFfU2NoZWR1bGVPYmplY3Q8VD4+XG4gICAgYXN5bmMgc2NoZWR1bGU8VCBleHRlbmRzIGFueSA9IGFueT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJU08gZGF0ZSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBkYXRlIGFuZCB0aW1lIHRvIHNjaGVkdWxlIHRoZSBjYWxsYmFjayBmb3JcbiAgICAgICAgICovXG4gICAgICAgIGRhdGU6IHN0cmluZyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayB0byBleGVjdXRlXG4gICAgICAgICAqL1xuICAgICAgICBjYWxsYmFjazogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDYWxsYmFjazxUPixcbiAgICAgICAgLyoqXG4gICAgICAgICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgc2NoZWR1bGUgb2JqZWN0XG4gICAgICAgICovXG4gICAgICAgIGNvbmZpZz86IEFfVVRJTFNfVFlQRVNfX1NjaGVkdWxlT2JqZWN0Q29uZmlnXG4gICAgKTogUHJvbWlzZTxBX1NjaGVkdWxlT2JqZWN0PFQ+PlxuICAgIGFzeW5jIHNjaGVkdWxlPFQgZXh0ZW5kcyBhbnkgPSBhbnk+KFxuICAgICAgICBkYXRlOiBzdHJpbmcgfCBudW1iZXIsXG4gICAgICAgIGNhbGxiYWNrOiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENhbGxiYWNrPFQ+LFxuICAgICAgICBjb25maWc/OiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENvbmZpZ1xuICAgICk6IFByb21pc2U8QV9TY2hlZHVsZU9iamVjdDxUPj4ge1xuXG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IEFfVHlwZUd1YXJkcy5pc1N0cmluZyhkYXRlKVxuICAgICAgICAgICAgPyAobmV3IERhdGUoZGF0ZSkpLmdldFRpbWUoKVxuICAgICAgICAgICAgOiBkYXRlO1xuXG4gICAgICAgIHJldHVybiBuZXcgQV9TY2hlZHVsZU9iamVjdDxUPihcbiAgICAgICAgICAgIHRpbWVzdGFtcCAtIERhdGUubm93KCksXG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIGNvbmZpZ1xuICAgICAgICApO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBBbGxvd3MgdG8gZXhlY3V0ZSBjYWxsYmFjayBhZnRlciBwYXJ0aWN1bGFyIGRlbGF5IGluIG1pbGxpc2Vjb25kc1xuICAgICAqIFNvIHRoZSBjYWxsYmFjayB3aWxsIGJlIGV4ZWN1dGVkIGFmdGVyIHRoZSBzcGVjaWZpZWQgZGVsYXlcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbXMgXG4gICAgICovXG4gICAgYXN5bmMgZGVsYXk8VCBleHRlbmRzIGFueSA9IGFueT4oXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxheSBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICovXG4gICAgICAgIG1zOiBudW1iZXIsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgdG8gZXhlY3V0ZSBhZnRlciB0aGUgZGVsYXlcbiAgICAgICAgICovXG4gICAgICAgIGNhbGxiYWNrOiBBX1VUSUxTX1RZUEVTX19TY2hlZHVsZU9iamVjdENhbGxiYWNrPFQ+LFxuICAgICAgICAvKipcbiAgICAgICAgKiBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBzY2hlZHVsZSBvYmplY3RcbiAgICAgICAgKi9cbiAgICAgICAgY29uZmlnPzogQV9VVElMU19UWVBFU19fU2NoZWR1bGVPYmplY3RDb25maWdcbiAgICApOiBQcm9taXNlPEFfU2NoZWR1bGVPYmplY3Q8VD4+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBBX1NjaGVkdWxlT2JqZWN0PFQ+KFxuICAgICAgICAgICAgbXMsXG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIGNvbmZpZ1xuICAgICAgICApO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db21wb25lbnQsIEFfRmVhdHVyZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBcmVGZWF0dXJlcyB9IGZyb20gXCIuL0FyZS5jb25zdGFudHNcIjtcblxuXG5leHBvcnQgY2xhc3MgQXJlPFxuICAgIF9EYXRhVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGV4dGVuZHMgQV9Db21wb25lbnQge1xuXG5cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PSBMSUZFQ1lDTEUgREVDT1JBVE9SUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIHN0YXRpYyBnZXQgRXZlbnRIYW5kbGVyKCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBwcm9wZXJ0eUtleSxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb25CZWZvcmVMb2FkKCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBcmVGZWF0dXJlcy5vbkJlZm9yZUxvYWQsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHN0YXRpYyBnZXQgb25BZnRlckxvYWQoKSB7XG4gICAgICAgIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IEFyZUZlYXR1cmVzLm9uQWZ0ZXJMb2FkLFxuICAgICAgICAgICAgICAgIHNjb3BlOiBbdGFyZ2V0LmNvbnN0cnVjdG9yXSxcbiAgICAgICAgICAgIH0pKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBvbkJlZm9yZU1vdW50KCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBcmVGZWF0dXJlcy5vbkJlZm9yZU1vdW50LFxuICAgICAgICAgICAgICAgIHNjb3BlOiBbdGFyZ2V0LmNvbnN0cnVjdG9yXSxcbiAgICAgICAgICAgIH0pKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBvbkFmdGVyTW91bnQoKSB7XG4gICAgICAgIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IEFyZUZlYXR1cmVzLm9uQWZ0ZXJNb3VudCxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb25CZWZvcmVVbm1vdW50KCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBcmVGZWF0dXJlcy5vbkJlZm9yZVVubW91bnQsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFt0YXJnZXQuY29uc3RydWN0b3JdLFxuICAgICAgICAgICAgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9uQWZ0ZXJVbm1vdW50KCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBcmVGZWF0dXJlcy5vbkFmdGVyVW5tb3VudCxcbiAgICAgICAgICAgICAgICBzY29wZTogW3RhcmdldC5jb25zdHJ1Y3Rvcl0sXG4gICAgICAgICAgICB9KSh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgb25CZWZvcmVVcGRhdGUoKSB7XG4gICAgICAgIHJldHVybiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFfRmVhdHVyZS5FeHRlbmQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IEFyZUZlYXR1cmVzLm9uQmVmb3JlVXBkYXRlLFxuICAgICAgICAgICAgICAgIHNjb3BlOiBbdGFyZ2V0LmNvbnN0cnVjdG9yXSxcbiAgICAgICAgICAgIH0pKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBvbkFmdGVyVXBkYXRlKCkge1xuICAgICAgICByZXR1cm4gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nLCBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBcmVGZWF0dXJlcy5vbkFmdGVyVXBkYXRlLFxuICAgICAgICAgICAgICAgIHNjb3BlOiBbdGFyZ2V0LmNvbnN0cnVjdG9yXSxcbiAgICAgICAgICAgIH0pKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09IENPTVBPTkVOVCBNRVRIT0RTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHRlbXBsYXRlIHN0cmluZyBmb3IgdGhlIGNvbXBvbmVudFxuICAgICAqIFxuICAgICAqIENvdWxkIGJlIG92ZXJyaWRkZW4gdG8gcHJvdmlkZSBkeW5hbWljIHRlbXBsYXRlcyBiYXNlZCBvbiBjb21wb25lbnQgc3RhdGVcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBhc3luYyB0ZW1wbGF0ZSgpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICByZXR1cm4gYGA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc3R5bGVzIHN0cmluZyBmb3IgdGhlIGNvbXBvbmVudFxuICAgICAqICBcbiAgICAgKiBDb3VsZCBiZSBvdmVycmlkZGVuIHRvIHByb3ZpZGUgZHluYW1pYyBzdHlsZXMgYmFzZWQgb24gY29tcG9uZW50IHN0YXRlXG4gICAgICogXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgYXN5bmMgc3R5bGVzKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiBgYDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkYXRhIG9iamVjdCBmb3IgdGhlIGNvbXBvbmVudFxuICAgICAqIFxuICAgICAqIFVzZXMgYXMgdGhlIGluaXRpYWwgc3RhdGUgb2YgdGhlIGNvbXBvbmVudFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIGFzeW5jIGRhdGEoKTogUHJvbWlzZTxfRGF0YVR5cGU+IHtcbiAgICAgICAgcmV0dXJuIHt9IGFzIF9EYXRhVHlwZTtcbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ2FsbGVyLCBBX0NvbmNlcHQsIEFfQ29udGV4dCwgQV9GZWF0dXJlLCBBX0luamVjdCwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0NvbW1hbmRGZWF0dXJlcywgQV9Mb2dnZXIsIEFfTWVtb3J5LCBBX1BvbHlmaWxsIH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5pbXBvcnQgeyBBcmUgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb21wb25lbnRzL0FyZUNvbXBvbmVudC9BcmUuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVFbWFpbChlbWFpbDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvLnRlc3QoZW1haWwpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd0FsZXJ0KG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIGFsZXJ0KG1lc3NhZ2UpO1xufVxuXG5leHBvcnQgY2xhc3MgU2lnbkluQ29tcG9uZW50IGV4dGVuZHMgQXJlIHtcblxuICAgIGFzeW5jIGRhdGEoKTogUHJvbWlzZTx7IGJ0bk5hbWU6IHN0cmluZyB9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBidG5OYW1lOiAnU2lnbiBJbidcbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIGFzeW5jIHN0eWxlcygpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICAuY2FyZCB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDMwMHB4O1xuICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgICAgICB0b3A6NTAlO1xuICAgICAgICAgICAgbGVmdDo1MCU7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICAgICAgfVxuICAgICAgICAgICAgYFxuICAgIH1cblxuICAgIGFzeW5jIHRlbXBsYXRlKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkXCI+XG4gICAgICAgICAgICAgICAgPGgyPlNpZ24gSW48L2gyPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZW1haWxcIiBpZD1cImVtYWlsXCIgcGxhY2Vob2xkZXI9XCJFbWFpbFwiIC8+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGlkPVwicGFzc3dvcmRcIiBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkXCIgLz5cbiAgICAgICAgICAgICAgICA8YS1idG4gQGNsaWNrPVwic2lnbkluXCIgOm5hbWU9XCJidG5OYW1lXCIgOnN0eWxlPVwieyBjb2xvcjogJ3JlZCcgfVwiPjwvYS1idG4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICB9XG5cblxuICAgIC8vIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAvLyAgICAgc2NvcGU6IFtTaWduSW5Db21wb25lbnRdXG4gICAgLy8gfSlcbiAgICAvLyBhc3luYyBBX1VJX05PREVfb25CZWZvcmVMb2FkKFxuICAgIC8vICAgICBAQV9JbmplY3QoQXJlTm9kZSkgbm9kZTogQXJlTm9kZSxcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgIC8vICAgICBAQV9JbmplY3QoQV9VSV9Ob2RlU3RvcmUpIHN0b3JlOiBBX1VJX05vZGVTdG9yZSxcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuICAgIC8vICk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgLy8gICAgIGxvZ2dlci5sb2coJ2dyZWVuJywgYFNpZ25JbkNvbXBvbmVudCBpcyBpbml0aWFsaXppbmcuLi4gOiA8JHtub2RlLmFzZWlkLmVudGl0eX0+IDogYCwgbm9kZS5hc2VpZC50b1N0cmluZygpKTtcblxuXG4gICAgLy8gICAgIHN0b3JlLmRhdGEuc2V0KCdidG5OYW1lJywgJ0N1c3RvbSBTaWduIEluIEJ1dHRvbicpO1xuICAgIC8vIH1cblxuXG4gICAgLy8gcHJpdmF0ZSBhZGRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgLy8gICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2lnbkluQnRuXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIC8vICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuc2lnbkluKCkpO1xuICAgIC8vIH1cblxuICAgIC8vIHByaXZhdGUgYXN5bmMgc2lnbkluKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vICAgICBjb25zdCBlbWFpbCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVtYWlsXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgIC8vICAgICBjb25zdCBwYXNzd29yZCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhc3N3b3JkXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuXG4gICAgLy8gICAgIGNvbnN0IHNpZ25JbkNvbW1hbmQgPSBuZXcgU2lnbkluQ29tbWFuZCh7XG4gICAgLy8gICAgICAgICB1c2VybmFtZTogZW1haWwsXG4gICAgLy8gICAgICAgICBwYXNzd29yZFxuICAgIC8vICAgICB9KTtcblxuXG4gICAgLy8gICAgIEFfQ29udGV4dC5zY29wZSh0aGlzKS5yZWdpc3RlcihzaWduSW5Db21tYW5kKTtcblxuICAgIC8vICAgICBhd2FpdCBzaWduSW5Db21tYW5kLmV4ZWN1dGUoKTtcblxuICAgIC8vICAgICBjb25zb2xlLmxvZyhcIlNpZ25JbiBDb21tYW5kIFJlc3VsdDpcIiwgc2lnbkluQ29tbWFuZC50b0pTT04oKSk7XG4gICAgLy8gfVxuXG5cbiAgICAvLyBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgLy8gICAgIG5hbWU6IEFfQ29tbWFuZEZlYXR1cmVzLm9uQ29tcGxldGUsXG4gICAgLy8gICAgIHNjb3BlOiB7XG4gICAgLy8gICAgICAgICBpbmNsdWRlOiBbU2lnbkluQ29tbWFuZF1cbiAgICAvLyAgICAgfVxuICAgIC8vIH0pXG4gICAgLy8gYXN5bmMgaGFuZGxlU3VjY2Vzc1NpZ25JbihcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfTWVtb3J5KSBtZW1vcnk6IEFfTWVtb3J5PHsgdG9rZW46IFNlcmlhbGl6ZWRUb2tlbiB9PixcbiAgICAvLyAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBjb21tYW5kOiBTaWduSW5Db21tYW5kLFxuICAgIC8vICkge1xuXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKFwiU2lnbi1pbiBjb21wbGV0ZWQgd2l0aCByZXN1bHQ6XCIsIGNvbW1hbmQucmVzdWx0KTtcblxuICAgIC8vICAgICBhbGVydChjb21tYW5kLnJlc3VsdClcblxuICAgIC8vICAgICBjb25zdCByZXN1bHRUb2tlbiA9IGF3YWl0IG1lbW9yeS5nZXQoJ3Rva2VuJylcblxuICAgIC8vICAgICBjb25zdCB0b2tlbiA9IG5ldyBUb2tlbihyZXN1bHRUb2tlbik7XG5cbiAgICAvLyAgICAgbWVtb3J5LnNldCgndG9rZW4nLCB0b2tlbiBhcyBhbnkpO1xuICAgIC8vIH1cbn1cbiIsICJpbXBvcnQgeyBBX0ZyYWdtZW50IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIlxuXG5cbmV4cG9ydCBjbGFzcyBBcmVFdmVudDxcbiAgICBUIGV4dGVuZHMgYW55ID0gYW55XG4+IGV4dGVuZHMgQV9GcmFnbWVudCB7XG5cbiAgICBwcm90ZWN0ZWQgX3Byb3BzOiB7XG4gICAgICAgIGRhdGE6IFQsXG4gICAgICAgIGV2ZW50OiBzdHJpbmdcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihldmVudE5hbWU6IHN0cmluZywgcHJvcHM6IHtcbiAgICAgICAgZGF0YTogVCxcbiAgICAgICAgZXZlbnQ6IHN0cmluZ1xuICAgIH0pIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiBldmVudE5hbWUgfSlcblxuXG4gICAgICAgIHRoaXMuX3Byb3BzID0gcHJvcHM7XG4gICAgfVxuXG4gICAgZ2V0IGRhdGEoKTogVCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9wcy5kYXRhXG4gICAgfVxuXG4gICAgZ2V0IGV2ZW50KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9wcy5ldmVudFxuICAgIH1cbn0iLCAiaW1wb3J0IHsgQVNFSUQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9FeGVjdXRpb25Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5cblxuZXhwb3J0IGNsYXNzIEFyZVN0b3JlPFxuICAgIFQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0gUmVjb3JkPHN0cmluZywgYW55PlxuPiBleHRlbmRzIEFfRXhlY3V0aW9uQ29udGV4dDxUPiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihhc2VpZDogQVNFSUQpIHtcbiAgICAgICAgc3VwZXIoYXNlaWQudG9TdHJpbmcoKSk7XG4gICAgfVxuXG5cbiAgICBzZXRNdWx0aXBsZSh2YWx1ZXM6IFBhcnRpYWw8VD4pOiB2b2lkIHtcbiAgICAgICAgT2JqZWN0LmVudHJpZXModmFsdWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSBhcyBrZXlvZiBULCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0LCBBX0VudGl0eSwgQV9FcnJvciwgQV9Gb3JtYXR0ZXJIZWxwZXIsIEFfSWRlbnRpdHlIZWxwZXIsIEFfU2NvcGUsIEFTRUlEIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFyZU5vZGVOZXdQcm9wcyB9IGZyb20gXCIuL0FyZU5vZGUudHlwZXNcIjtcbmltcG9ydCB7IEFyZVN0b3JlIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTdG9yZS9BcmVTdG9yZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVQcm9wcyB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlUHJvcHMvQXJlUHJvcHMuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlRXZlbnQgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZUV2ZW50L0FyZUV2ZW50LmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZU5vZGVGZWF0dXJlcyB9IGZyb20gXCIuL0FyZU5vZGUuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBcmVJbmRleCB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlSW5kZXgvQXJlSW5kZXguY29udGV4dFwiO1xuXG5leHBvcnQgY2xhc3MgQXJlTm9kZSBleHRlbmRzIEFfRW50aXR5PEFyZU5vZGVOZXdQcm9wcz4ge1xuXG5cbiAgICB0ZW1wbGF0ZSE6IHN0cmluZ1xuICAgIG1hcmt1cCE6IHN0cmluZ1xuICAgIHN0eWxlcyE6IHN0cmluZ1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjb3BlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG5vZGVcbiAgICAgKiB1c2VzIHRvIHN0b3JlIGFsbCBuZXN0ZWQgZnJhZ21lbnRzIGFuZCBlbnRpdGllcyBsaWtlIG90aGVyIEFyZU5vZGVzIGFuZCBTY2VuZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBfc2NvcGUhOiBBX1Njb3BlXG5cbiAgICBnZXQgc2NvcGUoKTogQV9TY29wZSB7XG4gICAgICAgIGlmICghdGhpcy5fc2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Njb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgICAgIG5hbWU6IGAke3RoaXMuYXNlaWQuaWR9YCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Njb3BlO1xuICAgIH1cblxuICAgIGZyb21OZXcobmV3RW50aXR5OiBBcmVOb2RlTmV3UHJvcHMpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hc2VpZCA9IG5ldyBBU0VJRCh7XG4gICAgICAgICAgICBpZDogQV9JZGVudGl0eUhlbHBlci5nZW5lcmF0ZVRpbWVJZCgpLFxuICAgICAgICAgICAgZW50aXR5OiBuZXdFbnRpdHkuY29tcG9uZW50LFxuICAgICAgICAgICAgc2NvcGU6IG5ld0VudGl0eS5zY29wZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IG5ld0VudGl0eS50ZW1wbGF0ZSB8fCAnJztcbiAgICAgICAgdGhpcy5tYXJrdXAgPSBuZXdFbnRpdHkubWFya3VwIHx8ICcnO1xuICAgICAgICB0aGlzLnN0eWxlcyA9IG5ld0VudGl0eS5zdHlsZXMgfHwgJyc7XG4gICAgfVxuXG5cbiAgICBmcm9tQVNFSUQoYXNlaWQ6IHN0cmluZyB8IEFTRUlEKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLmZyb21BU0VJRChhc2VpZCk7XG5cbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9ICcnO1xuICAgICAgICB0aGlzLm1hcmt1cCA9ICcnO1xuICAgICAgICB0aGlzLnN0eWxlcyA9ICcnO1xuICAgIH1cblxuXG5cblxuXG5cblxuICAgIGFzeW5jIGVtaXQoXG4gICAgICAgIGV2ZW50OiBBcmVFdmVudCxcbiAgICApIHtcbiAgICAgICAgdGhpcy5jaGVja1Njb3BlSW5oZXJpdGFuY2UoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogaXNvbGF0ZWQgZXZlbnQgc2NvcGUgdG8gYXZvaWQgcG9sbHV0aW5nIHRoZSBub2RlIHNjb3BlXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBldmVudFNjb3BlID0gbmV3IEFfU2NvcGUoe1xuICAgICAgICAgICAgbmFtZTogYCR7ZXZlbnQubmFtZX0tc2NvcGVgLFxuICAgICAgICAgICAgZnJhZ21lbnRzOiBbZXZlbnRdXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuaW5oZXJpdCh0aGlzLnNjb3BlKVxuXG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2FsbChBcmVOb2RlRmVhdHVyZXMub25FdmVudCwgZXZlbnRTY29wZSlcblxuICAgICAgICAgICAgZXZlbnRTY29wZS5kZXN0cm95KClcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICAgICAgICBldmVudFNjb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGFzeW5jIGNvbXBpbGUoKTogUHJvbWlzZTx2b2lkPiB7XG5cbiAgICAgICAgdGhpcy5jaGVja1Njb3BlSW5oZXJpdGFuY2UoKTtcblxuICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNhbGwoQXJlTm9kZUZlYXR1cmVzLm9uQ29tcGlsZSwgdGhpcy5zY29wZSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgcmVuZGVyKCk6IFByb21pc2U8dm9pZD4ge1xuXG4gICAgICAgIHRoaXMuY2hlY2tTY29wZUluaGVyaXRhbmNlKCk7XG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWxsKEFyZU5vZGVGZWF0dXJlcy5vblJlbmRlciwgdGhpcy5zY29wZSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZCgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgc3VwZXIubG9hZCh0aGlzLl9zY29wZSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVzdHJveShzY29wZT86IEFfU2NvcGUpOiBQcm9taXNlPGFueT4ge1xuXG4gICAgICAgIHRoaXMuY2hlY2tTY29wZUluaGVyaXRhbmNlKCk7XG5cbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgYXdhaXQgc3VwZXIuZGVzdHJveShzY29wZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Njb3BlLmRlc3Ryb3koKTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICAgICAgICB0aGlzLl9zY29wZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlbHBlcnMgTWV0aG9kc1xuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gZW5zdXJlIHRoYXQgdGhlIGN1cnJlbnQgc2NvcGUgaXMgaW5oZXJpdGVkIGZyb20gdGhlIGNvbnRleHQgc2NvcGVcbiAgICAgKiBcbiAgICAgKiBAdGhyb3dzIEFfRXJyb3IgaWYgdGhlIHNjb3BlIGlzIG5vdCBpbmhlcml0ZWQgZnJvbSB0aGUgY29udGV4dCBzY29wZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBjaGVja1Njb3BlSW5oZXJpdGFuY2UoKTogdm9pZCB7XG4gICAgICAgIGxldCBhdHRhY2hlZFNjb3BlOiBBX1Njb3BlO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhdHRhY2hlZFNjb3BlID0gQV9Db250ZXh0LnNjb3BlKHRoaXMpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFfRXJyb3Ioe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBgQV9VSV9Ob2RlIFNjb3BlIEluaGVyaXRhbmNlIEVycm9yYCxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYFRoZSBBX1VJX05vZGUgZW50aXR5IHdpdGggQVNFSUQgJyR7dGhpcy5hc2VpZC50b1N0cmluZygpfScgaXMgbm90IGJvdW5kIHRvIGFueSBjb250ZXh0IHNjb3BlLiBQbGVhc2UgZW5zdXJlIHRoYXQgdGhlIGVudGl0eSBpcyBjcmVhdGVkIHdpdGhpbiBhIHZhbGlkIGNvbnRleHQuYCxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59IiwgImltcG9ydCB7IEFfQ2FsbGVyLCBBX0ZlYXR1cmUsIEFfRm9ybWF0dGVySGVscGVyLCBBX0luamVjdCwgQV9TY29wZSB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0xvZ2dlciB9IGZyb20gXCJAYWRhYXMvYS11dGlsc1wiO1xuaW1wb3J0IHsgQXJlIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29tcG9uZW50cy9BcmVDb21wb25lbnQvQXJlLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQXJlRXZlbnQgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZUV2ZW50L0FyZUV2ZW50LmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZVN0b3JlIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTdG9yZS9BcmVTdG9yZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBQnRuIGV4dGVuZHMgQXJlIHtcblxuXG4gICAgYXN5bmMgdGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiBgPGJ1dHRvbiBjbGFzcz1cImEtYnRuXCIgQGNsaWNrPVwiaGFuZGxlQ2xpY2tcIj57e25hbWV9fTwvYnV0dG9uPiA8YS1pbnB1dCBhLWlmPVwic2hvd0lucHV0XCIgQGNsaWNrPVwiaGFuZGxlY2xpa2NcIj48L2EtaW5wdXQ+YDtcbiAgICB9XG5cblxuICAgIGFzeW5jIHN0eWxlcygpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgLmEtYnRuIHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmNTczMyFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIH1cblxuICAgIGFzeW5jIGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiAnQV9CdXR0b24gRWxlbWVudCdcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBAQXJlLm9uQmVmb3JlTG9hZFxuICAgIGFzeW5jIG9uTG9hZChcbiAgICAgICAgQEFfSW5qZWN0KEFyZU5vZGUpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTdG9yZSkgc3RvcmU6IEFyZVN0b3JlLFxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgKSB7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZygncmVkJywgYEJlZm9yZSBBQnRuIENvbXBvbmVudCBMb2FkIC4uLiA6IDwke25vZGUuYXNlaWQuZW50aXR5fT4gOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX1gKTtcbiAgICB9XG5cbiAgICBAQXJlLm9uQWZ0ZXJMb2FkXG4gICAgYXN5bmMgb25BZnRlckxvYWQoXG4gICAgICAgIEBBX0luamVjdChBcmVOb2RlKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU3RvcmUpIHN0b3JlOiBBcmVTdG9yZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuICAgICkge1xuICAgICAgICBsb2dnZXIuZGVidWcoJ3JlZCcsIGBBZnRlciBBQnRuIENvbXBvbmVudCBMb2FkIC4uLiA6IDwke25vZGUuYXNlaWQuZW50aXR5fT4gOiAke25vZGUuYXNlaWQudG9TdHJpbmcoKX1gKTtcbiAgICB9XG5cbiAgICBAQXJlLkV2ZW50SGFuZGxlclxuICAgIGFzeW5jIGhhbmRsZUNsaWNrKFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIEBBX0luamVjdChBcmVOb2RlKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU3RvcmUpIHN0b3JlOiBBcmVTdG9yZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfTG9nZ2VyKSBsb2dnZXI6IEFfTG9nZ2VyLFxuICAgICAgICBAQV9JbmplY3QoQXJlRXZlbnQpIGV2ZW50OiBBcmVFdmVudCxcbiAgICApIHtcbiAgICAgICAgbG9nZ2VyLmxvZygncmVkJywgJ0J1dHRvbiBjbGlja2VkIScsIHNjb3BlLCBub2RlLCBzdG9yZSwgZXZlbnQpO1xuXG4gICAgICAgIGFsZXJ0KGBCdXR0b24gJHtzdG9yZS5nZXQoJ25hbWUnKX0gY2xpY2tlZCFgKTtcbiAgICB9XG5cbn0iLCAiaW1wb3J0IHsgQV9DYWxsZXIsIEFfRmVhdHVyZSwgQV9JbmplY3QsIEFfU2NvcGUgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFyZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlQ29tcG9uZW50L0FyZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFyZVN0b3JlIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTdG9yZS9BcmVTdG9yZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBSW5wdXQgZXh0ZW5kcyBBcmUge1xuXG4gICAgYXN5bmMgdGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiBgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJBX0lucHV0IEVsZW1lbnRcIi8+YDtcbiAgICB9XG5cbiAgICBAQXJlLkV2ZW50SGFuZGxlclxuICAgIGFzeW5jIEFfVUlfTk9ERV9vbkJlZm9yZUxvYWQoXG4gICAgICAgIEBBX0luamVjdChBcmVOb2RlKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTdG9yZSkgc3RvcmU6IEFyZVN0b3JlLFxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGxvZ2dlci5sb2coJ2dyZWVuJywgYEFJbnB1dCBpcyBpbml0aWFsaXppbmcuLi4gOiA8JHtub2RlLmFzZWlkLmVudGl0eX0+IDogYCwgbm9kZS5hc2VpZC50b1N0cmluZygpKTtcblxuICAgICAgICAvLyBzdG9yZS5kYXRhLnNldCgnYnRuTmFtZScsICdOb3BlJyk7XG4gICAgfVxuXG59IiwgImltcG9ydCB7IEFfQ29udGV4dCwgQV9GcmFnbWVudCwgQV9TY29wZSwgQVNFSUQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQXJlTm9kZSB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHlcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBcmVJbmRleDxcbiAgICBfTWFwcGluZ1R5cGUgPSBhbnlcbj4gZXh0ZW5kcyBBX0ZyYWdtZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKGFzZWlkOiBzdHJpbmcgfCBBU0VJRCkge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBhc2VpZCBpbnN0YW5jZW9mIEFTRUlEID8gYXNlaWQudG9TdHJpbmcoKSA6IGFzZWlkXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBsYXRmb3JtLWFnbm9zdGljIGVsZW1lbnQgaW5kZXhcbiAgICAgKiBFbGVtZW50IGNhbiBiZSBET00gRWxlbWVudCwgUERGIGVsZW1lbnQsIERPQ1ggZWxlbWVudCwgZXRjLlxuICAgICAqIFRoZSBhY3R1YWwgdHlwZSBkZXBlbmRzIG9uIHRoZSBjb21waWxlciBiZWluZyB1c2VkXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9pbmRleDoge1xuICAgICAgICBBU0VJRF90b19FbGVtZW50OiBNYXA8c3RyaW5nLCBfTWFwcGluZ1R5cGU+LFxuICAgICAgICBFbGVtZW50X3RvX0FTRUlEOiBNYXA8X01hcHBpbmdUeXBlLCBzdHJpbmc+LFxuICAgICAgICBOb2RlX3RvX0VsZW1lbnQ6IE1hcDxBcmVOb2RlLCBfTWFwcGluZ1R5cGU+LFxuICAgICAgICBFbGVtZW50X3RvX05vZGU6IE1hcDxfTWFwcGluZ1R5cGUsIEFyZU5vZGU+LFxuICAgIH0gPSB7XG4gICAgICAgICAgICBBU0VJRF90b19FbGVtZW50OiBuZXcgTWFwKCksXG4gICAgICAgICAgICBFbGVtZW50X3RvX0FTRUlEOiBuZXcgTWFwKCksXG4gICAgICAgICAgICBOb2RlX3RvX0VsZW1lbnQ6IG5ldyBNYXAoKSxcbiAgICAgICAgICAgIEVsZW1lbnRfdG9fTm9kZTogbmV3IE1hcCgpLFxuICAgICAgICB9XG5cblxuXG4gICAgZ2V0IHNjb3BlKCk6IEFfU2NvcGUge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LnNjb3BlKHRoaXMpO1xuICAgIH1cblxuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQuc2NvcGUodGhpcykucGFyZW50Py5yZXNvbHZlPEFyZUluZGV4PihBcmVJbmRleCk7XG4gICAgfVxuXG4gICAgZ2V0IHNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4LkFTRUlEX3RvX0VsZW1lbnQuc2l6ZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0IGRlcHRoKCk6IG51bWJlciB7XG4gICAgICAgIGxldCBkZXB0aCA9IDA7XG4gICAgICAgIGxldCBjdXJyZW50U2NvcGU6IEFfU2NvcGUgfCB1bmRlZmluZWQgPSB0aGlzLnNjb3BlO1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50U2NvcGUpIHtcbiAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBjdXJyZW50U2NvcGUucGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlcHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBwbGF0Zm9ybS1hZ25vc3RpYyBlbGVtZW50IHRvIHRoZSBpbmRleFxuICAgICAqIEBwYXJhbSBub2RlIC0gQXJlTm9kZSB0byBpbmRleFxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gUGxhdGZvcm0tc3BlY2lmaWMgZWxlbWVudCAoRE9NLCBQREYsIERPQ1gsIGV0Yy4pXG4gICAgICovXG4gICAgYWRkKG5vZGU6IEFyZU5vZGUsIGVsZW1lbnQ6IF9NYXBwaW5nVHlwZSkge1xuICAgICAgICB0aGlzLl9pbmRleC5BU0VJRF90b19FbGVtZW50LnNldChub2RlLmFzZWlkLnRvU3RyaW5nKCksIGVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9pbmRleC5FbGVtZW50X3RvX0FTRUlELnNldChlbGVtZW50LCBub2RlLmFzZWlkLnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLl9pbmRleC5Ob2RlX3RvX0VsZW1lbnQuc2V0KG5vZGUsIGVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9pbmRleC5FbGVtZW50X3RvX05vZGUuc2V0KGVsZW1lbnQsIG5vZGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBwbGF0Zm9ybS1zcGVjaWZpYyBlbGVtZW50IGJ5IEFyZU5vZGVcbiAgICAgKiBAcGFyYW0gbm9kZSAtIEFyZU5vZGUgdG8gbG9vayB1cFxuICAgICAqIEByZXR1cm5zIFBsYXRmb3JtLXNwZWNpZmljIGVsZW1lbnQgb3IgdW5kZWZpbmVkXG4gICAgICovXG4gICAgZ2V0QnlOb2RlKG5vZGU6IEFyZU5vZGUpOiBfTWFwcGluZ1R5cGUgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXguTm9kZV90b19FbGVtZW50LmdldChub2RlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgQXJlTm9kZSBieSBwbGF0Zm9ybS1zcGVjaWZpYyBlbGVtZW50XG4gICAgICogQHBhcmFtIGVsZW1lbnQgLSBQbGF0Zm9ybS1zcGVjaWZpYyBlbGVtZW50IHRvIGxvb2sgdXBcbiAgICAgKiBAcmV0dXJucyBBcmVOb2RlIG9yIHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGdldEJ5RWxlbWVudChlbGVtZW50OiBfTWFwcGluZ1R5cGUpOiBBcmVOb2RlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4LkVsZW1lbnRfdG9fTm9kZS5nZXQoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBpbmRleCBlbnRyeSBieSBBcmVOb2RlXG4gICAgICogQHBhcmFtIG5vZGUgLSBBcmVOb2RlIHRvIHJlbW92ZSBmcm9tIGluZGV4XG4gICAgICovXG4gICAgcmVtb3ZlQnlOb2RlKG5vZGU6IEFyZU5vZGUpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX2luZGV4Lk5vZGVfdG9fRWxlbWVudC5nZXQobm9kZSk7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9pbmRleC5BU0VJRF90b19FbGVtZW50LmRlbGV0ZShub2RlLmFzZWlkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXguRWxlbWVudF90b19BU0VJRC5kZWxldGUoZWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleC5Ob2RlX3RvX0VsZW1lbnQuZGVsZXRlKG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXguRWxlbWVudF90b19Ob2RlLmRlbGV0ZShlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgaW5kZXggZW50cnkgYnkgcGxhdGZvcm0tc3BlY2lmaWMgZWxlbWVudFxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gUGxhdGZvcm0tc3BlY2lmaWMgZWxlbWVudCB0byByZW1vdmUgZnJvbSBpbmRleFxuICAgICAqL1xuICAgIHJlbW92ZUJ5RWxlbWVudChlbGVtZW50OiBfTWFwcGluZ1R5cGUpIHtcbiAgICAgICAgY29uc3QgYXNlaWQgPSB0aGlzLl9pbmRleC5FbGVtZW50X3RvX0FTRUlELmdldChlbGVtZW50KTtcbiAgICAgICAgaWYgKGFzZWlkKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5faW5kZXguRWxlbWVudF90b19Ob2RlLmdldChlbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5kZXguQVNFSURfdG9fRWxlbWVudC5kZWxldGUoYXNlaWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4LkVsZW1lbnRfdG9fQVNFSUQuZGVsZXRlKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4Lk5vZGVfdG9fRWxlbWVudC5kZWxldGUobm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5kZXguRWxlbWVudF90b19Ob2RlLmRlbGV0ZShlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9pbmRleC5BU0VJRF90b19FbGVtZW50LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2luZGV4LkVsZW1lbnRfdG9fQVNFSUQuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5faW5kZXguTm9kZV90b19FbGVtZW50LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2luZGV4LkVsZW1lbnRfdG9fTm9kZS5jbGVhcigpO1xuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db250ZXh0LCBBX0Vycm9yLCBBX0Zvcm1hdHRlckhlbHBlciwgQV9GcmFnbWVudCwgQV9JZGVudGl0eUhlbHBlciwgQV9TY29wZSwgQVNFSUQgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9Mb2dnZXIgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFyZUluZGV4IH0gZnJvbSBcIi4uL0FyZUluZGV4L0FyZUluZGV4LmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZU5vZGUgfSBmcm9tIFwiQGFkYWFzL2FyZS9lbnRpdGllcy9BcmVOb2RlL0FyZU5vZGUuZW50aXR5XCI7XG5cbmV4cG9ydCBjbGFzcyBBcmVTY2VuZTxcbiAgICBfSW5kZXhUeXBlID0gYW55LFxuPiBleHRlbmRzIEFfRnJhZ21lbnQge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIG5hbWU/OiBzdHJpbmcsXG4gICAgICAgIHRlbXBsYXRlPzogc3RyaW5nXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHsgbmFtZTogbmFtZSB8fCAnYXJlLWFwcCcgfSk7XG4gICAgfVxuXG4gICAgZ2V0IHNjb3BlKCk6IEFfU2NvcGUge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LnNjb3BlKHRoaXMpO1xuICAgIH1cblxuICAgIGdldCBpbmRleCgpOiBBcmVJbmRleDxfSW5kZXhUeXBlPiB7XG4gICAgICAgIHJldHVybiBBX0NvbnRleHQuc2NvcGUodGhpcykucmVzb2x2ZTxBcmVJbmRleDxfSW5kZXhUeXBlPj4oQXJlSW5kZXgpITtcbiAgICB9XG5cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gQV9Db250ZXh0LnNjb3BlKHRoaXMpLnBhcmVudD8ucmVzb2x2ZTxBcmVTY2VuZT4oQXJlU2NlbmUpO1xuICAgIH1cblxuICAgIGdldCB0ZW1wbGF0ZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgZ2V0IG1vdW50UG9pbnQoKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMubmFtZSlcbiAgICB9XG5cbiAgICBzZXQgdGVtcGxhdGUodmFsdWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG5cbiAgICBnZXQgZGVwdGgoKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGRlcHRoID0gMDtcbiAgICAgICAgbGV0IGN1cnJlbnRTY29wZTogQV9TY29wZSB8IHVuZGVmaW5lZCA9IHRoaXMuc2NvcGU7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnRTY29wZSkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRTY29wZS5wYXJlbnQgJiYgY3VycmVudFNjb3BlLnBhcmVudC5yZXNvbHZlPEFyZVNjZW5lPihBcmVTY2VuZSkpIHtcbiAgICAgICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gY3VycmVudFNjb3BlLnBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZXB0aDtcbiAgICB9XG5cblxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhdG9yPEFyZU5vZGU+IHtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmV4dDogKCk6IEl0ZXJhdG9yUmVzdWx0PEFyZU5vZGU+ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBkb25lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYXR0YWNoKG5vZGU6IEFyZU5vZGUpOiB2b2lkIHtcblxuICAgICAgICB0aGlzLnNjb3BlLnJlZ2lzdGVyKG5vZGUpO1xuICAgICAgICBub2RlLnNjb3BlLmluaGVyaXQodGhpcy5zY29wZSlcbiAgICB9XG5cblxuXG4gICAgYXN5bmMgbW91bnQoXG4gICAgICAgIG5vZGU6IEFyZU5vZGUsXG4gICAgKSB7XG5cbiAgICB9XG5cblxuICAgIGFzeW5jIHVwZGF0ZShcbiAgICAgICAgbm9kZTogQXJlTm9kZSxcbiAgICApIHtcblxuICAgIH1cblxuXG4gICAgYXN5bmMgdW5tb3VudChcbiAgICAgICAgbm9kZTogQXJlTm9kZSxcbiAgICApIHtcblxuICAgIH1cblxuXG4gICAgYXN5bmMgYWRkTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgaGFuZGxlcjogc3RyaW5nLCBvd25lcjogQXJlTm9kZSwgbm9kZTogQXJlTm9kZSkge1xuXG4gICAgfVxuXG5cbiAgICBhc3luYyByZW5kZXIoKSB7XG5cbiAgICB9XG5cblxuICAgIGFzeW5jIHBhcmVudE9mKG5vZGU6IEFyZU5vZGUpOiBQcm9taXNlPEFyZU5vZGUgfCBudWxsPiB7XG5cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cblxuICAgIGFzeW5jIGNoaWxkcmVuT2Yobm9kZTogQXJlTm9kZSk6IFByb21pc2U8QXJlTm9kZVtdPiB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuOiBBcmVOb2RlW10gPSBbXTtcblxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuXG5cbiAgICBhc3luYyBjbGVhcigpIHtcblxuXG4gICAgICAgIHRoaXMuaW5kZXguY2xlYXIoKTtcbiAgICB9XG5cblxuICAgIGFzeW5jIHJlc2V0KHRlbXBsYXRlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5pbmRleC5jbGVhcigpO1xuICAgIH1cblxuXG4gICAgYXN5bmMgYWRkU3R5bGVzKG5vZGU6IEFyZU5vZGUsIHN0eWxlczogc3RyaW5nKSB7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBU0VJRCB9IGZyb20gXCJAYWRhYXMvYS1jb25jZXB0XCI7XG5pbXBvcnQgeyBBX0V4ZWN1dGlvbkNvbnRleHQgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcblxuXG5leHBvcnQgY2xhc3MgQXJlUHJvcHM8XG4gICAgVCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4gPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4+IGV4dGVuZHMgQV9FeGVjdXRpb25Db250ZXh0PFQ+IHtcblxuICAgIGNvbnN0cnVjdG9yKGFzZWlkOiBBU0VJRCkge1xuICAgICAgICBzdXBlcihhc2VpZC50b1N0cmluZygpKTtcbiAgICB9XG5cblxuICAgIHNldE11bHRpcGxlKHZhbHVlczogUGFydGlhbDxUPik6IHZvaWQge1xuICAgICAgICBPYmplY3QuZW50cmllcyh2YWx1ZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXQoa2V5IGFzIGtleW9mIFQsIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBBX0NhbGxlciwgQV9Db21wb25lbnQsIEFfQ29udGV4dCwgQV9EZXBlbmRlbmN5LCBBX0ZlYXR1cmUsIEFfRm9ybWF0dGVySGVscGVyLCBBX0luamVjdCwgQV9TY29wZSwgQV9UWVBFU19fRW50aXR5RmVhdHVyZXMgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9Mb2dnZXIsIEFfTE9HR0VSX0NPTE9SUyB9IGZyb20gXCJAYWRhYXMvYS11dGlsc1wiO1xuaW1wb3J0IHsgQXJlTm9kZUZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmNvbnN0YW50c1wiO1xuaW1wb3J0IHsgQXJlTm9kZSB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHlcIjtcbmltcG9ydCB7IEFyZUZlYXR1cmVzIH0gZnJvbSBcIi4uL0FyZUNvbXBvbmVudC9BcmUuY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBBcmVTdG9yZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU3RvcmUvQXJlU3RvcmUuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlU2NlbmUgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVNjZW5lL0FyZVNjZW5lLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZSB9IGZyb20gXCIuLi9BcmVDb21wb25lbnQvQXJlLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQXJlSW5kZXggfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZUluZGV4L0FyZUluZGV4LmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZVByb3BzIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVQcm9wcy9BcmVQcm9wcy5jb250ZXh0XCI7XG5cbmV4cG9ydCBjbGFzcyBBcmVDb21waWxlciBleHRlbmRzIEFfQ29tcG9uZW50IHtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgYSB0YWcgaXMgYSBjdXN0b20gY29tcG9uZW50IG9yIHN0YW5kYXJkIEhUTUxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbm9kZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBpc0N1c3RvbUNvbXBvbmVudChub2RlOiBBcmVOb2RlKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBub2RlLmFzZWlkLmVudGl0eS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ2EtJyk7XG4gICAgfVxuXG5cbiAgICBwcm90ZWN0ZWQgZGVidWdMb2dnZXIoc2NlbmU6IEFyZVNjZW5lLCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICAgICAgQV9Db250ZXh0LnNjb3BlKHRoaXMpLnJlc29sdmUoQV9Mb2dnZXIpPy5kZWJ1ZyhcbiAgICAgICAgICAgICdtYWdlbnRhJyxcbiAgICAgICAgICAgIGAkeycgLSAnLnJlcGVhdChzY2VuZS5kZXB0aCl9ICR7bWVzc2FnZX1gXG4gICAgICAgICk7XG4gICAgfVxuXG5cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09IENPTVBPTkVOVCBNRVRIT0RTID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9UWVBFU19fRW50aXR5RmVhdHVyZXMuTE9BRCxcbiAgICAgICAgYmVmb3JlOiAvLiovLFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyBiZWZvcmVMb2FkKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKSB7XG4gICAgICAgIHRoaXMuZGVidWdMb2dnZXIoc2NlbmUsIGBbTG9hZCAtPiBCZWZvcmVdIENvbXBvbmVudCBUcmlnZ2VyIGZvciA8JHtub2RlLmFzZWlkLmVudGl0eX0+ICB3aXRoIGFzZWlkIDp7JHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9fWApO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjb3BlLnJlc29sdmU8QXJlPihBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2Uobm9kZS5hc2VpZC5lbnRpdHkpKTtcblxuICAgICAgICBjb21wb25lbnQ/LmNhbGwoQXJlRmVhdHVyZXMub25CZWZvcmVMb2FkLCBub2RlLnNjb3BlKTtcbiAgICB9XG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9UWVBFU19fRW50aXR5RmVhdHVyZXMuTE9BRCxcbiAgICAgICAgYWZ0ZXI6IC8uKi8sXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGFmdGVyTG9hZChcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICkge1xuICAgICAgICB0aGlzLmRlYnVnTG9nZ2VyKHNjZW5lLCBgW0xvYWQgLT4gQWZ0ZXJdIENvbXBvbmVudCBUcmlnZ2VyIGZvciA8JHtub2RlLmFzZWlkLmVudGl0eX0+ICB3aXRoIGFzZWlkIDp7JHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9fWApO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjb3BlLnJlc29sdmU8QXJlPihBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2Uobm9kZS5hc2VpZC5lbnRpdHkpKTtcblxuICAgICAgICBjb21wb25lbnQ/LmNhbGwoQXJlRmVhdHVyZXMub25BZnRlckxvYWQsIG5vZGUuc2NvcGUpO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9UWVBFU19fRW50aXR5RmVhdHVyZXMuTE9BRCxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgbG9hZChcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICkge1xuXG4gICAgICAgIC8vIG5vZGUuc2NvcGUucmVnaXN0ZXIobmV3IEFyZVNjZW5lKG5vZGUuYXNlaWQuaWQpKTtcbiAgICAgICAgbm9kZS5zY29wZS5yZWdpc3RlcihuZXcgQXJlSW5kZXgobm9kZS5hc2VpZCkpO1xuICAgICAgICBub2RlLnNjb3BlLnJlZ2lzdGVyKG5ldyBBcmVTdG9yZShub2RlLmFzZWlkKSk7XG4gICAgICAgIG5vZGUuc2NvcGUucmVnaXN0ZXIobmV3IEFyZVByb3BzKG5vZGUuYXNlaWQpKTtcblxuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjb3BlLnJlc29sdmU8QXJlPihBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2Uobm9kZS5hc2VpZC5lbnRpdHkpKTtcblxuICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICAgICAgc2NvcGUucmVzb2x2ZShBX0xvZ2dlcik/Lndhcm5pbmcoXG4gICAgICAgICAgICAgICAgJ0NvbXBvbmVudCBOb3QgRm91bmQnLFxuICAgICAgICAgICAgICAgIGBObyBjb21wb25lbnQgcmVnaXN0ZXJlZCBmb3IgZW50aXR5OiAke25vZGUuYXNlaWQuZW50aXR5fS4gUGxlYXNlIGVuc3VyZSB0aGF0IHRoZSBjb21wb25lbnQgaXMgcmVnaXN0ZXJlZCBpbiB0aGUgc2NvcGUgYmVmb3JlIHJlbmRlcmluZy5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgY29tcG9uZW50LmRhdGEoKTtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBhd2FpdCBjb21wb25lbnQudGVtcGxhdGUoKTtcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gYXdhaXQgY29tcG9uZW50LnN0eWxlcygpO1xuXG4gICAgICAgIG5vZGUudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgICAgbm9kZS5zdHlsZXMgPSBzdHlsZXM7XG5cbiAgICAgICAgY29uc3Qgc3RvcmUgPSBzY29wZS5yZXNvbHZlPEFyZVN0b3JlPihBcmVTdG9yZSkhO1xuXG4gICAgICAgIHN0b3JlLnNldE11bHRpcGxlKGRhdGEpO1xuXG4gICAgICAgIHRoaXMuZGVidWdMb2dnZXIoc2NlbmUsIGBMb2FkZWQgY29tcG9uZW50IDwke25vZGUuYXNlaWQuZW50aXR5fT4gd2l0aCAke3RoaXMuY29uc3RydWN0b3IubmFtZX1gKTtcbiAgICB9XG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uQ29tcGlsZSxcbiAgICAgICAgYmVmb3JlOiAvLiovLFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyBiZWZvcmVDb21waWxlKFxuICAgICAgICBAQV9JbmplY3QoQV9DYWxsZXIpIG5vZGU6IEFyZU5vZGUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXG4gICAgKSB7XG4gICAgICAgIHRoaXMuZGVidWdMb2dnZXIoc2NlbmUsIGBbQ29tcGlsZSAtPiBCZWZvcmVdIENvbXBvbmVudCBUcmlnZ2VyIGZvciA8JHtub2RlLmFzZWlkLmVudGl0eX0+ICB3aXRoIGFzZWlkIDp7JHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9fWApO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjb3BlLnJlc29sdmU8QXJlPihBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2Uobm9kZS5hc2VpZC5lbnRpdHkpKTtcblxuICAgICAgICBjb21wb25lbnQ/LmNhbGwoQXJlRmVhdHVyZXMub25CZWZvcmVDb21waWxlLCBub2RlLnNjb3BlKTtcbiAgICB9XG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZU5vZGVGZWF0dXJlcy5vbkNvbXBpbGUsXG4gICAgICAgIGFmdGVyOiAvLiovLFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyBhZnRlckNvbXBpbGUoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcblxuICAgICAgICB0aGlzLmRlYnVnTG9nZ2VyKHNjZW5lLCBgW0NvbXBpbGUgLT4gQWZ0ZXJdIENvbXBvbmVudCBUcmlnZ2VyIGZvciA8JHtub2RlLmFzZWlkLmVudGl0eX0+ICB3aXRoIGFzZWlkIDp7JHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9fWApO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjb3BlLnJlc29sdmU8QXJlPihBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2Uobm9kZS5hc2VpZC5lbnRpdHkpKTtcblxuICAgICAgICBjb21wb25lbnQ/LmNhbGwoQXJlRmVhdHVyZXMub25BZnRlckNvbXBpbGUsIG5vZGUuc2NvcGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBpbGVzIHRoZSBBcmVOb2RlIHVzaW5nIEFyZUNvbXBpbGVyXG4gICAgICogXG4gICAgICogXG4gICAgICogQHBhcmFtIGxvZ2dlciBcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZU5vZGVGZWF0dXJlcy5vbkNvbXBpbGUsXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGNvbXBpbGUoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcblxuICAgICAgICAvLyBDb21waWxhdGlvbiBsb2dpYyBjYW4gYmUgYWRkZWQgaGVyZVxuXG4gICAgfVxuXG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uUmVuZGVyLFxuICAgICAgICBiZWZvcmU6IC8uKi8sXG4gICAgICAgIHNjb3BlOiBbQXJlTm9kZV1cbiAgICB9KVxuICAgIGFzeW5jIGJlZm9yZVJlbmRlcihcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICkge1xuICAgICAgICB0aGlzLmRlYnVnTG9nZ2VyKHNjZW5lLCBgW1JlbmRlciAtPiBCZWZvcmVdIENvbXBvbmVudCBUcmlnZ2VyIGZvciA8JHtub2RlLmFzZWlkLmVudGl0eX0+ICB3aXRoIGFzZWlkIDp7JHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9fWApO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjb3BlLnJlc29sdmU8QXJlPihBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2Uobm9kZS5hc2VpZC5lbnRpdHkpKTtcblxuICAgICAgICBjb21wb25lbnQ/LmNhbGwoQXJlRmVhdHVyZXMub25CZWZvcmVSZW5kZXIsIG5vZGUuc2NvcGUpO1xuICAgIH1cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uUmVuZGVyLFxuICAgICAgICBhZnRlcjogLy4qLyxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgYWZ0ZXJSZW5kZXIoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcbiAgICAgICAgLi4uYXJnczogYW55W11cbiAgICApIHtcbiAgICAgICAgdGhpcy5kZWJ1Z0xvZ2dlcihzY2VuZSwgYFtSZW5kZXIgLT4gQWZ0ZXJdIENvbXBvbmVudCBUcmlnZ2VyIGZvciA8JHtub2RlLmFzZWlkLmVudGl0eX0+ICB3aXRoIGFzZWlkIDp7JHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9fWApO1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjb3BlLnJlc29sdmU8QXJlPihBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2Uobm9kZS5hc2VpZC5lbnRpdHkpKTtcblxuICAgICAgICBjb21wb25lbnQ/LmNhbGwoQXJlRmVhdHVyZXMub25BZnRlclJlbmRlciwgbm9kZS5zY29wZSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBBcmVOb2RlIGludG8gdGhlIEFyZVNjZW5lXG4gICAgICogXG4gICAgICogQHBhcmFtIHNjb3BlIFxuICAgICAqIEBwYXJhbSBub2RlIFxuICAgICAqIEBwYXJhbSBzY2VuZSBcbiAgICAgKiBAcGFyYW0gbG9nZ2VyIFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uUmVuZGVyLFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyByZW5kZXIoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG5cbiAgICAgICAgQEFfRGVwZW5kZW5jeS5SZXF1aXJlZCgpXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgcGFyZW50U2NlbmU6IEFyZVNjZW5lLFxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxuICAgICkge1xuXG4gICAgICAgIHRoaXMuZGVidWdMb2dnZXIoc2NlbmUsIGBSZW5kZXJpbmcgbm9kZSA8JHtub2RlLmFzZWlkLmVudGl0eX0+IGludG8gJHtzY2VuZS5uYW1lfWApO1xuXG4gICAgICAgIGZvciAoY29uc3QgbmV3Tm9kZSBvZiBzY2VuZSkge1xuXG5cbiAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5pc0N1c3RvbUNvbXBvbmVudChuZXdOb2RlKToge1xuXG4gICAgICAgICAgICAgICAgICAgIHNjZW5lLmF0dGFjaChuZXdOb2RlKTtcblxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXdOb2RlLmxvYWQoKTtcblxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXdOb2RlLmNvbXBpbGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXdOb2RlLnJlbmRlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNjZW5lLm1vdW50KG5ld05vZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgICAgICB0aGlzLmRlYnVnTG9nZ2VyKHNjZW5lLCBgTm9kZSA8JHtub2RlLmFzZWlkLmVudGl0eX0+IHJlbmRlcmVkIHN1Y2Nlc3NmdWxseS5gKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIEFyZU5vZGVcbiAgICAgKi9cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZU5vZGVGZWF0dXJlcy5vblVwZGF0ZSxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgdXBkYXRlKCkge1xuXG4gICAgfVxuXG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9UWVBFU19fRW50aXR5RmVhdHVyZXMuREVTVFJPWSxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgZGVzdHJveSgpIHtcblxuICAgIH1cblxufSIsICJpbXBvcnQgeyBBX0RlcGVuZGVuY3ksIEFfRmVhdHVyZSwgQV9JbmplY3QgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuaW1wb3J0IHsgQV9Db25maWcsIEFfTG9nZ2VyLCBBX1BvbHlmaWxsLCBBX1NlcnZpY2UsIEFfU2VydmljZUZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hLXV0aWxzXCI7XG5pbXBvcnQgeyBBcmVDb21waWxlciB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbXBvbmVudHMvQXJlQ29tcGlsZXIvQXJlQ29tcGlsZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVCcm93c2VyRG9tIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVCcm93c2VyRG9tL0FyZUJyb3dzZXJEb20uY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlU2NlbmUgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZVNjZW5lL0FyZVNjZW5lLmNvbnRleHRcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBBcmVBcHAgZXh0ZW5kcyBBX1NlcnZpY2Uge1xuXG4gICAgZ2V0IHJvb3QoKTogQXJlU2NlbmUge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5yZXNvbHZlPEFyZVNjZW5lPihBcmVTY2VuZSkhO1xuICAgIH1cblxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCgpXG4gICAgcHJvdGVjdGVkIGFzeW5jIFtBX1NlcnZpY2VGZWF0dXJlcy5vbkFmdGVyTG9hZF0oXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyOiBBX0xvZ2dlcixcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcblxuICAgICAgICBsb2dnZXIuaW5mbygnY3lhbicsIGBVSSBBcHBsaWNhdGlvbiBtb3VudGVkIGF0IDwke3RoaXMucm9vdC5uYW1lfT5gKTtcbiAgICB9XG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKClcbiAgICBwcm90ZWN0ZWQgYXN5bmMgW0FfU2VydmljZUZlYXR1cmVzLm9uU3RhcnRdKFxuXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUmVxdWlyZWQoKVxuICAgICAgICBAQV9JbmplY3QoQV9Mb2dnZXIpIGxvZ2dlcjogQV9Mb2dnZXIsXG5cbiAgICAgICAgQEFfRGVwZW5kZW5jeS5SZXF1aXJlZCgpXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgc2NlbmU6IEFyZVNjZW5lLFxuXG4gICAgICAgIEBBX0luamVjdChBcmVDb21waWxlcikgY29tcGlsZXI6IEFyZUNvbXBpbGVyLFxuXG4gICAgICAgIEBBX0luamVjdChBX0NvbmZpZykgY29uZmlnPzogQV9Db25maWc8YW55PixcblxuICAgICk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygc2NlbmUpIHtcblxuICAgICAgICAgICAgaWYgKCFjb21waWxlci5pc0N1c3RvbUNvbXBvbmVudChub2RlKSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgc2NlbmUuYXR0YWNoKG5vZGUpO1xuXG4gICAgICAgICAgICBhd2FpdCBub2RlLmxvYWQoKTtcblxuICAgICAgICAgICAgYXdhaXQgbm9kZS5jb21waWxlKCk7XG5cbiAgICAgICAgICAgIGF3YWl0IG5vZGUucmVuZGVyKCk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMucm9vdC5tb3VudChub2RlKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yb290LnJlbmRlcigpXG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG59IiwgImltcG9ydCB7IEFfRXJyb3IgfSBmcm9tIFwiQGFkYWFzL2EtY29uY2VwdFwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBcmVTY2VuZUVycm9yIGV4dGVuZHMgQV9FcnJvciB7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgU2NlbmVFcnJvciA9ICdBcmVTY2VuZUVycm9yLlNjZW5lRXJyb3InO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IFJvb3ROb3RGb3VuZCA9ICdBcmVTY2VuZUVycm9yLlJvb3ROb3RGb3VuZCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgVXBkYXRlRmFpbGVkID0gJ0FyZVNjZW5lRXJyb3IuVXBkYXRlRmFpbGVkJztcbiAgIFxuICAgIHN0YXRpYyByZWFkb25seSBNb3VudEZhaWxlZCA9ICdBcmVTY2VuZUVycm9yLk1vdW50RmFpbGVkJztcblxuICAgIHN0YXRpYyByZWFkb25seSBVbm1vdW50RmFpbGVkID0gJ0FyZVNjZW5lRXJyb3IuVW5tb3VudEZhaWxlZCc7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgTW91bnRQb2ludE5vdEZvdW5kID0gJ0FyZVNjZW5lRXJyb3IuTW91bnRQb2ludE5vdEZvdW5kJztcblxuICAgIHN0YXRpYyByZWFkb25seSBJbnZhbGlkVGVtcGxhdGUgPSAnQXJlU2NlbmVFcnJvci5JbnZhbGlkVGVtcGxhdGUnO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IFJlbmRlckZhaWxlZCA9ICdBcmVTY2VuZUVycm9yLlJlbmRlckZhaWxlZCc7XG5cbn0iLCAiaW1wb3J0IHsgQXJlTm9kZSB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5lbnRpdHlcIjtcbmltcG9ydCB7IEFyZVNjZW5lIH0gZnJvbSBcIi4uL0FyZVNjZW5lL0FyZVNjZW5lLmNvbnRleHRcIlxuaW1wb3J0IHsgQXJlU2NlbmVFcnJvciB9IGZyb20gXCIuLi9BcmVTY2VuZS9BcmVTY2VuZS5lcnJvclwiO1xuaW1wb3J0IHsgQXJlRXZlbnQgfSBmcm9tIFwiLi4vQXJlRXZlbnQvQXJlRXZlbnQuY29udGV4dFwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBcmVCcm93c2VyRG9tIGV4dGVuZHMgQXJlU2NlbmU8RWxlbWVudD4ge1xuXG4gICAgcHJvdGVjdGVkIF92aXJ0dWFsITogRG9jdW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgbmFtZT86IHN0cmluZyxcbiAgICAgICAgdGVtcGxhdGU/OiBzdHJpbmdcbiAgICApIHtcbiAgICAgICAgc3VwZXIobmFtZSk7XG5cbiAgICAgICAgdGhpcy5fdmlydHVhbCA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcodGVtcGxhdGUgfHwgdGhpcy5tb3VudFBvaW50Py5pbm5lckhUTUwgfHwgYDwke3RoaXMubmFtZX0+PC8ke3RoaXMubmFtZX0+YCwgXCJ0ZXh0L2h0bWxcIik7XG4gICAgfVxuXG5cbiAgICBnZXQgdGVtcGxhdGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpcnR1YWwuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTDtcbiAgICB9XG5cbiAgICBnZXQgbW91bnRQb2ludCgpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5uYW1lKVxuICAgIH1cblxuICAgIHNldCB0ZW1wbGF0ZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIC8vIFBhcnNlIEhUTUwgaW50byBhIERPTS1saWtlIHN0cnVjdHVyZSB1c2luZyBET01QYXJzZXJcbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICB0aGlzLl92aXJ0dWFsID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh2YWx1ZSwgXCJ0ZXh0L2h0bWxcIik7XG4gICAgfVxuXG5cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYXRvcjxBcmVOb2RlPiB7XG5cbiAgICAgICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcih0aGlzLl92aXJ0dWFsLmJvZHksIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5UKTtcblxuICAgICAgICBsZXQgY3VycmVudDogTm9kZSB8IG51bGwgPSB3YWxrZXIubmV4dE5vZGUoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmV4dDogKCk6IEl0ZXJhdG9yUmVzdWx0PEFyZU5vZGU+ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnQpIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGxldCBub2RlID0gdGhpcy5pbmRleC5nZXRCeUVsZW1lbnQoY3VycmVudCBhcyBFbGVtZW50KSB8fCBuZXcgQXJlTm9kZSh7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogKGN1cnJlbnQgYXMgRWxlbWVudCkudGFnTmFtZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgICAgICBtYXJrdXA6IChjdXJyZW50IGFzIEVsZW1lbnQpLm91dGVySFRNTCxcbiAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleC5hZGQobm9kZSwgY3VycmVudCBhcyBFbGVtZW50KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBub2RlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB3YWxrZXIubmV4dE5vZGUoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG5cblxuICAgIGFzeW5jIG1vdW50KFxuICAgICAgICBub2RlOiBBcmVOb2RlLFxuICAgICkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5pbmRleC5nZXRCeU5vZGUobm9kZSk7XG5cblxuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlciA9IHRoaXMuX3ZpcnR1YWwuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB3cmFwcGVyLnNldEF0dHJpYnV0ZSgnYXNlaWQnLCBub2RlLmFzZWlkLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgICAgICBjb25zdCBub2RlQ29udGVudCA9IG5vZGUuc2NvcGUucmVzb2x2ZTxBcmVCcm93c2VyRG9tPihBcmVCcm93c2VyRG9tKTtcblxuICAgICAgICAgICAgaWYgKCFub2RlQ29udGVudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBcmVTY2VuZUVycm9yKFxuICAgICAgICAgICAgICAgICAgICBBcmVTY2VuZUVycm9yLk1vdW50RmFpbGVkLFxuICAgICAgICAgICAgICAgICAgICBgU2NlbmUgZm9yIG5vZGUgd2l0aCBBU0VJRCAnJHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9JyBub3QgZm91bmQgaW4gdGhlIHNjb3BlICcke25vZGUuc2NvcGUubmFtZX0nLmBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhZGQgYm9keSBjb250ZW50cyB0byB3cmFwcGVyIHZpYSBjaGlsZHJlIHRvIGRvIG5vdCBsb3NlIGxpc3RlbmVycyBcbiAgICAgICAgICAgIHdyYXBwZXIucmVwbGFjZUNoaWxkcmVuKC4uLkFycmF5LmZyb20obm9kZUNvbnRlbnQuX3ZpcnR1YWwuYm9keS5jaGlsZE5vZGVzKSk7XG5cbiAgICAgICAgICAgIC8vIFJlcGxhY2UgdGhlIHBsYWNlbWVudCB3aXRoIHRoZSByZW5kZXJlZCBjb250ZW50XG4gICAgICAgICAgICBlbGVtZW50LnJlcGxhY2VXaXRoKHdyYXBwZXIpO1xuXG5cbiAgICAgICAgICAgIC8vIGNvcHkgc3R5bGVzIGZyb20gbm9kZSBjb250ZW50IHNjZW5lIHRvIHBhcmVudCBzY2VuZVxuICAgICAgICAgICAgY29uc3Qgc3R5bGVFbGVtZW50cyA9IG5vZGVDb250ZW50Ll92aXJ0dWFsLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlW2lkXj1cImEtc3R5bGUtXCJdJyk7XG5cbiAgICAgICAgICAgIHN0eWxlRWxlbWVudHMuZm9yRWFjaChzdHlsZUVsID0+IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU3R5bGVFbCA9IHRoaXMuX3ZpcnR1YWwuZ2V0RWxlbWVudEJ5SWQoc3R5bGVFbC5pZCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nU3R5bGVFbClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlydHVhbC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWwuY2xvbmVOb2RlKHRydWUpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXJlU2NlbmVFcnJvcihcbiAgICAgICAgICAgICAgICBBcmVTY2VuZUVycm9yLk1vdW50RmFpbGVkLFxuICAgICAgICAgICAgICAgIGBQbGFjZW1lbnQgZm9yIG5vZGUgd2l0aCBBU0VJRCAnJHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9JyBub3QgZm91bmQgaW4gdGhlIHNjZW5lLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGFzeW5jIHVwZGF0ZShcbiAgICAgICAgbm9kZTogQXJlTm9kZSxcbiAgICApIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuaW5kZXguZ2V0QnlOb2RlKG5vZGUpO1xuXG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVyID0gdGhpcy5fdmlydHVhbC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdhc2VpZCcsIG5vZGUuYXNlaWQudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNjZW5lID0gbm9kZS5zY29wZS5yZXNvbHZlPEFyZUJyb3dzZXJEb20+KEFyZUJyb3dzZXJEb20pO1xuXG4gICAgICAgICAgICBpZiAoIXNjZW5lKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFyZVNjZW5lRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIEFyZVNjZW5lRXJyb3IuVXBkYXRlRmFpbGVkLFxuICAgICAgICAgICAgICAgICAgICBgU2NlbmUgZm9yIG5vZGUgd2l0aCBBU0VJRCAnJHtub2RlLmFzZWlkLnRvU3RyaW5nKCl9JyBub3QgZm91bmQgaW4gdGhlIHNjb3BlICcke25vZGUuc2NvcGUubmFtZX0nLmBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9IHNjZW5lLnRlbXBsYXRlO1xuXG4gICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSBwbGFjZW1lbnQgd2l0aCB0aGUgcmVuZGVyZWQgY29udGVudFxuICAgICAgICAgICAgZWxlbWVudC5yZXBsYWNlV2l0aCh3cmFwcGVyKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFyZVNjZW5lRXJyb3IoXG4gICAgICAgICAgICAgICAgQXJlU2NlbmVFcnJvci5VcGRhdGVGYWlsZWQsXG4gICAgICAgICAgICAgICAgYFBsYWNlbWVudCBmb3Igbm9kZSB3aXRoIEFTRUlEICcke25vZGUuYXNlaWQudG9TdHJpbmcoKX0nIG5vdCBmb3VuZCBpbiB0aGUgc2NlbmUuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgYXN5bmMgdW5tb3VudChcbiAgICAgICAgbm9kZTogQXJlTm9kZSxcbiAgICApIHtcblxuICAgICAgICB0aGlzLnNjb3BlLmRlcmVnaXN0ZXIobm9kZSk7XG5cbiAgICAgICAgYXdhaXQgbm9kZS5kZXN0cm95KCk7XG5cbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuaW5kZXguZ2V0QnlOb2RlKG5vZGUpO1xuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5kZXgucmVtb3ZlQnlOb2RlKG5vZGUpO1xuICAgIH1cblxuXG4gICAgYXN5bmMgYWRkTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgaGFuZGxlcjogc3RyaW5nLCBvd25lcjogQXJlTm9kZSwgbm9kZTogQXJlTm9kZSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5pbmRleC5nZXRCeU5vZGUobm9kZSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ0FkZGluZyBsaXN0ZW5lcicsIHsgZXZlbnQsIGhhbmRsZXIsIG93bmVyLCBub2RlLCBlbGVtZW50IH0pO1xuXG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RXZlbnQgPSBuZXcgQXJlRXZlbnQoaGFuZGxlciwge1xuICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZVxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICBhd2FpdCBvd25lci5lbWl0KG5ld0V2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBhc3luYyBhZGRTdHlsZXMobm9kZTogQXJlTm9kZSwgc3R5bGVzOiBzdHJpbmcpIHtcblxuICAgICAgICBpZiAoc3R5bGVzLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZUVsZW1lbnRJZCA9IGBhLXN0eWxlLSR7bm9kZS5hc2VpZC5lbnRpdHl9YDtcbiAgICAgICAgICAgIGxldCBzdHlsZUVsZW1lbnQgPSB0aGlzLl92aXJ0dWFsLmdldEVsZW1lbnRCeUlkKHN0eWxlRWxlbWVudElkKSBhcyBIVE1MU3R5bGVFbGVtZW50IHwgbnVsbDtcblxuICAgICAgICAgICAgaWYgKCFzdHlsZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBzdHlsZUVsZW1lbnQgPSB0aGlzLl92aXJ0dWFsLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgc3R5bGVFbGVtZW50LmlkID0gc3R5bGVFbGVtZW50SWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlydHVhbC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0eWxlRWxlbWVudC5pbm5lckhUTUwgPSBzdHlsZXM7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGFzeW5jIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgbmV3RWwgPSB0aGlzLl92aXJ0dWFsLmJvZHkuZmlyc3RFbGVtZW50Q2hpbGQ7XG5cbiAgICAgICAgaWYgKHRoaXMubW91bnRQb2ludCAmJiBuZXdFbCkge1xuXG4gICAgICAgICAgICAvLyBQQVRDSCBhdHRyaWJ1dGVzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHIgb2YgQXJyYXkuZnJvbShuZXdFbC5hdHRyaWJ1dGVzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubW91bnRQb2ludC5zZXRBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUEFUQ0ggY2hpbGRyZW4gKHNpbXBsZSBleGFtcGxlKVxuICAgICAgICAgICAgdGhpcy5tb3VudFBvaW50LnJlcGxhY2VDaGlsZHJlbiguLi5BcnJheS5mcm9tKG5ld0VsLmNoaWxkTm9kZXMpKTtcblxuXG4gICAgICAgICAgICAvLyAzKSBjb3B5IHN0eWxlcyBcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU3R5bGVFbGVtZW50cyA9IHRoaXMubW91bnRQb2ludC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZVtpZF49XCJhLXN0eWxlLVwiXScpO1xuICAgICAgICAgICAgZXhpc3RpbmdTdHlsZUVsZW1lbnRzLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuXG4gICAgICAgICAgICBjb25zdCBzdHlsZUVsZW1lbnRzID0gdGhpcy5fdmlydHVhbC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZVtpZF49XCJhLXN0eWxlLVwiXScpO1xuXG4gICAgICAgICAgICBzdHlsZUVsZW1lbnRzLmZvckVhY2goc3R5bGVFbCA9PiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1N0eWxlRWwgPSB0aGlzLm1vdW50UG9pbnQ/Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3R5bGVFbC5pZCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nU3R5bGVFbClcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdW50UG9pbnQ/Lm93bmVyRG9jdW1lbnQuaGVhZCEuYXBwZW5kQ2hpbGQoc3R5bGVFbC5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFyZVNjZW5lRXJyb3IoXG4gICAgICAgICAgICAgICAgQXJlU2NlbmVFcnJvci5SZW5kZXJGYWlsZWQsXG4gICAgICAgICAgICAgICAgYE5vIDwke3RoaXMubmFtZX0+IHJvb3QgZWxlbWVudCBmb3VuZCBpbiB0aGUgZG9jdW1lbnQuIFBsZWFzZSBlbnN1cmUgdGhhdCB5b3VyIEhUTUwgY29udGFpbnMgYW4gPCR7dGhpcy5uYW1lfT4gZWxlbWVudCB0byBzZXJ2ZSBhcyB0aGUgYXBwbGljYXRpb24gcm9vdC5gXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBhc3luYyBwYXJlbnRPZihub2RlOiBBcmVOb2RlKTogUHJvbWlzZTxBcmVOb2RlIHwgbnVsbD4ge1xuICAgICAgICBjb25zdCBwYXJlbnRFbGVtZW50ID0gdGhpcy5pbmRleC5nZXRCeU5vZGUobm9kZSk/LnBhcmVudEVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKHBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudE5vZGUgPSB0aGlzLmluZGV4LmdldEJ5RWxlbWVudChwYXJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cblxuICAgIGFzeW5jIGNoaWxkcmVuT2Yobm9kZTogQXJlTm9kZSk6IFByb21pc2U8QXJlTm9kZVtdPiB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuOiBBcmVOb2RlW10gPSBbXTtcblxuICAgICAgICBjb25zdCBwYXJlbnRFbGVtZW50ID0gdGhpcy5pbmRleC5nZXRCeU5vZGUobm9kZSk7XG5cbiAgICAgICAgaWYgKHBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGRFbGVtZW50IG9mIEFycmF5LmZyb20ocGFyZW50RWxlbWVudC5jaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZE5vZGUgPSB0aGlzLmluZGV4LmdldEJ5RWxlbWVudChjaGlsZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZE5vZGUpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Tm9kZSA9IG5ldyBBcmVOb2RlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IChjaGlsZEVsZW1lbnQgYXMgRWxlbWVudCkudGFnTmFtZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya3VwOiAoY2hpbGRFbGVtZW50IGFzIEVsZW1lbnQpLm91dGVySFRNTCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleC5hZGQobmV3Tm9kZSwgY2hpbGRFbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKG5ld05vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG5cblxuICAgIGFzeW5jIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl92aXJ0dWFsID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZygnJywgXCJ0ZXh0L2h0bWxcIik7XG5cbiAgICAgICAgdGhpcy5pbmRleC5jbGVhcigpO1xuICAgIH1cblxuXG4gICAgYXN5bmMgcmVzZXQodGVtcGxhdGU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl92aXJ0dWFsID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh0ZW1wbGF0ZSwgXCJ0ZXh0L2h0bWxcIik7XG5cbiAgICAgICAgdGhpcy5pbmRleC5jbGVhcigpO1xuICAgIH1cblxufSIsICJpbXBvcnQgeyBBcmVOb2RlIH0gZnJvbSBcIkBhZGFhcy9hcmUvZW50aXRpZXMvQXJlTm9kZS9BcmVOb2RlLmVudGl0eVwiO1xuaW1wb3J0IHsgQXJlSW5kZXggfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZUluZGV4L0FyZUluZGV4LmNvbnRleHRcIjtcbmltcG9ydCB7IEFfQ29uZmlnLCBBX0xvZ2dlciwgQV9Qb2x5ZmlsbCwgQV9TZXJ2aWNlRmVhdHVyZXMgfSBmcm9tIFwiQGFkYWFzL2EtdXRpbHNcIjtcbmltcG9ydCB7IEFfQ2FsbGVyLCBBX0NvbXBvbmVudCwgQV9Db250YWluZXIsIEFfRGVwZW5kZW5jeSwgQV9GZWF0dXJlLCBBX0Zvcm1hdHRlckhlbHBlciwgQV9JbmplY3QsIEFfU2NvcGUsIEFfVFlQRVNfX0VudGl0eUZlYXR1cmVzIH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIjtcbmltcG9ydCB7IEFyZU5vZGVGZWF0dXJlcyB9IGZyb20gXCJAYWRhYXMvYXJlL2VudGl0aWVzL0FyZU5vZGUvQXJlTm9kZS5jb25zdGFudHNcIjtcbmltcG9ydCB7IEFyZVN0b3JlIH0gZnJvbSBcIkBhZGFhcy9hcmUvY29udGV4dC9BcmVTdG9yZS9BcmVTdG9yZS5jb250ZXh0XCI7XG5pbXBvcnQgeyBBcmVQcm9wcyB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlUHJvcHMvQXJlUHJvcHMuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlQnJvd3NlckRvbSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlQnJvd3NlckRvbS9BcmVCcm93c2VyRG9tLmNvbnRleHRcIjtcbmltcG9ydCB7IEFyZSB9IGZyb20gXCIuLi9BcmVDb21wb25lbnQvQXJlLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQXJlQ29tcGlsZXIgfSBmcm9tIFwiLi4vQXJlQ29tcGlsZXIvQXJlQ29tcGlsZXIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVTY2VuZSB9IGZyb20gXCJAYWRhYXMvYXJlL2NvbnRleHQvQXJlU2NlbmUvQXJlU2NlbmUuY29udGV4dFwiO1xuaW1wb3J0IHsgQXJlRXZlbnQgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250ZXh0L0FyZUV2ZW50L0FyZUV2ZW50LmNvbnRleHRcIjtcblxuLyoqXG4gKiBCcm93c2VyIERPTSBzcGVjaWZpYyBzY2VuZSBpbXBsZW1lbnRhdGlvblxuICogSGFuZGxlcyBhbGwgYnJvd3Nlci9ET00gcmVsYXRlZCBvcGVyYXRpb25zIGFuZCBwcm92aWRlcyB3ZWItc3BlY2lmaWMgY29tcGlsYXRpb24gbG9naWNcbiAqL1xuZXhwb3J0IGNsYXNzIEFyZUJyb3dzZXJDb21waWxlciBleHRlbmRzIEFyZUNvbXBpbGVyIHtcblxuXG4gICAgQEFfRmVhdHVyZS5FeHRlbmQoKVxuICAgIHByb3RlY3RlZCBhc3luYyBbQV9TZXJ2aWNlRmVhdHVyZXMub25CZWZvcmVMb2FkXShcbiAgICAgICAgQEFfRGVwZW5kZW5jeS5QYXJlbnQoKVxuICAgICAgICBAQV9JbmplY3QoQV9TY29wZSkgc2NvcGU6IEFfU2NvcGUsXG4gICAgICAgIEBBX0luamVjdChBcmVCcm93c2VyRG9tKSByb290PzogQXJlQnJvd3NlckRvbSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZUluZGV4KSBpbmRleD86IEFyZUluZGV4LFxuICAgICAgICBAQV9JbmplY3QoQV9Db25maWcpIGNvbmZpZz86IEFfQ29uZmlnPGFueT4sXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyPzogQV9Mb2dnZXIsXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIC8vIDEpIEluaXRpYWxpemUgU2NlbmUgaWYgbm90IHByZXNlbnRcbiAgICAgICAgbG9nZ2VyPy5kZWJ1ZygnY3lhbicsIGBJbml0aWFsaXppbmcgQXJlQnJvd3NlckRvbSBpbiBBcmVCcm93c2VyQ29tcGlsZXIuLi5gKTtcbiAgICAgICAgY29uc3QgbW91bnRQb2ludCA9IGNvbmZpZz8uZ2V0KCdBUkVfTU9VTlRfUE9JTlQnKSB8fCAnYXJlLWFwcCc7XG5cbiAgICAgICAgaWYgKCFyb290KSB7XG5cbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKG5ldyBBcmVCcm93c2VyRG9tKG1vdW50UG9pbnQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaW5kZXgpIHtcbiAgICAgICAgICAgIHNjb3BlLnJlZ2lzdGVyKG5ldyBBcmVJbmRleChtb3VudFBvaW50KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgU1RBTkRBUkRfSFRNTF9UQUdTID0gbmV3IFNldChbXG4gICAgICAgIFwiaHRtbFwiLCBcImhlYWRcIiwgXCJib2R5XCIsIFwiZGl2XCIsIFwic3BhblwiLCBcInBcIiwgXCJhXCIsIFwidWxcIiwgXCJvbFwiLCBcImxpXCIsXG4gICAgICAgIFwidGFibGVcIiwgXCJ0aGVhZFwiLCBcInRib2R5XCIsIFwidHJcIiwgXCJ0ZFwiLCBcInRoXCIsIFwiZm9ybVwiLCBcImlucHV0XCIsIFwiYnV0dG9uXCIsXG4gICAgICAgIFwic2VsZWN0XCIsIFwib3B0aW9uXCIsIFwidGV4dGFyZWFcIiwgXCJsYWJlbFwiLCBcImltZ1wiLCBcImgxXCIsIFwiaDJcIiwgXCJoM1wiLCBcImg0XCIsXG4gICAgICAgIFwiaDVcIiwgXCJoNlwiLCBcInNjcmlwdFwiLCBcInN0eWxlXCIsIFwibGlua1wiLCBcIm1ldGFcIiwgXCJuYXZcIiwgXCJmb290ZXJcIiwgXCJoZWFkZXJcIixcbiAgICAgICAgXCJzZWN0aW9uXCIsIFwiYXJ0aWNsZVwiLCBcImFzaWRlXCIsIFwibWFpblwiLCBcImNhbnZhc1wiLCBcInZpZGVvXCIsIFwiYXVkaW9cIiwgXCJiclwiLFxuICAgICAgICBcImhyXCIsIFwic3Ryb25nXCIsIFwiZW1cIiwgXCJzbWFsbFwiLCBcInByZVwiLCBcImNvZGVcIiwgXCJpZnJhbWVcIiwgXCJkZXRhaWxzXCIsXG4gICAgICAgIFwic3VtbWFyeVwiLCBcInN2Z1wiLCBcInBhdGhcIiwgXCJjaXJjbGVcIiwgXCJyZWN0XCIsIFwicG9seWdvblwiLCBcImdcIiwgXCJkZWZzXCJcbiAgICBdKTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgYSB0YWcgaXMgYSBjdXN0b20gY29tcG9uZW50IG9yIHN0YW5kYXJkIEhUTUxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbm9kZSBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBpc0N1c3RvbUNvbXBvbmVudChub2RlOiBBcmVOb2RlKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy5TVEFOREFSRF9IVE1MX1RBR1MuaGFzKG5vZGUuYXNlaWQuZW50aXR5LnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuICAgICpleHRyYWN0SW50ZXJwb2xhdGlvbnModGVtcGxhdGU6IHN0cmluZyk6IEl0ZXJhYmxlPHN0cmluZz4ge1xuICAgICAgICBjb25zdCBpbnRlcnBvbGF0aW9uUmVnZXggPSAve3tcXHMqKFtcXHcuXSspXFxzKn19L2c7XG4gICAgICAgIGxldCBtYXRjaDogUmVnRXhwRXhlY0FycmF5IHwgbnVsbDtcblxuICAgICAgICB3aGlsZSAoKG1hdGNoID0gaW50ZXJwb2xhdGlvblJlZ2V4LmV4ZWModGVtcGxhdGUpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgeWllbGQgbWF0Y2hbMV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAqZXh0cmFjdFByb3BzKHRlbXBsYXRlOiBzdHJpbmcpOiBJdGVyYWJsZTx7IG5hbWU6IHN0cmluZzsgcmF3OiBzdHJpbmc7IHZhbHVlOiBzdHJpbmcgfT4ge1xuICAgICAgICAvLyBFeHRyYWN0IGF0dHJpYnV0ZXMgZnJvbSB0aGUgdGFnXG4gICAgICAgIGNvbnN0IGF0dHJSZWdleCA9IC8oW2EtekEtWjAtOTpAXVthLXpBLVowLTk6Ll8tXSspXFxzKj1cXHMqXCIoLio/KVwiL2c7XG4gICAgICAgIGxldCBhdHRyTWF0Y2g6IFJlZ0V4cEV4ZWNBcnJheSB8IG51bGw7XG5cbiAgICAgICAgd2hpbGUgKChhdHRyTWF0Y2ggPSBhdHRyUmVnZXguZXhlYyh0ZW1wbGF0ZSkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCByYXcgPSBhdHRyTWF0Y2hbMF07XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gYXR0ck1hdGNoWzFdO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyTWF0Y2hbMl07XG4gICAgICAgICAgICB5aWVsZCB7IG5hbWUsIHJhdywgdmFsdWUgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICpleHRyYWN0RXZlbnRzKHRlbXBsYXRlOiBzdHJpbmcpOiBJdGVyYWJsZTx7IG5hbWU6IHN0cmluZzsgcmF3OiBzdHJpbmc7IGhhbmRsZXI6IHN0cmluZyB9PiB7XG4gICAgICAgIC8vIEV4dHJhY3QgZXZlbnQgbGlzdGVuZXJzIGZyb20gdGhlIHRhZ1xuICAgICAgICBjb25zdCBldmVudFJlZ2V4ID0gL0AoW2EtekEtWjAtOTpfLV0rKVxccyo9XFxzKlwiKC4qPylcIi9nO1xuICAgICAgICBsZXQgZXZlbnRNYXRjaDogUmVnRXhwRXhlY0FycmF5IHwgbnVsbDtcblxuICAgICAgICB3aGlsZSAoKGV2ZW50TWF0Y2ggPSBldmVudFJlZ2V4LmV4ZWModGVtcGxhdGUpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcmF3ID0gZXZlbnRNYXRjaFswXTtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBldmVudE1hdGNoWzFdO1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IGV2ZW50TWF0Y2hbMl07XG4gICAgICAgICAgICB5aWVsZCB7IG5hbWUsIHJhdywgaGFuZGxlciB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT0gQ09NUE9ORU5UIE1FVEhPRFMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9UWVBFU19fRW50aXR5RmVhdHVyZXMuTE9BRCxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgLyoqXG4gICAgICogVXNlcyB0byBMb2FkIEFyZU5vZGUgZGVmaW5pdGlvbnMgb3Igb3RoZXIgbmVjZXNzYXJ5IHJlc291cmNlc1xuICAgICAqL1xuICAgIGFzeW5jIGxvYWQoXG4gICAgICAgIEBBX0luamVjdChBX0NhbGxlcikgbm9kZTogQXJlTm9kZSxcbiAgICAgICAgQEFfSW5qZWN0KEFyZVNjZW5lKSBzY2VuZTogQXJlU2NlbmUsXG4gICAgICAgIEBBX0luamVjdChBX1Njb3BlKSBzY29wZTogQV9TY29wZSxcbiAgICApIHtcbiAgICAgICAgdGhpcy5kZWJ1Z0xvZ2dlcihzY2VuZSwgYExvYWRpbmcgY29tcG9uZW50IDwke25vZGUuYXNlaWQuZW50aXR5fT4gd2l0aCAke3RoaXMuY29uc3RydWN0b3IubmFtZX1gKTtcblxuICAgICAgICBzY29wZS5yZWdpc3RlcihuZXcgQXJlQnJvd3NlckRvbShub2RlLmFzZWlkLmlkKSk7XG4gICAgICAgIGF3YWl0IHN1cGVyLmxvYWQobm9kZSwgc2NlbmUsIHNjb3BlLCk7XG4gICAgfVxuXG5cbiAgICBAQV9GZWF0dXJlLkV4dGVuZCh7XG4gICAgICAgIG5hbWU6IEFyZU5vZGVGZWF0dXJlcy5vbkV2ZW50LFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyBldmVudChcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU3RvcmUpIHN0b3JlOiBBcmVTdG9yZSxcbiAgICAgICAgQEFfSW5qZWN0KEFfU2NvcGUpIHNjb3BlOiBBX1Njb3BlLFxuICAgICAgICBAQV9JbmplY3QoQXJlRXZlbnQpIGV2ZW50OiBBcmVFdmVudFxuICAgICkge1xuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjb3BlLnJlc29sdmU8QXJlPihBX0Zvcm1hdHRlckhlbHBlci50b1Bhc2NhbENhc2Uobm9kZS5hc2VpZC5lbnRpdHkpKTtcblxuICAgICAgICBhd2FpdCBjb21wb25lbnQ/LmNhbGwoZXZlbnQubmFtZSwgc2NvcGUpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGlsZXMgdGhlIEFyZU5vZGUgdXNpbmcgQXJlQ29tcGlsZXJcbiAgICAgKiBcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbG9nZ2VyIFxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uQ29tcGlsZSxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgY29tcGlsZShcbiAgICAgICAgQEFfSW5qZWN0KEFfQ2FsbGVyKSBub2RlOiBBcmVOb2RlLFxuICAgICAgICBAQV9JbmplY3QoQXJlU2NlbmUpIHNjZW5lOiBBcmVTY2VuZSxcblxuICAgICAgICBAQV9EZXBlbmRlbmN5LlBhcmVudCgpXG4gICAgICAgIEBBX0luamVjdChBcmVTY2VuZSkgcGFyZW50U2NlbmU6IEFyZVNjZW5lLFxuXG4gICAgICAgIEBBX0RlcGVuZGVuY3kuUGFyZW50KClcbiAgICAgICAgQEFfSW5qZWN0KEFyZVN0b3JlKSBwYXJlbnRTdG9yZTogQXJlU3RvcmUsXG5cbiAgICAgICAgQEFfSW5qZWN0KEFyZVByb3BzKSBwcm9wczogQXJlUHJvcHMsXG5cbiAgICAgICAgQEFfSW5qZWN0KEFyZVN0b3JlKSBzdG9yZTogQXJlU3RvcmUsXG4gICAgICAgIEBBX0luamVjdChBX0xvZ2dlcikgbG9nZ2VyOiBBX0xvZ2dlcixcbiAgICApIHtcbiAgICAgICAgdGhpcy5kZWJ1Z0xvZ2dlcihzY2VuZSwgYENvbXBpbGluZyBub2RlIHdpdGggQXJlQnJvd3NlckNvbXBpbGVyIGluIFNjZW5lIDwke3NjZW5lLm5hbWV9PmApO1xuXG5cbiAgICAgICAgbGV0IHRlbXBsYXRlID0gbm9kZS50ZW1wbGF0ZSB8fCAnJztcbiAgICAgICAgbGV0IHN0eWxlcyA9IG5vZGUuc3R5bGVzIHx8ICcnO1xuXG4gICAgICAgIGZvciAoY29uc3QgcHJvcCBvZiB0aGlzLmV4dHJhY3RQcm9wcyhub2RlLm1hcmt1cCkpIHtcblxuICAgICAgICAgICAgc3dpdGNoICh0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICAvLyAxKSBQcm9wIGlzIGEgc3RyaW5nIGJpbmRpbmdcbiAgICAgICAgICAgICAgICBjYXNlIHByb3AubmFtZS5zdGFydHNXaXRoKCc6JykgJiYgcHJvcC52YWx1ZS5zdGFydHNXaXRoKCdcXCcnKSAmJiBwcm9wLnZhbHVlLmVuZHNXaXRoKCdcXCcnKTpcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RyaW5nIGJpbmRpbmdcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuc2V0KHByb3AubmFtZS5zbGljZSgxKSwgcHJvcC52YWx1ZS5zbGljZSgxLCAtMSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgcHJvcC5uYW1lLnN0YXJ0c1dpdGgoJzonKSAmJiAhKHByb3AudmFsdWUuc3RhcnRzV2l0aCgnXFwnJykgJiYgcHJvcC52YWx1ZS5lbmRzV2l0aCgnXFwnJykpOlxuICAgICAgICAgICAgICAgICAgICAvLyBEeW5hbWljIGJpbmRpbmcgKGZvciBub3cgb25seSBzdHJpbmcgbGl0ZXJhbHMgYXJlIHN1cHBvcnRlZClcbiAgICAgICAgICAgICAgICAgICAgLy8gSW4gZnV0dXJlIGl0IHNob3VsZCBzdXBwb3J0IGV4cHJlc3Npb25zIGFuZCBkYXRhIHBhdGhzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGR5bmFtaWNWYWx1ZSA9IHBhcmVudFN0b3JlPy5nZXQocHJvcC52YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuc2V0KHByb3AubmFtZS5zbGljZSgxKSwgZHluYW1pY1ZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIC8vIC8vIDIpIEV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgLy8gY2FzZSBwcm9wLm5hbWUuc3RhcnRzV2l0aCgnQCcpOlxuICAgICAgICAgICAgICAgIC8vICAgICAvLyBFdmVudCBsaXN0ZW5lclxuICAgICAgICAgICAgICAgIC8vICAgICBjb25zdCBldmVudE5hbWUgPSBwcm9wLm5hbWUuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnN0IGhhbmRsZXJOYW1lID0gcHJvcC52YWx1ZTtcblxuXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCchISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhIUFkZGluZyBsaXN0ZW5lcjonLCBldmVudE5hbWUsICctPicsIGhhbmRsZXJOYW1lKTtcblxuICAgICAgICAgICAgICAgIC8vICAgICBhd2FpdCBzY2VuZS5hZGRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXJOYW1lLCBub2RlKTtcblxuICAgICAgICAgICAgICAgIC8vICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIC8vIDMpIFN0YW5kYXJkIHByb3BlcnR5XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5zZXQocHJvcC5uYW1lLCBwcm9wLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygncmVkJywgYFNldHRpbmcgcHJvcGVydHkgJyR7cHJvcC5uYW1lfScgd2l0aCB2YWx1ZSAnJHtwcm9wLnZhbHVlfScgaW4gY29tcG9uZW50IDwke25vZGUuYXNlaWQuZW50aXR5fT5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDEpIHJlcGxhY2UgYWxsIGludGVycG9sYXRpb25zIGluIHRoZSB0ZW1wbGF0ZVxuXG5cbiAgICAgICAgLy8gMikgcmVwbGFjZSBhbGwgc3R5bGUgaW50ZXJwb2xhdGlvbnMgaW4gdGhlIHN0eWxlc1xuICAgICAgICBmb3IgKGNvbnN0IGludGVycG9sYXRpb24gb2YgdGhpcy5leHRyYWN0SW50ZXJwb2xhdGlvbnMoc3R5bGVzKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzdG9yZS5nZXQoaW50ZXJwb2xhdGlvbik7XG5cbiAgICAgICAgICAgIHN0eWxlcyA9IHN0eWxlcy5yZXBsYWNlKG5ldyBSZWdFeHAoYHt7XFxcXHMqJHtpbnRlcnBvbGF0aW9ufVxcXFxzKn19YCwgJ2cnKSwgdmFsdWUgIT09IHVuZGVmaW5lZCA/IFN0cmluZyh2YWx1ZSkgOiAnJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzKSBBcHBseSBzdHlsZXMgdG8gdGhlIGRvY3VtZW50IGhlYWRcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHBsYWNlIGluIHNjZW5lIHdoZXJlIHRoaXMgbm9kZSBpcyBsb2NhdGVkXG4gICAgICAgICAqL1xuICAgICAgICBhd2FpdCBzY2VuZS5yZXNldCh0ZW1wbGF0ZSk7XG5cbiAgICAgICAgYXdhaXQgc2NlbmUuYWRkU3R5bGVzKG5vZGUsIHN0eWxlcyk7XG5cbiAgICAgICAgLy8gYXdhaXQgc2NlbmUuc3R5bGVzKHN0eWxlcyk7XG4gICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBzY2VuZSkge1xuXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGF3YWl0IHNjZW5lLmNoaWxkcmVuT2YoZWxlbWVudCk7XG5cbiAgICAgICAgICAgIC8vICAxKSBlbnN1cmUgdGhhdCB3ZSBvbmx5IHByb2Nlc3MgbGVhZiBub2RlcyAobm8gY2hpbGRyZW4pIGFuZCBub24tY3VzdG9tIGNvbXBvbmVudHNcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwIHx8IHRoaXMuaXNDdXN0b21Db21wb25lbnQoZWxlbWVudCkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cblxuICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wIG9mIHRoaXMuZXh0cmFjdFByb3BzKGVsZW1lbnQubWFya3VwKSkge1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgaW50ZXJwb2xhdGlvbiBvZiB0aGlzLmV4dHJhY3RJbnRlcnBvbGF0aW9ucyhlbGVtZW50Lm1hcmt1cCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbdGFyZ2V0LCBwcm9wZXJ0eV0gPSBpbnRlcnBvbGF0aW9uLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlOiBhbnk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdwcm9wcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BzLmdldChwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGF0YSc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHN0b3JlLmdldChwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICBUcnkgcHJvcHMgZmlyc3QsIHRoZW4gc3RvcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcHMuZ2V0KGludGVycG9sYXRpb24pIHx8IHN0b3JlLmdldChpbnRlcnBvbGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gZWxlbWVudC5tYXJrdXAucmVwbGFjZShuZXcgUmVnRXhwKGB7e1xcXFxzKiR7aW50ZXJwb2xhdGlvbn1cXFxccyp9fWAsICdnJyksIHZhbHVlICE9PSB1bmRlZmluZWQgPyBTdHJpbmcodmFsdWUpIDogJycpO1xuXG4gICAgICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5yZXBsYWNlKGVsZW1lbnQubWFya3VwLCB0ZW1wbGF0ZSk7XG4gICAgICAgICAgICB9XG5cblxuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVycyBvZiB0aGlzLmV4dHJhY3RFdmVudHMoZWxlbWVudC5tYXJrdXApKSB7XG5cbiAgICAgICAgICAgICAgICBhd2FpdCBzY2VuZS5hZGRMaXN0ZW5lcihsaXN0ZW5lcnMubmFtZSwgbGlzdGVuZXJzLmhhbmRsZXIsIG5vZGUsIGVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kZWJ1Z0xvZ2dlcihzY2VuZSwgYFtDb21waWxlIC0+IEFERCAtPiBMaXN0ZW5lcl0gJyR7bGlzdGVuZXJzLm5hbWV9JyB3aXRoIGhhbmRsZXIgJyR7bGlzdGVuZXJzLmhhbmRsZXJ9JyBpbiBjb21wb25lbnQgPCR7bm9kZS5hc2VpZC5lbnRpdHl9PiBmb3IgZWxlbWVudCA8JHtlbGVtZW50LmFzZWlkLmVudGl0eX0+IEFTRUlEICcke2VsZW1lbnQuYXNlaWQudG9TdHJpbmcoKX0nYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG5cblxuICAgICAgICB0aGlzLmRlYnVnTG9nZ2VyKHNjZW5lLCBgTm9kZSA8JHtub2RlLmFzZWlkLmVudGl0eX0+IGNvbXBpbGVkIHN1Y2Nlc3NmdWxseS5gKTtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgQXJlTm9kZVxuICAgICAqL1xuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQXJlTm9kZUZlYXR1cmVzLm9uVXBkYXRlLFxuICAgICAgICBzY29wZTogW0FyZU5vZGVdXG4gICAgfSlcbiAgICBhc3luYyB1cGRhdGUoKSB7XG5cbiAgICB9XG5cblxuICAgIEBBX0ZlYXR1cmUuRXh0ZW5kKHtcbiAgICAgICAgbmFtZTogQV9UWVBFU19fRW50aXR5RmVhdHVyZXMuREVTVFJPWSxcbiAgICAgICAgc2NvcGU6IFtBcmVOb2RlXVxuICAgIH0pXG4gICAgYXN5bmMgZGVzdHJveSgpIHtcblxuICAgIH1cbn0iLCAiaW1wb3J0IHsgQV9Db25jZXB0LCBBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZLCBBX0NvbnRhaW5lciwgQV9Db250ZXh0IH0gZnJvbSBcIkBhZGFhcy9hLWNvbmNlcHRcIlxuaW1wb3J0IHsgQV9Db25maWcsIEFfTG9nZ2VyLCBBX0xPR0dFUl9ERUZBVUxUX0xFVkVMLCBBX0xPR0dFUl9FTlZfS0VZUywgQV9Qb2x5ZmlsbCwgQ29uZmlnUmVhZGVyLCB9IGZyb20gXCJAYWRhYXMvYS11dGlsc1wiXG5pbXBvcnQgeyBTaWduSW5Db21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL1NpZ25JbkNvbXBvbmVudC5jb21wb25lbnRcIlxuaW1wb3J0IHsgQUJ0biB9IGZyb20gXCIuL2NvbXBvbmVudHMvQS1CdG4uY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBSW5wdXQgfSBmcm9tIFwiLi9jb21wb25lbnRzL0EtSW5wdXQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBcmVBcHAgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb250YWluZXJzL0FyZUFwcC9BcmVBcHAuY29udGFpbmVyXCI7XG5pbXBvcnQgeyBBcmVCcm93c2VyQ29tcGlsZXIgfSBmcm9tIFwiQGFkYWFzL2FyZS9jb21wb25lbnRzL0FyZUJyb3dzZXJDb21waWxlci9BcmVCcm93c2VyQ29tcGlsZXIuY29tcG9uZW50XCI7XG5cblxuLy8gLy8gIFRPRE86IEZpeCBmb3IgYnVpbGQgc3lzdGVtIC0tLVxuLy8gd2luZG93LnByb2Nlc3MgPSB7IGVudjogeyBOT0RFX0VOVjogJ3Byb2R1Y3Rpb24nIH0sIGN3ZDogKCkgPT4gXCIvXCIgfSBhcyBhbnk7IC8vIC0tLSBJR05PUkUgLS0tXG4vLyB3aW5kb3cuX19kaXJuYW1lID0gXCIvXCI7IC8vIC0tLSBJR05PUkUgLS0tXG5cbihhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBuZXcgQXJlQXBwKHtcbiAgICAgICAgICAgIG5hbWU6ICdBUkUgSnVtcHN0YXJ0JyxcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgLy8gQWxsb3dlZCBFbnRpdGllcyBcbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgLy8gLi4uLi4uLi4uLi4uXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIC8vIEFsbG93ZWQgQ29tbWFuZHMgXG4gICAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgICAgIC8vIC4uLi4uLi4uLi4uLlxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICAvLyBVSSBDb21wb25lbnRzIFxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICBTaWduSW5Db21wb25lbnQsXG4gICAgICAgICAgICAgICAgQUJ0bixcbiAgICAgICAgICAgICAgICBBSW5wdXQsXG5cbiAgICAgICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgICAgICAgICAgLy8gQWRkb25zIFxuICAgICAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgICAgICBBX1BvbHlmaWxsLFxuICAgICAgICAgICAgICAgIENvbmZpZ1JlYWRlcixcbiAgICAgICAgICAgICAgICAvLyBBX1NlcnZlclByb3h5XG4gICAgICAgICAgICAgICAgQXJlQnJvd3NlckNvbXBpbGVyLFxuICAgICAgICAgICAgICAgIEFfTG9nZ2VyXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBmcmFnbWVudHM6IFtcbiAgICAgICAgICAgICAgICBuZXcgQV9Db25maWcoe1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgQV9VSV9NT1VOVF9QT0lOVDogJ2Etcm9vdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBbQV9MT0dHRVJfRU5WX0tFWVMuTE9HX0xFVkVMXTogJ2RlYnVnJyxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBjb25jZXB0ID0gbmV3IEFfQ29uY2VwdCh7XG4gICAgICAgICAgICBuYW1lOiAnYWRhYXMtYXJlLWV4YW1wbGUtanVtcHN0YXJ0JyxcbiAgICAgICAgICAgIGZyYWdtZW50czogW25ldyBBX0NvbmZpZyh7XG4gICAgICAgICAgICAgICAgdmFyaWFibGVzOiBbJ0NPTkZJR19WRVJCT1NFJywgJ0RFVl9NT0RFJ10gYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgQ09ORklHX1ZFUkJPU0U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIERFVl9NT0RFOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSldLFxuICAgICAgICAgICAgY29tcG9uZW50czogW0FfTG9nZ2VyLCBDb25maWdSZWFkZXIsIEFfUG9seWZpbGxdLFxuICAgICAgICAgICAgY29udGFpbmVyczogW2NvbnRhaW5lcl1cbiAgICAgICAgfSlcblxuXG4gICAgICAgIGF3YWl0IGNvbmNlcHQubG9hZCgpO1xuICAgICAgICBhd2FpdCBjb25jZXB0LnN0YXJ0KCk7XG5cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IEFfQ29udGV4dC5yb290LnJlc29sdmU8QV9Mb2dnZXI+KEFfTG9nZ2VyKSE7XG4gICAgICAgIGxvZ2dlci5lcnJvcihlcnJvcik7XG4gICAgfVxuXG5cblxufSkoKTsiXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7OztBQUFPLElBQUEsS0FBQSxPQUFBO0FBQUEsSUFBQSxJQUFBLHdCQUFBQSxJQUFBLE1BQUEsR0FBQUEsSUFBQSxRQUFBLEVBQUEsT0FBQSxHQUFBLGNBQUEsS0FBQSxDQUFBLEdBQUE7QUFBQSxJQUFNQyxJQUFxQyxFQWE5QyxnQkFBZ0Isa0JBUWhCLHNCQUFzQix3QkFJdEIsdUJBQXVCLHlCQUt2Qix1QkFBdUIseUJBSXZCLDZCQUE2Qiw4QkFDakM7QUFuQ08sSUEwQ01DLEtBQTJDLENBQ3BERCxFQUFtQyxnQkFDbkNBLEVBQW1DLHNCQUNuQ0EsRUFBbUMsdUJBQ25DQSxFQUFtQyx1QkFFbkNBLEVBQW1DLDJCQUN2QztBQ3FDTyxJQUFLRSxNQUFBQSxRQUlSQSxFQUFBLGNBQWMsZUFJZEEsRUFBQSxhQUFhLGNBSWJBLEVBQUEsWUFBWSxhQUlaQSxFQUFBLGNBQWMsZUFJZEEsRUFBQSxTQUFTLFVBcEJEQSxJQUFBQSxNQUFBLENBQUEsQ0FBQTtBRHRGTDtBRUtBLElBQU1DLE1BQU4sV0FHMEU7RUFIMUUsY0FBQTtBQUtILFNBQVUsT0FBcUUsb0JBQUk7RUFBQTtFQVFuRixDQUFDLE9BQU8sUUFBUSxJQUF5RTtBQUNyRixRQUFNQyxJQUFXLEtBQUssS0FBSyxRQUFBO0FBQzNCLFdBQU8sRUFDSCxNQUFNQyxFQUFBLE1BQU1ELEVBQVMsS0FBQSxHQUFmLE1BQUEsRUFDVjtFQUNKO0VBYUEsS0FDSUUsR0FDcUI7QUFDckIsV0FBQSxLQUFLLE9BQU8sSUFBSSxJQUFJQSxFQUFLLElBQUksR0FFdEI7RUFDWDtFQVNBLElBQW1DQyxH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QUFJRCxHQUFTO0FBQUEsUUFDckIsV0FBVyxDQUFDLGtCQUFrQixVQUFVO0FBQUEsUUFDeEMsVUFBVTtBQUFBLFVBQ04sZ0JBQWdCO0FBQUEsVUFDaEIsVUFBVTtBQUFBLFFBQ2Q7QUFBQSxNQUNKLENBQUMsQ0FBQztBQUFBLE1BQ0YsWUFBWSxDQUFDRCxJQUFVRCxJQUFjLENBQVU7QUFBQSxNQUMvQyxZQUFZLENBQUMsU0FBUztBQUFBLElBQzFCLENBQUM7QUFHRCxVQUFNLFFBQVEsS0FBSztBQUNuQixVQUFNLFFBQVEsTUFBTTtBQUFBLEVBR3hCLFNBQVMsT0FBTztBQUNaLFVBQU0sU0FBUyxFQUFVLEtBQUssUUFBa0JDLEVBQVE7QUFDeEQsV0FBTyxNQUFNLEtBQUs7QUFBQSxFQUN0QjtBQUlKLEdBQUc7IiwKICAibmFtZXMiOiBbIm0iLCAiQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFUyIsICJBX0NPTlNUQU5UU19fREVGQVVMVF9FTlZfVkFSSUFCTEVTX0FSUkFZIiwgIkFfVFlQRVNfX0ZlYXR1cmVTdGF0ZSIsICJfQV9NZXRhIiwgIml0ZXJhdG9yIiwgIl9fbmFtZSIsICJtZXRhIiwgImtleSIsICJ2YWx1ZSIsICJpbmhlcml0ZWRWYWx1ZSIsICJuYW1lIiwgInJlc3VsdHMiLCAicmVnZXgiLCAib2JqIiwgImsiLCAidiIsICJpdGVtIiwgInJlcyIsICJqc29uIiwgIkFfTWV0YSIsICJBX1RZUEVTX19FbnRpdHlNZXRhS2V5IiwgIkFfVFlQRVNfX0VudGl0eUZlYXR1cmVzIiwgIkFfVFlQRVNfX0NvbnRhaW5lck1ldGFLZXkiLCAiQV9UWVBFU19fQ29tcG9uZW50TWV0YUtleSIsICJfYSIsICJfQV9Db21wb25lbnRNZXRhIiwgImhhbmRsZXIiLCAiZmVhdHVyZSIsICJzdGVwcyIsICJleHRlbnNpb25zIiwgImV4dGVuc2lvbiIsICJhYnN0cmFjdGlvbiIsICJhYnN0cmFjdGlvbnMiLCAiaW5qZWN0aW9ucyIsICJhcmdzIiwgIkFfQ29tcG9uZW50TWV0YSIsICJfQV9Db250YWluZXIiLCAiQV9Db250ZXh0IiwgImNvbmZpZyIsICJzY29wZSIsICJBX0ZlYXR1cmUiLCAiQV9Db250YWluZXIiLCAiX0FfQ29udGFpbmVyTWV0YSIsICJBX0NvbnRhaW5lck1ldGEiLCAiX0FfRm9ybWF0dGVySGVscGVyIiwgInN0ciIsICJwYXJ0IiwgImluZGV4IiwgIkFfRm9ybWF0dGVySGVscGVyIiwgIl9BX0lkZW50aXR5SGVscGVyIiwgInBhcnRzIiwgInRpbWUiLCAicmFuZG9tIiwgImlkIiwgInRpbWVQYXJ0IiwgInJhbmRvbVBhcnQiLCAibnVtYmVyIiwgIm1heFplcm9zIiwgImZvcm1hdHRlZE51bWJlciIsICJBX0lkZW50aXR5SGVscGVyIiwgIkFfQ09OU1RBTlRTX19FUlJPUl9DT0RFUyIsICJBX0NPTlNUQU5UU19fRVJST1JfREVTQ1JJUFRJT04iLCAiX0FfRXJyb3IiLCAicGFyYW0xIiwgInBhcmFtMiIsICJBX1R5cGVHdWFyZHMiLCAiZXJyb3IiLCAiQVNFSUQiLCAibWVzc2FnZSIsICJzZXJpYWxpemVkIiwgInRpdGxlIiwgImRlc2NyaXB0aW9uIiwgInBhcmFtcyIsICJyb290RXJyb3IiLCAiQV9FcnJvciIsICJfQVNFSURfRXJyb3IiLCAiQVNFSURfRXJyb3IiLCAiX0FTRUlEIiwgImlkZW50aXR5IiwgImNvbmNlcHQiLCAiYm9keSIsICJ2ZXJzaW9uIiwgImVudGl0eSIsICJpZENhbmRpZGF0ZSIsICJzaGFyZCIsICJfQV9FbnRpdHlFcnJvciIsICJBX0VudGl0eUVycm9yIiwgIl9BX0VudGl0eSIsICJwcm9wcyIsICJ4IiwgImFzZWlkIiwgIm5ld0VudGl0eSIsICJBX0VudGl0eSIsICJfQV9FbnRpdHlNZXRhIiwgIkFfRW50aXR5TWV0YSIsICJfQV9GcmFnbWVudCIsICJBX0ZyYWdtZW50IiwgIl9BX0NvbW1vbkhlbHBlciIsICJyZXNvbHZlIiwgImNoaWxkQ2xhc3MiLCAicGFyZW50Q2xhc3MiLCAiY3VycmVudCIsICJpbnB1dCIsICJwYXRocyIsICJyZXN1bHQiLCAicmVtb3ZlUHJvcGVydGllcyIsICJ0YXJnZXQiLCAiY3VyclBhdGgiLCAiY3VycktleSIsICJwYXRoIiwgInBhdGhLZXlzIiwgInNvdXJjZSIsICJ2aXNpdGVkIiwgImNsb25lIiwgImNvbXBvbmVudCIsICJVTktOT1dOIiwgIkFOT05ZTU9VUyIsICJmbkFueSIsICJtYXRjaCIsICJvYmpBbnkiLCAiQV9Db21tb25IZWxwZXIiLCAiX0FfU2NvcGVFcnJvciIsICJBX1Njb3BlRXJyb3IiLCAiX0FfU2NvcGUiLCAiX2NvbXBvbmVudHMiLCAiX2Vycm9ycyIsICJfZW50aXRpZXMiLCAiZW50IiwgIl9mcmFnbWVudHMiLCAiX21ldGEiLCAiZnJhZ21lbnQiLCAicGFyYW0iLCAicGFyZW50IiwgImNpcmN1bGFyQ2hlY2siLCAiY3RvciIsICJmb3VuZCIsICJmIiwgImUiLCAiYyIsICJhbm90aGVyU2NvcGUiLCAiaW5zdHJ1Y3Rpb25zIiwgImNvbXBvbmVudE5hbWUiLCAiaXNzdWVyIiwgInF1ZXJ5IiwgImNvdW50IiwgImZyYWdtZW50SW5zdGFuY2VQcmVzZW50ZWQiLCAiZWwiLCAicmVzb2x2ZWRBcmdzIiwgImFyZyIsICJkZXBlbmRlbmN5IiwgInJlcXVpcmUiLCAiY3JlYXRlIiwgImRlZmF1bHRBcmdzIiwgIm5ld0RlcGVuZGVuY3kiLCAibmV3Q29tcG9uZW50IiwgIkFfQ29tcG9uZW50IiwgImFjYyIsICJpbmhlcml0YW5jZUNoYWluIiwgImNoYWluIiwgIkFfU2NvcGUiLCAiX0FfQ2FsbGVyRXJyb3IiLCAiQV9DYWxsZXJFcnJvciIsICJfQV9DYWxsZXIiLCAiQV9DYWxsZXIiLCAiX0FfVHlwZUd1YXJkcyIsICJpbnN0YW5jZSIsICJfQV9GZWF0dXJlRXJyb3IiLCAiQV9GZWF0dXJlRXJyb3IiLCAiQV9GZWF0dXJlX0RlZmluZSIsICJwcm9wZXJ0eUtleSIsICJkZXNjcmlwdG9yIiwgIm1ldGFLZXkiLCAiZXhpc3RlZE1ldGEiLCAiaW52b2tlIiwgIm9yaWdpbmFsTWV0aG9kIiwgIkFfRmVhdHVyZV9FeHRlbmQiLCAidGFyZ2V0UmVnZXhwIiwgImJlaGF2aW9yIiwgImJlZm9yZSIsICJhZnRlciIsICJvdmVycmlkZSIsICJpbmNsdWRlIiwgImV4Y2x1ZGUiLCAidGhyb3dPbkVycm9yIiwgImJ1aWxkVGFyZ2V0UmVnZXhwIiwgImV4aXN0ZWREZWZpbml0aW9ucyIsICJleGlzdGVkTWV0YVZhbHVlIiwgImV4aXN0ZWRJbmRleCIsICJpbmNsdWRlUGFydCIsICJleGNsdWRlUGFydCIsICJwYXR0ZXJuIiwgIkFfVFlQRVNfX0FfU3RhZ2VfU3RhdHVzIiwgIl9BX1N0YWdlRXJyb3IiLCAiQV9TdGFnZUVycm9yIiwgIl9BX1N0YWdlIiwgInN0ZXAiLCAicmVzb2x2ZXJDb25zdHJ1Y3RvciIsICJ0YXJnZXRTY29wZSIsICJwYXJlbnRTY29wZSIsICJvZmZzZXQiLCAiY2FsbEFyZ3MiLCAicmVqZWN0IiwgIndyYXBwZWRFcnJvciIsICJBX1N0YWdlIiwgIl9BX1N0ZXBNYW5hZ2VyRXJyb3IiLCAiX2EiLCAiX0FfU3RlcHNNYW5hZ2VyIiwgImVudGl0aWVzIiwgInN0ZXAiLCAiaSIsICJzZWxmIiwgInMiLCAiZW50aXR5IiwgImVudGl0eUlkIiwgInRhcmdldCIsICJzb3VyY2UiLCAicGF0dGVybiIsICJyZWdleCIsICJub2RlIiwgIm5laWdoYm9yIiwgImZlYXR1cmUiLCAiaWQiLCAiQV9TdGFnZSIsICJfX25hbWUiLCAiQV9TdGVwc01hbmFnZXIiLCAiX0FfRmVhdHVyZSIsICJwYXJhbXMiLCAiQV9GZWF0dXJlX0RlZmluZSIsICJBX0ZlYXR1cmVfRXh0ZW5kIiwgIkFfQ29udGV4dCIsICJBX0ZlYXR1cmVFcnJvciIsICJBX1Njb3BlIiwgImNvbXBvbmVudFNjb3BlIiwgImV4dGVybmFsU2NvcGUiLCAiZXJyb3IiLCAiQV9DYWxsZXIiLCAiQV9Db21wb25lbnQiLCAiQV9UeXBlR3VhcmRzIiwgInNjb3BlIiwgInRlbXBsYXRlIiwgInN0YWdlIiwgInN0YWdlSW5kZXgiLCAicmVhc29uIiwgIkFfRmVhdHVyZSIsICJfQV9Db21wb25lbnQiLCAiX0FfQ29udGV4dEVycm9yIiwgIkFfRXJyb3IiLCAiQV9Db250ZXh0RXJyb3IiLCAiX0FfQ29udGV4dCIsICJuYW1lIiwgIkFfQ09OU1RBTlRTX19ERUZBVUxUX0VOVl9WQVJJQUJMRVMiLCAidGVzdEVudmlyb25tZW50IiwgImNvbXBvbmVudCIsICJjb21wb25lbnROYW1lIiwgIkFfQ29tbW9uSGVscGVyIiwgImluc3RhbmNlIiwgImltcG9ydGluZyIsICJuZXdTY29wZSIsICJwYXJhbTEiLCAicHJvcGVydHkiLCAibWV0YVR5cGUiLCAiQV9Db250YWluZXJNZXRhIiwgIkFfQ29tcG9uZW50TWV0YSIsICJBX0VudGl0eU1ldGEiLCAiZm91bmQiLCAiQV9Gb3JtYXR0ZXJIZWxwZXIiLCAiQV9NZXRhIiwgImluaGVyaXRNZXRhIiwgImNhbGxOYW1lIiwgInN0ZXBzIiwgImNtcCIsICJtZXRhIiwgImRlY2xhcmF0aW9uIiwgIml0ZW1zIiwgIml0ZW0iLCAiY3VycmVudENsYXNzIiwgIm90aGVyIiwgIm90aGVyQ2xhc3MiLCAibWV0YUtleSIsICJBX0VudGl0eSIsICJBX0NvbnRhaW5lciIsICJhYnN0cmFjdGlvbiIsICJwYXJhbSIsICJfQV9BYnN0cmFjdGlvbkVycm9yIiwgIkFfQWJzdHJhY3Rpb25FcnJvciIsICJBX0Fic3RyYWN0aW9uX0V4dGVuZCIsICJjb25maWciLCAicHJvcGVydHlLZXkiLCAiZGVzY3JpcHRvciIsICJzZXROYW1lIiwgImV4aXN0ZWRNZXRhIiwgImV4aXN0ZWRNZXRhVmFsdWUiLCAiZXhpc3RlZEluZGV4IiwgIl9BX0Fic3RyYWN0aW9uIiwgImNvbnRhaW5lciIsICJBX0Fic3RyYWN0aW9uIiwgIkFfVFlQRVNfX0NvbmNlcHRBYnN0cmFjdGlvbnMiLCAiQV9UWVBFU19fQ29uY2VwdE1ldGFLZXkiLCAiX0FfQ29uY2VwdCIsICJwcm9wcyIsICJmcmFnbWVudCIsICJtZXRob2QiLCAiQV9Db25jZXB0IiwgIl9BX0NvbmNlcHRNZXRhIiwgImNvbnRhaW5lcnMiLCAiX2EiLCAiX0FfRGVwZW5kZW5jeUVycm9yIiwgIkFfRXJyb3IiLCAiX19uYW1lIiwgIkFfRGVwZW5kZW5jeUVycm9yIiwgIkFfRGVwZW5kZW5jeV9EZWZhdWx0IiwgImFyZ3MiLCAidGFyZ2V0IiwgIm1ldGhvZE5hbWUiLCAicGFyYW1ldGVySW5kZXgiLCAiY29tcG9uZW50TmFtZSIsICJBX0NvbW1vbkhlbHBlciIsICJBX1R5cGVHdWFyZHMiLCAibWV0aG9kIiwgIm1ldGFLZXkiLCAiZXhpc3RlZE1ldGEiLCAiQV9Db250ZXh0IiwgIkFfTWV0YSIsICJwYXJhbXNBcnJheSIsICJBX0RlcGVuZGVuY3lfTG9hZCIsICJwYXRoIiwgIkFfRGVwZW5kZW5jeV9QYXJlbnQiLCAibGF5ZXJPZmZzZXQiLCAiQV9EZXBlbmRlbmN5X1JlcXVpcmUiLCAiX0FfRGVwZW5kZW5jeSIsICJuYW1lIiwgIkFfRGVwZW5kZW5jeSIsICJfQV9JbmplY3RFcnJvciIsICJBX0luamVjdEVycm9yIiwgIkFfSW5qZWN0IiwgInBhcmFtMSIsICJwYXJhbTIiLCAiX0FfRXhlY3V0aW9uQ29udGV4dCIsICJfYSIsICJBX0ZyYWdtZW50IiwgIm5hbWUiLCAiZGVmYXVsdHMiLCAiQV9NZXRhIiwgImtleSIsICJ2YWx1ZSIsICJfX25hbWUiLCAiQV9FeGVjdXRpb25Db250ZXh0IiwgIl9BX09wZXJhdGlvbkNvbnRleHQiLCAib3BlcmF0aW9uIiwgInBhcmFtcyIsICJlcnJvciIsICJyZXN1bHQiLCAiQV9PcGVyYXRpb25Db250ZXh0IiwgIl9BX0NoYW5uZWxFcnJvciIsICJBX0Vycm9yIiwgIm9yaWdpbmFsRXJyb3IiLCAiY29udGV4dCIsICJBX1R5cGVHdWFyZHMiLCAiQV9DaGFubmVsRXJyb3IiLCAiQV9DaGFubmVsRmVhdHVyZXMiLCAiQV9DaGFubmVsUmVxdWVzdFN0YXR1c2VzIiwgIl9BX0NoYW5uZWxSZXF1ZXN0IiwgImV4aXN0ZWQiLCAiQV9DaGFubmVsUmVxdWVzdCIsICJfQV9DaGFubmVsIiwgIkFfQ29tcG9uZW50IiwgImFyZ3MiLCAicmVxdWVzdFNjb3BlIiwgIkFfU2NvcGUiLCAiQV9JZGVudGl0eUhlbHBlciIsICJBX0NvbnRleHQiLCAiY2hhbm5lbEVycm9yIiwgIm1lc3NhZ2UiLCAiX19kZWNvcmF0ZUNsYXNzIiwgIkFfRmVhdHVyZSIsICJBX0NvbW1hbmRfU3RhdHVzIiwgIkFfQ29tbWFuZFRyYW5zaXRpb25zIiwgIkFfQ29tbWFuZEZlYXR1cmVzIiwgIkFfQ29tbWFuZEV2ZW50IiwgIl9BX0NvbW1hbmRFcnJvciIsICJfYSIsICJBX0Vycm9yIiwgIl9fbmFtZSIsICJBX0NvbW1hbmRFcnJvciIsICJfQV9TdGF0ZU1hY2hpbmVFcnJvciIsICJBX1N0YXRlTWFjaGluZUVycm9yIiwgIkFfU3RhdGVNYWNoaW5lRmVhdHVyZXMiLCAiX0FfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbiIsICJBX09wZXJhdGlvbkNvbnRleHQiLCAicGFyYW1zIiwgIkFfU3RhdGVNYWNoaW5lVHJhbnNpdGlvbiIsICJfYiIsICJfYyIsICJfZCIsICJfQV9TdGF0ZU1hY2hpbmUiLCAiQV9Db21wb25lbnQiLCAiYXJncyIsICJmcm9tIiwgInRvIiwgInByb3BzIiwgInRyYW5zaXRpb25OYW1lIiwgIkFfRm9ybWF0dGVySGVscGVyIiwgInRyYW5zaXRpb24iLCAic2NvcGUiLCAiQV9TY29wZSIsICJBX0NvbnRleHQiLCAiZXJyb3IiLCAid3JhcHBlZEVycm9yIiwgIl9fZGVjb3JhdGVDbGFzcyIsICJBX0ZlYXR1cmUiLCAiQV9TdGF0ZU1hY2hpbmUiLCAiQV9DT05TVEFOVFNfX0NPTkZJR19FTlZfVkFSSUFCTEVTX0FSUkFZIiwgIl9BX0NvbmZpZ0Vycm9yIiwgIl9hIiwgIkFfRXJyb3IiLCAiX19uYW1lIiwgIkFfQ29uZmlnRXJyb3IiLCAiX0FfQ29uZmlnIiwgIkFfRXhlY3V0aW9uQ29udGV4dCIsICJjb25maWciLCAiQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFU19BUlJBWSIsICJrZXkiLCAiQV9Gb3JtYXR0ZXJIZWxwZXIiLCAicHJvcGVydHkiLCAidmFsdWUiLCAiYXJyYXkiLCAiQV9Db25maWciLCAiX0FfQ29uZmlnIiwgIkFfTE9HR0VSX0NPTE9SUyIsICJBX0xPR0dFUl9TQUZFX1JBTkRPTV9DT0xPUlMiLCAiQV9MT0dHRVJfQU5TSSIsICJBX0xPR0dFUl9USU1FX0ZPUk1BVCIsICJBX0xPR0dFUl9GT1JNQVQiLCAiQV9MT0dHRVJfRU5WX0tFWVMiLCAiQV9Mb2dnZXIiLCAiX2EiLCAiQV9Db21wb25lbnQiLCAic2NvcGUiLCAiY29uZmlnIiwgImNvbmZpZ1Njb3BlQ29sb3IiLCAiY29uZmlnTG9nQ29sb3IiLCAiY29tcGxlbWVudGFyeUNvbG9ycyIsICJzdHIiLCAiaGFzaCIsICJpIiwgImNoYXIiLCAic2NvcGVOYW1lIiwgInNhZmVDb2xvcnMiLCAiY29sb3JJbmRleCIsICJjb2xvclBhaXJzIiwgInBhaXJJbmRleCIsICJ0b3RhbExlbmd0aCIsICJ0b3RhbFBhZGRpbmciLCAibGVmdFBhZGRpbmciLCAicmlnaHRQYWRkaW5nIiwgIm1lc3NhZ2VDb2xvciIsICJhcmdzIiwgInRpbWVTdHJpbmciLCAic2NvcGVQYWRkaW5nIiwgImlzTXVsdGlBcmciLCAiYXJnIiwgInNob3VsZEFkZE5ld2xpbmUiLCAiQV9FcnJvciIsICJvYmoiLCAiQV9Db250ZXh0IiwgImpzb25TdHJpbmciLCAic2VlbiIsICJrZXkiLCAidmFsdWUiLCAiZm9ybWF0dGVkIiwgImxvZ01ldGhvZCIsICJwYXJhbTEiLCAiZXJyb3IiLCAidGltZSIsICJsaW5lIiwgImluZGV4IiwgIm5vdyIsICJtaW51dGVzIiwgInNlY29uZHMiLCAibWlsbGlzZWNvbmRzIiwgIl9fbmFtZSIsICJfX2RlY29yYXRlQ2xhc3MiLCAiX19kZWNvcmF0ZVBhcmFtIiwgIkFfSW5qZWN0IiwgIkFfU2NvcGUiLCAiQV9Db25maWciLCAiX2IiLCAiX2MiLCAiX2QiLCAiX2UiLCAiX2YiLCAiX2ciLCAiX2giLCAiX2kiLCAiX2oiLCAiX2siLCAiX0FfQ29tbWFuZCIsICJBX0VudGl0eSIsICJwYXJhbXMiLCAiQV9FeGVjdXRpb25Db250ZXh0IiwgInRyYW5zaXRpb24iLCAibG9nZ2VyIiwgInN0YXRlTWFjaGluZSIsICJvcGVyYXRpb24iLCAiY29udGV4dCIsICJyZXNvbHZlIiwgInJlamVjdCIsICJvbkJlZm9yZUV4ZWN1dGVGZWF0dXJlIiwgIkFfRmVhdHVyZSIsICJvbkV4ZWN1dGVGZWF0dXJlIiwgIm9uQWZ0ZXJFeGVjdXRlRmVhdHVyZSIsICJ0YXJnZXRFcnJvciIsICJBX0NvbW1hbmRFcnJvciIsICJyZXN1bHQiLCAiZXZlbnQiLCAibGlzdGVuZXIiLCAibmV3RW50aXR5IiwgIkFfU3RhdGVNYWNoaW5lIiwgInNlcmlhbGl6ZWQiLCAiYXR0YWNoZWRTY29wZSIsICJBX1N0YXRlTWFjaGluZVRyYW5zaXRpb24iLCAiQV9EZXBlbmRlbmN5IiwgIl9BX0ZTUG9seWZpbGxDbGFzcyIsICJfYSIsICJsb2dnZXIiLCAiQV9Db250ZXh0IiwgIl9fbmFtZSIsICJwYXRoIiwgImVuY29kaW5nIiwgIkFfRlNQb2x5ZmlsbENsYXNzIiwgIl9BX0NyeXB0b1BvbHlmaWxsQ2xhc3MiLCAiZnNQb2x5ZmlsbCIsICJjcnlwdG8iLCAidGV4dCIsICJhbGdvcml0aG0iLCAiZmlsZVBhdGgiLCAicmVzb2x2ZSIsICJyZWplY3QiLCAiaGFzaCIsICJmaWxlU3RyZWFtIiwgImRhdGEiLCAiZXJyIiwgImVycm9yIiwgImhhc2hCdWZmZXIiLCAiaGFzaEFycmF5IiwgImhhc2hCYXNlNjQiLCAiQV9DcnlwdG9Qb2x5ZmlsbENsYXNzIiwgIl9BX0h0dHBQb2x5ZmlsbENsYXNzIiwgImh0dHBNb2R1bGUiLCAib3B0aW9ucyIsICJjYWxsYmFjayIsICJ1cmwiLCAiaXNIdHRwcyIsICJtb2NrUmVzcG9uc2UiLCAiZXZlbnQiLCAiaGFuZGxlciIsICJkZXN0IiwgIkFfSHR0cFBvbHlmaWxsQ2xhc3MiLCAiX0FfSHR0cHNQb2x5ZmlsbENsYXNzIiwgImh0dHBzTW9kdWxlIiwgIkFfSHR0cHNQb2x5ZmlsbENsYXNzIiwgIl9BX1BhdGhQb2x5ZmlsbENsYXNzIiwgInBhdGhzIiwgInJlc29sdmVkUGF0aCIsICJleHQiLCAiYmFzZSIsICJwYXJ0cyIsICJmcm9tIiwgInRvIiwgIm5hbWUiLCAicGF0aE9iamVjdCIsICJBX1BhdGhQb2x5ZmlsbENsYXNzIiwgIl9BX1VybFBvbHlmaWxsQ2xhc3MiLCAidXJsTW9kdWxlIiwgInVybFN0cmluZyIsICJ1cmxPYmplY3QiLCAiQV9VcmxQb2x5ZmlsbENsYXNzIiwgIl9BX0J1ZmZlclBvbHlmaWxsQ2xhc3MiLCAiYnVmZmVyTW9kdWxlIiwgInNpemUiLCAiZmlsbCIsICJidWZmZXIiLCAib2JqIiwgImxpc3QiLCAidG90YWxMZW5ndGgiLCAibGVuZ3RoIiwgInN1bSIsICJidWYiLCAicmVzdWx0IiwgIm9mZnNldCIsICJBX0J1ZmZlclBvbHlmaWxsQ2xhc3MiLCAiX0FfUHJvY2Vzc1BvbHlmaWxsQ2xhc3MiLCAiY29kZSIsICJhcmdzIiwgIkFfUHJvY2Vzc1BvbHlmaWxsQ2xhc3MiLCAiQV9Qb2x5ZmlsbCIsICJBX0NvbXBvbmVudCIsICJfX2RlY29yYXRlQ2xhc3MiLCAiQV9Db25jZXB0IiwgIl9fZGVjb3JhdGVQYXJhbSIsICJBX0luamVjdCIsICJBX0xvZ2dlciIsICJDb25maWdSZWFkZXIiLCAicG9seWZpbGwiLCAiQV9DT05TVEFOVFNfX0RFRkFVTFRfRU5WX1ZBUklBQkxFU19BUlJBWSIsICJBX0NPTlNUQU5UU19fQ09ORklHX0VOVl9WQVJJQUJMRVNfQVJSQVkiLCAiY29udGFpbmVyIiwgImNvbnRleHQiLCAiY29uZmlnIiwgIkFfQ29uZmlnIiwgInJvb3REaXIiLCAia2V5IiwgInByb3BlcnR5IiwgInZhcmlhYmxlcyIsICJzdGFydFBhdGgiLCAiQV9Db250YWluZXIiLCAiQV9TY29wZSIsICJBX0RlcGVuZGVuY3kiLCAiX0ZpbGVDb25maWdSZWFkZXIiLCAiQV9Gb3JtYXR0ZXJIZWxwZXIiLCAiZnMiLCAiRmlsZUNvbmZpZ1JlYWRlciIsICJfRU5WQ29uZmlnUmVhZGVyIiwgImZlYXR1cmUiLCAibGluZSIsICJ2YWx1ZSIsICJhbGxWYXJpYWJsZXMiLCAidmFyaWFibGUiLCAiQV9GZWF0dXJlIiwgIkVOVkNvbmZpZ1JlYWRlciIsICJfQV9Db25maWdMb2FkZXIiLCAibmV3Q29uZmlnIiwgIkFfQ29uZmlnRXJyb3IiLCAiQV9TY29wZUVycm9yIiwgIkFfTG9nZ2VyRW52VmFyaWFibGVzIiwgIkFfTG9nZ2VyRW52VmFyaWFibGVzQXJyYXkiLCAiX0FfTWFuaWZlc3RFcnJvciIsICJfYSIsICJBX0Vycm9yIiwgIl9fbmFtZSIsICJBX01hbmlmZXN0RXJyb3IiLCAiX0FfTWFuaWZlc3RDaGVja2VyIiwgIm1hbmlmZXN0IiwgImNvbXBvbmVudCIsICJtZXRob2QiLCAiY2hlY2tFeGNsdXNpb24iLCAidGFyZ2V0IiwgInJlc3VsdCIsICJBX01hbmlmZXN0Q2hlY2tlciIsICJfQV9NYW5pZmVzdCIsICJBX0ZyYWdtZW50IiwgImNvbmZpZyIsICJBX1R5cGVHdWFyZHMiLCAiaXRlbSIsICJjb21wb25lbnRSZWdleCIsICJtZXRob2RSZWdleCIsICJtZXRob2RDb25maWciLCAiY3RvciIsICJjb21wb25lbnRzIiwgInBhdHRlcm5zIiwgInN0ciIsICJjb21wb25lbnRDdG9yIiwgInF1ZXJ5IiwgImNvbXBvbmVudE5hbWUiLCAibWV0aG9kTmFtZSIsICJ0YXJnZXROYW1lIiwgIm1hdGNoaW5nUnVsZXMiLCAicnVsZSIsICJhIiwgImIiLCAiYUlzR2VuZXJhbCIsICJiSXNHZW5lcmFsIiwgIkFfTWVtb3J5RmVhdHVyZXMiLCAiX0FfTWVtb3J5Q29udGV4dCIsICJfYSIsICJBX0ZyYWdtZW50IiwgInBhcmFtIiwgInZhbHVlIiwgIl9fbmFtZSIsICJBX01lbW9yeUNvbnRleHQiLCAiX0FfTWVtb3J5RXJyb3IiLCAiQV9FcnJvciIsICJBX01lbW9yeUVycm9yIiwgIl9iIiwgIl9jIiwgIl9kIiwgIl9lIiwgIl9mIiwgIl9nIiwgIl9oIiwgIl9pIiwgIl9BX01lbW9yeSIsICJBX0NvbXBvbmVudCIsICJhcmdzIiwgImNvbnRleHQiLCAiQV9Db250ZXh0IiwgIm9wZXJhdGlvbiIsICJzY29wZSIsICJBX1Njb3BlIiwgImVycm9yIiwgImluaXRFcnJvciIsICJkZXN0cm95RXJyb3IiLCAia2V5IiwgIkFfT3BlcmF0aW9uQ29udGV4dCIsICJnZXRFcnJvciIsICJzZXRFcnJvciIsICJkcm9wRXJyb3IiLCAiY2xlYXJFcnJvciIsICJzZXJpYWxpemVFcnJvciIsICJfX2RlY29yYXRlQ2xhc3MiLCAiQV9GZWF0dXJlIiwgIl9fZGVjb3JhdGVQYXJhbSIsICJBX0luamVjdCIsICJBX0RlcGVuZGVuY3kiLCAiQV9TZXJ2aWNlRmVhdHVyZXMiLCAiX0FfU2VydmljZV9FcnJvciIsICJfYSIsICJBX0Vycm9yIiwgIl9fbmFtZSIsICJBX1NlcnZpY2VfRXJyb3IiLCAiX2IiLCAiX2MiLCAiX2QiLCAiX2UiLCAiX2YiLCAiX2ciLCAiX2giLCAiX2kiLCAiX2oiLCAiX0FfU2VydmljZSIsICJBX0NvbnRhaW5lciIsICJlcnJvciIsICJ3cmFwcGVkRXJyb3IiLCAicG9seWZpbGwiLCAiYXJncyIsICJBX1BvbHlmaWxsIiwgImxvZ2dlciIsICJfX2RlY29yYXRlQ2xhc3MiLCAiQV9Db25jZXB0IiwgIkFfRmVhdHVyZSIsICJfX2RlY29yYXRlUGFyYW0iLCAiQV9JbmplY3QiLCAiQV9Mb2dnZXIiLCAiQV9TZXJ2aWNlIiwgIl9BX0RlZmVycmVkIiwgInJlc29sdmUiLCAicmVqZWN0IiwgInZhbHVlIiwgInJlYXNvbiIsICJBX0RlZmVycmVkIiwgIl9BX1NjaGVkdWxlT2JqZWN0IiwgIm1zIiwgImFjdGlvbiIsICJjb25maWciLCAiQV9TY2hlZHVsZU9iamVjdCIsICJfQV9TY2hlZHVsZSIsICJBX0NvbXBvbmVudCIsICJkYXRlIiwgImNhbGxiYWNrIiwgInRpbWVzdGFtcCIsICJBX1R5cGVHdWFyZHMiLCAiVCIsICJUIiwgIlQiLCAiX2EiLCAiZXQiLCAiVCIsICJnIiwgIl9hIiwgImciLCAiVCIsICJBIiwgIlQiLCAiZyIsICJpZSJdCn0K
